[
    {
        "content": "<p>Hi Lloyd–not clear on how to create an extension?  </p>\n<p>Q1. Do we need to PUBLISH it? Where we need to publish it? <br>\nQ2. Do we create a profile? <br>\nQ3. Do we state in the capability statement?</p>\n<p><a href=\"https://fhirblog.com/2017/04/12/so-you-want-to-create-a-fhir-extension/\" target=\"_blank\" title=\"https://fhirblog.com/2017/04/12/so-you-want-to-create-a-fhir-extension/\">https://fhirblog.com/2017/04/12/so-you-want-to-create-a-fhir-extension/</a></p>\n<p>Could you please give an example, for creating an Extension for any ONE of the following  ATTRIBUTION column? Assuming we can associate it with one of  the FHIR resources, for example patient.</p>\n<p>1. Column name: snp_member; Description: Specialneedplans (for a member)<br>\n&lt;patient.<br>\n &lt;extension&gt;<br>\n    &lt;url value=\"http://hl7.org/fhir/StructureDefinition/special-needplans-Member\"/&gt;<br>\n    &lt;valueString value=\"plan0001\"/&gt;<br>\n&lt;/extension&gt;<br>\n&lt;/patient&gt;</p>\n<p>2. Column name: li_subsidy; Description: Low income subsidy (provided to medicare enrolled low income)<br>\n3. Column name: ym_attribution; Description: Year and month of attribution<br>\n4. Column name: att_method; Description: Attribution method<br>\n5. Column name: qtr_active; Description: Quarter in which patient is active</p>",
        "id": 170553845,
        "sender_full_name": "Roney A",
        "timestamp": 1562774569
    },
    {
        "content": "<p>1. Yes.  Ina registry of your choice.  Simplified or <a href=\"http://registry.fhir.org\" target=\"_blank\" title=\"http://registry.fhir.org\">registry.fhir.org</a> are options <br>\n2. Yes.  Extension definitions are profiles on the Extension data type <br>\n3. No need<br>\nNot at my computer.  Take a look at the numerous extension definitions in the core spec to use as examples.</p>",
        "id": 170577375,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1562790866
    },
    {
        "content": "<blockquote>\n<p>1. Yes.  Ina registry of your choice.  Simplified or <a href=\"http://registry.fhir.org\" target=\"_blank\" title=\"http://registry.fhir.org\">registry.fhir.org</a> are options <br>\n2. Yes.  Extension definitions are profiles on the Extension data type <br>\n3. No need<br>\nNot at my computer.  Take a look at the numerous extension definitions in the core spec to use as examples.</p>\n</blockquote>\n<p>Thank you Lloyd.</p>",
        "id": 170595801,
        "sender_full_name": "Roney A",
        "timestamp": 1562810412
    },
    {
        "content": "<p>Hi Lloyd, could you please confirm if this is the correct approach to create an extension for social history element “OnsetYear”. Is the resource type correct? Or the resource type should be “patient”?</p>\n<p>Please let me know.</p>\n<hr>\n<p>{<br>\n  \"resourceType\": \"StructureDefinition\",<br>\n  \"extension\": [<br>\n    {<br>\n      \"url\": \"http:/test.com/fhir/StructureDefinition/cfAuthor\",<br>\n      \"valueBoolean\": true<br>\n    },<br>\n    {<br>\n      \"url\": \"<a href=\"http://clinfhir.com/StructureDefinition/userEmail\" target=\"_blank\" title=\"http://clinfhir.com/StructureDefinition/userEmail\">http://clinfhir.com/StructureDefinition/userEmail</a>\",<br>\n      \"valueString\": “Roney@mymail.com”<br>\n    }<br>\n  ],<br>\n  \"id\": \"socialhistoryOnsetYear\",<br>\n  \"url\": \"<a href=\"http://fhirtest.uhn.ca/baseDstu3/StructureDefinition/socialhistoryOnsetYear\" target=\"_blank\" title=\"http://fhirtest.uhn.ca/baseDstu3/StructureDefinition/socialhistoryOnsetYear\">http://fhirtest.uhn.ca/baseDstu3/StructureDefinition/socialhistoryOnsetYear</a>\",<br>\n  \"name\": \"socialhistoryOnsetYear\",<br>\n  \"status\": \"draft\",<br>\n  \"abstract\": false,<br>\n  \"publisher\": “Roney”,<br>\n  \"contextType\": \"resource\",<br>\n  \"description\": \" This column will capture the year which was specified by the patient.\",<br>\n  \"context\": [<br>\n    \"<a href=\"http://StructureDefinition.name\" target=\"_blank\" title=\"http://StructureDefinition.name\">StructureDefinition.name</a>\"<br>\n  ],<br>\n  \"kind\": \"complex-type\",<br>\n  \"type\": \"Extension\",<br>\n  \"baseDefinition\": \"<a href=\"http://hl7.org/fhir/StructureDefinition/Extension\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/Extension\">http://hl7.org/fhir/StructureDefinition/Extension</a>\",<br>\n  \"derivation\": \"constraint\",<br>\n  \"snapshot\": {<br>\n    \"element\": [<br>\n      {<br>\n        \"path\": \"Extension\",<br>\n        \"label\": \"date0\",<br>\n        \"min\": 0,<br>\n        \"max\": \"1\",<br>\n        \"definition\": \"No Description\",<br>\n        \"base\": {<br>\n          \"path\": \"Extension\",<br>\n          \"min\": 0,<br>\n          \"max\": \"1\"<br>\n        },<br>\n        \"id\": \"Extension0\"<br>\n      },<br>\n      {<br>\n        \"path\": \"Extension.url\",<br>\n        \"label\": \"date0\",<br>\n        \"representation\": [<br>\n          \"xmlAttr\"<br>\n        ],<br>\n        \"definition\": \"No Description\",<br>\n        \"min\": 1,<br>\n        \"max\": \"1\",<br>\n        \"type\": [<br>\n          {<br>\n            \"code\": \"uri\"<br>\n          }<br>\n        ],<br>\n        \"fixedUri\": \"date0\",<br>\n        \"base\": {<br>\n          \"path\": \"Extension.url\",<br>\n          \"min\": 1,<br>\n          \"max\": \"1\"<br>\n        },<br>\n        \"id\": \"Extension.url0\"<br>\n      },<br>\n      {<br>\n        \"path\": \"Extension.valueDate\",<br>\n        \"label\": \"date0\",<br>\n        \"definition\": \"No Description\",<br>\n        \"min\": 0,<br>\n        \"max\": \"1\",<br>\n        \"type\": [<br>\n          {<br>\n            \"code\": \"date\"<br>\n          }<br>\n        ],<br>\n        \"base\": {<br>\n\"path\": \"Extension.valueDate\",<br>\n          \"min\": 0,<br>\n          \"max\": \"1\"<br>\n        },<br>\n        \"id\": \"Extension.value[x]0\"<br>\n      }<br>\n    ]<br>\n  }<br>\n}</p>",
        "id": 171121544,
        "sender_full_name": "Roney A",
        "timestamp": 1563401108
    },
    {
        "content": "<p>The fixedUri can't be date0 - it needs to be the canonical URL for the extension.  You need to assert that Extension.value[x] is mandatory and can only be a date (and that Extension.extension is prohibited).  Finally, why are you communicating your email as an extension instead of in StructureDefinition.contact - which is intended for that purpose?</p>",
        "id": 171123498,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563403239
    },
    {
        "content": "<blockquote>\n<p>The fixedUri can't be date0 - it needs to be the canonical URL for the extension.  You need to assert that Extension.value[x] is mandatory and can only be a date (and that Extension.extension is prohibited).  Finally, why are you communicating your email as an extension instead of in StructureDefinition.contact - which is intended for that purpose?</p>\n</blockquote>\n<p>Thank you Lloyd.  Agree on the contact and others.  ALL was generated by default using <a href=\"http://clinfhir.com/EDBuilder.html\" target=\"_blank\" title=\"http://clinfhir.com/EDBuilder.html\">http://clinfhir.com/EDBuilder.html</a>.</p>\n<p>Please see responses below:</p>\n<p>Not clear on #2: Hi Lloyd, could you please provide an example: Extension.value[x] is mandatory and can only be a date (and that Extension.extension is prohibited)</p>\n<p>Question 1: Where do we see Extension.extension? Sorry, if I missed that.<br>\nQuestion 2: Could you please give an example of creating Extension.value[x] is mandatory and can only be a date<br>\nQuestion 3: Although the following URL refers to \"Extension.extension\"</p>\n<p><a href=\"https://fhir-ru.github.io/extension-rendered-value.json.html\" target=\"_blank\" title=\"https://fhir-ru.github.io/extension-rendered-value.json.html\">https://fhir-ru.github.io/extension-rendered-value.json.html</a><br>\n{<br>\n      \"id\" : \"Extension.extension\",<br>\n      \"path\" : \"Extension.extension\",<br>\n      \"slicing\" : {<br>\n        \"discriminator\" : [{<br>\n          \"type\" : \"value\",<br>\n          \"path\" : \"url\"<br>\n        }</p>\n<p>Correction 1: &lt;fixedUri value=\"http://example.org/fhir/StructureDefinition/socialhistoryOnsetYear\"/&gt;</p>\n<p>Correction 3:  StructureDefinition.contact</p>\n<p>Definition  Contact details to assist a user in finding and communicating with the publisher.</p>\n<p>Control 0..*<br>\nType    ContactDetail<br>\nSummary true<br>\nComments     May be a web site, an email address, a telephone number, etc.</p>",
        "id": 171128580,
        "sender_full_name": "Roney A",
        "timestamp": 1563409308
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> Some feedback :)</p>",
        "id": 171130496,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563412054
    },
    {
        "content": "<p>1. I don't see Extension.extension - but I should<br>\n2. There should be two elements.  The first should say Extension.value[x] and declare a type of 'date'.  The second should reflect the constraints on Extension.valueDate<br>\n3. Not understanding the question</p>",
        "id": 171130560,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563412131
    },
    {
        "content": "<p>oops - been a while since I looked at that app! I'll take a look :) (thanks for the feedback)...</p>",
        "id": 171130797,
        "sender_full_name": "David Hay",
        "timestamp": 1563412492
    },
    {
        "content": "<blockquote>\n<p>1. I don't see Extension.extension - but I should<br>\n2. There should be two elements.  The first should say Extension.value[x] and declare a type of 'date'.  The second should reflect the constraints on Extension.valueDate<br>\n3. Not understanding the question</p>\n</blockquote>\n<p>Thank you Lloyd for the clarification. On #3, not clear what does it mean by \"Extension.extension is prohibited\"?</p>",
        "id": 171133991,
        "sender_full_name": "Roney A",
        "timestamp": 1563418291
    },
    {
        "content": "<blockquote>\n<p>oops - been a while since I looked at that app! I'll take a look :) (thanks for the feedback)...</p>\n</blockquote>\n<p>Thank you Dave for your prompt clarification. As you mentioned, people tend to use \"Forge\" for these things. Could you please provide a link for Forge? Also is that a free open source tool?  Would I be able to create extensions and profiles. I would appreciate if you can provide a valid link for \"Forge\".   Regards, Roney</p>",
        "id": 171134121,
        "sender_full_name": "Roney A",
        "timestamp": 1563418544
    },
    {
        "content": "<p>Extension.extension should be listed - and should have max=0</p>",
        "id": 171134898,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563419933
    },
    {
        "content": "<p>If you have a value, you can't have child extensions (and vice versa)</p>",
        "id": 171134906,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563419949
    },
    {
        "content": "<blockquote>\n<p>Extension.extension should be listed - and should have max=0</p>\n</blockquote>\n<p>Thank you Lloyd. Appreciate that.</p>",
        "id": 171136808,
        "sender_full_name": "Roney A",
        "timestamp": 1563423225
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>oops - been a while since I looked at that app! I'll take a look :) (thanks for the feedback)...</p>\n</blockquote>\n<p>Thank you Dave for your prompt clarification. As you mentioned, people tend to use \"Forge\" for these things. Could you please provide a link for Forge? Also is that a free open source tool?  Would I be able to create extensions and profiles. I would appreciate if you can provide a valid link for \"Forge\".   Regards, Roney</p>\n</blockquote>\n<p>Thank you David. Please ignore the request. Sincerely, Roney</p>",
        "id": 171136874,
        "sender_full_name": "Roney A",
        "timestamp": 1563423340
    },
    {
        "content": "<blockquote>\n<p>Extension.extension should be listed - and should have max=0</p>\n</blockquote>\n<p>Hi Lloyd, looking at the Extension example at FHIR site: <a href=\"http://hl7.org/fhir/stu3/extensibility-examples.html\" target=\"_blank\" title=\"http://hl7.org/fhir/stu3/extensibility-examples.html\">http://hl7.org/fhir/stu3/extensibility-examples.html</a>, following are my questions on section 2.5.2.1.5 Using it in a Patient Profile.</p>\n<p>1. Once an extension is created, for example: \"socialhistoryOnsetYear\"<br>\n2. Do we have to create a \"new profile\" for patient using StructureDefinition on the patient resource to use this new extension?<br>\n3. Is there a \"MASTER\" profile for all the FHIR resources?  For example  Medication, Patient. <br>\nLooking at the current FHIR R4 Profiles, for example, for Patient, I see there is a Patient HL7 Extensions (<a href=\"http://hl7.org/fhir/patient-extensions.html\" target=\"_blank\" title=\"http://hl7.org/fhir/patient-extensions.html\">http://hl7.org/fhir/patient-extensions.html</a>).  For Medication there is NONE. Assuming, that the \"Profile\" in FHIR exists only if there is an Extension created. Is that the correct understanding?</p>",
        "id": 171187903,
        "sender_full_name": "Roney A",
        "timestamp": 1563468313
    },
    {
        "content": "<p>2. No need to have a profile unless you want to enforce something around the use of the extension<br>\n3. There's a structure definition that defines each resource, but that wouldn't list all of the possible extensions (as those are continuously being created and could be created by anyone; also there are no constraints the base resource would want/need to assert about the use of any particular extensions)</p>",
        "id": 171190580,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563470285
    },
    {
        "content": "<blockquote>\n<p>2. No need to have a profile unless you want to enforce something around the use of the extension<br>\n3. There's a structure definition that defines each resource, but that wouldn't list all of the possible extensions (as those are continuously being created and could be created by anyone; also there are no constraints the base resource would want/need to assert about the use of any particular extensions)</p>\n</blockquote>\n<p>Thank you Lloyd. It makes sense.</p>",
        "id": 171200990,
        "sender_full_name": "Roney A",
        "timestamp": 1563477656
    }
]