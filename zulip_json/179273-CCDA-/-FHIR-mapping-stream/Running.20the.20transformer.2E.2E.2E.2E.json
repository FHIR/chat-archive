[
    {
        "content": "<p>I'm sure that I'm <em>this</em> close to getting the transformer to run with my maps, but there is something wrong and I don't get much of an error response back:<br>\nStart Transform <a href=\"http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument\" target=\"_blank\" title=\"http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument\">http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument</a><br>\nGroup : Bundle<br>\n  rule : \"rule_type\"<br>\n ...Failure: null</p>\n<p>I made a simple map that has just one rule that sets a target variable to a constant:</p>\n<p>map \"<a href=\"http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument\" target=\"_blank\" title=\"http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument\">http://hl7.org/fhir/cda/mapping/dischargeSummaryDocument</a>\" = \"DischangeSummaryDocument from CDA to FHIR\"</p>\n<p>uses \"<a href=\"http://hl7.org/fhir/cda/StructureDefinition/ClinicalDocument\" target=\"_blank\" title=\"http://hl7.org/fhir/cda/StructureDefinition/ClinicalDocument\">http://hl7.org/fhir/cda/StructureDefinition/ClinicalDocument</a>\" alias ClinicalDocument as source<br>\nuses \"<a href=\"http://hl7.org/fhir/StructureDefinition/Bundle\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/Bundle\">http://hl7.org/fhir/StructureDefinition/Bundle</a>\" alias Bundle as target</p>\n<p>group for type+types Bundle<br>\n    input \"source\" : ClinicalDocument as source<br>\n    input \"target\" : Bundle as target</p>\n<div class=\"codehilite\"><pre><span></span>&quot;rule_type&quot;: for source make target.type = &quot;document&quot;\n</pre></div>\n\n\n<p>The \"Failure: null\" is less than helpful so I'm wondering if it has something to do with not being able to create a Bundle resource as a target?</p>",
        "id": 153956004,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1525460595
    },
    {
        "content": "<p>Have you tried running it in Eclipse so you can see where it's erroring?</p>",
        "id": 153956007,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1525461397
    },
    {
        "content": "<p>no.  running it from the command-line using the pre-built jar</p>",
        "id": 153956008,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1525461430
    },
    {
        "content": "<p>okay, ran it from Eclipse and StructureMapUtilities line 1509 is throwing a FHIRException but gets a NullPointer when it's trying to create the exception text.</p>",
        "id": 153956038,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1525465258
    },
    {
        "content": "<p>if someone can let me know what it's looking for and what I'm not providing, that would be great.</p>",
        "id": 153956042,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1525465298
    },
    {
        "content": "<p>not sure which variable is null at line 1509. but your map requires that the bundle already exists - if you're using the validator, it doesn't already exist</p>",
        "id": 153956080,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1525490584
    },
    {
        "content": "<p>that's why the first item of detail in the maps I wrote to get going with is to create the bundle. Can you start from my maps?</p>",
        "id": 153956081,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1525490608
    },
    {
        "content": "<p>If I had your maps I could.  I don’t see any mapping files in the projects I’ve been told about</p>",
        "id": 153956206,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1525557096
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/ccda-on-fhir/resources/maps\" target=\"_blank\" title=\"https://github.com/HL7/ccda-on-fhir/resources/maps\">https://github.com/HL7/ccda-on-fhir/resources/maps</a></p>",
        "id": 153956240,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1525576737
    }
]