[
    {
        "content": "<p>Hi<br>\ni have a bundle within a composition resource. in this composition with sections and subsections defined. now i need to add a reference to a specific subsection identified by its id somewhere in a rule in my mapper without to reference the specific section as param.<br>\ni tried somthing like this:<br>\ngroup MyRule(source item : BackboneElement, source section : Section, target bundle : Bundle ){<br>\n  section.section as subsec where (id.value = 'subsection-id'), item as it -&gt; bundle.entry as e,<br>\n            e.resource =  create('Observation') as observ,<br>\n<a href=\"http://observ.id\">observ.id</a> = uuid() as uuid,<br>\n              observ.code as codeable, <br>\n                codeable.coding as coding,<br>\n                  coding.system = '<a href=\"http://mycodesysytem.com/cs\">http://mycodesysytem.com/cs</a>',<br>\n                  coding.code = 'question',<br>\n            e.fullUrl = append('urn:uuid:', uuid),<br>\n            subsec.entry = create('Reference') as reference,<br>\n              reference.type = 'Observation',<br>\n              reference.reference = append('urn:uuid:',uuid) then {<br>\n                it.text as txt -&gt; observ.note as note, note.text = txt;<br>\n                it.answer as answ then {<br>\n                  answ.value as val -&gt; observ.value = val;<br>\n                } \"value\";<br>\n            } \"reference\";<br>\n}<br>\nthe transformation to the StructureMap works wihout errors but the transformation gives me<br>\n\"Failed to call access method: org.hl7.fhir.exceptions.FHIRException: Rule \\\"reference\\\": not handled yet\"</p>\n<p>somebody an idea what to do? or is this not possible?</p>",
        "id": 259525715,
        "sender_full_name": "Roeland Luykx",
        "timestamp": 1635515026
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 259527320,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1635515728
    },
    {
        "content": "<p>one of the problems is for sure the section is source and also target.....<br>\nin principle i miss a target lookup</p>",
        "id": 259529983,
        "sender_full_name": "Roeland Luykx",
        "timestamp": 1635516742
    },
    {
        "content": "<p>on which rule is it failing within the rule \"reference\"?</p>",
        "id": 259530427,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1635516933
    },
    {
        "content": "<p>you cannot mix source and target ...</p>",
        "id": 259530467,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1635516958
    }
]