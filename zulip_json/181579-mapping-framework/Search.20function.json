[
    {
        "content": "<p>I'm running in some projects into the limitation that I would like to extend an already existing resource by adding content to it through some mappings. Based on the workflow of the mapping, I know that certain resources exist in the mapping environment (e.g. a Patient resource on the FHIR server where the StructureMap is executed). These resources might have been created based on different mapping sources / StructureMaps.</p>\n<p>Based on <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> proposal here on the \"Mapping Support API\": <a href=\"https://github.com/FHIR/interversion/blob/master/engine/readme.md#search\">https://github.com/FHIR/interversion/blob/master/engine/readme.md#search</a>, my idea would be to add some kind of \"search\" function:</p>\n<div class=\"codehilite\"><pre><span></span><code>group MapExistingResource(source src : MySource, target tgt : MyTarget)\n{\n    let patientCollection = search(&#39;Patient&#39;, &#39;?identifier=test&#39;);\n\n    patientCollection first as patient then\n    {\n        // tgt should contain\n        src -&gt; patient.&lt;element&gt; = ...;\n    }\n}\n</code></pre></div>\n\n\n<p>Any thoughts?</p>",
        "id": 201606124,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1592833038
    },
    {
        "content": "<p>CC: <span class=\"user-mention\" data-user-id=\"228947\">@SteffenWeber</span></p>",
        "id": 201606533,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1592833232
    },
    {
        "content": "<p>hmm. so I see that we have even less documentation about this than I thought</p>",
        "id": 201782920,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1592946260
    },
    {
        "content": "<p>Yeah, and Iâ€™m also not really happy of having to use a let statement at that point, but the options in the current syntax are somewhat limited I guess</p>",
        "id": 201783766,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1592946715
    },
    {
        "content": "<p>Just realized while trying to implement a prototype that the 'let' statement wouldn't be valid, see <a href=\"https://jira.hl7.org/browse/FHIR-21642\">https://jira.hl7.org/browse/FHIR-21642</a><br>\nHow would you otherwise get the result collection of the search on the source side of a statement?</p>",
        "id": 201912668,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1593038609
    },
    {
        "content": "<p>I like the idea <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 202916941,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1593947013
    }
]