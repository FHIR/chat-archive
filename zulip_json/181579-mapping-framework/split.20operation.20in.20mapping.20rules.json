[
    {
        "content": "<p>Hello all,</p>\n<p>In am trying to create Immunization resource using mapping rules.<br>\nIn Immunization resource doseQuantity is of  data type  SimpleQuantity.<br>\nIn my input json i have a field called dose which has both value an unit separated by a space between.</p>\n<p>For E.g. \"dose\" : \"&lt;Some Value&gt;  &lt;Unit&gt; \", here before writing the mapping  rule,  I want to split the field \"dose\" from input json based on space and get the value and unit.</p>\n<p>Is it possible to split any field based on a character/string  in mapping rules.</p>",
        "id": 246081717,
        "sender_full_name": "amit bodhwani",
        "timestamp": 1626348970
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"217312\">@Joee Garcia</span></p>",
        "id": 246100957,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1626358893
    },
    {
        "content": "<p>yes, but you would need to split it in the target, e.g. you can use the fhirPath functions substring and indexOf, see an example <a href=\"https://github.com/hl7ch/cda-fhir-maps/blob/1f68d51018c37c4a8f63eaf4b51f99274950bf14/input/maps/BundleToCdaCh.map#L62\">here</a></p>",
        "id": 246101391,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1626359055
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191478\">Oliver Egger</span> <a href=\"#narrow/stream/181579-mapping-framework/topic/split.20operation.20in.20mapping.20rules/near/246101391\">said</a>:</p>\n<blockquote>\n<p>yes, but you would need to split it in the target, e.g. you can use the fhirPath functions substring and indexOf, see an example <a href=\"https://github.com/hl7ch/cda-fhir-maps/blob/1f68d51018c37c4a8f63eaf4b51f99274950bf14/input/maps/BundleToCdaCh.map#L62\">here</a></p>\n</blockquote>\n<p>Hello <span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> ,<br>\nThank You for quick response , i tried this , but it is not working.</p>\n<p>src-&gt;tgt.doseQuantity = create('SimpleQuantity') as doseQuantity then{</p>\n<p>src.dose as dose-&gt;doseQuantity.value  = dose.substring(0,dose.indexOf(' ') -1) \"value\";<br>\nsrc.dose as dose-&gt;doseQuantity.unit = dose.substring(dose.indexOf(' ')) \"unit\";</p>\n<p>}\"doseQuantity\";</p>\n<p>Input : \"dose\" : \"0.5 ml\"</p>",
        "id": 246188725,
        "sender_full_name": "amit bodhwani",
        "timestamp": 1626416872
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"412080\">@amit bodhwani</span>  try to use the evaluate() function or the shortcut () of it, e.g: doseQuantity.value = (%dose.substring(0,%dose.indexOf(' ') -1)) \"value\";</p>",
        "id": 246195841,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1626423035
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191478\">Oliver Egger</span> <a href=\"#narrow/stream/181579-mapping-framework/topic/split.20operation.20in.20mapping.20rules/near/246195841\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"412080\">amit bodhwani</span>  try to use the evaluate() function or the shortcut () of it, e.g: doseQuantity.value = (%dose.substring(0,%dose.indexOf(' ') -1)) \"value\";</p>\n</blockquote>\n<p>Thank you for quick response <span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> , it works using shortcut operator.</p>",
        "id": 246197285,
        "sender_full_name": "amit bodhwani",
        "timestamp": 1626424228
    },
    {
        "content": "<p>on a slightly off topic/related question, is there any effort to pull together common FML helper functions (e.g. split() ) into a library?</p>",
        "id": 271282633,
        "sender_full_name": "Carl Leitner",
        "timestamp": 1644415706
    }
]