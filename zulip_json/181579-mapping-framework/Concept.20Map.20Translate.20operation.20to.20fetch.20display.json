[
    {
        "content": "<p>Hi, I am exploring the fhir mapping language which uses concept map to translate codes from one system to another, the $translate operation seems to work fine for code but it does not pull the display which limits the translation I guess. Is it intentional or is there a work around for this?</p>\n<p>My Fhir mapping snippet:<br>\ngroup ProcessVacCC(source src, target tgt) {<br>\nsrc.coding as sc -&gt; tgt.coding = translate(sc, '<a href=\"http://hl7.org/fhir/ConceptMap/CmapTest\">http://hl7.org/fhir/ConceptMap/CmapTest</a>');<br>\n}</p>\n<p>My ConceptMap<br>\n\"group\": [<br>\n{<br>\n\"source\": \"<a href=\"http://fkcfhir.org/fhir/cs/IntCode\">http://fkcfhir.org/fhir/cs/IntCode</a>\",<br>\n\"target\": \"<a href=\"http://hl7.org/fhir/sid/cvx\">http://hl7.org/fhir/sid/cvx</a>\",<br>\n\"element\": [<br>\n{<br>\n\"code\": \"IMed_Moderna1\",<br>\n\"display\": \"COVID-19 Vaccine-Moderna (Dose 1 of 2)\",<br>\n\"target\": [<br>\n{<br>\n\"code\": \"207\",<br>\n\"display\": \"COVID-19, mRNA, LNP-S, PF, 100, mcg/0.5 mL dose\",<br>\n\"equivalence\": \"equivalent\"<br>\n}<br>\n]<br>\n}<br>\n]</p>\n<p>Expected Output:<br>\n&lt;vaccineCode&gt;<br>\n&lt;coding&gt;<br>\n&lt;system value=\"http://hl7.org/fhir/sid/cvx\"/&gt;<br>\n&lt;code value=\"207\"/&gt;<br>\n&lt;display value=\"COVID-19, mRNA, LNP-S, PF, 100, mcg/0.5 mL dose\"/&gt;<br>\n&lt;/coding&gt;<br>\n&lt;/vaccineCode&gt;</p>\n<p>But only getting (no display being returned by $translate)<br>\n&lt;vaccineCode&gt;<br>\n&lt;coding&gt;<br>\n&lt;system value=\"http://hl7.org/fhir/sid/cvx\"/&gt;<br>\n&lt;code value=\"207\"/&gt;<br>\n&lt;/coding&gt;<br>\n&lt;/vaccineCode&gt;</p>\n<p>My expectation was that since the concept map captures source and target code &amp; display the translate should return display (when provided) that would help in transformations to be complete.</p>",
        "id": 243253026,
        "sender_full_name": "ravi.kuchi",
        "timestamp": 1624113710
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 243732942,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1624498288
    },
    {
        "content": "<p>don't know. what context is this?</p>",
        "id": 243743162,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1624512684
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , my use case is that I am transforming an internal code to a standard code while sending the info to an external organization. I am using FML to do the transformation, so my need here is invoke translate operation supported in FML to convert internal code and display to external code and display. The translate works fine for the code but it does not pick the display so looking if that is a miss or am I using the translate in FML properly <br>\nsrc.coding as sc -&gt; tgt.coding = translate(sc, '<a href=\"http://hl7.org/fhir/ConceptMap/CmapTest\">http://hl7.org/fhir/ConceptMap/CmapTest</a>');  // only code gets translated but display is not</p>",
        "id": 243806183,
        "sender_full_name": "ravi.kuchi",
        "timestamp": 1624549752
    },
    {
        "content": "<p>what code are you using?</p>",
        "id": 243811686,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1624552295
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I am using the ahdis project (<span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> ) at <a href=\"https://github.com/ahdis/matchbox/\">https://github.com/ahdis/matchbox/</a></p>",
        "id": 244710658,
        "sender_full_name": "ravi.kuchi",
        "timestamp": 1625236276
    }
]