[
    {
        "content": "<p>Hi! Is it possible to have a where condition on a target instance (in my example bundle) within the source content (part before the '-&gt;')?</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><code>group GenerateMedicationStatement(source supply : ClinicalDocument, target tgt : MedicationStatement, target patientResource : Patient,  target bundle : Bundle) {\nsupply.author where(bundle.entry.resource.organization.exists()) -&gt; bundle.entry as entry,\n                                                             ...... .......\n}\n</code></pre></div>\n<p>If it is possible, how should I modify the where part from my example, so that the where condition works on the target instance within the source content?</p>\n<p>Thanks in advance!</p>",
        "id": 236210845,
        "sender_full_name": "Alexander Dimitrov",
        "timestamp": 1619457417
    },
    {
        "content": "<p>i don't think this is or should be possible, the where applies to the source context.</p>",
        "id": 236217033,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1619459870
    },
    {
        "content": "<p>okay, thanks for the response! <br>\nand is it allowed to do this within the target context (part after the '-&gt;')? in my tests it unfortunately didnt seem to work</p>\n<p>I'm asking because I would want to use such a condition, so that for example the FHIR Mapping Language does not create new Organization resources, if there is already an existing one with the same identifier within my bundle of resources</p>",
        "id": 236221244,
        "sender_full_name": "Alexander Dimitrov",
        "timestamp": 1619461626
    },
    {
        "content": "<p>you don't have a where in the target transform <a href=\"https://www.hl7.org/fhir/mapping-language.html\">https://www.hl7.org/fhir/mapping-language.html</a></p>",
        "id": 236224903,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1619463139
    },
    {
        "content": "<p>At least in the .NET implementation you can use “%tgt” as a variable in your source where statement. Not sure if this works in Java, too.</p>",
        "id": 236227895,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1619464378
    }
]