[
    {
        "content": "<p>What does a \"delete\" action look like?  There are no examples in the spec.  \"resource\" is noted as being of type <code>object</code>, so it's not clear if I should say this: <code>\"resource\" : \"someId\"</code> or this <code>\"resource\":{\"id\": \"someId\"}</code></p>",
        "id": 153985595,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534115336
    },
    {
        "content": "<p>bump</p>",
        "id": 153986094,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534213307
    },
    {
        "content": "<p>For my system, at least, I'd prefer:<br>\n`\"resource\": {\"resourceType\": \"MedicationRequest\", \"id\": \"someId\" }</p>\n<p>Mind creating another gh issue? At the least, we could include this in the examples. It'd be good to get other's feedback as well.</p>",
        "id": 153986142,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1534215536
    },
    {
        "content": "<p>Done</p>",
        "id": 153986157,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534216005
    },
    {
        "content": "<p>Bumping this since it came up again today.  Lloyd had logged <a href=\"https://github.com/cds-hooks/docs/issues/400\">https://github.com/cds-hooks/docs/issues/400</a> around how suggested deletes are represented.  The short version is that the spec defines suggestion.action.resource as a json object, but the field description and example show that for deletes, resource is a FHIR relative reference (string).  <a href=\"https://cds-hooks.org/specification/current/#action\">https://cds-hooks.org/specification/current/#action</a></p>",
        "id": 222898652,
        "sender_full_name": "Dennis Patterson",
        "timestamp": 1610733848
    },
    {
        "content": "<p>Couple approaches being discussed on the issue + an open pull request.  Either we make a breaking change to the spec to represent resources consistently as an object (bare resource with resourceType and id fields on a delete), or swizzle some of the data models to more explicitly flex by type, somewhat analogous to FHIR resource definitions flexing by resourceType.  Again, refer to the issue and PR for details.  Please weigh in with thoughts!</p>",
        "id": 222898904,
        "sender_full_name": "Dennis Patterson",
        "timestamp": 1610733960
    },
    {
        "content": "<p>To consider a breaking change, we should understand how many people it would impact. If you're using a resource delete in a suggestion (or systemAction) right now, will you please weigh in and, if comfortable, share your opinion and use-case?</p>",
        "id": 222925566,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1610744899
    },
    {
        "content": "<p>Just want to note here that I got MedicationRequest.delete to work against <span class=\"user-mention\" data-user-id=\"194813\">@Steve Millard</span>'s endpoint using the method Steve was already using, and which I've written up in the PR. <br>\n<a href=\"/user_uploads/10155/N2K6qiwcd9E71C0CmBqOENcP/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/N2K6qiwcd9E71C0CmBqOENcP/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/N2K6qiwcd9E71C0CmBqOENcP/image.png\"></a></div>",
        "id": 222928682,
        "sender_full_name": "Matt Varghese",
        "timestamp": 1610746508
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191358\">@Dennis Patterson</span> , I updated my comment on GitHub issue <a href=\"https://github.com/cds-hooks/docs/issues/400\">https://github.com/cds-hooks/docs/issues/400</a> to say<br>\n<a href=\"/user_uploads/10155/Es0-br7kqV-hh4wnVrJ4u0PV/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Es0-br7kqV-hh4wnVrJ4u0PV/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/Es0-br7kqV-hh4wnVrJ4u0PV/image.png\"></a></div><p>I think this is really the problem with the existing model. Resource is an Object per CDS Hooks because CDS Hooks belligerently refuses to explicitly reference FHIR Types. But in reality, resource is a FHIR Object in any typed implementation. </p>\n<p>So having resource be object or string requires FHIR Objects to have a place for \"string\" type in it's inheritance model, which IMO is bad programming practice. So I'm going to request that we don't go that route.</p>\n<p>Also, in implementations where they rely on a library to bring in FHIR resources, they may not even have the ability to make such changes..</p>",
        "id": 222998769,
        "sender_full_name": "Matt Varghese",
        "timestamp": 1610822972
    }
]