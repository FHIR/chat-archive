[
    {
        "content": "<p>What are the plans for the cds-hooks sandbox wrt the upcoming connectathon in May?  I'd like to get some of our applications compatible with it so others can collaborate, but the 1.0 version of the sandbox seems to be a bit out of date (at least in the JWT handling).  It looks like there is a version 2.0 of the sandbox under development with more current JWT handling, but I don't know if it has been deployed anywhere.</p>",
        "id": 153953883,
        "sender_full_name": "Kevin Olbrich",
        "timestamp": 1524569845
    },
    {
        "content": "<p>The 2.0 version of the Sandbox is at <a href=\"https://cds-hooks.github.io/sandbox-2.0/\" target=\"_blank\" title=\"https://cds-hooks.github.io/sandbox-2.0/\">https://cds-hooks.github.io/sandbox-2.0/</a>. <span class=\"user-mention\" data-user-id=\"192599\">@Zach Plata</span> &amp; I are working to get it ready in time for the Connectathon so that it is up to date with the latest spec.</p>",
        "id": 153953930,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1524593583
    },
    {
        "content": "<p>Awesome!  Thanks <span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span>  and <span class=\"user-mention\" data-user-id=\"192599\">@Zach Plata</span></p>",
        "id": 153953931,
        "sender_full_name": "Kevin Olbrich",
        "timestamp": 1524593629
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span> I tried a quick test of the 2.0 sandbox, in prep for the connectathon.  It appears that this sandbox supports only https, not http.  This requires any participating CDS hook services to also support https.  This may be a requirement for CDS Hooks 1.0 security?  If so, would be good to communicate this requirement ahead of the connectathon.  I'll need to get https enabled on my server for CDS services...</p>",
        "id": 153954223,
        "sender_full_name": "Dave Carlson",
        "timestamp": 1524614511
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197476\">@Dave Carlson</span> - It supports HTTP too. The deployment link I posted was just the default Github Pages URL which is what you get by default. Once we swap the old Sandbox with the 2.0 version, both HTTP and HTTPS will be available.</p>",
        "id": 153954346,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1524691788
    },
    {
        "content": "<p>As an aside, you can always tell your browser to allow mixed mode connections; in other words, allow your browser to make an HTTP call from an HTTP website. This is a security risk but since the HTTP connection is to your CDS Service, it isn't a concern</p>",
        "id": 153954347,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1524691845
    },
    {
        "content": "<p>Thanks, Kevin.  I found the Chrome setting to allow mixed mode content, so it's working now.</p>",
        "id": 153954365,
        "sender_full_name": "Dave Carlson",
        "timestamp": 1524693290
    },
    {
        "content": "<p>Is the Sandbox 2.0 going to support editing the cds-service configurations, as the previous version did?</p>",
        "id": 153956987,
        "sender_full_name": "Jim Cain",
        "timestamp": 1525800676
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"193245\">@Jim Cain</span> , are you referring to editing the CDS Service \"definitions\" that come back from the discovery endpoints?</p>",
        "id": 153957039,
        "sender_full_name": "Zach Plata",
        "timestamp": 1525810204
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192599\">@Zach Plata</span> Yes, in the \"Configure CDS Services\" window.</p>",
        "id": 153957042,
        "sender_full_name": "Jim Cain",
        "timestamp": 1525810265
    },
    {
        "content": "<p>This piece of functionality wasn't originally planned due to the main part of this modal just being able to delete / toggle individual services. However it is possible to add this back. Mind logging a Github issue for it? <a href=\"https://github.com/cds-hooks/sandbox-2.0/issues\" target=\"_blank\" title=\"https://github.com/cds-hooks/sandbox-2.0/issues\">https://github.com/cds-hooks/sandbox-2.0/issues</a></p>\n<p>Out of curiosity, which part(s) of the service definition did you find most useful in editing from the old Sandbox?</p>",
        "id": 153957045,
        "sender_full_name": "Zach Plata",
        "timestamp": 1525810561
    },
    {
        "content": "<p>Actually I hadn't previously used the old Sandbox. We were discussing the absence of the \"sub\" attribute in the new sandbox and thought that adding something to the request body might be a useful workaround. Then we realized we couldn't edit the service def in the new sandbox.</p>",
        "id": 153957050,
        "sender_full_name": "Jim Cain",
        "timestamp": 1525811023
    },
    {
        "content": "<p>It would be easier to just add a hard-coded \"sub\" to the JWT payload instead of enabling the editing of the service defs.</p>",
        "id": 153957052,
        "sender_full_name": "Jim Cain",
        "timestamp": 1525811133
    },
    {
        "content": "<p>Ah, like the <code>sub</code> field in the JWT for a service request. This isn't exposed (in either Sandbox). The editing feature from the old Sandbox was just a way to edit the \"metadata\" that comes back from pinging the service discovery endpoint. You're probably looking for a way to edit the JWT that gets sent in requests. We could look at adding an option in the Sandbox to view the JWT header and payload and edit the fields there to be sent in future service requests? <span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span> thoughts on this?</p>",
        "id": 153957054,
        "sender_full_name": "Zach Plata",
        "timestamp": 1525811411
    },
    {
        "content": "<p>Yes, I'm referring to <code>sub</code> in the JWT payload. The 1.0 spec says that it's required, but the new sandbox does not include it.</p>",
        "id": 153957056,
        "sender_full_name": "Jim Cain",
        "timestamp": 1525811484
    },
    {
        "content": "<p>There is a thread on here about <code>sub</code>.</p>",
        "id": 153957057,
        "sender_full_name": "Jim Cain",
        "timestamp": 1525811513
    },
    {
        "content": "<p>I think an enhancement to inspect (and change!) the JWT makes sense. I can see how someone would want to change the JWT to set bad values to ensure that their CDS Service rejects requests with bad JWTs. Inspection of the JWT would be convenient (rather than copying/pasting the value to <a href=\"http://jwt.io\" target=\"_blank\" title=\"http://jwt.io\">jwt.io</a>)</p>",
        "id": 153957059,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1525811905
    },
    {
        "content": "<p>Issue logged around this JWT enhancement in the Sandbox: <a href=\"https://github.com/cds-hooks/sandbox-2.0/issues/32\" target=\"_blank\" title=\"https://github.com/cds-hooks/sandbox-2.0/issues/32\">https://github.com/cds-hooks/sandbox-2.0/issues/32</a></p>",
        "id": 153957060,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1525812337
    },
    {
        "content": "<p>Regarding the <code>sub</code> field, I had <span class=\"user-mention\" data-user-id=\"192599\">@Zach Plata</span> hold off on it (see <a href=\"https://github.com/cds-hooks/sandbox-2.0/issues/20#issuecomment-384654352\" target=\"_blank\" title=\"https://github.com/cds-hooks/sandbox-2.0/issues/20#issuecomment-384654352\">https://github.com/cds-hooks/sandbox-2.0/issues/20#issuecomment-384654352</a>) but we'll add it in quick and remove it later if we decide to remove it from the spec during this ballot resolution process</p>",
        "id": 153957061,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1525812421
    },
    {
        "content": "<p>That would be great. Thanks <span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span></p>",
        "id": 153957062,
        "sender_full_name": "Jim Cain",
        "timestamp": 1525812537
    },
    {
        "content": "<p><code>sub</code> field issue: <a href=\"https://github.com/cds-hooks/sandbox-2.0/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/sandbox-2.0/issues/33\">https://github.com/cds-hooks/sandbox-2.0/issues/33</a></p>",
        "id": 153957063,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1525812719
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193245\">@Jim Cain</span> - The <code>sub</code> field is being populated now (thanks <span class=\"user-mention\" data-user-id=\"192599\">@Zach Plata</span>!): <a href=\"https://github.com/cds-hooks/sandbox-2.0/pull/34\" target=\"_blank\" title=\"https://github.com/cds-hooks/sandbox-2.0/pull/34\">https://github.com/cds-hooks/sandbox-2.0/pull/34</a></p>",
        "id": 153957065,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1525814788
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span> and <span class=\"user-mention\" data-user-id=\"192599\">@Zach Plata</span> for the quick turnaround!</p>",
        "id": 153957066,
        "sender_full_name": "Jim Cain",
        "timestamp": 1525815210
    },
    {
        "content": "<p>Currently <a href=\"https://sandbox.cds-hooks.org/\" target=\"_blank\" title=\"https://sandbox.cds-hooks.org/\">https://sandbox.cds-hooks.org/</a> is not working for me on the \"Rx View\" tab</p>\n<div class=\"codehilite\"><pre><span></span>app.bundle.js:28 Uncaught (in promise) TypeError: Cannot read property &#39;prescriptionDates&#39; of undefined\n    at t.createFhirResource (app.bundle.js:28)\n    at Object.generateContext (app.bundle.js:95)\n</pre></div>\n\n\n<p>I'm guessing this relates to <a href=\"https://github.com/cds-hooks/sandbox/pull/98\" target=\"_blank\" title=\"https://github.com/cds-hooks/sandbox/pull/98\">https://github.com/cds-hooks/sandbox/pull/98</a> -- <span class=\"user-mention\" data-user-id=\"194178\">@Jonathan Percival</span>  <span class=\"user-mention\" data-user-id=\"228204\">@Jonathan Percival</span> are you seeing the same?</p>",
        "id": 171982904,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1564433940
    },
    {
        "content": "<p>I'm getting the same issue <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span></p>",
        "id": 172040057,
        "sender_full_name": "Jeremie Osaghae-Nosa",
        "timestamp": 1564495313
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> </p>\n<p>Looks like the merge of the pama branch wasn't correct. Here's the fix:</p>\n<p><a href=\"https://github.com/cds-hooks/sandbox/pull/106\" target=\"_blank\" title=\"https://github.com/cds-hooks/sandbox/pull/106\">https://github.com/cds-hooks/sandbox/pull/106</a></p>",
        "id": 172042683,
        "sender_full_name": "JP",
        "timestamp": 1564496803
    },
    {
        "content": "<p>Trying to install the cds sandbox local and getting lots of requiring peer dependencies. However, even when those are installed it is still failing. Wondering if anyone had any similar issues.</p>",
        "id": 172052605,
        "sender_full_name": "Jeremie Osaghae-Nosa",
        "timestamp": 1564503558
    },
    {
        "content": "<p>Can you share an error log?</p>",
        "id": 172086433,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1564530708
    },
    {
        "content": "<p>Thanks for tracking this down <span class=\"user-mention\" data-user-id=\"228204\">@Jonathan Percival</span> !</p>",
        "id": 172086527,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1564530814
    },
    {
        "content": "<p>Lesson learned at CMS Connectathon, if you're getting an error:<br>\n<code>Access to XMLHttpRequest at '&lt;your server name&gt;' from origin 'https://sandbox.cds-hooks.org' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: Redirect is not allowed for a preflight request.</code></p>\n<p>add the following HTTP headers on the responses:<br>\n<code>Access-Control-Allow-Methods: GET, POST, OPTIONS\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Headers: Origin, Content-Type, X-Auth-Token, Authorization</code></p>\n<p>If you're not able to modify those headers in your code, you can also workaround the issue by launching Chrome with the following option:<br>\n<code>\"C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\" --disable-web-security --user-data-dir=$HOME\\chrome</code></p>",
        "id": 185129693,
        "sender_full_name": "Christopher Stehno",
        "timestamp": 1578500781
    }
]