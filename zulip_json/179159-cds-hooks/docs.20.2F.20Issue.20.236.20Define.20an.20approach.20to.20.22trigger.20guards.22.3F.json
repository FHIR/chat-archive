[
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/6#issuecomment-299600931\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/6#issuecomment-299600931\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/6\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/6\">Issue #6</a></p>\n<blockquote>\n<p>For reference, Clinical Reasoning has defined this under <a href=\"http://hl7.org/fhir/STU3/servicedefinition-definitions.html#ServiceDefinition.useContext\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/servicedefinition-definitions.html#ServiceDefinition.useContext\">ServiceDefinition.useContext</a> which uses the <a href=\"http://hl7.org/fhir/STU3/metadatatypes.html#UsageContext\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/metadatatypes.html#UsageContext\">UsageContext</a> data type.</p>\n</blockquote>",
        "id": 153887387,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494028877
    },
    {
        "content": "<p>vadi2 <a href=\"https://github.com/cds-hooks/docs/issues/6#issuecomment-299631839\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/6#issuecomment-299631839\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/6\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/6\">Issue #6</a></p>\n<blockquote>\n<p>Why not fhirpath? (insert Zoidberg here)</p>\n</blockquote>",
        "id": 153887529,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494068083
    },
    {
        "content": "<p>jmandel <a href=\"https://github.com/cds-hooks/docs/issues/6#issuecomment-299633098\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/6#issuecomment-299633098\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/6\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/6\">Issue #6</a></p>\n<blockquote>\n<p>I think FHIRPath is a big help here. We'd need some way to define what resources(s) a FHIRPath expression runs against. A couple of possible models:</p>\n<p>### \"Basic Resource Set\"<br>\nWe can imagine a small set of resources like: a single <code>Patient</code> and a bundle of <code>Condition</code>s as the implicit target for expressions. Then a CDS service would register a set of FHIRPath expressions, like:</p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;patient&quot;: &quot;now() - Patient.birthDate &gt; 18 and Patient.gender = &#39;male&#39;&quot;,\n  &quot;conditions&quot;: &quot;Bundle.entry.resource.code.coding.where(system=&#39;http://snomed.info/sct&#39; and code=&#39;84114007&#39;)&quot;\n}\n</pre></div>\n\n\n<p>(Leave aside how brittle this kind of SNOMED matching is.)</p>\n<p>### \"Ad-hoc Resource Sets\"<br>\nWe could imagine a more general capability where services register search queries combined with boolean FHIRPath expressions. The equivalent of the above would be:</p>\n<div class=\"codehilite\"><pre><span></span>[{\n  &quot;query&quot;: &quot;Patient/{{Patient.id}}&quot;,\n  &quot;fhirpath&quot;: &quot;now() - Patient.birthDate &gt; 18 and Patient.gender = &#39;male&#39;&quot;,\n}, {\n  &quot;query&quot;: &quot;Condition?patient={{Patient.id}}&quot;,\n  &quot;fhirpath&quot;: &quot;Bundle.entry.resource.code.coding.where(system=&#39;http://snomed.info/sct&#39; and code=&#39;84114007&#39;)&quot;\n}]\n</pre></div>\n\n\n<p>Either of these representations could be automated (or manually implemented on a case-by-case basis inside of a given EHR, using the formal expression as a set of requirements)... but it's unclear how general-purpose and expressive these approaches are. For example, important trigger guards might need pretty rich value set semantics, where the service needs to define a (potentially big) valueset ahead of time. FHIRPath could handle this too, but we need more experience before I'd be happy making this call.</p>\n</blockquote>",
        "id": 153887536,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494069468
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/6#issuecomment-299634008\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/6#issuecomment-299634008\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/6\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/6\">Issue #6</a></p>\n<blockquote>\n<p>@vadi2 - FHIRPath has come up previously. <img alt=\"ðŸ˜„\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/unicode/1f604.png\" title=\"ðŸ˜„\"> In addition to what Josh already stated, a concern with FHIRPath is the complexity in implementing this.</p>\n<p>My opinion is that we won't address this for 1.0 and instead rely upon the native capabilities of the EHR's underlying rule engine to handle this.</p>\n</blockquote>",
        "id": 153887551,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494070602
    }
]