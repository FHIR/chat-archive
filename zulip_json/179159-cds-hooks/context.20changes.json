[
    {
        "content": "<p>FYI - We are moving forward with our proposed context changes:<br>\n- context is a JSON object, not array<br>\n- For all 3 hooks in our Sandbox, the context will contain a <code>patiendId</code> (REQUIRED) and <code>enocunterId</code> (OPTIONAL) parameters.<br>\n- For <code>medication-prescribe</code>, the context will also contain a <code>medications</code> (REQUIRED) parameter that is the array of FHIR medications.</p>\n<p>We have left the <code>patient</code> and <code>encounter</code> CDS Service request parameters as-is for now as to not break everyone testing <code>patient-view</code>. For those testing <code>medication-prescribe</code>, this is a breaking change (we couldn't avoid it). We will drop <code>patient</code> and <code>encounter</code> from the request later today (tonight? or when everyone updates).</p>\n<p><span class=\"user-mention\" data-user-id=\"192599\">@Zach Plata</span> is preparing the Sandbox changes right now and they should be deployed within the next few minutes. He will post here when the change has been made.</p>\n<p><span class=\"user-mention\" data-user-id=\"192600\">@Matt Henkes</span> already updated the Cerner implementation so if you are ready to test talk with him.</p>",
        "id": 153931777,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1517152367
    },
    {
        "content": "<p>for order-review, will the field change to <code>orders</code> from <code>orders-in-progress</code></p>",
        "id": 153931793,
        "sender_full_name": "Robert Sax",
        "timestamp": 1517152792
    },
    {
        "content": "<p>Yeah, that's my proposal.</p>\n<p>My thinking is that if we are trying to name the context fields to be that descriptive, we're going to end up with long names (and I'd like to avoid that).</p>",
        "id": 153931797,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1517152875
    },
    {
        "content": "<p>Thoughts?</p>",
        "id": 153931800,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1517152931
    },
    {
        "content": "<p>(I'm updating PR #109 right now for all of this)</p>",
        "id": 153931801,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1517152945
    },
    {
        "content": "<p>....almost done</p>",
        "id": 153931802,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1517152948
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span> : Can you please share sample hooks request bodies in the new format. I need a medication-prescribe request.</p>",
        "id": 153931807,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1517153071
    },
    {
        "content": "<p>that is fine from my perspective - only in the case that you need two order sets would you make them more descriptive</p>",
        "id": 153931808,
        "sender_full_name": "Robert Sax",
        "timestamp": 1517153086
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><span class=\"s2\">&quot;context&quot;</span><span class=\"err\">:</span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;patientId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;123&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;medications&quot;</span><span class=\"p\">:[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;resourceType&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;MedicationOrder&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;id&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;smart-MedicationOrder-103&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;status&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;draft&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;patient&quot;</span><span class=\"p\">:{</span>\n        <span class=\"nt\">&quot;reference&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;Patient/smart-1081332&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">&quot;medicationCodeableConcept&quot;</span><span class=\"p\">:{</span>\n        <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;http://www.nlm.nih.gov/research/umls/rxnorm&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;617993&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;Amoxicillin 120 MG/ML / clavulanate potassium 8.58 MG/ML Oral Suspension&quot;</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;Amoxicillin 120 MG/ML / clavulanate potassium 8.58 MG/ML Oral Suspension&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">&quot;dosageInstruction&quot;</span><span class=\"p\">:[</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;5 mL bid x 10 days&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;timing&quot;</span><span class=\"p\">:{</span>\n            <span class=\"nt\">&quot;repeat&quot;</span><span class=\"p\">:{</span>\n              <span class=\"nt\">&quot;boundsPeriod&quot;</span><span class=\"p\">:{</span>\n                <span class=\"nt\">&quot;start&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;2005-01-04&quot;</span>\n              <span class=\"p\">},</span>\n              <span class=\"nt\">&quot;frequency&quot;</span><span class=\"p\">:</span><span class=\"mi\">2</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;period&quot;</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;periodUnits&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;d&quot;</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">},</span>\n          <span class=\"nt\">&quot;doseQuantity&quot;</span><span class=\"p\">:{</span>\n            <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"mi\">5</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;mL&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;http://unitsofmeasure.org&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;mL&quot;</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">],</span>\n      <span class=\"nt\">&quot;dispenseRequest&quot;</span><span class=\"p\">:{</span>\n        <span class=\"nt\">&quot;numberOfRepeatsAllowed&quot;</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;quantity&quot;</span><span class=\"p\">:{</span>\n          <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;mL&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;http://unitsofmeasure.org&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;mL&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">&quot;expectedSupplyDuration&quot;</span><span class=\"p\">:{</span>\n          <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"mi\">10</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;days&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;http://unitsofmeasure.org&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;d&quot;</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;resourceType&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;MedicationOrder&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;id&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;smart-MedicationOrder-104&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;status&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;draft&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;patient&quot;</span><span class=\"p\">:{</span>\n        <span class=\"nt\">&quot;reference&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;Patient/smart-1081332&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">&quot;medicationCodeableConcept&quot;</span><span class=\"p\">:{</span>\n        <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;http://www.nlm.nih.gov/research/umls/rxnorm&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;211307&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;Azithromycin 20 MG/ML Oral Suspension [Zithromax]&quot;</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;Azithromycin 20 MG/ML Oral Suspension [Zithromax]&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">&quot;dosageInstruction&quot;</span><span class=\"p\">:[</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;15 mL daily x 3 days&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;timing&quot;</span><span class=\"p\">:{</span>\n            <span class=\"nt\">&quot;repeat&quot;</span><span class=\"p\">:{</span>\n              <span class=\"nt\">&quot;boundsPeriod&quot;</span><span class=\"p\">:{</span>\n                <span class=\"nt\">&quot;start&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;2005-01-18&quot;</span>\n              <span class=\"p\">},</span>\n              <span class=\"nt\">&quot;frequency&quot;</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;period&quot;</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;periodUnits&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;d&quot;</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">},</span>\n          <span class=\"nt\">&quot;doseQuantity&quot;</span><span class=\"p\">:{</span>\n            <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"mi\">15</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;mL&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;http://unitsofmeasure.org&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;mL&quot;</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">],</span>\n      <span class=\"nt\">&quot;dispenseRequest&quot;</span><span class=\"p\">:{</span>\n        <span class=\"nt\">&quot;numberOfRepeatsAllowed&quot;</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;quantity&quot;</span><span class=\"p\">:{</span>\n          <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;mL&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;http://unitsofmeasure.org&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;mL&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">&quot;expectedSupplyDuration&quot;</span><span class=\"p\">:{</span>\n          <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span><span class=\"mi\">3</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;days&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;http://unitsofmeasure.org&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;d&quot;</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre></div>",
        "id": 153931809,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1517153110
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span> . We'll be ready to test shortly.</p>",
        "id": 153931823,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1517153565
    },
    {
        "content": "<p>Ok everyone, I have <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR 109</a> updated and ready for review. You can view the changes on the deployed site here: <a href=\"https://cds-hooks-docs-pr-109.herokuapp.com/\" target=\"_blank\" title=\"https://cds-hooks-docs-pr-109.herokuapp.com/\">https://cds-hooks-docs-pr-109.herokuapp.com/</a></p>\n<p>cc <span class=\"user-mention\" data-user-id=\"191943\">@Matt Berther</span> <span class=\"user-mention\" data-user-id=\"191410\">@Brett Marquard</span> <span class=\"user-mention\" data-user-id=\"191864\">@Isaac Vetter</span></p>",
        "id": 153931906,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1517155412
    },
    {
        "content": "<p>Once PR 109 is done then we will review the change to move patient/encounter into context. PR 109 is just to formally document our existing hooks as well as define how new hooks must be defined</p>",
        "id": 153931908,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1517155452
    },
    {
        "content": "<p>Sandbox update: changes have been made so that the <code>context</code> property is now an object with a patientId key and a medications key (on the Rx View)</p>",
        "id": 153931965,
        "sender_full_name": "Zach Plata",
        "timestamp": 1517157979
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192599\">@Zach Plata</span> :  we tested our service against the sandbox. Seems to be working well now. New keys and change to the context fields.</p>",
        "id": 153931969,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1517158193
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195129\">@Aziz Boxwala</span> - Just tested order workflow and I see the card again.</p>",
        "id": 153931984,
        "sender_full_name": "Kevin Power",
        "timestamp": 1517158915
    },
    {
        "content": "<p>Quick related question.. our implementation will require the organization or hospital from which the hook originated to accumulate meta data about system use and guideline appropriate ordering. Would this be most appropriate in the context field? (Which will require a new hook submitted? (Prefetch seems more approriate for related clinical data, but would not require a new hook. Anyone have insight?</p>",
        "id": 153934936,
        "sender_full_name": "Travis Stenerson",
        "timestamp": 1517552165
    },
    {
        "content": "<p>I opened an issue on this a while back (#17), and there is some useful feedback. Context has since change, and this could be in the context, but to me it belongs as a top-level element in the request, because it is useful information for every request, just like the user. As a result I would build it as an extension for the time being.</p>",
        "id": 153934970,
        "sender_full_name": "Robert Sax",
        "timestamp": 1517571937
    },
    {
        "content": "<p>This is also a request in SMART too (see <a href=\"https://github.com/smart-on-fhir/smart-on-fhir.github.io/issues/133\" target=\"_blank\" title=\"https://github.com/smart-on-fhir/smart-on-fhir.github.io/issues/133\">#133</a>). Unfortunately, we couldn't come to consensus on that for the SMART ballot that is wrapping up. We should solve this in the same manner between both SMART and CDS Hooks.</p>",
        "id": 153935082,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1517598973
    }
]