[
    {
        "content": "<p>Following up from the CDS WG call on 18 July. I proposed a new type of hooks trigger that is initiated by the user. explicitly In comparison, the current triggers are initiated implicitly through other actions or events (such as medication prescribe). The objective of the new trigger is for the user to request apps (and CDS) in a given context. Context can be a problem, a med, a lab result or other items in a patient's chart. The hook is analogous to the infobutton in which the user requests informational resources. </p>\n<p>I have attached a slide deck presented in the wg call. If anyone is interested in participating in further developing the proposal or in a connectathon, please reply here. <br>\n<a href=\"/user_uploads/10155/Otujbz0vFOLBVCbdkBgE8uN3/app-launch-hooks.pptx\" target=\"_blank\" title=\"app-launch-hooks.pptx\">app-launch-hooks.pptx</a></p>",
        "id": 153976404,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1532022803
    },
    {
        "content": "<p>I'm interested in this...</p>",
        "id": 153976444,
        "sender_full_name": "David Hay",
        "timestamp": 1532029136
    },
    {
        "content": "<p>I am also interested in this.</p>",
        "id": 153976857,
        "sender_full_name": "Kevin Olbrich",
        "timestamp": 1532092576
    },
    {
        "content": "<blockquote>\n<p>I am also interested in this.</p>\n</blockquote>\n<p>We will have additional discussion on this proposal during the August 1 CDS WG call (12 noon EDT).  In the discussion last week, the main issues were around usability - where to show the \"buttons\" for the user to trigger the request, would it be undesirable to receive a response that there was no CDS or apps available.</p>\n<p>Of those interested, who will be providing the CDS services + apps and who will be a client (e.g., EHR application)?</p>",
        "id": 153977071,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1532275579
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195129\">@Aziz Boxwala</span> we're a service provider</p>",
        "id": 153977077,
        "sender_full_name": "Kevin Olbrich",
        "timestamp": 1532279840
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-id=\"195129\">@Aziz Boxwala</span> we're a service provider</p>\n</blockquote>\n<p>As are we.</p>",
        "id": 153977079,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1532280960
    },
    {
        "content": "<p>intend to have 'topics' (indication, patient information, treatment etc.)  like info-button for this?  would love a value set for topics  + the appropriate context of use for them...</p>",
        "id": 153977751,
        "sender_full_name": "Brett Esler",
        "timestamp": 1532472078
    },
    {
        "content": "<blockquote>\n<p>intend to have 'topics' (indication, patient information, treatment etc.)  like info-button for this?  would love a value set for topics  + the appropriate context of use for them...</p>\n</blockquote>\n<p>This will be useful. Need to consider how to fit this in a hooks request. Possibly in the context field.</p>",
        "id": 153977775,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1532478379
    },
    {
        "content": "<p>It sounds like we're describing here individual, discrete hooks. A \"topic\" along with appropriate context for each...that's a discrete, unique hook.</p>",
        "id": 153980185,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1533124495
    },
    {
        "content": "<p>A reminder that this topic is up for discussion at today's CDS WG call at 12 noon EDT or 4 pm UTC.</p>\n<p><a href=\"https://global.gotomeeting.com/join/383926805\" target=\"_blank\" title=\"https://global.gotomeeting.com/join/383926805\">https://global.gotomeeting.com/join/383926805</a><br>\nDial-in: 224-501-3312<br>\nParticipant code: 383926805</p>",
        "id": 153980233,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1533133177
    },
    {
        "content": "<blockquote>\n<p>It sounds like we're describing here individual, discrete hooks. A \"topic\" along with appropriate context for each...that's a discrete, unique hook.</p>\n</blockquote>\n<p>Kevin, are you suggesting that the hook/button associated with a problem list might be different than a hook associated with a med list, say? I'll defer to you on how to best create the hook or hooks. If we create separate hook specs, they could be very similar to each other.</p>",
        "id": 153980236,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1533133319
    },
    {
        "content": "<p>The whole notion of this uber-hook that is flexible based upon a multitude of situations just doesn't fit with how we describe hooks today -- a very specific action/event in the workflow with contextual specific data.</p>",
        "id": 153980261,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1533134027
    },
    {
        "content": "<p>As much as I'd like to join this discussion today, I probably won't be able to make it.</p>",
        "id": 153980266,
        "sender_full_name": "Kevin Olbrich",
        "timestamp": 1533134121
    },
    {
        "content": "<blockquote>\n<p>The whole notion of this uber-hook that is flexible based upon a multitude of situations just doesn't fit with how we describe hooks today -- a very specific action/event in the workflow with contextual specific data.</p>\n</blockquote>\n<p>Understood. Thanks <span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span></p>",
        "id": 153980301,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1533137181
    },
    {
        "content": "<p>For those who were unable to join, the WG call today, here is a quick summary:<br>\n1. This will not be a connectathon topic in September.<br>\n2. We will explore infobutton as an alternative to cds-hooks to \"discover\" context-relevant apps. Key issues to address are (a) how the response will indicate that the content is a link to a SMART on FHIR app, and  (b) given that the infobutton spec does not exchange PHI, how can the client launch a SMART app from that link. I will look into issue (a) with <span class=\"user-mention\" data-user-id=\"195161\">@Guilherme Del Fiol</span>  and client implementers (i.e., EHR vendors) will share their feedback here on issue (b).  </p>\n<p>Since cds-hooks is still a candidate for the solution, I suggest we continue the discussion in this stream for now.</p>",
        "id": 153980798,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1533186765
    },
    {
        "content": "<p>I reviewed the infobutton spec to see what changes need to be made for infobuttons to return links to SMART on FHIR apps.  It appears that only one change is needed, which I confirmed with <span class=\"user-mention\" data-user-id=\"195161\">@Guilherme Del Fiol</span> .</p>\n<p>The atom feed and atom entry have link elements in the response of an infobutton request. We need to set the type field to have a value indicating this is a link for a SMART on FHIR app. That value must be a mime-type. I don't believe there currently is a mime-type for SMART on FHIR. Therefore, that needs to be created.  </p>\n<p>\"link\": [<br>\n                {<br>\n                    \"title\": \"Cardiac Risk App\",<br>\n                    \"rel\": \"self\",<br>\n                    \"type\": \"<strong>application/smart-on-fhir</strong>\",<br>\n                    \"href\": \"<a href=\"https://cardiac.apps.example.com/index.html\" target=\"_blank\" title=\"https://cardiac.apps.example.com/index.html\">https://cardiac.apps.example.com/index.html</a>\"<br>\n                },<br>\n...<br>\n]</p>\n<p>For those who have infobutton clients, is this an easier and preferred path to \"app buttons\", as compared to implementing new types of hooks?</p>\n<p>If infobutton is the preferred approach, does it make sense to move this discussion to the SMART stream? There is no infobutton stream in zulip.</p>",
        "id": 153986202,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1534222681
    },
    {
        "content": "<p>Hey aziz! Would this also work an HTTP Get / non-atom infobutton implementation?</p>",
        "id": 153986204,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1534222776
    },
    {
        "content": "<p>The SOA guide describes the request and response format. The URL-based implementation guide only describes the request format. I assumed the response format for both implementations has the same structure. That is, only the requests have different structures. I will tag <span class=\"user-mention\" data-user-id=\"195161\">@Guilherme Del Fiol</span>  for a more authoritative reply.</p>",
        "id": 153986205,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1534223019
    },
    {
        "content": "<p>Aziz, my understanding is that there's a number of systems that have only implemented the Url-based implementation, so this would be important. It makes sense that they would use the same syntax, though.</p>",
        "id": 153986206,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1534223119
    },
    {
        "content": "<p>Agree. I believe most of the implementation in use are URL-based. GET requests still return a body in the response so no reason for the response to be different in structure between URL and SOA implementations.</p>",
        "id": 153986209,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1534223213
    },
    {
        "content": "<p>That's my understanding too (most systems implemented only URL-based). The URL-based approach returns an HTML page that loads on the client browser. I am not sure SMART on FHIR apps could be launched form links in such a page. Probably not?</p>",
        "id": 153986354,
        "sender_full_name": "Guilherme Del Fiol",
        "timestamp": 1534260922
    },
    {
        "content": "<p>Back to the drawing board!</p>",
        "id": 153987053,
        "sender_full_name": "Aziz Boxwala",
        "timestamp": 1534358835
    }
]