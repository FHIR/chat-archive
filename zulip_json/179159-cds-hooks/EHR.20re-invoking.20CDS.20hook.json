[
    {
        "content": "<p>In <a href=\"http://cds-hooks.org/#calling-a-cds-service\" target=\"_blank\" title=\"http://cds-hooks.org/#calling-a-cds-service\">http://cds-hooks.org/#calling-a-cds-service</a>, step 4 - how does the EHR know when to re-invoke the CDS service to retrieve the decsion?</p>",
        "id": 153874642,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1488552896
    },
    {
        "content": "<p>It's when the EHR's redirect URI (see the request to a CDS service) is called by the SMART app. With this being said, the decision workflow defined by CDS Hooks is very complex and has not been fully vetted through implementations yet.</p>",
        "id": 153874991,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1488810081
    },
    {
        "content": "<p>Ah that's right, thanks</p>",
        "id": 153875227,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1488893149
    },
    {
        "content": "<p>Is this a static URL or is the hookInstance passed along with it? I'm assuming it's a GET request as well</p>",
        "id": 153877480,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1489673656
    },
    {
        "content": "<p>Also wondering are there any implementations out there I could play with?</p>",
        "id": 153877482,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1489673884
    },
    {
        "content": "<p>I've found several (including <a href=\"https://apps.clinicalkey.com/cds-services/zika-hook\" target=\"_blank\" title=\"https://apps.clinicalkey.com/cds-services/zika-hook\">https://apps.clinicalkey.com/cds-services/zika-hook</a> which uses the new <a href=\"https://github.com/cds-hooks/docs/commit/43f1034db6efd3475470ceef32ff65dbb643d3f5\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/commit/43f1034db6efd3475470ceef32ff65dbb643d3f5\">smart type</a> link) but none seem to carry enough context, or any at all, in the URLs they suggest the EHR to launch</p>",
        "id": 153877485,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1489676308
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191363\">@Vadim Peretokin</span> - I'm guessing your questions were answered on the mailing list (since I believe you posted there after your questions here)?</p>",
        "id": 153877928,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1489803352
    },
    {
        "content": "<p>Yep!</p>",
        "id": 153878702,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1490082543
    },
    {
        "content": "<p>Guys, how does the EHR re-invoke the CDS hook to get the decisions? Do you have any examples of such requests, how is the URL formatted?</p>",
        "id": 153890798,
        "sender_full_name": "Stefan Dimitrov",
        "timestamp": 1495474187
    },
    {
        "content": "<p>Hi Stefan - with our current model, the EHR would re-invoke the same request as before, including using the same uuid value. However, this hasn't been implemented very much and I am guessing our approach around decisions will change (re: PR <a href=\"https://github.com/cds-hooks/docs/pull/26\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/26\">#26</a>, <a href=\"https://github.com/cds-hooks/docs/pull/27\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/27\">#27</a>)</p>",
        "id": 153890817,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1495483213
    },
    {
        "content": "<p>And we don't have an example that I could point you to with something concrete/worked that illustrates our current model</p>",
        "id": 153890818,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1495483266
    },
    {
        "content": "<p>So you make a second POST request to <a href=\"https://example.com/cds-services/static-patient-greeter\" target=\"_blank\" title=\"https://example.com/cds-services/static-patient-greeter\">https://example.com/cds-services/static-patient-greeter</a> with the same body including the hookInstance? Shouldn't it be at least a GET request since the receiving system is trying to retrieve the result and not invoke an action?</p>",
        "id": 153890822,
        "sender_full_name": "Stefan Dimitrov",
        "timestamp": 1495484212
    },
    {
        "content": "<p>No, it's still a POST</p>",
        "id": 153890823,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1495484443
    }
]