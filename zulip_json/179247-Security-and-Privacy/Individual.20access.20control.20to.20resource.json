[
    {
        "content": "<p>I have a requirement to specify an access control list of individuals that can access DocumentReference resources, each document should have their own list. After much review of security labels, the Consent resource and Zulip topics, I would like to confirm if below is how this should be done or if the Permission resource is going to replace this previously recommended approach.</p>\n<p>The solution I have derived based on <a href=\"http://build.fhir.org/consent-example-grantor.json.html\">http://build.fhir.org/consent-example-grantor.json.html</a> is that a Consent resource should specify a root provision of deny and a child provision of allow with an actor reference to the individual. Given the consent is for a specific DocumentReference, the data.reference would refer to the resource to be protected.  </p>\n<p>I also need to indicate in the DocumentReference there is a security policy in order to know I need to retrieve the associated Consent resource. <br>\nGiven the patterns specified in <a href=\"http://build.fhir.org/consent.html#model\">http://build.fhir.org/consent.html#model</a>, should I use OPTOUTE (opt-out with exceptions) as the securityLabel in DocumentReference? Should this also go in Consent.provision.securityLabel. </p>\n<p>BTW, the last sentence in the General Model section says \"These exceptions are explicitly recorded in the except element\", but there is no 'except' element. Should this refer to 'Nested Exception Rules' provision element?</p>",
        "id": 269985719,
        "sender_full_name": "Heath Frankel",
        "timestamp": 1643610900
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191424\">@Heath Frankel</span>  We have not been presented with this kind of a usecase until this point, so I would not expect any part of the current model to support this kind of a usecase.  I think the most likely resource to meet this use-case 'will be' Permission, meaning it is not fully ready for use but would be the best fit given the intent. We could look at using your use-case as a driving use-case. But, since Permission is not ready for use; then the next best solution would be Consent, and given that this is not at all the intent of Consent then any way of hacking it in there might work.</p>",
        "id": 270030493,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643635724
    },
    {
        "content": "<p>I am not clear on your use-case, and the more i look at it the more I am worried that you might be encoding functionality what Consent is about, but choosing to encode it in an inverted way. The Consent model is designed the way it is because patients area all individually allowed to change their consent rules, so having the rules in one location and having that location point at all the affected data enables a more controlled environment that supports changing consent policies.</p>",
        "id": 270030793,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643635862
    },
    {
        "content": "<p>In your use-case, who are the \"individuals\"? What is the rational for them? What are the kinds of rules?</p>",
        "id": 270030999,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643635950
    },
    {
        "content": "<p>on your last observation, that sentence has been corrected in the current build -- <a href=\"http://build.fhir.org/consent\">http://build.fhir.org/consent</a> -- which is on pathway for R5 of FHIR sometime around next year.</p>",
        "id": 270031078,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643635991
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> for your responses. The use case is a document that has been indexed using documentReference resource where we want to state which individual providers can access the document over above those already referenced in the resource. In its simplest case, there may be an access control list (ACL) for each document. Although we may want a group of documents have the same access control list, we don't want to be limited to a single access control list for all documents.<br>\nThe example <a href=\"http://build.fhir.org/consent-example-grantor.json.html\">http://build.fhir.org/consent-example-grantor.json.html</a> seems to satisfy the use case up to restricting access to the patient record, we just need to further specify the documentReference(s), which I assume is done using provision.data.reference. <br>\nHowever, I also want to have a marker on the documentReference to indicate that there is an access control list policy applied to resource so that a consent manager knows that it needs to find the Consent resource that applies to the document. Being just a security label, there is no need to update the document when the ACL is changed.<br>\nI was looking at the privacy consent patterns and thought OPTOUTE (opt-out with exceptions) would seem to be an appropriate security label, but there was no detail on how the exceptions were intended to be specified.</p>",
        "id": 270138475,
        "sender_full_name": "Heath Frankel",
        "timestamp": 1643680184
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/179247-Security-and.20Privacy/topic/Individual.20access.20control.20to.20resource/near/270031078\">said</a>:</p>\n<blockquote>\n<p>on your last observation, that sentence has been corrected in the current build -- <a href=\"http://build.fhir.org/consent\">http://build.fhir.org/consent</a> -- which is on pathway for R5 of FHIR sometime around next year.</p>\n</blockquote>\n<p>From what I can see on the build (Release 5 Draft Ballot) consent page, this has not yet been corrected.</p>",
        "id": 270138722,
        "sender_full_name": "Heath Frankel",
        "timestamp": 1643680344
    },
    {
        "content": "<p>sure enough. I logged <a href=\"http://jira.hl7.org/browse/FHIR-35910\">FHIR-35910</a></p>",
        "id": 270198639,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643717808
    },
    {
        "content": "<p>on the more general rule, we did not think that it was proper standards behavior to define a FHIR resource for a universal IT security concept as ACL. We expected that it is better that these fundamental security rules be using a security module that has a language specialized for that. The Permission resource does fall within that principle, but the difference being that one organization is communicating to another organization about the rules the recipient is expected to enforce. I think for that kind of a setting your use-case might apply, but I am not hearing that you are needing this rule encoding for an interop reason, but rather for systems design.</p>",
        "id": 270199138,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643718033
    }
]