[
    {
        "content": "<p>From the v0.4 IG spec...</p>\n<blockquote>\n<ol start=\"108\">\n<li><strong>Observation.component:variation-code</strong><br>\nSliceName :    <strong>variation-code</strong><br>\nDefinition   :     <strong>This term is used to report the unique identifier of the simple variant found in this study.</strong><br>\nControl      :  <strong>0..1</strong></li>\n</ol>\n</blockquote>\n<p>I assume this is a placeholder for any \"unique identifier\" that the producer wishes to use to identify the variant that the observation is about. If so, I'm not sure why it is constrained to only 1.  I also think the wording of the definition should be adjusted to clarify whether this is only for <em>simple variants found</em> of is it for <em>the variant that the observation is being made about</em>.  Since observations can be used to share information about variants that are \"absent\" or \"present\".  And, I assume not only simple but complex variants may be registered somewhere that have unique identifiers as well - and these presumably could be used here.</p>\n<p>I would consider making this component a little more useful by allowing folks to share any identifiers or codes that they feel are unique and identifying for their purposes. Since there is no universal standard for variant codes or identifiers, this would be more of a cross-referenceable set of codes and identifiers that would help people find and understand more about the actual variant that the observation was referencing.</p>\n<p>Maybe it should be renamed to variation-xref-identifiers. (or variation-xref-codes if you must) with a 0...* cardinality.<br>\nThe added benefit here would be that you could combine dbSNP-id component here, which many folks use to cross reference and identify variation. </p>\n<p>Anyway. The basic ask is \"why the 0..1 constraint\" when there may be multiple identifiers that are useful to share (e.g. ClinVar variation id, ClinGen canonical allele id, GA4GH variant digest id, hgvs nomenclature, COSMIC id, gnomAD id, etc...)</p>",
        "id": 179959495,
        "sender_full_name": "Larry Babb",
        "timestamp": 1572977639
    },
    {
        "content": "<p>I like the approach of having a single component for all relevant identifiers, though currently we split out dbSNP and HGVS because they are treated very differently. Systems can easily slice this component to require specific codings to be present (clinvar, COSMIC, etc). </p>\n<p>I also agree the textual guidance on it is currently misleading, I believe \"found\" here pertains to in the study, not necessarily in the patient.</p>",
        "id": 179961757,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572978925
    },
    {
        "content": "<p>Note that even with one component you could have 0..* codings, not sure if that makes a difference without considering examples.</p>",
        "id": 179961939,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572979019
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196553\">@James Jones</span> the coding within the code's Codeableconcept that has a 0..* cardinality only allows you to provide multiple equivalent <strong>code(s)</strong> but does not allow you to provide multiple code-value pairs.</p>",
        "id": 179962662,
        "sender_full_name": "Larry Babb",
        "timestamp": 1572979434
    },
    {
        "content": "<p>I believe the code would be sent with the required LOINC coding but the <em>value's</em> CodeableConcept could come with multiple codings (each with a system and value)</p>",
        "id": 179962971,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572979571
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/hRJ6Zn-z-TkEQ4afQt3DFlMY/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/hRJ6Zn-z-TkEQ4afQt3DFlMY/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/hRJ6Zn-z-TkEQ4afQt3DFlMY/pasted_image.png\"></a></div>",
        "id": 179963193,
        "sender_full_name": "Larry Babb",
        "timestamp": 1572979693
    },
    {
        "content": "<p>Within CodeableConcept there are 0..* codings and 0..1 text. That differential table does not expand the value[x] element because the profile does not define any differences from the base element on Observation</p>",
        "id": 179963350,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572979777
    },
    {
        "content": "<p>I see now. there's a fixed code. and then you would put as many codings as you want which would all be presumed to be equivalent concepts for the fixed code.</p>",
        "id": 179963387,
        "sender_full_name": "Larry Babb",
        "timestamp": 1572979795
    },
    {
        "content": "<p>my bad. pretty straight forward considering.</p>",
        "id": 179963479,
        "sender_full_name": "Larry Babb",
        "timestamp": 1572979819
    },
    {
        "content": "<p>Not something I understood until I got in with a lot of examples. The graphical representation of the tables is very dense. Hope they improve in the future (and our text surrounding the concept could certainly be improved).</p>",
        "id": 179963570,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572979869
    },
    {
        "content": "<p>If you look at the 'Snapshot Table' tab instead of the \"Differential Table\" tab, you see all the things - which in a case like this makes it easier to see what you can do.  Of course, you have to wade through lots of other stuff as well.</p>\n<p>edit - Not as much as I thought, still doesn't show all the value[x] : CodeableConcept options.  <span aria-label=\"frown\" class=\"emoji emoji-1f641\" role=\"img\" title=\"frown\">:frown:</span></p>",
        "id": 179963721,
        "sender_full_name": "Kevin Power",
        "timestamp": 1572979972
    },
    {
        "content": "<p>it is interesting that for some components, you would replicate the entire component if you want to provide multiple values, but for situations where the component value is a CodeableConcept we have to only provide one component instance with multiple codings buried in the value's CodeableConcept.  It's stuff like this that seems to slow down innovation IMO. But this is a model that is pretty well established and part of learning how to play with FHIR.</p>",
        "id": 179963760,
        "sender_full_name": "Larry Babb",
        "timestamp": 1572980000
    },
    {
        "content": "<p>yes, the distribution of  'list' elements vs singletons is the <em>real</em> headache of FHIR in my experience</p>",
        "id": 179963903,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572980082
    },
    {
        "content": "<p>The distinction we <em>try</em> to make is what you said above: 'which would all be presumed to be equivalent concepts', so we keep the component as 0..1, but when the thing we are representing is not equivalent concepts, we allow the component to be 0..* (now I am hoping we don't have a mistake which shows we don't do that right all the time <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span>)</p>",
        "id": 179964107,
        "sender_full_name": "Kevin Power",
        "timestamp": 1572980189
    },
    {
        "content": "<p>nesting multiple answers in a value's codeableconcepts in some cases feels right in some cases. for example, when they are truly alternative codings for the same exact thing. But when they are somewhat different, from differing authorities and not so exact, it feels like they should be separate component copies. Just saying.</p>",
        "id": 179964166,
        "sender_full_name": "Larry Babb",
        "timestamp": 1572980229
    },
    {
        "content": "<p>i'm not sure a clinvar variationId is equivalent to a CIVIC variant id, which is equivalent to a gnomAD representation or id which is equivalent to a clingen allele registry id.  And if you go that far, then some would say that hgvs and dbsnp are equivalent \"enough\" to play in that equation.</p>",
        "id": 179964340,
        "sender_full_name": "Larry Babb",
        "timestamp": 1572980307
    },
    {
        "content": "<p>i'm good on this. I don't think its a battle worth fighting. In the end, there are much bigger fish to fry.</p>",
        "id": 179964411,
        "sender_full_name": "Larry Babb",
        "timestamp": 1572980354
    },
    {
        "content": "<p>I don't know much about gnomAD or the allele registry, but I would hope they are at least equivalent in terms of being 'unique identifiers for the variant' (I agree 'simple' needs to be removed). Otherwise they may be better suited elsewhere, as a different concept</p>",
        "id": 179964524,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572980406
    },
    {
        "content": "<p>All fair points, and ones we quibbled over for a bit.  The discussion on multiple codings  describes it like this:</p>\n<p><a href=\"https://hl7.org/fhir/datatypes.html#CodeableConcept\" target=\"_blank\" title=\"https://hl7.org/fhir/datatypes.html#CodeableConcept\">https://hl7.org/fhir/datatypes.html#CodeableConcept</a><br>\nAdditional Codes</p>\n<p>More than one code may be used in CodeableConcept. The concept may be coded multiple times in different code systems (or even multiple times in the same code systems, where multiple forms are possible, such as with SNOMED CT). Each coding (also referred to as a 'translation') is a representation of the concept as described above and may have slightly different granularity due to the differences in the definitions of the underlying codes. There is no meaning associated with the ordering of coding within a CodeableConcept. A typical use of CodeableConcept is to send the local code that the concept was coded with, and also one or more translations to publicly defined code systems such as LOINC or SNOMED CT. Sending local codes is useful and important for the purposes of debugging and integrity auditing.</p>",
        "id": 179964569,
        "sender_full_name": "Kevin Power",
        "timestamp": 1572980425
    },
    {
        "content": "<p>I might consider dbSNP/allele ids as a less granular unique id, so could lump it in here already it seems? <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 179964872,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572980605
    },
    {
        "content": "<p>Another thing that was considered, but there was significant pushback on including dbSNP, as it is really a definition of the 'location', not the 'variant'</p>\n<p>Not sure what you are referring to as 'allele ids' ?</p>",
        "id": 179965986,
        "sender_full_name": "Kevin Power",
        "timestamp": 1572981169
    },
    {
        "content": "<p>I simply meant 'allele' here as 'location' (eg dbSNP). I understand the decision to pull it out of variation code--even though it may be used in some spaces as a less granular identifier, us giving it a separate component implies it should not be used as a unique identifier, which I agree with. We may even want to suggest an invariant requiring at least <code>alt-allele</code> if dbSNP is populated, from my limited experience</p>",
        "id": 179966755,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572981643
    },
    {
        "content": "<p>Got ya.  FWIW - I was all for combining in dbSNP (with appropriate caveats in the documentation), but if I recall I was well in the minority on that thinking.  Might be some good implementer feedback to gather.</p>",
        "id": 179967121,
        "sender_full_name": "Kevin Power",
        "timestamp": 1572981859
    },
    {
        "content": "<p>It was a discussion before I started with the group and we haven't really reviewed the component since. We may be able to put dbSNP in as a sliced coding with an invariant at that level, which may be very cool (would then have to populate data-absent-reason on alt-allele, for example) though I am unsure of how to get that into the structureDef with the spreadsheet method... ;)</p>",
        "id": 179967461,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572982074
    },
    {
        "content": "<p>Summary for the topic seems to be that the current approach for variant-code, <br>\n(<code>code=LOINC|81252-9</code>, multiple entries on <code>value[x].coding</code>) <br>\nworks for everyone's needs, but dbSNP and/or HGVS may be lumped into the same component in the future if there is enough call for it.</p>",
        "id": 179968069,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1572982388
    },
    {
        "content": "<p>the dbSNP component is historical.  I think we'll be able to remove it. Clem was the strongest proponent at the time, but that was before our more recent work. My suggestion is to raise a proposal on the next call to remove it, make sure Clem and anyone else have a chance to raise objections, then cast a vote. Likely it will be deprecated in favor of putting dbSNP into variant ID.</p>",
        "id": 181036597,
        "sender_full_name": "Bret H",
        "timestamp": 1574098064
    },
    {
        "content": "<p>I would say the one issue here is that dbSNPIds without the precise nucleotide change is somewhat ambiguous, so calling it a variation code is a bit of a stretch. Like many of the variation codes that I think folks would use this field should be more along the lines of a \"cross-reference\" code.  XRefs or cross-references are useful in communicating other identifiers that precisely or closely relate to the concept in question.  <br>\nIf you truly want a field of equivalent or precise cross-referenceable codes (or ids) to the variation in question then dbSNP should not go with variation-code.  Its a tradeoff for sure.  I can see the case for an xref-codes field so that dbSNP and any other's like it can be shared versus having a dedicated field for each type that exists out there, historical or future.</p>",
        "id": 181038940,
        "sender_full_name": "Larry Babb",
        "timestamp": 1574099648
    },
    {
        "content": "<p>An invariant on dbSNP prompting alt-allele seems in order, regardless of whether the system shows up as its own component or lumped into one with others</p>",
        "id": 181039779,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1574100243
    },
    {
        "content": "<p>you could also populate c.hgvs, or g.hgvs , right?</p>",
        "id": 181148688,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1574193648
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span>  expound please on 'an invariant...prompting'</p>",
        "id": 181295553,
        "sender_full_name": "Bret H",
        "timestamp": 1574335620
    },
    {
        "content": "<p>I think he means a constraint that would say \"if you provide a dbSNP ID, you should also provide the alt-allele\"</p>",
        "id": 181309556,
        "sender_full_name": "Kevin Power",
        "timestamp": 1574346913
    },
    {
        "content": "<p>Sorry for repeating myself. But wouldn't  c.hgvs or g.hgvs are also sufficient to provide with a dbsnp id?</p>",
        "id": 181312211,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1574348517
    },
    {
        "content": "<p>Yes, I think it would be hard to submit either of those without them saying what the alt-allele is.</p>",
        "id": 181313130,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1574349045
    },
    {
        "content": "<p>I'm thinking about a use case where only hgvs is populated and the alt-allele isn't filled out. As the hgvs gives you the alt allele this should be ok to use with dbSnp</p>",
        "id": 181313761,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1574349399
    },
    {
        "content": "<p>That would require someone to parse out the HGVS string to find the alt-allele if they needed it though.</p>",
        "id": 181313826,
        "sender_full_name": "Kevin Power",
        "timestamp": 1574349437
    },
    {
        "content": "<p>This is similar to the cytogenetic-location / chromosome id overlap</p>",
        "id": 181313869,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1574349459
    },
    {
        "content": "<p>I guess the difference is there is more rigor around hgvs</p>",
        "id": 181313966,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1574349505
    },
    {
        "content": "<p>Probably not going to fly, but would be nice to say \"you must include SPDI, and you can also include whatever else you want\"</p>",
        "id": 181314067,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1574349572
    },
    {
        "content": "<blockquote>\n<p>That would require someone to parse out the HGVS string to find the alt-allele if they needed it though.</p>\n</blockquote>\n<p>Thats actually a very valid point. <br>\n+1 for invariant which enforces a alt allele if the system of variant id equals dbSNP</p>",
        "id": 181314238,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1574349659
    },
    {
        "content": "<p>i'd love to have only a single variant_ID component. (We had at some point at least 3, i remember discussing with clem which lead to the removal of the cosmicID component.</p>",
        "id": 181314422,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1574349730
    },
    {
        "content": "<p>I still don't know that we need to support dbSNP based on it's limitations</p>",
        "id": 181314432,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1574349733
    },
    {
        "content": "<p>me neither. Thats why i want to get rid of its component (even without constraint)</p>",
        "id": 181314520,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1574349787
    },
    {
        "content": "<p>I am willing to bet someone will want to send it, at least for a while.</p>",
        "id": 181314571,
        "sender_full_name": "Kevin Power",
        "timestamp": 1574349820
    },
    {
        "content": "<p>In my experience, when people are hooked on something, you have to get them off of the drug slowly.  In this case, have a way to support dbSNP, but make it easy to not need dnSNP going forward.</p>",
        "id": 181314923,
        "sender_full_name": "Kevin Power",
        "timestamp": 1574350008
    },
    {
        "content": "<p>Well we could have the alt-allele prompt/warning mention that dbSNP will be deprecated in a future version ;)</p>",
        "id": 181315107,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1574350091
    },
    {
        "content": "<p>There are some ways to get warnings in, but I'm not sure on the limitations of it</p>",
        "id": 181315233,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1574350152
    }
]