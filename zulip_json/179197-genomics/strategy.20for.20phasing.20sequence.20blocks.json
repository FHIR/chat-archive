[
    {
        "content": "<p>I've been thinking of how to group sequences into phased sets and am looking at  Observation.related for this. Here's a diagram to illustrate what I'm thinking. Does this seem reasonable?<br>\n<a href=\"/user_uploads/10155/eeo0gcUgbZfrgEigU5uRP_r5/pasted_image.png\" target=\"_blank\" title=\"/user_uploads/10155/eeo0gcUgbZfrgEigU5uRP_r5/pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/eeo0gcUgbZfrgEigU5uRP_r5/pasted_image.png\" target=\"_blank\" title=\"/user_uploads/10155/eeo0gcUgbZfrgEigU5uRP_r5/pasted_image.png\"><img src=\"/user_uploads/10155/eeo0gcUgbZfrgEigU5uRP_r5/pasted_image.png\"></a></div>",
        "id": 153830982,
        "sender_full_name": " Bob Milius",
        "timestamp": 1464801695
    },
    {
        "content": "<p>This looks fine. What do you mean by Observation/Sequence on the leaves of the tree? <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>, do you see any issue with this type of nested structure?</p>",
        "id": 153830993,
        "sender_full_name": "Gaston Fiore",
        "timestamp": 1464807644
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191916\">@ Bob Milius</span> I assume this nesting would only be used when the phasing is known?</p>",
        "id": 153830997,
        "sender_full_name": "Kevin Power",
        "timestamp": 1464809079
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191490\">@Gaston Fiore</span>  Observation/Sequence indicates either in the Observation for Genetics profile which can point to Sequence, or preferably in the Sequence resource itself. Right now the Observation.related.target can only point to either another Observation (or presumably a profile of Observation) or QuestionaireResponse so it can't point to Sequence directly. We'll have to suggest it for it to be another option.</p>",
        "id": 153831000,
        "sender_full_name": " Bob Milius",
        "timestamp": 1464810720
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> Yes. Three ways for it be inferred. 1) direct physical determination, e.g., clonal amplification/single molecule sequencing/long reads, 2) imputed using allele/haplotype frequencies, and 3) family history</p>",
        "id": 153831001,
        "sender_full_name": " Bob Milius",
        "timestamp": 1464810921
    },
    {
        "content": "<p>That makes sense, but when you have optional nesting like that, it makes implementation more difficult.  That isn't a reason not to do it.  Just want to make sure we understand the requirements and/or what will we miss out on if we don't represent phasing.  I just haven't seen many examples from our clients where they report or send phasing information.  But maybe that's because there isn't a good way to do so today. :)</p>",
        "id": 153831015,
        "sender_full_name": "Kevin Power",
        "timestamp": 1464813438
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> Yes, it would make implementation more complicated.  At NMDP, we ask our labs to send us phasing information if they have it. Another way to do it is to add a phaseset element to the sequence resource or observation for genetics profile and use a unique label (e.g., uuid) to tag those sequences that are in phase with each other. Just need to make sure they aren't used outside of the lab result.</p>",
        "id": 153831021,
        "sender_full_name": " Bob Milius",
        "timestamp": 1464813961
    },
    {
        "content": "<p>I like the additional phaseset element, as long as we don't lose something important.</p>",
        "id": 153831034,
        "sender_full_name": "Kevin Power",
        "timestamp": 1464814719
    },
    {
        "content": "<p>The nice thing about grouping the sequences to phase sets is it simplifies reporting the allele assignments for genotyping. e.g., for HLA-A, one phase set could represent one allele name assignment (e.g. HLA-A*01:02), and another phase set would represent the other (e.g., HLA-A*01:03), and the final genotype would be reported at the observation where both are included (e.g., HLA-A*01:02 + HLA-A*01:03)</p>",
        "id": 153831039,
        "sender_full_name": " Bob Milius",
        "timestamp": 1464814881
    },
    {
        "content": "<p>but you may be able to get the same thing using phaseset element with a unique tag. I'll have to mock up some examples of both ways.</p>",
        "id": 153831041,
        "sender_full_name": " Bob Milius",
        "timestamp": 1464815016
    },
    {
        "content": "<p>For HLA interpretation, for example, it's generally useful to know which exon 2 and exon 3 go together (have the same phase).  Information about phase may also be useful for other scenarios involving exomic data.</p>\n<p>In terms of the SO, I'm not sure whether we're talking about a representation for a sequence_collection (<a href=\"http://www.sequenceontology.org/browser/current_svn/term/SO:0001260\" target=\"_blank\" title=\"http://www.sequenceontology.org/browser/current_svn/term/SO:0001260\">SO:0001260</a>), or maybe a sequence_assembly (<a href=\"http://www.sequenceontology.org/miso/current_svn/term/SO:0000353\" target=\"_blank\" title=\"http://www.sequenceontology.org/miso/current_svn/term/SO:0000353\">SO:0000353</a>).</p>",
        "id": 153831065,
        "sender_full_name": "Joel Schneider",
        "timestamp": 1464820473
    },
    {
        "content": "<p>The most relevant reference I'm seeing is consensus-sequence-block, described in the <a href=\"http://dx.doi.org/10.1016/j.humimm.2015.08.001\" target=\"_blank\" title=\"http://dx.doi.org/10.1016/j.humimm.2015.08.001\">HML manuscript</a>.</p>\n<p>In that case, the consensus-sequence-block is an interpretation of the primary sequence data, and phase-set is acting like a shorthand for some (presumably omitted) sequence data which was used to resolve phase.</p>",
        "id": 153831070,
        "sender_full_name": "Joel Schneider",
        "timestamp": 1464821232
    },
    {
        "content": "<p>Yes, when we developed HML, we used the phase-set attribute of consensus-sequence-block to tag sequences that are in chromosomal phase with each other. We can do something similar in the Sequence resource or Observation for Genetics and/or group them with Observation.related as well.</p>",
        "id": 153831295,
        "sender_full_name": " Bob Milius",
        "timestamp": 1464873756
    },
    {
        "content": "<p>For others listening - would be curious if the need to represent phasing is important for non-HLA use cases?  Meaning, could this be part of one of the HLA specific profiles?  I get the sense it is good to represent, but like to see the use cases to support it.  Or maybe the best question here - Is representing phase part of the 80% or the 20%?</p>",
        "id": 153831300,
        "sender_full_name": "Kevin Power",
        "timestamp": 1464875809
    },
    {
        "content": "<p>Yes, the Consensus-sequence-block profile of Sequence was created for the HLA use case, and includes phaseSet. We can use that. But if it can be used for other use cases, it could be elevated to the Sequence resource, or included in the Observation for Genetics Profile.</p>",
        "id": 153831306,
        "sender_full_name": " Bob Milius",
        "timestamp": 1464878063
    },
    {
        "content": "<p>Thanks Bob.  I didn't check the profile before asking the question.  Should have known you had it covered.  :)</p>",
        "id": 153831307,
        "sender_full_name": "Kevin Power",
        "timestamp": 1464878566
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191916\">@ Bob Milius</span> , would you be able to present on the 2 different ideas (complex Observations and new attribute in Sequence) on Thursday? Is there anything specific you would like me to add to the Sequence resource and show on the staging site on Thursday?</p>",
        "id": 153831828,
        "sender_full_name": "Gaston Fiore",
        "timestamp": 1465223412
    },
    {
        "content": "<p>Sure, I can present that. I'll think about the staging site and let you know.</p>",
        "id": 153831839,
        "sender_full_name": " Bob Milius",
        "timestamp": 1465226733
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191916\">@ Bob Milius</span> , you mentioned you wanted a uri for the phase attribute in Sequence? Let me know your idea and I'll make the change. You can talk about it on Thursday and this way people might better understand what you propose. Thanks a lot.</p>",
        "id": 153831913,
        "sender_full_name": "Gaston Fiore",
        "timestamp": 1465324459
    },
    {
        "content": "<p>I was thinking along the lines of how resources in bundles are identified, using the Bundle.entry.fullUrl element which is a uri data type (<a href=\"http://hl7-fhir.github.io/datatypes.html#uri\" target=\"_blank\" title=\"http://hl7-fhir.github.io/datatypes.html#uri\">http://hl7-fhir.github.io/datatypes.html#uri</a>). So it would be a uuid/guid in the form of  <br>\nurn:uuid:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx (using a unique uuid for each phase-set).</p>",
        "id": 153831914,
        "sender_full_name": " Bob Milius",
        "timestamp": 1465325045
    },
    {
        "content": "<p>Okay. I'll have it on the staging site tomorrow morning. I'll let you know so you can take a look. Thanks Bob!</p>",
        "id": 153831916,
        "sender_full_name": "Gaston Fiore",
        "timestamp": 1465332441
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191916\">@ Bob Milius</span> , I've added a phase set identifier to Sequence:<br>\n<a href=\"http://genomics-advisor.smartplatforms.org:4000/sequence.html\" target=\"_blank\" title=\"http://genomics-advisor.smartplatforms.org:4000/sequence.html\">http://genomics-advisor.smartplatforms.org:4000/sequence.html</a><br>\nPlease let me know if you'd like to change anything, including the definition of the element, or anything else you see fit. Thanks!</p>",
        "id": 153832029,
        "sender_full_name": "Gaston Fiore",
        "timestamp": 1465394742
    },
    {
        "content": "<p>I've been following the discussion on nested Observations in the implementers stream. I'll take a more detailed look this afternoon. I feel we'll have to explain this tomorrow so people can understand how phasing could be handled in FHIR.</p>",
        "id": 153832030,
        "sender_full_name": "Gaston Fiore",
        "timestamp": 1465394896
    },
    {
        "content": "<p>Very informative presentation <span class=\"user-mention\" data-user-id=\"191916\">@ Bob Milius</span> ! Thank you!</p>",
        "id": 153832195,
        "sender_full_name": "Gaston Fiore",
        "timestamp": 1465488783
    },
    {
        "content": "<p>fyi, I uploade my presentation from last week to the HL7 CG document center<br>\n<a href=\"http://www.hl7.org/documentcenter/public/wg/clingenomics/FHIR_ObservationRelated_phaseset.pdf\" target=\"_blank\" title=\"http://www.hl7.org/documentcenter/public/wg/clingenomics/FHIR_ObservationRelated_phaseset.pdf\">http://www.hl7.org/documentcenter/public/wg/clingenomics/FHIR_ObservationRelated_phaseset.pdf</a></p>",
        "id": 153832559,
        "sender_full_name": " Bob Milius",
        "timestamp": 1465851012
    },
    {
        "content": "<p>Great, thanks! I'll be adding some of that to the IG. We should find a way to handle references.</p>",
        "id": 153832764,
        "sender_full_name": "Gaston Fiore",
        "timestamp": 1465915225
    }
]