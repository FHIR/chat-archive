[
    {
        "content": "<p>I feel like there are two many options to define a referenceSeq in MolecularSequence:</p>\n<p><a href=\"/user_uploads/10155/DuB5uP9WSN9fbXR9rjHa3fOz/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/DuB5uP9WSN9fbXR9rjHa3fOz/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/DuB5uP9WSN9fbXR9rjHa3fOz/image.png\"></a></div><p>I can propose a few things, but anyone else agree/disagree?</p>",
        "id": 272834218,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645549505
    },
    {
        "content": "<p>I agree there is potential for confusion there. I think the draft we assembled based on the IM work could be informative, but I'm biased. <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 272859934,
        "sender_full_name": "Bob Freimuth",
        "timestamp": 1645560616
    },
    {
        "content": "<p>Yea, I was trying to think about how to best apply those principles myself <span class=\"user-mention\" data-user-id=\"192198\">@Bob Freimuth</span> </p>\n<p>I think my 'quick wins' for simplification would be:</p>\n<ul>\n<li>Remove 'referenceSeqPointer' (doesn't seem like we would do this anytime soon)</li>\n<li>Remove 'referenceSeqString' (probably not needed in many settings we want to use this)</li>\n<li>Remove 'chromosome'  (it seems this is not a typical way to express a ref seq)</li>\n<li>Remove 'windowStart' and 'windowEnd' (unless <span class=\"user-mention\" data-user-id=\"191916\">@ Bob Milius</span>  needs them for HLA use cases)</li>\n</ul>\n<p>Welcome any/all feedback</p>",
        "id": 272861218,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645561291
    },
    {
        "content": "<p>Some verison of <code>windowStart</code> and <code>windowEnd</code> is important. If a URI is provided to point to the reference sequence (eg full gene), but the observation is based on a part of the sequence (eg. part of intron 1, exon1, part of intron 2), we need to know how much of the ref sequence was actually sequenced. This window into the reference sequence provides that.</p>",
        "id": 272862140,
        "sender_full_name": " Bob Milius",
        "timestamp": 1645561780
    },
    {
        "content": "<p>That is fair, we can keep those.</p>",
        "id": 272865248,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645563396
    },
    {
        "content": "<p>umm...not sure why you'd remove the window information, kinda ambiguous without it. Chromosome and Build are informative but more useful to a human for readability. Strand and Orientation are to help in specifying exactly what is being referred to in the reference. </p>\n<p>RefSeqString and ReferenceSeqPointer should not be removed if the only argument is that one does not see them being used soon. It is certainly a viable option that one might have sequenced a parent person and wish to relate a child's sequence to that parent sequence.</p>",
        "id": 272865309,
        "sender_full_name": "Bret H",
        "timestamp": 1645563428
    },
    {
        "content": "<p>If the window info is important, might be a consideration for IM model, eh <span class=\"user-mention\" data-user-id=\"192198\">@Bob Freimuth</span> ?</p>",
        "id": 272865493,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645563521
    },
    {
        "content": "<p>a resource should be a larger scope than a profile. If you want to constraint out items for a specific use case that might be an approach</p>",
        "id": 272865506,
        "sender_full_name": "Bret H",
        "timestamp": 1645563532
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191913\">Kevin Power</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272865493\">said</a>:</p>\n<blockquote>\n<p>If the window info is important, might be a consideration for IM model, eh <span class=\"user-mention silent\" data-user-id=\"192198\">Bob Freimuth</span> ?</p>\n</blockquote>\n<p>be useful to readers to have the IM model referenced here for viewing. even if draft.</p>",
        "id": 272865859,
        "sender_full_name": "Bret H",
        "timestamp": 1645563606
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192123\">Bret H</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272865309\">said</a>:</p>\n<blockquote>\n<p>RefSeqString and ReferenceSeqPointer should not be removed if the only argument is that one does not see them being used soon. It is certainly a viable option that one might have sequenced a parent person and wish to relate a child's sequence to that parent sequence.</p>\n</blockquote>\n<p>I am not sure MolSeq is ready to act as a 'reference sequence' at this point, but perhaps others disagree? That has been a problem with this resource from the beginning, it was just a large hodge-podge of whatever someone thought <strong>might</strong> be helpful. And we were left with something that was very difficult to understand and use.</p>",
        "id": 272866493,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645563774
    },
    {
        "content": "<p>What's so hard to understand about referencing a version of MolecularSequence or having a standalone sequence similar to how reference sequences appear today in DB?</p>",
        "id": 272866598,
        "sender_full_name": "Bret H",
        "timestamp": 1645563835
    },
    {
        "content": "<p>Conceptually, not hard at all. Implementers needing it and willing to use it -- nothing yet. At least none that I know of.</p>",
        "id": 272866949,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645564011
    },
    {
        "content": "<p>How would you represent a link to a a comparison where a Child's genome is compared to a parent? Or a Tumor sequence with the patient's germline? I understood that MolecularSequence was headed towards definitional?</p>",
        "id": 272866959,
        "sender_full_name": "Bret H",
        "timestamp": 1645564018
    },
    {
        "content": "<p>My opinion -- If we have those features, we need them with documented guidance and with real examples. So if someone is willing to help out there, I would support keeping them. And/Or, if I am the only one wanting to remove them for the sake of an easier to understand and use resource, I can easily be out voted <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 272867216,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645564155
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192123\">Bret H</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272865859\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191913\">Kevin Power</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272865493\">said</a>:</p>\n<blockquote>\n<p>If the window info is important, might be a consideration for IM model, eh <span class=\"user-mention silent\" data-user-id=\"192198\">Bob Freimuth</span> ?</p>\n</blockquote>\n<p>be useful to readers to have the IM model referenced here for viewing. even if draft.</p>\n</blockquote>\n<p>Current IM model for MoleSeq represented in ClinFHIR here:<br>\n<a href=\"http://clinfhir.com/logicalModeller.html#fdpbo\">http://clinfhir.com/logicalModeller.html#fdpbo</a></p>\n<p>If you want to see more, <span class=\"user-mention\" data-user-id=\"192198\">@Bob Freimuth</span> cleaned up a version that is much more of IM for FHIR here:<br>\n<a href=\"https://github.com/rrfreimuth/HL7-CG-Models/blob/main/CG_Resources_published-210923.zip\">https://github.com/rrfreimuth/HL7-CG-Models/blob/main/CG_Resources_published-210923.zip</a></p>",
        "id": 272868408,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645564844
    },
    {
        "content": "<p>Ok. you want a tumor comparison with germline example using MolecularSequence? Or, do you mean you'd rather not have MolecularResource at all?</p>\n<p>I don't see a good reason to remove those fields for ReferenceSeqPointer and ReferenceSeqString. So far, the argument is that it might be confusing (but not on a conceptual level). It is a harder ask to request evidence of implementers needing and willing to use it. Hard to have the chicken-n-egg argument, again. As  a WG we took a stand early on that having the ability to discretely describe positional information was needed - whether or not it was being used in HL7v2 messages often at the time. The IM also reflects this.<br>\nThe two fields are handy tools for :<br>\nHow would you represent a link to a a comparison where a Child's genome is compared to a parent? Or a Tumor sequence with the patient's germline? </p>\n<p>Can we come-up with an easy way to represent the above without them? Or, because the PDF representation does not  today typically portray data in that fashion, then we would advocate eliminating the options? I admit that they are pretty sophisticated mechanisms that provide an unprecedented level of precision. The idea that one's own germline is used as a reference to compare to a tumor is... But what do you use MolecularSequence for if you remove them? To me they are the defining elements of the resource.</p>",
        "id": 272868618,
        "sender_full_name": "Bret H",
        "timestamp": 1645564979
    },
    {
        "content": "<p>(for a reference on HRD, where germline and tumor are compared to one another: <a href=\"https://www.ambrygen.com/providers/genetic-testing/16/oncology/tumornext-hrd\">https://www.ambrygen.com/providers/genetic-testing/16/oncology/tumornext-hrd</a>)</p>",
        "id": 272868762,
        "sender_full_name": "Bret H",
        "timestamp": 1645565055
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192123\">Bret H</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272868618\">said</a>:</p>\n<blockquote>\n<p>Ok. you want a tumor comparison with germline example using MolecularSequence? Or, do you mean you'd rather not have MolecularResource at all?</p>\n</blockquote>\n<p>I am saying I am a huge proponent of having guidance/examples for everything we have, down to the attribute level.  I will add I feel that way now a days anyway - I wasn't always this way). I am perfectly fine keeping MolSeq.</p>",
        "id": 272868977,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645565169
    },
    {
        "content": "<p>In short, we could build a lot of things to support a lot of use cases - but if we don't have an active need for them, and someone to provide good guidance + examples, and someone to help validate them, we end up ill-defined and therefore poorly used artifacts - which is often worse than no artifacts at all.</p>",
        "id": 272869630,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645565535
    },
    {
        "content": "<p>So, what's molecular sequence for then? originally it was the thing to use for genomics where one wanted to be precise, and computable, with the information conveyed. </p>\n<p>Another use case. sending viral or bacterial isolated genomes or sequences.</p>",
        "id": 272872220,
        "sender_full_name": "Bret H",
        "timestamp": 1645567155
    },
    {
        "content": "<p>but that does not need a reference necessarily...</p>",
        "id": 272872265,
        "sender_full_name": "Bret H",
        "timestamp": 1645567187
    },
    {
        "content": "<p>I am pretty sure we have found plenty of ways to use it without those attributes <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 272872459,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645567253
    },
    {
        "content": "<p>name a few of the uses of MolecularSequence that cannot be replaced by using Observations? I think it's a useful resource.</p>",
        "id": 272872516,
        "sender_full_name": "Bret H",
        "timestamp": 1645567274
    },
    {
        "content": "<p>OK, fair, maybe not, 'plenty', but Bob M has several ways to use it for HLA</p>",
        "id": 272872658,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645567330
    },
    {
        "content": "<p>And he's done versions using Haplotype and Genotype as well of similar data.</p>",
        "id": 272872717,
        "sender_full_name": "Bret H",
        "timestamp": 1645567370
    },
    {
        "content": "<p>My understanding is the primary use case driving MolecularSequence is the case where you really want to send the observed sequence itself.</p>",
        "id": 272872813,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1645567419
    },
    {
        "content": "<p>yep. The referenceSeq in that use case is a useful attribute to reduce the space of bioinformatic calculations - allowing some level of specificity in the message. It's not strictly needed if you're willing to BLAST the sequence sent.</p>",
        "id": 272872818,
        "sender_full_name": "Bret H",
        "timestamp": 1645567420
    },
    {
        "content": "<p>oh, and helps to know the species too.</p>",
        "id": 272873026,
        "sender_full_name": "Bret H",
        "timestamp": 1645567520
    },
    {
        "content": "<p>OH sorry, I (like Bob D) thought you jumped to that question about MolSeq (yes or no).</p>\n<p>If you are asking how HLA uses 'referenceSeq' - I would have to defer to Bob M. Hence why I wanted to start the conversation here.</p>",
        "id": 272873080,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645567547
    },
    {
        "content": "<p>Take a look at the RefSeek format. It's mainly about versioning and where the sequence was observed.</p>",
        "id": 272873180,
        "sender_full_name": "Bret H",
        "timestamp": 1645567588
    },
    {
        "content": "<p>(but you could send an entire sequence in an observation too.....you could, not saying should). <br>\nthe referenceSeq portion of the profile is super helpful bioinformatically.</p>",
        "id": 272873285,
        "sender_full_name": "Bret H",
        "timestamp": 1645567651
    },
    {
        "content": "<p>klunky, but with a reference to a named HLA allele in Haplotype with a variant profile indicating a region of the genome, one could convey some precision without referenceSeq. again, could not should.</p>",
        "id": 272873477,
        "sender_full_name": "Bret H",
        "timestamp": 1645567748
    },
    {
        "content": "<p>Since we voted today to keep the changes simple for R5 (given our very short timeline), I was proposing simple changes - proposing we remove attributes that I didn't think we used. I sure wasn't proposing we drop the entire 'referenceSeq' structure, as of course it is a very important concept that we need.</p>\n<p>I don't know that we have time to completely \"rethink\" it (sorry, I shouldn't have used that in the title of the topic - I should have called it \"simplify 'referenceSeq'\" <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 272874822,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645568408
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192123\">Bret H</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272865859\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191913\">Kevin Power</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272865493\">said</a>:</p>\n<blockquote>\n<p>If the window info is important, might be a consideration for IM model, eh <span class=\"user-mention silent\" data-user-id=\"192198\">Bob Freimuth</span> ?</p>\n</blockquote>\n<p>be useful to readers to have the IM model referenced here for viewing. even if draft.</p>\n</blockquote>\n<p>The last update to this part of the model can be found here (slide 3):<br>\n<a href=\"https://drive.google.com/file/d/16YmA6HB2mwhQn7Fmm7q1vv_OEyfXN_Eq/view?usp=sharing\">https://drive.google.com/file/d/16YmA6HB2mwhQn7Fmm7q1vv_OEyfXN_Eq/view?usp=sharing</a></p>\n<p>The \"window\" bit discussed above sounds like what we've called ExtractedSequence, which is essentially a subsequence operation.  I've tried to keep these classes focused very tightly on the bare minimum of attributes that are necessary to represent a sequence, and encapsulate them as needed to achieve what I hope is unambiguous semantics. Specifying a \"window\" outside of these classes could result in usage of those attributes in different ways, such as defining a region on a sequence that might be important for something; that would be an interval or location in the IM, which is entirely different.</p>",
        "id": 272876661,
        "sender_full_name": "Bob Freimuth",
        "timestamp": 1645569439
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191916\"> Bob Milius</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272862140\">said</a>:</p>\n<blockquote>\n<p>Some verison of <code>windowStart</code> and <code>windowEnd</code> is important. If a URI is provided to point to the reference sequence (eg full gene), but the observation is based on a part of the sequence (eg. part of intron 1, exon1, part of intron 2), we need to know how much of the ref sequence was actually sequenced. This window into the reference sequence provides that.</p>\n</blockquote>\n<p>Please note that \"these regions (windows) on this sequence\" is a different statement than \"the subsequence defined by this region on this sequence\". The first is talking about regions as a subject, the latter references a sequence object. ExtractedSequence is for the latter. Interval/location can be used for the former, but if we're expressing the concept of interrogated region then we may develop a specialized attribute to capture that (so the semantics are unambiguous).</p>",
        "id": 272880187,
        "sender_full_name": "Bob Freimuth",
        "timestamp": 1645571636
    },
    {
        "content": "<p>Would interrogated region be a region in a reference sequence? <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 272885827,
        "sender_full_name": "Bret H",
        "timestamp": 1645575484
    },
    {
        "content": "<p>The IM work doesn't really touch on 'observational' things like this.</p>",
        "id": 272956792,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645627134
    },
    {
        "content": "<p>regards<br>\n<span class=\"user-mention silent\" data-user-id=\"191913\">Kevin Power</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272956792\">said</a>:</p>\n<blockquote>\n<p>The IM work doesn't really touch on 'observational' things like this.</p>\n</blockquote>\n<p>Bob F says:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"192198\">Bob Freimuth</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272880187\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191916\"> Bob Milius</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272862140\">said</a>:</p>\n<blockquote>\n<p>Some verison of <code>windowStart</code> and <code>windowEnd</code> is important. If a URI is provided to point to the reference sequence (eg full gene), but the observation is based on a part of the sequence (eg. part of intron 1, exon1, part of intron 2), we need to know how much of the ref sequence was actually sequenced. This window into the reference sequence provides that.</p>\n</blockquote>\n<p>Please note that \"these regions (windows) on this sequence\" is a different statement than \"the subsequence defined by this region on this sequence\". The first is talking about regions as a subject, the latter references a sequence object. ExtractedSequence is for the latter. Interval/location can be used for the former, but if we're expressing the concept of interrogated region then we may develop a specialized attribute to capture that (so the semantics are unambiguous).</p>\n</blockquote>",
        "id": 272970454,
        "sender_full_name": "Bret H",
        "timestamp": 1645632668
    },
    {
        "content": "<p>specifically \"Please note that \"these regions (windows) on this sequence\" is a different statement than <strong>\"the subsequence defined by this region on this sequence\"</strong>. The first is talking about regions as a subject, the <strong>latter references a sequence object. ExtractedSequence is for the latter</strong>.\"</p>",
        "id": 272970620,
        "sender_full_name": "Bret H",
        "timestamp": 1645632747
    },
    {
        "content": "<p>My understanding is the intended use of window is to assert that the instance is only concerned with the reference sequence between start and end. That is, any edits within the window are represented in the instance. Variants outside the window are not specified.</p>",
        "id": 272971208,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1645633020
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192123\">Bret H</span> <a href=\"#narrow/stream/179197-genomics/topic/MolecularSequence.20-.20rethink.20'referenceSeq'/near/272970620\">said</a>:</p>\n<blockquote>\n<p>specifically \"Please note that \"these regions (windows) on this sequence\" is a different statement than <strong>\"the subsequence defined by this region on this sequence\"</strong>. The first is talking about regions as a subject, the <strong>latter references a sequence object. ExtractedSequence is for the latter</strong>.\"</p>\n</blockquote>\n<p>I might be wrong here, but I guess my point is that the IM model today might have the building blocks to model the attributes needed to represent an 'interrogated region' but it has no attributes that would allow someone to deliver an instance of something that could be received and appropriately interpreted as 'this is the interrogated region for a particular study we just performed'</p>\n<p>Long story short, I am fine retracting my suggestion to simplify the referenceSeq backbone element. If we want to leave in the flexibility it affords today, then I might just ask that someone think about additional guidance we should provide.</p>",
        "id": 272995345,
        "sender_full_name": "Kevin Power",
        "timestamp": 1645642633
    },
    {
        "content": "<p>I wonder if a raw synthetic sequence could be represented with <a href=\"https://build.fhir.org/substancedefinition.html\">https://build.fhir.org/substancedefinition.html</a></p>\n<p>see: <a href=\"/user_uploads/10155/vPOcLCi19o6lDj8m18r0jzKu/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/vPOcLCi19o6lDj8m18r0jzKu/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/vPOcLCi19o6lDj8m18r0jzKu/image.png\"></a></div><p><a href=\"https://build.fhir.org/substancenucleicacid.html\">https://build.fhir.org/substancenucleicacid.html</a></p>\n<p><a href=\"https://build.fhir.org/substanceprotein.html\">https://build.fhir.org/substanceprotein.html</a></p>\n<p>the use case is more medicinal in those resources but how do they correspond to the IM model?</p>",
        "id": 273010202,
        "sender_full_name": "Bret H",
        "timestamp": 1645649748
    },
    {
        "content": "<p>the substance resources for nucleic acids and protein biochemical treatments have a specific need to be extremely explicit about the composition of the sequence. Even defining base modifications. Does the IM model and MolecularResource cover that? Could it make use of some of the same features? Or refer to a Substance profile when needed? </p>\n<p>In the cases covered by Substance, there's no 'based-on' genetic reference mentioned. This means one would need to search in the genome or proteome to determine where the sequence was derived from. Can be done, I guess.</p>",
        "id": 273010792,
        "sender_full_name": "Bret H",
        "timestamp": 1645650024
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 273678021,
        "sender_full_name": "Bret H",
        "timestamp": 1646155644
    }
]