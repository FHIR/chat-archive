[
    {
        "content": "<p>For <a href=\"http://jira.hl7.org/browse/FHIR-32415\">FHIR-32415</a>, I have drafted a new Genomics File extension and associated guidance in a branch, published here:<br>\n<a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#file-attachments\">http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#file-attachments</a><br>\nAny and all feedback is welcome.</p>",
        "id": 258428881,
        "sender_full_name": "Kevin Power",
        "timestamp": 1634758127
    },
    {
        "content": "<p>Excellent work Kevin!  Thanks...   A minor suggestion - currently says: It should be noted that the Genomic File extension is not an appropriate way to send a copy of the report....  I suggest a change to:  It should be noted that the Genomic File extension is not an appropriate way to send a copy of the report (e.g. A PDF or other document containing the written report)</p>",
        "id": 258765342,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1634932565
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> - Done.</p>",
        "id": 258771809,
        "sender_full_name": "Kevin Power",
        "timestamp": 1634935491
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span>  I moved this to Zulip to ensure that others can see this discussion.  Jaime is referring to JIRA <a href=\"https://jira.hl7.org/browse/FHIR-32415\">https://jira.hl7.org/browse/FHIR-32415</a>     Referencing BAM, CRAM, VCF (and other standard genomic files). </p>\n<p>He stated:   I drafted a potential rework of text for this section today on <a href=\"https://docs.google.com/document/d/19vFe9UD4_XRsa5c0ykcS8P-RmpNBDDeGP0jSFg5UuyM/edit\">https://docs.google.com/document/d/19vFe9UD4_XRsa5c0ykcS8P-RmpNBDDeGP0jSFg5UuyM/edit</a>, please take a look. I don't mention the new extension there because I'm not sure we need it, but could add that part back in/after if we feel it helps. I think Liz's comments from before about presentedForm should  probably still go in.   </p>\n<p>For those trying to catch-up on this issue - there are many comments in the JIRA and a number of linked google docs with drafts... </p>\n<p><span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span>  , <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span>  - there is so much discussion going on regarding this issue, and there have been so many changes in the text with continuing comments from members of the WG - that I strongly belive we should bring this to the entire WG (either a Monday or Tuesday meeting), sum up where we stand, and what questions remain to be debated. Then determine who we would like to resolve those outstanding questions... thoughts?</p>",
        "id": 259030751,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1635201997
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> - I have it on the agenda for tomorrow.</p>",
        "id": 259031081,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635202265
    },
    {
        "content": "<p>For anyone else reviewing now, I would only review the current draft on my branch <a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#file-attachments\">here</a> and compare it to Jamie's potential rework of text linked above. In short, Jamie writes better than I, and he proposed not adding a new extension on DiagnosticReport but using the built in attribute (DocumentReference.context.related) to link from the Genomics File to the Genomics Report. That is probably the key question to answer tomorrow.</p>",
        "id": 259031427,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635202516
    },
    {
        "content": "<p>From the call today, seems like we have a key decision to make - how should our profiling/guidance discuss the appropriate way(s) to link the report and the file. And I say way(s), as we might want to use multiple of these:</p>\n<ol>\n<li>New extension (genomics-file) specifically discussing how to associate files files to the report</li>\n<li>Update guidance to use existing extension (supporting-information) discussing that it can be used to associate files to the report</li>\n<li>Use DocumentReference.context.related to refer from the file to the report</li>\n</ol>\n<p>We probably need guidance for #3 no matter what. It is built into DocumentReference, so we should talk about it.</p>\n<p>In addition, we could choose #1 or #2 or use neither and only rely on #3 to relate the files to the report.</p>\n<p>My vote is #1 and #3.</p>",
        "id": 259121534,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635265081
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span>  I agree with how you have categorized this issue. I also agree with going with #1 and #3, but obviously am still willing to be convinced otherwise if someone provides compelling reasons.</p>",
        "id": 259261808,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1635350328
    },
    {
        "content": "<p>#3 is a given, #1 is useful for the variant profile to refer to the genomics data file. It's tidy and is a nice to have a specific call out for the files (somewhat easier to discover).</p>",
        "id": 259262157,
        "sender_full_name": "Bret H",
        "timestamp": 1635350467
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span> - I will say the plan was to only have the new extension (#1) from our GenomicsReport profile, not from our Observation profiles. Is that still OK or do you think differently?</p>",
        "id": 259273027,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635354718
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> sure, but there's nothing to stop one from using related reference in the observation, if they want. right?</p>",
        "id": 259293122,
        "sender_full_name": "Bret H",
        "timestamp": 1635362566
    },
    {
        "content": "<p>Nothing to stop them, no. Implementers are free to use extensions where ever they want. I was just saying our guidance was planning to focus on the usage of that extension from GenomicsReport. If we feel reference the file from any/all of our Observation profiles, perhaps we should add the extension and update our guidance? Personally, I am not sure it is necessary, but what do others think?</p>",
        "id": 259294652,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635363300
    },
    {
        "content": "<p>I think keeping the extension only on diagnostic report is fine. If someone has a use case and uses related reference in observation, I do not think it goes beyond the intended scope of that element.  I see no harm in only talking about diagnostic report and the extension and leaving the possibility for reference in an observation as a related resource. Might be redundant but not hurtful.</p>",
        "id": 259295074,
        "sender_full_name": "Bret H",
        "timestamp": 1635363490
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span> <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> - Thoughts on the options 1,2,3 above? I think we all agree on #3, so maybe the question now is just do we do #1, #2, or neither?</p>",
        "id": 259314956,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635373293
    },
    {
        "content": "<p>I still like supportingInfo for linking DocRef to Genomics Reports. We can just be sure to call out VCF DocRefs as one type of resource that may be included as relevant info</p>",
        "id": 259315537,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1635373604
    },
    {
        "content": "<p>OK, then in that case, someone else is going to need to weigh in (as it seems Jamie and I are just on different pages on this one <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span>)</p>",
        "id": 259315960,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635373834
    },
    {
        "content": "<p>new extension: CON - adding another potentially overlapping extension. Which could lead to confusion as to where to put information. PRO - easier to find. more specific.<br>\nuse supportingInfo: CON - files are potentially grouped with more clinically actionable information. PRO - not adding an other extension. have one less place to look for information.</p>\n<p>Ouch, it's like a devil's triangle....but I still think the content.type (in the DocRef, not the mime type in the attatchment data type) should get a good label to make sure it is known what is in the specific docRef. </p>\n<p>From current definitions you can see where it might be confusing. <br>\nRelated Artifact<br>\nCaptures citations, evidence and other supporting documentation for the observation or report</p>\n<p>Supporting Information<br>\nAdditional information relevant to interpreting/understanding the report</p>\n<p>I'm already on the books for liking specificity, a named extension would be more specific. This is almost like grouper. Philosophically who does the element serve. The systems that are really smart will be checking the linked resources in Supporting Information to do something meaningful with them. But I could see systems shoving the reference to the genetics file deep in a comment section in the EMR. OR, if they weigh the supporting information element as of high import the reference to the genetics file might be cluttering the screen when someone reviews the result. </p>\n<p>Thinking outside the EMR use case. The genetics reference could be useful to some applications which need the genetics file for action.</p>",
        "id": 259317862,
        "sender_full_name": "Bret H",
        "timestamp": 1635375047
    },
    {
        "content": "<p>This is really the only guidance in the IG I can find for SupportingInformation (which is probably bad), but given it is what we have, I still don't feel like pointing at a genomics file is appropriate given this <a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/general.html#contextual-resources\">guidance</a>:</p>\n<blockquote>\n<p>Orders can point to other sources of information used to support the analysis performed as part of genomic testing. Genomic reports can refer to this the information that was considered as part of the report - whether provided as part of the order or made available subsequently by the patient or clinicians or otherwise retrieved. The figure above shows these relationships through the extension supportingInfo, which can be to various Observations, FamilyMemberHistory records (including records that comply with Family member history for genomics analysis and RiskAssessments.</p>\n</blockquote>\n<p>I can SupportingInformation pointing at DocumentReferences, but to me it is more like other documents that were used as input to the analysis, like perhaps previous lab reports or clinical notes that might inform the lab. But perhaps that view of SupportingInformation is too narrow and that is why I don't really like it?</p>",
        "id": 259318131,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635375236
    },
    {
        "content": "<p>Just so we don't lose momentum, tagging a few folks to comment on the question of \"New Extension (Genomics File)\", \"Use Current Extension (Supporting Information)\", or even \"Do not add a new extension\"<br>\n<span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> <span class=\"user-mention\" data-user-id=\"193751\">@Bob Dolin</span> <span class=\"user-mention\" data-user-id=\"194730\">@Liz Amos</span> <span class=\"user-mention\" data-user-id=\"196626\">@Mullai Murugan</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 259549415,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635524780
    },
    {
        "content": "<p>Why does the extension have a context of 'element' - is it really supposed to appear <em>anywhere</em>??  My leaning is to actually use <a href=\"http://DiagnosticReport.media\">DiagnosticReport.media</a> and ask for the definition to be broadened.  It's a similar use-case - point to a big thing managed elsewhere that we want to talk about elsewhere in the report...</p>",
        "id": 259559501,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1635529517
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179197-genomics/topic/Proposal.20for.20new.20extension.20-.20Genomics.20File/near/259559501\">said</a>:</p>\n<blockquote>\n<p>Why does the extension have a context of 'element' - is it really supposed to appear <em>anywhere</em>??</p>\n</blockquote>\n<p>I will admit, I have no idea. When we moved over to FSH, at some point someone added this to an extension, and then it copied/pasted to others:<br>\n```* ^context[0].type = #element</p>",
        "id": 259563018,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635530965
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179197-genomics/topic/Proposal.20for.20new.20extension.20-.20Genomics.20File/near/259559501\">said</a>:</p>\n<blockquote>\n<p>My leaning is to actually use <a href=\"http://DiagnosticReport.media\">DiagnosticReport.media</a> and ask for the definition to be broadened.  It's a similar use-case - point to a big thing managed elsewhere that we want to talk about elsewhere in the report...</p>\n</blockquote>\n<p>The current definition (in R4 and R5) seems to be too narrow:</p>\n<blockquote>\n<p>A list of key images associated with this report. The images are generally created during the diagnostic process, and may be directly of the patient, or of treated specimens (i.e. slides of interest).</p>\n</blockquote>\n<p>We have made a request to broaden this definition, but until then, it feels like we would be choosing an attribute just because it has the datatype we need. That feels wrong to me.</p>",
        "id": 259567826,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635533401
    },
    {
        "content": "<p>Not to mention, that in R4, <a href=\"http://DR.media\">DR.media</a> is a Media data type, which even furthers my stance that there is a misalignment:</p>\n<blockquote>\n<p>A photo, video, or audio recording acquired or used in healthcare. The actual content may be inline or provided by direct reference.</p>\n</blockquote>\n<p>When R5 is published, and a future release of our IG is based on R5, we will likely revisit.</p>",
        "id": 259577981,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635538758
    },
    {
        "content": "<p>Oh, and I added a fix for our extensions here (after doing some research to know what you are talking about <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span>).  At least I think I did the right fix.<br>\n<a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/index.html\">http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/index.html</a></p>",
        "id": 259579159,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635539259
    },
    {
        "content": "<p>Let's fix it in R5 and use the interversion extension mechanism</p>",
        "id": 259586250,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1635543366
    },
    {
        "content": "<p>So would this be an extension on <a href=\"http://DR.media\">DR.media</a> to reference a DocRef? Or just an Attachment (or is there another proposal?)</p>",
        "id": 259586335,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1635543439
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179197-genomics/topic/Proposal.20for.20new.20extension.20-.20Genomics.20File/near/259586250\">said</a>:</p>\n<blockquote>\n<p>Let's fix it in R5 and use the interversion extension mechanism</p>\n</blockquote>\n<p>I should have mentioned I did log a request to O&amp;O: <a href=\"http://jira.hl7.org/browse/FHIR-34068\">FHIR-34068</a> (so, it is not really ours, meaning CG, to fix) - That is currently waiting on <span class=\"user-mention\" data-user-id=\"191969\">@John David Larkin Nolen</span> </p>\n<p>If I understand what you are saying <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  - you mean apply whatever fix will be applied in R5 in our IG somehow? I am not sure what that looks like.</p>",
        "id": 259587509,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635544337
    },
    {
        "content": "<p>There are rules <a href=\"http://build.fhir.org/versions.html#extensions\">here</a> for using extensions to pre-adopt content from a newer version in an old version.  I'm suggesting we'd simply do that once R5 supports what we need.</p>",
        "id": 259697633,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1635551242
    },
    {
        "content": "<p>Thanks Lloyd. <span class=\"user-mention\" data-user-id=\"191969\">@John David Larkin Nolen</span> - Any chance you have an update on <a href=\"http://jira.hl7.org/browse/FHIR-34068\">FHIR-34068</a>?</p>",
        "id": 259745911,
        "sender_full_name": "Kevin Power",
        "timestamp": 1635620244
    },
    {
        "content": "<p>Yes...I think the best way is to widen the definition of media to handle this. I'll run this past the OO on FHIR peeps this week.</p>",
        "id": 260006453,
        "sender_full_name": "John David Larkin Nolen",
        "timestamp": 1635864925
    },
    {
        "content": "<p>As long as we have a single place to use ,and where we can communicate in the message what kind of genomics file it is, any spot seems great.</p>",
        "id": 260009312,
        "sender_full_name": "Bret H",
        "timestamp": 1635865957
    },
    {
        "content": "<p>Just to not lose track of this, wanted to tag a few people and see if they are OK putting this change on hold for now, and instead do this (based on Lloyd's suggestion above):</p>\n<ul>\n<li>wait until the definition of <a href=\"http://DiagnosticReport.media\">DiagnosticReport.media</a>' is broadened in R5 (seems to have tentative approval from O&amp;O)</li>\n<li>pre-adopt from our IG after R5 release (so, in our STU3 release)</li>\n</ul>\n<p>This feels like the best long term answer to me honestly, but it likely prevents getting this covered in the STU2 release. <em>Unless</em> in STU2 we make a short term change (which feels weird to me).</p>\n<p><span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span> <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> <span class=\"user-mention\" data-user-id=\"194730\">@Liz Amos</span> <span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> <span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span></p>",
        "id": 260473269,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636152097
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span>  can we get a promise from O&amp;O? Also, We could stretch the current definition if it is in line with the next version, I think, as we do not currently have a place. It would be our guidance saying to use the <a href=\"http://DiagnosticReport.media\">DiagnosticReport.media</a> for the specific genomic data formatted files (such as CRAM, BAM, SAM, VCF...) and acknowledge that the R5 definition is being used.</p>\n<p>to be honest, I think people will be happier to have a place for the files that is inline with R5 then have us stick tightly to a definition which is broadend. We do not have a specified spot for those files today, so I don't see any harm.</p>",
        "id": 260522361,
        "sender_full_name": "Bret H",
        "timestamp": 1636215805
    },
    {
        "content": "<p>as a note: <a href=\"https://www.hl7.org/fhir/media.html\">https://www.hl7.org/fhir/media.html</a> allows for a lot a room to tell the recipient what the file is. Wonder if we want to provide specific guidance on how to specify that a genomics data file is included?</p>",
        "id": 260522557,
        "sender_full_name": "Bret H",
        "timestamp": 1636215974
    },
    {
        "content": "<p>to be clarify: I vote to go ahead and guide folks to DiagnosticReport.media.attatchment. With a code in media.type indicating a genomics data file format.</p>",
        "id": 260522656,
        "sender_full_name": "Bret H",
        "timestamp": 1636216140
    },
    {
        "content": "<p>of course, media.modality is pretty useful too</p>",
        "id": 260522717,
        "sender_full_name": "Bret H",
        "timestamp": 1636216211
    },
    {
        "content": "<p>My biggest problem with the R4 is that it is an Attachment only, not a DocRef. Meaning it doesn’t exist on its own, it is contained within the report</p>",
        "id": 260522927,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636216493
    },
    {
        "content": "<p>This is slightly off track - but what are our plans for balloting STU2?  I may have missed that in a meeting, but I am not aware of any dates that we are tracking to? Are we planning to take all of the changes we have been working on, including the changes to Variant that Jamie has been working on, and ballot them as STU2? This will help us \"clean up\" the current situation for this issue, but until R5 is published won't really solve it. But knowing when we plan on balloting will help me understand our current plans... also do we have any idea at all as to when R5 would be published?</p>",
        "id": 260527081,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636220891
    },
    {
        "content": "<p>good point Kevin. However, that's what operations are for : ^ ) It would be a specific, specialized use case where someone would want the genomic data file formats on their own. By forcing context with a diagnostic report, as a devil's advocate, it ensures that the file has the context that biased the bioinformatic/variant scientist workflows used to produce the file. I think it not likely at this time that an unbiased survey of genome would be communicated. For example, with more common short-sequencing NGS pipelines can be adjusted to improve detection of repeats, and there are coverage versus quality filters that can be adjusted based on the desired regions to call. For VCF files you'll only see the regions targeted by the specific pipeline.  However (in favor of sending alone), if the specific pipeline metadata were included, as has been advocated, the context would be clarified well enough that the file by itself could be fully comprehended by the receiving system. </p>\n<p><span class=\"user-mention silent\" data-user-id=\"191913\">Kevin Power</span> <a href=\"#narrow/stream/179197-genomics/topic/Proposal.20for.20new.20extension.20-.20Genomics.20File/near/260522927\">said</a>:</p>\n<blockquote>\n<p>My biggest problem with the R4 is that it is an Attachment only, not a DocRef. Meaning it doesn’t exist on its own, it is contained within the report</p>\n</blockquote>",
        "id": 260529022,
        "sender_full_name": "Bret H",
        "timestamp": 1636223479
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"196476\">Arthur Hermann</span> <a href=\"#narrow/stream/179197-genomics/topic/Proposal.20for.20new.20extension.20-.20Genomics.20File/near/260527081\">said</a>:</p>\n<blockquote>\n<p>This is slightly off track - but what are our plans for balloting STU2?  I may have missed that in a meeting, but I am not aware of any dates that we are tracking to? Are we planning to take all of the changes we have been working on, including the changes to Variant that Jamie has been working on, and ballot them as STU2? This will help us \"clean up\" the current situation for this issue, but until R5 is published won't really solve it. But knowing when we plan on balloting will help me understand our current plans... also do we have any idea at all as to when R5 would be published?</p>\n</blockquote>\n<p>I am curious too. I think one of the co-chairs sent me a document of the changes to be expected. Probably need to survey the FHIR subgroup to see if we've got everything documented.</p>",
        "id": 260529081,
        "sender_full_name": "Bret H",
        "timestamp": 1636223555
    },
    {
        "content": "<p>Regarding timelines, we have already balloted STU2 (in May 2021) and we are working through ballot reconciliation (resolving the issues from the ballot comments) before we can release STU2 as a standard. I believe we are trying to target end of year to complete ballot rec then start the publishing process. If we can stick to that I hope we can release STU2 by 2022 Q1.</p>",
        "id": 260534846,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636230994
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span> - Fair points about the metadata and everything that goes into creating the file, but given we have nothing standardized and computable on DiagosticReport either (as of today) then forcing everyone through DR is still an unnecessary extra step (in my opinion anyway). But if we will use <a href=\"http://DR.media\">DR.media</a> in the long term, I think we can put up with the shortcomings it has for now.</p>",
        "id": 260535073,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636231319
    },
    {
        "content": "<p>Attachment can just be a url pointing elsewhere.  Also, so long as OO has signed off on the change to the definition, you should be fine to use it.</p>",
        "id": 260541662,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636240405
    },
    {
        "content": "<p>We still have to wait for R5 though right?</p>",
        "id": 260542392,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636241454
    },
    {
        "content": "<p>No.  You can point to extensions that are in the draft.  Though there is a risk to doing that.</p>",
        "id": 260596044,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636319936
    },
    {
        "content": "<p>What does it look like to point to the draft? The guidance provided above doesn't address that - what do you use for the 'version'? <br>\n<a href=\"http://hl7.org/fhir/current/StructureDefinition/extension-DiagnosticReport.media\">http://hl7.org/fhir/current/StructureDefinition/extension-DiagnosticReport.media</a></p>\n<p>But even if we do that, I assume we would need to change the URL once R5 is released, so something like this?<br>\n<a href=\"http://hl7.org/fhir/5.0/StructureDefinition/extension-DiagnosticReport.media\">http://hl7.org/fhir/5.0/StructureDefinition/extension-DiagnosticReport.media</a></p>",
        "id": 260662316,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636381173
    },
    {
        "content": "<p>Personally, I'd push to pre-adopt the R5 change as it suits out need, even before the O&amp;O documentation around 'media' is updated to clearly be the right spot.</p>",
        "id": 260673409,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1636385834
    },
    {
        "content": "<p>So, the R5 change you are talking about is the change of data type of .media (from Attachment to Reference(DocumentReference) ) ?</p>",
        "id": 260674020,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636386086
    },
    {
        "content": "<p>That's what enables the use case (discovering a VCF from a genomics report)</p>",
        "id": 260674306,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1636386204
    },
    {
        "content": "<p>Do it now (so pre-adopt from current build)? Or, wait until R5 is released?</p>",
        "id": 260674405,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636386242
    },
    {
        "content": "<p>OK, problem. <a href=\"http://DR.media.link\">DR.media.link</a> in R4 is 1..1 - so if we do the extension on DiagnosticReport.media.extensions, we would be forcing people to use <a href=\"http://DR.media.link\">DR.media.link</a> as well as the extension. That doesn't seem good.</p>",
        "id": 260697355,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636395443
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  It seems due to cardinality restrictions in base DR, we would need to pre-adopt the whole <a href=\"http://DR.media\">DR.media</a> element in order for it to validate without a Reference(Media). Is that an option?</p>",
        "id": 260699339,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1636396325
    },
    {
        "content": "<p>Ah.  Yeah.  That's not going to work with the inter-version extension mechanism.  FHIR-I has actually agreed to a new extension that could be used, but I'm pretty sure it hasn't been created yet.  So you may be out of luck for now.  Sorry for misleading :(</p>",
        "id": 260699831,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636396597
    },
    {
        "content": "<p>Welp, now I see these as our options (in no particular order):</p>\n<ul>\n<li>\n<p>Go with the extension for now, but perhaps add to our STU note that this approach will change to <a href=\"http://DR.media\">DR.media</a> once we upgrade our IG to R5. (and we can continue to haggle if this is a new extension as in the branch, or just use 'SupportingInformation' and update our guidance)</p>\n</li>\n<li>\n<p>Update our guidance to use <a href=\"http://DR.media\">DR.media</a> even now, since it aligns with our long term vision, and just deal with the short comings.</p>\n</li>\n<li>\n<p>Decide this isn't worth solving for now, and we wait until we upgrade to IG to be built on R5 and use the <a href=\"http://DR.media\">DR.media</a> attribute once it aligns to our use cases.</p>\n</li>\n</ul>",
        "id": 260704561,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636398826
    },
    {
        "content": "<p>For what it's worth I like #1. Folks can use our extension much like how they will eventually be able to use <a href=\"http://DR.media.link\">DR.media.link</a>. wonder if we should draft it as a complex extension to include the comment string</p>",
        "id": 260705074,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1636399049
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"196553\">Jamie Jones</span> <a href=\"#narrow/stream/179197-genomics/topic/Proposal.20for.20new.20extension.20-.20Genomics.20File/near/260705074\">said</a>:</p>\n<blockquote>\n<p>wonder if we should draft it as a complex extension to include the comment string</p>\n</blockquote>\n<p>I proposed they use DocumentReference.description?</p>",
        "id": 260706476,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636399776
    },
    {
        "content": "<p>I too like option 1 for now.. although the details as your new comments show, need to be fully worked out.....</p>",
        "id": 260706674,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636399865
    },
    {
        "content": "<p>If we stick with option 1, I still vote for new extension. Anyone want to weigh in if they like that or to leverage the existing SupportingInformation extension?</p>",
        "id": 260710457,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636401632
    },
    {
        "content": "<p>I propose using the current <a href=\"http://DR.media\">DR.media</a> link with R4 and note that the resource - media may change for the better  in R5.</p>",
        "id": 260713008,
        "sender_full_name": "Bret H",
        "timestamp": 1636402721
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192123\">Bret H</span> <a href=\"#narrow/stream/179197-genomics/topic/Proposal.20for.20new.20extension.20-.20Genomics.20File/near/260713008\">said</a>:</p>\n<blockquote>\n<p>I propose using the current <a href=\"http://DR.media\">DR.media</a> link with R4 and note that the resource - media may change for the better  in R5.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span> - Not sure what you mean by <code>note that the resource - media may change for the better  in R5</code>?  In R5, <a href=\"http://DiagnosticReport.media.link\">DiagnosticReport.media.link</a> will change from Reference(Media) to Reference(DocumentReference).</p>",
        "id": 260713765,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636403049
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192123\">Bret H</span><br>\nMedia IS a valid R4 resource and Media.type IS extensible but I feel strange pointing to something that is not a 'may' change but a 'will' change--the whole resource is being sunsetted in R5</p>",
        "id": 260713921,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1636403133
    },
    {
        "content": "<p>Ok. So, Document Reference.refererence will be the specific element used. But for R5 it is to be DiagnosticReport.media.link.Document Reference. content.attatchment? </p>\n<p>For R4 how about DiagnosticReport.presentedFrom.attachement? It would skip a lot of intervening links. Of course the metadata won't be there but that's not going to be fully solved in R5 anyway  for those that needed it: attachment <a href=\"https://www.hl7.org/fhir/datatypes.html#Attachment\">https://www.hl7.org/fhir/datatypes.html#Attachment</a></p>\n<p>Document Reference: <a href=\"https://www.hl7.org/fhir/documentreference.html\">https://www.hl7.org/fhir/documentreference.html</a></p>\n<p>Is the Genomics Report profile of Diagnostic Report going away in an R4 version? or just from R5 onward?</p>",
        "id": 260715440,
        "sender_full_name": "Bret H",
        "timestamp": 1636403858
    },
    {
        "content": "<p>Presentedform is tricky because implementers will likely try to render it and it's not going to work</p>",
        "id": 260715571,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1636403912
    },
    {
        "content": "<p>Good. how about the other question on R4 content? is Genomic Report going from R4? <span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span> <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span></p>",
        "id": 260715634,
        "sender_full_name": "Bret H",
        "timestamp": 1636403959
    },
    {
        "content": "<p>I am not sure what you are asking <span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span> -- GenomicsReport profile will remain for quite some time. Do you mean the new extension we would add (would it go away once we uplift the IG to R5?). If so, I think the answer to that is yes.</p>",
        "id": 260716063,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636404190
    },
    {
        "content": "<p>Nope. You can't focus on R5 and R4 at the same time in this case. I revise my position. Do not give any guidance till R5, but do point folks towards Document Reference - just don't connect to for them.  If an implementer need to connect Document Reference to a specific report, they could use at least two ways (both of which would be deprecated uses and not fully compatible with R5). Rather than use guidance that get's broken just mention Document Reference (with attachment) as a way of communicating VCF, BAM and SAM location for R4. </p>\n<p>But don't give an express way to connect with Diagnostic Report. It'll be a compromise, but if implementers get so far as to use Document Reference for exchanging VCF, BAM and SAM file locations (or, saint's preserve us, files), they will only need to adjust how they connect with Diagnostic Report in R5.</p>",
        "id": 260717099,
        "sender_full_name": "Bret H",
        "timestamp": 1636404665
    },
    {
        "content": "<p>I suppose I didn't have this as a bullet item, but I should have (which this aligns with what Bret is saying)</p>\n<ul>\n<li>Do not have a reference from DR to DocRef, only use (DocRef.context.related to refer to GenomicsReport): <a href=\"http://hl7.org/fhir/R4/documentreference-definitions.html#DocumentReference.context.related\">http://hl7.org/fhir/R4/documentreference-definitions.html#DocumentReference.context.related</a></li>\n</ul>",
        "id": 260717939,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636405111
    },
    {
        "content": "<p>So, the new list of options:</p>\n<ul>\n<li>Go with an extension for now, but add to our STU note that this approach will change to <a href=\"http://DR.media\">DR.media</a> once we upgrade our IG to R5. <ul>\n<li>If extension, we need to decide between a new extension or use 'SupportingInformation' and update our proposed guidance</li>\n</ul>\n</li>\n<li>Do not have a reference from DR to DocRef, only use (DocRef.context.related to refer to GenomicsReport) and update our proposed guidance: <a href=\"http://hl7.org/fhir/R4/documentreference-definitions.html#DocumentReference.context.related\">http://hl7.org/fhir/R4/documentreference-definitions.html#DocumentReference.context.related</a></li>\n</ul>\n<p><span class=\"user-mention\" data-user-id=\"191916\">@ Bob Milius</span> - This might be good to discuss in today's meeting.</p>",
        "id": 260799416,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636465802
    },
    {
        "content": "<p>Let's not forget to also highlight the option to use the relatedArtifact extension with type=justification, for the folks who don't want to inflate the file to its own resource and want to \"inline it\" within the report</p>",
        "id": 260800032,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1636466106
    },
    {
        "content": "<p>Are you suggesting that as an alternative, or as \"the way\" ?</p>",
        "id": 260801713,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636466826
    },
    {
        "content": "<p>Currently it's the cleanest way to get an Attachment in, and it gets around the mimetype issue</p>",
        "id": 260802833,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1636467262
    },
    {
        "content": "<p>I like clean for sure, and at first I thought the same. However, the more I read about RelatedArtifact, it just doesn't feel right. How RelatedArtifact is used feels different that what we need.</p>\n<p>Even if we consider this, is justification really the right code?</p>\n<blockquote>\n<p>The target artifact is a summary of the justification for the knowledge resource including supporting evidence, relevant guidelines, or other clinically important information. This information is intended to provide a way to make the justification for the knowledge resource available to the consumer of interventions or results produced by the knowledge resource.</p>\n</blockquote>",
        "id": 260803248,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636467431
    },
    {
        "content": "<p>So vote next week to include/merge the new extension with guidance on use? </p>\n<p>including use (DocRef.context.related to refer to GenomicsReport) and update our proposed guidance: <a href=\"http://hl7.org/fhir/R4/documentreference-definitions.html#DocumentReference.context.related\">http://hl7.org/fhir/R4/documentreference-definitions.html#DocumentReference.context.related</a></p>\n<p>I think Kevin's got that in the branch for the topic.</p>",
        "id": 260826743,
        "sender_full_name": "Bret H",
        "timestamp": 1636477410
    },
    {
        "content": "<p>Correct <span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span></p>",
        "id": 260826896,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636477464
    },
    {
        "content": "<p>glad I'm on target</p>",
        "id": 260827157,
        "sender_full_name": "Bret H",
        "timestamp": 1636477563
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191913\">Kevin Power</span> <a href=\"#narrow/stream/179197-genomics/topic/Proposal.20for.20new.20extension.20-.20Genomics.20File/near/260803248\">said</a>:</p>\n<blockquote>\n<p>I like clean for sure, and at first I thought the same. However, the more I read about RelatedArtifact, it just doesn't feel right. How RelatedArtifact is used feels different that what we need.</p>\n<p>Even if we consider this, is justification really the right code?</p>\n<blockquote>\n<p>The target artifact is a summary of the justification for the knowledge resource including supporting evidence, relevant guidelines, or other clinically important information. This information is intended to provide a way to make the justification for the knowledge resource available to the consumer of interventions or results produced by the knowledge resource.<br>\n</p>\n</blockquote>\n</blockquote>\n<p>Sorry  - don't want to confuse things.. but does the path we plan on taking address your concerns noted above <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> ?</p>",
        "id": 260831246,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636479374
    },
    {
        "content": "<p>LOL - I may have lost track of just what is being proposed!! <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 260831349,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636479448
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> - Yes, because we won't use RelatedArtifact now.</p>",
        "id": 260831366,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636479458
    },
    {
        "content": "<p>We will go forward with the proposal found described by this guidance:<br>\n<a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#file-attachments\">http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#file-attachments</a></p>",
        "id": 260831476,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636479509
    },
    {
        "content": "<p>looks great but might want to strike \"Another approach to avoid for attaching files is the <a href=\"http://DiagnosticReport.media\">DiagnosticReport.media</a> attribute. Its definition focuses on \"Key images associated with this report\" which does not align well with this use case.\" if <a href=\"http://diagnosticReport.media\">diagnosticReport.media</a> definition will be changing in R5</p>",
        "id": 260832015,
        "sender_full_name": "Bret H",
        "timestamp": 1636479614
    },
    {
        "content": "<p>Ahh yea, I will rework that a bit before my next meeting.</p>",
        "id": 260832188,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636479662
    },
    {
        "content": "<p>OK, I had to rush a bit due to other conflicts, but I have pushed up changes here:<br>\n<a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#attaching-genomic-files\">http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#attaching-genomic-files</a></p>\n<p>I incorporated some of the suggestions from <span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span> as well. So, I would suggest everyone re-read this section and make sure it sounds good.</p>",
        "id": 260843147,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636484008
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span>  do you happen to have the previous text for this section? I am finding that some of the content is much less clear than it was previously so I am doing some editing. But I would like to see the phrasing that was used in the previous version.</p>",
        "id": 260849671,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636486743
    },
    {
        "content": "<p>Sorry <span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> - On my local device, I can back-out the latest change and share the previous text here. Give me 10 mins. I did try to merge in Jamie's updates with mine, and likely didn't do very well.</p>",
        "id": 260851430,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636487599
    },
    {
        "content": "<p>File Attachments<br>\nThis approach to file attachments needs to be carefully reviewed and considered. There are many potential issues and the Work Group welcomes feedback.</p>\n<p>The Genomics File extension can be used to transmit the contents of, or links to, files that were produced as part of the testing process. Common examples are VCF, BAM, CRAM, and other similar files. Using the Genomics Document Reference profile provides the advantage of allowing a file to have its own existence and makes queries like \"find all VCF files for this patient\" possible by directly querying the DocumentReference resource. The extension provides an easy way to identify the file that is associated to a given report.</p>\n<p>There are many considerations for these kinds of files, but one of the most recognized is file size. Many can be quite large, so size must be carefully considered. The GenomicsDocumentReference resource has different options to evaluate for your use case. The document content can be embedded directly in the resource using <a href=\"http://DocumentReference.content.attachment.data\">DocumentReference.content.attachment.data</a>. In this case, the servers receiving the files may have size constraints per resource or per transaction which may limit your options. Alternatively, the file can be referenced by a URL using DocumentReference.content.attachment.url. The URL will likely point to an online resource that is not the FHIR server, perhaps referring directly to a cloud resource that hosts the file. In this case, servers may have constraints that limits access to resources outside the organization, which would prevent the receiving system from accessing the data. This approach also introduces authorization concerns, where the FHIR server would need to understand the authorization mechanism used to protect the file.</p>\n<p>Implementers should also consider how the files were generated - what pipelines were used, what tools and applications were used in those pipelines, specific settings, and more. All of these must be carefully evaluated to ensure appropriate use of those files in downstream processes. The DocumentReference.description might be helpful for sending systems to provide some guidance on how the file was generated. However, a fully computable approach has yet to be described.</p>\n<p>It should be noted that the Genomic File extension is not an appropriate way to send a copy of the report (e.g., PDF or other document containing the written report). Instead, use DiagnosticReport.presentedForm. Also note the Genomic File extension is different than the Genomics Artifact extension, which is used to reference citations, evidence and other supporting documentation for the observation or report. Another approach to avoid for attaching files is the <a href=\"http://DiagnosticReport.media\">DiagnosticReport.media</a> attribute. Its definition focuses on \"Key images associated with this report\" which does not align well with this use case.</p>\n<p>While a full, detailed discussion of an implementation is outside the scope of this IG, these and other factors affect how these files should be handled. In a future release, this IG may include a profile of DocumentReference or other artifacts to provide more specific guidance.</p>",
        "id": 260852709,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636488151
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> ^^^ previous text ^^^</p>",
        "id": 260854561,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636489072
    },
    {
        "content": "<p>Here is my edit of the text.... I have a word doc with tracking on, if you would like me to attach it here.  Please not two sections which begin with \"AH note\".  These are sections I could not resolve. </p>\n<p>In a future release, the file attachments guidance below, will be changed to utilize upcoming FHIR R5 updates to the <a href=\"http://DiagnosticReport.media\">DiagnosticReport.media</a> backbone element. The attribute will refer to DocumentReference instead of Media, and this guidance will then be updated. This approach to file attachments needs to be carefully reviewed and considered. There are many potential issues and the Work Group welcomes feedback.</p>\n<p>There are use cases in genomics where a deeper level of data than that provided by the variant profile is warranted, thus, specifications such as VCF, BAM, CRAM, and MAF have been developed. Best practices in exchanging these files along with the metadata necessary to make use of them through a FHIR API remains a complicated and open issue. See operations for a description of an experimental alternative workflow.</p>\n<p>While in future versions of FHIR other resources or options might be preferred, currently, DocumentReference is a good candidate as a means to provide access to genomic data formats (AH QUESTION: We call them data formats here and specifications in paragraph above – which should we use?)  such as VCF, BAM, CRAM and MAF. As opposed to the files just mentioned: attachments which  are individually useful (such as clinical notes) would likely be  sent in FHIR using the DocumentReference resource, which allows the file and its captured metadata (e.g. within the DocumentReference.context element) to be discovered via search queries.</p>\n<p>(AH NOTE: - This paragraph was originally the key point of this section, but is now a bit lost – and I can’t harmonize the earlier draft with this current draft. It DEFINITELY needs work however, as I can’t easily make sense of it …. To many references to “objects” without enough clear text providing the context) The Genomics File extension can be used to transmit the contents of, or links to, files that were produced as part of the testing process The Genomics File extension can be used to reference files from the GenomicsReport. Also provided is the Genomics Document Reference profile which provides guidance for the genomic file itself.</p>\n<p>When sending genomic files there are many considerations. For example, it is not unusual for files to be gigabytes in size. The DocumentReference resource has different options to evaluate for your use case. If embedded directly using using <a href=\"http://DocumentReference.content.attachment.data\">DocumentReference.content.attachment.data</a>, servers receiving the files may have size constraints per resource or per transaction which may limit your options. Instead of sending a large data file, the file can be referenced by a URL and title using the using DocumentReference.content.attachment.url element. This can point to an online resource that hosts the file or from where the file can be accessed. For genomic files, the host is likely not the FHIR server providing the DocumentReference data instance. Be aware that use of DocumentReference to provide access to files through URLs introduces authorization requirements that are out of scope of this Implementation Guide.</p>\n<p>For receivers to make use of these files,  many facets of the generation of the genomic files will be needed, such as what pipelines, tools, and settings were used. The intended downstream use case must be carefully evaluated to ensure appropriate file preparation. The DocumentReference.description might be helpful for a sending system to provide guidance on how the file was generated. A fully computable approach for this issue has yet to be defined.<br>\nIt should be noted that the Genomic File extension is not an appropriate way to send a copy of the report (e.g., PDF or other document containing the written report). Instead, use DiagnosticReport.presentedForm. Also note the Genomic File extension is different than the Genomics Artifact extension, which is used to reference citations, evidence and other supporting documentation for the observation or report. In this release, another approach to avoid for attaching files is the <a href=\"http://DiagnosticReport.media\">DiagnosticReport.media</a> attribute. Its definition focuses on \"Key images associated with this report\" which does not align well with this use case. However, as noted in the STU note above, this will be changing in a future release.</p>\n<p>A full, detailed implementation discussion, is outside the scope of this IG. In a future release, this IG may include other profiles or artifacts along with more specific guidance.</p>",
        "id": 260873049,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636497715
    },
    {
        "content": "<p>Here is the word doc with tracking on <br>\n<a href=\"/user_uploads/10155/ECb07gsd2agtjpFvdXfCc7Yw/text-for-IG.docx\">text-for-IG.docx</a></p>",
        "id": 260873292,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636497831
    },
    {
        "content": "<p>Yea, this is my fault <span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> - I tried to slam it through and didn't review closely enough. I will see about doing some cleanup tonight.</p>",
        "id": 260873341,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636497844
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191913\">Kevin Power</span> <a href=\"#narrow/stream/179197-genomics/topic/Proposal.20for.20new.20extension.20-.20Genomics.20File/near/260873341\">said</a>:</p>\n<blockquote>\n<p>Yea, this is my fault <span class=\"user-mention silent\" data-user-id=\"196476\">Arthur Hermann</span> - I tried to slam it through and didn't review closely enough. I will see about doing some cleanup tonight.</p>\n</blockquote>\n<p>Please don't appologize Kevin!!  We are all thankful for the tremendous work you are putting in to this and other efforts!</p>",
        "id": 260873838,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636498139
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> - I pushed up some changes, please review.</p>",
        "id": 261005245,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636557875
    },
    {
        "content": "<p>Ok will do.. thanks</p>",
        "id": 261005298,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636557897
    },
    {
        "content": "<p>Looks great <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> !  I few minor typos and change suggested below.  Then from my perspective this section is clear and reads well. Others should review as well</p>\n<p>First Sentence (in pink area) : In a future release, th genomic file   --Correct the spelling of \"the\" </p>\n<p>third sentence of actual entry: e metadata necessary to make use of them through a FHIR API remains a  ----- --add a comma after API</p>\n<p>When sending these genomic files, implementers should utilize the Genomics Document Reference profile which is used for sending meaningful metadata about the file.</p>\n<p>--Change to:  When sending these genomic files, implementers should utilize the Genomics Document Reference profile to send meaningful metadata about the file.</p>",
        "id": 261009657,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636559694
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 261011533,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636560398
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> - Updates made, please double check me.</p>",
        "id": 261060510,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636581396
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> I found a few more typos - sigh... is there someplace I could edit this and you could just push up the changes? if not, I will do as I did previously and note the typos I found..</p>",
        "id": 261065488,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636583802
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> - Sorry my writing sucks <span aria-label=\"frown\" class=\"emoji emoji-1f641\" role=\"img\" title=\"frown\">:frown:</span> Probably easiest is to do your word doc approach w/track changes on again.</p>",
        "id": 261066177,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636584148
    },
    {
        "content": "<p>I think we are almost done  - so let's try these changes... then I will review once more.. but think I have caught everything.. of course it would be great to have other reviewers..  </p>\n<hr>\n<p>The guidance below to file attachments needs to be carefully reviewed and considered. There are potential issues and the Work Group welcomes feedback.</p>\n<p>---- change to: The guidance below for file attachments</p>\n<p>this approach allows the files to have their own existence and enables queries to find them possible via the DocumentReference resource. </p>\n<p>--- delete word \"possible\"</p>\n<p>in this release, another approach to avoid for attaching files is the <a href=\"http://DiagnosticReport.media\">DiagnosticReport.media</a> attribute.</p>\n<p>---change to:  An approach which sould be avoided for attaching files (at least for this current release and guidance) is the <a href=\"http://DiagnosticReport.media\">DiagnosticReport.media</a> attribute.</p>",
        "id": 261067269,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636584777
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> - I just pushed up these changes and am waiting on the build ( it should be available in 5-10 minutes ).</p>\n<p>Sorry to treat you like Grammerly <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 261069434,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636585726
    },
    {
        "content": "<p>... although that is a pretty cool nickname <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 261069482,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636585769
    },
    {
        "content": "<p>Build complete <span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span></p>",
        "id": 261071252,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636586877
    },
    {
        "content": "<p>Sorry!  I missed one last type - all else looks good to me - others should review as well please!!  </p>\n<p>To enabling linking the report to those files  - change to enable</p>",
        "id": 261072908,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1636587932
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> - Fixed that one.</p>",
        "id": 261153139,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636647255
    },
    {
        "content": "<p>Anyone else have a bit to review over the next couple of days? I would like to get this one voted on next week if possible.<br>\n<span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span> <span class=\"user-mention\" data-user-id=\"194730\">@Liz Amos</span> <span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span> <span class=\"user-mention\" data-user-id=\"193751\">@Bob Dolin</span></p>",
        "id": 261533015,
        "sender_full_name": "Kevin Power",
        "timestamp": 1636998309
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> to be sure, can you repost the link to the material you want reviewed?</p>",
        "id": 261565445,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1637013466
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#attaching-genomic-files\">http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#attaching-genomic-files</a></p>",
        "id": 261569503,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637015453
    },
    {
        "content": "<p>I think the guidance should go after <a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#genomic-implications\">http://build.fhir.org/ig/HL7/genomics-reporting/branches/kp-file-attachments/general.html#genomic-implications</a> that is after the implications section.</p>\n<p>There's a lot of good information there. this working group certainly strives to help out implementers. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 261573544,
        "sender_full_name": "Bret H",
        "timestamp": 1637017412
    },
    {
        "content": "<p>Since the extension is on the GenomicsReport profile, I kept it with the rest of the GenomicsReport guidance. What is your thinking <span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span> ?</p>",
        "id": 261573739,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637017540
    },
    {
        "content": "<p>That's a fair point. But here's my reasoning: 1) the files are very accessory, 2) the other parts do link from the Report and are key artifacts of the IG and implementation (will likely be more used).</p>",
        "id": 261574757,
        "sender_full_name": "Bret H",
        "timestamp": 1637018086
    },
    {
        "content": "<p>Fair points as well. I think I still propose keeping it where it is, but if others agree with Bret, I can be convinced.</p>",
        "id": 261574968,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637018197
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> <span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span>   I kind of prefer where it is i.e. right after GenomicsReport considering the extension is used on GenomicsReport and since the potential R5 reference is calling out DiagnosticReport as well. <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> I would like to propose a verbiage change to the first sentence to kind of make it more general - thinking about the eMERGE use of bed files - how about \"There are use cases in genomics where a deeper level of data than that provided by the GenomicsReport or variant profile is warranted.  These use cases might be best served by including files such as VCF, BAM, CRAM, MAF and BED to the GenomicsReport.\" (or similar language)</p>",
        "id": 261583626,
        "sender_full_name": "Mullai Murugan",
        "timestamp": 1637023866
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196626\">@Mullai Murugan</span> - I made some changes to that first paragraph, and it is building now.</p>",
        "id": 261660430,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637077496
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191913\">Kevin Power</span> <a href=\"#narrow/stream/179197-genomics/topic/Proposal.20for.20new.20extension.20-.20Genomics.20File/near/261533015\">said</a>:</p>\n<blockquote>\n<p>Anyone else have a bit to review over the next couple of days? I would like to get this one voted on next week if possible.<br>\n<span class=\"user-mention silent\" data-user-id=\"196553\">Jamie Jones</span> <span class=\"user-mention silent\" data-user-id=\"194730\">Liz Amos</span> <span class=\"user-mention silent\" data-user-id=\"192123\">Bret H</span> <span class=\"user-mention silent\" data-user-id=\"193751\">Bob Dolin</span></p>\n</blockquote>\n<p>I think it looks pretty darn good as it is now! Only thing we may want to add is a warning that genomic files will likely be compressed (when their url is accessed) and may have unexpected or missing mime types</p>",
        "id": 261661414,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1637077891
    },
    {
        "content": "<p>I still am hesitant with the placement - there's a lot of text and it gives weight to the concept of including the files. It is a prominent place. Let me re-read. perhaps I just need another sentence.</p>",
        "id": 261672527,
        "sender_full_name": "Bret H",
        "timestamp": 1637082115
    },
    {
        "content": "<p>Yeah. my problem is that attaching genomics files to me is a note about an addendum item - whereas the observations are more critical to discuss (and to be read - although one should read the entire specification...)</p>",
        "id": 261672739,
        "sender_full_name": "Bret H",
        "timestamp": 1637082189
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span>  - I tried adding Jamie's comment to this section.. see what you think: </p>\n<p>When sending genomic files there are many considerations. For example, it is not unusual for files to be gigabytes in size. The DocumentReference resource has different options to evaluate for your use case. If embedded directly using using <a href=\"http://DocumentReference.content.attachment.data\">DocumentReference.content.attachment.data</a>, servers receiving the files may have size constraints per resource or per transaction which may limit your options. Another issue to be aware of, is that these files will likely be compressed and may not have a defined mime type. </p>\n<p>Then a paragraph break and continue the rest as is...</p>",
        "id": 261672894,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1637082244
    },
    {
        "content": "<p>Oh sorry - missed that Jaime said when using a URL... let me try again <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span></p>",
        "id": 261673049,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1637082313
    },
    {
        "content": "<p>To me it is the subject for an end note. could we put a single sentence with a link further down the page? Or maybe ::add something like <strong>\"While most use cases will be satisfied by using genomic Observations &lt;link to Observation anchor&gt;, for those cases where a deeper...\" with the opening sentence. <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> ? <span class=\"user-mention\" data-user-id=\"196626\">@Mullai Murugan</span> ? what do you think?</strong></p>",
        "id": 261673127,
        "sender_full_name": "Bret H",
        "timestamp": 1637082336
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span>  maybe this will work (for including Jaime's comment): </p>\n<p>Instead of sending a large data file, the file can be referenced by a URL and title using the using DocumentReference.content.attachment.url element. This can point to an online resource that hosts the file or from where the file can be accessed. For genomic files, the host is likely not the FHIR server providing the DocumentReference data instance. Be aware that that these files will likely be compressed and may not have a defined mime type. Also be aware that use of DocumentReference to provide access to files through URLs introduces authorization requirements that are out of scope of this Implementation Guide.</p>",
        "id": 261673515,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1637082485
    },
    {
        "content": "<p>Actually, I think Jamie's comments would apply to both approaches (contents embedded versus via URL)?</p>",
        "id": 261674353,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637082876
    },
    {
        "content": "<p>Meaning, if the sender includes a base64 encoded file in <a href=\"http://DocumentReference.content.attachment.data\">DocumentReference.content.attachment.data</a>, that might also be compressed and may not have a defined mime type.</p>",
        "id": 261675296,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637083336
    },
    {
        "content": "<p>I would actually propose adding <em>this</em> to the end of 3rd paragraph:</p>\n<blockquote>\n<p>... Be aware that use of DocumentReference to provide access to files through URLs introduces authorization requirements that are out of scope of this Implementation Guide. <em>With either of these approaches, it is important to note the files might be compressed. The mime types for these genomic files will vary, or possibly be missing. The senders of the data should include as much metadata as possible to enabled the receiver to appropriately handle the files.</em></p>\n</blockquote>",
        "id": 261681443,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637085815
    },
    {
        "content": "<p>Sound great!</p>",
        "id": 261685730,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1637087546
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span> - I am also updating the first sentence:</p>\n<blockquote>\n<p>While this implementation guide strives to provide structured genomic data via a variety of &lt;a href=\"#observations\"&gt;observations&lt;/a&gt;, there are use cases that warrant a deeper level of data than this guide allows.</p>\n</blockquote>",
        "id": 261687291,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637088170
    },
    {
        "content": "<p>Just pushed up the change, should build in about 5 minutes or so</p>",
        "id": 261688326,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637088643
    },
    {
        "content": "<p>thanks!</p>",
        "id": 261688403,
        "sender_full_name": "Bret H",
        "timestamp": 1637088681
    },
    {
        "content": "<p>OK, changes requested from <span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span> and <span class=\"user-mention\" data-user-id=\"192123\">@Bret H</span> made and built.</p>",
        "id": 261692047,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637090123
    },
    {
        "content": "<p>To close out this thread, I have officially merged this with master, so all of these changes are now here:<br>\n<a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/general.html\">http://build.fhir.org/ig/HL7/genomics-reporting/general.html</a></p>",
        "id": 262484014,
        "sender_full_name": "Kevin Power",
        "timestamp": 1637687231
    }
]