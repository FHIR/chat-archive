[
    {
        "content": "<p>I think we've talked about this here and there, how to capture the 'method' by which a variant was called. </p>\n<p>I'm not a software developer, but let me go out on a limb here, and mention a discussion I had with a colleague today, who works in a molecular pathology lab. They use a workflow manager (in this case, nextflow), which references containers (in this case docker), and as a result, different groups can now process the same input (e.g. a BAM or FASTQ file) and obtain the same results (e.g. a VCF). Further, in this case, since their nextflow pipeline is stored in bitbucket, they essentially have a canonical reference to their pipeline.</p>\n<p>Granted, this only addresses the bioinformatics portion of the analysis, but does this sound like something we may want to explore capturing in the FHIR Genomics guide?</p>",
        "id": 199097852,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1590707907
    },
    {
        "content": "<p>This sort of pipeline reference in observation.method should certainly be possible, but it would be hard to identify an example code system for our guidance I think</p>",
        "id": 199098189,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1590708322
    },
    {
        "content": "<p>What about a data type of 'identifier'?</p>",
        "id": 199098264,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1590708396
    },
    {
        "content": "<p>Might make more sense in Proveanance ?</p>\n<p><a href=\"http://build.fhir.org/provenance.html\">http://build.fhir.org/provenance.html</a></p>",
        "id": 199098366,
        "sender_full_name": "Kevin Power",
        "timestamp": 1590708511
    },
    {
        "content": "<p>Recent O&amp;O discussions have included confirming if Device is in scope for this as well. We had briefly explored provenance in the past</p>",
        "id": 199098496,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1590708664
    },
    {
        "content": "<p>I could see using Provenance.Activity for this, although I think Jamie's question still applies (whether a pipeline is a codeableConcept vs. an identifier)</p>",
        "id": 199098573,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1590708730
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193751\">Bob Dolin</span> <a href=\"#narrow/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology/near/199098264\">said</a>:</p>\n<blockquote>\n<p>What about a data type of 'identifier'?</p>\n</blockquote>\n<p>Where would you put this, and what sort of identifier are you asking about?</p>",
        "id": 199098577,
        "sender_full_name": "Kevin Power",
        "timestamp": 1590708736
    },
    {
        "content": "<p>This is a really big question, and one that will require a fair amount of thought and discussion <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 199098620,
        "sender_full_name": "Kevin Power",
        "timestamp": 1590708817
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> For identifier, I was thinking of how we'd point to, for instance, a specific version of something in github. For instance, let's say my pipeline is version 2 of <a href=\"https://github.com/CRG-CNAG/CalliNGS-NF/\">https://github.com/CRG-CNAG/CalliNGS-NF/</a></p>",
        "id": 199098628,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1590708829
    },
    {
        "content": "<p>I think providing guidance to use Observation.method would be the most consistent with the design principles of our IG currently, though it isn't very robust</p>",
        "id": 199098961,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1590709140
    },
    {
        "content": "<p>What I like about it is the ability to reference a very complex set of applications and configurations, all with a single URL.</p>",
        "id": 199099077,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1590709247
    },
    {
        "content": "<p>How are methods reported in current lab reports? We need to at least capture that. </p>\n<p>I see two different kinds of methods. First are the static things, like a standard methodology that is documented in the lab and is used by many different lab reports. Maybe a kit name and version, or a protocol defined at the lab, including the sequencing platform (MiSeq, PacBio, etc), that could be used as a definitional reference. Maybe an accession # to a test in the <a href=\"https://www.ncbi.nlm.nih.gov/gtr/\">Genetic Testing Registry</a>? The second kind of method information are the parameters used in a particular analysis that may be unique to that report.  I'm looking at an XML export of an HLA analysis software and it includes:</p>\n<div class=\"codehilite\"><pre><span></span><code> <span class=\"nt\">&lt;AnalysisSoftware&gt;</span>\n   <span class=\"nt\">&lt;Software&gt;</span>NGSengine<span class=\"nt\">&lt;/Software&gt;</span>\n   <span class=\"nt\">&lt;Version&gt;</span>2.16.2.16030<span class=\"nt\">&lt;/Version&gt;</span>\n <span class=\"nt\">&lt;/AnalysisSoftware&gt;</span>\n <span class=\"nt\">&lt;AnalysisSettings&gt;</span>\n   <span class=\"nt\">&lt;AmpliconMethod&gt;</span>NGSgo<span class=\"nt\">&lt;/AmpliconMethod&gt;</span>\n   <span class=\"nt\">&lt;AnalysisRegion&gt;</span>Amplicon<span class=\"nt\">&lt;/AnalysisRegion&gt;</span>\n   <span class=\"nt\">&lt;IgnoreRegions&gt;</span>Default<span class=\"nt\">&lt;/IgnoreRegions&gt;</span>\n   <span class=\"nt\">&lt;PhasingMethod</span> <span class=\"na\">MinimumReadDepth=</span><span class=\"s\">&quot;20&quot;</span> <span class=\"na\">AlleleRatioThreshold=</span><span class=\"s\">&quot;20&quot;</span> <span class=\"na\">NoiseThreshold=</span><span class=\"s\">&quot;14&quot;</span><span class=\"nt\">&gt;</span>Cluster<span class=\"nt\">&lt;/PhasingMethod&gt;</span>\n   <span class=\"nt\">&lt;ReadTrimmer</span> <span class=\"na\">Applied=</span><span class=\"s\">&quot;Yes&quot;</span><span class=\"nt\">&gt;</span>\n     <span class=\"nt\">&lt;Settings</span> <span class=\"na\">RelativeThreshold=</span><span class=\"s\">&quot;70&quot;</span> <span class=\"na\">AbsoluteThreshold=</span><span class=\"s\">&quot;20&quot;</span> <span class=\"na\">WindowSize=</span><span class=\"s\">&quot;10&quot;</span> <span class=\"nt\">/&gt;</span>\n   <span class=\"nt\">&lt;/ReadTrimmer&gt;</span>\n   <span class=\"nt\">&lt;ApplyCWDList&gt;</span>true<span class=\"nt\">&lt;/ApplyCWDList&gt;</span>\n <span class=\"nt\">&lt;/AnalysisSettings&gt;</span>\n</code></pre></div>\n\n\n<p>I suspect the AnalysisSettings are likely unique for a particular software package (e.g., ApplyCWDLists), so trying to capture settings in a structured way that could be used for multiple software tools would be difficult at best. But some of these might be applicable to other tools, certainly Software and Version.</p>",
        "id": 199162953,
        "sender_full_name": " Bob Milius",
        "timestamp": 1590763301
    },
    {
        "content": "<p>I think this is a very interesting idea - but I want to make sure we step back and make sure we feel this is in our purview and most definitely would like to prioritize vs other work we need to do on the current IG.  As has been pointed out - the data coming directly from a bioinformatics pipeline can take many shapes dependent on the machine and pipeline the lab is using. My first question is why do we want to move that far upstream? Who benefits from adding this to the IG? Secondly, if we do decide we should include this area, we should work closely with O&amp;O on their device work, and as Bob M suggests, develop this in a very open manner since I expect the data from each lab would be very different for each of them.</p>",
        "id": 199173380,
        "sender_full_name": "Arthur Hermann",
        "timestamp": 1590767578
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"196476\">@Arthur Hermann</span> . It's a good point, to figure out if this is needed. And to be honest, I don't think I have a need for it. Rather, it kinda stems from a use case I've heard occasionally, that given, say, a FASTQ or BAM file, it should be possible for two groups to  come up with the same VCF file. Lately I see a number of groups formalizing their pipelines using some type of workflow definition language + containers, suggesting that if we do need to address this, we could potentially wrap up all the complexity in a simple URL.</p>",
        "id": 199211184,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1590785894
    },
    {
        "content": "<p>The RelatedArtifact extension is a great place to send a simple URL</p>",
        "id": 199225853,
        "sender_full_name": "Kevin Power",
        "timestamp": 1590796349
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> I agree, but RA extension isn't defined on variant at this time, just on implications</p>",
        "id": 199375480,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1591021669
    },
    {
        "content": "<p>True, but that seems like an easy addition.  Of course, easy to misuse/overuse.</p>",
        "id": 199379975,
        "sender_full_name": "Kevin Power",
        "timestamp": 1591023959
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> Not sure I'm understanding how the pipeline methodology would be a relatedArtifact. Is this because Method and Provenance.activity don't currently support representation as a URL?</p>",
        "id": 199387346,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1591027439
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193751\">Bob Dolin</span> <a href=\"#narrow/stream/179197-genomics/topic/Representation.20of.20pipeline.20methodology/near/199211184\">said</a>:</p>\n<blockquote>\n<p>..., suggesting that if we do need to address this, we could potentially wrap up all the complexity in a simple URL.</p>\n</blockquote>\n<p>I just wanted to mention that if you were looking for a way to deliver a 'simple URL', RelatedArtifact is an option, especially in the short term.</p>",
        "id": 199390390,
        "sender_full_name": "Kevin Power",
        "timestamp": 1591028873
    },
    {
        "content": "<p>... except for the point that <span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span> made about us not having the extension list on the Variant profile.  Though I don't think that would prevent someone from adding the extension themselves.  Again, this is a short term answer until we can come up with a solid proposal.</p>",
        "id": 199414699,
        "sender_full_name": "Kevin Power",
        "timestamp": 1591041133
    },
    {
        "content": "<p>Uff. Darn good topic and forward thinking. the URL approach seems good, but I can't tell, is there a suggest standard to follow for presenting information at the endpoint of the URL? Also there has been work done on device definition. <a href=\"https://build.fhir.org/device.html\">https://build.fhir.org/device.html</a> do we consider software a device?</p>",
        "id": 200098910,
        "sender_full_name": "Bret H",
        "timestamp": 1591623937
    }
]