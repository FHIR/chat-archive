[
    {
        "content": "<p>Wer FHIR-Ressourcen gegen die AuW-Spezifikation validieren möchte, kann dies jetzt mit Hilfe von Simplifier tun.<br>\nDazu einen (kostenlosen) Account auf <a href=\"https://simplifier.net/\" target=\"_blank\" title=\"https://simplifier.net/\">https://simplifier.net/</a> anlegen und im Portal ein neues STU3-Projekt anlegen.<br>\nDann im Projekt über den Reiter \"Dependencies\" -&gt; Add Dependencies &gt; Manage  das Package \"auw.dummy 0.0.0\" hinzufügen.</p>\n<p>Nun kann man dem Projekt Beispieldaten hinzufügen (upload) und sie gegen die AuW-Spezifikation validieren lassen (validate).</p>\n<p>Wichtig ist nur, dass die Beispiel-Ressourcen im Meta-Element auf das jeweilige Profil, gegen das sie validiert werden sollen verweisen.</p>\n<p>z.B.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;Patient&gt;</span>\n    <span class=\"nt\">&lt;meta&gt;</span>\n        <span class=\"nt\">&lt;profile</span> <span class=\"na\">value=</span><span class=\"s\">&quot;https://fhir.kbv.de/StructureDefinition/74_PR_AW_Patient&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/meta&gt;</span>\n...\n</pre></div>\n\n\n<p>DISCLAIMER: Bei den Daten in dem Package handelt es sich um einen manuellen Upload der KBV-Spezifikation auf Simplifier. Die Autoritative Quelle der Spezifikation ist und bleibt der FTP-Server der KBV.</p>\n<p>Das Package soll lediglich die Nutzung der Profile auf Simplifier erleichtern...</p>",
        "id": 175432577,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1568209367
    },
    {
        "content": "<p>Bei Fragen, bitte melden!</p>",
        "id": 175432600,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1568209389
    },
    {
        "content": "<p>Der Dependencies-Tab des Simplifier-Projektes sollte nach dem Hinzufügen das auw-Packages so aussehen:<br>\n<a href=\"/user_uploads/10155/WwK6e_WI1_VcNliFq9zzvbA1/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/WwK6e_WI1_VcNliFq9zzvbA1/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/WwK6e_WI1_VcNliFq9zzvbA1/pasted_image.png\"></a></div>",
        "id": 175433533,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1568209896
    },
    {
        "content": "<p>Hier ist ein Beispiel für eine Patient-Ressource, die erfolgreich gegen das KBV-Profil validiert:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;Patient</span> <span class=\"na\">xmlns=</span><span class=\"s\">&quot;http://hl7.org/fhir&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;id</span> <span class=\"na\">value=</span><span class=\"s\">&quot;testauw123&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;meta&gt;</span>\n    <span class=\"nt\">&lt;versionId</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;lastUpdated</span> <span class=\"na\">value=</span><span class=\"s\">&quot;2019-09-11&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;profile</span> <span class=\"na\">value=</span><span class=\"s\">&quot;https://fhir.kbv.de/StructureDefinition/74_PR_AW_Patient&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/meta&gt;</span>\n  <span class=\"nt\">&lt;text&gt;</span>\n    <span class=\"nt\">&lt;status</span> <span class=\"na\">value=</span><span class=\"s\">&quot;extensions&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;div</span> <span class=\"na\">xmlns=</span><span class=\"s\">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;p&gt;</span>Hier steht der generierte Narrative<span class=\"nt\">&lt;/p&gt;</span>\n    <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;/text&gt;</span>\n  <span class=\"nt\">&lt;identifier&gt;</span>\n    <span class=\"nt\">&lt;type&gt;</span>\n      <span class=\"nt\">&lt;coding&gt;</span>\n        <span class=\"nt\">&lt;system</span> <span class=\"na\">value=</span><span class=\"s\">&quot;https://fhir.kbv.de/CodeSystem/74_CS_AW_Patient&quot;</span> <span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;SystemID&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/coding&gt;</span>\n    <span class=\"nt\">&lt;/type&gt;</span>\n    <span class=\"nt\">&lt;value</span> <span class=\"na\">value=</span><span class=\"s\">&quot;9973264333&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/identifier&gt;</span>\n  <span class=\"nt\">&lt;name&gt;</span>\n    <span class=\"nt\">&lt;use</span> <span class=\"na\">value=</span><span class=\"s\">&quot;official&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;family</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Test&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;given</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Auw&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/name&gt;</span>\n  <span class=\"nt\">&lt;gender</span> <span class=\"na\">value=</span><span class=\"s\">&quot;female&quot;</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;birthDate</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1980-09-02&quot;</span> <span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/Patient&gt;</span>\n</pre></div>",
        "id": 175436003,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1568211295
    },
    {
        "content": "<p>EDIT: es gibt noch eine einfachere Möglichkeit!</p>\n<p>An diesem Endpunkt können beliebige Ressourcen gegen die KBV-AWS-Spezifikationen validiert werden:<br>\n<a href=\"https://simplifier.net/validate?fhirVersion=STU3&amp;scope=aws-dummy-current\" target=\"_blank\" title=\"https://simplifier.net/validate?fhirVersion=STU3&amp;scope=aws-dummy-current\">https://simplifier.net/validate?fhirVersion=STU3&amp;scope=aws-dummy-current</a></p>\n<p>In dieser Version sind auch die technischen Korrekturen in den Basisprofilen, die <a href=\"#narrow/stream/208065-german.2Fkbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil\" title=\"#narrow/stream/208065-german.2Fkbv/topic/Validierung.20gegen.20Kostentr.C3.A4ger.20Profil\">hier</a> aufgefallen sind, bereits angewendet.</p>",
        "id": 175761045,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1568573304
    },
    {
        "content": "<p>Guten Morgen</p>\n<p>ich habe das Beispiel für einen Patienten erweitert und frage mich nun, wie man mehrere Extensions innerhalb eines Elements angibt.</p>\n<p>Diese Variante funktioniert nicht:</p>\n<p>&lt;Patient xmlns=\"<a href=\"http://hl7.org/fhir\" target=\"_blank\" title=\"http://hl7.org/fhir\">http://hl7.org/fhir</a>\"&gt;<br>\n  &lt;id value=\"testauw123\" /&gt;<br>\n  &lt;meta&gt;<br>\n    &lt;versionId value=\"1\" /&gt;<br>\n    &lt;lastUpdated value=\"2019-09-11\" /&gt;<br>\n    &lt;profile value=\"<a href=\"https://fhir.kbv.de/StructureDefinition/74_PR_AW_Patient\" target=\"_blank\" title=\"https://fhir.kbv.de/StructureDefinition/74_PR_AW_Patient\">https://fhir.kbv.de/StructureDefinition/74_PR_AW_Patient</a>\" /&gt;<br>\n  &lt;/meta&gt;<br>\n  &lt;text&gt;<br>\n    &lt;status value=\"extensions\" /&gt;<br>\n    &lt;div xmlns=\"<a href=\"http://www.w3.org/1999/xhtml\" target=\"_blank\" title=\"http://www.w3.org/1999/xhtml\">http://www.w3.org/1999/xhtml</a>\"&gt;<br>\n      &lt;p&gt;Hier steht der generierte Narrative&lt;/p&gt;<br>\n    &lt;/div&gt;<br>\n  &lt;/text&gt;<br>\n    &lt;identifier&gt;<br>\n    &lt;type&gt;<br>\n      &lt;coding&gt;<br>\n        &lt;system value=\"<a href=\"https://fhir.kbv.de/CodeSystem/74_CS_AW_Patient\" target=\"_blank\" title=\"https://fhir.kbv.de/CodeSystem/74_CS_AW_Patient\">https://fhir.kbv.de/CodeSystem/74_CS_AW_Patient</a>\" /&gt;<br>\n        &lt;code value=\"VersichertenID_GKV\" /&gt;<br>\n      &lt;/coding&gt;<br>\n    &lt;/type&gt;<br>\n    &lt;system value=\"<a href=\"http://fhir.de/NamingSystem/gkv/kvid-10\" target=\"_blank\" title=\"http://fhir.de/NamingSystem/gkv/kvid-10\">http://fhir.de/NamingSystem/gkv/kvid-10</a>\" /&gt;<br>\n    &lt;value value=\"A997326433\" /&gt;<br>\n  &lt;/identifier&gt;<br>\n  &lt;identifier&gt;<br>\n    &lt;type&gt;<br>\n      &lt;coding&gt;<br>\n        &lt;system value=\"<a href=\"https://fhir.kbv.de/CodeSystem/74_CS_AW_Patient\" target=\"_blank\" title=\"https://fhir.kbv.de/CodeSystem/74_CS_AW_Patient\">https://fhir.kbv.de/CodeSystem/74_CS_AW_Patient</a>\" /&gt;<br>\n        &lt;code value=\"SystemID\" /&gt;<br>\n      &lt;/coding&gt;<br>\n    &lt;/type&gt;<br>\n    &lt;value value=\"9973264333\" /&gt;<br>\n  &lt;/identifier&gt;<br>\n  &lt;name&gt;<br>\n    &lt;use value=\"usual\" /&gt;<br>\n    &lt;family value=\"Gräfin zu Testfrau\"&gt;<br>\n        &lt;extension url=\"<a href=\"http://fhir.de/StructureDefinition/humanname-namenszusatz/0.2\" target=\"_blank\" title=\"http://fhir.de/StructureDefinition/humanname-namenszusatz/0.2\">http://fhir.de/StructureDefinition/humanname-namenszusatz/0.2</a>\"&gt;<br>\n            &lt;valueString value=\"Gräfin\" /&gt;<br>\n        &lt;/extension&gt;<br>\n        &lt;extension url=\"<a href=\"http://hl7.org/fhir/StructureDefinition/humanname-own-name\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/humanname-own-name\">http://hl7.org/fhir/StructureDefinition/humanname-own-name</a>\"&gt;<br>\n            &lt;valueString value=\"Testfrau\" /&gt;<br>\n        &lt;/extension&gt;<br>\n        &lt;extension url=\"<a href=\"http://hl7.org/fhir/StructureDefinition/humanname-own-prefix\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/humanname-own-prefix\">http://hl7.org/fhir/StructureDefinition/humanname-own-prefix</a>\"&gt;<br>\n            &lt;valueString value=\"zu\" /&gt;<br>\n        &lt;/extension&gt;<br>\n    &lt;/family&gt;<br>\n    &lt;given value=\"Hildegard\" /&gt;<br>\n    &lt;prefix value=\"Dipl-Ing.\" /&gt;<br>\n  &lt;/name&gt;<br>\n  &lt;gender value=\"female\" /&gt;<br>\n  &lt;birthDate value=\"1980-09-02\" /&gt;<br>\n&lt;/Patient&gt;<br>\n Ich erhalte die Fehlermeldung: Invalid : Instance count for 'HumanName.family.extension:namenszusatz' is 3, which is not within the specified cardinality of 0..1<br>\nPatient.name[0].family[0]</p>\n<p>Schöne Grüße, Jan Flörke</p>",
        "id": 176172034,
        "sender_full_name": "Jan Flörke",
        "timestamp": 1568965870
    },
    {
        "content": "<p>Das Beispiel mit den Extensions erscheint mir korrekt.<br>\nDie Fehlermeldung ist in jedem Fall Unsinn und deutet auf einen Bug im verwendeten Validator hin (ich vermute, das erfolgte via Simplifier?).</p>\n<p>Ein kurzer Check  den für diesen Zweck gleichwertigen deutschen Basisprofilen zeigt übrigens, dass Simplifier sogar unser offizielles und ganz sicher seinereit validiertes äquivalentes Beispiel derzeit als fehlerhaft erkennt:</p>\n<p><a href=\"https://simplifier.net/basisprofilde/example-patient-de-basis-humanname-komplex\" target=\"_blank\" title=\"https://simplifier.net/basisprofilde/example-patient-de-basis-humanname-komplex\">https://simplifier.net/basisprofilde/example-patient-de-basis-humanname-komplex</a><br>\nbzw. als Validierungsergebnis:<br>\n<a href=\"https://simplifier.net/basisprofilde/example-patient-de-basis-humanname-komplex/$validate\" target=\"_blank\" title=\"https://simplifier.net/basisprofilde/example-patient-de-basis-humanname-komplex/$validate\">https://simplifier.net/basisprofilde/example-patient-de-basis-humanname-komplex/$validate</a></p>\n<p>Ich meine, das Problem hatten wir auch schon an Firely gemeldet(?) Ich mache es zur Sicherheit gerade nochmal.</p>",
        "id": 176173288,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1568967205
    },
    {
        "content": "<p>Siehe <a href=\"https://github.com/FirelyTeam/fhir-net-api/issues/885\" target=\"_blank\" title=\"https://github.com/FirelyTeam/fhir-net-api/issues/885\">https://github.com/FirelyTeam/fhir-net-api/issues/885</a></p>",
        "id": 176173890,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1568967787
    }
]