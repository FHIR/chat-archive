[
    {
        "content": "<p>Hallo,</p>\n<p>Gerade versuche ich eine Beispiel von eine Kostenträger Profil von KBV von VOS 1.01. Das kann man hier <a href=\"https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger\" target=\"_blank\" title=\"https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger\">https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger</a> finden.<br>\nDa gibts eine nested extension das 'ruhenderLeistunganspruchart' heißt. Das ist eine Coverage-&gt;gkv-zusatzinfo-geschuetzt-&gt;ruhenderLeistungsanspruch-&gt;art finden. Das hat eine valueCode von [12]. Laut Doku von FHIR Elementdefinition \"<a href=\"http://www.hl7.org/fhir/STU3/elementdefinition-definitions.html#ElementDefinition.pattern_x_\" target=\"_blank\" title=\"http://www.hl7.org/fhir/STU3/elementdefinition-definitions.html#ElementDefinition.pattern_x_\">http://www.hl7.org/fhir/STU3/elementdefinition-definitions.html#ElementDefinition.pattern_x_</a>\" bedeutet das einer Wert von die pattern erlaubt sein soll. Das heißt, da sollte \"1\" oder \"2\" erlaubt sein.</p>\n<p>Jetzt wenn ich meine beispiel Kostenträger XML mit eine Pattern Code von \"1\" auf dem Simplifier gegen  <a href=\"https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger\" target=\"_blank\" title=\"https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger\">https://simplifier.net/verordnungssoftware-schnittstelle/74prvmkostentraeger</a> validiere, bekomme ich fehler meldung. Meine Beispiel Kostenträger sieht wie folgt aus:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;Coverage&gt;\n    &lt;id value=&quot;VOSCOVERAGE&quot; /&gt;\n    &lt;meta&gt;\n        &lt;profile value=&quot;http://www.kbv.de/fhir/Profil/74_PR_VM_Kostentraeger&quot; /&gt;\n    &lt;/meta&gt;\n    &lt;extension url=&quot;http://fhir.de/StructureDefinition/gkv/zusatzinfos-geschuetzt/0.2&quot;&gt;\n        &lt;extension url=&quot;besonderePersonengruppe&quot;&gt;\n            &lt;valueCode value=&quot;00&quot; /&gt;\n        &lt;/extension&gt;\n        &lt;extension url=&quot;dmpKennzeichnung&quot;&gt;\n            &lt;valueCode value=&quot;00&quot; /&gt;\n        &lt;/extension&gt;\n        &lt;extension url=&quot;ruhenderLeistungsanspruch&quot;&gt;\n            &lt;extension url=&quot;beginn&quot;&gt;\n                &lt;valueDate value=&quot;2018-01-01&quot; /&gt;\n            &lt;/extension&gt;\n            &lt;extension url=&quot;ende&quot;&gt;\n                &lt;valueDate value=&quot;2019-01-01&quot; /&gt;\n            &lt;/extension&gt;\n            &lt;extension url=&quot;art&quot;&gt;\n                &lt;valueCode value=&quot;1&quot; /&gt;\n            &lt;/extension&gt;\n        &lt;/extension&gt;\n    // Something else required for the profile.\n    &lt;/Coverage&gt;\n</pre></div>\n\n\n<p>Dann bekomme ich eine Fehlermeldung wie folgt:</p>\n<div class=\"codehilite\"><pre><span></span>Invalid : Value does not match pattern &#39;[12]&#39;\nCoverage.extension[1].extension[2].extension[2].valueCode[0]\n</pre></div>\n\n\n<p>Statt \"1\", wenn ich [12] als Wert geben, dann bekommen ich keine fehler meldungen. <br>\nIch finde dass es komisch ist oder soll das so sein? </p>\n<p>Hinweis von meine Researche:<br>\nDas ist eine Element von eine Coverage_DE_GKV Profil, dass KBV irgendwo ableitet(denke ich).  </p>\n<p>Den relevante XML teil von die Profil habe ich hier:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;element id=&quot;Extension.extension:ruhenderLeistungsanspruch.extension:art.value[x]:valueCode&quot;&gt;\n    &lt;path value=&quot;Extension.extension.extension.valueCode&quot;/&gt;\n    &lt;sliceName value=&quot;valueCode&quot;/&gt;\n    &lt;short value=&quot;Value of extension&quot;/&gt;\n    &lt;definition value=&quot;Value of extension - may be a resource or one of a constrained set of the data types (see Extensibility in the spec for list).&quot;/&gt;\n    &lt;comment value=&quot;A stream of bytes, base64 encoded&quot;/&gt;\n    &lt;min value=&quot;1&quot;/&gt;\n    &lt;max value=&quot;1&quot;/&gt;\n    &lt;base&gt;\n        &lt;path value=&quot;Extension.value[x]&quot;/&gt;\n        &lt;min value=&quot;0&quot;/&gt;\n        &lt;max value=&quot;1&quot;/&gt;\n    &lt;/base&gt;\n    &lt;type&gt;\n        &lt;code value=&quot;code&quot;/&gt;\n    &lt;/type&gt;\n    &lt;patternCode value=&quot;[12]&quot;/&gt;\n    &lt;condition value=&quot;ele-1&quot;/&gt;\n    &lt;constraint&gt;\n        &lt;key value=&quot;ele-1&quot;/&gt;\n        &lt;severity value=&quot;error&quot;/&gt;\n        &lt;human value=&quot;All FHIR elements must have a @value or children&quot;/&gt;\n        &lt;expression value=&quot;hasValue() | (children().count() &gt; id.count())&quot;/&gt;\n        &lt;xpath value=&quot;@value|f:*|h:div&quot;/&gt;\n    &lt;/constraint&gt;\n    &lt;mapping&gt;\n        &lt;identity value=&quot;rim&quot;/&gt;\n        &lt;map value=&quot;n/a&quot;/&gt;\n    &lt;/mapping&gt;\n    &lt;mapping&gt;\n        &lt;identity value=&quot;rim&quot;/&gt;\n        &lt;map value=&quot;N/A&quot;/&gt;\n    &lt;/mapping&gt;\n&lt;/element&gt;\n</pre></div>",
        "id": 175513974,
        "sender_full_name": "Sarat Chand Kandukuri",
        "timestamp": 1568281558
    },
    {
        "content": "<p>Ja, das ist ein Fehler in der Definition der Extension im deutschen Basisprofil! Das müsste ein Constraint mit der FHIRPath-Expression matches(‚[12]‘) sein statt dem Pattern, um das zu tun, was es soll! <br>\nIch kümmere mich um die Korrektur!<br>\nDanke für den Hinweis!</p>",
        "id": 175515160,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1568282807
    },
    {
        "content": "<p>Hii Simone,</p>\n<p>Dann sollte nicht nur für die Extension, es sollte auch villeicht auch für die folgenden extensions angepasst werden.<br>\nIn the <a href=\"http://fhir.de/StructureDefinition/gkv/zusatzinfos-geschuetzt/0.2\" target=\"_blank\" title=\"http://fhir.de/StructureDefinition/gkv/zusatzinfos-geschuetzt/0.2\">http://fhir.de/StructureDefinition/gkv/zusatzinfos-geschuetzt/0.2</a> : </p>\n<div class=\"codehilite\"><pre><span></span>gkv-zusatzinfo-geschuetzt.zuzahlungstatus.status.valueCode\ngkv-zusatzinfo-geschuetzt.selektivvertaege.aerztlich.valueCode\ngkv-zusatzinfo-geschuetzt.selektivvertaege.zahnaerztlich.valueCode\ngkv-zusatzinfo-geschuetzt.selektivvertaege.art.valueCode\n</pre></div>\n\n\n<p>und in the <a href=\"http://fhir.de/StructureDefinition/gkv/zusatzinfos-allgemein/0.2\" target=\"_blank\" title=\"http://fhir.de/StructureDefinition/gkv/zusatzinfos-allgemein/0.2\">http://fhir.de/StructureDefinition/gkv/zusatzinfos-allgemein/0.2</a>:</p>\n<div class=\"codehilite\"><pre><span></span>gkv-zusatzinfo-allgemein.kostenerstaettung.aerztlichVersorgung.valueCode\ngkv-zusatzinfo-allgemein.kostenerstaettung.zahnaerztlichVersorgung.valueCode\ngkv-zusatzinfo-allgemein.kostenerstaettung.stationaereBereich.valueCode\ngkv-zusatzinfo-allgemein.kostenerstaettung.veranlassteLeistungen.valueCode\n</pre></div>\n\n\n<p>Danke in Voraus.</p>",
        "id": 175516249,
        "sender_full_name": "Sarat Chand Kandukuri",
        "timestamp": 1568284032
    },
    {
        "content": "<p>Ich habe die Extensions jetzt korrigiert:<br>\n<a href=\"https://simplifier.net/BasisprofilDE/gkv-zusatzinfos-allgemein-0.2\" target=\"_blank\" title=\"https://simplifier.net/BasisprofilDE/gkv-zusatzinfos-allgemein-0.2\">https://simplifier.net/BasisprofilDE/gkv-zusatzinfos-allgemein-0.2</a><br>\n<a href=\"https://simplifier.net/basisprofilde/gkv-zusatzinfos-geschuetzt-0.2\" target=\"_blank\" title=\"https://simplifier.net/basisprofilde/gkv-zusatzinfos-geschuetzt-0.2\">https://simplifier.net/basisprofilde/gkv-zusatzinfos-geschuetzt-0.2</a></p>\n<p>Ich werde es gleich mal mit deinem Beispiel testen...</p>",
        "id": 175752603,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1568559496
    },
    {
        "content": "<p>Ok, die gute Nachricht ist: Die Fehlermeldung erscheint jetzt nicht mehr, wenn man einen gültigen Code eingibt.<br>\nDie schlechte Nachricht ist: Wenn man einen <em>ungültigen Wert</em> eingibt , sollte eigentlich eine Warnung erscheinen, tut es momentan aber noch nicht. Ich kläre das und melde mich wieder...</p>",
        "id": 175759349,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1568570597
    },
    {
        "content": "<p>Problem erledigt: Die Fehler werden nun korrekt ausgegeben. Test kann man die korrigierten Fassungen, indem man gegen den Endpunkt <a href=\"https://simplifier.net/validate?fhirVersion=STU3&amp;scope=aws-dummy-current\" target=\"_blank\" title=\"https://simplifier.net/validate?fhirVersion=STU3&amp;scope=aws-dummy-current\">https://simplifier.net/validate?fhirVersion=STU3&amp;scope=aws-dummy-current</a> validiert.</p>",
        "id": 175761115,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1568573449
    },
    {
        "content": "<p>In diesem Zusammenhang bitte ich auch um Beachtung der <a href=\"#narrow/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR\" title=\"#narrow/stream/179183-german-(d-a-ch)/topic/eGK.2FVSDM-Daten.20in.20FHIR\">Diskussionen im allgemeinen Deutschen Stream zur künftigen Handhabung der eGK/VSDM-Daten in R4</a>. Wir würden uns über Feedback von Entwicklern freuen!</p>",
        "id": 175818119,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1568644729
    },
    {
        "content": "<p>Das scheint jetzt zu funktioneren. sehr sehr gut und vielen Dank <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span></p>",
        "id": 176186622,
        "sender_full_name": "Sarat Chand Kandukuri",
        "timestamp": 1568981454
    }
]