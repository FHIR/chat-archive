[
    {
        "content": "<p>If I have a bundle, with a Messageheader in an entry that has a fullUrl of \"urn:uuid:ee35a7da-f8a2-475b-bee2-559969b78081\", and my MessageHeader.focus.reference is a relative reference of \"Patient/123\"  what should the full url of my Patient resource entry be for it to resolve correctly?  and is there a function in the .net library that will resolve it for me?</p>",
        "id": 226064256,
        "sender_full_name": "Jeremy Chapman",
        "timestamp": 1613080825
    },
    {
        "content": "<p>In such a case, my understanding is that the fullUrl must be a RESTful URL, <code>[base]/Patient/123</code> (which also implies that the resource is available at that URL).</p>\n<p>I don't know how the .net library handles this, you may want to ask in thge <a class=\"stream\" data-stream-id=\"179171\" href=\"/#narrow/stream/179171-dotnet\">#dotnet</a> stream.</p>",
        "id": 226067840,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1613082699
    },
    {
        "content": "<p>So does that mean that you can't resolve the reference, because the base is urn:uuid:ee35a7da-f8a2-475b-bee2-559969b78081  which is not restful?  if the reference is relative, than the fullUrl of the patient resource would need to be urn:uuid:ee35a7da-f8a2-475b-bee2-559969b78081/Patient/123 which is not allowed because it's not restful?</p>",
        "id": 226068215,
        "sender_full_name": "Jeremy Chapman",
        "timestamp": 1613082914
    },
    {
        "content": "<p>No, what I am saying is that if you want to have a relative reference within the bundle, you cannot have a fullUrl that is a URN representing a UUID or OID. The fullUrl in this case must be have a base consisting of http[s]://server/[path/]</p>\n<p>It is the combination of <a href=\"http://build.fhir.org/references.html#literal\">http://build.fhir.org/references.html#literal</a>, <a href=\"http://build.fhir.org/http.html#root\">http://build.fhir.org/http.html#root</a>, and <a href=\"http://build.fhir.org/bundle.html#references\">http://build.fhir.org/bundle.html#references</a></p>",
        "id": 226068938,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1613083340
    },
    {
        "content": "<p><code>Patient/123</code> is not a legal reference from a resource with fullUrl <code>urn:uuid:[whatever]</code>.  That's because the local reference will get converted to <code>urn:uuid:123</code>.  If you're inside a resource that has a uuid fullUrl, all of your references must be either contained references, local references that are uuids or full references (which could be urn:uuid:whatever or <a href=\"http://whatever\">http://whatever</a>)</p>",
        "id": 226077250,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1613088544
    }
]