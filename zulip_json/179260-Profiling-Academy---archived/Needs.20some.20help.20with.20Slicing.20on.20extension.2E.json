[
    {
        "content": "<p>Hi,<br>\nI'm currently writing my first StructureDefinition but I have some issues grasping the concept of slicing and its application.</p>\n<p>I'm profiling an extension of the SDC Questionnaire.<br>\nWhat I want to achieve is that when a Questionnaire item is of type 'boolean' that then there MUST be an itemControl extension with value'check-box'.</p>\n<p>So, want to enforce something like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>&quot;item&quot;: [\n    {\n      &quot;linkId&quot;: &quot;/testItem&quot;,\n      &quot;type&quot;: &quot;boolean&quot;,\n      &quot;extension&quot;: [\n        {\n          &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl&quot;,\n          &quot;valueCodeableConcept&quot;: {\n            &quot;coding&quot;: [\n              {\n                &quot;system&quot;: &quot;http://hl7.org/fhir/questionnaire-item-control&quot;,\n                &quot;code&quot;: &quot;check-box&quot;\n              }\n            ]\n          }\n        }\n      ]\n    }\n  ]\n</code></pre></div>\n<p>I already have this to enforce the extension itself.</p>\n<div class=\"codehilite\"><pre><span></span><code>      {\n        &quot;id&quot;: &quot;Questionnaire.item.extension:itemControl&quot;,\n        &quot;path&quot;: &quot;Questionnaire.item.extension&quot;,\n        &quot;min&quot;: 1,\n        &quot;max&quot;: 1,\n        &quot;type&quot;: [\n          {\n            &quot;code&quot;: &quot;Extension&quot;,\n            &quot;profile&quot;: [\n              &quot;http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl&quot;\n            ]\n          }\n        ],\n      }\n</code></pre></div>\n<p>But now I want the itemControl value in the extension to be conditional upon the item.type. <br>\nI guess I need to slice item.extension somehow and then refer to that slice in a constraint. </p>\n<p>All pointers are welcome.</p>\n<p>If somebody knows a couple of good tutorial / articles I can read to learn this in depth feel free to share. I'm eager to learn but I find it difficult to find good resources.</p>\n<p>Thank you!<br>\nKristof.</p>",
        "id": 223217580,
        "sender_full_name": "Kristof Taveirne",
        "timestamp": 1611058296
    },
    {
        "content": "<p>One way is to not use slicing at all and in your profile of Questionnaire define a constraint on Questionnaire.item, something like type=boolean implies extension(http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl).exists().</p>",
        "id": 223312660,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1611099816
    },
    {
        "content": "<p>To do it with slicing slice item with a discriminator or type.</p>",
        "id": 223312778,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1611099887
    },
    {
        "content": "<p>Have you seen <a href=\"https://www.hl7.org/fhir/profiling-examples.html\">https://www.hl7.org/fhir/profiling-examples.html</a> ?</p>",
        "id": 223313158,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1611100123
    },
    {
        "content": "<p>Or <a href=\"https://simplifier.net/guide/profilingacademy/home\">https://simplifier.net/guide/profilingacademy/home</a> ?</p>",
        "id": 223313400,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1611100287
    },
    {
        "content": "<p>Thank you Richard,<br>\nI didn't know you could point to a specific extension using that syntax. thank you, this will help me. Indeed looks like I will not need slicing this way.<br>\nI've read through those sites, but when you're new to the topic  they are a bit too abstract, at least for me. They assume a couple of key insights that apparently I'm still missing. It's a lot to take in :)</p>",
        "id": 223366211,
        "sender_full_name": "Kristof Taveirne",
        "timestamp": 1611145730
    }
]