[
    {
        "content": "<p>I'm working on creating an extension for capturing some addition information for our Immunization records and the Dosage Data Type seems to fit the bill for the information we are trying to capture.  I'm seeing errors/warnings however when I attempt to set the datatype in the Extension to use the Type of Dosage when using the Forge application for STU3.   Is there a rule against using Dosage in extensions as the Value type?</p>",
        "id": 191604131,
        "sender_full_name": "Larry Shields",
        "timestamp": 1585054308
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"200218\">@Larry Shields</span>, I'm not sure on the specific question you're asking, but can you share what errors you're getting?</p>",
        "id": 191710006,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1585123396
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span>  There error is: Invalid element type constraint for type = 'Dosage', profile = '<a href=\"http://hl7.org/fhir/StructureDefinition/Dosage\" title=\"http://hl7.org/fhir/StructureDefinition/Dosage\">http://hl7.org/fhir/StructureDefinition/Dosage</a>'.  May only further constrain base resource types.  I'm guessing this is because the Dosage type is one of the special purpose data types and only specific data types are available in this instance.  Since it's an Open Type though, I would expect that Dosage would be supported based on the definition of Open Types.</p>",
        "id": 191766586,
        "sender_full_name": "Larry Shields",
        "timestamp": 1585151216
    },
    {
        "content": "<p>Can you share the extension you are working on? I seem to be able to select Dosage as the data type for a custom extension without issues. Thanks!</p>",
        "id": 191784163,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1585157866
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"200218\">@Larry Shields</span></p>",
        "id": 191784203,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1585157879
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span>  I'm creating a new one from scratch in Forge for STU3.  It doesn't stop me from doing this, I think it's more of a FHIR validation warning that I'm concerned will pop up when we try to do any sort of validation of the resources.</p>",
        "id": 191804962,
        "sender_full_name": "Larry Shields",
        "timestamp": 1585167172
    },
    {
        "content": "<p>I can't reproduce the errors/warnings you're getting <span class=\"user-mention\" data-user-id=\"200218\">@Larry Shields</span>, so if you're able to share (an anonymized version of) the extension where you get these errors that would help.</p>",
        "id": 191990001,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1585299468
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"200218\">@Larry Shields</span> , I can reproduce your error in STU3. You are correct in your assumption that there is a rule against using Dosage in extensions. This is only for STU3 as you can see in the spec here: <a href=\"http://hl7.org/fhir/stu3/extensibility.html\" title=\"http://hl7.org/fhir/stu3/extensibility.html\">http://hl7.org/fhir/stu3/extensibility.html</a> . <br>\nIn R4 the use of Dosage in extensions is allowed: <a href=\"http://hl7.org/fhir/extensibility.html\" title=\"http://hl7.org/fhir/extensibility.html\">http://hl7.org/fhir/extensibility.html</a> . In R4 I can select Dosage (see <a href=\"/user_uploads/10155/Kp1zpm7_w6jWI2hq9UAtON8h/image.png\" title=\"image.png\">image.png</a>) as type without having to add a new Type like in STU3.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Kp1zpm7_w6jWI2hq9UAtON8h/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/Kp1zpm7_w6jWI2hq9UAtON8h/image.png\"></a></div>",
        "id": 191994356,
        "sender_full_name": "Matthijs van der Wielen",
        "timestamp": 1585302449
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"259036\">@Matthijs van der Wielen</span>  and <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> .  I'll work around this for now in STU3 and we can move to using Dosage when we migrate this project to R4.</p>",
        "id": 192016953,
        "sender_full_name": "Larry Shields",
        "timestamp": 1585316010
    }
]