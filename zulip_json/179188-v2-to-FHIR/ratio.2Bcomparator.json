[
    {
        "content": "<p>From our lab System we receive messages containing a ratio plus a comparator in OBX.5 (sth. like \"&lt; 1:80\"). Assuming, that this style is valid (standard procedure for such cases in v2), then how to I transform this into a FHIR-resource correctly?</p>\n<p>Intuitively i would do it via modeling the ratio first as a valueRatio and then taking the \"&lt;\" into the comparator-property of the numerator. Would that be the way to do it?</p>",
        "id": 178391305,
        "sender_full_name": "Christoph Müller",
        "timestamp": 1571325643
    },
    {
        "content": "<p>I think so</p>",
        "id": 178423709,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1571347969
    },
    {
        "content": "<p>ok, great. Thank you!</p>",
        "id": 178448224,
        "sender_full_name": "Christoph Müller",
        "timestamp": 1571381111
    },
    {
        "content": "<p>I am sorry, but unfortunately I have to reopen this topic...<br>\n As for valueRatio this works perfectly fine. For referenceRange though, one may only provide SimpleQuantitites. In the case of titer for example, where the referenceRange would be sth. like \"&lt;1:20\", the way to write it as discussed in my previous post would not work out. (I mean sure i could put this into referenceRange.text, but this seems not very FHIR and makes not much sence after alle the \"effort\", coding the value itself correct)</p>\n<p>Does anybody have any experience on that, or maybe even some extension at hand?</p>",
        "id": 178848278,
        "sender_full_name": "Christoph Müller",
        "timestamp": 1571833739
    },
    {
        "content": "<p>this is a reference range with high = 1:20, and no low, right?</p>",
        "id": 178876777,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1571851957
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> yes, the Ratio \"1:20\" is the high.</p>",
        "id": 178932195,
        "sender_full_name": "Christoph Müller",
        "timestamp": 1571906920
    },
    {
        "content": "<p>We now use an Extension to store that Ratio as a high. So tahnk you for that! :) </p>\n<p>But, we have got another Problem at hand: within our transformation, cloverleaf replaces \"&gt;\" and \"&lt;\" by \"&gt;\" and \"&lt;\" respectively. This behavior seems legit, since the prior are not valid for XML, on the other hand the <a href=\"https://www.hl7.org/fhir/valueset-quantity-comparator.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/valueset-quantity-comparator.html\">fhir spec</a> name them as valid codes. The question now is: will the receiving systems all understand the \"&gt;\" and \"&lt;\" as for what the are, or is there another, better solution? </p>\n<p>Thank you already! <br>\nChristoph</p>",
        "id": 180130454,
        "sender_full_name": "Christoph Müller",
        "timestamp": 1573132688
    },
    {
        "content": "<p>The tool should be escaping and unescaping instances transparently...</p>",
        "id": 180144599,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1573141548
    },
    {
        "content": "<p>ahahaha only now i saw, that the \" &amp; l t ;\" above had already been converted. All problems solved so far then. Thank you for the help! :)</p>",
        "id": 180219645,
        "sender_full_name": "Christoph Müller",
        "timestamp": 1573210791
    }
]