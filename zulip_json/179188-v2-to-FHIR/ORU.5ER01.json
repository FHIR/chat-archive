[
    {
        "content": "<p>Have been reading <span class=\"user-mention\" data-user-id=\"191372\">@René Spronk</span> blog on converting this to FHIR. Am I correct in thinking each OBR segment should have a separate DiagnosticReport?</p>",
        "id": 153896384,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1499455411
    },
    {
        "content": "<p>Message is : String msg = \"MSH|^~\\\\&amp;|HICSS|eQuest|ROUTE|ROUTE|20170425042348||ORU^R01|22392142__20170425042348|D|2.4|||AL|AL\\r\"<br>\n                + \"PID|1||0772951\\r\"<br>\n                //+ \"PD1|||^^J82022^|G9436235^A^COURT SJ^^^\\r\"<br>\n                + \"PD1|||^^^|G9436235^A^COURT SJ^^^\\r\"<br>\n                + \"NTE|1||For Clinical advice please bleep 2612. If the patient\\\\.br\\\\is of African-Caribbean or African family origin,\\\\.br\\\\multiply the eGFR result by 1.159. Do not use eGFR to\\\\.br\\\\calculate drug doses.\\r\"<br>\n                + \"OBR|1||B50129418U|CC_CA^Calcium^L|||20170425093500|||||||20170425113217|CC^CA|LZW|||||||||C\\r\"<br>\n                + \"OBX|1||CC_CA^Calcium^SUHT||1.85|mmol/L|||||U\\r\"<br>\n                + \"OBX|2||CC_CCA2^Calcium (adjusted)^SUHT||2.11|mmol/L|2.20-2.60|L|||U\\r\"<br>\n                + \"OBR|2||B50129418U|CC_CRPM^C-Reactive protein(CRP)^L|||20170425093500|||||||20170425113217|CC^CRPM|LZW|||||||||Z\\r\"<br>\n                + \"OBX|1||CC_CRP^C-Reactive Protein (CRP)^SUHT||57|mg/L|0-7.5|H|||U\\r\"<br>\n                + \"OBR|3||B50129418U|CC_LFT3^Liver Profile^L|||20170425093500|||||||20170425113217|CC^LFT3|LZW|||||||||Z\\r\"<br>\n                + \"OBX|1||CC_ALB2^Albumin^SUHT||21|g/L|35-50|L|||U\\r\"<br>\n                + \"OBX|2||CC_ALP3^Alkaline Phosphatase^SUHT||80|U/L|30-130|N|||U\\r\"<br>\n                + \"OBX|3||CC_ALT^ALT^SUHT||33|U/L|10-40|N|||U\\r\"<br>\n                + \"OBX|4||CC_TB2^Bilirubin^SUHT||13|umol/L|0-20|N|||U\\r\"<br>\n                + \"OBX|5||CC_TP^Total protein^SUHT||47|g/L|60-80|L|||U\\r\"<br>\n                + \"OBR|4||B50129418U|CC_RE2^Renal Profile(U\\\\T\\\\Es)^L|||20170425093500|||||||20170425113217|CC^RE2|LZW|||||||||Z\\r\"<br>\n                + \"OBX|1||CC_CR2^Creatinine^SUHT||66|umol/L|80-115|L|||U\\r\"<br>\n                + \"OBX|2||CC_GFR3^eGFRcreat (CKD-EPI)^SUHT||84|mL/min/1.73m2|||||U\\r\"<br>\n                + \"OBX|3||CC_K^Potassium^SUHT||3.6|mmol/L|3.5-5.3|N|||U\\r\"<br>\n                + \"OBX|4||CC_NA^Sodium^SUHT||138|mmol/L|133-146|N|||U\\r\"<br>\n                + \"OBX|5||CC_UR^Urea^SUHT||8.9|mmol/L|2.5-7.8|H|||U\\r\";</p>",
        "id": 153896385,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1499455450
    },
    {
        "content": "<p>I think I'm missing a proper FillerOrder number from the sample data I've been sent , so I'm think of combing the OrderId and Test code. So I'd use B50129418U-CC_CA as the identifier for the first DiagnosticReport.</p>",
        "id": 153896386,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1499455641
    },
    {
        "content": "<p>.. this is to demonstrate a query API (). No requirement for messagingAPI or storing data</p>",
        "id": 153896387,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1499456239
    },
    {
        "content": "<p>The lack of solid identifiers could also motivate one to have 1 diagnosticReport (id =  MSH ControlId), with multiple Observations (one for each OBR, id as you suggest), and use the Observation.Compontent part of the Observations to capture the value of the OBXs.</p>",
        "id": 153896411,
        "sender_full_name": "René Spronk",
        "timestamp": 1499504432
    },
    {
        "content": "<p>Thanks will look into that.... result will be on here <a href=\"https://nhsconnect.github.io/CareConnectAPI/restfulapis_diagnostics_diagnosticreport.html\" target=\"_blank\" title=\"https://nhsconnect.github.io/CareConnectAPI/restfulapis_diagnostics_diagnosticreport.html\">https://nhsconnect.github.io/CareConnectAPI/restfulapis_diagnostics_diagnosticreport.html</a> once I've done an example (it's hidden at the mo but currently matching US argonaut for search params).</p>",
        "id": 153896415,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1499514526
    },
    {
        "content": "<p>\"So I'd use Group ID + Test code  B50129418U-CC_CA as the identifier for the first DiagnosticReport.\"  Is what I would do too. This would be consistent with the Lab Results Interface were we discuss unique filler ids and non unique filller ids and how to manage them.   In fact made a tracker to add this to DR V2 mapping.<br>\n<a href=\"/user_uploads/10155/SXbArlI-uCZa5wBbuNw7ZyWu/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/SXbArlI-uCZa5wBbuNw7ZyWu/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/SXbArlI-uCZa5wBbuNw7ZyWu/pasted_image.png\"></a></div>",
        "id": 153896419,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499541460
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13615\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13615\">GF#13615</a></p>",
        "id": 153896421,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499541666
    },
    {
        "content": "<p>Can you link an Observation (on DSTU2) to a DiagnosticReport? I can use DiagnosticRresult to add the link the other way around but from an API perspective I'd want to find the DiagnosticReports and then get query for related Observations (I could get them one by one using the reference in results but would prefer to have one call).</p>",
        "id": 153896471,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1499677089
    },
    {
        "content": "<p>Just to help me find Rene's blog from this site <a href=\"http://www.ringholm.com/docs/04350_mapping_HL7v2_FHIR.htm\" target=\"_blank\" title=\"http://www.ringholm.com/docs/04350_mapping_HL7v2_FHIR.htm\">http://www.ringholm.com/docs/04350_mapping_HL7v2_FHIR.htm</a></p>",
        "id": 153896473,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1499678684
    },
    {
        "content": "<p>if you use the  <a href=\"http://build.fhir.org/search.html#include\" target=\"_blank\" title=\"http://build.fhir.org/search.html#include\"><code>_include</code></a> search parameter you should get them all in a searchset bundle.  like this:  [Base]/DiagnosticReport/[id]?_include=DiagnosticReport:result</p>",
        "id": 153896604,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499794270
    },
    {
        "content": "<p>That does make sense in this context. Noticed Argonaut has looked at this area <a href=\"http://www.fhir.org/guides/argonaut/r2/Conformance-server.html#Observation\" target=\"_blank\" title=\"http://www.fhir.org/guides/argonaut/r2/Conformance-server.html#Observation\">http://www.fhir.org/guides/argonaut/r2/Conformance-server.html#Observation</a> , so possibly could use category and date of observations/diagnosticreport.</p>",
        "id": 153896703,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1499839649
    },
    {
        "content": "<p>We had a discussion on whether to have one DiagnosticReport for a ORU^R01 message or individual ones based on each OBR segment. We believed it would make sense to have one per message.  I'm not sure how to treat the OBR segments: 'The OBR (Observation Request) segment identifies the observation as it was originally ordered: 15545^GLUCOSE. The observation was ordered by Particia Primary MD and performed by Howard Hippocrates MD.'.</p>",
        "id": 153897294,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1500457030
    },
    {
        "content": "<p>Having an OBR segment is saying to me: this was ordered and here a the results of this <strong>Procedure</strong>. Which leads to DiagnosticReport can have many procedures and each procedure (or DiagnosticReport) can have many observations.</p>",
        "id": 153897298,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1500457344
    },
    {
        "content": "<p>Looking at Procedure description it would seem this is optional part of DiagnosticReport. I think I need to state this Observation is for this test part of this report.</p>",
        "id": 153897300,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1500458535
    },
    {
        "content": "<p>one order can be for several panels ( e.g., cbc, chem, ua)  so it depends how you want to split it out.  In a v2 message each of these panels would be an OBR.  In FHIR if you lump them under a single DR then the DR.code needs to be some panel of panels code and the Observation panel code will be for each  (e.g, cbc ).  Not sure what you mean by Procedure,  but each observation as well as the the DR can reference the request  (e.g. ProcedureRequest).</p>",
        "id": 153897310,
        "sender_full_name": "Eric Haas",
        "timestamp": 1500474257
    },
    {
        "content": "<p>Does each OBR indicate a test was done? Or is it as you mentioned, a panel for grouping observations and nothing more.</p>",
        "id": 153897461,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1500560287
    },
    {
        "content": "<blockquote>\n<p>Does each OBR indicate a test was done? Or is it as you mentioned, a panel for grouping observations and nothing more.</p>\n</blockquote>\n<p>What do you mean by \"test was done\"  OBR-25?</p>",
        "id": 153898480,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501103982
    },
    {
        "content": "<p>In our recently released FHIR Services, we provide conversion functions to convert existing HL7 2.x and C-CDA messages to FHIR resources using FHIR bundle/transaction operations. Once the conversion is done and the resources are generated, you can use the service to upload the bundled resources to the FHIR server.</p>\n<p>If interested, please visit <a href=\"http://www.redixfhir.com\" target=\"_blank\" title=\"http://www.redixfhir.com\">http://www.redixfhir.com</a> and press the \"Jump Start\" to start using the service now.<br>\nIf you think there is something that can be improved or if you think the service is missing any useful features, please let me know.</p>",
        "id": 153898482,
        "sender_full_name": "redixint",
        "timestamp": 1501104559
    },
    {
        "content": "<p>What do DSTU2 DiagnosticOrder.items become in STU3 ProcedureRequest? Mutliple (nested) Procedures?</p>",
        "id": 153900132,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1501680435
    },
    {
        "content": "<p>each item is a separaet Procedure request.   \"The ProcedureRequest resource allows requesting only a single procedure. If a workflow requires requesting multiple procedures simultaneously, this is done using multiple instances of this resource. These instances can be linked in different ways, depending on the needs of the workflow. For guidance, refer to the Request pattern\"</p>\n<p><a href=\"http://build.fhir.org/procedurerequest.html#scope\" target=\"_blank\" title=\"http://build.fhir.org/procedurerequest.html#scope\">http://build.fhir.org/procedurerequest.html#scope</a></p>",
        "id": 153900151,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501688901
    }
]