[
    {
        "content": "<p>When  creating a new profile with forge, the resulting XML maintains the core profile's extension \"structuredefinition-wg\" and it's value. e.g.:</p>\n<div class=\"codehilite\"><pre><span></span> <span class=\"nt\">&lt;StructureDefinition</span> <span class=\"na\">xmlns=</span><span class=\"s\">&quot;http://hl7.org/fhir&quot;</span><span class=\"nt\">&gt;</span>\n   <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-wg&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;valueCode</span> <span class=\"na\">value=</span><span class=\"s\">&quot;pa&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/extension&gt;</span>\n  <span class=\"nt\">&lt;url</span> <span class=\"na\">value=</span><span class=\"s\">&quot;http://fhir.de/StructureDefinition/patient-de-basis&quot;</span><span class=\"nt\">/&gt;</span>\n[...]\n  <span class=\"nt\">&lt;type</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Patient&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;baseDefinition</span> <span class=\"na\">value=</span><span class=\"s\">&quot;http://hl7.org/fhir/StructureDefinition/Patient&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;derivation</span> <span class=\"na\">value=</span><span class=\"s\">&quot;constraint&quot;</span><span class=\"nt\">/&gt;</span>\n</pre></div>\n\n\n<p>I don't think that's correct, as derived profile are usually <strong>not</strong> maintained by the HL7 workgroup.<br>\nIs it legitimate to remove the extension in the profiles?</p>",
        "id": 153894342,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497874789
    },
    {
        "content": "<p>I think you have a point there, so I will raise an issue for Forge to leave this out in the future.</p>",
        "id": 153894354,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1497876994
    },
    {
        "content": "<p>That's actually an interesting question.  I don't know about the root of the StructureDefinition, but there will certainly be extensions on elements inside the StructureDefinition that you <em>do</em> want to inherit to child profiles.  (E.g. min length, regex, etc.)  Do we inherit everything on element?  If not, how do we distinguish what gets inherited and what doesn't?</p>",
        "id": 153894364,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1497883729
    },
    {
        "content": "<p>IMO, None of the StructureDefinition elements should inherit.  And all extensions on elements should inherit/aggregate in order (most \"base\" first) in with no capability to overwrite/replace.</p>",
        "id": 153894751,
        "sender_full_name": "Chris Grenz",
        "timestamp": 1498057227
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191351\">@Chris Grenz</span> I'm not sure what you mean by \"none of the StructureDefinition elements should inherit\".  They absolutely inherit.  If you create StructureDefinition B that is a constraint on StructureDefinition A, B will inherit the bindings, comments, definitions, etc. from A unless it overrides them.  There are rules for what sort of overrides can happen, but overrides can definitely happen too.  The challenge with extensions is that it's not necessarily clear what the rules should be.</p>",
        "id": 153894787,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1498064265
    },
    {
        "content": "<p>None of the top-level elements of StructureDefinition (extensions, name, title, publisher, etc...) should inherit.</p>",
        "id": 153894789,
        "sender_full_name": "Chris Grenz",
        "timestamp": 1498064347
    },
    {
        "content": "<p>Oh, agree with that.  I'm talking about extensions on element.</p>",
        "id": 153894790,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1498064440
    },
    {
        "content": "<p>Only elementdefinition elements inherit.  And, I'd say (although not authoritatively) that elementdefinition.extension should inherit as an aggregable element (<a href=\"https://github.com/chrisgrenz/FHIR-Primer/wiki/Aggregating-Profile-Differentials#aggregating-elements\" target=\"_blank\" title=\"https://github.com/chrisgrenz/FHIR-Primer/wiki/Aggregating-Profile-Differentials#aggregating-elements\">https://github.com/chrisgrenz/FHIR-Primer/wiki/Aggregating-Profile-Differentials#aggregating-elements</a>)</p>",
        "id": 153894791,
        "sender_full_name": "Chris Grenz",
        "timestamp": 1498064462
    },
    {
        "content": "<p>That sort of works, though for things like minLength, etc. it's pretty inefficient.  And if any of them are documentation-type elements, you wouldn't necessarily want them to repeat</p>",
        "id": 153894802,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1498067515
    }
]