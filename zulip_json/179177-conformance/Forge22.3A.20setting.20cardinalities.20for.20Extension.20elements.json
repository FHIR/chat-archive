[
    {
        "content": "<p>I'm currently creating an Extension of Datatype <code>Coding</code> with Forge 22.0<br>\nI want to set the cardinalities for Coding.code to 1..1 but I can't find a way to do this since the value[x] Element doesn't expand.<br>\nDo I need to create a Profile for Coding first? But then I don't see a way to bind my Extension to the Profile...<br>\nWhat am I missing?</p>",
        "id": 172654562,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1565160926
    },
    {
        "content": "<p>Ah! I found the way to bind Coding to a Profile under the Datatype Selection!<br>\n<a href=\"/user_uploads/10155/eKKZbXb2yjjpeK5otmMJszce/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/eKKZbXb2yjjpeK5otmMJszce/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/eKKZbXb2yjjpeK5otmMJszce/pasted_image.png\"></a></div>",
        "id": 172654686,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1565161089
    },
    {
        "content": "<p>The value[x] element does not expand by default anymore according to the new slicing rules in R4. You have to create new slices and then restrict the slices.</p>",
        "id": 172656322,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1565163415
    },
    {
        "content": "<p>See <a href=\"#narrow/stream/179166-implementers/topic/Forge.20R4.2022.2E0.20Create.20new.20extensions\" title=\"#narrow/stream/179166-implementers/topic/Forge.20R4.2022.2E0.20Create.20new.20extensions\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Forge.20R4.2022.2E0.20Create.20new.20extensions</a></p>",
        "id": 172656458,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1565163590
    },
    {
        "content": "<p>Correct, thanks <span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span>!<br>\nForge R4 no longer expands polymorphic elements such as <code>value[x]</code>, even when constrained to a single datatype. In R4, the meaning of <code>[x]</code> elements has changed, they now specify the list of allowed types. A profile can introduce concrete named slices to specify constraints specific datatypes. In Forge R4, you can slice the <code>[x]</code> element, add a named slice and constrain it to a single datatype; now, Forge will try to expand the child elements of the named slice.</p>\n<p>For example, compare the definition of a simple boolean extension in STU3:</p>\n<div class=\"codehilite\"><pre><span></span>Extension\nExtension.valueBoolean { Min = 1 }\n</pre></div>\n\n\n<p>to a similar definition in R4:</p>\n<div class=\"codehilite\"><pre><span></span>Extension\nExtension.value[x] { Type = boolean }\nExtension.valueBoolean { Min = 1 }\n</pre></div>",
        "id": 172659922,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1565167229
    },
    {
        "content": "<p>Note: The former syntax is still valid in R4, but interpreted differently. Without a constraint on the <code>value[x]</code> element, the extension value accepts any datatype (as defined by the Extension base profile). The <code>valueBoolean</code> element specifies constraints that are specific for boolean values; all other datatypes are allowed and unconstrained.</p>",
        "id": 172660326,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1565167601
    },
    {
        "content": "<p>Got it, thanks!</p>",
        "id": 172740811,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1565244229
    }
]