[
    {
        "content": "<p>We are attempting to make sure that when we publish our profiles we do so in a consistent way. We dont use either the core HL7 publisher or Simplifier, but we do look to them for guidance.</p>\n<p>My question is about how to render the root element of a profile (aka StructureDefinition). Looking at the core HL7 publishing tool and Simplifier they are inconsistent, so I thought I would ask the question here.</p>\n<p>1) What should the cardinality be? It seems to me that the root entry should not have a cardinality.</p>\n<p>2) What is the \"type\" of the root element of a profile. Is it \"DomainResource\"  or the actual resource that is being profiled.</p>",
        "id": 153896070,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1499253445
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/ikYo_1Mo7ZlaZOtnDmeMDDFm/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ikYo_1Mo7ZlaZOtnDmeMDDFm/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/ikYo_1Mo7ZlaZOtnDmeMDDFm/pasted_image.png\"></a></div>",
        "id": 153896071,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1499253584
    },
    {
        "content": "<p>The cardinality of a root element should be 0..* most of the time.  If tighter, it indicates that when that profile is invoked, the element invoking it must be at least as tight as the profile.  Most typically this is used with profiles on Extension where constraining the upper cardinality on the base allows you to assert that \"this profile can't repeat\".  In principle, it could also be used to state that, if referenced in a profile, the referencing element would need to be minOccurs=1 (or even higher).</p>",
        "id": 153896095,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1499271864
    },
    {
        "content": "<p>Well if that's the case you would expect the same of resource models and complex extensions and neither of them have a cardinality at all on the root.</p>",
        "id": 153896147,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1499289503
    },
    {
        "content": "<p>e.g.  <a href=\"http://hl7.org/fhir/STU3/namingsystem.html\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/namingsystem.html\">http://hl7.org/fhir/STU3/namingsystem.html</a> and  <a href=\"http://hl7.org/fhir/STU3/datatypes.html#Identifier\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/datatypes.html#Identifier\">http://hl7.org/fhir/STU3/datatypes.html#Identifier</a></p>",
        "id": 153896149,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1499289584
    },
    {
        "content": "<p>Actually, it does have a cardinality on the root, we just suppress it as confusing/not relevant.  (You can see it if you open up the <a href=\"http://hl7.org/fhir/profiles-types.xml\" target=\"_blank\" title=\"http://hl7.org/fhir/profiles-types.xml\">http://hl7.org/fhir/profiles-types.xml</a> file in an XML browser)</p>",
        "id": 153896150,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1499289885
    },
    {
        "content": "<p>I accept the the ElementDefinition has a cardinality in that they are technically mandated. It is what is displayed that I'm interested in. So as for the second part of the question, for a profiled resource what is the type of the first element. Is it the resources that is being profiled?</p>",
        "id": 153896153,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1499291261
    },
    {
        "content": "<p>I believe type is prohibited on the root element.</p>",
        "id": 153896154,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1499292456
    }
]