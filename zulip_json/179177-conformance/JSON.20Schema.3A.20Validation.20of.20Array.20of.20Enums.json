[
    {
        "content": "<p>We might have found a bug in the JSON Schemas. For arrays of enums the schema is written in the following manner:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;title&quot;: &quot;enum-array&quot;,\n  &quot;type&quot;: &quot;array&quot;,\n  &quot;enum&quot;: [&quot;one&quot;, &quot;three&quot;],\n  &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}\n}\n</code></pre></div>\n<p>This results in the validator checking for the type of an array first and then compares the enum array with the indiviual items in the array. As an array is compared with a string this always results in the validation failing. </p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;title&quot;: &quot;enum-array&quot;,\n  &quot;type&quot;: &quot;array&quot;,\n  &quot;items&quot;: {\n    &quot;type&quot;: &quot;string&quot;,\n    &quot;enum&quot;:[&quot;one&quot;, &quot;three&quot;]\n  }\n}\n</code></pre></div>\n<p>This seems to be the way those structures should be modeled in JSON schemas.</p>\n<p>One example in FHIR would be ElemenDefinition.representation in STU3.</p>",
        "id": 215322198,
        "sender_full_name": "Julius Severin",
        "timestamp": 1604326001
    },
    {
        "content": "<p>Are you looking at the schemas as they're published in R4?  The JSON schemas published in STU3 are known to be broken (and won't be fixed)</p>",
        "id": 215322476,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1604326140
    },
    {
        "content": "<p>Thank you. You are right, this is fixed for R4.</p>",
        "id": 215341240,
        "sender_full_name": "Julius Severin",
        "timestamp": 1604334099
    }
]