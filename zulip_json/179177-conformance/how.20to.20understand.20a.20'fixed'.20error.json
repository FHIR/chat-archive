[
    {
        "content": "<p>I have a resources as follows:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n   &quot;resourceType&quot;:&quot;Patient&quot;,\n   &quot;meta&quot;:{\n      &quot;profile&quot;:[\n         &quot;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-skrs-patient&quot;\n      ]\n   },\n   &quot;identifier&quot;:[\n      {\n         &quot;use&quot;:&quot;official&quot;,\n         &quot;system&quot;:&quot;urn:oid:1.2.208.176.1.2&quot;,\n         &quot;value&quot;:&quot;0101010001&quot;\n      }\n   ]\n\n}\n</code></pre></div>\n\n\n<ul>\n<li>im validating it against my profile at <a href=\"https://docs.ehealth.sundhed.dk/latest/ig/StructureDefinition-ehealth-skrs-patient.html\">https://docs.ehealth.sundhed.dk/latest/ig/StructureDefinition-ehealth-skrs-patient.html</a> which requires at least one identifer as well as only allowing a single 'official identifier' by slicing on system. I however get the following two errors:</li>\n</ul>\n<p>myLocationString = \"Patient.identifier[0].system\"<br>\nmyMessage = \"The element system is present in the instance but not allowed in the applicable fixed value specified in profile\"</p>\n<p>myLocationString = \"Patient.identifier[0].value\"<br>\nmyMessage = \"The element value is present in the instance but not allowed in the applicable fixed value specified in profile\"</p>\n<ul>\n<li>what seems to be the issue here?</li>\n</ul>",
        "id": 200203125,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1591696897
    },
    {
        "content": "<p>In the profile you linked, system, value, etc. (except for use) have the cardinality <code>0..0</code>, so they are not allowed. You should probably check the profile.</p>",
        "id": 200203634,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1591697245
    },
    {
        "content": "<p>At least this is what the snapshot shows.</p>",
        "id": 200203729,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1591697310
    },
    {
        "content": "<p>The UI shows something different (the datatype): <a href=\"/user_uploads/10155/w-y3RAX6T3wFij96bi9a4AWm/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/w-y3RAX6T3wFij96bi9a4AWm/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/w-y3RAX6T3wFij96bi9a4AWm/image.png\"></a></div>",
        "id": 200203748,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1591697327
    },
    {
        "content": "<p>yet ... I see there is something buggy (snapshot): <a href=\"/user_uploads/10155/AnNHob2z0s0_0t7myZPr_vb1/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/AnNHob2z0s0_0t7myZPr_vb1/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/AnNHob2z0s0_0t7myZPr_vb1/image.png\"></a></div>",
        "id": 200203804,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1591697380
    },
    {
        "content": "<p>(differential)</p>\n<p><a href=\"/user_uploads/10155/M0UWMMGeSTJv0pLDqMG7ZAvr/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/M0UWMMGeSTJv0pLDqMG7ZAvr/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/M0UWMMGeSTJv0pLDqMG7ZAvr/image.png\"></a></div>",
        "id": 200203864,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1591697403
    },
    {
        "content": "<p>the second shows what I meant.</p>",
        "id": 200203902,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1591697444
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> any comments on the generated snapshot here?</p>",
        "id": 200203931,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1591697477
    },
    {
        "content": "<p>as in, why?</p>",
        "id": 200250372,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1591718103
    },
    {
        "content": "<p>the problem is here:</p>",
        "id": 200296514,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1591739994
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span>\n        <span class=\"nt\">&quot;id&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;Patient.identifier:dk-civil-registration-number&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;path&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;Patient.identifier&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;sliceName&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;dk-civil-registration-number&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;min&quot;</span> <span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;max&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;type&quot;</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;code&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;Identifier&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;profile&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-dk-crn-identifier&quot;</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">&quot;fixedIdentifier&quot;</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;use&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;official&quot;</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span><span class=\"err\">,</span>\n</code></pre></div>",
        "id": 200296590,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1591740011
    },
    {
        "content": "<p>you say that the type is identifier, and that it must conform to the profile <code>http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-dk-crn-identifier</code>.  But then you provide a fixed value for identifier that doesn't conform to the profile you said applies</p>",
        "id": 200296669,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1591740065
    }
]