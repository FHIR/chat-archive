[
    {
        "content": "<p>I've been re-reading the profiling page, and specifically<br>\n<a href=\"https://www.hl7.org/fhir/profiling.html#discriminator\" target=\"_blank\" title=\"https://www.hl7.org/fhir/profiling.html#discriminator\">https://www.hl7.org/fhir/profiling.html#discriminator</a><br>\nIn this section it talks about a \"slice group\" which has the initiator, and slices.<br>\nDoes this mean that we can put in multiple slice groups, just by adding in another initiator and slices for it.<br>\n(Is that what the \"open\" part is in the discriminator)<br>\nI know you definitely cant do this with Forge.</p>",
        "id": 153946799,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1521624803
    },
    {
        "content": "<p>What I'm looking to do is describe a profile that can accurately describe this sequence of identifiers as valid:</p>\n<div class=\"codehilite\"><pre><span></span>  &lt;!-- National Identifier, has a strictly defined identifier.system value --&gt;\n  &lt;!-- (This is essentially a complete instance, only the value can change) --&gt;\n  &lt;identifier&gt;\n    &lt;type&gt;\n      &lt;coding&gt;\n        &lt;system value=&quot;http://hl7.org/fhir/v2/0203&quot; /&gt;\n        &lt;code value=&quot;NPI&quot; /&gt;\n      &lt;/coding&gt;\n    &lt;/type&gt;\n    &lt;system value=&quot;http://ns.electronichealth.net.au/id/hi/hpii/1.0&quot; /&gt;\n    &lt;value value=&quot;8003610833334086&quot; /&gt;\n  &lt;/identifier&gt;\n  &lt;!-- Vendor Identifier, Identified by the identifier.type (system is required, but will be different for each vendor) --&gt;\n  &lt;!-- These are only required for Secure Messaging Vendors in directories, so in a different profile to the above identifier --&gt;\n  &lt;identifier&gt;\n    &lt;type&gt;\n      &lt;coding&gt;\n        &lt;system value=&quot;http://hl7.org.au/fhir/v2/0203&quot; /&gt;\n        &lt;code value=&quot;VDI&quot; /&gt;\n        &lt;display value=&quot;Vendor Directory Identifier&quot; /&gt;\n      &lt;/coding&gt;\n    &lt;/type&gt;\n    &lt;system value=&quot;http://telstrahealth.com/fhir/NameSystem/Argus&quot; /&gt;\n    &lt;value value=&quot;123456AB&quot; /&gt;\n    &lt;assigner&gt; &lt;!-- The assigner is required for the Vendor identifiers --&gt;\n      &lt;display value=&quot;Telstra Health&quot;/&gt;\n    &lt;/assigner&gt;\n  &lt;/identifier&gt;\n  &lt;!-- This is some other identifier that won&#39;t match either of the above identifiers --&gt;\n  &lt;identifier&gt;\n    &lt;system value=&quot;http://example.org/meaning-of-life&quot; /&gt;\n    &lt;value value=&quot;42&quot; /&gt;\n  &lt;/identifier&gt;\n</pre></div>",
        "id": 153946800,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1521625521
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span></p>",
        "id": 153946801,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1521625530
    },
    {
        "content": "<p>no you can't have multiple kinds of slicing for a path</p>",
        "id": 153946810,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521631014
    },
    {
        "content": "<p>aren't you just slicing by system there?</p>",
        "id": 153946811,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521631042
    },
    {
        "content": "<p>The vendor identifier system can be anything, it is identified by the type.<br>\nDon't want to define those, as prevents new additions</p>",
        "id": 153946813,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1521631251
    },
    {
        "content": "<p>so combo of type and system is unique then?</p>",
        "id": 153946816,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521632074
    },
    {
        "content": "<p>yes, but does that work for the one that has no value for the type?<br>\nand which order would it be in? (or doesn't that matter)</p>",
        "id": 153946910,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1521659405
    },
    {
        "content": "<p>there could only be one without either - they have to be distinct.</p>",
        "id": 153946921,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521661613
    },
    {
        "content": "<p>My issue here is that the HPI only needs the system to be identified, and the vendor identifier needs the type<br>\nAnd no way to represent this.<br>\nAt the AU Base level, really just want to slice by system (as doens't have the vendor identifiers)<br>\nand then at the AU PD level slice by type<br>\nTo do this will mean that can't derive the profile, but state that needs to conform to both</p>",
        "id": 153946932,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1521662255
    },
    {
        "content": "<p>(I guess this is re-slicing, but don't have a named slice to put it on, and the open slice applies to all if i'm reading it right)</p>",
        "id": 153946933,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1521662375
    },
    {
        "content": "<p>May have found a bug in the .net Validator<br>\nIf the identifier slice is by value:system and value:type and I have an identifier that doesn't have a type value, then it shouldn't match a the slice right? It shouldn't mean that all identifiers have to have a type value?</p>",
        "id": 153947060,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1521696123
    },
    {
        "content": "<p>I've come to the conclusion after trawling over this for too long, that you can't define a single profile that can define the above requirements.</p>",
        "id": 153947071,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1521697072
    },
    {
        "content": "<p>it should match the slice if the slice specifies no identifier type</p>",
        "id": 153947091,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521698120
    }
]