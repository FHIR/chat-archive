[
    {
        "content": "<p>Background:<br>\nIf I have a profile with the following slicing: </p>\n<div class=\"codehilite\"><pre><span></span><code>        &lt;element id=&quot;Organization.identifier&quot;&gt;\n            &lt;path value=&quot;Organization.identifier&quot; /&gt;\n            &lt;slicing&gt;\n                &lt;discriminator&gt;\n                    &lt;type value=&quot;value&quot; /&gt;\n                    &lt;path value=&quot;type.coding.code&quot; /&gt;\n                &lt;/discriminator&gt;\n                &lt;rules value=&quot;open&quot; /&gt;\n            &lt;/slicing&gt;\n</code></pre></div>\n<p>And I derive a profile from this and change the slicing rules from \"open\" to \"closed\" the diff looks like this:</p>\n<div class=\"codehilite\"><pre><span></span><code> &lt;element id=&quot;Organization.identifier&quot;&gt;\n            &lt;path value=&quot;Organization.identifier&quot; /&gt;\n            &lt;slicing&gt;\n                &lt;rules value=&quot;closed&quot; /&gt;\n            &lt;/slicing&gt;\n            &lt;mustSupport value=&quot;true&quot; /&gt;\n        &lt;/element&gt;\n</code></pre></div>\n<p>And the .NET validator throws an eld-1. </p>\n<p>Should the eld-1 only be run on a snapshot? Now it's context is snapshot and differential.</p>",
        "id": 228406777,
        "sender_full_name": "Matthijs van der Wielen",
        "timestamp": 1614690767
    },
    {
        "content": "<p>You need to repeat the discriminator - that bit isn't inherited if you drill down into slicing.  (At least that's the way the tooling currently works and it's not clear why that's unreasonable.)</p>",
        "id": 228414369,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1614693979
    },
    {
        "content": "<p>Why should you have to repeat <em>anything</em> other than identifiers (<code>id</code>/<code>path</code>) in a differential?  I feel like we complicate matters by having special (unspecified) rules about  what data should or should not be redundantly repeated in the differential.  It's much clearer for everyone if the rule is that you only <em>have</em> to repeat what is actually different.  There are similar undocumented rules for how arrays work in differentials and the only way to figure out the \"rule\" there is to experiment w/ the publisher and see how it behaves -- which is not ideal.</p>",
        "id": 228423200,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1614697114
    },
    {
        "content": "<p>Feel free to submit a change request that makes that clear.  My understanding is that all elements in differential are optional, but once you walk into an element, you need to specify the whole thing</p>",
        "id": 228423785,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1614697310
    },
    {
        "content": "<p>I do think that eld-1 should only apply to a snapshot, but it can be satisfied by doing extra work</p>",
        "id": 228473287,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614714459
    },
    {
        "content": "<p><strong>deleted</strong></p>",
        "id": 228594219,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1614779590
    },
    {
        "content": "<p><span aria-label=\"warning\" class=\"emoji emoji-26a0\" role=\"img\" title=\"warning\">:warning:</span> The argument <code>eld-1</code> was not recognized. Use <code>@Firely-Bot issue create ?</code> for more information.</p>",
        "id": 228594248,
        "sender_full_name": "Firely Bot",
        "timestamp": 1614779599
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"372944\">@Firely Bot</span> issue create \"Let eld-1 only be applied to snapshot, not differential\"</p>\n<ul>\n<li>Given a resource 1 with slicing on element A</li>\n<li>And a resource 2 derived from resource 1, which:<ul>\n<li>Makes a change to slicing of element A (eg. changing closed to open slicing)</li>\n<li>And does not repeat the discriminator in element A</li>\n</ul>\n</li>\n<li>eld-1 fires, complaining element A in resource 2 does not have a discriminator set.</li>\n</ul>\n<p>Proposal: Make eld-1 only applicable to the snapshot part of a resource, eliminating the need to repeat all slicing information in a derived resource.</p>\n<p><a href=\"https://www.hl7.org/fhir/profiling.html#reslicing\">https://www.hl7.org/fhir/profiling.html#reslicing</a> is already clear the discriminator inherits to the child resources:</p>\n<blockquote>\n<p>If a discriminator for an element is declared in a parent profile, child profiles referencing that element:<br>\nSHALL include all the same discriminators</p>\n</blockquote>",
        "id": 228594407,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1614779648
    },
    {
        "content": "<p>Select the issue type from <a href=\"https://jira.hl7.org/projects/FHIR\">project FHIR</a> you want to report:</p>\n<p><a href=\"https://jira.hl7.org/secure/CreateIssueDetails!init.jspa?pid=10405&amp;description=%0A%2A+Given+a+resource+1+with+slicing+on+element+A%0A%2A+And+a+resource+2+derived+from+resource+1%2C+which%3A%0A++%2A+Makes+a+change+to+slicing+of+element+A+%28eg.+changing+closed+to+open+slicing%29%0A++%2A+And+does+not+repeat+the+discriminator+in+element+A%0A%2A+eld-1+fires%2C+complaining+element+A+in+resource+2+does+not+have+a+discriminator+set.%0A%0AProposal%3A+Make+eld-1+only+applicable+to+the+snapshot+part+of+a+resource%2C+eliminating+the+need+to+repeat+all+slicing+information+in+a+derived+resource.%0A%0Ahttps%3A%2F%2Fwww.hl7.org%2Ffhir%2Fprofiling.html%23reslicing+is+already+clear+the+discriminator+inherits+to+the+child+resources%3A%0A%3E+If+a+discriminator+for+an+element+is+declared+in+a+parent+profile%2C+child+profiles+referencing+that+element%3A%0A%3E+SHALL+include+all+the+same+discriminators%0A%0A_Reported+from+Zulip+topic+%5BIs+eld-1+correct+in+the+context+of+an+differential%3F%7Chttps%3A%2F%2Fchat.fhir.org%2F%23narrow%2Fstream%2F179177%2Ftopic%2FIs%2520eld-1%2520correct%2520in%2520the%2520context%2520of%2520an%2520differential%253F%2Fnear%2F1614779648%5D+with+Firely+Bot._&amp;summary=Let+eld-1+only+be+applied+to+snapshot%2C+not+differential&amp;issuetype=10600\">Change Request</a>, <a href=\"https://jira.hl7.org/secure/CreateIssueDetails!init.jspa?pid=10405&amp;description=%0A%2A+Given+a+resource+1+with+slicing+on+element+A%0A%2A+And+a+resource+2+derived+from+resource+1%2C+which%3A%0A++%2A+Makes+a+change+to+slicing+of+element+A+%28eg.+changing+closed+to+open+slicing%29%0A++%2A+And+does+not+repeat+the+discriminator+in+element+A%0A%2A+eld-1+fires%2C+complaining+element+A+in+resource+2+does+not+have+a+discriminator+set.%0A%0AProposal%3A+Make+eld-1+only+applicable+to+the+snapshot+part+of+a+resource%2C+eliminating+the+need+to+repeat+all+slicing+information+in+a+derived+resource.%0A%0Ahttps%3A%2F%2Fwww.hl7.org%2Ffhir%2Fprofiling.html%23reslicing+is+already+clear+the+discriminator+inherits+to+the+child+resources%3A%0A%3E+If+a+discriminator+for+an+element+is+declared+in+a+parent+profile%2C+child+profiles+referencing+that+element%3A%0A%3E+SHALL+include+all+the+same+discriminators%0A%0A_Reported+from+Zulip+topic+%5BIs+eld-1+correct+in+the+context+of+an+differential%3F%7Chttps%3A%2F%2Fchat.fhir.org%2F%23narrow%2Fstream%2F179177%2Ftopic%2FIs%2520eld-1%2520correct%2520in%2520the%2520context%2520of%2520an%2520differential%253F%2Fnear%2F1614779648%5D+with+Firely+Bot._&amp;summary=Let+eld-1+only+be+applied+to+snapshot%2C+not+differential&amp;issuetype=10800\">Technical Correction</a>, <a href=\"https://jira.hl7.org/secure/CreateIssueDetails!init.jspa?pid=10405&amp;description=%0A%2A+Given+a+resource+1+with+slicing+on+element+A%0A%2A+And+a+resource+2+derived+from+resource+1%2C+which%3A%0A++%2A+Makes+a+change+to+slicing+of+element+A+%28eg.+changing+closed+to+open+slicing%29%0A++%2A+And+does+not+repeat+the+discriminator+in+element+A%0A%2A+eld-1+fires%2C+complaining+element+A+in+resource+2+does+not+have+a+discriminator+set.%0A%0AProposal%3A+Make+eld-1+only+applicable+to+the+snapshot+part+of+a+resource%2C+eliminating+the+need+to+repeat+all+slicing+information+in+a+derived+resource.%0A%0Ahttps%3A%2F%2Fwww.hl7.org%2Ffhir%2Fprofiling.html%23reslicing+is+already+clear+the+discriminator+inherits+to+the+child+resources%3A%0A%3E+If+a+discriminator+for+an+element+is+declared+in+a+parent+profile%2C+child+profiles+referencing+that+element%3A%0A%3E+SHALL+include+all+the+same+discriminators%0A%0A_Reported+from+Zulip+topic+%5BIs+eld-1+correct+in+the+context+of+an+differential%3F%7Chttps%3A%2F%2Fchat.fhir.org%2F%23narrow%2Fstream%2F179177%2Ftopic%2FIs%2520eld-1%2520correct%2520in%2520the%2520context%2520of%2520an%2520differential%253F%2Fnear%2F1614779648%5D+with+Firely+Bot._&amp;summary=Let+eld-1+only+be+applied+to+snapshot%2C+not+differential&amp;issuetype=10801\">Question</a> or <a href=\"https://jira.hl7.org/secure/CreateIssueDetails!init.jspa?pid=10405&amp;description=%0A%2A+Given+a+resource+1+with+slicing+on+element+A%0A%2A+And+a+resource+2+derived+from+resource+1%2C+which%3A%0A++%2A+Makes+a+change+to+slicing+of+element+A+%28eg.+changing+closed+to+open+slicing%29%0A++%2A+And+does+not+repeat+the+discriminator+in+element+A%0A%2A+eld-1+fires%2C+complaining+element+A+in+resource+2+does+not+have+a+discriminator+set.%0A%0AProposal%3A+Make+eld-1+only+applicable+to+the+snapshot+part+of+a+resource%2C+eliminating+the+need+to+repeat+all+slicing+information+in+a+derived+resource.%0A%0Ahttps%3A%2F%2Fwww.hl7.org%2Ffhir%2Fprofiling.html%23reslicing+is+already+clear+the+discriminator+inherits+to+the+child+resources%3A%0A%3E+If+a+discriminator+for+an+element+is+declared+in+a+parent+profile%2C+child+profiles+referencing+that+element%3A%0A%3E+SHALL+include+all+the+same+discriminators%0A%0A_Reported+from+Zulip+topic+%5BIs+eld-1+correct+in+the+context+of+an+differential%3F%7Chttps%3A%2F%2Fchat.fhir.org%2F%23narrow%2Fstream%2F179177%2Ftopic%2FIs%2520eld-1%2520correct%2520in%2520the%2520context%2520of%2520an%2520differential%253F%2Fnear%2F1614779648%5D+with+Firely+Bot._&amp;summary=Let+eld-1+only+be+applied+to+snapshot%2C+not+differential&amp;issuetype=10802\">Comment</a></p>\n<p><em>Don't have an HL7 Jira account yet? <a href=\"https://jira.hl7.org/secure/CreateIssue.jspa?pid=11200&amp;issuetype=11300\">Create one for free.</a></em></p>",
        "id": 228594422,
        "sender_full_name": "Firely Bot",
        "timestamp": 1614779651
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"372944\">@Firely Bot</span> you're pretty chatty, aren't ya <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 228594662,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1614779753
    },
    {
        "content": "<p><span aria-label=\"warning\" class=\"emoji emoji-26a0\" role=\"img\" title=\"warning\">:warning:</span> Command <code>youre pretty chatty, arent</code> was not recognized. Use <code>@Firely-Bot ?</code> for more information.</p>",
        "id": 228594668,
        "sender_full_name": "Firely Bot",
        "timestamp": 1614779756
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"372944\">@Firely Bot</span> issue show <a href=\"http://jira.hl7.org/browse/FHIR-31400\">FHIR-31400</a></p>",
        "id": 228595121,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1614779907
    },
    {
        "content": "<p><strong><a href=\"https://jira.hl7.org/browse/FHIR-31400\">FHIR-31400 Let eld-1 only be applied to snapshot, not differential</a></strong><br>\nStatus: <strong>Submitted</strong>, Type: <strong>Change Request</strong></p>",
        "id": 228595124,
        "sender_full_name": "Firely Bot",
        "timestamp": 1614779909
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> 1) how does firely bot know your JIRA account? 2) After create issue, it would be better to return the JIRA ticket/link</p>",
        "id": 228645263,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1614797196
    },
    {
        "content": "<p>If the firely bot creates the issue under any account other than the requester's, that's problematic...</p>",
        "id": 228657768,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1614801691
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191506\">@Yunwei Wang</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> It's just creating a link for you <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> Not much more fancy than a <code>mailto:</code> link filling the subject and body if you provide them. Hence it also doesn't have any idea if you actually clicked one of the issue types to create a ticket and what the number would be.</p>",
        "id": 228670341,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1614806373
    },
    {
        "content": "<p>Feel free to test by clicking one of these below, nothing will happen until on the resulting page you click the 'Create' button. So, you can also summon the links for other people and let them create. The only handy thing it does add is an automatic link back from the Jira ticket to the thread on Zulip where the issue was created from <span aria-label=\"point down\" class=\"emoji emoji-1f447\" role=\"img\" title=\"point down\">:point_down:</span></p>",
        "id": 228670929,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1614806624
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"372944\">@Firely Bot</span> issue create</p>",
        "id": 228670944,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1614806630
    },
    {
        "content": "<p>Select the issue type from <a href=\"https://jira.hl7.org/projects/FHIR\">project FHIR</a> you want to report:</p>\n<p><a href=\"https://jira.hl7.org/secure/CreateIssueDetails!init.jspa?pid=10405&amp;description=%0A%0A_Reported+from+Zulip+topic+%5BIs+eld-1+correct+in+the+context+of+an+differential%3F%7Chttps%3A%2F%2Fchat.fhir.org%2F%23narrow%2Fstream%2F179177%2Ftopic%2FIs%2520eld-1%2520correct%2520in%2520the%2520context%2520of%2520an%2520differential%253F%2Fnear%2F1614806630%5D+with+Firely+Bot._&amp;issuetype=10600\">Change Request</a>, <a href=\"https://jira.hl7.org/secure/CreateIssueDetails!init.jspa?pid=10405&amp;description=%0A%0A_Reported+from+Zulip+topic+%5BIs+eld-1+correct+in+the+context+of+an+differential%3F%7Chttps%3A%2F%2Fchat.fhir.org%2F%23narrow%2Fstream%2F179177%2Ftopic%2FIs%2520eld-1%2520correct%2520in%2520the%2520context%2520of%2520an%2520differential%253F%2Fnear%2F1614806630%5D+with+Firely+Bot._&amp;issuetype=10800\">Technical Correction</a>, <a href=\"https://jira.hl7.org/secure/CreateIssueDetails!init.jspa?pid=10405&amp;description=%0A%0A_Reported+from+Zulip+topic+%5BIs+eld-1+correct+in+the+context+of+an+differential%3F%7Chttps%3A%2F%2Fchat.fhir.org%2F%23narrow%2Fstream%2F179177%2Ftopic%2FIs%2520eld-1%2520correct%2520in%2520the%2520context%2520of%2520an%2520differential%253F%2Fnear%2F1614806630%5D+with+Firely+Bot._&amp;issuetype=10801\">Question</a> or <a href=\"https://jira.hl7.org/secure/CreateIssueDetails!init.jspa?pid=10405&amp;description=%0A%0A_Reported+from+Zulip+topic+%5BIs+eld-1+correct+in+the+context+of+an+differential%3F%7Chttps%3A%2F%2Fchat.fhir.org%2F%23narrow%2Fstream%2F179177%2Ftopic%2FIs%2520eld-1%2520correct%2520in%2520the%2520context%2520of%2520an%2520differential%253F%2Fnear%2F1614806630%5D+with+Firely+Bot._&amp;issuetype=10802\">Comment</a></p>\n<p><em>Don't have an HL7 Jira account yet? <a href=\"https://jira.hl7.org/secure/CreateIssue.jspa?pid=11200&amp;issuetype=11300\">Create one for free.</a></em></p>",
        "id": 228670968,
        "sender_full_name": "Firely Bot",
        "timestamp": 1614806639
    },
    {
        "content": "<p>When I click these links I get:</p>\n<p><a href=\"/user_uploads/10155/9KWw-fy8ZF2zRv1Z_CBwAzCV/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/9KWw-fy8ZF2zRv1Z_CBwAzCV/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/9KWw-fy8ZF2zRv1Z_CBwAzCV/image.png\"></a></div>",
        "id": 228671244,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1614806735
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> </p>\n<blockquote>\n<p>And a resource 2 derived from resource 1, which:<br>\nMakes a change to slicing of element A (eg. changing closed to open slicing)</p>\n</blockquote>\n<p>Isn't opening a closed slicing in a derived profile impossible? <span aria-label=\"innocent\" class=\"emoji emoji-1f607\" role=\"img\" title=\"innocent\">:innocent:</span></p>",
        "id": 228723840,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1614839005
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191682\">@Richard Townley-O'Neill</span>Fair point. Ticket does not include making that possible <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span><br>\n<span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> That's correct! Looks a bit scary with those warnings, but nothing you can't resolve on that screen.</p>",
        "id": 228746060,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1614852635
    }
]