[
    {
        "content": "<p>If i validate the following resource with meta.profile not containing a list but only a string, with the java validator i get no errors: <a href=\"https://gist.githubusercontent.com/patrick-werner/582b4d7f9362a1cedb1cdb1c1843d81b/raw/a14b87f7e2e918d000df159d3c10d3c608582575/example.json\" target=\"_blank\" title=\"https://gist.githubusercontent.com/patrick-werner/582b4d7f9362a1cedb1cdb1c1843d81b/raw/a14b87f7e2e918d000df159d3c10d3c608582575/example.json\">https://gist.githubusercontent.com/patrick-werner/582b4d7f9362a1cedb1cdb1c1843d81b/raw/a14b87f7e2e918d000df159d3c10d3c608582575/example.json</a></p>",
        "id": 189907659,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1583510963
    },
    {
        "content": "<p>Same for the hapi server and VONK. Grahames Server complains: <code>\"text\": \"Found a property of string looking for an array at $.meta.profile\"</code></p>",
        "id": 189907760,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1583511004
    },
    {
        "content": "<p>The java validator fails when using the resource as part of an IG: <code>java.lang.ClassCastException: class com.google.gson.JsonPrimitive cannot be cast to class com.google.gson.JsonArray (com.google.gson.JsonPrimitive and com.google.gson.JsonArray are in unnamed module of loader 'app')</code></p>",
        "id": 189907809,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1583511050
    },
    {
        "content": "<p>So there is some inconsistency in the validation. <br>\n<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> i think the java validator should also give an error when receiving a primitive instead of an array.</p>",
        "id": 189908131,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1583511252
    },
    {
        "content": "<p>umm wow.</p>",
        "id": 189930360,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1583526090
    },
    {
        "content": "<p>That's a shocking oversight and no one has ever picked it up. The validator does not check that a primitive property that should be an array actually is</p>",
        "id": 189930448,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1583526141
    },
    {
        "content": "<p>next release of the validator will note it as an error</p>",
        "id": 189932739,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1583527824
    }
]