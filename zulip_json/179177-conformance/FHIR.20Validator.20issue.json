[
    {
        "content": "<p>While validating uapi-as-enrollment-bundle using FHIR validator, we have came across the following error,</p>\n<p>{<br>\n            \"severity\": \"error\",<br>\n            \"code\": \"processing\",<br>\n            \"diagnostics\": \"Unable to find a match for profile urn:uuid:695d0991-5e03-46df-934a-85a28acd95c1 among choices: <a href=\"http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-practitioner\">http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-practitioner</a>\",<br>\n            \"location\": [<br>\n                \"Bundle.entry[2].resource.ofType(Patient).generalPractitioner[0]\",<br>\n                \"Line 1, Col 10510\"<br>\n            ]<br>\n        }</p>\n<p>Getting this issue for the other reference fields as well,<br>\n{<br>\n            \"severity\": \"error\",<br>\n            \"code\": \"processing\",<br>\n            \"diagnostics\": \"Unable to find a match for profile urn:uuid:01c31a2f-321d-4c6e-8349-206af8a88088 among choices: <a href=\"http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-organization\">http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-organization</a>\",<br>\n            \"location\": [<br>\n                \"Bundle.entry[2].resource.ofType(Patient).managingOrganization\",<br>\n                \"Line 1, Col 10631\"<br>\n            ]<br>\n        }</p>",
        "id": 264743046,
        "sender_full_name": "Dhananjayan Palani",
        "timestamp": 1639417357
    },
    {
        "content": "<p>why do you think that's an issue with the validator?</p>",
        "id": 264748345,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639419416
    },
    {
        "content": "<p>We have the respective resource entry for the reference  urn:uuid:695d0991-5e03-46df-934a-85a28acd95c1  in the bundle and the structure definition also loaded.. The issue is only with the reference fields where it couldn't identify the respective structure definition. <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 264805117,
        "sender_full_name": "Dhananjayan Palani",
        "timestamp": 1639453164
    },
    {
        "content": "<p>well, the validator doesn't think they conform. Are you sure they do? Please post an example - an instance, along with all the profiles etc that shows the problem</p>",
        "id": 264807029,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639454372
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/JIMQqsJAasnxarT7d7jQ5jlL/validate_enrl_bundle.json\">validate_enrl_bundle.json</a><br>\n<a href=\"/user_uploads/10155/ULmXUdJNBkQ-IuIz9KKtMTRm/StructureDefinition-uapi-as-enrollment-bundle.json\">StructureDefinition-uapi-as-enrollment-bundle.json</a> <br>\nHave attached the enrollment bundle and the corresponding structure definition</p>",
        "id": 264816285,
        "sender_full_name": "Dhananjayan Palani",
        "timestamp": 1639461790
    },
    {
        "content": "<p>well, this gives the me the following errors:</p>",
        "id": 265771199,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1640155557
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>ERROR: Bundle.entry[0].resource.ofType(MessageHeader).extension[0]: The extension http://dev.gene.com/fhir/uapi/StructureDefinition/message-timestamp is unknown, and not allowed here\nERROR: Bundle.entry[2].resource.ofType(Patient).generalPractitioner[0]: The type &#39;practitioner&#39; is not a valid Target for this element (must be one of [CanonicalType[http://hl7.org/fhir/StructureDefinition/Organization], CanonicalType[http://hl7.org/fhir/StructureDefinition/Practitioner], CanonicalType[http://hl7.org/fhir/StructureDefinition/PractitionerRole]])\nERROR: Bundle.entry[2].resource.ofType(Patient).generalPractitioner[0]: Invalid Resource target type. Found practitioner, but expected one of (Practitioner)\nERROR: Bundle.entry[2].resource.ofType(Patient).managingOrganization: The type &#39;organization&#39; is not a valid Target for this element (must be one of [CanonicalType[http://hl7.org/fhir/StructureDefinition/Organization]])\nERROR: Bundle.entry[2].resource.ofType(Patient).managingOrganization: Invalid Resource target type. Found organization, but expected one of (Organization)\nERROR: Bundle.entry[8].resource.ofType(Condition).code.coding[0]: The code &quot;E10.3211+TT1.2&quot; is not valid in the system http://hl7.org/fhir/sid/icd-10-cm; The code provided (http://hl7.org/fhir/sid/icd-10-cm#E10.3211+TT1.2) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/icd-10-cm#E10.3211+TT1.2&#39;\nERROR: Bundle.entry[3]: Profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-as-enrollment-bundle, Element matches more than one slice - practice, payer\nERROR: Bundle.entry[14]: Profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-as-enrollment-bundle, Element matches more than one slice - practice, payer\nERROR: Bundle: Bundle.entry:practice: max allowed = 1, but found 2 (from http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-as-enrollment-bundle)\nERROR: Bundle.entry[0].resource.ofType(MessageHeader): No profile found for contained resource of type &#39;MessageHeader&#39;\nERROR: Bundle.entry[0].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-messageheader\nERROR: Bundle.entry[2].resource.ofType(Patient): No profile found for contained resource of type &#39;Patient&#39;\nERROR: Bundle.entry[2].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-patient\nERROR: Bundle.entry[3].resource.ofType(Organization): No profile found for contained resource of type &#39;Organization&#39;\nERROR: Bundle.entry[3].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-organization\nERROR: Bundle.entry[4].resource.ofType(Practitioner): No profile found for contained resource of type &#39;Practitioner&#39;\nERROR: Bundle.entry[4].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-practitioner\nERROR: Bundle.entry[5].resource.ofType(Coverage): No profile found for contained resource of type &#39;Coverage&#39;\nERROR: Bundle.entry[5].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-coverage\nERROR: Bundle.entry[6].resource.ofType(RelatedPerson): No profile found for contained resource of type &#39;RelatedPerson&#39;\nERROR: Bundle.entry[6].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-relatedPerson\nERROR: Bundle.entry[8].resource.ofType(Condition): No profile found for contained resource of type &#39;Condition&#39;\nERROR: Bundle.entry[8].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-condition\nERROR: Bundle.entry[9].resource.ofType(Consent): No profile found for contained resource of type &#39;Consent&#39;\nERROR: Bundle.entry[9].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-consent\nERROR: Bundle.entry[10].resource.ofType(Provenance): No profile found for contained resource of type &#39;Provenance&#39;\nERROR: Bundle.entry[10].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-provenance\nERROR: Bundle.entry[11].resource.ofType(ServiceRequest): No profile found for contained resource of type &#39;ServiceRequest&#39;\nERROR: Bundle.entry[11].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-servicerequest\nERROR: Bundle.entry[12].resource.ofType(ServiceRequest): No profile found for contained resource of type &#39;ServiceRequest&#39;\nERROR: Bundle.entry[12].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-servicerequest\nERROR: Bundle.entry[13].resource.ofType(MedicationRequest): No profile found for contained resource of type &#39;MedicationRequest&#39;\nERROR: Bundle.entry[13].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-medicationrequest\nERROR: Bundle.entry[14].resource.ofType(Organization): No profile found for contained resource of type &#39;Organization&#39;\nERROR: Bundle.entry[14].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-organization\n</code></pre></div>\n<p>Which of these do you think are incorrect?</p>",
        "id": 265771613,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1640156091
    },
    {
        "content": "<p>I improved the messages:</p>\n<div class=\"codehilite\"><pre><span></span><code>ERROR: Bundle.entry[0].resource.ofType(MessageHeader).extension[0]: The extension http://dev.gene.com/fhir/uapi/StructureDefinition/message-timestamp is unknown, and not allowed here\nERROR: Bundle.entry[2].resource.ofType(Patient).generalPractitioner[0]: The type &#39;practitioner&#39; is not a valid Target for this element (must be one of [CanonicalType[http://hl7.org/fhir/StructureDefinition/Organization], CanonicalType[http://hl7.org/fhir/StructureDefinition/Practitioner], CanonicalType[http://hl7.org/fhir/StructureDefinition/PractitionerRole]])\nERROR: Bundle.entry[2].resource.ofType(Patient).generalPractitioner[0]: Invalid Resource target type. Found practitioner, but expected one of (Practitioner)\nERROR: Bundle.entry[2].resource.ofType(Patient).managingOrganization: The type &#39;organization&#39; is not a valid Target for this element (must be one of [CanonicalType[http://hl7.org/fhir/StructureDefinition/Organization]])\nERROR: Bundle.entry[2].resource.ofType(Patient).managingOrganization: Invalid Resource target type. Found organization, but expected one of (Organization)\nERROR: Bundle.entry[8].resource.ofType(Condition).code.coding[0]: The code &quot;E10.3211+TT1.2&quot; is not valid in the system http://hl7.org/fhir/sid/icd-10-cm; The code provided (http://hl7.org/fhir/sid/icd-10-cm#E10.3211+TT1.2) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/icd-10-cm#E10.3211+TT1.2&#39;\nERROR: Bundle.entry[3]: Profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-as-enrollment-bundle, Element matches more than one slice - practice, payer\nERROR: Bundle.entry[14]: Profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-as-enrollment-bundle, Element matches more than one slice - practice, payer\nERROR: Bundle: Bundle.entry:practice: max allowed = 1, but found 2 (from http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-as-enrollment-bundle)\nERROR: Bundle.entry[0].resource.ofType(MessageHeader): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-messageheader not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[0].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-messageheader\nERROR: Bundle.entry[2].resource.ofType(Patient): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-patient not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[2].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-patient\nERROR: Bundle.entry[3].resource.ofType(Organization): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-organization not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[3].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-organization\nERROR: Bundle.entry[4].resource.ofType(Practitioner): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-practitioner not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[4].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-practitioner\nERROR: Bundle.entry[5].resource.ofType(Coverage): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-coverage not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[5].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-coverage\nERROR: Bundle.entry[6].resource.ofType(RelatedPerson): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-relatedPerson not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[6].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-relatedPerson\nERROR: Bundle.entry[8].resource.ofType(Condition): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-condition not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[8].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-condition\nERROR: Bundle.entry[9].resource.ofType(Consent): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-consent not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[9].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-consent\nERROR: Bundle.entry[10].resource.ofType(Provenance): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-provenance not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[10].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-provenance\nERROR: Bundle.entry[11].resource.ofType(ServiceRequest): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-servicerequest not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[11].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-servicerequest\nERROR: Bundle.entry[12].resource.ofType(ServiceRequest): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-servicerequest not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[12].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-servicerequest\nERROR: Bundle.entry[13].resource.ofType(MedicationRequest): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-medicationrequest not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[13].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-medicationrequest\nERROR: Bundle.entry[14].resource.ofType(Organization): Specified profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-organization not found for entry resource of type &#39;entry&#39;\nERROR: Bundle.entry[14].resource: Unknown profile http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-organization\n</code></pre></div>",
        "id": 265772025,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1640156550
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  Couldn't find the root cause for the following error,  ERROR: Bundle: Bundle.entry:practice: max allowed = 1, but found 2 (from <a href=\"http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-as-enrollment-bundle\">http://dev.gene.com/fhir/uapi/StructureDefinition/uapi-as-enrollment-bundle</a>)</p>",
        "id": 266653956,
        "sender_full_name": "Dhananjayan Palani",
        "timestamp": 1641189369
    },
    {
        "content": "<p>well, describe how that slice is differentiated</p>",
        "id": 267019561,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641437015
    }
]