[
    {
        "content": "<p>Hi <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> I am wondering how to interpret <a href=\"https://www.hl7.org/fhir/r4/json.html#xml\">the following statement in the spec</a> about the JSON representation of resources:</p>\n<blockquote>\n<p>Just as in XML, JSON objects and arrays are never empty, and properties never have null values (except for a special case documented below). </p>\n</blockquote>\n<p>I would read this as saying that empty arrays are invalid in FHIR resources. However, the JAR validator (Version 5.1.16) says the following is valid.</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n    <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"DocumentReference\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"status\"</span><span class=\"p\">:</span> <span class=\"s2\">\"current\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"category\"</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n        <span class=\"nt\">\"coding\"</span><span class=\"p\">:</span> <span class=\"p\">[]</span>\n    <span class=\"p\">}],</span>\n    <span class=\"nt\">\"content\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"nt\">\"attachment\"</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"nt\">\"contentType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"text/plain\"</span><span class=\"p\">,</span> <span class=\"nt\">\"data\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Zm9v\"</span> <span class=\"p\">}</span> <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<p>(It does complain about empty <em>objects</em>, though.) Is the statement from the spec only meant to provide best-practice guidance or is it merely not enforced by the validator?</p>",
        "id": 214152784,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1603352321
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 214197489,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603377966
    },
    {
        "content": "<p>looks like an oversight to me</p>",
        "id": 214242593,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1603397682
    },
    {
        "content": "<p>Do you need a Git issue?</p>",
        "id": 214243999,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603398554
    },
    {
        "content": "<p>no</p>",
        "id": 214246082,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1603399678
    }
]