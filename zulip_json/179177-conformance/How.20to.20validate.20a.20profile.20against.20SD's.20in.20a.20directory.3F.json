[
    {
        "content": "<p>I don't have an IG, but I have a profile and a directory full of StructureDefinitions. Is validating without an IG is still supported? <a href=\"http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator#Running_the_validator\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator#Running_the_validator\">Wiki</a> mentions this should work:</p>\n<div class=\"codehilite\"><pre><span></span>java -jar /home/vadi/Downloads/org.hl7.fhir.validator.jar &#39;/home/vadi/Desktop/swedishnationalmedicationlist/MedicationRequest-example-bad.json&#39; -ig &#39;/home/vadi/Desktop/swedishnationalmedicationlist/&#39; -version 3.0\n</pre></div>\n\n\n<p>But the validator goes haywire and starts scanning markdown files, before crashing on a directory:</p>\n<div class=\"codehilite\"><pre><span></span>FHIR Validation tool Version 3.7.40-SNAPSHOT - Built 2019-05-30T13:33:06.82+10:00 - Git 75500dae8687\nArguments: /home/vadi/Desktop/swedishnationalmedicationlist/MedicationRequest-example-bad.json -ig /home/vadi/Desktop/swedishnationalmedicationlist/ -version 3.0\n  .. connect to tx server @ http://tx.fhir.org\n  .. definitions from hl7.fhir.core#3.0.1\n    (v3.0.1)\n+  .. load IG from /home/vadi/Desktop/swedishnationalmedicationlist/\n   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Dosedispensedrequests.md\n[Fatal Error] :1:1: Content is not allowed in prolog.\n     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Dosedispensedrequests.md\n   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Changepresecription.md\n[Fatal Error] :1:1: Content is not allowed in prolog.\n     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Changepresecription.md\n   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Createconsentfordosedispensing.md\n[Fatal Error] :1:1: Content is not allowed in prolog.\n     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Createconsentfordosedispensing.md\n   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/MedicationDispense.md\n[Fatal Error] :1:1: Content is not allowed in prolog.\n     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/MedicationDispense.md\n   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/nll.jpg\n     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/nll.jpg\n   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Practitioner.md\n[Fatal Error] :1:1: Content is not allowed in prolog.\n     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Practitioner.md\n   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Cancelconsentfordosedispensing.md\n[Fatal Error] :1:1: Content is not allowed in prolog.\n     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Cancelconsentfordosedispensing.md\n   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/change_prescri_ext.png\n     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/change_prescri_ext.png\n   ..Detect format for /home/vadi/Desktop/swedishnationalmedicationlist/Fetchconsent.md\n[Fatal Error] :1:1: Content is not allowed in prolog.\n     .. not a resource: /home/vadi/Desktop/swedishnationalmedicationlist/Fetchconsent.md\nException in thread &quot;main&quot; java.io.FileNotFoundException: /home/vadi/Desktop/swedishnationalmedicationlist/NLL (Is a directory)\n    at java.io.FileInputStream.open0(Native Method)\n    at java.io.FileInputStream.open(FileInputStream.java:195)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)\n    at org.hl7.fhir.r5.validation.ValidationEngine.checkIsResource(ValidationEngine.java:635)\n    at org.hl7.fhir.r5.validation.ValidationEngine.scanDirectory(ValidationEngine.java:494)\n    at org.hl7.fhir.r5.validation.ValidationEngine.loadIgSource(ValidationEngine.java:430)\n    at org.hl7.fhir.r5.validation.ValidationEngine.loadIg(ValidationEngine.java:660)\n    at org.hl7.fhir.r5.validation.Validator.main(Validator.java:373)\n</pre></div>",
        "id": 166896513,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1559212573
    },
    {
        "content": "<p>Why are you specifying an IG if you don't have an IG?</p>",
        "id": 166898889,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1559214854
    },
    {
        "content": "<p>I have never been able to get this to work.  I just stripped down us core to act as a validation tool with pretty links to the validation results.</p>",
        "id": 166913859,
        "sender_full_name": "Eric Haas",
        "timestamp": 1559227553
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> you should ask. There should be no reason to need to strip down an IG. in your case, you should be using the package</p>",
        "id": 166945792,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559250087
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191363\">@Vadim Peretokin</span> blowing up on a directory is a bug that will be fixed in the next release. The .md files are being loaded as xml in case they are, and the xml library is producing that output directly. I'll add .md to the list of files to ignore</p>",
        "id": 166946358,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559250488
    },
    {
        "content": "<p>The IG does the validation on the current profiles so it seemed  like the natural choice and its pretty easy to load the examples folders with test files and do a bulk validation.</p>",
        "id": 166946554,
        "sender_full_name": "Eric Haas",
        "timestamp": 1559250641
    },
    {
        "content": "<p>I don't understand that. The IG publisher does validation on the examples already. what are you trying to do that's different?</p>",
        "id": 166946698,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559250729
    },
    {
        "content": "<p>Nothing is different,  I just focus on the examples and QA output.</p>",
        "id": 166947057,
        "sender_full_name": "Eric Haas",
        "timestamp": 1559251052
    },
    {
        "content": "<p>Mm so what's the right way to simply validate an instance against a profile without the overhead of a package?</p>",
        "id": 166976967,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1559290080
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> the <code>-ig</code> parameter states: \"... or a local folder that contains a  set of conformance resources.\"</p>",
        "id": 166981556,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1559294620
    },
    {
        "content": "<p>yes that way. should work now</p>",
        "id": 166984661,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559297758
    },
    {
        "content": "<p>It's not with the latest release 3.7.41 :(</p>",
        "id": 166985892,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1559299066
    },
    {
        "content": "<p>I've fixed the markdown (and other file) scanning with: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/36\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/36\">https://github.com/hapifhir/org.hl7.fhir.core/pull/36</a></p>",
        "id": 167106086,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1559453183
    }
]