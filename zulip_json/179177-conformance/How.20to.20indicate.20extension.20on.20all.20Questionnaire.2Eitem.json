[
    {
        "content": "<p>How do you indicate that an extension should be allowed on any Questionnaire.item, Questionnaire.item.item, Questionnaire.item.item.item, etc.?<br>\nRight now, I have a profile which has an extension defined on the top-level Questionnaire.item, but I don't think that inherently applies to all children, grandchildren, etc.</p>",
        "id": 153953217,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1524156049
    },
    {
        "content": "<p>(this is in a StructureDefinition profile within the context of a Questionnaire)</p>",
        "id": 153953218,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1524156086
    },
    {
        "content": "<p>This ties into Monday's FHIR-I discussion.  You'd use a contained StructureDefinition if you wanted to define behavior that applied recursively - or you'd have to declare the extension on Questionnaire.item and Questionnaire.item.item</p>",
        "id": 153953226,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1524159240
    },
    {
        "content": "<p>Interesting question! Maybe we could introduce a custom syntax like contentReference? For example:<br>\nextension context = \"#Questionnaire.item\" =&gt; refers to the \"inline\" item component definition (on each level)<br>\nextension context = \"Questionnaire[...].item\" =&gt; refers to specific item node at a specific level</p>",
        "id": 153953578,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1524478470
    },
    {
        "content": "<p>On the other hand, I'm reluctant in adding too many \"hacks\" in order to make contentReferences work...</p>",
        "id": 153953579,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1524478528
    },
    {
        "content": "<p>That wouldn't solve the issue.  Questionnaire.item might have 3 invariants, one intended to apply to all items and the other two only intended for the root.  Contained StructureDefinitions is the only clean way to differentiate.</p>",
        "id": 153953630,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1524493969
    },
    {
        "content": "<p>Yet, a contained StructureDefinition seems like a LOT of work for a simple task</p>",
        "id": 153953644,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1524497937
    },
    {
        "content": "<p>Yes, so shortly we were thinking about having a new syntax for it. But that's also not trivial, since that's new methodology. I guess the last word hasn't been said about this, I expect we're going to review this issue next week in KÃ¶ln...</p>",
        "id": 153956346,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1525694558
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span> Did this ever get resolved? If I remember correctly, on the FHIR-I call we were leaning towards getting rid of contentReference in favor of contained SDs...</p>",
        "id": 153993147,
        "sender_full_name": "Chris Grenz",
        "timestamp": 1536090934
    },
    {
        "content": "<p>That's my recollection of the leaning too, but not sure it landed.</p>",
        "id": 153993218,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536097466
    },
    {
        "content": "<p>we did land it</p>",
        "id": 153993221,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536097950
    },
    {
        "content": "<p>So how do we differentiate in the spreadsheet that an invariant applies to the root vs. to all?</p>",
        "id": 153993231,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536098402
    },
    {
        "content": "<p>we don't</p>",
        "id": 153993236,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536098648
    },
    {
        "content": "<p>So landed, but not yet implemented?</p>",
        "id": 153993250,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536100425
    },
    {
        "content": "<p>I'm not at all sure</p>",
        "id": 153993257,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536102048
    },
    {
        "content": "<p>I'm not sure either.</p>",
        "id": 153993364,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1536136819
    },
    {
        "content": "<blockquote>\n<p>I'm not sure either.</p>\n</blockquote>\n<p>It's safe to assume that means: landed, but not yet implemented.</p>",
        "id": 154002942,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1538320609
    }
]