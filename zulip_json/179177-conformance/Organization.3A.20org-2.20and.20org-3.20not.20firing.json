[
    {
        "content": "<p>I have created a couple of simple Organization examples and noticed that the <a href=\"http://hl7.org/fhir/organization.html#invs\" target=\"_blank\" title=\"http://hl7.org/fhir/organization.html#invs\">resource invariants</a> org-2 (\"<em>An address of an organization can never be of use 'home'</em>\") and org-3 (\"<em>The telecom of an organization can never be of use 'home'</em>\") are not being triggered when I would expect them to be.</p>\n<p>The 2 examples are:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Organization xmlns=&quot;http://hl7.org/fhir&quot;&gt;\n    &lt;id value=&quot;organization.org-2.fail-1&quot;/&gt;\n    &lt;name value=&quot;Test organization&quot;/&gt;\n    &lt;address&gt;\n        &lt;use value=&quot;home&quot;/&gt;\n        &lt;text value=&quot;Org address&quot;/&gt;\n    &lt;/address&gt;\n&lt;/Organization&gt;\n</pre></div>\n\n\n<p>and</p>\n<div class=\"codehilite\"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Organization xmlns=&quot;http://hl7.org/fhir&quot;&gt;\n    &lt;id value=&quot;organization.org-3.fail-1&quot;/&gt;\n    &lt;name value=&quot;Test organization&quot;/&gt;\n    &lt;telecom&gt;\n        &lt;system value=&quot;phone&quot;/&gt;\n        &lt;value value=&quot;9999999&quot;/&gt;\n        &lt;use value=&quot;home&quot;/&gt;\n    &lt;/telecom&gt;\n&lt;/Organization&gt;\n</pre></div>\n\n\n<p>The QA report (using IG Publisher v1.0.3-SNAPSHOT) comes up clean for these 2 examples.<br>\nHave I missed something incredibly obvious?  <br>\nI have searched here in zulip and google more generally and found nothing related.</p>",
        "id": 182083177,
        "sender_full_name": "Rob Eastwood",
        "timestamp": 1574918712
    },
    {
        "content": "<p>ouch. this is a big deal</p>",
        "id": 182132860,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1574971055
    },
    {
        "content": "<p>fixed next release. We were not checking invariants on an element with a type.</p>",
        "id": 182137319,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1574977277
    },
    {
        "content": "<blockquote>\n<p>fixed next release. We were not checking invariants on an element with a type.</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 182139531,
        "sender_full_name": "Rob Eastwood",
        "timestamp": 1574980785
    },
    {
        "content": "<p>Following up for closure, so others are aware - <br>\nI can confirm that the latest version of the IG publisher (Version 1.0.5-SNAPSHOT - Built 2019-11-30T16:27:02.273+11:00 - Git b0f0e9023beb) does trigger these invariants.<br>\nThanks again <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, for the prompt attention.</p>",
        "id": 182304230,
        "sender_full_name": "Rob Eastwood",
        "timestamp": 1575241307
    }
]