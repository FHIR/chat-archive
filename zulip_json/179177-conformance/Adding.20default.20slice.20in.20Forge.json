[
    {
        "content": "<p>How do I add an default slice as per <a href=\"https://www.hl7.org/fhir/profiling.html#default-slice\" target=\"_blank\" title=\"https://www.hl7.org/fhir/profiling.html#default-slice\">https://www.hl7.org/fhir/profiling.html#default-slice</a> when using forge? Using \"@default\" as slice name gives me an error:<br>\nMessage : sliceName must be composed of proper tokens (a-z | A-Z | 0-9 | _ | -) separated by \"/\"<br>\nId      : eld-16<br>\nSeverity: Warning<br>\nSource  : Slice name<br>\nContext : patient / identifier / @default / Slice name</p>\n<p>Or is this even an error in the spec with eld-16 contradicting the above description of how to use default slices...?</p>",
        "id": 153927308,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1514541230
    },
    {
        "content": "<p>It appears that eld-16 still doesn't allow \"@default\" as a slice name even in the current build:<br>\n<a href=\"http://build.fhir.org/elementdefinition-definitions.html\" target=\"_blank\" title=\"http://build.fhir.org/elementdefinition-definitions.html\">http://build.fhir.org/elementdefinition-definitions.html</a></p>",
        "id": 153927309,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1514541458
    },
    {
        "content": "<p>Is somebody going to tell me that I'm wrong or do we need a CR?</p>",
        "id": 153927522,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1514987506
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191351\">@Chris Grenz</span> ?</p>",
        "id": 153927532,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1514996730
    },
    {
        "content": "<p>Looks like we need a CR for eld-16.  @default is a reserved sliceName.</p>",
        "id": 153927533,
        "sender_full_name": "Chris Grenz",
        "timestamp": 1514997155
    },
    {
        "content": "<p>Can one of you submit one</p>",
        "id": 153927538,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1514999235
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14389\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14389\">GF#14389</a></p>",
        "id": 153927613,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1515080871
    },
    {
        "content": "<p>Indeed, Forge has no special logic concerning \"@default\" slice, however this slice name currently this triggers eld-16. Once the invariant is fixed, I can update Forge. Possibly add some custom UI support, e.g. \"Add default slice\" command.</p>",
        "id": 153927945,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1515408632
    },
    {
        "content": "<p>I always thought @default was an R4 thing ;-)  Oops...my .NET validator does not support it yet!</p>",
        "id": 153928146,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1515515641
    },
    {
        "content": "<p>[Edit] I'm actually a bit surprised myself, but it's defined in the DSTU3 spec:<br>\n<a href=\"https://www.hl7.org/fhir/profiling.html#default-slice\" target=\"_blank\" title=\"https://www.hl7.org/fhir/profiling.html#default-slice\">https://www.hl7.org/fhir/profiling.html#default-slice</a></p>",
        "id": 153928151,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1515520291
    },
    {
        "content": "<p>We were trying to use it in the IPS IG, and since we moved to R4 I thought it should work now, but it's still giving some errors.  With that I've also been wondering if it's even needed or would be useful as opposed to just using open slicing?</p>",
        "id": 153969115,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1528912708
    },
    {
        "content": "<p>A default slice allows invarients that conflict with invarients on the other slices.<br>\nThis cannot be done with invarients on an element with open slicing. Unless you effectivly define the other slices in the invarient - messy.</p>",
        "id": 153970041,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1529024501
    },
    {
        "content": "<p>IMO, default slice makes perfectly sense. <br>\nThe slice defines the required identifier for Resource X but it's allowed to add additional identifiers, as long as these have at least a value and a system.<br>\nYou can't define that without default slices.</p>",
        "id": 153970118,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1529062311
    },
    {
        "content": "<p>You can, but only if you impose those constraints on all your other slices too.   A better example might be mandating Identifier.type.text in the default slice.  You don't care about that for the specific identifiers whose system you know (enumerated with specific slices), but you want it for everything else.</p>",
        "id": 153970119,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1529062641
    },
    {
        "content": "<p>...not in Forge. Once you slice an element, you can only constrain the individual slices, but not the element itself.</p>",
        "id": 153970128,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1529073974
    },
    {
        "content": "<p>Yeah, that needs to be fixed</p>",
        "id": 153970131,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1529075094
    },
    {
        "content": "<p>Correct, Forge UI does not support editing default slice constraints (yet). We prioritize features based on user requests and we haven't seen much demand for this until recently.</p>",
        "id": 153970211,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1529233464
    }
]