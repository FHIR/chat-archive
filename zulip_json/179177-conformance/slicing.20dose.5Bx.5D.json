[
    {
        "content": "<p>I'm trying to slice medicationStatement.dosage.dose[x] into ...doseRange and ...doseSimpleQuantity, so I can apply different constraints to there types, but somehow Forge doesn't seem to like that (I can't define a discriminator).<br>\nWho's wrong? Me or Forge?</p>",
        "id": 153900871,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1502192411
    },
    {
        "content": "<p>I think there's generally something wrong here...<br>\nI get funny validation errors, even though I didn't constrain anything:</p>\n<p>Element 'MedicationStatement.dosage.doseQuantity' : 'doseQuantity' has an invalid type profile constraint '<a href=\"http://hl7.org/fhir/StructureDefinition/SimpleQuantity\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/SimpleQuantity\">http://hl7.org/fhir/StructureDefinition/SimpleQuantity</a>'. The target represents a profile on 'Quantity' which is incompatible with the element type 'Quantity'.</p>",
        "id": 153901046,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1502223164
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span>, thank you for the feedback. I've tried to recreate your profile in Forge. Initially, this seems to work fine. But after re-loading the profile, Forge displays warnings about the SimpleQuantity slice and does not expand the child elements. This is a bug. I'll investigate the issue.</p>",
        "id": 153901107,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1502270527
    },
    {
        "content": "<p>Interestingly, Simplifier also has issues rendering the Profile correctly.<br>\nWhen you scoll to the bottom of this profile (<a href=\"https://simplifier.net/medikationsplanplus/medicationstatement-1\" target=\"_blank\" title=\"https://simplifier.net/medikationsplanplus/medicationstatement-1\">https://simplifier.net/medikationsplanplus/medicationstatement-1</a>), you see two attributes called \"SimpleQuantity\" which should actually be maxDosePerAdministration and maxDosePerLifetime.<br>\nI can see in Forge that the two attributes have a SliceName of \"SimpleQuantity\", but I don't really understand why that is...<br>\nThat's definitely coming from the core definition.</p>",
        "id": 153901113,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1502271073
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span>, yes something's strange is going on here. The core definition of Dosage does not specify any slice names, so apparently they are being added by the snapshot generator. This is a bug that we'll have to fix in the .NET FHIR API library.</p>",
        "id": 153901115,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1502272024
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span>, I analyzed the issue. It turns out that the SimpleQuantity core definition introduces a slice name \"SimpleQuantity\" on the root element definition. This appears to be a bug in the spec that causes tooling issues downstream.<br>\nI've updated the .NET FHIR API to detect and remove unexpected and invalid slice names on core definitions and/or root elements. This workaround will be included in the next Forge release, so users don't suffer from this error in the current version of the spec. Once the spec has been updated, we can deprecate the workaround.</p>",
        "id": 153901610,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1502375698
    },
    {
        "content": "<p>Thanks Michel, you're awesome <img alt=\":heart:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/unicode/2764.png\" title=\":heart:\"></p>",
        "id": 153901697,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1502389633
    },
    {
        "content": "<p>You're welcome! <img alt=\":kissing_smiling_eyes:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/unicode/1f619.png\" title=\":kissing_smiling_eyes:\"></p>",
        "id": 153902054,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1502441095
    }
]