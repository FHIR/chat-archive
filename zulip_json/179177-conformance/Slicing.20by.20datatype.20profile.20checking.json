[
    {
        "content": "<p>When we are attempting to slice by profile on an element (match datatype profiles) we do this:<br>\n  &lt;element id=\"Patient.identifier\"&gt;<br>\n      &lt;path value=\"Patient.identifier\" /&gt;<br>\n      &lt;slicing&gt;<br>\n        &lt;discriminator&gt;<br>\n          &lt;type value=\"profile\" /&gt;<br>\n          &lt;path value=\"$this\" /&gt;<br>\n        &lt;/discriminator&gt;<br>\n        &lt;rules value=\"open\" /&gt;<br>\n      &lt;/slicing&gt;<br>\n    &lt;/element&gt;<br>\nWhere the path is $this  as we are trying to match the  instance element with one of the datatype slices which each have a profile defined for the type<br>\ne.g<br>\n  &lt;element id=\"Patient.identifier:ihiNumber\"&gt;<br>\n      &lt;path value=\"Patient.identifier\" /&gt;<br>\n      &lt;sliceName value=\"ihiNumber\" /&gt;<br>\n      &lt;max value=\"1\" /&gt;<br>\n      &lt;type&gt;<br>\n        &lt;code value=\"Identifier\" /&gt;<br>\n        &lt;profile value=\"<a href=\"http://hl7.org.au/fhir/StructureDefinition/au-ihinumber\">http://hl7.org.au/fhir/StructureDefinition/au-ihinumber</a>\" /&gt;<br>\n      &lt;/type&gt;<br>\n      &lt;mustSupport value=\"true\" /&gt;<br>\n    &lt;/element&gt;</p>\n<p>For examples - QA report is showing 'Not supported yet' <br>\nInternal error: Problem evaluating slicing expression for element in profile <a href=\"http://hl7.org.au/fhir/StructureDefinition/patient-ident-choice-ihi-med\">http://hl7.org.au/fhir/StructureDefinition/patient-ident-choice-ihi-med</a> path Patient.identifier[0] (fhirPath = true and $this.conformsTo('<a href=\"http://hl7.org.au/fhir/StructureDefinition/au-ihinumber\">http://hl7.org.au/fhir/StructureDefinition/au-ihinumber</a>')): Not supported yet</p>\n<p>Is there any plan for this validation capability (assume the Java validator?) ; resolve() works fine for Reference resolution and profile check but not datatype profile check</p>",
        "id": 203675725,
        "sender_full_name": "Brett Esler",
        "timestamp": 1594612535
    },
    {
        "content": "<p>I think I fixed this over the weekend, so fixed in the next release</p>",
        "id": 203685417,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1594625732
    },
    {
        "content": "<p>Thanks will try with next version</p>",
        "id": 203782905,
        "sender_full_name": "Brett Esler",
        "timestamp": 1594682210
    }
]