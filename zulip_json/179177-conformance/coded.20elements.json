[
    {
        "content": "<p>If I wanted to indicate in a profile that a coded element should come from a given codesystem (eg Condition.code should come from SNOMED), I have a couple of options:</p>\n<ul>\n<li>I could create a new ValueSet and bind it to the element (but unless I made the binding 'required' they can always choose another)</li>\n<li>I could create a slice on Condition.code, discriminator = coding.system, adding a slice with snomed as the system. That way (at least) one of the codes must  be SNOMED</li>\n</ul>\n<p>correct?</p>",
        "id": 153880843,
        "sender_full_name": "David Hay",
        "timestamp": 1491255251
    },
    {
        "content": "<p>Also:</p>\n<ul>\n<li>create and extensible binding value set to given code system</li>\n<li>create a best practice invarient.   like I did <a href=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-observationresults-definitions.html#Observation:uscoreobs.value[x]\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-observationresults-definitions.html#Observation:uscoreobs.value[x]\">here</a></li>\n<li>the Slicing option is no better than a code binding.  Went through this way back with USLab profiles.</li>\n</ul>",
        "id": 153880850,
        "sender_full_name": "Eric Haas",
        "timestamp": 1491257503
    },
    {
        "content": "<p>so 2 'preferred' options then:</p>\n<ul>\n<li>ValueSet binding</li>\n<li>Invariant</li>\n</ul>",
        "id": 153880865,
        "sender_full_name": "David Hay",
        "timestamp": 1491260412
    },
    {
        "content": "<p>Bindings are more visible and navigable than invariants, so I'd say that binding at the top level or binding to a slice would be preferred over an invariant</p>",
        "id": 153880867,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1491261080
    },
    {
        "content": "<p>Also for binding, this ties in better with FHIR terminology services; ValueSet/$expand can take a context parameter that points at the profiled element which then identifies the valueset to use.  Also, for a binding to \"any\" SNOMED code, you don't need to define a new one because there are already pre-defined implicit valuesets - eg <a href=\"http://snomed.info/sct?fhir_vs\" target=\"_blank\" title=\"http://snomed.info/sct?fhir_vs\">http://snomed.info/sct?fhir_vs</a> for \"All of SNOMED\"</p>",
        "id": 153880936,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1491347814
    },
    {
        "content": "<p>this works for invariants too, if the terminology server understands them </p>",
        "id": 153881049,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1491435135
    }
]