[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span>  is it possible to add multiple directories using this parameter<br>\nPATH_TO_CONFORMANCE_RESOURCES: StructureDefinition<br>\nHave tried using coma's.</p>",
        "id": 238323798,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1620745673
    },
    {
        "content": "<p>Example <a href=\"https://github.com/NHSDigital/NHSDigitial-FHIR-ImplementationGuide/blob/master/.github/workflows/main.yml\">https://github.com/NHSDigital/NHSDigitial-FHIR-ImplementationGuide/blob/master/.github/workflows/main.yml</a></p>",
        "id": 238323865,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1620745688
    },
    {
        "content": "<p>Different paths should be separated by whitespace, will add this to the documentation, thanks!<br>\nAn example can be found here: <a href=\"https://github.com/medizininformatik-initiative/kerndatensatzmodul-person/actions/runs/788553754/workflow\">https://github.com/medizininformatik-initiative/kerndatensatzmodul-person/actions/runs/788553754/workflow</a></p>",
        "id": 238341898,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1620752036
    },
    {
        "content": "<p>Also with the current version, example validation won't work, it's still a work in progress. Let me know if you need anything else in your pipeline.</p>",
        "id": 238342318,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1620752197
    },
    {
        "content": "<p>That worked fine. </p>\n<p>Have also tried using java validation. Ran into this issue. </p>\n<p><a href=\"/user_uploads/10155/CKlPdMA3eFWebAT0XTzhcIDE/Screenshot-2021-05-12-at-05.53.30.png\">Screenshot-2021-05-12-at-05.53.30.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/CKlPdMA3eFWebAT0XTzhcIDE/Screenshot-2021-05-12-at-05.53.30.png\" title=\"Screenshot-2021-05-12-at-05.53.30.png\"><img src=\"/user_uploads/10155/CKlPdMA3eFWebAT0XTzhcIDE/Screenshot-2021-05-12-at-05.53.30.png\"></a></div>",
        "id": 238421104,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1620795219
    },
    {
        "content": "<p>Not sure if my package json is correct but the package is on simplifier and when using the fhirvalidator directly I would specify like<br>\n-ig <a href=\"https://packages.simplifier.net/${packageName}/-/${packageName}-${version}.tgz\">https://packages.simplifier.net/${packageName}/-/${packageName}-${version}.tgz</a></p>\n<p>Extract from package.json:</p>\n<p>\"dependencies\": {<br>\n      \"UK.Core.r4.v2\": \"2.0.8\",<br>\n      \"hl7.fhir.r4.core\": \"4.0.1\"<br>\n    }</p>\n<p>Do we need to publish the UK.Core.r4.v2 differently?</p>",
        "id": 238421464,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1620795585
    },
    {
        "content": "<p>Looks like the same issue reported here to me: <a href=\"#narrow/stream/179166-implementers/topic/Error.20loading.20package.20in.20java.20validator\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Error.20loading.20package.20in.20java.20validator</a></p>",
        "id": 238437105,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1620806991
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> Any thoughts?</p>",
        "id": 238437128,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1620807002
    },
    {
        "content": "<p>Can you try to use \"uk.core.r4.v2\"?</p>",
        "id": 238437255,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1620807044
    },
    {
        "content": "<p>Looking great so far</p>",
        "id": 238438943,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1620807971
    },
    {
        "content": "<p>Had issues around the use of subdirectories in java validation. <br>\nIt worked but the use of subdirectories meant it failed to pick up conformance directories in other folders.</p>",
        "id": 238441836,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1620809509
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191687\">@Kevin Mayfield</span> Can you explicitly confirm that the Java validator failed when you specified <code>UK.Core.r4.v2</code> as a dependency, but succeeded when specifying it as <code>uk.core.r4.v2</code>?<br>\nThis is the confirmation I'm trying to give Grahame in <a href=\"#narrow/stream/179166-implementers/topic/Error.20loading.20package.20in.20java.20validator/near/237782876\">this conversation</a>.</p>\n<p>And thanks for jumping on the pipeline so quickly! <span aria-label=\"muscle\" class=\"emoji emoji-1f4aa\" role=\"img\" title=\"muscle\">:muscle:</span></p>",
        "id": 238448497,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1620813258
    },
    {
        "content": "<p>Yes that is correct, java validation worked with <code>uk.core.r4.v2</code> but not <code>UK.Core.r4.v2</code></p>",
        "id": 238449585,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1620813869
    },
    {
        "content": "<p>ok I think this is fixed next release (not the one happening now)</p>",
        "id": 238694088,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620947030
    },
    {
        "content": "<p>We may want to look at how we validate at a pre packaged state (i.e. the package in git form).<br>\nOur structure (at present) subdivides the resources by type<br>\n<a href=\"/user_uploads/10155/Qb2U6EDIfV2ASkHGf9f64jyV/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Qb2U6EDIfV2ASkHGf9f64jyV/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/Qb2U6EDIfV2ASkHGf9f64jyV/image.png\"></a></div>",
        "id": 238731483,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1620978989
    },
    {
        "content": "<p>Also our examples don't specify the profiles they conform to. We've started using the CapabilityStatement (kind=requirements) to state the default profile to be used.</p>",
        "id": 238731619,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1620979091
    },
    {
        "content": "<p>e.g. <a href=\"https://github.com/NHSDigital/NHSDigitial-FHIR-ImplementationGuide/blob/master/CapabilityStatement/api.xml\">https://github.com/NHSDigital/NHSDigitial-FHIR-ImplementationGuide/blob/master/CapabilityStatement/api.xml</a><br>\nor simplifier version <br>\n<a href=\"https://simplifier.net/guide/NHSDigital/CapabilityStatement\">https://simplifier.net/guide/NHSDigital/CapabilityStatement</a></p>",
        "id": 238731732,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1620979153
    },
    {
        "content": "<blockquote>\n<p>We may want to look at how we validate at a pre packaged state</p>\n</blockquote>\n<p>I'm not clear quite you're saying there, about who might do what?</p>",
        "id": 238828125,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1621025606
    },
    {
        "content": "<p>What I'm wanting to do is validate commited resources against the very latest files on git and/or simplifier.</p>",
        "id": 238991846,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1621184144
    },
    {
        "content": "<p>Thinking about itt, not sure how that would be done. <br>\nDo I need a package generated on every change in simpifier/git - a dev/test package?</p>",
        "id": 238991941,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1621184252
    },
    {
        "content": "<p>What I'm doing at the moment is using a modified HAPI FHIR Validator to test the package but I have to create one for each test. I'm looking at simplifier git workflow to move the testing to an earlier stage.</p>",
        "id": 238992050,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1621184392
    },
    {
        "content": "<p>I think the Firely.Terminal pipeline is missing two feature at the moment to enable the described behaviour:</p>\n<ol>\n<li>Validate all conformance resources together (in the Java validator). Currently, with your folder structure, it would validate each folder individually, meaning that you e.g. wouldn't have access to your ValueSets when validating the StructureDefinitions.</li>\n<li>Validate the resource against the latest definition of your profiles without annotating them with meta.profile</li>\n</ol>",
        "id": 238999732,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1621192354
    },
    {
        "content": "<p>The .NET part of the pipeline already validates all conformance resources in a single context, but it's missing a few extra validation rules that are part of the Java validator.</p>",
        "id": 238999832,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1621192475
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191687\">Kevin Mayfield</span> <a href=\"#narrow/stream/179177-conformance/topic/Simplifier.20-.20Git.20Worklow.20FHIR.20Validation/near/238441836\">said</a>:</p>\n<blockquote>\n<p>Had issues around the use of subdirectories in java validation. <br>\nIt worked but the use of subdirectories meant it failed to pick up conformance directories in other folders.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191687\">@Kevin Mayfield</span> Could you try out version v0.2.0-alpha2 of the Firely.Terminal Pipeline? This version includes the latest version of the validator, so the issue regarding the capitalization of the package should be fixed. Additionally, all subfolders are now included in the validation context.</p>",
        "id": 239107200,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1621264527
    },
    {
        "content": "<p>Thanks. Testing at the moment, will let you know of any issues.</p>",
        "id": 239198415,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1621314027
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191687\">@Kevin Mayfield</span> <span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span>Regarding \"Validate examples against a profile without specifying it in meta.profile\":<br>\nWe will work on allowing you to explicitly configure in your Quality Control rules what (group of) example(s) to validate against what resource.</p>\n<p>I believe matching this just based on the baseResource of an example against the one or more profiles on that type will be too course (if I understand the idea correctly). E.g., there will potentially be loads of profiles and examples based on the Observation resource. We will need some other way to, e.g., based on FHIRPath, specify which one to validate against which.<br>\nThe Quality Control rules will allow us to do that (e.g., if Observation.Code = '1234' validate against BloodPressure profile). I believe at some point FHIR servers will also need this kind of similar configuration to specify where each incoming Observation-based FHIR instance needs to go/to be validated against.</p>",
        "id": 239281496,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1621354419
    },
    {
        "content": "<p>Would be OK with just specifying default profile for a resource type for time being.</p>",
        "id": 239312714,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1621366447
    }
]