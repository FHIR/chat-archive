[
    {
        "content": "<p>We have a rule that element ids must be unique with an element. We specifically state that this applies to contained resources within the resource that contains them</p>",
        "id": 192765025,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585897816
    },
    {
        "content": "<p>what we do not really state clearly is whether this space includes the resource itself. E.g. is this legal:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;resourceType&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;Patient&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;id&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;a1&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;name&quot;</span> <span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"nt\">&quot;id&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;a1&quot;</span><span class=\"p\">,</span>\n  <span class=\"err\">]</span><span class=\"p\">}</span>\n<span class=\"err\">}</span>\n</pre></div>",
        "id": 192765094,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585897894
    },
    {
        "content": "<p>this is presently happening in the base StructureDefinitions e.g .http://hl7.org/fhir/patient.profile.json.html - search for \"id\" : \"Patient\"</p>",
        "id": 192765201,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585897982
    },
    {
        "content": "<p>Differential and snapshot largely <em>must</em> have the same ids.  Also, I think the <a href=\"http://resource.id\" title=\"http://resource.id\">resource.id</a> and the <a href=\"http://element.id\" title=\"http://element.id\">element.id</a> exist at different levels.  <a href=\"http://whatever/foo#foo\" title=\"http://whatever/foo#foo\">http://whatever/foo#foo</a> is totally legal - the first 'foo' is the id of the resource, the latter is the id of something within that resource.</p>",
        "id": 192834585,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585933301
    },
    {
        "content": "<blockquote>\n<p>Differential and snapshot largely must have the same ids</p>\n</blockquote>\n<p>indeed though that is illegal according to the spec. That's a tension in the spec we have to resolve somehow</p>",
        "id": 192850614,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585940792
    },
    {
        "content": "<p>We either carve out an exception for that space, or perhaps a more generic \"unless specific rules are defined for a particular resource\"</p>",
        "id": 192852330,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585941694
    }
]