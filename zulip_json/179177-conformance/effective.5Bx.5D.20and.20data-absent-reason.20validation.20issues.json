[
    {
        "content": "<p>In IPS we have been seeing this for a while, but I've looked into it in further detail and have confirmed that when the data-absent-reason extension is being used with effective[x] (in profiles on Observation, DiagnosticReport and MedicationStatement, particularly), that causes the example resource instances that are using either effectivePeriod (on all three resource profiles) or effectiveTiming (on the Observation profiles) to fail validation (but the validation does succeed if the instance uses effectiveDateTime or effectiveInstant).  It is possible to get the instances with effectivePeriod or effectiveTiming to successfully validate, but that requires adding explicit element definitions for those slices.  We've been able to work around this for IPS by adding those explicit slices, but it would be better to get this fixed.</p>",
        "id": 186592375,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579993345
    },
    {
        "content": "<p>I don't understand this as described, and I don't see it in IPS?</p>",
        "id": 186617192,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580037466
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I worked around it by adding the explicit slices, so the error (or warning, whichever it is) isn't showing up at the moment.  But <a href=\"https://github.com/HL7/fhir-ips/blob/master/resources/MedicationStatement-uv-ips.structuredefinition.xml\" target=\"_blank\" title=\"https://github.com/HL7/fhir-ips/blob/master/resources/MedicationStatement-uv-ips.structuredefinition.xml\">this</a> is one of the instances where the explicit slices were added (in this case for effectiveDateTime and effectivePeriod - only the slice for effectivePeriod is needed to resolve the issue, but the one for effectiveDateTime is also there for consistency).  If you remove the effectivePeriod slice you will see the additional errors and the info messages that show up for the medicationStatement-39-07-1 and IPS-bundle-01 examples.</p>",
        "id": 186633095,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1580064741
    },
    {
        "content": "<p>so I deleted the portion marked new begin .. new end, and it made no difference?</p>",
        "id": 186635899,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580069065
    },
    {
        "content": "<p>doing that (or its equivalent) certainly makes a difference for me<br>\nI know that Giorgio has had the same issue - I'm pretty sure it's not just my local environment<br>\nI'll do some further exploration - and any other ideas are welcome</p>",
        "id": 186638415,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1580073265
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> When I comment out the MedicationStatement.effective[x]:effectivePeriod slice I get these errors in the auto-build (the same as in my local build):</p>\n<div class=\"codehilite\"><pre><span></span>/scratch/ig-build-temp-S9U62A/repo/examples/medicationStatement-39-07-1.xml\nPath    Severity    Message\nMedicationStatement/eumfh-39-07-1: MedicationStatement.effective.ofType(Period) error   This element does not match any known slice for profile http://hl7.org/fhir/uv/ips/StructureDefinition/MedicationStatement-uv-ips and slicing is CLOSED\nMedicationStatement/eumfh-39-07-1: MedicationStatement.effective.ofType(Period).start   information Could not verify slice for profile http://hl7.org/fhir/uv/ips/StructureDefinition/MedicationStatement-uv-ips\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>/scratch/ig-build-temp-S9U62A/repo/examples/IPS-bundle-01.xml\nBundle/IPS-examples-Bundle-01: Bundle.entry[0].resource.section[1].entry[0] information This element does not match any known slice for the profile http://hl7.org/fhir/uv/ips/StructureDefinition/Composition-uv-ips\nBundle/IPS-examples-Bundle-01: Bundle.entry[0].resource.section[1].entry[1] information This element does not match any known slice for the profile http://hl7.org/fhir/uv/ips/StructureDefinition/Composition-uv-ips\nBundle/IPS-examples-Bundle-01: Bundle.entry[0].resource.section[1]  error   Profile http://hl7.org/fhir/uv/ips/StructureDefinition/Composition-uv-ips, Element &#39;Bundle.entry[0].resource.section[1].entry[medicationStatement]&#39;: minimum required = 1, but only found 0\n</pre></div>\n\n\n<p>When the slice MedicationStatement.effective[x]:effectivePeriod is present these error and information messages do not occur.</p>",
        "id": 186655641,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1580105132
    },
    {
        "content": "<p>fixed next release</p>",
        "id": 186938272,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580339289
    }
]