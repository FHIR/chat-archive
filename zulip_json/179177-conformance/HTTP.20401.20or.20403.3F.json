[
    {
        "content": "<p>The <a href=\"http://hl7.org/fhir/search.html#errors\">FHIR search spec</a> states to use a 403 while the <a href=\"http://hl7.org/fhir/http.html#search\">FHIR http spec</a> states a 401 and places a '?' after the 401 in the <a href=\"http://hl7.org/fhir/http.html#summary\">summary</a>.</p>\n<p>Is this an inconsistency worth filing a ticket for?</p>",
        "id": 219355256,
        "sender_full_name": "Ardon Toonstra",
        "timestamp": 1607529211
    },
    {
        "content": "<p>I'd say it does.  However, I think it's only necessary to add <code>403</code> to the http page as a 'common response' (for both 3.1.0.9 and 3.1.0.17); the search page has the qualification:</p>\n<blockquote>\n<p>while other <code>4xx</code> and <code>5xx</code> codes signify that some sort of error has occurred</p>\n</blockquote>",
        "id": 219362547,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1607531970
    },
    {
        "content": "<p>Yes, the two spots seem to be complementary. Sounds like 401 must be returned for authorization errors, and 403 is for other types of a refusal \"to perform the search\".</p>",
        "id": 219362999,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1607532161
    },
    {
        "content": "<p>which code is returned will be strongly influenced by policy. Should not be fixed in an HL7 specification.</p>",
        "id": 219368153,
        "sender_full_name": "John Moehrke",
        "timestamp": 1607534399
    },
    {
        "content": "<p><a href=\"https://www.hl7.org/fhir/security.html#AccessDenied\">https://www.hl7.org/fhir/security.html#AccessDenied</a></p>",
        "id": 219368273,
        "sender_full_name": "John Moehrke",
        "timestamp": 1607534440
    },
    {
        "content": "<p>Yep, the tables on http.html are 'common responses' - so just hints to implementers as to what they should expect.</p>",
        "id": 219369224,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1607534838
    },
    {
        "content": "<p>a bit more strong than that... it is what they must be able to handle.  -- that is under Postel's Law of Robustness</p>",
        "id": 219369457,
        "sender_full_name": "John Moehrke",
        "timestamp": 1607534948
    },
    {
        "content": "<p>we really need a Postel's law mechanism in our structureDefinitions...</p>",
        "id": 219369511,
        "sender_full_name": "John Moehrke",
        "timestamp": 1607534980
    },
    {
        "content": "<p>I'm confused - it sounds like you're arguing that we shouldn't specify in the standard, but we also need to specify the codes in the standard.  What am I missing?</p>\n<p>The list under 3.1.0.9 has a heading of: <code>Common HTTP Status codes returned on FHIR-related errors...</code>.   The table at the end is just a summary of those common codes (though it could use clearer labelling).  A robust client will need to handle more than listed (e.g., no 5xx codes are listed), but I don't think we need to call out each one.</p>",
        "id": 219371004,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1607535638
    }
]