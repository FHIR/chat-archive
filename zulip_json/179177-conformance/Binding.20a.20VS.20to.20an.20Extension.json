[
    {
        "content": "<p>We're working on GoFSH, a tool to convert SDs to FHIR Shorthand.  We often use US Core as a use case.  In our testing we discovered that US Core patient has this in the differential:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">\"id\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"Patient.extension:birthsex\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"path\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"Patient.extension\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"sliceName\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"birthsex\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"min\"</span> <span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"max\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"1\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"type\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">\"code\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"Extension\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"profile\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"s2\">\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-birthsex\"</span>\n      <span class=\"p\">]</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">],</span>\n  <span class=\"nt\">\"mustSupport\"</span> <span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"binding\"</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"strength\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"required\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"description\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"Code for sex assigned at birth\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"valueSet\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/us/core/ValueSet/birthsex\"</span>\n  <span class=\"p\">},</span>\n  <span class=\"nt\">\"mapping\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">\"identity\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"argonaut-dq-dstu2\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"map\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"Patient.extension\"</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<p>I was under the impression that <code>binding</code> could only be used if the <code>type</code> was codeable -- but in this case, the type is <code>Extension</code>.  Surely the intent is that the binding should apply to <code>Patient.extension:birthsex.value[x]</code>, but is this shortcut allowed?  I noticed it does <em>not</em> actually get transferred into the snapshot.</p>",
        "id": 213322817,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602695689
    },
    {
        "content": "<p>That's an error.  The binding should have been declared on Extension.value</p>",
        "id": 213328403,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1602698031
    },
    {
        "content": "<p>Can you submit a tracker item?</p>",
        "id": 213328481,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1602698051
    },
    {
        "content": "<p>Done: <a href=\"https://jira.hl7.org/browse/FHIR-29262\">https://jira.hl7.org/browse/FHIR-29262</a></p>",
        "id": 213335977,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602701809
    },
    {
        "content": "<p>I've looked back to see why we did that and it was done a long time ago I am guessing to make the binding show up in the differential view.   Thanks for catching that error!</p>",
        "id": 213609998,
        "sender_full_name": "Eric Haas",
        "timestamp": 1602879962
    },
    {
        "content": "<p>NP!</p>",
        "id": 213612381,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602881336
    }
]