[
    {
        "content": "<p>I reported an Issue with finding packages from Simplifier here: <a href=\"#narrow/stream/179177-conformance/topic/packages.20from.20simplifier.20missing\">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/packages.20from.20simplifier.20missing</a></p>\n<p>I now found out what actually causes the issue: upper_lowecase String missmatches...</p>",
        "id": 229100748,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1615039767
    },
    {
        "content": "<p><code>java -jar validator_cli.jar example.json -ig KBV.Basis</code> doesn't work</p>",
        "id": 229100774,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1615039797
    },
    {
        "content": "<p><code>java -jar validator_cli.jar Coverage-example.json -ig kbv.basis</code>works.</p>",
        "id": 229100828,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1615039815
    },
    {
        "content": "<p>fyi: <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> <br>\nTo fix this i suppose:</p>\n<ul>\n<li>enforcing only lowercase letters in Simplifier and other package creating tooling (as stated in the FHIR package spec)</li>\n<li>in the java Validator convert -ig Strings to lowercase before asking the Server</li>\n</ul>",
        "id": 229101141,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1615040058
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span> just pointed out, that we can't fix old \"illegal\" packages. If all tooling applies <code>.toLowerCase()</code> to the packageID before searching/comparing this shouldn't be an issue.</p>",
        "id": 229182843,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1615119088
    },
    {
        "content": "<p>Yes <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span>, we should prevent this on creation. We're already enforcing it, I believe, on all places where our tool stack searches for them.</p>",
        "id": 229282810,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1615202400
    },
    {
        "content": "<p>hmm i still can create them. Just added this test package: <a href=\"https://simplifier.net/packages/patricks.sandbox/1.0.0\">https://simplifier.net/packages/patricks.sandbox/1.0.0</a></p>",
        "id": 229283033,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1615202517
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> We SHOULD is future <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span> However if you make a dependency on <code>patricks.sandbox</code> anywhere in Forge/Firely Terminal/Simplifier.net I assume it would resolve fine.</p>",
        "id": 229284328,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1615203254
    },
    {
        "content": "<p>Ahh! Missunderstood, thanks for the explanation <span aria-label=\"sunglasses\" class=\"emoji emoji-1f60e\" role=\"img\" title=\"sunglasses\">:sunglasses:</span></p>",
        "id": 229284409,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1615203296
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Until all packages with capitals are weeded out, perhaps the Java stack could also lowercase any package name inputted by the user?</p>",
        "id": 229446958,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1615282164
    },
    {
        "content": "<p>just tested again: The java validator works if you just use the smaller letter representation. But in between package dependencies can brake atm:</p>\n<div class=\"codehilite\"><pre><span></span><code>java -jar validator_cli.jar Coverage-example.json -ig patricks.sandbox\n  Terminology server http://tx.fhir.org - Version 1.9.369 (00:01.0973)\n  Load KBV.Basis#1.1.3Exception in thread &quot;main&quot; org.hl7.fhir.exceptions.FHIRException: Unable to find/resolve/read -ig KBV.Basis#1.1.3\n    at org.hl7.fhir.validation.IgLoader.loadIgSource(IgLoader.java:195)\n</code></pre></div>",
        "id": 229617372,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1615363325
    },
    {
        "content": "<p>will see if i can add the <code>toLowerCase</code>at the correct places today.</p>",
        "id": 229617423,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1615363356
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> have you been able to fix the issue? Since our Package also depends on KBV.Basis we are running into the same Exception with validator_cli.jar 5.3.6.</p>",
        "id": 231448694,
        "sender_full_name": "Sergej Reiser",
        "timestamp": 1616495502
    },
    {
        "content": "<p>i hadn't had time to fix it yet.</p>",
        "id": 231470371,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616506409
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> I think this should be solved right now. Lowercase variants like <a href=\"https://packages.simplifier.net/kbv.basis\">https://packages.simplifier.net/kbv.basis</a> nicely return the right package.</p>",
        "id": 231767452,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1616663471
    },
    {
        "content": "<p>Another tricky thing we noticed is that semver on the other hand are case sensitive (eg. version <code>0.1.2-Preview</code> != <code>0.1.2-preview</code> (see <a href=\"https://github.com/semver/semver/issues/176\">https://github.com/semver/semver/issues/176</a>). We're considering whether we should deviate from semver here.</p>",
        "id": 231767796,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1616663690
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> thanks for the update!<br>\nThat's funny, i was wondering the same thing. I personally would like to deviate from semver, but i also think this would be a bad idea.</p>",
        "id": 231771266,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616665542
    },
    {
        "content": "<p>The FHIR package spec states: </p>\n<blockquote>\n<p>All packages have a mandatory version. [SemVer] 2 SHALL be used</p>\n</blockquote>",
        "id": 231771291,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616665559
    },
    {
        "content": "<p>And people have adopted semver already (including the stupid case-sensitive pre-release labels) and i think using semver here was a wise choice.</p>",
        "id": 231771491,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616665640
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191451\">Patrick Werner</span> <a href=\"#narrow/stream/179177-conformance/topic/Bug.20in.20FHIR.20Package.20Servers/near/229617372\">said</a>:</p>\n<blockquote>\n<p>just tested again: The java validator works if you just use the smaller letter representation. But in between package dependencies can brake atm:</p>\n<p><div class=\"codehilite\"><pre><span></span><code>java -jar validator_cli.jar Coverage-example.json -ig patricks.sandbox\n  Terminology server http://tx.fhir.org - Version 1.9.369 (00:01.0973)\n  Load KBV.Basis#1.1.3Exception in thread &quot;main&quot; org.hl7.fhir.exceptions.FHIRException: Unable to find/resolve/read -ig KBV.Basis#1.1.3\n    at org.hl7.fhir.validation.IgLoader.loadIgSource(IgLoader.java:195)\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Ah I also ran into this: <a href=\"#narrow/stream/179166-implementers/topic/Error.20loading.20package.20in.20java.20validator\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Error.20loading.20package.20in.20java.20validator</a> <br>\nJust discovered you're discussing this here</p>",
        "id": 231780540,
        "sender_full_name": "Julian Sass",
        "timestamp": 1616670043
    }
]