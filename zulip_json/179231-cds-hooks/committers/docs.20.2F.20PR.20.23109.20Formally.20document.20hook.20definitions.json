[
    {
        "content": "<p>isaacvetter opened <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a><br>\nfrom <code>iss39-formally-document-hook-definitions</code> to <code>master</code></p>\n<blockquote>\n<p>Fixes #75<br>\nFixes #39</p>\n</blockquote>",
        "id": 153916850,
        "sender_full_name": "Github Notifications",
        "timestamp": 1509396181
    },
    {
        "content": "<p>isaacvetter review_requested <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153916851,
        "sender_full_name": "Github Notifications",
        "timestamp": 1509396182
    },
    {
        "content": "<p>isaacvetter review_requested <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153916852,
        "sender_full_name": "Github Notifications",
        "timestamp": 1509396182
    },
    {
        "content": "<p>isaacvetter edited <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a><br>\nfrom <code>iss39-formally-document-hook-definitions</code> to <code>master</code></p>\n<blockquote>\n<p>Fixes #39</p>\n</blockquote>",
        "id": 153916854,
        "sender_full_name": "Github Notifications",
        "timestamp": 1509396388
    },
    {
        "content": "<p>kpshek synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153920312,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511115484
    },
    {
        "content": "<p>kpshek synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153920819,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511303095
    },
    {
        "content": "<p>brettmarquard <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-346358884\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-346358884\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>I completely agree with this comment:</p>\n<ul>\n<li>each hook should have a complete example of the context object.</li>\n</ul>\n</blockquote>",
        "id": 153921026,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511359452
    },
    {
        "content": "<p>isaacvetter synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153921524,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511548287
    },
    {
        "content": "<p>isaacvetter synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153921528,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511548852
    },
    {
        "content": "<p>isaacvetter synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153921531,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511549230
    },
    {
        "content": "<p>isaacvetter synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153921534,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511549645
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-346883929\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-346883929\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>@kpshek - can you figure out why Travis won't build for this PR? I thought that it was because I had outstanding reviews from you and Bryn. But even after getting rid of those, Travis returns this:</p>\n<blockquote>\n<p>The command \"mkdocs build --verbose --clean --strict\" exited with 0.<br>\nSkipping a deployment with the pages provider because this branch is not permitted<br>\nDone. Your build exited with 0.</p>\n</blockquote>\n<p>It's something to do with the travis <a href=\"https://github.com/cds-hooks/docs/blob/iss39-formally-document-hook-definitions/.travis.yml\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/blob/iss39-formally-document-hook-definitions/.travis.yml\">provider configuration</a>.</p>\n</blockquote>",
        "id": 153921536,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511550130
    },
    {
        "content": "<p>isaacvetter synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153921538,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511551105
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-346936436\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-346936436\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>@isaacvetter - Travis CI is building your branch just fine. Exiting with a status of 0 means that the <code>mkdocs build</code> command was successful. The \"skipping deployment\" message is expected because branches aren't deployed to the <code>gh-pages</code> branch. As long as you see a âœ…  next to your commit hash, that means the Travis CI build succeeded.</p>\n<p>Our review apps (that \"View deployment\" button) are built through Heroku, not Travis CI.</p>\n<p>To recap:<br>\n- Travis CI builds the project via <code>mkdocs build</code><br>\n- Travis CI will deploy the build to the <code>gh-pages</code> branch (but only if the commit is on master<br>\n- Heroku builds pull request commits and deploys them to unique review apps</p>\n</blockquote>",
        "id": 153921568,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511611372
    },
    {
        "content": "<p>isaacvetter synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153921911,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511897599
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-348043624\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-348043624\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>@isaacvetter - Rather than having a <code>cardinality</code> column, I think labeling it <code>required</code> with a boolean value would be more appropriate. Cardinality has implications that don't apply here. For instance, <code>medication-prescribe</code> has a <code>medications-in-progress</code> field with a cardinality of 1..*. This implies that you could have a JSON structure like:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n   <span class=\"s2\">&quot;patient&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;123&quot;</span><span class=\"p\">,</span>\n   <span class=\"s2\">&quot;medications-in-progress&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span> <span class=\"c1\">// a FHIR medication },</span>\n   <span class=\"s2\">&quot;medications-in-progress&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span> <span class=\"c1\">// another FHIR medication }</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>However, what we're really trying to communicate is that <code>medications-in-progress</code> is <strong>required</strong> and it is an <code>array</code> of FHIR medication objects. Here is a concrete proposal that tweaks what you have today:</p>\n<table>\n<thead>\n<tr>\n<th>Key</th>\n<th>Required</th>\n<th>JSON Type</th>\n<th>Data</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>patient</td>\n<td>Yes</td>\n<td>String</td>\n<td>FHIR <a href=\"http://Patient.id\" target=\"_blank\" title=\"http://Patient.id\">Patient.id</a></td>\n</tr>\n<tr>\n<td>encounter</td>\n<td>No</td>\n<td>String</td>\n<td>FHIR <a href=\"http://Encounter.id\" target=\"_blank\" title=\"http://Encounter.id\">Encounter.id</a></td>\n</tr>\n<tr>\n<td>medications-in-progress</td>\n<td>Yes</td>\n<td>Array</td>\n<td>DSTU2 - MedicationOrder&lt;br /&gt;STU3 - MedicationRequest</td>\n</tr>\n</tbody>\n</table>\n</blockquote>",
        "id": 153922167,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512002038
    },
    {
        "content": "<p>isaacvetter synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153922802,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512406805
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-349074287\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-349074287\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>Hey @kpshek - your example of cardinality is contrary to how the FHIR spec uses the term, but I do think that splitting the two concepts is to understand. </p>\n<p>By introducing \"JSON data type\", we now have boolean, number, null? Fundamentally, the relevant data types are:<br>\n* FHIR resource<br>\n* FHIR identifier<br>\n* string<br>\n* array <br>\n* object<br>\n* then less importantly: number</p>\n<p>By specifying json, we lose the primary data types.</p>\n</blockquote>",
        "id": 153922824,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512415045
    },
    {
        "content": "<p>isaacvetter synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153922826,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512416893
    },
    {
        "content": "<p>isaacvetter synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153924369,
        "sender_full_name": "Github Notifications",
        "timestamp": 1513027605
    },
    {
        "content": "<p>brynrhodes <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-350883091\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-350883091\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>I agree with the proposed change to add the JSON type. Yes, that means for resources it will be something like Array, with the actual resources identified by the Description, but at least with the JSON type we have the beginnings of something computable.</p>\n</blockquote>",
        "id": 153924388,
        "sender_full_name": "Github Notifications",
        "timestamp": 1513032207
    },
    {
        "content": "<p>kpshek synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153931579,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517096614
    },
    {
        "content": "<p>kpshek synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153931901,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517155300
    },
    {
        "content": "<p>mattberther synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153931951,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517157309
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361076215\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361076215\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>In an offline discussion with @mattberther, he is going to revert 951197b as we will make that change on #153 <span class=\"emoji emoji-1f604\" title=\"smile\">:smile:</span> </p>\n</blockquote>",
        "id": 153931957,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517157590
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361076257\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361076257\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>Hey @kpshek - the example you use to differentiate pre-fetch and context is a poor example:</p>\n<blockquote>\n<p>+When the context data relates to a FHIR data type, it is important not to conflate context and prefetch. For instance, imagine a hook for opening a patient's chart. This hook should include the FHIR identifier of the patient whose chart is being opened, not the full patient FHIR resource. In this case, the FHIR identifier of the patient is appropriate as CDS Services may not be interested in details about the patient resource but instead other data related to this patient. Or, a CDS Service may only need the full patient resource in certain scenarios. Therefore, including the full patient resource in context would be unnecessary. For CDS Services that want the full patient resource, they can request it to be prefetched or fetch it as need from the FHIR server.</p>\n</blockquote>\n<p>A better example would be something like - a pgx cds service will always ask for genomic marker Observations in pre-fetch, but a zika service will never use this information -- even when the same hook is used by both services.</p>\n<p>Isaac</p>\n</blockquote>",
        "id": 153931959,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517157627
    },
    {
        "content": "<p>mattberther synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153931962,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517157717
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361078555\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361078555\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>I really like the new prefetch context reference syntax! I think that it's important to call out that:</p>\n<blockquote>\n<p>Only the first level fields in context may be considered for tokens.<br>\nMeans that a hook whose context includes a full FHIR resource disallows a prefetch definition from referring to a field within that resource.</p>\n</blockquote>\n<p>As an example, if a hook's context includes a full Patient resource, it's not possible for the prefetch definition to reference the resource identifier. This can practically be worked around by always using both the full FHIR resource and a FHIR identifier as two separate elements in the context. </p>\n</blockquote>",
        "id": 153931987,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517159453
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361079927\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361079927\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>Pertaining to context hook definition, while it will be useful to additionally enable arbitrary key/value pairs, the primary use-case for context is and should be FHIR identifiers and FHIR resources. </p>\n<p>The reason that the initial PR included both a FHIR resource name and FHIR resource name is that resource name is version-specific .... This isn't addressed in the current PR. </p>\n<p>To recognize this, it would make sense for the documentation's example context to include a FHIR resource and/or a FHIR id.</p>\n</blockquote>",
        "id": 153932010,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517160564
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361080689\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361080689\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>Fyi - I opened #155 related to context on order-review</p>\n</blockquote>",
        "id": 153932021,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517161168
    },
    {
        "content": "<p>kpshek synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153932226,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517170823
    },
    {
        "content": "<p>kpshek synchronized <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153932249,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517172038
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361094752\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361094752\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>@isaacvetter - Thanks for the great suggestions! I've addressed each of your three suggestions as additional commits on this PR. Can you take a look now?</p>\n</blockquote>",
        "id": 153932266,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517172626
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361095635\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361095635\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>These changes also are intended to address #151 </p>\n</blockquote>",
        "id": 153932296,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517173285
    },
    {
        "content": "<p>mattberther review_requested <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153932312,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517174069
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361098173\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109#issuecomment-361098173\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>\n<blockquote>\n<p>Approved!</p>\n</blockquote>",
        "id": 153932326,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517175347
    },
    {
        "content": "<p>kpshek closed <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153932416,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517181319
    }
]