[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> As I try loading data from your server into BQ, I'm hitting some schema issues. <a href=\"http://test.fhir.org/r3/Patient/331037\" target=\"_blank\" title=\"http://test.fhir.org/r3/Patient/331037\">http://test.fhir.org/r3/Patient/331037</a> shows a <code>_given</code> where some of the value are <code>\"null\"</code> (a string) instead of <code>null</code> (the JSON null primitive). Is this an error in your server?</p>",
        "id": 153931307,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1517080460
    },
    {
        "content": "<p>yes error in my server</p>",
        "id": 153931319,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517081934
    },
    {
        "content": "<p>Just wanted to ask for some suggestions on how some of you are implementing the actual database filtering of data and the experience<br>\nIs it better to implement something like : </p>\n<p>Option 1: <br>\nFor each patient <br>\n   For each Resource <br>\n          select data for each patient <br>\n   stream the data to the file <br>\nEnd </p>\n<p>Option 2: <br>\nFor patients in (List of all patients) <br>\n     select</p>",
        "id": 153931534,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1517093777
    },
    {
        "content": "<p>Option 2: <br>\nFor all patients in (list of patients)<br>\n    For each Resource <br>\n           select data <br>\n          stream data<br>\nEnd </p>\n<p>In option 1 , you are selecting data for each patient and then accumulating it, the individual queries dont have large IN clauses. <br>\nIn option 2, you are trying to select data for patients with large IN clauses which looks to be very inefficient.</p>\n<p>Just wanted to get a pulse on approaches before i look into actually looking at the performance and optimization</p>",
        "id": 153931536,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1517093947
    },
    {
        "content": "<p>I do option 2. but my database is optimised to do that</p>",
        "id": 153931545,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517094599
    }
]