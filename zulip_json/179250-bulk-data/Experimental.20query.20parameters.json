[
    {
        "content": "<p>In the v1.2 export spec section 5.1.5, Query Parameters,  _elements and includeAssociatedData are both marked as experimental and included in the list of query parameters. Below them though is section 5.1.7, Experimental Query Parameters, which explains the _typeFilter parameter that isn't listed in section 5.1.5. What is the thought behind this separation, or is it a hold over from the v1.0 spec?</p>",
        "id": 209656748,
        "sender_full_name": "RB Johnson",
        "timestamp": 1599749269
    },
    {
        "content": "<p>It's a holdover and should probably be moved up to the parameters table. In my mind <code>_typeFilter</code> is <em>more</em> experimental though since it has a complex syntax with potentially confusing semantics while <code>_elements</code> and <code>includeAssociatedData</code> are more straight forward. I'm not sure if this matches how others think of the parameters though, or how to indicate this in the IG.</p>",
        "id": 209662984,
        "sender_full_name": "Dan Gottlieb",
        "timestamp": 1599751413
    },
    {
        "content": "<p>Does anyone have thoughts on this? Also, is anyone using _typeFilter in production (and if so, what has been your experience)?</p>",
        "id": 209663126,
        "sender_full_name": "Dan Gottlieb",
        "timestamp": 1599751453
    },
    {
        "content": "<p>We just added _typeFilter  to our server and we are going to use it in production - previously we added some custom extra parameters to do filtering but in the end we bite the bullet and implemented full _typeFilter</p>",
        "id": 209663620,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1599751675
    },
    {
        "content": "<p>It was easy enough</p>",
        "id": 209663690,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1599751687
    },
    {
        "content": "<p>I think we'd like to have it in the standard as is</p>",
        "id": 209663771,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1599751724
    },
    {
        "content": "<p>Wow! That's awesome <span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span></p>",
        "id": 209663818,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1599751747
    },
    {
        "content": "<p>Agreed! <span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span> did you have to exclude anything, or were you able to implement the full set of search params?</p>",
        "id": 209664120,
        "sender_full_name": "Dan Gottlieb",
        "timestamp": 1599751866
    },
    {
        "content": "<p>I think we pass the search parameters to our resource handlers, so all parameters that are implemented for each resource in our server work for bulk export - but let me double check</p>",
        "id": 209664923,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1599752157
    },
    {
        "content": "<p>Yes, all parameters are supported</p>",
        "id": 209665951,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1599752547
    },
    {
        "content": "<p>And if the client uses parameters that are not supported (or simply wrong) same behavior as a normal resource search: they are ignored or cause an error depending on a server-side option (we do not support the Prefer header for that)</p>",
        "id": 209666101,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1599752609
    },
    {
        "content": "<p>Hi John, <br>\nI will need your input. I am not able to see the bulk export filtering working. It's returning all the rows whether state is IL or any other state</p>\n<p>POST url is http://&lt;servername&gt;:&lt;port&gt;/$export</p>\n<p>Here is the body:</p>\n<p>{</p>\n<p>\"resourceType\": \"Parameters\",</p>\n<p>\"parameter\": [</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n\n  &quot;name&quot;: &quot;_outputFormat&quot;,\n\n  &quot;valueString&quot;: &quot;application/fhir+ndjson&quot;\n\n},\n\n{\n\n  &quot;name&quot;: &quot;_type&quot;,\n\n  &quot;valueString&quot;: &quot;Location&quot;\n\n},\n\n{\n\n  &quot;name&quot;: &quot;_typeFilter&quot;,\n\n  &quot;valueString&quot;: &quot;Location?address-state=IL&quot;\n\n}\n</code></pre></div>\n\n\n<p>]</p>\n<p>}</p>",
        "id": 215008405,
        "sender_full_name": "Farhan A",
        "timestamp": 1603995869
    }
]