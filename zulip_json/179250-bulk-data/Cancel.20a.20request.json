[
    {
        "content": "<p>A valid extension to the protocol would be the option to cancel a request in progress.<br>\nThis could be done by placing a PUT request to the link returned in the first call.</p>",
        "id": 153931614,
        "sender_full_name": "Bas van den Heuvel",
        "timestamp": 1517103331
    },
    {
        "content": "<p>do a DELETE to the link - that will cancel the task</p>",
        "id": 153931617,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517104543
    },
    {
        "content": "<p>That would work. Also useful to indicate that the server may remove the generated files.</p>",
        "id": 153931643,
        "sender_full_name": "Bas van den Heuvel",
        "timestamp": 1517113134
    },
    {
        "content": "<p>yes. my server supports both</p>",
        "id": 153931678,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517119286
    },
    {
        "content": "<p>I have updated my server to support the changes to the bulk data interface. I relaxed my Accept: consistency checking a little while I was at it</p>",
        "id": 153931697,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517123003
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I'm seeing the following when I ask for a JSON output:</p>\n<div class=\"codehilite\"><pre><span></span>$ curl -s  -H &quot;Accept: application/json&quot; http://test.fhir.org/r3/task/14db5647-f230-4af1-ac27-7ba2d4c4ed4d | json_pp\n{\n   &quot;text&quot; : {\n      &quot;status&quot; : &quot;generated&quot;,\n      &quot;div&quot; : &quot;&lt;div xmlns=\\&quot;http://www.w3.org/1999/xhtml\\&quot;&gt;&lt;p&gt;Error: the request format (JSON) does not match the task format (Newline delimited JSON)&lt;/p&gt;&lt;/div&gt;&quot;\n   },\n   &quot;issue&quot; : [\n      {\n         &quot;diagnostics&quot; : &quot;(00000000019537F1){FHIRServer.exe} [0000000001D547F1] FHIRRestServer.TFhirWebServer.ProcessTaskRequest + $B01\\r\\n(0000000000042A9B){FHIRServer.exe} [0000000000443A9B] System.SysUtils.RaiseExceptObject + $2B\\r\\n(00000000000101B6){FHIRServer.exe} [00000000004111B6] System.@RaiseAtExcept + $E6\\r\\n(0000000000010201){FHIRServer.exe} [0000000000411201] System.@RaiseExcept + $11\\r\\n(00000000019537F1){FHIRServer.exe} [0000000001D547F1] FHIRRestServer.TFhirWebServer.ProcessTaskRequest + $B01\\r\\n(000000000194502D){FHIRServer.exe} [0000000001D4602D] FHIRRestServer.TFhirWebServer.HandleRequest + $12CD\\r\\n(0000000001940B45){FHIRServer.exe} [0000000001D41B45] FHIRRestServer.TFhirWebServer.PlainRequest + $C35\\r\\n(0000000001224B6C){FHIRServer.exe} [0000000001625B6C] IdCustomHTTPServer.TIdCustomHTTPServer.DoCommandGet + $1C\\r\\n(00000000012262A2){FHIRServer.exe} [00000000016272A2] IdCustomHTTPServer.TIdCustomHTTPServer.DoExecute + $A92\\r\\n(0000000000277B0E){FHIRServer.exe} [0000000000678B0E] IdContext.TIdContext.Run + $1E\\r\\n(0000000000275BF1){FHIRServer.exe} [0000000000676BF1] IdTask.TIdTask.DoRun + $11\\r\\n(00000000002799F4){FHIRServer.exe} [000000000067A9F4] IdThread.TIdThreadWithTask.Run + $14\\r\\n(0000000000278D0B){FHIRServer.exe} [0000000000679D0B] IdThread.TIdThread.Execute + $DB\\r\\n(000000000011DDE3){FHIRServer.exe} [000000000051EDE3] System.Classes.ThreadProc + $43\\r\\n(0000000000010DAD){FHIRServer.exe} [0000000000411DAD] System.ThreadWrapper + $3D\\r\\n(0000000000007364){KERNEL32.DLL} [00007FFCDA4B8364] BaseThreadInitThunk + $14\\r\\n(0000000000066091){ntdll.dll   } [00007FFCDCF87091] RtlUserThreadStart + $21\\r\\n&quot;,\n         &quot;severity&quot; : &quot;error&quot;,\n         &quot;details&quot; : {\n            &quot;text&quot; : &quot;Error: the request format (JSON) does not match the task format (Newline delimited JSON)&quot;\n         }\n      }\n   ],\n   &quot;resourceType&quot; : &quot;OperationOutcome&quot;\n}\n</pre></div>",
        "id": 153931699,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1517123866
    },
    {
        "content": "<p>I think resolves if I make the original call with <code>accept: application/fhir+json</code>. But then I'm not seeing a response body after successfully completing status polling .</p>",
        "id": 153931700,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1517124397
    },
    {
        "content": "<p>Instead I still see the <code>Link</code> header.</p>",
        "id": 153931701,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1517124459
    },
    {
        "content": "<p>hm. I must have screwed up the upgrade - seems to be right now</p>",
        "id": 153931709,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517144365
    }
]