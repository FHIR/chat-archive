[
    {
        "content": "<p>I see a lot of utility in exporting all data for a single patient.</p>\n<p>I have a use case where different resource types live in different locations and would like to avoid wrangling this data together to support live search/relationship building. </p>\n<p>Given that the mechanism for data exchanges is omitted from IGs, and we already received clarification thG we can use the bulk interface under the patient access api (behind a patient permission) to deliver formulary data. It seems that the best thing to do is to include all of the patients data. It does not make sense to have resources for a patient comming through two mechanisms.</p>",
        "id": 223823349,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611507533
    },
    {
        "content": "<p>The patient that js exported will be driven by the patient specified in the access token payload</p>",
        "id": 223823375,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611507573
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191414\">@Dan Gottlieb</span> and <span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> and <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span></p>",
        "id": 223823439,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611507617
    },
    {
        "content": "<p>The reason we didn't include this in the bulk IG was that <a href=\"https://www.hl7.org/fhir/operation-patient-everything.html\">https://www.hl7.org/fhir/operation-patient-everything.html</a> should already cover the <code>Patient/:id/$everything</code> use case. It can also be called with <code>Prefer: respond-async</code> (at least in theory; not sure if we have real-world implementation experience with it).</p>",
        "id": 223823572,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611507772
    },
    {
        "content": "<p>Thanks Josh. Last I heard patient-everything was too ambitious</p>",
        "id": 223823610,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611507817
    },
    {
        "content": "<p>That may still be true; there are other distinctions between $everything vs $export, so it's worth a close look.</p>",
        "id": 223823682,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611507867
    },
    {
        "content": "<p>Got it, I am basically proposing:  patient/id/$export.</p>\n<p>Which already exists. I've fought hard to get carin ig to include this (patient-everything) but got major pushback.</p>",
        "id": 223823729,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611507924
    },
    {
        "content": "<blockquote>\n<p>Which already exists</p>\n</blockquote>\n<p>Wait, can you include a link so we can see exactly what you mean?</p>",
        "id": 223823790,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611507991
    },
    {
        "content": "<p>Given that bulk data supports a Group that could already have size 1, adding patient $export seems like a simple step to me.</p>",
        "id": 223823820,
        "sender_full_name": "Paul Church",
        "timestamp": 1611508025
    },
    {
        "content": "<p>Re: CARIN IG, I agree with the pushback :-) My take would be: follow the same patter we have in US Core for single-patient access.</p>",
        "id": 223823821,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611508030
    },
    {
        "content": "<p>Sorry I meant patient everything is basically what I was proposing above. </p>\n<p>The issue is that patient everything spans more than one IG.</p>",
        "id": 223823828,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611508045
    },
    {
        "content": "<p>So was not appropriate for CARIN</p>",
        "id": 223823835,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611508059
    },
    {
        "content": "<blockquote>\n<p>Given that bulk data supports a Group that could already have size 1, adding patient $export seems like a simple step to me.</p>\n</blockquote>\n<p>That's true; it's also the case in the bulk data 1.5 IG, you can provide a <code>patient</code> input param to <code>/Patient/$export</code> (see <a href=\"http://build.fhir.org/ig/HL7/bulk-data/OperationDefinition-patient-export.html\">this draft definition</a>).</p>",
        "id": 223823883,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611508090
    },
    {
        "content": "<p>Nice!</p>",
        "id": 223823902,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611508117
    },
    {
        "content": "<p>Given how this data is used, we have a hard time justifying consimer directed live search.</p>",
        "id": 223823928,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611508150
    },
    {
        "content": "<p>(Honestly, the overlap with $everything and $export is super confusing, even to me; we initially tried to avoid making it worse by not defining this overlapping single-patient $export operation, but given that there's also multi-patient $everything, there's obviously not a bright line.)</p>",
        "id": 223823936,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611508157
    },
    {
        "content": "<blockquote>\n<p>Given how this data is used</p>\n</blockquote>\n<p>The APIs you implement (or don't) will also <em>affect</em> how the data are used ;-)</p>",
        "id": 223823996,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611508204
    },
    {
        "content": "<p>Even though we are giving out these complex search features, if you download an app, they are aggregators. Noone has a single health data source anymore. </p>\n<p>Live search is needed for b2b. B2b cannot save data to a remote device. Search has to be live. </p>\n<p>If the community wants to separate B2B from patient access I am not sure why we are putting B2b search into patient access.</p>",
        "id": 223824331,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611508652
    },
    {
        "content": "<p>1) I agree that many patient apps just want to \"get everything\".<br>\n2) You can build \"get everything\" yourself, if you have access to \"get category X\" (i.e., if you have resource-type searches); the other way around isn't true.<br>\n3) I don't think it's fair to call <em>general-purpose</em> search capabilities \"B2B search\"; providing search as a capability in the patient access API isn't \"putting B2B search\" into the API. Keep in mind that the patient access API <em>is also</em> the provider (and researcher and other authorized user) access API -- that's how SMART App Launch is designed.</p>",
        "id": 223824471,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611508816
    },
    {
        "content": "<p>This reminds me of how the CARIN profiles inherited from US core. And US core placed search criteria on the individual profiles, and at the server capability statement. This make it appear we had to support complex patient searches to use US core Patient in Carin, which limited reuse of the profile. </p>\n<p>Basically I am wondering if we should include server functionality within most IGs at all. Only server specific IGs like bulk, messaging, and etc should define these things. Or else we get incompatibility (if I implement carin IG it is expected to communicate Patient,Coverage, and Eob via specific searches). </p>\n<p>How do we separate the communication mechanism from the structure definition?</p>",
        "id": 223824656,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611509064
    },
    {
        "content": "<p>you are correct about my mislabel of b2b search, thx</p>",
        "id": 223824754,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611509172
    },
    {
        "content": "<p>Generic \"search\" functionality can be placed on top of a dataset like patient-everything. I do not think that data producers should be developing things on top of data if that makes sense. Just because of the economy of scale issues (unless you are very large).</p>",
        "id": 223824891,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611509403
    },
    {
        "content": "<blockquote>\n<p>we should include server functionality within most IGs at all</p>\n</blockquote>\n<p>Meaning the search parameters that server have to implement? Definitely yes</p>",
        "id": 223824917,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1611509423
    },
    {
        "content": "<p>You need some way to use the IG. I get that. How do I advertise that I am giving the data through bulk instead of the search?</p>",
        "id": 223824947,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611509468
    },
    {
        "content": "<p>Search criteria and separate resource are still useful for aggregator apps, because they might not want or care about all data - they might want  only certain subsets (eg only labs)</p>",
        "id": 223824959,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1611509498
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span>, I believe that export will filter by permissions. I hope we can deliver granular permissions one day soon.</p>",
        "id": 223825017,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611509547
    },
    {
        "content": "<p>Bulk data is hard to implement and use for both server and clients, as long as you can use individual searches those are better</p>",
        "id": 223825057,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1611509616
    },
    {
        "content": "<p>Look, it is actually important for interoperability that we widely agree on:</p>\n<ul>\n<li>data profiles for specific categories of data</li>\n<li>APIs that servers expose to make these data available (search, bulk, eventually maybe subscriptions, etc)</li>\n</ul>\n<p>In other words, we need to say both of these things. From a publication perspective, it'd be good to keep IGs scoped to one or the other, so they can be more easily mixed and matched -- but from a policy (regulatory) perspective we need to actually make choices on both of these. and the details about which search parameters are required can really only live with the data profiles (either embedded in them directly, or as sub-profiles published somewhere -- I don't think we have seen good patterns for this yet).</p>",
        "id": 223825150,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611509725
    },
    {
        "content": "<p>Some implementers will be using this mechanism for the formulary data anyway. This will enable one manifest to be returned.</p>",
        "id": 223825242,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611509840
    },
    {
        "content": "<p>to Josh's point. We are not interoperable if the exchange mechanism is not known. </p>\n<p>I believe the ONC initiatives handle the exchange mechanisms (like FAST). We did not see ONC involvement with the interop rule so there are still some things in the air.</p>",
        "id": 223825316,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611509930
    },
    {
        "content": "<p>I would be sympathetic to an argument like \"we have additional use cases beyond current regulatory priorities where we want to inherit some details but not everything from US Core -- so the current core profiles are hard for us to build on\"; I'm not really grasping an argument like \"for the key regulated use case of sharing data with patients and clinicians we'd rather not support search\".</p>",
        "id": 223825318,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611509936
    },
    {
        "content": "<p>In any case, this discussion is a bit off topic. We might want to move to <a class=\"stream\" data-stream-id=\"179190\" href=\"/#narrow/stream/179190-united-states\">#united states</a>  if we're going to continue it.</p>",
        "id": 223825386,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1611510020
    },
    {
        "content": "<p>For the record, I am playing devil's advocate a bit with the bulk data. These are all things we are permitted to do. I helped define the search in CARIN and I support that approach.</p>",
        "id": 223825393,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1611510048
    }
]