[
    {
        "content": "<p>I am working on this ValueSet bulk export idea and I have some confusions about the details.<br>\nFHIR ValueSet serves as resource for both value set definition (ValueSet.compose) and value set expansion (valueSet.expansion). ValueSet expansion is requested via ValueSet.$expand operation and some terminology servers (if not most) keep valueSet defintion internally.<br>\nConsider that, I think a bulk data export request on value set would be like 'export expansions of all CQM value set\".<br>\nI am thinking using exisiting parameters but twist it a little bit:</p>\n<div class=\"codehilite\"><pre><span></span>$export?_type=ValueSet.$export&amp;_typeFilter=ValueSet%3F$export%3Ffilter%3D&#39;CQM&#39;\n</pre></div>\n\n\n<p>or create a new paramter _typeOperation</p>\n<div class=\"codehilite\"><pre><span></span>$export?_type=ValueSet&amp;_typeOperation=export&amp;_operationParameter=filter%3D&#39;CQM&#39;\n</pre></div>",
        "id": 163908366,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1555944247
    },
    {
        "content": "<p>we should find some time to talk about this in Montreal</p>",
        "id": 164028937,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1556052890
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Do I need to create a tracker? I will not attend Montreal WGM. Please get me posted about any update on this topic.</p>",
        "id": 164088538,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1556118149
    },
    {
        "content": "<p>Applying transformations (e.g. FHIR operations like $expand) to resources prior to export is pushing beyond our initial scope, for sure. My first inclination would be to ask: is this something we'd want for any FHIR query (e.g.,  synchronously find a Bundle of resources and apply a transform to each before returning) or only in the context of an export?</p>",
        "id": 164110593,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1556132934
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> Understood. But when we talk about bulk export of ValueSet, it makes more sense for exporting the ValueSet expansion rather than ValueSet definition.</p>",
        "id": 164113139,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1556134853
    },
    {
        "content": "<p>And is that true particularly for export, or for other queries that might return multiple valuesets, like a search?</p>",
        "id": 164113195,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1556134909
    },
    {
        "content": "<p>This is for $export operation. A work flow without $export would be 1) search ValueSet and get a Bundle  of ValueSet metadata returned 2) call $expand on each ValueSet in the search result to get expansion (or Bundled transactions).</p>",
        "id": 164114027,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1556135479
    },
    {
        "content": "<p>Understood that we're talking about export here. I'm just wondering whether there is a more general notion of applying an operation to the results of a query that we would want to define at the level of FHIR rather than as a specific feature in $export.</p>",
        "id": 164114730,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1556136052
    },
    {
        "content": "<p>Just funny coincidence. For terminology we use custom resource Concept - so your case would be just bulk export for us ;)</p>",
        "id": 164120995,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1556140884
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> I don't know about other operations. But this is the problem I met when I tried to apply bulk export to ValueSet.</p>",
        "id": 164182075,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1556206970
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191318\">@nicola (RIO/SS)</span> What is the Concept resource?</p>",
        "id": 164182268,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1556207094
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191506\">@Yunwei Wang</span>  <a href=\"https://docs.aidbox.app/terminology/concept\" target=\"_blank\" title=\"https://docs.aidbox.app/terminology/concept\">https://docs.aidbox.app/terminology/concept</a></p>",
        "id": 164182496,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1556207243
    },
    {
        "content": "<p>it's on our todo list to consider something like that</p>",
        "id": 164222806,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1556239159
    },
    {
        "content": "<p>generally, the subject of bulk operations has come up  - do $expand on all the value sets that meet some search criteria</p>",
        "id": 164222817,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1556239190
    },
    {
        "content": "<p>Can someone guide me if there are implementations in HAPI FHIR server for FHIR Bulk Data server</p>",
        "id": 176000644,
        "sender_full_name": "Kishor",
        "timestamp": 1568810623
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> ?</p>",
        "id": 176002422,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1568811829
    },
    {
        "content": "<p>We build a proxy server that can be placed in front of Hali.</p>",
        "id": 176002596,
        "sender_full_name": "Bas van den Heuvel",
        "timestamp": 1568811921
    },
    {
        "content": "<p>Is this the one that does everything in memory though? So a good reference implementation but not suitable for large volumes of data?</p>",
        "id": 176002695,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1568811974
    },
    {
        "content": "<p>Exactly</p>",
        "id": 176002710,
        "sender_full_name": "Bas van den Heuvel",
        "timestamp": 1568811987
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"240802\">@Kishor</span> We have an implementation of a bulk data server that uses HAPI for the interface, but relies on a Postgres database for its persistent queueing. <a href=\"https://github.com/CMSGov/dpc-app\" target=\"_blank\" title=\"https://github.com/CMSGov/dpc-app\">https://github.com/CMSGov/dpc-app</a></p>",
        "id": 176022185,
        "sender_full_name": "Nick Robison",
        "timestamp": 1568824859
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"240802\">@Kishor</span> - Bulk data just got merged to master in HAPI FHIR. It's actually live on our public test server now, although there are some nuances to using it. Most importantly it puts the export payloads into Binary resources, and doesn't yet take advantage of externalized binary storage so it's a hog on the database.</p>\n<p>We're working to have that cleaned up soon.. Definitely looking for testers, so we'd love to hear your experience.</p>",
        "id": 176133040,
        "sender_full_name": "James Agnew",
        "timestamp": 1568921219
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> is there a chance the bulk data is available for hapi fhir plain server too ?</p>",
        "id": 176697652,
        "sender_full_name": "natus",
        "timestamp": 1569532303
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span>   can you please direct me to HAPI Bulk test server, tried to look for but was not able to get there</p>",
        "id": 176776561,
        "sender_full_name": "Kishor",
        "timestamp": 1569611389
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"240802\">@Kishor</span> - The public test server at <a href=\"http://hapi.fhir.org\" target=\"_blank\" title=\"http://hapi.fhir.org\">hapi.fhir.org</a> supports bulk data now. For example, the following URL initiates a bulk export of claims (hyou have to supply the mandatory Prefer header though so you can't just click the link):</p>\n<p><a href=\"http://hapi.fhir.org/baseR4/$export?_type=Claim\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/$export?_type=Claim\">http://hapi.fhir.org/baseR4/$export?_type=Claim</a></p>",
        "id": 176981582,
        "sender_full_name": "James Agnew",
        "timestamp": 1569883635
    },
    {
        "content": "<p>Does any one has client example to export all Patients or claims .</p>",
        "id": 177819897,
        "sender_full_name": "Prasad Meka",
        "timestamp": 1570720435
    },
    {
        "content": "<p>I am able to setup hapi-fhir-jpaserver-starter-master  locally. But did not find $export when I retrieve the server's conformance statement.  Where as public test server has.  Is there any difference in Git vs public test server?</p>",
        "id": 178678973,
        "sender_full_name": "Indu",
        "timestamp": 1571679691
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span></p>",
        "id": 178688085,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1571685393
    }
]