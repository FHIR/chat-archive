[
    {
        "content": "<p>I'm getting a validation error in ClinFHIR when using a valueset in code in DiagnosticReport. The DiagnostReport spec says code is  \"Name/Code for this diagnostic report. LOINC Diagnostic Report Codes (Preferred)\" and the link points to a valueset (<a href=\"https://www.hl7.org/fhir/valueset-report-codes.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/valueset-report-codes.html\">https://www.hl7.org/fhir/valueset-report-codes.html</a>). Any suggestions?</p>",
        "id": 153918512,
        "sender_full_name": " Bob Milius",
        "timestamp": 1510244230
    },
    {
        "content": "<p>Hi Bob - I presume you get this when you click 'validate'? Which server are you using? can you copy/paste the error report? Thanks...</p>",
        "id": 153918552,
        "sender_full_name": "David Hay",
        "timestamp": 1510252085
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> here's the resource instance from the clinfhir view: </p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;status&quot;: &quot;final&quot;,\n  &quot;category&quot;: {\n    &quot;coding&quot;: {\n      &quot;code&quot;: &quot;GE&quot;,\n      &quot;system&quot;: &quot;http://hl7.org/fhir/ValueSet/diagnostic-service-sections&quot;,\n      &quot;display&quot;: &quot;Genetics&quot;\n    }\n  },\n  &quot;code&quot;: {\n    &quot;coding&quot;: {\n      &quot;code&quot;: &quot;13303-3&quot;,\n      &quot;system&quot;: &quot;http://loinc.org&quot;,\n      &quot;display&quot;: &quot;HLA-A+B+C (class I) [Type]&quot;\n    }\n  },\n  &quot;resourceType&quot;: &quot;DiagnosticReport&quot;,\n  &quot;effectiveDateTime&quot;: &quot;2017-11-08&quot;,\n  &quot;subject&quot;: {\n    &quot;reference&quot;: &quot;urn:uuid:a4efdb30-c5c2-4e3a-aa98-4346e707a5e2&quot;\n  },\n  &quot;id&quot;: &quot;urn:uuid:89a93f0f-9502-4549-af1b-4bbc7a592b98&quot;\n}```\n</pre></div>",
        "id": 153918613,
        "sender_full_name": " Bob Milius",
        "timestamp": 1510260084
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> and here's the error msg: </p>\n<div class=\"codehilite\"><pre><span></span>  &quot;resourceType&quot;: &quot;OperationOutcome&quot;,\n  &quot;text&quot;: {\n    &quot;status&quot;: &quot;generated&quot;,\n    &quot;div&quot;: &quot;&lt;div xmlns=\\&quot;http://www.w3.org/1999/xhtml\\&quot;&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\\&quot;0\\&quot;&gt;&lt;tr&gt;&lt;td style=\\&quot;font-weight: bold;\\&quot;&gt;ERROR&lt;/td&gt;&lt;td&gt;[Parameters.parameter.resource.category.coding]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;The Coding references a value set, not a code system (&amp;quot;http://hl7.org/fhir/ValueSet/diagnostic-service-sections&amp;quot;)&lt;/pre&gt;&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\n\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t&lt;td style=\\&quot;font-weight: bold;\\&quot;&gt;ERROR&lt;/td&gt;\\n\\t\\t\\t\\t&lt;td&gt;[Parameters.parameter.resource.category.coding]&lt;/td&gt;\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t&lt;td&gt;&lt;pre&gt;Error org.hl7.fhir.dstu3.model.ValueSet cannot be cast to org.hl7.fhir.dstu3.model.CodeSystem validating Coding&lt;/pre&gt;&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\n\\t\\t\\t&lt;/tr&gt;\\n\\t\\t\\t&lt;tr&gt;\\n\\t\\t\\t\\t&lt;td style=\\&quot;font-weight: bold;\\&quot;&gt;INFORMATION&lt;/td&gt;\\n\\t\\t\\t\\t&lt;td&gt;[Parameters.parameter.resource.code]&lt;/td&gt;\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t&lt;td&gt;&lt;pre&gt;None of the codes provided are in the value set http://hl7.org/fhir/ValueSet/report-codes (http://hl7.org/fhir/ValueSet/report-codes, and a code is recommended to come from this value set) (codes = http://loinc.org#13303-3)&lt;/pre&gt;&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\n\\t\\t\\t&lt;/tr&gt;\\n\\t\\t&lt;/table&gt;\\n\\t&lt;/div&gt;&quot;\n  },\n  &quot;issue&quot;: [\n    {\n      &quot;severity&quot;: &quot;error&quot;,\n      &quot;code&quot;: &quot;processing&quot;,\n      &quot;diagnostics&quot;: &quot;The Coding references a value set, not a code system (\\&quot;http://hl7.org/fhir/ValueSet/diagnostic-service-sections\\&quot;)&quot;,\n      &quot;location&quot;: [\n        &quot;Parameters.parameter.resource.category.coding&quot;\n      ]\n    },\n    {\n      &quot;severity&quot;: &quot;error&quot;,\n      &quot;code&quot;: &quot;processing&quot;,\n      &quot;diagnostics&quot;: &quot;Error org.hl7.fhir.dstu3.model.ValueSet cannot be cast to org.hl7.fhir.dstu3.model.CodeSystem validating Coding&quot;,\n      &quot;location&quot;: [\n        &quot;Parameters.parameter.resource.category.coding&quot;\n      ]\n    },\n    {\n      &quot;severity&quot;: &quot;information&quot;,\n      &quot;code&quot;: &quot;processing&quot;,\n      &quot;diagnostics&quot;: &quot;None of the codes provided are in the value set http://hl7.org/fhir/ValueSet/report-codes (http://hl7.org/fhir/ValueSet/report-codes, and a code is recommended to come from this value set) (codes = http://loinc.org#13303-3)&quot;,\n      &quot;location&quot;: [\n        &quot;Parameters.parameter.resource.code&quot;\n      ]\n    }\n  ]\n}```\n</pre></div>",
        "id": 153918614,
        "sender_full_name": " Bob Milius",
        "timestamp": 1510260181
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> oh, I'm using the Public HAPI STU3 server for everything</p>",
        "id": 153918620,
        "sender_full_name": " Bob Milius",
        "timestamp": 1510260834
    },
    {
        "content": "<p>Hi Bob - this looks like a HAPI issue (I assume you pasted this resource in?) . I'll ping <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span></p>",
        "id": 153918625,
        "sender_full_name": "David Hay",
        "timestamp": 1510261108
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> Yeah, I'm pasting it in and importing it.</p>",
        "id": 153918629,
        "sender_full_name": " Bob Milius",
        "timestamp": 1510261407
    },
    {
        "content": "<p>Do you get the same error if you use the $validate operation against the HAPI server?</p>",
        "id": 153918730,
        "sender_full_name": "David Hay",
        "timestamp": 1510273268
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191916\">@ Bob Milius</span> looks like the category.coding.system should be <code>http://hl7.org/fhir/v2/0074</code>, not <code>http://hl7.org/fhir/ValueSet/diagnostic-service-sections</code>.</p>",
        "id": 153919213,
        "sender_full_name": "Joel Schneider",
        "timestamp": 1510565545
    },
    {
        "content": "<p>Hi,<br>\nI created vonk FHIR server on my local machine...<br>\nI added my server in ClinFhir but I unable to add patient getting below error..<br>\n<a href=\"/user_uploads/10155/4O0rZuxoTRC59Vkivd7-5QAM/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<p>Event in local machine vonk folder in web.config file i added below code but still getting same issue..</p>\n<p>&lt;system.webServer&gt;<br>\n    &lt;handlers&gt;<br>\n      &lt;add name=\"aspNetCore\" path=\"<em>\" verb=\"</em>\" modules=\"AspNetCoreModule\" resourceType=\"Unspecified\"  /&gt;<br>\n    &lt;/handlers&gt;<br>\n    &lt;aspNetCore processPath=\"dotnet\" arguments=\".\\Vonk.Server.dll\" stdoutLogEnabled=\"false\" stdoutLogFile=\".\\logs\\stdout\" forwardWindowsAuthToken=\"false\" /&gt;<br>\n    &lt;httpProtocol&gt;<br>\n        &lt;customHeaders&gt;<br>\n          &lt;add name=\"Access-Control-Allow-Origin\" value=\"*\" /&gt;<br>\n          &lt;add name=\"Access-Control-Allow-Headers\" value=\"Content-Type, Authorization, x-id, Content-Length, X-Requested-With\" /&gt;                <br>\n          &lt;add name=\"Access-Control-Allow-Methods\" value=\"GET,POST,PUT,DELETE,OPTIONS\" /&gt;<br>\n         &lt;add name=\"Access-Control-Allow-Credentials\" value=\"true\" /&gt;<br>\n        &lt;/customHeaders&gt;<br>\n      &lt;/httpProtocol&gt;<br>\n  &lt;/system.webServer&gt;</p>\n<p>help is greatly appreciated...</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/4O0rZuxoTRC59Vkivd7-5QAM/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/4O0rZuxoTRC59Vkivd7-5QAM/pasted_image.png\"></a></div>",
        "id": 153919229,
        "sender_full_name": "shivnath shelake",
        "timestamp": 1510581007
    }
]