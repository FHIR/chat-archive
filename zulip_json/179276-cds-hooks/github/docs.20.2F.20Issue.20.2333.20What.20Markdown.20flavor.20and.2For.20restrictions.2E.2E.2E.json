[
    {
        "content": "<p>gotdan <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-299974428\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-299974428\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p>Hmm, I wonder if we could borrow slack's card format? They defined a straightforward json schema that includes a subset of markdown, as well as a way to incorporate \"attachments\" such as images, \"fields\" of data, and buttons: <a href=\"https://api.slack.com/docs/messages#composing_messages\" target=\"_blank\" title=\"https://api.slack.com/docs/messages#composing_messages\">https://api.slack.com/docs/messages#composing_messages</a> . </p>\n<p>Also, down the road, we could also potentially use parts of their in-card interactive messages framework to support user feedback mechanisms beyond suggestion buttons and links: <a href=\"https://api.slack.com/interactive-messages\" target=\"_blank\" title=\"https://api.slack.com/interactive-messages\">https://api.slack.com/interactive-messages</a> .</p>\n</blockquote>",
        "id": 153888544,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494273696
    },
    {
        "content": "<p>vadi2 <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300391322\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300391322\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p>Grahame is heavily favouring CommonMark btw.</p>\n</blockquote>",
        "id": 153888856,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494398838
    },
    {
        "content": "<p>grahamegrieve <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300399422\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300399422\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p>I do now favor CommonMark if we're talking about markup variants. </p>\n</blockquote>",
        "id": 153888862,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494401368
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300407280\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300407280\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p>The only downside I've heard from implementors with CommonMark is the lack of support for tables in Markdown, thereby requiring HTML tables. If we decide to disallow HTML for the time being, this would prevent tables from being used altogether.</p>\n</blockquote>",
        "id": 153888870,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494403577
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300515148\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300515148\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p>It's clear that we want to provide some capability for a cds service to specify content markdown. </p>\n<blockquote>\n<p>Markdown allows for any embedded HTML. Should this be allowed?</p>\n</blockquote>\n<p>I think that the general consensus here is no, raw html shouldn't be allowed. Looking at FHIR's experience with narrative, supporting html fragments looks messy. A safe markup language is the best choice.</p>\n<blockquote>\n<p>I think Markdown is optional</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-email=\"jmandel@gmail.com\" data-user-id=\"9\">@Josh Mandel</span> - optional for whom? I imagine that plain text is a subset of any markdown flavor, so it's optional for cds services. Are you also suggesting that it's optional for the EHR? If so, how would that work? </p>\n<blockquote>\n<p>CommonMark ... lack[s] support for tables</p>\n</blockquote>\n<p>I'd guess that this is a big deal, but it's the cds services whose experience matters. @seanmsmith23, @robs16, <span class=\"user-mention\" data-user-email=\"euvitudo@gmail.com\" data-user-id=\"821\">@Phillip Warner</span>, others? Is table support a hard requirement? </p>\n</blockquote>",
        "id": 153889072,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494429339
    },
    {
        "content": "<p>jmandel <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300517714\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300517714\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p>I'm saying some EHR might decide not to render markdown nicely. I think it would be a poor choice, but I don't know that we have to militate against it.</p>\n</blockquote>",
        "id": 153889080,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494429810
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> , that sounds the same as requiring the EHR to support it. </p>",
        "id": 153889082,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1494429859
    },
    {
        "content": "<p>Well, an EHR might choose not to support it (so it's \"optional\" in that sense). But we should be as clear as possible about what supporting it means, and what flavor/capabilities we expect.</p>",
        "id": 153889083,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1494430087
    },
    {
        "content": "<p>robs16 <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300519374\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300519374\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p><span class=\"user-mention\" data-user-email=\"isaacvetter@gmail.com\" data-user-id=\"558\">@Isaac Vetter</span> - So far tables have not been a hard requirement for our service.</p>\n</blockquote>",
        "id": 153889084,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494430119
    },
    {
        "content": "<p>euvitudo <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300520092\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300520092\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p><span class=\"user-mention\" data-user-email=\"isaacvetter@gmail.com\" data-user-id=\"558\">@Isaac Vetter</span> - The opioid use case used a table to display the list or prescribed meds.</p>\n</blockquote>",
        "id": 153889088,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494430244
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"192127\">@Phillip Warner</span> ,  yeah, do you think that your current Opioid card UI is what you'd move into production? How hard would it be to not use a table?</p>",
        "id": 153889093,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1494431360
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"191864\">@Isaac Vetter</span>, Ken is the one who created that.  What we do is convert the Markdown to HTML using a flexmark (java).  If there is a better (easier?) way to represent tabular data, then we could convert it.</p>",
        "id": 153889102,
        "sender_full_name": "Phillip Warner",
        "timestamp": 1494432044
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192127\">@Phillip Warner</span> - If we go with CommonMark and no HTML, then it would not be possible to put a table in a card. This is why <span class=\"user-mention\" data-user-id=\"191864\">@Isaac Vetter</span> is asking you if there are other options for UX. IIRC, I think your CDS Service is the only one I've seen use tables in a card</p>",
        "id": 153889112,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1494432582
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span>, <span class=\"user-mention\" data-user-id=\"191864\">@Isaac Vetter</span> </p>\n<p>To be clear, we convert the markdown to HTML for the BPA response (since BPA doesn't support the CDS Hooks response payload.</p>\n<p>Honestly, I don't have a strong opinion about this--though I presume the resistance to tables is due to Grahame's (strong) preference for CommonMark which doesn't support them.</p>\n<p>Is CommonMark going to be the Markdown \"standard\" that FHIR adopts?  If that discussion hasn't started, maybe it should?</p>\n<p>Finally, at some point someone is going to say (to paraphrase <span class=\"user-mention\" data-user-id=\"193242\">@Sean Smith</span>):</p>\n<p>\"I don't have strong feelings about exactly what flavor of [X] to use. Just so long as we get more flexibility than [CommonMark].\"</p>",
        "id": 153889119,
        "sender_full_name": "Phillip Warner",
        "timestamp": 1494433500
    },
    {
        "content": "<p>You might want to discuss this with Ken--he'll likely have an opinion.</p>",
        "id": 153889126,
        "sender_full_name": "Phillip Warner",
        "timestamp": 1494435082
    },
    {
        "content": "<p>well, as a standard, markdown creates problems. We like markdown, but it's difficult for to reference it. And our eco-system is broken because different tools/platforms have access to libraries that implement different variants</p>",
        "id": 153889139,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436207
    },
    {
        "content": "<p>commonmark has a strong attraction for us - it's an actual standard</p>",
        "id": 153889140,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436231
    },
    {
        "content": "<p>and it seems that right now, all the tools could actually get to common mark</p>",
        "id": 153889141,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436261
    },
    {
        "content": "<p>why is flexibility good? I would expect that the sentence would say \" Just so long as we get more features than [CommonMark]\". And I would like CommonMark to add tables. I like tables ;-)</p>",
        "id": 153889142,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436316
    },
    {
        "content": "<p>in the absense of a single variant..... you're just going to get broken markdown processing across different cds-hooks implementations</p>",
        "id": 153889143,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436354
    },
    {
        "content": "<p>Github Flavored Markdown (GFM) has a spec now too: <a href=\"https://github.github.com/gfm/\" target=\"_blank\" title=\"https://github.github.com/gfm/\">https://github.github.com/gfm/</a></p>",
        "id": 153889144,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1494436451
    },
    {
        "content": "<p>Not saying you should switch, but in case you didn't know :-)</p>",
        "id": 153889146,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1494436470
    },
    {
        "content": "<p>it's not a formal spec with formal rules though :-(</p>",
        "id": 153889147,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436493
    },
    {
        "content": "<p>they going to take it to a managed SDO? or they just going to change it whenever they feel like it?</p>",
        "id": 153889148,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436516
    },
    {
        "content": "<p>Is CommonMark? :P</p>",
        "id": 153889149,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1494436566
    },
    {
        "content": "<p>FWIW, I don't have a strong preference between CommonMark and GFM. While GFM has additional features, CommonMark certainly is a stronger spec</p>",
        "id": 153889150,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1494436622
    },
    {
        "content": "<p>not yet, but they're on the path - a community with open governance, not a company. Not enough governance, as they say </p>",
        "id": 153889151,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436635
    },
    {
        "content": "<p>The CommonMark maintainers have said publicly that their focus is a 1.0 with just the features from Daring Fireball. After 1.0, they may look to add additional features</p>",
        "id": 153889152,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1494436664
    },
    {
        "content": "<p>and we haven't fixed on commonmark, btw. It's just the leading candidate at the present</p>",
        "id": 153889153,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436674
    },
    {
        "content": "<p>To <span class=\"user-mention\" data-user-id=\"192127\">@Phillip Warner</span>'s earlier question, is there a task for that or is the discussion just here in <a class=\"stream\" data-stream-id=\"179166\" href=\"/#narrow/stream/179166-implementers\">#implementers</a>?</p>",
        "id": 153889154,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1494436712
    },
    {
        "content": "<p>but I'd like to fix to something and get agreement</p>",
        "id": 153889155,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436715
    },
    {
        "content": "<p>no task. I'll create one</p>",
        "id": 153889157,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494436749
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13376\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13376\">GF#13376</a></p>",
        "id": 153889161,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494437228
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>!</p>",
        "id": 153889163,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1494437300
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300555306\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300555306\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p>For those interested in following along with FHIR's work to land on a standard flavor of Markdown, follow <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13376\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13376\">gForge #13376</a></p>\n</blockquote>",
        "id": 153889164,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494437429
    },
    {
        "content": "<p>seanmsmith23 <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300560566\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300560566\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p>Tables are not a hard requirement for us. Probably mostly just need to be<br>\nable to create some emphasis for sub-headers, bulleted lists, etc...</p>\n<p>On Wed, May 10, 2017 at 11:30 AM, Kevin Shekleton &lt;<a href=\"mailto:notifications@github.com\" title=\"mailto:notifications@github.com\">notifications@github.com</a>&gt;<br>\nwrote:</p>\n<blockquote>\n<p>For those interested in following along with FHIR's work to land on a<br>\nstandard flavor of Markdown, follow gForge #13376<br>\n&lt;<a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13376\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13376\">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13376</a>&gt;</p>\n<p>â€”<br>\nYou are receiving this because you were mentioned.<br>\nReply to this email directly, view it on GitHub<br>\n&lt;<a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300555306\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300555306\">https://github.com/cds-hooks/docs/issues/33#issuecomment-300555306</a>&gt;, or mute<br>\nthe thread<br>\n&lt;<a href=\"https://github.com/notifications/unsubscribe-auth/AD2WiWhW-f-WSgYpNoRjgHqSay23TPeeks5r4fQ1gaJpZM4NRNch\" target=\"_blank\" title=\"https://github.com/notifications/unsubscribe-auth/AD2WiWhW-f-WSgYpNoRjgHqSay23TPeeks5r4fQ1gaJpZM4NRNch\">https://github.com/notifications/unsubscribe-auth/AD2WiWhW-f-WSgYpNoRjgHqSay23TPeeks5r4fQ1gaJpZM4NRNch</a>&gt;<br>\n.</p>\n</blockquote>\n</blockquote>",
        "id": 153889165,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494438381
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300813506\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-300813506\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<blockquote>\n<p>Hmm, I wonder if we could borrow slack's card format?</p>\n</blockquote>\n<p>@gotdan - Thanks for pointing out the Slack message format! I use Slack everyday but never have looked at their API. Its clear they have designed an API that allows for rich messages from 3rd party integrations.</p>\n<p>One of the drawbacks of using designing a bespoke message format (like Slack's) is that EHR implementors will need to write parsers for this format. This is an advantage of Markdown -- the ability to use an OSS parser.</p>\n</blockquote>",
        "id": 153889373,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494514231
    },
    {
        "content": "<p>isaacvetter assigned <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>",
        "id": 153896518,
        "sender_full_name": "Github Notifications",
        "timestamp": 1499719933
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-315894920\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33#issuecomment-315894920\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>\n<blockquote>\n<p>Overall, styling should be controlled by the EHR. This is important to provide a consistent user experience. Yet, some amount of minimal markup is important for the CDS service to provide to enable a clinician to rapidly understand data visually.  Visual representation of data is important to translate data to users -- it seems important that the markup functionality support tables. Further, a card's detail must be treated as non-executable code (not html, javascript, etc), for security reasons. </p>\n<p>Considered approaches:<br>\n* <a href=\"http://spec.commonmark.org/0.5/\" target=\"_blank\" title=\"http://spec.commonmark.org/0.5/\">CommonMark</a> without html support - doesn't support tables.<br>\n* FHIR-defined xhtml data type - <a href=\"https://www.hl7.org/fhir/narrative.html#xhtml\" target=\"_blank\" title=\"https://www.hl7.org/fhir/narrative.html#xhtml\">xhtml</a><br>\n* <a href=\"https://github.github.com/gfm/#what-is-github-flavored-markdown-\" target=\"_blank\" title=\"https://github.github.com/gfm/#what-is-github-flavored-markdown-\">GitHub flavored markdown</a>, which is CommonMark+tables, no html, </p>\n<p>The joint goals of data visualization -- including tables, and security -- outlawing html, land us squarely on GitHub Flavored markdown. </p>\n<p>I'm going to write up a PR for GitHub Flavored markdown to be in the spec as the support markup method in CDS Hooks responses' detail element.</p>\n</blockquote>",
        "id": 153897157,
        "sender_full_name": "Github Notifications",
        "timestamp": 1500328040
    },
    {
        "content": "<p>kpshek closed <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>",
        "id": 153898512,
        "sender_full_name": "Github Notifications",
        "timestamp": 1501111770
    },
    {
        "content": "<p>isaacvetter labeled <a href=\"https://github.com/cds-hooks/docs/issues/33\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/33\">Issue #33</a></p>",
        "id": 153914986,
        "sender_full_name": "Github Notifications",
        "timestamp": 1508446489
    }
]