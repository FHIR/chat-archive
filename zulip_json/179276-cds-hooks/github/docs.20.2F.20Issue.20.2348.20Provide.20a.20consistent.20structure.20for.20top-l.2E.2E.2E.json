[
    {
        "content": "<p>jmandel opened <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>Right now our suggestions and decisions share a lot of structure. We should formalize this to<br>\ninclude <code>uuid</code>, <code>label</code>, <code>create</code> and <code>delete</code>, as well as two new<br>\noptional elements (<code>assessment</code> and <code>about</code>). This gives us a pretty goood base structure<br>\nthat can be used for <code>suggestions</code>, <code>decisions</code>, and top-level <code>feedback</code>. Here's the rough idea:</p>\n<p>### Add a new top-level <code>feedback</code></p>\n<p>At the top level of CDS Hooks response, we define a new array-valued <code>feedbaack</code> property, where<br>\neach feedback item follows the augmented suggestion structure. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;decisions&quot;</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n  <span class=\"nt\">&quot;cards&quot;</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n  <span class=\"nt\">&quot;feedback&quot;</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"nt\">&quot;uuid&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;c91554be-a7ec-4067-b544-33efabffe9d6&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;about&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;ProcedureRequest/123&quot;</span><span class=\"p\">],</span>\n    <span class=\"nt\">&quot;assessment&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;rating&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"mi\">4</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Rating Scale&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://acr.org&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">&quot;radiation&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Relative Radiation Level&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://acr.org&quot;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}]</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>The specific assessement properties (\"ratings\", \"radiation\") would be hook-specific,<br>\nso here I'm imagining a \"radiology imaging order\" hook...</p>\n<p>### Individual <code>suggestion</code>s can be decorated with assessments, too</p>\n<p>Same structure applies to any given suggestion in a suggestion card:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;suggestions&quot;</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"nt\">&quot;uuid&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;c91554be-a7ec-4067-b544-33efabffe9d6&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;delete&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;ProcedureRequest/123&quot;</span><span class=\"p\">],</span>\n    <span class=\"nt\">&quot;create&quot;</span><span class=\"p\">:</span> <span class=\"p\">[{</span><span class=\"nt\">&quot;resourceType&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;ProcedureRequest&quot;</span><span class=\"p\">,</span> <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"p\">{}}],</span>\n    <span class=\"nt\">&quot;assessment&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;rating&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"mi\">4</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;appropriateness-scale&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://acr.org&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">&quot;radiation&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;relative-radiation-scale&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://acr.org&quot;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}]</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>### And of course <code>decisions</code><br>\nThe items in a <code>decisions</code> array could also be decorated with this same structure.<br>\nI won't repeat here, for brevity...</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;cards&quot;</span><span class=\"p\">:</span> <span class=\"p\">[],</span>\n  <span class=\"nt\">&quot;decisions&quot;</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"nt\">&quot;uuid&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;c91554be-a7ec-4067-b544-33efabffe9d6&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;delete&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;ProcedureRequest/123&quot;</span><span class=\"p\">],</span>\n    <span class=\"nt\">&quot;assessment&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;rating&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"mi\">4</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Rating Scale&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://acr.org&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">&quot;radiation&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Relative Radiation Level&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://acr.org&quot;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}]</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n</blockquote>",
        "id": 153888651,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494332904
    },
    {
        "content": "<p>robs16 <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-303770658\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-303770658\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>In general, I like the solution. It provides an answer to where to put the data discussed in #13. It also provides the reference in the 'about' field which is requested in #20. However I think it should also be available at the card level similar to the top level feedback (at the card level it should include the 'about' in addition to the assessment).</p>\n</blockquote>",
        "id": 153891175,
        "sender_full_name": "Github Notifications",
        "timestamp": 1495641762
    },
    {
        "content": "<p>bkaney <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-305015457\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-305015457\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>This could be nice. The approve we've been trying is to provide this sort of structure in the FHIR resources embedded in the decision. This can be difficult.</p>\n<p>One note, I think this group should look at JSON Schema (<a href=\"http://json-schema.org\" target=\"_blank\" title=\"http://json-schema.org\">http://json-schema.org</a>) to specify all the structures in CDS Hooks. This could allow us to iterate on things like this (and <a href=\"https://github.com/cds-hooks/docs/pull/26\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/26\">https://github.com/cds-hooks/docs/pull/26</a>) in a less \"example-driven\" manner. I'd be happy to do a PR with a JSON schema representation of the current state of master, if that's helpful.</p>\n</blockquote>",
        "id": 153891719,
        "sender_full_name": "Github Notifications",
        "timestamp": 1496180115
    },
    {
        "content": "<p>kpshek milestoned <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>",
        "id": 153892318,
        "sender_full_name": "Github Notifications",
        "timestamp": 1496694078
    },
    {
        "content": "<p>brynrhodes <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-314224666\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-314224666\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>I'm a little concerned about modeling things like assessment and radiation directly as part of the CDS Hooks service API. I thought one of the advantages of having CDS Hooks be separate was that we could leverage the clinical modeling in FHIR, and avoid modeling those items in CDS Hooks directly.</p>\n</blockquote>",
        "id": 153896506,
        "sender_full_name": "Github Notifications",
        "timestamp": 1499718109
    },
    {
        "content": "<p>brynrhodes assigned <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>",
        "id": 153896509,
        "sender_full_name": "Github Notifications",
        "timestamp": 1499718581
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-314246218\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-314246218\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>@brynrhodes - I think that makes a lot sense. The assessment/score value isn't obviously part of the clinical/business model, though. Is there a reasonable and established way that we can include this score as part of the business model?</p>\n</blockquote>",
        "id": 153896524,
        "sender_full_name": "Github Notifications",
        "timestamp": 1499721209
    },
    {
        "content": "<p>ElliotSilver <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-314559907\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-314559907\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>Echoing @brynrhodes, I hope that inclusion of radiation was just an example, and not an indication of intent to model radiation dosing. If you decide to head down that route, please contact HL7 Imaging Integration to discuss the complexities involved.</p>\n</blockquote>",
        "id": 153896631,
        "sender_full_name": "Github Notifications",
        "timestamp": 1499804428
    },
    {
        "content": "<p>bkaney <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-315181844\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-315181844\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>A note on <code>decisions</code>; in the case the decision indicates an item to be <em>deleted</em>, it makes sense to have the value be a string identifier. However, in the <em>create</em> case, we are finding it much more convenient (and less ambitious as to what the root URL / fhir-server is) if the resource is inlined (much like the <code>context</code> is.</p>\n</blockquote>",
        "id": 153896883,
        "sender_full_name": "Github Notifications",
        "timestamp": 1499975033
    },
    {
        "content": "<p>brynrhodes <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-316224416\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-316224416\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p><span class=\"user-mention\" data-user-email=\"isaacvetter@gmail.com\" data-user-id=\"558\">@Isaac Vetter</span> - Here's a link to the extension defined as part of QI-Core that supports identifying the assessment score as part of a GAO request/response. The idea is that the ProcedureRequest that was submitted as the procedure being assessed is returned with this assessmentScore extension applied:</p>\n<p><a href=\"http://build.fhir.org/ig/cqframework/qi-core/StructureDefinition-procedurerequest-appropriatenessScore\" target=\"_blank\" title=\"http://build.fhir.org/ig/cqframework/qi-core/StructureDefinition-procedurerequest-appropriatenessScore\">appropriatenessScore</a></p>\n</blockquote>",
        "id": 153897262,
        "sender_full_name": "Github Notifications",
        "timestamp": 1500419412
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-320349313\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-320349313\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>Fixing in #64 </p>\n</blockquote>",
        "id": 153900548,
        "sender_full_name": "Github Notifications",
        "timestamp": 1501879555
    },
    {
        "content": "<p>robs16 <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-322746577\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-322746577\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p><span class=\"user-mention\" data-user-email=\"isaacvetter@gmail.com\" data-user-id=\"558\">@Isaac Vetter</span> Does the fix in #64 cover all of the above need, or is the expectation to implement that as well as the solution in #64?</p>\n</blockquote>",
        "id": 153902584,
        "sender_full_name": "Github Notifications",
        "timestamp": 1502884297
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-322887331\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-322887331\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>@robs16 - good point. The idea is that the approach in #64 should cover all of the above need. I'm modifying the above comments from \"Fixing\" to \"Closing in favor of\".</p>\n<p>Sounds reasonable? What do you think? </p>\n<p>Isaac</p>\n</blockquote>",
        "id": 153902651,
        "sender_full_name": "Github Notifications",
        "timestamp": 1502914874
    },
    {
        "content": "<p>robs16 <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-322901711\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-322901711\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>I saw two features combined in the original solution:<br>\n1. Scoring<br>\nI thinks this works in the general sense - however there is an important workflow issue here - For the case where the user can dismiss the dialog or ignore it, there must be a default/dismiss suggestion that is taken in this case. To put another way, the only time a rating should not be applied is when the triggering order/etc was deleted. Without a default/dismiss suggestion, there is no way for the appropriate rating to be retrieved by the EHR. This further requires some form of 'type' of suggestion as mentioned in #21, such that the EHR can understand which suggestion is the default/dismiss.</p>\n<p>2. About<br>\nAs mentioned in my comment at the top of this issue I could see the original solution solving #20 also. This solution does not cover that need.</p>\n</blockquote>",
        "id": 153902659,
        "sender_full_name": "Github Notifications",
        "timestamp": 1502918141
    },
    {
        "content": "<p>brynrhodes <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-346186369\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-346186369\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>On issue 1, I agree that there's still a need for some sort of response processing, but since that's not part of the 1.0 scope, we can address it when we resolve #21. Within the 1.0 timeframe, the use case could be addressed with extensions and pre-coordination.</p>\n<p>On issue 2, agree that a resource pointer would be useful, but also out of scope for 1.0, so we can address when we resolve #20.</p>\n</blockquote>",
        "id": 153920834,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511304397
    },
    {
        "content": "<p>brynrhodes closed <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>",
        "id": 153920835,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511304397
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-346186794\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48#issuecomment-346186794\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/48\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/48\">Issue #48</a></p>\n<blockquote>\n<p>It's worth noting that we will address #76 for 1.0 which will allow developers who want to address these types of scenarios with CDS Hooks today the ability to do so.</p>\n</blockquote>",
        "id": 153920836,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511304507
    }
]