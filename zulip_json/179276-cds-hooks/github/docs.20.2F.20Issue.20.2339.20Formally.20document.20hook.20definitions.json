[
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-300828973\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-300828973\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>From <a href=\"https://chat.fhir.org/#narrow/stream/cds-hooks/subject/docs.20.2F.20Issue.20.2336.20Context.20as.20a.20list.20of.20FHIR.20Resources\" target=\"_blank\" title=\"https://chat.fhir.org/#narrow/stream/cds-hooks/subject/docs.20.2F.20Issue.20.2336.20Context.20as.20a.20list.20of.20FHIR.20Resources\">some Zulip discussion on this issue</a>, we're proposing that <code>context</code> is always a JSON object. Furthermore, <code>context</code> is defined per hook which each hook defining the individual keys and values (both the <a href=\"http://json.org/\" target=\"_blank\" title=\"http://json.org/\">JSON</a> value type and the content) within the <code>context</code> JSON object.</p>\n<p>For example (these are examples, not absolute/real hook definitions):</p>\n<p>hook: <code>patient-view</code><br>\ndescription: Some very clear description of the hook (answering Isaac's question's above)<br>\ncontext: An empty object (<code>{}</code>)</p>\n<hr>\n<p>hook: <code>medication-prescribe</code><br>\ndescription: Some very clear description of the hook (answering Isaac's question's above)<br>\ncontext:</p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;medication&quot;: {\n    // DSTU2: MedicationOrder FHIR resource of the medication being prescribed\n    // STU3: MedicationRequest FHIR resource of the medication being prescribed\n  }\n}\n</pre></div>\n\n\n<hr>\n<p>hook: <code>allergy-review</code><br>\ndescription: Some very clear description of the hook (answering Isaac's question's above)<br>\ncontext:</p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;allergies&quot;: [{}, {}]\n}\n</pre></div>\n\n\n</blockquote>",
        "id": 153889413,
        "sender_full_name": "Github Notifications",
        "timestamp": 1494517088
    },
    {
        "content": "<p>isaacvetter assigned <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>",
        "id": 153896517,
        "sender_full_name": "Github Notifications",
        "timestamp": 1499719919
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-336257086\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-336257086\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>In conversation with <span class=\"user-mention\" data-user-email=\"isaacvetter@gmail.com\" data-user-id=\"558\">@Isaac Vetter</span>, @hstrasbe, and myself on the Argonaut call today, we talked about splitting out the hook definitions from the specification. This will allow us to add additional hooks without updating the spec.</p>\n<p>Here's some thoughts:</p>\n<ul>\n<li><a href=\"http://cds-hooks.org/\" target=\"_blank\" title=\"http://cds-hooks.org/\">http://cds-hooks.org/</a> <img alt=\"⬅\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/unicode/2b05.png\" title=\"⬅\">️ Homepage (overview, links to subpages)</li>\n<li><a href=\"http://cds-hooks.org/hooks\" target=\"_blank\" title=\"http://cds-hooks.org/hooks\">http://cds-hooks.org/hooks</a> <img alt=\"⬅\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/unicode/2b05.png\" title=\"⬅\">️ Hook definitions</li>\n<li><a href=\"http://cds-hooks.org/spec/1.0\" target=\"_blank\" title=\"http://cds-hooks.org/spec/1.0\">http://cds-hooks.org/spec/1.0</a> <img alt=\"⬅\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/unicode/2b05.png\" title=\"⬅\">️ The 1.0 of the specification</li>\n<li><a href=\"http://cds-hooks.org/spec/build\" target=\"_blank\" title=\"http://cds-hooks.org/spec/build\">http://cds-hooks.org/spec/build</a> <img alt=\"⬅\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/unicode/2b05.png\" title=\"⬅\">️ The next release of the specification</li>\n</ul>\n<p>If we ever do a breaking release (eg, 2.0) and this affects the hook definition, then we will need to put the hook definitions at something like <code>http://cds-hooks.org/1.0/hooks</code> and <code>http://cds-hooks.org/2.0/hooks</code>. The thing that I don't like about this is that I don't want to have similar page for intermediate releases (eg, 1.1, 1.2, etc).</p>\n<p>This also relates to #100 which is where we'll be doing the actual work to manage our documentation with respect to versioning.</p>\n</blockquote>",
        "id": 153913708,
        "sender_full_name": "Github Notifications",
        "timestamp": 1507840262
    },
    {
        "content": "<p>kensaku-kawamoto <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-336462086\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-336462086\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>I think this is a good idea.  Sort of like an Implementation Guide.<br>\nIs there a reason why the URL wouldn't <a href=\"http://cds-hooks.org/hooks/1,0\" target=\"_blank\" title=\"http://cds-hooks.org/hooks/1,0\">http://cds-hooks.org/hooks/1,0</a> and <a href=\"http://cds-hooks.org/hooks/2,0\" target=\"_blank\" title=\"http://cds-hooks.org/hooks/2,0\">http://cds-hooks.org/hooks/2,0</a> (version number at the end, like for the spec)?</p>\n</blockquote>",
        "id": 153913804,
        "sender_full_name": "Github Notifications",
        "timestamp": 1507903561
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-336492853\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-336492853\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>@kensaku-kawamoto - Putting the version number in the hooks URL would be fine. Though, I think the version numbers should be the major releases only (1.x, 2.x, etc).</p>\n<p>One of my personal goals is to not have any breaking changes after 1.0. So, another approach we could take is to have the hooks at just <code>/hooks</code>. IF we introduce breaking changes later and need a 2.0, we can then revisit the URL for our hook definitions to include a version in the path. As I type this, I like this option the best.</p>\n</blockquote>",
        "id": 153913811,
        "sender_full_name": "Github Notifications",
        "timestamp": 1507910032
    },
    {
        "content": "<p>kensaku-kawamoto <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-336516015\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-336516015\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>Makes sense to me.</p>\n</blockquote>",
        "id": 153913814,
        "sender_full_name": "Github Notifications",
        "timestamp": 1507915552
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-340584723\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-340584723\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>1. Move hook catalog to a separate repository. Optimally each hook is it's own .md file. README indexes the hooks.<br>\n1. Spec should only document conventions / requirements for creating a hook - hook naming, dsecription, clearly defined context, etc. Remove med-prescribe, order-review from spec. Change open-patient to example. </p>\n</blockquote>",
        "id": 153916862,
        "sender_full_name": "Github Notifications",
        "timestamp": 1509397644
    },
    {
        "content": "<p>brettmarquard <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346356760\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346356760\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>How do systems differentiate what belongs in <code>context</code> vs <code>prefetch</code>. The definitions seem similar: </p>\n<p><code>context</code>  <em>object</em>. Hook-specific contextual data that the CDS service will need.<br>\nFor example, with the medication-prescribe hook this will include MedicationOrder being prescribed.</p>\n<p><code>prefetch</code> <em>object</em>. The FHIR data that was prefetched by the EHR (see more information below)</p>\n<p>My best guess:  <code>context</code> is what the hook defines as required. <code>prefetch</code> is just additional data the EHR decided to send?</p>\n</blockquote>",
        "id": 153921024,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511358978
    },
    {
        "content": "<p>kensaku-kawamoto <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346359078\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346359078\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>From a healthcare system perspective, our privacy and security folks are much more concerned about an external system making calls into our FHIR server to pull data, then for us to push out the required data.  So we very much like the idea of prefetch.  To that end, I would like to see prefetch be able to fully support the data needs of a CDS Hooks service, if the EHR and healthcare system can support it. </p>\n</blockquote>",
        "id": 153921027,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511359495
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346373542\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346373542\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>It is important that we do not conflate <code>context</code> and <code>prefetch</code>; we could benefit from stronger documentation explaining the difference between the two as I've heard folks confuse the two sometimes.</p>\n<p><code>context</code> is unique to a <strong>hook</strong> and therefore applies to all CDS Services for a given hook. A given hook will document required and potentially optional <code>context</code> parameters. Each EHR will need to satisfy the context requirements of each hook they want to support. The parameters in the <code>context</code> are expressed as any name/value data -- it is not constrained to simply FHIR resources.</p>\n<p><code>prefetch</code> is unique to a given CDS Service. The CDS Service defines FHIR resources that it would like the EHR to pass along in the request. The EHR is not required to satisfy any/all of the prefetch desires. A CDS Service may decide that if it doesn't received the desired prefetch data, it returns a 412 status; ideally, the CDS Service should be resilient to missing prefetch data.</p>\n</blockquote>",
        "id": 153921037,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511362545
    },
    {
        "content": "<p>vlindhol <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346646856\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346646856\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>@kpshek in my use case it is a conscious design decision that our CDS will never fetch additional data from the caller's FHIR server, i.e. all data must be present in the call. The reasons are similar as @kensaku-kawamoto mentions, but from the CDS end. We want to be able to say to the EHR to not send any data that makes the patient immediately personally identifiable, like a social security number. If they do, the patient data security consequences are up to them. If we have to fetch the data ourselves, there is no way of telling what the contents might be before it's gotten onto our servers. Therefore we are in a legal sense a service that has full access to personal data, with all the legal ramifications that comes with it. Add to that that we are active in multiple countries, and I think it is clear why we are attempting to keep the liability on the EHR side.</p>\n<p>Many parts of CDS hooks seem to assume that additional FHIR server fetches are possible. For example, a system like ours is basically bound to use only the resources specified in a global hook definition like <code>medication-prescribe</code>. If we would like to use fancy additional data, say DNA data, and we can't fetch it ourselves, we basically have to define our own hook. I think this will greatly reduce the usability of global hooks for a lot of people.</p>\n<p>What you @kpshek said about returning a 412 status if a <code>prefetch</code> is mandatory is exactly what I have been looking for, since we want our service to signal that <code>prefetch</code> is, just like gravity, not just a good idea but the <em>law</em>. Again, this is since we can't fetch the data ourselves. But I haven't seen a single mention of this being the canonical way of signalling an obligatory <code>prefetch</code> in the docs. Granted, I haven't re-read the docs for a while. And wouldn't it be clearer to include this info in the service description? A simple boolean somewhere? Otherwise customers have to actually try sending a request to us before finding out that they have to perform the data fetching themselves.</p>\n</blockquote>",
        "id": 153921305,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511450989
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346660214\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346660214\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>@vlindhol - Check out our latest prefetch documentation. @isaacvetter updated it a few weeks ago in PR #103 to clarify some things and add the bit about a 412 HTTP status.</p>\n<p>Your use case of a CDS Service not being able to fetch any FHIR data is one that we have heard now several times so it is a use case we care about. If you think that CDS Hooks doesn't address your needs around prefetching please let us know by logging an issue.</p>\n<p>Currently, your CDS Service can define whatever data it needs upfront in in the prefetch definition. If the EHR doesn't satisfy your request, you can return a 412 to indicate you don't have the necessary data to process the request. We have said before that we expect there to be some personal touchpoint/communication between an healthcare organization and CDS Service Provider before they integrate. For instance, the healthcare administrators/providers will want to know the value the CDS Service will provide, how it should be incorporated in the EHR, security considerations, etc. During this time, I would expect the CDS Service Provider to state any data requirements. Related to this, this has been discussed in #82 so read through that it you haven't already.</p>\n<p>Happy Thanksgiving from the US!<br>\n<span class=\"emoji emoji-1f983\" title=\"turkey\">:turkey:</span> <span class=\"emoji emoji-1f468\" title=\"man\">:man:</span>‍<span class=\"emoji emoji-1f373\" title=\"egg\">:egg:</span> <span class=\"emoji emoji-1f357\" title=\"poultry leg\">:poultry_leg:</span> <span class=\"emoji emoji-1f374\" title=\"fork and knife\">:fork_and_knife:</span> <span class=\"emoji emoji-1f389\" title=\"tada\">:tada:</span> <span class=\"emoji emoji-1f604\" title=\"smile\">:smile:</span> </p>\n</blockquote>",
        "id": 153921315,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511454508
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346886758\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346886758\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>Hey Everybody,</p>\n<p>I took an additional stab at #39, I think that we still need to clarify:<br>\n* optionality of context parameters<br>\n* FHIR versioning - can multiple versions of FHIR exist in the same request (I'm pretty sure that this should be no). How does a service know what to expect?<br>\n* is context a list of FHIR ids and resources or a list of json key/value pairs ?<br>\n* what's the appropriate granularity of a hook? </p>\n<p>Secondly, there's some polishing likely needed on the actual hooks<br>\n* What DSTU2 or STU3 FHIR resources am I missing from order-review?<br>\n* I don't think that patient-view necessarily includes an encounter, but I suspect that this is contentious.</p>\n<p>Isaac</p>\n</blockquote>",
        "id": 153921540,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511551753
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191864\">@Isaac Vetter</span>, where to see your 'additional stab'?</p>",
        "id": 153921541,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1511553009
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191864\">@Isaac Vetter</span>, where to see your 'additional stab'?</p>\n</blockquote>\n<p>Hey Grahame, in  <a href=\"https://github.com/cds-hooks/docs/pull/109\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/pull/109\">PR #109</a></p>",
        "id": 153921544,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1511555493
    },
    {
        "content": "<p>grahamegrieve <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346898193\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346898193\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>Agree to not mixing FHIR versions in a request. bad idea. context for order-review is ok. But how many reviews are we going to have? we need at least Patient, Encounter, EpisodeOfCare, DiagnosticReport, QuestionnaireResponse, Composition, CarePlan, ImagingStudy (+ problem list / medication reconciliation)</p>\n</blockquote>",
        "id": 153921550,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511559186
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346899361\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346899361\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>Hey @grahamegrieve ,</p>\n<p>Appreciate the feedback on versioning the FHIR payload.</p>\n<p>I want to minimize when a cds service is called to only when it has relevant guidance. Generating context and pre-fetch and awaiting a response are expensive compared to native cds. We do this now by executing local rules before remote rules. More discrete hooks lessen the need for local rules. </p>\n<p>Further, I suspect that more specific hooks are easier for cds services to identify and develop against. </p>\n<p>I imagine an eventual library of 50-100 defined hooks.</p>\n<p>Isaac</p>\n</blockquote>",
        "id": 153921557,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511560044
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346936575\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-346936575\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<blockquote>\n<p>I don't think that patient-view necessarily includes an encounter, but I suspect that this is contentious.</p>\n</blockquote>\n<p>I agree with you on this; the encounter id should be optional. In our EHR, you can open a patient's chart without an encounter in context.</p>\n</blockquote>",
        "id": 153921569,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511611540
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-347640456\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-347640456\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>Hey @jmandel , @grahamegrieve ,</p>\n<p>Per your comments on #119, want to check out PR #109's <a href=\"https://cds-hooks-docs-pr-109.herokuapp.com/hook_catalog/\" target=\"_blank\" title=\"https://cds-hooks-docs-pr-109.herokuapp.com/hook_catalog/\">heroku build</a> and give feedback?</p>\n<p>Isaac </p>\n</blockquote>",
        "id": 153921917,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511898101
    },
    {
        "content": "<p>grahamegrieve <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-347895833\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-347895833\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>I'm kind of troubled by the choice between id and full resource in context. Do you have to pick on in the definition itself? </p>\n<p>btw, the example for patient view is kind of weird in a purely documentary set, having extensions etc. Not wrong; just.... distracting...</p>\n</blockquote>",
        "id": 153922069,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511969375
    },
    {
        "content": "<p>jmandel <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-347941967\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-347941967\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>I think it's good/important for the definition to pick between ids and full resources, @grahamegrieve. I didn't follow your note about the example having extensions (I don't see any <a href=\"https://cds-hooks-docs-pr-109.herokuapp.com/hook_catalog/\" target=\"_blank\" title=\"https://cds-hooks-docs-pr-109.herokuapp.com/hook_catalog/\">here</a>).</p>\n<p>Some notes on my side:</p>\n<ul>\n<li>We shouldn't push FHIR STU differences into this level. It's not going to scale great... (But if we do, we should fix the example typo to say STU3 instead of STU2.)</li>\n<li>When patient id used to be a top-level property, it was easy to explain how this variable became available in prefetch using a variable like <code>{{Patient.id}}</code>. For hooks that define their own context like hte example here, maybe we want to explain how this context can be used in prefetch. Like in the example, we might declare that <code>Observation?patient={{example-patient-id}}</code> would be a valid way to use these params in prefetch.</li>\n</ul>\n</blockquote>",
        "id": 153922121,
        "sender_full_name": "Github Notifications",
        "timestamp": 1511978030
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348045103\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348045103\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>@isaacvetter - Let's keep any changes related to #119 off of PR #109. This will allow us to resolve #109 and this issue more quickly, as well as keep PRs related to their own distinct issues.</p>\n<p>With that being said, the context for our current hooks (eg, <code>patient-view</code>) should be the <a href=\"http://Patient.id\" target=\"_blank\" title=\"http://Patient.id\">Patient.id</a> value, not the full Patient FHIR resource.</p>\n</blockquote>",
        "id": 153922170,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512002555
    },
    {
        "content": "<p>grahamegrieve <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348052348\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348052348\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>@jmandel the patient example for patient-view.  I don't know that it's always right  to pick between id and full resource. Agree we definitely need to solve the pre-fetch issue</p>\n</blockquote>",
        "id": 153922171,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512004961
    },
    {
        "content": "<p>jmandel <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348052527\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348052527\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>If you didn't pick between ID and full resource (specifying your decision in the hook definition), what would you propose instead @grahamegrieve?</p>\n</blockquote>",
        "id": 153922172,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512005022
    },
    {
        "content": "<p>grahamegrieve <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348053072\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348053072\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>I don't know - allow either? I haven't thought this all the way through, but the FHIR operations, we usually provide a range of ways to pass a resource - at least by value or reference. Which is better depends on context. Perhaps pre-fetch takes the pressure off - if, that is, EHRs support it. I just feel there's more to be though about here</p>\n</blockquote>",
        "id": 153922175,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512005212
    },
    {
        "content": "<p>kpshek <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348054153\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348054153\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>@grahamegrieve and @jmandel - Great discussion. I'd suggest logging a new issue if you want to debate whether a given hook (or specifically, <code>patient-view</code>) should use the FHIR <a href=\"http://Patient.id\" target=\"_blank\" title=\"http://Patient.id\">Patient.id</a> vs Patient resource as its context. This issue is specific to documenting/landing on a standard process to formally define new (and existing) hooks.</p>\n<p>Currently, our current hooks all use just a FHIR <a href=\"http://Patient.id\" target=\"_blank\" title=\"http://Patient.id\">Patient.id</a> and unless we decide otherwise in a separate issue, we should proceed with what we have.</p>\n<p>This will allow us to continue making progress on this issue so that we can get it wrapped up. <span class=\"emoji emoji-1f604\" title=\"smile\">:smile:</span></p>\n</blockquote>",
        "id": 153922178,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512005589
    },
    {
        "content": "<p>jmandel <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348081748\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-348081748\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p>Fair enough. Let's still try to address my two comments in bullets above.</p>\n</blockquote>",
        "id": 153922211,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512017357
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-349084933\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39#issuecomment-349084933\">commented</a> on <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>\n<blockquote>\n<p><a href=\"https://cds-hooks-docs-pr-109.herokuapp.com/hook_catalog/\" target=\"_blank\" title=\"https://cds-hooks-docs-pr-109.herokuapp.com/hook_catalog/\">https://cds-hooks-docs-pr-109.herokuapp.com/hook_catalog/</a></p>\n<p>@kpshek - I disagree that patient-view's context should only be the identifier. The content of a patient-view is the patient, just as the content of a med-prescribe is the med. How are you thinking about this, to come to a different conclusion?  Also, I didn't add a column for data type. We'd need to enumerate the possible data types to do this, and it's not clear to me what those are. </p>\n<p>I also, didn't attempt to implement @grahamegrieve's  suggestion for the FHIR reference() type.</p>\n<p>Otherwise, I think that I got everything, including accounting for @jmandel 's point about pre-fetch template variable references. </p>\n</blockquote>",
        "id": 153922828,
        "sender_full_name": "Github Notifications",
        "timestamp": 1512417170
    },
    {
        "content": "<p>kpshek closed <a href=\"https://github.com/cds-hooks/docs/issues/39\" target=\"_blank\" title=\"https://github.com/cds-hooks/docs/issues/39\">Issue #39</a></p>",
        "id": 153932415,
        "sender_full_name": "Github Notifications",
        "timestamp": 1517181319
    }
]