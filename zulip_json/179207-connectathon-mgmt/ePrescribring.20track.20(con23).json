[
    {
        "content": "<p>.</p>",
        "id": 187179389,
        "sender_full_name": "Alberto Isidro",
        "timestamp": 1580596251
    },
    {
        "content": "<p>ok Paul from Fred here who can hear us and give us the following:<br>\nVendor Name<br>\nClinical System or Patient App integration (or both)</p>",
        "id": 187179465,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580596392
    },
    {
        "content": "<p>Alberto Isidro<br>\nCerner (EMR)</p>",
        "id": 187179512,
        "sender_full_name": "Alberto Isidro",
        "timestamp": 1580596454
    },
    {
        "content": "<p>Greg Pryde , from RxOne, Australia and New Zealand ePrescribing. Pharmacy system RxOne</p>",
        "id": 187179516,
        "sender_full_name": "Greg Pryde",
        "timestamp": 1580596488
    },
    {
        "content": "<p>Hey Andy @InterSystems here</p>",
        "id": 187179534,
        "sender_full_name": "Andy Robb",
        "timestamp": 1580596558
    },
    {
        "content": "<p>Manjeet  - Fred - ePrescribing</p>",
        "id": 187179719,
        "sender_full_name": "Manjeet Singh",
        "timestamp": 1580596895
    },
    {
        "content": "<p>Sarwar from Modeus - Patient App integration</p>",
        "id": 187179772,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580596962
    },
    {
        "content": "<p>Craig from MedAdvisor</p>",
        "id": 187179788,
        "sender_full_name": "Craig Schnuriger",
        "timestamp": 1580597005
    },
    {
        "content": "<p>If you haven't found it already the IG is here<br>\n<a href=\"https://mvf-sha-npd-iguide-web-au-se.azurewebsites.net/mysl/dev/index.html\" target=\"_blank\" title=\"https://mvf-sha-npd-iguide-web-au-se.azurewebsites.net/mysl/dev/index.html\">https://mvf-sha-npd-iguide-web-au-se.azurewebsites.net/mysl/dev/index.html</a><br>\nPlease review the IG first and if you have any questions come and grab me or chat here</p>",
        "id": 187179839,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580597047
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 187179876,
        "sender_full_name": "Joaan Vargheese",
        "timestamp": 1580597140
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"261689\">@Paul Barry</span> <span class=\"user-mention\" data-user-id=\"251579\">@Manjeet Singh</span> <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> <span class=\"user-mention\" data-user-id=\"212913\">@Danielle Bancroft</span>  are here from Fred to answer any questions and assist</p>",
        "id": 187179934,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580597206
    },
    {
        "content": "<p>Joaan - Fred Dispense  - ePrescribing</p>",
        "id": 187179942,
        "sender_full_name": "Joaan Vargheese",
        "timestamp": 1580597227
    },
    {
        "content": "<blockquote>\n<p>Alberto Isidro<br>\nCerner (EMR)</p>\n</blockquote>\n<p>here is the patient search link<br>\n{{FHIR_Base_URL}}/Patient?identifier=http://ns.electronichealth.net.au/id/hi/ihi/1.0|8003608166690511&amp;_revinclude=Consent:patient</p>",
        "id": 187180012,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580597312
    },
    {
        "content": "<blockquote>\n<p>If you haven't found it already the IG is here<br>\n<a href=\"https://mvf-sha-npd-iguide-web-au-se.azurewebsites.net/mysl/dev/index.html\" target=\"_blank\" title=\"https://mvf-sha-npd-iguide-web-au-se.azurewebsites.net/mysl/dev/index.html\">https://mvf-sha-npd-iguide-web-au-se.azurewebsites.net/mysl/dev/index.html</a><br>\nPlease review the IG first and if you have any questions come and grab me or chat here</p>\n</blockquote>\n<p>It requires login</p>",
        "id": 187180015,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580597324
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>If you haven't found it already the IG is here<br>\n<a href=\"https://mvf-sha-npd-iguide-web-au-se.azurewebsites.net/mysl/dev/index.html\" target=\"_blank\" title=\"https://mvf-sha-npd-iguide-web-au-se.azurewebsites.net/mysl/dev/index.html\">https://mvf-sha-npd-iguide-web-au-se.azurewebsites.net/mysl/dev/index.html</a><br>\nPlease review the IG first and if you have any questions come and grab me or chat here</p>\n</blockquote>\n<p>It requires login</p>\n</blockquote>\n<p>working on opening it up connectathon now</p>",
        "id": 187180076,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580597428
    },
    {
        "content": "<p>Lets try that again. The public IG is <br>\n<a href=\"https://mysl-hl7-sydney.azurewebsites.net/fhir/ig\" target=\"_blank\" title=\"https://mysl-hl7-sydney.azurewebsites.net/fhir/ig\">https://mysl-hl7-sydney.azurewebsites.net/fhir/ig</a></p>",
        "id": 187180194,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580597669
    },
    {
        "content": "<p>Ryan Davis - GuildLink <span aria-label=\"cowboy\" class=\"emoji emoji-1f920\" role=\"img\" title=\"cowboy\">:cowboy:</span></p>",
        "id": 187180255,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580597845
    },
    {
        "content": "<blockquote>\n<p>Lets try that again. The public IG is <br>\n<a href=\"https://mysl-hl7-sydney.azurewebsites.net/fhir/ig\" target=\"_blank\" title=\"https://mysl-hl7-sydney.azurewebsites.net/fhir/ig\">https://mysl-hl7-sydney.azurewebsites.net/fhir/ig</a></p>\n</blockquote>\n<p>Not giving me what's expected I think</p>\n<p><a href=\"/user_uploads/10155/rJV2BYAtVf7fmD5pJb7BbXJG/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/rJV2BYAtVf7fmD5pJb7BbXJG/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/rJV2BYAtVf7fmD5pJb7BbXJG/pasted_image.png\"></a></div>",
        "id": 187180300,
        "sender_full_name": "Marc Belej",
        "timestamp": 1580597933
    },
    {
        "content": "<p><a href=\"https://mysl-hl7-sydney.azurewebsites.net/ig/\" target=\"_blank\" title=\"https://mysl-hl7-sydney.azurewebsites.net/ig/\">https://mysl-hl7-sydney.azurewebsites.net/ig/</a></p>\n<p>Try this please.</p>",
        "id": 187180354,
        "sender_full_name": "Manjeet Singh",
        "timestamp": 1580598010
    },
    {
        "content": "<p>Weyn from MedAdvisor</p>",
        "id": 187180825,
        "sender_full_name": "Weyn Ong",
        "timestamp": 1580599084
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>Lets try that again. The public IG is <br>\n<a href=\"https://mysl-hl7-sydney.azurewebsites.net/fhir/ig\" target=\"_blank\" title=\"https://mysl-hl7-sydney.azurewebsites.net/fhir/ig\">https://mysl-hl7-sydney.azurewebsites.net/fhir/ig</a></p>\n</blockquote>\n<p>Not giving me what's expected I think</p>\n<p><a href=\"/user_uploads/10155/rJV2BYAtVf7fmD5pJb7BbXJG/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n</blockquote>\n<p><a href=\"https://mysl-hl7-sydney.azurewebsites.net/ig/\" target=\"_blank\" title=\"https://mysl-hl7-sydney.azurewebsites.net/ig/\">https://mysl-hl7-sydney.azurewebsites.net/ig/</a></p>",
        "id": 187181339,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580600280
    },
    {
        "content": "<p>How are we all going? Anyone managed to get an SMS out yet?</p>",
        "id": 187181539,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580600718
    },
    {
        "content": "<p>Who going to be first to complete the Assisted Registration workflow?</p>\n<p><a href=\"/user_uploads/10155/xBajCUHA8umSEchBW3laqbcG/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/xBajCUHA8umSEchBW3laqbcG/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/xBajCUHA8umSEchBW3laqbcG/pasted_image.png\"></a></div>",
        "id": 187181604,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580600850
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"212913\">@Danielle Bancroft</span>,  Should the MedicationRequest include the number of repeats/quantity remaining on the script?<br>\n(<span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> asked)<br>\nAnd while we're at it, what about the validity period?</p>",
        "id": 187182442,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1580602431
    },
    {
        "content": "<p>Yes, from memory it's number of repeats authorised/number supplied, so if an original would be say 5/0 as no supply. Validity is 12mths from prescribed date, we don't explicitly state expiry as PES will auto-expire at 12 months, dispense also manages this but the fringe scripts like Controlled Drug are 6mth and also handled by dispense</p>",
        "id": 187182556,
        "sender_full_name": "Danielle Bancroft",
        "timestamp": 1580602665
    },
    {
        "content": "<p>Someone was looking for an example MedicationRequest with AMT codes. <br>\n{{FHIR_Base_URL}}/MedicationRequest/4e23d8f8bea44360bd9ba4a6917924c5</p>",
        "id": 187183155,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580603891
    },
    {
        "content": "<p>I have created an Organization, a Patient and a Consent (with status = proposed). Should I be expecting an SMS at this point or just do another PUT /Consent to set status = active?</p>",
        "id": 187183285,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580604194
    },
    {
        "content": "<p>yes, you should get SMS to respond for the consent</p>",
        "id": 187183388,
        "sender_full_name": "Manjeet Singh",
        "timestamp": 1580604416
    },
    {
        "content": "<blockquote>\n<p>I have created an Organization, a Patient and a Consent (with status = proposed). Should I be expecting an SMS at this point or just do another PUT /Consent to set status = active?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"261692\">@Sarwar Erfan</span> when the patient replies to the SMS, the MySL system will set the Consent status to \"active\"</p>",
        "id": 187183724,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580605099
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>I have created an Organization, a Patient and a Consent (with status = proposed). Should I be expecting an SMS at this point or just do another PUT /Consent to set status = active?</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"261692\">Sarwar Erfan</span> when the patient replies to the SMS, the MySL system will set the Consent status to \"active\"</p>\n</blockquote>\n<p>If the patient replies with a 1 or 2 that is</p>",
        "id": 187183728,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580605116
    },
    {
        "content": "<p>Great progress everyone - a number of vendors are completing registrations and receiving SMS already and the questions are flying thick and fast. Once a patient is registered the permission to access the patient's MySL is dictated by the existence of a consent resource authored by that site. Once the security model is implemented (it isn't yet), the api will only return consent resources authored by that site only for that patient. i.e. if a patient is returned and your site has access only one consent resource (your one) will be returned in the response. If there is a patient record but no consent resource, that means the patient has a MySL but your site does not have permission yet so you need to request it by posting a consent resource to the server. This sequence is described below. Shout out if you have any questions</p>\n<p><a href=\"/user_uploads/10155/gPdIyPwXPcQUqezLCSwmn0QJ/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/gPdIyPwXPcQUqezLCSwmn0QJ/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/gPdIyPwXPcQUqezLCSwmn0QJ/pasted_image.png\"></a></div>",
        "id": 187184037,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580605754
    },
    {
        "content": "<p>Just noticed \".id\" in the diagrams is not supported so please use omit it and use<br>\n{{FHIR_Base_URL}}/MedicationRequest?patient=2fc57699576f4106bc211ad237f4c8dd</p>",
        "id": 187184371,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580606513
    },
    {
        "content": "<p>Thanks for the help <span class=\"user-mention\" data-user-id=\"251579\">@Manjeet Singh</span>  and <span class=\"user-mention\" data-user-id=\"261689\">@Paul Barry</span> .<br>\nTwo things:</p>\n<ol>\n<li>\n<p>The diagram indicates the SMS will be sent after POST /VerificationResult. But I got the SMS immediately after POST /Consent</p>\n</li>\n<li>\n<p>GET /MedicationRequest is obviously empty for a new patient. Is there a way to add something by myself for testing?</p>\n</li>\n</ol>",
        "id": 187184541,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580606881
    },
    {
        "content": "<blockquote>\n<p>Thanks for the help <span class=\"user-mention silent\" data-user-id=\"251579\">Manjeet Singh</span>  and <span class=\"user-mention silent\" data-user-id=\"261689\">Paul Barry</span> .<br>\nTwo things:</p>\n<ol>\n<li>\n<p>The diagram indicates the SMS will be sent after POST /VerificationResult. But I got the SMS immediately after POST /Consent</p>\n</li>\n<li>\n<p>GET /MedicationRequest is obviously empty for a new patient. Is there a way to add something by myself for testing?</p>\n</li>\n</ol>\n</blockquote>\n<ol>\n<li>Yes, we have not implemented the 'VerificationResult' as part of this POC. So once the Consent POST is done, you will receive the SMS. </li>\n<li>you can add MedicationRequest yourself as well.<br>\nSee below the test payload</li>\n</ol>\n<p>{<br>\n                \"resourceType\": \"MedicationRequest\",<br>\n                \"id\": \"d5f44a8ad9f640c3a5c2931ed9c8e766\",<br>\n                \"meta\": {<br>\n                    \"profile\": [<br>\n                        \"<a href=\"http://fhir.fred.com.au/my-sl/StructureDefinition/mysl-medicationrequest\" target=\"_blank\" title=\"http://fhir.fred.com.au/my-sl/StructureDefinition/mysl-medicationrequest\">http://fhir.fred.com.au/my-sl/StructureDefinition/mysl-medicationrequest</a>\"<br>\n                    ]<br>\n                },<br>\n                \"identifier\": [<br>\n                    {<br>\n                        \"use\": \"official\",<br>\n                        \"type\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"system\": \"<a href=\"http://hl7.org.au/fhir/v2/0203\" target=\"_blank\" title=\"http://hl7.org.au/fhir/v2/0203\">http://hl7.org.au/fhir/v2/0203</a>\",<br>\n                                    \"code\": \"ETP\",<br>\n                                    \"display\": \"ETP Identifier\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"system\": \"<a href=\"http://fhir.erx.com.au/NamingSystem/identifiers#scid\" target=\"_blank\" title=\"http://fhir.erx.com.au/NamingSystem/identifiers#scid\">http://fhir.erx.com.au/NamingSystem/identifiers#scid</a>\",<br>\n                        \"value\": \"19WC94RKWRX54QX1D4\",<br>\n                        \"assigner\": {<br>\n                            \"display\": \"eRX\"<br>\n                        }<br>\n                    }<br>\n                ],<br>\n                \"status\": \"active\",<br>\n                \"intent\": \"order\",<br>\n                \"medicationCodeableConcept\": {<br>\n                    \"text\": \"Imuran 1mg\"<br>\n                },<br>\n                \"subject\": {<br>\n                    \"reference\": \"Patient/23734d429d134730b581d6f0e9fce9d2\",<br>\n                    \"display\": \"Brian Jonas\"<br>\n                },<br>\n                \"authoredOn\": \"2020-01-01\",<br>\n                \"requester\": {<br>\n                    \"display\": \"Dr Maek Meebetta\"<br>\n                },<br>\n                \"dosageInstruction\": [<br>\n                    {<br>\n                        \"sequence\": 1,<br>\n                        \"text\": \"Take one tablet daily as directed\"<br>\n                    }<br>\n                ]<br>\n            }</p>",
        "id": 187184699,
        "sender_full_name": "Manjeet Singh",
        "timestamp": 1580607157
    },
    {
        "content": "<p>Yes, the SMS happens after the consent request... The verificationresult is an independant action, so didn't want to tie it to that.<br>\nAlso, down the track when a new pharmacy/org wants to have access, all they do is create the Consent request, no need for any of the other actions there.</p>",
        "id": 187185062,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1580608036
    },
    {
        "content": "<p>We found (it was <span class=\"user-mention\" data-user-id=\"261688\">@Greg Pryde</span> of course) a bug on the fhir server where searching by multiple identifiers (Get me a patient with this IHI or this Medicare Number) where the name space is included was not working e.g.</p>\n<p>{{FHIR_Base_URL}}/Patient?identifier=http://ns.electronichealth.net.au/id/hi/ihi/1.0|1234567890123456,<a href=\"http://ns.electronichealth.net.au/id/medicare-number|2806546876\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/id/medicare-number|2806546876\">http://ns.electronichealth.net.au/id/medicare-number|2806546876</a></p>\n<p>However if you omit the system name space and just provide the system value the search will work. So please use</p>\n<p>{{FHIR_Base_URL}}/Patient?identifier=1234567890123456,2806546876</p>",
        "id": 187186995,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580612160
    },
    {
        "content": "<p>(This is a (recently) known bug in the server - and its nasty after looking into it)</p>",
        "id": 187187305,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1580612806
    },
    {
        "content": "<p>Ok a lot of patient app developers here today which is great but sets us up for some slightly different interactions with the MySL. A patient app registration is different because we are relying on the existing app registration and verification process to identify the patient. The security model will be interesting but the interactions with FHIR are simpler - first lets focus on the latter. Lets start with a patient registering for the MySL via their patient app. The sequence is described below. Let me know what you think.</p>\n<p><a href=\"/user_uploads/10155/3E9uJlnh-plPcH_dPijdQq_z/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/3E9uJlnh-plPcH_dPijdQq_z/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/3E9uJlnh-plPcH_dPijdQq_z/pasted_image.png\"></a></div>",
        "id": 187188720,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580615795
    },
    {
        "content": "<blockquote>\n<p>Ok a lot of patient app developers here today which is great but sets us up for some slightly different interactions with the MySL. A patient app registration is different because we are relying on the existing app registration and verification process to identify the patient. The security model will be interesting but the interactions with FHIR are simpler - first lets focus on the latter. Lets start with a patient registering for the MySL via their patient app. The sequence is described below. Let me know what you think.</p>\n<p><a href=\"/user_uploads/10155/3E9uJlnh-plPcH_dPijdQq_z/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n</blockquote>\n<p>This flow makes things easier for a Patient app. But it is missing the Consent step, which is a must from a patient’s point of view.</p>\n<p>The patient app perhaps should not make the POST /Patient call to create a new Patient. It can be reserved for Clinical systems (Prescribing / Dispense)</p>\n<p>If there is no Patient record (i.e. No ASL) for a person, they should either visit a GP/Pharmacist to create the Patient entity (e.g. create ASL) or do it self service via MyHealthRecord.</p>\n<p>Then, the patient App publisher will become an organization in MySL and the Patient App can create a “proposed” Consent to give access to that app for a specific time.</p>\n<p><a href=\"/user_uploads/10155/euIbdahkPDnPKD10TYsr2wYC/patient_app.png\" target=\"_blank\" title=\"patient_app.png\">patient_app.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/euIbdahkPDnPKD10TYsr2wYC/patient_app.png\" target=\"_blank\" title=\"patient_app.png\"><img src=\"/user_uploads/10155/euIbdahkPDnPKD10TYsr2wYC/patient_app.png\"></a></div>",
        "id": 187189535,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580617617
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>Ok a lot of patient app developers here today which is great but sets us up for some slightly different interactions with the MySL. A patient app registration is different because we are relying on the existing app registration and verification process to identify the patient. The security model will be interesting but the interactions with FHIR are simpler - first lets focus on the latter. Lets start with a patient registering for the MySL via their patient app. The sequence is described below. Let me know what you think.</p>\n<p><a href=\"/user_uploads/10155/3E9uJlnh-plPcH_dPijdQq_z/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n</blockquote>\n<p>This flow makes things easier for a Patient app. But it is missing the Consent step, which is a must from a patient’s point of view.</p>\n<p>The patient app perhaps should not make the POST /Patient call to create a new Patient. It can be reserved for Clinical systems (Prescribing / Dispense)</p>\n<p>If there is no Patient record (i.e. No ASL) for a person, they should either visit a GP/Pharmacist to create the Patient entity (e.g. create ASL) or do it self service via MyHealthRecord.</p>\n<p>Then, the patient App publisher will become an organization in MySL and the Patient App can create a “proposed” Consent to give access to that app for a specific time.</p>\n<p><a href=\"/user_uploads/10155/euIbdahkPDnPKD10TYsr2wYC/patient_app.png\" target=\"_blank\" title=\"patient_app.png\">patient_app.png</a></p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"261692\">@Sarwar Erfan</span> if the patient is verified, authenticated and requesting to view their own MySL (or create one) why do you believe a consent request is required?</p>",
        "id": 187189705,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580618025
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"261692\">Sarwar Erfan</span> if the patient is verified, authenticated and requesting to view their own MySL (or create one) why do you believe a consent request is required?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"261689\">@Paul Barry</span> : <br>\nNot from a technical point of view, but from the privacy point of view giving blanket access will make the users nervous.</p>\n<p>Just like every pharmacy need to get separate consent - the user is assured, if they have not replied to the SMS to give consent to a specific pharmacy or GP clinic, they cant access their script list.<br>\nIt should be the same for Patient Apps. When the user gives consent to Patient App X for 1 day, they should be assured Patient App Y is not also getting the ability to query (because the user does not trust the publisher of App Y?) and also Patient App X can no longer access the script list after 1 day due to some bug in the system which keeps syncing indefinitely :) </p>\n<p>When the user wants to view the script list in Patient App X, they get the SMS : \"Do you authorise Patient App X to access the MyScript List...\"</p>\n<p>Also, users need a way to revoke access to any Patient App, with separate Consent, those can be deleted to revoke access.</p>\n<p>Having individual Consent will increase user confidence in the Patient App concept.</p>",
        "id": 187191054,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580621030
    },
    {
        "content": "<blockquote>\n<p>Someone was looking for an example MedicationRequest with AMT codes. <br>\n{{FHIR_Base_URL}}/MedicationRequest/4e23d8f8bea44360bd9ba4a6917924c5</p>\n</blockquote>\n<p>In this sample, MP is used (31865003). MPUU instead of MP (or TPUU if the doctor has prescribed a specific brand) would be more helpful if including AMT information.</p>",
        "id": 187191334,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580621476
    },
    {
        "content": "<p>Ah, I see the difference, its the consent by the Patient to the Patient App. Have I got that right <span class=\"user-mention\" data-user-id=\"261692\">@Sarwar Erfan</span> ?</p>",
        "id": 187191380,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1580621522
    },
    {
        "content": "<blockquote>\n<p>Ah, I see the difference, its the consent by the Patient to the Patient App. Have I got that right <span class=\"user-mention silent\" data-user-id=\"261692\">Sarwar Erfan</span> ?</p>\n</blockquote>\n<p>Right, where the Patient App is simply an Organization entity, no change required in any existing concept.</p>",
        "id": 187191392,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580621578
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"261692\">@Sarwar Erfan</span> I got your point of view and it need discussion to come to some conclusion.</p>",
        "id": 187191991,
        "sender_full_name": "Manjeet Singh",
        "timestamp": 1580622731
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"261692\">Sarwar Erfan</span> I got your point of view and it need discussion to come to some conclusion.</p>\n</blockquote>\n<p>Yup, I believe there will be discussions on this topic among the stakeholders in the coming months and some standard workflows will be defined. <br>\nNot expecting any decision from this Connectahon, but it was very helpful to be able to get different perspectives.</p>",
        "id": 187198436,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580636450
    },
    {
        "content": "<p>Good morning everyone :) Had a very fruitful first day, thanks to everyone who helped.</p>\n<p>My main goals for today:</p>\n<ol>\n<li>\n<p>Get to know the MedicationRequest more <br>\n  a. Most fields have cardinality 0..1, so better we know which fields can we expect to be present there (e.g. it will be sweet to have dispenseRequest, dosageInstruction though they have 0..1 cardinality)<br>\n  b. Get the most information out of MedicationRequest without querying  eRx/MediSecure<br>\n  c. Optionally: What is the minimum set of information that the Script exchanges (eRX/MediSecure) need to send when creating the MedicationRequest for the original/repeat</p>\n</li>\n<li>\n<p>Onboarding : What will be the process for an organization which does not have eRx/MediSecure access to get access to the MySL - just some heads up (seems NASH cert will be required for JWT?)</p>\n</li>\n</ol>",
        "id": 187222324,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580681605
    },
    {
        "content": "<p>We've got a Medication Request on the ASL for patient id 008f5be275e645fcb5eb4e649c8a7d77 (Amanda Holding) - this is ready to be dispensed if any system is ready to pick this up...thx</p>",
        "id": 187222968,
        "sender_full_name": "Andy Robb",
        "timestamp": 1580682915
    },
    {
        "content": "<p>If the clinical software needs to upload a prescription, but does not need to see the ASL, do we still need to go through the patient consent and verification result steps?<br>\nIs there any diagram that represent this worflow?<br>\nDo we chave to check if a patient has an ASL, and if it does always post the prescription?<br>\nWould we be creating an ASL at some point or do we require the patient to have one before created by a patient app or a web portal?</p>",
        "id": 187223045,
        "sender_full_name": "Alberto Isidro",
        "timestamp": 1580683073
    },
    {
        "content": "<p>The Consent is only required for the clinical software to be able to see the patient's medications.<br>\nPrescriptions are loaded into the ASL through the script exchange, but only if the patient has an active record, so the prescribing software doesn't actually need to specifically do anything <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 187223148,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1580683204
    },
    {
        "content": "<blockquote>\n<p>Good morning everyone :) Had a very fruitful first day, thanks to everyone who helped.</p>\n<p>My main goals for today:</p>\n<ol>\n<li>\n<p>Get to know the MedicationRequest more <br>\n  a. Most fields have cardinality 0..1, so better we know which fields can we expect to be present there (e.g. it will be sweet to have dispenseRequest, dosageInstruction though they have 0..1 cardinality)<br>\n  b. Get the most information out of MedicationRequest without querying  eRx/MediSecure<br>\n  c. Optionally: What is the minimum set of information that the Script exchanges (eRX/MediSecure) need to send when creating the MedicationRequest for the original/repeat</p>\n</li>\n<li>\n<p>Onboarding : What will be the process for an organization which does not have eRx/MediSecure access to get access to the MySL - just some heads up (seems NASH cert will be required for JWT?)</p>\n</li>\n</ol>\n</blockquote>\n<p>Thanks Sarwar<br>\nGreat to hear you making good progress! One thing to remember with ePrescribing, is that the URI (token based approach) or a script with an Active Script List are just \"pointers\" to the legal prescription held within a Prescription Exchange (eRx or MediSecure) or Direct Prescription Delivery Service (DPDS) that is certified for ePrescribing - DPDS tend to exist in hospital scenarios. The main point I'm making here is that both the URI or a script presented in the MySL only gives you enough information to identify it (from another script), direct it to pharmacy queue, manage it through a pharmacy workflow queue etc. To dispense the script you must use the SCID or barcode to pull it down from a PES (or DPDS) - at that point you will receive the full information and only via a certified PES or DPDS may that prescription be dispensed. The electronic script can also only be dispensed using an ePrescribing conformant pharmacy system (connected to a PES or DPDS). So in response to your questions.</p>\n<p>1a - Have a look at the MedicationRequest profile on the IG for what is required but as the data is coming from 40 plus different vendors via eRx and MediSecure PES, it may not always be present and we have limited control over that. A dispenseRequest will never be present in the MySL because we only care about Active scripts that have not yet been dispensed. A repeat will result in a brand new MedicationRequest</p>\n<p>1b - As above you should always be using the MySL in conjunction with eRx or MediSecure to organise and get your scripts dispensed in the manner I've described above. The MySL is not a patient's meds history used for clinical decision - it is a patient's list of current 'active' scripts.</p>\n<p>1c - The PES do not validate the payload as it is encrypted at source, however the resulting MedicationRequest sent to the MySL, will be validated in accordance with the profile. The profile for the MR is our first cut, there may be some tweaking to come</p>\n<p>2c - The ASL conformance points for both dispensing and prescribing systems is that they use their existing PES security model to access the MySL - so for now we'll be using Medicare certs for eRx sites, MediSecure self-signed certs for MediSecure site. In the future we'll move to NASH as the Medicare certs are deprecated. As Medicare and NASH use the same CA, this could be a simple as certificate upgrade. The PES will drive this. For patient apps, we'll work with each vendor to leverage there existing security model using an OAuth approach combined with a client level trusted. The security model will be published soon. Each vendor consuming the MySL, will be subject to an onboarding and certification process conducted by Fred/MediSecure</p>",
        "id": 187224219,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580685245
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>Good morning everyone :) Had a very fruitful first day, thanks to everyone who helped.</p>\n<p>My main goals for today:</p>\n<ol>\n<li>\n<p>Get to know the MedicationRequest more <br>\n  a. Most fields have cardinality 0..1, so better we know which fields can we expect to be present there (e.g. it will be sweet to have dispenseRequest, dosageInstruction though they have 0..1 cardinality)<br>\n  b. Get the most information out of MedicationRequest without querying  eRx/MediSecure<br>\n  c. Optionally: What is the minimum set of information that the Script exchanges (eRX/MediSecure) need to send when creating the MedicationRequest for the original/repeat</p>\n</li>\n<li>\n<p>Onboarding : What will be the process for an organization which does not have eRx/MediSecure access to get access to the MySL - just some heads up (seems NASH cert will be required for JWT?)</p>\n</li>\n</ol>\n</blockquote>\n<p>Thanks Sarwar<br>\nGreat to hear you making good progress! One thing to remember with ePrescribing, is that the URI (token based approach) or a script with an Active Script List are just \"pointers\" to the legal prescription held within a Prescription Exchange (eRx or MediSecure) or Direct Prescription Delivery Service (DPDS) that is certified for ePrescribing - DPDS tend to exist in hospital scenarios. The main point I'm making here is that both the URI or a script presented in the MySL only gives you enough information to identify it (from another script), direct it to pharmacy queue, manage it through a pharmacy workflow queue etc. To dispense the script you must use the SCID or barcode to pull it down from a PES (or DPDS) - at that point you will receive the full information and only via a certified PES or DPDS may that prescription be dispensed. The electronic script can also only be dispensed using an ePrescribing conformant pharmacy system (connected to a PES or DPDS). So in response to your questions.</p>\n<p>1a - Have a look at the MedicationRequest profile on the IG for what is required but as the data is coming from 40 plus different vendors via eRx and MediSecure PES, it may not always be present and we have limited control over that. A dispenseRequest will never be present in the MySL because we only care about Active scripts that have not yet been dispensed. A repeat will result in a brand new MedicationRequest</p>\n<p>1b - As above you should always be using the MySL in conjunction with eRx or MediSecure to organise and get your scripts dispensed in the manner I've described above. The MySL is not a patient's meds history used for clinical decision - it is a patient's list of current 'active' scripts.</p>\n<p>1c - The PES do not validate the payload as it is encrypted at source, however the resulting MedicationRequest sent to the MySL, will be validated in accordance with the profile. The profile for the MR is our first cut, there may be some tweaking to come</p>\n<p>2c - The ASL conformance points for both dispensing and prescribing systems is that they use their existing PES security model to access the MySL - so for now we'll be using Medicare certs for eRx sites, MediSecure self-signed certs for MediSecure site. In the future we'll move to NASH as the Medicare certs are deprecated. As Medicare and NASH use the same CA, this could be a simple as certificate upgrade. The PES will drive this. For patient apps, we'll work with each vendor to leverage there existing security model using an OAuth approach combined with a client level trusted. The security model will be published soon. Each vendor consuming the MySL, will be subject to an onboarding and certification process conducted by Fred/MediSecure</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"261689\">@Paul Barry</span>  :  You answered everything to the point, thanks heaps <span aria-label=\"thank you\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"thank you\">:thank_you:</span></p>",
        "id": 187224467,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580685739
    },
    {
        "content": "<p>Important distinction:</p>\n<p>\"The Solution Architecture and Conformance Profile refer to a token-based ‘open’ delivery model for consumer choice of supply. The Agency and TWG are currently finalising an additional architectural model referred to as an Active Script List (ASL) where consumers can access a list of their active prescriptions at a pharmacy without the need to have a token.\"</p>\n<p><a href=\"https://www.digitalhealth.gov.au/implementation-resources/ehealth-foundations/electronic-prescribing\" target=\"_blank\" title=\"https://www.digitalhealth.gov.au/implementation-resources/ehealth-foundations/electronic-prescribing\">https://www.digitalhealth.gov.au/implementation-resources/ehealth-foundations/electronic-prescribing</a></p>\n<p>The \"MySL\" is Fred and MediSecure's implementation of the \"ASL\" architectural model</p>",
        "id": 187224649,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580686124
    },
    {
        "content": "<p>My understanding was that the [base]/MedicationRequest would only return the MedicationRequests with status = active. But it is also returning the completed ones (example:  [base]/MedicationRequest?patient=008f5be275e645fcb5eb4e649c8a7d77&amp;_format=json)</p>\n<p><a href=\"/user_uploads/10155/23f8yoferBPKMB0FyqrtWiIJ/MR_status_active.png\" target=\"_blank\" title=\"MR_status_active.png\">MR_status_active.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/23f8yoferBPKMB0FyqrtWiIJ/MR_status_active.png\" target=\"_blank\" title=\"MR_status_active.png\"><img src=\"/user_uploads/10155/23f8yoferBPKMB0FyqrtWiIJ/MR_status_active.png\"></a></div><p><a href=\"/user_uploads/10155/Pm6QqddOlbdeOBucWPP-f2SQ/MR_status_completed.png\" target=\"_blank\" title=\"MR_status_completed.png\">MR_status_completed.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Pm6QqddOlbdeOBucWPP-f2SQ/MR_status_completed.png\" target=\"_blank\" title=\"MR_status_completed.png\"><img src=\"/user_uploads/10155/Pm6QqddOlbdeOBucWPP-f2SQ/MR_status_completed.png\"></a></div>",
        "id": 187224661,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580686183
    },
    {
        "content": "<blockquote>\n<p>My understanding was that the [base]/MedicationRequest would only return the MedicationRequests with status = active. But it is also returning the completed ones (example:  [base]/MedicationRequest?patient=008f5be275e645fcb5eb4e649c8a7d77&amp;_format=json)</p>\n<p><a href=\"/user_uploads/10155/23f8yoferBPKMB0FyqrtWiIJ/MR_status_active.png\" target=\"_blank\" title=\"MR_status_active.png\">MR_status_active.png</a> </p>\n<p><a href=\"/user_uploads/10155/Pm6QqddOlbdeOBucWPP-f2SQ/MR_status_completed.png\" target=\"_blank\" title=\"MR_status_completed.png\">MR_status_completed.png</a></p>\n</blockquote>\n<p>Your understanding is correct. Once the MySL is fully connected to both eRx and MediSecure the dispensed script will be removed once dispensed (via a PES) This has not been developed yet for the connectathon.</p>",
        "id": 187224835,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580686484
    },
    {
        "content": "<p>An ASL can contain both classic paper based or electronic (ETP2) active prescriptions - they are just pointers to the active prescriptions held in a PES. However when it comes to dispensing them, the pharmacy system still need to integrate with the PES to pull down the script - if the script is the classic paper based script, they will still request the paper prescription from the patient, carer in order to complete the dispense<br>\nThe MySL is a convenient way to merge the old with the new and keep all active scripts in one place so they can be managed via the pharmacy queue. We expect the uptake of electronic queues to be very popular now with the introduction of ePrescribing.</p>",
        "id": 187224893,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580686624
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>My understanding was that the [base]/MedicationRequest would only return the MedicationRequests with status = active. But it is also returning the completed ones (example:  [base]/MedicationRequest?patient=008f5be275e645fcb5eb4e649c8a7d77&amp;_format=json)</p>\n<p><a href=\"/user_uploads/10155/23f8yoferBPKMB0FyqrtWiIJ/MR_status_active.png\" target=\"_blank\" title=\"MR_status_active.png\">MR_status_active.png</a> </p>\n<p><a href=\"/user_uploads/10155/Pm6QqddOlbdeOBucWPP-f2SQ/MR_status_completed.png\" target=\"_blank\" title=\"MR_status_completed.png\">MR_status_completed.png</a></p>\n</blockquote>\n<p>Your understanding is correct. Once the MySL is fully connected to both eRx and MediSecure the dispensed script will be removed once dispensed (via a PES) This has not been developed yet for the connectathon.</p>\n</blockquote>\n<p>Great.. I think I am getting the hang of it... Th ASL is a snapshot, it does not apply business rules. It is the responsibility of the prescribing/dispensing/other systems to maintain it. The system that dispenses one of the active scripts may remove it and add a new one (if there are any more repeats left).</p>\n<p>Then it will be similar for expired ones, as the expiry date may vary from state to state due to the S4D/S11/S8 list is not being federal.<br>\nWho will remove expired scripts with repeats left can be an interesting question if the patient never presents that token to a pharmacy after the expiry <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 187225071,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580687036
    },
    {
        "content": "<blockquote>\n<blockquote>\n<blockquote>\n<p>My understanding was that the [base]/MedicationRequest would only return the MedicationRequests with status = active. But it is also returning the completed ones (example:  [base]/MedicationRequest?patient=008f5be275e645fcb5eb4e649c8a7d77&amp;_format=json)</p>\n<p><a href=\"/user_uploads/10155/23f8yoferBPKMB0FyqrtWiIJ/MR_status_active.png\" target=\"_blank\" title=\"MR_status_active.png\">MR_status_active.png</a> </p>\n<p><a href=\"/user_uploads/10155/Pm6QqddOlbdeOBucWPP-f2SQ/MR_status_completed.png\" target=\"_blank\" title=\"MR_status_completed.png\">MR_status_completed.png</a></p>\n</blockquote>\n<p>Your understanding is correct. Once the MySL is fully connected to both eRx and MediSecure the dispensed script will be removed once dispensed (via a PES) This has not been developed yet for the connectathon.</p>\n</blockquote>\n<p>Great.. I think I am getting the hang of it... Th ASL is a snapshot, it does not apply business rules. It is the responsibility of the prescribing/dispensing/other systems to maintain it. The system that dispenses one of the active scripts may remove it and add a new one (if there are any more repeats left).</p>\n<p>Then it will be similar for expired ones, as the expiry date may vary from state to state due to the S4D/S11/S8 list is not being federal.<br>\nWho will remove expired scripts with repeats left can be an interesting question if the patient never presents that token to a pharmacy after the expiry <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>\n</blockquote>\n<p>These are great questions <span class=\"user-mention\" data-user-id=\"261692\">@Sarwar Erfan</span> - I can see you are really thinking this all through from many different aspects. <br>\nWith regards to MedicationRequests, a system connected to the MySL will never add, remove, update or delete them. They are effectively a read-only representation of an active script put there by eRx or MediSecure so any updates are pushed to the MySL from one of the PES. Those creates, updates or deletes are managed by the clinical or dispensing system via the two PES (eRx/MediSecure) and the changes are reflected downstream in the MySL. The expiration validation rules are managed by the PES - once the PES believes a script is expired you cant dispense it so even though its still in the MySL its effectively useless. (The MySL will likely have a \"clean-up\" utility that removes expired scripts that were never dispensed via the PES and therefore never removed from the MySL)</p>",
        "id": 187225779,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580688321
    },
    {
        "content": "<p>Ok we have set up connection to eRx that will push MedicationRequests to a patient's MySL. Does anyone have a test patient they are using that I could send some script to there MySL. You can then test they are getting attached correctly and returned in your list? Please provide the IHI of your test patient</p>",
        "id": 187226051,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580688867
    },
    {
        "content": "<p>8003608188890512 <span aria-label=\"working on it\" class=\"emoji emoji-1f6e0\" role=\"img\" title=\"working on it\">:working_on_it:</span></p>",
        "id": 187226110,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580689018
    },
    {
        "content": "<p>8003608188890512</p>",
        "id": 187226164,
        "sender_full_name": "Craig Schnuriger",
        "timestamp": 1580689128
    },
    {
        "content": "<p>i have moved to a new, better, IHI 8001608199990516</p>",
        "id": 187226420,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580689683
    },
    {
        "content": "<p>lower is better right?</p>",
        "id": 187226425,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580689688
    },
    {
        "content": "<p>I'm pondering how an IHI can be better than another one...</p>",
        "id": 187226603,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1580690064
    },
    {
        "content": "<p>Thanks again <span class=\"user-mention\" data-user-id=\"261689\">@Paul Barry</span> . Regarding the expired ones, a clean-up utility will be required. But it will be interesting due to different legislations, e.g. S4D's are 12 months in VIC but 6 months in TAS (and NSW as well). <br>\nThe reason I brought up expiry is, though those cannot (and will not) be dispensed, showing it on the same list may (in fact from my experience, it will happen) lead to arguments between the patient and the pharmacist. From the patient's view, \"I see it in the list,  if you are not going to dispense it, why it is on my app?\"<br>\nThis also happens now when the patient leaves the paper script at the pharmacy (on file) and visits the pharmacy after it expired - \"I left the script with you, why won't you dispense? Why didn't you call me to inform it is expiring?\"<br>\nWith the patient apps, we try to minimize these situations with repeat and expiry reminders via push/sms</p>",
        "id": 187226765,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580690443
    },
    {
        "content": "<blockquote>\n<p>i have moved to a new, better, IHI 8001608199990516</p>\n</blockquote>\n<p>A better IHI is one that exists ;-) - did you register this one <span class=\"user-mention\" data-user-id=\"261701\">@Ryan Davis</span> I cant find them<br>\n<a href=\"https://mysl-hl7-sydney.azurewebsites.net/fhir/Patient?identifier=http://ns.electronichealth.net.au/id/hi/ihi/1.0|8001608199990516&amp;_revinclude=Consent:patient\" target=\"_blank\" title=\"https://mysl-hl7-sydney.azurewebsites.net/fhir/Patient?identifier=http://ns.electronichealth.net.au/id/hi/ihi/1.0|8001608199990516&amp;_revinclude=Consent:patient\">https://mysl-hl7-sydney.azurewebsites.net/fhir/Patient?identifier=http://ns.electronichealth.net.au/id/hi/ihi/1.0|8001608199990516&amp;_revinclude=Consent:patient</a></p>",
        "id": 187226824,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580690543
    },
    {
        "content": "<blockquote>\n<p>Ok we have set up connection to eRx that will push MedicationRequests to a patient's MySL. Does anyone have a test patient they are using that I could send some script to there MySL. You can then test they are getting attached correctly and returned in your list? Please provide the IHI of your test patient</p>\n</blockquote>\n<p>If possible, this patient:<br>\nIHI: ihibugsbunny<br>\nPatient ID: eab72fc63c1947c5b8c43d7e6fc8b927</p>\n<p>For testing, did not use a numeric IHI, please bear with it :)</p>",
        "id": 187226889,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580690688
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"261689\">@Paul Barry</span> you're probably hitting the bug from earlier where you can't include the namespace in an identifier search, but I'm also ready to believe I did something wrong</p>",
        "id": 187227171,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580691334
    },
    {
        "content": "<p>the patient id is fe2927d4a7834723b1b37db6f23ab4b8</p>",
        "id": 187227210,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580691366
    },
    {
        "content": "<blockquote>\n<p>8003608188890512</p>\n</blockquote>\n<p>Ok <span class=\"user-mention\" data-user-id=\"261683\">@Craig Schnuriger</span> you should see a couple of MedicationRequests going via eRx appearing in your MySL?</p>",
        "id": 187227293,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580691588
    },
    {
        "content": "<p>thanks checking it out now</p>",
        "id": 187227337,
        "sender_full_name": "Craig Schnuriger",
        "timestamp": 1580691610
    },
    {
        "content": "<p>looking good, I'm getting the data, rendering it out now</p>",
        "id": 187227525,
        "sender_full_name": "Craig Schnuriger",
        "timestamp": 1580691975
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/gtcpxM40ppKO77orlSqqqPxD/Screen-Shot-2020-02-03-at-12.10.32-pm.png\" target=\"_blank\" title=\"Screen-Shot-2020-02-03-at-12.10.32-pm.png\">Screen-Shot-2020-02-03-at-12.10.32-pm.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/gtcpxM40ppKO77orlSqqqPxD/Screen-Shot-2020-02-03-at-12.10.32-pm.png\" target=\"_blank\" title=\"Screen-Shot-2020-02-03-at-12.10.32-pm.png\"><img src=\"/user_uploads/10155/gtcpxM40ppKO77orlSqqqPxD/Screen-Shot-2020-02-03-at-12.10.32-pm.png\"></a></div>",
        "id": 187227744,
        "sender_full_name": "Jesus Nunez",
        "timestamp": 1580692339
    },
    {
        "content": "<p>Web page sample for creating a MedicationRequest</p>",
        "id": 187227748,
        "sender_full_name": "Jesus Nunez",
        "timestamp": 1580692369
    },
    {
        "content": "<p>My little iOS app with my test patient:</p>\n<ul>\n<li>View basic demographics</li>\n<li>View Consents (all states)</li>\n<li>View Scripts</li>\n<li>Render the QR to present to the Pharmacist<br>\n<a href=\"/user_uploads/10155/ulgO3tt_mhhB662rLbkiRZ7n/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.44.png\" target=\"_blank\" title=\"Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.44.png\">Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.44.png</a> <a href=\"/user_uploads/10155/QKSunsJB6QkgHLearLLLt467/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.46.png\" target=\"_blank\" title=\"Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.46.png\">Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.46.png</a> <a href=\"/user_uploads/10155/tyhsCF-2odcqAny8zZc3mbRD/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.48.png\" target=\"_blank\" title=\"Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.48.png\">Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.48.png</a><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ulgO3tt_mhhB662rLbkiRZ7n/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.44.png\" target=\"_blank\" title=\"Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.44.png\"><img src=\"/user_uploads/10155/ulgO3tt_mhhB662rLbkiRZ7n/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.44.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/QKSunsJB6QkgHLearLLLt467/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.46.png\" target=\"_blank\" title=\"Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.46.png\"><img src=\"/user_uploads/10155/QKSunsJB6QkgHLearLLLt467/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.46.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/tyhsCF-2odcqAny8zZc3mbRD/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.48.png\" target=\"_blank\" title=\"Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.48.png\"><img src=\"/user_uploads/10155/tyhsCF-2odcqAny8zZc3mbRD/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.14.48.png\"></a></div></li>\n</ul>\n<p><a href=\"user_uploads/10155/ZUEY0j-l2P_vrv7LOROV40NO/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.17.46.png\" target=\"_blank\" title=\"user_uploads/10155/ZUEY0j-l2P_vrv7LOROV40NO/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.17.46.png\">Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.17.46.png</a></p>\n<div class=\"message_inline_image\"><a href=\"user_uploads/10155/ZUEY0j-l2P_vrv7LOROV40NO/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.17.46.png\" target=\"_blank\" title=\"Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.17.46.png\"><img src=\"user_uploads/10155/ZUEY0j-l2P_vrv7LOROV40NO/Simulator-Screen-Shot-iPhone-8-Plus-2020-02-03-at-12.17.46.png\"></a></div>",
        "id": 187227877,
        "sender_full_name": "Sarwar Erfan",
        "timestamp": 1580692627
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"261689\">Paul Barry</span> you're probably hitting the bug from earlier where you can't include the namespace in an identifier search, but I'm also ready to believe I did something wrong</p>\n</blockquote>\n<p>you put an extra forward slash on the IHI namespace. let me know when you have updated the patient and I'll send some script through</p>",
        "id": 187227879,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580692635
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"261689\">@Paul Barry</span> have removed the slash and moved to 8001508199990516 which I think may be the best IHI i've come up with yet</p>",
        "id": 187228047,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580692925
    },
    {
        "content": "<p>Scripts coming across from eRx</p>\n<p><a href=\"/user_uploads/10155/aJP6Chdm4KKb-4w9SzuvTbYD/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/aJP6Chdm4KKb-4w9SzuvTbYD/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/aJP6Chdm4KKb-4w9SzuvTbYD/pasted_image.png\"></a></div>",
        "id": 187228124,
        "sender_full_name": "Craig Schnuriger",
        "timestamp": 1580693045
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"261689\">Paul Barry</span> have removed the slash and moved to 8001508199990516 which I think may be the best IHI i've come up with yet</p>\n</blockquote>\n<p>Fire in the hole! Scripts coming your way!</p>",
        "id": 187230223,
        "sender_full_name": "Paul Barry",
        "timestamp": 1580697138
    },
    {
        "content": "<p>Thanks <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 187230504,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580697770
    },
    {
        "content": "<p>we will be requiring our patients to download LINQPad to access their ASL <span aria-label=\"working on it\" class=\"emoji emoji-1f6e0\" role=\"img\" title=\"working on it\">:working_on_it:</span> <br>\n<a href=\"/user_uploads/10155/eUmGJldOx9RHeDWwjAqeAWmy/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/eUmGJldOx9RHeDWwjAqeAWmy/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/eUmGJldOx9RHeDWwjAqeAWmy/pasted_image.png\"></a></div>",
        "id": 187230516,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580697841
    },
    {
        "content": "<p>for people who don't know barcodes what's the barcode system i really want</p>",
        "id": 187230573,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580697959
    },
    {
        "content": "<p>That's a nice screenshot for the report out - <span class=\"user-mention\" data-user-id=\"212913\">@Danielle Bancroft</span>  <span aria-label=\"rofl\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rofl\">:rofl:</span></p>",
        "id": 187231289,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1580699487
    },
    {
        "content": "<p>i've been informed the technical term is \"QR Code\" so we are now basically ship ready<br>\n<a href=\"/user_uploads/10155/_odIEdlGIPi96i74UcTrYol1/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/_odIEdlGIPi96i74UcTrYol1/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/_odIEdlGIPi96i74UcTrYol1/pasted_image.png\"></a></div>",
        "id": 187231390,
        "sender_full_name": "Ryan Davis",
        "timestamp": 1580699657
    },
    {
        "content": "<p>I have a question about the consent resource.<br>\nI refer to Paul Barry's Sequence Diagrams – Site with Consent. </p>\n<p><a href=\"/user_uploads/10155/Sz17Ulew-HbqVH1isgNUQR4-/image.png\" title=\"image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Sz17Ulew-HbqVH1isgNUQR4-/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/Sz17Ulew-HbqVH1isgNUQR4-/image.png\"></a></div><p>Using the call - Patient?identifier=http://ns.electronichealth.net.au/id/hi/ihi/1.0|8003608166690511&amp;_revinclude=Consent:patient<br>\nThe note on the diagram says: “We make one call and use a _revinclude flag to check consent at the same time. In this instance the patient has a MySL and the site already has consent”.</p>\n<p>The implication is that if a Consent resource is returned, then we have access.<br>\nHowever, looking in the 2 Consent resources returned in the bundle, there are Organisation references in the Provision/Actor properties. These are just a references to the organisations.<br>\nHow do I know if this organisation is mine?<br>\nDo I not need to get the details of the organisation/s in the Consent resource/s to check if that consent is for my organisation?<br>\nDo I need to do a separate call to the FHIR database to get each of the organisations to check if it is mine? Or is there a way I can the all of the organisations to be returned in the bundle with some sort of an _include command?<br>\nOr is there some other way to check consent for my organisation?<br>\nThanks.</p>",
        "id": 194630967,
        "sender_full_name": "Brian Carter",
        "timestamp": 1587354746
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"249738\">Brian Carter</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/194630967\" title=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/194630967\">said</a>:</p>\n<blockquote>\n<p>I have a question about the consent resource.<br>\nI refer to Paul Barry's Sequence Diagrams – Site with Consent. </p>\n<p><a href=\"/user_uploads/10155/Sz17Ulew-HbqVH1isgNUQR4-/image.png\" title=\"image.png\">image.png</a></p>\n<p>Using the call - Patient?identifier=http://ns.electronichealth.net.au/id/hi/ihi/1.0|8003608166690511&amp;_revinclude=Consent:patient<br>\nThe note on the diagram says: “We make one call and use a _revinclude flag to check consent at the same time. In this instance the patient has a MySL and the site already has consent”.</p>\n<p>The implication is that if a Consent resource is returned, then we have access.<br>\nHowever, looking in the 2 Consent resources returned in the bundle, there are Organisation references in the Provision/Actor properties. These are just a references to the organisations.<br>\nHow do I know if this organisation is mine?<br>\nDo I not need to get the details of the organisation/s in the Consent resource/s to check if that consent is for my organisation?<br>\nDo I need to do a separate call to the FHIR database to get each of the organisations to check if it is mine? Or is there a way I can the all of the organisations to be returned in the bundle with some sort of an _include command?<br>\nOr is there some other way to check consent for my organisation?<br>\nThanks.</p>\n</blockquote>\n<p>Welcome <span class=\"user-mention\" data-user-id=\"249738\">@Brian Carter</span> !<br>\nCurrently because the security model hasn't been implemented, you are seeing all consent objects for any organisation that has consent to this patient's MySL. Once the security model has been implemented, it will only return consent resources that belong to the site making the call. i.e. the FHIR server will filter out any other consent resources and you will just see yours - if you have consent. The PKI cert attached in the call the sites makes, will be used to identify the site and therefore only return consent resource that match that site Id</p>",
        "id": 194631092,
        "sender_full_name": "Paul Barry",
        "timestamp": 1587355074
    },
    {
        "content": "<p>The  fact that a REST query would return only (subset) of the results because it auto-enforces Consent is not unusual.   This kind of transparent enforcement is what would be normally expected.   I don't think you should require your clients include the _revinclude, in fact including this or not including this should result in the same result.</p>",
        "id": 194687720,
        "sender_full_name": "John Moehrke",
        "timestamp": 1587395115
    },
    {
        "content": "<p>A question about registering a patient.<br>\nI refer to Paul Barry's sequence diagram - MySL-Assisted-Reg</p>\n<p><a href=\"/user_uploads/10155/FlQoMfyXJl-w_6y25pBxFvrv/image.png\" title=\"image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/FlQoMfyXJl-w_6y25pBxFvrv/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/FlQoMfyXJl-w_6y25pBxFvrv/image.png\"></a></div><p>Check required MySL data.<br>\nCan someone please point me to where I can find the mandatory data requirements.</p>\n<p>Thanks,<br>\nBrian.</p>",
        "id": 195009942,
        "sender_full_name": "Brian Carter",
        "timestamp": 1587604393
    },
    {
        "content": "<p>A question about checking for the existence of a MySL</p>\n<p>I refer to the document \"DH-3139:2020 - Electronic Prescribing  - Conformance Test Specification - Prescribing Systems\" issued by the ADHA.<br>\nThe mandatory conformance requirement PRES-54 states:<br>\n\"The system SHALL establish whether the SoC has registered for participation in an Active Script List by polling the ASL Registry Services using the SoC’s IHI number, given name and family name.\"</p>\n<p>The sequence diagram – Site with Consent - indicates that the server call \"Patient?identifier=http://ns.electronichealth.net.au/id/hi/ihi/1.0|8003608166690511&amp;_revinclude=Consent:patient\" is required.</p>\n<p>My question is how does this fulfill the conformance requirement PRES-54? Does this not also require the patient's name to be included in the request?</p>\n<p>Thanks.</p>",
        "id": 195016142,
        "sender_full_name": "Brian Carter",
        "timestamp": 1587613902
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"249738\">Brian Carter</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195016142\" title=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195016142\">said</a>:</p>\n<blockquote>\n<p>A question about checking for the existence of a MySL</p>\n<p>I refer to the document \"DH-3139:2020 - Electronic Prescribing  - Conformance Test Specification - Prescribing Systems\" issued by the ADHA.<br>\nThe mandatory conformance requirement PRES-54 states:<br>\n\"The system SHALL establish whether the SoC has registered for participation in an Active Script List by polling the ASL Registry Services using the SoC’s IHI number, given name and family name.\"</p>\n<p>The sequence diagram – Site with Consent - indicates that the server call \"Patient?identifier=http://ns.electronichealth.net.au/id/hi/ihi/1.0|8003608166690511&amp;_revinclude=Consent:patient\" is required.</p>\n<p>My question is how does this fulfill the conformance requirement PRES-54? Does this not also require the patient's name to be included in the request?</p>\n<p>Thanks.</p>\n</blockquote>\n<p>Yes this is currently under consideration with ADHA as need to ensure we have the right patient but also don't want to incorrectly return no record due to preferred names, nicknames etc being used by the clinical system. For now I would update your query to include first name and last name but use the \"name\" property as it has an element of soft matching in there. I will talk to AHDA about firming up the requirement and its implications</p>\n<p>Patient?identifier=http://ns.electronichealth.net.au/id/hi/ihi/1.0|8003608166690511&amp;name=Paul&amp;name=Barry&amp;_revinclude=Consent:patient</p>",
        "id": 195132269,
        "sender_full_name": "Paul Barry",
        "timestamp": 1587685113
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"249738\">Brian Carter</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195009942\" title=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195009942\">said</a>:</p>\n<blockquote>\n<p>A question about registering a patient.<br>\nI refer to Paul Barry's sequence diagram - MySL-Assisted-Reg</p>\n<p><a href=\"/user_uploads/10155/FlQoMfyXJl-w_6y25pBxFvrv/image.png\" title=\"image.png\">image.png</a> </p>\n<p>Check required MySL data.<br>\nCan someone please point me to where I can find the mandatory data requirements.</p>\n<p>Thanks,<br>\nBrian.</p>\n</blockquote>\n<p>You can find the patient profile here</p>\n<p><a href=\"https://mysl-hl7-sydney.azurewebsites.net/ig/StructureDefinition-mysl-patient.html\" title=\"https://mysl-hl7-sydney.azurewebsites.net/ig/StructureDefinition-mysl-patient.html\">https://mysl-hl7-sydney.azurewebsites.net/ig/StructureDefinition-mysl-patient.html</a></p>",
        "id": 195132474,
        "sender_full_name": "Paul Barry",
        "timestamp": 1587685271
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"261689\">@Paul Barry</span> <br>\nYou can find the patient profile here<br>\n<a href=\"https://mysl-hl7-sydney.azurewebsites.net/ig/StructureDefinition-mysl-patient.html\" title=\"https://mysl-hl7-sydney.azurewebsites.net/ig/StructureDefinition-mysl-patient.html\">https://mysl-hl7-sydney.azurewebsites.net/ig/StructureDefinition-mysl-patient.html</a></p>\n<p>Thanks Paul. Yes,  I had seen that document. The only property that is mandatory is the mobile phone number, so then I assume that any other missing data is acceptable.</p>",
        "id": 195134593,
        "sender_full_name": "Brian Carter",
        "timestamp": 1587687082
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"249738\">Brian Carter</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195134593\" title=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195134593\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"261689\">Paul Barry</span> <br>\nYou can find the patient profile here<br>\n<a href=\"https://mysl-hl7-sydney.azurewebsites.net/ig/StructureDefinition-mysl-patient.html\" title=\"https://mysl-hl7-sydney.azurewebsites.net/ig/StructureDefinition-mysl-patient.html\">https://mysl-hl7-sydney.azurewebsites.net/ig/StructureDefinition-mysl-patient.html</a></p>\n<p>Thanks Paul. Yes,  I had seen that document. The only property that is mandatory is the mobile phone number, so then I assume that any other missing data is acceptable.</p>\n</blockquote>\n<p>At this stage the profile is pretty loose as this is just a test server we put together for the connectathon to get feedback from vendors like yourself. I suspect it will tighten as we work with ADHA on conformance. Unfortunately its a moving target and you wont to be able to finalise your solution for a few weeks yet so this test server is really about help you get familiar with the workflows so you can get your system in sync with that and identify any showstoppers. I'll do my best to keep you informed of breaking changes and profile definition changes etc as they occur</p>",
        "id": 195135024,
        "sender_full_name": "Paul Barry",
        "timestamp": 1587687540
    },
    {
        "content": "<p>I have a question about requesting consent to access the MySL.<br>\nThe consent object has a reference to the organisation. This is shown as a mandatory property on the profile.<br>\nIs this something that will change when the security model is implemented? Will this get picked up from the certificate like what is intended when checking if the patient has a MySL and if we have consent?<br>\nOr do I need to create an organisation record in order to know the identifier to add into the reference property?<br>\nThanks,<br>\nBrian.</p>",
        "id": 195150063,
        "sender_full_name": "Brian Carter",
        "timestamp": 1587708939
    },
    {
        "content": "<p>I have a question about the VerificationResult.<br>\nIs there anywhere that defines the requirement for this?<br>\nDoes the person doing the registration (doctor) need to do some action (eg tick some boxes to indicate some verification that they have done)?<br>\nI have seen the sample request at <a href=\"https://mysl-hl7-sydney.azurewebsites.net/ig/guidance-assisted-reg.html\" title=\"https://mysl-hl7-sydney.azurewebsites.net/ig/guidance-assisted-reg.html\">https://mysl-hl7-sydney.azurewebsites.net/ig/guidance-assisted-reg.html</a>, but this does not give any real guidance.<br>\nThanks,<br>\nBrian.</p>",
        "id": 195150070,
        "sender_full_name": "Brian Carter",
        "timestamp": 1587708957
    },
    {
        "content": "<p>I am not quite understanding what you expect to get out of adding the \"&amp;_revinclude=Consent:patient\". This will return ALL consents that have a subject of  ALL the patients returned in your query. This would include Consents from other organizations. This will include consents for research projects. This will include consents that are Deny directives. I presume you recognize this and are doing client side processing of these consents?</p>",
        "id": 195194744,
        "sender_full_name": "John Moehrke",
        "timestamp": 1587738213
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"249738\">Brian Carter</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195150063\" title=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195150063\">said</a>:</p>\n<blockquote>\n<p>I have a question about requesting consent to access the MySL.<br>\nThe consent object has a reference to the organisation. This is shown as a mandatory property on the profile.<br>\nIs this something that will change when the security model is implemented? Will this get picked up from the certificate like what is intended when checking if the patient has a MySL and if we have consent?<br>\nOr do I need to create an organisation record in order to know the identifier to add into the reference property?<br>\nThanks,<br>\nBrian.</p>\n</blockquote>\n<p>Hi Brian that's correct this will be picked up by the certificate when the security model is implemented. <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> I remember we discussed this, but can you confirm this is correct</p>",
        "id": 195358907,
        "sender_full_name": "Paul Barry",
        "timestamp": 1587944425
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"249738\">Brian Carter</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195150070\" title=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195150070\">said</a>:</p>\n<blockquote>\n<p>I have a question about the VerificationResult.<br>\nIs there anywhere that defines the requirement for this?<br>\nDoes the person doing the registration (doctor) need to do some action (eg tick some boxes to indicate some verification that they have done)?<br>\nI have seen the sample request at <a href=\"https://mysl-hl7-sydney.azurewebsites.net/ig/guidance-assisted-reg.html\" title=\"https://mysl-hl7-sydney.azurewebsites.net/ig/guidance-assisted-reg.html\">https://mysl-hl7-sydney.azurewebsites.net/ig/guidance-assisted-reg.html</a>, but this does not give any real guidance.<br>\nThanks,<br>\nBrian.</p>\n</blockquote>\n<p>Rather than ASL conformance this is really just something that Fred/MediSecure would like. We want to understand or have proof of how the patient was verified/identified. We'll raise this one with ADHA and see if we can firm up the requirement</p>",
        "id": 195358958,
        "sender_full_name": "Paul Barry",
        "timestamp": 1587944538
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195194744\" title=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/195194744\">said</a>:</p>\n<blockquote>\n<p>I am not quite understanding what you expect to get out of adding the \"&amp;_revinclude=Consent:patient\". This will return ALL consents that have a subject of  ALL the patients returned in your query. This would include Consents from other organizations. This will include consents for research projects. This will include consents that are Deny directives. I presume you recognize this and are doing client side processing of these consents?</p>\n</blockquote>\n<p>Hi John<br>\nOnce the security model is implemented, only consent resources for the organisation will be returned i.e. one consent resource or none. The organisation will be implicitly identified by their PKI cert. The MySL will only have one type of consent</p>",
        "id": 195359027,
        "sender_full_name": "Paul Barry",
        "timestamp": 1587944679
    },
    {
        "content": "<p>And also, the revinclude just reduces making a second call to check that they have access to the patient. And yes, the filtering will work as noted.</p>",
        "id": 197767693,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1589590315
    },
    {
        "content": "<p>We're also considering if we should use the patient match operation rather than patient search so that we can apply more appropriate matching on the server side, rather that the explicit ones.</p>",
        "id": 197767757,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1589590379
    },
    {
        "content": "<p>Practitioners have access to the patients registered with the ASL, but only to meds for one's they are permitted too. That's what the consent tells them.</p>",
        "id": 197767780,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1589590422
    },
    {
        "content": "<p>This closed system will only have grant permission consents for orgs to matient meds. Nothing else.</p>",
        "id": 197767843,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1589590465
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"249738\">@Brian Carter</span> and <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> hope the answers above make sense.</p>",
        "id": 197767857,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1589590505
    },
    {
        "content": "<p>How does this system react when the patient changes their mind? That is they have been consented \"in\", and they decide to go \"out\", and then they decide to go \"in\", etc...   Is this going to be tracked so that one can know when in vs out happened?</p>",
        "id": 197932226,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589807683
    },
    {
        "content": "<p>I am also not clear on why the requester would want the consent resource?  I understand a access control system that would provide data when the patient has opted in, and provide no data when opted out... but why does the requester want the consent resource when opted in? and why do they not want the consent resource when opted out?</p>",
        "id": 197932406,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589807770
    },
    {
        "content": "<p>If they opt out, the data will be gone. - Opt in would look like a new patient</p>",
        "id": 198021663,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1589863170
    },
    {
        "content": "<p>The requester wants the consent record to know if the search is not providing records because they don't have access to them, vs not having prescriptions. (and what date range they have access to if it was restricted)</p>",
        "id": 198021730,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1589863232
    },
    {
        "content": "<p>Hi everyone,<br>\nI'm new to MySL and have a few questions.</p>\n<ol>\n<li>Are there any sample C# applications that connect to the server and do self registration/medication request/etc?</li>\n<li>Is there an active test server available?</li>\n</ol>",
        "id": 210696612,
        "sender_full_name": "Chris Bednarski",
        "timestamp": 1600655243
    },
    {
        "content": "<p>I'll check up for you on where the current status is.</p>",
        "id": 210698063,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1600657928
    },
    {
        "content": "<p>Hi Chris. Please contact <a href=\"mailto:james.nevile@fred.com.au\">james.nevile@fred.com.au</a> who is the business partner relationship manager at Fred. Once a formal engagement has been agreed, he will invite you to the online documentation and provide access to our test environments</p>",
        "id": 210698201,
        "sender_full_name": "Paul Barry",
        "timestamp": 1600658276
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"261689\">Paul Barry</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/210698201\">said</a>:</p>\n<blockquote>\n<p>Hi Chris. Please contact <a href=\"mailto:james.nevile@fred.com.au\">james.nevile@fred.com.au</a> who is the business partner relationship manager at Fred. Once a formal engagement has been agreed, he will invite you to the online documentation and provide access to our test environments</p>\n</blockquote>\n<p>Thanks Paul.</p>\n<p>I should have mentioned that I work for Minfos and have already reviewed MySL documentation on <a href=\"https://mysl-hl7-sydney.azurewebsites.net/ig/\">https://mysl-hl7-sydney.azurewebsites.net/ig/</a> . I also have access to <a href=\"https://github.com/Medication-Knowledge/MyScriptList\">https://github.com/Medication-Knowledge/MyScriptList</a></p>\n<p>I was following up on here to see if there are any additional resources that could speed up and simplify the integration process with Minfos</p>",
        "id": 210699499,
        "sender_full_name": "Chris Bednarski",
        "timestamp": 1600660527
    },
    {
        "content": "<p>Hi, this is Sandy @Minfos - Dispensing system.<br>\nCan anyone assist with the following questions?</p>\n<ol>\n<li>Re complete MedicationRequest profile<br>\n a. Which attribute indicates the script is ETP1 or ETP2 script?<br>\n b. Which attribute tells us the number of supply fulfilled? <br>\n c. Which attribute indicate the Script Identifier or Barcode/SCID?</li>\n</ol>",
        "id": 214661238,
        "sender_full_name": "Sandy Xin",
        "timestamp": 1603774113
    },
    {
        "content": "<p>Another 2 questions are regarding VerificationResult.</p>\n<ol>\n<li>\n<p>we get that we should submit it when registering an ASL account, can you please advise other operations that we need to fire the VerificationResult request after? <br>\n<a href=\"/user_uploads/10155/3bhDU2FmcAxpqvQjXYuRqwgn/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/3bhDU2FmcAxpqvQjXYuRqwgn/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/3bhDU2FmcAxpqvQjXYuRqwgn/image.png\"></a></div></li>\n<li>\n<p>Which verificaton of patient's data is mandatory for VerificationResult? Are patient's address and mobile number optional?</p>\n</li>\n</ol>",
        "id": 214662326,
        "sender_full_name": "Sandy Xin",
        "timestamp": 1603775975
    },
    {
        "content": "<p>1a) What is ETP1 vs. ETP2?<br>\nb) MedicationDispense.quantity<br>\nc) MedicationDispense.basedOn (which would either be the URL of the prescription or in some cases might just be the identifier</p>\n<ol>\n<li>Can you provide context for what IG you're referencing</li>\n<li>That would depend on the IG/business rules</li>\n</ol>",
        "id": 214698377,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603805212
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/214698377\">said</a>:</p>\n<blockquote>\n<p>1a) What is ETP1 vs. ETP2?<br>\nb) MedicationDispense.quantity<br>\nc) MedicationDispense.basedOn (which would either be the URL of the prescription or in some cases might just be the identifier</p>\n<ol>\n<li>Can you provide context for what IG you're referencing</li>\n<li>That would depend on the IG/business rules</li>\n</ol>\n</blockquote>\n<p>Thank you, Lloyd. I am referring to ePrescribing API IG.</p>",
        "id": 214773931,
        "sender_full_name": "Sandy Xin",
        "timestamp": 1603838527
    },
    {
        "content": "<p>Do you have a link?</p>",
        "id": 214776209,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603840212
    },
    {
        "content": "<p>This is the Australian Guide for our eprescribing capabilities.</p>",
        "id": 215281740,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1604296808
    },
    {
        "content": "<p>The current CI version of the IG can be found here: <a href=\"http://fhir.medicationknowledge.com.au/dev\">http://fhir.medicationknowledge.com.au/dev</a><br>\nAn EPT2 script's erx/mds identifier will have this type, where the ETP 1 version will not have it</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;type&gt;\n    &lt;coding&gt;\n       &lt;system value=&quot;http://hl7.org.au/fhir/v2/0203&quot;/&gt;\n       &lt;code value=&quot;ETP&quot;/&gt;\n    &lt;/coding&gt;\n    &lt;text value=&quot;ETP Identifier&quot;/&gt;\n&lt;/type&gt;\n</code></pre></div>",
        "id": 215281948,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1604297107
    },
    {
        "content": "<p>Getting started with MySL</p>\n<p>I'm new to MySL and FHIR (got access to MySL github and FHIR server etc.from FRED).<br>\nI've found the Firely FHIR.Net libraries etc. on github / nuget, but have some questions regarding their use with MySL.<br>\nThese libraries appear to be for the base (US) implementation of HL7 / FHIR where the resource objects used for MySL are quite different.<br>\nComparing the Patient to MySLPatient - the differences are HUGE, and I was wondering if there is an updated set of DLLs etc. that could be downloaded for use with MySL.<br>\nHas anyone converted the requirements to POCOs?<br>\nI know that at the end of the day it's all XML or Json, but in code it's obviously much easier to work with objects / POCOs</p>\n<p>Thanx,<br>\nAlon</p>",
        "id": 230640616,
        "sender_full_name": "Alon Hirsch",
        "timestamp": 1615958838
    },
    {
        "content": "<p>What is MySL ?</p>",
        "id": 230683983,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1615985386
    },
    {
        "content": "<p>MySL - My Script List is the Australian implementation of FHIR, and being tailored specifically to the Australian health environment has extended properties on the different entities like Patient etc.</p>",
        "id": 230779784,
        "sender_full_name": "Alon Hirsch",
        "timestamp": 1616020003
    },
    {
        "content": "<p>When you say \"extend properties\", is it using extensions or is it customizing the resources?</p>",
        "id": 230780047,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1616020084
    },
    {
        "content": "<p>If it's doing the later, it's not actually FHIR - and you won't find a whole lot of people able to help here.</p>",
        "id": 230780119,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1616020107
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/230780047\">said</a>:</p>\n<blockquote>\n<p>When you say \"extend properties\", is it using extensions or is it customizing the resources?</p>\n</blockquote>\n<p>I'm not really sure - I'd point you to the website with the capability statements etc., but that's down at the moment.<br>\nThey're claiming it is FHIR, but how it is actually implemented behind the scenes - I cannot actually say.<br>\nThe Patient object (for example) says it is based on Patient from FHIR, but there are additional properties, slices etc.<br>\nIn typical OO terms, I would imagine it to be a sub-class of the Patient object<br>\nDo you know if there are T4 templates to generate POCOs from XML structure definitions etc.?<br>\nI'd be happy to give those a try to see what it could generate - would save me having to try do this all manually?</p>",
        "id": 230791423,
        "sender_full_name": "Alon Hirsch",
        "timestamp": 1616027233
    },
    {
        "content": "<p>Slices are fine.  Extensions are fine too.  I'm not aware of anyone who's currently generating POCOs for specific profiles - it's a <em>very</em> complex exercise.</p>",
        "id": 230794209,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1616029273
    },
    {
        "content": "<p>If they're conformant, everything in the profile should be expressible using the .NET POCOs for the core specification</p>",
        "id": 230794253,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1616029316
    },
    {
        "content": "<p>I'm working on generating compatible classes from Profiles right now, but not using T4.  Hopefully have something to show for it soon (TM).</p>",
        "id": 230877961,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1616079657
    },
    {
        "content": "<p>No, profiles are not subclasses - subclasses can add properties to the base class, profiles cannot. Anything that match a profile matches (and can be loaded as) the 'base' FHIR resource</p>",
        "id": 230878973,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1616079985
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/230878973\">said</a>:</p>\n<blockquote>\n<p>No, profiles are not subclasses - subclasses can add properties to the base class, profiles cannot. Anything that match a profile matches (and can be loaded as) the 'base' FHIR resource</p>\n</blockquote>\n<p>Have you seen the MySL profiles?<br>\nHow would you work with any of the MySL-specific properties using the 'base' FHIR libraries?<br>\nUnfortunately, the website is down at the moment (<a href=\"https://mysl-hl7-sydney.azurewebsites.net/\">https://mysl-hl7-sydney.azurewebsites.net/</a>) so I cannot refer to anything specific, but for example, from memory, their are different identification attributes - identification:medicare, identification:dva etc. - how would these be specified using the base libraries?</p>",
        "id": 230947104,
        "sender_full_name": "Alon Hirsch",
        "timestamp": 1616106415
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"222054\">Gino Canessa</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/230877961\">said</a>:</p>\n<blockquote>\n<p>I'm working on generating compatible classes from Profiles right now, but not using T4.  Hopefully have something to show for it soon (TM).</p>\n</blockquote>\n<p>I'd be very keen to see how you're doing with those.<br>\nDoesn't need to be T4, but anything that would help work with the local profiles would help tremendously.<br>\nAny idea on an ETA?</p>",
        "id": 230947167,
        "sender_full_name": "Alon Hirsch",
        "timestamp": 1616106478
    },
    {
        "content": "<p>If it's <code>identifier:medicare</code> and <code>identifier:dva</code>, it would be no problem, because those are just slices on identifier.  You would just use the base identifier structures to define or access instances that happen to meet the constraints of those particular slices.</p>",
        "id": 230947822,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1616106881
    },
    {
        "content": "<p>Alon, if it is a profile of a FHIR resource by definition of what a profile is the data can be handled using the standard POCO classes (for that same FHIR version)</p>",
        "id": 230948905,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1616107634
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/230948905\">said</a>:</p>\n<blockquote>\n<p>Alon, if it is a profile of a FHIR resource by definition of what a profile is the data can be handled using the standard POCO classes (for that same FHIR version)</p>\n</blockquote>\n<p>The StructureDefinition for MySLPatient can be seen here: <a href=\"https://fhir.medicationknowledge.com.au/dev/StructureDefinition-mysl-patient.html\">https://fhir.medicationknowledge.com.au/dev/StructureDefinition-mysl-patient.html</a><br>\nAny code (C# preferably) sample showing how I would create / update a patient with the MySL-specific fields would be greatly appreciated</p>",
        "id": 230955460,
        "sender_full_name": "Alon Hirsch",
        "timestamp": 1616112153
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> <span class=\"user-mention\" data-user-id=\"212913\">@Danielle Bancroft</span></p>",
        "id": 230967472,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1616121307
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"396754\">Alon Hirsch</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/230947167\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"222054\">Gino Canessa</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/230877961\">said</a>:</p>\n<blockquote>\n<p>I'm working on generating compatible classes from Profiles right now, but not using T4.  Hopefully have something to show for it soon (TM).</p>\n</blockquote>\n<p>I'd be very keen to see how you're doing with those.<br>\nDoesn't need to be T4, but anything that would help work with the local profiles would help tremendously.<br>\nAny idea on an ETA?</p>\n</blockquote>\n<p>Not yet, unfortunately.  The code generation shouldn't take long once I've settled on the output shape, but getting a 'dev-friendly' set of outputs is taking some tinkering (especially for complex extensions.. yuck).  I'm starting with C#, so I'll post in the dotnet stream once I have something ready for feedback.</p>",
        "id": 231062687,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1616175900
    },
    {
        "content": "<p>Here is an example of a standard POCO Patient with a couple of those MySL-specific 'field':</p>\n<div class=\"codehilite\"><pre><span></span><code>            var patient = new Patient\n            {\n                Identifier = new List&lt;Identifier&gt;\n                {\n                    new Identifier  // identifier:medicare\n                    {\n                        System = &quot;http://ns.electronichealth.net.au/id/medicare-number&quot;,\n                        Value = &quot;THIS IS THE MEDICARE IDENTIFIER&quot;\n                    }\n                },\n                Telecom = new List&lt;ContactPoint&gt;\n                {\n                    new ContactPoint    // telecom:mobileNumber\n                    {\n                        Use = ContactPointUse.Mobile,\n                        Value = &quot;THIS IS THE MOBILE PHONE NUMBER&quot;\n                    }\n                }\n            };\n</code></pre></div>",
        "id": 231102004,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1616195328
    },
    {
        "content": "<p>Thanks Michele - the thorny part I'm tinkering with right now is around complex extensions.  I have been trying to overlay something that keeps the underlying objects correct and provides a good developer experience.</p>\n<p>Using C# class extensions gets confusing, since there is no way to filter 'inner' extensions off the outer layers (e.g., in US Core, <code>ombCategory</code> becomes available to <code>Patient.Extension</code> as well as the desired <code>Patient.Extension[us-core-race]</code>).  I think the answer is just generating classes for complex extensions that have internal structures and sync with the underlying model instead of using it directly, but need a little more work to sort it out.</p>",
        "id": 231168852,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1616271269
    },
    {
        "content": "<p>I don't think it is a good idea to write such code generator. It perpetuates this wrong idea that to work with profiles you NEED something special  (that I keep seeing). It potentially hinders interoperability: real servers return data conforming to different profiles, or no profiles, mixed together - and once you write your client using a profile-specific library you'll be in trouble interpreting the data you get back.</p>",
        "id": 231181932,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1616287087
    },
    {
        "content": "<p>It's useful for single-purpose clients that want to keep their interfaces as simple as possible - and enforce most of the profile the constraints at compile time.  Agree that it will have more questionable usefulness on a general purpose basis.</p>",
        "id": 231183943,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1616289888
    },
    {
        "content": "<p>One of the topics I get asked about the most is working with profiles. As I started working through why, I realized they have a terrible dev experience.</p>\n<p>Here’s an IG that has several profiles.  Each profile has (among validation changes) often multiple extensions.  Some of those extensions have multiple extensions of their own.</p>\n<p>To use this IG, copy a bunch of URLs from it, then iterate over collections to put everything in the right place. Also, you get no type hinting, since extensions can be of any type.</p>\n<p>I disliked it enough that my reaction to trying to record a tutorial was to start building out tooling.</p>",
        "id": 231186424,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1616293313
    },
    {
        "content": "<p>to be clear, this isn't about \"single-purpose clients\" -- it's about clients that want to say: here's a pile of extensions (some simple, some complex) that I want to interact with in a first-class way, when they're present. It doesn't limit what you can do and doesn't assume that all data you see will fit these profiles.</p>",
        "id": 231190219,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1616298312
    },
    {
        "content": "<p>My take: the developer experience for working with simple extensions is clunky but okay; if you want to work with complex extensions, you basically need to create your own management tools to keep things sane -- so why not create these in general-purpose framework, if you need to create them in the first place?</p>",
        "id": 231190300,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1616298410
    },
    {
        "content": "<p>(If you disagree with this assessment: show me your code for working with US Core Race extensions -- say, code that clusters patients into groups based on race, or displays a coded + textual description for a clinician in a face sheet.)</p>",
        "id": 231190322,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1616298471
    },
    {
        "content": "<blockquote>\n<p>say, code that clusters patients into groups based on race, or displays a coded + textual description for a clinician in a face sheet.</p>\n</blockquote>\n<p>You seems to assume that real system work with data represented as FHIR, but this is not the case: real system have their own internal data representation, what you need to do is just to convert back and forth - that even for the US core race and ethnicity extensions is trivial</p>",
        "id": 231306833,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1616418666
    },
    {
        "content": "<p>I'm not assuming anything uses FHIR internally (though... an increasing number of systems do, and we can talk about trade-offs there). In my list of \"show me the code\" requests, I could just as well add: \"show me your code for mapping from FHIR US Core Race into your internal representations\". My point is only that the nested extension syntax makes the ergonomics of using (filtering, extracting, converting...) these data more challenging. (You may be right that the pain is <em>worse</em> for systems trying use FHIR structures natively, but that's not my focus(</p>",
        "id": 231334642,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1616428431
    },
    {
        "content": "<p>This handles US Core and Argonaut race and ethnicity in both directions - around 100 lines of code:</p>\n<div class=\"codehilite\"><pre><span></span><code>    public class USCoreCodeableConceptExtensionPropertyMapper&lt;TResource, TConcept&gt; : ExtensionPropertyMapper&lt;TResource, TConcept&gt;\n        where TResource : FhirModel.DomainResource\n    {\n        public USCoreCodeableConceptExtensionPropertyMapper(\n            string extensionUrl,\n            string system,\n            string[] ombCodes,\n            string nullFlavorSystem,\n            string[] ombNullFlavorCodes,\n            Expression&lt;Func&lt;TConcept, Term&gt;&gt; termPropertyExpression,\n            Expression&lt;Func&lt;TConcept, Term&gt;&gt; alternateTermPropertyExpression,\n            Expression&lt;Func&lt;TConcept, string&gt;&gt; textPropertyExpression\n        ) : base( extensionUrl )\n        {\n            if ( string.IsNullOrEmpty( system ) ) throw new ArgumentNullException( nameof( system ) );\n            if ( ombCodes == null || ombCodes.Length == 0 ) throw new ArgumentNullException( nameof( ombCodes ) );\n\n            _system = system;\n            _ombCodes = ombCodes;\n            _nullFlavorSystem = nullFlavorSystem;\n            _ombNullFlavorCodes = ombNullFlavorCodes;\n            _helper = new CodeableConceptPropertyMapperHelper&lt;TConcept&gt;( termPropertyExpression, alternateTermPropertyExpression, textPropertyExpression );\n        }\n\n        public override void Map( ToFhirMapper mapper, TConcept source, FhirModel.Extension destination )\n        {\n            var codeableConcept = _helper.CreateCodeableConcept( mapper, source );\n            destination.Extension = CreateArgonautEthnicityOrRace( codeableConcept );\n        }\n\n        public override void Map( FromFhirMapper mapper, FhirModel.Extension source, TConcept destination )\n        {\n            if ( source == null ) return;\n\n            var ombCoding = source.Extension.FirstOrDefault( e =&gt; e.Url == ExtensionUrl.ArgonautEthnicityOrRaceOmbCategory )?.Value as FhirModel.Coding;\n            if ( ombCoding != null &amp;&amp; !IsValidOmbCoding( ombCoding ) )\n            {\n                mapper.Context.Warning( new FhirBadDataException(\n                    &quot;Invalid &#39;{2}&#39; extension coding value (&#39;{3}|{4}&#39;) for &#39;{0}&#39; {1} extension&quot;,\n                    _extensionUrl,\n                    MappingHelper.GetResourceType&lt;TResource&gt;(),\n                    ExtensionUrl.ArgonautEthnicityOrRaceOmbCategory,\n                    ombCoding.System,\n                    ombCoding.Code\n                ) );\n                return;\n            }\n\n            var textValue = source.Extension.FirstOrDefault( e =&gt; e.Url == ExtensionUrl.ArgonautEthnicityOrRaceText )?.Value as FhirModel.FhirString;\n            if ( textValue == null )\n            {\n                mapper.Context.Warning( new FhirBadDataException(\n                    &quot;&#39;{2}&#39; extension required for &#39;{0}&#39; {1} extension&quot;,\n                    _extensionUrl,\n                    MappingHelper.GetResourceType&lt;TResource&gt;(),\n                    ExtensionUrl.ArgonautEthnicityOrRaceText\n                ) );\n                return;\n            }\n\n            var detailedCoding = source.Extension.FirstOrDefault( e =&gt; e.Url == ExtensionUrl.ArgonautEthnicityOrRaceDetailed )?.Value as FhirModel.Coding;\n\n            var mainCoding = ombCoding ?? detailedCoding;\n            var alternateCoding = ombCoding != null ?\n                detailedCoding :\n                null;\n            _helper.SetFromCodingsDefaultToUndefined( mapper, destination, mainCoding, alternateCoding, textValue.Value );\n        }\n\n        /// &lt;summary&gt;\n        /// Creates the special Argonaut / US core ethnicity or race extensions from the corresponding generic CodeableConcept -\n        /// see https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-ethnicity.html\n        /// and https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-race.html\n        /// &lt;/summary&gt;\n        private List&lt;FhirModel.Extension&gt; CreateArgonautEthnicityOrRace( FhirModel.CodeableConcept codeableConcept )\n        {\n            if ( string.IsNullOrEmpty( codeableConcept?.Text ) ) return null;\n\n            var result = new List&lt;FhirModel.Extension&gt;\n            {\n                new FhirModel.Extension( ExtensionUrl.ArgonautEthnicityOrRaceText, new FhirModel.FhirString( codeableConcept.Text ) )\n            };\n\n            if ( codeableConcept.Coding != null )\n            {\n                result.AddRange(\n                    codeableConcept.Coding\n                        .Where( coding =&gt; coding != null &amp;&amp; coding.System == _system )\n                        .Select( coding =&gt; new FhirModel.Extension(\n                            _ombCodes.Contains( coding.Code ) ? ExtensionUrl.ArgonautEthnicityOrRaceOmbCategory : ExtensionUrl.ArgonautEthnicityOrRaceDetailed,\n                            coding\n                        ) )\n                );\n            }\n\n            return result;\n        }\n\n        private bool IsValidOmbCoding( FhirModel.Coding ombCoding )\n        {\n            return ombCoding.System == _system &amp;&amp; _ombCodes.Contains( ombCoding.Code )\n                || _nullFlavorSystem != null &amp;&amp; ombCoding.System == _nullFlavorSystem &amp;&amp; _ombNullFlavorCodes.Contains( ombCoding.Code );\n        }\n\n        private readonly string _system;\n        private readonly string[] _ombCodes;\n        private readonly string _nullFlavorSystem;\n        private readonly string[] _ombNullFlavorCodes;\n        private readonly CodeableConceptPropertyMapperHelper&lt;TConcept&gt; _helper;\n    }\n</code></pre></div>",
        "id": 231353186,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1616434775
    },
    {
        "content": "<p>Perfect, that's exactly the kind of thing I'm thinking about. Did you create this <code>USCoreCodeableConceptExtensionPropertyMapper</code> with functions like <code>CreateArgonautEthnicityOrRace</code> by hand, or through code generation?</p>",
        "id": 231353855,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1616435021
    },
    {
        "content": "<p>By hand</p>",
        "id": 231358081,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1616436664
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/231358081\">said</a>:</p>\n<blockquote>\n<p>By hand</p>\n</blockquote>\n<p>This.  I think there should be tooling to give someone the <em>option</em> of not writing and maintaining that code.</p>",
        "id": 231362720,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1616438453
    },
    {
        "content": "<p>Gino, did you look at that code? There is no way it can be auto-generated by something generic - a small piece of it _could_ be, but then we'd have to duplicate the whole thing one for Argonaut and one for US core</p>",
        "id": 231366898,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1616440091
    },
    {
        "content": "<p>I did, what makes you say it cannot be generated?  It is no harder than generating the core model definitions.</p>",
        "id": 231367219,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1616440223
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span> is referring to the fact that this code helps with two similar but distinct definitions (one from US Core, and one from the older Argonaut profiles that fed into US Core work)</p>",
        "id": 231367316,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1616440261
    },
    {
        "content": "<p>Which is a fair point, but Michele's code would look almost as complex even if it was just targeting US Core Race (which was my initial quesiton). So I'm not saying auto-generated code can do everything hand-written code can do... but it can cut out a lot of the complexity, and if you had access to high-quality auto-generated code for US Core + (separately) Argonaut extensions, then writing the wrapper (by hand) to unify/map between these could be done fairly cleanly on top.</p>",
        "id": 231367516,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1616440345
    },
    {
        "content": "<blockquote>\n<p>I did, what makes you say it cannot be generated?</p>\n</blockquote>\n<p>??? Most of those 100 lines are specific to our implementation, have nothing to do with model definition and so cannot be auto-generated by some code that looks at structure definition.<br>\nWhat a code generator would help with is changing:</p>\n<div class=\"codehilite\"><pre><span></span><code>           var ombCoding = source.Extension.FirstOrDefault( e =&gt; e.Url == ExtensionUrl.ArgonautEthnicityOrRaceOmbCategory )?.Value as FhirModel.Coding;\n</code></pre></div>\n<p>into something like:</p>\n<div class=\"codehilite\"><pre><span></span><code>      var obbCoding = source.USCoreRace\n</code></pre></div>\n<p>so simplify a couple of lines of that 100 - at the cost of making the class specific to US Core race  (and so having 4 classes instead of one)</p>",
        "id": 231368527,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1616440745
    },
    {
        "content": "<p>These (together with the code for extracting the top level extensions that these use as inputs) are good examples that we can use to evaluate what codegen can (and can't) help with. If others have examples of code for dealing with specific complex extensions, that'd be great to share here too.</p>",
        "id": 231371129,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1616441470
    },
    {
        "content": "<p>Perhaps I did not read closely enough.  To me, it appeared (with an admittedly quick read), that a fair amount code was around actually interfacing with the extensions, checking systems, etc..  If you have generated code that lets you use <code>patient.UsCoreRaceExtension</code>, <code>patient.ArgonautRaceExtension</code>, etc., you end up with mapping which is much shorter - this is primitive and incomplete since I don't have all the generated code behind it, but validating all UsCoreRace values were present as ArgonautRace values could be something like:</p>\n<div class=\"codehilite\" data-code-language=\"C#\"><pre><span></span><code>                <span class=\"k\">foreach</span> <span class=\"p\">(</span><span class=\"n\">UsCoreRaceExtensionWrapper</span> <span class=\"n\">usCoreRaceExt</span> <span class=\"k\">in</span> <span class=\"n\">patient</span><span class=\"p\">.</span><span class=\"n\">UsCoreRaceExtension</span><span class=\"p\">)</span>\n                <span class=\"p\">{</span>\n                    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">patient</span><span class=\"p\">.</span><span class=\"n\">ArgonautRaceExtension</span><span class=\"p\">.</span><span class=\"n\">Where</span><span class=\"p\">((</span><span class=\"n\">argoRaceExt</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"n\">argoRaceExt</span><span class=\"p\">.</span><span class=\"n\">ombCategory</span> <span class=\"p\">==</span> <span class=\"n\">usCoreRaceExt</span><span class=\"p\">.</span><span class=\"n\">ombCategory</span><span class=\"p\">).</span><span class=\"n\">Any</span><span class=\"p\">())</span>\n                    <span class=\"p\">{</span>\n                        <span class=\"k\">continue</span><span class=\"p\">;</span>\n                    <span class=\"p\">}</span>\n\n                    <span class=\"n\">patient</span><span class=\"p\">.</span><span class=\"n\">ArgonautRaceExtension</span><span class=\"p\">.</span><span class=\"n\">AddArgonautRaceExtension</span><span class=\"p\">(</span><span class=\"n\">usCoreRaceExt</span><span class=\"p\">.</span><span class=\"n\">ombCategory</span><span class=\"p\">,</span> <span class=\"n\">usCoreRaceExt</span><span class=\"p\">.</span><span class=\"n\">detailed</span><span class=\"p\">,</span> <span class=\"n\">usCoreRaceExt</span><span class=\"p\">.</span><span class=\"n\">text</span><span class=\"p\">);</span>\n                <span class=\"p\">}</span>\n</code></pre></div>\n<p>Having generated code allows for things like using an enum for <code>ombCodes</code> (since it is a required binding), which is a nice quality of life improvement and reduces the need for some of the external validation steps.</p>\n<p>I will also note that your sample code has external dependencies in your code to simplify it (e.g., <code>ExtensionUrl.ArgonautEthnicityOrRaceOmbCategory</code>), which is part of the pain point I am looking to address.  Sorting through IGs to find all the URLs, set up a hierarchy for them that makes sense, keep track of the correct value type for each, etc.; there is a lot of work and mental load for (especially new) developers here.</p>\n<p>Eventually, I am hoping to have calls like <code>patient.AsUsCorePatientProfile.IsValid()</code>, so you can see <em>if</em> a patient conforms to a given profile (this is, of course not part of v1 =).  Since it is just a wrapper around the basic <code>Patient</code> class, you would be able to call something like <code>patient.AsIpsPatient.IsValid()</code> on the same instance.</p>\n<p>Yes, there is additional code behind.  I don't think it is different from what you are doing here by generating your own internal convenience classes.</p>",
        "id": 231377937,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1616444287
    },
    {
        "content": "<p>Guys, I don't know what else to say - do as you like (of course)</p>",
        "id": 231386366,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1616447881
    },
    {
        "content": "<p>Michele, as always!  =).</p>\n<p>I hope I am not being too contentious - I am genuinely trying to understand your objection.  From what I hear (and I assume from your initial comment on this thread that you hear as well), many people struggle to work with IGs, Profiles, Extensions (especially complex ones), etc.  To me, that indicates that there is a problem of some kind.</p>\n<p>I am not arguing that the <em>only</em> way to work with these artifacts is additional code generation, but that working with them is currently painful enough that it is a <em>problem</em>.  To me, additional work in this space is is no different than the existence of the various language libraries, and if we can build a 'good enough' system in various languages, I would eventually PR the work back into them.</p>\n<p>The way I see it, while it's perfectly valid (and often useful) to make direct HTTP calls with no external libraries, if that was the only way to use FHIR the community would be poorer.</p>",
        "id": 231389347,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1616449378
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/230780047\">said</a>:</p>\n<blockquote>\n<p>When you say \"extend properties\", is it using extensions or is it customizing the resources?</p>\n</blockquote>\n<p>The MySL profiles are all standard R4 with AU base and proper extensions. MySL was implemented by myself and <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>  and is NOT customized resources. The MySL is a national implementation for Australia. Alon unfortunately had the old POC IG instead of the actual active IG</p>",
        "id": 231416363,
        "sender_full_name": "Danielle Bancroft",
        "timestamp": 1616468921
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/231102004\">said</a>:</p>\n<blockquote>\n<p>Here is an example of a standard POCO Patient with a couple of those MySL-specific 'field':</p>\n<p><div class=\"codehilite\"><pre><span></span><code>            var patient = new Patient\n            {\n                Identifier = new List&lt;Identifier&gt;\n                {\n                    new Identifier  // identifier:medicare\n                    {\n                        System = &quot;http://ns.electronichealth.net.au/id/medicare-number&quot;,\n                        Value = &quot;THIS IS THE MEDICARE IDENTIFIER&quot;\n                    }\n                },\n                Telecom = new List&lt;ContactPoint&gt;\n                {\n                    new ContactPoint    // telecom:mobileNumber\n                    {\n                        Use = ContactPointUse.Mobile,\n                        Value = &quot;THIS IS THE MOBILE PHONE NUMBER&quot;\n                    }\n                }\n            };\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Awesome! Thanx Michele - help me with a great starting point</p>",
        "id": 231420938,
        "sender_full_name": "Alon Hirsch",
        "timestamp": 1616474082
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"222054\">Gino Canessa</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/231062687\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"396754\">Alon Hirsch</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/230947167\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"222054\">Gino Canessa</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/230877961\">said</a>:</p>\n<blockquote>\n<p>I'm working on generating compatible classes from Profiles right now, but not using T4.  Hopefully have something to show for it soon (TM).</p>\n</blockquote>\n<p>I'd be very keen to see how you're doing with those.<br>\nDoesn't need to be T4, but anything that would help work with the local profiles would help tremendously.<br>\nAny idea on an ETA?</p>\n</blockquote>\n<p>Not yet, unfortunately.  The code generation shouldn't take long once I've settled on the output shape, but getting a 'dev-friendly' set of outputs is taking some tinkering (especially for complex extensions.. yuck).  I'm starting with C#, so I'll post in the dotnet stream once I have something ready for feedback.</p>\n</blockquote>\n<p>Looking forward to that - thanx Gino</p>",
        "id": 231421093,
        "sender_full_name": "Alon Hirsch",
        "timestamp": 1616474209
    },
    {
        "content": "<p>Sorry I missed all this, and yes it's an R4 fhir implementation.<br>\nThe IG is now here :<br>\n<a href=\"https://fhir.medicationknowledge.com.au/dev/\">https://fhir.medicationknowledge.com.au/dev/</a></p>",
        "id": 231445208,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1616493621
    },
    {
        "content": "<p>And yes, as long as you use the R4 fhir client (from Firely) then you're all good, that's how we test it, and it's implemented in dotnet on sql server too (and is internally fhir content too)<br>\nWe have other non fhir systems that contribute to its content also.</p>",
        "id": 231445368,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1616493684
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191367\">Brian Postlethwaite</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20(con23)/near/231445368\">said</a>:</p>\n<blockquote>\n<p>And yes, as long as you use the R4 fhir client (from Firely) then you're all good, that's how we test it, and it's implemented in dotnet on sql server too (and is internally fhir content too)<br>\nWe have other non fhir systems that contribute to its content also.</p>\n</blockquote>\n<p>Thanx <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> - much appreciated</p>",
        "id": 231561442,
        "sender_full_name": "Alon Hirsch",
        "timestamp": 1616543443
    },
    {
        "content": "<p>Hello, is anyone here able to answer some questions regarding some of the JWT fields?</p>",
        "id": 254638165,
        "sender_full_name": "Sam-S4S",
        "timestamp": 1632448374
    },
    {
        "content": "<p>You might try the #smart stream instead of a management stream.</p>",
        "id": 254694455,
        "sender_full_name": "Daniel Venton",
        "timestamp": 1632486115
    },
    {
        "content": "<p>Is that specific to the Australian eprescribing stuff?</p>",
        "id": 254796290,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632533398
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"335936\">Daniel Venton</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20.28con23.29/near/254694455\">said</a>:</p>\n<blockquote>\n<p>You might try the #smart stream instead of a management stream.</p>\n</blockquote>\n<p>Ah, ok. We were pointed here by someone at eRx / Fred.<br>\n<span class=\"user-mention silent\" data-user-id=\"191367\">Brian Postlethwaite</span> <a href=\"#narrow/stream/179207-connectathon-mgmt/topic/ePrescribring.20track.20.28con23.29/near/254796290\">said</a>:</p>\n<blockquote>\n<p>Is that specific to the Australian eprescribing stuff?</p>\n</blockquote>\n<p>Indeed it is!</p>",
        "id": 255333353,
        "sender_full_name": "Sam-S4S",
        "timestamp": 1632883884
    },
    {
        "content": "<p>What's the question?<br>\nThat JWT is Fred IT specific I think, and details should be in the spec listed above.</p>",
        "id": 255982406,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1633297807
    }
]