[
    {
        "content": "<p>Thread starter</p>",
        "id": 153905030,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504898570
    },
    {
        "content": "<p>Hi Rick - will you still be working on creating FHIR documents from CCDA?</p>",
        "id": 153905050,
        "sender_full_name": "David Hay",
        "timestamp": 1504908441
    },
    {
        "content": "<p><a href=\"http://wiki.hl7.org/index.php?title=201709_FHIR_Documents\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=201709_FHIR_Documents\">http://wiki.hl7.org/index.php?title=201709_FHIR_Documents</a></p>",
        "id": 153905167,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504975083
    },
    {
        "content": "<p>Sweet!</p>",
        "id": 153905169,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1504975109
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span>  Yes some of the folks in the track (including me) will be doing that.</p>",
        "id": 153905170,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504975116
    },
    {
        "content": "<p>Hi All</p>",
        "id": 153905197,
        "sender_full_name": "Matthew Dugal",
        "timestamp": 1504975725
    },
    {
        "content": "<p><a href=\"http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/\" target=\"_blank\" title=\"http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/\">http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/</a></p>\n<p>Resources that should be available: patient, condition, allergies, diagnosticreport, medication</p>\n<p>Patient Id's 101299, 101300</p>\n<p>Example queries:<br>\n<a href=\"http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/patient/101299\" target=\"_blank\" title=\"http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/patient/101299\">http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/patient/101299</a><br>\n<a href=\"http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/Condition/_search?Patient=101299\" target=\"_blank\" title=\"http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/Condition/_search?Patient=101299\">http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/Condition/_search?Patient=101299</a><br>\n<a href=\"http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/Allergies/_search?Patient=101299\" target=\"_blank\" title=\"http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/Allergies/_search?Patient=101299\">http://dynamicfhir1.westus.cloudapp.azure.com:44801/fhir/Allergies/_search?Patient=101299</a></p>",
        "id": 153905198,
        "sender_full_name": "Matthew Dugal",
        "timestamp": 1504975744
    },
    {
        "content": "<p>Our server does not allow the creation of resources</p>",
        "id": 153905199,
        "sender_full_name": "Matthew Dugal",
        "timestamp": 1504975794
    },
    {
        "content": "<p>Here is the current build of C-CDA on FHIR</p>\n<p><a href=\"http://build.fhir.org/ig/HL7/ccda-on-fhir/\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/ccda-on-fhir/\">http://build.fhir.org/ig/HL7/ccda-on-fhir/</a></p>",
        "id": 153905202,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504975973
    },
    {
        "content": "<p>Converted C-CDA Care Plan document posted here for review<br>\n<a href=\"http://fhirtest.uhn.ca/baseDstu3/Bundle/222030\" target=\"_blank\" title=\"http://fhirtest.uhn.ca/baseDstu3/Bundle/222030\">http://fhirtest.uhn.ca/baseDstu3/Bundle/222030</a></p>",
        "id": 153905212,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504976804
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/-pyMDfC1G44LeNg_gm7eFA28/170.315_b1_toc_amb_rn_r21_sample1_v9.xml\" target=\"_blank\" title=\"170.315_b1_toc_amb_rn_r21_sample1_v9.xml\">170.315_b1_toc_amb_rn_r21_sample1_v9.xml</a> <a href=\"/user_uploads/10155/lqZTXN3dbyoJ7Gi8qLIqxEkl/170.315_b1_toc_inp_rn_r21_sample1_v9.xml\" target=\"_blank\" title=\"170.315_b1_toc_inp_rn_r21_sample1_v9.xml\">170.315_b1_toc_inp_rn_r21_sample1_v9.xml</a></p>",
        "id": 153905236,
        "sender_full_name": "Matthew Dugal",
        "timestamp": 1504978577
    },
    {
        "content": "<p>That's two on one line.</p>",
        "id": 153905237,
        "sender_full_name": "Matthew Dugal",
        "timestamp": 1504978587
    },
    {
        "content": "<p>Here is a link to the HAPI server:<br>\n<a href=\"http://fhirtest.uhn.ca/baseDstu3/\" target=\"_blank\" title=\"http://fhirtest.uhn.ca/baseDstu3/\">http://fhirtest.uhn.ca/baseDstu3/</a></p>",
        "id": 153905261,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504979548
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191473\">@Matthew Dugal</span> here is the converted CDA document (your first example):<br>\n<a href=\"http://fhirtest.uhn.ca/baseDstu3/Bundle/222063\" target=\"_blank\" title=\"http://fhirtest.uhn.ca/baseDstu3/Bundle/222063\">http://fhirtest.uhn.ca/baseDstu3/Bundle/222063</a></p>",
        "id": 153905270,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504979951
    },
    {
        "content": "<p>Any chance of creating DocumentReference resources that refer to those documents? That will make it easier to display them in clinfhir...</p>",
        "id": 153905342,
        "sender_full_name": "David Hay",
        "timestamp": 1504982665
    },
    {
        "content": "<p>I could (and will for this one) but would be easier for others...</p>",
        "id": 153905345,
        "sender_full_name": "David Hay",
        "timestamp": 1504982749
    },
    {
        "content": "<p>OK so I've created a docref for this document and tidied up the display a bit. If you go to the Patient viewer in cf, and select the patient (by id - 222072) then the 'Documents' tab (not the CCDA-migrated tab) then you'll get a list of docrefs to the left. Clicking one of those docrefs will display various views of the document to the right (the tree is kinda nice - and all the elements are clickable of course).</p>",
        "id": 153905418,
        "sender_full_name": "David Hay",
        "timestamp": 1504987766
    },
    {
        "content": "<p>I'll continue to enhance this as time permits today - in particular I'l like to incorporate the graph view of the document that we developed last connectathon. feel free to suggest any other enhancements tho...</p>",
        "id": 153905420,
        "sender_full_name": "David Hay",
        "timestamp": 1504987850
    },
    {
        "content": "<p>Here is a Patient resource with a full document associated with it: <br>\n<a href=\"http://fhirtest.uhn.ca/baseDstu3/Patient/222422\" target=\"_blank\" title=\"http://fhirtest.uhn.ca/baseDstu3/Patient/222422\">http://fhirtest.uhn.ca/baseDstu3/Patient/222422</a></p>",
        "id": 153905426,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504988584
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> I'll try out your document reference example shortly.</p>",
        "id": 153905428,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504988631
    },
    {
        "content": "<p>trouble is, without the docref or the bundle id, I can't find it...</p>",
        "id": 153905440,
        "sender_full_name": "David Hay",
        "timestamp": 1504989818
    },
    {
        "content": "<p>I suspect that the 222063 bundle may have an issue or two. There seem to me multiple resources in the bundle that are \"orphans\".<br>\n<a href=\"/user_uploads/10155/3dA9SoRqAEzTB4SOiY9VIWrS/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/3dA9SoRqAEzTB4SOiY9VIWrS/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/3dA9SoRqAEzTB4SOiY9VIWrS/pasted_image.png\"></a></div>",
        "id": 153905445,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1504990222
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 153905447,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1504990315
    },
    {
        "content": "<p>Example US Core Vital Sign observation converted from C-CDA (with minor mods):<br>\n<a href=\"http://fhirtest.uhn.ca/baseDstu3/Observation/222532\" target=\"_blank\" title=\"http://fhirtest.uhn.ca/baseDstu3/Observation/222532\">http://fhirtest.uhn.ca/baseDstu3/Observation/222532</a></p>",
        "id": 153905472,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504992651
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> Was looking for you here, but just discovered you are working remotely :(. Anyway, I noticed that you used to render the Composition resource graph under the documents tab, but that functionality is gone now. Was there a reason you removed it?</p>",
        "id": 153905474,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504992850
    },
    {
        "content": "<p>yeah - at home right now!  The graph was only ever a hack - working (as we speak!) to re-instate it under the document tab. An hour at most I hope...</p>",
        "id": 153905476,
        "sender_full_name": "David Hay",
        "timestamp": 1504992931
    },
    {
        "content": "<p>OK - there's now a graph chart as a tab for the selected document - should be the same as before...   I can see richards orphans in there!</p>",
        "id": 153905496,
        "sender_full_name": "David Hay",
        "timestamp": 1504995509
    },
    {
        "content": "<p>btw - if you look at the resource detail (shown to the right when a node is selected) you'll see a resource id at the bottom - this is added by cf as part of the linking between nodes so is not part of the original resource...</p>",
        "id": 153905501,
        "sender_full_name": "David Hay",
        "timestamp": 1504995933
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> I tried loading patient 222422, but I see no documents under that tab, though under the main resource graph there is clearly a Composition associated with the patient. Is this where you are now expecting a DocumentReference? If so, should this point to a Composition resource or a full document Bundle? I would assume a Bundle based on MHD, but I'm guessing ClinFHIR is expecting a reference to Composition.</p>",
        "id": 153905504,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1504996007
    },
    {
        "content": "<p>btw - just updated the tree view - shows more detail to the right when you select a section. Check out health concerns section for the document for patient 222072.. there are some weird entries there, and the referenced resource seems to be absent...</p>",
        "id": 153905589,
        "sender_full_name": "David Hay",
        "timestamp": 1505000279
    },
    {
        "content": "<p>wrt 222422, the documents tab is working off DocumentReference resources rather than composition which is why the doc is not appearing in the doc list. the current document display function expects to be passed a document bundle, rather than just a composition resource....</p>",
        "id": 153905590,
        "sender_full_name": "David Hay",
        "timestamp": 1505000480
    },
    {
        "content": "<p>I know it should be possible to reconstruct the document from the Composition resource, but that will take a bit of work to do, so right now a docref pointing to a bundle is easier to support!</p>",
        "id": 153905592,
        "sender_full_name": "David Hay",
        "timestamp": 1505000591
    },
    {
        "content": "<p>so all you need to do is create an appropriate docref (or tell me the id of the bundle) - and all should work...</p>",
        "id": 153905620,
        "sender_full_name": "David Hay",
        "timestamp": 1505002074
    },
    {
        "content": "<p>Oh - there's now a 'quality report' tab that will list the orphans.</p>",
        "id": 153905727,
        "sender_full_name": "David Hay",
        "timestamp": 1505034034
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194410\">@Tony Ferullo</span> Post to <a href=\"http://fhirtest.uhn.ca/baseDstu3/Patient\" target=\"_blank\" title=\"http://fhirtest.uhn.ca/baseDstu3/Patient\">http://fhirtest.uhn.ca/baseDstu3/Patient</a></p>",
        "id": 153905818,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1505061783
    }
]