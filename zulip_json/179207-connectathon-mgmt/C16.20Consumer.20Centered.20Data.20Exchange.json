[
    {
        "content": "<p>Starting a chat thread for the Consumer Centered Data Exchange track at Connectathon 16  <a href=\"http://wiki.hl7.org/index.php?title=201709_Consumer_Centered_Data_Exchange\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=201709_Consumer_Centered_Data_Exchange\">http://wiki.hl7.org/index.php?title=201709_Consumer_Centered_Data_Exchange</a></p>",
        "id": 153904108,
        "sender_full_name": "John Moehrke",
        "timestamp": 1504125732
    },
    {
        "content": "<p>thanks. <span class=\"user-mention\" data-user-id=\"194138\">@Aaron Seib</span> - just to et you know</p>",
        "id": 153904110,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504125874
    },
    {
        "content": "<p>Thanks John and Grahame.</p>",
        "id": 153904112,
        "sender_full_name": "Aaron Seib",
        "timestamp": 1504127133
    },
    {
        "content": "<p>First Question: Are we going to rally our connectathon track around the AHIMA \"Patient Request for Health Information\"?  <a href=\"https://engage.ahima.org/HigherLogic/System/DownloadDocumentFile.ashx?DocumentFileKey=65a95abe-c892-2e4a-7012-d1f8e7fa740e&amp;forceDialog=0\" target=\"_blank\" title=\"https://engage.ahima.org/HigherLogic/System/DownloadDocumentFile.ashx?DocumentFileKey=65a95abe-c892-2e4a-7012-d1f8e7fa740e&amp;forceDialog=0\">https://engage.ahima.org/HigherLogic/System/DownloadDocumentFile.ashx?DocumentFileKey=65a95abe-c892-2e4a-7012-d1f8e7fa740e&amp;forceDialog=0</a></p>",
        "id": 153904123,
        "sender_full_name": "John Moehrke",
        "timestamp": 1504129254
    },
    {
        "content": "<p>If so, then I think this form would produce a CommunicationRequest and a Consent. Th Consent would authorize the CommunicationRequest, but the CommunicationRequest would be the thing that explains where and what is being asked to be forwarded to whom. See attached... <a href=\"/user_uploads/10155/jPiSaNLYSMUhG64fHozkAZ-H/AHIMA-Mapping-FHIR-20170830.pptx\" target=\"_blank\" title=\"AHIMA-Mapping-FHIR-20170830.pptx\">AHIMA-Mapping-FHIR-20170830.pptx</a></p>",
        "id": 153904124,
        "sender_full_name": "John Moehrke",
        "timestamp": 1504129394
    },
    {
        "content": "<p>how would a communication request be useful?</p>",
        "id": 153904125,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504129624
    },
    {
        "content": "<p>and the connectathon track is not about  form either.</p>",
        "id": 153904126,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504129639
    },
    {
        "content": "<p>The connectathon track and the AHIMA form are a request by a Patient to have their data at site to be communicated to another site (where that site might be their own PHR)... That is my understanding.. and hence why I ask the question before I go further down this pathway</p>",
        "id": 153904183,
        "sender_full_name": "John Moehrke",
        "timestamp": 1504181913
    },
    {
        "content": "<p>The connectathon track has 8 patterns. Of those participating, which one or two do we have enough participation to complete? We can't have everyone working on a fraction of different patterns...</p>",
        "id": 153904186,
        "sender_full_name": "John Moehrke",
        "timestamp": 1504182644
    },
    {
        "content": "<p>That's a good question. I don't know what the answer is. In fact, I suspect that the main function will be to shake down the patterns.</p>",
        "id": 153904239,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504212852
    },
    {
        "content": "<p>I am not really sure in which circumstances you would use those...</p>\n<p>The way it works now is:</p>\n<p>1) Patient has login on provider portal - so provider / patient already did the necessary paper work / identity proofing to get that</p>\n<p>2) App (that can be patient own PHR or other EMR) connect to SMART-on-FHIR end point</p>\n<p>3) Patient sign in with their credentials and authorize app access to the data as part of the SMART-on-FHIR authentication and authorization sequence</p>\n<p>4) App gets the data using FHIR</p>",
        "id": 153904320,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1504277593
    },
    {
        "content": "<p>Michele,  I am happy to not further develop the AHIMA form. I looked at it because it was suggested in one of the many sub-scenarios... I can certainly work with your flow. But your flow seems far more simply SMART-on-FHIR. Where is the Consent in your flow? Where is the enabled data exchange?<br>\n  Do you have a consent form in mind?     I am here, as SME on the FHIR Consent and as co-chair of the security wg, to help the group understand our intended use, and to take lessons learned back to improve the FHIR standard... So I don't care which scenario we work on. I  just want it to be something more than has been shown many times as classic SMART-on-FHIR... I want to engage the Consent resource.</p>",
        "id": 153904323,
        "sender_full_name": "John Moehrke",
        "timestamp": 1504279915
    },
    {
        "content": "<p>Yes, I guess my question is why (or in which circumstances) do we need a consent form? </p>\n<p>The simple SMART-on-FHIR flow seems to cover all that's needed (?) - and simple is good</p>",
        "id": 153904324,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1504280857
    },
    {
        "content": "<p>Yes, if one can use simple... then one should use simple...</p>",
        "id": 153904325,
        "sender_full_name": "John Moehrke",
        "timestamp": 1504280901
    },
    {
        "content": "<p>and if all we want to achieve is SMART-on-FHIR being used by a Patient rather than only Providers... then that is an improvement too...  I have tried to fight that misinformation <a href=\"https://healthcaresecprivacy.blogspot.com/2017/04/fhir-security-model-is-enterprise.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2017/04/fhir-security-model-is-enterprise.html\">https://healthcaresecprivacy.blogspot.com/2017/04/fhir-security-model-is-enterprise.html</a></p>",
        "id": 153904326,
        "sender_full_name": "John Moehrke",
        "timestamp": 1504281132
    },
    {
        "content": "<p>Im looking similarly at the MiHIN Behavioral Health Consent form <a href=\"http://www.michigan.gov/mdhhs/0,5885,7-339-71550_2941_58005_70642---,00.html\" target=\"_blank\" title=\"http://www.michigan.gov/mdhhs/0,5885,7-339-71550_2941_58005_70642---,00.html\">http://www.michigan.gov/mdhhs/0,5885,7-339-71550_2941_58005_70642---,00.html</a>   It seems much more like a normal Consent form, authorizing Sharing. And because of the vectors in the form, it will leverage the FHIR Consent model quite nicely.</p>",
        "id": 153904328,
        "sender_full_name": "John Moehrke",
        "timestamp": 1504281324
    },
    {
        "content": "<p>the point of the connectathon stream is to enable a patient to get institutions to share data about the patient directly with each other</p>",
        "id": 153904332,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504291996
    },
    {
        "content": "<p>data shared between them via the patient is a very different exchange than directly between them</p>",
        "id": 153904333,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504292025
    },
    {
        "content": "<p>classic smart on fhir is a 2  way exchange. we're looking at a 3 way exchange here</p>",
        "id": 153904334,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504292046
    },
    {
        "content": "<p>Mhh.. I don't understand - for example scenarios 1 and 2  at <a href=\"http://wiki.hl7.org/index.php?title=201709_Consumer_Centered_Data_Exchange\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=201709_Consumer_Centered_Data_Exchange\">http://wiki.hl7.org/index.php?title=201709_Consumer_Centered_Data_Exchange</a> seems identical - except that the second adds a consent - but I don't understand what's the purpose of that (nor the mechanics of it) - the patient is already consenting to the data transfer using SMART-on-FHIR</p>",
        "id": 153904336,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1504292735
    },
    {
        "content": "<p>in scenario 1, the target EMR must be registered as an application with the source EMR</p>",
        "id": 153904337,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504295099
    },
    {
        "content": "<p>in scenario 2, registration is not required. the patient's application must be registered with both, but they don't need to be registered with each other</p>",
        "id": 153904338,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504295144
    },
    {
        "content": "<p>ah ok, got it, now I see the difference</p>",
        "id": 153904339,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1504299641
    },
    {
        "content": "<p>Hello.  Pleas send me your name, email and company affiliation to receive a developer invite to the dev/test environment for CMS Blue Button API.</p>",
        "id": 153905164,
        "sender_full_name": "Alan Viars",
        "timestamp": 1504974698
    },
    {
        "content": "<p>Anybody from DXC here? Would like to try to connect to your FHIR end point</p>",
        "id": 153905206,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1504976159
    },
    {
        "content": "<p>Here is what I'm going to do for this track... build a patient facing SMART-on-FHIR App to:<br>\n1. reads my patient record from Cerner<br>\n2. lookup another provider using provider directory, along with FHIR endpoint<br>\n3. transfer my patient record to new provider</p>",
        "id": 153905255,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1504979289
    },
    {
        "content": "<p>Jason: how does the Consent resource fit into that?</p>",
        "id": 153905257,
        "sender_full_name": "Reuben Daniels",
        "timestamp": 1504979404
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195650\">@Reuben Daniels</span> It doesn't right now. Patient consent is built into the patient actions.</p>",
        "id": 153905258,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1504979442
    },
    {
        "content": "<p>Cool.<br>\nWho'll play the new provider? Are you going to POST the data to the FHIR end point to transfer it?</p>",
        "id": 153905259,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1504979463
    },
    {
        "content": "<p>Yes. I'm going to use HAPI DSTU2, because Cerner is still sending DSTU2 records. I'm going to use Brian's healthconnex as the provider directory.</p>",
        "id": 153905285,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1504980264
    },
    {
        "content": "<p>...you can try to POST on our server as well .. although we will not show up on the provider directory...</p>",
        "id": 153905298,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1504980496
    },
    {
        "content": "<p>FYI: Here is a blog article I wrote last night as a proposal for what we could do this weekend.  <a href=\"https://healthcaresecprivacy.blogspot.com/2017/09/remedial-fhir-consent-enforcement.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2017/09/remedial-fhir-consent-enforcement.html\">https://healthcaresecprivacy.blogspot.com/2017/09/remedial-fhir-consent-enforcement.html</a></p>",
        "id": 153905305,
        "sender_full_name": "John Moehrke",
        "timestamp": 1504980902
    },
    {
        "content": "<p>You could also directly post the results of your $everything from the patient to my DSTU2 server too.</p>",
        "id": 153905356,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1504983752
    },
    {
        "content": "<p><a href=\"http://sqlonfhir-dstu2.azurewebsites.net/fhir\" target=\"_blank\" title=\"http://sqlonfhir-dstu2.azurewebsites.net/fhir\">http://sqlonfhir-dstu2.azurewebsites.net/fhir</a></p>",
        "id": 153905357,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1504983767
    },
    {
        "content": "<p>We can provide a data source for the existing provider data pull--please visit our table for server connection info. Thanks!</p>",
        "id": 153905453,
        "sender_full_name": "Julie Maas",
        "timestamp": 1504991359
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194368\">@Julie Maas</span>  : I am remote - can you post sever connection info here?</p>",
        "id": 153905473,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1504992751
    },
    {
        "content": "<p>Yes I will get that for you. Can you do dynamic client registration?</p>",
        "id": 153905575,
        "sender_full_name": "Julie Maas",
        "timestamp": 1504998869
    },
    {
        "content": "<p>Not currently, but I can surely try</p>",
        "id": 153905578,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1504998920
    },
    {
        "content": "<p>Here you go Michele (or others who want to try this as a source): <a href=\"https://sandbox.interopengine.com:8181/fhir-server-stu3/emrdirect-test-ehr\" target=\"_blank\" title=\"https://sandbox.interopengine.com:8181/fhir-server-stu3/emrdirect-test-ehr\">https://sandbox.interopengine.com:8181/fhir-server-stu3/emrdirect-test-ehr</a></p>",
        "id": 153905584,
        "sender_full_name": "Julie Maas",
        "timestamp": 1504999674
    },
    {
        "content": "<p>HTTPS cert is not valid</p>",
        "id": 153905588,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1505000079
    },
    {
        "content": "<p>I am POSTing:</p>",
        "id": 153905593,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1505000661
    },
    {
        "content": "<p>{<br>\n      \"redirect_uris\": [<br>\n        \"http://localhost:49322/PDemo.html\"],<br>\n    \"token_endpoint_auth_method\": \"none\",        <br>\n      \"client_name\": \"PDemo\"<br>\n }</p>",
        "id": 153905594,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1505000665
    },
    {
        "content": "<p>to <a href=\"https://sandbox.interopengine.com:8181/oauth/register\" target=\"_blank\" title=\"https://sandbox.interopengine.com:8181/oauth/register\">https://sandbox.interopengine.com:8181/oauth/register</a> to register my client - I get back an error:</p>",
        "id": 153905595,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1505000685
    },
    {
        "content": "<p>{<br>\n    \"error\": \"invalid_client_metadata\",<br>\n    \"error_description\": \"Client registration metadata malformed or invalid.\"<br>\n}</p>",
        "id": 153905596,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1505000696
    },
    {
        "content": "<p>does not seem malformed to me - maybe your server requires some more data?</p>",
        "id": 153905598,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1505000736
    },
    {
        "content": "<p>Are you treating your client as a public client or a confidential client?</p>",
        "id": 153905601,
        "sender_full_name": "Julie Maas",
        "timestamp": 1505001200
    },
    {
        "content": "<p>Public</p>",
        "id": 153905602,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1505001224
    },
    {
        "content": "<p>looks like we are not allowing dynamic reg of public clients for this event. Are you able to register a confidential client with an https redirect_uri? If not, we'll see what we can enable for tomorrow.</p>",
        "id": 153905633,
        "sender_full_name": "Julie Maas",
        "timestamp": 1505002696
    },
    {
        "content": "<p>I was able to register another application that uses https and support client secret</p>",
        "id": 153905641,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1505005910
    },
    {
        "content": "<p>...but now I get an error trying to connect: it seems that your end point does not support CORS</p>",
        "id": 153905642,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1505005938
    },
    {
        "content": "<p>New C17 track builds on prior. See <a href=\"http://wiki.hl7.org/index.php?title=201801_Consumer_Centered_Data_Exchange\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=201801_Consumer_Centered_Data_Exchange\">http://wiki.hl7.org/index.php?title=201801_Consumer_Centered_Data_Exchange</a></p>",
        "id": 153930966,
        "sender_full_name": "John Moehrke",
        "timestamp": 1517007660
    },
    {
        "content": "<p>Are we planning to do a brief track meeting tomorrow morning to go over the 3 different \"architecture\" description provided in the wiki, and also the word doc that describes the test environment?</p>",
        "id": 153930981,
        "sender_full_name": "Sandeep Giri",
        "timestamp": 1517009209
    },
    {
        "content": "<p>Great video put together of the Connectathon track update report - <a href=\"https://vimeo.com/253352106\" target=\"_blank\" title=\"https://vimeo.com/253352106\">https://vimeo.com/253352106</a></p>",
        "id": 153933199,
        "sender_full_name": "Sandeep Giri",
        "timestamp": 1517275910
    },
    {
        "content": "<p>Quick question to folks from MiHIN, New Wave, and DXC:</p>\n<p>When MiHIN and New Wave share their patient consent information with DXC's Resource Server (RS), do they send a FHIR Consent resource to DXC, which the DXC's RS stores in its own framework to validate request access from clients like DXC Record Viewer, CilnFHIR, and Humetrics? Or, is DXC's RS make a call in real-time to MiHIN or New Wave to check for patient consent each time the DXC RS gets a client request?</p>\n<p>Also, how does it know which FHIR resources are covered by which consent directive? Does it need to keep track of resources whose access is governed by consents provided by MiHIN vs New Wave vs DXC's own Consent Manager?</p>",
        "id": 153933200,
        "sender_full_name": "Sandeep Giri",
        "timestamp": 1517276607
    },
    {
        "content": "<p>And a question to folks from ClinFHIR and Humertrics:</p>\n<p>When your client calls DXC's RS, does the client have to do anything special regarding managing consent, or does the client delegate all the responsibility to DXC's RS? In other words, as a client, do you care which records you have access to? Wouldn't you just ask for FHIR resources on behalf of a patient, and expect the RS to check for patient consent before sending those resources back to your client?</p>",
        "id": 153933201,
        "sender_full_name": "Sandeep Giri",
        "timestamp": 1517276623
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> <span class=\"user-mention\" data-user-id=\"194138\">@Aaron Seib</span> <span class=\"user-mention\" data-user-id=\"193645\">@Patrick M</span></p>",
        "id": 153933202,
        "sender_full_name": "Sandeep Giri",
        "timestamp": 1517276880
    },
    {
        "content": "<p>yep. As a client, I authenticate to the RS (via the AS), then send normal FHIR queries to the RS. I do send the role, purpose and organization in the call (in an HTTP header) which is what the back end systems use (in conjunction with the Consent) to decide what to return to me. The way we send the role/purpose/org does need to be standardized I feel (currently they are in a comma delimited string).</p>",
        "id": 153933203,
        "sender_full_name": "David Hay",
        "timestamp": 1517277776
    },
    {
        "content": "<p>I started a profile (constraints on Consent) that defines what the DXC solution currently supports. It s just a work in progress, a scratchpad...  This s what it looks like on Simplifier. More work needed to defined further vocabulary constraints. <a href=\"https://simplifier.net/AuditEventforRESTque/DHPconsent\" target=\"_blank\" title=\"https://simplifier.net/AuditEventforRESTque/DHPconsent\">https://simplifier.net/AuditEventforRESTque/DHPconsent</a></p>",
        "id": 153933425,
        "sender_full_name": "John Moehrke",
        "timestamp": 1517321810
    },
    {
        "content": "<p>Hi. Bo Dagnall from DXC here. We have a working implementation of a consent manager, resource server with consent processing capabilities and a security labeling service. All of this was used at the Connectathon. We are excited to work you all. Please let me know if and how you would like to connect</p>",
        "id": 153934446,
        "sender_full_name": "Bo Dagnall",
        "timestamp": 1517443147
    },
    {
        "content": "<blockquote>\n<p>Anybody from DXC here? Would like to try to connect to your FHIR end point</p>\n</blockquote>\n<p>Bo Dagnall from DXC here. We are happy to connect with you. <a href=\"mailto:bo.dagnall@dxc.com\" title=\"mailto:bo.dagnall@dxc.com\">bo.dagnall@dxc.com</a></p>",
        "id": 153934447,
        "sender_full_name": "Bo Dagnall",
        "timestamp": 1517443212
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span>  - I noticed you scratched out \"consentingParty\" -wouldn't we want to include this to track who is the consent intended for? IOW, I understood that \"consentingParty\" is how a patient/user can designate sharing with a specific app or organization - no?</p>",
        "id": 153934718,
        "sender_full_name": "Sandeep Giri",
        "timestamp": 1517508111
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"193282\">@Bo Dagnall</span> - your examples were very helpful to understand some simple options for implementing this. I imagine your architecture assumes an independent Consent Server (CS) that is being consulted by many different FHIR Resource Servers (RS). In that sense, does the RS then poll the CS each time it receives a resources request (to check if the patient has consented to sharing)?</p>",
        "id": 153934719,
        "sender_full_name": "Sandeep Giri",
        "timestamp": 1517508366
    },
    {
        "content": "<p>very interesting <span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> - thanks for clarifying. What could be some options for standardizing the sending of role, purpose, and org? Could this be done via OAuth tokens?</p>",
        "id": 153934720,
        "sender_full_name": "Sandeep Giri",
        "timestamp": 1517508635
    },
    {
        "content": "<p>I am posting an email exchange between Sandeep as it is relevant to this discussion:</p>\n<p>When MiHIN and New Wave share their patient consent information with DXC's Resource Server (RS), do they send a FHIR Consent resource to DXC, which the DXC's RS stores in its own framework to validate request access from clients like DXC Record Viewer, CilnFHIR, and Humetrics? Or, is DXC's RS make a call in real-time to MiHIN or New Wave to check for patient consent each time the DXC RS gets a client request?</p>\n<p>[Dagnall, Bo] It can work either way, but for the Connectahon, the DXC Consent Manager pushed a consent resource into the RS every time the patient updated their consent entries. For the MiHIN consents, the DXC RS fetched the consent resources every 30 seconds. This is configurable.</p>\n<p>Also, how does it know which FHIR resources are covered by which consent directive? Does it need to keep track of resources whose access is governed by consents provided by MiHIN vs New Wave vs DXC's own Consent Manager?  </p>\n<p>[Dagnall, Bo] The governance authority of a consent resource was not considered during the Connectathon. Thus, all consents were treated equally regardless of source. However, we did have login in place to avoid conflicting consents. If DXC recorded a consent then MiHIN sent a more recent consent, the MiHIN consent overrode the prior consent. Our DXC Consent Manager UI will update to show the updated consent provisions sent from MiHIN. In a real-world implementation, we would need to have mechanisms in place to handle different consent authorities.</p>\n<p>And a question to folks from ClinFHIR and Humertrics: When your client calls DXC's RS, does the client have to do anything special regarding managing consent, or does the client delegate all the responsibility to DXC's RS? In other words, as a client, do you care which records you have access to? Wouldn't you just ask for FHIR resources on behalf of a patient, and expect the RS to check for patient consent before sending those resources back to your client?</p>\n<p>[Dagnall, Bo] Yes, the RS handles all the consent checking and redaction prior to sending the data back to the client. The client has no responsibility for knowing what is sensitive or for handling sensitive or restricted information.</p>",
        "id": 153934729,
        "sender_full_name": "Bo Dagnall",
        "timestamp": 1517509914
    },
    {
        "content": "<p>wrt how to send the role and other stuff, I'd have to defer to the OAuth experts. But, I understand that the WG is looking at making the scope token richer, so that might be an option...</p>",
        "id": 153934768,
        "sender_full_name": "David Hay",
        "timestamp": 1517516172
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192382\">@Sandeep Giri</span>  the profile is a representation of what is currently coded. Not necessarly the goal, just what they needed today. Many times when we removed an element, I captured a note as to why.  In this case I don't see that I captured a note. <span class=\"user-mention\" data-user-id=\"193282\">@Bo Dagnall</span>  do you have a comment?</p>",
        "id": 153934780,
        "sender_full_name": "John Moehrke",
        "timestamp": 1517516726
    },
    {
        "content": "<p>What John said is correct wrt to our implementation of the Consent resource. We had to make assumptions about what provided the most value for the Connectathon. We elected to focus on patient, organization, policy (opt in or out), and exceptions (deny or permit) based on actor (which we interpreted as role), purpose of use and security label. We did not apply security labels at the overall consent level just at the exception level. Over the weekend, we had discussions about including consenting organization so we can manage business rules to process consents from different organizations and also including provider name to be able to define exceptions at the individual person level. Grahame Grieves also talked to me about how the value sets for purpose and for security label overlap. He explained the need to differentiate between saying that the purpose of use is, for example, \"behavioral health\" and the security label tags the data under the category \"behavioral health\". I suppose it is possible that someone could permit data for the purpose of behavioral health and then deny access to behavioral health data given this duality. We need to better understand the best way to handle these value sets in relation to each other.</p>",
        "id": 153935038,
        "sender_full_name": "Bo Dagnall",
        "timestamp": 1517593645
    },
    {
        "content": "<blockquote>\n<p>thanks <span class=\"user-mention\" data-user-id=\"193282\">@Bo Dagnall</span> - your examples were very helpful to understand some simple options for implementing this. I imagine your architecture assumes an independent Consent Server (CS) that is being consulted by many different FHIR Resource Servers (RS). In that sense, does the RS then poll the CS each time it receives a resources request (to check if the patient has consented to sharing)?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"192382\">@Sandeep Giri</span> At this point, we make no assumptions about the consent server. We effectively have a configurable tool that can either push or pull consents from one or more sources. If pulling, OHC (our resource server) can pre-fetch and cache or pull dynamically. If these is a designated authority for consent resources, we can configure our solution to point to that only. Alternatively, we can consider defining business rules that allow us to handle consent from multiple authorities and understand how to process them accordingly. In this scenario, we need guidance from the community on what those business rules should be. Interesting topic...</p>",
        "id": 153935042,
        "sender_full_name": "Bo Dagnall",
        "timestamp": 1517593903
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"193282\">@Bo Dagnall</span> -- I'm interested in outlining the implementation of a rather simple scenario where a patient is authorizing/consenting a specific care provider to share their health records with a specific 3rd party app controlled by the patient (for example - I as a patient want to authorize/consent my care provider UCSF to share my health records with a digital health app on my iPhone, or HealthKit).  </p>\n<p>In that scenario, most likely the resource server, authorization server, and the consent server, will be all provided/managed by UCSF (I understand that it doesn't have to be this way, but I'm trying to outline a simple way for a provider to share data with apps without jumping through many hoops). As such, when I tell my iPhone app to go get my health records from UCSF, UCSF's authorization server can then pop up a challenge for me to log into UCSF's patient portal, and when I do so, UCSF can \"record\" the app as a trusted 3rd party (app) controlled by a  trusted patient (me). Now, UCSF may additionally want to ask me how much of my health records do I want to share with this app -- everything, nothing , or everything that is not marked \"restricted\" or \"very restricted\", and record my response as my authorization/consent on record so that anytime this particular app asks for my data, UCSF can consult my preference and decide what it can share. </p>\n<p>Assuming this interaction makes sense, I'm curious if the \"consentingParty\" attribute is the right place to define the specific app with whom the patient has authorized or consented to sharing of their health records.</p>",
        "id": 153935104,
        "sender_full_name": "Sandeep Giri",
        "timestamp": 1517608323
    },
    {
        "content": "<p>David - just trying to parse your statement here.  Which WG is working to make the scope token richer?  I've been trying to aggregate what I learned from the connectathon and think for some use cases and scenarios the token is going to need a have a greater role.</p>",
        "id": 153935189,
        "sender_full_name": "Aaron Seib",
        "timestamp": 1517774130
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192382\">@Sandeep Giri</span>  the app in that case would be in a Consent.provision.actor.reference (Device) as role 110150 (application)</p>",
        "id": 153935190,
        "sender_full_name": "John Moehrke",
        "timestamp": 1517774249
    },
    {
        "content": "<p>The app is not consenting, it is being given authority.</p>",
        "id": 153935191,
        "sender_full_name": "John Moehrke",
        "timestamp": 1517774265
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193282\">@Bo Dagnall</span> It is very true that the vocabulary used for security tags (the HCS) is made up of codes that have different meanings  when used in different ways. Used in one way, tags on data, they indicate the kind of data (metadata), and thus point toward the kind of policy that would be used to protect them. A variant on this is the difference between sensitivity tags, and compartment tags; both are very similar yet discussed different. Used in a symmetric way, tags within a policy, to indicate the kind of data that policy applies to. Used an another way, tags on a transaction request, are an assertion of intent (meta-transaction), such as a promise t only use the result in a constrained way (e.g. PurposeOfUse).  Used in yet-another way, as tags on a transaction full of data, as a condition of use (aka obligation).  These four ways (metadata, policy tags, scope, and obligations) are all possible. I would like to suggest that when used in this way, it is clear what the meaning is. However there are some cases where there is mixed messages in documentation.</p>",
        "id": 153935192,
        "sender_full_name": "John Moehrke",
        "timestamp": 1517774729
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194138\">@Aaron Seib</span> HL7 is working on making normative the SMART-on-FHIR specification first defined by Argonaut, they have done one normative ballot, and are harmonizing to a first normative edition. This first edition will be as close to existing SMART-on-FHIR as possible, but along the way many comments (negative ballots) are being delayed to be considered during second version. It will be in this second version that scopes will be made more rich.  This effort will not start until the first is finished, so we all have no idea where it will ultimately head, but we have all committed to do it.</p>",
        "id": 153935193,
        "sender_full_name": "John Moehrke",
        "timestamp": 1517774892
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span>  - Is it known who at HL7 is leading the effort on the second version?</p>",
        "id": 153935194,
        "sender_full_name": "Aaron Seib",
        "timestamp": 1517775075
    },
    {
        "content": "<p>SMART-on-FHIR is a co work of FHIR-I and Security</p>",
        "id": 153935195,
        "sender_full_name": "John Moehrke",
        "timestamp": 1517775158
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> &amp; <span class=\"user-mention\" data-user-id=\"192382\">@Sandeep Giri</span> - what are your guys thoughts regarding the IG that we started at the connectathon?  I think it is going to be immensly valuable and would like to get it out into the sunshine unless you guys think we should hold back?</p>",
        "id": 153935196,
        "sender_full_name": "Aaron Seib",
        "timestamp": 1517775204
    },
    {
        "content": "<p>I don't think we got it far enough for it to be understood properly, right? It is important to make sure it is understandable by someone not present.</p>",
        "id": 153935200,
        "sender_full_name": "John Moehrke",
        "timestamp": 1517775933
    },
    {
        "content": "<p>smart on fhir is being balloted as trial use, not normative.</p>",
        "id": 153935202,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517776046
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192382\">@Sandeep Giri</span> - I'm very interested in the use case of patient authorising sharing records between other cases directly too</p>",
        "id": 153935203,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517776086
    },
    {
        "content": "<blockquote>\n<p>I don't think we got it far enough for it to be understood properly, right? It is important to make sure it is understandable by someone not present.<br>\n```. I agree with you. I want to keep pushing it forward.  I can set up a webinar for those interested to joining a working session to keep it going forward.</p>\n</blockquote>",
        "id": 153935206,
        "sender_full_name": "Aaron Seib",
        "timestamp": 1517776267
    },
    {
        "content": "<p>thanks all -- <span class=\"user-mention\" data-user-id=\"194138\">@Aaron Seib</span> , I think it will be beneficial to discuss the draft IG with perhaps the track participants over a webinar (and/or via the Google doc draft) .. will be great to iterate on it and publish it as an IG on <a href=\"http://simplifier.net\" target=\"_blank\" title=\"http://simplifier.net\">simplifier.net</a></p>",
        "id": 153935236,
        "sender_full_name": "Sandeep Giri",
        "timestamp": 1517804460
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192382\">@Sandeep Giri</span> Absolutely  - NATE would be happy to host a webinar to go over what we started at the connectathon.  I will sent out a note to see who'd be interested in attending such a working meeting.</p>",
        "id": 153936483,
        "sender_full_name": "Aaron Seib",
        "timestamp": 1518127693
    }
]