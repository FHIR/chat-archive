[
    {
        "content": "<p>From a user standpoint - if a query is made to find a Formulary drug  to figure out the available drug plan and cost sharing options, the information to be fetched in return is going to be a combination of MedicationKnowledge &amp; List (CovergaePlan). Example somebody looked up Acetaminophen. The query should ideally be able to return all such MedicationKnowledge resources satisfying the Drug Name paameter and along with that it should also return the 'List' (CoveragePlan profile) in which the MedicationKnowledge resource is referred as an entry item. I am using this query -[base]/MedicationKnowledge?_profile=http://hl7.org/fhir/us/davinci-drug-formulary/StructureDefinition/usdf-FormularyDrug&amp;DrugName=Acetaminophen&amp;_revinclude=List:item. But I am unable to find a way to emphasize that the 'List' should also be such which complies to the Davinci CoveragePlan profile: <a href=\"http://hl7.org/fhir/us/davinci-drug-formulary/StructureDefinition/usdf-CoveragePlan\">http://hl7.org/fhir/us/davinci-drug-formulary/StructureDefinition/usdf-CoveragePlan</a>. Is there a better way to query this or a workaround by which I could filter the List as well by the profile? I would be grateful if you could shed some light on this.Thank you in advance. <span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 228997439,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1614967419
    },
    {
        "content": "<p>@Tushar Nair<br>\nI suspect most clients would want to retrieve the CoveragePlan info once, and constrain searches in the formulary to one PlanID.<br>\nThat is how the MITRE reference client works. Using the _revinclude may work, but support for _revinclude is not required by the current IG.<br>\nSupport for _profile search parameter is also not currently required. So, if you are building a client, you shouldn't expect that to work.</p>\n<p>Here is an example, using Rxnorm code instead of name, since it returns less data. If you want to filter to include only MedicationKnowledge instances that are compliant with the IG, you could add a PlanID search parameter, or look for a PlanID extension in the returned data. There is currently no way to filter List instances, other than looking for the CoveragePlan specific extensions, or by querying using the IG-specific searchParameters (e.g., PlanID). If you are doing reverse include, the only LIst instances that should reference a FOrmularyDrug (MedicationKnowledge) instance should be the right ones.</p>\n<p><a href=\"https://davinci-drug-formulary-ri.logicahealth.org/fhir/MedicationKnowledge?code=1049225&amp;_revinclude=List:item\">https://davinci-drug-formulary-ri.logicahealth.org/fhir/MedicationKnowledge?code=1049225&amp;_revinclude=List:item</a></p>",
        "id": 229017949,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1614975458
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"215604\">Saul Kravitz</span> Thank you!</p>",
        "id": 229417181,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1615261661
    }
]