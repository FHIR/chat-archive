[
    {
        "content": "<p>Lloyed and all,</p>",
        "id": 153875029,
        "sender_full_name": "Gang Chen",
        "timestamp": 1488815618
    },
    {
        "content": "<p>Lloyed and all, I have POST the data into an extened field of a collection in FHIR server with following fhir extension document. But when GET the data, it seems the fhir server only returned the url other than an extended field name. Does anyone know how to do it ?</p>",
        "id": 153875030,
        "sender_full_name": "Gang Chen",
        "timestamp": 1488816050
    },
    {
        "content": "<p>I think you'll have to provide examples</p>",
        "id": 153875086,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1488830358
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193401\">@Gang Chen</span> This would typically be an implementer thread topic rather than social stream (for next time).  If you can share exactly what you're posting and getting back we may be able to help more.</p>",
        "id": 153875122,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1488838582
    },
    {
        "content": "<p>Lloyd and Grahame, I will put a subject into a proper stream next time. Here is the example for POST and GET. As you can see, both field diagnosed and dateEstimated are extended from AllergIntolerance. When GET the data, the fhir server did not return both extended fields as we expected, i.e.<br>\n......<br>\n\"extension\":[{\"diagnosed\": true}, {\"dateEstimated\": true}]<br>\n......</p>\n<p>Example:</p>\n<p>POST: <a href=\"http://34.194.17.236/hapi-fhir-jpaserver-example/AllergyIntolerance\" target=\"_blank\" title=\"http://34.194.17.236/hapi-fhir-jpaserver-example/AllergyIntolerance\">http://34.194.17.236/hapi-fhir-jpaserver-example/AllergyIntolerance</a><br>\nData Body:<br>\n{<br>\n                \"resourceType\":\"AllergyIntolerance\",<br>\n                \"category\":\"medication\",<br>\n                \"patient\":{\"reference\":\"Patient/123\"},<br>\n                \"substance\":{<br>\n                                \"coding\":[{<br>\n                                                \"display\":\"Citrus Allergy\",<br>\n                                                \"code\":418085001,<br>\n                                                \"system\":\"<a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">http://snomed.info/sct</a>\"<br>\n                                }]<br>\n                },<br>\n                \"onset\":\"2017-02-01T00:00:00-05:00\",<br>\n                \"extension\": [<br>\n                                {<br>\n                                                \"url\": \"<a href=\"http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-diagnosed\" target=\"_blank\" title=\"http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-diagnosed\">http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-diagnosed</a>\",<br>\n                                                \"valueBoolean\": true<br>\n                                },<br>\n                                {<br>\n                                                \"url\": \"<a href=\"http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-dateEstimated\" target=\"_blank\" title=\"http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-dateEstimated\">http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-dateEstimated</a>\",<br>\n                                                \"valueBoolean\": true<br>\n                                }<br>\n                ]<br>\n}</p>\n<p>GET: <a href=\"http://34.194.17.236/hapi-fhir-jpaserver-example/AllergyIntolerance\" target=\"_blank\" title=\"http://34.194.17.236/hapi-fhir-jpaserver-example/AllergyIntolerance\">http://34.194.17.236/hapi-fhir-jpaserver-example/AllergyIntolerance</a><br>\nData result:<br>\n    {<br>\n      \"fullUrl\": \"<a href=\"http://34.194.17.236/hapi-fhir-jpaserver-example/AllergyIntolerance/58b85ccc2ab79c00096fad83\" target=\"_blank\" title=\"http://34.194.17.236/hapi-fhir-jpaserver-example/AllergyIntolerance/58b85ccc2ab79c00096fad83\">http://34.194.17.236/hapi-fhir-jpaserver-example/AllergyIntolerance/58b85ccc2ab79c00096fad83</a>\",<br>\n      \"resource\": {<br>\n        \"resourceType\": \"AllergyIntolerance\",<br>\n        \"id\": \"58b85ccc2ab79c00096fad83\",<br>\n        \"meta\": {<br>\n          \"versionId\": \"1\",<br>\n          \"lastUpdated\": \"2017-03-02T17:56:28.866+00:00\",<br>\n          \"profile\": [<br>\n            \"<a href=\"http://hl7.org/fhir/profiles/AllergyIntolerance\" target=\"_blank\" title=\"http://hl7.org/fhir/profiles/AllergyIntolerance\">http://hl7.org/fhir/profiles/AllergyIntolerance</a>\"<br>\n          ]<br>\n        },<br>\n        \"extension\": [<br>\n          {<br>\n            \"url\": \"<a href=\"http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-dateEstimated\" target=\"_blank\" title=\"http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-dateEstimated\">http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-dateEstimated</a>\",<br>\n            \"valueBoolean\": true<br>\n          },<br>\n          {<br>\n            \"url\": \"<a href=\"http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-diagnosed\" target=\"_blank\" title=\"http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-diagnosed\">http://34.194.17.236/hapi-fhir-jpaserver-example/StructureDefinition/allergyintolerance-diagnosed</a>\",<br>\n            \"valueBoolean\": true<br>\n          }<br>\n        ],<br>\n        \"onset\": \"2017-02-01T00:00:00-05:00\",<br>\n        \"patient\": {<br>\n          \"reference\": \"Patient/123\"<br>\n        },<br>\n        \"substance\": {<br>\n          \"coding\": [<br>\n            {<br>\n              \"system\": \"<a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">http://snomed.info/sct</a>\",<br>\n              \"code\": \"418085001\",<br>\n              \"display\": \"Citrus Allergy\"<br>\n            }<br>\n          ]<br>\n        },<br>\n        \"category\": \"medication\"<br>\n      }<br>\n    }</p>",
        "id": 153875233,
        "sender_full_name": "Gang Chen",
        "timestamp": 1488896766
    },
    {
        "content": "<p>Why would you expect a short name?</p>",
        "id": 153875256,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1488912243
    },
    {
        "content": "<p>looks like the server returned what you provided, in a different order</p>",
        "id": 153875262,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1488914851
    },
    {
        "content": "<p>We'd like to POST the data for extended fields with using their short names (if this is possible), and GET the data under their short names, just similar to the reference field (see the patient in the above example).</p>\n<p>Using the short name would reduce the parser burden of the front-end implementation, typically when there exist multiple collections with their extended fields.</p>",
        "id": 153875525,
        "sender_full_name": "Gang Chen",
        "timestamp": 1488986626
    },
    {
        "content": "<p>That's not possible because the only way to avoid collisions is with the full URL.  Short names are not guaranteed to be unique and FHIR data needs to be interpretable by any arbitrary FHIR consumer anywhere in the world (that's what makes it a standard rather than proprietary interface).  We understand the penalty this incurs in terms of instance size.  We've explored various alternatives around namespacing approaches, etc.  But this is the one the community has settled on so far as \"least worst\".</p>",
        "id": 153875549,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1488991230
    },
    {
        "content": "<p>Well, I am not quite understanding your statement \"that is not possible because ... to avoid collisions...\". Conceptually I thought a reference field is a special extension, isn't it ?</p>",
        "id": 153875798,
        "sender_full_name": "Gang Chen",
        "timestamp": 1489084538
    }
]