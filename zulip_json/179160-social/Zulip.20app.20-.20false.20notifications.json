[
    {
        "content": "<p>I have a persistent false notification number on the iPhone app icon. No notification is shown when I open it, and <a href=\"http://chat.fhir.org\">chat.fhir.org</a> shows no unanswered notification. I've tried the usual - turn notifications on/off, even uninstalling / reinstalling; when I reinstalled, the \"1\" was there even before I told it what server to connect to!  WTH?</p>",
        "id": 202921248,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1593954932
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192151\">@Tim Abbott</span> Is this a known issue?  (It's not one I've seen on my own iPhone...)</p>",
        "id": 202922444,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1593956912
    },
    {
        "content": "<p>Hm - upon reinstalling, it made me re-enter uname &amp; pwd, and NOW the false notification is gone. Strange, though.</p>",
        "id": 202922973,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1593957798
    },
    {
        "content": "<p>And now it's back! :-)</p>",
        "id": 202924100,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1593959813
    },
    {
        "content": "<p>The badge notifications on iOS are new (though they've been present on Android for over a year).  We're aware of some bugs with the new feature on iOS, but I don't think anyone has reported that failure mode before.  I'll pass this one to our mobile team.</p>",
        "id": 203017866,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1594056554
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197491\">@Dave deBronkart</span> are you seeing this issue right now?</p>",
        "id": 203026485,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1594061350
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192151\">@Tim Abbott</span> sir yes sir <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span> <a href=\"/user_uploads/10155/6wfYfcgpanZfLVOKJ8M5ryFo/IMG_7149.PNG\">IMG_7149.PNG</a> <a href=\"/user_uploads/10155/egno41irpIc7P0d7MhiIunZ-/IMG_7148.PNG\">IMG_7148.PNG</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/6wfYfcgpanZfLVOKJ8M5ryFo/IMG_7149.PNG\" title=\"IMG_7149.PNG\"><img src=\"/user_uploads/10155/6wfYfcgpanZfLVOKJ8M5ryFo/IMG_7149.PNG\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/egno41irpIc7P0d7MhiIunZ-/IMG_7148.PNG\" title=\"IMG_7148.PNG\"><img src=\"/user_uploads/10155/egno41irpIc7P0d7MhiIunZ-/IMG_7148.PNG\"></a></div>",
        "id": 203026801,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1594061519
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 203026850,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1594061526
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 203026865,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1594061539
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 203026867,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1594061543
    },
    {
        "content": "<p>In case it's of interest, separately a few hours ago I started getting unwanted notifications from my Fitbit app, asking me every ten minutes to turn on Location Services so it can provide unwanted special services, ahem.  I've asked on their community forum and nobody's responded yet. </p>\n<p>I'm on iOS 13.4.1 (never upgraded to 13.5, and am ignoring 13.5.1, which <a href=\"https://www.zdnet.com/article/ios-13-5-1-suffers-from-a-horrible-battery-drain-issue/\">allegedly</a> causes battery drain for some.  But for YOU I would take the risk :-) ... just ask</p>",
        "id": 203027390,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1594061813
    },
    {
        "content": "<p>Interesting!</p>",
        "id": 203030446,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1594063609
    },
    {
        "content": "<p>So, looking at our server-side data structures, it appears that you're not expected to have any active push notifications in the server's understanding of the situation.</p>",
        "id": 203030483,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1594063635
    },
    {
        "content": "<p>We have a theory for what the client-side bug could be here.</p>",
        "id": 203030538,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1594063678
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197491\">@Dave deBronkart</span> did you read the message that mentioned you using the mobile app?</p>",
        "id": 203030590,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1594063690
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192151\">Tim Abbott</span> <a href=\"#narrow/stream/179160-social/topic/Zulip.20app.20-.20false.20notifications/near/203030590\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"197491\">Dave deBronkart</span> did you read the message that mentioned you using the mobile app?</p>\n</blockquote>\n<p>I'm open to any suggestion but I have no clue what you mean by that.   :puzzled:</p>",
        "id": 203031058,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1594063967
    },
    {
        "content": "<p>Just for grins, <span class=\"user-mention\" data-user-id=\"192151\">@Tim Abbott</span> , I've just turned off Zulip notifications on my phone, which made the (1) go away.  Let me know what to do next.  (Within the app, all three notification switches are set to On.)</p>",
        "id": 203035094,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1594066279
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192151\">@Tim Abbott</span> fwiw I just upgraded iOS to 13.5.1 and the fake notification “1” is still there</p>",
        "id": 203143029,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1594147625
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197491\">@Dave deBronkart</span> yeah, I expect that your turning off Zulip notifications may actually have added to the problem.  The bug is a client-side bug that causes the client to ignore the notification to change the badge count to 0 when you read the message if the app was focused at the time that notification arrived.  So the count of 1 should be automatically fixed the next time you receive a notification ... but that likely won't happen if you disable delivery of mobile notifications to the device at the device level.</p>",
        "id": 203149724,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1594150553
    },
    {
        "content": "<p>I can live with that.  Hey guess what - you tagged me and now it's fixed! Thx.</p>",
        "id": 203204391,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1594156791
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192151\">@Tim Abbott</span> or anyone,</p>\n<p>Continuing the above from long ago - </p>\n<p>Some time ago I stopped getting notifications on iPhone. As far as I can tell, every setting in the app and phone is turned on, but I never see anything on the badge. Advice?</p>",
        "id": 213187841,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1602609331
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197491\">@Dave deBronkart</span> sorry for the slow reply.  The badge feature for iOS is currently disabled pending debugging some subtle interaction issue that resulted in the \"remove count\" notifications not being delivered.</p>",
        "id": 217319939,
        "sender_full_name": "Tim Abbott",
        "timestamp": 1605814746
    }
]