[
    {
        "content": "<p>What's the expectation of how the 2 required identifier should be populated?<br>\n<a href=\"https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.SubmissionSet.html\">https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Minimal.SubmissionSet.html</a><br>\nDoes that mean the cardinality of the second slice <code>entryUUID</code> in the underlying profile is constrained to 1..1 ?<br>\n<a href=\"https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.List.html\">https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.List.html</a></p>",
        "id": 254586085,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632423424
    },
    {
        "content": "<p>it very much depends on the use-case.. and sorry if that is not clear.  What is your use-case? Are you Publishing, or are you Pushing?   Are you looking to do minimal metadata, or XDS-on-FHIR? I presume you are implementing the Document Source?</p>",
        "id": 254587406,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632423839
    },
    {
        "content": "<p>I guess these specific element level profiling are not too specific to those questions.</p>",
        "id": 254588030,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632424082
    },
    {
        "content": "<p>a Document Source is NOT expected to include an entryUUID, that would tend to be added by the Registry, as that is the unique identifier the Registry understands. In a pure FHIR world, this is fully redundant with the .id . but is included in the model to support widest interoperability.</p>",
        "id": 254588184,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632424152
    },
    {
        "content": "<p>I don't have a use case (yet), I'm just randomly browsing the spec, trying to understand it :D</p>",
        "id": 254588192,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632424156
    },
    {
        "content": "<p>the other .identifier is expected to be assigned by the Document Source</p>",
        "id": 254588409,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632424243
    },
    {
        "content": "<p>in a pure FHIR environment, these are both not very useful... as the .id is what everyone will use.</p>",
        "id": 254588521,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632424275
    },
    {
        "content": "<p>but I couldn't use the .id because the .id can't be an OID, and the entryUUID in XDS/XCA must be an OID.</p>",
        "id": 254588563,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632424296
    },
    {
        "content": "<p>so this dissonance had to be supported by using the .identifier</p>",
        "id": 254588594,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632424312
    },
    {
        "content": "<p>I think the scenario currently in my head is the following: I have several Documents with DocumentReferences in my system and I want to send a single one of them via MHD: How do I populate the fields in ITI-65? What can I resuse, what is additional information a user would have to put in...?</p>",
        "id": 254588755,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632424389
    },
    {
        "content": "<p>so a PUSH scenario.. expected that you need to create a SubmissionSet. The role of this is to explain to the recipient who sent this, why they sent it, etc....  may again seem redundant to the details in the DocumentReference, but this potential redundancy enables you to send content that someone else authored.</p>",
        "id": 254588992,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632424497
    },
    {
        "content": "<p>I guess we should have a third use-cases that is specifically just a push distinguished from publish in 1 -- <a href=\"https://profiles.ihe.net/ITI/MHD/1334_overview.html#13342-use-case-1-publication-of-new-documents\">https://profiles.ihe.net/ITI/MHD/1334_overview.html#13342-use-case-1-publication-of-new-documents</a></p>",
        "id": 254589780,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632424850
    },
    {
        "content": "<p>Sorry, I still don't understand the difference between PUSH and Publish.  <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 254590010,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632424943
    },
    {
        "content": "<p>push can get away without fully filling out the metadata. Publish needs to fill out the comprehensive metadata. This because publishing is for the purpose of supporting searching. if the metadata is not filled out, then it is not discoverable.. where as with push, if the recipient doesn't understand something, they can pick up the phone and ask \"WHAT?\"</p>",
        "id": 254590334,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632425068
    },
    {
        "content": "<p>Hm, ok. In that case, I want to \"publish\". <br>\nLet me rephrase my scenario: I want to build my internal document exchange and storage as sustainable and interoperable as possible.<br>\nI want to make sending my Documents through MHD(optionally with XDS) as easy as possible. One of the things I would do is make sure, I have all the comprehensive Metadata captured, make sure that my document type codes can be mapped to XDS  etc. So if my user decides to send/publish(?) a document (e.g. into a Patient's EHR), all that needs to happen in my system is a bit of terminology $translate magic, Bundle everything up and the document is on it's way.</p>\n<p>The submission set however isn't a thing that I already have in my system, it needs to be created at runtime based on the existing information plus maybe some user input. So I'm trying to figure out. Which of the required List elements can be automatically populated and which can't.</p>",
        "id": 254592295,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632425829
    },
    {
        "content": "<p>Backstory: We're currently working on hammering out the requirements for document exchange within hospitals in Germany. FHIR-based document exchange between subsystems and EHR systems will be mandatory and have to comply with the specification. Germany has an XDS-ish PHR and many of the documents in the hospitals will have to be published to the Patient's PHR. We want to make sure, that all requirements are met as early as possible in the chain to allow for an easy transition between internal and external document exchange either via MHD Gateway or directly via MHD when the PHRs are updated with RESTtful APIs at some point in the future.</p>",
        "id": 254594227,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632426662
    },
    {
        "content": "<p>okay, then you need to follow the <a href=\"https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Comprehensive.ProvideBundle.html\">https://profiles.ihe.net/ITI/MHD/StructureDefinition-IHE.MHD.Comprehensive.ProvideBundle.html</a></p>",
        "id": 254595579,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632427259
    },
    {
        "content": "<p>see the Definition on that page</p>",
        "id": 254595609,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632427269
    },
    {
        "content": "<p>It still should be easy to populate this, as in your case it seems like the SubmissionSet is just needing to express why is this document being published now. This can be many fixed values, or values pulled from the DocumentReference.</p>",
        "id": 254595707,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632427322
    },
    {
        "content": "<p>OK, back to my initial question: For my SubmissionSet List to validate against the 2..* constraint on identifier, I have to put in a uniqueId and...?</p>",
        "id": 254597670,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632428144
    },
    {
        "content": "<p>you as a Document Source must populate one. you can't put in the entryUUID.</p>",
        "id": 254597906,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632428228
    },
    {
        "content": "<p>hmmm, interesting.. I need to look into that.</p>",
        "id": 254598116,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632428305
    },
    {
        "content": "<p>Yes, I think the cardinality on the identifier element doesn't make sense, <br>\n1..* would work because one of the slices is mandatory anyway, </p>\n<p>On I side note: For the UUID-Slice, the system should be fixed to <code>urn:ietf:rfc:3986</code><br>\nAnd all identifier slices might benefit from a 1..1 constraint on system and value.</p>",
        "id": 254598945,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632428589
    },
    {
        "content": "<p>yup, good comment. but only the entryUUID must be an OID.</p>",
        "id": 254599118,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632428649
    },
    {
        "content": "<p>so, looking at the IHE normative specification about SubmissionSet and Document Source... seems both are manditory - <a href=\"https://profiles.ihe.net/ITI/TF/Volume3/ch-4.3.html#4.3.1\">https://profiles.ihe.net/ITI/TF/Volume3/ch-4.3.html#4.3.1</a></p>",
        "id": 254599215,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632428681
    },
    {
        "content": "<p>not clear to me why. but that is why I have 2..*</p>",
        "id": 254599245,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632428693
    },
    {
        "content": "<p>I'll put in some issues in github for these...</p>",
        "id": 254599363,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632428746
    },
    {
        "content": "<p><a href=\"https://github.com/IHE/ITI.MHD/issues/93\">https://github.com/IHE/ITI.MHD/issues/93</a><br>\n<a href=\"https://github.com/IHE/ITI.MHD/issues/92\">https://github.com/IHE/ITI.MHD/issues/92</a></p>",
        "id": 254600416,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632429198
    },
    {
        "content": "<p>Would it cause any issues if I put the same UUID into both...?</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code><span class=\"nt\">&lt;identifier&gt;</span>\n  <span class=\"nt\">&lt;use</span> <span class=\"na\">value =</span> <span class=\"s\">\"official\"</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;system</span> <span class=\"na\">value=</span><span class=\"s\">\"urn:ietf:rfc:3986\"</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;value</span> <span class=\"na\">value =</span><span class=\"s\">\"56a0b15e-1e24-40db-b976-cf13e409c079\"</span><span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/identifier&gt;</span>\n<span class=\"nt\">&lt;identifier&gt;</span>\n  <span class=\"nt\">&lt;use</span> <span class=\"na\">value =</span> <span class=\"s\">\"usual\"</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;system</span> <span class=\"na\">value=</span><span class=\"s\">\"urn:ietf:rfc:3986\"</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;value</span> <span class=\"na\">value =</span><span class=\"s\">\"56a0b15e-1e24-40db-b976-cf13e409c079\"</span><span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/identifier&gt;</span>\n</code></pre></div>\n<p>...I mean it's stupid, but it's probably what I would do as a maliciously compliant implementer <span aria-label=\"smiling devil\" class=\"emoji emoji-1f608\" role=\"img\" title=\"smiling devil\">:smiling_devil:</span></p>",
        "id": 254601555,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632429635
    },
    {
        "content": "<p>we are having spirited discussion in IHE.    replicating would not be proper, but I fully get why that would be the natural reaction. Hence the reason I have started the spirited discussion in IHE.   The essence I am coming to understand is that the MHD clients should never need these values and should never populate them. The problem is that today the spec mandates them.</p>",
        "id": 254698276,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632488012
    },
    {
        "content": "<p>I would recommend you just, for now, create yet-another GUID.</p>",
        "id": 254698388,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632488064
    }
]