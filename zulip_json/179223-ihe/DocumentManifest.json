[
    {
        "content": "<p>In case one doesn't use the \"grouping\" capability of DocumentManifest (i.e. XDS Submissionset) it seems the role of DocumentManifest in MHD is limited to that of \"Provenance\". I understand why the resource exists if one wishes to be compatible with XDS, but if one starts looking at MHD from a FHIR perspective without knowing anything about XDS.b it may be difficult to explain as to why it exists.  <br>\nIf the use of DocumentManifest resource is required in MHD, how would one explain its use (its raison 'detre) to someone who is not familiar with XDS.b at all ? I'm sure I'll be asked that question in upcoming FHIR training courses.. (we're adding MHD to its contents)</p>",
        "id": 153922800,
        "sender_full_name": "René Spronk",
        "timestamp": 1512406462
    },
    {
        "content": "<p>Hi Rene,  I addressed this on my blog last week. It is indeed not that useful for a Document Consumer except in exceptional cases. The purpose of a DocumentManifest is like any manifest (think packing slip in a box delivered by the postal carrier), as a listing of the things included in a package that was sent. Thus even in XDS, the SubmissionSet (DocumentManifest) is there to group the set of DocumentEntry (DocumentReference) as a 'set'... The consumer use-case is to answer the question: Given I am looking at this document, what else did the publishing actor publish at the same time.   so, from a document consumer perspective, the DocumentReference and document are the main things to care about; and in MHD the DocumentManifest is mostly ignore-able. A Server can choose to not ever return a DocumentManifest, which would be the case if you didn't have any...   See <a href=\"https://healthcaresecprivacy.blogspot.com/2017/11/hie-future-bright-fhir-api-to-document.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2017/11/hie-future-bright-fhir-api-to-document.html\">https://healthcaresecprivacy.blogspot.com/2017/11/hie-future-bright-fhir-api-to-document.html</a></p>",
        "id": 153922817,
        "sender_full_name": "John Moehrke",
        "timestamp": 1512411859
    },
    {
        "content": "<p>Thanks, I somehow missed that blogpost.  <br>\nAs you point out SubmissionSets/DocumentManifest has only a few edge use cases, they're not part of the 80% of MHD. As such I'd expect the support for DocumentManifest to be an actor-option for the DocumentResponder actor, and not a required feature. <br>\nI would even argue that we should remove DocumentManifest from FHIR, given the exotic use cases for it, and the fact that it could be easily replaced by a) adding the SubmissionSet.uniqueId as one of the DocumentReference.context.related.identifiers [thus allowing for querying on things contained in a submission set should that ever be necessary], b) adding a Provenance resource that links to all the resources contained in the MHD submit transaction bundle.  <br>\nAgain: given that alternative, why does DocumentManifest even exist as a resource?</p>",
        "id": 153922931,
        "sender_full_name": "René Spronk",
        "timestamp": 1512469349
    },
    {
        "content": "<p>Given my argument in my blog, I think DocumentManifest is essentially optional on the consumption side. There is nothing compelling a Document Consumer to show they have implemented it, and there is no requirements on a Document Responder that it return anything other than zero results.  Given this, I don't see why it is stressing you.</p>",
        "id": 153922950,
        "sender_full_name": "John Moehrke",
        "timestamp": 1512480396
    },
    {
        "content": "<p>When you focus only on the consumption side, it might seem unnecessary.  But if you do need it on the consumption side, and you don't have it, then there are problems.</p>",
        "id": 153922951,
        "sender_full_name": "John Moehrke",
        "timestamp": 1512480631
    },
    {
        "content": "<p>Note that this is exactly the same way that SubmissionSet is handled in XCA. so there is precedent.</p>",
        "id": 153922952,
        "sender_full_name": "John Moehrke",
        "timestamp": 1512480660
    },
    {
        "content": "<p>On the Publication side, it is important to add context to a set of DocumentReferences. When pushing toward an XDS environment, it is critical to fill out the SubmissionSet. When doing a end-to-end push, this context of the transaction is defined in the DocumentManifest. When used with another infrastructure like Direct, the DocumentManifest identifies the target Direct address to send the package to.  Where as DocumentReference is purely metadata about the document regardless of transnational context. SubmissionSet is all about defining the context.</p>",
        "id": 153922953,
        "sender_full_name": "John Moehrke",
        "timestamp": 1512480728
    },
    {
        "content": "<p>As to 80%... it is used quite often. More so for organization-to-organization; less so for an terminal application doing nothing but displaying the document.   But we can not pick use-cases to fit a pre-conceived notion of 80%; we must truly look at current market.</p>",
        "id": 153922954,
        "sender_full_name": "John Moehrke",
        "timestamp": 1512480841
    },
    {
        "content": "<p>What harm do you see because DocumentManifest exists?</p>",
        "id": 153922955,
        "sender_full_name": "John Moehrke",
        "timestamp": 1512480858
    },
    {
        "content": "<p>It doesn't do any harm, although in general we have to take care to avoid the creation of resources types if they're rarely ever used. I can see the use case in the case of XDR (Direct). I'm not familiar with the XCA case for SubmissionSet, so I'll have to read up on that. Anyway, I'd suggest support for DocumentReference be an option (in MHD), and not mandatory.</p>\n<p>At this point in time I see DocumentReference doesn't allow for on-demand documents. A reference to a Compostion resource would be desirable in that case. Attachment.url could be a URL which includes the $document operation..  I take it the limitation to stable documents was done to keep things simple?</p>",
        "id": 153922972,
        "sender_full_name": "René Spronk",
        "timestamp": 1512485000
    },
    {
        "content": "<p>My point on XCA is that SubmissionSet is handled the same way as I handle it in MHD. It is allowed to be carried, and there are query capabilities; but no mandate.</p>",
        "id": 153922973,
        "sender_full_name": "John Moehrke",
        "timestamp": 1512485224
    },
    {
        "content": "<p>I don't understand what the effect on option as you mention would be. The result would be the same as it is without the option.</p>",
        "id": 153922974,
        "sender_full_name": "John Moehrke",
        "timestamp": 1512485257
    },
    {
        "content": "<p>There is nothing special in MHD to support on-demand. In fact the wording on attachment.uri is very careful to allow for any format of the URI, and that a consumer must simply do a GET on the URI. Thus on-demand is just as supported as anything.</p>",
        "id": 153922975,
        "sender_full_name": "John Moehrke",
        "timestamp": 1512485345
    },
    {
        "content": "<p>Well, currently as a document submitter MHD requires me to create a DocumentManifest, even if there is no use case for it. DocumentReference plus Binary would be sufficient in most mobile use cases.</p>\n<p>The MHD spec mentions DocumentManifest, DocumentReference, List and Binary as resources. I gather List is only used to represent the Folder concept ? (if so I can safely ignore it, nobody seems to be using Folders)</p>",
        "id": 153922994,
        "sender_full_name": "René Spronk",
        "timestamp": 1512490607
    }
]