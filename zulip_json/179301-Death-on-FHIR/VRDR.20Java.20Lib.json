[
    {
        "content": "<p>Time of Injury in the VRDR-Injury-Incident is in Zulu time in VRDR.   </p>\n<p>I am using the .toHumanDisplay method in the VRDR Java Lib (see below) to process the date.  This seems to be working assuming the date is converted to AM/PM vs 24 hour format.</p>\n<p>But the business would like data be in 24 hour format.</p>\n<p>Are there helper methods for working with dates in 24 format?</p>\n<div class=\"codehilite\"><pre><span></span><code>                    if (injuryIncidentList.get(0).getEffectiveDateTimeType() != null &amp;&amp; !injuryIncidentList.get(0).getEffectiveDateTimeType().isEmpty()) {\n                        log.debug(String.format(&quot;Date/Time of Injury[%s]&quot;, injuryIncidentList.get(0).getEffectiveDateTimeType()));\n                        log.debug(String.format(&quot;Date/Time of Injury[%s] (toHumanDisplay)&quot;, injuryIncidentList.get(0).getEffectiveDateTimeType().toHumanDisplay()));\n                        SimpleDateFormat dateTimeFormat = new SimpleDateFormat(&quot;MMM dd, yyyy HH:mm:ss a&quot;);\n                        Date parsedTimeDate = dateTimeFormat.parse(injuryIncidentList.get(0).getEffectiveDateTimeType().toHumanDisplay());\n                        SimpleDateFormat yyyyMMddFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n                        log.debug(String.format(&quot;Date of Injury[%s]&quot;, yyyyMMddFormat.format(parsedTimeDate)));\n                        deathRecord.setInjuryDt(new Timestamp(parsedTimeDate.getTime()));\n                        SimpleDateFormat hhMMFormat = new SimpleDateFormat(&quot;HHmm&quot;);\n                        log.debug(String.format(&quot;Time of Injury[%s]&quot;, hhMMFormat.format(parsedTimeDate)));\n                        deathRecord.setInjuryTm(hhMMFormat.format(parsedTimeDate));\n                        if (injuryIncidentList.get(0).getEffectiveDateTimeType().toHumanDisplay().endsWith(&quot;AM&quot;)) {\n                            deathRecord.setInjuryTmInd(&quot;A&quot;);\n                        } else if (injuryIncidentList.get(0).getEffectiveDateTimeType().toHumanDisplay().endsWith(&quot;PM&quot;)) {\n                            deathRecord.setInjuryTmInd(&quot;P&quot;);\n                        } else {\n                            log.error(&quot;InjuryTmInd should never be anything other than AM or PM.&quot;);\n                        }\n                    } else {\n                        log.debug(&quot;No date of injury provided...&quot;);\n                        deathRecord.setInjuryDt(null);\n                        deathRecord.setInjuryTm(null);\n                        deathRecord.setInjuryTmInd(null);\n                    }\n\n\n\n\n\n  &quot;fullUrl&quot;: &quot;Observation/edc22fab-bddc-4998-8c14-32bcb5670b8f&quot;,\n  &quot;resource&quot;: {\n    &quot;id&quot;: &quot;edc22fab-bddc-4998-8c14-32bcb5670b8f&quot;,\n    &quot;meta&quot;: {\n      &quot;profile&quot;: [\n        &quot;http://hl7.org/fhir/us/vrdr/StructureDefinition/VRDR-Injury-Incident&quot;\n      ]\n    },\n    &quot;extension&quot;: [\n      {\n        &quot;url&quot;: &quot;http://www.hl7.org/fhir/us/vrdr/StructureDefinition/VRDR-Injury-Location&quot;,\n        &quot;valueReference&quot;: {\n          &quot;reference&quot;: &quot;Location/15d0a832-d9fe-493e-b83c-b1411c43643a&quot;\n        }\n      }\n    ],\n    &quot;code&quot;: {\n      &quot;coding&quot;: [\n        {\n          &quot;system&quot;: &quot;http://loinc.org&quot;,\n          &quot;code&quot;: &quot;11374-6&quot;,\n          &quot;display&quot;: &quot;Injury incident description&quot;\n        }\n      ]\n    },\n    &quot;subject&quot;: {\n      &quot;reference&quot;: &quot;Patient/c3ffe013-be0e-447f-86b6-ff108ffd26d9&quot;\n    },\n    &quot;effectiveDateTime&quot;: &quot;2020-11-17T00:00:00-05:00&quot;,\n    &quot;valueString&quot;: &quot;Fell off building&quot;,\n    &quot;component&quot;: [\n      {\n        &quot;code&quot;: {\n          &quot;coding&quot;: [\n            {\n              &quot;system&quot;: &quot;http://loinc.org&quot;,\n              &quot;code&quot;: &quot;69450-5&quot;,\n              &quot;display&quot;: &quot;Place of injury&quot;\n            }\n          ]\n        },\n        &quot;valueString&quot;: &quot;Office Building&quot;\n      },\n      {\n        &quot;code&quot;: {\n          &quot;coding&quot;: [\n            {\n              &quot;system&quot;: &quot;http://loinc.org&quot;,\n              &quot;code&quot;: &quot;69448-9&quot;,\n              &quot;display&quot;: &quot;Injury leading to death associated with transportation event&quot;\n            }\n          ]\n        },\n        &quot;valueCodeableConcept&quot;: {\n          &quot;coding&quot;: [\n            {\n              &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v2-0136&quot;,\n              &quot;code&quot;: &quot;N&quot;,\n              &quot;display&quot;: &quot;No&quot;\n            }\n          ]\n        }\n      },\n      {\n        &quot;code&quot;: {\n          &quot;coding&quot;: [\n            {\n              &quot;system&quot;: &quot;http://loinc.org&quot;,\n              &quot;code&quot;: &quot;69444-8&quot;,\n              &quot;display&quot;: &quot;Did death result from injury at work&quot;\n            }\n          ]\n        },\n        &quot;valueCodeableConcept&quot;: {\n          &quot;coding&quot;: [\n            {\n              &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v2-0136&quot;,\n              &quot;code&quot;: &quot;Y&quot;,\n              &quot;display&quot;: &quot;Yes&quot;\n            }\n          ]\n        }\n      }\n    ],\n    &quot;resourceType&quot;: &quot;Observation&quot;\n  }\n},\n</code></pre></div>\n\n<p><span class=\"user-mention\" data-user-id=\"194612\">@Michael Riley</span></p>",
        "id": 248277024,
        "sender_full_name": "Doug Wheeler",
        "timestamp": 1628023046
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"295307\">@Doug Wheeler</span> Hey Doug, just  getting back from my vacation in over 2 years that's why the response is so late :)</p>\n<p>Hapi Fhir uses the apache lang3 utils, and uses the FastDateFormat MEDIUM version. <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/FastDateFormat.html\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/FastDateFormat.html</a></p>\n<p>If you need the right format, unfortunately I think you have to do it yourself.</p>\n<ul>\n<li>Initialize a Format instance with the AM/PM formatting you need</li>\n<li>Retreive the Instant class from the DateTimeDT</li>\n<li>Format the instance</li>\n</ul>",
        "id": 248849355,
        "sender_full_name": "Michael Riley",
        "timestamp": 1628517446
    }
]