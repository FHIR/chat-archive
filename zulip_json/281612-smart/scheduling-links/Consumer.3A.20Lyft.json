[
    {
        "content": "<p>Hello, I work at Lyft and we're wondering if there's a way to bulk export all the active vaccine locations listed on VaccineFinder. Can anyone here point me in the right direction? Thanks!</p>",
        "id": 235552991,
        "sender_full_name": "Alan Fritzler",
        "timestamp": 1619027310
    },
    {
        "content": "<p>Welcome! This chat is focused on standards for just this kind of information. It's still early days and we're iterating on the standards and building out support. <a href=\"https://github.com/smart-on-fhir/smart-scheduling-links/wiki/Connectathon-Plans\">https://github.com/smart-on-fhir/smart-scheduling-links/wiki/Connectathon-Plans</a> describes the testing event we're conducting this month, and <a href=\"https://docs.google.com/spreadsheets/d/1Fh0zwCjKYh4D-Mp1k5uxzINh6GG0yI1ezko49VaJV2c/edit#gid=0\">this spreadsheet</a> includes a list of participating publication endpoints.</p>",
        "id": 235553301,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619027442
    },
    {
        "content": "<p>You can fetch a bulk-publish manifest and then fetch any output files with <code>type: Location</code>.</p>",
        "id": 235553382,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619027479
    },
    {
        "content": "<p>You can fetch all locations from a publication endpoint (in this example: <code>$BULK_PUBLISH</code> var) via:</p>\n<div class=\"codehilite\"><pre><span></span><code> wget -qO- $BULK_PUBLISH | tee &#39;manifest.json&#39; | jq -r  &#39;.output | .[] | select(.type == &quot;Location&quot;) | .url&#39; | xargs -n 1 -P $PARALLEL_CONNECTIONS wget -q\n</code></pre></div>",
        "id": 235553775,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619027647
    },
    {
        "content": "<p>Thanks, Josh. Nice to virtually meet you and super helpful. Are there any plans to expose this data in other formats besides the endpoints? For example, publishing a periodically updated CSV?</p>",
        "id": 235731551,
        "sender_full_name": "Alan Fritzler",
        "timestamp": 1619118458
    },
    {
        "content": "<p>We've been focused on FHIR as the \"common denominator,\" but I bet you could build a FHIR-to-CSV mapping tool for this use case (skipping or collapsing some of the nested/repeating structures, perhaps) in like 200 lines of code ;-) It could be a good exercise!</p>",
        "id": 235736340,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619120467
    },
    {
        "content": "<p>Gotcha. I'm not a developer but if you know someone that is working on this would be helpful to understand and re-purpose for my use case!</p>",
        "id": 236260207,
        "sender_full_name": "Alan Fritzler",
        "timestamp": 1619479508
    },
    {
        "content": "<p>Sure thing. And if you have developers who would be interested in contributing, please send folks our way!</p>",
        "id": 236261356,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619480271
    }
]