[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code><span class=\"nb\">export</span> <span class=\"nv\">BULK_PUBLISH</span><span class=\"o\">=</span><span class=\"s1\">'https://raw.githubusercontent.com/jmandel/wba-appointment-fetch/gh-pages/$bulk-publish'</span>\n<span class=\"nb\">export</span> <span class=\"nv\">PARALLEL_CONNECTIONS</span><span class=\"o\">=</span><span class=\"m\">16</span>\nwget -qO- <span class=\"nv\">$BULK_PUBLISH</span> <span class=\"p\">|</span> tee <span class=\"s1\">'manifest.json'</span> <span class=\"p\">|</span> jq -r  <span class=\"s1\">'.output | .[] | .url'</span> <span class=\"p\">|</span> xargs -n <span class=\"m\">1</span> -P <span class=\"nv\">$PARALLEL_CONNECTIONS</span> wget -q\n</code></pre></div>\n<p>For me this fetches 211 files with 28k resources in ~5 seconds.</p>\n<p>(Edit to fix back-ticks, add <code>tee</code>to save manifest file.)</p>",
        "id": 234907450,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618600960
    },
    {
        "content": "<p>Thanks for sharing, this is great</p>",
        "id": 234910049,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1618602282
    }
]