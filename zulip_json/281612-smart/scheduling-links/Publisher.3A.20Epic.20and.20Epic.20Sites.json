[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> are you working with the teams at Mercy and Ochsner to get $bulk-publish endpoints in place? (And if not, let me know if there are steps that would help get things moving.)</p>",
        "id": 234176324,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618240121
    },
    {
        "content": "<p>I am working with Mercy.  I will reach out to Ochsner and see where they are and get things moving.</p>",
        "id": 234181475,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1618241937
    },
    {
        "content": "<p>Excellent! (I sent emails to folks in both orgs and cc'd you, too.)</p>",
        "id": 234181893,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618242084
    },
    {
        "content": "<p>I do have our <a href=\"http://fhir.epic.com\">fhir.epic.com</a> sandbox set up with our $bulk-publish endpoint:  <a href=\"https://fhir.epic.com/interconnect-fhir-oauth/api/epic/2021/Scheduling/Utility/covid-vaccine-availability/$bulk-publish\">https://fhir.epic.com/interconnect-fhir-oauth/api/epic/2021/Scheduling/Utility/covid-vaccine-availability/$bulk-publish</a>.  This doesn't require any authentication, however you do need to provide a custom Epic HTTP header with a client ID.  I've registered a client ID specifically for the connectathon that all participants can use.  This is the http header:<br>\n<code>Epic-Client-ID:b7ff78db-4a95-4098-8183-2424b980a1f3</code></p>",
        "id": 234242171,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1618267942
    },
    {
        "content": "<p>Cool! Will you add these details into the sign up sheet?</p>",
        "id": 234242281,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618268035
    },
    {
        "content": "<p>(<a href=\"https://docs.google.com/spreadsheets/d/1Fh0zwCjKYh4D-Mp1k5uxzINh6GG0yI1ezko49VaJV2c/edit\">https://docs.google.com/spreadsheets/d/1Fh0zwCjKYh4D-Mp1k5uxzINh6GG0yI1ezko49VaJV2c/edit</a>)</p>",
        "id": 234242350,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618268059
    },
    {
        "content": "<p>Done</p>",
        "id": 234242954,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1618268484
    },
    {
        "content": "<p>Quick note <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span>  -- looks like your <code>Schedule</code>s have a double-slash (<code>//</code>) instead of a single when they reference Location (<code>Schedule.actor.reference</code>). (Now I'm curious if the validation tool picks this up.)</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>$ curl -s  -H <span class=\"s1\">'Epic-Client-ID:b7ff78db-4a95-4098-8183-2424b980a1f3'</span> <span class=\"s1\">'https://fhir.epic.com/interconnect-fhir-oauth/api/epic/2021/Scheduling/Utility/covid-vaccine-availability/WI/Schedule'</span> <span class=\"p\">|</span> jq\n<span class=\"o\">{</span>\n  <span class=\"s2\">\"resourceType\"</span>: <span class=\"s2\">\"Schedule\"</span>,\n  <span class=\"s2\">\"id\"</span>: <span class=\"s2\">\"no5eEpXeqGRlxmYRff0DtmQ1S6E11BU353w1FJkbOqc=\"</span>,\n  <span class=\"s2\">\"actor\"</span>: <span class=\"o\">[</span>\n    <span class=\"o\">{</span>\n      <span class=\"s2\">\"reference\"</span>: <span class=\"s2\">\"Location//OJ7KdmjeqoVUl2njbHkzA==\"</span>\n    <span class=\"o\">}</span>\n  <span class=\"o\">]</span>,\n  <span class=\"s2\">\"serviceType\"</span>: <span class=\"o\">[</span>\n    <span class=\"o\">{</span>\n      <span class=\"s2\">\"coding\"</span>: <span class=\"o\">[</span>\n        <span class=\"o\">{</span>\n          <span class=\"s2\">\"system\"</span>: <span class=\"s2\">\"http://terminology.hl7.org/CodeSystem/service-type\"</span>,\n          <span class=\"s2\">\"code\"</span>: <span class=\"s2\">\"57\"</span>,\n          <span class=\"s2\">\"display\"</span>: <span class=\"s2\">\"Immunization\"</span>\n        <span class=\"o\">}</span>,\n        <span class=\"o\">{</span>\n          <span class=\"s2\">\"system\"</span>: <span class=\"s2\">\"http://fhir-registry.smarthealthit.org/CodeSystem/service-type\"</span>,\n          <span class=\"s2\">\"code\"</span>: <span class=\"s2\">\"covid19-immunization\"</span>,\n          <span class=\"s2\">\"display\"</span>: <span class=\"s2\">\"COVID-19 Immunization Appointment\"</span>\n        <span class=\"o\">}</span>\n      <span class=\"o\">]</span>\n    <span class=\"o\">}</span>\n  <span class=\"o\">]</span>\n<span class=\"o\">}</span>\n</code></pre></div>",
        "id": 234260271,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618282060
    },
    {
        "content": "<p>I just pushed an update our tests so the user can provide a custom header (and the test flags a warning because it violates a 'should' requirement regarding open access).</p>",
        "id": 234260945,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1618282737
    },
    {
        "content": "<p>Turns out this passes the cross-resource reference check because the ID of the location resource itself starts with a \"/\".</p>",
        "id": 234260977,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1618282795
    },
    {
        "content": "<p>Thanks for adding this feature <span class=\"user-mention\" data-user-id=\"192576\">@Robert Scanlon</span>  -- and good call on the source of the bug. Glad this got caught somewhere!</p>",
        "id": 234261162,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618282909
    },
    {
        "content": "<p>Surprisingly (to me) though, the HL7 FHIR validator doesn't seem to flag this id as being invalid?  \"/\" isn't valid for the <code>id</code> data type, right? <a href=\"https://www.hl7.org/fhir/datatypes.html#id\">https://www.hl7.org/fhir/datatypes.html#id</a></p>",
        "id": 234261345,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1618283047
    },
    {
        "content": "<p>Agreed, invalid! Does Inferno have its own checks for <a href=\"http://Resource.id\">Resource.id</a>, or did it miss this by relying on the FHIR validator?</p>",
        "id": 234261503,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618283165
    },
    {
        "content": "<p>(will you file a bug on the HL7 FHIR validator?)</p>",
        "id": 234261525,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618283200
    },
    {
        "content": "<p>This instance of Inferno is configured to use the HL7 validator for resource/profile-level validation, because the HL7 validator is currently more fully featured than our Ruby validator.  We'll look at it closer tomorrow to make sure this isn't on the Inferno side somehow.  I find it surprising that the HL7 validator would miss this.  FYI <span class=\"user-mention\" data-user-id=\"191647\">@Michael O'Keefe</span></p>",
        "id": 234261901,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1618283568
    },
    {
        "content": "<p>It did pick up the fact that Location.address is an Array instead of an Object though, so that needs to be fixed.</p>",
        "id": 234262017,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1618283714
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192576\">@Robert Scanlon</span> I just tried validating that <code>Location</code> object against our HL7 validator service, and also the latest Validator JAR build from <code>org.hl7.fhir.core</code>. Neither of them picked up the leading slash in the <code>Location</code> ID as an error. Sounds like it's a bug with the <code>org.hl7.fhir.core</code> validator code</p>",
        "id": 234313152,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1618315854
    },
    {
        "content": "<p>Issue posted here: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/issues/476\">https://github.com/hapifhir/org.hl7.fhir.core/issues/476</a></p>",
        "id": 234329030,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1618322104
    },
    {
        "content": "<p>I'm looking into the // Location reference issue.  We are using a different ID generation scheme than we do for our normal FHIR API, so it might be that it can sometimes generate an ID with a /.  Anyway, I'm looking at it.</p>",
        "id": 234329639,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1618322298
    },
    {
        "content": "<p>I just pushed a fix for the /-in-FHIR-ID issue to the <a href=\"http://fhir.epic.com\">fhir.epic.com</a> sandbox.</p>",
        "id": 234355675,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1618330330
    },
    {
        "content": "<p>Re: booking deep links,  does the booking portal have any support for incoming context (appointment types, date, etc)?</p>",
        "id": 234356779,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618330740
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> is there a caching delay before the new ID goes live? I'm still seeing the old <code>\"id\": \"/OJ7KdmjeqoVUl2njbHkzA==\"</code></p>",
        "id": 234356987,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1618330805
    },
    {
        "content": "<p>I'm seeing the updates.</p>",
        "id": 234357728,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618331078
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>$ curl -s  \\\n-H &#39;Epic-Client-ID:b7ff78db-4a95-4098-8183-2424b980a1f3&#39; \\\n&#39;https://fhir.epic.com/interconnect-fhir-oauth/api/epic/2021/Scheduling/Utility/covid-vaccine-availability/WI/Location&#39; | \\\njq | \\\nhead\n\n{\n  &quot;resourceType&quot;: &quot;Location&quot;,\n  &quot;id&quot;: &quot;-OJ7KdmjeqoVUl2njbHkzA&quot;,\n  &quot;name&quot;: &quot;EHS Covid Vaccination Clinic&quot;,\n  &quot;telecom&quot;: [\n    {\n      &quot;system&quot;: &quot;phone&quot;,\n      &quot;value&quot;: &quot;000-555-1234&quot;\n    }\n  ],\n</code></pre></div>",
        "id": 234357822,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618331108
    },
    {
        "content": "<p>Weird. For some reason, this is what I'm seeing:</p>",
        "id": 234357941,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1618331153
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>-H &#39;Epic-Client-ID:b7ff78db-4a95-4098-8183-2424b980a1f3&#39; \\\n&#39;https://fhir.epic.com/interconnect-fhir-oauth/api/epic/2021/Scheduling/Utility/covid-vaccine-availability/WI/Location&#39; | \\\njq | \\\nhead\n{\n  &quot;resourceType&quot;: &quot;Location&quot;,\n  &quot;id&quot;: &quot;/OJ7KdmjeqoVUl2njbHkzA==&quot;,\n  &quot;name&quot;: &quot;EHS Covid Vaccination Clinic&quot;,\n  &quot;telecom&quot;: [\n    {\n      &quot;system&quot;: &quot;phone&quot;,\n      &quot;value&quot;: &quot;000-555-1234&quot;\n    }\n  ],```\n</code></pre></div>",
        "id": 234357948,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1618331156
    },
    {
        "content": "<p>Could be a caching thing on our end. I'll try again later</p>",
        "id": 234358053,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1618331180
    },
    {
        "content": "<p>We have two load balanced servers.  It's possible one of them didn't get the DLL update.  I'm re-pushing it to both now just to be sure.  We shouldn't be sending cached content from our end,  and I wouldn't expect curl to cache.</p>",
        "id": 234358264,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1618331249
    },
    {
        "content": "<p>Ah - looks like one of our load balanced servers didn't get the update.  Standby.</p>",
        "id": 234358354,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1618331283
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191647\">@Michael O'Keefe</span>  - try now.</p>",
        "id": 234358953,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1618331502
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> tried again, the IDs look correct now. Looks good!</p>",
        "id": 234359065,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1618331534
    },
    {
        "content": "<p>There are three other issues <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> we picked up <a href=\"https://infernotest.healthit.gov/community/eWXhSC20inb/test_sets/ad_hoc_testing/#SMARTSchedulingLinksSlotPublisherTests/ad_hoc_testing_SMARTSchedulingLinksSlotPublisherTests_SmartSchedulingLinksBasicSequence\">during validation</a>.  Since it isn't obvious based on the message, the Slot.start/end issue seems to be because no timezone was provided.</p>",
        "id": 234363854,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1618333315
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  worked with the BSMH team and <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> ,  added our URL to the signup spreadsheet. Should be good to begin testing, let me know how else we can assist.</p>",
        "id": 234744731,
        "sender_full_name": "JT Bennett",
        "timestamp": 1618517533
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"403498\">@JT Bennett</span> - I think there was going to be a downtime this afternoon though right?</p>",
        "id": 234744850,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1618517583
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"403498\">@JT Bennett</span>!  <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> have you tried this through Inferno?</p>",
        "id": 234746254,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618518156
    },
    {
        "content": "<p>Good point, <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> , my oversight - should be back up tomorrow AM <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span></p>",
        "id": 234746479,
        "sender_full_name": "JT Bennett",
        "timestamp": 1618518258
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> can you help me debug the following?</p>\n<div class=\"codehilite\"><pre><span></span><code>curl -H &#39;Epic-Client-ID: b7ff78db-4a95-4098-8183- 2424b980a1f3&#39;  &#39;https://chperx-tst.health-partners.org/FHIRTST/api/epic/2021/Scheduling/Utility/covid-vaccine-availability/$bulk-publish&#39;\n</code></pre></div>\n\n<p>I was thinking this would be all I needed but I'm getting a 404.</p>",
        "id": 234924218,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618608371
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  - looks like an issue with the endpoint.  <span class=\"user-mention\" data-user-id=\"403498\">@JT Bennett</span>  - I think this was the same thing Doug saw yesterday, where the re-write rule on the reverse proxy mysteriously disappeared.  Can you have him check if it got deleted somehow?</p>",
        "id": 234924507,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1618608546
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> it looks like resources from <a href=\"https://chperx-tst.health-partners.org/FHIRTST\">https://chperx-tst.health-partners.org/FHIRTST</a> still have ids with <code>=</code> in them -- is this a known issue?</p>",
        "id": 235565980,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619032678
    },
    {
        "content": "<p>Also, slot times are missing a timezone suffix (which FHIR's <code>instant</code> requires)</p>",
        "id": 235566147,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619032729
    },
    {
        "content": "<p>Yeah, we have both of those as known issues (found during connectathon).  The ID fix I have on fhir.epic, but we have more process to get that fix out to customers.  We'll be working on a package for all the issues we found during connectathon after the connectathon closes.</p>",
        "id": 235576461,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1619037181
    },
    {
        "content": "<p>If necessary, I can push updates to fhir.epic, but not (quickly) to Ochsner or Mercy</p>",
        "id": 235576517,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1619037201
    },
    {
        "content": "<p>Thanks. Any updates on Ochsner API availability?</p>",
        "id": 235577487,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619037702
    },
    {
        "content": "<p>I think we're almost there...</p>",
        "id": 235578833,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1619038337
    },
    {
        "content": "<p>The Mercy endpoints is back up now.  I've run the Inferno tests and there are some known failures.  Epic will be doing a set of fixes based on stuff we found during connectathon.  Some of those fixes I've pushed up to the fhir.epic sandbox already, but it takes longer to get those out to our sites like Mercy and Ochsner.</p>",
        "id": 235686160,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1619101221
    },
    {
        "content": "<p>Let me know if any additional failures (that are not expected) happen, happy to resolve quickly <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span></p>",
        "id": 235687067,
        "sender_full_name": "JT Bennett",
        "timestamp": 1619101511
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> I think either you or Nell mentioned on last week’s call that you were still working through whether this would be open-access for for hospitals using Epic. Are there any hospital systems that have it enabled already, and are any of them open-access?</p>\n<p>In New Jersey, the state’s been trying to get all the right App Orchard stuff set up, but has had trouble getting it done (not sure what the hold-up is; someone else has been on that), and I’m wondering if this might be another, easier route to go if any Epic customers in NJ are already using it. (And nationally, USDR would love to grab whatever we can to make more broadly available in a combined data set.)</p>",
        "id": 239288018,
        "sender_full_name": "Rob Brackett",
        "timestamp": 1621356907
    },
    {
        "content": "<p>We're still looking at our strategy.  But regardless of what Epic decides to <em>recommend</em>, the ultimate decision will likely be up to our customers.  That said, if there are any App Orchard or fhir.epic issues you need help with, I can definitely help with those.</p>",
        "id": 239288806,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1621357220
    },
    {
        "content": "<p>We had a round of fixes we needed to do from the connectathon a few weeks ago.  We're just getting those out (dose number hung us up for a while).  We'll likely not have any organizations live with PRD URLs until those fixes get deployed in the coming weeks.</p>",
        "id": 239288975,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1621357279
    },
    {
        "content": "<p><span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span> thanks, that timeframe is helpful.</p>",
        "id": 239293006,
        "sender_full_name": "Rob Brackett",
        "timestamp": 1621358753
    }
]