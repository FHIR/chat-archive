[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193299\">@Luke Duncan</span> <span class=\"user-mention\" data-user-id=\"194192\">@Richard Stanley</span> <span class=\"user-mention\" data-user-id=\"356307\">@Kunjan Patel</span> <span class=\"user-mention\" data-user-id=\"199006\">@Peter Lubell-Doughtie</span>  <span class=\"user-mention\" data-user-id=\"408480\">@Christopher Haskew</span>  for discussion on mCSD and hierarchy support / library</p>",
        "id": 270222033,
        "sender_full_name": "Carl Leitner",
        "timestamp": 1643726850
    },
    {
        "content": "<p>adding <span class=\"user-mention\" data-user-id=\"378988\">@Jenny Thompson</span> as well</p>",
        "id": 270268958,
        "sender_full_name": "Carl Leitner",
        "timestamp": 1643743080
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194192\">@Richard Stanley</span>  what's the status federated facility registry/admin hierarchy work?</p>",
        "id": 270269080,
        "sender_full_name": "Carl Leitner",
        "timestamp": 1643743110
    },
    {
        "content": "<p>GOFR supports HAPI partitions and manages them. So, each data source has its own partition and can be shared between users. The basic UI support for navigating between them is just done. But, managing a central partition that uses shared data from other partition is a WIP right now.</p>",
        "id": 270270027,
        "sender_full_name": "Richard Stanley",
        "timestamp": 1643743455
    },
    {
        "content": "<p>Another potentially helpful view of how mCSD sees the world with core resources: <a href=\"https://raw.githubusercontent.com/IHE/ITI.mCSD/main/input/images/mcsd1.png\">https://raw.githubusercontent.com/IHE/ITI.mCSD/main/input/images/mcsd1.png</a></p>\n<div class=\"message_inline_image\"><a href=\"https://raw.githubusercontent.com/IHE/ITI.mCSD/main/input/images/mcsd1.png\"><img src=\"https://uploads.zulipusercontent.net/801fe464f5860f2ee6639b4797c244733303ee5c/68747470733a2f2f7261772e67697468756275736572636f6e74656e742e636f6d2f4948452f4954492e6d4353442f6d61696e2f696e7075742f696d616765732f6d637364312e706e67\"></a></div>",
        "id": 270270533,
        "sender_full_name": "Richard Stanley",
        "timestamp": 1643743652
    },
    {
        "content": "<p>Just for completeness, here is the mCSD IG (which is currently out for public comment, so feel free to make comments, although it's mainly on the conversion to an IG):  <a href=\"https://profiles.ihe.net/ITI/mCSD/index.html\">https://profiles.ihe.net/ITI/mCSD/index.html</a></p>",
        "id": 270277942,
        "sender_full_name": "Luke Duncan",
        "timestamp": 1643746456
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"388620\">@Benjamin Mwalimu</span> or <span class=\"user-mention\" data-user-id=\"387988\">@Francis Otieno</span>  can you comment when you have the chance of how we've implemented this with FHIR Core?</p>",
        "id": 270280438,
        "sender_full_name": "Matt Berg",
        "timestamp": 1643747473
    },
    {
        "content": "<p>Sorry, had computer problems.  Here's the whitepaper as well:  <a href=\"https://profiles.ihe.net/ITI/papers/mCSD/index.html\">https://profiles.ihe.net/ITI/papers/mCSD/index.html</a></p>",
        "id": 270282530,
        "sender_full_name": "Luke Duncan",
        "timestamp": 1643748325
    },
    {
        "content": "<p>here's the hapi extension we're using for locations right now, <a href=\"https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location\">https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location</a></p>",
        "id": 270299692,
        "sender_full_name": "Peter Lubell-Doughtie",
        "timestamp": 1643754923
    },
    {
        "content": "<p><a href=\"https://github.com/opensrp/hapi-fhir-opensrp-extensions/blob/main/location/src/main/java/org/smartregister/extension/rest/LocationHierarchyResourceProvider.java\">https://github.com/opensrp/hapi-fhir-opensrp-extensions/blob/main/location/src/main/java/org/smartregister/extension/rest/LocationHierarchyResourceProvider.java</a> This class generates a location hierarchy based on the location resource <code>partOf</code> attribute.  </p>\n<p>The endpoint accepts a location <code>identifier</code> then returns the corresponding hierarchy as a resource.  Here is a link to test out the implementation <a href=\"https://fhir.labs.smartregister.org/fhir/LocationHierarchy?identifier=eff94f33-c356-4634-8795-d52340706ba9\">https://fhir.labs.smartregister.org/fhir/LocationHierarchy?identifier=eff94f33-c356-4634-8795-d52340706ba9</a> </p>\n<p>Demo user credentials<br>\nusername: <code>demo</code><br>\npassword: <code>Amani123</code></p>",
        "id": 270344305,
        "sender_full_name": "Benjamin Mwalimu",
        "timestamp": 1643786983
    },
    {
        "content": "<p>Ah, ok.  I thought you were doing multiple hierarchies, it looks like this is just for the single partOf hierarchy.  the FHIR spec also allows you to use :above and :below on queries to get results for hierarchies like that.  As well as _include:iterate and _revInclude:iterate, although in HAPI they still support using _include:recurse which was an older naming.  I'm not sure if it supports the latest naming, but the :recurse does the same thing.  Hopefully they've updated to include the current naming.</p>",
        "id": 270388201,
        "sender_full_name": "Luke Duncan",
        "timestamp": 1643810692
    },
    {
        "content": "<p>GraphQL may also be an option, but I don't know of the state of implementation for that either.</p>",
        "id": 270388504,
        "sender_full_name": "Luke Duncan",
        "timestamp": 1643810799
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"199006\">Peter Lubell-Doughtie</span> <a href=\"#narrow/stream/310477-who-smart-guidelines/topic/using.20mCSD/near/270299692\">said</a>:</p>\n<blockquote>\n<p>here's the hapi extension we're using for locations right now, <a href=\"https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location\">https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location</a></p>\n</blockquote>\n<p>this looks like it is fulfilling a requests \"give me the hierarchy given a location ID\"  right?  is there a capability statement / operation definition that underpins this?</p>\n<p>I am not sure this aligned to mCSD 3.90.4.1.2.2 <a href=\"http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension\">http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension</a> which is for hierarchies expressed through organization.</p>",
        "id": 270391669,
        "sender_full_name": "Carl Leitner",
        "timestamp": 1643812064
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191604\">Carl Leitner</span> <a href=\"#narrow/stream/310477-who-smart-guidelines/topic/using.20mCSD/near/270391669\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"199006\">Peter Lubell-Doughtie</span> <a href=\"#narrow/stream/310477-who-smart-guidelines/topic/using.20mCSD/near/270299692\">said</a>:</p>\n<blockquote>\n<p>here's the hapi extension we're using for locations right now, <a href=\"https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location\">https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location</a></p>\n</blockquote>\n<p>this looks like it is fulfilling a requests \"give me the hierarchy given a location ID\"  right?  is there a capability statement / operation definition that underpins this?</p>\n<p>I am not sure this aligned to mCSD 3.90.4.1.2.2 <a href=\"http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension\">http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension</a> which is for hierarchies expressed through organization.</p>\n</blockquote>",
        "id": 270462708,
        "sender_full_name": "Peter Lubell-Doughtie",
        "timestamp": 1643838201
    },
    {
        "content": "<p>^ sorry still getting used to zulip</p>",
        "id": 270462820,
        "sender_full_name": "Peter Lubell-Doughtie",
        "timestamp": 1643838245
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191604\">Carl Leitner</span> <a href=\"#narrow/stream/310477-who-smart-guidelines/topic/using.20mCSD/near/270391669\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"199006\">Peter Lubell-Doughtie</span> <a href=\"#narrow/stream/310477-who-smart-guidelines/topic/using.20mCSD/near/270299692\">said</a>:</p>\n<blockquote>\n<p>here's the hapi extension we're using for locations right now, <a href=\"https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location\">https://github.com/opensrp/hapi-fhir-opensrp-extensions/tree/main/location</a></p>\n</blockquote>\n<p>this looks like it is fulfilling a requests \"give me the hierarchy given a location ID\"  right?  is there a capability statement / operation definition that underpins this?</p>\n<p>I am not sure this aligned to mCSD 3.90.4.1.2.2 <a href=\"http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension\">http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension</a> which is for hierarchies expressed through organization.</p>\n</blockquote>\n<p>these issues are related, <a href=\"https://github.com/opensrp/fhircore/issues/188\">https://github.com/opensrp/fhircore/issues/188</a> and <a href=\"https://github.com/opensrp/fhircore/issues/189\">https://github.com/opensrp/fhircore/issues/189</a>, but we don't something more official. The IHE link is giving me a page not found, do you have another link to the mCSD org hierarchy? Although it's designed for organizations, does it make sense to use that for locations?</p>",
        "id": 270463372,
        "sender_full_name": "Peter Lubell-Doughtie",
        "timestamp": 1643838488
    },
    {
        "content": "<p>yes (if my location you mean geographic objects and not FHIR Location resources).   one use case is that some countries (e.g. Botswana) have two geographic hierarchies - there are administrative districts as well as health districts.  The FBO sector in Tanzania is another example of multiple geographic hierarchies.  Both of these (right <span class=\"user-mention\" data-user-id=\"193299\">@Luke Duncan</span> ? ) would be have different FHIR Organizational hierarchies with FHIR Locations for the leaf nodes = health facilities.</p>",
        "id": 270536376,
        "sender_full_name": "Carl Leitner",
        "timestamp": 1643889011
    },
    {
        "content": "<p>the link with the extension is just the declaration of the extension <a href=\"http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension\">http://ihe.net/fhir/StructureDefinition/IHE_mCSD_hierarchy_extension</a> which is referenced in the mCSD PDF <a href=\"https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_mCSD.pdf\">https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_mCSD.pdf</a></p>",
        "id": 270536451,
        "sender_full_name": "Carl Leitner",
        "timestamp": 1643889063
    },
    {
        "content": "<p>You should use this for mCSD:  <a href=\"https://profiles.ihe.net/ITI/mCSD/index.html\">https://profiles.ihe.net/ITI/mCSD/index.html</a></p>",
        "id": 270544726,
        "sender_full_name": "Luke Duncan",
        "timestamp": 1643893472
    },
    {
        "content": "<p>In mCSD, facilities are represented by a Location and Organization pair.  The multiple hierarchies are handled in the Organization side by the extension Carl mentions.  <a href=\"https://profiles.ihe.net/ITI/mCSD/StructureDefinition-IHE.mCSD.OrganizationHierarchy.html\">https://profiles.ihe.net/ITI/mCSD/StructureDefinition-IHE.mCSD.OrganizationHierarchy.html</a></p>",
        "id": 270544908,
        "sender_full_name": "Luke Duncan",
        "timestamp": 1643893556
    }
]