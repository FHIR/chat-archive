[
    {
        "content": "<p>I'm trying to assign the following:</p>",
        "id": 271472753,
        "sender_full_name": "David Pyke",
        "timestamp": 1644517308
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>  * valueQuantity = 0.8\n</code></pre></div>\n\n<p>But I get the error <br>\nCannot assign number value: 0.8. Value does not match element type: Quantity</p>",
        "id": 271472949,
        "sender_full_name": "David Pyke",
        "timestamp": 1644517385
    },
    {
        "content": "<p>I don't have a unit as it's the result of a ratio</p>",
        "id": 271472978,
        "sender_full_name": "David Pyke",
        "timestamp": 1644517397
    },
    {
        "content": "<p>I've worked around it by simply putting it directly into valueQuantity.value but that seems wrong.  Could not having a unit be a warning and not an error?</p>",
        "id": 271474471,
        "sender_full_name": "David Pyke",
        "timestamp": 1644518043
    },
    {
        "content": "<p>I think we could consider it, but the FSH spec defines a quantity literal (the shortcut syntax) as having both a value and unit -- so it would likely be a change to the spec (not just SUSHI).  The spec also shows that to set the value only, you should reference the <code>.value</code> element of the property.  See <a href=\"http://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#assignments-with-the-quantity-data-type\">Assignments with Quantity Data Type</a>.</p>\n<p>That said, I thought that in cases like you're describing, UCUM unit <code>1</code> should be used.  The doc on <a href=\"http://hl7.org/fhir/R4/datatypes.html#Ratio\">Ratio</a> even seems to imply use of Quantity w/ unit <code>1</code> (although it is admittedly a little confusing, so I'm not 100% sure).</p>",
        "id": 271477148,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1644519347
    },
    {
        "content": "<p>I guess that makes sense.  Quantity datatype doesn't mandate a unit but I can work with a unit of <code>1</code></p>",
        "id": 271478697,
        "sender_full_name": "David Pyke",
        "timestamp": 1644519903
    },
    {
        "content": "<p>I don't mind the normal sushi to require a unit. You can just assign to .value without a unit.</p>",
        "id": 271486972,
        "sender_full_name": "John Moehrke",
        "timestamp": 1644523568
    },
    {
        "content": "<p>Note that there are valid UCUM for things like <code>/{Entity}</code> (per arbitrary entity), e.g., <code>/1</code> is a valid unit.<br>\n(edit: which gives context for 0.8 and prevents people from assuming it is a % - conversely you could change it and use %.. I think either way helps reduce misinterpretation)</p>",
        "id": 271496725,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1644528326
    }
]