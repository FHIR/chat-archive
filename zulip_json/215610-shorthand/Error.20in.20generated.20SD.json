[
    {
        "content": "<p>The following element in the snapshot of a generated StructureDefinition has an invalid type.code (should be 'string' I think) - at least the HAPI $validate operation protests!)</p>\n<div class=\"codehilite\"><pre><span></span>        &quot;type&quot;: [\n          {\n            &quot;code&quot;: &quot;http://hl7.org/fhirpath/System.String&quot;,\n            &quot;extension&quot;: [\n              {\n                &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type&quot;,\n                &quot;valueUrl&quot;: &quot;string&quot;\n              }\n            ]\n          }\n        ],\n```Invalid type in SD\n</pre></div>",
        "id": 185248421,
        "sender_full_name": "David Hay",
        "timestamp": 1578599378
    },
    {
        "content": "<p>BTW - I did change the version to 4.0.0 as the public R4 servers seem to be down so I used my local copy of hapi that supports 4.0.0 ...</p>",
        "id": 185248982,
        "sender_full_name": "David Hay",
        "timestamp": 1578599714
    },
    {
        "content": "<p>This is actually a FHIR 4.0.1 thing.  In the FHIR 4.0.1 technical correction, those special fhirpath-based types were introduced for primitives and <a href=\"http://Element.id/Element.url\" target=\"_blank\" title=\"http://Element.id/Element.url\">Element.id/Element.url</a>.  I believe Grahame calls it \"compiler magic\".  If you look at the JSON of the core resource that is being profiled, you'll probably see the same code (as that's where we copied it from).</p>\n<p>If HAPI is only on 4.0.0, then it probably wouldn't expect these 4.0.1 changes.</p>",
        "id": 185263170,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1578608860
    },
    {
        "content": "<p>Ah - I did wonder about that!</p>",
        "id": 185267612,
        "sender_full_name": "David Hay",
        "timestamp": 1578612207
    }
]