[
    {
        "content": "<p>Hi All... The SUSHI beta has been out since before the Connectathon now.  We're considering moving it out of beta and into the mainline release.  For those of you who have used it, do you like it?  Do you think the new configuration is good as is?  Anything that you feel we should let die on the beta vine?</p>\n<p>For those of you who haven't used it (as well as those who have), I'm attaching a slide deck that covers the features.  I've put detailed notes in as well, so ensure your view shows the notes!</p>\n<p><a href=\"/user_uploads/10155/noby3nemz5bCFUfc7j11sfmo/SUSHI_Config_and_Integration_v2.pptx\">SUSHI_Config_and_Integration_v2.pptx</a></p>",
        "id": 199208453,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1590784400
    },
    {
        "content": "<p><em>NOTE: Those who are interested in SUSHI configuration and integration should definitely check this out</em></p>",
        "id": 199208578,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1590784464
    },
    {
        "content": "<p>I'm interested, at the same time, it seems that if I wanted to use config.yaml for an existing project, I might have a significant chunk of work ahead of me.  Is there an option to create one from existing configuration?</p>",
        "id": 199275298,
        "sender_full_name": "Keith Boone",
        "timestamp": 1590871630
    },
    {
        "content": "<p>It creates one for you on first run...</p>",
        "id": 199275445,
        "sender_full_name": "David Hay",
        "timestamp": 1590871873
    },
    {
        "content": "<p>I do like it - though I had an issue where I was running the beta locally, and found that <a href=\"#narrow/stream/179165-committers/topic/link.20address\">links to other IG's weren't working properly</a> in the autobuild (worked fine locally). When I reverted to the mainline locally then everything came right. I <em>think</em> it was related to package.json being in the wrong place (though puzzled why the autobuild even worked if that was the case)...</p>",
        "id": 199280496,
        "sender_full_name": "David Hay",
        "timestamp": 1590880524
    },
    {
        "content": "<p>I like the beta. It allows me to add definition.parameters to the ImplementationGuide-xxx.json. Otherwise I'd have to edit it after I run sushi.</p>",
        "id": 199379096,
        "sender_full_name": " Bob Milius",
        "timestamp": 1591023511
    },
    {
        "content": "<blockquote>\n<p>I do like it - though I had an issue where I was running the beta locally</p>\n</blockquote>\n<p>I suspect this is an artifact of you running the beta locally but the IG Publisher running the non-beta.  I think that once we release beta functionality to the mainline release, this would go away (since the auto build would be using the new config too).</p>",
        "id": 199380742,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591024387
    },
    {
        "content": "<p>Yeah - that was my assumption too!</p>",
        "id": 199406500,
        "sender_full_name": "David Hay",
        "timestamp": 1591036793
    },
    {
        "content": "<p>OK, sans any negative feedback, we'll be rolling this into a mainline release end of this week or beginning of next week...</p>",
        "id": 199678981,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591219640
    },
    {
        "content": "<p>This is excellent.  The config.yml is great since I have be manually editing the IG resource as a yml file anyway.    I implemented some test templates that that take menu.yml  as input.  So I am happy to see this too!</p>",
        "id": 199697555,
        "sender_full_name": "Eric Haas",
        "timestamp": 1591235264
    },
    {
        "content": "<p>I don't  see all the <a href=\"https://confluence.hl7.org/plugins/viewsource/viewpagesrc.action\">parameters</a>  listed here for the config.yml and specifically...</p>\n<div class=\"codehilite\"><pre><span></span><code>parameters:\n  show-inherited-invariants: false\n  usage-stats-opt-out: false\n  path-output: docs\n  foo: bar\n</code></pre></div>\n\n\n<p><code>path-output</code> to redirect the ig-pub output to some other directory like \"docs\" for publishing on github pages? but after testing it it looks like all the parameters are not supported</p>\n<p>and would like to be able to define custom parameters for ig resource?  (to use ig resource for defining custom Jekyll site variables in future...)</p>",
        "id": 199699699,
        "sender_full_name": "Eric Haas",
        "timestamp": 1591238448
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>.  I'd like to understand the issue a bit better.  The link you provided does not work, but I'm assuming you mean to link to the <a href=\"https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters\">Implementation Guide Parameters</a> page.  As for the parameters, with a couple of minor exceptions, SUSHI does nothing special with parameters; we just convert them to the format that the ImplementationGuide requires.  I just tested out what you wrote above and it resulted in the following parameter array in the generated ImplementationGuide JSON:</p>\n<div class=\"codehilite\"><pre><span></span><code>    <span class=\"s2\">&quot;parameter&quot;</span><span class=\"err\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;copyrightyear&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2020+&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;releaselabel&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;CI Build&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;show-inherited-invariants&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;false&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;usage-stats-opt-out&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;false&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;path-output&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;docs&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;foo&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;bar&quot;</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;path-history&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/us/sh-scratch/history.html&quot;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n<span class=\"err\">]</span>\n</code></pre></div>\n\n\n<p>This seems right to me.  Once SUSHI generates this, it's up to the IG Publisher to actually honor those parameters.  Are you experiencing something different?</p>",
        "id": 199741030,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591274963
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span>  thanks and you are correct, I had extra ig resource lurking in one of the input files.  ( Are there any ballot comments to change the folder names?  I think there are too many named \"input\" which is confusing)</p>",
        "id": 199770131,
        "sender_full_name": "Eric Haas",
        "timestamp": 1591286778
    },
    {
        "content": "<p>based on this guidance...  <a href=\"http://build.fhir.org/ig/HL7/fhir-shorthand/branches/beta/sushi.html#sushi-inputs\">http://build.fhir.org/ig/HL7/fhir-shorthand/branches/beta/sushi.html#sushi-inputs</a></p>\n<div class=\"codehilite\"><pre><span></span><code>File1.fsh\nFile2.fsh\nFile3.fsh\n...\npackage.json\n/ig-data\n├── package-list.json (optional)\n├── ig.ini (optional)\n└── /input\n    ├── ignoreWarnings.txt (optional)\n    ├── /images\n    │   ├── myGraphic.jpg\n    │   ├── myDocument.docx\n    │   └── mySpreadsheet.xlsx\n    ├── /includes\n    │   └── menu.xml (optional)\n    └── /pagecontent\n        ├── index.md\n        ├── 1_mySecondPage.md\n        ├── 2_myThirdPage.md\n        └── 3_myFourthPage.md\n</code></pre></div>\n\n\n<p>I put all my pages etc in the <code>input/pagecontent</code> folder but that did not work it needed to go in the optional <code>ig-data/input data/pagecontent</code> folder. This is confusing...</p>",
        "id": 199770218,
        "sender_full_name": "Eric Haas",
        "timestamp": 1591286820
    },
    {
        "content": "<p>The duplication of folder structures is confusing, but so is mixing SUSHI-generated output with user-provided input (which happens when we have just a single <code>input</code> folder).  This is something we have ideas about for future integrations, but need to get through this part (the config.yaml) first before we start discussing that.  One step at a time. ;-)</p>",
        "id": 200148389,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591646354
    }
]