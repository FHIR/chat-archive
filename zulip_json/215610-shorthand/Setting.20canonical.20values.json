[
    {
        "content": "<p>There are many cases where I need to specify canonical URLs, especially building Instances. I was seeing if there is something I could do with Alias, but there isn't a way to concat or interpolate. And I don't see a <code>Canonical()</code> helper/rule (like <code>Reference()</code>). Any suggestions?</p>",
        "id": 197070448,
        "sender_full_name": "Brian Kaney",
        "timestamp": 1589135287
    },
    {
        "content": "<p>So you want to be able to do something like: <code>* system = Canonical(MyCodeSystem)</code>?  Is that right?  I think we have a (not yet started) feature request to convert named types to canonicals when the target type is a canonical...  Would that do it for you or do you have other use cases?</p>",
        "id": 197145487,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589203991
    },
    {
        "content": "<p>Yep, that would do it!</p>",
        "id": 197190546,
        "sender_full_name": "Brian Kaney",
        "timestamp": 1589224132
    },
    {
        "content": "<p>I think this is along the lines of what I need, also.</p>",
        "id": 198394900,
        "sender_full_name": "John Grimes",
        "timestamp": 1590107141
    },
    {
        "content": "<p>What I am trying to do is refer to a ValueSet from a canonical-typed element in a resource instance (in this case, <code>Questionnaire.item.answerValueSet</code>.</p>\n<p>I can do it like this, but it's not ideal as the tool doesn't really recognise it as an internal reference, so the generated links go to the canonical URI rather that linking to the page within the IG that defines the ValueSet:</p>\n<div class=\"codehilite\"><pre><span></span><code>Alias: SCT = http://snomed.info/sct\n\nValueSet: MedicalHistoryOptions\nId:       MedicalHistoryOptions\n* ^url = &quot;https://csiro.au/fhir/ValueSet/MedicalHistoryOptions&quot;\n* SCT#373067005 &quot;No&quot;\n* SCT#373066001 &quot;Yes&quot;\n* SCT#261665006 &quot;Unknown&quot;\n* SCT#443390004 &quot;Refused&quot;\n\nInstance:   MedicalHistory\nInstanceOf: Questionnaire\nUsage:      #definition\n* url = &quot;https://csiro.au/fhir/Questionnaire/MedicalHistory&quot;\n* version = &quot;0.0.0&quot;\n* status = #draft\n* experimental = true\n* subjectType = #Patient\n* item[0].linkId = &quot;1&quot;\n* item[0].type = #group\n* item[0].text = &quot;Have you ever been told by a doctor or health professional that you have any of the following conditions?&quot;\n* item[0].item[0].linkId = &quot;1.1&quot;\n* item[0].item[0].type = #choice\n* item[0].item[0].code = SCT#301095005 &quot;Cardiac finding&quot;\n* item[0].item[0].text = &quot;Heart Condition&quot;\n* item[0].item[0].answerValueSet = &quot;https://csiro.au/fhir/ValueSet/MedicalHistoryOptions&quot;\n</code></pre></div>",
        "id": 198395062,
        "sender_full_name": "John Grimes",
        "timestamp": 1590107295
    },
    {
        "content": "<p>It's clear this is definitely a feature people need, so we are working on adding this in the next two weeks.</p>\n<p>One additional thing to note though, is that I don't think you should need the line:</p>\n<div class=\"codehilite\"><pre><span></span><code>* ^url = &quot;https://csiro.au/fhir/ValueSet/MedicalHistoryOptions&quot;\n</code></pre></div>\n\n\n<p>in your ValueSet. Assuming that \"<a href=\"https://csiro.au/fhir/\">https://csiro.au/fhir/</a>\" is your canonical URL that you are giving SUSHI in your configuration, that url should be automatically added to the ValueSet.</p>",
        "id": 198435310,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1590150406
    },
    {
        "content": "<p>every one of my resources has a canonical url mismatch. so I clearly am not understanding how to tell sushi and build the same canonical url.</p>",
        "id": 203503972,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594386478
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> -- is your FSH source available publicly somewhere?</p>",
        "id": 203518683,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1594393937
    },
    {
        "content": "<p>Posted in a different thread: <a href=\"https://github.com/JohnMoehrke/MHD-fsh\">https://github.com/JohnMoehrke/MHD-fsh</a></p>",
        "id": 203518929,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1594394039
    },
    {
        "content": "<p>yup, just updated that repo with the config.yaml update</p>",
        "id": 203519083,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594394110
    },
    {
        "content": "<p>I am trying to use sushi purely to process the FSH tank creating the resources for me. Everything else I want to manage in normal build tool ways. I get that there will be some overlap on things like the IG, ig.ini, etc.. so I just want to understand how that dance is intended.</p>",
        "id": 203519310,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594394211
    },
    {
        "content": "<p>im willing to dance.. just don't know the toon... learned of the config.yaml this morning.</p>",
        "id": 203519365,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594394240
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> -- if you want SUSHI to only create the resources and examples for you, then you want to add a <code>FSHOnly: true</code> property to your <code>config.yaml</code>.  If you do that, you're in charge of managing everything else (including the IG.xml/IG.json resource).</p>",
        "id": 203520180,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1594394585
    },
    {
        "content": "<p>Hey John: You do know you can set the url in the fsh file? eg:</p>\n<blockquote>\n<ul>\n<li>^url = \"<a href=\"http://hl7.org.nz/fhir/StructureDefinition/dhb\">http://hl7.org.nz/fhir/StructureDefinition/dhb</a>\"</li>\n</ul>\n</blockquote>",
        "id": 203551412,
        "sender_full_name": "David Hay",
        "timestamp": 1594410952
    },
    {
        "content": "<p>Has this feature been implemented yet? If so, is something like this possible: <code>* action.definition[x] only Canonical(PlanDefinition)</code> (\"this PlanDefinition only contains sub-PlanDefinitions\")? Tried a lot of variants w/o succes. This works <code>* action.definition[x] = Canonical(PlanDefinition)</code>but is not what I want.</p>",
        "id": 242995052,
        "sender_full_name": "Marc de Graauw",
        "timestamp": 1623923586
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"192440\">@Marc de Graauw</span>.  You shouldn't need the <code>Canonical</code> keyword there at all.  You should be able to just say: <code>* action.definition[x] only PlanDefinition</code>.</p>",
        "id": 243007611,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1623931678
    },
    {
        "content": "<p>Mmm, then I get this error: \"The type \"PlanDefinition\" does not match any of the allowed types: canonical or uri\"<br>\n<a href=\"/user_uploads/10155/TOxsv8SIlCOU8Skj070ZAh8r/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/TOxsv8SIlCOU8Skj070ZAh8r/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/TOxsv8SIlCOU8Skj070ZAh8r/image.png\"></a></div>",
        "id": 243008531,
        "sender_full_name": "Marc de Graauw",
        "timestamp": 1623932240
    },
    {
        "content": "<p>Oh, I see.  I should have looked at the FHIR definition.  I forgot that <code>action.definition[x]</code> is a <code>canonical</code> -- sorry!  I think you are correct; this is a bug!  You should be able to say <code>* action.definition[x] only Canonical(PlanDefinition)</code> since one of the choices of <code>action.definition[x]</code> is a canonical.  We will try to fix this!</p>",
        "id": 243009454,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1623932759
    },
    {
        "content": "<p>Logged as <a href=\"https://github.com/FHIR/sushi/issues/846\">SUSHI#846</a>.</p>",
        "id": 243010078,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1623933098
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 243027143,
        "sender_full_name": "Marc de Graauw",
        "timestamp": 1623940640
    }
]