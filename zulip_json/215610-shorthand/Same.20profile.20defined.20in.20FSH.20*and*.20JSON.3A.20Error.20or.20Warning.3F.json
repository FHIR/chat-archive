[
    {
        "content": "<p>Here is a bug that we're currently addressing in the beta: If you define <code>MyFooProfile</code> using FHIR Shorthand in <code>input/fsh/profiles.fsh</code> <strong>and</strong> you define <code>MyFooProfile</code> using a standard StructureDefinition in <code>input/profiles/StructureDefinition-MyFooProfile.json</code>, SUSHI 1.0.0 Beta 1 generates the FSH definition -- which becomes a <em>duplicate</em> resource definition when you run the IG Publisher.</p>\n<p>We're changing the behavior so that the JSON definition (in <code>input/profiles</code>) is preferred and the FSH definition is ignored.  We know we should notify the user that this is happening.  The question is, should it be a WARNING or an ERROR?  When SUSHI is run by the IG Publisher, an ERROR aborts the process, but a WARNING allows it to keep running.</p>\n<p>If it were considered an ERROR, authors would need to either comment out their FSH definition or delete the JSON definition.  If it were a WARNING, authors wouldn't need to do anything and might even miss the fact that they have a duplicate.  We're leaning toward making it an ERROR, but current SUSHI 0.x behavior treats it as a warning -- so we're looking for feedback.  <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> and <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> -- I think this is a feature both of you have expressed interest in, so interested in hearing from you.</p>",
        "id": 213441350,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602774967
    },
    {
        "content": "<p>I was happy with a warning. <br>\nOne reason :  sometimes I want to create an FSH, then this creates the json, and then I change the json manually, and i don't worry anymore.</p>",
        "id": 213441830,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1602775160
    },
    {
        "content": "<p>As I think of this, the main reason is that it saves me the immense task of typing a couple of /* and //.</p>",
        "id": 213441923,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1602775200
    },
    {
        "content": "<p>so, I don't know if there is a reason to have it as warning.</p>",
        "id": 213442070,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1602775248
    },
    {
        "content": "<p>Oh my no, I would never do this.  I shudder when I read why Jose wants this. :). Either use FSH for your definition or use a standard StructureDefinition, but never mix them.  What is the point of creating it in FSH in the first place?  So count me out on having an opinion on this. :)</p>",
        "id": 213442099,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1602775258
    },
    {
        "content": "<p>But this would only work well if the search is done by ID, not filename</p>",
        "id": 213442131,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1602775269
    },
    {
        "content": "<p>Now I have to look up a new verb to understand what you mean <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span>  :)</p>",
        "id": 213442419,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1602775396
    },
    {
        "content": "<p>If having this as an ERROR and adding comments is an OK solution for you <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> , I think there are some advantages to having it be an ERROR. Mainly, if someone accidentally left some JSON in <code>input/profiles</code>, and it was overwriting their FSH definitions with only a WARNING, it may be easier for them to miss that WARNING than if it was an ERROR.</p>",
        "id": 213442574,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1602775452
    },
    {
        "content": "<p>FWIW, I'm currently contributing to the CG Reporting IG migration to FSH and I find a SUSHI ERROR for duplicate profiles being more helpful.</p>",
        "id": 213442575,
        "sender_full_name": "May Terry",
        "timestamp": 1602775452
    },
    {
        "content": "<p>The search is actually done by URL.  We determine what the URL would be of the FSH definition (via a <code>^url</code> rule if it exists, or calculating it using the IG canonical base ) and compare to the URL in the SD.</p>",
        "id": 213442749,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602775534
    },
    {
        "content": "<p>those should not be mixed, indeed. I had them mixed temporarily because a man can be lazy, right?</p>",
        "id": 213442958,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1602775613
    },
    {
        "content": "<p>as i mentioned, nobody ever said fortune is for the lazy</p>",
        "id": 213443082,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1602775668
    },
    {
        "content": "<p>I agree with error</p>",
        "id": 213443258,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1602775736
    },
    {
        "content": "<p>OK.  It's sounding like all of us (so far) are at least <em>comfortable</em> with an error -- so that is probably the way we'll go on this.  <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> -- the main use case I personally think of for using this feature is if there is a bug in SUSHI that produces an incorrect SD that you <em>temporarily</em> need to override.  Or if there is some gap in the FHIR Shorthand language that makes it impossible (or at least really difficult) to do some edge case thing.</p>",
        "id": 213443292,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602775748
    },
    {
        "content": "<p>like translations?</p>",
        "id": 213443504,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1602775835
    },
    {
        "content": "<p>:)</p>",
        "id": 213443513,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1602775841
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F/near/213443504\">said</a>:</p>\n<blockquote>\n<p>like translations?</p>\n</blockquote>\n<p>Out of curiosity, what <em>is</em> the current state of support for translating IGs? Is fully supported in the IG resource? In the publisher? in fsh/sushi?</p>",
        "id": 213741164,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1603079922
    },
    {
        "content": "<p>I pointed to the other stream - in this one I meant the multi-language elements, of which I recall there are are 2:</p>\n<ul>\n<li>inside a codesystem, multiple language displays</li>\n<li>for all other stuff, use the standard extension</li>\n</ul>",
        "id": 213770310,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1603105938
    }
]