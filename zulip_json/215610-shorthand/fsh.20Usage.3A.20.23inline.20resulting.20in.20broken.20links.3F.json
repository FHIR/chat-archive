[
    {
        "content": "<p>I'm creating an IG using FSH and attempting to clear out all of my ERRORS from my qa.txt.</p>\n<p>I'm creating this inline example:</p>\n<p>Alias: $identUse = <a href=\"http://hl7.org/fhir/R4/codesystem-identifier-use.html\">http://hl7.org/fhir/R4/codesystem-identifier-use.html</a><br>\nAlias: $cpstatus = <a href=\"https://hl7.org/fhir/codesystem-request-status.html\">https://hl7.org/fhir/codesystem-request-status.html</a><br>\nAlias: $cpintent = <a href=\"https://hl7.org/fhir/codesystem-request-intent.html\">https://hl7.org/fhir/codesystem-request-intent.html</a><br>\nAlias: $rgPriority = <a href=\"https://hl7.org/fhir/codesystem-request-priority.html\">https://hl7.org/fhir/codesystem-request-priority.html</a><br>\nAlias: $docArtType = <a href=\"https://hl7.org/fhir/codesystem-related-artifact-type.html\">https://hl7.org/fhir/codesystem-related-artifact-type.html</a></p>\n<p>Instance: SomeRequestGroup1<br>\nInstanceOf: SomeRequestGroup<br>\nTitle: \"A RequestGroup\"<br>\nDescription: \"A RequestGroup\"<br>\nUsage: #inline</p>\n<ul>\n<li>identifier.use = $identUse#secondary</li>\n<li>identifier.system = \"<a href=\"https://example.someurl.com/businessidforhelp\">https://example.someurl.com/businessidforhelp</a>\"</li>\n<li>identifier.value = \"a2172f9b-e292-44e0-a2a6-8601fd529ad2\"</li>\n<li>instantiatesUri = \"<a href=\"https://someurl.com/Guidance.html\">https://someurl.com/Guidance.html</a>\"</li>\n<li>status = $cpstatus#active</li>\n<li>intent = $cpintent#plan</li>\n<li>priority = $rgPriority#routine</li>\n<li>action.title = \"Alfredo17 Buckridge80 (Targeted) recommended for help\"</li>\n<li>action.description = \"Enroll Alfredo17 Buckridge80 who is currently targeted, into help\"</li>\n<li>action.resource = Reference(Communication/MemberStatusTargeted-Communication1)</li>\n<li>action.documentation.type = $docArtType#documentation</li>\n<li>action.documentation.url = \"<a href=\"https://someurl.com/helpthepatient\">https://someurl.com/helpthepatient</a>\"</li>\n<li>action.documentation.label = \"Guidance Reference\"</li>\n</ul>\n<p>which is used in this CarePlan:</p>\n<p>Instance: CarePlan-Enrollment<br>\nInstanceOf: CarePlan<br>\nTitle: \"Enrollment CarePlan\"<br>\nDescription: \"A CarePlan conforming to the CompanyCarePlan profile.\"<br>\nUsage: #example</p>\n<ul>\n<li>identifier.use = $identUse#secondary</li>\n<li>identifier.system = \"<a href=\"https://example.someurl.com/businessidforhelp\">https://example.someurl.com/businessidforhelp</a>\"</li>\n<li>identifier.value = \"a2172f9b-e292-44e0-a2a6-8601fd529ad2\"</li>\n<li>title = \"Recommendations forAlfredo17 Buckridge80\"</li>\n<li>description = \"Recommendations for Alfredo17 Buckridge80 regarding maintenance of their condition\"</li>\n<li>contained[0] = RequestGroup1</li>\n<li>text.status = $narrativeStatus#generated</li>\n<li>text.div = \"&lt;div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"&gt;\\n&lt;p&gt;A example CarePlan for a  patient.&lt;/p&gt;\\n\"</li>\n<li>status = $cpstatus#active</li>\n<li>intent = $cpintent#plan</li>\n<li>subject = Reference(Patient/T2D-Patient)</li>\n<li>activity[0].reference = Reference(RequestGroup/SomeRequestGroup1) </li>\n<li>activity[+].outcomeReference = Reference(Communication/MemberStatusTargeted-Communication1) </li>\n</ul>\n<p>Everything builds, but I get a broken link showing up in my qa.txt.</p>\n<p>ERROR: output/toc.html#/html/body/div/div/div/div/div/div/table/tbody/tr/td/a at Line 141, column 16586: The link 'RequestGroup-CarePlan-Enrollment_SomeRequestGroup1.html' for \"7.15.1 RequestGroup\" cannot be resolved.</p>\n<p>Is there a configuration setting that I should be using to tell the TOC generator not to generate links for inline examples? Or am I doing something else wrong? Thanks for any insights.</p>",
        "id": 275442069,
        "sender_full_name": "Matt Jenks",
        "timestamp": 1647381815
    },
    {
        "content": "<p>Hmm, SUSHI shouldn't be trying to list inline instances in the generated ImplementationGuide's list of defined resources, so if that instance isn't appearing in there, I don't know if it's something that's under SUSHI's control.</p>",
        "id": 275513061,
        "sender_full_name": "Mint Thompson",
        "timestamp": 1647438873
    },
    {
        "content": "<p>Jean Duteau wrote the <a href=\"http://hl7.org/fhir/StructureDefinition/medication-manufacturingBatch\">http://hl7.org/fhir/StructureDefinition/medication-manufacturingBatch</a> extension for the PQ/CMC project.</p>",
        "id": 275530307,
        "sender_full_name": "Catherine Hosage Norman",
        "timestamp": 1647445542
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197370\">@Catherine Hosage Norman</span> -- I think you replied to the wrong thread.</p>",
        "id": 275530776,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1647445739
    },
    {
        "content": "<p>Sorry, only had one cup of coffee so far.</p>",
        "id": 275530989,
        "sender_full_name": "Catherine Hosage Norman",
        "timestamp": 1647445811
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191701\">@Matt Jenks</span> - I do see one issue in your FSH.  You contain <code>RequestGroup1</code>:</p>\n<div class=\"codehilite\"><pre><span></span><code>* contained[0] = RequestGroup1\n</code></pre></div>\n<p>but then you reference <code>SomeRequestGroup1</code> (which is a different instance):</p>\n<div class=\"codehilite\"><pre><span></span><code>activity[0].reference = Reference(RequestGroup/SomeRequestGroup1)\n</code></pre></div>\n<p>That said, even after fixing this, the IG Publisher is still reporting this broken link error.  That seems to be an issue w/ the IG Publisher (not SUSHI).  I think it might be a <em>known</em> issue, as it sounds familiar.</p>",
        "id": 275534188,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1647446840
    },
    {
        "content": "<p>(nvm)</p>",
        "id": 275541233,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1647449238
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> - are there known issues w/ the IG Publisher / templating system putting links to contained resources in the TOC (but the links are wrong)?  E.g., in the following TOC, <code>2.1.1 RequestGroup</code> is a <em>broken link</em> to a <em>contained</em> resource.<br>\n<a href=\"/user_uploads/10155/TfLFpQM559vtpLExJEWZJXpe/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/TfLFpQM559vtpLExJEWZJXpe/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/TfLFpQM559vtpLExJEWZJXpe/image.png\"></a></div>",
        "id": 275547271,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1647451273
    },
    {
        "content": "<p>I have a guide (<a href=\"http://build.fhir.org/ig/HL7/fhir-spl/branches/main/toc.html\">http://build.fhir.org/ig/HL7/fhir-spl/branches/main/toc.html</a>) that has contained resources and the resource links have a wrong name but the actual links aren't broken.<br>\n<a href=\"/user_uploads/10155/5WevsT6DiXfk7JSUbt0-1ytu/Screen-Shot-2022-03-16-at-11.26.47-AM.png\">Screen-Shot-2022-03-16-at-11.26.47-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/5WevsT6DiXfk7JSUbt0-1ytu/Screen-Shot-2022-03-16-at-11.26.47-AM.png\" title=\"Screen-Shot-2022-03-16-at-11.26.47-AM.png\"><img src=\"/user_uploads/10155/5WevsT6DiXfk7JSUbt0-1ytu/Screen-Shot-2022-03-16-at-11.26.47-AM.png\"></a></div>",
        "id": 275548053,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1647451620
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> -- are those contained resources defined <em>inline</em> only or do they also exist as standalone resources?</p>",
        "id": 275550084,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1647452402
    },
    {
        "content": "<p>ah yes, there's the rub - they exist as standalone.</p>",
        "id": 275550158,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1647452423
    },
    {
        "content": "<p>and here I was trying to help...</p>",
        "id": 275550182,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1647452436
    },
    {
        "content": "<p>Well... that may be a helpful clue...</p>",
        "id": 275550469,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1647452561
    },
    {
        "content": "<p>How can a resource be contained and also stand-alone?  Each instance must either be one or the other...</p>",
        "id": 275556323,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1647454885
    },
    {
        "content": "<p>I think he means that in his IG, he has an example <code>OrganizationAffiliation</code> w/ a specific id (as a standalone resource).  In the same IG, his <code>ExampleEstablishment</code> example has a <code>contained</code> resource that is the same as his <code>OrganizationAffiliation</code> example (even w/ the same id).</p>\n<p>So, I think his works because:</p>\n<ul>\n<li>the standalone <code>OrganizationAffiliation</code> example is what causes the publisher to create an HTML page for it</li>\n<li>the contained <code>OrganizationAffiliation</code> gets a link in the TOC, and since the contained resource has the same type and id, that link happens to point to the HTML that was produced for the standalone example.</li>\n</ul>\n<p>If there was no standalone example w/ the same type and id, then no HTML page would be produced for it, and the link for the contained resource would be broken.</p>\n<p>At least that is my hypothesis.</p>",
        "id": 275564624,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1647458454
    }
]