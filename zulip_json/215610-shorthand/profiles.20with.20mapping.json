[
    {
        "content": "<p>Is there support in FSH for defining mapping tables in a profile written in sushi?</p>",
        "id": 220318142,
        "sender_full_name": "John Moehrke",
        "timestamp": 1608247872
    },
    {
        "content": "<p>Nothing special. Just fill in the mapping elements.</p>",
        "id": 220318179,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1608247906
    },
    {
        "content": "<p>example? or explaination?</p>",
        "id": 220318253,
        "sender_full_name": "John Moehrke",
        "timestamp": 1608247954
    },
    {
        "content": "<p>or better... you have rights on the IHE github for MHD... can you do the mapping for FHIR List to XDS SubmissionSet?</p>",
        "id": 220318329,
        "sender_full_name": "John Moehrke",
        "timestamp": 1608248007
    },
    {
        "content": "<p><a href=\"https://github.com/openhie/covid-ig/blob/master/input/fsh/who-cr-StructureDefinitionDataDictionary.fsh\">https://github.com/openhie/covid-ig/blob/master/input/fsh/who-cr-StructureDefinitionDataDictionary.fsh</a></p>",
        "id": 220318331,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1608248010
    },
    {
        "content": "<p>Oh, hold on, are you talking mappings in structure defs, or conceptmaps?</p>",
        "id": 220318441,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1608248090
    },
    {
        "content": "<p>right. mapping in a structureDefinition... NOT a conceptmap</p>",
        "id": 220318488,
        "sender_full_name": "John Moehrke",
        "timestamp": 1608248136
    },
    {
        "content": "<p>In my structure def:</p>\n<div class=\"codehilite\"><pre><span></span><code>* mapping[0].identity = &quot;WhoCrDataDictionarySpreadsheet&quot;\n* mapping[0].name = &quot;WHO CR Data Dictionary Spreadsheet 2020.2&quot;\n* mapping[1].identity = &quot;LOINC&quot;\n* mapping[1].uri = $LNC\n...\n* differential.element[2].mapping[0].identity = &quot;WhoCrDataDictionarySpreadsheet&quot;\n* differential.element[2].mapping[0].map = &quot;report_date&quot;\n* differential.element[2].mapping[1].identity = &quot;LOINC&quot;\n* differential.element[2].mapping[1].map = $LNC#77995-9\n</code></pre></div>",
        "id": 220318491,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1608248139
    },
    {
        "content": "<p>but I am defining a profile, with constraints. I also want that to carry mappings to XDS</p>",
        "id": 220318586,
        "sender_full_name": "John Moehrke",
        "timestamp": 1608248192
    },
    {
        "content": "<p>So, for you...</p>\n<div class=\"codehilite\"><pre><span></span><code>* mapping[0].identity = &quot;XDS&quot;\n* mapping[0].name = &quot;Document Sharing Metadata (XDS)&quot;\n...\n* differential.element[2].mapping[0].identity = &quot;XDS&quot;\n* differential.element[2].mapping[0].map = &quot;eventCodeList&quot;\n</code></pre></div>",
        "id": 220318763,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1608248348
    },
    {
        "content": "<p>It doesn't look like the mapping is intended to be computable, so you can enter in whatever text in the map element you need. I've also done a couple with multiple mappings for the same StructureDocument element:</p>\n<div class=\"codehilite\"><pre><span></span><code>* mapping[0].identity = &quot;XDS&quot;\n* mapping[0].name = &quot;Document Sharing Metadata (XDS)&quot;\n...\n* differential.element[2].mapping[0].identity = &quot;XDS&quot;\n* differential.element[2].mapping[0].map = &quot;eventCodeList&quot;\n* differential.element[2].mapping[1].identity = &quot;XDS&quot;\n* differential.element[2].mapping[1].map = &quot;formatCode&quot;\n</code></pre></div>\n<p>This shows as a comma separated list.</p>",
        "id": 220319038,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1608248553
    },
    {
        "content": "<p>okay. I will try.. but feel free to put in a pull request on MHD</p>",
        "id": 220319375,
        "sender_full_name": "John Moehrke",
        "timestamp": 1608248802
    },
    {
        "content": "<p>Just let me know if you run into a snag.</p>",
        "id": 220320386,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1608249599
    },
    {
        "content": "<p>So I guess that defining mappings is not a very well-known feature of FHIR Shorthand, but it <em>is</em> indeed a feature!  And you <em>don't</em> have to use caret syntax to use it (although I noticed that <span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span>'s examples aren't using <code>^</code> either -- are those <code>Instance</code>s of <code>StructureDefinition</code> rather than FSH <code>Profile</code>s?  Because those examples definitely wouldn't work in a <code>Profile:</code> definition).</p>\n<p>For information about FSH <code>Mapping</code> (and an example), see: <a href=\"http://hl7.org/fhir/uv/shorthand/reference.html#defining-mappings\">http://hl7.org/fhir/uv/shorthand/reference.html#defining-mappings</a></p>",
        "id": 220385411,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1608305508
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> , correct, I'm using an instance to define a logical model. I had forgotten about the mapping feature, but since I'm working with a LM, it wouldn't work for me anyhow.</p>",
        "id": 220400084,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1608311394
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> . I was not sure if this had been added. I had asked for it long long ago... I will give that a try.</p>",
        "id": 220698310,
        "sender_full_name": "John Moehrke",
        "timestamp": 1608649621
    },
    {
        "content": "<p>mapping is working excellent.</p>",
        "id": 221288807,
        "sender_full_name": "John Moehrke",
        "timestamp": 1609419793
    },
    {
        "content": "<p>I do have one problem... that mandatory extension... seems to disappear in the mapping.  Not clear to me if this is sushi or IG build</p>",
        "id": 221290238,
        "sender_full_name": "John Moehrke",
        "timestamp": 1609421462
    },
    {
        "content": "<p>Note that when I add the extension to a profile as 1..* that extension shows up in mapping. But when I define mapping on a profile that has the extension at 0..<em>; a profile derived off of that profile and that sets the cardinality to 1..</em> will no longer show the mapping for that extension. yet the profile with 0..* does show the mapping.</p>\n<p>I think this is the IG build problem.  My eyes say the structure definitions created are good. <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> let me know how I can help clarify. I use this for both Folders and SubmissionSets in the current MHD IG build <a href=\"https://github.com/IHE/ITI.MHD\">https://github.com/IHE/ITI.MHD</a></p>",
        "id": 221299527,
        "sender_full_name": "John Moehrke",
        "timestamp": 1609431336
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> and others -- on Mappings (I am starting to use now!) how could I express that a certain target (let's say it's called <code>rxnorm</code>) is in FHIR <code>medicationCodeableConcept.coding.code</code> where <code>medicationCodeableConcept.coding.system</code> is <code>http://www.nlm.nih.gov/research/umls/rxnorm</code>?</p>\n<p>Also, any idea on how to turn off (in the IG published output) the other Mappings? I just want to render the ones I specify in FSH?</p>",
        "id": 229750495,
        "sender_full_name": "Brian Kaney",
        "timestamp": 1615412668
    }
]