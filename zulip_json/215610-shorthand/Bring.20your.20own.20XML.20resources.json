[
    {
        "content": "<p>Please, can anybody help me with this error from SUSHI?</p>\n<p>\"Cannot create identifier extension; unable to locate extension definition for: <a href=\"http://hl7.org/fhir/dk/core/StructureDefinition/dk-core-crn-identifier\">http://hl7.org/fhir/dk/core/StructureDefinition/dk-core-crn-identifier</a>.\"</p>\n<p>FSH resource:<br>\nAlias: CPR = <a href=\"http://hl7.org/fhir/dk/core/StructureDefinition/dk-core-crn-identifier\">http://hl7.org/fhir/dk/core/StructureDefinition/dk-core-crn-identifier</a></p>\n<p>Profile: GatewayCareCitizen<br>\nParent: Patient<br>\nId: gateway-care-citizen<br>\nTitle: \"GatewayCareCitizen\"<br>\nDescription: \"Administrative information about a citizen receiving care or care related services.\"</p>\n<ul>\n<li>identifier 1..1</li>\n<li>identifier.extension contains CPR named identifier 1..1</li>\n</ul>\n<p>I have placed the xml structure definition for dk-core-crn-identifier in the ig-data/input/extensions folder . It has the correct url value:<br>\n&lt;url value=\"<a href=\"http://hl7.org/fhir/dk/core/StructureDefinition/dk-core-crn-identifier\">http://hl7.org/fhir/dk/core/StructureDefinition/dk-core-crn-identifier</a>\" /&gt;</p>\n<p>/Torben</p>",
        "id": 206440841,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1597050375
    },
    {
        "content": "<p>is CPR the name or ID of the extension? <br>\nIn any case since it's a BYOX, shoudn't it be the ID?</p>",
        "id": 206445784,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597054256
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/215610-shorthand/topic/Bring.20your.20own.20XML.20resources/near/206445784\">said</a>:</p>\n<blockquote>\n<p>is CPR the name or ID of the extension? <br>\nIn any case since it's a BYOX, shoudn't it be the ID?</p>\n</blockquote>\n<p>Thanks for your help.</p>\n<p>CPR is an alias for the url of the extension. I have tried the id as well as the documentation seems to allow both. Just tried the name with no luck. Do I need to add something to config.yaml or the like?</p>",
        "id": 206446495,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1597054903
    },
    {
        "content": "<p>It seems like you have the right setup. Is it possible you are using an older version of SUSHI? Support for BYO-XML resources was only added in sushi 0.15.0, so if you have an earlier version, that would explain the error. To see if you are running an earlier version, you can try doing:</p>\n<div class=\"codehilite\"><pre><span></span><code>sushi --version\n</code></pre></div>\n\n\n<p>You can update to the latest version (0.15.1) by doing </p>\n<div class=\"codehilite\"><pre><span></span><code>npm install -g fsh-sushi@0.15.1\n</code></pre></div>",
        "id": 206453486,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1597061530
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"239822\">Nick Freiter</span> <a href=\"#narrow/stream/215610-shorthand/topic/Bring.20your.20own.20XML.20resources/near/206453486\">said</a>:</p>\n<blockquote>\n<p>It seems like you have the right setup. Is it possible you are using an older version of SUSHI? Support for BYO-XML resources was only added in sushi 0.15.0, so if you have an earlier version, that would explain the error. To see if you are running an earlier version, you can try doing:</p>\n<div class=\"codehilite\"><pre><span></span><code>sushi --version\n</code></pre></div>\n\n\n<p>You can update to the latest version (0.15.1) by doing </p>\n<div class=\"codehilite\"><pre><span></span><code>npm install -g fsh-sushi@0.15.1\n</code></pre></div>\n\n\n</blockquote>\n<p>Thanks, but sushi --version does return 0.15.1</p>\n<p>Do you (or anyone) have a simple working example that I could try?</p>",
        "id": 206455959,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1597063502
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"240678\">@Torben M. Hagensen</span>  Did you declare a dependency (in config.yaml) on the IG that contains the extension dk-core-crn-identifier?  SUSHI by default only looks at the core FHIR. Anything else needs to be declared as a dependency.</p>",
        "id": 206456837,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1597064073
    },
    {
        "content": "<p>Well, what <span class=\"user-mention\" data-user-id=\"191447\">@Mark Kramer</span> said is usually true, in this case you shouldn't need to declare a dependency, since the dependency is fulfilled by having the definition in <code>ig-data</code>. Using BYO-XML like this allows you to avoid explicitly declaring the dependency</p>",
        "id": 206457023,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1597064218
    },
    {
        "content": "<p>So in this case I don't think you have to add anything to config.yaml. I will try to make a simple working example of BYO-XML.</p>",
        "id": 206457137,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1597064298
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"239822\">Nick Freiter</span> <a href=\"#narrow/stream/215610-shorthand/topic/Bring.20your.20own.20XML.20resources/near/206457137\">said</a>:</p>\n<blockquote>\n<p>So in this case I don't think you have to add anything to config.yaml. I will try to make a simple working example of BYO-XML.</p>\n</blockquote>\n<p>Thanks - I would appreciate that a lot.</p>",
        "id": 206459087,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1597065522
    },
    {
        "content": "<p>I've made a simple example here <a href=\"https://github.com/ngfreiter/byo-xml-example\">https://github.com/ngfreiter/byo-xml-example</a>. I tried to replicate your use case as closely as I could, having a single extension in <code>ig-data/input/extensions</code>, and referencing that extension from the FSH files. For me this example is working well.</p>",
        "id": 206459974,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1597066054
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"239822\">Nick Freiter</span> <a href=\"#narrow/stream/215610-shorthand/topic/Bring.20your.20own.20XML.20resources/near/206459974\">said</a>:</p>\n<blockquote>\n<p>I've made a simple example here <a href=\"https://github.com/ngfreiter/byo-xml-example\">https://github.com/ngfreiter/byo-xml-example</a>. I tried to replicate your use case as closely as I could, having a single extension in <code>ig-data/input/extensions</code>, and referencing that extension from the FSH files. For me this example is working well.</p>\n</blockquote>\n<p>Thanks a lot - your example work fine for me as well</p>\n<p>Given that I found the problem. My resource should look like this (actually it was not an extension as I thought, but a profile).</p>\n<p>Profile: GatewayCareCitizen<br>\nParent: Patient<br>\nId: gateway-care-citizen<br>\nTitle: \"GatewayCareCitizen\"<br>\nDescription: \"Administrative information about a citizen receiving care or care related services.\"</p>\n<ul>\n<li>identifier 1..1</li>\n<li>identifier only dk-core-crn-identifier</li>\n</ul>\n<p>Thanks to everyone who helped :-)</p>",
        "id": 206464303,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1597068496
    },
    {
        "content": "<p>Ah that makes sense, glad it works now!</p>",
        "id": 206465596,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1597069112
    }
]