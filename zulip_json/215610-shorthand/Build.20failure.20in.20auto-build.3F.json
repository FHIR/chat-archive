[
    {
        "content": "<p>Seems like we are getting build failures because of the sushi version in the autobuild?<br>\n<a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/genomics-reporting-fsh/failure/build.log\">http://build.fhir.org/ig/HL7/genomics-reporting/branches/genomics-reporting-fsh/failure/build.log</a></p>\n<p>CC: <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> / <span class=\"user-mention\" data-user-id=\"192302\">@May Terry</span></p>",
        "id": 213290687,
        "sender_full_name": "Kevin Power",
        "timestamp": 1602683455
    },
    {
        "content": "<p>Are you hoping to run the 1.0.0-beta version of SUSHI? Currently the IG autobuild doesn't allow you to use which version of SUSHI you want to use, it is locked in at the latest \"official\" version, which is 0.16.0, since 1.0.0 is still a beta. There is conversation happening here: <a href=\"#narrow/stream/179252-IG-creation/topic/Selecting.20SUSHI.20Versions.20in.20AutoBuild\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Selecting.20SUSHI.20Versions.20in.20AutoBuild</a> on how this needs to change, and will hopefully be changed soon.</p>",
        "id": 213291323,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1602683725
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191913\">Kevin Power</span> <a href=\"#narrow/stream/215610-shorthand/topic/Build.20failure.20in.20auto-build.3F/near/213290687\">said</a>:</p>\n<blockquote>\n<p>Seems like we are getting build failures because of the sushi version in the autobuild?<br>\n<a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/genomics-reporting-fsh/failure/build.log\">http://build.fhir.org/ig/HL7/genomics-reporting/branches/genomics-reporting-fsh/failure/build.log</a></p>\n<p>CC: <span class=\"user-mention silent\" data-user-id=\"191451\">Patrick Werner</span> / <span class=\"user-mention silent\" data-user-id=\"192302\">May Terry</span></p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> - to be precise, here's the relevant error message: <code>Run Sushi on /scratch/ig-build-temp-U6MNU5/repo                                  (00:00.0020)\nSushi: info  Running SUSHI v0.16.0 (implements FHIR Shorthand specification v0.13.x) (00:00.0493)\nSushi: info  SUSHI detected a \"fsh\" directory in the input path. As a result, SUSHI will operate in \"IG Publisher integration\" mode. This means: (00:00.0494)</code><br>\nIs this something the SUSHI team coordinates with the maintainers of the autobuild.  I don't think our CG team has this ability right now.</p>",
        "id": 213291326,
        "sender_full_name": "May Terry",
        "timestamp": 1602683727
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span> - yeh, we were encouraged by <span class=\"user-mention\" data-user-id=\"191447\">@Mark Kramer</span>  to upgrade to 1.0beta so we did.  <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 213291594,
        "sender_full_name": "May Terry",
        "timestamp": 1602683826
    },
    {
        "content": "<p>You can run the publisher locally, no problem.</p>",
        "id": 213291662,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1602683852
    },
    {
        "content": "<p>And every branch gets its own auto-build.</p>",
        "id": 213291718,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1602683877
    },
    {
        "content": "<p>And should be able to autobuild soon, if you check out that linked conversation, I believe it was settled that the IG Publisher will soon support <code>fsh.ini</code>, which will allow you to specify the SUSHI version.</p>",
        "id": 213291821,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1602683915
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span> - yeh, but going back to 0.16 will require that we reorganize our file structure and config file changes, only to change it back again.  It's a rather suboptimal adjustment.</p>",
        "id": 213292077,
        "sender_full_name": "May Terry",
        "timestamp": 1602684017
    },
    {
        "content": "<p>Same situation with mCODE, though, and the <a href=\"http://build.fhir.org\">build.fhir.org</a> version is still the latest under 0.16.0</p>",
        "id": 213292280,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1602684104
    },
    {
        "content": "<p>Yeh, but my concern is not mCODE, but the CG WG which has a migration workflow that leverages the autobuild for QA by subject matter experts, not all software engineers who will each have their own local build to run.</p>",
        "id": 213292479,
        "sender_full_name": "May Terry",
        "timestamp": 1602684191
    },
    {
        "content": "<p>It's kind of a catch-22 here.  We're encouraged to test beta releases but the npm option for installing SUSHI makes this change globally on dev systems at the cost of losing a workflow that depends upon an autobuild environment which doesn't trust beta releases.</p>",
        "id": 213292990,
        "sender_full_name": "May Terry",
        "timestamp": 1602684407
    },
    {
        "content": "<p>I apologize. I was interested in having you test the beta and the upgrade instructions, and neglected the autobuild breakage situation.  My fault.</p>",
        "id": 213293136,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1602684467
    },
    {
        "content": "<p>Ok. we'll make it work somehow. <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> and <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> - I think perhaps we can find a place to upload the IG as a zip file for SMEs to review until SUSHI 1.0 is production and we can go back to the autobuild QA workflow.  It's a good note however for others doing migrations.  Thanks!</p>",
        "id": 213293637,
        "sender_full_name": "May Terry",
        "timestamp": 1602684652
    },
    {
        "content": "<p>Chris is going to ping Grahame again. This might be resolved very soon if we get Grahame's attention. You might want to just use local builds for today and wait and see.</p>",
        "id": 213294940,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1602685181
    },
    {
        "content": "<p>OK.  Grahame released a new IG Publisher today -- and you can now control the SUSHI version by placing a <code>fsh.ini</code> file in the root folder of your IG (sibling to the <code>ig.ini</code>).  The contents of <code>fsh.ini</code> should be something like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>[FSH]\nsushi-version=beta\n</code></pre></div>\n\n\n<p>The above will force the publisher to download and use the SUSHI release tagged as beta.  This is a good choice during the 1.0.0 beta because as we release new betas, we'll move the <code>beta</code> tag -- this way your IG always uses the latest beta.  Once we get out of beta, you can remove <code>fsh.ini</code> (or comment out that line) to go back to the normal \"latest official release\" approach.</p>\n<p>NOTE: You can also use specific versions as the value, so you could say <code>sushi-version=1.0.0-beta.1</code> to lock it to that specific version, or once we officially release 1.0.0, you could say <code>sushi-version=0.16.0</code> if you absolutely must use the older version of SUSHI.</p>",
        "id": 213365948,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602720460
    },
    {
        "content": "<p>Thanks for the really quick turnaround <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> !  <br>\ncc: <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span>  and <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> </p>\n<p><span class=\"user-mention silent\" data-user-id=\"191469\">Chris Moesel</span> <a href=\"#narrow/stream/215610-shorthand/topic/Build.20failure.20in.20auto-build.3F/near/213365948\">said</a>:</p>\n<blockquote>\n<p>OK.  Grahame released a new IG Publisher today -- and you can now control the SUSHI version by placing a <code>fsh.ini</code> file in the root folder of your IG (sibling to the <code>ig.ini</code>).  The contents of <code>fsh.ini</code> should be something like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>[FSH]\nsushi-version=beta\n</code></pre></div>\n\n\n<p>The above will force the publisher to download and use the SUSHI release tagged as beta.  This is a good choice during the 1.0.0 beta because as we release new betas, we'll move the <code>beta</code> tag -- this way your IG always uses the latest beta.  Once we get out of beta, you can remove <code>fsh.ini</code> (or comment out that line) to go back to the normal \"latest official release\" approach.</p>\n<p>NOTE: You can also use specific versions as the value, so you could say <code>sushi-version=1.0.0-beta.1</code> to lock it to that specific version, or once we officially release 1.0.0, you could say <code>sushi-version=0.16.0</code> if you absolutely must use the older version of SUSHI.</p>\n</blockquote>",
        "id": 213366034,
        "sender_full_name": "May Terry",
        "timestamp": 1602720545
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> - quick update. easy change and verified the fix. we have our auto-build again. Thanks to you and <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> for the really quick turnaround on this. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 213375765,
        "sender_full_name": "May Terry",
        "timestamp": 1602731171
    }
]