[
    {
        "content": "<p>Good morning everyone! While using SUSHI v2.0.0-beta.1 and converting the snippet below, I had to explicitly set the section's slicing rules as Sushi did not default them to 'open': </p>\n<div class=\"codehilite\"><pre><span></span><code>Profile: CompositionFehlernachricht\nParent: Composition\nId: CompositionFehlernachricht\n* meta 1.. MS\n* meta.profile 1..1 MS\n* meta.profile = &quot;profile&quot;\n* extension contains Emp named Emp 1..1 MS\n* extension contains Abs named Abs 1..1 MS\n* extension contains Ver named Ver 1..1 MS\n* extension[Ver]\n  * extension[Verc].valueCoding = Vercs#FEHL\n* identifier 1.. MS\n* identifier ^short = &quot;Verid&quot;\n* identifier.system = &quot;verid&quot;\n* status = #final (exactly)\n* status MS\n* type MS\n* type.coding 1.. MS\n* type.coding = Nac#FEHL &quot;Feh&quot;\n* subject 1.. MS\n* subject only Reference(Vers)\n* date MS\n* date ^short = &quot;Erstellungsdatum&quot;\n* author 1..1 MS\n  * display 1..1 MS\n* title = &quot;Vers title&quot; (exactly)\n* title MS\n* title ^short = &quot;Dok (=Versp)&quot;\n* section ^slicing.discriminator.type = #pattern\n* section ^slicing.discriminator.path = &quot;$this&quot;\n* section ^slicing.rules = #open\n* section contains\n    Fehl 1..1 MS\n* section[Fehl]\n  * title 1..1 MS\n  * title = &quot;Fehl&quot;\n  * entry 1..1 MS\n  * entry only Reference(Fehl)\n</code></pre></div>\n<p>I was under the assumption that if nothing is specified with regards to the slicing rule element, Sushi would simply default it to 'open' (as it does in other projects) but this does not seem to be the case here. Another Composition in the input was affected as well. Is this a feature or a bug?</p>",
        "id": 244896459,
        "sender_full_name": "Yannick Börner",
        "timestamp": 1625463833
    },
    {
        "content": "<p>Is it possible that the other cases where SUSHI defaults to <code>open</code> were slicing on <code>extension</code> elements? Generally SUSHI should require the <code>slicing.rules</code> to be specified. However, in the case of <code>extension</code>, SUSHI does default the <code>slicing.rules</code> to <code>open</code>. Is it also possile that in these other examples the element being sliced was inheriting from a parent element that already had <code>slicing.rules</code> specified?</p>",
        "id": 245036176,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1625577127
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"239822\">Nick Freiter</span> <a href=\"#narrow/stream/215610-shorthand/topic/Sushi.20not.20defaulting.20to.20open.20slicing.20rules/near/245036176\">said</a>:</p>\n<blockquote>\n<p>Is it possible that the other cases where SUSHI defaults to <code>open</code> were slicing on <code>extension</code> elements? Generally SUSHI should require the <code>slicing.rules</code> to be specified. However, in the case of <code>extension</code>, SUSHI does default the <code>slicing.rules</code> to <code>open</code>. Is it also possile that in these other examples the element being sliced was inheriting from a parent element that already had <code>slicing.rules</code> specified?</p>\n</blockquote>\n<p>Hi Nick, sorry for getting back to you so late. They were actually slicing on the <code>telecom</code> element and not <code>extension</code> elements. The latter required me to specifically define the rules. Unfortunately I can not confirm the second question, those were standalone elements without any inheritance. I'll keep this in mind for my next FSH session and try to find some patterns in this behavior so that I can get back to you with something more tangible. Thank you so much for your input!</p>",
        "id": 245783529,
        "sender_full_name": "Yannick Börner",
        "timestamp": 1626157425
    },
    {
        "content": "<p>I think the part that's confusing here is that a missing slicing rule doesn't show up as an error in SUSHI. It isn't until you run validation, that the issue becomes apparent.</p>",
        "id": 246206775,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1626431218
    },
    {
        "content": "<p>IMO, in case of a missing rule SUSHI should either default or report an error.</p>",
        "id": 246206831,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1626431269
    },
    {
        "content": "<p>That's a fair request <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span>.  I've filed <a href=\"https://github.com/FHIR/sushi/issues/885\">SUSHI#885</a> for it. Thanks!</p>",
        "id": 246618439,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1626799953
    }
]