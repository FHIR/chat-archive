[
    {
        "content": "<p>I'm trying to constrain a datatype choice to just be a valueReference but want the reference to be any type.  (Claim.supportingInfo.value[x]).  I can't figure out how to do this as Reference(Any), Reference(any), Reference() all fail and the documentation doesn't refer to this case.</p>",
        "id": 213245774,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1602649881
    },
    {
        "content": "<p>I'm assuming the <code>Reference</code> in the choice is already a reference to any (otherwise you'd be widening the scope, which is not allowed).  In that case, have you tried simply this: <code>* value[x] only Reference</code>?  I think that would say to only allow the <code>Reference</code> <em>type</em> without impacting what the reference can point to.</p>",
        "id": 213278979,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602677585
    },
    {
        "content": "<p>that appears to have worked (running the build now but sushi didn't fail) but if I wanted to create an extension and specify that the value was Reference(Any), would the same work?</p>",
        "id": 213308006,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1602689709
    },
    {
        "content": "<p>Yes, since by default, the reference in <code>Extension.value[x]</code> is to any.</p>",
        "id": 213321926,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602695350
    },
    {
        "content": "<p>We should document that. It's definitely not in the documentation currently. I added <a href=\"https://jira.hl7.org/browse/FHIR-29399\">FHIR-29399</a></p>",
        "id": 214175146,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1603367310
    }
]