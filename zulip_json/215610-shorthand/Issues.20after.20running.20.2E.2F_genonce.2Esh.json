[
    {
        "content": "<p>Still messing around with the DevDays FSH Exercise files. </p>\n<p>FYI, I do have installed:  SUSHI v0.15.0 (implements FHIR Shorthand specification v0.13.x)</p>\n<p>In Terminal, I get errors and other line items that look like issues after running the command:  ./_genonce.sh</p>\n<p>Here is what I see, toward the end:</p>\n<p>onGenerate:<br>\nNo path for <a href=\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-location\">http://hl7.org/fhir/us/core/StructureDefinition/us-core-location</a><br>\nNo path for <a href=\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization\">http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization</a></p>\n<p>Checking Output HTML        <br>\nfound 573 files                   <br>\n  ... 573 html files, 0 pages invalid xhtml (0%)  <br>\n  ... 45005 links, 985 broken links (2%)   </p>\n<p>Finished. 02:56.0522. Validation output in /Users/ssc-mbp/FHIR_FSH_DevDays_Tue/fsh-devdays-exercise-0.0.1/output/qa.html<br>\nErrors: 1, Warnings: 10, Info: 0, Broken Links = 985 (04:00.0599)</p>\n<p>Even with the above, my IG creates and looks ok.</p>\n<p>Are these errors/warning because of an issue with the downloaded “org.hl7.fhir.publisher.jar” ?  Another reason? Something fixable?</p>\n<p>Just wondering if I should ignore these errors and warnings or if you know of a reason/workaround/solution/known bugs.</p>\n<p>Thank you.</p>",
        "id": 205534419,
        "sender_full_name": "Sheila Connelly",
        "timestamp": 1596144259
    },
    {
        "content": "<p>what is the version of your IG publisher? You can read it at the top of your output/qa.html</p>",
        "id": 205534814,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596144506
    },
    {
        "content": "<p>in your case the full path of that file is <br>\n/Users/ssc-mbp/FHIR_FSH_DevDays_Tue/fsh-devdays-exercise-0.0.1/output/qa.html</p>",
        "id": 205534863,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596144542
    },
    {
        "content": "<p>you should not have a downloaded “org.hl7.fhir.publisher.jar” <br>\nyou should have a downloaded \"publisher.jar\"</p>",
        "id": 205534972,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596144611
    },
    {
        "content": "<p>I found:  </p>\n<p>&lt;p style=\"background-color: #ffcccc\"&gt;IG Publisher Version: v1.1.0, which is out of date. The current version is ?pub-ver-1? &lt;a href=\"https://storage.googleapis.com/ig-build/org.hl7.fhir.publisher.jar\"&gt;Download Latest&lt;/a&gt;&lt;/p&gt;</p>\n<p>I downloaded the .jar from the link in qa.html, it was the same file that was downloaded when I ran ./_updatePublisher.sh</p>",
        "id": 205539390,
        "sender_full_name": "Sheila Connelly",
        "timestamp": 1596147610
    },
    {
        "content": "<p>i'm not sure for mac/linux, but the solution on windows is: <br>\nrun ./_updatePublisher.sh twice and answer Y to the 4 questions it will ask you. you should get the latest jar with that.</p>",
        "id": 205560652,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596175283
    },
    {
        "content": "<p>That link is outdated - the latest publisher is at <a href=\"https://github.com/HL7/fhir-ig-publisher/releases/latest/download/publisher.jar\">https://github.com/HL7/fhir-ig-publisher/releases/latest/download/publisher.jar</a></p>",
        "id": 205618114,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1596216633
    },
    {
        "content": "<p>if you run the <a href=\"http://publisher.sh\">publisher.sh</a> twice it will fix that (at least on windows it does)</p>",
        "id": 205619358,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596217291
    },
    {
        "content": "<p>Thank you. Reminder that I am on a Mac.</p>\n<p>I upgraded to SUSHI 0.15.1 </p>\n<p>I downloaded \"publisher.jar\" from the link Vassil provided.</p>\n<p>Then, I downloaded the zip for the “complete solution for the FHIR DevDays US 2020 FHIR Shorthand Let's Build exercise.”<br>\n<a href=\"https://github.com/standardhealth/fsh-devdays-exercise/releases/tag/v0.0.1-solution\">https://github.com/standardhealth/fsh-devdays-exercise/releases/tag/v0.0.1-solution</a></p>\n<p>1) I made no changes at all to any files.<br>\n2) I ran ./_updatePublisher.sh two times and the file downloaded is: ‘org.hl7.fhir.publisher.jar’<br>\n3) I removed that file and copied publisher.jar to the same folder location:  input-cache<br>\n4) I ran:  ./_genonce.sh<br>\n5) Message:  IG Publisher NOT FOUND in input-cache or parent folder. Please run _updatePublisher. Aborting...<br>\n6) I renamed publisher.jar to org.hl7.fhir.publisher.jar<br>\n7) I re-ran:  ./_genonce.sh<br>\n8) The IG was created, though I received the message:  Errors: 1, Warnings: 10, Info: 0, Broken Links = 985 (02:38.0456)</p>\n<p>For now, I am not going to worry about those errors and warnings. Many other things to learn about.</p>\n<p>Regarding the publisher.jar, if ./_updatePublisher.sh actually downloads the incorrect file, will that be fixed?</p>\n<p>Is the correct workaround to download 'publisher.jar' and then rename the file to  ‘org.hl7.fhir.publisher.jar’?</p>",
        "id": 206198436,
        "sender_full_name": "Sheila Connelly",
        "timestamp": 1596748845
    },
    {
        "content": "<p>hmmm it might be your publisher.jar is older than the self-updating version</p>",
        "id": 206202421,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596751398
    },
    {
        "content": "<p>can you replace it with this<br>\n<a href=\"https://raw.githubusercontent.com/FHIR/sample-ig/master/_updatePublisher.sh\">https://raw.githubusercontent.com/FHIR/sample-ig/master/_updatePublisher.sh</a> <br>\n?</p>",
        "id": 206202440,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596751410
    },
    {
        "content": "<p>once you do, there should b no need to workarounds - it will get the jar from the correct location and save it with the right name</p>",
        "id": 206202517,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596751452
    },
    {
        "content": "<p>your workaround works, although the best workaround is to update the scripts. Via the script, or if that is not working, via the url directly (which is where sushi gets them from=<br>\nSorry if I did not consider your script might be quite old (a few weks old)</p>",
        "id": 206202713,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596751575
    },
    {
        "content": "<p>Hi again.</p>\n<p>Sorry to make this stream up again. And sorry for asking so many (stupid?) questions.<br>\nThis time my issue seems to be a little bit more complicated.<br>\nI profiled a wound summary. In this summary, we have composition to structure the resources. It is a rather large composition with many sections and subsections. The first-level sections are mandatory, subsections etc. should only be present, if there is content. If a first-level section does not contain any content, <code>emptyReason</code> must be filled. This is ensured by an invariant.</p>\n<p>Now sushi runs without any errors. The result can be seen <a href=\"https://simplifier.net/mareikestestwiese/ewoundsummary\">here</a> (Please don't mind the missing references, I just put the composition into the testing area, not all &gt; 30 profiles and value sets).<br>\nWhen I now run <code>_genonce.bat</code>, I get an error:</p>\n<div class=\"codehilite\"><pre><span></span><code>java.lang.Exception: Error generating snapshot for EWoundSummary(EWoundSummary): Unable to generate snapshot for http://hs-osnabrueck.de/fhir/eWundbericht/StructureDefinition/EWoundSummary in C:\\Users\\Mareike\\Documents\\Workspace\\fhir\\FSH\\eWundbericht\\fsh-generated\\resources\\structuredefinition-EWoundSummary\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:4692)\n        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3976)\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:901)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:753)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8766)\nCaused by: org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for http://hs-osnabrueck.de/fhir/eWundbericht/StructureDefinition/EWoundSummary in C:\\Users\\Mareike\\Documents\\Workspace\\fhir\\FSH\\eWundbericht\\fsh-generated\\resources\\structuredefinition-EWoundSummary\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4741)\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:4690)\n        ... 4 more\nCaused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section hat keine Kinder (Composition.section.section.section) und keine Typen im Profil EWoundSummary.section.section\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.getTypeForElement(ProfileUtilities.java:1926)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1498)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1284)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1528)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1528)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:653)\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4739)\n        ... 5 more\n</code></pre></div>\n<p>The German part says: <code>Composition.section.section.section has no children (Composition.section.section.section) and no types in profile WEoundSummary.section.section</code>.</p>\n<p>I can't get rid of this error. Can you please give me some guidance? Thanks in advance!</p>",
        "id": 260011499,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1635866809
    },
    {
        "content": "<p>there were some issues with nested sections and the snapshot generator: <a href=\"#narrow/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F</a></p>",
        "id": 260113945,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1635935344
    },
    {
        "content": "<p>didn't check the release notes if this issue is already fixed.</p>",
        "id": 260113974,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1635935358
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span>. Then I know.</p>",
        "id": 260252773,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1636022543
    }
]