[
    {
        "content": "<p>Currently, if you're using SNOMED (at least in the US) in an IG you have to specify it as the US version of SCT.  The way to do this seems to be using a json version of a Parameters resource and adding the path to it in the sushi-config parameters.  See <a href=\"#narrow/stream/179252-IG-creation/topic/Specifying.20SCT.20US.20edition\">here</a> in the IG creation stream</p>\n<p>It would be good if this could be done directly in sushi-config.</p>",
        "id": 269606467,
        "sender_full_name": "David Pyke",
        "timestamp": 1643304185
    },
    {
        "content": "<p>Help me confirm that I understand the conversation correctly (from the IG creation stream):</p>\n<ul>\n<li>You need to specify that you want the US version of SCT by putting a JSON file in your project that is an instance of a Parameters resource (<a href=\"https://github.com/HL7/fhir-icsr-ae-reporting/blob/main/exp-params.json\">example</a>).</li>\n<li>You then need to point to that in IG JSON (or sushi-config.yaml) by adding an IG parameter that says where to find the special Parameters JSON file (<a href=\"https://github.com/HL7/fhir-icsr-ae-reporting/blob/main/sushi-config.yaml#L34\">example</a>).</li>\n<li>It appears that when IG Publisher processes the IG JSON, it adds a special extension to the IG JSON's parameters element that includes the same info as the special Parameters JSON file.</li>\n<li>It's not clear if you can skip the Parameters JSON file and directly put the extension in the IG JSON -- but SUSHI doesn't seem to preserve the extension from sushi-config.yaml to the IG JSON file.</li>\n<li>We'd like to make this easier w/ FSH/SUSHI one way or another.</li>\n</ul>",
        "id": 269616195,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1643307927
    },
    {
        "content": "<ol>\n<li>Yes, that file was provided to me but is a straight forward Parameters resource instance</li>\n<li>Right.  I put the json in my root and point to it from the parameters in the config</li>\n<li>Yep.  When sushi processes it, it just adds the path to the parameters, it's not until the publisher hits it that the extension exists and is populated</li>\n<li>It would be best if I could put the parameter in the Parameter resource directly in the config</li>\n<li>Me too.</li>\n</ol>",
        "id": 269616627,
        "sender_full_name": "David Pyke",
        "timestamp": 1643308113
    },
    {
        "content": "<p>I suppose I can see a need for include parameter files, but I wonder why the publisher requires them to have particular purpose, and disallows directly including the parameter in the IG resource?</p>",
        "id": 269617847,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1643308643
    },
    {
        "content": "<p>Because Lloyd is EVIL!  EEEEEVVVVILLLLL!!!!!!</p>",
        "id": 269618703,
        "sender_full_name": "David Pyke",
        "timestamp": 1643309040
    },
    {
        "content": "<div class=\"message_inline_image\"><a href=\"https://media2.giphy.com/media/SXl0wYD0N088EtDhBI/giphy.gif?cid=c623cb350lxljzf92xj26tbn1cfcqw5eb9qxufsl3k3bx7pz&amp;rid=giphy.gif&amp;ct=g\"><img src=\"https://uploads.zulipusercontent.net/b9acdd532c22c773745aefc824a7832b6cbe17a4/68747470733a2f2f6d65646961322e67697068792e636f6d2f6d656469612f53586c30775944304e3038384574446842492f67697068792e6769663f6369643d6336323363623335306c786c6a7a663932786a323674626e3163666371773565623971787566736c336b33627837707a267269643d67697068792e6769662663743d67\"></a></div>",
        "id": 269618886,
        "sender_full_name": "David Pyke",
        "timestamp": 1643309117
    },
    {
        "content": "<p>I don't understand this thread. Why would the IG publisher want to clone all the parameters to the expand operation into being IG parameters? How would that help anyone - other than to mean that people could only use the parameters that the IG publisher specifically supports? </p>\n<p>And what extension is this talking about? I don't know of any extension that is relevant here. You name the parameters resource, and then the IG Publisher uses it</p>",
        "id": 269623939,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643311359
    },
    {
        "content": "<p>My basic ask is that (somehow) I can set the SNOMED variant to be used in the sushi-config and it creates the ig-parameter extension in IG.definitions would be created automagically, rather than having to have a separate Parameters resource in the root of my build with a reference to it in the sushi-config.</p>",
        "id": 269624566,
        "sender_full_name": "David Pyke",
        "timestamp": 1643311631
    },
    {
        "content": "<p>I think--think--what Grahame is saying is that the contents of this file is included in the calls to the terminology server; it isn't actually used by the IG publisher beyond that. And thus, the contents shouldn't be IG parameters.</p>",
        "id": 269624831,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1643311763
    },
    {
        "content": "<p>That's not right.  It's in the final published ImplementationGuide resource as an extension in the .definitions element</p>",
        "id": 269624961,
        "sender_full_name": "David Pyke",
        "timestamp": 1643311821
    },
    {
        "content": "<p>Oh well, that should teach me not to try to think.</p>",
        "id": 269625026,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1643311850
    },
    {
        "content": "<p>Stick with your skillset.  Being pretty and sitting in meetings. <span aria-label=\"stuck out tongue closed eyes\" class=\"emoji emoji-1f61d\" role=\"img\" title=\"stuck out tongue closed eyes\">:stuck_out_tongue_closed_eyes:</span></p>",
        "id": 269625503,
        "sender_full_name": "David Pyke",
        "timestamp": 1643312043
    },
    {
        "content": "<blockquote>\n<p>It's in the final published ImplementationGuide resource as an extension in the .definitions element</p>\n</blockquote>\n<p>What extension is this?</p>",
        "id": 269626486,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643312421
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code> {\n    &quot;extension&quot;: [\n      {\n        &quot;url&quot;: &quot;code&quot;,\n        &quot;valueString&quot;: &quot;system-version&quot;\n      },\n      {\n        &quot;url&quot;: &quot;value&quot;,\n        &quot;valueString&quot;: &quot;http://snomed.info/sct|http://snomed.info/sct/731000124108&quot;\n      }\n    ],\n    &quot;url&quot;: &quot;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&quot;\n  },\n</code></pre></div>",
        "id": 269626648,
        "sender_full_name": "David Pyke",
        "timestamp": 1643312501
    },
    {
        "content": "<p>so far as I can tell, the IG publisher knows nothing about this - it must come from the ig resource provided as input to the IG publisher, and it is totally ignored other than being put in this extension when the R4 IG resource is created.</p>",
        "id": 269629275,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643313593
    },
    {
        "content": "<p>Okay, well, it's not in the IG resource in fsh-generated, so I assume either the template or the publisher is putting it there.</p>",
        "id": 269629507,
        "sender_full_name": "David Pyke",
        "timestamp": 1643313663
    },
    {
        "content": "<p>maybe the template. As far as I can tell, it's not the IG publisher</p>",
        "id": 269629873,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643313816
    },
    {
        "content": "<p>I'm not seeing this... where would I reproduce this IG parameter appearing?</p>",
        "id": 269650994,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643323113
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/fhir-registry-protocols-ig\">https://github.com/HL7/fhir-registry-protocols-ig</a></p>",
        "id": 269735603,
        "sender_full_name": "David Pyke",
        "timestamp": 1643376729
    }
]