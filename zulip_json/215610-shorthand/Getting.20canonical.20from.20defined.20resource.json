[
    {
        "content": "<p>Hi again =)<br>\nI am trying to set the <code>Questionnaire.item.answerValueSet</code> to a valueset I've defined in my fish tank, lets call it <code>MyValueSet</code>. The <code>answerValueSet</code> expects a <code>canonical</code> value. How do I set it to <code>MyValueSet</code>?<br>\nI've tried</p>\n<div class=\"codehilite\"><pre><span></span><code>* item[0].answerValueSet = MyValueSet\n* item[0].answerValueSet = my-value-set-id\n* item[0].answerValueSet = #MyValueSet\n* item[0].answerValueSet = $MyValueSet\n</code></pre></div>\n<p>As you can see, I'm just guessing at this point. I tried searching for it in the shorthand specification but couldn't find it. The top alternative (which seems to me the most logical one) yields error <code>Cannot find definition for Instance: MyValueSet. Skipping rule.</code></p>",
        "id": 231646478,
        "sender_full_name": "Max Körlinge",
        "timestamp": 1616597306
    },
    {
        "content": "<p>I have the same issue with QuestionnaireResponse when creating an instance.</p>\n<div class=\"codehilite\"><pre><span></span><code>Instance: QuestionnaireResponseExample\nInstanceOf: MyQuestionnaireResponse\n* questionnaire = InlineQuestionnaire\n\nInstance: InlineQuestionnaire\nInstanceOf: MyQuestionnaire\nUsage: #inline\n* title = &quot;Example&quot;\n* description = &quot;Example&quot;\n* purpose = &quot;Example&quot;\n* status = #active\n</code></pre></div>\n<p>where <code>questionnaire</code> is supposed to be a <code>canonical</code>. This fails in sushi compile because: <code>Cannot assign Questionnaire value: InlineQuestionnaire. Value does not match element type: canonical</code></p>",
        "id": 231649766,
        "sender_full_name": "Max Körlinge",
        "timestamp": 1616598375
    },
    {
        "content": "<p>have you defined MyValueSet in the same FSH tank? also this structure exists in FSH i haven't used it so I can't comment on if/how it works here <a href=\"https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#reference-and-canonical-data-types\">https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#reference-and-canonical-data-types</a></p>",
        "id": 231651868,
        "sender_full_name": "ryan moehrke",
        "timestamp": 1616598975
    },
    {
        "content": "<p>I think you're looking for the <code>Canonical(...)</code> feature.  In your first example, you should be able to do:</p>\n<div class=\"codehilite\"><pre><span></span><code>* item[0].answerValueSet = Canonical(MyValueSet)\n</code></pre></div>\n<p>The <code>Canonical</code> keyword will extract the canonical URL from the resource name/id you feed it (as long as it can find the definition for that resource).</p>",
        "id": 231655562,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1616600234
    },
    {
        "content": "<p>Ah.  And I see that's actually what <span class=\"user-mention\" data-user-id=\"237342\">@ryan moehrke</span> linked to above.  Thanks, Ryan!  I was about to look for that reference.</p>",
        "id": 231655948,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1616600364
    },
    {
        "content": "<p>Spot on, thanks guys! Not sure how I missed it</p>",
        "id": 231681538,
        "sender_full_name": "Max Körlinge",
        "timestamp": 1616609071
    }
]