[
    {
        "content": "<p>I just noticed that generated profiles (and some other resources) have extensions on them:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"s2\">\"extension\"</span><span class=\"err\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/StructureDefinition/structuredefinition-category\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Base.Individuals\"</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/StructureDefinition/structuredefinition-security-category\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span> <span class=\"s2\">\"individual\"</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">]</span><span class=\"err\">,</span>\n</code></pre></div>\n<p>What are these for? How are the values selected, and what is the vocabulary? And why are they generated for some resources and not others?</p>",
        "id": 219535935,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1607635533
    },
    {
        "content": "<p>Do they come from the base resource you are profiling?</p>",
        "id": 219538213,
        "sender_full_name": "David Hay",
        "timestamp": 1607636681
    },
    {
        "content": "<p>I believe that sushi copies these across (or used to...)</p>",
        "id": 219538245,
        "sender_full_name": "David Hay",
        "timestamp": 1607636701
    },
    {
        "content": "<p>Ah, that's interesting. I'd buy that.</p>\n<p>And I was wrong, it's only the profiles that have this.</p>",
        "id": 219539450,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1607637456
    },
    {
        "content": "<p>Although, I'm not clear why this is being done.</p>",
        "id": 219541151,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1607638231
    },
    {
        "content": "<p>Are you seeing this <em>before</em> or <em>after</em> running the IG Publisher?  SUSHI doesn't do anything that would <em>add</em> these extensions if they weren't already on the base resource.  But I could imagine the IG Publisher doing something tricky like that.</p>",
        "id": 219545156,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1607640626
    },
    {
        "content": "<p>I'm seeing it in fsh-generated.</p>",
        "id": 219545278,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1607640708
    },
    {
        "content": "<p>I buy <span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span>'s explanation that it is copied from the base resource. But that just changes the question from \"how did it get there?\" to \"why is it there?\"</p>",
        "id": 219545442,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1607640827
    },
    {
        "content": "<p>So... by default, extensions are inherited from the base resource (and regenerated in the profile snapshot).  This has been a topic in the past, and currently there are about 6 extensions identified as \"do not inherit\".  See <a href=\"https://jira.hl7.org/browse/FHIR-27535\">https://jira.hl7.org/browse/FHIR-27535</a>.  The (duplicate) issue <a href=\"https://jira.hl7.org/browse/FHIR-28441\">https://jira.hl7.org/browse/FHIR-28441</a> proposes a more programmatic approach to this and some \"candidates\" to be considered -- so this behavior should become more consistent in the future.</p>",
        "id": 219546182,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1607641286
    },
    {
        "content": "<p>I assume that this would also explain where I'm getting RIM mappings from, despite me not specifying them. (On second thought,  maybe that's from the snapshot, bringing in the base resource.)</p>",
        "id": 219550637,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1607644745
    },
    {
        "content": "<p>Yeah, the RIM mappings are getting inherited too.</p>",
        "id": 219606419,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1607693864
    }
]