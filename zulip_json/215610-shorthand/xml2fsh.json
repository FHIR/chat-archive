[
    {
        "content": "<p>What is the correct fsh code of this XML?</p>\n<div class=\"codehilite\"><pre><span></span><code>        <span class=\"c\">&lt;!-- field - reverseByteSize --&gt;</span>\n        <span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">&quot;reverseByteSize-extension-slice&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Extension.extension&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;sliceName</span> <span class=\"na\">value=</span><span class=\"s\">&quot;reverseByteSize&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;short</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Reverse file size in bytes&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;min</span> <span class=\"na\">value=</span><span class=\"s\">&quot;0&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;max</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/element&gt;</span>\n        <span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">&quot;reverseByteSize-extension-uri&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Extension.extension.url&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;fixedUri</span> <span class=\"na\">value=</span><span class=\"s\">&quot;reverseByteSize&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/element&gt;</span>\n        <span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">&quot;reverseByteSize-extension-value&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Extension.extension.valueDecimal&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;min</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;type&gt;</span>\n                <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;decimal&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;/type&gt;</span>\n        <span class=\"nt\">&lt;/element&gt;</span>\n</code></pre></div>\n\n\n<p>The following is not working:</p>\n<div class=\"codehilite\"><pre><span></span><code>* extension contains\n    reverseByteSize 0..1 and\n\n* extension[reverseByteSize] ^short = &quot;Reverse file size in bytes&quot;\n* extension[reverseByteSize].valueNumber only number\n</code></pre></div>",
        "id": 203919781,
        "sender_full_name": "ben",
        "timestamp": 1594793337
    },
    {
        "content": "<p>not even with Decimal, decimal</p>",
        "id": 203919833,
        "sender_full_name": "ben",
        "timestamp": 1594793403
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> can you point me to the right direction?</p>",
        "id": 203919915,
        "sender_full_name": "ben",
        "timestamp": 1594793548
    },
    {
        "content": "<p>are you trying to declare or instantiate the extension?</p>",
        "id": 203920868,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594795004
    },
    {
        "content": "<p>I want to decleare it, here is the full code, what I have:</p>\n<div class=\"codehilite\"><pre><span></span><code>Extension:      FastqPaired\nId:             FastqPaired\nTitle:          &quot;Fastq Paired&quot;\nDescription:    &quot;Represents paired read data generated from sequencing performed on this specimen.&quot;\n\n* extension contains\n    forward 1..1 MS and\n    forwardByteSize 0..1 and\n    forwardChecksum 0..1 and\n    reverse 1..1 MS and\n    reverseByteSize 0..1 and\n    reverseChecksum 0..1\n\n* extension[forward] ^short = &quot;Forward read file location&quot;\n* extension[forward].valueString only string\n\n* extension[forwardByteSize] ^short = &quot;Forward file size in bytes&quot;\n* extension[forwardByteSize].valueNumber only number\n\n* extension[forwardChecksum] ^short = &quot;Forward file MD5 checksum&quot;\n* extension[forwardChecksum].valueString only string\n\n* extension[reverse] ^short = &quot;Reverse read file location&quot;\n* extension[reverse].valueString only string\n\n* extension[reverseByteSize] ^short = &quot;Reverse file size in bytes&quot;\n* extension[reverseByteSize].valueNumber only number\n\n* extension[reverseChecksum] ^short = &quot;Reverse file MD5 checksum&quot;\n* extension[reverseChecksum].valueString only string\n</code></pre></div>",
        "id": 203921008,
        "sender_full_name": "ben",
        "timestamp": 1594795213
    },
    {
        "content": "<p>this is an extension on extension?</p>",
        "id": 203922134,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594796724
    },
    {
        "content": "<p>so you want your FastqPaired extension to have those other extensions?</p>",
        "id": 203922193,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594796771
    },
    {
        "content": "<p>Instead of doing something like <code>valueString only string</code>, you want to do <code>value[x] only string</code>, since the <code>value[x]</code> element is a choice, and you are constraining it to only be a <code>string</code>. The <code>valueString</code> element is already only a <code>string</code>. Additionally, you do want to use <code>decimal</code>, since that is the name of the type in FHIR. However, I think you've also come across a bug here. I tried to recreate your extension making the changes described above, and it still did not work completely correctly, and it seems the problem I was running into had to do with having multiple slices of extension starting with the same string (in this case \"forward\" and \"reverse\"). I was able to fix this by renaming the \"reverseByteSize\" and \"forwardByteSize\" extension names:</p>\n<div class=\"codehilite\"><pre><span></span><code>Id:             FastqPaired\nTitle:          &quot;Fastq Paired&quot;\nDescription:    &quot;Represents paired read data generated from sequencing performed on this specimen.&quot;\n\n* extension contains\n    forward 1..1 MS and\n    byteSizeForward 0..1 and\n    forwardChecksum 0..1 and\n    reverse 1..1 MS and\n    byteSizeReverse 0..1 and\n    reverseChecksum 0..1\n\n* extension[forward] ^short = &quot;Forward read file location&quot;\n* extension[forward].value[x] only string\n\n* extension[byteSizeForward] ^short = &quot;Forward file size in bytes&quot;\n* extension[byteSizeForward].value[x] only decimal\n\n* extension[forwardChecksum] ^short = &quot;Forward file MD5 checksum&quot;\n* extension[forwardChecksum].value[x] only string\n\n* extension[reverse] ^short = &quot;Reverse read file location&quot;\n* extension[reverse].value[x] only string\n\n* extension[byteSizeReverse] ^short = &quot;Reverse file size in bytes&quot;\n* extension[byteSizeReverse].value[x] only decimal\n\n* extension[reverseChecksum] ^short = &quot;Reverse file MD5 checksum&quot;\n* extension[reverseChecksum].value[x] only string\n</code></pre></div>\n\n\n<p>I think you may have to use a similar workaround until we fix that bug.</p>",
        "id": 203946857,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1594815182
    },
    {
        "content": "<p>thank you <span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span> you saved my day!!!</p>",
        "id": 204026012,
        "sender_full_name": "ben",
        "timestamp": 1594855732
    },
    {
        "content": "<p>Yeah, <span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span> does that a lot. ;-)</p>",
        "id": 204033532,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1594861824
    },
    {
        "content": "<p>Created an issue: <a href=\"https://github.com/HL7/fhir-shorthand/issues/72\">https://github.com/HL7/fhir-shorthand/issues/72</a></p>",
        "id": 204036099,
        "sender_full_name": "ben",
        "timestamp": 1594864520
    }
]