[
    {
        "content": "<p>What is the syntax to tell Sushi that the resource at the specified canonical URL will conform to a profile?  Specifically, I'm looking to say that there must be at least one Measure.library that conforms to a specifc profile of Library.</p>",
        "id": 209120650,
        "sender_full_name": "Keith Boone",
        "timestamp": 1599240625
    },
    {
        "content": "<p>Ideally, I want to say all libraries referenced by a measure will conform to such-and -such profile..</p>",
        "id": 209120759,
        "sender_full_name": "Keith Boone",
        "timestamp": 1599240714
    },
    {
        "content": "<p>I can't figure out how to do this using the <code>only</code> syntax. It feels like you should be able to, but maybe that is something that is missing from FSH. You should be able to specify that a canonical will conform to a profile using the caret syntax:</p>\n<div class=\"codehilite\"><pre><span></span><code>Profile: MyMeasure\nParent: Measure\n* library ^type[0].targetProfile = Canonical(NamedLibrary)\n// * library ^type[0].targetProfile = &quot;http://example.org/StructureDefinition/NamedLibrary&quot;\n\nProfile: NamedLibrary\nParent: Library\n* name 1..1\n</code></pre></div>\n\n\n<p>where the first line shows how you would accomplish that if you are referencing a locally defined Library, and the commented out line shows how you could do this if just wanted to hard-code the URL.</p>",
        "id": 209126624,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1599244266
    },
    {
        "content": "<p>This worked for me, thanks!<br>\nYes, ideally, we'd be able to say * library only Canonical(NamedLibrary) and it would work the way we'd expect.  I think that works with Reference, and it should work with Canonical().</p>",
        "id": 209131400,
        "sender_full_name": "Keith Boone",
        "timestamp": 1599247005
    },
    {
        "content": "<p>I spoke too soon.  Sushi liked it, but Publisher complained: <br>\njava.lang.Exception: Error generating snapshot for C:\\Users\\kboone\\git\\fhir-saner\\input\\profiles\\StructureDefinition-PublicHealthMeasure(PublicHealthMeasure): Unable to generate snapshot for <a href=\"http://hl7.org/fhir/us/saner/StructureDefinition/PublicHealthMeasure\">http://hl7.org/fhir/us/saner/StructureDefinition/PublicHealthMeasure</a> in C:\\Users\\kboone\\git\\fhir-saner\\input\\profiles\\StructureDefinition-PublicHealthMeasure<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:4360)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3699)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:854)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:715)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:7946)<br>\nCaused by: org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for <a href=\"http://hl7.org/fhir/us/saner/StructureDefinition/PublicHealthMeasure\">http://hl7.org/fhir/us/saner/StructureDefinition/PublicHealthMeasure</a> in C:\\Users\\kboone\\git\\fhir-saner\\input\\profiles\\StructureDefinition-PublicHealthMeasure<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4413)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:4358)<br>\n    ... 4 more<br>\nCaused by: org.hl7.fhir.exceptions.DefinitionException: Type mismatch processing profile <a href=\"http://hl7.org/fhir/us/saner/StructureDefinition/PublicHealthMeasureLibrary\">http://hl7.org/fhir/us/saner/StructureDefinition/PublicHealthMeasureLibrary</a> at path Measure.library: The element type is canonical, but the profile <a href=\"http://hl7.org/fhir/us/saner/StructureDefinition/PublicHealthMeasureLibrary\">http://hl7.org/fhir/us/saner/StructureDefinition/PublicHealthMeasureLibrary</a> is for a different type Library<br>\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:929)<br>\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:539)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4411)<br>\n    ... 5 more</p>\n<p>I think I'll have to wait for <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> or <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  or <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> to explain this one to me.</p>",
        "id": 209151484,
        "sender_full_name": "Keith Boone",
        "timestamp": 1599264232
    },
    {
        "content": "<p>looks like you meant to specify a targetProfile but you specified a profile instead</p>",
        "id": 209153349,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599266919
    }
]