[
    {
        "content": "<p><strong>Announcing SUSHI 0.13.0-beta.1</strong> which adds a new experimental approach to configuring SUSHI.  Further details are available in the release notes: <a href=\"https://github.com/FHIR/sushi/releases/tag/v0.13.0-beta.1\">https://github.com/FHIR/sushi/releases/tag/v0.13.0-beta.1</a>.</p>\n<p><strong>NOTE</strong>: This is an experimental beta recommended for established users only.</p>\n<p><strong>Install or Update</strong>:<br>\nTo install or update to the beta version, run the following command:<br>\n<code>$ npm install -g fsh-sushi@beta</code></p>",
        "id": 197486198,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1589409547
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> -- this one's for you!</p>",
        "id": 197486336,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589409668
    },
    {
        "content": "<p>hurrah!</p>",
        "id": 197486508,
        "sender_full_name": "David Hay",
        "timestamp": 1589409819
    },
    {
        "content": "<p>Pretty disappointing so far - it just seems to work!  Where are the fireworks I was expecting?  :)</p>",
        "id": 197489589,
        "sender_full_name": "David Hay",
        "timestamp": 1589412036
    },
    {
        "content": "<p>One question - how can I specify that a page should open in a separate tab? ie replicating:</p>\n<div class=\"codehilite\"><pre><span></span><code>      &lt;li&gt;\n        &lt;a target=&quot;_blank&quot; href=&quot;{{site.data.fhir.path}}index.html&quot;&gt;FHIR Spec &lt;img src=&quot;external.png&quot; style=&quot;text-align: baseline&quot;/&gt;&lt;/a&gt;\n      &lt;/li&gt;\n</code></pre></div>",
        "id": 197489659,
        "sender_full_name": "David Hay",
        "timestamp": 1589412106
    },
    {
        "content": "<p>This is AWESOME! Now I can remove quite a few <code>sed -i</code> workarounds from my build script :D Trying it out first thing in the Swedish morning.</p>",
        "id": 197490220,
        "sender_full_name": "PÃ©tur Valdimarsson",
        "timestamp": 1589412488
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191321\">David Hay</span> <a href=\"#narrow/stream/215610-shorthand/topic/SUSHI.200.2E13.2E0-beta.2E1/near/197489659\">said</a>:</p>\n<blockquote>\n<p>One question - how can I specify that a page should open in a separate tab?:</p>\n</blockquote>\n<p>You can't.  There.  Is that the firework you were looking for?</p>",
        "id": 197494398,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589415865
    },
    {
        "content": "<p>But seriously... it's not a current feature.  Maybe we can come up w/ something.  But for now, if you want \"advanced\" menu features, I guess you need to provide your own <code>menu.xml</code>.</p>",
        "id": 197494456,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589415923
    },
    {
        "content": "<p>TBH though -- there are some who think SUSHI should not be doing anything at all w/ menu.xml, package-list.json, pages, etc -- so depending on what the feedback is and how discussions go, the entire menu feature may or may not make it through the beta.</p>",
        "id": 197494581,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589416022
    },
    {
        "content": "<p>In markdown, you can always fall back on plain html &lt;a href&gt; with target = \"_blank\"</p>",
        "id": 197543824,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1589458481
    },
    {
        "content": "<p>That's true and helpful for pages -- but the <code>menu</code> format in config.yaml isn't markdown, nor is <code>menu.xml</code>, so it doesn't get at <span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span>'s question.  One thing we could possibly do is support a <code>new-tab</code> keyword in the config.yaml to indicate it should open in a new tab, and maybe <code>external</code> to indicate you want the little external icon.  What do you think of something like:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"nt\">menu</span><span class=\"p\">:</span>\n  <span class=\"nt\">Home</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">index.md</span>\n  <span class=\"nt\">FHIR Spec</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">external new-tab {{site.data.fhir.path}}index.html</span>\n</code></pre></div>",
        "id": 197547817,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589460887
    },
    {
        "content": "<p>Yep - that should work. In my specific case the url is fixed, so I wouldn't need the {{}} - but it's a good option to have. Interestingly, the other option to use is an iframe - <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> figured that out for me - works well for my specific use case (I wanted to embed an example query page for developers), though won't suit all use cases of course...</p>",
        "id": 197584918,
        "sender_full_name": "David Hay",
        "timestamp": 1589475272
    },
    {
        "content": "<p>I think I found a bug. If I add more than one <code>special-url</code> parameter to <code>config.yaml</code>, sushi stops. </p>\n<div class=\"codehilite\"><pre><span></span><code>parameters:\n  show-inherited-invariants: true\n  special-url: http://www.genenames.org/geneId\n  special-url: http://glstring.org\n</code></pre></div>\n\n\n<p>results in</p>\n<div class=\"codehilite\"><pre><span></span><code>$ sushi\ninfo  Running SUSHI v0.13.0-beta.1\ninfo  path-to-fsh-defs defaulted to current working directory\ninfo  Using configuration file: /Users/bmilius/Documents/src/fsh/hla-reporting-ig/config.yaml\n$\n</code></pre></div>",
        "id": 197713853,
        "sender_full_name": " Bob Milius",
        "timestamp": 1589558729
    },
    {
        "content": "<p>Yep.  I think you found a bug!  SUSHI definitely shouldn't just <em>stop</em> without any output or errors.</p>\n<p>That said, the way you do multi-value parameters in config.yaml is by declaring the parameter once but using a list as its value.  So try this instead:</p>\n<div class=\"codehilite\"><pre><span></span><code>parameters:\n  show-inherited-invariants: true\n  special-url:\n    - http://www.genenames.org/geneId\n    - http://glstring.org\n</code></pre></div>",
        "id": 197716028,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589559764
    },
    {
        "content": "<p>about time for me to learn yaml <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 197720388,
        "sender_full_name": " Bob Milius",
        "timestamp": 1589561510
    },
    {
        "content": "<p>Actually, YAML doesn't explicitly forbid repeated keys in its spec -- but <em>we</em> do.  ;-)</p>",
        "id": 197728293,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589565198
    },
    {
        "content": "<p>Yo <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> - thanks for the work you all did last week, FSH is really taking off...<br>\nI got a couple questions.<br>\na) How do I set a Range to a fixed code system. i.e. I want to constrain value[x] to a Range  of Quantities and constrain the upper and lower units. Not sure hot to do this.<br>\nb) This is an expansion of (a). I want to constrain Observation.value[x] to be a Quantity or a Range. I want to constrain the Range and Quantity units to a fixed value (UCUM).<br>\nUnless I misunderstand FHIR, I believe I need to slice value[x], so I have a valueQuanityt slice and a valueRange slice and then set each slices pattern to appropriately.<br>\nI tried doing this, and I can't access the slices properly.</p>\n<ul>\n<li>value[x] contains quantity 0..1 and range 0..1</li>\n<li>value[x][quantity] only Quantity</li>\n<li>value[x][quantity] units <a href=\"http://hl7.org/fhir/us/breast-radiology/ValueSet/UnitsOfLengthVS#abc\">http://hl7.org/fhir/us/breast-radiology/ValueSet/UnitsOfLengthVS#abc</a></li>\n</ul>\n<p>sushi doesn't like value[x][quantity] - I assume I have the slice name syntax wrong?</p>\n<p>Thx,<br>\nKurt A.</p>",
        "id": 197850902,
        "sender_full_name": "Kurt Allen",
        "timestamp": 1589724329
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192611\">@Kurt Allen</span> although <code>value[x]</code> properties are represented using slicing, they require special treatment, and they are very commonly constrained, so they are treated specially in SUSHI. So instead of accessing slices as <code>value[x][quantity]</code>, you simply access the <code>valueQuantity</code> element. I think the following example shows how you would want to achieve what you described:</p>\n<div class=\"codehilite\"><pre><span></span><code>Profile: MyObservation\nParent: Observation\n* value[x] only Quantity or Range\n// Setting the units on the quantities and range\n* valueQuantity units = http://hl7.org/fhir/us/breast-radiology/ValueSet/UnitsOfLengthVS#abc\n* valueRange.low units = http://hl7.org/fhir/us/breast-radiology/ValueSet/UnitsOfLengthVS#def\n* valueRange.high units = http://hl7.org/fhir/us/breast-radiology/ValueSet/UnitsOfLengthVS#def\n\nProfile: MyObservation2\nParent: Observation\n* value[x] only Quantity or Range\n// Setting fixed values on the quantity and range, automatically assuming UCUM units\n* valueQuantity = 10 &#39;mm&#39;\n* valueRange.low = 5 &#39;mm&#39;\n* valueRange.high = 20 &#39;mm&#39;\n</code></pre></div>\n\n\n<p>I think the first example is doing what you described, setting the units system and code on the Quantity and Range. The second example shows how to set a value and units code on a quantity, where the system is automatically assumed to be UCUM. I don't think this is what you were asking about, but I'm adding that on just in case.</p>",
        "id": 197929170,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1589806250
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span> <span class=\"user-mention\" data-user-id=\"192611\">@Kurt Allen</span> The first example is not actually correct. Codes follow the pattern {system}#{code}, not {value set}#{code} . It should be something like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>* valueQuantity units = UCUM#abc\n* valueRange.low units = UCUM#def\n* valueRange.high units = UCUM#def\n</code></pre></div>\n\n\n<p>The value set only comes into play when an instance is validated (i.e., the code is checked to see it is in the required value set).</p>",
        "id": 198055768,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1589890416
    }
]