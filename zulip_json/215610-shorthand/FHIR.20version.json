[
    {
        "content": "<p>Can I use shorthand/sushi to define and generate STU3 based profiles?</p>",
        "id": 189875601,
        "sender_full_name": "Bas van den Heuvel",
        "timestamp": 1583486997
    },
    {
        "content": "<p>In theory, there's nothing about the shorthand <em>language</em> that is tied to any specific version of FHIR (except maybe that DSTU2 does not have <code>CodeSystem</code>s).  <em>SUSHI</em>, however, currently supports R4 only.  We felt it was important to nail down the features and functionality in a single version of FHIR before introducing the complexity of multi-version support.  We're still working on that (features and functionality) -- so no near-term plans for DSTU2 or STU3.</p>",
        "id": 189890670,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1583500136
    },
    {
        "content": "<p>thx Chris</p>",
        "id": 190047607,
        "sender_full_name": "Bas van den Heuvel",
        "timestamp": 1583741302
    },
    {
        "content": "<p>What is the version number for the current build?  If I use 5.0.0-snapshot1 I get \"Accessing non-existent property 'INVALID_ALT_NUMBER'...\"  if I use \"current\" I get \"error The sushi-config.yaml must specify a supported version of FHIR....\"  if use 4.6.0, I get the May 2021 ballot version.</p>",
        "id": 274717206,
        "sender_full_name": "Catherine Hosage Norman",
        "timestamp": 1646845043
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"197370\">@Catherine Hosage Norman</span>.  What version of SUSHI are you using?  I'm using SUSHI 2.3.0 and both <code>fhirVersion: 5.0.0-snapshot1</code> and <code>fhirVersion: current</code> work for me.  <code>5.0.0-snapshot1</code> is preferred since I don't think the IG Publisher doesn't actually supports <code>current</code>.</p>",
        "id": 274717932,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1646845316
    },
    {
        "content": "<p>See the log attached <a href=\"/user_uploads/10155/uuJ52h7A4rAzWaQUAz4DLHeo/sushi-runs.txt\">sushi-runs.txt</a></p>",
        "id": 274719412,
        "sender_full_name": "Catherine Hosage Norman",
        "timestamp": 1646845826
    },
    {
        "content": "<p>OK.  I see now.  So a couple of things.</p>\n<p>First, don't worry about <code>INVALID_ALT_NUMBER</code>.  That's an issue that happens w/ Node 14 and above, but does <em>not</em> affect the output of SUSHI.  You can safely ignore it.</p>\n<p>Now, on to the error you get when running the IG Publisher.  I see this in your log:</p>\n<div class=\"codehilite\"><pre><span></span><code>Run Sushi on C:\\FHIR-us-pq-cmc                                                   (00:00.0023)\nSushi: npx: installed 901 in 117.697s                                            (02:01.0587)\nSushi: info  Running SUSHI v2.0.0-beta.3 (implements FHIR Shorthand specification v1.1.0) (02:02.0428)\n</code></pre></div>\n<p>Notice that the last line says it is running SUSHI v2.0.0-beta.3.  That's not the SUSHI you want.  I bet you have a <code>fsh.ini</code> file in that folder that specifies a different SUSHI version.  If that's the only thing in the <code>fsh.ini</code> file, then I recommend just deleting that file.  If the <code>fsh.ini</code> also has another property (e.g., setting a timeout) then you can just remove the line that specifies the old SUSHI version.</p>",
        "id": 274727698,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1646848845
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191469\">Chris Moesel</span> <a href=\"#narrow/stream/215610-shorthand/topic/FHIR.20version/near/274727698\">said</a>:</p>\n<blockquote>\n<p>First, don't worry about <code>INVALID_ALT_NUMBER</code>.  That's an issue that happens w/ Node 14 and above, but does <em>not</em> affect the output of SUSHI.  You can safely ignore it.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> , would it be helpful to put a message in the output indicating that that message can be ignored? Is there a way to intercept the (I assume) stderr output, and filter that message out? I think it trips up every new user until they learn they can disregard it.</p>",
        "id": 274729005,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1646849305
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span> -- I don't think we can easily intercept it (although I haven't looked into it).  We could potentially detect the Node version and output a message saying you can ignore it...  We're working on a SUSHI 3.0 that will <em>require</em> Node 14 and above and will also remove the <code>INVALID_ALT_NUMBER</code> message -- but it's not ready quite yet.</p>",
        "id": 274730692,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1646850053
    },
    {
        "content": "<p>I am getting this message<br>\nPublishing Content Failed: Error Parsing File C:\\FHIR-us-pq-cmc\\fsh-generated\\resources\\ImplementationGuide-hl7.fhir.us.pq-cmc.json: C:\\FHIR-us-pq-cmc\\fsh-generated\\resources\\ImplementationGuide-hl7.fhir.us.pq-cmc.json (The system cannot find the file specified) (00:05.0993)</p>\n<p>The IG tool is looking for this file: ImplementationGuide-hl7.fhir.us.pq-cmc.json   It is named ImplementationGuide-pqcmc_ig.json</p>\n<p>What controls the name of the output json file?</p>",
        "id": 274769867,
        "sender_full_name": "Catherine Hosage Norman",
        "timestamp": 1646869827
    },
    {
        "content": "<p>Found it in the ig.ini file.  Next problem:</p>\n<p>onGenerate.jira.setup:<br>\n     [xslt] Processing C:\\FHIR-us-pq-cmc\\template\\onGenerate-ig-updated.xml to C:\\FHIR-us-pq-cmc\\template\\properties.txt<br>\n     [xslt] Loading stylesheet C:\\FHIR-us-pq-cmc\\template\\scripts\\onGenerate.genProperties.xslt<br>\nWhen using the HL7 template, the IG id must start with \"hl7.\" - found pqcmc_ig<br>\n     [xslt] C:\\FHIR-us-pq-cmc\\template\\scripts\\onGenerate.genProperties.xslt:35:7: Fatal Error! Processing terminated by xsl:message at line 35 in onGenerate.genProperties.xslt<br>\n     [xslt] Failed to process C:\\FHIR-us-pq-cmc\\template\\onGenerate-ig-updated.xml<br>\nPublishing Content Failed: Fatal error during transformation using C:\\FHIR-us-pq-cmc\\template\\scripts\\onGenerate.genProperties.xslt: Processing terminated by xsl:message at line 35 in onGenerate.genProperties.xslt; SystemID: file:/C:/FHIR-us-pq-cmc/template/scripts/onGenerate.genProperties.xslt; Line#: 35; Column#: 7 (03:23.0637)<br>\n                                                                                 (03:23.0641)<br>\nThis error was created by the template                                           (03:23.0644)</p>",
        "id": 274779249,
        "sender_full_name": "Catherine Hosage Norman",
        "timestamp": 1646876417
    },
    {
        "content": "<p>Ooohhh... Jira file issues are definitely not my strength.  I'm going to have to summon <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> and <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> for that one.</p>",
        "id": 274782651,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1646879975
    },
    {
        "content": "<p>The id and package-id of your IG need to be hl7.fhir.us.pq-cmc.</p>",
        "id": 274785517,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1646883192
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197370\">@Catherine Hosage Norman</span> -- If you have a <code>sushi-config.yaml</code> file, then this means you want to set its <code>id</code> to what Lloyd suggested.  E.g.:</p>\n<div class=\"codehilite\"><pre><span></span><code>id: hl7.fhir.us.pq-cmc\n</code></pre></div>\n<p>If you allow SUSHI to create your ImplementationGuide, then this will affect the _name_ of your ImplementationGuide file (since it has the <code>id</code> in its name).  And if the ImplementationGuide file's name changes, then you need to update the path in <code>ig.ini</code> to reflect that.</p>",
        "id": 274788527,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1646886774
    },
    {
        "content": "<p>Well, that is sorted out.  It is processing.  Still running, but I am calling it a night.   Thanks for your help.</p>",
        "id": 274791738,
        "sender_full_name": "Catherine Hosage Norman",
        "timestamp": 1646889946
    },
    {
        "content": "<p>Random idea from the side: Maybe sushi could emit a warning if <code>fsh.ini</code> specifies a different sushi version? I have sushi installed globally (most people do, I believe), and I have run into issues with sushi-versions when switching between projects...</p>",
        "id": 274825865,
        "sender_full_name": "Martin Höcker",
        "timestamp": 1646914218
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"217988\">@Martin Höcker</span> -- soon SUSHI will check to see if you are running the most recent version and display a message if a more recent version is available.  I expect that will help a lot with things like this.</p>",
        "id": 274832538,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1646918094
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 277994079,
        "sender_full_name": "Michaela Ziegler",
        "timestamp": 1649235451
    }
]