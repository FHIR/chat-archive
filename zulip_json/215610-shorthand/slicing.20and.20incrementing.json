[
    {
        "content": "<p>I may have found a bug in sushi around instances using slicing indexes plus the incremental indexing.  That is to say I have used the names of slices to fill some entries, and then wanted to add others and those others overwrote.</p>",
        "id": 238646914,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620924187
    },
    {
        "content": "<p>Here is the sushi example <a href=\"https://github.com/IHE/ITI.MHD/blob/master/input/fsh/ex-ProvideBundles.fsh\">https://github.com/IHE/ITI.MHD/blob/master/input/fsh/ex-ProvideBundles.fsh</a></p>",
        "id": 238646939,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620924204
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>* entry[SubmissionSet].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a44&quot;\n* entry[SubmissionSet].resource = 593cd04e-b696-45c1-bc32-39e55a340a44\n* entry[SubmissionSet].request.url = &quot;List&quot;\n* entry[SubmissionSet].request.method = #POST\n* entry[Folders].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a45&quot;\n* entry[Folders].resource = 593cd04e-b696-45c1-bc32-39e55a340a45\n* entry[Folders].request.url = &quot;List&quot;\n* entry[Folders].request.method = #POST\n* entry[DocumentRefs].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a46&quot;\n* entry[DocumentRefs].resource = 593cd04e-b696-45c1-bc32-39e55a340a46\n* entry[DocumentRefs].request.url = &quot;DocumentReference&quot;\n* entry[DocumentRefs].request.method = #POST\n* entry[+].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a49&quot;\n* entry[=].resource = 593cd04e-b696-45c1-bc32-39e55a340a49\n* entry[=].request.url = &quot;Patient&quot;\n* entry[=].request.method = #POST\n</code></pre></div>",
        "id": 238647128,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620924288
    },
    {
        "content": "<p>the [+] operation seems to have not indexed beyond the previous populated entries... so the Patient resource got put into the first slot, overwriting the SubmissionSet</p>",
        "id": 238647210,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620924331
    },
    {
        "content": "<p>I recall seeing discussion of something similar, and I think a release addressing it, where [+] assumed it was starting from 0, rather than grab the next available index.</p>",
        "id": 238648673,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1620924978
    },
    {
        "content": "<p>We have fixed some things around <code>[+]</code> in recent releases, but... I don't remember addressing this specific use case.  TBH, I'm not sure we've specified what the behavior <em>should</em> be in this case.  I think that what you expect, <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span>, seems like the intuitive approach -- so I'd lean toward implementing it that way (assuming it is still broken).</p>\n<p>For now, you might need to explicitly set that first index (after the slices) to a an explicit number.  Then after that you can use <code>[+]</code> to increment the index.  <span class=\"user-mention\" data-user-id=\"353631\">@Julian Carter</span> -- what do you think?</p>",
        "id": 238654651,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1620927702
    },
    {
        "content": "<p>I have sushi 1.3.2</p>",
        "id": 238655991,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620928387
    },
    {
        "content": "<p>ah, so where I have the [+], I could have put [4], and from that point could use [=] and [+]?</p>",
        "id": 238656140,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620928448
    },
    {
        "content": "<p>another question related.... in my example there can be many \"DocumentRefs\"... how do I do multiple instances of the same slice?</p>",
        "id": 238656808,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620928770
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/215610-shorthand/topic/slicing.20and.20incrementing/near/238656808\">said</a>:</p>\n<blockquote>\n<p>another question related.... in my example there can be many \"DocumentRefs\"... how do I do multiple instances of the same slice?</p>\n</blockquote>\n<p>figured the indexing multiple slices out</p>\n<div class=\"codehilite\"><pre><span></span><code>* entry[DocumentRefs][+].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a46&quot;\n* entry[DocumentRefs][=].resource = 593cd04e-b696-45c1-bc32-39e55a340a46\n* entry[DocumentRefs][=].request.url = &quot;DocumentReference&quot;\n* entry[DocumentRefs][=].request.method = #POST\n* entry[DocumentRefs][+].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a47&quot;\n* entry[DocumentRefs][=].resource = 593cd04e-b696-45c1-bc32-39e55a340a47\n* entry[DocumentRefs][=].request.url = &quot;DocumentReference&quot;\n* entry[DocumentRefs][=].request.method = #POST\n</code></pre></div>",
        "id": 238676623,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620937940
    }
]