[
    {
        "content": "<p>what is the way to represent this with fsh ?</p>\n<div class=\"codehilite\"><pre><span></span>&lt;element id=&quot;Practitioner.identifier&quot;&gt;\n      &lt;path value=&quot;Practitioner.identifier&quot;/&gt;\n      &lt;slicing&gt;\n        &lt;discriminator&gt;\n          &lt;type value=&quot;pattern&quot;/&gt;\n          &lt;path value=&quot;$this&quot;/&gt;\n        &lt;/discriminator&gt;\n\n&lt;.......&gt;\n\n    &lt;element id=&quot;Practitioner.identifier:codiceFiscale&quot;&gt;\n      &lt;path value=&quot;Practitioner.identifier&quot;/&gt;\n      &lt;sliceName value=&quot;codiceFiscale&quot;/&gt;\n        &lt;patternIdentifier&gt;\n            &lt;system value=&quot;http://hl7.it/sid/codiceFiscale&quot;/&gt;\n        &lt;/patternIdentifier&gt;\n    &lt;/element&gt;\n</pre></div>",
        "id": 194818677,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1587482711
    },
    {
        "content": "<p>Profile: GiorgioPractitioner<br>\nParent: Practitioner</p>\n<ul>\n<li>identifier ^slicing.discriminator.type = #pattern</li>\n<li>identifier ^slicing.discriminator.path = \"$this\"</li>\n<li>identifier ^slicing.rules = #open</li>\n<li>identifier contains codiceFiscale 0..1</li>\n<li>identifier[codiceFiscale].system = \"<a href=\"http://hl7.it/sid/codiceFiscale\" title=\"http://hl7.it/sid/codiceFiscale\">http://hl7.it/sid/codiceFiscale</a>\"</li>\n</ul>",
        "id": 194819968,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587483224
    },
    {
        "content": "<p>that doesn't end up with exactly what you have, but I think it is equivalent</p>",
        "id": 194820100,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587483268
    },
    {
        "content": "<p>thanks Jean</p>",
        "id": 194820242,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1587483330
    },
    {
        "content": "<p>this is what I suppose I did.. but if I'm not wrong this puts the pattern at the system level.</p>",
        "id": 194821185,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1587483715
    },
    {
        "content": "<p>The problem  is that in this case an error is returned when my example is validated during the build.<br>\nThe same instance is instead properly validated when I use the syntax described above (with the pattern at the identifier level).</p>\n<p>... I'll investigate further to see if i did anything wrong on my side :-)</p>",
        "id": 194821396,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1587483796
    },
    {
        "content": "<p>do you want to send me your sample and I can see what I did wrong? :)</p>",
        "id": 194821453,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587483825
    },
    {
        "content": "<p>hmm, you are right.  that's not the right way to define the pattern</p>",
        "id": 194821997,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587484067
    },
    {
        "content": "<p>This works and gives you exactly what you had...</p>\n<ul>\n<li>identifier ^slicing.discriminator.type = #pattern</li>\n<li>identifier ^slicing.discriminator.path = \"$this\"</li>\n<li>identifier ^slicing.rules = #open</li>\n<li>identifier contains codiceFiscale 0..1</li>\n<li>identifier[codiceFiscale] ^patternIdentifier.system = \"<a href=\"http://hl7.it/sid/codiceFiscale\" title=\"http://hl7.it/sid/codiceFiscale\">http://hl7.it/sid/codiceFiscale</a>\"</li>\n</ul>",
        "id": 194822344,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587484236
    },
    {
        "content": "<p><span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span>  thanks now it works :-)</p>",
        "id": 194822921,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1587484485
    }
]