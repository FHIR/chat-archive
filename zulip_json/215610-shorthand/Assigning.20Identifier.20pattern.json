[
    {
        "content": "<p>I tried to add a pattern to an Identifier, but without luck. I first tried to use the syntax from CodeabelConcepts:<br>\n<code>* identifier = http://example.org#test</code></p>",
        "id": 234154676,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1618233074
    },
    {
        "content": "<p>which obviously can't work.</p>",
        "id": 234154814,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1618233131
    },
    {
        "content": "<p>But i think this would be a nice syntax for assigning identifier pattern</p>",
        "id": 234154869,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1618233157
    },
    {
        "content": "<p>I tried to use slicing for identifier rules. But this didn't work for me as well, see <a href=\"https://fshschool.org/FSHOnline/#/share/3295tLA\">https://fshschool.org/FSHOnline/#/share/3295tLA</a></p>",
        "id": 234154926,
        "sender_full_name": "Christian Nau",
        "timestamp": 1618233189
    },
    {
        "content": "<p>But I agree, this would be a nice syntax for assigning identifier patterns.</p>",
        "id": 234155008,
        "sender_full_name": "Christian Nau",
        "timestamp": 1618233232
    },
    {
        "content": "<p>also tried to use: <code>* identifier^patternIdentifier</code> or <code>* identifier^pattern[x]</code><br>\nBut i'm always getting path errors.</p>\n<p>Is there a Syntax to assign an object to pattern[x] in Elementdefinition</p>",
        "id": 234155085,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1618233251
    },
    {
        "content": "<p>i fixed it: <a href=\"https://fshschool.org/FSHOnline/#/share/3sfZvmp\">https://fshschool.org/FSHOnline/#/share/3sfZvmp</a></p>",
        "id": 234155780,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1618233548
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> and <span class=\"user-mention\" data-user-id=\"327858\">@Christian Nau</span>  -- I see that in Patrick's version linked above, it sets the pattern on <code>identifier.system</code>, which is fine (since you also updated the slicing to slice on <code>system</code>).  But if anyone is following this and wants to know how to do it on <code>identifier</code> itself, there are currently two approaches which should work.:</p>\n<ol>\n<li>Use <code>^patternIdentifier.system</code> to create a <code>patternIdentifier</code> w/ <code>system</code> property.</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>* identifier[myPatientNumber] ^patternIdentifier.system = MPN\n</code></pre></div>\n<p>If you wanted to set other parts of the pattern, you could do that too using subsequent statements.  E.g.:</p>\n<div class=\"codehilite\"><pre><span></span><code>* identifier[myPatientNumber] ^patternIdentifier.use = #official\n* identifier[myPatientNumber] ^patternIdentifier.system = MPN\n</code></pre></div>\n<ol start=\"2\">\n<li>Create an inline <code>Instance</code> of an <code>Identifier</code>...</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span><code>Instance: MPNIdentifierPattern\nInstanceOf: Identifier\nUsage: #inline\n* use = #official\n* system = MPN\n</code></pre></div>\n<p>... and then assign it:</p>\n<div class=\"codehilite\"><pre><span></span><code>* identifier[myPatientNumber] = MPNIdentifierPattern\n</code></pre></div>\n<p><a href=\"https://fshschool.org/FSHOnline/#/share/3shSr9e\">FSHOnline demonstrating both approaches above</a></p>",
        "id": 234172168,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1618238971
    },
    {
        "content": "<p>That said, I agree that <code>{system}#{value}</code> is worth considering as a shorthand approach.  I'll add it to our list of things to consider.</p>",
        "id": 234172464,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1618239067
    },
    {
        "content": "<p>I used to always try the {system}#{value} for Identifiers when I was first learning FSH, so +1 to that.</p>",
        "id": 234172570,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1618239109
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191469\">Chris Moesel</span> <a href=\"#narrow/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern/near/234172464\">said</a>:</p>\n<blockquote>\n<p>That said, I agree that <code>{system}#{value}</code> is worth considering as a shorthand approach.  I'll add it to our list of things to consider.</p>\n</blockquote>\n<p>i can see it for profiling, but also for creating the instance</p>",
        "id": 234173318,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1618239362
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> for your notes! Could you me point me to the part of the FHIR Shorthand-Documentation where I could have found this <code>^patternIdentifier</code>? I'm trying to figure out how to get along with FSH with as little help as possible but I'm afraid that I'm missing some central parts.</p>",
        "id": 234173569,
        "sender_full_name": "Christian Nau",
        "timestamp": 1618239443
    },
    {
        "content": "<p>That exact use case (using it for a <code>pattern[x]</code>) is not enumerated in the spec, but it's really just a more specific use of the general \"caret path\" approach documented here: <a href=\"http://hl7.org/fhir/uv/shorthand/reference.html#caret-paths\">http://hl7.org/fhir/uv/shorthand/reference.html#caret-paths</a></p>\n<p>When you're using <code>^</code> with an element (e.g., <code>* some-element-path ^some-caret-path</code>), you can see the valid paths that go after the <code>^</code> by looking at the definition of <code>ElementDefinition</code>: <a href=\"http://hl7.org/fhir/R4/elementdefinition.html#ElementDefinition\">http://hl7.org/fhir/R4/elementdefinition.html#ElementDefinition</a></p>\n<p>(Although <code>patternIdentifier</code> is not enumerated there because it's just one of many possibilities for <code>pattern[x]</code>).</p>",
        "id": 234174845,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1618239744
    },
    {
        "content": "<p>Thank you! It's getting more clear now. :)</p>",
        "id": 234175657,
        "sender_full_name": "Christian Nau",
        "timestamp": 1618239938
    },
    {
        "content": "<p>Regarding using <code>{system}#{value}</code> as a shorthand for <code>Identifier</code>... I discussed this with <span class=\"user-mention\" data-user-id=\"191447\">@Mark Kramer</span>, and his concern is that we always use <code>#</code> to denote a <code>code</code>.  In this case, the bit after <code>#</code> is a <code>string</code> -- so supporting this would break that rule about <code>#</code> indicating a <code>code</code> (although he also noted that <code>code</code> is technically a <code>string</code>).  <span class=\"user-mention\" data-user-id=\"327858\">@Christian Nau</span>, <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span>, <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span>, <span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span> -- what do you think about that?</p>",
        "id": 235675876,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1619097838
    },
    {
        "content": "<p>I like the syntax but not the delimiter.  Can we use something else like \"@\"? (technically we could do {value}@{system})</p>",
        "id": 235676304,
        "sender_full_name": "David Pyke",
        "timestamp": 1619097964
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192587\">David Pyke</span> <a href=\"#narrow/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern/near/235676304\">said</a>:</p>\n<blockquote>\n<p>I like the syntax but not the delimiter.  Can we use something else like \"@\"? (technically we could do {value}@{system})</p>\n</blockquote>\n<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 235676436,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1619098015
    },
    {
        "content": "<p>but i would prefer {system}@{value} to keep it alligned with Codings</p>",
        "id": 235676530,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1619098056
    },
    {
        "content": "<p>Having any kind of shorthand for assigning identifier patterns would be great.</p>",
        "id": 235677120,
        "sender_full_name": "Christian Nau",
        "timestamp": 1619098248
    },
    {
        "content": "<p>lets go back to HL7 v2.... use the ^</p>",
        "id": 235688901,
        "sender_full_name": "John Moehrke",
        "timestamp": 1619102137
    },
    {
        "content": "<p>Personally, I don't mind using <code>#</code> as a delimiter betwen both <code>system#code</code> (Coding) and <code>sytem#value</code> (Identifier). The pattern reminds me of the token-search (see examples under <a href=\"https://www.hl7.org/fhir/search.html#token\">https://www.hl7.org/fhir/search.html#token</a>). The token search uses <code>|</code> as delimiter, which in my opinion would also have been a good choice for FSH. But I don't think changing <code>#</code> to <code>|</code> would bring enough joy to the FSH users to justify the incompatible change.</p>",
        "id": 235714119,
        "sender_full_name": "Martin HÃ¶cker",
        "timestamp": 1619111457
    },
    {
        "content": "<p>Whatever we use, it needs to be something that can't appear in a legal URI.</p>",
        "id": 235734845,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1619119865
    }
]