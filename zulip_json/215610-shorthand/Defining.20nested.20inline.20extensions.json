[
    {
        "content": "<p>I thought I had done this before but I can't find any examples in my IGuides.  I want to create a complex inline extension where one of the extension slices has extensions:</p>\n<div class=\"codehilite\"><pre><span></span><code>Extension: ItemRule\nId: extension-itemRule\nDescription: &quot;Provides a set of rules that provide logic on which questions should be navigated to&quot;\n* extension contains ruleType 1..1 MS and rules 1..* MS and skipTo 1..1 MS\n* extension[ruleType].value[x] only code\n* extension[ruleType].valueCode from ItemRuleType (required)\n* extension[skipTo].value[x] only string\n* extension[rules] contains operator 1..1 MS and value 1..1 MS and fact 1..1 MS\n* extension[rules][operator].value[x] only code\n* extension[rules][operator].valueCode from ItemRuleOperatorType (required)\n* extension[rules][operator].value[x] only string\n* extension[rules][fact].value[x] only string\n</code></pre></div>\n<p>When I do this, I get an error about not being to create the operator slice:</p>\n<div class=\"codehilite\"><pre><span></span><code>error Cannot create operator slice. No slicing found for Extension.extension:rules.\n  File: /Users/jeanduteau/Documents/DDIWork/IBM-BEST/datastandards/questionnaire-fsh/Questionnaire.fsh\n  Line: 179\n</code></pre></div>\n<p>Help me Obi-Wan Kenobi, you're my only hope!</p>",
        "id": 217188583,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1605729551
    },
    {
        "content": "<p>This is confusing for sure, but I think that <code>extension[rules] contains...</code> actually <em>re-slices</em> the <code>rules</code> slice -- because <code>extension[rules]</code> is still referring to the <code>rules</code> extension itself.</p>\n<p>I think what you really want is <code>extension[rules].extension contains...</code> and then refer to the sub-extensions by <code>extension[rules].extension[operator]</code>, etc.</p>",
        "id": 217195776,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1605733130
    },
    {
        "content": "<p>I just tested this in FSH Online and it worked:</p>\n<div class=\"codehilite\"><pre><span></span><code>Extension: ItemRule\nId: extension-itemRule\nDescription: &quot;Provides a set of rules that provide logic on which questions should be navigated to&quot;\n* extension contains ruleType 1..1 MS and rules 1..* MS and skipTo 1..1 MS\n* extension[ruleType].value[x] only code\n* extension[ruleType].valueCode from ItemRuleType (required)\n* extension[skipTo].value[x] only string\n* extension[rules].extension contains operator 1..1 MS and value 1..1 MS and fact 1..1 MS\n* extension[rules].extension[operator].value[x] only code\n* extension[rules].extension[operator].valueCode from ItemRuleOperatorType (required)\n* extension[rules].extension[fact].value[x] only string\n\nValueSet: ItemRuleType\n\nValueSet: ItemRuleOperatorType\n</code></pre></div>\n<p>Note that in your original FSH you tried to constrain the operator to a <code>code</code> and a <code>string</code>, so I removed the 2nd constraint.</p>",
        "id": 217196537,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1605733480
    },
    {
        "content": "<p>thanks.  that makes way more sense</p>",
        "id": 217199434,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1605735077
    }
]