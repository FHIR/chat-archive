[
    {
        "content": "<p>Can we add an option to NOT add the resource type as a prefix to the file name?</p>",
        "id": 205901511,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596545219
    },
    {
        "content": "<p>or (another alternative that would better for me, not sure others) instead of file name being {type}-{id}.json, make it {type}/{id}.json and create the folder?</p>",
        "id": 205901685,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596545340
    },
    {
        "content": "<p>or even better, make it {profile}/{id}.json and create the folder?</p>",
        "id": 205902805,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596546047
    },
    {
        "content": "<p>At one time (and this may have been a long time ago), we encountered IG Publisher issues naming the files in any other way besides <code>{type}-{id}.json</code>.  I actually had a note to look into this today (because I also wanted to explore other naming approaches) -- so I'll do that.  Assuming no issues w/ the publisher, allowing user configuration of the naming scheme seems feasible -- so we can likely add it to the backlog.</p>",
        "id": 205909681,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1596549659
    },
    {
        "content": "<p>note that my last suggestion is dangerous<br>\n<code>{profile}/{id}.json</code> would only work if you add the <code>examples/{profile}</code> to the ig parameters</p>",
        "id": 205913577,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596551366
    },
    {
        "content": "<p>Depending on the IGs, this may be very handy if you have several profiles on the same resource type, all those profiles being functionally different.</p>",
        "id": 205913788,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596551441
    },
    {
        "content": "<p>e.g. profiles on Composition - I don't want to have all my document examples  in one single folder - rather one per document type</p>",
        "id": 205913882,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596551494
    },
    {
        "content": "<p>for reference, <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> I did not test all of these nor look at the code, but judging from an error message, when you refer to Type/id, the Publisher wil look for these files:</p>\n<div class=\"codehilite\"><pre><span></span><code>{type}-{id}\n{type}/{id}\n{id}.{type}\n{id}\n</code></pre></div>",
        "id": 205914552,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596551804
    },
    {
        "content": "<p>.json/xml</p>",
        "id": 205914573,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596551816
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/215610-shorthand/topic/Resource.20filename.20prefix/near/205914552\">said</a>:</p>\n<blockquote>\n<p>for reference, <span class=\"user-mention silent\" data-user-id=\"191469\">Chris Moesel</span> I did not test all of these nor look at the code, but judging from an error message, when you refer to Type/id, the Publisher wil look for these files:</p>\n<div class=\"codehilite\"><pre><span></span><code>{type}-{id}\n{type}/{id}\n{id}.{type}\n{id}\n</code></pre></div>\n\n\n</blockquote>\n<p>I remember seeing that in the past too.  And I remember trying some of those other representations and it failing miserably.  I'll try some stuff out to see what happens.  Templates are in the mix now, which is something that didn't exist last time I tried this.</p>",
        "id": 205933663,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1596561239
    },
    {
        "content": "<p>OK.  I've looked into the allowed filenames.  For an extension definition w/ id <code>MyExtension</code>, this is the list of paths the IG Publisher says it looks for:</p>\n<ul>\n<li>StructureDefinition-MyExtension.xml</li>\n<li>StructureDefinition-MyExtension.json</li>\n<li>MyExtension.StructureDefinition.xml</li>\n<li>StructureDefinition/MyExtension.xml</li>\n<li>StructureDefinition/MyExtension.json</li>\n<li>MyExtension.xml</li>\n<li>MyExtension.json</li>\n<li>(and lowercase resource name variants)</li>\n</ul>\n<p>I've confirmed each of these (except lowercase variants).  What surprised me is that you'll note that <code>MyExtension.StructureDefinition.xml</code> is listed, but <em>not</em> <code>MyExtension.StructureDefinition.json</code>.  Sure enough, the <code>.xml</code> one works and the <code>.json</code> one does not!  I also experimented w/ using arbitrary prefixes (fail), postfixes (fail), and sub-folders (fail).  So given that SUSHI exports JSON, the only choices we can give you (that will still work with IG Publisher) are:</p>\n<ul>\n<li>StructureDefinition-MyExtension.json</li>\n<li>StructureDefinition/MyExtension.json</li>\n<li>MyExtension.json</li>\n</ul>\n<p>Personally, I don't recommend the last (<code>MyExtension.json</code>) since it is possible for an IG to duplicate ids (as long as the type is different) -- so file paths based on <code>id</code> alone <em>could</em> cause problems.  That leaves us with <code>StructureDefinition-MyExtension.json</code> and <code>StructureDefinition/MyExtension.json</code>.  Would others find value in SUSHI providing users the options of choosing between those two?</p>",
        "id": 205977693,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1596588145
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191469\">Chris Moesel</span> <a href=\"#narrow/stream/215610-shorthand/topic/Resource.20filename.20prefix/near/205977693\">said</a>:</p>\n<blockquote>\n<p>Personally, I don't recommend the last (<code>MyExtension.json</code>) since it is possible for an IG to duplicate ids (as long as the type is different) -- so file paths based on <code>id</code> alone <em>could</em> cause problems.  That leaves us with <code>StructureDefinition-MyExtension.json</code> and <code>StructureDefinition/MyExtension.json</code>.  Would others find value in SUSHI providing users the options of choosing between those two?</p>\n</blockquote>\n<p>This is a big jump. The case for myextension.json is to have more customizable folder structures. Leaving Composition aside, here are some examples where we'd best served by not having the StructureDefinition (at least in examples):</p>\n<ul>\n<li>MedicationPrescriptions and MedicationAdministrationOrders are both profiles on MedicationRequest</li>\n<li>Addiction, PreExistingCondition and Condition are profiles on Condition</li>\n</ul>\n<p>In these cases, the example filenames would be e.g. addiction-patientx-alcohol, and not condition-patientx-alcoholaddiction. Or addiction/patientx-alcohol</p>",
        "id": 205990103,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596606040
    },
    {
        "content": "<p>it wouldn't hurt to have in the config.yaml or somewhere a \"filenames\" pattern that can have a default value.<br>\nThis:<br>\n<code>     filenames = {type}-{id}</code><br>\n(which is default)<br>\nor<br>\n<code>     filenames = {type}/{id}</code><br>\nor<br>\n<code>     filenames = {profileName}/{id} </code><br>\n(this one can be avoided with the filename override function i just suggested</p>",
        "id": 206108750,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1596695415
    }
]