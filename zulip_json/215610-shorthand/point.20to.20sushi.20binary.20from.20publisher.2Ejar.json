[
    {
        "content": "<p>Is it possible to specify the location of the sushi binary used by <code>publisher.jar</code> via a flag rather than relying on <code>$PATH</code> variable?</p>",
        "id": 269152958,
        "sender_full_name": "Nick George",
        "timestamp": 1643050638
    },
    {
        "content": "<p>I don't think that's currently possible, but if you just need to control the version of SUSHI that is used by the publisher, then you can do that via the <code>fsh.ini</code>file.  We've documented that in a \"Tip\" <a href=\"https://fshschool.org/docs/sushi/running/#running-the-ig-publisher\">here</a>.</p>",
        "id": 269155203,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1643051522
    },
    {
        "content": "<p>Ok.  For us it's less about version and more about having a common binary in a shared file system to enable lots of developers without having to walk them all through installing node/npm/sushi :)</p>",
        "id": 269155610,
        "sender_full_name": "Nick George",
        "timestamp": 1643051684
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 269157336,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1643052430
    },
    {
        "content": "<p>Ah.  Well, you could put in a change request to <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> to ask if it's possible to support a filepath as the argument to <code>sushi-version</code> (or add a new <code>sushi-path</code> variable in <code>fsh.ini</code>).  He was the one who did the integration on the IG Publisher side.</p>",
        "id": 269165465,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1643054796
    },
    {
        "content": "<p>would that be on a github repo?</p>",
        "id": 269165684,
        "sender_full_name": "Nick George",
        "timestamp": 1643054897
    },
    {
        "content": "<p>You should be able to wrap sushi in docker and proceed from there</p>",
        "id": 269168869,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643056479
    },
    {
        "content": "<p>You could mount your FSH files into the container and you should be good to go</p>",
        "id": 269168980,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643056528
    },
    {
        "content": "<p>Then you could afterwards run the Publisher with <code>-no-sushi</code></p>",
        "id": 269169145,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643056586
    },
    {
        "content": "<p>Or you could also put the Publisher inside docker as well</p>",
        "id": 269169188,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643056611
    },
    {
        "content": "<p>Then your devs only need docker - nothing else</p>",
        "id": 269169223,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643056632
    },
    {
        "content": "<p>I avoid old-sushi. bad for ones health.</p>",
        "id": 269169251,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643056653
    },
    {
        "content": "<p>but if I can just say <code>publisher.jar --sushi=/my/shared/filesystem/sushi</code> then they don't even need that!</p>",
        "id": 269169478,
        "sender_full_name": "Nick George",
        "timestamp": 1643056773
    },
    {
        "content": "<p>its easier with docker ... then they don't even need the publisher</p>",
        "id": 269174328,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643059178
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196561\">@Nick George</span> - here's a docker file for you:</p>\n<div class=\"codehilite\"><pre><span></span><code>FROM ruby:3.0.3\n\nRUN apt-get update &amp;&amp; apt-get -y install build-essential openjdk-11-jdk\n\nRUN gem install bundler jekyll\n\nARG BUILD_DATE=not_a_date\n\nRUN  cd /tmp &amp;&amp; \\\n     wget --quiet https://nodejs.org/dist/v12.16.1/node-v12.16.1-linux-x64.tar.xz &amp;&amp; \\\n     cd /usr/local &amp;&amp; \\\n     tar --strip-components 1 -xf /tmp/node-v12.16.1-linux-x64.tar.xz\n\nRUN npm install -g fsh-sushi@2.2.6\n\nRUN mkdir input-cache\n\nRUN wget -q &#39;https://github.com/HL7/fhir-ig-publisher/releases/download/1.1.97/publisher.jar&#39; -O input-cache/publisher.jar\n\nENTRYPOINT [ &quot;java&quot;, &quot;-Xmx4g&quot;, &quot;-jar&quot;, &quot;input-cache/publisher.jar&quot;, &quot;-ig&quot;]\n</code></pre></div>",
        "id": 269174766,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643059384
    },
    {
        "content": "<p>now, that is easy!</p>",
        "id": 269174832,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643059433
    },
    {
        "content": "<p>Heh I'll play around with that!  thanks</p>",
        "id": 269175696,
        "sender_full_name": "Nick George",
        "timestamp": 1643059870
    }
]