[
    {
        "content": "<p><strong>SUSHI 0.13.0</strong> is a significant release with major changes to how FSH-based IGs are configured as well as many other enhancements and bug fixes. <strong><em>All SUSHI users should read the <a href=\"https://github.com/FHIR/sushi/releases/tag/v0.13.0\">release notes</a> thoroughly.</em></strong></p>\n<p>SUSHI 0.13.0 contains the following new features, enhancements, and bug fixes:</p>\n<ul>\n<li><strong>NEW</strong> YAML-based configuration _replaces_ project.json file (details in release notes)</li>\n<li>config.yaml _menu_ now supports 'new-tab' and 'external' keywords (#440, <em>new since 0.13.0-beta.2</em>)</li>\n<li>Adds support for creating and assigning non-Resource instances (#385, #391)</li>\n<li>Sets the CodeSystem count when it can be safely determined (#419)</li>\n<li>Enforces unique ids and names to reduce unintended overwrites (#152)</li>\n<li>Avoids invalid ids when defaulting id based on name (#441)</li>\n<li>Avoids invalid characters when generating _dependsOn.id_ in Implementation Guide (#466)</li>\n<li>Fixes how extensions on StructureDefinitions (using <code>^</code>) are represented (#412)</li>\n<li>Validates that references point only to allowed types in instances (#395)</li>\n<li>Disallows changing profile <code>^type</code> since it should never change (#462)</li>\n<li>Re-enables \"sparse\" differentials (#463)</li>\n<li>Removes warning regarding past extension syntax change (#456)</li>\n<li>Rewords ambiguous error message regarding rule paths (#436)</li>\n<li>Only loads \"current\" dependencies if the remote IG has changed (#470)</li>\n<li>Fixes deprecated package formats when loading packages in the cache (#482)</li>\n<li>Internal code restructuring to support improved testing and future enhancements (#345)</li>\n</ul>\n<p>Full Release Notes: <a href=\"https://github.com/FHIR/sushi/releases/tag/v0.13.0\">https://github.com/FHIR/sushi/releases/tag/v0.13.0</a></p>",
        "id": 200691144,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591978747
    },
    {
        "content": "<p>Alright, I'm going in!  Changing two of my existing FSH projects to use the new configuration!  Wish me luck! :)</p>",
        "id": 200693429,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1591979847
    },
    {
        "content": "<p>I'm getting this error and there isn't enough information to know what part of the config is wrong:</p>\n<p>error SUSHI encountered the following unexpected error: The \"path\" argument must be of type string. Received null</p>",
        "id": 200695149,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1591980712
    },
    {
        "content": "<p>Well that's not promising.  Did you edit the config or is that from the config exactly as SUSHI generated it?</p>",
        "id": 200697207,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591981733
    },
    {
        "content": "<p>from the config that SUSHI generated.  I have gone in and edited it subsequently but I got this error from the very beginning</p>",
        "id": 200697251,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1591981760
    },
    {
        "content": "<p>I've compared my config to the example and I don't see the problem</p>",
        "id": 200697276,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1591981775
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/ZOkip9n2B46G8761OVNWkUK2/config.yaml\">config.yaml</a></p>",
        "id": 200697363,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1591981803
    },
    {
        "content": "<p>Alright.  We'll take a look at that.  Definitely seems odd...</p>",
        "id": 200697884,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591982123
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> -- I can't seem to reproduce this.  I swapped in your config.yaml in a simple SUSHI project and it ran without error (once I created the page files it expected to find -- but even before that, the error wasn't what you're reporting).</p>\n<p>I'll search through our code to see if I can find where an error message like that might come from -- but it doesn't look familiar to me, so I'm wondering if it's coming from a 3rd-party library we use.</p>",
        "id": 200702955,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591984671
    },
    {
        "content": "<p>I searched our whole codebase for the word \"argument\" and nothing matched the message you reported... I also tried to find a matching phrase in our 3rd party libraries and couldn't find it there either.  Was there any more information in the error message or a stack trace or anything?</p>",
        "id": 200704245,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591985229
    },
    {
        "content": "<p>info  Running SUSHI v0.13.0<br>\ninfo  Current FSH tank conforms to an IG Publisher context. Output will be adjusted accordingly.<br>\ninfo  No output path specified. Output to .<br>\ninfo  Using configuration file: /Users/jeanduteau/Documents/DDIWork/Gevity/davinci-pas/fsh/config.yaml<br>\ninfo  Checking local cache for hl7.fhir.us.core#3.1.0...<br>\ninfo  Found hl7.fhir.us.core#3.1.0 in local cache.<br>\ninfo  Loaded package hl7.fhir.us.core#3.1.0<br>\ninfo  Checking local cache for hl7.fhir.r4.core#4.0.1...<br>\ninfo  Found hl7.fhir.r4.core#4.0.1 in local cache.<br>\ninfo  Loaded package hl7.fhir.r4.core#4.0.1<br>\ninfo  Importing FSH text...<br>\ninfo  Preprocessed 8 documents with 16 aliases.<br>\ninfo  Imported 32 definitions and 1 instances.<br>\ninfo  Converting FSH to FHIR resources...<br>\ninfo  Converted 24 FHIR StructureDefinitions.<br>\ninfo  Converted 4 FHIR ValueSets.<br>\ninfo  Converted 4 FHIR CodeSystems.<br>\ninfo  Converted 1 FHIR instances.<br>\ninfo  Exporting FHIR resources as JSON...<br>\ninfo  Exported 33 FHIR resources as JSON.<br>\ninfo  Assembling Implementation Guide sources...<br>\nerror SUSHI encountered the following unexpected error: The \"path\" argument must be of type string. Received null</p>",
        "id": 200705058,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1591985571
    },
    {
        "content": "<p>Is this a project that is available publicly or that you'd be comfortable sending to me via PM?</p>",
        "id": 200705632,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591985878
    },
    {
        "content": "<p>it is public, but I don't want to check in this code since it is broken right now :)</p>",
        "id": 200705710,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1591985908
    },
    {
        "content": "<p>I'll zip it up and send it to you</p>",
        "id": 200705722,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1591985914
    },
    {
        "content": "<p>If it's public, then shouldn't I be able to run SUSHI 0.13.0 on it to get SUSHI to auto-convert to config.yaml and then reproduce the problem?  Or are there additional unpublished changes needed to reproduce it?</p>",
        "id": 200705803,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591985965
    },
    {
        "content": "<p>yeah, that is true.  here is the repository:  <a href=\"https://github.com/HL7/davinci-pas\">https://github.com/HL7/davinci-pas</a></p>",
        "id": 200706004,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1591986044
    },
    {
        "content": "<p>So... I still can't reproduce it.  It makes it all the way through to the end for me.  Maybe you should zip it up and send it along.  Can you send to <span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span>  too?  I'm about to go into a meeting.</p>\n<div class=\"codehilite\"><pre><span></span><code>info  Running SUSHI v0.13.0\ninfo  path-to-fsh-defs defaulted to current working directory\ninfo  fsh/ subdirectory detected and add to input path\ninfo  Current FSH tank conforms to an IG Publisher context. Output will be adjusted accordingly.\ninfo  No output path specified. Output to .\nwarn  Generated new configuration file: /Users/cmoesel/dev/HL7/davinci-pas/fsh/config.yaml. Please review to ensure configuration is correct.\ninfo  Checking local cache for hl7.fhir.us.core#3.1.0...\ninfo  Found hl7.fhir.us.core#3.1.0 in local cache.\ninfo  Loaded package hl7.fhir.us.core#3.1.0\ninfo  Checking local cache for hl7.fhir.r4.core#4.0.1...\ninfo  Found hl7.fhir.r4.core#4.0.1 in local cache.\ninfo  Loaded package hl7.fhir.r4.core#4.0.1\ninfo  Importing FSH text...\ninfo  Preprocessed 8 documents with 16 aliases.\ninfo  Imported 32 definitions and 1 instances.\ninfo  Converting FSH to FHIR resources...\ninfo  Converted 24 FHIR StructureDefinitions.\ninfo  Converted 4 FHIR ValueSets.\ninfo  Converted 4 FHIR CodeSystems.\ninfo  Converted 1 FHIR instances.\ninfo  Exporting FHIR resources as JSON...\ninfo  Exported 33 FHIR resources as JSON.\ninfo  Assembling Implementation Guide sources...\ninfo  Copied input/pagecontent/index.md\nwarn  The ig.ini file must have an &quot;ig&quot; property pointing to the IG file. SUSHI has added the following line to the copied version of the ig.ini:\nig = input/ImplementationGuide-hl7.fhir.us.davinci-pas.json\nPlease update ig-data/ig.ini to include this value.\n  File: /Users/cmoesel/dev/HL7/davinci-pas/fsh/ig-data/ig.ini\ninfo  Merged ig-data/ig.ini w/ default values for missing properties.\ninfo  Copied ig-data/package-list.json.\ninfo  Generated ImplementationGuide-hl7.fhir.us.davinci-pas.json\ninfo  Assembled Implementation Guide sources; ready for IG Publisher.\n\n╔════════════════════════ SUSHI RESULTS ══════════════════════════╗\n║ ╭──────────┬────────────┬───────────┬─────────────┬───────────╮ ║\n║ │ Profiles │ Extensions │ ValueSets │ CodeSystems │ Instances │ ║\n║ ├──────────┼────────────┼───────────┼─────────────┼───────────┤ ║\n║ │    8     │     16     │     4     │      4      │     1     │ ║\n║ ╰──────────┴────────────┴───────────┴─────────────┴───────────╯ ║\n║                                                                 ║\n║ See SUSHI-GENERATED-FILES.md for details on generated IG files. ║\n╠═════════════════════════════════════════════════════════════════╣\n║ Warnings... Water those about?         0 Errors      2 Warnings ║\n╚═════════════════════════════════════════════════════════════════╝\n</code></pre></div>",
        "id": 200706568,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591986322
    },
    {
        "content": "<p>okay, i started with a fresh clone and it completed</p>",
        "id": 200707212,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1591986619
    },
    {
        "content": "<p>Odd.  Still, if you have the old broken version somewhere, it might be worth having us take a look in case it is something we can easily detect or guard against.</p>",
        "id": 200707303,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591986676
    },
    {
        "content": "<p>BTW - on the slide deck - slide 12 has instructions for installing the beta...</p>",
        "id": 200712958,
        "sender_full_name": "David Hay",
        "timestamp": 1591989543
    },
    {
        "content": "<p>Ah... shoot.  I'll fix that.</p>",
        "id": 200713377,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591989658
    },
    {
        "content": "<p>We found the issue that <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> ran into and it may affect others.  SUSHI 0.13.0 will exit with an error for any FSH tank that does _not_ have an <code>ig-data</code> folder.  This is obviously not intentional, but was introduced during the merge of the mainline and beta SUSHI branches.</p>\n<p>The workaround is to create an empty <code>ig-data</code> folder.  We'll try to release a fix before FHIR DevDays officially starts (e.g., by Monday noon).</p>",
        "id": 200728481,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1591998735
    }
]