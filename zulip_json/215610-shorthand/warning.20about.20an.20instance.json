[
    {
        "content": "<p>I'm getting this warning...</p>\n<div class=\"codehilite\"><pre><span></span><code>warn  Instance xxx-example is not an instance of a resource, so it should only be used inline on other instances, and it will not be exported to a standalone\nfile. Specify &quot;Usage: #inline&quot; to remove this warning.\n</code></pre></div>\n<p>The profile that it is an example of is based on another profile (US Core).<br>\nNot sure how to fix this.</p>",
        "id": 268042821,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1642180082
    },
    {
        "content": "<p>CAn you show us the code?</p>",
        "id": 268042921,
        "sender_full_name": "David Pyke",
        "timestamp": 1642180121
    },
    {
        "content": "<p>Sure.  First the profile.</p>\n<div class=\"codehilite\"><pre><span></span><code>Profile: AverageBloodPressure\nParent: VitalSigns\nId: average-blood-pressure\nTitle: &quot;Average Blood Pressure&quot;\n</code></pre></div>\n<p>VitalSigns is an alias for ...  <code>http://hl7.org/fhir/StructureDefinition/vitalsigns</code><br>\nThe example.</p>\n<div class=\"codehilite\"><pre><span></span><code>Instance: AverageBloodPressure-example\nInstanceOf: average-blood-pressure\nDescription: &quot;Average Blood Pressure example&quot;\nUsage: #example\n</code></pre></div>",
        "id": 268043290,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1642180300
    },
    {
        "content": "<p>I have a dependency in the config.yaml as<br>\n<code>dependencies: hl7.fhir.us.core: 3.1.1</code></p>",
        "id": 268043476,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1642180387
    },
    {
        "content": "<p>it looks like you're using an old version of sushi as config.yaml is deprecated for sushi-config.yaml.</p>",
        "id": 268043712,
        "sender_full_name": "David Pyke",
        "timestamp": 1642180496
    },
    {
        "content": "<p>(you also may want to move to us core 4.0)</p>",
        "id": 268043771,
        "sender_full_name": "David Pyke",
        "timestamp": 1642180531
    },
    {
        "content": "<p>Sorry, my config file is sushi-config.yaml.  I abbreviated it.  Also, I'm migrating an older IG to FSH and need to make a snapshot of a version based on USCore 3.1.1 before I can move to 4.0</p>",
        "id": 268044068,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1642180674
    },
    {
        "content": "<p>Hmm, not sure why you're getting that.  We'll need <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span>.  With the following barebones, I get no errors:</p>\n<div class=\"codehilite\"><pre><span></span><code>Profile: AverageBloodPressure\nParent: http://hl7.org/fhir/StructureDefinition/vitalsigns\nId: average-blood-pressure\nTitle: &quot;Average Blood Pressure&quot;\n\nInstance: AverageBloodPressure-example\nInstanceOf: average-blood-pressure\nDescription: &quot;Average Blood Pressure example&quot;\nUsage: #example\n* status = #final\n* code = http://loinc.org#39156-5\n* subject = Reference(BPPatient)\n* effectiveDateTime = &quot;2021-10-01T12:45:03-05:00&quot;\n\nInstance: BPPatient\nInstanceOf: Patient\n</code></pre></div>",
        "id": 268054656,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1642185630
    },
    {
        "content": "<p>Right.  I would only expect that warning to occur if you are creating a standalone instance of a complex datatype like Address or HumanName.  Since vitalsigns is a profile on Observation, you shouldn't be seeing that warning. The only thing I can think of is that this would happen if you redefined VitalSigns somewhere else to be a profile of something else.</p>",
        "id": 268055227,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1642185926
    },
    {
        "content": "<p>Is there somewhere I can reproduce this?</p>",
        "id": 268055279,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1642185949
    },
    {
        "content": "<p>I suspect a typo in your FSH files. Can you share the github so we can help?</p>",
        "id": 268073910,
        "sender_full_name": "John Moehrke",
        "timestamp": 1642195064
    },
    {
        "content": "<p>I have an IG that does alot of profiling on us-core and on vital-signs. it is not throwing any warnings like that.</p>",
        "id": 268074289,
        "sender_full_name": "John Moehrke",
        "timestamp": 1642195241
    },
    {
        "content": "<p>The repo is here.  <a href=\"https://github.com/nrdavis1/vitals_fsh\">https://github.com/nrdavis1/vitals_fsh</a>    It's temporary and still under construction.</p>",
        "id": 268082049,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1642199353
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191411\">@Nathan Davis</span> this repo is empty</p>",
        "id": 268211727,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1642373836
    },
    {
        "content": "<p>Sorry, I though I had committed/pushed prior to the weekend.  The content is now there</p>",
        "id": 268334518,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1642471518
    },
    {
        "content": "<p>Your profiles all declare them to be complex types:</p>\n<ul>\n<li>^kind = #complex-type</li>\n</ul>\n<p>BTW, you don't really need any of these:</p>\n<div class=\"codehilite\"><pre><span></span><code>* ^version = &quot;0.2.0&quot;\n* ^status = #draft\n* ^date = &quot;2019-05-29&quot;\n* ^publisher = &quot;Logica Health&quot;\n* ^jurisdiction = urn:iso:std:iso:3166#US\n* ^kind = #complex-type\n* . ^short = &quot;Average Blood Pressure&quot;\n* . ^definition = &quot;The average of a set of blood pressure measurements. The number of measurements and time period in which they are taken are determined by the institution or protocol.&quot;\n</code></pre></div>\n<p>SUSHI and the Publisher will set all of those correctly for you.</p>",
        "id": 268342321,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1642480316
    },
    {
        "content": "<p>All of those lines were generated when I ran GoFSH from the current IG.<br>\nDo I need to use a different kind than \"complex\"?</p>",
        "id": 268393713,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1642514242
    },
    {
        "content": "<p>I would remove all of those lines.  As I said SUSHI and the publisher will set those correctly.</p>",
        "id": 268398884,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1642516463
    },
    {
        "content": "<p>GoFSH is doing its best to reflect what was in the source input, even if it was wrong (at least in some cases).  Setting <code>^kind</code> to <code>#complex-type</code> clearly seems wrong, but my guess is that this is how it was in the source profile you fed GoFSH.  That said, <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> is correct that you should remove it.  As for the other caret values (version, status, date, publisher, jurisdiction), if you remove those, then I think SUSHI (or IG Publisher, I forget which) will use your project values as the default (as <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> also suggested).</p>",
        "id": 268399751,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1642516722
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191469\">Chris Moesel</span> <a href=\"#narrow/stream/215610-shorthand/topic/warning.20about.20an.20instance/near/268399751\">said</a>:</p>\n<blockquote>\n<p>As for the other caret values (version, status, date, publisher, jurisdiction), if you remove those, then I think SUSHI (or IG Publisher, I forget which) will use your project values as the default (as <span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> also suggested).</p>\n</blockquote>\n<p>Unless your project sets apply-version, apply-publisher, apply-jurisdiction flags to false.</p>",
        "id": 268413765,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1642521786
    },
    {
        "content": "<p>Thank you all!  This helped a ton.  Not quite out of the woods with errors but at least this one is solved.</p>",
        "id": 268473187,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1642549741
    },
    {
        "content": "<p>Now I'm seeing a new error that is quite cryptic.</p>\n<div class=\"codehilite\"><pre><span></span><code>Publishing Content Failed: -1                                                    (05:49.0340)\n                                                                                 (05:49.0342)\nUse -? to get command line help                                                  (05:49.0344)\n                                                                                 (05:49.0346)\nStack Dump (for debugging):                                                      (05:49.0347)\njava.lang.ArrayIndexOutOfBoundsException: -1\n        at org.hl7.fhir.igtools.renderers.ValidationPresenter.determineCode(ValidationPresenter.java:304)\n        at org.hl7.fhir.igtools.renderers.ValidationPresenter.&lt;init&gt;(ValidationPresenter.java:291)\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:961)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:794)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8942)\n</code></pre></div>\n<p>I have no idea about this one.   Should I start a new topic stream for it?  All changes pushed to the repo.</p>",
        "id": 268474357,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1642550546
    },
    {
        "content": "<p>That's a publisher error, that's good for <a class=\"stream\" data-stream-id=\"179252\" href=\"/#narrow/stream/179252-IG-creation\">#IG creation</a></p>",
        "id": 268476702,
        "sender_full_name": "David Pyke",
        "timestamp": 1642552246
    },
    {
        "content": "<p>Thanks.  I'll put it there.</p>",
        "id": 268477988,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1642553307
    },
    {
        "content": "<p>For anyone reading along (and wanting to know the answer), this was resolved in IG creation <a href=\"#narrow/stream/179252-IG-creation/topic/ArrayIndexOutOfBoundsException/near/268478138\">here</a>.</p>",
        "id": 268548295,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1642603100
    }
]