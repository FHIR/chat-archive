[
    {
        "content": "<p>I have looked at this several times and feel like this should work. What am I missing?</p>\n<div class=\"codehilite\"><pre><span></span><code>Instance: single-gaps-open-indv-report\nInstanceOf: Bundle\nUsage: #example\n* type = #document\n* extension[+].url = &quot;my-extension&quot;\n* extension[=].valueBoolean = true\n</code></pre></div>\n<p>Error:</p>\n<div class=\"codehilite\"><pre><span></span><code>error Cannot read properties of undefined (reading &#39;0&#39;)\n  Line: 5\nerror Cannot read properties of undefined (reading &#39;0&#39;)\n  Line: 6\n</code></pre></div>",
        "id": 271297977,
        "sender_full_name": "Brian Kaney",
        "timestamp": 1644421752
    },
    {
        "content": "<p>Ah, Bundle is Resource, not DomainResource... so I guess we can't add extensions to Bundle resource?</p>",
        "id": 271299018,
        "sender_full_name": "Brian Kaney",
        "timestamp": 1644422132
    },
    {
        "content": "<p>This is subtle :-) Bundle inherits from the FHIR Resource type rather than the DomainResource type.</p>",
        "id": 271299025,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1644422134
    },
    {
        "content": "<p>The usual trick is to add extensions to bundle.meta</p>",
        "id": 271299044,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1644422141
    },
    {
        "content": "<p>Okay, I was thinking of that, thanks!</p>",
        "id": 271299125,
        "sender_full_name": "Brian Kaney",
        "timestamp": 1644422165
    },
    {
        "content": "<p>I can see some opportunities to improve the sushi error message here ;-)</p>",
        "id": 271299189,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1644422199
    },
    {
        "content": "<p>Yeah, it's odd that this is the error message you get.  We must have some code that is trying to do something fancy w/ <code>extension</code> -- because if you change your FSH to use a name other than <code>extension</code>, you get a much better error message.  E.g.,</p>\n<div class=\"codehilite\"><pre><span></span><code>* foo[+].url = &quot;my-extension&quot;\n</code></pre></div>\n<p>results in:</p>\n<div class=\"codehilite\"><pre><span></span><code>error The element or path you referenced does not exist: foo.url\n  Line: 5\n</code></pre></div>",
        "id": 271304683,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1644424136
    },
    {
        "content": "<p>Also, there is a single-line syntax for setting extensions like this.  If the extension is defined in the same project, you can do::</p>\n<div class=\"codehilite\"><pre><span></span><code>* meta.extension[MyExtensionName].valueBoolean = true\n</code></pre></div>\n<p>If the extension is from FHIR core or a dependency IG, you need to use the canonical URL:</p>\n<div class=\"codehilite\"><pre><span></span><code>* meta.extension[http://example.org/my-extension].valueBoolean = true\n</code></pre></div>",
        "id": 271306187,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1644424595
    }
]