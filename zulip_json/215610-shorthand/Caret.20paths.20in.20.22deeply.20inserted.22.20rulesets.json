[
    {
        "content": "<p>Hooray for the new 2.0.0.beta2 release! I played around with the new \"deep\" insertion of rulesets, and I like it! But there is one thing I can't quite figure out. I would like to use caret-paths in rulesets, a little bit like so:</p>\n<div class=\"codehilite\"><pre><span></span><code>RuleSet: rs\n* ^short = &quot;test&quot;\n\nProfile: TestPatient\nParent: Patient\n* name insert rs\n</code></pre></div>\n<p>Unfortunately, this leads to the error <code>No element found at path name. for CaretValueRule in TestPatient, skipping rule</code>.</p>\n<p>The following things are additional variants of \"deeply inserted\" rulesets, where I also need caret paths:</p>\n<p>Using parameterized rulesets:</p>\n<div class=\"codehilite\"><pre><span></span><code>RuleSet: rs(thing)\n* ^short = &quot;{thing}&quot;\n\nProfile: TestPatient\nParent: Patient\n* name insert rs(hello)\n</code></pre></div>\n<p>Placing extensions into the StructureDefinition:</p>\n<div class=\"codehilite\"><pre><span></span><code>RuleSet: rs(thing)\n* ^extension[MyExt].valueString = &quot;{thing}&quot;\n\nProfile: TestPatient\nParent: Patient\n* name insert rs(hello)\n</code></pre></div>\n<p>Both these examples lead to the same error as the first example. </p>\n<p>As a workaround, I currently parameterize the preceding path. It \"feels\" wrong, but it works! Applied to the last example, it looks like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>RuleSet: rs(path, thing)\n* {path} ^extension[MyExt].valueString = &quot;{thing}&quot;\n\nProfile: TestPatient\nParent: Patient\n* insert rs(name, hello)\n</code></pre></div>\n<p>Is there a better way to use caret-paths with inserted rulesets?</p>",
        "id": 244675513,
        "sender_full_name": "Martin Höcker",
        "timestamp": 1625216076
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span> -- can you take a look at this and/or advise?</p>",
        "id": 244702768,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1625232905
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"217988\">@Martin Höcker</span>, what you're trying to do is valid, that is definitely a bug. We will get that fixed as soon as possible. Sorry to make you use that workaround in the mean time, thanks for taking on the testing burden of being a <code>beta</code> user!</p>",
        "id": 244706260,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1625234468
    },
    {
        "content": "<p>Thank you for raising <a href=\"https://github.com/FHIR/sushi/pull/866\">the PR</a> so quickly! I tested it and it is indeed solving my issue!</p>",
        "id": 244713026,
        "sender_full_name": "Martin Höcker",
        "timestamp": 1625237231
    }
]