[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> here's my FSH output:</p>\n<div class=\"codehilite\"><pre><span></span><code>Sushi: ╔════════════════════════ SUSHI RESULTS ══════════════════════════╗       (00:05.0223)\nSushi: ║ ╭──────────┬────────────┬───────────┬─────────────┬───────────╮ ║       (00:05.0224)\nSushi: ║ │ Profiles │ Extensions │ ValueSets │ CodeSystems │ Instances │ ║       (00:05.0225)\nSushi: ║ ├──────────┼────────────┼───────────┼─────────────┼───────────┤ ║       (00:05.0225)\nSushi: ║ │    18    │     4      │    11     │      2      │    17     │ ║       (00:05.0226)\nSushi: ║ ╰──────────┴────────────┴───────────┴─────────────┴───────────╯ ║       (00:05.0226)\nSushi: ║                                                                 ║       (00:05.0227)\nSushi: ╠═════════════════════════════════════════════════════════════════╣       (00:05.0227)\nSushi: ║ Just keep swimming, Dory.              3 Errors      0 Warnings ║       (00:05.0228)\nSushi: ╚═════════════════════════════════════════════════════════════════╝       (00:05.0228)\n</code></pre></div>",
        "id": 225076406,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612384087
    },
    {
        "content": "<p>then, FSH returns error code 1 to the IG publisher</p>",
        "id": 225076427,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612384099
    },
    {
        "content": "<blockquote>\n<p>Process exited with an error: 1 (Exit value: 1)</p>\n</blockquote>",
        "id": 225076449,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612384113
    },
    {
        "content": "<p>this is running the main branch of <a href=\"https://github.com/hl7/fhir-spl\">https://github.com/hl7/fhir-spl</a></p>",
        "id": 225076512,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612384155
    },
    {
        "content": "<p>I think you need to update your version of SUSHI.  When I run this using SUSHI 1.0.2, I get those errors.  But if I run it using SUSHI 1.1.0, it succeeds.  To update SUSHI locally: <code>npm install -g fsh-sushi</code></p>",
        "id": 225080562,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1612385890
    },
    {
        "content": "<p>yes that was it, though it's still a surprising outcome to fail in that fashion</p>",
        "id": 225080908,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612386024
    },
    {
        "content": "<p>I'm not sure what you mean.  What is surprising about the way that it failed?</p>",
        "id": 225082053,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1612386465
    },
    {
        "content": "<p>it said it succeeded, but didn't actually succeed. There were no apparent errors in the output. If the version was wrong, one would expect some obvious error where it failed, rather than claiming success and then actually failing</p>",
        "id": 225084427,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612387435
    },
    {
        "content": "<p>another one hurt by old sushi</p>",
        "id": 225085066,
        "sender_full_name": "John Moehrke",
        "timestamp": 1612387705
    },
    {
        "content": "<p>Oh, I think I see?  It didn't really \"succeed\" (as evidenced by the exit code), but SUSHI always does a best effort to complete as much of the processing as it can.  So, it produced a bunch of profiles and stuff, but it also is telling you that there were errors so you don't incorrectly assume the outputs are 100% correct.</p>\n<p>Isn't that similar to how the publisher works?  While there are some fatal errors that can occur, often the publisher reports errors but still completes the overall process.  I see that as very similar to what we're doing w/ SUSHI.  If the publisher completes, but completes with errors, do you still return exit code 0 despite the errors?</p>",
        "id": 225086627,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1612388383
    }
]