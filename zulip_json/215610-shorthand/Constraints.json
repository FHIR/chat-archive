[
    {
        "content": "<p>Can constraints be coded in FSH?   </p>\n<p>Something that produces a constraint like:</p>\n<p>constraint: [<br>\n          {<br>\n            \"key\" : \"pd-1\",<br>\n            \"severity\" : \"error\",<br>\n            \"human\" : \"SHALL have contact information or a reference to an Endpoint\",<br>\n            \"expression\" : \"telecom or endpoint\",<br>\n            \"xpath\" : \"exists(f:telecom) or exists(f:endpoint)\"<br>\n          }<br>\n]</p>\n<p>Drawn from <a href=\"http://hl7.org/fhir/us/core/STU3/StructureDefinition-us-core-practitionerrole.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/STU3/StructureDefinition-us-core-practitionerrole.html\">http://hl7.org/fhir/us/core/STU3/StructureDefinition-us-core-practitionerrole.html</a></p>",
        "id": 189248072,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1582831953
    },
    {
        "content": "<p>That feature has been coded up and is currently in review, so... should be available in the next version of SUSHI!</p>",
        "id": 189250435,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1582833361
    },
    {
        "content": "<p>Basic approach is:</p>\n<div class=\"codehilite\"><pre><span></span>Profile: USCorePractitionerRole\nParent: PractitionerRole\n* obeys pd-1\n// ...\n\nInvariant:  pd-1\nSeverity:   &quot;error&quot;\nDescription: &quot;SHALL have contact information or a reference to an Endpoint&quot;\nExpression: &quot;telecom or endpoint&quot;\nXPath:      &quot;exists(f:telecom) or exists(f:endpoint)&quot;\n</pre></div>",
        "id": 189250917,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1582833649
    },
    {
        "content": "<p>will the fhirpath expression be validated?</p>",
        "id": 189262147,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1582841000
    },
    {
        "content": "<p>as in: will the syntax of it be validated?</p>",
        "id": 189262195,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1582841030
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> -- we don't currently validate the fhirpath expression.  We rely on the IG Publisher to catch it.  That said, if the JavaScript fhirpath library supports fhirpath syntax checking, then it would be pretty simple to add that capability.</p>",
        "id": 189262694,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1582841398
    }
]