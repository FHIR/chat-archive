[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> raised an issue a while ago about our current approach for adding inline extensions (mostly relevant to complex extensions).  The problem is that when you say something like <code>extension contains maxSize</code>, SUSHI assumes you mean to reference the existing <code>maxSize</code> extension from FHIR core -- which you <em>might</em> mean, but you also might mean to declare a <em>new</em> inline extension called <code>maxSize</code>.  See <a href=\"https://github.com/FHIR/sushi/issues/86\" target=\"_blank\" title=\"https://github.com/FHIR/sushi/issues/86\">FHIR/sushi#86</a> for details.</p>\n<p>To remove the ambiguity, we propose the following changes for declaring extensions:</p>\n<ol>\n<li>For declaring inline extensions, the syntax remains the same:</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span>Extension: CapacityDetails\n* extension contains maxSize 0..1\n* extension[maxSize].value[x] only integer\n// ...\n</pre></div>\n\n\n<p>SUSHI would always recognize this style as an inline extension.</p>\n<ol start=\"2\">\n<li>For declaring use of an externally defined extension (defined inside or outside the IG, but <em>not</em> inline), you must declare a slicename <em>and</em> the reference to the extension:</li>\n</ol>\n<div class=\"codehilite\"><pre><span></span>Alias: MaxSizeExtension = http://hl7.org/fhir/StructureDefinition/maxSize\nExtension: CapacityDetails\n* extension contains MaxSizeExtension named maxSize 0..1\n* extension[maxSize].value[x] only integer\n</pre></div>\n\n\n<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> (and others), what do you think of this approach?  It will be a breaking change, but we're early on in FSH/SUSHI, so now is the time to make breaking changes!</p>",
        "id": 189233636,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1582823514
    },
    {
        "content": "<p>NOTE: This would apply to extensions wherever you declare them, so it would also apply to profiles, e.g.:</p>\n<div class=\"codehilite\"><pre><span></span>Alias: USCoreRaceExtension = http://hl7.org/fhir/us/core/StructureDefinition/us-core-race\nProfile: MyPatient\nParent: Patient\n* extension contains USCoreRaceExtension named race 0..1\n</pre></div>",
        "id": 189233803,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1582823624
    },
    {
        "content": "<p>works for me!</p>",
        "id": 189242918,
        "sender_full_name": "David Hay",
        "timestamp": 1582829035
    }
]