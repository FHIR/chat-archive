[
    {
        "content": "<p>Has anyone done work on a shorthand syntax for ConceptMap?</p>",
        "id": 202018423,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1593115758
    },
    {
        "content": "<p>I found you can create an Instance for one like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>Instance: SnomedToUcum\nInstanceOf: ConceptMap\n* url = &quot;http://example.com/fhir/ConceptMap/snomed-ucum&quot;\n* version = &quot;0.0.1&quot;\n* status = #draft\n* sourceCanonical = &quot;http://snomed.info/sct?fhir_vs&quot;\n* targetCanonical = &quot;http://hl7.org/fhir/ValueSet/ucum-common&quot;\n* group[0].source = &quot;http://snomed.info/sct&quot;\n* group[0].target = &quot;http://unitsofmeasure.org&quot;\n* group[0].element[0].code = #258672001\n* group[0].element[0].target.code = #cm\n* group[0].element[0].target.equivalence = #equivalent\n* group[0].element[1].code = #258672002&quot;\n* group[0].element[1].target.code = #mL\n* group[0].element[1].target.equivalence = #equivalent\n</code></pre></div>",
        "id": 202018704,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1593115922
    },
    {
        "content": "<p>but I was wondering if we could do better with a new top-level reserved ConceptMap concept</p>",
        "id": 202018774,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1593115956
    },
    {
        "content": "<p>my colleague found a commented-out syntax for conceptmaps in FHIR Mapping Language, so maybe some combination of these two approaches could work?</p>\n<div class=\"codehilite\"><pre><span></span><code>    /*\n     * Syntax for embedded ConceptMaps excluded for now\n     *\n    conceptMap\n        : &#39;conceptMap&#39; &#39;&quot;#&#39; IDENTIFIER &#39;{&#39; (prefix)+ conceptMapping &#39;}&#39;\n        ;\n    prefix\n        : &#39;prefix&#39; conceptMappingVar &#39;=&#39; URL\n        ;\n    conceptMappingVar\n        :  IDENTIFIER\n        ;\n    conceptMapping\n        :  conceptMappingVar &#39;:&#39; field\n           ((&#39;&lt;=&#39; | &#39;=&#39; | &#39;==&#39; | &#39;!=&#39; &#39;&gt;=&#39; &#39;&gt;-&#39; | &#39;&lt;-&#39; | &#39;~&#39;) conceptMappingVar &#39;:&#39; field) | &#39;--&#39;\n        ;\n    */\n</code></pre></div>",
        "id": 202019559,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1593116364
    },
    {
        "content": "<p>without knowing much of anything about the FSH/SUSHI design, here's the result of the thought exercise on trying to combine these:</p>\n<div class=\"codehilite\"><pre><span></span><code>Alias: s = http://snomed.info/sct\nAlias: u = http://unitsofmeasure.org\n\nConceptMap: SnomedToUcum\nUrl: http://ibm.com/fhir/ConceptMap/snomed-ucum\nVersion: 0.1.0\nStatus: #draft\nSourceCanonical: http://snomed.info/sct?fhir_vs\nTargetCanonical: http://hl7.org/fhir/ValueSet/ucum-common\n* s#258672001 == u#cm\n* s#258672002 == u#mL\n</code></pre></div>\n\n\n<p>thoughts?</p>",
        "id": 202021460,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1593117368
    },
    {
        "content": "<p>I don't really have any experience w/ <code>ConceptMap</code>, but you're not the first person to ask for something like this.  Once FSH 1.0.0 is finalized, we'll be considering other candidates for dedicated syntaxes -- and <code>ConceptMap</code> will certainly be considered!</p>\n<p>Your proposed syntax looks a whole lot like the FSH syntax for Mapping (which is used for defining mappings in StructureDefinitions).  Check it out: <a href=\"https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#defining-mappings\">https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#defining-mappings</a></p>\n<p>If we adopted some of the existing syntax of <code>Mapping</code> (and other existing FSH), then you're example above might look something more like:</p>\n<div class=\"codehilite\"><pre><span></span><code>Alias: SCT = http://snomed.info/sct\nAlias: UCUM = http://unitsofmeasure.org\n\nConceptMap: SnomedToUcum\nId: snomed-ucum\nSource: http://snomed.info/sct?fhir_vs\nTarget: http://hl7.org/fhir/ValueSet/ucum-common\n* ^version = 0.1.0\n* ^status = #draft\n* SCT#258672001 -&gt; UCUM#cm\n* SCT#258672002 -&gt; UCUM#mL\n</code></pre></div>\n\n\n<p>Although usually we would just default to the IG version and status, so you probably wouldn't need to specify the <code>^version</code> and <code>^status</code> rules.  And I wonder if it might be possible to <em>infer</em> the code systems so that each mapping is really more like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>* #258672001 -&gt; #cm\n* #258672002 -&gt; #mL\n</code></pre></div>\n\n\n<p>Anyway, those are my thoughts without looking at the ConceptMap resource at all, but we'll certainly take a closer look when we start working on FSH STU2.</p>",
        "id": 202026488,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1593120028
    },
    {
        "content": "<p>you could add the relationship type in the syntax:</p>\n<div class=\"codehilite\"><pre><span></span><code>* SCT#258672001 -[rel]-&gt; UCUM#cm\n* SCT#258672002 -[eq]-&gt; UCUM#mL\n</code></pre></div>",
        "id": 202027747,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1593120687
    },
    {
        "content": "<p>Plant much?</p>",
        "id": 202042022,
        "sender_full_name": "Keith Boone",
        "timestamp": 1593131829
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191387\">Keith Boone</span> <a href=\"#narrow/stream/215610-shorthand/topic/ConceptMap.20shorthand/near/202042022\">said</a>:</p>\n<blockquote>\n<p>Plant much?</p>\n</blockquote>\n<p>what else?  (besides, they started it ) <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 202047770,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1593140082
    },
    {
        "content": "<p>Yeah, I probably should have looked closer at the syntax to see that <code>-&gt;</code> was probably too simple of a solution.  Oh well.  I'm not really supposed to be looking at this right now anway.  Stop drawing me in. ;-)</p>",
        "id": 202050260,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1593143502
    },
    {
        "content": "<p>ConceptMap is undergoing changes in R5 -- need to ensure vocab is looped in on any plans for a syntax; clarity of direction is important!</p>",
        "id": 202323785,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1593443379
    },
    {
        "content": "<p>Changes in R5 ContextMap seem to be more about syntax in FHIR rather than semantics of what a ConceptMap conveys, with the syntax allowing specification of more detail and clarity about mapping.  So far I haven't seen many changes to it that would conceptually be a big different in the meaning of the content.  I agree that Vocab should be involved, but it doesn't seem to be a tremendously complicated effort to capture the essentials needed for most of the cases I've ever developed a concept map for in an IG.</p>",
        "id": 202326939,
        "sender_full_name": "Keith Boone",
        "timestamp": 1593444676
    },
    {
        "content": "<p>There are things you can say in a pre-R5 map that you can't say in an R5 map, and some things have moved from being a specific code in one field to a new (boolean-typed) field.  If a custom syntax doesn't address these issues then there'll be significant cost in maintaining multi-version ConceptMaps and possibly also significant cognitive dissonance for users as the conceptual model aligned with the syntax diverges from the model of the Resource.</p>",
        "id": 204624282,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1595384255
    },
    {
        "content": "<p><a href=\"#narrow/stream/179252-IG-creation/topic/Representation.20of.20StructureMap.20in.20IGuides.3F/near/204464007\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Representation.20of.20StructureMap.20in.20IGuides.3F/near/204464007</a></p>",
        "id": 204631170,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595395000
    },
    {
        "content": "<p>would be a good starting point, no?</p>",
        "id": 204631188,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595395047
    }
]