[
    {
        "content": "<p><a class=\"stream\" data-stream-id=\"215610\" href=\"/#narrow/stream/215610-shorthand\">#shorthand</a> <br>\nHi everybody,<br>\nI am trying to construct an example (instance) for our new Phenopacket IG. I have defined the Phenopacket as a profile of a Composition:<br>\n<a href=\"http://phenopackets.org/core-ig/StructureDefinition-Phenopacket.html\">http://phenopackets.org/core-ig/StructureDefinition-Phenopacket.html</a></p>\n<p>I would now like to add a list of PhenotypicFeatures<br>\n<a href=\"http://phenopackets.org/core-ig/StructureDefinition-PhenotypicFeature.html\">http://phenopackets.org/core-ig/StructureDefinition-PhenotypicFeature.html</a></p>\n<p>In the corresponding FHS code I have</p>\n<ul>\n<li>\n<p>section contains<br>\n    phenotypic_features 0..1 and <br>\n    measurements 0..* and <br>\n    biosamples 0..* and<br>\n    //interpretations 0..* and<br>\n    diseases 0..1</p>\n</li>\n<li>\n<p>section[phenotypic_features].title = \"phenotypic_features\" (exactly)</p>\n</li>\n<li>section[phenotypic_features].code = $SectionType#phenotypic_features</li>\n<li>section[phenotypic_features].entry only Reference(PhenotypicFeature)</li>\n</ul>\n<p>(See <a href=\"https://github.com/phenopackets/core-ig/blob/master/input/fsh/phenopacketProfile.fsh\">https://github.com/phenopackets/core-ig/blob/master/input/fsh/phenopacketProfile.fsh</a>)</p>\n<p>I am not sure how to add this to an example<br>\n(See line 11 in <a href=\"https://github.com/phenopackets/core-ig/blob/master/input/fsh/EX_RD_Phenopacket.fsh\">https://github.com/phenopackets/core-ig/blob/master/input/fsh/EX_RD_Phenopacket.fsh</a>)</p>\n<p>I have tried various alternatives. I could not find anything about this in <a href=\"https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html\">https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html</a><br>\n-- If I should have found something there, please let me know what I am not understanding!</p>\n<p>Any help appreciated, thanks, Peter</p>",
        "id": 246109688,
        "sender_full_name": "Peter Robinson",
        "timestamp": 1626362442
    },
    {
        "content": "<p>There does not seem to be a problem with your reference, but rather the element you are trying to assign it to. You need to include the element <code>section</code> and the slice name \"phenotypic_features\" in brackets [] along with the <code>entry</code> element and index (in brackets).</p>\n<p>Instead of this:<br>\n<code>* phenotypic_features = Reference(longPhiltrum)</code></p>\n<p>I think you are looking for this:<br>\n<code>* section[phenotypic_features].entry[0] = Reference(longPhiltrum)</code></p>",
        "id": 246116994,
        "sender_full_name": "Corey Spears",
        "timestamp": 1626365403
    },
    {
        "content": "<p>thanks, perfect, that was it!</p>",
        "id": 246118115,
        "sender_full_name": "Peter Robinson",
        "timestamp": 1626365826
    },
    {
        "content": "<p>BTW, if you end up with a lot of entries, you may want to look up FSH soft indexing: <a href=\"https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#soft-indexing\">https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#soft-indexing</a></p>\n<p>That way you won't have to keep track of index numbers and it makes it a lot easier to move entries around without having to completely re-index.</p>",
        "id": 246122141,
        "sender_full_name": "Corey Spears",
        "timestamp": 1626367516
    }
]