[
    {
        "content": "<p>I'm trying to write a simple profile that is constraining the Genomics Reporting IG. It creates the profile, a valueset, and an example. Sushi doesn't report any errors, but publisher shows errors in the instance and valuesets. Here's my FSH</p>\n<div class=\"codehilite\"><pre><span></span>Alias: GLSCodeSystem = https://glstring.org\nAlias: HGNC = http://www.genenames.org\n\nProfile:        HLAGenotype\nParent:         genotype\nId:             hla-genotype\nTitle:          &quot;HLA Genotype Observation&quot;\nDescription:    &quot;HLA Genotype profile of genotype observation&quot;\n\n* component[gene-studied] 1..1 MS\n* component[gene-studied].value[x] only CodeableConcept\n* component[gene-studied].valueCodeableConcept from HLAGeneName\n\nInstance:   HLA-A-GenotypeExample1\nInstanceOf: http://example.org/fhir/hla-reporting/StructureDefinition/hla-genotype\nTitle:      &quot;HLA-A Genotype Example 1&quot;\n* status = #final\n* valueCodeableConcept.coding = GLSCodeSystem#&quot;hla#3.25.0#HLA-A*01:01:01:01/HLA-A*24:02:01:01&quot;\n* component[gene-studied].valueCodeableConcept = HGNC#HGNC:4931 &quot;HLA-A&quot;\n\nValueSet:  HLAGeneName\nTitle: &quot;HLA Gene Name Value Set&quot;\nId: hla-gene-name-value-set\nDescription:  &quot;HLA Gene Names&quot;\n* HGNC#HGNC:4931 &quot;HLA-A&quot;\n* HGNC#HGNC:4932 &quot;HLA-B&quot;\n</pre></div>\n\n\n<p>The qa.html shows these errors<br>\n<a href=\"/user_uploads/10155/ST1-Spm5YRFvHoGKkht3utuW/image.png\" target=\"_blank\" title=\"image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ST1-Spm5YRFvHoGKkht3utuW/image.png\" target=\"_blank\" title=\"image.png\"><img src=\"/user_uploads/10155/ST1-Spm5YRFvHoGKkht3utuW/image.png\"></a></div><p>I suspect I'll need to create a codesystem for <a href=\"http://glstrings.org\" target=\"_blank\" title=\"http://glstrings.org\">glstrings.org</a>.</p>\n<p>But <a href=\"http://genenames.org\" target=\"_blank\" title=\"http://genenames.org\">genenames.org</a> is a valueset defined in the Genomics Reporting IG (<a href=\"http://hl7.org/fhir/uv/genomics-reporting/valueset-hgnc.html\" target=\"_blank\" title=\"http://hl7.org/fhir/uv/genomics-reporting/valueset-hgnc.html\">http://hl7.org/fhir/uv/genomics-reporting/valueset-hgnc.html</a>) and is also listed in <a href=\"https://www.hl7.org/fhir/terminologies-systems.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/terminologies-systems.html\">https://www.hl7.org/fhir/terminologies-systems.html</a></p>\n<p>Any idea what I'm doing wrong?</p>",
        "id": 191299533,
        "sender_full_name": " Bob Milius",
        "timestamp": 1584736869
    },
    {
        "content": "<p>Hi Bob, <br>\n4 of 5 of these messages are due to the IG Publisher being unable to support the code systems you are using. When the IG Pub runs, it checks all the codes against the official HL7 terminology server. They aren't really errors, and the official word is that you can add the Information messages to the <code>ignoreWarnings.txt</code> file.  The error can't be suppressed, however. <br>\nThe message about the minimum cardinality of valueCodeableConcept looks like it might be legit.  I have a hunch you might need to add the rule <code>* component[gene-studied].value[x] 1..1</code>. <br>\nThe fact it talks about <code>Observation.component.Observation.component</code> is suspicious.<br>\nWhat does the parent class, <code>genotype</code> look like?</p>",
        "id": 191407260,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1584898974
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191447\">@Mark Kramer</span>, I'm working on creating codes systems, but I think I managed to fix the suspicious <code>Observation.component.Observation.component</code> thing. I changed</p>\n<div class=\"codehilite\"><pre><span></span>* component[gene-studied].valueCodeableConcept from HLAGeneName\n</pre></div>\n\n\n<p>to </p>\n<div class=\"codehilite\"><pre><span></span>* component[gene-studied].value[x] from HLAGeneName\n</pre></div>",
        "id": 191520976,
        "sender_full_name": " Bob Milius",
        "timestamp": 1584990090
    },
    {
        "content": "<p>The first construct is the way I would do it. I guess SUSHI figures out in the latter case that the binding on value[x] means bind to valueCodeableConcept.  Why that should make a difference on the reported error, I can't even guess.</p>",
        "id": 191610640,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1585057420
    }
]