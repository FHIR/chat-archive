[
    {
        "content": "<p>I would disagree with this statement: Cardinality constraints cannot widen the cardinality.  0..0 is wider than 1..*.</p>",
        "id": 258205246,
        "sender_full_name": "David Pyke",
        "timestamp": 1634654100
    },
    {
        "content": "<p>It's an error, because I'm trying to lock out a required element but it's not wider... 0..* would be...</p>",
        "id": 258205367,
        "sender_full_name": "David Pyke",
        "timestamp": 1634654131
    },
    {
        "content": "<p>Yeah, I agree that the message seems a little off.  It's \"widening\" it on the min side (if you think of it as a range on a number line), but narrowing it on the max side.  Another way of saying it would be that \"Cardinality constraints cannot decrease an existing min or increase an existing max\" -- but I wonder if there is a still a more succinct way of saying that.  Any ideas?</p>",
        "id": 258208032,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1634654967
    },
    {
        "content": "<p>I think that would be best, it's not succinct but it explains the problem well.</p>",
        "id": 258212370,
        "sender_full_name": "David Pyke",
        "timestamp": 1634656382
    },
    {
        "content": "<p>\"Cardinality constraints must match or be tighter than existing constraints.\"</p>",
        "id": 258222357,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1634659515
    },
    {
        "content": "<p>0..0 is tighter than 1..*</p>",
        "id": 258222394,
        "sender_full_name": "David Pyke",
        "timestamp": 1634659531
    },
    {
        "content": "<p>\"must match or be within\"</p>",
        "id": 258222458,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1634659559
    },
    {
        "content": "<p>So... \"Cardinality constraints must match or be within the existing cardinality. 0..0 is not fully within the cardinality 1..*\" ?</p>",
        "id": 258222964,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1634659718
    },
    {
        "content": "<p>That works!</p>",
        "id": 258223089,
        "sender_full_name": "David Pyke",
        "timestamp": 1634659755
    },
    {
        "content": "<p>Yup.</p>",
        "id": 258223124,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1634659768
    },
    {
        "content": "<p>Although now that I read the whole thing, you could shorten it to \"Cardinality 0..0 is not fully within the cardinality 1..*\"</p>",
        "id": 258223313,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1634659823
    },
    {
        "content": "<p>(And I suppose if I wanted to get nit picky, 1..1 is not <em>fully within</em> 1..* -- proper subsets and all.)</p>",
        "id": 258223486,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1634659884
    },
    {
        "content": "<p>If you're adding a specific case for <code>0..0</code> when the base is <code>1..</code>, you could also go with something along the lines of 'Cannot prohibit required element...'</p>",
        "id": 258223505,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1634659893
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> - If we can find one general phrase that works across the board, I'd prefer that over special-casing this message.  While using terms like \"prohibited\" and \"required\" reads well in English, it would mean that authors would need to know that by \"prohibited\" we're referring to 0..0 and by \"required\" we're referring to 1...  By just using the cards directly, I think it's easier to see the relation to the actual FSH statement.</p>\n<p><span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span> - I was using \"fully within\" because it is actually <em>partially within</em> but <em>partially within</em> is not good enough.  BUT... I agree that it might be misunderstood by nerdy math types -- so let's drop it.</p>\n<p>How about \"Cannot constrain cardinality to 0..0, as it does not  fit within the original 1..* cardinality\"?</p>",
        "id": 258227466,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1634661226
    },
    {
        "content": "<p>Chris: fair  =)  If there is additional documentation around the error I think adding some of that kind of text may be useful.  E.g., that the error is commonly caused by trying to prohibit a required element or require a prohibited one, etc.</p>",
        "id": 258232625,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1634662885
    },
    {
        "content": "<p>For those who wish to track this change, it is <a href=\"https://github.com/FHIR/sushi/issues/938\">SUSHI#938</a>.</p>",
        "id": 258527446,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1634815532
    },
    {
        "content": "<p>We've improved the error message in <a href=\"https://github.com/FHIR/sushi/releases/tag/v2.2.0\">SUSHI 2.2.0</a>.</p>",
        "id": 261308835,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1636750215
    }
]