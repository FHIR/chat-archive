[
    {
        "content": "<p>I am running into the 'Inline extensions should only be defined in Extensions.' error and can not figure out how to do the following properly: </p>\n<div class=\"codehilite\"><pre><span></span><code>...\n* address ..*\n  * ^slicing.discriminator.type = #pattern\n  * ^slicing.discriminator.path = &quot;$this&quot;\n  * ^slicing.rules = #open\n* address contains\n    Strassenanschrift 0..* and\n    Postfach 0..1\n* address\n  * type 1..\n  * city 1..\n  * postalCode 1..\n  * country 1..\n  * extension ^slicing.discriminator.type = #value\n    * ^slicing.discriminator.path = &quot;url&quot;\n    * ^slicing.rules = #open\n  * extension contains Stadtteil 0..1 MS // -&gt; ERROR\n  * line 1.. MS\n    * extension ^slicing.discriminator.type = #value\n      * ^slicing.discriminator.path = &quot;url&quot;\n      * ^slicing.rules = #open\n* address[Strassenanschrift] only AddressDeBasis\n  * ^patternAddress.type = #both\n  * type = #both (exactly)\n  * line 1.. MS\n    * extension contains\n        Strasse 0..1 MS and // Cardinalities are different here -&gt; ERROR\n        Hausnummer 0..1 MS and // Cardinalities are different here -&gt; ERROR\n        Adresszusatz 0..1 MS and // Cardinalities are different here -&gt; ERROR\n        Postfach 0..0 // Cardinalities are different here -&gt; ERROR\n* address[Postfach] only AddressDeBasis\n  * ^patternAddress.type = #postal\n  * type = #postal (exactly)\n  * line 1.. MS\n    * extension contains\n        Strasse 0..0 and // Cardinalities are different here\n        Hausnummer 0..0 and // Cardinalities are different here\n        Adresszusatz 0..0 and // Cardinalities are different here\n        Postfach 0..1 MS // Cardinalities are different here\n...\n</code></pre></div>\n<p>What I want to achieve is to have different cardinalities for the extension slices within the different address slices but I receive the aforementioned error for the lines I marked above with ERROR. This is the farthest I've gotten but I can't seem to solve the remaining issues. The way I understand this error (and judging by the way it was answered before) would be to define an extension. But would I need two (or even three) in this case and if so, on what level?</p>",
        "id": 260440239,
        "sender_full_name": "Yannick Börner",
        "timestamp": 1636134526
    },
    {
        "content": "<p>It's telling you that you need to define this as an external extension with inline extensions added, not just inline with inline extensions.  Are you defining this outside of a profile using the Extension definition:<br>\nExtension: <br>\nId: <br>\nTitle: \"\"<br>\nDescription: \"\"</p>",
        "id": 260450092,
        "sender_full_name": "David Pyke",
        "timestamp": 1636138836
    },
    {
        "content": "<p>Right, to further elaborate on <span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span>'s answer, are <code>Stadtteil</code>, <code>Strasse</code>, <code>Hausnummer</code>, <code>Adresszusatz</code>, and <code>Postfach</code> standalone extensions (either defined by you or in a dependency IG)?  If no, then you need to define them first.</p>\n<p>If those are defined as standalone extensions, then you need to change the syntax of how you include them.  When you include extensions into a profile, you need to also provide a local name for them (which becomes the slice name). For example:</p>\n<div class=\"codehilite\"><pre><span></span><code>* extension contains Stadtteil named stadtteil 0..1 MS\n</code></pre></div>\n<p>See: <a href=\"https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#contains-rules-for-extensions\">https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#contains-rules-for-extensions</a></p>",
        "id": 260799523,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1636465851
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span>, that cleared up things quite a lot. Previously, I got slightly confused on how to express these three in shorthand: inline extensions, standalone extensions, inherited slices. However, it is now clear where I need to use which and I was able to solve all errors, thank you!</p>",
        "id": 261121530,
        "sender_full_name": "Yannick Börner",
        "timestamp": 1636630259
    }
]