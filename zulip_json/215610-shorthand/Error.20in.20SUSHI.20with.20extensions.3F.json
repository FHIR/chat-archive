[
    {
        "content": "<p>I'm trying to use SUSHI/FSH to define an extension and even took, verbatim. the example from the FHIR FSH reference page:</p>\n<ul>\n<li>\n<p>extension contains<br>\n      ombCategory 0..5 MS<br>\n      detailed 0..*<br>\n      text 1..1 MS<br>\n// rules defining the inline extensions would typically follow:</p>\n</li>\n<li>\n<p>extension[ombCategory].value[x] only Coding</p>\n</li>\n<li>extension[ombCategory].valueCoding from <a href=\"http://hl7.org/fhir/us/core/ValueSet/omb-race-category\">http://hl7.org/fhir/us/core/ValueSet/omb-race-category</a> (required)</li>\n<li>extension[text].value[x] only string</li>\n</ul>\n<p>SUSHI returns this error:   (I've tried this with 0.12.7 and 0.15.1 and get the same error)</p>\n<p>error mismatched input 'contains' expecting {'units', '='}<br>\n File: /Users/john/Vermonster/rule-engine-content/fsh/ACR-Headache.fsh<br>\n Line: 39<br>\nerror mismatched input 'only' expecting {'units', '='}</p>",
        "id": 207418937,
        "sender_full_name": "John Silva",
        "timestamp": 1597849248
    },
    {
        "content": "<p>can you share your actual file because what you posted above has an error that aren't related to the error you're showing, but I suspect that's just because we're not seeing the raw file (you are missing 'and' between the three extension names).</p>",
        "id": 207421067,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597850141
    },
    {
        "content": "<p>Not having the \"and\" will cause that error.  I know from experience</p>",
        "id": 207422578,
        "sender_full_name": "David Pyke",
        "timestamp": 1597850834
    },
    {
        "content": "<p>Thanks David; I'll check that.  If that's the case then this page, which is where I got this example, needs to be fixed:</p>\n<p><a href=\"https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#contains-rules-for-extensions\">https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#contains-rules-for-extensions</a>.  (it;'s the last example just before sectin 3.5.5)</p>\n<p>I cut-and-pasted that code exactly.   However, I also got the same error if I only had one lineL</p>",
        "id": 207424966,
        "sender_full_name": "John Silva",
        "timestamp": 1597851963
    },
    {
        "content": "<p>I also tried this simple example and got the same error:</p>\n<p>// Define extension inline for now</p>\n<ul>\n<li>extension contains display 0..1</li>\n<li>extension[display].value[x] only string</li>\n</ul>",
        "id": 207425193,
        "sender_full_name": "John Silva",
        "timestamp": 1597852056
    },
    {
        "content": "<p>Here is what I tried and it succeeded:</p>\n<div class=\"codehilite\"><pre><span></span><code>Profile: TestOrganization\nParent: Organization\n* extension contains display 0..1\n* extension[display].value[x] only string\n</code></pre></div>\n\n\n<p>NOTE: I think there is something else wrong in your file because when I copy and paste the example that is missing the 'and's, I get the following error:</p>\n<div class=\"codehilite\"><pre><span></span><code>error extraneous input &#39;detailed&#39; expecting {&lt;EOF&gt;, KW_ALIAS, KW_PROFILE, KW_EXTENSION, KW_INSTANCE, KW_INVARIANT, KW_VALUESET, KW_CODESYSTEM, KW_RULESET, KW_MAPPING}\n  File: /Users/jeanduteau/Documents/DDIWork/IBM-BEST/datastandards/fsh/MessageOrganization.fsh\n  Line: 76\n</code></pre></div>",
        "id": 207425881,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597852431
    },
    {
        "content": "<p>Thanks for noticing that <span class=\"user-mention\" data-user-id=\"298707\">@John Silva</span> , we will update that documentation to correctly include the \"and\"</p>",
        "id": 207434292,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1597856617
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span> , thanks <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> .    A team member showed me how to do this but using an external extension not an inline one.   At least we were able to get it to work with external (which is actually better, because I need to reuse this on multiple PlanDefinition FSH files, in the action[].input[] structure.</p>",
        "id": 207466932,
        "sender_full_name": "John Silva",
        "timestamp": 1597874687
    }
]