[
    {
        "content": "<p>From reading previous messages here, it seems that it is ok for me to have fsh-generated in my .gitignore? I am trying to figure out why the auto-builder CI process does not run a build for my fsh-based draft IG, and I wondered whether it was because I .gitignore the fsh-generated directory.</p>",
        "id": 218352323,
        "sender_full_name": "John Keyes",
        "timestamp": 1606773671
    },
    {
        "content": "<p>It's fine to exclude <code>fsh-generated</code> via .gitignore; the CI build process generates it when run.</p>",
        "id": 218352695,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1606773847
    },
    {
        "content": "<p>John's got an IG where the hook is triggering, but the build isn't running.  Because it's FSH, I can't really diagnose what's wrong - so if anyone can take a look at his IG, that'd be awesome...</p>",
        "id": 218356741,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1606775936
    },
    {
        "content": "<p>I could look, but don't know what github repo to look at</p>",
        "id": 218356895,
        "sender_full_name": "John Moehrke",
        "timestamp": 1606776037
    },
    {
        "content": "<p>Looks like <a href=\"https://github.com/HL7/fhir-patient-correction\">https://github.com/HL7/fhir-patient-correction</a></p>",
        "id": 218356977,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1606776098
    },
    {
        "content": "<p>What's the repo and how do you know that the auto build is getting triggered?  I don't see any recent notifications in the <code>ig-build</code> stream that are obviously from John.  And it also seems like the <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\">FHIR IG Builds</a> index is down?  (<span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> -- did that page change?)</p>",
        "id": 218357875,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1606776680
    },
    {
        "content": "<p>I'm seeing the hook notifications claiming success in Git.</p>",
        "id": 218357968,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1606776729
    },
    {
        "content": "<p>The builds page has been down for a few days</p>",
        "id": 218357982,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1606776744
    },
    {
        "content": "<p>Does the CI build work with private repos?</p>",
        "id": 218358014,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1606776774
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"222054\">Gino Canessa</span> <a href=\"#narrow/stream/215610-shorthand/topic/fsh-generated.20in.20.2Egitignore/near/218358014\">said</a>:</p>\n<blockquote>\n<p>Does the CI build work with private repos?</p>\n</blockquote>\n<p>That's a good question.  Unless the auto-builder is authenticated to GH as a specific user, and that user was specifically granted access to the private repo, I think the clone attempt would fail.  That could be the issue if you're using a private repo.</p>",
        "id": 218358354,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1606777001
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/215610-shorthand/topic/fsh-generated.20in.20.2Egitignore/near/218357982\">said</a>:</p>\n<blockquote>\n<p>The builds page has been down for a few days</p>\n</blockquote>\n<p>It looks to be back up now.</p>",
        "id": 218358540,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1606777117
    },
    {
        "content": "<p>Not for me.  You're talking about this one? <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\">https://fhir.github.io/auto-ig-builder/builds.html</a></p>",
        "id": 218359168,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1606777524
    },
    {
        "content": "<p>Yes, weird. Definitely up for me.<br>\n<a href=\"/user_uploads/10155/vup1lK5ydVJn6Y362lfZc4Y9/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/vup1lK5ydVJn6Y362lfZc4Y9/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/vup1lK5ydVJn6Y362lfZc4Y9/image.png\"></a></div>",
        "id": 218361027,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1606778902
    },
    {
        "content": "<p>I tried to <a href=\"https://build.fhir.org/ig/HL7/fhir-patient-corrections/branches/main/build.log\">guess</a> at the URL for the logs for fhir-patient-correction, but no dice.  <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>, are you able to see what's going on with <span class=\"user-mention\" data-user-id=\"251396\">@John Keyes</span>' build?</p>",
        "id": 218379852,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1606797023
    },
    {
        "content": "<p>Or the logs could be at <a href=\"https://build.fhir.org/ig/HL7/fhir-patient-correction/branches/master/build.log\">https://build.fhir.org/ig/HL7/fhir-patient-correction/branches/master/build.log</a> (master instead of main), but nothing there either.  Also, another symptom is that my commits do not get published to committers/notification. Sounds like all this may be because it's a private repo?</p>",
        "id": 218415514,
        "sender_full_name": "John Keyes",
        "timestamp": 1606826120
    },
    {
        "content": "<p>AFAIK private repos don't trigger IG CI build</p>",
        "id": 218416404,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1606826640
    },
    {
        "content": "<p>Ok, thanks Jose. I'm new to this -- are IG repos generally kept private until they are no longer in draft stage?</p>",
        "id": 218417132,
        "sender_full_name": "John Keyes",
        "timestamp": 1606827050
    },
    {
        "content": "<p>That would be a policy you can define. <br>\nMine /ours are public in draft, as soon as we have a first logical models or some content for discussion within the group. The CI build is (to me) for discussion</p>",
        "id": 218420081,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1606828726
    },
    {
        "content": "<p>Just talked this over with Josh - CI builds do <em>not</em> work on private repos (and he is adding a note about it).  The rationale is that the CI builds are all public, so taking a private repo and publishing it would be a privacy/security issue.</p>",
        "id": 218459210,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1606845858
    },
    {
        "content": "<p>Just updated the docs at <a href=\"https://github.com/fhir/auto-ig-builder#about-auto-builder\">https://github.com/fhir/auto-ig-builder#about-auto-builder</a> to make this clear.</p>",
        "id": 218460015,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1606846250
    },
    {
        "content": "<p>Thank you both!</p>",
        "id": 218461940,
        "sender_full_name": "John Keyes",
        "timestamp": 1606847131
    },
    {
        "content": "<p>The repository shouldn't have been created as private.  That was my bad.  Fixed.</p>",
        "id": 218492521,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1606862407
    },
    {
        "content": "<p>I re-triggered the most recent hook.  We'll see if it builds now...</p>",
        "id": 218492531,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1606862422
    },
    {
        "content": "<p>And it works!  Thanks <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span></p>",
        "id": 218492778,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1606862617
    }
]