[
    {
        "content": "<p>How can I add a logical reference in an instance?</p>",
        "id": 216730863,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1605362682
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>foo = Reference(my-instance-name)\n</code></pre></div>\n<p>Is that what you mean?</p>",
        "id": 216740819,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1605375839
    },
    {
        "content": "<p>per <a href=\"http://build.fhir.org/references.html#logical\">http://build.fhir.org/references.html#logical</a><br>\nI have on the profile<br>\n<code>* foo only Reference(Patient) </code><br>\nand I want to have in an instance<br>\n<code>*foo.identifier.value = \"NR8957784733\" </code><br>\n<code>*foo.identifier.system = \"http://moh.gov.nr/socsecurityid\" </code></p>",
        "id": 216741137,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1605376114
    },
    {
        "content": "<p>That looks like it should work, except that system is a URI (no quotes) and you should have a space after the asterisks. What is the SUSHI error message?</p>",
        "id": 216741588,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1605376567
    },
    {
        "content": "<p>Also, I wonder if you need to first add the reference. I bet SUSHI thinks foo is empty.  (I'm just guessing now)</p>",
        "id": 216741626,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1605376647
    },
    {
        "content": "<p>I tried it and without the quotes on the system URL, SUSHI tries to resolve the URL, which is strange. But I'm not getting any errors.</p>",
        "id": 216742639,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1605378384
    },
    {
        "content": "<p>URI values are still encoded as strings in FSH (just like FHIR) -- so you do need the quotes.</p>\n<p>I just tried this in <a href=\"https://fshschool.org/FSHOnline/\">FSHOnline</a> and it compiled w/ no problems:</p>\n<div class=\"codehilite\"><pre><span></span><code>Profile: PatientProcedure\nParent: Procedure\n* subject only Reference(Patient)\n\nInstance: MyPatientProcedure\nInstanceOf: PatientProcedure\n* status = #completed\n* subject.identifier.value = &quot;NR8957784733&quot;\n* subject.identifier.system = &quot;http://moh.gov.nr/socsecurityid&quot;\n</code></pre></div>",
        "id": 216744917,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1605381311
    },
    {
        "content": "<p>I don't know what I was doing wrong before, but this seems to work. Thanks</p>",
        "id": 216749331,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1605386894
    }
]