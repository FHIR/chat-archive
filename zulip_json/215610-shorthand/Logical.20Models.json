[
    {
        "content": "<p>Is the latest version of SUSHI able to create logical models? I took a look at <a href=\"https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html\" title=\"https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html\">https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html</a> and there was nothing I could see that suggests it can.</p>\n<p>If it can, is there an example somewhere that can be shared.</p>",
        "id": 193209097,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1586274915
    },
    {
        "content": "<p>I don't think it is yet (I'm waiting for it)</p>",
        "id": 193209616,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586275109
    },
    {
        "content": "<p>Just out of interest, how do you get a Logical Model into the IG publisher?</p>",
        "id": 193229869,
        "sender_full_name": "David Hay",
        "timestamp": 1586284782
    },
    {
        "content": "<p>with sushi?</p>",
        "id": 193236462,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586287843
    },
    {
        "content": "<p>or in general?</p>",
        "id": 193236489,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586287857
    },
    {
        "content": "<p>Just confirming... we've talked about supporting logical models in FHIR Shorthand / SUSHI, but we haven't gone very far with design -- and haven't even started implementation.  We're trying to nail down the profiling bits of the language before embarking on the logical model journey.</p>",
        "id": 193238810,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1586289014
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> -- logical models are just instances of <code>StructureDefinition</code> (like resources and profiles).  If you set <code>kind</code> to <code>logical</code>, then the IG Publisher knows it is a logical model and treats it as such.</p>",
        "id": 193238970,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1586289121
    },
    {
        "content": "<p>ta! (I do have a tool that creates them - just wasn't sure how to get them into the IG publisher...) I am setting kind correctly, but it doesn't seem to appear. Will investigate further...</p>\n<p>BTW - when copying pages from ig-data/input/pagecontent sushi adds the warning header about not editing it. It shouldn't really do so as can muck up page generation  - especially xml files...</p>",
        "id": 193242788,
        "sender_full_name": "David Hay",
        "timestamp": 1586291142
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span>  I added the structure definition of the logicial model to build/input/profiles and then edited the build/ImplementationGuide-[igname].json file to add it as another resource. It then shows up in the artifact list. Not sure if that's the correct way tho.</p>",
        "id": 193246314,
        "sender_full_name": " Bob Milius",
        "timestamp": 1586292716
    },
    {
        "content": "<p>Thanks Bob - I did try that but didn't seem to work. Where in the IG did the LM appear? I'm using LM's from the clinFHIR Logical Modeller, so quite likely that the issue is there...</p>",
        "id": 193249581,
        "sender_full_name": "David Hay",
        "timestamp": 1586294105
    },
    {
        "content": "<p>A co-worker gave me a structure definition of a logical model she created in forge. It seems pretty empty when rendered in the IG, but it shows up in toc.html and in artifacts.html. I have it in build/input/profiles/StructureDefinition-mylogicalmodel.xml and the resources entry in the build/ImplemenationGuide-myigname.json file looks like this:</p>\n<div class=\"codehilite\"><pre><span></span>      {\n        &quot;reference&quot;: {\n          &quot;reference&quot;: &quot;StructureDefinition/mylogicalmodel&quot;\n        },\n        &quot;name&quot;: &quot;MyLogicalModel&quot;,\n        &quot;description&quot;: &quot;A Logical model&quot;,\n        &quot;exampleBoolean&quot;: false\n      },\n</pre></div>\n\n\n<p>then I just run the publisher via<code>./_genonce.sh</code></p>",
        "id": 193250532,
        "sender_full_name": " Bob Milius",
        "timestamp": 1586294730
    },
    {
        "content": "<p>I make my logical models outside of sushi and pass them through the normal IG build. <br>\nThis means typing xml by hand (not the most efficient use of one's time...)</p>",
        "id": 193251107,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586295095
    },
    {
        "content": "<p>a few here:<br>\n<a href=\"http://build.fhir.org/ig/hl7-be/be-core/branches/master/artifacts.html\" title=\"http://build.fhir.org/ig/hl7-be/be-core/branches/master/artifacts.html\">http://build.fhir.org/ig/hl7-be/be-core/branches/master/artifacts.html</a></p>",
        "id": 193251113,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586295100
    },
    {
        "content": "<p>Did you need to modify the template? Or did the standard one just work...</p>",
        "id": 193251448,
        "sender_full_name": "David Hay",
        "timestamp": 1586295304
    },
    {
        "content": "<p>standard template</p>",
        "id": 193251510,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586295356
    },
    {
        "content": "<p>i have a different template but it doesn't impact logical models</p>",
        "id": 193251573,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586295370
    },
    {
        "content": "<blockquote>\n<p>BTW - when copying pages from ig-data/input/pagecontent sushi adds the warning header about not editing it. It shouldn't really do so as can muck up page generation - especially xml files...</p>\n</blockquote>\n<p>There was a bug in where we were putting the warnings in XML files.  That's fixed in the next release, due today.</p>",
        "id": 193443607,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1586435904
    },
    {
        "content": "<p>I like fridays! Kinda like a mini-christmas present to look forward to!</p>",
        "id": 193498744,
        "sender_full_name": "David Hay",
        "timestamp": 1586460717
    },
    {
        "content": "<p>So I created a small model and placed it in input/models. It shows up in the IG Ok, but there are no elements displayed (apart from an extension) and I note that the IG publisher (most recent version) adds the following extensions to the first snapshot element, then flags them as an error in the QA</p>\n<p>Extensions added:</p>\n<div class=\"codehilite\"><pre><span></span>      &quot;extension&quot; : [\n          {\n            &quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status&quot;,\n            &quot;valueCode&quot; : &quot;normative&quot;\n          },\n          {\n            &quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version&quot;,\n            &quot;valueCode&quot; : &quot;4.0.0&quot;\n          }\n        ],\n</pre></div>\n\n\n<p>Original model:</p>\n<div class=\"codehilite\"><pre><span></span>{\n    &quot;resourceType&quot;: &quot;StructureDefinition&quot;,\n    &quot;id&quot;: &quot;MyPatient&quot;,\n    &quot;url&quot;: &quot;http://hl7.org.nz/fhir/StructureDefinition/MyPatient&quot;,\n    &quot;name&quot;: &quot;MyPatient&quot;,\n    &quot;purpose&quot;: &quot;MyPatient&quot;,\n    &quot;status&quot;: &quot;draft&quot;,\n    &quot;date&quot;: &quot;2020-03-31T10:52:15+13:00&quot;,\n    &quot;kind&quot;: &quot;logical&quot;,\n    &quot;abstract&quot;: false,\n    &quot;baseDefinition&quot;: &quot;http://hl7.org/fhir/StructureDefinition/Element&quot;,\n    &quot;type&quot;: &quot;MyPatient&quot;,\n    &quot;derivation&quot;: &quot;specialization&quot;,\n    &quot;fhirVersion&quot; : &quot;4.0.1&quot;,\n    &quot;snapshot&quot;: {&quot;element&quot;: [\n        {\n            &quot;label&quot;: &quot;MyPatient&quot;,\n            &quot;id&quot;: &quot;MyPatient&quot;,\n            &quot;path&quot;: &quot;MyPatient&quot;,\n            &quot;definition&quot;: &quot;No description&quot;,\n            &quot;min&quot;: 1,\n            &quot;max&quot;: &quot;1&quot;,\n            &quot;base&quot;: {\n                &quot;path&quot;: &quot;Element&quot;,\n                &quot;min&quot;: 0,\n                &quot;max&quot;: &quot;1&quot;\n            }\n        },\n        {\n            &quot;label&quot;: &quot;NHI&quot;,\n            &quot;id&quot;: &quot;MyPatient.NHI&quot;,\n            &quot;path&quot;: &quot;MyPatient.NHI&quot;,\n            &quot;short&quot;: &quot;NHI&quot;,\n            &quot;definition&quot;: &quot;The National Health Identifier. This is the &#39;live&#39; identifier. Any previous merged identifiers will be present in the &#39;dormant&#39; NHI list.&quot;,\n            &quot;min&quot;: 1,\n            &quot;max&quot;: &quot;1&quot;,\n            &quot;mustSupport&quot;: true,\n            &quot;mapping&quot;: [{\n                &quot;identity&quot;: &quot;fhir&quot;,\n                &quot;map&quot;: &quot;Patient.identifier|&quot;\n            }],\n            &quot;type&quot;: [{\n                &quot;code&quot;: &quot;Identifier&quot;\n            }],\n            &quot;base&quot;: {\n                &quot;path&quot;: &quot;MyPatient.NHI&quot;,\n                &quot;min&quot;: 0,\n                &quot;max&quot;: &quot;1&quot;\n            },\n            &quot;fixedString&quot;: &quot;{\\&quot;system\\&quot;:\\&quot;https://standards.digital.health.nz/id/nhi\\&quot;,\\&quot;use\\&quot;:\\&quot;official\\&quot;}&quot;\n\n        }\n    ]}\n}\n</pre></div>",
        "id": 193638238,
        "sender_full_name": "David Hay",
        "timestamp": 1586572212
    },
    {
        "content": "<p>I believe you must have a differential</p>",
        "id": 193640996,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586577932
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> just replace snapshot by differential and see how it goes</p>",
        "id": 193641000,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586577942
    },
    {
        "content": "<p>Nicely done! Looks like that did it, thanks :)</p>",
        "id": 193645115,
        "sender_full_name": "David Hay",
        "timestamp": 1586586104
    }
]