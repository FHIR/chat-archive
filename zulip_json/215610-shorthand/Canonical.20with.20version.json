[
    {
        "content": "<p>Hey there everybody, we'd like to get some user input on a syntax decision. We are adding a <code>Canonical</code> keyword to SUSHI which allows the user to get the canonical URL of a FHIR resource, but FHIR allows canonical URLs to include a version by appending <code>|&lt;version&gt;</code> to the URL. For example, if we have a resource Foo with URL <code>http://example.org/ValueSet/Foo</code> and version <code>1.2.3</code>, the URL as a canonical could be <code>http://example.org/ValueSet/Foo|1.2.3</code>. We are unsure how to  best handle versions. There seem to be two paths forward:</p>\n<ol>\n<li><strong>Version included by default</strong> :</li>\n</ol>\n<ul>\n<li><code>Canonical(Foo)</code> is used to indicate that SUSHI should use the <code>version</code> it finds on the <code>Foo</code> resource, returns <code>http://example.org/ValueSet/Foo|1.2.3</code></li>\n<li><code>Canonical(Foo|4.5.6)</code> is used when you want to manually specify a version different from the one that SUSHI finds on <code>Foo</code>, returns <code>http://example.org/ValueSet/Foo|4.5.6</code></li>\n<li><code>Canonical(Foo|)</code> is used when you do not want the version, returns <code>http://example.org/ValueSet/Foo</code></li>\n</ul>\n<ol start=\"2\">\n<li><strong>Version not included by default</strong>:</li>\n</ol>\n<ul>\n<li><code>Canonical(Foo|.)</code> is used to indicate that SUSHI should use the <code>version</code> it finds on the <code>Foo</code> resource, returns <code>http://example.org/ValueSet/Foo|1.2.3</code>.</li>\n<li><code>Canonical(Foo|4.5.6)</code> is used when you want to manually specify a version different from the one that SUSHI finds on <code>Foo</code>, returns <code>http://example.org/ValueSet/Foo|4.5.6</code></li>\n<li><code>Canonical(Foo)</code> is used when you do not want the version, returns <code>http://example.org/ValueSet/Foo</code></li>\n</ul>",
        "id": 204677972,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1595430302
    },
    {
        "content": "<p>I think there are advantages to each, but in a FHIR canonical, <em>no <code>|</code></em> means no specified version -- so I have concerns about making <em>no <code>|</code></em> mean insert the current version in FSH.</p>",
        "id": 204678866,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1595430686
    },
    {
        "content": "<p>I think Canonical(Foo)  should return <a href=\"http://example.org/ValueSet/Foo\">http://example.org/ValueSet/Foo</a><br>\nCanonical(Foo | x.y.z ) should return  <a href=\"http://example.org/ValueSet/Foo|x.y.z\">http://example.org/ValueSet/Foo|x.y.z</a><br>\nAnything else is a syntax error.  That keeps it simple to use</p>",
        "id": 204684218,
        "sender_full_name": "David Pyke",
        "timestamp": 1595432933
    },
    {
        "content": "<p>So <span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span> -- I want to be sure I understand what you're suggesting.  You're suggesting that we should <em>not</em> support a way to say \"insert the version in scope\" -- but rather, if you want to specify the same version as is in your IG (or in a dependency) you have to explicitly put in whatever that version number is...  Right?</p>",
        "id": 204689801,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1595435540
    },
    {
        "content": "<p>Right. I'm a fan of brute force</p>",
        "id": 204690043,
        "sender_full_name": "David Pyke",
        "timestamp": 1595435649
    },
    {
        "content": "<p>I'm inclined toward your suggestion, <span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span>.  It keeps things simple and eliminates <em>magic</em> -- and it's often the <em>magic</em> that confuses people.  If authors find that it's too burdensome and they really want a magic way of saying \"the version in scope\", then we can add it in STU2.  And if it turns out nobody else needs/wants it, then we've kept FSH simpler!</p>\n<p>But... we'll give this thread time to sit overnight in case anyone else wants to comment before we implement it.</p>",
        "id": 204699715,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1595440401
    },
    {
        "content": "<blockquote>\n<p>Right. I'm a fan of brute force</p>\n</blockquote>\n<p>Is that a 'David' thing?</p>",
        "id": 204705044,
        "sender_full_name": "David Hay",
        "timestamp": 1595442909
    },
    {
        "content": "<p>Polite brute force.</p>",
        "id": 204705880,
        "sender_full_name": "David Pyke",
        "timestamp": 1595443324
    },
    {
        "content": "<p>excessively polite brute force</p>",
        "id": 204706300,
        "sender_full_name": "John Moehrke",
        "timestamp": 1595443511
    },
    {
        "content": "<p>Canadian form of brute force.</p>",
        "id": 204842144,
        "sender_full_name": "Keith Boone",
        "timestamp": 1595531925
    }
]