[
    {
        "content": "<p>Creating a constrained profile against a parent, sushi is complaining (<em>No element found at path reaction.substance.coding[snomedSubstance]</em> ) about this line:</p>\n<blockquote>\n<ul>\n<li>reaction.substance.coding[snomedSubstance] MS</li>\n</ul>\n</blockquote>\n<p>where <em>snomedSubstance</em> is a slice name defined in the parent <a href=\"http://hl7.org.au/fhir/StructureDefinition/au-allergyintolerance\" title=\"http://hl7.org.au/fhir/StructureDefinition/au-allergyintolerance\">http://hl7.org.au/fhir/StructureDefinition/au-allergyintolerance</a></p>",
        "id": 194630689,
        "sender_full_name": "David Hay",
        "timestamp": 1587354207
    },
    {
        "content": "<p>here's the header info:</p>\n<div class=\"codehilite\"><pre><span></span>Profile: AUPrimaryCareAllergyIntolerance\nParent: http://hl7.org.au/fhir/StructureDefinition/au-allergyintolerance\nId: AUPrimaryCareAllergyIntolerance\n</pre></div>",
        "id": 194630733,
        "sender_full_name": "David Hay",
        "timestamp": 1587354265
    },
    {
        "content": "<p>I tried to recreate this but wasn't able to. SUSHI seemed to be able to find the path when I gave it a try. What do your <code>dependencies</code> look like in the package.json for SUSHI? Maybe I somehow used a different version or something.</p>",
        "id": 194669072,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1587386695
    },
    {
        "content": "<p>What fsh did you use?</p>",
        "id": 194717202,
        "sender_full_name": "David Hay",
        "timestamp": 1587408497
    },
    {
        "content": "<p>This is the FSH I used:</p>\n<div class=\"codehilite\"><pre><span></span>Profile: AUPrimaryCareAllergyIntolerance\nParent: http://hl7.org.au/fhir/StructureDefinition/au-allergyintolerance\nId: AUPrimaryCareAllergyIntolerance\n* reaction.substance.coding[snomedSubstance] MS\n</pre></div>",
        "id": 194719575,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1587409704
    },
    {
        "content": "<p>Interesting - I still get the error with that FSH. Here's my package.json - any clues?</p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;name&quot;: &quot;au.csiro.fhir.au-primarycare&quot;,\n  &quot;version&quot;: &quot;0.0.3&quot;,\n  &quot;canonical&quot;: &quot;https://aehrc.com/fhir&quot;,\n  &quot;title&quot;: &quot;Primary Care Practice-to-Practice&quot;,\n  &quot;dependencies&quot;: {\n    &quot;hl7.fhir.r4.core&quot;: &quot;4.0.1&quot;,\n    &quot;hl7.fhir.au.base&quot;: &quot;current&quot;\n  },\n  &quot;keywords&quot;: [\n    &quot;Primary Care&quot;,\n    &quot;terminology&quot;,\n    &quot;IG&quot;\n  ],\n  &quot;language&quot;: &quot;en&quot;,\n  &quot;author&quot;: &quot;CSIRO&quot;,\n  &quot;license&quot;: &quot;CC0-1.0&quot;\n}\n</pre></div>",
        "id": 194719945,
        "sender_full_name": "David Hay",
        "timestamp": 1587409895
    },
    {
        "content": "<p>It looks like the <code>current</code> version of the <code>hl7.fhir.au.base</code> package contains an AU Allergy Intolerance profile that does not contain that <code>snomedSubstance</code> slice. If you examine this profile: <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base-stu3/StructureDefinition-au-allergyintolerance.html\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base-stu3/StructureDefinition-au-allergyintolerance.html\">http://build.fhir.org/ig/hl7au/au-fhir-base-stu3/StructureDefinition-au-allergyintolerance.html</a>, you will see that there is no slice. This version: <a href=\"http://hl7.org.au/fhir/StructureDefinition-au-allergyintolerance.html\" title=\"http://hl7.org.au/fhir/StructureDefinition-au-allergyintolerance.html\">http://hl7.org.au/fhir/StructureDefinition-au-allergyintolerance.html</a> does seem have the <code>snomedSubstance</code> slice, and this does look to be the most recent published version. But when you specify the <code>current</code> keyword, SUSHI will retrieve the most recent package by the name <code>hl7.fhir.au.base</code> that is on <a href=\"http://build.fhir.org\" title=\"http://build.fhir.org\">build.fhir.org</a>, which is the package containing the profile given by the first link.</p>",
        "id": 194722146,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1587411190
    },
    {
        "content": "<p>Ah. I was looking at the version that had the slice, and getting confused as sushi wasn't finding it! Will take it up with the authors of au base...  thanks for your help...</p>",
        "id": 194725703,
        "sender_full_name": "David Hay",
        "timestamp": 1587413093
    },
    {
        "content": "<p>Interestingly, had I looked at the version in the cache, I might have worked this out earlier. Hindsight is a wonderful thin, isn't it?</p>",
        "id": 194726458,
        "sender_full_name": "David Hay",
        "timestamp": 1587413497
    }
]