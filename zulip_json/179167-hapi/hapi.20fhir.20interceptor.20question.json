[
    {
        "content": "<p>From an interceptor I am trying to capture HTTP response code.</p>\n<p>Here is my sample code: </p>\n<p>//----------<br>\npublic class MyInterceptor extends InterceptorAdapter{<br>\n@Override<br>\npublic boolean outgoingResponse(RequestDetails theRequestDetails, IBaseResource theResponseObject, HttpServletRequest theServletRequest, HttpServletResponse theServletResponse)<br>\nlogger.info(<strong>theServletResponse.getStatus()</strong>);<br>\n}<br>\n//----------</p>\n<p>but getStatus() always return 200 instead of the actual response code that is sent to the calling client(201, 500 etc.).</p>\n<p>How do I capture the actual HTTP response code using the objects accessible to the interceptor?</p>",
        "id": 174149896,
        "sender_full_name": "Asharaf Kadavath",
        "timestamp": 1566832205
    },
    {
        "content": "<p>You can probably do this with the new interceptor framework.</p>\n<p>Make your class not extend InterceptorAdapter, and annotate your <code>outgoingResponse</code> with <code>@Hook(Pointcut.SERVER_OUTGOING_RESPONSE)</code>.</p>\n<p>You can then add a parameter of type <code>ca.uhn.fhir.rest.api.server.ResponseDetails</code> that should know the response code.</p>",
        "id": 174168091,
        "sender_full_name": "James Agnew",
        "timestamp": 1566846478
    }
]