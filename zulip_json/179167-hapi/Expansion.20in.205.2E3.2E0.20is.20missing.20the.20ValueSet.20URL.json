[
    {
        "content": "<p>We are using VS expansions in hapi like this:<br>\n<code>[serverBase]/ValueSet/$expand?url=http://molit.eu/fhir/ValueSet/uicc-stage</code></p>",
        "id": 231619639,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616586034
    },
    {
        "content": "<p>with hapi 5.2.0 these expansions looked like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;ValueSet&quot;,\n  &quot;status&quot;: &quot;active&quot;,\n  &quot;compose&quot;: {\n    &quot;include&quot;: [ {\n      &quot;valueSet&quot;: [ &quot;http://molit.eu/fhir/ValueSet/uicc-stage&quot; ]\n    } ]\n  },\n  &quot;expansion&quot;: {\n</code></pre></div>",
        "id": 231619858,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616586164
    },
    {
        "content": "<p>hapi 5.2.0 used compose.include.valueSet to transport the VS canonical url (which seemed a little bit funky)</p>",
        "id": 231619938,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616586238
    },
    {
        "content": "<p>now with hapi 5.3.0 this element isnt't populated anymore. I would propose to use ValueSet.url to transport the canonical of the VS which was expanded.</p>",
        "id": 231620042,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616586294
    },
    {
        "content": "<p>Knowing which expansion belongs to which VS is very important in the use-case of doing expansions in transaction bundles.</p>",
        "id": 231620200,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616586387
    },
    {
        "content": "<p><a href=\"https://github.com/hapifhir/hapi-fhir/issues/2502\">https://github.com/hapifhir/hapi-fhir/issues/2502</a></p>",
        "id": 231781612,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616670553
    },
    {
        "content": "<p>just created a PR to address this issue: <a href=\"https://github.com/hapifhir/hapi-fhir/pull/3241\">https://github.com/hapifhir/hapi-fhir/pull/3241</a></p>",
        "id": 264645272,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1639345583
    },
    {
        "content": "<p>could this please be reviewed/approved?</p>",
        "id": 267710958,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1641986415
    },
    {
        "content": "<p>push. Could this be approved please?</p>",
        "id": 268903513,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1642799327
    },
    {
        "content": "<p><code>ValueSet.expansion.parameter</code> would be the normal place to include this information (with <code>name</code> = the ValueSet URI</p>",
        "id": 269080325,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1643017404
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span> i don't think that is correct. Looking at: <a href=\"http://hl7.org/fhir/r4/valueset.html\">http://hl7.org/fhir/r4/valueset.html</a> \"The canonical URL for the expansion is the same as the value set it was expanded from\".<br>\nAnd also have a look at the  example in the spec: <a href=\"http://hl7.org/fhir/r4/valueset-example-expansion.json.html\">http://hl7.org/fhir/r4/valueset-example-expansion.json.html</a></p>",
        "id": 269082211,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1643018433
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> you are correct -- I was confused by the strange approach shown for hapi 5.2.0 (!) :-)</p>",
        "id": 269087010,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1643021206
    }
]