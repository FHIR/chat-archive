[
    {
        "content": "<p>I am trying to get pagination working. Been debugging why it does not operate. Following error is thrown </p>\n<div class=\"codehilite\"><pre><span></span><code>Search ID \\&quot;ad911760-3c5c-46dc-b203-1e3fe7b8656f\\&quot; does not exist and may have expired\n</code></pre></div>\n\n\n<p>... when next url is called:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;Bundle&quot;,\n  &quot;id&quot;: &quot;ad911760-3c5c-46dc-b203-1e3fe7b8656f&quot;,\n  &quot;meta&quot;: {\n    &quot;lastUpdated&quot;: &quot;2020-07-22T13:48:09.285+03:00&quot;\n  },\n  &quot;type&quot;: &quot;searchset&quot;,\n  &quot;total&quot;: 5,\n  &quot;link&quot;: [\n    {\n      &quot;relation&quot;: &quot;self&quot;,\n      &quot;url&quot;: &quot;http://localhost:8080/fhir/Encounter?_count=1&amp;_getpagesoffset=0&quot;\n    },\n    {\n      &quot;relation&quot;: &quot;next&quot;,\n      &quot;url&quot;: &quot;http://localhost:8080/fhir?_getpages=ad911760-3c5c-46dc-b203-1e3fe7b8656f&amp;_getpagesoffset=1&amp;_count=1&amp;_pretty=true&amp;_bundletype=searchset&quot;\n    }\n  ],\n</code></pre></div>\n\n\n<p>Just realised that storeResultList does not presist uuid and for that reason retrieveResultList does return null.</p>\n<div class=\"codehilite\"><pre><span></span><code>public class DatabaseBackedPagingProvider extends BasePagingProvider implements IPagingProvider {\n...\n    @Override\n    public synchronized IBundleProvider retrieveResultList(RequestDetails theRequestDetails, String theId) {\n        IFhirSystemDao&lt;?, ?&gt; systemDao = myDaoRegistry.getSystemDao();\n        PersistedJpaBundleProvider provider = new PersistedJpaBundleProvider(theRequestDetails, theId, systemDao, mySearchBuilderFactory);\n        if (!provider.ensureSearchEntityLoaded()) {\n            return null;\n        }\n        return provider;\n    }\n\n    @Override\n    public synchronized String storeResultList(RequestDetails theRequestDetails, IBundleProvider theList) {\n        String uuid = theList.getUuid();\n        return uuid;\n    }\n</code></pre></div>",
        "id": 204644564,
        "sender_full_name": "Markku Nikkanen",
        "timestamp": 1595409107
    }
]