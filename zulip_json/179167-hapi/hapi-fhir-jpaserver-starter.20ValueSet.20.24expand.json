[
    {
        "content": "<p>Hello!<br>\nI'm using the hapi-fhir-jpaserver-starter (hapiproject/hapi:v5.5.1) server and I have loaded the ICD 10 CM CodeSystem and created a ValueSet that contains the whole system.<br>\nWhen I try to $expand the ValueSet with just the url query param I get back an error saying:</p>\n<div class=\"codehilite\"><pre><span></span><code>Expansion of ValueSet produced too many codes (maximum 1,000) - Operation aborted!\n</code></pre></div>\n<p>When doing the $expand operation with a <code>count=10</code> I get the same error but this time  with the maximum value changed:</p>\n<div class=\"codehilite\"><pre><span></span><code>Expansion of ValueSet produced too many codes (maximum 10) - Operation aborted!\n</code></pre></div>\n<p>Looking at the logs I see that a scheduler thread runs a few minutes afterwards <code>hapi-fhir-jpa-scheduler-clustered-3</code> and starts pre-expanding the ValueSet.<br>\nAfter this the $expand queries work as expected.</p>\n<ul>\n<li>Is there a way to control this process? What is the expected behaviour, how does the scheduler decides what ValueSets to pre-expand?</li>\n<li>Right now I'm just using h2 and lucine, would this change if I use Postgres and Elasticsearch?</li>\n</ul>\n<p>Thanks in advance! :)</p>",
        "id": 259113296,
        "sender_full_name": "Mauricio Burgos Herrera",
        "timestamp": 1635261804
    }
]