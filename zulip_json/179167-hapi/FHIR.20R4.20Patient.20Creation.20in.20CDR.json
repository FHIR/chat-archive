[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  and colleagues, </p>\n<p>I am facing some issue using FHIR Client v5.7.0 for Kotlin with creation of new Patients in CDR R4 org. I am defining additional headers for <strong>Content-Type and Accept as application/fhir+json;fhirVersion=4.0</strong>, but seems FHIR library is also sending these below headers along with that:</p>\n<p>Content-Type: application/fhir+json; charset=UTF-8<br>\nAccept: application/fhir+json;q=1.0, application/json+fhir;q=0.9. </p>\n<p>Can you suggest some method so that I can replace library headers with my custom ones marked in bold text. Thanks! </p>\n<p>cc: <span class=\"user-mention\" data-user-id=\"193915\">@Farrukh Najmi</span></p>",
        "id": 274524926,
        "sender_full_name": "Atul Prakash Singh",
        "timestamp": 1646737232
    },
    {
        "content": "<p>The solution that worked for <span class=\"user-mention\" data-user-id=\"484264\">@Atul Prakash Singh</span> and I was as follows:</p>\n<ol>\n<li>Implement an interceptor class (we called it FHIRVersion4HeaderInterceptor) as an implementation of  IClientInterceptor</li>\n<li>Override the interceptRequest method as follows:<ol>\n<li>Add annotation: @Hook(Pointcut.CLIENT_REQUEST)</li>\n<li>Remove the Accept and Content-Type headers using request.removeHeaders() calls</li>\n<li>Add the replacement Accept and Content-Type headers using request.addHeader() calls</li>\n</ol>\n</li>\n<li>Register the new FHIRVersion4HeaderInterceptor interceptor with the client using IGenericClient.registerInterceptor()</li>\n</ol>",
        "id": 274562555,
        "sender_full_name": "Farrukh Najmi",
        "timestamp": 1646755770
    }
]