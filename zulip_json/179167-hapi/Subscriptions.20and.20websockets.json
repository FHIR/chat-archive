[
    {
        "content": "<p>I am trying to use subscriptions on the public HAPI FHIR R4 server <a href=\"http://hapi.fhir.org/baseR4\">http://hapi.fhir.org/baseR4</a>.<br>\nThe CapabilityStatement says they are supported and the websocket extension gives</p>\n<div class=\"codehilite\"><pre><span></span><code>            &quot;extension&quot;: [\n                {\n                    &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/capabilitystatement-websocket&quot;,\n                    &quot;valueUri&quot;: &quot;/websocketR4&quot;\n                }\n            ]\n</code></pre></div>\n<p>When I create a Subscription it is not rejected but when I try and connect with the websocket I get</p>\n<div class=\"codehilite\"><pre><span></span><code>ws://hapi.fhir.org/baseR4/websocketR4; Code: 1002 Invalid status code received: 404 Status line: HTTP/1.1 404 Not Found\n</code></pre></div>\n<p>and if I try a somewhat different base Url  I get</p>\n<div class=\"codehilite\"><pre><span></span><code>ws://hapi.fhir.org/websocketR4; Code: 1002 Invalid status code received: 404 Status line: HTTP/1.1 404 Not Found\n</code></pre></div>\n<p>What am I doing wrong?</p>\n<p>I have been able to use subscriptions on R4 HAPI FHIR servers (not the public one they were disabled at the time) but at that time there was no websocket extension so you just had to know it. I wanted to take advantage of the new extension and the fact Subscriptions now return a logical id and not just a 'ping'. But I have to connect first!!</p>",
        "id": 235651032,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1619086135
    }
]