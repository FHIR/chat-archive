[
    {
        "content": "<p>We are using HAPI to build a validation module and already use it for validation against profiles. Now we want to extend it to check QuestionnaireReponses against the corresponding Questionnaires. Looking at <a href=\"https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-validation/src/test/java/org/hl7/fhir/r4/validation/QuestionnaireResponseValidatorR4Test.java\">this validation test case</a>, I gather it can be done with a custom validation support. But I wanted to check whether there is a standard/pre-defined way to do this (haven't found one so far), since it would seem to be a relatively common use case. In other words, I am wondering if there is some pre-defined validation support that does this, along the lines of <a href=\"https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-validation/org/hl7/fhir/common/hapi/validation/support/PrePopulatedValidationSupport.html\">PrePopulatedValidationSupport</a> but with an <code>addQuestionnaire</code> method.</p>",
        "id": 217867989,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1606300661
    },
    {
        "content": "<p>well, the validator does it, if you turn the option on, and if the questionnaire is in the context. I don't know what that means in the HAPI context</p>",
        "id": 217879573,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1606308495
    },
    {
        "content": "<p>Update for anyone stumbling over this: We got it working by defining a custom validation support. We modelled it on PrePopulatedValidationSupport, but additionally overrode the <code>fetchResource</code> method to make it return the questionnaires we have stored in the support (default implementation in IValidationSupport interface does not do that).</p>",
        "id": 218822013,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1607082071
    }
]