[
    {
        "content": "<p>As hapi 5.0.0 has some changes in the validation modules i'd like to ask for the best practice of creating a validation chain.</p>\n<ul>\n<li>SnapshotGeneratingValidationSupport know only takes the context, so no more wrapping -  just putting it into the chain would be sufficient. Right?</li>\n<li>'the validator will try each module in the chain until one of them returns a non-null response.' So the order of the Modules is important.<br>\nIn the recipe: <a href=\"https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html#recipe-supplying-custom-definitions\" title=\"https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html#recipe-supplying-custom-definitions\">https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html#recipe-supplying-custom-definitions</a> default support is added before the PrePopulatedValidationSupport. To me this would mean that all validations are done by the DefaultProfileValidationSupport, as it supports all FHIR resource types, and PrePopulatedValidationSupport will never be called.</li>\n</ul>",
        "id": 195339520,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1587915384
    },
    {
        "content": "<p>What is the proper order if i want to combine:</p>\n<ul>\n<li>DefaultProfileValidationSupport</li>\n<li>PrePopulatedValidationSupport</li>\n<li>InMemoryTerminologyServerValidationSupport &lt;- needed because DefaultProfileValidationSupport doesn't validate Terminology an more</li>\n<li>SnapshotGeneratingValidationSupport</li>\n<li>CommonCodeSystemsTerminologyService</li>\n</ul>\n<p>I then would wrap this whole chain in a CachingValidationSupport.<br>\nUntil now i was under the assumption that each validator is called after another and  is independent from the others. But seeing InMemoryTerminologyServerValidationSupport separated from DefaultProfileValidationSupport leads me to the idea that all modules are sharing all Conformance Resources?</p>",
        "id": 195339709,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1587915742
    },
    {
        "content": "<p><em>push</em></p>",
        "id": 196313780,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1588688333
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span></p>",
        "id": 196359468,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588708894
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> can we have a quick call either tomorrow or Friday just so I can clarify this with you?</p>",
        "id": 196636986,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1588773002
    },
    {
        "content": "<p>Sure. Friday after 12:00 CET works best for me.</p>",
        "id": 196637306,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1588773131
    },
    {
        "content": "<p>What email can I send the invite to?</p>",
        "id": 196637947,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1588773390
    },
    {
        "content": "<p><a href=\"mailto:pw@molit.eu\" title=\"mailto:pw@molit.eu\">pw@molit.eu</a></p>",
        "id": 196638390,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1588773564
    },
    {
        "content": "<p>thank you!</p>",
        "id": 196638397,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1588773569
    },
    {
        "content": "<p>Sent.</p>",
        "id": 196638667,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1588773671
    },
    {
        "content": "<p>Could you perchance capture a summery if your discussion somewhere? - I would be interested <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 196685592,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1588793721
    },
    {
        "content": "<p>I'm gonna take a crack at these...</p>\n<blockquote>\n<p>SnapshotGeneratingValidationSupport know only takes the context, so no more wrapping - just putting it into the chain would be sufficient. Right? 'the validator will try each module in the chain until one of them returns a non-null response.' So the order of the Modules is important.</p>\n</blockquote>\n<p>Correct. SnapshotGen gets a back-reference to the whole chain when it's called, so it can look for any other resources it needs. It will use the whole chain to find anything.</p>\n<blockquote>\n<p>In the recipe: <a href=\"https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html#recipe-supplying-custom-definitions\" title=\"https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html#recipe-supplying-custom-definitions\">https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html#recipe-supplying-custom-definitions</a> default support is added before the PrePopulatedValidationSupport. To me this would mean that all validations are done by the DefaultProfileValidationSupport, as it supports all FHIR resource types, and PrePopulatedValidationSupport will never be called.</p>\n</blockquote>\n<p>DefaultProfileValidationSupport gets tried first as you suggest, but it can only supply the base definitions so I wouldn't expect that to be a bad thing. I would expect people to use PrePopulatedValidationSupport to supply profiles and definitions that build on the base definitions, as opposed to replacing them.</p>",
        "id": 196836985,
        "sender_full_name": "James Agnew",
        "timestamp": 1588889558
    },
    {
        "content": "<p>(Sorry, not trying to override your call, just getting some info down)</p>",
        "id": 196837013,
        "sender_full_name": "James Agnew",
        "timestamp": 1588889583
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"194703\">Morten Ernebjerg</span> <a href=\"#narrow/stream/179167-hapi/topic/best.20practice.20for.20validation.20chain/near/196685592\" title=\"#narrow/stream/179167-hapi/topic/best.20practice.20for.20validation.20chain/near/196685592\">said</a>:</p>\n<blockquote>\n<p>Could you perchance capture a summery if your discussion somewhere? - I would be interested <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>\n</blockquote>\n<p>sure! Will try to extend/improve the documentation about it.</p>",
        "id": 196866396,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1588923811
    }
]