[
    {
        "content": "<p>Hi everybody, I am working on a Java class to model a profiled resource of the GA4GH Phenopacket (<a href=\"http://phenopackets.org/core-ig/StructureDefinition-phenopackets-variant.html\">http://phenopackets.org/core-ig/StructureDefinition-phenopackets-variant.html</a>). The resource extends Observation and makes use of the components list. I would like to know how to model each of these components in a Java HAPI FHIR class. Is there a good example?</p>\n<p>Here is the signature of the class</p>\n<p>@ResourceDef(<br>\n        profile=\"<a href=\"https://github.com/phenopackets/core-ig/StructureDefinition/PhenopacketsVariant\">https://github.com/phenopackets/core-ig/StructureDefinition/PhenopacketsVariant</a>\")<br>\npublic class PhenopacketsVariant extends Observation <br>\n// ???<br>\n}</p>\n<p>Here is the corresponding FSH code:</p>\n<p>Profile: PhenopacketsVariant<br>\nParent: <a href=\"http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/variant\">http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/variant</a> // Genomics Reporting Variant profile<br>\nId: phenopackets-variant<br>\nTitle: \"Phenopackets Variant\"<br>\nDescription: \"A profile of Genomics Reporting Variant profile that represents relevant phenopackets building blocks.\"</p>\n<ul>\n<li>^status = #draft // This would be changed later to active</li>\n<li>^version = \"0.1.0\"</li>\n<li>^date = \"2021-10-18T06:00:00-04:00\"</li>\n<li>^publisher = \"GA4GH Phenopacket Working Group\"</li>\n<li>\n<p>^contact.name = \"Aly Khalifa\"<br>\n//* ^short = \"A phenopackets profile of the genomics reporting Variant profile. It represents<br>\n            //phenopackets GeneDescriptor, VariationDescriptor, VcfRecord, and VariantInterpretation building blocks.\"<br>\n//This is a placeholder for all Must-support elements (MS). Based on a team discussion, all elements should be MS.</p>\n</li>\n<li>\n<p>component[gene-studied] and <br>\ncomponent[ref-sequence-assembly] and <br>\ncomponent[cytogenetic-location] and</p>\n</li>\n</ul>",
        "id": 276655039,
        "sender_full_name": "Peter Robinson",
        "timestamp": 1648230173
    },
    {
        "content": "<p>I think I figured this out. It needs to be like this</p>\n<p>/**</p>\n<div class=\"codehilite\"><pre><span></span><code> * We want have something like this:\n * Note that 48001-2  Cytogenetic (chromosome) location\n *  &lt;component&gt;\n *     &lt;code&gt;\n *       &lt;coding&gt;\n *         &lt;system value=&quot;http://loinc.org&quot;/&gt;\n *         &lt;code value=&quot;48001-2&quot;/&gt;\n *       &lt;/coding&gt;\n *     &lt;/code&gt;\n *     &lt;valueCodeableConcept&gt;\n *       &lt;coding&gt;\n *         &lt;system value=&quot;http://loinc.org&quot;/&gt;\n *         &lt;code value=&quot;LA21263-1&quot;/&gt;\n *         &lt;display value=&quot;10&quot;/&gt;\n *       &lt;/coding&gt;\n *     &lt;/valueCodeableConcept&gt;\n *   &lt;/component&gt;\n * @param loincCode the LOINC code to represent a chromosome, e.g., &quot;LA21263-1&quot; for chromosome 10\n * @param display The display value, e.g., &quot;10&quot; for chromosome 10\n */\npublic void setCytogeneticLocation(String loincCode, String display) {\n    Coding loincCytogeneticCoding = new Coding();\n    loincCytogeneticCoding.setSystem(LOINC_SYSTEM)\n            .setCode(LOINC_CYTOGENETIC_CHROMOSOME_LOCATION_ID)\n            .setDisplay(LOINC_CYTOGENETIC_CHROMOSOME_LOCATION_DISPLAY);\n    CodeableConcept cytogeneticCodeableConcept = new CodeableConcept().addCoding(loincCytogeneticCoding);\n    Coding chromosomeCoding = new Coding();\n    chromosomeCoding.setSystem(LOINC_SYSTEM)\n            .setCode(loincCode)\n            .setDisplay(display);\n    CodeableConcept cc = new CodeableConcept();\n    cc.addCoding(chromosomeCoding);\n    ObservationComponentComponent occ = new ObservationComponentComponent();\n    occ.setCode(cytogeneticCodeableConcept);\n    occ.setValue(chromosomeCoding);\n    this.addComponent(occ);\n}\n</code></pre></div>",
        "id": 276731551,
        "sender_full_name": "Peter Robinson",
        "timestamp": 1648309132
    }
]