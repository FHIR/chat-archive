[
    {
        "content": "<p>Hi all, I'm currently trying to create a profile which contains zero or more complex types (each element has a name, a date, and a boolean).  How do I model this?</p>\n<p>I think I'm supposed to create an extension to represent the complex type, then have a reference to that from the profile, however I cannot find an example of this; the only examples are profiles which have an element linking to any extension (which I don't want, I need to limit it to my type).  The only other thing I can find similar to this is the backbone element.  All profiles I've seen on simplifier use backbone elements, but I'm not sure if these are something that I actually define myself.</p>\n<p>Could someone point me in the right direction as to how I'm supposed to model this?</p>",
        "id": 153892672,
        "sender_full_name": "Andrew Broadbent",
        "timestamp": 1496847031
    },
    {
        "content": "<p>could you be more specific...\"I'm currently trying to create a profile which contains zero or more complex types\"   complex types of what?  extensions?  <a href=\"http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-template-basic.html#profile\" target=\"_blank\" title=\"http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-template-basic.html#profile\">here is an example of this</a> </p>",
        "id": 153892699,
        "sender_full_name": "Eric Haas",
        "timestamp": 1496862306
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> Ok to be more specific; I'm writing a system which turns tabular data into fhir profiles.  To do this, users create a sort of proto resource, which is essentially a resource, but it can also link to column data in a table.  I have a program which evaluates this resources for every row, and fills in the blanks from the rows.  So for example I could have a table of patients, I create a proto resource which sets all the constant information, like what hospital they belong to, etc, and then I supply the variable data from a table.</p>\n<p>To cut a long story short, I'm trying to keep as much of the metadata about this process in fhir as well, the reason for doing this is that we also have an indexing system, and users will want to view groups of resources based on which proto resource created them.  I'm trying to create a profile which represents the class of proto resource, and the list of complex types I want contains information about how to map from a table to a resource.  It would contain something like that column name, the xpath into the target resource, and a few other conversion factors.</p>\n<p>The problem I'm having is; I could create a profile which says it has to have a list of extensions, what I can't find is an example of a profile which says it must have a list of specific extensions.  For example, I would create an extension for my complex type (lets call it MappingInfo), I wouldn't want users to assign any old extension to that field.</p>\n<p>The way this works with resource types (as far as I can tell), is they have a backbone element which contains the items my extension would.</p>",
        "id": 153893094,
        "sender_full_name": "Andrew Broadbent",
        "timestamp": 1497001247
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> - this is a pattern we've discussed before - can you quickly describe your current take on this?</p>",
        "id": 153893155,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497043146
    },
    {
        "content": "<p>Yeah, we did this with the CQF resources as a profile on basic, but I'm not sure I understand what the problem is? Specifically, I don't understand this: \"I wouldn't want users to assign any old extension to that field\", why does it matter?</p>",
        "id": 153893157,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1497044656
    },
    {
        "content": "<p>note: I don't do this with a resource. I do this with some scripting language. Here's 2 examples:</p>",
        "id": 153893158,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497044726
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Bundle xmlns=&quot;http://hl7.org/fhir&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://hl7.org/fhir ../../schema/bundle.xsd&quot;&gt;\n  &lt;id value=&quot;b0a5e4277-83c4-4adb-87e2-e3efe3369b6f&quot;/&gt;\n  &lt;meta&gt;\n    &lt;lastUpdated value=&quot;2012-05-29T23:45:32Z&quot;/&gt; \n  &lt;/meta&gt; \n  &lt;type value=&quot;collection&quot;/&gt; [%loop count=70%]\n  &lt;entry&gt;\n    &lt;fullUrl value=&quot;http://hl7.org/fhir/Patient/[%count%]&quot;/&gt;\n    &lt;resource&gt;\n      &lt;Patient&gt;\n        &lt;id value=&quot;[%count%]&quot;/&gt;\n        &lt;meta&gt;\n          &lt;lastUpdated value=&quot;2012-06-03T23:45:32Z&quot;/&gt;\n        &lt;/meta&gt;\n        &lt;text&gt;\n          &lt;status value=&quot;generated&quot;/&gt;\n          &lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;[%last name%], [%first name%]. MRN:\n          [%patient_id%]&lt;/div&gt;\n        &lt;/text&gt;\n        &lt;identifier&gt;\n          &lt;type&gt;\n            &lt;coding&gt;\n              &lt;system value=&quot;http://hl7.org/fhir/v2/0203&quot;/&gt;\n              &lt;code value=&quot;SS&quot;/&gt;\n            &lt;/coding&gt;\n          &lt;/type&gt;\n          &lt;system value=&quot;https://github.com/projectcypress/cypress/patient&quot;/&gt;\n          &lt;value value=&quot;[%patient_id%]&quot;/&gt;\n        &lt;/identifier&gt;\n        &lt;active value=&quot;true&quot;/&gt;\n        &lt;name&gt;\n          &lt;use value=&quot;official&quot;/&gt;\n          &lt;family value=&quot;[%last name%]&quot;/&gt;\n          &lt;given value=&quot;[%first name%]&quot;/&gt;\n        &lt;/name&gt;\n        &lt;gender value=&quot;[%gender%]&quot; /&gt;\n        &lt;birthDate value=&quot;[%birthdate%]&quot;/&gt;\n        &lt;managingOrganization&gt;\n          &lt;reference value=&quot;Organization/[%organization%]&quot;/&gt;\n        &lt;/managingOrganization&gt;\n      &lt;/Patient&gt;\n    &lt;/resource&gt;\n  &lt;/entry&gt; [%endloop%] \n&lt;/Bundle&gt;\n</pre></div>",
        "id": 153893159,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497044777
    },
    {
        "content": "<p>and</p>",
        "id": 153893160,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497044783
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>{\n  &quot;resourceType&quot; : &quot;PractitionerRole&quot;,\n  &quot;identifier&quot; : [\n    {\n      &quot;system&quot; : &quot;xx&quot;,\n      &quot;value&quot; : &quot;{provider no}&quot;\n    }\n  ],\n  &quot;active&quot; : {current},\n  &quot;specialty&quot; : [\n    {\n      &quot;text&quot; : &quot;{speciality}&quot;\n    }\n  ],\n  &quot;telecom&quot; : [\n    {\n      &quot;system&quot; : &quot;phone&quot;,\n      &quot;value&quot; : &quot;{Phone}&quot;,\n      &quot;use&quot; : &quot;work&quot;\n    },\n    {\n      &quot;system&quot; : &quot;fax&quot;,\n      &quot;value&quot; : &quot;{Fax}&quot;,\n      &quot;use&quot; : &quot;work&quot;\n    },\n    {\n      &quot;system&quot; : &quot;phone&quot;,\n      &quot;value&quot; : &quot;{Mobile}&quot;,\n      &quot;use&quot; : &quot;mobile&quot;\n    },\n    {\n      &quot;system&quot; : &quot;email&quot;,\n      &quot;value&quot; : &quot;{Email}&quot;,\n      &quot;use&quot; : &quot;work&quot;\n    }\n  ]\n}\n</pre></div>",
        "id": 153893161,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497044973
    },
    {
        "content": "<p>I'm curious - What happens if the field is blank? </p>",
        "id": 153893180,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497060031
    },
    {
        "content": "<p>can't be in those cases. </p>",
        "id": 153893183,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497060096
    }
]