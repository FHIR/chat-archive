[
    {
        "content": "<p>Thought this might be of interest to HAPI FHIR users. I'm working on an interceptor that will auto-generate OpenAPI documentation based on the server's capabilities.</p>\n<p>Would love to hear any feedback you might have: <a href=\"http://hapi.fhir.org/baseR4/swagger-ui/\">http://hapi.fhir.org/baseR4/swagger-ui/</a></p>",
        "id": 235015426,
        "sender_full_name": "James Agnew",
        "timestamp": 1618691652
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/qmknBQzrGHnPKFlqwXGaBR0p/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/qmknBQzrGHnPKFlqwXGaBR0p/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/qmknBQzrGHnPKFlqwXGaBR0p/image.png\"></a></div>",
        "id": 235017027,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1618693188
    },
    {
        "content": "<p>neat ... just don't push the buttons ;)</p>",
        "id": 235017085,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1618693205
    },
    {
        "content": "<p>eventually it went through ;)</p>",
        "id": 235017318,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1618693261
    },
    {
        "content": "<p>Heh yeah, a full FHIR server definitely has enough different operations that it basically kills Swagger-UI. I'm trying to figure out how to segment it..</p>",
        "id": 235069983,
        "sender_full_name": "James Agnew",
        "timestamp": 1618750182
    },
    {
        "content": "<p>Ok, I've set it up to segment by resource type in Swagger UI. That makes it way more usable.</p>",
        "id": 235090216,
        "sender_full_name": "James Agnew",
        "timestamp": 1618770086
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> has done lots of work on swagger variants</p>",
        "id": 235109477,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1618787777
    },
    {
        "content": "<p>Hello everyone!<br>\nI'm using <code>hapi-fhir-server-openapi:5.4.0</code>.<br>\nI'm trying to configure OpenApiInterceptor.<br>\nIt works fine. Nevertheless, it only works when I add <code>StructureDefinition</code> into <code>suported_resource_types</code>.<br>\nMy configuration is:</p>\n<div class=\"codehilite\"><pre><span></span><code> supported_resource_types:\n    - Patient\n    - Organization\n    - Practitioner\n    - Coverage\n    - StructureDefinition\n</code></pre></div>\n<p>When I remove <code>StructureDefinition</code>,  I'm getting this message on logs:</p>\n<div class=\"codehilite\"><pre><span></span><code>ExceptionHandlingInterceptor : Failure during REST processing: ca.uhn.fhir.rest.server.exceptions.InvalidRequestException: Unable to process request, this server does not know how to handle resources of type StructureDefinition - Can handle: [Coverage, Organization, Patient, Practitioner, SearchParameter]\n</code></pre></div>\n<p>Why do I need to add <code>StructureDefinition</code> in order to openapi works?</p>",
        "id": 240828735,
        "sender_full_name": "Jordi Cabré",
        "timestamp": 1622464875
    },
    {
        "content": "<p>pinging <span class=\"user-mention\" data-user-id=\"367071\">@Brecht Van Vooren</span> for this OpenAPI interceptor</p>",
        "id": 241178161,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1622653274
    },
    {
        "content": "<p>Is there any way to get graphql schema?</p>",
        "id": 242743451,
        "sender_full_name": "Jordi Cabré",
        "timestamp": 1623768336
    },
    {
        "content": "<p>Hi, does HAPI FHIR Swagger support protected APIs?</p>",
        "id": 244705339,
        "sender_full_name": "Sarah G",
        "timestamp": 1625234124
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"339971\">@Sarah Ghoddousifard</span> </p>\n<p>Even I am looking for direction on how to support HAPI FHIR swagger for protected APIs, which have Auth interceptors defined. Please let us know if you have made any progress on that.</p>",
        "id": 249668799,
        "sender_full_name": "NARASIMHA MURTHY",
        "timestamp": 1629163780
    },
    {
        "content": "<p>Couldn't customize OpenApiInterceptor ?<br>\nI want to add a common authentication header to swagger.</p>\n<p>Also, could you find out why the scheme-container is hidden in index.css of fhir-openapi?<br>\nBecause of this, I can't put the auth header in swagger-ui.</p>",
        "id": 249818334,
        "sender_full_name": "Dajung Mun",
        "timestamp": 1629273367
    },
    {
        "content": "<p>Hello guys,<br>\nI'm using OpenApi/swagger but I get error when I got to <code>/swagger-ui/</code> :</p>\n<ul>\n<li>Here is my OpenAPI dependency :</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><code>&lt;dependency&gt;\n            &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n            &lt;artifactId&gt;hapi-fhir-server-openapi&lt;/artifactId&gt;\n            &lt;version&gt;${openapi-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre></div>\n<ul>\n<li>\n<p>I'm using hapi 5.5.1</p>\n</li>\n<li>\n<p>here is my code :</p>\n</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><code>@WebServlet(urlPatterns = {&quot;/swagger/*&quot;}, displayName = &quot;FHIR Server&quot;)\npublic class OpenApi extends RestfulServer {\n\n    protected final WebApplicationContext myAppCtx;\n\n    public OpenApi(WebApplicationContext myAppCtx) {\n        this.myAppCtx = myAppCtx;\n    }\n\n    @Override\n    protected void initialize() throws ServletException {\n\n        // ... define your resource providers here ...\n        List&lt;IResourceProvider&gt; providers = new ArrayList&lt;IResourceProvider&gt;();\n        providers.add(myAppCtx.getBean(CompositionProvider.class));\n        setResourceProviders(providers);\n        // Now register the interceptor\n        OpenApiInterceptor openApiInterceptor = new OpenApiInterceptor();\n        registerInterceptor(openApiInterceptor);\n\n    }\n}\n</code></pre></div>\n<ul>\n<li>here is the error I get :</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><code>16-09-2021 15:25:54.674 [http-nio-47802-exec-3] ERROR c.u.f.r.s.i.ExceptionHandlingInterceptor - Failure during REST processing: java.lang.NullPointerException\njava.lang.NullPointerException: null\n    at ca.uhn.fhir.context.FhirVersionEnum.forVersionString(FhirVersionEnum.java:240)\n    at ca.uhn.fhir.rest.openapi.OpenApiInterceptor.serveSwaggerUiHtml(OpenApiInterceptor.java:287)\n    at ca.uhn.fhir.rest.openapi.OpenApiInterceptor.handleResourceRequest(OpenApiInterceptor.java:226)\n    at ca.uhn.fhir.rest.openapi.OpenApiInterceptor.serveSwaggerUi(OpenApiInterceptor.java:206)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at ca.uhn.fhir.interceptor.executor.BaseInterceptorService$HookInvoker.invoke(BaseInterceptorService.java:563)\n    at ca.uhn.fhir.interceptor.executor.BaseInterceptorService.doCallHooks(BaseInterceptorService.java:300)\n    at ca.uhn.fhir.interceptor.executor.BaseInterceptorService.callHooks(BaseInterceptorService.java:289)\n    at ca.uhn.fhir.rest.server.RestfulServer.handleRequest(RestfulServer.java:1120)\n    at ca.uhn.fhir.rest.server.RestfulServer.doGet(RestfulServer.java:413)\n    at ca.uhn.fhir.rest.server.RestfulServer.service(RestfulServer.java:1855)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:836)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1747)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre></div>\n<p>Can you tell me how to fix it please ?<br>\nThank you</p>",
        "id": 253581962,
        "sender_full_name": "Mourad",
        "timestamp": 1631799176
    },
    {
        "content": "<p>I am trying to access: <a href=\"http://hapi.fhir.org/baseR4/swagger-ui/\">http://hapi.fhir.org/baseR4/swagger-ui/</a>. this results in a timeout.  Is this temporary?  We are very interested in a swagger/openAPI representation of the FHIR restfull interface. Thanks in advance.</p>",
        "id": 259091087,
        "sender_full_name": "Hans van Amstel",
        "timestamp": 1635252809
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"218569\">Hans van Amstel</span> has marked this topic as resolved.</p>",
        "id": 259091201,
        "sender_full_name": "Notification Bot",
        "timestamp": 1635252857
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"218569\">Hans van Amstel</span> has marked this topic as unresolved.</p>",
        "id": 259091290,
        "sender_full_name": "Notification Bot",
        "timestamp": 1635252911
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179167-hapi/topic/OpenAPI.2FSwagger.20Support.20is.20Coming/near/241178161\">said</a>:</p>\n<blockquote>\n<p>pinging <span class=\"user-mention silent\" data-user-id=\"367071\">Brecht Van Vooren</span> for this OpenAPI interceptor</p>\n</blockquote>\n<p>It's here: <a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/287\">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/287</a> (among other things)</p>",
        "id": 260418438,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1636125226
    },
    {
        "content": "<p>to be specific: <a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/287/files#diff-b4c0421bcb3280a8e738550c830dba197057c515bcdd9579a52cbfe9adca2061R52\">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/287/files#diff-b4c0421bcb3280a8e738550c830dba197057c515bcdd9579a52cbfe9adca2061R52</a></p>",
        "id": 260418670,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1636125328
    },
    {
        "content": "<p>Its added now in <a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter/commit/ea3f10ec86774abfaedf220f46a7b515f9751d26\">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/commit/ea3f10ec86774abfaedf220f46a7b515f9751d26</a></p>",
        "id": 261046569,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1636574553
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span></p>",
        "id": 261046587,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1636574560
    }
]