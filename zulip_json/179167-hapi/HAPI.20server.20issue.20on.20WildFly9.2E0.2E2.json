[
    {
        "content": "<p>My WAR is throwing below exception on WILDfly 9.0.2 but same WAR works on Tomcat 9.:<br>\nI built a sinmple FHIR server using FHIR docs provided at : <a href=\"https://hapifhir.io/hapi-fhir/docs/server_plain/introduction.html\">https://hapifhir.io/hapi-fhir/docs/server_plain/introduction.html</a><br>\nIt works well on TOMCAT but throw below exception on WildFly9.02.<br>\n**I am using HAPI FHIR version :5.1.0 with Spring 4.2.3.RELEASE and JDK 1.8 on <br>\nEclipse IDE for Enterprise Java Developers.Version: 2020-03 (4.15.0)**</p>\n<div class=\"codehilite\"><pre><span></span><code>22:06:35,726 ERROR [ca.uhn.fhir.rest.server.interceptor.ExceptionHandlingInterceptor] (default task-26) Failure during REST processing: java.lang.NoClassDefFoundError: Could not initialize class ca.uhn.fhir.parser.json.jackson.JacksonStructure: java.lang.NoClassDefFoundError: Could not initialize class ca.uhn.fhir.parser.json.jackson.JacksonStructure\nat ca.uhn.fhir.parser.JsonParser.createJsonWriter(JsonParser.java:170)\nat ca.uhn.fhir.parser.JsonParser.doEncodeResourceToWriter(JsonParser.java:187)\nat ca.uhn.fhir.parser.BaseParser.encodeResourceToWriter(BaseParser.java:451)\nat ca.uhn.fhir.parser.BaseParser.encodeResourceToWriter(BaseParser.java:435)\nat ca.uhn.fhir.rest.server.RestfulServerUtils.streamResponseAsResource(RestfulServerUtils.java:926)\nat ca.uhn.fhir.rest.server.RestfulResponse.streamResponseAsResource(RestfulResponse.java:87)\nat ca.uhn.fhir.rest.server.method.BaseResourceReturningMethodBinding.invokeServer(BaseResourceReturningMethodBinding.java:401)\nat ca.uhn.fhir.rest.server.RestfulServer.handleRequest(RestfulServer.java:1025)\nat ca.uhn.fhir.rest.server.RestfulServer.doGet(RestfulServer.java:364)\nat ca.uhn.fhir.rest.server.RestfulServer.service(RestfulServer.java:1716)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\nat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:72)\nat io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\nat io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:282)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:261)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:172)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n\n22:06:35,728 ERROR [io.undertow.request] (default task-26) UT005023: Exception handling request to /ptf-fhir/Patient: java.lang.IllegalStateException: UT010006: Cannot call getWriter(), getOutputStream() already called\nat io.undertow.servlet.spec.HttpServletResponseImpl.getWriter(HttpServletResponseImpl.java:344)\nat ca.uhn.fhir.rest.server.servlet.ServletRestfulResponse.getResponseWriter(ServletRestfulResponse.java:76)\nat ca.uhn.fhir.rest.server.RestfulServerUtils.streamResponseAsResource(RestfulServerUtils.java:897)\nat ca.uhn.fhir.rest.server.RestfulResponse.streamResponseAsResource(RestfulResponse.java:87)\nat ca.uhn.fhir.rest.server.interceptor.ExceptionHandlingInterceptor.handleException(ExceptionHandlingInterceptor.java:103)\nat ca.uhn.fhir.rest.server.interceptor.ExceptionHandlingInterceptor.handleException(ExceptionHandlingInterceptor.java:63)\nat ca.uhn.fhir.rest.server.RestfulServer.handleRequest(RestfulServer.java:1114)\nat ca.uhn.fhir.rest.server.RestfulServer.doGet(RestfulServer.java:364)\nat ca.uhn.fhir.rest.server.RestfulServer.service(RestfulServer.java:1716)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\nat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:72)\nat io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\nat io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:282)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:261)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:172)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre></div>",
        "id": 213507178,
        "sender_full_name": "usman",
        "timestamp": 1602810508
    },
    {
        "content": "<p>looks like your class path does not contain the jackson dependency</p>",
        "id": 213592711,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1602870732
    }
]