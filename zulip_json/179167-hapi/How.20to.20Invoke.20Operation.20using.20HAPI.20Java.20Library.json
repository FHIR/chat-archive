[
    {
        "content": "<p>Hello,<br>\nWe're trying to use the Java HAPI FHIR Library for one of our projects and we're having some questions on how to create a request to an endpoint with an operation.<br>\nThe library we're using is hapi-fhir-base-4.2.0, and the IGenericClient.java class we're using is at package ca.uhn.fhir.rest.client.api<br>\nThe docs for using operations on this library is at: <a href=\"https://hapifhir.io/hapi-fhir/docs/client/generic_client.html#extended-operations\">https://hapifhir.io/hapi-fhir/docs/client/generic_client.html#extended-operations</a>, but there are no examples of using this against a type instead of an instance<br>\nHere is the code we have that's generating a 400 code<br>\n<a href=\"/user_uploads/10155/rpKMHDVGLgacgTCCsV34DZl8/Screen-Shot-2022-01-06-at-10.43.41-AM.png\">Screen-Shot-2022-01-06-at-10.43.41-AM.png</a> <br>\n<a href=\"/user_uploads/10155/QE2GUvT6-RUU1oJg3lH4pkSG/Screen-Shot-2022-01-11-at-11.02.26-AM.png\">Screen-Shot-2022-01-11-at-11.02.26-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/rpKMHDVGLgacgTCCsV34DZl8/Screen-Shot-2022-01-06-at-10.43.41-AM.png\" title=\"Screen-Shot-2022-01-06-at-10.43.41-AM.png\"><img src=\"/user_uploads/10155/rpKMHDVGLgacgTCCsV34DZl8/Screen-Shot-2022-01-06-at-10.43.41-AM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/QE2GUvT6-RUU1oJg3lH4pkSG/Screen-Shot-2022-01-11-at-11.02.26-AM.png\" title=\"Screen-Shot-2022-01-11-at-11.02.26-AM.png\"><img src=\"/user_uploads/10155/QE2GUvT6-RUU1oJg3lH4pkSG/Screen-Shot-2022-01-11-at-11.02.26-AM.png\"></a></div>",
        "id": 267602903,
        "sender_full_name": "Jake Zhou",
        "timestamp": 1641916978
    },
    {
        "content": "<p>We're using this code for the Patient Request for Correction track with <span class=\"user-mention\" data-user-id=\"191531\">@Virginia Lorenzi</span> and <span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span></p>",
        "id": 267602994,
        "sender_full_name": "Jake Zhou",
        "timestamp": 1641917013
    },
    {
        "content": "<p>Here is the latest code we have trying to send the request to the testing server:</p>\n<div class=\"codehilite\"><pre><span></span><code>        var inParams = new Parameters();\n        inParams.addParameter()\n                .setName(&quot;CorrectionRequest&quot;)\n                .setResource(bundle);\n</code></pre></div>\n\n<p>var remoteClient = FhirR4Config.getFhirContext().newRestfulGenericClient(endpoint.getAddress());<br>\n            var result = remoteClient<br>\n                    .operation()<br>\n                    .onType(Communication.class)<br>\n                    .named(\"$correctionrequest\")<br>\n                    .withParameters(inParams)<br>\n                    .execute();</p>",
        "id": 267607443,
        "sender_full_name": "Jake Zhou",
        "timestamp": 1641918702
    },
    {
        "content": "<p>We were able to resolve the issue. I've attached the final code below. We discovered some detail about processing the Parameter on the server side</p>\n<p>var inParams = new Parameters();<br>\n            inParams.addParameter()<br>\n                    .setName(\"CorrectionRequest\")<br>\n                    .setResource(bundle);</p>\n<div class=\"codehilite\"><pre><span></span><code>        var remoteClient = FhirR4Config.getFhirContext().newRestfulGenericClient(endpoint.getAddress());\n        var result = remoteClient\n                .operation()\n                .onType(Communication.class)\n                .named(&quot;$correctionrequest&quot;)\n                .withParameters(inParams)\n                .execute();\n</code></pre></div>",
        "id": 267640014,
        "sender_full_name": "Jake Zhou",
        "timestamp": 1641932695
    }
]