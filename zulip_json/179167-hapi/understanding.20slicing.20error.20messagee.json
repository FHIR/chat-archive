[
    {
        "content": "<p>Hi all - I've uploaded a set of profiles to the global HAPI FHIR server on <a href=\"http://hapi.fhir.org/baseDstu3\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3\">http://hapi.fhir.org/baseDstu3</a> and I've been trying to come up with a (sort of) sane example <a href=\"/user_uploads/10155/0LTAw4fIkTt6CPzpnP7FxbXN/request.xml\" target=\"_blank\" title=\"request.xml\">request.xml</a>. The attached resource gives an example, yet it fails miserably when I try to validate it: <a href=\"http://hapi.fhir.org/baseDstu3/Patient/$validate?_format=xml&amp;_pretty=true\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/Patient/$validate?_format=xml&amp;_pretty=true\">http://hapi.fhir.org/baseDstu3/Patient/$validate?_format=xml&amp;_pretty=true</a></p>\n<ul>\n<li>as in:</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>...\n &lt;issue&gt;\n        &lt;severity value=&quot;information&quot;/&gt;\n        &lt;code value=&quot;processing&quot;/&gt;\n        &lt;diagnostics value=&quot;Profile http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-patient--42, Element &#39;Patient.address[officialHomeAddress]&#39;&#39;: Unable to check minimum required (1) due to lack of slicing validation&quot;/&gt;\n        &lt;location value=&quot;Patient&quot;/&gt;\n    &lt;/issue&gt;\n    &lt;issue&gt;\n        &lt;severity value=&quot;warning&quot;/&gt;\n        &lt;code value=&quot;processing&quot;/&gt;\n        &lt;diagnostics value=&quot;ValueSet http://ehealth.sundhed.dk/vs/municipality-codes not found&quot;/&gt;\n        &lt;location value=&quot;Patient.address[1].extension[1].valueCoding.code&quot;/&gt;\n    &lt;/issue&gt;\n    &lt;issue&gt;\n        &lt;severity value=&quot;error&quot;/&gt;\n        &lt;code value=&quot;processing&quot;/&gt;\n        &lt;diagnostics value=&quot;The Extension &#39;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-regional-subdivision-code&#39; definition allows for the types [CodeableConcept] but found type Coding&quot;/&gt;\n        &lt;location value=&quot;Patient.address[1].extension[2][url=&#39;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-regional-subdivision-code&#39;]&quot;/&gt;\n    &lt;/issue&gt;\n    &lt;issue&gt;\n        &lt;severity value=&quot;information&quot;/&gt;\n        &lt;code value=&quot;processing&quot;/&gt;\n        &lt;diagnostics value=&quot;Could not verify slice for profile http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-regional-subdivision-code&quot;/&gt;\n        &lt;location value=&quot;Patient.address[1].extension[2].valueCoding&quot;/&gt;\n    &lt;/issue&gt;\n    &lt;issue&gt;\n        &lt;severity value=&quot;warning&quot;/&gt;\n        &lt;code value=&quot;processing&quot;/&gt;\n        &lt;diagnostics value=&quot;ValueSet http://ehealth.sundhed.dk/vs/municipality-codes not found&quot;/&gt;\n        &lt;location value=&quot;Patient.address[2].extension[1].valueCoding.code&quot;/&gt;\n    &lt;/issue&gt;\n    &lt;issue&gt;\n        &lt;severity value=&quot;error&quot;/&gt;\n        &lt;code value=&quot;processing&quot;/&gt;\n        &lt;diagnostics value=&quot;The Extension &#39;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-regional-subdivision-code&#39; definition allows for the types [CodeableConcept] but found type Coding&quot;/&gt;\n        &lt;location value=&quot;Patient.address[2].extension[2][url=&#39;http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-regional-subdivision-code&#39;]&quot;/&gt;\n    &lt;/issue&gt;\n    &lt;issue&gt;\n        &lt;severity value=&quot;information&quot;/&gt;\n        &lt;code value=&quot;processing&quot;/&gt;\n        &lt;diagnostics value=&quot;Could not verify slice for profile http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-regional-subdivision-code&quot;/&gt;\n        &lt;location value=&quot;Patient.address[2].extension[2].valueCoding&quot;/&gt;\n    &lt;/issue&gt;\n</pre></div>",
        "id": 163223973,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1555100993
    },
    {
        "content": "<p>FWIW - it seems that the issue can be narrowed down to the case where a data type (Address) profile is used on patient and the discriminator is on the 'base' address.use on patient. HAPI does not really seem to be fond of that. Could it perhaps be related to a bad discriminator?</p>",
        "id": 163977262,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1556014810
    },
    {
        "content": "<p>I ran into an error with an address constraint in the German base profiles a while back, could be the same - <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> you responded to this on the German stream and said it looked like an error (on Feb 22), might it be the same issue here?</p>",
        "id": 163978510,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1556016425
    },
    {
        "content": "<p>One of the error message that seems to pop up is Profile [insert name here], Element 'Patient.address[officialHomeAddress]'': Unable to check minimum required (1) due to lack of slicing validation</p>",
        "id": 163979156,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1556017156
    }
]