[
    {
        "content": "<p>Hello,<br>\nI'm trying to run a search query inside an Asynctask in my Android app. Everything works fine in the emulator, but in my physical device it crashes with a fatal exception:</p>\n<div class=\"codehilite\"><pre><span></span>E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\n    Process: com.creare.fhirapp, PID: 16517\n    java.lang.RuntimeException: An error occurred while executing doInBackground()\n        at android.os.AsyncTask$3.done(AsyncTask.java:309)\n        at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)\n        at java.util.concurrent.FutureTask.setException(FutureTask.java:223)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:242)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n        at java.lang.Thread.run(Thread.java:818)\n     Caused by: java.lang.NoClassDefFoundError: com.google.common.escape.Escaper$1\n        at com.google.common.escape.Escaper.&lt;init&gt;(Escaper.java:85)\n        at com.google.common.escape.UnicodeEscaper.&lt;init&gt;(UnicodeEscaper.java:59)\n        at com.google.common.net.PercentEscaper.&lt;init&gt;(PercentEscaper.java:85)\n        at ca.uhn.fhir.util.UrlUtil.&lt;clinit&gt;(UrlUtil.java:44)\n        at ca.uhn.fhir.util.UrlUtil.isValid(UrlUtil.java:136)\n        at ca.uhn.fhir.parser.BaseParser.getExtensionUrl(BaseParser.java:475)\n        at ca.uhn.fhir.parser.JsonParser.parseExtension(JsonParser.java:1056)\n        at ca.uhn.fhir.parser.JsonParser.parseChildren(JsonParser.java:916)\n        at ca.uhn.fhir.parser.JsonParser.parseChildren(JsonParser.java:1020)\n        at ca.uhn.fhir.parser.JsonParser.parseChildren(JsonParser.java:1001)\n        at ca.uhn.fhir.parser.JsonParser.parseChildren(JsonParser.java:937)\n        at ca.uhn.fhir.parser.JsonParser.parseChildren(JsonParser.java:1020)\n        at ca.uhn.fhir.parser.JsonParser.parseChildren(JsonParser.java:1001)\n        at ca.uhn.fhir.parser.JsonParser.parseChildren(JsonParser.java:937)\n        at ca.uhn.fhir.parser.JsonParser.doParseResource(JsonParser.java:183)\n        at ca.uhn.fhir.parser.JsonParser.doParseResource(JsonParser.java:165)\n        at ca.uhn.fhir.parser.BaseParser.parseResource(BaseParser.java:654)\n        at ca.uhn.fhir.rest.client.impl.BaseClient$ResourceResponseHandler.invokeClient(BaseClient.java:537)\n        at ca.uhn.fhir.rest.client.impl.BaseClient$ResourceResponseHandler.invokeClient(BaseClient.java:489)\n        at ca.uhn.fhir.rest.client.impl.BaseClient.invokeClient(BaseClient.java:353)\n        at ca.uhn.fhir.rest.client.impl.GenericClient$BaseClientExecutable.invoke(GenericClient.java:448)\n        at ca.uhn.fhir.rest.client.impl.GenericClient$FetchConformanceInternal.execute(GenericClient.java:702)\n        at ca.uhn.fhir.rest.client.impl.RestfulClientFactory.validateServerBase(RestfulClientFactory.java:301)\n        at ca.uhn.fhir.rest.client.impl.RestfulClientFactory.validateServerBaseIfConfiguredToDoSo(RestfulClientFactory.java:264)\n        at ca.uhn.fhir.rest.client.impl.BaseClient.invokeClient(BaseClient.java:210)\n        at ca.uhn.fhir.rest.client.impl.GenericClient$BaseClientExecutable.invoke(GenericClient.java:448)\n        at ca.uhn.fhir.rest.client.impl.GenericClient$SearchInternal.execute(GenericClient.java:1776)\n        at com.creare.fhirapp.PatientsFragment$2.doInBackground(PatientsFragment.java:118)\n        at com.creare.fhirapp.PatientsFragment$2.doInBackground(PatientsFragment.java:109)\n        at android.os.AsyncTask$2.call(AsyncTask.java:295)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:234)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n        at java.lang.Thread.run(Thread.java:818)\n</pre></div>\n\n\n<p>any suggestion?</p>",
        "id": 154010719,
        "sender_full_name": "Raed Cran",
        "timestamp": 1540008047
    },
    {
        "content": "<p>Ok, I fixed this by adding the following dependency:<br>\n<code>api 'com.google.guava:guava:26.0-android'</code></p>",
        "id": 154012714,
        "sender_full_name": "Raed Cran",
        "timestamp": 1540580973
    }
]