[
    {
        "content": "<p>I asked about this topic already in the implementer stream:<br>\n<a href=\"#narrow/stream/179166-implementers/topic/Java.20FHIR.20lib.3A.20equals.20.26.20hashcode\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Java.20FHIR.20lib.3A.20equals.20.26.20hashcode</a></p>",
        "id": 236477640,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1619602696
    },
    {
        "content": "<p>As equals and hashcode aren't overriden in the FHIR Model classes, many functions (i wanted to use stream().distinct(), and ArrayList.containsAll()) aren't working as expected.<br>\nI proposed to override equals with the already existing deepEquals() function, which is currently considered.</p>",
        "id": 236477911,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1619602832
    },
    {
        "content": "<p>This thread was started to inform the community and ask for feedback about this intended change.</p>",
        "id": 236477961,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1619602853
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span></p>",
        "id": 236477979,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1619602863
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 236485595,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1619606769
    },
    {
        "content": "<p>I use equals widely in the core code, when I'm using Maps. I'll have to review the Map usages  extensively to see whether a change to equals() will break things</p>",
        "id": 236575881,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1619643017
    },
    {
        "content": "<p>and sets</p>",
        "id": 236575980,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1619643059
    },
    {
        "content": "<p>so you are using the equals() from the Java.Objects?<br>\nI think the simple check: <code> if (this == otherObject) {\n            return true;</code><br>\nshould be included in the equals method (but also in the shallow and deepEquals). As this should speed up checking when comparing the same object to itself.</p>",
        "id": 236654019,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1619693982
    },
    {
        "content": "<p>that's true, but it wasn't the speed we were concerned about</p>",
        "id": 236737962,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1619727313
    },
    {
        "content": "<p>HashMap&lt;N, V&gt; uses .equals on N. (as opposed to IdentityHashMap&lt;N,V&gt;) I will have to review all the Maps I use. And I suspect that everyone else will as well, if we make this change</p>",
        "id": 236738135,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1619727385
    },
    {
        "content": "<p>This should be fixed ASAP!</p>",
        "id": 237203670,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1620065298
    },
    {
        "content": "<p>any updates?</p>",
        "id": 247084831,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1627147412
    }
]