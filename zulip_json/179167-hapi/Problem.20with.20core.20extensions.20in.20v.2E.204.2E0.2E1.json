[
    {
        "content": "<p>Hi everyone,</p>\n<p>We are using v. 4.0.1 and the core extensions 'iso21090-ADXP-streetName', 'iso21090-ADXP-houseNumber', 'iso21090-ADXP-additionalLocator' and '<a href=\"http://hl7.org/fhir/StructureDefinition/procedure-method\">http://hl7.org/fhir/StructureDefinition/procedure-method</a>'. After upgrading to 4.0.1, we now receive errors for these extensions when trying to upload them to our HAPI FHIR server. This error occurs for all four extensions:</p>\n<p>HTTP 422 Unprocessable Entity: sdf-19: FHIR Specification models only use FHIR defined types [url.startsWith('<a href=\"http://hl7.org/fhir/StructureDefinition\">http://hl7.org/fhir/StructureDefinition</a>') implies (differential.element.type.code.all(hasValue() implies matches('^[a-zA-Z0-9]+$')) and snapshot.element.type.code.all(hasValue() implies matches('^[a-zA-Z0-9]+$')))]</p>\n<p>We did not have any problems using these extensions in FHIR v. 4.0.0, and we do not receive any errors, when trying to upload extensions we have created ourselves. If we change the url's of the core extensions to anything other than '<a href=\"http://hl7.org/fhir/StructureDefinition/\">http://hl7.org/fhir/StructureDefinition/</a>...' we do not receive any errors...</p>\n<p>Have you encountered the same issue, and if so - how did you solve it?</p>",
        "id": 197115468,
        "sender_full_name": "Signe Hejgaard Kristoffersen",
        "timestamp": 1589186288
    },
    {
        "content": "<p>it seems as though you are mixing 4.0.0 and 4.0.1 to me ?</p>",
        "id": 197123501,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589191473
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256845\">@Signe Hejgaard Kristoffersen</span> A few of the StructureDefinition files shipped with HAPI FHIR 4.2.0 for FHIR R4 were accidentally not updated to FHIR 4.0.1 even though the rest of the artifacts were. This is likely the bug that is causing your issue.</p>\n<p>This is already fixed for HAPI FHIR 5.0.0 which will be released this week</p>",
        "id": 197131177,
        "sender_full_name": "James Agnew",
        "timestamp": 1589196386
    },
    {
        "content": "<p>Is there a sample resource that I can check to see how extension is mentioned in the structure defintion resource?</p>",
        "id": 197132235,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1589197038
    },
    {
        "content": "<p>There are links to the structure definitions for the various extensions from the spec page: <a href=\"http://hl7.org/fhir/extension-procedure-method.html\">http://hl7.org/fhir/extension-procedure-method.html</a></p>",
        "id": 197133278,
        "sender_full_name": "James Agnew",
        "timestamp": 1589197663
    },
    {
        "content": "<p>thanks a lot</p>",
        "id": 197134273,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1589198192
    },
    {
        "content": "<p>in HAPI using the search parameter resource we can create a custom parameter for an extension in any resource. This doesn't mean that Extension needs to be created in the Structure Definition of HAPI right?</p>",
        "id": 197134364,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1589198262
    },
    {
        "content": "<p>Assuming you mean in the HAPI FHIR JPA server then yup, that's how to do that. There is a little tutorial on this here: <a href=\"https://smilecdr.com/docs/fhir_repository/custom_search_parameters.html\">https://smilecdr.com/docs/fhir_repository/custom_search_parameters.html</a></p>",
        "id": 197134905,
        "sender_full_name": "James Agnew",
        "timestamp": 1589198516
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span>  im using the HAPI FHIR JPA server</p>",
        "id": 197136064,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1589199238
    }
]