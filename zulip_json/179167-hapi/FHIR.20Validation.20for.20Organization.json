[
    {
        "content": "<p>Hi all,</p>\n<p>I am using HAPI-FHIR JPA server starter 4.0.1 for resource validation. When I tried with one Organization resource I got an error:<br>\n{<br>\n      \"severity\": \"error\",<br>\n      \"code\": \"processing\",<br>\n      \"diagnostics\": \"Unknown type <a href=\"http://hl7.org/fhirpath/System.String\" target=\"_blank\" title=\"http://hl7.org/fhirpath/System.String\">http://hl7.org/fhirpath/System.String</a>\",<br>\n      \"location\": [<br>\n        \"Parameters.parameter[0].resource.id\"<br>\n      ]<br>\n}</p>\n<p>Below is the resource I am using:<br>\n{<br>\n  \"resourceType\": \"Organization\",<br>\n  \"id\": \"14705\",<br>\n  \"meta\": {<br>\n    \"versionId\": \"1\",<br>\n    \"lastUpdated\": \"2019-11-07T15:29:50.000-06:00\",<br>\n    \"profile\": [<br>\n      \"<a href=\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization\">http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization</a>\"<br>\n    ]<br>\n  },<br>\n  \"text\": {<br>\n    \"status\": \"generated\",<br>\n    \"div\": \"...\"<br>\n  },<br>\n  \"identifier\": [<br>\n    {<br>\n      \"system\": \"urn:oid:123.456..7\",<br>\n      \"value\": \"abcde\"<br>\n    },<br>\n    {<br>\n      \"system\": \"<a href=\"http://www\" target=\"_blank\" title=\"http://www\">http://www</a>....\",<br>\n      \"value\": \"12345\"<br>\n    }<br>\n  ],<br>\n  \"active\": true,<br>\n  \"name\": \"...\",<br>\n  \"telecom\": [<br>\n    {<br>\n      \"system\": \"phone\",<br>\n      \"value\": \"...\"<br>\n    },<br>\n    {<br>\n      \"system\": \"url\",<br>\n      \"value\": \"...\"<br>\n    },<br>\n    {<br>\n      \"system\": \"email\",<br>\n      \"value\": \"...\"<br>\n    }<br>\n  ],<br>\n  \"address\": [<br>\n    {<br>\n      \"line\": [<br>\n        \"...\"<br>\n      ],<br>\n      \"city\": \"...\",<br>\n      \"state\": \"...\",<br>\n      \"postalCode\": \"...\",<br>\n      \"country\": \"USA\"<br>\n    }<br>\n  ],<br>\n  \"partOf\": {<br>\n    \"reference\": \"Organization/14706\"<br>\n  }<br>\n}</p>\n<p>Is this because of the profile I am using? Any help is appreciated. Thanks in advance.</p>\n<p>Fei</p>",
        "id": 180272266,
        "sender_full_name": "Fei Yan",
        "timestamp": 1573247346
    },
    {
        "content": "<p>please describe how exactly you reproduced that error. It looks suspiciously like an error from a different server I just fixed</p>",
        "id": 180272436,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1573247445
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I used the UI tool of JPA server starter for validating my resources. It is in the CRUD Operations -&gt; Validate. If more info is needed please let me know. Thank you.</p>",
        "id": 180273078,
        "sender_full_name": "Fei Yan",
        "timestamp": 1573247889
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> I don't know how this works, but this looks a like an erroneous error in <a href=\"http://test.fhir.org\" target=\"_blank\" title=\"http://test.fhir.org\">test.fhir.org</a> that I just fixed but haven't yet deployed</p>",
        "id": 180273199,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1573247974
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Kindly reminder - is there any update for this issue?</p>",
        "id": 182688706,
        "sender_full_name": "Fei Yan",
        "timestamp": 1575570923
    },
    {
        "content": "<p>well, I deployed it - is it still happenng?</p>",
        "id": 182688926,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575571072
    },
    {
        "content": "<p>This error \"Unknown type <a href=\"http://hl7.org/fhirpath/System.String\" target=\"_blank\" title=\"http://hl7.org/fhirpath/System.String\">http://hl7.org/fhirpath/System.String</a>\" has gone in 4.1.0, thank you</p>",
        "id": 182697310,
        "sender_full_name": "Fei Yan",
        "timestamp": 1575575813
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 182703193,
        "sender_full_name": "Fei Yan",
        "timestamp": 1575579606
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I saw some new validation errors which shows in HAPI-FHIR 4.1.0 but not 4.0.1:<br>\n{<br>\n      \"severity\": \"error\",<br>\n      \"code\": \"processing\",<br>\n      \"diagnostics\": \"The value provided ('generated') is not in the value set <a href=\"http://hl7.org/fhir/ValueSet/narrative-status|4.0.0\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/narrative-status|4.0.0\">http://hl7.org/fhir/ValueSet/narrative-status|4.0.0</a> (<a href=\"http://hl7.org/fhir/ValueSet/narrative-status\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/narrative-status\">http://hl7.org/fhir/ValueSet/narrative-status</a>, and a code is required from this value set) (error message = Unknown code[generated] in system[(none)])\",<br>\n      \"location\": [<br>\n        \"Parameters.parameter[0].resource.text.status\",<br>\n        \"Line 17, Col 33\"<br>\n      ]<br>\n    },<br>\n    {<br>\n      \"severity\": \"error\",<br>\n      \"code\": \"processing\",<br>\n      \"diagnostics\": \"The value provided ('phone') is not in the value set <a href=\"http://hl7.org/fhir/ValueSet/contact-point-system|4.0.0\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/contact-point-system|4.0.0\">http://hl7.org/fhir/ValueSet/contact-point-system|4.0.0</a> (<a href=\"http://hl7.org/fhir/ValueSet/contact-point-system\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/contact-point-system\">http://hl7.org/fhir/ValueSet/contact-point-system</a>, and a code is required from this value set) (error message = Unknown code[phone] in system[(none)])\",<br>\n      \"location\": [<br>\n        \"Parameters.parameter[0].resource.telecom[0].system\",<br>\n        \"Line 34, Col 31\"<br>\n      ]<br>\n    },<br>\n    {<br>\n      \"severity\": \"error\",<br>\n      \"code\": \"processing\",<br>\n      \"diagnostics\": \"The value provided ('url') is not in the value set <a href=\"http://hl7.org/fhir/ValueSet/contact-point-system|4.0.0\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/contact-point-system|4.0.0\">http://hl7.org/fhir/ValueSet/contact-point-system|4.0.0</a> (<a href=\"http://hl7.org/fhir/ValueSet/contact-point-system\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/contact-point-system\">http://hl7.org/fhir/ValueSet/contact-point-system</a>, and a code is required from this value set) (error message = Unknown code[url] in system[(none)])\",<br>\n      \"location\": [<br>\n        \"Parameters.parameter[0].resource.telecom[2].system\",<br>\n        \"Line 42, Col 29\"<br>\n      ]<br>\n    }</p>",
        "id": 182776334,
        "sender_full_name": "Fei Yan",
        "timestamp": 1575649009
    },
    {
        "content": "<p>do they happen with the standalone validator, or only in HAPI?</p>",
        "id": 182787608,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575655843
    },
    {
        "content": "<p>I am not sure about the standalone validator. I validated through the HAPI JPA server UI</p>",
        "id": 182793104,
        "sender_full_name": "Fei Yan",
        "timestamp": 1575659499
    }
]