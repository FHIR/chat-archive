[
    {
        "content": "<p>In my plain provider, I have a custom server level operation. In this operation I need the Content-Type header of the response to be application/json .  I set it using:</p>\n<div class=\"codehilite\"><pre><span></span><code> theRequestDetails.getServletResponse().setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n</code></pre></div>\n\n<p>This works. However, when I throw an InvalidRequestException in my plain provider, for some reason it changes the Content-Type of the response to application/fhir+xml.  This happens even if I set it in the InvalidRequestException</p>\n<div class=\"codehilite\"><pre><span></span><code>  InvalidRequestException invalidRequestException = new InvalidRequestException(message);\n\n  List&lt;String&gt; headers = new ArrayList&lt;&gt;();\n\n  headers.add(&quot;application/json&quot;);\n\n  invalidRequestException.getResponseHeaders().put(&quot;Content-Type&quot;, headers);\n\n  throw invalidRequestException;\n</code></pre></div>\n\n<p>Is this a bug, or intended behavior? Is there anyway I can change it?</p>",
        "id": 250354172,
        "sender_full_name": "Hershil Patel",
        "timestamp": 1629726672
    }
]