[
    {
        "content": "<p>I am using custom validator (MyValidationSupport implements IValidationSupport) chained with DefaultValidationSupport. I am getting following error &amp; warning while validating DiagnosticReport.</p>\n<div class=\"codehilite\"><pre><span></span>&quot;issue&quot;: [\n        {\n            &quot;severity&quot;: &quot;warning&quot;,\n            &quot;code&quot;: &quot;processing&quot;,\n            &quot;diagnostics&quot;: &quot;Error unable to find code system http://loinc.org validating CodeableConcept&quot;,\n            &quot;location&quot;: [\n                &quot;DiagnosticReport.code&quot;\n            ]\n        },\n        {\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: &quot;processing&quot;,\n            &quot;diagnostics&quot;: &quot;Unable to resolve the profile reference &#39;http://hl7.org/fhir/us/core/StructureDefinition/us-core-observationresults&#39;&quot;,\n            &quot;location&quot;: [\n                &quot;DiagnosticReport.result[1]&quot;\n            ]\n        }\n</pre></div>\n\n\n<p>What am i missing ?</p>\n<p>I am able to successfully validate AllergyIntolerance which means it is able to find profile <a href=\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance\">http://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance</a></p>",
        "id": 165717982,
        "sender_full_name": "Aditya",
        "timestamp": 1557929702
    },
    {
        "content": "<p>It'd probably be helpful to put a debugger or log messages in the various methods in MyValidationSupport to see what's being asked for..</p>",
        "id": 165720892,
        "sender_full_name": "James Agnew",
        "timestamp": 1557931901
    },
    {
        "content": "<blockquote>\n<p>It'd probably be helpful to put a debugger or log messages in the various methods in MyValidationSupport to see what's being asked for..</p>\n</blockquote>\n<p>Yea, doing the same.<br>\nTill now I have found is that in class <br>\n    org.hl7.fhir.dstu3.hapi.ctx.HapiWorkerContext <br>\nin method<br>\n    public &lt;T extends Resource&gt; T fetchResource(Class&lt;T&gt; theClass, String theUri)<br>\nfollowing line is getting null retValue when input theUri = \"<a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">http://loinc.org</a>\"<br>\n    retVal = myValidationSupport.fetchResource(myCtx, theClass, theUri);</p>",
        "id": 165721247,
        "sender_full_name": "Aditya",
        "timestamp": 1557932150
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>It'd probably be helpful to put a debugger or log messages in the various methods in MyValidationSupport to see what's being asked for..</p>\n</blockquote>\n<p>Yea, doing the same.<br>\nTill now I have found is that in class </p>\n<div class=\"codehilite\"><pre><span></span>    org.hl7.fhir.dstu3.hapi.ctx.HapiWorkerContext\n</pre></div>\n\n\n<p>in method</p>\n<div class=\"codehilite\"><pre><span></span>    public  T extends Resource T fetchResource(Class  theClass, String theUri)\n</pre></div>\n\n\n<p>following line is getting null retValue when input theUri = \"<a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">http://loinc.org</a>\"</p>\n<div class=\"codehilite\"><pre><span></span>    retVal = myValidationSupport.fetchResource(myCtx, theClass, theUri);\n</pre></div>\n\n\n<p>myCtx = ca.uhn.fhir.context.FhirContext@7cb30c6f<br>\ntheClass = org.hl7.fhir.dstu3.model.ValueSet<br>\ntheUri = \"<a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">http://loinc.org</a>\"</p>\n</blockquote>",
        "id": 165721300,
        "sender_full_name": "Aditya",
        "timestamp": 1557932165
    },
    {
        "content": "<blockquote>\n<blockquote>\n<blockquote>\n<p>It'd probably be helpful to put a debugger or log messages in the various methods in MyValidationSupport to see what's being asked for..</p>\n</blockquote>\n<p>Yea, doing the same.<br>\nTill now I have found is that in class </p>\n<div class=\"codehilite\"><pre><span></span>    org.hl7.fhir.dstu3.hapi.ctx.HapiWorkerContext\n</pre></div>\n\n\n<p>in method</p>\n<div class=\"codehilite\"><pre><span></span>    public  T extends Resource T fetchResource(Class  theClass, String theUri)\n</pre></div>\n\n\n<p>following line is getting null retValue when input theUri = \"<a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">http://loinc.org</a>\"</p>\n<div class=\"codehilite\"><pre><span></span>    retVal = myValidationSupport.fetchResource(myCtx, theClass, theUri);\n</pre></div>\n\n\n<p>myCtx = ca.uhn.fhir.context.FhirContext@7cb30c6f<br>\ntheClass = org.hl7.fhir.dstu3.model.ValueSet<br>\ntheUri = \"<a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">http://loinc.org</a>\"</p>\n</blockquote>\n</blockquote>\n<p>I am unable to see any mapping any where in US core profiles for loinc</p>",
        "id": 165723562,
        "sender_full_name": "Aditya",
        "timestamp": 1557933769
    },
    {
        "content": "<p>lots of US Core SDs refer to LOINC, e.g.: <a href=\"http://hl7.org/fhir/us/core/stu1/StructureDefinition-us-core-smokingstatus-definitions.html#Observation:uscoresmookingstatus.code\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/stu1/StructureDefinition-us-core-smokingstatus-definitions.html#Observation:uscoresmookingstatus.code\">http://hl7.org/fhir/us/core/stu1/StructureDefinition-us-core-smokingstatus-definitions.html#Observation:uscoresmookingstatus.code</a></p>",
        "id": 165724415,
        "sender_full_name": "James Agnew",
        "timestamp": 1557934287
    },
    {
        "content": "<p>Also, the core observation profile has a reference to it, so it's possible that if you can figure out why it isn't loading that, the loinc error will go away (assuming you're not using a profile that needs loinc)</p>",
        "id": 165725667,
        "sender_full_name": "James Agnew",
        "timestamp": 1557935096
    }
]