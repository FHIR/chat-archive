[
    {
        "content": "<p>Hi all,</p>\n<p>I am using HAPI's built-in narrative generator by calling setNarrativeGenerator as below:</p>\n<p>FhirContext ctx = FhirContext.forR4();<br>\nctx.setNarrativeGenerator(new DefaultThymeleafNarrativeGenerator());</p>\n<p>Later I put couple of resources (including Patient, Specimen, Organization, DiagnosticReport) into a bundle and sent to a JPA server. After the resources were created, only Patient and DiagnosticReport's narrative were generated as HTML format, the other 2 resources were not.</p>\n<p>For Specimen and DiagnosticReport I am using different profiles (<a href=\"http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/diagnosticreport\" target=\"_blank\" title=\"http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/diagnosticreport\">http://hl7.org/fhir/uv/genomics-reporting/StructureDefinition/diagnosticreport</a> or specimen), and for Patient and Organization I am using original FHIR resource type.</p>\n<p>Any help is appreciated. Thanks in advance.</p>\n<p>Fei</p>",
        "id": 178328705,
        "sender_full_name": "Fei Yan",
        "timestamp": 1571260397
    },
    {
        "content": "<p>The Thymleaf narrative generation is based on Templates: <a href=\"https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-base/src/main/resources/ca/uhn/fhir/narrative\" target=\"_blank\" title=\"https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-base/src/main/resources/ca/uhn/fhir/narrative\">https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-base/src/main/resources/ca/uhn/fhir/narrative</a></p>",
        "id": 178367847,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1571307697
    },
    {
        "content": "<p>Only some resources have a template, but fell free to create templates for other resources.<br>\nPRs are welcome!</p>",
        "id": 178367920,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1571307751
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> Thank you</p>",
        "id": 178388269,
        "sender_full_name": "Fei Yan",
        "timestamp": 1571323707
    }
]