[
    {
        "content": "<p>Hi all,<br>\n this is part of a new profile of DiagnosticReport, where effective[x] is mandatory:</p>\n<div class=\"codehilite\"><pre><span></span><code>        &quot;id&quot;: &quot;DiagnosticReport.effective[x]&quot;,\n        &quot;path&quot;: &quot;DiagnosticReport.effective[x]&quot;,\n        &quot;short&quot;: &quot;Clinically relevant time/time-period for report&quot;,\n        &quot;definition&quot;: &quot;The time or time-period the observed values are related to. When the subject of the report is a patient, this is usually either the time of the procedure or of specimen collection(s), but very often the source of the date/time is not known, only the date/time itself.&quot;,\n        &quot;comment&quot;: &quot;If the diagnostic procedure was performed on the patient, this is the time it was performed. If there are specimens, the diagnostically relevant time can be derived from the specimen collection times, but the specimen information is not always available, and the exact relationship between the specimens and the diagnostically relevant time is not always automatic.&quot;,\n        &quot;requirements&quot;: &quot;Need to know where in the patient history to file/present this report.&quot;,\n        &quot;alias&quot;: [\n          &quot;Observation time&quot;,\n          &quot;Effective Time&quot;,\n          &quot;Occurrence&quot;\n        ],\n        &quot;min&quot;: 1,\n        &quot;max&quot;: &quot;1&quot;,\n        &quot;base&quot;: {\n          &quot;path&quot;: &quot;DiagnosticReport.effective[x]&quot;,\n          &quot;min&quot;: 0,\n          &quot;max&quot;: &quot;1&quot;\n        },\n        &quot;type&quot;: [\n          {\n            &quot;code&quot;: &quot;dateTime&quot;\n          },\n          {\n            &quot;code&quot;: &quot;Period&quot;\n          }\n</code></pre></div>\n\n\n<p>This is the JSON that I'm using for validation: </p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;DiagnosticReport&quot;,\n  &quot;meta&quot;: {\n    &quot;profile&quot;: [\n      &quot;http://interopehrate.org/fhir/StructureDefinition/DiagnosticReport-ImagingReportSingleImage-IEHR&quot;\n    ]\n  },\n  &quot;language&quot;: &quot;it-IT&quot;,\n  &quot;status&quot;: &quot;final&quot;,\n  &quot;category&quot;: [\n    {\n      &quot;coding&quot;: [\n        {\n          &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v2-0074&quot;,\n          &quot;code&quot;: &quot;RAD&quot;\n        }\n      ]\n    }\n  ],\n  &quot;code&quot;: {\n    &quot;coding&quot;: [\n      {\n        &quot;system&quot;: &quot;http://loinc.org&quot;,\n        &quot;code&quot;: &quot;36554-4&quot;,\n        &quot;display&quot;: &quot;XR Chest Single view&quot;\n      }\n    ]\n  },\n  &quot;subject&quot;: {\n    &quot;reference&quot;: &quot;Patient/22&quot;\n  },\n  &quot;effectiveDateTime&quot;: &quot;2019-04-18T11:45:00+01:00&quot;,\n  &quot;performer&quot;: [\n    {\n      &quot;reference&quot;: &quot;Organization/54&quot;\n    }\n  ]\n}\n</code></pre></div>\n\n\n<p>and this is the error I get: \"Element 'Bundle.entry[0].resource.effective[x]': minimum required = 1, but only found 0\"</p>\n<p>Could anyone please help me, to understand why the validator does not take into account the value of attribute effectiveDateTime?</p>\n<p>Cheers and thanks<br>\nAlessio Graziani</p>",
        "id": 203265453,
        "sender_full_name": "Alessio Graziani",
        "timestamp": 1594214218
    },
    {
        "content": "<p>Can you try this on <a href=\"http://hapi.fhir.org\">hapi.fhir.org</a>?</p>\n<p>A few fixes have gone into the validator lately- this may be a bug that was recently fixed</p>",
        "id": 203300491,
        "sender_full_name": "James Agnew",
        "timestamp": 1594230971
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191319\">James Agnew</span> <a href=\"#narrow/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D/near/203300491\">said</a>:</p>\n<blockquote>\n<p>Can you try this on <a href=\"http://hapi.fhir.org\">hapi.fhir.org</a>?</p>\n<p>A few fixes have gone into the validator lately- this may be a bug that was recently fixed</p>\n</blockquote>\n<p>Ok, I'll try. I forgot to write that I'm using version 4.1.0 of the ca.uhn.fhir.validation.FhirValidator and R4 of the model.</p>",
        "id": 203367687,
        "sender_full_name": "Alessio Graziani",
        "timestamp": 1594287855
    },
    {
        "content": "<p>Even switching to version 5.0.2 I get the same error.</p>",
        "id": 203372134,
        "sender_full_name": "Alessio Graziani",
        "timestamp": 1594291718
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191319\">James Agnew</span> <a href=\"#narrow/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D/near/203300491\">said</a>:</p>\n<blockquote>\n<p>Can you try this on <a href=\"http://hapi.fhir.org\">hapi.fhir.org</a>?</p>\n<p>A few fixes have gone into the validator lately- this may be a bug that was recently fixed</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> <br>\nHow can I try the validation on a server?</p>",
        "id": 203819573,
        "sender_full_name": "Alessio Graziani",
        "timestamp": 1594723827
    },
    {
        "content": "<p>If you post your resource to the server you can invoke the $validate operation on it. This is the best way as it allows us to reproduce your results. E.g.</p>\n<p><a href=\"http://hapi.fhir.org/baseDstu3/Patient/2725779/$validate\">http://hapi.fhir.org/baseDstu3/Patient/2725779/$validate</a></p>",
        "id": 203824085,
        "sender_full_name": "James Agnew",
        "timestamp": 1594727651
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191319\">James Agnew</span> <a href=\"#narrow/stream/179167-hapi/topic/Validation.20of.20DiagnosticReport.2Eeffective.5Bx.5D/near/203824085\">said</a>:</p>\n<blockquote>\n<p>If you post your resource to the server you can invoke the $validate operation on it. This is the best way as it allows us to reproduce your results. E.g.</p>\n<p><a href=\"http://hapi.fhir.org/baseDstu3/Patient/2725779/$validate\">http://hapi.fhir.org/baseDstu3/Patient/2725779/$validate</a></p>\n</blockquote>\n<p>thanks a lot James! I'm going to do it ASAP</p>",
        "id": 203827401,
        "sender_full_name": "Alessio Graziani",
        "timestamp": 1594730096
    }
]