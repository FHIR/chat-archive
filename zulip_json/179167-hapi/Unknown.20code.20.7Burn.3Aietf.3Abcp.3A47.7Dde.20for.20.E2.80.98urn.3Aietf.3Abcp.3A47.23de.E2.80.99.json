[
    {
        "content": "<p>Hi,  I’m using a local hapi server which is in a docker (<a href=\"https://hub.docker.com/r/hapiproject/hapi\">https://hub.docker.com/r/hapiproject/hapi</a>) and also additionally I’m using for some testing purposes the public hapi FHIR server (<a href=\"http://hapi.fhir.org/baseR4\">http://hapi.fhir.org/baseR4</a>). On both servers I’m getting the 'Unknown code {urn:ietf:bcp:47}de for ‘urn:ietf:bcp:47#de’' after trying to validate a bundle against a profile.</p>\n<p>Here is the snippet of the Bundle which is causing the error:</p>\n<div class=\"codehilite\"><pre><span></span><code>...\n&lt;communication&gt;\n          &lt;language&gt;\n            &lt;coding&gt;\n              &lt;system value=&quot;urn:ietf:bcp:47&quot;/&gt;\n              &lt;code value=&quot;de&quot;/&gt;\n            &lt;/coding&gt;\n          &lt;/language&gt;\n          &lt;preferred value=&quot;true&quot;/&gt;\n&lt;/communication&gt;\n...\n</code></pre></div>\n<p>Would somebody know how I could resolve the error?  Also which validator is actually built into HAPI?</p>",
        "id": 248397697,
        "sender_full_name": "Alexander Dimitrov",
        "timestamp": 1628105724
    },
    {
        "content": "<p>It may be possible to resolve the error by loading content for the <code>urn:ietf:bcp:47</code> code system.</p>\n<p>Looks like the public HAPI server has a <code>urn:ietf:bcp:47</code> CodeSystem resource, but the CodeSystem includes no CodeSystem.concept values, so it's unable to validate the <code>de</code> code.</p>\n<div class=\"codehilite\"><pre><span></span><code>curl --silent --request GET --url &#39;http://hapi.fhir.org/baseR4/CodeSystem?system=urn:ietf:bcp:47&#39;\ncurl --silent --request GET --url &#39;http://hapi.fhir.org/baseR4/CodeSystem/v3-ietf3066/$validate-code?code=de&#39;\n</code></pre></div>",
        "id": 248402601,
        "sender_full_name": "Joel Schneider",
        "timestamp": 1628108171
    },
    {
        "content": "<p>You can't have a comprehensive list of values in the valueset. It's an \"infinite\" list of values. *You could have a list I suppose, it would just be huge. Your validator has to know the logic to know if the value is conformant. Looks like HAPI doesn't know the logic pattern to test validity.</p>",
        "id": 248403986,
        "sender_full_name": "Daniel Venton",
        "timestamp": 1628108901
    },
    {
        "content": "<p>I tried uploading a CodeSystem (<a href=\"https://terminology.hl7.org/1.0.0//CodeSystem-v3-ietf3066.html\">https://terminology.hl7.org/1.0.0//CodeSystem-v3-ietf3066.html</a>) and a ValueSet (<a href=\"http://hl7.org/fhir/R4/valueset-all-languages.html\">http://hl7.org/fhir/R4/valueset-all-languages.html</a>), but both seem to not have fixed the issue.</p>",
        "id": 248487845,
        "sender_full_name": "Alexander Dimitrov",
        "timestamp": 1628174981
    }
]