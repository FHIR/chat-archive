[
    {
        "content": "<p>Validation against ValueSet seems to be depending on the availability of the used CodeSystem.</p>\n<p>For the ValueSet ucum-common listed in (and read from) hapi-fhir-validation-resources-dstu3/src/main/resources/org/hl7/fhir/dstu3/model/valueset/valuesets.xml, the validation-code request fails:<br>\n<a href=\"http://hapi.fhir.org/baseDstu3/ValueSet/$validate-code?url=http://hl7.org/fhir/ValueSet/ucum-common&amp;system=http://unitsofmeasure.org&amp;code=percent&amp;display=percent\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/ValueSet/$validate-code?url=http://hl7.org/fhir/ValueSet/ucum-common&amp;system=http://unitsofmeasure.org&amp;code=percent&amp;display=percent\">http://hapi.fhir.org/baseDstu3/ValueSet/$validate-code?url=http://hl7.org/fhir/ValueSet/ucum-common&amp;system=http://unitsofmeasure.org&amp;code=percent&amp;display=percent</a><br>\nresults in error with diagnostics \"unable to find code system <a href=\"http://unitsofmeasure.org\" target=\"_blank\" title=\"http://unitsofmeasure.org\">http://unitsofmeasure.org</a>\".</p>\n<p>Attempting a similar request for a ValueSet (also in valuesets.xml) where the CodeSystem is defined in v3-codesystems.xml succeeds:<br>\n<a href=\"http://hapi.fhir.org/baseDstu3/ValueSet/$validate-code?url=http://hl7.org/fhir/ValueSet/probability-distribution-type&amp;system=http://hl7.org/fhir/v3/ProbabilityDistributionType&amp;code=B\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/ValueSet/$validate-code?url=http://hl7.org/fhir/ValueSet/probability-distribution-type&amp;system=http://hl7.org/fhir/v3/ProbabilityDistributionType&amp;code=B\">http://hapi.fhir.org/baseDstu3/ValueSet/$validate-code?url=http://hl7.org/fhir/ValueSet/probability-distribution-type&amp;system=http://hl7.org/fhir/v3/ProbabilityDistributionType&amp;code=B</a><br>\nresults in validation succeeded.</p>\n<p>Should the request be constructed differently to make validation against ucum-common succeed?</p>",
        "id": 172042635,
        "sender_full_name": "Erik Nielsen",
        "timestamp": 1564496777
    },
    {
        "content": "<p>getting back to this; this is tricky. The terminology service doesn't believe the value set that a code is valid; it goes and checks that the code is actually valid before accepting that the value set actually contains it (it's not unusual to find value sets containing unusable / invalid codes). In this case, it hasn't got UCUM. I don't know what the HAPI arrangements are for UCUM</p>",
        "id": 172276484,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1564709958
    },
    {
        "content": "<p>that makes sense given the occurrence of unusable/invalid codes. The UCUM being a compositional code system, a corresponding CodeSystem would quickly explode in number of permutations (as would the ValueSet) if completeness was aspired. Is a select/pragmatic subset a common approach?</p>",
        "id": 172295969,
        "sender_full_name": "Erik Nielsen",
        "timestamp": 1564738822
    },
    {
        "content": "<p>well, my terminology server has an internal API to a code system, and an implementation of the API for UCUM so that it's fully supported</p>",
        "id": 172296443,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1564739333
    }
]