[
    {
        "content": "<p>Hi, I<code>m just set up a HAPI FHIR 5.2 server (R4 version) using Docker using hapiproject/hapi image.  When I</code>m trying to upload terminology (LOINC v2.69) using HAPI FHIR CLI but its fail with error \"Unknown file: hapi-fhir-cli5086905413546946611.zip\".  I include the process log below:</p>\n<p>[root@locahost hapi-fhir-tools]# ./hapi-fhir-cli upload-terminology -d Loinc_2.69.zip -v r4 -t <a href=\"http://localhost/fhir\">http://localhost/fhir</a> -u <a href=\"http://loinc.org\">http://loinc.org</a></p>\n<hr>\n<p><span aria-label=\"fire\" class=\"emoji emoji-1f525\" role=\"img\" title=\"fire\">:fire:</span>  HAPI FHIR 5.2.0 - Command Line Tool</p>\n<hr>\n<p>Process ID                      : 4413@localhost<br>\nMax configured JVM memory (Xmx) : 6.9GB<br>\nDetected Java version           : 1.8.0_275</p>\n<hr>\n<p>2020-12-31 10:34:20.356 [main] INFO  c.u.f.c.UploadTerminologyCommand Adding ZIP file: Loinc_2.69.zip<br>\n2020-12-31 10:34:21.668 [main] INFO  c.u.f.c.UploadTerminologyCommand File size is greater than 10 MB - Going to use a local file reference instead of a direct HTTP transfer. Note that this will only work when executing this command on the same server as the FHIR server itself.<br>\n2020-12-31 10:34:22.378 [main] INFO  c.u.f.c.UploadTerminologyCommand Beginning upload - This may take a while...<br>\n2020-12-31 10:34:23.217 [main] ERROR c.u.f.c.UploadTerminologyCommand Received the following response:<br>\n{<br>\n  \"resourceType\": \"OperationOutcome\",<br>\n  \"text\": {<br>\n    \"status\": \"generated\",<br>\n    \"div\": \"&lt;div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\\\"0\\\"&gt;&lt;tr&gt;&lt;td style=\\\"font-weight: bold;\\\"&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Unknown file: hapi-fhir-cli5086905413546946611.zip&lt;/pre&gt;&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\n\\t\\t\\t&lt;/tr&gt;\\n\\t\\t&lt;/table&gt;\\n\\t&lt;/div&gt;\"<br>\n  },<br>\n  \"issue\": [ {<br>\n    \"severity\": \"error\",<br>\n    \"code\": \"processing\",<br>\n    \"diagnostics\": \"Unknown file: hapi-fhir-cli5086905413546946611.zip\"<br>\n  } ]<br>\n}<br>\n2020-12-31 10:34:23.218 [main] ERROR ca.uhn.fhir.cli.App Error during execution:<br>\nca.uhn.fhir.rest.server.exceptions.InvalidRequestException: HTTP 400 : Unknown file: hapi-fhir-cli5086905413546946611.zip<br>\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)<br>\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)<br>\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)<br>\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)<br>\n        at ca.uhn.fhir.rest.server.exceptions.BaseServerResponseException.newInstance(BaseServerResponseException.java:302)<br>\n        at ca.uhn.fhir.rest.client.impl.BaseClient.invokeClient(BaseClient.java:351)<br>\n        at ca.uhn.fhir.rest.client.impl.GenericClient$BaseClientExecutable.invoke(GenericClient.java:540)<br>\n        at ca.uhn.fhir.rest.client.impl.GenericClient$OperationInternal.execute(GenericClient.java:1314)<br>\n        at ca.uhn.fhir.cli.UploadTerminologyCommand.invokeOperation(UploadTerminologyCommand.java:204)<br>\n        at ca.uhn.fhir.cli.UploadTerminologyCommand.run(UploadTerminologyCommand.java:113)<br>\n        at ca.uhn.fhir.cli.BaseApp.run(BaseApp.java:268)<br>\n        at ca.uhn.fhir.cli.App.main(App.java:43)<br>\n2020-12-31 10:34:23.220 [Thread-0] INFO  ca.uhn.fhir.cli.App HAPI FHIR is shutting down...</p>\n<p>I followed the instruction provide at <a href=\"https://hapifhir.io/hapi-fhir/docs/tools/hapi_fhir_cli.html\">https://hapifhir.io/hapi-fhir/docs/tools/hapi_fhir_cli.html</a>.  Till now I still cannot figure out  how file hapi-fhir-cli5086905413546946611.zip exist even there is no such file in my working directory.</p>",
        "id": 221270212,
        "sender_full_name": "Azizul Lau",
        "timestamp": 1609391303
    },
    {
        "content": "<p>I think the data file (Loinc_2.69.zip) needs to be located on the same file system used by the HAPI server (you'll need to docker cp the file into the running Docker container before running hapi-fhir-cli).</p>",
        "id": 221513910,
        "sender_full_name": "Joel Schneider",
        "timestamp": 1609760270
    },
    {
        "content": "<p>or volume mount it inside</p>",
        "id": 221514232,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1609760542
    },
    {
        "content": "<p>where i need to bind the the directory for Loinc_2.69.zip ?  When I enter the container, it will redirect me to \"/usr/local/tomcat\".  There is also directory  \"/data/hapi\" automatically created when I create the hapi-fhir container.</p>",
        "id": 221608305,
        "sender_full_name": "Azizul Lau",
        "timestamp": 1609815262
    },
    {
        "content": "<p>You may want to find the mounted directory using the docker inspect command: <a href=\"https://docs.docker.com/engine/reference/commandline/inspect/\">https://docs.docker.com/engine/reference/commandline/inspect/</a></p>",
        "id": 221614084,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1609824075
    },
    {
        "content": "<p>hi.. I have tested by binding directory that contains hapi-fhir-cli tools to the container.  I still got same error.  I try to upload Loinc into the server but this time I use Loinc version 2.68 instead 2.69.  The tool able to upload into the server successfully.</p>",
        "id": 221735947,
        "sender_full_name": "Azizul Lau",
        "timestamp": 1609911757
    },
    {
        "content": "<p>So, the hapi-fhir-cli tool still does not support Loinc version 2.69, I guess...</p>",
        "id": 221735957,
        "sender_full_name": "Azizul Lau",
        "timestamp": 1609911799
    }
]