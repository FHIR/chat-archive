[
    {
        "content": "<p>For Questionnaire and QuestionnaireResponse resources we are running two different HAPI servers. This means that the QuestionnaireResponse will contain a reference to a Questionnaire residing on a different server. This seems to get us in trouble with the FhirQuestionnaireResponseValidator inside HAPI-FHIR. Posts to the QuestionnaireResponse server result in:</p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;resourceType&quot;: &quot;OperationOutcome&quot;,\n  &quot;text&quot;: {\n    &quot;status&quot;: &quot;generated&quot;,\n    &quot;div&quot;: &quot;&lt;div xmlns=\\&quot;http://www.w3.org/1999/xhtml\\&quot;&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\\&quot;0\\&quot;&gt;&lt;tr&gt;&lt;td style=\\&quot;font-weight: bold;\\&quot;&gt;fatal&lt;/td&gt;&lt;td&gt;[Line[0] Col[0]]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Reference could not be found: http://ot3dev.alexandra.dk:8082/questionnaire/Questionnaire/102&lt;/pre&gt;&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\n\\t\\t\\t&lt;/tr&gt;\\n\\t\\t&lt;/table&gt;\\n\\t&lt;/div&gt;&quot;\n  },\n  &quot;issue&quot;: [\n    {\n      &quot;severity&quot;: &quot;fatal&quot;,\n      &quot;code&quot;: &quot;processing&quot;,\n      &quot;diagnostics&quot;: &quot;Reference could not be found: http://ot3dev.alexandra.dk:8082/questionnaire/Questionnaire/102&quot;,\n      &quot;location&quot;: [\n        &quot;Line[0] Col[0]&quot;\n      ]\n    }\n  ]\n}\n</pre></div>\n\n\n<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> Does the the QuestionnaireResponseValidator assume that responses reside on the same server as the Questionnaire? Is there any way to turn this off? We are already doing <code>setAllowExternalReferences(true)</code> on DaoConfig to allow references to resources on remote urls, but it doesn't seem to have an effect in relation to QuestionnaireResponse.</p>",
        "id": 153865428,
        "sender_full_name": "Michael Christensen",
        "timestamp": 1483536123
    }
]