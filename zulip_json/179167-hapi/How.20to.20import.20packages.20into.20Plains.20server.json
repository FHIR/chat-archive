[
    {
        "content": "<p>Hi guys i'd Like to know how can i import this package into a hapi Plain Server Implementation ?<br>\n<a href=\"https://simplifier.net/packages/de.medizininformatikinitiative.kerndatensatz.person/2.0.0-alpha4\">https://simplifier.net/packages/de.medizininformatikinitiative.kerndatensatz.person/2.0.0-alpha4</a></p>\n<p>I have no clue. I really Like to have it softwarewhise as a pure Java package or model which extends the Patient resource. Ist there any transformationtool Out which i was not able to find in the Internet? <br>\nThanks for any response to this. Regards eric.</p>",
        "id": 274545293,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646748571
    },
    {
        "content": "<p>Profiled Resources are still Resources, you don't need new Pojos for profiled Instances.</p>",
        "id": 274547016,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646749356
    },
    {
        "content": "<p>And how can i use them in my Project i dont understand.<br>\nWhat do i Need? It is a Patient resource but it is extended dir Germany how can i use them? Do i have to (Re)implement it myself in my Project?</p>",
        "id": 274548948,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646750190
    },
    {
        "content": "<p>But thanks for the Response <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span></p>",
        "id": 274548994,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646750220
    },
    {
        "content": "<p>It depends on what you are trying to achieve. A Profile is a statement about conformance.</p>",
        "id": 274557075,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646753689
    },
    {
        "content": "<p>Assuming you want to create FHIR Instances of these Profiles in Java?<br>\nThen you could create Facading Classes, or just use the resource class. Either way you would need code to create these instances.</p>",
        "id": 274557255,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646753768
    },
    {
        "content": "<p>Yes i think i Need to reimplement this myself.<br>\nThe jpa Server in hapi has this ability to import packages via an Implementation Guide but this is Not available for the Plain Server thus there is No Tool in the Internet that simply Transforms such profiles into Java because it is needed in custom Implementations.<br>\nAnyway i think a facade class would Help alot</p>",
        "id": 274563122,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646755963
    },
    {
        "content": "<p>For me to have it clear : i Need to so this right?<br>\n<a href=\"https://hapifhir.io/hapi-fhir/docs/model/custom_structures.html\">https://hapifhir.io/hapi-fhir/docs/model/custom_structures.html</a></p>\n<p>Implement this myself Like the Definition told me in the desire package.</p>",
        "id": 274563522,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646756102
    },
    {
        "content": "<p>The JPAStarter Server uses IGs to be able to validate against them. You can also do this with a plain server by adding a hapi validation stack. And then uses this validator in your /$validate operation provider</p>",
        "id": 274563827,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646756219
    },
    {
        "content": "<p>This Part confuses me even more.</p>",
        "id": 274565111,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646756701
    },
    {
        "content": "<p>My approach to implement it myself with the Help of this Link i posted ist correct ?</p>",
        "id": 274565163,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646756728
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"254677\">Eric Wündisch</span> <a href=\"#narrow/stream/179167-hapi/topic/How.20to.20import.20packages.20into.20Plains.20server/near/274563522\">said</a>:</p>\n<blockquote>\n<p>For me to have it clear : i Need to so this right?<br>\n<a href=\"https://hapifhir.io/hapi-fhir/docs/model/custom_structures.html\">https://hapifhir.io/hapi-fhir/docs/model/custom_structures.html</a></p>\n</blockquote>\n<p>No, I don't think so. You have to implement for the Plain Server a ResourceProvider which then needs to return the resources according to the ig you referenced. I'm also not aware of a tooling jet, that would generate a facade based on the constraints and extensions in an ig. See an example for a ResourceProvider in this PR: <a href=\"https://github.com/hapifhir/hapi-fhir/pull/2709\">https://github.com/hapifhir/hapi-fhir/pull/2709</a></p>",
        "id": 274565331,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1646756790
    },
    {
        "content": "<p>The HAPI Plain Server handles all the RESTful stuff for you, and you implement the persistence layer. <br>\nIt will allow you handle ANY FHIR resources using ANY profiles - but you must implement how you store those resources and implement how you search for them - i.e. how you convert the requests into database records/commands. </p>\n<p>If you are dealing with Resources that must conform to specific profiles, then is sounds like you want to add validation. <br>\nIf you want to validate that a resource conforms to a specific profile before you persist it, there are various ways to do that.<br>\nThe HAPI library can help you: see <a href=\"https://hapifhir.io/hapi-fhir/docs/validation/introduction.html\">https://hapifhir.io/hapi-fhir/docs/validation/introduction.html</a></p>\n<p>You don't need to generate any code to that.</p>",
        "id": 274565859,
        "sender_full_name": "Craig McClendon",
        "timestamp": 1646756989
    },
    {
        "content": "<p>Hi Eric, HAPI will load IGs and support them on the server (e.g., being able to reference it, etc.).  That said, looking in the repo you link to, it looks like you are defining a logical model (<a href=\"https://github.com/medizininformatik-initiative/kerndatensatzmodul-person/blob/master/logical-models/sd-mii-person-logicalmodel.xml\">here</a>).</p>\n<p>I am not sure what HAPI will do with a StructureDefinition of that type.  Typically, additional data is added via extensions on top of core-defined resources.  As an example, the <a href=\"https://www.hl7.org/fhir/us/core/\">US Core</a> implementation guide profiles the <code>Patient</code> resource as a <a href=\"https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-patient.html\">US Core Patient</a>.  The profile includes extra information such as a patient's physical gender at birth in extensions like <a href=\"https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-birthsex.html\">us-core-birthsex</a>.</p>\n<p>Using extensions then works as others described (e.g., accessing the proper extensions).  I am working on a project that will hopefully allow cleaner access on top of SDKs for implementation guides (e.g., being able to access <code>Person.Name.Vorname</code> in your application code, but have the SDK understand that really is accessing the element at <code>Person.name.given</code>, assuming my mapping is correct).  That said, there is still a fair bit of work for me to do on basic extension access before I get to something like this that requires a mapping construct.</p>",
        "id": 274568207,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1646757917
    },
    {
        "content": "<p>Ahh ok. Thanks for These anwers. I will try to read the documentation about this.<br>\nUnfor. A generating facade Tool would be awesome but not findable.</p>",
        "id": 274568252,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646757934
    },
    {
        "content": "<p>There is no real benefit in this tool. You just want to have a server with your own storage backend?</p>",
        "id": 274568872,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646758201
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> thank you vor this clean answer.<br>\nI think Something between all answers Here is my solution.<br>\nA questuon about structuredefinitions. That means i have to Transform this package i linked above into this structure myself to use IT in all my requests. Remember i want to use the Plain Server to handle persisting (Database) myself. <br>\nThe good Part about my Project the Patient resource is the only we Need to Provider.</p>",
        "id": 274569042,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646758261
    },
    {
        "content": "<p>You just create the ResourceProviders you need. A profiled Patient is still a patient.</p>",
        "id": 274569055,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646758267
    },
    {
        "content": "<p>So no extra work needed. If you need validation in your server, then you would use the hapi validation classes, build a validation chain, and validate incoming data with an interceptor, or in your provider classes</p>",
        "id": 274569232,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646758337
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> thats true but i Need to make Sure the object i Receive follows the Implementation i linked.</p>",
        "id": 274569287,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646758360
    },
    {
        "content": "<p>Patrick, the package is defining a new logical model, not a profile.</p>",
        "id": 274569341,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1646758383
    },
    {
        "content": "<p>ah easy. Just validate alle incoming Patients with a Validation Chain, this way all your patients are valid MII Patients.</p>",
        "id": 274569378,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646758404
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"222054\">Gino Canessa</span> <a href=\"#narrow/stream/179167-hapi/topic/How.20to.20import.20packages.20into.20Plains.20server/near/274569341\">said</a>:</p>\n<blockquote>\n<p>Patrick, the package is defining a new logical model, not a profile.</p>\n</blockquote>\n<p>This one? <a href=\"https://simplifier.net/packages/de.medizininformatikinitiative.kerndatensatz.person/2.0.0-alpha4\">https://simplifier.net/packages/de.medizininformatikinitiative.kerndatensatz.person/2.0.0-alpha4</a><br>\nThis is a module of the german MI-Initiative, including StrucDefs.<br>\nE.g. the mentioned patient profile: <a href=\"https://simplifier.net/packages/de.medizininformatikinitiative.kerndatensatz.person/2.0.0-alpha4/files/504753\">https://simplifier.net/packages/de.medizininformatikinitiative.kerndatensatz.person/2.0.0-alpha4/files/504753</a></p>",
        "id": 274569564,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646758484
    },
    {
        "content": "<p>Can i validate in a Plan Server against Rules or definitions in json Files? That would makes my life so easy....</p>",
        "id": 274569566,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646758485
    },
    {
        "content": "<p>Sure, just start reading here: <a href=\"https://hapifhir.io/hapi-fhir/docs/validation/instance_validator.html\">https://hapifhir.io/hapi-fhir/docs/validation/instance_validator.html</a></p>",
        "id": 274569664,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646758527
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> so whats the easiest solution i can Run this now ?</p>",
        "id": 274569709,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646758548
    },
    {
        "content": "<p>In you provider you will have a Patient variable, then just call: <code>validator.validateWithResult(patient);</code></p>",
        "id": 274569802,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646758572
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> thanks for the Link i will do so :)</p>",
        "id": 274569817,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646758579
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"254677\">Eric Wündisch</span> <a href=\"#narrow/stream/179167-hapi/topic/How.20to.20import.20packages.20into.20Plains.20server/near/274569709\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"222054\">Gino Canessa</span> so whats the easiest solution i can Run this now ?</p>\n</blockquote>\n<p>Build your plain Server, create a Patient Provider, add a Validation Chain, call validation on every incoming REST operation</p>",
        "id": 274569896,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646758615
    },
    {
        "content": "<p>And there is a simple example here of using the validation chain here if you are not using JPA <a href=\"https://github.com/medcomdk/FHIR-CareCommunication-demo-Java/blob/main/common/src/main/java/com/trifork/common/Validator.java\">https://github.com/medcomdk/FHIR-CareCommunication-demo-Java/blob/main/common/src/main/java/com/trifork/common/Validator.java</a></p>",
        "id": 274569977,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1646758654
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> cool thanks i love examples.</p>",
        "id": 274570117,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646758707
    },
    {
        "content": "<p>Imho i think you Guys give ne a Lot of information i can Work with. Thanks to you all :)</p>",
        "id": 274570317,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646758797
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191427\">Jens Villadsen</span> <a href=\"#narrow/stream/179167-hapi/topic/How.20to.20import.20packages.20into.20Plains.20server/near/274569977\">said</a>:</p>\n<blockquote>\n<p>And there is a simple example here of using the validation chain here if you are not using JPA <a href=\"https://github.com/medcomdk/FHIR-CareCommunication-demo-Java/blob/main/common/src/main/java/com/trifork/common/Validator.java\">https://github.com/medcomdk/FHIR-CareCommunication-demo-Java/blob/main/common/src/main/java/com/trifork/common/Validator.java</a></p>\n</blockquote>\n<p>great example <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 274570525,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1646758838
    },
    {
        "content": "<p>Patrick and Eric, I was looking at <a href=\"https://github.com/medizininformatik-initiative/kerndatensatzmodul-person/blob/master/logical-models/sd-mii-person-logicalmodel.xml\">sd-mii-person-logicalmodel.xml</a>.  Unfortunate luck of which directory I clicked into first, so apologies on that front.</p>",
        "id": 274570606,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1646758873
    },
    {
        "content": "<p>Sry my english is Not so good. What do you mean ?</p>",
        "id": 274572406,
        "sender_full_name": "Eric Wündisch",
        "timestamp": 1646759513
    }
]