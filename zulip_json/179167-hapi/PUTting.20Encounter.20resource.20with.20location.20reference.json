[
    {
        "content": "<p>Im currently trying to put an encounter resource into a hapi 5.4 server with a reference to the location in the \"location\" field like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>&quot;location&quot;: [\n                    {\n                        &quot;reference&quot;: &quot;Location?identifier=10228&quot;\n                    }\n                ]\n</code></pre></div>\n<p>Resolving other business identifiers has not been a problem so far, but with the location reference the Hapi server complains that it cannot do anything with the field: </p>\n<div class=\"codehilite\"><pre><span></span><code>Unknown element &#39;reference&#39; found while parsing\n</code></pre></div>\n<p>Is this not implemented yet ? Is there a workaround or is my syntax just wrong here? :)<br>\nty  in advance</p>",
        "id": 244692349,
        "sender_full_name": "David Meyers",
        "timestamp": 1625227401
    },
    {
        "content": "<p>I am a newby, so my advice could be really wrong here.</p>\n<p>Today and tomorrow are Federal US holidays and I think it is a long weekend for the Canadian holiday as well, so you might not get any other answers for a few days.</p>\n<p>When I see the error message about an Unknown element:</p>\n<p><em>Unknown element 'reference' found while parsing</em></p>\n<p>I have found in the past that the tag such as \"reference\"  is what HAPI  is objecting to.</p>\n<p>In looking at the example <a href=\"https://www.hl7.org/fhir/encounter-example-emerg.json.html\">https://www.hl7.org/fhir/encounter-example-emerg.json.html</a>  and at the detailed descriptions for the Encounter resource showing the element  Encounter.location.location, I think the syntax should be closer to:</p>\n<p>\"location\": [<br>\n              {<br>\n                   \"location\": {<br>\n                               \"reference\": \"Location?identifier=10228\"<br>\n                           }<br>\n            }<br>\n  ]</p>",
        "id": 244870057,
        "sender_full_name": "Diane",
        "timestamp": 1625421386
    },
    {
        "content": "<p>Hello <span class=\"user-mention\" data-user-id=\"237340\">@Diane</span> and thanks for ur help.<br>\nUnfortunately im getting the same server warning msg (unknown element) when using ur proposed syntax. :(</p>",
        "id": 244912445,
        "sender_full_name": "David Meyers",
        "timestamp": 1625476745
    },
    {
        "content": "<p>I hope that some of the experts will be back soon from their holiday celebrations to help you.   </p>\n<p>The hapi R4 test server at <a href=\"http://hapi.fhir.org\">hapi.fhir.org</a>  has this encounter resource with a location reference:.  Maybe that will get you closer to the solution? </p>\n<p><a href=\"http://hapi.fhir.org/baseR4/Encounter/4e56a322-18b3-4367-a44a-b60847a464c4/_history/1?_pretty=true&amp;_format=json\">http://hapi.fhir.org/baseR4/Encounter/4e56a322-18b3-4367-a44a-b60847a464c4/_history/1?_pretty=true&amp;_format=json</a></p>",
        "id": 244972739,
        "sender_full_name": "Diane",
        "timestamp": 1625517806
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"237340\">@Diane</span> , shame on me, you were right of course. With extended encapsulation (location in location), the server persisted the Encounter resource as expected and completely. The warning message was caused by another resource in the bundle and misinterpreted by me. Thank you very much, because I also became suspicious when I saw that the HAPI server in your example had persisted the location references in a resolvable way.</p>",
        "id": 245011761,
        "sender_full_name": "David Meyers",
        "timestamp": 1625561877
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"263786\">@David Meyers</span>    No worries. Glad that you got your Encounter resource working.</p>",
        "id": 245336335,
        "sender_full_name": "Diane",
        "timestamp": 1625761073
    }
]