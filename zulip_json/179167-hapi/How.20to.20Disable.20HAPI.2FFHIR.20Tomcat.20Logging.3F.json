[
    {
        "content": "<p>Hi everybody. I want to know how can I disable HAPI/FHIR logging in catalina.out Tomcat file.</p>\n<p>I have a logback.xml file in WEB-INF directory. I’ve tried removing it but hapi continue logging in catalina.out. <span aria-label=\"worried\" class=\"emoji emoji-1f61f\" role=\"img\" title=\"worried\">:worried:</span><br>\nI have managed to disable logging temporarily by removing JAR files  \"logback-classic\"  and  \"logback-core\"  from directory \"hapigeosalud\\WEB-INF\\lib\" but I would like to know how to do it correctly.  </p>\n<p>I need to disable hapi/fhir logging completly or know how to do it by a config file.</p>\n<p>Thanks in advance!</p>",
        "id": 220414351,
        "sender_full_name": "Fran del Río",
        "timestamp": 1608318005
    },
    {
        "content": "<p>I believe catalina.out automatically contains anything that is logged to the console by anything running within Tomcat.</p>\n<p>So to stop HAPI FHIR from going there, assuming you have logback on your classpath, you need to explicitly configure logback.xml to not send anything to STDOUT.</p>",
        "id": 220414894,
        "sender_full_name": "James Agnew",
        "timestamp": 1608318237
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191319\">James Agnew</span> <a href=\"#narrow/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging/near/220414894\">said</a>:</p>\n<blockquote>\n<p>I believe catalina.out automatically contains anything that is logged to the console by anything running within Tomcat.</p>\n<p>So to stop HAPI FHIR from going there, assuming you have logback on your classpath, you need to explicitly configure logback.xml to not send anything to STDOUT.</p>\n</blockquote>\n<p>Hi James.  This is my (original) logback.xml file:</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%-5relative %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;jdbc&quot; level=&quot;OFF&quot; /&gt;\n\n    &lt;root level=&quot;ERROR&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre></div>\n<p>I have edited this file several times but it keeps logging. What should I add or remove to stop logging?</p>",
        "id": 220416083,
        "sender_full_name": "Fran del Río",
        "timestamp": 1608318821
    },
    {
        "content": "<p>Hmm, assuming it's picking that file up you could remove the appender.</p>\n<p>If that doesn't work, watch for any error messages from logback when it starts. Failing all else, you could try having it log what it's using as startup source. There are some details here: <a href=\"https://stackoverflow.com/questions/18922730/how-can-i-determine-what-log-configuration-source-logback-actually-used\">https://stackoverflow.com/questions/18922730/how-can-i-determine-what-log-configuration-source-logback-actually-used</a></p>",
        "id": 220433349,
        "sender_full_name": "James Agnew",
        "timestamp": 1608329106
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191319\">James Agnew</span> <a href=\"#narrow/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging/near/220433349\">said</a>:</p>\n<blockquote>\n<p>Hmm, assuming it's picking that file up you could remove the appender.</p>\n<p>If that doesn't work, watch for any error messages from logback when it starts. Failing all else, you could try having it log what it's using as startup source. There are some details here: <a href=\"https://stackoverflow.com/questions/18922730/how-can-i-determine-what-log-configuration-source-logback-actually-used\">https://stackoverflow.com/questions/18922730/how-can-i-determine-what-log-configuration-source-logback-actually-used</a></p>\n</blockquote>\n<p>Thanks again but I can't find current log config. It isn't in logback.xml, I deleted it, I commented appenders and it continue logging.</p>\n<p>I don't know what setting hapi may be using to disable it. The amount of log messages that make tomcat's own messages difficult to read is stressful. I am attaching  a copy of messages just 1 minute after starting the tomcat service.  <a href=\"/user_uploads/10155/xKwQ5pt8oKp3-T647RD-Vw-D/catalina-hapi.txt\">catalina-hapi.txt</a></p>",
        "id": 220576433,
        "sender_full_name": "Fran del Río",
        "timestamp": 1608551810
    },
    {
        "content": "<p>The fact that there are debug messages in there certainly kinda suggests to me that it's not using your logback.xml file. Possibly because it's finding another one or possibly because it is finding another binding altogether.</p>\n<p>You could try grepping your catalina.out for the string \"slf4j\" - if SLF finds multiple bindings it'll print a warning on the console when it first starts.</p>\n<p>You could also try adding the following system property <code>-Dlogback.debug=true</code> to your startup args, this will cause logback to print debug details as it bootstraps.</p>",
        "id": 220598349,
        "sender_full_name": "James Agnew",
        "timestamp": 1608566295
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191319\">James Agnew</span> <a href=\"#narrow/stream/179167-hapi/topic/How.20to.20Disable.20HAPI.2FFHIR.20Tomcat.20Logging.3F/near/220598349\">said</a>:</p>\n<blockquote>\n<p>The fact that there are debug messages in there certainly kinda suggests to me that it's not using your logback.xml file. Possibly because it's finding another one or possibly because it is finding another binding altogether.</p>\n<p>You could try grepping your catalina.out for the string \"slf4j\" - if SLF finds multiple bindings it'll print a warning on the console when it first starts.</p>\n<p>You could also try adding the following system property <code>-Dlogback.debug=true</code> to your startup args, this will cause logback to print debug details as it bootstraps.</p>\n</blockquote>\n<p>.</p>\n<p>Nothing in catalina.out for the string \"slf\".  How should the system property be added to the startup args?</p>",
        "id": 220618256,
        "sender_full_name": "Fran del Río",
        "timestamp": 1608577560
    },
    {
        "content": "<p>That I'm not sure, I haven't used Tomcat in a long time. I'm sure googling something like \"Tomcat Set System Property\" would have results though</p>",
        "id": 220713793,
        "sender_full_name": "James Agnew",
        "timestamp": 1608658041
    },
    {
        "content": "<p>The Tomcat 7.0 RUNNING.txt file mentions a \"setenv\" script, and environment variables such as CATALINA_OPTS and JAVA_OPTS.<br>\n<a href=\"https://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt\">https://tomcat.apache.org/tomcat-7.0-doc/RUNNING.txt</a></p>",
        "id": 220734058,
        "sender_full_name": "Joel Schneider",
        "timestamp": 1608671035
    },
    {
        "content": "<p>Thanks James &amp; Joel!   My problem was next:  my   logback.xml   file was in hapi-app/WEB-INF/  directory <span aria-label=\"-1\" class=\"emoji emoji-1f44e\" role=\"img\" title=\"-1\">:-1:</span>   instead of  hapi-app/WEB-INF/classes/  directory <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> .  For this reason, all the configuration that was carried out in it was ignored.</p>\n<p>I just moved it to the right one.  Now it's considering the configured appenders, loggers, etc.</p>\n<p>Thanks again and happy new year!</p>",
        "id": 221241098,
        "sender_full_name": "Fran del Río",
        "timestamp": 1609357747
    }
]