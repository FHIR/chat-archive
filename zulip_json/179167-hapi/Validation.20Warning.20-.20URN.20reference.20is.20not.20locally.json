[
    {
        "content": "<p>In HAPI Validation this is returned as a warning. <br>\nHowever for FHIR Messages I think this should be an error (the message should be self contained).</p>\n<p>Is this correct?</p>\n<p>Is it possible to upgrade these referencing warnings to errors via a setting?</p>",
        "id": 260521540,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1636214871
    },
    {
        "content": "<p>it's not stated as true in the specification - that messages should be entirely self contained. All that the spec says is that MessageHeader.focus SHALL be in the message. let me know if that's not being enforced. Otherwise, you can make a profile to say that where you want to say it (see ElementDefinition.type.aggregation)</p>",
        "id": 260593439,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636316203
    },
    {
        "content": "<p>Let me test that. <br>\nI've a feeling when our resource A is in a REST interaction, its referenced and when in a message interaction it's bundled.</p>",
        "id": 260626405,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1636360259
    },
    {
        "content": "<p>bw, this code is org.hl7.fhir.validation.instance.type.BundleValidator.validateMessage</p>",
        "id": 260633843,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636364554
    },
    {
        "content": "<p>It works. <br>\nLooking at <a href=\"https://www.hl7.org/fhir/valueset-resource-aggregation-mode.html\">https://www.hl7.org/fhir/valueset-resource-aggregation-mode.html</a><br>\nWhat I'm after is just slightly different to:<br>\n<strong>The resource the reference points to will be found in the same bundle as the resource that includes the reference.</strong><br>\nSomething like <br>\nif Bundle.type = message then apply rule else ignore</p>\n<p>I'll get some other internal views</p>",
        "id": 260636930,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1636366254
    }
]