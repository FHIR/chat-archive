[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> For Conditional Create, Update and Delete, we'd rather not rewrite query parsing, but would prefer to use the same query parsing code that HAPI uses so that we could call the Query methods we already have.  Is there a way to either invoke a query through the server (whilst inside a create/delete/update operation), or at least using HAPI parameter parsing tools to facilitate the parsing of the conditional query?</p>",
        "id": 153861451,
        "sender_full_name": "Keith Boone",
        "timestamp": 1481097739
    },
    {
        "content": "<p>Hi Keith- The method <code>BaseHapiFhirDao#translateMatchUrl(FhirContext, String, RuntimeResourceDefinition)</code> (source <a href=\"https://github.com/jamesagnew/hapi-fhir/blob/e8fad33042529ad8d90e13973e817a2cf25ac0e5/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/dao/BaseHapiFhirDao.java#L1703\" target=\"_blank\" title=\"https://github.com/jamesagnew/hapi-fhir/blob/e8fad33042529ad8d90e13973e817a2cf25ac0e5/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/dao/BaseHapiFhirDao.java#L1703\">here</a>) is the method the server itself uses for this. </p>\n<p>It's a static method so you should be able to call it from wherever. It probably should be moved out of the JPA module though- you'd need to import the JPA JAR currently in order to get to it. Not neccesarily a problem since you wouldn't need to use the rest of the JPA module but it's an annoyingly big dependency.</p>",
        "id": 153861886,
        "sender_full_name": "James Agnew",
        "timestamp": 1481126772
    }
]