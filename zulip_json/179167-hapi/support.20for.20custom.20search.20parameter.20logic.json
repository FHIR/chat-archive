[
    {
        "content": "<p>I know it's possible to create custom search parameters... but can you define custom search logic in a JPA server for the custom search parameter, beyond just specifying xpath or FHIR path expressions? For example, I'd like to implement an algorithm for searching within a radius of latitude and longitude...</p>",
        "id": 206944947,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1597420732
    },
    {
        "content": "<p>To address the lat,lon, search: <a href=\"https://hapifhir.io/hapi-fhir/docs/server_jpa/search.html\">https://hapifhir.io/hapi-fhir/docs/server_jpa/search.html</a></p>",
        "id": 206945475,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1597420974
    },
    {
        "content": "<p>Have you had a look at \"near\" implementation?</p>",
        "id": 206945514,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1597421002
    },
    {
        "content": "<p>That sounds related</p>",
        "id": 206945562,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1597421026
    },
    {
        "content": "<p>well, there are other examples of custom logic I'm interested in implementing</p>",
        "id": 206945751,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1597421094
    },
    {
        "content": "<p>not just lat/long</p>",
        "id": 206945758,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1597421099
    },
    {
        "content": "<p>that was just an example</p>",
        "id": 206945766,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1597421101
    },
    {
        "content": "<p>the root of my question remains: can I implement custom search <em>logic</em> in a JPA server, or am I limited to FHIR path and XPATH expressions?</p>",
        "id": 206945805,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1597421124
    },
    {
        "content": "<p>You want to search beyond the model? With FHIR path you can traverse the entire model and expressing so i cant see the limitation</p>",
        "id": 206948598,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1597422641
    },
    {
        "content": "<p>But yes - you can make your own logic</p>",
        "id": 206949827,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1597423304
    },
    {
        "content": "<p>FHIRPath is pretty good, but has it's own limitations</p>",
        "id": 206949830,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1597423305
    },
    {
        "content": "<p>do you know how to go about creating my own search logic?</p>",
        "id": 206949894,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1597423327
    },
    {
        "content": "<p>Have a look at eg. <a href=\"https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-base/src-html/ca/uhn/fhir/jpa/rp/r4/PatientResourceProvider.html\">https://hapifhir.io/hapi-fhir/apidocs/hapi-fhir-jpaserver-base/src-html/ca/uhn/fhir/jpa/rp/r4/PatientResourceProvider.html</a> - here you have access to both the parsing of the parameters from the client and access to the underlying DAO, which means you can inject your own logic here as you please</p>",
        "id": 207012687,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1597482163
    }
]