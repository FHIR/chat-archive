[
    {
        "content": "<p>Hi everyone<br>\nI have updated the hapi version from 3.3.3 to 4.0.0. But now , Responding to a request in postman does not return OperationOutcome. In old version when successful it returns MethodOutcome with my BundleResource, whereas when it fails it returns OperationOutcome default<br>\n<a href=\"/user_uploads/10155/Z_oLXacpAdCIPqihyGeG3qW2/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> <br>\n<a href=\"/user_uploads/10155/f9wuV7jO3CZuG01KTEgEIS1B/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Z_oLXacpAdCIPqihyGeG3qW2/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/Z_oLXacpAdCIPqihyGeG3qW2/pasted_image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/f9wuV7jO3CZuG01KTEgEIS1B/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/f9wuV7jO3CZuG01KTEgEIS1B/pasted_image.png\"></a></div>",
        "id": 174523294,
        "sender_full_name": "Dongtu",
        "timestamp": 1567151850
    },
    {
        "content": "<p>Now if I want return BundleResource I must use Prefer: return=representation. If I want return OperationOutcome I must use return=OperationOutcome . But I don't know my request success or fail. In the old version it was more flexible</p>",
        "id": 174523374,
        "sender_full_name": "Dongtu",
        "timestamp": 1567151975
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span></p>",
        "id": 174523473,
        "sender_full_name": "Dongtu",
        "timestamp": 1567152038
    },
    {
        "content": "<p>HAPI's behaviour was adjusted to match the recommendation in the FHIR spec:</p>\n<blockquote>\n<p>In the absence of the header, servers may choose whether to return the full resource or not (but not the OperationOutcome; that should only be returned if explicitly requested)</p>\n</blockquote>\n<p>You can still use the HTTP status code to determine whether a request was successful, or the presence of ERROR level issues in the OperationOutcome.</p>",
        "id": 174528915,
        "sender_full_name": "James Agnew",
        "timestamp": 1567157148
    },
    {
        "content": "<p>If I still want to return OperationOutcome, How can I do that in version 4.0.0</p>",
        "id": 174529469,
        "sender_full_name": "Dongtu",
        "timestamp": 1567157678
    },
    {
        "content": "<p>Using the prefer header:</p>\n<p><code>Prefer: return=OperationOutcome</code></p>",
        "id": 174529504,
        "sender_full_name": "James Agnew",
        "timestamp": 1567157739
    },
    {
        "content": "<p>ok thanks so much. I understood the problem</p>",
        "id": 174529706,
        "sender_full_name": "Dongtu",
        "timestamp": 1567157905
    }
]