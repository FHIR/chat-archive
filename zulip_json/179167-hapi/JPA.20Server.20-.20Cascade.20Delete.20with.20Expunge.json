[
    {
        "content": "<p>Hello everyone,</p>\n<p>I'm trying to delete all resources like Encounters, Observations,... associated with a specific patient on my HAPI JPA server. <br>\nIn theory, simply calling <code>DELETE Patient/IMI-12345678?_cascade=delete&amp;_expunge=true</code>should do the job (expunge and cascading deletes are enabled, I also increased the MaximumDeleteConflictQueryCount of the DaoConfig to 500). </p>\n<p>The operation takes some time and the OperationOutcome reports success, however, when I invoke <code>GET Patient/IMI-12345678/_history</code>the patient still appears. The same applies for all resources that should have been deleted. </p>\n<p>Is there anything else I have to enable? Or are the <code>_cascade</code> and <code>_expunge</code> parameters not meant to be used together?</p>\n<p>I would be glad to get some advice! Thanks in advance!</p>",
        "id": 230875113,
        "sender_full_name": "Johannes Oehm",
        "timestamp": 1616078665
    },
    {
        "content": "<p>I think this is a bug, i couldn't get cascade delete to work in the current version. Created a Issue linked here: <a href=\"#narrow/stream/179167-hapi/topic/_cascade.3Ddelete.20isn't.20working\">https://chat.fhir.org/#narrow/stream/179167-hapi/topic/_cascade.3Ddelete.20isn't.20working</a></p>",
        "id": 231781828,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1616670654
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> : I asked you for the search parameter but now I can handle my problem now (sorry for your inconvenience )</p>",
        "id": 233976153,
        "sender_full_name": "Jame Dang",
        "timestamp": 1618079227
    }
]