[
    {
        "content": "<p>Hi, I'm new to fhir and hapi. I'm creating ChargeItem for the profile <a href=\"http://fhir.de/StructureDefinition/chargeItem-de-art-abrechnung\">http://fhir.de/StructureDefinition/chargeItem-de-art-abrechnung</a>. I use the docker image hapiproject/hapi to start a server. My problem is, when I add a reference to a practitioner to the requestingOrganisation (requestingOrganization/identifier/assigner), I get an error message, telling me, that a reference to a practitioner is not allowed at this point.<br>\nThe error happens, when I use the generic client's create method and is responded from the server.<br>\nI got no idea, why the server is responding that and I have no idea how I can change it.<br>\nAny help welcome</p>",
        "id": 237298512,
        "sender_full_name": "Andreas Beckers",
        "timestamp": 1620122975
    },
    {
        "content": "<p>Hmm, strange.Are you able to replicate this issue on our public server? (<a href=\"http://hapi.fhir.org\">hapi.fhir.org</a>)</p>",
        "id": 237530501,
        "sender_full_name": "James Agnew",
        "timestamp": 1620234180
    },
    {
        "content": "<p>Yes, I can reproduce:<br>\nError: HTTP 422 Unprocessable Entity: Invalid reference found at path 'ChargeItem.requestingOrganization.identifier.assigner'. Resource type 'Practitioner' is not valid for this path</p>",
        "id": 237640790,
        "sender_full_name": "Andreas Beckers",
        "timestamp": 1620299483
    },
    {
        "content": "<p>Could you provide a sample minimal example that demonstrates the issue on that server?</p>",
        "id": 237648094,
        "sender_full_name": "James Agnew",
        "timestamp": 1620303535
    },
    {
        "content": "<p>This one for example produces this error:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code><span class=\"nt\">&lt;ChargeItem</span> <span class=\"na\">xmlns=</span><span class=\"s\">\"http://hl7.org/fhir\"</span><span class=\"nt\">&gt;</span>\n   <span class=\"nt\">&lt;meta&gt;</span>\n      <span class=\"nt\">&lt;profile</span> <span class=\"na\">value=</span><span class=\"s\">\"http://fhir.de/StructureDefinition/chargeItem-de-art-abrechnung\"</span><span class=\"nt\">&gt;&lt;/profile&gt;</span>\n   <span class=\"nt\">&lt;/meta&gt;</span>\n   <span class=\"nt\">&lt;identifier&gt;</span>\n      <span class=\"nt\">&lt;use</span> <span class=\"na\">value=</span><span class=\"s\">\"official\"</span><span class=\"nt\">&gt;&lt;/use&gt;</span>\n      <span class=\"nt\">&lt;system</span> <span class=\"na\">value=</span><span class=\"s\">\"W10110\"</span><span class=\"nt\">&gt;&lt;/system&gt;</span>\n      <span class=\"nt\">&lt;value</span> <span class=\"na\">value=</span><span class=\"s\">\"42020-521562-20201005-06211\"</span><span class=\"nt\">&gt;&lt;/value&gt;</span>\n   <span class=\"nt\">&lt;/identifier&gt;</span>\n   <span class=\"nt\">&lt;status</span> <span class=\"na\">value=</span><span class=\"s\">\"billable\"</span><span class=\"nt\">&gt;&lt;/status&gt;</span>\n   <span class=\"nt\">&lt;requestingOrganization&gt;</span>\n     <span class=\"nt\">&lt;reference</span> <span class=\"na\">value=</span><span class=\"s\">\"Organization/12104\"</span> <span class=\"nt\">/&gt;</span>\n     <span class=\"nt\">&lt;identifier&gt;</span>\n        <span class=\"nt\">&lt;assigner&gt;</span>\n          <span class=\"nt\">&lt;reference</span> <span class=\"na\">value=</span><span class=\"s\">\"Practitioner/4752\"</span><span class=\"nt\">&gt;&lt;/reference&gt;</span>\n        <span class=\"nt\">&lt;/assigner&gt;</span>\n     <span class=\"nt\">&lt;/identifier&gt;</span>\n   <span class=\"nt\">&lt;/requestingOrganization&gt;</span>\n<span class=\"nt\">&lt;/ChargeItem&gt;</span>\n</code></pre></div>",
        "id": 237772220,
        "sender_full_name": "Andreas Beckers",
        "timestamp": 1620366735
    }
]