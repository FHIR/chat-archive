[
    {
        "content": "<p>I'm seeing some troublesome behavior in ReferenceAndListParam.parseValuesAsQueryTokens() when passed a value like encounter:AuditEvent=Encounter/1234567</p>\n<p>Clearly this query won't match because the resource is an Encounter, but the query is looking for AuditEvent.  Ignore the use of AuditEvent, this was my test harness and I knew it was a good test case.  There are other cases where even though the query is obviously wrong, automated software might not get that.</p>\n<p>So, what happens to this is that the parsed reference parameter uses the value of Encounter from the specified Reference, rather than the value associated with the qualifier.  While the query may be messed up, it seems also that the HAPI server behavior would also be not what is desired in this situation.  The query parameters might be set by one software component, the values by another (or perhaps even bad input from an unrelated component -- which is what my test was checking).  Thoughts? <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span></p>",
        "id": 153949504,
        "sender_full_name": "Keith Boone",
        "timestamp": 1522444489
    },
    {
        "content": "<blockquote>\n<p>I'm seeing some troublesome behavior in ReferenceAndListParam.parseValuesAsQueryTokens() when passed a value like encounter:AuditEvent=Encounter/1234567</p>\n</blockquote>\n<p>If I'm not mistaken in such case syntax is slightly different - ie. <code>encounter:AuditEvent.id=&lt;id-of-audit-id&gt;</code>. I was patching this part of <code>SearchMap</code> implementation for my own use because I had to rewrite search from hapi to format accepted by system I was interfacing with.</p>",
        "id": 153952547,
        "sender_full_name": "≈Åukasz Dywicki",
        "timestamp": 1523893753
    }
]