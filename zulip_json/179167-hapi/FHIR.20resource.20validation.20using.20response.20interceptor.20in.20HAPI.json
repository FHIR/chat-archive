[
    {
        "content": "<p>I have a code as shown in example where I am purposely not setting \"status\" which is required in Observation resource  when http request is made to my server <a href=\"http://localhost:8080/context/fhir/resource/Observation?category=vital-signs&amp;patient=abcdefgh\" target=\"_blank\" title=\"http://localhost:8080/context/fhir/resource/Observation?category=vital-signs&amp;patient=abcdefgh\">http://localhost:8080/context/fhir/resource/Observation?category=vital-signs&amp;patient=abcdefgh</a> </p>\n<div class=\"codehilite\"><pre><span></span>Observation obs = new Observation();\nobs.getCode().addCoding().setSystem(&quot;http://loinc.org&quot;).setCode(&quot;12345-6&quot;);\nobs.setValue(new StringType(&quot;This is a value&quot;));\n</pre></div>\n\n\n<p>Then I have following code in the service which extends RestfulServer : </p>\n<div class=\"codehilite\"><pre><span></span>public void initialize() {\n\n          //some code ...\n          ResponseValidatingInterceptor responseInterceptor = new ResponseValidatingInterceptor();\n      responseInterceptor.addValidatorModule(new FhirInstanceValidator());\n      responseInterceptor.setFailOnSeverity(ResultSeverityEnum.ERROR);\n      responseInterceptor.setAddResponseHeaderOnSeverity(ResultSeverityEnum.INFORMATION);\n      responseInterceptor.setResponseHeaderValue(&quot;Validation on ${line}: ${message} ${severity}&quot;);\n      responseInterceptor.setResponseHeaderValueNoIssues(&quot;No issues detected&quot;);\n}\n</pre></div>\n\n\n<p>Now at the output, I am getting \"No issues detected\" when ideally I should get validation error in header since observation has no status.<br>\nThats my problem</p>\n<p>My outgoing response in bundle through :</p>\n<div class=\"codehilite\"><pre><span></span>{\n    &quot;resourceType&quot;: &quot;Bundle&quot;,\n    &quot;id&quot;: &quot;uiehfkdhsfn-sdfjs-sdff-sdfs-yugrhfjbsdf&quot;,\n    &quot;meta&quot;: {\n        &quot;lastUpdated&quot;: &quot;2019-05-01T14:11:26.390-04:00&quot;\n      },\n    &quot;language&quot;: &quot;ENG&quot;,\n    &quot;type&quot;: &quot;searchset&quot;,\n    &quot;total&quot;: 4,\n    &quot;link&quot;: [\n        {\n            &quot;relation&quot;: &quot;self&quot;,\n            &quot;url&quot;: &quot;http://localhost:8080/context/fhir/resource/Observation?category=vital-signs&amp;amp;patient=abcdefgh&quot;\n        }\n    ],\n    &quot;entry&quot;: [\n        {\n            &quot;resource&quot;: {\n                &quot;resourceType&quot;: &quot;Observation&quot;,\n                &quot;id&quot;: &quot;adasdasdadasdasd.asdasdasdasdasdasd&quot;,\n                &quot;text&quot;: {\n                    &quot;status&quot;: &quot;generated&quot;,\n                    &quot;div&quot;: &quot;&amp;lt;table xmlns=\\&quot;http://www.w3.org/1999/xhtml\\&quot;&amp;gt;&amp;lt;thead&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;Vital&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;Patient Control     No&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/thead&amp;gt;&amp;lt;tbody&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;td&amp;gt;Blood Pressure Systolic:117 mm Hg&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;9294&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&quot;\n                },\n                &quot;category&quot;: [\n                    {\n                        &quot;coding&quot;: [\n                            {\n                                &quot;system&quot;: &quot;http://hl7.org/fhir/observation-category&quot;,\n                                &quot;code&quot;: &quot;vital-signs&quot;,\n                                &quot;display&quot;: &quot;Vital Signs&quot;\n                            }\n                        ],\n                        &quot;text&quot;: &quot;vital-signs&quot;\n                    }\n                ],\n                &quot;code&quot;: {\n                    &quot;coding&quot;: [\n                        {\n                            &quot;system&quot;: &quot;http://loinc.org&quot;,\n                            &quot;code&quot;: &quot;8480-6&quot;,\n                            &quot;display&quot;: &quot;blood pressure systolic&quot;\n                        }\n                    ],\n                    &quot;text&quot;: &quot;Blood Pressure Systolic&quot;\n                },\n                &quot;subject&quot;: {\n                    &quot;reference&quot;: &quot;Patient/abcdefgh&quot;\n                },\n                &quot;effectiveDateTime&quot;: &quot;2019-04-17&quot;,\n                &quot;valueQuantity&quot;: {\n                    &quot;value&quot;: 117,\n                    &quot;unit&quot;: &quot;mm[Hg]&quot;,\n                    &quot;system&quot;: &quot;http://unitsofmeasure.org&quot;,\n                    &quot;code&quot;: &quot;mm[Hg]&quot;\n                }\n            }\n        }\n    ]\n}\n</pre></div>",
        "id": 164640301,
        "sender_full_name": "Aditya",
        "timestamp": 1556731805
    }
]