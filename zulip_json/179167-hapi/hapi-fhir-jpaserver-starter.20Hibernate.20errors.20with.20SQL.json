[
    {
        "content": "<p>I think possibly relevant to <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> — trying to get the <a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter\" target=\"_blank\" title=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter\">https://github.com/hapifhir/hapi-fhir-jpaserver-starter</a> repository running in a Docker container with a <code>docker-compose</code> MySQL container running alongside. Followed the MySQL subheader instructions and got at least the Jetty server running, but the hapi-fhir-jpaserver Servlet status is listed as <em>Not Available</em>. When I check my error logs, it looks like the servlet isn't being initialized due to a Hibernate connection error; but my credentials and DB uri are definitely correct (I can connect from the local machine to the SQL db directly). </p>\n<p>Before I spend a bunch more time debugging the SQL connection, is this error familiar to you/anyone? I imagine it's an auth issue but am not sure where to start debugging.</p>\n<div class=\"codehilite\"><pre><span></span>Caused by: javax.persistence.PersistenceException: [PersistenceUnit: HAPI_PU] Unable to build Hibernate SessionFactory; nested exception i\ns org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution\n</pre></div>",
        "id": 171701731,
        "sender_full_name": "Jordan Matelsky",
        "timestamp": 1564068942
    },
    {
        "content": "<p>(Happy to share my docker-compose, hapi.properties, full error log if helpful!)</p>",
        "id": 171701791,
        "sender_full_name": "Jordan Matelsky",
        "timestamp": 1564068969
    },
    {
        "content": "<p>(Sorry to pick on you <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span>  — but you made the fatal mistake of being the first username I found on that repo :) )</p>",
        "id": 171701823,
        "sender_full_name": "Jordan Matelsky",
        "timestamp": 1564069009
    },
    {
        "content": "<p>(i think <span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> might be involved in that codebase as well?)</p>",
        "id": 171707331,
        "sender_full_name": "Jordan Matelsky",
        "timestamp": 1564073686
    },
    {
        "content": "<p>I may have a solution, will share here for others once I know it's working</p>",
        "id": 171712907,
        "sender_full_name": "Jordan Matelsky",
        "timestamp": 1564077939
    },
    {
        "content": "<p>Did you make sure the dialect property was updated with a valid MySQL dialect in the hapi.properties file?</p>",
        "id": 171713530,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1564078459
    },
    {
        "content": "<p>and yes, I do contribute to hapi-fhir-jpaserver-starter... but only a little :)</p>",
        "id": 171713548,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1564078482
    },
    {
        "content": "<p>I, too, am interested in getting hapi running in a docker container, though. So, this is definitely of interest to me</p>",
        "id": 171713565,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1564078500
    },
    {
        "content": "<p>I just haven't had any time to play around with it, yet</p>",
        "id": 171713589,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1564078511
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> yep — used the configs right out of the README.md on that repo, i think i needed to add one more config line.... will git-diff and report back</p>",
        "id": 171725014,
        "sender_full_name": "Jordan Matelsky",
        "timestamp": 1564086765
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> (and cc <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> FYSA) — here's the repo where we've got a working Docker-Compose. The big <em>gotcha</em> was keeping the jetty server from spinning up the Servlet until <em>after</em> the mysql container was provisioned and running happily. There's some junk config lines in there but it should be pretty straightforward to see the changes we made! Happy to talk more about, too.</p>",
        "id": 171728447,
        "sender_full_name": "Jordan Matelsky",
        "timestamp": 1564089239
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191505\">Sean McIlvenna</span> (and cc <span class=\"user-mention silent\" data-user-id=\"191319\">James Agnew</span> FYSA) — here's the repo where we've got a working Docker-Compose. The big <em>gotcha</em> was keeping the jetty server from spinning up the Servlet until <em>after</em> the mysql container was provisioned and running happily. There's some junk config lines in there but it should be pretty straightforward to see the changes we made! Happy to talk more about, too.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"195947\">@Jordan Matelsky</span> where is the repo? I think you forgot a link</p>",
        "id": 181606819,
        "sender_full_name": "dsh",
        "timestamp": 1574392649
    }
]