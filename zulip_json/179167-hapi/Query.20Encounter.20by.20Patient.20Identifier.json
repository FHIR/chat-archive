[
    {
        "content": "<p>Does HAPI implementation allow searching Encounter by Patient Identifier e.g. <a href=\"http://hapi.fhir.org/baseR4/Patient?identifier=MLKCH-LA%25CERNER%25654321\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Patient?identifier=MLKCH-LA%25CERNER%25654321\">this patient's</a> internal identifier is  MLKCH-LA%CERNER%654321 but <em>_id</em> is 181210 , so even though there exists an Encounter by ID <a href=\"http://hapi.fhir.org/baseR4/Encounter/181215?_pretty=true\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Encounter/181215?_pretty=true\">181215</a> I still cannot search it by Patient's internal Identifier MLKCH-LA%CERNER%654321 like this <a href=\"http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%CERNER%654321\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%CERNER%654321\">http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%CERNER%654321</a> or even with escaped % symbol <a href=\"http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%25CERNER%25654321\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%25CERNER%25654321\">http://hapi.fhir.org/baseR4/Encounter?_type=Patient&amp;identifier=MLKCH-LA%25CERNER%25654321</a></p>",
        "id": 182483627,
        "sender_full_name": "dsh",
        "timestamp": 1575399904
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ^ please chime in</p>",
        "id": 182483765,
        "sender_full_name": "dsh",
        "timestamp": 1575399969
    },
    {
        "content": "<p>that's not a part of HAPI I work on or have any knowledge about</p>",
        "id": 182484194,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575400275
    },
    {
        "content": "<p>i think your query is wrong as you are searching for the identifier on Encounter, but this should be searched on the Patient</p>",
        "id": 182484912,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1575400755
    },
    {
        "content": "<p>Encounter?patient.identifier=&lt;identifier_system&gt;|181210</p>",
        "id": 182485322,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1575401007
    },
    {
        "content": "<p>should work</p>",
        "id": 182485344,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1575401019
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> Not sure if I got it right but my query is <a href=\"http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%25CERNER%25654321|18120\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%25CERNER%25654321|18120\">http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%25CERNER%25654321|18120</a> and that does not work even unescaped % sign does not work <a href=\"http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%CERNER%654321%7C18120\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%CERNER%654321%7C18120\">http://hapi.fhir.org/baseR4/Encounter?patient.identifier=MLKCH-LA%CERNER%654321%7C18120</a></p>",
        "id": 182486443,
        "sender_full_name": "dsh",
        "timestamp": 1575401682
    },
    {
        "content": "<p>let me try with &lt;identifier system&gt; and value</p>",
        "id": 182486526,
        "sender_full_name": "dsh",
        "timestamp": 1575401742
    },
    {
        "content": "<p>no luck with that <a href=\"http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-resource-identifier|MLKCH-LA%25CERNER%25654321\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-resource-identifier|MLKCH-LA%25CERNER%25654321\">http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-resource-identifier|MLKCH-LA%25CERNER%25654321</a></p>",
        "id": 182486703,
        "sender_full_name": "dsh",
        "timestamp": 1575401851
    },
    {
        "content": "<p>even <code>subject.identifier</code> does not work <a href=\"http://hapi.fhir.org/baseR4/Encounter?subject.identifier=Patient?MLKCH-LA%25CERNER%25654321\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Encounter?subject.identifier=Patient?MLKCH-LA%25CERNER%25654321\">http://hapi.fhir.org/baseR4/Encounter?subject.identifier=Patient?MLKCH-LA%25CERNER%25654321</a></p>",
        "id": 182486854,
        "sender_full_name": "dsh",
        "timestamp": 1575401948
    },
    {
        "content": "<p><a href=\"http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-identifier|\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-identifier|\">http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://caringly.tech/hospital-patient-identifier|</a><br>\nworks</p>",
        "id": 182486883,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1575401969
    },
    {
        "content": "<p>but that's not taking into account the actual value of the identifier</p>",
        "id": 182487001,
        "sender_full_name": "dsh",
        "timestamp": 1575402028
    },
    {
        "content": "<p>that's just limited to the system</p>",
        "id": 182487013,
        "sender_full_name": "dsh",
        "timestamp": 1575402038
    },
    {
        "content": "<p>yes</p>",
        "id": 182487019,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1575402043
    },
    {
        "content": "<p>escaping the % seems to be the problem, i guess..</p>",
        "id": 182487668,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1575402487
    },
    {
        "content": "<p>I don't think that's the problem because I can fetch Patient by internal identifier just fine <a href=\"http://hapi.fhir.org/baseR4/Patient?identifier=MLKCH-LA%25CERNER%25654321&amp;_pretty=true\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Patient?identifier=MLKCH-LA%25CERNER%25654321&amp;_pretty=true\">http://hapi.fhir.org/baseR4/Patient?identifier=MLKCH-LA%25CERNER%25654321&amp;_pretty=true</a></p>",
        "id": 182488315,
        "sender_full_name": "dsh",
        "timestamp": 1575402843
    },
    {
        "content": "<p>a <code>%</code>sign is escaped using <code>%25</code></p>",
        "id": 182488362,
        "sender_full_name": "dsh",
        "timestamp": 1575402868
    },
    {
        "content": "<p>if you use the other identifier with the simple identifier value it works: <a href=\"http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://new-republic.gov/galactic-citizen-identifier|000000000\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://new-republic.gov/galactic-citizen-identifier|000000000\">http://hapi.fhir.org/baseR4/Encounter?patient.identifier=http://new-republic.gov/galactic-citizen-identifier|000000000</a></p>",
        "id": 182489181,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1575403210
    },
    {
        "content": "<p>could you file an issue on GH for this bug?</p>",
        "id": 182489497,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1575403410
    },
    {
        "content": "<p>ok</p>",
        "id": 182492988,
        "sender_full_name": "dsh",
        "timestamp": 1575405740
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> here it is <a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter/issues/66\" target=\"_blank\" title=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter/issues/66\">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/issues/66</a></p>",
        "id": 182494789,
        "sender_full_name": "dsh",
        "timestamp": 1575406880
    }
]