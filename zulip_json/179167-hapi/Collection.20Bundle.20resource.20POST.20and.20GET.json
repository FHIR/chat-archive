[
    {
        "content": "<p>Hi! I hope this is right stream to ask this. I made a short example to present my problem. I've been testing POSTing collection bundle to FHIR test server (<a href=\"http://hapi.fhir.org/baseDstu3\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3\">http://hapi.fhir.org/baseDstu3</a>). I am able to POST/PUT my example containing Patient, Practitioner and Observation. I can GET the same bundle with id back as a bundle. I have been assuming that each resource are created to server as separated resources as well? Now if I would like to get only the patient separately from bundle it would be possible? What I have tried to do is:<br>\n1. PUT <a href=\"http://hapi.fhir.org/baseDstu3/Bundle/93a1e2ba-0c87-1000-b622-915900009d40\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/Bundle/93a1e2ba-0c87-1000-b622-915900009d40\">http://hapi.fhir.org/baseDstu3/Bundle/93a1e2ba-0c87-1000-b622-915900009d40</a>, (where id = id in bundle resource) This works (201 Created)<br>\n2. GET <a href=\"http://hapi.fhir.org/baseDstu3/Bundle/93a1e2ba-0c87-1000-b622-915900009d40\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/Bundle/93a1e2ba-0c87-1000-b622-915900009d40\">http://hapi.fhir.org/baseDstu3/Bundle/93a1e2ba-0c87-1000-b622-915900009d40</a>, This works (200 OK)<br>\n3. GET <a href=\"http://hapi.fhir.org/baseDstu3/Patient/93a14fea-0c87-1000-b132-4d4c00009619\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/Patient/93a14fea-0c87-1000-b132-4d4c00009619\">http://hapi.fhir.org/baseDstu3/Patient/93a14fea-0c87-1000-b132-4d4c00009619</a><br>\n4. GET <a href=\"http://hapi.fhir.org/baseDstu3/Practitioner/c04d8694-0c17-435c-ab0c-28dce1c9832c\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/Practitioner/c04d8694-0c17-435c-ab0c-28dce1c9832c\">http://hapi.fhir.org/baseDstu3/Practitioner/c04d8694-0c17-435c-ab0c-28dce1c9832c</a><br>\n5. GET <a href=\"http://hapi.fhir.org/baseDstu3/Observation/93a1e2ae-0c87-1000-b3a6-db1200003c15\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/Observation/93a1e2ae-0c87-1000-b3a6-db1200003c15\">http://hapi.fhir.org/baseDstu3/Observation/93a1e2ae-0c87-1000-b3a6-db1200003c15</a><br>\nWhat I need to add to bundle to actually create all the resources separately in the server? </p>\n<p>Example:<br>\n`<br>\n{<br>\n    \"entry\": [<br>\n        {<br>\n            \"resource\":         <br>\n            {<br>\n                \"birthDate\": \"2005-01-02\",<br>\n                \"gender\": \"female\",<br>\n                \"id\": \"93a14fea-0c87-1000-b132-4d4c00009619\",<br>\n                \"name\": [<br>\n                    {<br>\n                        \"family\": \"BundleTest\",<br>\n                        \"given\": [<br>\n                            \"BundleDude\",<br>\n                            \"Seppo\"<br>\n                        ]<br>\n                    }<br>\n                ],<br>\n                \"resourceType\": \"Patient\",<br>\n                \"text\": {<br>\n                    \"div\": \"&lt;div xmlns='<a href=\"http://www.w3.org/1999/xhtml'&gt;Patient&lt;a\" target=\"_blank\" title=\"http://www.w3.org/1999/xhtml'&gt;Patient&lt;a\">http://www.w3.org/1999/xhtml'&gt;Patient&lt;a</a> name='mm'/&gt;&lt;/div&gt;\",<br>\n                    \"status\": \"generated\"<br>\n                }<br>\n            }       </p>\n<div class=\"codehilite\"><pre><span></span>    },\n    {\n        &quot;resource&quot;: {\n            &quot;id&quot;: &quot;c04d8694-0c17-435c-ab0c-28dce1c9832c&quot;,\n            &quot;name&quot;: [\n                {\n                    &quot;family&quot;: &quot;Testinen&quot;,\n                    &quot;given&quot;: [\n                        &quot;Hoitaja&quot;,\n                        &quot;Hanna&quot;\n                    ]\n                }\n            ],\n            &quot;resourceType&quot;: &quot;Practitioner&quot;,\n            &quot;text&quot;: {\n                &quot;div&quot;: &quot;&amp;lt;div xmlns=&#39;http://www.w3.org/1999/xhtml&#39;&amp;gt;Practitioner&amp;lt;a name=&#39;mm&#39;/&amp;gt;&amp;lt;/div&amp;gt;&quot;,\n                &quot;status&quot;: &quot;generated&quot;\n            }\n        }\n    },\n    {\n        &quot;resource&quot;: {\n            &quot;category&quot;: [\n                {\n                    &quot;coding&quot;: [\n                        {\n                            &quot;code&quot;: &quot;vital-signs&quot;,\n                            &quot;system&quot;: &quot;http://hl7.org/fhir/observation-category&quot;\n                        }\n                    ]\n                }\n            ],\n            &quot;code&quot;: {\n                &quot;coding&quot;: [\n                    {\n                        &quot;code&quot;: &quot;8302-2&quot;,\n                        &quot;display&quot;: &quot;Body height&quot;,\n                        &quot;system&quot;: &quot;http://loinc.org&quot;\n                    }\n                ]\n            },\n            &quot;effectiveDateTime&quot;: &quot;2019-05-06T12:02:34Z&quot;,\n            &quot;id&quot;: &quot;93a1e2ae-0c87-1000-b3a6-db1200003c15&quot;,\n            &quot;issued&quot;: &quot;2019-05-06T12:02:58Z&quot;,\n            &quot;language&quot;: &quot;en&quot;,\n            &quot;meta&quot;: {\n                &quot;profile&quot;: [\n                    &quot;http://phr.kanta.fi/StructureDefinition/fiphr-bodyheight-stu3&quot;\n                ]\n            },\n            &quot;performer&quot;: [\n                {\n                    &quot;reference&quot;: &quot;Practitioner/c04d8694-0c17-435c-ab0c-28dce1c9832c&quot;\n                }\n            ],\n            &quot;resourceType&quot;: &quot;Observation&quot;,\n            &quot;status&quot;: &quot;final&quot;,\n            &quot;subject&quot;: {\n                &quot;reference&quot;: &quot;Patient/93a14fea-0c87-1000-b132-4d4c00009619&quot;\n            },\n            &quot;text&quot;: {\n                &quot;div&quot;: &quot;&amp;lt;div xmlns=&#39;http://www.w3.org/1999/xhtml&#39;&amp;gt;Height&amp;lt;a name=&#39;mm&#39;/&amp;gt;&amp;lt;/div&amp;gt;&quot;,\n                &quot;status&quot;: &quot;generated&quot;\n            },\n            &quot;valueQuantity&quot;: {\n                &quot;code&quot;: &quot;cm&quot;,\n                &quot;system&quot;: &quot;http://unitsofmeasure.org&quot;,\n                &quot;unit&quot;: &quot;cm&quot;,\n                &quot;value&quot;: 155\n            }\n        }\n    }\n\n],\n&quot;id&quot;: &quot;93a1e2ba-0c87-1000-b622-915900009d40&quot;,\n&quot;resourceType&quot;: &quot;Bundle&quot;,\n&quot;type&quot;: &quot;collection&quot;\n</pre></div>\n\n\n<p>}<br>\n`</p>",
        "id": 165786374,
        "sender_full_name": "Lauri Karppinen",
        "timestamp": 1557991656
    },
    {
        "content": "<p>This sounds to me like you're looking for the FHIR transaction operation. There are example Bundles here: <a href=\"http://hl7.org/fhir/http.html#transaction\" target=\"_blank\" title=\"http://hl7.org/fhir/http.html#transaction\">http://hl7.org/fhir/http.html#transaction</a></p>\n<p>You need to POST this to the root of the server and not the Bundle endpoint, e.g. <code>http://hapi.fhir.org/baseDstu3</code></p>",
        "id": 165787670,
        "sender_full_name": "James Agnew",
        "timestamp": 1557993097
    },
    {
        "content": "<p>I added request elements like this in each resource and changed type to transaction.<br>\n<code>               \"request\": {\n                    \"method\": \"PUT\",\n                    \"url\": \"Patient/93a14fea-0c87-1000-b132-4d4c00009619\"\n                  }</code><br>\nand tried to POST it to <a href=\"http://hapi.fhir.org/baseDstu3\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3\">http://hapi.fhir.org/baseDstu3</a> (deleted /Bundle)</p>\n<p>Now I get error: \"Transaction bundle entry has missing or invalid HTTP Verb specified in Bundle.entry(0).request.method. Found value: \\\"null\\\"\"</p>",
        "id": 165794903,
        "sender_full_name": "Lauri Karppinen",
        "timestamp": 1558000318
    },
    {
        "content": "<p>That error looks like you might be missing the Bundle.entry.request.method field on one of your entries. Can you confirm that you have it for all entries in the bundle?</p>\n<p>It might be worth stripping your bundle down to 1 entry and then expanding from there if you get it working with 1...</p>",
        "id": 165795895,
        "sender_full_name": "James Agnew",
        "timestamp": 1558001268
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>{\n    &quot;entry&quot;: [\n        {\n            &quot;resource&quot;:\n            {\n                &quot;birthDate&quot;: &quot;2005-01-02&quot;,\n                &quot;gender&quot;: &quot;female&quot;,\n                &quot;id&quot;: &quot;93a14fea-0c87-1000-b132-4d4c00009619&quot;,\n                &quot;name&quot;: [\n                    {\n                        &quot;family&quot;: &quot;BundleTest&quot;,\n                        &quot;given&quot;: [\n                            &quot;BundleDude&quot;,\n                            &quot;Seppo&quot;\n                        ]\n                    }\n                ],\n                &quot;resourceType&quot;: &quot;Patient&quot;,\n                &quot;text&quot;: {\n                    &quot;div&quot;: &quot;&lt;div xmlns=&#39;http://www.w3.org/1999/xhtml&#39;&gt;Patient&lt;a name=&#39;mm&#39;/&gt;&lt;/div&gt;&quot;,\n                    &quot;status&quot;: &quot;generated&quot;\n                },\n                &quot;request&quot;: {\n                    &quot;method&quot;: &quot;PUT&quot;,\n                    &quot;url&quot;: &quot;Patient/93a14fea-0c87-1000-b132-4d4c00009619&quot;\n                  }\n            }\n\n        }\n\n    ],\n    &quot;id&quot;: &quot;93a1e2ba-0c87-1000-b622-915900009d40&quot;,\n    &quot;request&quot;: {\n        &quot;method&quot;: &quot;POST&quot;,\n        &quot;url&quot;: &quot;Bundle&quot;\n      },\n    &quot;resourceType&quot;: &quot;Bundle&quot;,\n    &quot;type&quot;: &quot;transaction&quot;\n}\n</pre></div>\n\n\n<p>This should work? Does bundle resource itself has to have method. POSTing this to <a href=\"http://hapi.fhir.org/baseDstu3\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3\">http://hapi.fhir.org/baseDstu3</a> , still gives me the same error</p>",
        "id": 165796423,
        "sender_full_name": "Lauri Karppinen",
        "timestamp": 1558001792
    },
    {
        "content": "<p>I'm having trouble reading that because of the way it's formatted (you can put three ` characters around it to fix that) but it looks to me like you have two \"request\" blocks but one is at the root of the bundle, and one is at the root of the resource, and neither of those are valid spots for that.</p>\n<p>The <code>request</code> element needs to be at the <code>entry</code> level.</p>",
        "id": 165801698,
        "sender_full_name": "James Agnew",
        "timestamp": 1558007111
    },
    {
        "content": "<p>Thanks a lot for the help <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> . I just noticed my mistake! Got the test working now. For some reason only the part of the JSON goes inside <code>code</code> when I post my questions. Got the another advice as well. ``` Thanks <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 165801989,
        "sender_full_name": "Lauri Karppinen",
        "timestamp": 1558007319
    },
    {
        "content": "<p>woohoo!</p>",
        "id": 165802590,
        "sender_full_name": "James Agnew",
        "timestamp": 1558007868
    }
]