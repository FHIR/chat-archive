[
    {
        "content": "<p>I'm facing an issue with hapi 5.7.0 on the amount of returned Patient resources (max 800).<br>\nThis server was initially setup without lucene indexing, then Lucene was enabled and $reindex triggert.</p>\n<p>For the search Patient?gender=female now only returns 800 results in <a href=\"http://Bundle.total\">Bundle.total</a> (correct would be ~6000'), if i traverse through the search pagination i get back all Patients, also male and unknown.</p>\n<p>The only way hapi 5.7.0 returns correct search results is with a _count &gt; number of patients returned by the search. I also observed pagination issues with SMILE, so i assume smth. in the pagination code causes this problem.</p>",
        "id": 278128304,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1649317905
    },
    {
        "content": "<p>Update:<br>\nDigged deeper into the Problem: for <code>Patient?gender=female</code>this hapi 5.7.1 instance returns all Patients instead of only female ones. If i search with _total=accurate i always get max 800 as the total.<br>\nWill try to recreate the issue on a test environment.</p>",
        "id": 278524082,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1649666942
    },
    {
        "content": "<p>I started a fresh instance of the jpastarter 5.7.1, POSTed 2000 patients with 1000 patients male, 1000 female.<br>\n<a href=\"http://localhost:8081/fhir/Patient?gender=male&amp;_total=accurate\">http://localhost:8081/fhir/Patient?gender=male&amp;_total=accurate</a> still returns only 800, i think there is a bug in 5.7.x hapi (jpastarter)?</p>",
        "id": 278589151,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1649698487
    },
    {
        "content": "<p>using postgres (with hibernate.dialect: ca.uhn.fhir.jpa.model.dialect.HapiFhirPostgres94Dialect setting), with a lucene index.</p>",
        "id": 278589586,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1649698688
    },
    {
        "content": "<p>Update:<br>\nI don't get this issue on a vanilla jpa-starter outside docker. Will investigate..</p>",
        "id": 278655291,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1649747127
    }
]