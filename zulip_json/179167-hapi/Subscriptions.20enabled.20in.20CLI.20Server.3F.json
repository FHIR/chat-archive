[
    {
        "content": "<p>Hi I try to use R4 Subscriptions with the CLI server. I have version 5.1.0 and use the following command to start it:</p>\n<div class=\"codehilite\"><pre><span></span><code>hapi-fhir-cli run-server -p 8082 -v r4 --allow-external-refs\n</code></pre></div>\n\n\n<p>I can't get subscriptions with a simple rest-hook working. I use the following Subscription resource:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Subscription\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"status\"</span><span class=\"p\">:</span> <span class=\"s2\">\"requested\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"criteria\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Task?status=requested\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"channel\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"rest-hook\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"endpoint\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://localhost:8080/fhir\"</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<p>After that I POST a transaction Bundle with a Task Resource. But I don't get a POST on my hook endpoint.</p>",
        "id": 213469446,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1602787206
    },
    {
        "content": "<p>One has to enable subscriptions. For me, it works best with the Docker image of the JPA Starter Server:</p>\n<div class=\"codehilite\"><pre><span></span><code>docker run -p 8080:8080 -e hapi.fhir.subscription.resthook_enabled=true hapiproject/hapi:latest\n</code></pre></div>",
        "id": 213637745,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1602915293
    }
]