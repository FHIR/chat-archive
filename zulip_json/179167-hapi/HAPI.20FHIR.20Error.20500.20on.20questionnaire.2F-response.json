[
    {
        "content": "<p>Hi all! On <a href=\"http://hapi.fhir.org/baseR4/QuestionnaireResponse?questionnaire=2535024&amp;_pretty=true\">http://hapi.fhir.org/baseR4/QuestionnaireResponse?questionnaire=2535024&amp;_pretty=true</a>, I always get an error 500. What could be the reason? Such requests on public hapifhir worked already but not anymore. thank you for any help to solve this.</p>",
        "id": 256204327,
        "sender_full_name": "peter stroessler",
        "timestamp": 1633426663
    },
    {
        "content": "<p>I suppose it's because QuestionnaireResponse.questionnaire is of type canonical. It references Questionnaire.url instead of <a href=\"http://Questionnaire.id\">Questionnaire.id</a>.</p>",
        "id": 256213524,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1633430910
    },
    {
        "content": "<p>2569991 is a vaid qestionnaire id for example. In the questoinnaire resource I can read for id on hapi fhir and get a 200 ok response...well the url is not updated to the actual website and points to an old url but this worked before without change. <a href=\"https://hapi.fhir.org/baseR4/QuestionnaireResponse?questionnaire=2569991&amp;_pretty=true&amp;_count=250\">https://hapi.fhir.org/baseR4/QuestionnaireResponse?questionnaire=2569991&amp;_pretty=true&amp;_count=250</a> 500 (Server Error)</p>",
        "id": 256245283,
        "sender_full_name": "peter stroessler",
        "timestamp": 1633440626
    },
    {
        "content": "<p>Is it possible that \"this worked before\" refers to STU3? Because the type of QuestionnaireResponse.questionnaire has been changed from Reference to canonical between STU3 and R4.<br>\nHowever I am not 100% certain how a search parameter of type reference on an element of type canonical is supposed to behave. <br>\nI would expect it to match against Questionnaire.url not <a href=\"http://Questionnaire.id\">Questionnaire.id</a>, but it might be both...</p>\n<p>The spec says: </p>\n<blockquote>\n<p>The interpretation of a reference parameter is <strong>either</strong>:<br>\n[parameter]=[id] the logical [id] of a resource using a local reference (i.e. a relative reference)<br>\n[parameter]=[type]/[id] the logical [id] of a resource of a specified type using a local reference (i.e. a relative reference), for when the reference can point to different types of resources (e.g. Observation.subject)<br>\n[parameter]=[url] where the [url] is an absolute URL - a reference to a resource by its absolute location, or by it's canonical URL</p>\n</blockquote>\n<p>I read that \"either\" as \"if it's a canonical url it will <em>only</em> match against the url, <em>not</em> the id.</p>",
        "id": 256265165,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1633447264
    },
    {
        "content": "<p>Source: <a href=\"https://hl7.org/fhir/search.html#reference\">https://hl7.org/fhir/search.html#reference</a></p>",
        "id": 256265249,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1633447289
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191450\">Simone Heckmann</span> <a href=\"#narrow/stream/179167-hapi/topic/HAPI.20FHIR.20Error.20500.20on.20questionnaire.2F-response/near/256265165\">said</a>:</p>\n<blockquote>\n<p>Is it possible that \"this worked before\" refers to STU3? Because the type of QuestionnaireResponse.questionnaire has been changed from Reference to canonical between STU3 and R4.<br>\nHowever I am not 100% certain how a search parameter of type reference on an element of type canonical is supposed to behave. <br>\nI would expect it to match against Questionnaire.url not <a href=\"http://Questionnaire.id\">Questionnaire.id</a>, but it might be both...</p>\n<p>The spec says: </p>\n<blockquote>\n<p>The interpretation of a reference parameter is <strong>either</strong>:<br>\n[parameter]=[id] the logical [id] of a resource using a local reference (i.e. a relative reference)<br>\n[parameter]=[type]/[id] the logical [id] of a resource of a specified type using a local reference (i.e. a relative reference), for when the reference can point to different types of resources (e.g. Observation.subject)<br>\n[parameter]=[url] where the [url] is an absolute URL - a reference to a resource by its absolute location, or by it's canonical URL</p>\n</blockquote>\n<p>I read that \"either\" as \"if it's a canonical url it will <em>only</em> match against the url, <em>not</em> the id.</p>\n</blockquote>\n<p>No it refers to R4. Refers to Monday 3 p.m. same request url I guess, even I changed major things, not sure...Right now I get gateway timeout from the public hapi fhir, now for about  3 days. I made a workaround with dummy data for the 'statsistics' page for the presentation, so I'm  fine. Unfortunately the test server from uni isn't running anymore (referenced url, whose Id I don't  know before the resource is created. I think need to update the entry after creation?), I got it running locally but will not afford a webspace just for presetation purpose (background info). Thank you for the help &amp; reply.</p>",
        "id": 256399276,
        "sender_full_name": "peter stroessler",
        "timestamp": 1633521951
    }
]