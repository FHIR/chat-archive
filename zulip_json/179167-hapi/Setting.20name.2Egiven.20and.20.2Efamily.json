[
    {
        "content": "<p>Hello All, <br>\nI do not quite understand why setting <code>name.given</code> and <code>name.family</code> does not work</p>\n<p>I have tried it in different ways, always with the same result:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"s2\">&quot;name&quot;</span><span class=\"err\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;use&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;official&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;_family&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n                <span class=\"p\">{</span>\n                    <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;</span><span class=\"p\">,</span>\n                    <span class=\"nt\">&quot;valueCode&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;unsupported&quot;</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">]</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">&quot;given&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"kc\">null</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">&quot;_given&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n                <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n                    <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;valueCode&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;unsupported&quot;</span>\n<span class=\"err\">...</span>\n</code></pre></div>\n\n\n<p>Currently I am trying to do it this way:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kd\">var</span> <span class=\"n\">absentName</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">HumanName</span><span class=\"p\">();</span>\n<span class=\"n\">absentName</span><span class=\"p\">.</span><span class=\"na\">setUse</span><span class=\"p\">(</span><span class=\"n\">NameUse</span><span class=\"p\">.</span><span class=\"na\">OFFICIAL</span><span class=\"p\">);</span>\n<span class=\"n\">absentName</span>\n    <span class=\"p\">.</span><span class=\"na\">getFamilyElement</span><span class=\"p\">()</span>\n    <span class=\"p\">.</span><span class=\"na\">addExtension</span><span class=\"p\">(</span>\n        <span class=\"n\">fhirProps</span><span class=\"p\">.</span><span class=\"na\">getExtensions</span><span class=\"p\">().</span><span class=\"na\">getDataAbsentReason</span><span class=\"p\">(),</span> <span class=\"k\">new</span> <span class=\"n\">CodeType</span><span class=\"p\">(</span><span class=\"s\">&quot;unsupported&quot;</span><span class=\"p\">));</span>\n<span class=\"n\">absentName</span>\n    <span class=\"p\">.</span><span class=\"na\">addGivenElement</span><span class=\"p\">()</span>\n    <span class=\"p\">.</span><span class=\"na\">addExtension</span><span class=\"p\">(</span>\n        <span class=\"n\">fhirProps</span><span class=\"p\">.</span><span class=\"na\">getExtensions</span><span class=\"p\">().</span><span class=\"na\">getDataAbsentReason</span><span class=\"p\">(),</span> <span class=\"k\">new</span> <span class=\"n\">CodeType</span><span class=\"p\">(</span><span class=\"s\">&quot;unsupported&quot;</span><span class=\"p\">));</span>\n<span class=\"n\">patient</span><span class=\"p\">.</span><span class=\"na\">addName</span><span class=\"p\">(</span><span class=\"n\">absentName</span><span class=\"p\">);</span>\n</code></pre></div>\n\n\n<p>But there are always these strange <code>_family</code> and <code>_given</code> fields. Besides <code>given == NULL</code>.<br>\nDoes anyone have a tip for me?<br>\nThanks in advance. Marvin</p>",
        "id": 209357189,
        "sender_full_name": "Marvin Kampf",
        "timestamp": 1599552887
    },
    {
        "content": "<p>the underscore are needed when adding extensions to primitive values (in JSON) <a href=\"https://www.hl7.org/fhir/json.html#primitive\">https://www.hl7.org/fhir/json.html#primitive</a></p>",
        "id": 209358309,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1599553760
    },
    {
        "content": "<p>I see, thank you <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> .<br>\nHow about validation. If the element <code>given</code> is required (1..1), is it sufficient to only add an extension (to <code>_given</code>) like in the example above, or do I still need a (primitive) value for <code>given</code>?</p>",
        "id": 209358805,
        "sender_full_name": "Marvin Kampf",
        "timestamp": 1599554072
    },
    {
        "content": "<p>you don't need a value for given when adding the extension. The extension \"populates\" the primitive values (given &amp; _given are the same element, just a technical detail in json)</p>",
        "id": 209358955,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1599554177
    },
    {
        "content": "<p>okay, thank you very much</p>",
        "id": 209358973,
        "sender_full_name": "Marvin Kampf",
        "timestamp": 1599554191
    }
]