[
    {
        "content": "<p>Hello, a newbie needs some help :)<br>\nI am using docker to run FHIR server as described here <a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter#running-via-docker-hub\">hapi-fhir-jpaserver-starter</a>:</p>\n<div class=\"codehilite\"><pre><span></span><code>docker pull hapiproject/hapi:latest\ndocker run -p 8080:8080 hapiproject/hapi:latest\n</code></pre></div>\n<p>However, I have the webUI looking weird:<br>\n<a href=\"/user_uploads/10155/JAyphwl1KcrO5CcVxI_yA12u/fhir-web-ui.png\">fhir-web-ui.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/JAyphwl1KcrO5CcVxI_yA12u/fhir-web-ui.png\" title=\"fhir-web-ui.png\"><img src=\"/user_uploads/10155/JAyphwl1KcrO5CcVxI_yA12u/fhir-web-ui.png\"></a></div><p>I would appreciate any help on how to fix it, or advice what stable version should be used.</p>",
        "id": 223745808,
        "sender_full_name": "Vasyl Herman",
        "timestamp": 1611402764
    },
    {
        "content": "<p>Alternatively, you might want to build the images using the stater project.</p>",
        "id": 223747264,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1611404989
    },
    {
        "content": "<p><a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter\">https://github.com/hapifhir/hapi-fhir-jpaserver-starter</a></p>",
        "id": 223747332,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1611405078
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192103\">@Lin Zhang</span> <br>\nI have <a href=\"https://registry.hub.docker.com/layers/hapiproject/hapi/v5.1.0/images/sha256-17c77dddd9f0638f5ba937a67f6973ae7e1ff7f0805e05dc9eb267f4fd51c459?context=explore\">hapiproject/hapi:v5.1.0</a> up and running, seems like it works fine. However, it doesn't recognize application.yml from latest version.<br>\nDo you think it's a good idea to start exploring FHIR server using 5.1.0 ?</p>",
        "id": 223747544,
        "sender_full_name": "Vasyl Herman",
        "timestamp": 1611405395
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192103\">Lin Zhang</span> <a href=\"#narrow/stream/179167-hapi/topic/v5.2E2.2E0.20Web.20UI.20issue/near/223747264\">said</a>:</p>\n<blockquote>\n<p>Alternatively, you might want to build the images using the stater project.</p>\n</blockquote>\n<p>I have built an image from <a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter/archive/v5.2.0.zip\">v5.2.0 source</a> with the same web UI issue.</p>",
        "id": 223747630,
        "sender_full_name": "Vasyl Herman",
        "timestamp": 1611405503
    },
    {
        "content": "<p>I feel like I should also try to build an image from master branch.</p>",
        "id": 223747655,
        "sender_full_name": "Vasyl Herman",
        "timestamp": 1611405583
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"376706\">@Vasyl Herman</span> try out <a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter#using-the-dockerfile-and-multistage-build\">https://github.com/hapifhir/hapi-fhir-jpaserver-starter#using-the-dockerfile-and-multistage-build</a></p>",
        "id": 223747657,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1611405597
    },
    {
        "content": "<p>so clone from master branch and follow that</p>",
        "id": 223747701,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1611405612
    },
    {
        "content": "<p>the <code>:latest</code>docker tag may not necessarily reflect latest fixes and changes in the code base</p>",
        "id": 223747723,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1611405658
    },
    {
        "content": "<p>the master branch should work as intended</p>",
        "id": 223747738,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1611405680
    },
    {
        "content": "<p>Thanks a lot for help !!!</p>",
        "id": 223747750,
        "sender_full_name": "Vasyl Herman",
        "timestamp": 1611405719
    },
    {
        "content": "<p>I followed the multistage approach and it's working.</p>",
        "id": 223748354,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1611406654
    },
    {
        "content": "<p>I'm having this issue on <code>HAPI FHIR 5.2.0 REST Server (FHIR Server; FHIR 4.0.1/R4)</code></p>\n<p>Sending this request fails <code>localhost:8080/fhir/Patient?identifier=EXSYS|</code>.</p>\n<div class=\"codehilite\"><pre><span></span><code>root@hapifhir:/usr/local/tomcat# curl &#39;localhost:8080/fhir/Patient?identifier=EXSYS|&#39;\n\n&lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 400 – Bad Request&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 400 – Bad Request&lt;/h1&gt;&lt;hr class=&quot;line&quot; /&gt;&lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Exception Report&lt;/p&gt;&lt;p&gt;&lt;b&gt;Message&lt;/b&gt; Invalid character found in the request target [&amp;#47;fhir&amp;#47;Patient?identifier=EXSYS|]. The valid characters are defined in RFC 7230 and RFC 3986&lt;/p&gt;&lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).&lt;/p&gt;&lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;java.lang.IllegalArgumentException: Invalid character found in the request target [&amp;#47;fhir&amp;#47;Patient?identifier=EXSYS|]. The valid characters are defined in RFC 7230 and RFC 3986\n        org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:486)\n        org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:261)\n        org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n        org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590)\n        org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        java.base&amp;#47;java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        java.base&amp;#47;java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        java.base&amp;#47;java.lang.Thread.run(Thread.java:834)\n&lt;/pre&gt;&lt;p&gt;&lt;b&gt;Note&lt;/b&gt; The full stack trace of the root cause is available in the server logs.&lt;/p&gt;&lt;hr class=&quot;line&quot; /&gt;&lt;h3&gt;Apache Tomcat/9.0.38&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre></div>\n<p>HAPI public server is down, but I am confident that this request is supposed to work, I tested it with VONK too.<br>\nPulled from standard HAPI docker image, with this configuration</p>\n<div class=\"codehilite\"><pre><span></span><code>spring:\n  datasource:\n    url: &#39;jdbc:h2:file:./target/database/h2&#39;\n\n    username: sa\n    password: null\n    driverClassName: org.h2.Driver\n    max-active: 15\n\n  batch:\n    job:\n      enabled: false\n\nhapi:\n  fhir:\n    fhir_version: R4\n    default_encoding: JSON\n    default_pretty_print: false\n    tester:\n\n        home:\n          name: Local Tester\n          server_address: &#39;http://localhost:8080/fhir&#39;\n          refuse_to_fetch_third_party_urls: false\n          fhir_version: R4\n</code></pre></div>",
        "id": 224036996,
        "sender_full_name": "Dexter",
        "timestamp": 1611667148
    }
]