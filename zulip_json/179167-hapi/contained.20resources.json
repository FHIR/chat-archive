[
    {
        "content": "<p>Hi, Has anyone got an example of how they used the HAPI API to create contained resources? <br>\nI have tied the following ways:</p>\n<p>Location loc = new Location();<br>\n        loc.setAddress(new Address().setCity(\"Some City\").setCountry(\"UK\").setPostalCode(\"PO57 CDE\"));<br>\n        List&lt;Resource&gt; res = new ArrayList&lt;Resource&gt;();<br>\n        res.add(loc);<br>\n        hcs.setContained(res);</p>\n<p>and also this way:</p>\n<p>Location loc = new Location();<br>\n        loc.setAddress(new Address().setCity(\"Some City\").setCountry(\"UK\").setPostalCode(\"PO57 CDE\"));<br>\n        hcs.addContained(loc);</p>\n<p>But when I parse out the object, it does not have the contained resource. <br>\nAny help is much appreciated.</p>",
        "id": 153899130,
        "sender_full_name": "Sufyan Patel",
        "timestamp": 1501243506
    },
    {
        "content": "<p>What you appear to be doing is adding an address to a location. Your're not adding a contained resource.</p>",
        "id": 153899150,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1501244884
    },
    {
        "content": "<p>You could add a contained resource where a reference is required. Either the reference points to an external resource or the contained resource.</p>",
        "id": 153899151,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1501244957
    },
    {
        "content": "<p>So your last example using Organisation as the contained resource : </p>\n<p>See lines 100-118 in the link below</p>",
        "id": 153899158,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1501245317
    },
    {
        "content": "<p>Or a more worked example</p>",
        "id": 153899179,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1501246342
    },
    {
        "content": "<p>See <a href=\"https://github.com/nhsconnect/careconnect-java-examples/blob/master/ImplementationGuideExplore/src/main/java/uk/nhs/careconnect/examples/App/IGExplore.java\" target=\"_blank\" title=\"https://github.com/nhsconnect/careconnect-java-examples/blob/master/ImplementationGuideExplore/src/main/java/uk/nhs/careconnect/examples/App/IGExplore.java\">https://github.com/nhsconnect/careconnect-java-examples/blob/master/ImplementationGuideExplore/src/main/java/uk/nhs/careconnect/examples/App/IGExplore.java</a></p>",
        "id": 153899180,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1501246344
    },
    {
        "content": "<p>Thanks Kevin, I didn't give a complete example earlier. <br>\nI am trying to add a contained resource (Location) to the HealthcareService resource. The hcs in the above code was the HealthcareService object. </p>\n<p>P.S. I'm doing this in STU3 therefore for setLocation(...), it is expecting List &lt;Resource&gt;.</p>",
        "id": 153899203,
        "sender_full_name": "Sufyan Patel",
        "timestamp": 1501248585
    },
    {
        "content": "<p>try adding an id to the loc Location e.g. <strong> loc.setId(\"#loc\"); </strong></p>",
        "id": 153899205,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1501248794
    },
    {
        "content": "<p>I think hapi doesn't know how to link the resources together.</p>",
        "id": 153899206,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1501248904
    },
    {
        "content": "<p>On your second example... That looks like how I would have done on the STU3 version.</p>",
        "id": 153899207,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1501249013
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>    HealthcareService hcs = new HealthcareService();\n    loc.setId(&quot;#loc&quot;);\n    hcs.setLocation(new Reference(loc.getId())); // this bit will be different on STU3\n    hcs.addContained(loc);\n</pre></div>",
        "id": 153899209,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1501249406
    },
    {
        "content": "<p>Got it to work with something like this<br>\n<code>Location loc = new Location();\n        loc.setAddress(new Address().setCity(\"Some City\").setCountry(\"UK\").setPostalCode(\"PO57 CDE\"));\n        loc.setId(new IdType().setValue(\"#9\"));\n        List&lt;Reference&gt; res = new ArrayList&lt;Reference&gt;();\n        res.add(new Reference(loc.getId()));\n        hcs.addContained(loc);\n        hcs.setLocation(res);\n        return hcs;</code><br>\nThanks for your help</p>",
        "id": 153899220,
        "sender_full_name": "Sufyan Patel",
        "timestamp": 1501252058
    },
    {
        "content": "<p>Dear all, I'm trying to feed HAPI with a MedicationStatement containing a Medication resource. However, the contained resource is discarded, e.g.</p>\n<p>&lt;MedicationStatement xmlns=\"<a href=\"http://hl7.org/fhir\">http://hl7.org/fhir</a>\"&gt;<br>\n&lt;contained&gt; <br>\n    &lt;Medication&gt; <br>\n        &lt;code&gt; <br>\n            &lt;coding&gt; <br>\n                &lt;system value=\"http://fhir.de/CodeSystem/dimdi/atc\"/&gt; <br>\n                &lt;code value=\"j01ma02\"/&gt; <br>\n                &lt;display value=\"Ciprofloxacin\"/&gt; <br>\n            &lt;/coding&gt; <br>\n        &lt;/code&gt;<br>\n    &lt;/Medication&gt; <br>\n&lt;/contained&gt;<br>\n&lt;status value=\"active\"/&gt; <br>\n&lt;subject&gt; <br>\n    &lt;reference value....</p>\n<p>Help is highly appreciated.</p>",
        "id": 203386150,
        "sender_full_name": "Ruwen Böhm",
        "timestamp": 1594302077
    },
    {
        "content": "<p>Can't see your reference properly, but contained resources need to be referenced by the containing resource (or possibly the other way around). Could that be it?</p>",
        "id": 203393386,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1594305447
    },
    {
        "content": "<p>indeed - your contained resource does not have an ID, i would start there.</p>",
        "id": 203433483,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594325239
    },
    {
        "content": "<p>Thank you for pointing this out!  I'll try. Additional question: HAPI FHIR can be run without storage: <a href=\"https://hapifhir.io/hapi-fhir/docs/server_plain/introduction.html\">https://hapifhir.io/hapi-fhir/docs/server_plain/introduction.html</a> and resources can be created by calling Constructors in Java using the class IResourceProvider, probably thus avoiding all the errors in otherwise created FHIR resources. Is there a tool to construct FHIR without the HAPI server (i.e., write it directly to a file)?</p>",
        "id": 203549975,
        "sender_full_name": "Ruwen Böhm",
        "timestamp": 1594410041
    },
    {
        "content": "<p>Here is what we are seeing:</p>\n<p>We are doing a conditional create of the Patient Resource inside a transaction bundle that also subsequently posts a Communication Resource which references that Patient as the subject and sender.  The Transaction completes successfully but when I retrieve the Communication that was created, it has a \"contained\" Patient resource and the subject and sender are referencing the local contained Patient resource.  This is not the behavior I was expecting to see. Do you  know why this transaction is causing the Patient to be carried as a Contained Resource?</p>",
        "id": 239290940,
        "sender_full_name": "Lisa Nelson",
        "timestamp": 1621358042
    },
    {
        "content": "<p>Here is the follow up for Lisa's question. Please check the attachment for the transaction bundle we post to the hapi FHIR server.<br>\n<a href=\"/user_uploads/10155/7oUhtEkJpJFovyKAjDN_9ezJ/TransactionBundle.json\">TransactionBundle.json</a></p>",
        "id": 239291555,
        "sender_full_name": "Cheng Liu",
        "timestamp": 1621358221
    },
    {
        "content": "<p>Just confirmed I see the same behaviour... Just trying to figure out why</p>",
        "id": 239298850,
        "sender_full_name": "James Agnew",
        "timestamp": 1621361084
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span>  Glad you can reproduce it.</p>",
        "id": 239303799,
        "sender_full_name": "Lisa Nelson",
        "timestamp": 1621362903
    },
    {
        "content": "<p>FYI this has been fixed. Thanks for supplying the test case, that was helpful.</p>",
        "id": 239427712,
        "sender_full_name": "James Agnew",
        "timestamp": 1621432388
    },
    {
        "content": "<p>I'm still seeing this issue with <code>Device</code> and possibly other resource types as well on HAPI FHIR 5.4.0. But it occurs only after sending the same transaction twice, here's an example test case:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Bundle\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"transaction\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"entry\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">\"fullUrl\"</span><span class=\"p\">:</span> <span class=\"s2\">\"urn:uuid:4ec7879f-13da-4a24-a77a-6ea35d4d5a5a\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"resource\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Patient\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"identifier\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n              <span class=\"nt\">\"coding\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n                <span class=\"p\">{</span>\n                  <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://terminology.hl7.org/CodeSystem/v2-0203\"</span><span class=\"p\">,</span>\n                  <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"MR\"</span>\n                <span class=\"p\">}</span>\n              <span class=\"p\">]</span>\n            <span class=\"p\">},</span>\n            <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://fhir.example.org/identifiers/patient-id\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"s2\">\"123\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">\"gender\"</span><span class=\"p\">:</span> <span class=\"s2\">\"female\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"birthDate\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1900-01-01\"</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">\"request\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"PUT\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Patient?identifier=https://fhir.example.org/identifiers/patient-id|123\"</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">\"fullUrl\"</span><span class=\"p\">:</span> <span class=\"s2\">\"urn:uuid:b01d2e99-ec2b-475e-a69e-6e303e24edbc\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"resource\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Device\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"identifier\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://fhir.example.org/identifiers/device-id\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"s2\">\"device-1\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">\"status\"</span><span class=\"p\">:</span> <span class=\"s2\">\"active\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"deviceName\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"test\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"manufacturer-name\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">\"version\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1.0.0\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">\"request\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"POST\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Device\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"ifNoneExist\"</span><span class=\"p\">:</span> <span class=\"s2\">\"identifier=https://fhir.example.org/identifiers/device-id|device-1\"</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">\"fullUrl\"</span><span class=\"p\">:</span> <span class=\"s2\">\"urn:uuid:e08c6c9e-ca18-4524-bdfc-d5f8827e1acd\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"resource\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"List\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"identifier\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://fhir.example.org/identifiers/list-id\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"s2\">\"list-1\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">\"status\"</span><span class=\"p\">:</span> <span class=\"s2\">\"current\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"mode\"</span><span class=\"p\">:</span> <span class=\"s2\">\"working\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"source\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">\"reference\"</span><span class=\"p\">:</span> <span class=\"s2\">\"urn:uuid:b01d2e99-ec2b-475e-a69e-6e303e24edbc\"</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">\"entry\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"item\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n              <span class=\"nt\">\"reference\"</span><span class=\"p\">:</span> <span class=\"s2\">\"urn:uuid:4ec7879f-13da-4a24-a77a-6ea35d4d5a5a\"</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">\"request\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"method\"</span><span class=\"p\">:</span> <span class=\"s2\">\"PUT\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"List?identifier=https://fhir.example.org/identifiers/list-id|list-1\"</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>Turns into:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n      <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"List\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"3\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"meta\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"versionId\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"lastUpdated\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2021-05-21T21:23:15.142+00:00\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"#9NZJXYPb8Fz8jCBo\"</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">\"contained\"</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Device\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"identifier\"</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n          <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://fhir.example.org/identifiers/device-id\"</span><span class=\"p\">,</span>\n          <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"s2\">\"device-1\"</span>\n        <span class=\"p\">}</span> <span class=\"p\">],</span>\n        <span class=\"nt\">\"status\"</span><span class=\"p\">:</span> <span class=\"s2\">\"active\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"deviceName\"</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n          <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"test\"</span><span class=\"p\">,</span>\n          <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"manufacturer-name\"</span>\n        <span class=\"p\">}</span> <span class=\"p\">],</span>\n        <span class=\"nt\">\"version\"</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n          <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1.0.0\"</span>\n        <span class=\"p\">}</span> <span class=\"p\">]</span>\n      <span class=\"p\">}</span> <span class=\"p\">],</span>\n      <span class=\"nt\">\"identifier\"</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://fhir.example.org/identifiers/list-id\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"s2\">\"list-1\"</span>\n      <span class=\"p\">}</span> <span class=\"p\">],</span>\n      <span class=\"nt\">\"status\"</span><span class=\"p\">:</span> <span class=\"s2\">\"current\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"mode\"</span><span class=\"p\">:</span> <span class=\"s2\">\"working\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"source\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"reference\"</span><span class=\"p\">:</span> <span class=\"s2\">\"#1\"</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">\"entry\"</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"item\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">\"reference\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Patient/2\"</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span> <span class=\"p\">]</span>\n    <span class=\"p\">}</span>\n</code></pre></div>\n<p>While version 1 looks like the expected outcome:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"List\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"id\"</span><span class=\"p\">:</span> <span class=\"s2\">\"3\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"meta\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"versionId\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"lastUpdated\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2021-05-21T21:22:33.048+00:00\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"source\"</span><span class=\"p\">:</span> <span class=\"s2\">\"#bfQutYlHbeMLoJaG\"</span>\n  <span class=\"p\">},</span>\n  <span class=\"nt\">\"identifier\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://fhir.example.org/identifiers/list-id\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"s2\">\"list-1\"</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">],</span>\n  <span class=\"nt\">\"status\"</span><span class=\"p\">:</span> <span class=\"s2\">\"current\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"mode\"</span><span class=\"p\">:</span> <span class=\"s2\">\"working\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"source\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"reference\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Device/1\"</span>\n  <span class=\"p\">},</span>\n  <span class=\"nt\">\"entry\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">\"item\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"reference\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Patient/2\"</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</code></pre></div>",
        "id": 239815680,
        "sender_full_name": "Christian Gulden",
        "timestamp": 1621632819
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"254858\">@Christian Gulden</span>  Unfortunately the fix for this issue didn't make the code freeze date for 5.4.0. It is fixed in the current 5.5.0 snapshot builds, if you're able to test with that?</p>\n<p>We're going to do a mid-cycle release this time around in about a month, so it'll be included in that.</p>",
        "id": 239978049,
        "sender_full_name": "James Agnew",
        "timestamp": 1621803911
    },
    {
        "content": "<p>Works perfectly using <code>5.5.0-PRE1-SNAPSHOT</code>. Thank you for your work!</p>",
        "id": 240184437,
        "sender_full_name": "Christian Gulden",
        "timestamp": 1621948221
    }
]