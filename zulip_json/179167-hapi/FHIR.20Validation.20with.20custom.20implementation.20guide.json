[
    {
        "content": "<p>Hi, I'm struggling with validating a FHIR document in my service. I found <code>ca.uhn.fhir.validation.FhirValidator</code> which seems to do the job, but I found no way to provide my custom implementation guides. On the other hand there is the ValidationEngine, where it is easy to provide additional implementation guides, but because of the many <code>System.out</code> usage seems unsuited for a server application.<br>\nI'd like to do the validation without reaching out to another service, and ideally load the implementation guides from the classpath. Any advice how to implement the validation.</p>",
        "id": 254188575,
        "sender_full_name": "Nicolai Mainiero",
        "timestamp": 1632222247
    },
    {
        "content": "<p><a href=\"https://hapifhir.io/hapi-fhir/docs/validation/introduction.html\">https://hapifhir.io/hapi-fhir/docs/validation/introduction.html</a> and the following chapters are covering how to use the hapi validation stack. You can provide the resources of your IG through the PrePopulatedValidationSupport class.</p>",
        "id": 254248564,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1632246378
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"442844\">@Nicolai Mainiero</span> we preload ig's to a forked hapi-fhir-jpaserver instance and use then the $validate operation to access it, see <a href=\"https://github.com/ahdis/matchbox\">https://github.com/ahdis/matchbox</a> if you are interested</p>",
        "id": 254270054,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1632254941
    },
    {
        "content": "<p>Thanks for the replies. I looked into the PrePopulatedValidationSupport but unfortunately it does not support my use case (german eRezept validation) because, the profiles are used with an version tag.</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;Bundle xmlns=&quot;http://hl7.org/fhir&quot;&gt;\n    &lt;id value=&quot;1131c63a-f238-48ef-a1cc-818393356575&quot;&gt;&lt;/id&gt;\n    &lt;meta&gt;\n        &lt;profile value=&quot;http://fhir.abda.de/eRezeptAbgabedaten/StructureDefinition/DAV-PR-ERP-AbgabedatenBundle|1.0.3&quot;&gt;&lt;/profile&gt;\n    &lt;/meta&gt;\n</code></pre></div>\n<p>And I don't want to do additional HTTP-Request during validation if it's possible to do it in process. </p>\n<p>I went with the ValidationEngine and implemented my own IgLoader to read the implementation guides from the classpath. Thanks for all your suggestions.</p>",
        "id": 254317931,
        "sender_full_name": "Nicolai Mainiero",
        "timestamp": 1632289541
    },
    {
        "content": "<p>I am also struggling with loading a custom IG together with examples that conform to it. Can anyone recommend an example code to demonstrate how to do this? The online HAPI documentation does not seem to cover this at all</p>",
        "id": 264771987,
        "sender_full_name": "Peter Robinson",
        "timestamp": 1639430695
    },
    {
        "content": "<p>I'm also interested.</p>",
        "id": 264796379,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1639446431
    }
]