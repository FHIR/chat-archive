[
    {
        "content": "<p>Hi all! We are trying to create a composition using a bundle in order to simultaneously create a composition and conditions. We managed to validate our bundle with the .NET validator. Now we are trying to populate the database with the multiple entries of the bundle (1 composition and 2 conditions). When we do so on the hapi server we get the following error:</p>\n<p>Operation was unsuccessful because of a client error (BadRequest). OperationOutcome: &lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\"0\"&gt;&lt;tr&gt;&lt;td style=\"font-weight: bold;\"&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Unable to process transaction where incoming Bundle.type = document&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;.</p>\n<p>Here is our bundle example: <a href=\"user_uploads/10155/dJDmrlJtIJlWP3unEuOcE60y/Untitled-1\" target=\"_blank\" title=\"user_uploads/10155/dJDmrlJtIJlWP3unEuOcE60y/Untitled-1\">https://chat.fhir.org/user_uploads/10155/dJDmrlJtIJlWP3unEuOcE60y/Untitled-1</a></p>\n<p>Any ideas??</p>",
        "id": 176544027,
        "sender_full_name": "Edouard Gence",
        "timestamp": 1569400364
    },
    {
        "content": "<p>So we managed to make it work. We changed Bundle.type=\"document\" to Bundle.type=\"transaction\". Moreover since the type transaction implies a request element in the bundle, we added the following:<br>\n&lt;request&gt;<br>\n    &lt;method value=\"POST\" /&gt;<br>\n    &lt;url value=\"Composition\" /&gt;<br>\n&lt;/request&gt;<br>\nThis populated the entries correctly even though it is specifically said on the composition resource that it should be \"document\". If anyone knows why \"document\" didn't work and why \"transaction\" did please tell us. For now we will stick to transaction.</p>",
        "id": 176547022,
        "sender_full_name": "Edouard Gence",
        "timestamp": 1569403076
    },
    {
        "content": "<p>What was the URL you were posting this to?</p>",
        "id": 176987022,
        "sender_full_name": "James Agnew",
        "timestamp": 1569889466
    }
]