[
    {
        "content": "<p>Hi,<br>\nI created my first client and my first server running locally. The server can correctly process the requests sent from Postman for creating and searching patients. The client can create a new patient in the server <a href=\"http://hapi.fhir.org/baseR4\">http://hapi.fhir.org/baseR4</a>. But when I try to have my client create a new patient in my server (<a href=\"http://localhost:9999\">http://localhost:9999</a>) I get the following error message:</p>\n<blockquote>\n<p>Invalid request: The FHIR endpoint on this server does not know how to handle GET operation[Patient/metadata] with parameters [[]].</p>\n</blockquote>\n<p>What I do in the client:</p>\n<div class=\"codehilite\" data-code-language=\"Java\"><pre><span></span><code><span class=\"n\">FhirContext</span> <span class=\"n\">ctx</span> <span class=\"o\">=</span> <span class=\"n\">FhirContext</span><span class=\"p\">.</span><span class=\"na\">forR4</span><span class=\"p\">();</span>\n<span class=\"n\">IGenericClient</span> <span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">ctx</span><span class=\"p\">.</span><span class=\"na\">newRestfulGenericClient</span><span class=\"p\">(</span><span class=\"s\">\"http://localhost:9999/Patient\"</span><span class=\"p\">);</span>\n\n<span class=\"n\">Patient</span> <span class=\"n\">newPatient</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">Patient</span><span class=\"p\">();</span>\n<span class=\"n\">newPatient</span><span class=\"p\">.</span><span class=\"na\">addName</span><span class=\"p\">().</span><span class=\"na\">setFamily</span><span class=\"p\">(</span><span class=\"s\">\"Green\"</span><span class=\"p\">).</span><span class=\"na\">addGiven</span><span class=\"p\">(</span><span class=\"s\">\"Marc\"</span><span class=\"p\">);</span>\n<span class=\"n\">newPatient</span><span class=\"p\">.</span><span class=\"na\">addIdentifier</span><span class=\"p\">().</span><span class=\"na\">setSystem</span><span class=\"p\">(</span><span class=\"s\">\"http://acme.org/mrns\"</span><span class=\"p\">).</span><span class=\"na\">setValue</span><span class=\"p\">(</span><span class=\"s\">\"456456\"</span><span class=\"p\">);</span>\n<span class=\"n\">newPatient</span><span class=\"p\">.</span><span class=\"na\">setGender</span><span class=\"p\">(</span><span class=\"n\">Enumerations</span><span class=\"p\">.</span><span class=\"na\">AdministrativeGender</span><span class=\"p\">.</span><span class=\"na\">MALE</span><span class=\"p\">);</span>\n\n<span class=\"n\">MethodOutcome</span> <span class=\"n\">outcome</span> <span class=\"o\">=</span> <span class=\"n\">client</span><span class=\"p\">.</span><span class=\"na\">create</span><span class=\"p\">().</span><span class=\"na\">resource</span><span class=\"p\">(</span><span class=\"n\">newPatient</span><span class=\"p\">).</span><span class=\"na\">prettyPrint</span><span class=\"p\">().</span><span class=\"na\">encodedXml</span><span class=\"p\">().</span><span class=\"na\">execute</span><span class=\"p\">();</span>\n</code></pre></div>\n<p>And in the server:</p>\n<div class=\"codehilite\" data-code-language=\"Java\"><pre><span></span><code><span class=\"nd\">@Create</span><span class=\"p\">()</span>\n<span class=\"kd\">public</span> <span class=\"n\">MethodOutcome</span> <span class=\"nf\">createPatient</span><span class=\"p\">(</span><span class=\"nd\">@ResourceParam</span> <span class=\"n\">Patient</span> <span class=\"n\">thePatient</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"n\">FhirContext</span> <span class=\"n\">ctxV4</span> <span class=\"o\">=</span> <span class=\"n\">FhirContext</span><span class=\"p\">.</span><span class=\"na\">forR4</span><span class=\"p\">();</span>\n    <span class=\"n\">ctxV4</span><span class=\"p\">.</span><span class=\"na\">getRestfulClientFactory</span><span class=\"p\">().</span><span class=\"na\">setServerValidationMode</span><span class=\"p\">(</span><span class=\"n\">ServerValidationModeEnum</span><span class=\"p\">.</span><span class=\"na\">NEVER</span><span class=\"p\">);</span>\n    <span class=\"n\">IGenericClient</span> <span class=\"n\">clientHAPI</span> <span class=\"o\">=</span> <span class=\"n\">ctxV4</span><span class=\"p\">.</span><span class=\"na\">newRestfulGenericClient</span><span class=\"p\">(</span><span class=\"s\">\"http://hapi.fhir.org/baseR4\"</span><span class=\"p\">);</span>\n    <span class=\"n\">MethodOutcome</span> <span class=\"n\">outcome</span> <span class=\"o\">=</span> <span class=\"n\">clientHAPI</span><span class=\"p\">.</span><span class=\"na\">create</span><span class=\"p\">().</span><span class=\"na\">resource</span><span class=\"p\">(</span><span class=\"n\">thePatient</span><span class=\"p\">).</span><span class=\"na\">execute</span><span class=\"p\">();</span>\n    <span class=\"k\">return</span> <span class=\"n\">outcome</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>Do you know what I am doing wrong or missing?</p>\n<p>Thanks a lot!</p>",
        "id": 221527176,
        "sender_full_name": "Olivia Bellamou-Huet",
        "timestamp": 1609769721
    },
    {
        "content": "<p>for the client you need to provide the FHIR endpoint, I assume your server is running on <a href=\"http://localhost:9999\">http://localhost:9999</a>? then you need to add  ctx.newRestfulGenericClient(\"<a href=\"http://localhost:9999\">http://localhost:9999</a>\"); I guess.</p>",
        "id": 221530632,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1609771409
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> .  Yes the server is running on this port. Do you mean in addition to the line: </p>\n<div class=\"codehilite\" data-code-language=\"Java\"><pre><span></span><code><span class=\"n\">IGenericClient</span> <span class=\"n\">client</span> <span class=\"o\">=</span> <span class=\"n\">ctx</span><span class=\"p\">.</span><span class=\"na\">newRestfulGenericClient</span><span class=\"p\">(</span><span class=\"s\">\"http://localhost:9999/Patient\"</span><span class=\"p\">);</span>\n</code></pre></div>\n<p>?</p>",
        "id": 221532216,
        "sender_full_name": "Olivia Bellamou-Huet",
        "timestamp": 1609772116
    },
    {
        "content": "<p>not in addition, you need to replace in the client ctx.newRestfulGenericClient(\"<a href=\"http://localhost:9999/Patient\">http://localhost:9999/Patient</a>\") with ctx.newRestfulGenericClient(\"<a href=\"http://localhost:9999\">http://localhost:9999</a>\")</p>",
        "id": 221533545,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1609772704
    },
    {
        "content": "<p>Thank you very much, that solved the problem indeed!</p>",
        "id": 221535573,
        "sender_full_name": "Olivia Bellamou-Huet",
        "timestamp": 1609773592
    }
]