[
    {
        "content": "<p>Hi all,</p>\n<p>We are currently using the HAPI multi-tenancy support capabilities in HAPI server, and are looking to support multiple EMR services (Cerner, Epic, Allscripts, etc.) within each of these tenants. We would like our URL structure to look something like this:</p>\n<div class=\"codehilite\"><pre><span></span>/&lt;tenant&gt;/&lt;service&gt;/&lt;resource&gt;?&lt;query_params&gt;\n</pre></div>\n\n\n<p>as opposed to this:</p>\n<div class=\"codehilite\"><pre><span></span>/&lt;tenant&gt;/&lt;resource&gt;?&lt;query_params&gt;\n</pre></div>\n\n\n<p>where the point on entry for the hapi server is <code>/&lt;tenant&gt;</code> in both cases. Is this something that a custom server addressing strategy could accomplish, or is there another approach that anybody has used to solve a problem like this?</p>\n<p>Thanks for your input!!</p>",
        "id": 153971968,
        "sender_full_name": "Mike Gabrin",
        "timestamp": 1530047676
    },
    {
        "content": "<p>I don't think a server address strategy would be able to handle this unfortunately. To be honest, the only mechanism I can think of (and it's kind of clunky) would be to use a servlet filter outside the servlet to capture the service identifier, store it in an attribute in the request, then to rewrite the request URI to strip the service identifier.</p>",
        "id": 153971978,
        "sender_full_name": "James Agnew",
        "timestamp": 1530049456
    },
    {
        "content": "<p>Ok, that is the route that we were beginning to venture down, but I wanted to check before we got too deep in to that work. Thank you for the help!!</p>",
        "id": 153972060,
        "sender_full_name": "Mike Gabrin",
        "timestamp": 1530100755
    }
]