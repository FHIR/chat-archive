[
    {
        "content": "<p>Hi,</p>\n<p>I am using PrePopulatedValidationSupport to validate a resource against a custom profile(USCore_PatientProfile).<br>\nFollowing is the code that I'm using to validate the input resource.</p>\n<p>*FhirContext ctx = FhirContext.forR4();<br>\nFhirValidator validator = ctx.newValidator(); <br>\norg.hl7.fhir.r4.hapi.validation.PrePopulatedValidationSupport prePopulatedSupport = new org.hl7.fhir.r4.hapi.validation.PrePopulatedValidationSupport(myStructureDefinitionsR4,myValueSetsR4,myCodeSystemsR4);<br>\norg.hl7.fhir.r4.hapi.ctx.DefaultProfileValidationSupport defaultSupport = new org.hl7.fhir.r4.hapi.ctx.DefaultProfileValidationSupport();<br>\norg.hl7.fhir.r4.hapi.validation.ValidationSupportChain validationSupportChain = new org.hl7.fhir.r4.hapi.validation.ValidationSupportChain(prePopulatedSupport,defaultSupport);<br>\norg.hl7.fhir.r4.hapi.validation.FhirInstanceValidator instanceValidator = new org.hl7.fhir.r4.hapi.validation.FhirInstanceValidator();<br>\ninstanceValidator.setValidationSupport(validationSupportChain);<br>\nvalidator.registerValidatorModule(instanceValidator);<br>\nValidationResult result = validator.validateWithResult((String) resource);*</p>\n<p>I have populated  myStructureDefinitionsR4 by parsing the structure definition from USCore_PatientProfile_STU3_V310_ballot. <a href=\"/user_uploads/10155/QG-LEdRUWM1zqWcBRMerd3Ap/USCore_PatientProfile_STU3_V310_ballot.xml\" target=\"_blank\" title=\"USCore_PatientProfile_STU3_V310_ballot.xml\">USCore_PatientProfile_STU3_V310_ballot.xml</a><br>\nThe valuesets and codesystems are populated with FHIR valuesets and codesystems from org.hl7.fhir.r4.model.valueset in hapi-fhir-validation-resources-r4-4.1.0.jar.</p>\n<p>Input provided to validate resource is from <a href=\"https://hl7.org/fhir/R4/patient-example.xml.html\" target=\"_blank\" title=\"https://hl7.org/fhir/R4/patient-example.xml.html\">https://hl7.org/fhir/R4/patient-example.xml.html</a><br>\nOutput received is attached :<br>\n<a href=\"/user_uploads/10155/eqVfZrf7erXQR_pTEijUp2G-/Patient_CustomProfile_Validation_OO.xml\" target=\"_blank\" title=\"Patient_CustomProfile_Validation_OO.xml\">Patient_CustomProfile_Validation_OO.xml</a> </p>\n<p>Please let me know where I'm going wrong. The Official FHIRValidator returns 'No issues found' but using the HAPI library classes I'm getting 19 issues. Please help.</p>\n<p>Regards,<br>\nMukesh</p>",
        "id": 190375204,
        "sender_full_name": "Mukesh Sharma",
        "timestamp": 1584009402
    }
]