[
    {
        "content": "<p>I am attempting to create a Subscription on <a href=\"http://hapi.fhir.org/baseR4/\">http://hapi.fhir.org/baseR4/</a> with a channel type 'message'.</p>\n<p>However, the following error is returned:</p>\n<div class=\"codehilite\"><pre><span></span><code>Only &#39;channel&#39; protocol is supported for Subscriptions with channel type &#39;message&#39;\n</code></pre></div>",
        "id": 227959646,
        "sender_full_name": "Ron Shapiro",
        "timestamp": 1614359814
    },
    {
        "content": "<p>The HAPI source code has the following:</p>\n<div class=\"codehilite\"><pre><span></span><code>try {\n        URI uri = new URI(theEndpointUrl);\n        if (!&quot;channel&quot;.equals(uri.getScheme())) {\n                throw new UnprocessableEntityException(&quot;Only &#39;channel&#39; protocol is supported for Subscriptions with channel type &#39;message&#39;&quot;);\n        }\n        String channelName = uri.getSchemeSpecificPart();\n        if (isBlank(channelName)) {\n                throw new UnprocessableEntityException(&quot;A channel name must appear after channel: in a message Subscription endpoint&quot;);\n        }\n} catch (URISyntaxException e) {\n        throw new UnprocessableEntityException(&quot;Invalid subscription endpoint uri &quot; + theEndpointUrl, e);\n}\n</code></pre></div>\n<p>So what is a \"channel\" scheme?  I am attempting to provide an http endpoint.</p>",
        "id": 227960050,
        "sender_full_name": "Ron Shapiro",
        "timestamp": 1614359992
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"357282\">@Gary Graham</span>  github shows that you may have added the above code... can you shed any light on what a \"channel\" URI scheme is?</p>",
        "id": 228654302,
        "sender_full_name": "Ron Shapiro",
        "timestamp": 1614800408
    },
    {
        "content": "<p>Heya, this is not my code, but I can answer this: <br>\nYou are probably looking for a subscription of type <code>rest-hook</code>. Message type expects a jms channel scheme of the form \"channel:my-queue-name\". You can see examples here: <a href=\"https://smilecdr.com/docs/subscription/channels.html\">https://smilecdr.com/docs/subscription/channels.html</a></p>",
        "id": 228655871,
        "sender_full_name": "G G",
        "timestamp": 1614801010
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"195874\">G G</span> <a href=\"#narrow/stream/179167-hapi/topic/Subscription.20channel.20type.20'message'/near/228655871\">said</a>:</p>\n<blockquote>\n<p>Heya, this is not my code, but I can answer this: <br>\nYou are probably looking for a subscription of type <code>rest-hook</code>. Message type expects a jms channel scheme of the form \"channel:my-queue-name\". You can see examples here: <a href=\"https://smilecdr.com/docs/subscription/channels.html\">https://smilecdr.com/docs/subscription/channels.html</a></p>\n</blockquote>\n<p>Does this also work with open source HAPI? Also is the backing JMS queue persisted in database or is it all in memory? If in memory then how do you make it persistent?</p>",
        "id": 233396311,
        "sender_full_name": "dsh",
        "timestamp": 1617745759
    }
]