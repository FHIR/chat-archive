[
    {
        "content": "<p>Hi All,</p>\n<p>A quick announcement that we have decided to do a major version bump for the upcoming (Labrador) release scheduled for May 2020.</p>\n<p>There are currently 3 changes, all of which have potential implications for implementers:</p>\n<ul>\n<li>We are going to be switching from Gson to Jackson for JSON serialization in HAPI FHIR's JSON parser. This move brings 3 benefits:<ul>\n<li>The Jackson-based FHIR parser is roughly 5% faster in parsing than the Gson one was (not a huge difference, but not nothing)</li>\n<li>Jackson reports line numbers when it finds problems, and we will be surfacing those to end users</li>\n<li>Jackson's pretty printing is way more compact and usable than Gson's (way fewer useless empty lines, trust me it's really nice)</li>\n</ul>\n</li>\n<li>The Convertor library has been refactored so that conversion between versions lower than R5 have been broken out into separate classes. The actual conversion logic is unchanged, but we no longer rely on a massive monolith converter class that brings IDEs to its knees. Shoutout to <span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> for his work on this (Mark automated this task, so most of the work was actually building a java parser).</li>\n<li>The IValidationSupport interface which is used to supply conformance artifacts and terminology services to the validation engine is being completely redesigned. This has honestly been a massively painful change to implement, but in doing so we are paving the way for integration with remote terminology servers (e.g. HAPI FHIR CDR that links to Ontoserver for validation anyone?) and NPM based FHIR package support. The new interface is available here if anyone wants to look into that particular crystal ball: <a href=\"https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-base/src/main/java/ca/uhn/fhir/context/support/IValidationSupport.java\" target=\"_blank\" title=\"https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-base/src/main/java/ca/uhn/fhir/context/support/IValidationSupport.java\">https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-base/src/main/java/ca/uhn/fhir/context/support/IValidationSupport.java</a></li>\n</ul>\n<p>I mention this now because we're about to abandon the current 4.3.0-SNAPSHOT builds and bump to 5.0.0-SNAPSHOT, probably within the next 24 hours. </p>\n<p>Ps- Hope everyone is safe and healthy. This is week 2 of work-from-home for my team and I think I'm finally learning to not completely hate it. :)</p>",
        "id": 190862704,
        "sender_full_name": "James Agnew",
        "timestamp": 1584458291
    },
    {
        "content": "<p>Oh, one other benefit to the use of Jackson that I didn't mention- Jackson is a super extensible parser, with lots of plugins to things other than JSON. Technically this move should pave the way to an easier implementation of Bson support, Protobuf/Avro support, etc. No guarantees on these things of course since they haven't been investigated at all, but I think they are realistic at some point.</p>",
        "id": 190876587,
        "sender_full_name": "James Agnew",
        "timestamp": 1584463349
    },
    {
        "content": "<p>And finally.. if anyone would like to see the new pretty printing in action: <a href=\"http://hapi.fhir.org/baseR4/Observation\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Observation\">http://hapi.fhir.org/baseR4/Observation</a></p>\n<p>(Feedback welcome, it's actually super-configurable in Jackson so we could make the indenting level, array-joining, and other stuff tunable if there was interest!)</p>",
        "id": 190916574,
        "sender_full_name": "James Agnew",
        "timestamp": 1584482475
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> Does it sound 'right' that jpaserver-starter would fail to startup when pointed to 5.0.0-snapshot due to 'No bean named 'myInstanceValidatorR4' available'?  I'm guessing that is just lagging behind the core changes?</p>",
        "id": 190973056,
        "sender_full_name": "Josh Collins",
        "timestamp": 1584534828
    },
    {
        "content": "<p>Definitely expected. If you want to check out the prerelease HAPI FHIR, there is a branch in the JPA starter project you can use: <code>rel_5_0_0</code></p>",
        "id": 190979171,
        "sender_full_name": "James Agnew",
        "timestamp": 1584538165
    },
    {
        "content": "<p>I've noticed that <em>DefaultProfileValidationSuupport</em> doesn't implement the <em>validateCodeInValueSet</em> method from <em>IValidationSupport</em> interface. Why so?</p>",
        "id": 192620857,
        "sender_full_name": "Roman Rodnin",
        "timestamp": 1585803192
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"253983\">@Roman Rodnin</span> that method was moved to <code>InMemoryTerminologyServerValidationSupport</code>, so you need to include both of these classes in a chain now.</p>",
        "id": 192642909,
        "sender_full_name": "James Agnew",
        "timestamp": 1585821218
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> iIs 5.0.0 still expected to be released around mid of May?</p>",
        "id": 194415180,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1587115735
    },
    {
        "content": "<p>Yup, we're still on track for the may release.</p>",
        "id": 194415887,
        "sender_full_name": "James Agnew",
        "timestamp": 1587116128
    }
]