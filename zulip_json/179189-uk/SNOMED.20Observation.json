[
    {
        "content": "<p>I've mocked a smoking history example based on argonaut example: <a href=\"https://gist.github.com/KevinMayfield/618f7f613bd59b6038f5930e7de97257\" target=\"_blank\" title=\"https://gist.github.com/KevinMayfield/618f7f613bd59b6038f5930e7de97257\">https://gist.github.com/KevinMayfield/618f7f613bd59b6038f5930e7de97257</a></p>",
        "id": 153912927,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507356353
    },
    {
        "content": "<p>Looking at the codes used, the valueCodeableConcept [Occasional tobacco smoker (finding)] tells me it's a [Finding of tobacco smoking consumption (finding)]</p>",
        "id": 153912928,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507356491
    },
    {
        "content": "<p>So with the acutal implementation (at database) could store the observation like: <a href=\"https://gist.github.com/KevinMayfield/b1dc6e9baf3152500df3eecc09bc95b8\" target=\"_blank\" title=\"https://gist.github.com/KevinMayfield/b1dc6e9baf3152500df3eecc09bc95b8\">https://gist.github.com/KevinMayfield/b1dc6e9baf3152500df3eecc09bc95b8</a></p>",
        "id": 153912929,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507356735
    },
    {
        "content": "<p>My view (based on how some UK GP systems store the data) is both  are roughly the same.</p>",
        "id": 153912931,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507357094
    },
    {
        "content": "<p>And search for [Finding of tobacco smoking consumption (finding)] should return both Observations.</p>",
        "id": 153912932,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507357292
    },
    {
        "content": "<p>Actually I think I've got my gists wrong. The code 428041000124106 | Occasional tobacco smoker (finding) | should be in valueCodeableConcept and I believe the code is possibly 229819007 |Tobacco use and exposure (observable entity</p>",
        "id": 153912933,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507358478
    },
    {
        "content": "<p>So corrected Observation is: <a href=\"https://gist.github.com/KevinMayfield/a1921748f91e6245319132989be14909\" target=\"_blank\" title=\"https://gist.github.com/KevinMayfield/a1921748f91e6245319132989be14909\">https://gist.github.com/KevinMayfield/a1921748f91e6245319132989be14909</a></p>",
        "id": 153912934,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507358814
    },
    {
        "content": "<p><a href=\"https://termbrowser.nhs.uk/?perspective=full&amp;conceptId1=8517006&amp;edition=uk-edition&amp;release=v20170401&amp;server=https://termbrowser.nhs.uk/sct-browser-api/snomed&amp;langRefset=999001261000000100,999000691000001104\" target=\"_blank\" title=\"https://termbrowser.nhs.uk/?perspective=full&amp;conceptId1=8517006&amp;edition=uk-edition&amp;release=v20170401&amp;server=https://termbrowser.nhs.uk/sct-browser-api/snomed&amp;langRefset=999001261000000100,999000691000001104\">https://termbrowser.nhs.uk/?perspective=full&amp;conceptId1=8517006&amp;edition=uk-edition&amp;release=v20170401&amp;server=https://termbrowser.nhs.uk/sct-browser-api/snomed&amp;langRefset=999001261000000100,999000691000001104</a></p>",
        "id": 153912935,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507359002
    },
    {
        "content": "<p>For non smoker</p>",
        "id": 153912936,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507359029
    },
    {
        "content": "<p>So for some finding's I can work out the Observation.code from the CodeSystem (which implies I'd need some form of terminology database) :)</p>",
        "id": 153912937,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507359146
    },
    {
        "content": "<p>On my implementation I don't want to store the parent of a valueCodeableConcept as it may create duplication issues when searching.</p>",
        "id": 153912938,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507359298
    },
    {
        "content": "<p>So that leads onto the next question - do I need to store category. Can I use refsets or other to populate category from the recorded SNOMED concept.</p>",
        "id": 153912939,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507359474
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191495\">@Jonny Rylands</span> <span class=\"user-mention\" data-user-id=\"191650\">@Ian McNicoll</span> ?</p>",
        "id": 153912940,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507359547
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193484\">@Victor Harris</span></p>",
        "id": 153912942,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1507362243
    },
    {
        "content": "<p>Hi Kevin, Can you give a wee bit more background context as to what you are trying to do? First you need to define your valueset and that very often is a restriction on the SNOMED hierarchy (which often contains irrelevant or orthogonal terms) plus get agreement on what your user community actually means by 'smoking status' - the Argonaut defs. may not apply in the UK. In broad terms I don't think the way you have set this up is incorrect but it might not fit the user need as it seems pretty broad. In general, any time you start using SNOMED CT in anger you are going to need a terminology server to resolve relationships, handle refsets etc., and you should not store the parent - the termserver should work that out if needed.  <span class=\"user-mention\" data-user-id=\"191662\">@Hildi Franke</span> - any thoughts from UK GP system experience</p>",
        "id": 153912958,
        "sender_full_name": "Ian McNicoll",
        "timestamp": 1507396241
    }
]