[
    {
        "content": "<p>After thoughts on changes present in NHS Digital R4 API's.</p>\n<p>In short the 'document' or 'complex' exchanges present in HL7v3 (ITK2) and FHIR STU3 (ITK3) are being dropped. <br>\nPut another way, resources like Organization and Practitioner are being removed from payloads and replaced with ODS or professional codes (GMC, GMP, NMC, GPHC, etc e.g. <a href=\"https://simplifier.net/guide/NHSDigital/NHSDigital-Practitioner#identifier\">https://simplifier.net/guide/NHSDigital/NHSDigital-Practitioner#identifier</a>).<br>\nSo in theory the amount of 'static' reference data being exchanged is being reduced. </p>\n<p>I think this is good. If I'm converting from HL7v2 or PAS systems to FHIR R4 this is easier to support - it's what I've done in the past. <br>\n Note also professional codes take precedence over sds-user-id.</p>",
        "id": 247842010,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1627796399
    },
    {
        "content": "<p>The main issue is conversion between HL7 v3/FHIR STU3 to FHIR R4.  V3 is going so that's less of a problem but STU3-&gt;R4 is a bit is more complex than a 'trivial' change of FHIR version, it's a data model change.</p>",
        "id": 247842172,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1627796658
    },
    {
        "content": "<p>hi Kevin, which parts do you see as the complex ones? Do you mean converting from a resource payload to an identifier? Or are there changes in FHIR itself between STU3 and R4 that are hard to map in this context? CarePlan and Consent and the Medication resources changed quite a bit maybe, perhaps Appointment. Patient, Observation, Encounter etc were pretty much unchanged I recall.</p>",
        "id": 247855792,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1627818999
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191687\">Kevin Mayfield</span> <a href=\"#narrow/stream/179189-uk/topic/ITK.20is.20dead.20-.20R4.20Changes/near/247842010\">said</a>:</p>\n<blockquote>\n<p>Put another way, resources like Organization and Practitioner are being removed from payloads and replaced with ODS or professional codes (GMC, GMP, NMC, GPHC, etc e.g. <a href=\"https://simplifier.net/guide/NHSDigital/NHSDigital-Practitioner#identifier\">https://simplifier.net/guide/NHSDigital/NHSDigital-Practitioner#identifier</a>).</p>\n</blockquote>\n<p>Really? Doesn't sound well thought through to me if you consider the needs of the community at large. I'd be interested to see how this scales to all the different care communities across the NHS (and Social Care). Clearly, decisions wouldn't be made just on the tiny slice of clinical messaging experienced in the current TOC use cases. As a percentage of the whole, how much do they represent clinical exchanges across the system?</p>",
        "id": 247916635,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1627908949
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191362\">@Richard Kavanagh</span>  Which is the reason for asking the question. </p>\n<p>The use of codes has been mandated for several years in NHS Data Dictionary, Supplier Framework agreements, HL7v2 (ITK), etc.</p>",
        "id": 247934539,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1627919007
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191651\">@Rik Smithies</span>  just the move from resource payloads to more use of identifiers. <br>\nMy experience in acute trusts and boards would say this is quite common existing behavior in HL7 interactions (maybe not V3). <br>\nI don't know the exact figure but it could be high.</p>",
        "id": 247934759,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1627919140
    },
    {
        "content": "<p>An example is here (using FHIR Message Exchange): <a href=\"https://simplifier.net/guide/DigitalMedicines/1stdispenseevent-partial\">https://simplifier.net/guide/DigitalMedicines/1stdispenseevent-partial</a></p>\n<p>This also has Patient NHS Number as an identifier reference.</p>\n<p>\"subject\": {<br>\n                    \"type\": \"Patient\",<br>\n                    \"identifier\": {<br>\n                        \"system\": \"<a href=\"https://fhir.nhs.uk/Id/nhs-number\">https://fhir.nhs.uk/Id/nhs-number</a>\",<br>\n                        \"value\": \"9876543210\"<br>\n                    },<br>\n                    \"display\": \"Miss Bernie Kanfeld\"<br>\n                },</p>\n<p>I don't think this is a general pattern for Patient and resource will be needed (so hospital numbers, MRN, NHS Number, CHI Numbers can be included). Like this example:</p>\n<p><a href=\"https://simplifier.net/guide/DigitalMedicines/1stdispenseevent-partialwithPatientResource\">https://simplifier.net/guide/DigitalMedicines/1stdispenseevent-partialwithPatientResource</a></p>\n<p>p.s. these examples are from EPS. EPS will accept <strong>dispense-notification</strong> with a Patient resource reference or NHS Number identifier reference.</p>",
        "id": 247935186,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1627919413
    },
    {
        "content": "<p>Both examples use identifiers for Practitioner and Organization.</p>",
        "id": 247935261,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1627919460
    }
]