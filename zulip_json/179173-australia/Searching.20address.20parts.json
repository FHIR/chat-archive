[
    {
        "content": "<p>In the Provider Directory HealthcareService profile (<a href=\"http://build.fhir.org/ig/hl7au/au-fhir-pd/StructureDefinition-au-pd-healthcareservice.html\">http://build.fhir.org/ig/hl7au/au-fhir-pd/StructureDefinition-au-pd-healthcareservice.html</a>), there's a requirement to search by address parts like postcode, suburb. This is accomplished by chained search on the associated Location resource. It's possible for a Location to have both a postal address and a physical address, and for these to be different.  In such a case, what is the \"FHIR-expected\" behaviour for a search such as </p>\n<p>GET [base]/HealthcareService?location.address-city=[suburb] </p>\n<p>when there are two different cities? Do I return all resources where either the postal city OR the physical city matches the criteria and let the user sort it out? That feels reasonable (but not perfect) in the case of a text match, but more problematic in the case of a distance match, e.g., </p>\n<p>GET [base]/HealthcareService?location.near=[latitude]:[longitude]&amp;location.near-distance=[prefix][value]|[units-system]|[units]</p>\n<p>since the postal address could be far away and you wouldn't want to send anybody there (except the postal worker).</p>\n<p>Thanks for your thoughts.</p>",
        "id": 234423505,
        "sender_full_name": "John Carter",
        "timestamp": 1618360441
    },
    {
        "content": "<p>that search parameter is explicitly tied to the location.address, this is a single cardinality field, and does not have other address types in there.</p>",
        "id": 234424374,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1618361125
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> I see that I was wrong on the cardinality, so that helps me understand. WRT address type, the AU PD  Location profile still allows me to specify whether the address is Physical, Postal, or Both. Is there an expectation in here that it's always the Physical address?</p>",
        "id": 234756285,
        "sender_full_name": "John Carter",
        "timestamp": 1618521652
    },
    {
        "content": "<p>Right.  You can't send mail to a floor or a building - you send it to a person or an organization who happens to be located at that location.</p>",
        "id": 234762121,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1618524550
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  . The profile still allows the address type to be Postal, Physical, or Both. Sounds like we could tighten that up to exclude the Postal type.</p>",
        "id": 234769705,
        "sender_full_name": "John Carter",
        "timestamp": 1618528648
    }
]