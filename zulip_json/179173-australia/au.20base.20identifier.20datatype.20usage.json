[
    {
        "content": "<p>Is this how people are expecting that we will be using the new identifier datatypes in our profiles?<br>\n<a href=\"/user_uploads/10155/AWB6cwCY4GeeirqQqkjvGsfO/image.png\">image.png</a><br>\nSomething feels wrong here. I think I still need to slice by system/type.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/AWB6cwCY4GeeirqQqkjvGsfO/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/AWB6cwCY4GeeirqQqkjvGsfO/image.png\"></a></div>",
        "id": 204629750,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1595392680
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> This is the topic that you were asking in the email right?</p>",
        "id": 204629858,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1595392828
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>  are you looking at <a href=\"http://build.fhir.org/ig/ci-collaborative/au-fhir-base-r4/branches/SRAIG-109-hl7-au-identifier-profiles-determine-how-they-are-implemented-in-profiles-that-use/profiles.html\">http://build.fhir.org/ig/ci-collaborative/au-fhir-base-r4/branches/SRAIG-109-hl7-au-identifier-profiles-determine-how-they-are-implemented-in-profiles-that-use/profiles.html</a> ?</p>",
        "id": 204630405,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1595393763
    },
    {
        "content": "<p>There are various ways to use the identifier profiles, slicing by profile is only one of them.</p>",
        "id": 204630420,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1595393815
    },
    {
        "content": "<p>I'm working on another IG for eprescribing, and wanting to try out these identifier datatypes<br>\nThis is the specific one I'm working on right now.<br>\n<a href=\"https://fhir.medicationknowledge.com.au/dev/StructureDefinition-mk-patient.html\">https://fhir.medicationknowledge.com.au/dev/StructureDefinition-mk-patient.html</a></p>",
        "id": 204630517,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1595393997
    },
    {
        "content": "<p>It's currently describing all the properties that will come through, just the identifier isn't showing that for the different identifier types.</p>",
        "id": 204630657,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1595394163
    },
    {
        "content": "<p>You need IG Publisher v1.1.3 for some of the items to come through</p>",
        "id": 204631039,
        "sender_full_name": "Danielle Tavares",
        "timestamp": 1595394818
    },
    {
        "content": "<p>The concern I have around slicing identifiers in AU Base is two fold: if an implementation just wants to use system than we've made it really hard to derive and then restrict to system if the AU Base discriminator is wider than the implementation wants... which is the case for SRA</p>",
        "id": 204631103,
        "sender_full_name": "Danielle Tavares",
        "timestamp": 1595394909
    },
    {
        "content": "<p>The other concern is that system and type work badly with the data type profiles that don't have a fixed system like MRN</p>",
        "id": 204631110,
        "sender_full_name": "Danielle Tavares",
        "timestamp": 1595394936
    },
    {
        "content": "<p>The third issue is that if we want to use type then making the call on using pattern vs fixed happens at AU Base and is another conformance restriction imposed by AU Base. So I'm not a fan of predefining these conformance mechanisms in AU Base.</p>",
        "id": 204631169,
        "sender_full_name": "Danielle Tavares",
        "timestamp": 1595394998
    },
    {
        "content": "<p>I think AU Base should allow for you to include via slicing the profiles you are interested in using your chosen discriminator but not force everyone to use that same choice</p>",
        "id": 204631193,
        "sender_full_name": "Danielle Tavares",
        "timestamp": 1595395073
    },
    {
        "content": "<p>For the projects I'm working on, we won't be deriving from the au-base-patient, but we will be compliant with it.<br>\nAnd was hoping to leverage these identifier datatype profiles to ensure that we are.</p>",
        "id": 204631330,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1595395311
    },
    {
        "content": "<p>As we will only support 3 of the patient identifier types, deriving from the au base will mean I need to then close it and remove them which seems strange.</p>",
        "id": 204631423,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1595395462
    },
    {
        "content": "<p>Your concern on type and system I completely understand, and I think is one of the really tough points in slicing identifiers in FHIR, I've never been really happy in how that works.</p>",
        "id": 204631442,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1595395537
    },
    {
        "content": "<p>Works really well and easily for DVI, IHI, MC, but then falls in a heap when you need to add in MRN, where that is a common type, not system value.</p>",
        "id": 204631483,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1595395579
    },
    {
        "content": "<p>I'm not sure why the profiles aren't coming through, the slicing on profile with $this in that build was an experiment but there is another set that show something similar to what you've described here so it should be working: <a href=\"http://build.fhir.org/ig/ci-collaborative/au-fhir-base-r4/branches/SRAIG-109-hl7-au-identifier-profiles-determine-how-they-are-implemented-in-profiles-that-use/StructureDefinition-patient-guidance-ihi-med.html\">http://build.fhir.org/ig/ci-collaborative/au-fhir-base-r4/branches/SRAIG-109-hl7-au-identifier-profiles-determine-how-they-are-implemented-in-profiles-that-use/StructureDefinition-patient-guidance-ihi-med.html</a></p>",
        "id": 204631660,
        "sender_full_name": "Danielle Tavares",
        "timestamp": 1595395911
    },
    {
        "content": "<p>I am facing a somewhat similar problem. I am profiling the AU Base Patient and I want my patient profile to have a medicare number as an identifier. Trying to figure out how to achieve that in FSH. Do I have to slice the identifier in my profile?</p>",
        "id": 229589044,
        "sender_full_name": "Ronald Dendere",
        "timestamp": 1615341137
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"261713\">@Ronald Dendere</span> <br>\nYes. Slice the identifier. Something similar for Organization is</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;element id=&quot;Organization.identifier&quot;&gt;\n  &lt;path value=&quot;Organization.identifier&quot;/&gt;\n  &lt;slicing&gt;\n    &lt;discriminator&gt;\n      &lt;type value=&quot;value&quot;/&gt;\n      &lt;path value=&quot;system&quot;/&gt;\n    &lt;/discriminator&gt;\n    &lt;rules value=&quot;open&quot;/&gt;\n  &lt;/slicing&gt;\n  &lt;mustSupport value=&quot;true&quot;/&gt;\n&lt;/element&gt;\n&lt;element id=&quot;Organization.identifier:hpio&quot;&gt;\n  &lt;path value=&quot;Organization.identifier&quot;/&gt;\n  &lt;sliceName value=&quot;hpio&quot;/&gt;\n  &lt;max value=&quot;1&quot;/&gt;\n  &lt;type&gt;\n    &lt;code value=&quot;Identifier&quot;/&gt;\n    &lt;profile value=&quot;http://hl7.org.au/fhir/StructureDefinition/au-hpio&quot;/&gt;\n  &lt;/type&gt;\n  &lt;mustSupport value=&quot;true&quot;/&gt;\n&lt;/element&gt;\n&lt;element id=&quot;Organization.identifier:abn&quot;&gt;\n  &lt;path value=&quot;Organization.identifier&quot;/&gt;\n  &lt;sliceName value=&quot;abn&quot;/&gt;\n  &lt;min value=&quot;0&quot;/&gt;\n  &lt;max value=&quot;1&quot;/&gt;\n  &lt;type&gt;\n    &lt;code value=&quot;Identifier&quot;/&gt;\n    &lt;profile\n             value=&quot;http://hl7.org.au/fhir/StructureDefinition/au-australianbusinessnumber&quot;/&gt;\n  &lt;/type&gt;\n  &lt;mustSupport value=&quot;true&quot;/&gt;\n&lt;/element&gt;\n</code></pre></div>",
        "id": 229589716,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1615341682
    },
    {
        "content": "<p>I haven't started fishing yet.</p>",
        "id": 229589732,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1615341717
    },
    {
        "content": "<p>I used this for our patient profile:</p>\n<ul>\n<li>identifier ^slicing.discriminator[0].type = #pattern</li>\n<li>identifier ^slicing.discriminator[0].path = \"type\"</li>\n<li>identifier ^slicing.discriminator[1].type = #value</li>\n<li>identifier ^slicing.discriminator[1].path = \"system\"</li>\n<li>identifier ^slicing.rules = #open</li>\n<li>identifier ^slicing.ordered = false</li>\n<li>identifier ^slicing.description = \"Slice based on the identifer profile\"</li>\n<li>\n<p>identifier contains<br>\n    identifierIHI 1..1 and<br>\n    identifierMRN 0..* </p>\n</li>\n<li>\n<p>identifier[identifierIHI] only AUIHI</p>\n</li>\n<li>identifier[identifierMRN] only AUMedicalRecordNumber</li>\n<li>address only AustralianAddress</li>\n</ul>",
        "id": 229591501,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1615342984
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191682\">@Richard Townley-O'Neill</span> and <span class=\"user-mention\" data-user-id=\"193760\">@Shovan Roy</span>  <br>\nThank you both. Up to now I have only sliced on value-system and I could not figure out how to slice on both value-system and pattern-type using FSH. All good now  :)</p>",
        "id": 229602026,
        "sender_full_name": "Ronald Dendere",
        "timestamp": 1615350767
    }
]