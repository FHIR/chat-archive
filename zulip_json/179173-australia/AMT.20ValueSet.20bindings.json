[
    {
        "content": "<p>I note that the various Medication-oriented AU Base profiles bind to explicit but indirect AMT-specific ValueSets like <code>http://hl7.org.au/fhir/ValueSet/amt-ctpp-codes</code> rather than more directly to implicitly defined ValueSets like <code>http://snomed.info/sct/32506021000036107?fhir_vs=refset/929360051000036108</code></p>\n<p>Is there a reason for this approach?</p>",
        "id": 153973071,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1530597235
    },
    {
        "content": "<p>i can't think of a reason not to use implicit set....</p>",
        "id": 153973073,
        "sender_full_name": "Brett Esler",
        "timestamp": 1530600069
    },
    {
        "content": "<p>The explicit one is easier to look at <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span> and now that I'm here, from an instance perspective is there any way we can tell which property is an MPP, MP, TP etc without a terminology server?<br>\n<span class=\"user-mention\" data-user-id=\"212913\">@Danielle Bancroft</span> <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> <span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span><br>\nThis is so that when I see this</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;coding&gt;\n   &lt;system value=&quot;http://snomed.info/sct&quot; /&gt;\n   &lt;version value=&quot;http://snomed.info/sct/32506021000036107/version/20200601&quot; /&gt;\n   &lt;code value=&quot;36900011000036109&quot; /&gt;\n&lt;/coding&gt;\n</code></pre></div>\n\n\n<p>I can know which of the things it is, now that I've pasted it I don't even know which it was.</p>",
        "id": 208928066,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599116990
    },
    {
        "content": "<p>That's not what this extension is for is it?<br>\n<a href=\"http://hl7.org/fhir/extension-coding-sctdescid.html\">http://hl7.org/fhir/extension-coding-sctdescid.html</a></p>",
        "id": 208929924,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599118284
    },
    {
        "content": "<p>Or is this a better extension where we could point to the valueset that you've pointed at Michael?<br>\n<a href=\"http://hl7.org/fhir/extension-valueset-reference.html\">http://hl7.org/fhir/extension-valueset-reference.html</a></p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;coding&gt;\n   &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/valueset-reference&quot;&gt;\n      &lt;valueUri value=&quot;http://hl7.org.au/fhir/ValueSet/amt-ctpp-codes&quot;/&gt;\n   &lt;/extension&gt;\n   &lt;system value=&quot;http://snomed.info/sct&quot; /&gt;\n   &lt;version value=&quot;http://snomed.info/sct/32506021000036107/version/20200601&quot; /&gt;\n   &lt;code value=&quot;36900011000036109&quot; /&gt;\n&lt;/coding&gt;\n</code></pre></div>",
        "id": 208930057,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599118419
    },
    {
        "content": "<p>And where did they go for R4? (they are in STU3)<br>\n<a href=\"http://hl7.org.au/fhir/aubase1.1/ValueSet-amt-tpp-codes.html\">http://hl7.org.au/fhir/aubase1.1/ValueSet-amt-tpp-codes.html</a><br>\nDid we move them to <a href=\"http://terminology.au\">terminology.au</a>?<br>\nAre we favouring the less pleasant to look at (and harder to QA)<br>\n<a href=\"https://healthterminologies.gov.au/fhir/ValueSet/sctau-reference-set-929360041000036105\">https://healthterminologies.gov.au/fhir/ValueSet/sctau-reference-set-929360041000036105</a></p>",
        "id": 208930644,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599118892
    },
    {
        "content": "<p>There is an extension defined in AU Base R4 to say whether a medication id a UU or a TP etc: <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-medication-type.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-medication-type.html</a></p>",
        "id": 209042185,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1599177018
    },
    {
        "content": "<p>I think we're going to go with the approach I've noted above, so the valueset used is incldued, as it's the only way to split them apart.<br>\nThe MedicationType doesn't indicate which of the valuesets was used (or at least I couldn't work it out)</p>",
        "id": 209048106,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599184108
    },
    {
        "content": "<p>It does not indicate the value set. It indicates, indirectly, whether it was a trade product, or a containered trade product, or whether it was a medicinal product etc. There is a mapping somewhere that shows that. The original idea was that its codes were not Australian specific. <span class=\"user-mention\" data-user-id=\"191337\">@Dion McMurtrie</span>  is the expert.</p>",
        "id": 209048215,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1599184276
    },
    {
        "content": "<p>Like <span class=\"user-mention\" data-user-id=\"191682\">@Richard Townley-O'Neill</span>  said <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-medication-type.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-medication-type.html</a> can be used for that; problem with Valuesets is that depending on what you are doing this can change (subsets, refsets or otherwise) so not that reliable for exchanging in every scenario - so went for an explicit coded extension where you don't want to have receivers requiring a terminology lookup</p>",
        "id": 209048543,
        "sender_full_name": "Brett Esler",
        "timestamp": 1599184728
    },
    {
        "content": "<p>we got rid of the AMT valueset in AU base and stopped using them in AMT coded content - simplified</p>",
        "id": 209048577,
        "sender_full_name": "Brett Esler",
        "timestamp": 1599184798
    },
    {
        "content": "<p>the extension can also be used with other terminologies to indicate the broad class of the content; <span class=\"user-mention\" data-user-id=\"191337\">@Dion McMurtrie</span>  has done some POC work with other drug terminologies also similarly...</p>",
        "id": 209048660,
        "sender_full_name": "Brett Esler",
        "timestamp": 1599184874
    },
    {
        "content": "<p>So which ones map to which ones?<br>\nMP<br>\nMPP<br>\nTPP <br>\nMPUU<br>\nTP<br>\nTPUU<br>\nCTPP</p>",
        "id": 209051616,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599189870
    },
    {
        "content": "<p>Good question.</p>",
        "id": 209052051,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1599190468
    },
    {
        "content": "<p>Brett filled me in it is:<br>\nMP = UPD; MPUU = UPDSF; MPP=UPG; TP = BPD, TPUU = BPDSF, TPP=BPG</p>",
        "id": 209052185,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599190684
    },
    {
        "content": "<p>I tried mapping using the definitions and got the same. I was not sure though. I also got CTPP=BPGC</p>",
        "id": 209052255,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1599190825
    },
    {
        "content": "<p>Here is a sample with both in it</p>\n<div class=\"codehilite\"><pre><span></span><code>        &lt;coding&gt;          &lt;!-- MP --&gt;\n          &lt;extension url=&quot;http://hl7.org.au/fhir/StructureDefinition/medication-type&quot;&gt;\n            &lt;valueCoding&gt;\n              &lt;system value=&quot;http://hl7.org.au/fhir/CodeSystem/medication-type&quot;/&gt;\n              &lt;code value=&quot;UPD&quot;/&gt;\n            &lt;/valueCoding&gt;\n          &lt;/extension&gt;\n          &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/valueset-reference&quot;&gt;\n            &lt;valueUri value=&quot;https://healthterminologies.gov.au/fhir/ValueSet/sctau-reference-set-929360061000036106&quot;/&gt;\n          &lt;/extension&gt;\n          &lt;system value=&quot;http://snomed.info/sct&quot; /&gt;\n          &lt;version value=&quot;http://snomed.info/sct/32506021000036107/version/20200601&quot; /&gt;\n          &lt;code value=&quot;14207011000036103&quot; /&gt;\n        &lt;/coding&gt;\n</code></pre></div>",
        "id": 209052553,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599191371
    },
    {
        "content": "<p>Thanks, Now that I have the full mapping there I'll go with that, and drop the valueset reference that is shown above.<br>\nAny reason we went with Coding rather than Code with the required binding?</p>",
        "id": 209052752,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599191724
    },
    {
        "content": "<p>Now that we have that, how can I slice the Coding based on the extension value to make this possible?<br>\nOr do we have to wander into the expression based slicing - extension still to be defined for this...</p>",
        "id": 209052929,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599192020
    },
    {
        "content": "<p>I don't know about coding vs codeable concept.</p>",
        "id": 209052957,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1599192107
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html</a> uses the extension on the amt slice</p>",
        "id": 209053023,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1599192235
    },
    {
        "content": "<p>I'm not confident that that slicing is a good way to go.</p>",
        "id": 209053080,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1599192313
    },
    {
        "content": "<p>Interesting approach. Thus far, for NZMT, which is structurally very similar to AMT, we've treated Medication Type as a Code System property  (NZULM Type) representing one of the '7 boxes' (MP, MPP, MPUU, TP, TPP, TPUU, CTPP). It would be insightful to know the use cases for creating an extension beyond the obvious one of a transparent distinction between a generic and branded drug - because whether it's a  product, unit of use or pack is usually (fairly) obvious from the description.</p>",
        "id": 209054786,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1599195005
    },
    {
        "content": "<p>as I understand it the use case is:</p>\n<ul>\n<li>you need to pick out the different codes and put them in different slots </li>\n<li>you don't want to take the time to consult a terminology server that can tell you which is which</li>\n</ul>",
        "id": 209055351,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599195927
    },
    {
        "content": "<p>So this is where I ended up in the profile<br>\n<a href=\"https://fhir.medicationknowledge.com.au/dev/StructureDefinition-mysl-medication.html\">https://fhir.medicationknowledge.com.au/dev/StructureDefinition-mysl-medication.html</a><br>\nWith an example here<br>\n<a href=\"https://fhir.medicationknowledge.com.au/dev/MedicationRequest-1XPR352VP3QCX7BJD6.xml.html\">https://fhir.medicationknowledge.com.au/dev/MedicationRequest-1XPR352VP3QCX7BJD6.xml.html</a></p>",
        "id": 209141089,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599253669
    },
    {
        "content": "<p>Thanks.<br>\nI suggest that Medication.code.coding.medication-type should be 0..1 instead of 0..*<br>\nAlso, that you include an example that gives Medication.ingredient.strength as mg/1. <br>\nI, a consumer, think of meds as having so many mg per tablet, not so many mg per mg.</p>",
        "id": 209348845,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1599545586
    },
    {
        "content": "<p>If you included the FSN in the display text, then you'd know (as a human) what was what.<br>\nIf you're going to use an extension to indicate which hierarchy, why use a ValueSet?  Why not just the MP MPUU CTPP, etc code itself?</p>",
        "id": 209351010,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1599548158
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191337\">@Dion McMurtrie</span> would have a take on this too, as it is something he tackled for MedServ (with a view to a non-AMT specific solution).  I think this might be the source.</p>",
        "id": 209351106,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1599548281
    },
    {
        "content": "<p>I'll update that cardinality, good pickup.</p>",
        "id": 209370749,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599562456
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span> we're putting the type which matches. Removes need for terminology server to pick which heirachy it is.</p>",
        "id": 209370887,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1599562580
    },
    {
        "content": "<p>Yep - I believe those are the \"neutral\" codes that Dion invented to assist in aligning AMT, RxNorm, DM+D, etc</p>",
        "id": 209371292,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1599562941
    },
    {
        "content": "<p>Sorry to be late to this, but yes in essence those codes were an attempt to create a general code mapping to the levels exposed in the various drug models. All the models have heavily intersecting sets of these levels, but call them different things. So I came up with something agnostic of any particular model (not AMT's MP, CTPP, TPP... not dm+d's AMP, VTM...etc).</p>\n<p>I can supply a ConceptMap if that's useful?</p>",
        "id": 209576238,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1599690439
    },
    {
        "content": "<blockquote>\n<p>I can supply a ConceptMap if that's useful?</p>\n</blockquote>\n<p>Yes please.</p>",
        "id": 209576333,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1599690498
    },
    {
        "content": "<p>That would be useful - R4 and/or R5 versions?</p>",
        "id": 209577227,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1599691109
    },
    {
        "content": "<p>What is this \"R5\" of which you speak? ;-)</p>",
        "id": 209587969,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1599701544
    },
    {
        "content": "<p>Adding to the next PA meeting a discussion on how we can move forward NCTS dependencies in the AU base IG (among others)<br>\nSo we can remove the validation info/warning messages that those aren't in the IG - such as countries, languages, IHI statuses etc.</p>",
        "id": 242809203,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1623797230
    },
    {
        "content": "<p>If you do not want to validate the examples, the warnings can be removed by adding 50 odd rows to the file suppressed-warnings.txt. (Many valueset warnings appear twice, so only need one entry.) This was used for SRA, see the bottom of  <a href=\"https://sra.digitalhealth.gov.au/fhir/currentdraft/qa.html\">https://sra.digitalhealth.gov.au/fhir/currentdraft/qa.html</a></p>",
        "id": 242827428,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1623815358
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> For those who might not be regular PA meeting attendees but are interested in that topic, when is said next meeting?</p>",
        "id": 242831245,
        "sender_full_name": "Jim Steel",
        "timestamp": 1623820846
    },
    {
        "content": "<p>Next Wednesday, will send you the details.</p>",
        "id": 242842550,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1623830458
    },
    {
        "content": "<p>Thanks</p>",
        "id": 242953956,
        "sender_full_name": "Jim Steel",
        "timestamp": 1623884360
    }
]