[
    {
        "content": "<p>hl7-fhircast-bot opened <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a></p>\n<blockquote>\n<p>## May 2019 Ballot Comment: Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p>Submitted by Mitra Rocca; Terrie Reed <br>\n<strong>Chapter/section:</strong>  Overall<br>\n<strong>Url:</strong> <a href=\"https://fhircast.hl7.org/\" target=\"_blank\" title=\"https://fhircast.hl7.org/\">https://fhircast.hl7.org/</a><br>\n<strong>Type:</strong> A-S </p>\n<p><strong>Summary:</strong> Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p><strong>Comment:</strong> Since the \"hub.topics\" are meant to be events, it would be useful to create a hierarchy of events using a BNF grammar similar SMRT clinical context scopes. For instance: \"session.*\" hub.topic scope would correspond to all session-related events or alterantively an could subscribe to either \"Session.close\" or \"session.change\". Similarly the \"hub.topic\" could be centered on a a FHIR resource - similar to SMART scoes - \"patient.selected\" , \"device.selected\". The lesson of CCOW is that standardizeding  the \"contexts\" and creating an extensible grammar/sytax are both needed for adption. Pub/sub topics provide a similar hierarchical approach to \"topic\" definitons. </p>\n<hr>\n<p>_This issue was imported by @hl7-fhircast-bot from the <a href=\"https://bit.ly/fhircast-May-2019-ballot-comments\" target=\"_blank\" title=\"https://bit.ly/fhircast-May-2019-ballot-comments\">consolidated FHIRcast May 2019 ballot spreadsheet</a>._</p>\n</blockquote>",
        "id": 164570243,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1556653896
    },
    {
        "content": "<p>hl7-fhircast-bot labeled <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a></p>\n<blockquote>\n<p>## May 2019 Ballot Comment: Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p>Submitted by Mitra Rocca; Terrie Reed <br>\n<strong>Chapter/section:</strong>  Overall<br>\n<strong>Url:</strong> <a href=\"https://fhircast.hl7.org/\" target=\"_blank\" title=\"https://fhircast.hl7.org/\">https://fhircast.hl7.org/</a><br>\n<strong>Type:</strong> A-S </p>\n<p><strong>Summary:</strong> Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p><strong>Comment:</strong> Since the \"hub.topics\" are meant to be events, it would be useful to create a hierarchy of events using a BNF grammar similar SMRT clinical context scopes. For instance: \"session.*\" hub.topic scope would correspond to all session-related events or alterantively an could subscribe to either \"Session.close\" or \"session.change\". Similarly the \"hub.topic\" could be centered on a a FHIR resource - similar to SMART scoes - \"patient.selected\" , \"device.selected\". The lesson of CCOW is that standardizeding  the \"contexts\" and creating an extensible grammar/sytax are both needed for adption. Pub/sub topics provide a similar hierarchical approach to \"topic\" definitons. </p>\n<hr>\n<p>_This issue was imported by @hl7-fhircast-bot from the <a href=\"https://bit.ly/fhircast-May-2019-ballot-comments\" target=\"_blank\" title=\"https://bit.ly/fhircast-May-2019-ballot-comments\">consolidated FHIRcast May 2019 ballot spreadsheet</a>._</p>\n</blockquote>",
        "id": 164570244,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1556653896
    },
    {
        "content": "<p>hl7-fhircast-bot edited <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a></p>\n<blockquote>\n<p>## May 2019 Ballot Comment: Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p>Submitted by Mitra Rocca; Terrie Reed <br>\n<strong>Chapter/section:</strong>  Overall<br>\n<strong>Url:</strong> <a href=\"https://fhircast.hl7.org/\" target=\"_blank\" title=\"https://fhircast.hl7.org/\">https://fhircast.hl7.org/</a><br>\n<strong>Type:</strong> A-S </p>\n<p><strong>Summary:</strong> Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p><strong>Comment:</strong> Since the \"hub.topics\" are meant to be events, it would be useful to create a hierarchy of events using a BNF grammar similar SMRT clinical context scopes. For instance: \"session.*\" hub.topic scope would correspond to all session-related events or alterantively an could subscribe to either \"Session.close\" or \"session.change\". Similarly the \"hub.topic\" could be centered on a a FHIR resource - similar to SMART scoes - \"patient.selected\" , \"device.selected\". The lesson of CCOW is that standardizeding  the \"contexts\" and creating an extensible grammar/sytax are both needed for adption. Pub/sub topics provide a similar hierarchical approach to \"topic\" definitons. </p>\n<hr>\n<p>_This issue was imported by @hl7-fhircast-bot from the <a href=\"https://bit.ly/fhircast-May-2019-ballot-comments\" target=\"_blank\" title=\"https://bit.ly/fhircast-May-2019-ballot-comments\">consolidated FHIRcast May 2019 ballot spreadsheet</a>._</p>\n</blockquote>",
        "id": 164570245,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1556653896
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\">commented</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>This comment proposes a substantive change. The current FHIRcast events are <a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\">named in the specification and effectively \"hardcoded\"</a> and aren't otherwise parsable by a machine. The use and creation of new standard events would necessitate updating the spec. </p>\n<p><em>Proposed resolution</em>: Persuasive with Mod<br>\n<em>Proposed comment</em>: We will create a simple syntax for FHIRcast events modeled after SMART's scope syntax and based upon FHIR resources. Except for the \"meta\" <code>sync-error</code> event, we will move the Event Catalog out of the specification and use it simply as guidance, not specification content.</p>\n<p>FHIRcast <code>hub.topic</code>'s are an extensible syntax based upon FHIR resources, following the <a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART on FHIR scope syntax</a>.</p>\n<p>Expressed in EBNF notation, the FHIRcast syntax for workflow related events is:</p>\n<div class=\"codehilite\"><pre><span></span>hub.topic ::= ( fhir-resource ) &#39;.&#39; ( &#39;open&#39; | &#39;close&#39; )\n</pre></div>\n\n\n<p>![image](<a href=\"https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png\">https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png</a>)</p>\n<p>The event notification or request for context change message SHALL be accompanied by the <code>fhir-resource</code> named in the <code>hub.topic</code> and by the FHIR Patient resource, if the workflow related event is related to a single patient. </p>\n<p>_Outstanding Questions_<br>\n1) Can <code>sync-error</code> be made to fit into this syntactical model?<br>\n2) Is the guidance to SHALL send Patient if there's a single patient appropriate?</p>\n<hr>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('.'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #142, #128, ...</li>\n</ul>\n</blockquote>",
        "id": 170935850,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563228186
    },
    {
        "content": "<p>isaacvetter labeled <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>## May 2019 Ballot Comment: Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p>Submitted by Mitra Rocca; Terrie Reed <br>\n<strong>Chapter/section:</strong>  Overall<br>\n<strong>Url:</strong> <a href=\"https://fhircast.hl7.org/\" target=\"_blank\" title=\"https://fhircast.hl7.org/\">https://fhircast.hl7.org/</a><br>\n<strong>Type:</strong> A-S </p>\n<p><strong>Summary:</strong> Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p><strong>Comment:</strong> Since the \"hub.topics\" are meant to be events, it would be useful to create a hierarchy of events using a BNF grammar similar SMRT clinical context scopes. For instance: \"session.*\" hub.topic scope would correspond to all session-related events or alterantively an could subscribe to either \"Session.close\" or \"session.change\". Similarly the \"hub.topic\" could be centered on a a FHIR resource - similar to SMART scoes - \"patient.selected\" , \"device.selected\". The lesson of CCOW is that standardizeding  the \"contexts\" and creating an extensible grammar/sytax are both needed for adption. Pub/sub topics provide a similar hierarchical approach to \"topic\" definitons. </p>\n<hr>\n<p>_This issue was imported by @hl7-fhircast-bot from the <a href=\"https://bit.ly/fhircast-May-2019-ballot-comments\" target=\"_blank\" title=\"https://bit.ly/fhircast-May-2019-ballot-comments\">consolidated FHIRcast May 2019 ballot spreadsheet</a>._</p>\n</blockquote>",
        "id": 170935950,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563228244
    },
    {
        "content": "<p>isaacvetter edited a <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\">comment</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>This comment proposes a substantive change. The current FHIRcast events are <a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\">named in the specification and effectively \"hardcoded\"</a> and aren't otherwise parsable by a machine. The use and creation of new standard events would necessitate updating the spec. </p>\n<p><em>Proposed resolution</em>: Persuasive with Mod<br>\n<em>Proposed comment</em>: We will create a simple syntax for FHIRcast events modeled after SMART's scope syntax and based upon FHIR resources. Except for the \"meta\" <code>sync-error</code> event, we will move the Event Catalog out of the specification and use it simply as guidance, not specification content.</p>\n<p>FHIRcast <code>hub.topic</code>'s are an extensible syntax based upon FHIR resources, following the <a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART on FHIR scope syntax</a>.</p>\n<p>Expressed in EBNF notation, the FHIRcast syntax for workflow related events is:</p>\n<div class=\"codehilite\"><pre><span></span>hub.topic ::= ( fhir-resource ) &#39;.&#39; ( &#39;open&#39; | &#39;close&#39; )\n</pre></div>\n\n\n<p>![image](<a href=\"https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png\">https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png</a>)</p>\n<p>The event notification or request for context change message SHALL be accompanied by the <code>fhir-resource</code> named in the <code>hub.topic</code> and by the FHIR Patient resource, if the workflow related event is related to a single patient. </p>\n<p>_Outstanding Questions_<br>\n1) Can <code>sync-error</code> be made to fit into this syntactical model?<br>\n1) Syntax: How does this proposed syntax impact our proposed OAuth scopes in #127 (and #105)? If a <code>hub.topic</code> looks like: <code>Patient.open</code>, would the scope look like: <code>fhircast/Patient.open.read</code> ? The re-use of the period in the topic stomps on SMART's existing use of the period and potentially complicates parsing of the scope syntax. </p>\n<p>2) Is the guidance to SHALL send Patient if there's a single patient appropriate?</p>\n<hr>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('.'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #142, #128, ...</li>\n</ul>\n</blockquote>",
        "id": 170977821,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563277944
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511790596\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511790596\">commented</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p><strong>Considerations on <code>hub.events</code> syntax for compatibility with SMART scopes</strong></p>\n<p><a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART</a> uses a right slash (/) and period (.) to demarcate computable pieces of a scope: <br>\n![image](<a href=\"https://user-images.githubusercontent.com/60514/61292325-9350f480-a796-11e9-9485-e018b98da57a.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61292325-9350f480-a796-11e9-9485-e018b98da57a.png\">https://user-images.githubusercontent.com/60514/61292325-9350f480-a796-11e9-9485-e018b98da57a.png</a>)</p>\n<p>This comment proposes turning our each <a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\">event in <code>hub.events</code></a> into a two-part computable string. Other comments (#127, #105) suggest exposing these events and the ability to receive or send them as OAuth2 scopes. </p>\n<p>What event syntax would be easy for developers, future-proof against <a href=\"http://www.healthintersections.com.au/?p=2967\" target=\"_blank\" title=\"http://www.healthintersections.com.au/?p=2967\">SMART scope syntax changes</a> and elegant?</p>\n<p>Some possibilities:</p>\n<ul>\n<li><code>hub.events</code>=<code>Patient|open</code> with a corresponding scope of <code>fhircast/Patient|open.read</code>? </li>\n<li><code>fhircast/Patient$open.read</code> </li>\n<li><code>fhircast/Patient,open.read</code> </li>\n<li><code>fhircast/Patient~open.read</code> </li>\n<li><del><code>fhircast/Patient:open.read</code></del> (Let's assume that <a href=\"http://www.healthintersections.com.au/?p=2967\" target=\"_blank\" title=\"http://www.healthintersections.com.au/?p=2967\">SMART will use a colon</a> in the future). </li>\n<li><code>fhircast/Patient_open.read</code></li>\n<li><code>fhircast/Patient+open.read</code></li>\n<li><code>fhircast/Patient-open.read</code></li>\n</ul>\n<p>Here's an <a href=\"https://brandur.org/oauth-scope\" target=\"_blank\" title=\"https://brandur.org/oauth-scope\">excellent overview of (surprisingly non-standard) OAuth scope syntaxes</a> across the internet. </p>\n<p>Here's the most relevant part of <a href=\"https://tools.ietf.org/html/rfc6749#section-3.3\" target=\"_blank\" title=\"https://tools.ietf.org/html/rfc6749#section-3.3\">RFC 6749</a>:</p>\n<blockquote>\n<p>The value of the scope parameter is expressed as a list of space-<br>\n   delimited, case-sensitive strings.  The strings are defined by the<br>\n   authorization server.  If the value contains multiple space-delimited<br>\n   strings, their order does not matter, and each string adds an<br>\n   additional access range to the requested scope.</p>\n<div class=\"codehilite\"><pre><span></span>scope       = scope-token *( SP scope-token )\nscope-token = 1*( %x21 / %x23-5B / %x5D-7E )\n</pre></div>\n\n\n</blockquote>\n</blockquote>",
        "id": 170979606,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563279302
    },
    {
        "content": "<p>isaacvetter edited a <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\">comment</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>This comment proposes a substantive change. The current FHIRcast events are <a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\">named in the specification and effectively \"hardcoded\"</a> and aren't otherwise parsable by a machine. The use and creation of new standard events would necessitate updating the spec. </p>\n<p><em>Proposed resolution</em>: Persuasive with Mod<br>\n<em>Proposed comment</em>: We will create a simple syntax for FHIRcast events modeled after SMART's scope syntax and based upon FHIR resources. Except for the \"meta\" <code>sync-error</code> event, we will move the Event Catalog out of the specification and use it simply as guidance, not specification content.</p>\n<p>FHIRcast events (as communicated in <code>hub.events</code>) are an extensible syntax based upon FHIR resources, following the <a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART on FHIR scope syntax</a>.</p>\n<p>Expressed in EBNF notation, the FHIRcast syntax for workflow related events is:</p>\n<div class=\"codehilite\"><pre><span></span>hub.events ::= ( fhir-resource ) &#39;.&#39; ( &#39;open&#39; | &#39;close&#39; )\n</pre></div>\n\n\n<p>![image](<a href=\"https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png\">https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png</a>)</p>\n<p>The event notification or request for context change message SHALL be accompanied by the <code>fhir-resource</code> named in the <code>hub.events</code> and by the FHIR Patient resource, if the workflow related event is related to a single patient. </p>\n<p>_Outstanding Questions_<br>\n1) Can <code>sync-error</code> be made to fit into this syntactical model?<br>\n1) Syntax: How does this proposed syntax impact our proposed OAuth scopes in #127 (and #105)? If a <code>hub.events</code> looks like: <code>Patient.open</code>, would the scope look like: <code>fhircast/Patient.open.read</code> ? The re-use of the period in the topic stomps on SMART's existing use of the period and potentially complicates parsing of the scope syntax. </p>\n<p>2) Is the guidance to SHALL send Patient if there's a single patient appropriate?</p>\n<hr>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('.'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #142, #128, ...</li>\n</ul>\n</blockquote>",
        "id": 170979710,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563279374
    },
    {
        "content": "<p>isaacvetter edited a <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\">comment</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>This comment proposes a substantive change. The current FHIRcast events are <a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\">named in the specification and effectively \"hardcoded\"</a> and aren't otherwise parsable by a machine. The use and creation of new standard events would necessitate updating the spec. </p>\n<p><em>Proposed resolution</em>: Persuasive with Mod<br>\n<em>Proposed comment</em>: We will create a simple syntax for FHIRcast events modeled after SMART's scope syntax and based upon FHIR resources. Except for the \"meta\" <code>sync-error</code> event, we will move the Event Catalog out of the specification and use it simply as guidance, not specification content.</p>\n<p>FHIRcast events are an extensible syntax based upon FHIR resources, following the <a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART on FHIR scope syntax</a>.</p>\n<p>Expressed in EBNF notation, the FHIRcast syntax for workflow related events is:</p>\n<div class=\"codehilite\"><pre><span></span>hub.events ::= ( fhir-resource ) &#39;.&#39; ( &#39;open&#39; | &#39;close&#39; )\n</pre></div>\n\n\n<p>![image](<a href=\"https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png\">https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png</a>)</p>\n<p>The event notification or request for context change message SHALL be accompanied by the <code>fhir-resource</code> named in the <code>hub.events</code> and by the FHIR Patient resource, if the workflow related event is related to a single patient. </p>\n<p>_Outstanding Questions_<br>\n1) Can <code>sync-error</code> be made to fit into this syntactical model?<br>\n1) Syntax: How does this proposed syntax impact our proposed OAuth scopes in #127 (and #105)? If a <code>hub.events</code> looks like: <code>Patient.open</code>, would the scope look like: <code>fhircast/Patient.open.read</code> ? The re-use of the period in the topic stomps on SMART's existing use of the period and potentially complicates parsing of the scope syntax. </p>\n<p>2) Is the guidance to SHALL send Patient if there's a single patient appropriate?</p>\n<hr>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('.'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #142, #128, ...</li>\n</ul>\n</blockquote>",
        "id": 170979751,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563279427
    },
    {
        "content": "<p>isaacvetter edited a <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511790596\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511790596\">comment</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p># Considerations on <code>hub.events</code> syntax for compatibility with SMART scopes</p>\n<p><a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART</a> uses a right slash (/) and period (.) to demarcate computable pieces of a scope: <br>\n![image](<a href=\"https://user-images.githubusercontent.com/60514/61292325-9350f480-a796-11e9-9485-e018b98da57a.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61292325-9350f480-a796-11e9-9485-e018b98da57a.png\">https://user-images.githubusercontent.com/60514/61292325-9350f480-a796-11e9-9485-e018b98da57a.png</a>)</p>\n<p>This comment proposes turning our each <a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\">event in <code>hub.events</code></a> into a two-part computable string. Other comments (#127, #105) suggest exposing these events and the ability to receive or send them as OAuth2 scopes. </p>\n<p>What event syntax would be easy for developers, future-proof against <a href=\"http://www.healthintersections.com.au/?p=2967\" target=\"_blank\" title=\"http://www.healthintersections.com.au/?p=2967\">SMART scope syntax changes</a> and elegant?</p>\n<p>Some possibilities:</p>\n<ul>\n<li><code>hub.events</code>=<code>Patient|open</code> with a corresponding scope of <code>fhircast/Patient|open.read</code>? </li>\n<li><code>fhircast/Patient$open.read</code> </li>\n<li><del><code>fhircast/Patient,open.read</code></del> We're already using a comma to separate events in <code>hub.events</code>.</li>\n<li><code>fhircast/Patient~open.read</code> </li>\n<li><del><code>fhircast/Patient:open.read</code></del> (Let's assume that <a href=\"http://www.healthintersections.com.au/?p=2967\" target=\"_blank\" title=\"http://www.healthintersections.com.au/?p=2967\">SMART will use a colon</a> in the future). </li>\n<li><code>fhircast/Patient_open.read</code></li>\n<li><code>fhircast/Patient+open.read</code></li>\n<li><code>fhircast/Patient-open.read</code> </li>\n</ul>\n<p>Here's an <a href=\"https://brandur.org/oauth-scope\" target=\"_blank\" title=\"https://brandur.org/oauth-scope\">excellent overview of (surprisingly non-standard) OAuth scope syntaxes</a> across the internet. </p>\n<p>Here's the most relevant part of <a href=\"https://tools.ietf.org/html/rfc6749#section-3.3\" target=\"_blank\" title=\"https://tools.ietf.org/html/rfc6749#section-3.3\">RFC 6749</a>:</p>\n<blockquote>\n<p>The value of the scope parameter is expressed as a list of space-<br>\n   delimited, case-sensitive strings.  The strings are defined by the<br>\n   authorization server.  If the value contains multiple space-delimited<br>\n   strings, their order does not matter, and each string adds an<br>\n   additional access range to the requested scope.</p>\n<div class=\"codehilite\"><pre><span></span>scope       = scope-token *( SP scope-token )\nscope-token = 1*( %x21 / %x23-5B / %x5D-7E )\n</pre></div>\n\n\n</blockquote>\n<p>## Where and how does a FHIRcast implementer use these events?</p>\n<p><code>hub.events</code> is a comma-delimited list of events communicated as a form parameter in a POST (and therefore <a href=\"https://en.wikipedia.org/wiki/Percent-encoding\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/Percent-encoding\">url-encoded</a>) during:</p>\n<ul>\n<li><a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#subscription-request\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#subscription-request\">Subscription Request</a></li>\n<li><a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#unsubscribe\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#unsubscribe\">Unsubscribe</a></li>\n</ul>\n<p><code>hub.events</code> is a comma-delimited list of events communicated as a querystring parameter in a GET (and therefore <a href=\"https://en.wikipedia.org/wiki/Percent-encoding\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/Percent-encoding\">url-encoded</a>) during:</p>\n<ul>\n<li><a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#subscription-denial\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#subscription-denial\">Subscription Denial</a></li>\n<li><a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#intent-verification-request\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#intent-verification-request\">Intent Verification Request</a></li>\n</ul>\n<p><code>hub.event</code> is a json element communicated in an HTTP Post as part of the:</p>\n<ul>\n<li><a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-notification\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-notification\">Event Notification</a></li>\n<li><a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#request-context-change\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#request-context-change\">Request Context Change</a></li>\n<li><a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#query-for-current-context\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#query-for-current-context\">Query for Current Context</a></li>\n</ul>\n<p>## Conclusion<br>\nA simple dash is elegant, already in use by our legacy scope names, doesn't conflict with SMART, compatible with url encoding. We'll just need to change the name of our \"meta\" <code>sync-error</code> event to use the dash as part of our computable syntax --</p>\n</blockquote>",
        "id": 170980933,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563280458
    },
    {
        "content": "<p>isaacvetter edited a <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\">comment</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>This comment proposes a substantive change. The current FHIRcast events are <a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\">named in the specification and effectively \"hardcoded\"</a> and aren't otherwise parsable by a machine. The use and creation of new standard events would necessitate updating the spec. </p>\n<p><em>Proposed resolution</em>: Persuasive with Mod<br>\n<em>Proposed comment</em>: We will create a simple syntax for FHIRcast events modeled after SMART's scope syntax and based upon FHIR resources. Except for the \"meta\" <code>sync-error</code> event, we will move the Event Catalog out of the specification and use it simply as guidance, not specification content. <code>sync-error</code> will be renamed to <code>syncerror</code>. </p>\n<p>FHIRcast events are an extensible syntax based upon FHIR resources, following the <a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART on FHIR scope syntax</a>.</p>\n<p>Expressed in EBNF notation, the FHIRcast syntax for workflow related events is:</p>\n<div class=\"codehilite\"><pre><span></span>hub.events ::= ( fhir-resource ) &#39;-&#39; ( &#39;open&#39; | &#39;close&#39; )\n</pre></div>\n\n\n<p>![image](<a href=\"https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png\">https://user-images.githubusercontent.com/60514/61251379-df148700-a71f-11e9-8d17-2bf38ad1233f.png</a>)</p>\n<p>The event notification or request for context change message SHALL be accompanied by the <code>fhir-resource</code> named in the <code>hub.events</code> and by the FHIR Patient resource, if the workflow related event is related to a single patient. </p>\n<p>_Outstanding Questions_<br>\n1) Can <code>sync-error</code> be made to fit into this syntactical model?<br>\n1) <del>Syntax: How does this proposed syntax impact our proposed OAuth scopes in #127 (and #105)? If a <code>hub.events</code> looks like: <code>Patient.open</code>, would the scope look like: <code>fhircast/Patient.open.read</code> ? The re-use of the period in the topic stomps on SMART's existing use of the period and potentially complicates parsing of the scope syntax. </del></p>\n<p>2) Is the guidance to SHALL send Patient if there's a single patient appropriate?</p>\n<hr>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('.'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #142, #128, ...</li>\n</ul>\n</blockquote>",
        "id": 170981008,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563280555
    },
    {
        "content": "<p>isaacvetter edited a <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\">comment</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>This comment proposes a substantive change. The current FHIRcast events are <a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\">named in the specification and effectively \"hardcoded\"</a> and aren't otherwise parsable by a machine. The use and creation of new standard events would necessitate updating the spec. </p>\n<p><em>Proposed resolution</em>: Persuasive with Mod<br>\n<em>Proposed comment</em>: We will create a simple syntax for FHIRcast events modeled after SMART's scope syntax and based upon FHIR resources. Except for the \"meta\" <code>sync-error</code> event, we will move the Event Catalog out of the specification and use it simply as guidance, not specification content. <code>sync-error</code> will be renamed to <code>syncerror</code>. </p>\n<p>FHIRcast events are an extensible syntax based upon FHIR resources, following the <a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART on FHIR scope syntax</a>.</p>\n<p>Expressed in EBNF notation, the FHIRcast syntax for workflow related events is:</p>\n<div class=\"codehilite\"><pre><span></span>hub.events ::= ( fhir-resource ) &#39;-&#39; ( &#39;open&#39; | &#39;close&#39; )\n</pre></div>\n\n\n<p>![image](<a href=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\">https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png</a>)</p>\n<p>The event notification or request for context change message SHALL be accompanied by the <code>fhir-resource</code> named in the <code>hub.events</code> and by the FHIR Patient resource, if the workflow related event is related to a single patient. </p>\n<p>_Outstanding Questions_<br>\n1) Can <code>sync-error</code> be made to fit into this syntactical model?<br>\n1) <del>Syntax: How does this proposed syntax impact our proposed OAuth scopes in #127 (and #105)? If a <code>hub.events</code> looks like: <code>Patient.open</code>, would the scope look like: <code>fhircast/Patient.open.read</code> ? The re-use of the period in the topic stomps on SMART's existing use of the period and potentially complicates parsing of the scope syntax. </del></p>\n<p>2) Is the guidance to SHALL send Patient if there's a single patient appropriate?</p>\n<hr>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('-'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #142, #128, ...</li>\n</ul>\n</blockquote>",
        "id": 170981097,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563280628
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511798281\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511798281\">commented</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p><strong>Proposed resolution</strong>: Persuasive with Mod<br>\n<strong>Proposed comment</strong>: We will create a simple syntax for FHIRcast events modeled after SMART's scope syntax and based upon FHIR resources. Except for the \"meta\" <code>sync-error</code> event, we will move the Event Catalog out of the specification and use it simply as guidance, not specification content. <code>sync-error</code> will be renamed to <code>syncerror</code>. </p>\n<p>FHIRcast events are an extensible syntax based upon FHIR resources, following the <a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART on FHIR scope syntax</a>.</p>\n<p>Expressed in EBNF notation, the FHIRcast syntax for workflow related events is:</p>\n<div class=\"codehilite\"><pre><span></span>hub.events ::= ( fhir-resource ) &#39;-&#39; ( &#39;open&#39; | &#39;close&#39; )\n</pre></div>\n\n\n<p>![image](<a href=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\">https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png</a>)</p>\n<div class=\"message_inline_image\"><a href=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\"><img src=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\"></a></div><p>The event notification or request for context change message SHALL be accompanied by the <code>fhir-resource</code> named in the <code>hub.events</code> and by the FHIR Patient resource, if the workflow related event is related to a single patient. </p>\n<p>_Outstanding Questions_<br>\n1) Can <code>sync-error</code> be made to fit into this syntactical model?<br>\n2) Is the guidance to SHALL send Patient if there's a single patient appropriate?</p>\n<hr>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('-'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #142, #128, ...</li>\n</ul>\n</blockquote>",
        "id": 170981215,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563280745
    },
    {
        "content": "<p>isaacvetter edited a <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\">comment</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>This comment proposes a substantive change. The current FHIRcast events are <a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\">named in the specification and effectively \"hardcoded\"</a> and aren't otherwise parsable by a machine. The use and creation of new standard events would necessitate updating the spec. </p>\n<p>_Outstanding Questions_<br>\n1) Can <code>sync-error</code> be made to fit into this syntactical model?<br>\n1) <del>Syntax: How does this proposed syntax impact our proposed OAuth scopes in #127 (and #105)? If a <code>hub.events</code> looks like: <code>Patient.open</code>, would the scope look like: <code>fhircast/Patient.open.read</code> ? The re-use of the period in the topic stomps on SMART's existing use of the period and potentially complicates parsing of the scope syntax. </del></p>\n<p>2) Is the guidance to SHALL send Patient if there's a single patient appropriate?</p>\n<hr>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('-'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #142, #128, ...</li>\n</ul>\n</blockquote>",
        "id": 170981235,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563280764
    },
    {
        "content": "<p>isaacvetter edited a <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511587209\">comment</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>This comment proposes a substantive change. The current FHIRcast events are <a href=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\" target=\"_blank\" title=\"https://fhircast.hl7.org/specification/May2019Ballot/#event-catalog\">named in the specification and effectively \"hardcoded\"</a> and aren't otherwise parsable by a machine. The use and creation of new standard events would necessitate updating the spec. </p>\n<p>_Outstanding Questions_<br>\n1) Can <code>sync-error</code> be made to fit into this syntactical model?<br>\n1) <del>Syntax: How does this proposed syntax impact our proposed OAuth scopes in #127 (and #105)? If a <code>hub.events</code> looks like: <code>Patient.open</code>, would the scope look like: <code>fhircast/Patient.open.read</code> ? The re-use of the period in the topic stomps on SMART's existing use of the period and potentially complicates parsing of the scope syntax. </del></p>\n<p>2) Is the guidance to SHALL send Patient if there's a single patient appropriate?</p>\n<hr>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('-'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #128, ...</li>\n</ul>\n</blockquote>",
        "id": 170984644,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563283203
    },
    {
        "content": "<p>isaacvetter edited a <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511798281\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511798281\">comment</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p><strong>Proposed resolution</strong>: Persuasive with Mod<br>\n<strong>Proposed comment</strong>: We will create a simple syntax for FHIRcast events modeled after SMART's scope syntax and based upon FHIR resources. Except for the \"meta\" <code>sync-error</code> event, we will move the Event Catalog out of the specification and use it simply as guidance, not specification content. <code>sync-error</code> will be renamed to <code>syncerror</code>. </p>\n<p>FHIRcast events are an extensible syntax based upon FHIR resources, following the <a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART on FHIR scope syntax</a>.</p>\n<p>Expressed in EBNF notation, the FHIRcast syntax for workflow related events is:</p>\n<div class=\"codehilite\"><pre><span></span>hub.events ::= ( fhir-resource ) &#39;-&#39; ( &#39;open&#39; | &#39;close&#39; )\n</pre></div>\n\n\n<p>![image](<a href=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\">https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png</a>)</p>\n<div class=\"message_inline_image\"><a href=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\"><img src=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\"></a></div><p>The event notification or request for context change message SHALL be accompanied by the <code>fhir-resource</code> named in the <code>hub.events</code> and by the FHIR Patient resource, if the workflow related event is related to a single patient. </p>\n<p>_Outstanding Questions_<br>\n1) Can <code>sync-error</code> be made to fit into this syntactical model?<br>\n2) Is the guidance to SHALL send Patient if there's a single patient appropriate?</p>\n<hr>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('-'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #128, ...</li>\n</ul>\n</blockquote>",
        "id": 170984666,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563283216
    },
    {
        "content": "<p>ElliotSilver <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511890075\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-511890075\">commented</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>That's a great syntax for things that map directly to a single FHIR resource. What is the plan for things that don't map so closely, \"open image\" being the obvious one. How about \"worklist in focus\"?</p>\n</blockquote>",
        "id": 171003154,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563294552
    },
    {
        "content": "<p>gkustas <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-512260653\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-512260653\">commented</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<blockquote>\n<p>Comment: Since the \"hub.topics\" are meant to be events,</p>\n</blockquote>\n<p>I must be missing something. This is a syntax for event naming, not topics right? The hub.topic is the session identifier, that is, the user. Not events, correct?</p>\n</blockquote>",
        "id": 171079232,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563371059
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-512282851\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-512282851\">commented</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>Wg discussion:</p>\n<ul>\n<li>We could modify the open|close to include an \"update\" (or CRUD) action. </li>\n<li>Ultimately, we should preserve the ability to create new events as needed, outside of the FHIR data model.</li>\n<li>Note that the <code>syncerror</code> event does include OperationOutcome. </li>\n<li>the \"open\" and \"close\" events mustn't modify data to enable stable implementations. </li>\n<li>Why should the Patient resource be required on an ImagingStudy event, but not the ImagingStudy on a ... Observation event?</li>\n</ul>\n</blockquote>",
        "id": 171083817,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563374116
    },
    {
        "content": "<p>isaacvetter <a href=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-512284997\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108#issuecomment-512284997\">commented</a> on <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>## :telephone_receiver: II Working Group Vote (6-16-2019)</p>\n<p>Meeting notes: <a href=\"https://confluence.hl7.org/display/IMIN/Teleconferences\" target=\"_blank\" title=\"https://confluence.hl7.org/display/IMIN/Teleconferences\">https://confluence.hl7.org/display/IMIN/Teleconferences</a></p>\n<p>@NiklasSvenzen  moved the following disposition, seconded by @gkustas </p>\n<p><strong>Disposition:</strong>: Persuasive with Mod<br>\n<strong>Disposition Comment:</strong>: We will create a simple syntax for FHIRcast events modeled after SMART's scope syntax and based upon FHIR resources. Except for the \"meta\" <code>sync-error</code> event, we will move the Event Catalog out of the specification. <code>sync-error</code> will be renamed to <code>syncerror</code>.  Per other comments, we will also define a process for the publishing of new events within the Event Catalog. </p>\n<p>FHIRcast events are an extensible syntax based upon FHIR resources, following the <a href=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#clinical-scope-syntax\">SMART on FHIR scope syntax</a>.</p>\n<p>Expressed in EBNF notation, the FHIRcast syntax for workflow related events is:</p>\n<p><code>\n hub.events ::= ( fhir-resource ) '-' ( 'open' | 'close' )\n </code></p>\n<p>![image](<a href=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\" target=\"_blank\" title=\"https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png\">https://user-images.githubusercontent.com/60514/61294908-77e8e800-a79c-11e9-859c-ee3163d0e3a1.png</a>)</p>\n<p>The event notification or request for context change message SHALL be accompanied by the <code>fhir-resource</code> named in the <code>hub.events</code>. Further, the Event Catalog may define additional resources to be included within the event. </p>\n<p><strong>Disposition:</strong><br>\n<strong>Disposition Comment:</strong></p>\n<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> For:14<br>\n<span aria-label=\"expressionless\" class=\"emoji emoji-1f611\" role=\"img\" title=\"expressionless\">:expressionless:</span> Abstain:0<br>\n<span aria-label=\"-1\" class=\"emoji emoji-1f44e\" role=\"img\" title=\"-1\">:-1:</span> Against:0</p>\n<p><span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> The motion passed! <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>\n<hr>\n<blockquote>\n<ul>\n<li>svg generated from <a href=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\" target=\"_blank\" title=\"https://tabatkins.github.io/railroad-diagrams/generator.html#Diagram(%0A%20%20Choice(0%2CNonTerminal('fhir-resource')\">railroad diagrams</a>%2C%0A%20%20Choice(0%2CNonTerminal('-'))%2C%0A%20%20Choice(0%2CNonTerminal('open')%2CNonTerminal('close')%20%20)%2C%0A)%0A)</li>\n<li>relevant to: #128, ...</li>\n</ul>\n</blockquote>\n</blockquote>",
        "id": 171084241,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563374406
    },
    {
        "content": "<p>wmaethner labeled <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<p>## May 2019 Ballot Comment: Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p>Submitted by Mitra Rocca; Terrie Reed <br>\n<strong>Chapter/section:</strong>  Overall<br>\n<strong>Url:</strong> <a href=\"https://fhircast.hl7.org/\" target=\"_blank\" title=\"https://fhircast.hl7.org/\">https://fhircast.hl7.org/</a><br>\n<strong>Type:</strong> A-S </p>\n<p><strong>Summary:</strong> Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p><strong>Comment:</strong> Since the \"hub.topics\" are meant to be events, it would be useful to create a hierarchy of events using a BNF grammar similar SMRT clinical context scopes. For instance: \"session.*\" hub.topic scope would correspond to all session-related events or alterantively an could subscribe to either \"Session.close\" or \"session.change\". Similarly the \"hub.topic\" could be centered on a a FHIR resource - similar to SMART scoes - \"patient.selected\" , \"device.selected\". The lesson of CCOW is that standardizeding  the \"contexts\" and creating an extensible grammar/sytax are both needed for adption. Pub/sub topics provide a similar hierarchical approach to \"topic\" definitons. </p>\n<hr>\n<p>_This issue was imported by @hl7-fhircast-bot from the <a href=\"https://bit.ly/fhircast-May-2019-ballot-comments\" target=\"_blank\" title=\"https://bit.ly/fhircast-May-2019-ballot-comments\">consolidated FHIRcast May 2019 ballot spreadsheet</a>._</p>\n</blockquote>",
        "id": 171084290,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1563374457
    },
    {
        "content": "<p>wmaethner closed <a href=\"https://github.com/HL7/fhircast-docs/issues/108\" target=\"_blank\" title=\"https://github.com/HL7/fhircast-docs/issues/108\">Issue #108</a>:</p>\n<blockquote>\n<h2>May 2019 Ballot Comment: Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</h2>\n<p>Submitted by Mitra Rocca; Terrie Reed <br>\n<strong>Chapter/section:</strong>  Overall<br>\n<strong>Url:</strong> <a href=\"https://fhircast.hl7.org/\" target=\"_blank\" title=\"https://fhircast.hl7.org/\">https://fhircast.hl7.org/</a><br>\n<strong>Type:</strong> A-S </p>\n<p><strong>Summary:</strong> Provide etensible syntax for \"hub.topic\" scopes similar to SMART scopes and consistent with Pub/Sub event processing best-practices. This grammar could be used ot create an extensible event catalog.</p>\n<p><strong>Comment:</strong> Since the \"hub.topics\" are meant to be events, it would be useful to create a hierarchy of events using a BNF grammar similar SMRT clinical context scopes. For instance: \"session.*\" hub.topic scope would correspond to all session-related events or alterantively an could subscribe to either \"Session.close\" or \"session.change\". Similarly the \"hub.topic\" could be centered on a a FHIR resource - similar to SMART scoes - \"patient.selected\" , \"device.selected\". The lesson of CCOW is that standardizeding  the \"contexts\" and creating an extensible grammar/sytax are both needed for adption. Pub/sub topics provide a similar hierarchical approach to \"topic\" definitons. </p>\n<hr>\n<p>_This issue was imported by @hl7-fhircast-bot from the <a href=\"https://bit.ly/fhircast-May-2019-ballot-comments\" target=\"_blank\" title=\"https://bit.ly/fhircast-May-2019-ballot-comments\">consolidated FHIRcast May 2019 ballot spreadsheet</a>._</p>\n</blockquote>",
        "id": 175474831,
        "sender_full_name": "Github Notifications (FHIRcast)",
        "timestamp": 1568235039
    }
]