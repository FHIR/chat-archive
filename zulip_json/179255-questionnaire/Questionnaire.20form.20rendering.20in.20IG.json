[
    {
        "content": "<p>I was thinking of adding some rendering of forms to the IG, so I looked into the LHC Forms. The integration is not hard, but then I noticed the license - seems to be derived from BSD - as far as I know that will be an issue.<br>\n<span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  thoughts?</p>",
        "id": 237974086,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620497113
    },
    {
        "content": "<p>I think the intention is to have a hyperlink to the LHC URL that renders arbitrary forms, not to integrate LHC into the publisher itself</p>",
        "id": 237977485,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620500647
    },
    {
        "content": "<p>I wanted to have another tab in the IG - for users it is much easier to understand a form-like display than the tree display. Instead fof trying to do it in the java renderer, using a available renderer would be better</p>",
        "id": 237986381,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620509828
    },
    {
        "content": "<p>if you want SDC compliance, then you'll need an app. So referring to LHC is the practical option</p>",
        "id": 238061281,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620593961
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Questionnaire.20form.20rendering.20in.20IG/near/237974086\">said</a>:</p>\n<blockquote>\n<p>I was thinking of adding some rendering of forms to the IG, so I looked into the LHC Forms. The integration is not hard, but then I noticed the license - seems to be derived from BSD - as far as I know that will be an issue.</p>\n</blockquote>\n<p>Just curious-- what it is the issue with the LHC-Forms <a href=\"https://github.com/lhncbc/lforms/blob/master/LICENSE.md\">license</a> that is cause for concern?</p>",
        "id": 238127092,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1620647479
    },
    {
        "content": "<p>the licenses we use are Apache and MIT to remove restrictions from reuse, even commercial reuse.<br>\nI was assuming that BSD was more restrictive, but apparently it isn't ? <a href=\"https://snyk.io/blog/mit-apache-bsd-fairest-of-them-all/\">https://snyk.io/blog/mit-apache-bsd-fairest-of-them-all/</a><br>\n<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> can we use BSD-licensed bits in the IG publisher?</p>",
        "id": 238128178,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620648023
    },
    {
        "content": "<p>sure. but I think is not 'in the publisher' but in the IGs, which is a different consideration</p>",
        "id": 238128309,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620648085
    },
    {
        "content": "<p>sorry, I meant in the (base?) template.</p>",
        "id": 238128768,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620648338
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Questionnaire.20form.20rendering.20in.20IG/near/238128178\">said</a>:</p>\n<blockquote>\n<p>the licenses we use are Apache and MIT to remove restrictions from reuse, even commercial reuse.</p>\n</blockquote>\n<p>The LHC-Forms <a href=\"https://github.com/lhncbc/lforms/blob/master/LICENSE.md\">license</a> allows commercial re-use.   \"...permitted for commercial and non-commercial purposes and products alike, provided that the following conditions are met...\"</p>",
        "id": 238129413,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1620648639
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"195344\">Paul Lynch</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Questionnaire.20form.20rendering.20in.20IG/near/238129413\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Questionnaire.20form.20rendering.20in.20IG/near/238128178\">said</a>:</p>\n<blockquote>\n<p>the licenses we use are Apache and MIT to remove restrictions from reuse, even commercial reuse.</p>\n</blockquote>\n<p>The LHC-Forms <a href=\"https://github.com/lhncbc/lforms/blob/master/LICENSE.md\">license</a> allows commercial re-use.   \"...permitted for commercial and non-commercial purposes and products alike, provided that the following conditions are met...\"</p>\n</blockquote>\n<p>Right <span class=\"user-mention\" data-user-id=\"195344\">@Paul Lynch</span> sorry I did not make the point clear - I had the idea that the BSD license was more restrictive than it is. My bda</p>",
        "id": 238130241,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620649016
    },
    {
        "content": "<p>My bad</p>",
        "id": 238130246,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620649019
    },
    {
        "content": "<p>No problem!</p>",
        "id": 238130323,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1620649071
    },
    {
        "content": "<p>So could we add the LHC forms to the IG template?</p>",
        "id": 238130394,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620649094
    },
    {
        "content": "<p>the idea would be to make it look like this:<br>\n<a href=\"/user_uploads/10155/cKWybfy6U2E412Q4YWoh9_Dj/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/cKWybfy6U2E412Q4YWoh9_Dj/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/cKWybfy6U2E412Q4YWoh9_Dj/image.png\"></a></div>",
        "id": 238130541,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620649173
    },
    {
        "content": "<p>I think the idea Grahame was going for was to have a link to a viewer, rather than including LHC-Forms (or other viewers) directly.   We have a viewer app that uses LHC-Forms, which will show a Questionnaire whose URL is provided as a parameter.</p>",
        "id": 238130672,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1620649226
    },
    {
        "content": "<p><a href=\"https://lhncbc.github.io/questionnaire-viewer/\">https://lhncbc.github.io/questionnaire-viewer/</a></p>",
        "id": 238130783,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1620649286
    },
    {
        "content": "<p>yes, but I think for the users it is more interesting not to navigate away from the IG, and not to mess with uploading files</p>",
        "id": 238130808,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620649302
    },
    {
        "content": "<p>Users would not have to upload the Questionnaire-- you would provide the URL for the Questionnaire as a parameter to the link to the viewer.   So, the user would just click on the link to see it.  I agree it is less convenient to have to click to see it, but there was some concern about including JavaScript in the IGs, as I recall.</p>",
        "id": 238131248,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1620649514
    },
    {
        "content": "<p>yes, this is what I am proposing to add - the javascript to the IG so that questionnaires are displayed as a form. I can do it in \"my\" templates as long as the code is not harmful (I presume we can trust the LHC). Or we can do it for everyone.</p>",
        "id": 238132543,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620650103
    },
    {
        "content": "<p>I prefer it to be an external link, and it must be a choice that authors have , to make it external, so that bugs or issues in LHC are not reported as ballot issues</p>",
        "id": 238132835,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620650248
    },
    {
        "content": "<p>I think if an IG reviewer clicks on a link to an external renderer, and sees a problem with the rendered form, they might not know whether the problem is with the form definition (a ballot issue) or with the renderer.  Also, if the rendering has significant problems, it still might be a valid ballot issue to ask that the link be removed for that form (if a correction is not available).  So, it is not clear to me how having them be external links changes things, though maybe it would help somewhat.</p>",
        "id": 238134236,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1620650957
    },
    {
        "content": "<p>One advantage of including LHC-Forms directly is that a particular version of LHC-Forms can be included.  An external link points to a website which will be updated from time to time, and links from an IG might eventually break (though in our case we try to prevent that).</p>",
        "id": 238135228,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1620651183
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Questionnaire.20form.20rendering.20in.20IG/near/238132835\">said</a>:</p>\n<blockquote>\n<p>I prefer it to be an external link, and it must be a choice that authors have , to make it external, so that bugs or issues in LHC are not reported as ballot issues</p>\n</blockquote>\n<p>I was thinking of an extension that enables the form renderer (and which renderer to use in case we have many -  internal LHC vs external LHC)</p>",
        "id": 238147056,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620655391
    },
    {
        "content": "<p>so, assuming this integration is still a good idea, I have a challenge with the CSS. the css for the lhc conflicts with the css for the forms</p>",
        "id": 238182494,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620668462
    },
    {
        "content": "<p>For LHC-Forms specific issues, you can just send me a PM with the details.  (I am not sure whether integration is just frowned upon or forbidden.  Because of Grahame's time zone, it might be a few hours before we hear further from him.)</p>",
        "id": 238183833,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1620668991
    },
    {
        "content": "<p>I think we could have an inline rendering of the questionnaire (evtl with a disclaimer \"This is just a preview\", and a button for other rendering mechanisms.</p>",
        "id": 238592271,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620892425
    },
    {
        "content": "<p>After trying 2 rendering options, the current challenge is with valuesets.<br>\nThe IG Publisher has all the information needed, but i need to do some post-processing to get the valueset expansions.</p>",
        "id": 238592356,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620892472
    },
    {
        "content": "<p>if a questionnaire uses a valueset (contained or not), the rendering needs to look into another file for getting the expansion of that valueset.<br>\nI think this can be done with <br>\na) some javascript<br>\nb) the java code for the renderer if PRs are accepted</p>",
        "id": 238592786,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620892817
    },
    {
        "content": "<p>I'd favour b) where I'm largely incompetent<br>\nI'm also incompetent with a) but would be easier to get contributions</p>",
        "id": 238592867,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620892877
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Questionnaire.20form.20rendering.20in.20IG/near/238592786\">said</a>:</p>\n<blockquote>\n<p>if a questionnaire uses a valueset (contained or not), the rendering needs to look into another file for getting the expansion of that valueset.</p>\n</blockquote>\n<p>The contained ValueSet can include the expansion (if it the set is small enough).</p>",
        "id": 238632280,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1620917657
    },
    {
        "content": "<p>Right, I am looking at automating the entire chain in a way that we can use expanded VS or not, contained or not, intensional or extensional...</p>",
        "id": 238641693,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620921746
    },
    {
        "content": "<p>For the sample renderer you really just want to embed the expansion in the Questionnaire so that it's not so tough, and to get the idea, you only need a subset of the items.</p>",
        "id": 238951081,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1621142686
    },
    {
        "content": "<p>That's actually a good point. Create a questionnaire that contains the expanded VSs, limited to only a few values</p>",
        "id": 238954107,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1621146407
    },
    {
        "content": "<p>Is there a way to call $expand but only include up to N (e.g. 15) values?</p>",
        "id": 238954139,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1621146459
    },
    {
        "content": "<p>Yes - just use the 'count' argument</p>",
        "id": 239000724,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1621193483
    }
]