[
    {
        "content": "<p>Anyone have an example that shows how to use this extension<br>\n<code>http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-sourceQueries</code><br>\nSpecifically around the \"Prior to executing, FHIRPaths embedded in the queries (referring to elements from the questionnaire-launchContext variables) SHALL be resolved\"</p>",
        "id": 169677820,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562287494
    },
    {
        "content": "<p>This is somewhat related to <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22803\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22803\">GF#22803</a></p>",
        "id": 169678567,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562289101
    },
    {
        "content": "<p>I've thrown together a sample of the FHIR-Path based extraction stuff.<br>\n<a href=\"https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/gp-assessment-report\" target=\"_blank\" title=\"https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/gp-assessment-report\">https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/gp-assessment-report</a><br>\n<span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> , <span class=\"user-mention\" data-user-id=\"195344\">@Paul Lynch</span> , <span class=\"user-mention\" data-user-id=\"193633\">@Robinette Renner</span> Think you could take a look at it to see if this matches up to what you'd expect to see?<br>\nThe parts that I'm not sure on are how the prep-population query can be used in the fhirpath expressions, and also wanted to check if you all thought that my usage of launch context variables was right.</p>",
        "id": 169679604,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562291188
    },
    {
        "content": "<p>Probably not until I get back.  Re-ping in 1.5 weeks if this is still open...</p>",
        "id": 169679626,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1562291263
    },
    {
        "content": "<p>Enjoy your \"break\" <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> !</p>",
        "id": 169679938,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562291880
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span><br>\nI see sourceQueries has to do with StructureMap population, which I have not looked at and am somewhat sorry to see there is interest in (because it means I will probably need to look at it).<br>\nRegarding your tracker item, you might take a look at the resolution of mine:  <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20951&amp;start=0\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20951&amp;start=0\">GF#20951</a><br>\nAn example of how I used launchContext is here: <a href=\"https://github.com/lhncbc/lforms-fhir-app/blob/master/e2e-tests/data/R4/ussg-fhp.json\" target=\"_blank\" title=\"https://github.com/lhncbc/lforms-fhir-app/blob/master/e2e-tests/data/R4/ussg-fhp.json\">https://github.com/lhncbc/lforms-fhir-app/blob/master/e2e-tests/data/R4/ussg-fhp.json</a><br>\nI think your use of launchContext is the same as mine, except I used the same name as the type, but our processing code supports any name.<br>\nThe one problem I spot is your syntax for embedding FHIRPath into PrePopQuery.  Per the <a href=\"http://build.fhir.org/ig/HL7/sdc/expressions.html#x-fhir-query-enhancements\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/sdc/expressions.html#x-fhir-query-enhancements\">spec</a> it should be with {{...}} instead of [...].</p>",
        "id": 169730593,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1562354481
    },
    {
        "content": "<p>Thanks, I didn't see that in there, I'll have another look now that I know what it should be, and maybe propose some clarifications.</p>",
        "id": 169741936,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562370043
    },
    {
        "content": "<p>I don't plan on doing structure map, just the fhirpath, but I do need more than launch context to extract data. Hence this crossing both approaches, only missing step is the name for the bundle in the environment, which could be through the bundle id (which is what I propose in there).<br>\nIt's so close.</p>",
        "id": 169742015,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562370175
    },
    {
        "content": "<p>I'll take a look at your example.</p>",
        "id": 169742019,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562370183
    },
    {
        "content": "<p>Yeah, that launch context looks the same, I used a different name so that it was clearer to the reader what was going on.</p>",
        "id": 169742078,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562370258
    },
    {
        "content": "<p>Looks like this example is mixing fhirpath and observation extraction...</p>",
        "id": 169742101,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562370347
    },
    {
        "content": "<p>And yes, looks like my tracker has duplicate parts as with yours. I'll add some notes and reference it.</p>",
        "id": 169742169,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562370474
    },
    {
        "content": "<p>Maybe I should also do some applying of changes to help move things along. And pull request for Lloyd/others to review.</p>",
        "id": 169742225,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562370512
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>, I'm helping Lloyd create examples for the SDC IG and I'm currently looking at StructureMap-based population.  Have you been able to use this approach? If so, do you have any example that I can look at? Thanks!</p>",
        "id": 198796293,
        "sender_full_name": "Joee Garcia",
        "timestamp": 1590514844
    },
    {
        "content": "<p>I've done fhirpath and definition based ones, no structure map ones.</p>",
        "id": 198826253,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1590529969
    },
    {
        "content": "<p>I thought you'd said you were going to to do StructureMap.  Was it someone else?</p>",
        "id": 198826690,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1590530272
    },
    {
        "content": "<p>Must have been someone else.</p>",
        "id": 199136983,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1590748260
    },
    {
        "content": "<p>I think the confusion was that <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>  is using some pieces of the StructureMap prepopulation approach (questionnaire-launchContext and  sdc-questionnaire-sourceQueries-- two of the <a href=\"https://build.fhir.org/ig/HL7/sdc/populate.html#structuremap-based-population\">three pieces</a>) though not questionnaire-sourceStructureMap itself.</p>",
        "id": 199502340,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1591108889
    }
]