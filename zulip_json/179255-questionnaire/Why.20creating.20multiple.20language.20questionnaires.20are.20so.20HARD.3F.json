[
    {
        "content": "<p>I'm trying to create a Questionnaire with multiple language translations. <br>\nUsing the translation extension is non-intuitive but possible on some elements. However I was not able to find a way to represent multiple languages for answerOption &gt; valueCoding</p>\n<p>Am I missing something fundamental or is this not possible with R4?</p>\n<p>Some example (from EQ-5D)<br>\n            \"item\": [<br>\n                {<br>\n                    \"linkId\": \"CFL3F6qDfpxshEFKt\",<br>\n                    \"text\": \"MOBILITY\",<br>\n                    \"type\": \"choice\",<br>\n                    \"required\": true,<br>\n                    \"answerOption\": [<br>\n                        {<br>\n                            \"valueCoding\": {<br>\n                                \"code\": \"1\",<br>\n                                \"display\": \"I have no problems in walking about\"<br>\n                            }<br>\n                        },<br>\n                        {<br>\n                            \"valueCoding\": {<br>\n                                \"code\": \"2\",<br>\n                                \"display\": \"I have slight problems in walking about\"<br>\n                            }<br>\n                        },<br>\n                        {<br>\n                            \"valueCoding\": {<br>\n                                \"code\": \"3\",<br>\n                                \"display\": \"I have moderate problems in walking about\"<br>\n                            }<br>\n                        },<br>\n                        {<br>\n                            \"valueCoding\": {<br>\n                                \"code\": \"4\",<br>\n                                \"display\": \"I have severe problems in walking about\"<br>\n                            }<br>\n                        },<br>\n                        {<br>\n                            \"valueCoding\": {<br>\n                                \"code\": \"5\",<br>\n                                \"display\": \"I am unable to walk about\"<br>\n                            }<br>\n                        }<br>\n                    ]<br>\n                },</p>",
        "id": 224173955,
        "sender_full_name": "Koray Atalag",
        "timestamp": 1611750795
    },
    {
        "content": "<p>The language translation extension should be useful there</p>",
        "id": 224178390,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611753355
    },
    {
        "content": "<p>If you use AnswerOption, you can add a translation in your coding.display</p>",
        "id": 224178781,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611753564
    },
    {
        "content": "<p>Do you have an example? <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> That may be helpful for some of our efforts too.</p>",
        "id": 224185551,
        "sender_full_name": "John Manning",
        "timestamp": 1611756670
    },
    {
        "content": "<p>We're handling translations separately from FHIR, as linked by code</p>",
        "id": 224185599,
        "sender_full_name": "John Manning",
        "timestamp": 1611756696
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">\"valueCoding\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n  <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"1\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"display\"</span><span class=\"p\">:</span> <span class=\"s2\">\"I have no problems in walking about\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"_display\"</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"extension\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">\"extension\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"url\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"lang\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"valueCode\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"nl-BE\"</span>\n          <span class=\"p\">},</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"url\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"content\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"valueString\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"Geen problemen met lopen\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">\"url\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/StructureDefinition/translation\"</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n</code></pre></div>",
        "id": 224188144,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611757772
    },
    {
        "content": "<p>(note that I had forgotten a comma, now I just fixed the example)</p>",
        "id": 224189817,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611758398
    },
    {
        "content": "<p>I'm a bit late to this, but I thought I'd mention an alternative approach to this that we have been using for the problem of multi-language questionnaires. Whether it is better or worse probably depends on the details, happy to hear any thoughts on this (we have struggled a lot with cross-language usage, too). We do as follows:</p>\n<ol>\n<li>Add translations for code at the CodeSystem level using designation entries (<code>CodeSystem.concept.designation</code>). In R4, you can also use this to \"decorate\" existing code systems with translations by creating a CodeSystem supplement with <code>content</code> = \"supplement\" and <code>supplements</code> pointing to the CodeSystem you are adding to.</li>\n<li>Do language-specific expansions of the needed answer ValueSets using the translations in CodeSystems &amp; set the <code>language</code> element accordingly.</li>\n<li>Generate language-specific Questionnaire resources from simple home-made JSON templates &amp; non-FHIR translation files, setting the <code>language</code> element accordingly</li>\n<li>Use the expanded value sets in the right language for the allowed answers (in some scenarios, we directly embedded them in the questionnaire as contained resources).</li>\n</ol>\n<p>The advantage is that the output resources are specific to a single so the the consuming application does not need to handle any translation logic/understand the translation extension. Also, the code display translations are are in one place (CodeSystem) and does not need to be duplicated in individual resources. The downsides are that one needs a pipeline generating the language-specific resources (we wrote our own), and that one in the end has different copies of the final resources for different languages. In essence, this approach puts the work in the generation of the resources, rather than the consumption.</p>",
        "id": 224696955,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1612168138
    }
]