[
    {
        "content": "<p>Currently, if a Questionnaire specifies units with one of the unit extensions (including unitOption and unitValueSet) the user cannot enter a unit outside of the options provided.   However, the units in <a href=\"https://loinc.org/24336-0/\">https://loinc.org/24336-0/</a> are all \"example units\", meaning that the LOINC term does not require a particular unit, except that the unit should make sense for the measure.  So, if I were writing a FHIR version of this LOINC panel, I would not want to enforce a particular set of units, but then if I don't specify any units the user filling out the form has no idea what the unit is.  I think we need a new \"example unit\" extension that would both give the user a hint and allow the validation of the entered unit to see that it is commensurable with the example unit.</p>",
        "id": 223317620,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1611103470
    },
    {
        "content": "<p>In that case, I'd define the units as a separate question and provide the example value set but make it an open-choice</p>",
        "id": 223327870,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1611113083
    },
    {
        "content": "<p>That would result in a rather odd UI (\"What is your weight?\",  \"What is the unit for the weight?\",  probably on separate lines unless grouped together inside another item to create a horizontal group).  Also,  it would mean you couldn't use observationExtract or observationLinkPeriod.</p>",
        "id": 223668521,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1611334796
    },
    {
        "content": "<p>I'd have it as a nested question and the question text would just be \"Unit?\"</p>",
        "id": 223671775,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1611336234
    },
    {
        "content": "<p>Would it be reasonable to have this as a full form or section config option to select preferred units (eg, lb vs kg for an international questionnaire?)</p>",
        "id": 223695252,
        "sender_full_name": "Peter Muir",
        "timestamp": 1611347364
    },
    {
        "content": "<p>You mean have a question that lets you choose preferred units at the top of the questionnaire and then have that affect what's in the drop-downs or what's the default for subsequent questions?</p>",
        "id": 223710065,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1611354430
    },
    {
        "content": "<p>Correct Lloyd, within the initial form context have a standardized config area that determines form display options including preferred units such as lb or kg.  This choice could direct the show/hide display and calculation algorithms - BMI could be a simple use case - most patients do not consider their height  in meters.  Even though the algorithm is universal, the actual data capture gets converted. This  could be esp helpful for International forms, clinical guidelines and quality measurement.  The same context location of the form could assist with other display options such as tree-line view or not.  Some items might be preferred at an organizational level  or at the clinician level.   Standardizing such configuration and display could speed Q/QR development - eg R5 root concept on steroids for large set implementation and maintenance.</p>",
        "id": 223822592,
        "sender_full_name": "Peter Muir",
        "timestamp": 1611506664
    },
    {
        "content": "<p>You can use the optionExpression to have the list of options calculated based on information elsewhere in the Questionnaire</p>",
        "id": 223834938,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1611521503
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Example.20units/near/223671775\">said</a>:</p>\n<blockquote>\n<p>I'd have it as a nested question and the question text would just be \"Unit?\"</p>\n</blockquote>\n<p>How would that work with observationExtract or observationLinkPeriod?  Also, it seems better to handle this using the same approach (unitOption, unitValueSet) used for the case where the user must pick one of the provided units.</p>",
        "id": 223929256,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1611594720
    },
    {
        "content": "<p>It wouldn't - unless the units were a component observation.</p>",
        "id": 223931622,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1611595696
    },
    {
        "content": "<p><a href=\"http://jira.hl7.org/browse/FHIR-30581\">J#30581</a></p>",
        "id": 223936528,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1611597876
    }
]