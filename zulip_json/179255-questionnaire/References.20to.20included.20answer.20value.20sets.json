[
    {
        "content": "<p>I am looking at how to include ValueSets in <code>Questionnaire.contained</code> for use in <code>answerValueSet</code> fields (for R4). The type of <code>answerValueSet</code> is <code>canonical(ValueSet)</code>. I had assumed that to mean that this field can only contain a canonical URL. But the two provided examples with contained value sets (<a href=\"http://hl7.org/fhir/R4/questionnaire-example-gcs.json.html\" title=\"http://hl7.org/fhir/R4/questionnaire-example-gcs.json.html\">this</a> and <a href=\"http://hl7.org/fhir/R4/questionnaire-profile-example-ussg-fht.json\" title=\"http://hl7.org/fhir/R4/questionnaire-profile-example-ussg-fht.json\">this</a>) use the standard way of referencing contained resources, i.e. <code>#[id]</code>. Indeed, the included <code>ValueSet</code> resources do not have the <code>url</code> field set. The Java validator seems to accept contained answer value sets referenced with a local (#x) ID, even if they also have canonical URLs. So I am wondering what the right way of referencing is, in particular for the case, where the value set to be included <em>does</em> have a canonical URL.</p>",
        "id": 195695686,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1588160814
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/references.html#canonical-fragments\" title=\"http://hl7.org/fhir/references.html#canonical-fragments\">http://hl7.org/fhir/references.html#canonical-fragments</a></p>",
        "id": 195695820,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588160879
    },
    {
        "content": "<p>Ah right, thank you! - I was reading that section but somehow skipped exactly the crucial part <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span></p>",
        "id": 195695986,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1588160954
    }
]