[
    {
        "content": "<p>What should the behavior be for determining \"shouldEnable\" when either/one of/both the \"enableWhen item\" and the \"conditioned upon question\" are within repeatable groups? </p>\n<p>Quick terminology clarification:<br>\n- I'm using \"enableWhen item\" to mean the item that has an enableWhen condition in it and \"conditioned upon question\" to be the item referenced via linkId by item.enableWhen.question.</p>\n<p>As I see it there are four possible scenarios:</p>\n<ol>\n<li>the enableWhen item and the conditioned upon question are nested within the same repeatable group.</li>\n<li>the enableWhen item is not within any repeatable group, but the conditioned upon question is.</li>\n<li>the enableWhen item and the conditioned upon question are both in separate repeatable groups.</li>\n<li>the enableWhen item is within a repeatable group but the conditioned upon question is not.</li>\n</ol>\n<p>what I might expect, but is not clear from the spec is:</p>\n<ol>\n<li>the enableWhen item should only be enabled when the <em>corresponding</em> conditioned upon question meets the given criteria. Determine the corresponding question via the index of the repeated item (seems like there could be a lot of complexity here). Potentially could also rely on the hierarchy to determine the correct condition upon question to derive behavior from.</li>\n<li>potentially use whatever is specified by enableBehavior (though it seems like it wasn't exactly intended for this purpose) but since that need not necessarily be set just b/c repeat === true, implementors decide on a default?</li>\n<li>try to use indices again, same as in situation 1</li>\n<li>all enableWhen items toggle on/off when the conditioned upon question changes to meet/not meet the given criteria.</li>\n</ol>\n<p>I'd be curious if anyone else has run into this or have thoughts on a proper implementation?</p>",
        "id": 178710109,
        "sender_full_name": "Spencer Evans",
        "timestamp": 1571701616
    },
    {
        "content": "<p>We probably need to provide guidance on that.  In general, if the referenced enableWhen conditions repeat for a single question, my leaning would be that the answers are \"or\"ed across the repetitions.  (And if that's not what you want, use the enableWhenExpression extension to define different behavior)</p>",
        "id": 178719460,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1571714500
    },
    {
        "content": "<p>The description for enableWhen says,</p>\n<div class=\"codehilite\"><pre><span></span>If multiple question occurrences are present for the same question (same linkId), then this refers to the nearest question occurrence reachable by tracing first the &quot;ancestor&quot; axis and then the &quot;preceding&quot; axis and then the &quot;following&quot; axis.\n</pre></div>\n\n\n<p>That seems to imply that just one question with the specified linkId is considered.</p>",
        "id": 178766015,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1571757613
    },
    {
        "content": "<p>True.  Though if pointing to something in a repeating group, that behaviour would be rather odd...</p>",
        "id": 178766359,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1571757829
    }
]