[
    {
        "content": "<p>Is there an example or recommendation of using hierarchical valuesets (if that is the option) for chained questions in a questionnaire?<br>\nProblem: select a location by selecting country, then region, then city.<br>\nShould I have one single VS for that, or several VSs? How would one link the different VSs?</p>",
        "id": 244460339,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1625074373
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 244463692,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1625075866
    },
    {
        "content": "<p>I think we've said that would generally be done by optionExpression - where the set of available options is determined by an expression (and might be determined by answers to other questions).</p>",
        "id": 244467031,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1625077300
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Hierarchical.20valuesets.20in.20answers/near/244467031\">said</a>:</p>\n<blockquote>\n<p>optionExpression</p>\n</blockquote>\n<p>I think you mean \"answerExpression\"</p>",
        "id": 244467260,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1625077388
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-answerExpression.html\">http://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-answerExpression.html</a></p>",
        "id": 244467510,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1625077472
    },
    {
        "content": "<p>I don't understand this answer. I don't see how answer expression relates to a heirarchical value set. and no, we don't have a canned example to mw knowledge, though there is an example of a heirachical expansion in the value set examples</p>",
        "id": 244475804,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1625081517
    },
    {
        "content": "<p>Does this assume different valuesets then? Or is it possible to use an expression to constrain valuesets?</p>",
        "id": 244475808,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1625081520
    },
    {
        "content": "<p>Yes <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> (sent my question before I saw your comment). <br>\nAn adaptive form could get some information to populate the response based on what's on the server, but what I need is (?) to ask a terminology server for some values in a hierarchy (or in a different valueset) depending on the previous answers.</p>",
        "id": 244476267,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1625081749
    },
    {
        "content": "<p>oh I read the question better this time. I wouldn't have a series of questions for that, just a single heirarchical value set</p>",
        "id": 244476766,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1625081986
    },
    {
        "content": "<p>one question only?</p>",
        "id": 244480605,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1625083729
    },
    {
        "content": "<p>I'd need to output the country, region and city as different elements</p>",
        "id": 244480692,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1625083783
    },
    {
        "content": "<p>so I assume 3 questions, where the form would ask the terminology server the values depending on the answer to the previous questions.</p>",
        "id": 244480859,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1625083856
    },
    {
        "content": "<p>yes well, then, i agree with Lloyd</p>",
        "id": 244483299,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1625085004
    },
    {
        "content": "<p>So is this an adaptive questionnaire, or a \"populatable\" one (if there's a difference)? <br>\nWould one say \"use the terminology server x.y.z to get the answer to question3 knowing that the question 2 answer is Belgium\"? And how would that look like?</p>",
        "id": 244487669,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1625087071
    },
    {
        "content": "<p>Please don't require an adaptive questionnaire to solve this. Can you imagine a user having to go through three pages in order to fill out where they live?</p>\n<p><span class=\"user-mention\" data-user-id=\"195344\">@Paul Lynch</span> , I think <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> was correct, you want the options available for question 2 to dynamically change depending on what was selected for Q1.</p>\n<p>I tried to solve this exact problem <a href=\"#narrow/stream/179255-questionnaire/topic/Restrict.20value.20set.20based.20on.20another.20answer\">last year</a>, but could never figure out how to do it.</p>",
        "id": 244493283,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1625089968
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Hierarchical.20valuesets.20in.20answers/near/244493283\">said</a>:</p>\n<blockquote>\n<p>you want the options available for question 2 to dynamically change depending on what was selected for Q1.</p>\n</blockquote>\n<p>The RxTerms demo form does that (<a href=\"https://lforms-fhir.nlm.nih.gov/baseR4/Questionnaire/rxterms\">https://lforms-fhir.nlm.nih.gov/baseR4/Questionnaire/rxterms</a>, <a href=\"https://rxterms.nlm.nih.gov/\">https://rxterms.nlm.nih.gov/</a>)</p>",
        "id": 244493848,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1625090240
    }
]