[
    {
        "content": "<p>I have a value set contains all coding that I would like to put into a choice type item. Other than using answerValueSet, can I use answerOption.valueReference to refer that value set? The reason I am asking is that there is a bug in HAPI which could not parse canonical reference correct so the contained value set is removed if not used by a Reference type.</p>",
        "id": 200262115,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1591723073
    },
    {
        "content": "<p>no.  valueReference is for when the answers are expected to be references.  E.g. \"pick a Location\", \"pick a Practitioner\".  If you had value set there, that would let the user pick a value set, not pick a code from the value set.</p>",
        "id": 200271638,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1591727708
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191506\">Yunwei Wang</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Using.20answerOption.2EvalueReference/near/200262115\">said</a>:</p>\n<blockquote>\n<p>I have a value set contains all coding that I would like to put into a choice type item. Other than using answerValueSet, can I use answerOption.valueReference to refer that value set? The reason I am asking is that there is a bug in HAPI which could not parse canonical reference correct so the contained value set is removed if not used by a Reference type.</p>\n</blockquote>\n<p>we encountered a similar issue and worked (or better hacked?) around it by introducing an extension with a reference to the contained ValueSet ... see <a href=\"https://github.com/hl7ch/covid-19-prom/blob/master/input/resources/questionnaire/coronascience-question-of-the-day-QD1.xml\">https://github.com/hl7ch/covid-19-prom/blob/master/input/resources/questionnaire/coronascience-question-of-the-day-QD1.xml</a></p>",
        "id": 200279919,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1591731924
    },
    {
        "content": "<p>This is smart! I used initial.valueReference and then remove it after HAPI serialization. It was a terrible solution. I will try yours. Thank you.</p>",
        "id": 200283637,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1591733541
    }
]