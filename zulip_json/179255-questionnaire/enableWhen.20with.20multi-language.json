[
    {
        "content": "<p>We have a FHIR Questionnaire resource where currently only supports one language. But we would like to support other languages. The system calls a CAAS (content as a service) to provide the question text / answer text. </p>\n<p>When it becomes difficult is in the enableWhen behavior where it points to a valueString of an answer.  Which would the best approach to handle multi-language on a valueString where it can support various languages? Could enableWhen reference a code on valueCoding?</p>\n<p>For example:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nt\">\"linkId\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"workHours\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nt\">\"text\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"How many hours do you work?\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nt\">\"type\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"choice\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nt\">\"answerOption\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"more than 8\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"less than 8\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">],</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nt\">\"enableWhen\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"nt\">\"question\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"doYouWork\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"nt\">\"operator\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"=\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"nt\">\"answerString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"yes\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 272203688,
        "sender_full_name": "Milton Mitjans",
        "timestamp": 1645061642
    },
    {
        "content": "<p>In general, you should never have 'enableWhen' that's driven by valueString - valueString could be anything under the sun, written in any way and spelled (or misspelled) in any manner.  If you want to drive something by enableWhen, the triggering answer(s) should be codes, integers, dates or something computable and guaranteed to be entered in a consistent manner.  So, in your example of \"doYouWork?\" the answer should be of type 'choice' with values of 'yes' or 'no' or even an answerBoolean.  valueString is for things like \"What's your first name?\" - something you presumably would never trigger logic off, except perhaps based on whether the value is populated or not.</p>",
        "id": 272204589,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1645062556
    },
    {
        "content": "<p>ok. If the doYouWork question is a choice type as shown below. But the valueString could change per language. Should we change the answerOption as valueCoding?</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"nt\">\"answerOption\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">                            </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">                                </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"yes\"</span><span class=\"w\"></span>\n<span class=\"w\">                            </span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">                            </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">                                </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"no\"</span><span class=\"w\"></span>\n\n<span class=\"w\">                        </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">                    </span><span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 272204934,
        "sender_full_name": "Milton Mitjans",
        "timestamp": 1645062900
    },
    {
        "content": "<p>If you use valueCoding, you can keep the code consistent (which is what drives the enableWhen), while changing the display (which is what the user sees when they make their choice).</p>",
        "id": 272211704,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1645070570
    },
    {
        "content": "<p>We use value Coding for this all the time.</p>",
        "id": 272219110,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1645079388
    }
]