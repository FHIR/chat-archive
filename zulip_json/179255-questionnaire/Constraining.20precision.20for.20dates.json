[
    {
        "content": "<p>Hi <span aria-label=\"wave\" class=\"emoji emoji-1f44b\" role=\"img\" title=\"wave\">:wave:</span> We have a questionnaire where we ask for the patient's birth year. The appropriate data type for the answer would seem to be <code>date</code>, but that of course allows giving month and day, too (in conflict with the LOINC code we attach to the question, which is explicitly for just the year).  Is there some standard way of telling a Questionnaire renderer that it should only allow the year?  - something like the <a href=\"https://www.hl7.org/fhir/r4/extension-maxdecimalplaces.html\">max decimal places extension</a>, but for dates. With custom logic one could infer it from the LOINC code or one could switch to collecting the year as an integer, but neither of those solutions feel quite right.</p>",
        "id": 219321989,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1607511830
    },
    {
        "content": "<p>Are there problems/issues with collecting it as an integer?  If not, wouldn't that be preferable to adding another extension that needs to be supported?</p>",
        "id": 219335217,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1607520539
    },
    {
        "content": "<p>We definitely could collect it as an integer and I agree it has advantages. It just seemed slightly awkward, given that the FHIR <code>date</code> type actually supports year-only dates and hence seems to be the semantically correct data type.</p>",
        "id": 219342836,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1607524188
    },
    {
        "content": "<p>You could specify a max length as an extension, but I expect a lot of entry tools would struggle.  When choosing the type in Questionnaire design, it's best to think \"what user interface widget is that going to be associate with\" - and most tools will use a calendar-type widget for dates, while an integer would let you just type in a value or maybe scroll it higher or lower.</p>",
        "id": 219349964,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1607527122
    },
    {
        "content": "<p>OK, that's a helpful way to think about it - I'll reconsider plain ol' integer, then.</p>",
        "id": 219381867,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1607540430
    },
    {
        "content": "<p>I suppose the same applies to using dateTime items. FHIR has no problem with date-only dateTime data, but would a UI require both (and minute precision on the date)? Is there an example of best practice here? Do we need a time-only item-type?</p>",
        "id": 219730822,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1607810960
    },
    {
        "content": "<p>We allow 'time' as a stand-alone answer type.</p>",
        "id": 219741833,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1607830369
    },
    {
        "content": "<p>Youâ€™re right. I missed that when I was looking earlier. (I need to read more carefully. It would cut down on the number of my posts.)</p>",
        "id": 219741943,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1607830566
    },
    {
        "content": "<p>I'd be using the fhirpath expression validation here - doesn't help with UI hints to make the user experience better, but it is should be adopted more easily?</p>",
        "id": 222249397,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1610323885
    }
]