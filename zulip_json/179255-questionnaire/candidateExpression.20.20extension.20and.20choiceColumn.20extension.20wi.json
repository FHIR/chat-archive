[
    {
        "content": "<p>I am trying to adapt the example at  <a href=\"https://build.fhir.org/ig/HL7/sdc/examples.html#using-candidateexpression\">https://build.fhir.org/ig/HL7/sdc/examples.html#using-candidateexpression</a>    to my questionnaire.</p>\n<p>My data will be in repeating groups.</p>\n<p>Link ID   5 Parent for the repeating group<br>\nLink ID   5.1  Last Name     Smith <br>\nLink ID   5.2  First Name    John<br>\nLink ID   5.3  Clinic Name   City Hospital<br>\nLink ID   5.4  Clinic City   Tampa<br>\nLink ID   5.5  Clinic State  FL</p>\n<p>Link ID   5   Parent for the repeating group<br>\nLink ID   5.1  Last Name     Moseley<br>\nLink ID   5.2  First Name    Henry<br>\nLink ID   5.3  Clinic Name   City Hospital<br>\nLink ID   5.4  Clinic City   Miami<br>\nLink ID   5.5  Clinic State  FL</p>\n<p>etc.</p>\n<p>I will use fhirpath to put the entire set of repeating groups into a variable called sites</p>\n<p>\"extension\": [<br>\n            {        <br>\n              \"url\": \"<a href=\"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-candidateExpression\">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-candidateExpression</a>\",<br>\n              \"valueExpression\": {<br>\n                \"description\": \"sites for the user to select from\",<br>\n                \"language\": \"text/fhirpath\",<br>\n        \"name\": \"sites\",<br>\n                \"expression\": \"%QuestionnaireResponse.descendants().where(linkId = '5')\"<br>\n              }<br>\n            },</p>\n<p>I understand that I need one extension per column. So, my extension for the first column is:</p>\n<div class=\"codehilite\"><pre><span></span><code>   &quot;extension&quot;: [\n            {\n              &quot;url&quot;: &quot;path&quot;,\n              &quot;valueString&quot;: &quot;%sites.where(linkId = &#39;5.1&#39;)&quot;\n            },\n            {\n              &quot;url&quot;: &quot;label&quot;,\n              &quot;valueString&quot;: &quot;LAST NAME&quot;\n            },\n            {\n              &quot;url&quot;: &quot;width&quot;,\n              &quot;valueQuantity&quot;: {\n                &quot;value&quot;: 20,\n                &quot;system&quot;: &quot;http://unitsofmeasure.org&quot;,\n                &quot;code&quot;: &quot;%&quot;\n              }\n            },\n            {\n              &quot;url&quot;: &quot;forDisplay&quot;,\n              &quot;valueBoolean&quot;: true\n            }\n          ],\n          &quot;url&quot;: &quot;http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn&quot;\n        },\n</code></pre></div>\n\n<ol>\n<li>Am I supposed to put something different in the \"url\" element?   Or are \"path\", \"forDisplay\" and \"label\" the correct list of values?</li>\n</ol>\n<p>When I look at the definitions in the spec <a href=\"https://hl7.org/fhir/uv/sdc/2019may/extension-sdc-questionnaire-choiceColumn-definitions.html#Extension.extension:path\">https://hl7.org/fhir/uv/sdc/2019may/extension-sdc-questionnaire-choiceColumn-definitions.html#Extension.extension:path</a>   for the choiceColumn extension,  under \"url\", I am not seeing options for values such as \"path\", \"forDisplay\" and \"label\".    </p>\n<ol start=\"2\">\n<li>\n<p>Do I also need a \"path\" element to show \"The element to display within the column\"   per the spec at <a href=\"https://hl7.org/fhir/uv/sdc/2019may/extension-sdc-questionnaire-choiceColumn-definitions.html#Extension.extension:path\">https://hl7.org/fhir/uv/sdc/2019may/extension-sdc-questionnaire-choiceColumn-definitions.html#Extension.extension:path</a>?</p>\n</li>\n<li>\n<p>For LHC Forms, what url do I use for the  candidateExpression  extension?   The example uses  \"url\": \"<a href=\"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-candidateExpression\">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-candidateExpression</a>\"    but that leads to a broken link.   Is there a new URL that LHC Forms uses?</p>\n</li>\n<li>\n<p>For LHC Forms, what url do I use for the choiceColumns extension?  The example uses   \"url\": \"<a href=\"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn\">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-choiceColumn</a>\"   but that also leads to a broken link.  Is there a new URL that LHC Forms uses?</p>\n</li>\n<li>\n<p>When the user selects a row, \"what\" do I get back in LHC Forms as the answer?  Will it be some sort of object like [\"Smith\", \"John\", \"City Hospital\", \"Tampa\", \"FL\"]   that I could access with a syntax like   ...answer.value[0]   for the last name?</p>\n</li>\n</ol>",
        "id": 258746793,
        "sender_full_name": "Diane",
        "timestamp": 1634924593
    },
    {
        "content": "<p>LHC-Forms does not yet support either choiceColumn or candidateExpression.  choiceColumn is something important to us and would likely be something we would implement early next year, time permitting, but candidateExpression was pretty far down the list.   Recently I added some documentation for which parts of R4 and SDC have support in LHC-Forms.  See <a href=\"https://github.com/lhncbc/lforms/blob/master/r4-support.md\">https://github.com/lhncbc/lforms/blob/master/r4-support.md</a> and <a href=\"https://github.com/lhncbc/lforms/blob/master/sdc-support.md\">https://github.com/lhncbc/lforms/blob/master/sdc-support.md</a>.</p>",
        "id": 258747747,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1634925036
    },
    {
        "content": "<p>Thank you for the reply.   The documentation about what parts of R4 and SDC have support in LHC-Forms is really helpful.</p>",
        "id": 258754167,
        "sender_full_name": "Diane",
        "timestamp": 1634927788
    }
]