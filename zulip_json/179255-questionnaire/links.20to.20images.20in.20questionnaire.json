[
    {
        "content": "<p>In one of our questionnaires, the users will have to refer to 3 diagrams in order to complete a section of the questionnaire.  The diagrams are large (full screen)  diagrams not like the pain level faces in the example at <a href=\"https://build.fhir.org/ig/HL7/sdc/examples.html#using-answeroption-and-rendering-xhtml\">https://build.fhir.org/ig/HL7/sdc/examples.html#using-answeroption-and-rendering-xhtml</a></p>\n<p>I know that I can either use an item or the support link  <a href=\"https://build.fhir.org/ig/HL7/sdc/examples.html#using-supportlink\">https://build.fhir.org/ig/HL7/sdc/examples.html#using-supportlink</a>   to direct the users to the images.</p>\n<p>But, where is the ideal place to \"host\" the images?   Is there a 'best practice'?  </p>\n<p>Do I place them into our IG,  so that the links lead to <a href=\"http://build.fhir.org/ig/HL7/ourIGhere.html/images/image1.jpg\">build.fhir.org/ig/HL7/ourIGhere.html/images/image1.jpg</a>   etc.?</p>\n<div class=\"message_inline_image\"><a href=\"http://build.fhir.org/ig/HL7/ourIGhere.html/images/image1.jpg\" title=\"build.fhir.org/ig/HL7/ourIGhere.html/images/image1.jpg\"><img src=\"https://uploads.zulipusercontent.net/b7ca7caab6af2def872e46ebb70e78c3d87a53d3/687474703a2f2f6275696c642e666869722e6f72672f69672f484c372f6f75724947686572652e68746d6c2f696d616765732f696d616765312e6a7067\"></a></div><p>Do I place them into the website that hosts our software, such as    <a href=\"http://www.oursite.edu/images/image1.jpg\">www.oursite.edu/images/image1.jpg</a>?</p>\n<div class=\"message_inline_image\"><a href=\"http://www.oursite.edu/images/image1.jpg\" title=\"www.oursite.edu/images/image1.jpg\"><img src=\"https://uploads.zulipusercontent.net/4f6bbadccd7f9052cad895832fab1080c2e13dff/687474703a2f2f7777772e6f7572736974652e6564752f696d616765732f696d616765312e6a7067\"></a></div><p>Or, is it best to  actually include them with the questionnaire as  contained resources like the example at <a href=\"https://build.fhir.org/ig/HL7/sdc/examples.html#using-answeroption-and-rendering-xhtml\">https://build.fhir.org/ig/HL7/sdc/examples.html#using-answeroption-and-rendering-xhtml</a>    has the images contained?   If I do this,   <br>\nthen when I use the rendering-xhtml  extension how do I refer to the files?   Is it as easy as # with the ID of the contained image resource?</p>\n<div class=\"codehilite\"><pre><span></span><code>       {\n              &quot;valueString&quot;: &quot;OK&quot;,\n              &quot;_valueString&quot;: {\n                &quot;extension&quot;: [\n                  {\n                    &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/rendering-xhtml&quot;,\n                    &quot;valueString&quot;: &quot;&lt;a href = &#39;#diagram1&#39;&gt;Click here for diagram 1 &lt;/a&gt;&quot;\n                  }\n                ]\n</code></pre></div>",
        "id": 260360140,
        "sender_full_name": "Diane",
        "timestamp": 1636079717
    },
    {
        "content": "<p>In answer to the last question, yes it's just \"#[id]\".  As to what's best, what will the tools that are using the Questionnaire going to have access to most easily?  In general I'd say that hosting them at the HL7 site is not ideal, as it's not intended to be available for production runtime use.  It's not down often, but we can't promise it won't be and there's no service agreement around it.  Also, if you need to make any changes to them, you'd be looking at going through the ballot or other extended publication process, which might not be ideal.</p>",
        "id": 260361031,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636080905
    },
    {
        "content": "<p>Alternative approach 4: store each as a FHIR Binary distributed with the questionnaire. That puts them on the user's server, rather than one you or HL7 manage; and provides opportunity to avoid the overhead of communicating the images every time the questionnaire is opened. <br>\n(It does raise an interesting question of what accept headers the request would have -- you definitely wouldn't want fhir+json or fhir+xml.)</p>",
        "id": 260429993,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1636130132
    },
    {
        "content": "<p>Also, if you include the image as a contained resource, it is going to have to be as a FHIR Binary. I don't think you can do contained non-resources. I'm not sure how you interpret the instance as an image though rather than as a Binary when you follow that link. <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 260430452,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1636130301
    },
    {
        "content": "<p>Binary has a contentType that defines the mime type.  If the references is from an &lt;img/&gt; tag or an extension with the same meaning, that should be enough to know how to render it.</p>",
        "id": 260449172,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636138486
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> I would not have expected &lt;a href = '#diagram1'&gt; inside rendering-xhtml to work.  Is there someplace in the specification that says it should?  I thought it was just img tags that would do that.  I don't object to the idea, and can see the usefulness of it.</p>",
        "id": 260806170,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1636468706
    },
    {
        "content": "<p>I agree it should be an &lt;img/&gt; tag, not an &lt;a/&gt; tag.</p>",
        "id": 260915012,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636512300
    },
    {
        "content": "<p>Okay, but I think <span class=\"user-mention\" data-user-id=\"237340\">@Diane</span>  wanted to link to the images, not embed them inside the item text.  The images are very large, she said.</p>",
        "id": 261278414,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1636735309
    },
    {
        "content": "<p>Yes.  I want a link to the images because they are large.  I was wondering if I can store the images in the questionnaire (contained resource or as suggested by Elliot Silver, a FHIR binary) and then link to them.</p>",
        "id": 261329737,
        "sender_full_name": "Diane",
        "timestamp": 1636764917
    },
    {
        "content": "<p>You can only link to something that's a page maintained elsewhere.  You can't expect a form filler to generate separate pages for images for you.</p>",
        "id": 261335214,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636772257
    },
    {
        "content": "<p>Good to know.  This is a good discussion about the potential options and what is not possible.</p>",
        "id": 261381773,
        "sender_full_name": "Diane",
        "timestamp": 1636840393
    }
]