[
    {
        "content": "<p>In this example: <a href=\"http://www.hl7.org/FHIR/questionnaire-example-bluebook.json.html\">http://www.hl7.org/FHIR/questionnaire-example-bluebook.json.html</a>, the <code>enableWhen</code> expression for question <code>vitaminKgivenDoses</code> evaluates to <code>true</code> if an answer is given to a boolean question. In reality though, once you have ticked the checkbox, unchecking it would only change it to <code>false</code>, rather than clearing the answer. So the behavior of this questionnaire is a little unexpected to me - the additional question will not go away after you uncheck the checkbox. Solutions? 1) rewrite this example and only show the new question if and only if a <code>true</code> answer is given to the boolean question 2) make the rendering tool clear <code>false</code> answer when a checkbox is unchecked. 2) seems very odd to me and inconsistent with how answers are handled... so should we update this example? Thanks!</p>",
        "id": 244415313,
        "sender_full_name": "Jing Tang",
        "timestamp": 1625056371
    },
    {
        "content": "<p>vitaminKgiven is a choice type (coded response), so if the selection is cleared, then the group would go away again.</p>",
        "id": 244415876,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1625056623
    },
    {
        "content": "<p>sorry yes i think i mixed up two things in my question... about <code>vitaminKgiven</code>: so that is to say the tool should always have a way to clear choice type? that's not so obvious an option for things like radio button group.</p>",
        "id": 244425323,
        "sender_full_name": "Jing Tang",
        "timestamp": 1625060655
    },
    {
        "content": "<p>I was also meant to ask about <code>hepBgiven</code> and its nested question <code>hepBgivenDate</code>. In this case if the parent question is answered but then unticked, should the child question be hidden?</p>",
        "id": 244425783,
        "sender_full_name": "Jing Tang",
        "timestamp": 1625060865
    },
    {
        "content": "<p>It depends on how you design the Questionnaire. We had similar issues so we use three values value set yes-no-notSepcified instead of boolean if we really cares the default to be notSpecified. In UI, the item is rendered as a group with three radio buttons.</p>",
        "id": 244427375,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1625061568
    },
    {
        "content": "<p>I think we have a change request in SDC that includes a recommendation that boolean items be rendered with a 3-state control to allow \"not answered\" to be a choice.  However, we can't guarantee all renderers will do that.</p>",
        "id": 244434848,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1625064483
    },
    {
        "content": "<p>This is already the recommended way of doing things today:<a href=\"https://build.fhir.org/questionnaire.html#booleans\">https://build.fhir.org/questionnaire.html#booleans</a><br>\nIn my Faiadashu filler I actually went to great lengths to make sure that everything could be brought back into an untouched state. See <a href=\"http://legentix.com/faidashu/#/\">http://legentix.com/faidashu/#/</a> for an implementation of the Bluebook questionnaire that hopefully gets everything right.</p>",
        "id": 244468145,
        "sender_full_name": "Tilo Christ",
        "timestamp": 1625077739
    },
    {
        "content": "<p>My renderer does bools as t/f, options with radios once you choose, that's it, options with a drop down can select the blank entry.</p>",
        "id": 244494544,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1625090530
    },
    {
        "content": "<p>thanks all - this makes sense. but i think for nested questions (e.g. the hepBgiven question in the questionnaire i linked) it still is a little strange that answering no would display nested questions.</p>\n<p>ps <span class=\"user-mention\" data-user-id=\"192169\">@Tilo Christ</span> awesome demo!</p>\n<p><span class=\"user-mention\" data-user-id=\"382830\">@Kashyap Jois</span> <span class=\"user-mention\" data-user-id=\"315122\">@Fred Hersch</span></p>",
        "id": 244534039,
        "sender_full_name": "Jing Tang",
        "timestamp": 1625128381
    },
    {
        "content": "<p>Yup all this makes sense , thanks <span class=\"user-mention\" data-user-id=\"366686\">@Jing Tang</span> !</p>",
        "id": 244537914,
        "sender_full_name": "Kashyap Jois",
        "timestamp": 1625130838
    },
    {
        "content": "<p>There is still a point that <span class=\"user-mention\" data-user-id=\"366686\">@Jing Tang</span>  made which is not clear yet, <strong>If a parent item has nested items, should the nested items be hidden until the parent has been answered?</strong></p>",
        "id": 244538876,
        "sender_full_name": "Kashyap Jois",
        "timestamp": 1625131196
    },
    {
        "content": "<p>i think the question is whether we treat boolean type as a special case and still hide the nested item if the answer to the the parent question is false</p>",
        "id": 244544763,
        "sender_full_name": "Jing Tang",
        "timestamp": 1625134796
    },
    {
        "content": "<p>That is a Questionnaire design issue. You can design it either way.</p>",
        "id": 244568086,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1625147154
    },
    {
        "content": "<p>If you have a question with nested questions, the questions nest beneath the answers - so there's nothing to nest within if you don't have an answer to the parent question.</p>",
        "id": 244575153,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1625149747
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179255-questionnaire/topic/EnableWhen.20behavior.20with.20operator.20.60exists.60/near/244575153\">said</a>:</p>\n<blockquote>\n<p>If you have a question with nested questions, the questions nest beneath the answers - so there's nothing to nest within if you don't have an answer to the parent question.</p>\n</blockquote>\n<p>Thanks this makes perfect sense.. sorry about the silly question <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 244660947,
        "sender_full_name": "Kashyap Jois",
        "timestamp": 1625203661
    },
    {
        "content": "<p>It wasn't a silly question :)</p>",
        "id": 244720538,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1625240501
    }
]