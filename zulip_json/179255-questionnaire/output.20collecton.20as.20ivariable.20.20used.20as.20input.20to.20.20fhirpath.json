[
    {
        "content": "<p>In a Questionnaire resource, is it possible to put the output collection of a fhirpath expression into a variable and then drill down into that variable again using a new fhirpath expression?  (Similar to how a temporary table is used in SQL).  I am thinking the answer is no because fhirpath operates against a resource and what is stored in the variable would just be an output collection.</p>\n<p>\"extension\": [{<br>\n        \"url\" : \"<a href=\"http://hl7.org/fhir/StructureDefinition/variable\">http://hl7.org/fhir/StructureDefinition/variable</a>\",<br>\n        \"valueExpression\" : {<br>\n          \"language\" : \"text/fhirpath\",<br>\n          \"name\" : \"bigExpressionResults\",<br>\n          \"expression\" : \"really long complicated fhirpath expression goes here\"<br>\n        }  <br>\n      },</p>\n<div class=\"codehilite\"><pre><span></span><code>  {\n    &quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/variable&quot;,\n    &quot;valueExpression&quot; : {\n      &quot;language&quot; : &quot;text/fhirpath&quot;,\n      &quot;name&quot; : &quot;firstName&quot;,\n      &quot;expression&quot; : &quot;%bigExpressionResults.item.where(linkId = &#39;1&#39;)&quot;\n    }  \n  },\n\n\n  {\n    &quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/variable&quot;,\n    &quot;valueExpression&quot; : {\n      &quot;language&quot; : &quot;text/fhirpath&quot;,\n      &quot;name&quot; : &quot;LastName&quot;,\n      &quot;expression&quot; : &quot;%bigExpressionResults.item.where(linkId = &#39;2&#39;)&quot;\n    }  \n  }\n</code></pre></div>\n\n<p>]</p>",
        "id": 247143646,
        "sender_full_name": "Diane",
        "timestamp": 1627245578
    },
    {
        "content": "<p>That's absolutely what the 'variable' extension is for...</p>",
        "id": 247145587,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1627247228
    },
    {
        "content": "<p>and the fhirpath will work on something that is not a full resource?</p>",
        "id": 247145894,
        "sender_full_name": "Diane",
        "timestamp": 1627247580
    },
    {
        "content": "<p>Yes.</p>",
        "id": 247149664,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1627253426
    },
    {
        "content": "<p>Amazing!!! <span aria-label=\"heart\" class=\"emoji emoji-2764\" role=\"img\" title=\"heart\">:heart:</span>   So happy now.</p>",
        "id": 247150097,
        "sender_full_name": "Diane",
        "timestamp": 1627254239
    }
]