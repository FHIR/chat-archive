[
    {
        "content": "<p>Hi all,</p>\n<p>I faced a problem in using the enableWhen together with answerOptions. </p>\n<p>I am creating questionnaires in FSH and want to use answerOptions for some of the questions in the questionnaires. The permitted answers in our questionnaires are very specific, therefore we want to avoid creating numerous valueSets by using answerOptions.</p>\n<p>However, I can’t figure out how to use anwerOptions in the enableWhen. I’ve tested my questionnaires in a rendering tool, SDC questionnaire app, but it is not working. So I would like to know whether it is possible to use enableWhen with valueString answerOptions. </p>\n<p>This is an example of what I am trying to do:</p>\n<ul>\n<li>\n<p>item[+]  <br>\n    * linkId = \"SYSTPATIENT\"<br>\n    * type = #choice<br>\n    * text = \"Is the patient currently receiving systemic treatment for breast cancer?\"<br>\n    * answerOption[+].valueString = \"no, never had systemic treatment\"<br>\n    * answerOption[+].valueString = \"yes, but the treatment has stopped\"<br>\n    * answerOption[+].valueString = \"yes, on chemotherapy\"<br>\n    * answerOption[+].valueString = \"yes, on targeted therapy\"<br>\n    * answerOption[+].valueString = \"yes, on hormone therapy\"<br>\n    * required = true</p>\n</li>\n<li>\n<p>item[+]</p>\n<ul>\n<li>linkId = \"SYSTDATEPATIENT_Date\"</li>\n<li>type = #boolean</li>\n<li>text = \"Is the stop date of the systemic treatment known?\"</li>\n<li>enableWhen[+]<ul>\n<li>question = \"SYSTPATIENT\"</li>\n<li>operator = #=</li>\n<li>answerString = \"yes, but the treatment has stopped\"</li>\n</ul>\n</li>\n<li>required = true</li>\n</ul>\n</li>\n</ul>",
        "id": 277407826,
        "sender_full_name": "Marieke Span",
        "timestamp": 1648815478
    },
    {
        "content": "<p>You can't have 'valueString' when the type is 'choice'.  If you're using 'choice', the answer must have a type of 'Coding'.  An open-choice will allow a user-specified string as an answer, but all controlled answers must be Codings.</p>",
        "id": 277419938,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1648820719
    },
    {
        "content": "<blockquote>\n<p>Question with a Coding drawn from a list of possible answers (specified in either the answerOption property, or via the valueset referenced in the answerValueSet property) as an answer (valueCoding).</p>\n</blockquote>",
        "id": 278167752,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1649339967
    },
    {
        "content": "<p>So we can do answerOption with an inline valueCoding, but not a valueString?</p>",
        "id": 278167815,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1649339992
    },
    {
        "content": "<p>That would actually solve another problem we're having, will try this.</p>",
        "id": 278167876,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1649340004
    },
    {
        "content": "<p>You can do valueString, but best practice is definitely valueCoding.</p>",
        "id": 278174424,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1649342703
    }
]