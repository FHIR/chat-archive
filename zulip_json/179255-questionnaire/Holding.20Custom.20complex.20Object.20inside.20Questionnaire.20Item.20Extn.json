[
    {
        "content": "<p>I have a POJO with below structure.</p>\n<div class=\"codehilite\"><pre><span></span><code>                  class Criteria {\n                     String name; \n                     String operator;\n                     List&lt;Criteria&gt; next;\n                  }\n</code></pre></div>\n\n<p>here is the sample JSON payload for above domain class.                       </p>\n<div class=\"codehilite\"><pre><span></span><code>                {\n                    &quot;name&quot;: &quot;item_1&quot;,\n                    &quot;operator&quot;: &quot;+&quot;,\n                    &quot;next&quot;: [\n                    {\n                        &quot;name&quot;: &quot;item_2&quot;,\n                        &quot;operator&quot;: &quot;+&quot;\n                    }\n                    ]\n                }\n</code></pre></div>\n\n<p>I would like to maintain this information in extensions array under QuestionnaireItem.</p>\n<p>{<br>\n    \"resourceType\": \"Questionnaire\"<br>\n    \"item\": [</p>\n<div class=\"codehilite\"><pre><span></span><code>    {\n        &quot;linkId&quot; : &quot;123&quot;,\n        &quot;type&quot;: &quot;text&quot;,\n        &quot;extension&quot;: [\n\n            // ==&gt; How to hold Custom complex Object?\n        ]\n    }\n]\n</code></pre></div>\n\n<p>}</p>",
        "id": 236554341,
        "sender_full_name": "Sravanti Cherukuri",
        "timestamp": 1619633890
    },
    {
        "content": "<p>Take a look at complex extension patient-citizenship example here: <a href=\"https://build.fhir.org/extensibility\">https://build.fhir.org/extensibility</a></p>",
        "id": 236556121,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1619634689
    },
    {
        "content": "<p>I am able to create Custom extension to represent name and operator fields in Criteria class. But how do i create custom extension to represent     \"next\"     field  which is a list of same extension type</p>\n<p>{<br>\n  \"url\": \"<a href=\"http://hl7.org/fhir/StructureDefinition/equation-criteria\">http://hl7.org/fhir/StructureDefinition/equation-criteria</a>\",<br>\n  \"extension\": [<br>\n    {<br>\n      \"url\": \"name\",<br>\n      \"valueString\": \"Q1\"<br>\n    },<br>\n    {<br>\n      \"url\": \"operator\",<br>\n      \"valueString\": \"+\"<br>\n    }<br>\n  ]<br>\n}</p>",
        "id": 236561688,
        "sender_full_name": "Sravanti Cherukuri",
        "timestamp": 1619636908
    },
    {
        "content": "<p>A list of extensions with the same URL</p>",
        "id": 236562336,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1619637175
    },
    {
        "content": "<p>Can you please assist me on above query</p>",
        "id": 236565205,
        "sender_full_name": "Sravanti Cherukuri",
        "timestamp": 1619638435
    },
    {
        "content": "<p>There's no recursive mechanism with extensions - so either you define another level to your extension where there's a url called \"next\" that contains extensions with url \"name\" and \"operator\" or you allow the context for equation-criteria to include itself and just repeat the whole extension multiple times.</p>",
        "id": 236566905,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1619639142
    },
    {
        "content": "<p>Thank you,It will be a great help if you could share the sample json for this usecase.</p>",
        "id": 236567551,
        "sender_full_name": "Sravanti Cherukuri",
        "timestamp": 1619639412
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;url&quot;:&quot;some non-HL7-url/equation-crieria&quot;,\n &quot;extension&quot;:[\n   {\n      &quot;url&quot;:&quot;name&quot;,\n      &quot;valueString&quot;:&quot;Q1&quot;\n    }, {\n      &quot;url:&quot;operator&quot;,\n      &quot;valueString&quot;:&quot;+&quot;\n    },{\n      &quot;url&quot;:&quot;next&quot;,\n      &quot;extension&quot;:[\n        {\n          &quot;url&quot;:&quot;name&quot;,\n          &quot;valueString&quot;:&quot;Q2&quot;\n         },\n         ...\n      ]\n    },{\n      &quot;url&quot;:&quot;next&quot;,\n      &quot;extension&quot;:[\n        {\n          &quot;url&quot;:&quot;name&quot;,\n          &quot;valueString&quot;:&quot;Q3&quot;\n         },\n         ...\n      ]\n    }\n  ]\n}\n</code></pre></div>",
        "id": 236590083,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1619648814
    },
    {
        "content": "<p>Thanks Lloyd McKenzie..it helped a lot</p>",
        "id": 239595703,
        "sender_full_name": "Sravanti Cherukuri",
        "timestamp": 1621519164
    }
]