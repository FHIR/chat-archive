[
    {
        "content": "<p>If a question's value is set by questionnaire-calculatedExpression, should that necessarily mean the field is readOnly (regardless of whether readOnly was set)?</p>\n<p>If it does not, and calculatedExpression contains a FHIRPath expression, then potentially any data on the form could be referenced by the calculatedExpression, which means the calculatedExpression would need to be run as soon as any other field was changed.  If the user has edited the field with the calculatedExpression, their change would be overwritten-- unless we add a rule that prevents calculatedExpression from running on edited fields.</p>",
        "id": 154022531,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1543853175
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 154022601,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1543872925
    },
    {
        "content": "<p>That seems like a reasonable assumption to me. But I do like to be explicit in my questionnaire designs.<br>\n(I might add that as a custom validation rule in my server)</p>",
        "id": 154022608,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1543873487
    },
    {
        "content": "<p>We do have a demo form here in which the user can edit a field that is calculated.  An example would be a form with weight, height and BMI, where the user still has the option of entering a known BMI value if weight and height are unknown.  (A rather unlikely example, but perhaps a more likely one exists).</p>",
        "id": 154022644,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1543879464
    },
    {
        "content": "<p>We don't have questionniare-calculatedExpression.  We have questionnaire-initialExpression.  If the element isn't read only and the user changes it, then the element won't be calculated anymore.  But agree we should make that explicit in the spec.  Can you submit a change request?</p>",
        "id": 154024250,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1544480655
    },
    {
        "content": "<p>Then what is this:  <a href=\"http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html\" target=\"_blank\" title=\"http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html\">http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html</a> ?</p>",
        "id": 154024284,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1544483745
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> I see it was <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemBrowse&amp;tracker_id=677&amp;querynav=%2Fgf%2Fproject%2Ffhir%2Ftracker%2F%3Faction%3DTrackerItemBrowse%26tracker_id%3D677%26forget_query%3D1&amp;quickquery=1&amp;tracker_item_id=&amp;summary=&amp;submitted_by=&amp;priority=&amp;assigned_to=&amp;extra_field%5B4214%5D=&amp;extra_field%5B4215%5D=&amp;extra_field%5B4060%5D=&amp;extra_field%5B3631%5D=&amp;extra_field%5B3807%5D=&amp;extra_field%5B3808%5D=&amp;extra_field%5B3628%5D=&amp;extra_field%5B3626%5D=&amp;extra_field%5B4065%5D=&amp;extra_field%5B4092%5D=&amp;extra_field%5B4063%5D=&amp;extra_field%5B4062%5D=&amp;extra_field%5B2415%5D=&amp;extra_field%5B4252%5D=&amp;extra_field%5B3633%5D=calculatedExpression&amp;extra_field%5B3969%5D=&amp;extra_field%5B4069%5D=&amp;extra_field%5B4066%5D=&amp;extra_field%5B4071%5D=&amp;extra_field%5B3632%5D=&amp;sortcol=tracker_item_id&amp;sortord=DESC\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemBrowse&amp;tracker_id=677&amp;querynav=%2Fgf%2Fproject%2Ffhir%2Ftracker%2F%3Faction%3DTrackerItemBrowse%26tracker_id%3D677%26forget_query%3D1&amp;quickquery=1&amp;tracker_item_id=&amp;summary=&amp;submitted_by=&amp;priority=&amp;assigned_to=&amp;extra_field%5B4214%5D=&amp;extra_field%5B4215%5D=&amp;extra_field%5B4060%5D=&amp;extra_field%5B3631%5D=&amp;extra_field%5B3807%5D=&amp;extra_field%5B3808%5D=&amp;extra_field%5B3628%5D=&amp;extra_field%5B3626%5D=&amp;extra_field%5B4065%5D=&amp;extra_field%5B4092%5D=&amp;extra_field%5B4063%5D=&amp;extra_field%5B4062%5D=&amp;extra_field%5B2415%5D=&amp;extra_field%5B4252%5D=&amp;extra_field%5B3633%5D=calculatedExpression&amp;extra_field%5B3969%5D=&amp;extra_field%5B4069%5D=&amp;extra_field%5B4066%5D=&amp;extra_field%5B4071%5D=&amp;extra_field%5B3632%5D=&amp;sortcol=tracker_item_id&amp;sortord=DESC\">moved</a> to the SDC IG but I don't see anything about it being dropped.  Without questionnaire-calculatedExpression, how would one do BMI or score calculations?</p>",
        "id": 154024285,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1544484707
    },
    {
        "content": "<p>initialExpression</p>",
        "id": 154024289,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1544485584
    },
    {
        "content": "<p>And if you don't want the user to tweak them, make them readOnly</p>",
        "id": 154024290,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1544485609
    },
    {
        "content": "<p>For me, there seems to be a substantial difference between <em>questionnaire-initialExpression</em> and <em>questionnaire-calculatedExpression</em>:</p>\n<p><a href=\"http://hl7.org/fhir/2018Sep/extension-questionnaire-initialexpression.html\" target=\"_blank\" title=\"http://hl7.org/fhir/2018Sep/extension-questionnaire-initialexpression.html\">http://hl7.org/fhir/2018Sep/extension-questionnaire-initialexpression.html</a><br>\n= Initial value is <strong>only calculated at the time the QuestionnaireResponse is first generated</strong>.</p>\n<p><a href=\"http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html\" target=\"_blank\" title=\"http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html\">http://hl7.org/fhir/2018Sep/extension-questionnaire-calculatedexpression.html</a><br>\n= Calculated value is <strong>updated as other answers</strong> in the QuestionnaireResponse <strong>are filled in</strong>.</p>",
        "id": 154024368,
        "sender_full_name": "Astrid Corinna Wolff",
        "timestamp": 1544514936
    },
    {
        "content": "<p>My bad.  calculatedExpression got moved to SDC.  I'm not totally clear on why initialExpression didn't move too.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Is this something I can still fix?</p>",
        "id": 154024439,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1544543715
    },
    {
        "content": "<blockquote>\n<p>Can you submit a change request?</p>\n</blockquote>\n<p><a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19753\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19753\">#GF19753</a></p>",
        "id": 154024462,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1544545809
    },
    {
        "content": "<p>what exactly do you want to fix?</p>",
        "id": 154024628,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544565333
    },
    {
        "content": "<p>Move questionnaire-initialExpression extension to SDC too</p>",
        "id": 154024647,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1544566525
    },
    {
        "content": "<p>ok</p>",
        "id": 154024653,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544572859
    },
    {
        "content": "<p>ok = yes, I can still make that change?</p>",
        "id": 154024673,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1544585912
    },
    {
        "content": "<p>yes</p>",
        "id": 154024688,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544588814
    }
]