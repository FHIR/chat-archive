[
    {
        "content": "<p>Hi, I'm trying to add this question into a Questionnaire: How many minutes do you exercise per day/week/month? answer is an Int, but I want the user to be able to select [day/week/month]. Is there a way to do this in fhir? thanks!</p>",
        "id": 264026156,
        "sender_full_name": "Sebastiaan Raap",
        "timestamp": 1638894477
    },
    {
        "content": "<p>Type \"quantity\"?</p>",
        "id": 264032526,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1638896506
    },
    {
        "content": "<p>That or a child question or separate question</p>",
        "id": 264043495,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638899836
    },
    {
        "content": "<p>hmm yes child question could work, thank you! Quantity is hard because we're using a slider.</p>",
        "id": 264049809,
        "sender_full_name": "Sebastiaan Raap",
        "timestamp": 1638901973
    },
    {
        "content": "<p>I've tried child questions but it doesn't solve my use case unfortunately. I need to be able to add options to the question.  I  thinking about extending the questionnaire.item.text something like:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n    &quot;item&quot;: [\n    {\n      &quot;type&quot;: &quot;integer&quot;,\n      &quot;extension&quot;: [\n        {\n          &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/questionnaire-unit&quot;,\n          &quot;valueCoding&quot;: {\n            &quot;code&quot;: &quot;min&quot;,\n            &quot;display&quot;: &quot;minutes&quot;\n          }\n        },\n        {\n          &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl&quot;,\n          &quot;valueCodeableConcept&quot;:\n          {\n            &quot;coding&quot;: [\n              {\n                &quot;system&quot;: &quot;http://hl7.org/fhir/questionnaire-item-control&quot;,\n                &quot;code&quot;: &quot;slider&quot;,\n                &quot;display&quot;: &quot;Slider&quot;\n              }\n            ],\n            &quot;text&quot;: &quot;Slider&quot;\n          }\n        },\n        {\n          &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/questionnaire-sliderStepValue&quot;,\n          &quot;valueInteger&quot;: 10\n        },\n        {\n          &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/minValue&quot;,\n          &quot;valueInteger&quot;: 0\n        },\n        {\n          &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/maxValue&quot;,\n          &quot;valueInteger&quot;: 300\n        }\n      ],\n      &quot;required&quot;: false,\n      &quot;linkId&quot;: &quot;medicalprofile.lifestyle.exercise&quot;,\n      &quot;text&quot;: &quot;How many minutes per day do you exercise?&quot;,\n      &quot;_text&quot;: {\n        &quot;extension&quot;: [\n          {\n            &quot;url&quot;: &quot;https://somemedicaltechcompany.world/fhir/extensions/questionnaire-valuePerX&quot;,\n            &quot;extension&quot;: [\n              {\n                &quot;url&quot;: &quot;text&quot;,\n                &quot;valueString&quot;: &quot;How many minutes per {{valuePerX}} do you exercise?&quot;\n              },\n              {\n                &quot;url&quot;: &quot;options&quot;,\n                &quot;valueCodeableConcept&quot;: {\n                  &quot;coding&quot;: [\n                    {\n                      &quot;code&quot;: &quot;d&quot;,\n                      &quot;display&quot;: &quot;day&quot;\n                    },\n                    {\n                      &quot;code&quot;: &quot;w&quot;,\n                      &quot;display&quot;: &quot;week&quot;\n                    },\n                    {\n                      &quot;code&quot;: &quot;m&quot;,\n                      &quot;display&quot;: &quot;month&quot;\n                    }\n                  ]\n                }\n              }\n            ]\n          }\n        ]\n      }\n    }\n  ]\n}\n</code></pre></div>\n<p>But I'm searching for a more generic option, your help is appreciated!</p>",
        "id": 264135471,
        "sender_full_name": "Sebastiaan Raap",
        "timestamp": 1638958693
    },
    {
        "content": "<p>Does slider not work with quantity?<br>\nAs with that you already have the units extension.</p>",
        "id": 264158923,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1638972183
    },
    {
        "content": "<p>Can you explain why child questions don't work?  Because your extension isn't going to give you an ability to capture an additional answer in the QuestionnaireResponse...</p>",
        "id": 264159832,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638972616
    },
    {
        "content": "<p>Our gui shows a question like this: \"How many minutes per <em>[day/week/month]</em> do you exercise?\" user is able to choose from a dropdown between day/week/month within the question. So the user can adjust the question to: \"How many minutes per <em>day</em> do you exercise? or  \"How many minutes per <em>month</em> do you exercise?\" In the child question there would be the slider with minutes, that would work.  </p>\n<p>I think my question is more clear like this: Can I somehow incorporate a dropdown inside the question (normally in item.text) so that the user can manipulate what question it is answering (in the child question)?</p>",
        "id": 264169956,
        "sender_full_name": "Sebastiaan Raap",
        "timestamp": 1638976871
    },
    {
        "content": "<p>Not really.  Everything the user selects needs to be a separate question so it can have a distinct answer in the QuestionnaireResponse.  The meaning of a question needs to be the same for all QuestionnaireResponses</p>",
        "id": 264170998,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638977217
    },
    {
        "content": "<p>You can't have a single question that in one response means \"how many hours\" and ad in a different response means \"how many days\" unless the hours/days aspect is captured in the answer to a separate question in the response.</p>",
        "id": 264171094,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638977264
    },
    {
        "content": "<p>You can say \"We're going to capture some information about how much you exercise.  1. Would you prefer to capture that information per day, per week or per month?  2. How many minutes to you exercise each [period]?\"</p>",
        "id": 264171572,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638977415
    },
    {
        "content": "<p>And that would result in two answers - \"per day\", \"35 min\"</p>",
        "id": 264171687,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638977444
    },
    {
        "content": "<p>(putting the aspect of whether a filler supporting this already exists aside...): Shouldn't it be possible to do a question of type \"quantity\", with the \"<a href=\"http://build.fhir.org/ig/HL7/sdc/behavior.html#unitOption\">http://build.fhir.org/ig/HL7/sdc/behavior.html#unitOption</a>\" extension to allow a choice of \"day/month/week\" for the unit selection, and an itemControl of type \"slider\" to visualise it as a slider?</p>",
        "id": 264192494,
        "sender_full_name": "Tilo Christ",
        "timestamp": 1638985576
    },
    {
        "content": "<p>In theory, maybe.  I doubt you'd find many form fillers who knew how to do that gracefully.</p>",
        "id": 264196325,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638987142
    },
    {
        "content": "<p>I had a few minutes, so one exists now <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span><br>\n<a href=\"/user_uploads/10155/VupnUxzAJoiDt-mryielQala/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/VupnUxzAJoiDt-mryielQala/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/VupnUxzAJoiDt-mryielQala/image.png\"></a></div>",
        "id": 264200613,
        "sender_full_name": "Tilo Christ",
        "timestamp": 1638988813
    },
    {
        "content": "<p>itemControl of type \"slider\" would apply to the question's value, not the unit, wouldn't it?</p>",
        "id": 264233743,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1639004511
    },
    {
        "content": "<p>Here's the item in my questionnaire that corresponds to the above screenshot.</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code>    <span class=\"p\">{</span>\n      <span class=\"nt\">\"extension\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl\"</span><span class=\"p\">,</span>\n          <span class=\"nt\">\"valueCodeableConcept\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"coding\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n              <span class=\"p\">{</span>\n                <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/questionnaire-item-control\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"slider\"</span><span class=\"p\">,</span>\n                <span class=\"nt\">\"display\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Slider\"</span>\n              <span class=\"p\">}</span>\n            <span class=\"p\">],</span>\n            <span class=\"nt\">\"text\"</span><span class=\"p\">:</span> <span class=\"s2\">\"A control where an axis is displayed between the high and low values and the control can be visually manipulated to select a value anywhere on the axis.\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/StructureDefinition/questionnaire-unitValueSet\"</span><span class=\"p\">,</span>\n          <span class=\"nt\">\"valueCanonical\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/ValueSet/ucum-bodyweight\"</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-minQuantity\"</span><span class=\"p\">,</span>\n          <span class=\"nt\">\"valueQuantity\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"mi\">10</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://unitsofmeasure.org\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"kg\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-maxQuantity\"</span><span class=\"p\">,</span>\n          <span class=\"nt\">\"valueQuantity\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"mi\">100</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://unitsofmeasure.org\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"kg\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">],</span>\n      <span class=\"nt\">\"linkId\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2.8.b-weight-quantity\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"text\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Body Weight\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"quantity\"</span>\n    <span class=\"p\">},</span>\n</code></pre></div>",
        "id": 264234380,
        "sender_full_name": "Tilo Christ",
        "timestamp": 1639004913
    }
]