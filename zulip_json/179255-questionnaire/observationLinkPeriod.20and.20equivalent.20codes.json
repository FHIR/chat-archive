[
    {
        "content": "<p>I am testing observationLinkPeriod with two forms that have \"height\" and \"weight\" defined.  In one form, \"weight\" is using LOINC 29463-7 (\"Body weight\"), for which there is data for the selected patient, and the field gets prepoluated with the latest value when the form is loaded.  My other form just happens to use LOINC 3141-9 (\"Body weight Measured\") , for which disappointingly there is no data.  This is a case where one would want to treat the two LOINC codes equivalently for the purpose for prepopulation.  The most recent weight under either code is what should be filled in.  Is there any mechanism for doing that?</p>",
        "id": 158633162,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1550252506
    },
    {
        "content": "<p>Not right now.  Though with a vital sign like weight, if it's a compliant system, all weights are required to identify themselves with a single LOINC code (though others can also be present).</p>",
        "id": 158633409,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1550252704
    },
    {
        "content": "<p>What you'd presumably want to do is specify a value set rather than a single code, right?</p>",
        "id": 158633438,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1550252731
    },
    {
        "content": "<p>The URL syntax is currently like <a href=\"http://.../Observation?code=codeSystem|code1\" target=\"_blank\" title=\"http://.../Observation?code=codeSystem|code1\">http://.../Observation?code=codeSystem|code1</a>.  I would like to be able write:</p>\n<div class=\"codehilite\"><pre><span></span> http://.../Observation?code=codeSystem|code1,code2\n</pre></div>\n\n\n<p>to get results back for either code1 or code2.<br>\nNLM and Regenstrief are both working on equivalence classes, which might be useful to search on as well (but I am not sure if that is far enough along).</p>",
        "id": 158635455,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1550254062
    },
    {
        "content": "<p>It looks like I should just be able to add another Coding to the item.code list.  I will try that.</p>",
        "id": 158648139,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1550263736
    },
    {
        "content": "<p>You can certainly do code=codeSystem|code1,codeSystem|code2</p>",
        "id": 158648760,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1550264248
    },
    {
        "content": "<p>That format will then possibly return both or miss one if you have the count=1, or maybe consider the <code>lastN</code> operation?</p>",
        "id": 246302424,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1626493945
    },
    {
        "content": "<p>If you include _sort=-date&amp;_count=1, it should get the right one.</p>",
        "id": 246761487,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1626892919
    },
    {
        "content": "<p>Which means you need to use a separate query for each code (rather than the one call)<br>\nCan do it as a batch query at least - but even that is still not going to optimize into a single SQL statement on the other end - or at least no chance of it anyway.</p>",
        "id": 246779893,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1626901769
    },
    {
        "content": "<p>If the codes are equivalent, you don't need a separate query for each code.</p>",
        "id": 247231304,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1627319069
    },
    {
        "content": "<p>I was looking for a set of observations in one call, last height, weight and BMI</p>",
        "id": 247286120,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1627351606
    },
    {
        "content": "<p>You could call $lastn,</p>",
        "id": 247287661,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1627353068
    },
    {
        "content": "<p>(Though you'd have to manually filter if they had different linkPeriods)</p>",
        "id": 247287677,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1627353088
    }
]