[
    {
        "content": "<p>Getting a validation error with the launchContext extension.  </p>\n<p>Path:  Questionnaire.extension[0].extension[0].value.ofType(Coding)   Message:  This element is not allowed by the profile <a href=\"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext\">http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext</a></p>\n<p>I think this means that there is a problem with the  valueCoding  portion of the 1st extension (in the launchContext extension), which is the name extension.     Per the IG  at <a href=\"https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html\">https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html</a>, it seems like valueCoding is supposed the correct datatype for this name extension (inside the launchContext extension).  </p>\n<p>How do I fix this problem?</p>\n<div class=\"codehilite\"><pre><span></span><code>    &quot;extension&quot; : [\n        {\n            &quot;extension&quot; : [\n                {\n                    &quot;url&quot; : &quot;name&quot;,\n                    &quot;valueCoding&quot; : {\n                        &quot;system&quot; : &quot;http://hl7.org/fhir/us/sirb/CodeSystem/temporarycodes&quot;,\n                        &quot;code&quot; : &quot;parent&quot;,\n                        &quot;display&quot; : &quot;The parent QR for prepopulation&quot;\n                    }\n                },\n                {\n                    &quot;url&quot; : &quot;type&quot;,\n                    &quot;valueCode&quot; : &quot; QuestionnaireResponse&quot;\n                },\n                {\n                    &quot;url&quot; : &quot;description&quot;,\n                    &quot;valueString&quot; : &quot;The parent questionnaire response that is to be used to pre-populate the form&quot;\n                }\n            ],\n            &quot;url&quot; : &quot;http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext&quot;\n        }\n\n]\n</code></pre></div>",
        "id": 272245665,
        "sender_full_name": "Diane",
        "timestamp": 1645097192
    },
    {
        "content": "<p>Launch context is only allowed at the root of the Questionnaire</p>",
        "id": 272263782,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1645106859
    },
    {
        "content": "<p>The path looks to me like it is at the root.  Can you make a sample Questionnaire to show the problem?</p>",
        "id": 272276739,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1645112151
    },
    {
        "content": "<p>Here is the sample Questionnaire:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n    &quot;resourceType&quot; : &quot;Questionnaire&quot;,\n    &quot;id&quot; : &quot;sampleQ&quot;,\n    &quot;extension&quot; : [\n        {\n            &quot;extension&quot; : [\n                {\n                    &quot;url&quot; : &quot;name&quot;,\n                    &quot;valueCoding&quot; : {\n                        &quot;system&quot; : &quot;http://hl7.org/fhir/us/sirb/CodeSystem/temporarycodes&quot;,\n                        &quot;code&quot; : &quot;parent&quot;,\n                        &quot;display&quot; : &quot;The parent QR for prepopulation&quot;\n                    }\n                },\n                {\n                    &quot;url&quot; : &quot;type&quot;,\n                    &quot;valueCode&quot; : &quot;QuestionnaireResponse&quot;\n                },\n                {\n                    &quot;url&quot; : &quot;description&quot;,\n                    &quot;valueString&quot; : &quot;The parent questionnaire response that is to be used to pre-populate the form&quot;\n                }\n            ],\n            &quot;url&quot; : &quot;http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-launchContext&quot;\n        }\n    ],\n    &quot;url&quot; : &quot;http://www.example.com&quot;,\n    &quot;name&quot; : &quot;AE_Questionnaire&quot;,\n    &quot;status&quot; : &quot;draft&quot;,\n    &quot;subjectType&quot; : [ &quot;ResearchStudy&quot; ],\n    &quot;item&quot; : [\n        {\n            &quot;linkId&quot; : &quot;mae1&quot;,\n            &quot;text&quot; : &quot;Research Study&quot;,\n            &quot;type&quot; : &quot;group&quot;,\n            &quot;required&quot; : false,\n            &quot;item&quot; : [\n                {\n                    &quot;linkId&quot; : &quot;Q1&quot;,\n                    &quot;text&quot; : &quot;Study Title&quot;,\n                    &quot;type&quot; : &quot;string&quot;,\n                    &quot;required&quot; : false\n                }\n            ]\n        }\n    ]\n}\n</code></pre></div>",
        "id": 272288907,
        "sender_full_name": "Diane",
        "timestamp": 1645117158
    },
    {
        "content": "<p>Hmm.  Be aware the LHC-Forms still expects \"name\" have \"valueId\", though I see at <a href=\"https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html\">https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html</a> it has changed to valueCoding.  I will try to get an update out to handle that change.  However, that is not to your point.  It looks to me like your sample Questionnaire should validate.  <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> ?</p>",
        "id": 272291048,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1645117983
    },
    {
        "content": "<p>What release of SDC are you validating against Diane?</p>",
        "id": 272313680,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1645127677
    },
    {
        "content": "<p>I am using Trifolia.  In the Raw tab, there is an IG file  that has this json:</p>\n<div class=\"codehilite\"><pre><span></span><code> &quot;packageId&quot;: &quot;hl7.fhir.us.sirb&quot;,\n  &quot;dependsOn&quot;: [\n    {\n      &quot;id&quot;: &quot;sdc&quot;,\n      &quot;uri&quot;: &quot;http://hl7.org/fhir/uv/sdc/ImplementationGuide/sdc&quot;,\n      &quot;packageId&quot;: &quot;hl7.fhir.uv.sdc&quot;,\n      &quot;version&quot;: &quot;2.7.0&quot;\n    }\n  ],\n</code></pre></div>\n<p>I can't find anywhere in Trifolia where I input this dependency.  Is 2.7.0 correct?</p>",
        "id": 272327111,
        "sender_full_name": "Diane",
        "timestamp": 1645133924
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/uv/sdc/history.html\">http://hl7.org/fhir/uv/sdc/history.html</a> says 2.7.0 is from 2019.</p>",
        "id": 272327576,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1645134076
    },
    {
        "content": "<p>When I look at the balloted version of our IG at <a href=\"http://hl7.org/fhir/us/sirb/2021Sep/qa.html\">http://hl7.org/fhir/us/sirb/2021Sep/qa.html</a>,  it is also using 2.7.0 for the dependency.</p>",
        "id": 272328705,
        "sender_full_name": "Diane",
        "timestamp": 1645134404
    },
    {
        "content": "<p>It looks like 2.7.0 was the latest actual \"version\" until yesterday, when 3.0.0-preview was created.  I don't know what to advise regarding your balloted IG.  <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> ?</p>",
        "id": 272329570,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1645134800
    },
    {
        "content": "<p>Well, we are balloted but not published yet.  And I am trying to work through the QA issues and add our questionnaires that have the new launchContext extension.   I will wait to see what Lloyd says.</p>",
        "id": 272330350,
        "sender_full_name": "Diane",
        "timestamp": 1645135218
    },
    {
        "content": "<p>3.0.0-preview is what you should point to if you're going to ballot in May</p>",
        "id": 272340115,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1645141116
    },
    {
        "content": "<p>When you publish, you'll point to \"3.0.0\" - which should be out in a couple of weeks</p>",
        "id": 272340147,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1645141142
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"195344\">Paul Lynch</span> <a href=\"#narrow/stream/179255-questionnaire/topic/launchContext.20This.20element.20is.20not.20allowed/near/272291048\">said</a>:</p>\n<blockquote>\n<p>Be aware the LHC-Forms still expects \"name\" have \"valueId\", though I see at <a href=\"https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html\">https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-questionnaire-launchContext.html</a> it has changed to valueCoding. </p>\n</blockquote>\n<p>Fixed in LHC-Forms 30.0.0-beta.7.</p>",
        "id": 272340547,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1645141442
    }
]