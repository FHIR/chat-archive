[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193971\">@Stoyan Halkaliev</span> <span class=\"user-mention\" data-user-id=\"195344\">@Paul Lynch</span> @Others: My hope was that there would be a hosted Questionnaire (Response) instance viewer/renderer that I could start from a Questionnaire (Response) instance on <a href=\"http://Simplifier.net\">Simplifier.net</a> (like <a href=\"https://simplifier.net/Data4LifeFHIRartifactsR4/covid-19-assessment-questionnaire-en\">this COVID-19 Questionnaire</a>). If so, we could add your Tool in our Tools drop-down and call it with either a URL where your tool can download the resource or directly do a POST to a link of your choice with the resource in the body. Is this supported/of interest?</p>",
        "id": 197745823,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1589572964
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span>  Yes, we totally support this. Our renderer is completely self-contained, runs as SPA in the browser (even in IE11), can handle JSon directly without FHIR-repository (if the valueset are contained), support enable when and can render multilanguage questionnaire (if implemented with the extentention). Here is live example of a questionnaire we use for one of our projects: </p>\n<p><a href=\"https://www.selbstanamnese.de/#/Anamnesis\">https://www.selbstanamnese.de/#/Anamnesis</a></p>\n<p>We already can render the questionnaire you pointed to (I created a self-contained version with both languages and contained valuesets). I will setup this weekend a stand-alone version you can call directly that just renders the questionnaire.</p>",
        "id": 197747188,
        "sender_full_name": "Stoyan Halkaliev",
        "timestamp": 1589573716
    },
    {
        "content": "<p>That would be wonderful <span class=\"user-mention\" data-user-id=\"193971\">@Stoyan Halkaliev</span>, let me know how I should form the URL/POST call to get the resource to that instance when you have it! Thanks</p>",
        "id": 197747389,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1589573840
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> That is an interesting idea, and should not be difficult to add.  We would probably do a POST call;  I am not sure what the NLM security team would think of links to pages in the NLM space showing any random form, but a POST should be okay.  Alternatively, it would really each to create a small web page with a little JavaScript that would take the Questionnaire as a URL parameter and render it with LHC-Forms, and then you could host it locally.</p>",
        "id": 197750713,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1589575829
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195344\">@Paul Lynch</span> Thanks Paul. If it is an option POST that would be great, so we don't have to host another rendering application. But if it isn't, we'll look into that route too.</p>",
        "id": 197751145,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1589576105
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> , just postet an example of a call for a renderer in the other thread:</p>\n<p><a href=\"#narrow/stream/179255-questionnaire/topic/Rendering.20Questionnaires.20in.20IGs/near/197948238\">https://chat.fhir.org/#narrow/stream/179255-questionnaire/topic/Rendering.20Questionnaires.20in.20IGs/near/197948238</a></p>\n<p>I made some assumptions about how to get the value sets from simplfier and it seems to work for this particular example, but let me know if there is a better way. You can actually put it in an iFrame and show it as a Tab in the questionnaire page of the simplifier.</p>",
        "id": 197950518,
        "sender_full_name": "Stoyan Halkaliev",
        "timestamp": 1589815455
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193971\">@Stoyan Halkaliev</span> Great work. They better URL to use is the FHIR API link it gives here:<br>\n<a href=\"/user_uploads/10155/_WKHGzJpZdAMT-UI1AsfU7p6/2020-05-18-17_29_33-SIMPLIFIER.NET-Data4Life-FHIR-artifacts-R4-_-COVID-19-assessment-questionnai.png\">2020-05-18-17_29_33-SIMPLIFIER.NET-Data4Life-FHIR-artifacts-R4-_-COVID-19-assessment-questionnai.png</a> <br>\nThat's what the connector implementation also uses and it works for <a href=\"https://simplifier.net/Data4LifeFHIRartifactsR4/covid-19-assessment-questionnaire-en\">https://simplifier.net/Data4LifeFHIRartifactsR4/covid-19-assessment-questionnaire-en</a> (R4).<br>\nI couldn't get it to work with <a href=\"https://simplifier.net/covid-19/questionnaire-example\">https://simplifier.net/covid-19/questionnaire-example</a> yet (STU3), it loads an empty screen. I'm not too familiar with Questionnaires, this one seems to take a different approach with specifying the questions in the profile rather than in the FHIR instance.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/_WKHGzJpZdAMT-UI1AsfU7p6/2020-05-18-17_29_33-SIMPLIFIER.NET-Data4Life-FHIR-artifacts-R4-_-COVID-19-assessment-questionnai.png\" title=\"2020-05-18-17_29_33-SIMPLIFIER.NET-Data4Life-FHIR-artifacts-R4-_-COVID-19-assessment-questionnai.png\"><img src=\"/user_uploads/10155/_WKHGzJpZdAMT-UI1AsfU7p6/2020-05-18-17_29_33-SIMPLIFIER.NET-Data4Life-FHIR-artifacts-R4-_-COVID-19-assessment-questionnai.png\"></a></div>",
        "id": 197951842,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1589815961
    },
    {
        "content": "<p>STU3 doesn't seem to be the issue, it works with <a href=\"https://simplifier.net/finnishphr/questionnaire-danpss1\">https://simplifier.net/finnishphr/questionnaire-danpss1</a> for example!</p>",
        "id": 197952413,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1589816172
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> thanx for the report. Will research asap.</p>",
        "id": 197952866,
        "sender_full_name": "Stoyan Halkaliev",
        "timestamp": 1589816397
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"203235\">Ward Weistra</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Starting.20hosted.20Questionnaire.20(Response).20instance.20viewer/near/197951842\">said</a>:</p>\n<blockquote>\n<p>I couldn't get it to work with <a href=\"https://simplifier.net/covid-19/questionnaire-example\">https://simplifier.net/covid-19/questionnaire-example</a> yet (STU3), it loads an empty screen. I'm not too familiar with Questionnaires, this one seems to take a different approach with specifying the questions in the profile rather than in the FHIR instance.</p>\n</blockquote>\n<p><span aria-label=\"surprise\" class=\"emoji emoji-1f62e\" role=\"img\" title=\"surprise\">:surprise:</span> I must confess, this is completely new approach to me. I need to research it a little. Can someone please explain what is the benefit of putting quesionnaires in the profile? <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> ?</p>",
        "id": 197957898,
        "sender_full_name": "Stoyan Halkaliev",
        "timestamp": 1589818461
    },
    {
        "content": "<p>Let me loop in the team of <span class=\"user-mention\" data-user-id=\"209965\">@Pier Alberto Gibellini</span> too, since they worked on it.</p>",
        "id": 197958238,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1589818602
    },
    {
        "content": "<p>Yeah, that's an empty questionnaire.  I'd expect a blank page.  Simply referencing the code is <em>not</em> enough to cause any tool to prompt you for the questions associated with that LOINC code.  The questionnaire <em>must</em> specify the questions.</p>",
        "id": 197964591,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589821239
    },
    {
        "content": "<p>Hi! Thanks Ward for bringing me in. Actually I agree with Lloyd, an existing Questionnaire instance (and as a Consequence its profile) has value only if the questions are there. That's exactly what we didn't do with the COVID-19 Questionnaire, unfortunately. We definitely wanted the answers to be in a QuestionnaireResponse, but from our customers we had only word documents or scanned PDFs as inputs to build  them, and we were in a damn hurry. So we chose to buld the QuestionnaireResponses pointing to a Questionnaire which just contained a \"code\" that allowed our software to know which template to associate to the response, without building it from the actual content of the Questionnaire. For the mapping, we just put the linkId for each Quest.Resp. item besides each row of the word/pdf document, very rough, but it worked. It's probably one of the less refined parts of the COVID-19 profiling and definetely not a good example of Questionnaire, sorry about that  :-)</p>",
        "id": 198177208,
        "sender_full_name": "Pier Alberto Gibellini",
        "timestamp": 1589969295
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"209965\">@Pier Alberto Gibellini</span> No need for apologies, better to get things done! We were just checking if we needed to improve the Questionnaire viewer or connector to support this. Thanks for the background on this!</p>",
        "id": 198205620,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1589984595
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"209965\">Pier Alberto Gibellini</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Starting.20hosted.20Questionnaire.20(Response).20instance.20viewer/near/198177208\">said</a>:</p>\n<blockquote>\n<p>...but from our customers we had only word documents or scanned PDFs as inputs to build  them, and we were in a damn hurry. ...</p>\n</blockquote>\n<p>Completely understandable, at least not a bug on our side :-) When you have time, you can check the our questionnaire designer here <a href=\"http://fhirpower.tools\">http://fhirpower.tools</a> . With it you can build multi language questionnaires quickly.</p>",
        "id": 198219443,
        "sender_full_name": "Stoyan Halkaliev",
        "timestamp": 1589990327
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"203235\">Ward Weistra</span> <a href=\"#narrow/stream/179255-questionnaire/topic/Starting.20hosted.20Questionnaire.20(Response).20instance.20viewer/near/197751145\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"195344\">Paul Lynch</span> Thanks Paul. If it is an option POST that would be great, so we don't have to host another rendering application. But if it isn't, we'll look into that route too.</p>\n</blockquote>\n<p>Ward - We now have a viewer application here:  <a href=\"https://lhncbc.github.io/questionnaire-viewer/\">https://lhncbc.github.io/questionnaire-viewer/</a>, which will take a parameter \"q\" for the URL to a Questionnaire.  Example:  <a href=\"https://lhncbc.github.io/questionnaire-viewer/?q=https%3A%2F%2Flforms-fhir.nlm.nih.gov%2FbaseR4%2FQuestionnaire%2F55418-8\">https://lhncbc.github.io/questionnaire-viewer/?q=https%3A%2F%2Flforms-fhir.nlm.nih.gov%2FbaseR4%2FQuestionnaire%2F55418-8</a><br>\nIt does not support \"POST\".  Let me know if that is a problem.</p>",
        "id": 204241820,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1595010618
    },
    {
        "content": "<p>Seems to work like a charm <span class=\"user-mention\" data-user-id=\"195344\">@Paul Lynch</span>: <a href=\"https://lhncbc.github.io/questionnaire-viewer/?q=https://fhir.simplifier.net/Data4LifeFHIRartifactsR4/Questionnaire/46a4d1e2-3a3b-4585-8569-151796ca96ed\">https://lhncbc.github.io/questionnaire-viewer/?q=https://fhir.simplifier.net/Data4LifeFHIRartifactsR4/Questionnaire/46a4d1e2-3a3b-4585-8569-151796ca96ed</a> <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <br>\nLet me create a connector for that...</p>",
        "id": 204772140,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1595493188
    },
    {
        "content": "<p>I guess at some point we should also pass you (and other tools like Stoyan's) a FHIR server where you can retrieve any referenced resources, like the valuesets being used.</p>",
        "id": 204772272,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1595493301
    }
]