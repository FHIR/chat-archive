[
    {
        "content": "<p>In R4, how does one represent a question whose answer options are a list of integers?<br>\nThe definition of answerOption is \"One of the permitted answers for a \"choice\" or \"open-choice\" question.\"  Does mean the type can only be choice or open-choice?  Then that means the answerOptions have valueCoding, not valueInteger.</p>",
        "id": 192855331,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1585943344
    },
    {
        "content": "<p>We're relaxing that.  valueInteger is allowed</p>",
        "id": 192855845,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585943601
    },
    {
        "content": "<p>I know that it will be allowed, because are moving \"choice\" and \"open-choice\" out of the type list.  But, what about in R4?  Is type=integer and answerOption.valueInteger an allowed combination in R4?</p>",
        "id": 192856340,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1585943855
    },
    {
        "content": "<p>Yes</p>",
        "id": 192861277,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585946561
    },
    {
        "content": "<p>I want to ask this just for clarification: In R4, when I want the user to choose an item from a list of Integers, say [1,3,5], I would have to use item.type = \"integer\" and item.anwerOption = [{valueInteger: 1}, {valueInteger: 3}, {valueInteger: 5}] and not item.type = \"choice\" and item.anwerOption = [{valueInteger: 1}, {valueInteger: 3}, {valueInteger: 5}], because item.type = choice implies that answerOptions only contain codes. Am I right?</p>",
        "id": 241738946,
        "sender_full_name": "Johannes Oehm",
        "timestamp": 1623051076
    },
    {
        "content": "<p>I second this question, reading the docs I was also slightly confused. In the <a href=\"https://www.hl7.org/fhir/questionnaire-definitions.html#Questionnaire.item.answerOption\">detailed description of the <code>Questionnaire.item.answerOption</code> element</a>, it says</p>\n<blockquote>\n<p>One of the permitted answers for a \"choice\" or \"open-choice\" question.</p>\n</blockquote>\n<p>which seems to suggest it should always used with those two types. Yet that clashes with the <a href=\"https://www.hl7.org/fhir/questionnaire.html#question-types\">Question-Types section of the documentation</a>  which says that choice/open-choice questions can only be answered with a <code>Coding</code>, although <code>answerOption</code> allows a range of types (as <span class=\"user-mention\" data-user-id=\"250685\">@Johannes Oehm</span> points out).</p>",
        "id": 241742183,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1623053387
    },
    {
        "content": "<p>If the 1, 3, 5 happen to be points for a score, a Coding with an ordinalValue extension might be a valid method as well? <a href=\"https://www.hl7.org/fhir/extension-ordinalvalue.html\">https://www.hl7.org/fhir/extension-ordinalvalue.html</a></p>",
        "id": 241756950,
        "sender_full_name": "Tilo Christ",
        "timestamp": 1623062431
    },
    {
        "content": "<p>Correct.  'choice' means 'Coding'.  In r5, we're dropping choice and open-choice and replacing with Coding and handling open vs. closed differently.</p>",
        "id": 241784048,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1623075912
    },
    {
        "content": "<p>And yes, ordinalValue is possible if you're really talking about a code with a numeric weight.</p>",
        "id": 241784095,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1623075935
    },
    {
        "content": "<p>I see the definition of <code>answerOption</code> I quoted above has also been changed in R5 to drop the reference to choice and just say \"One of the permitted answers for the question.\" That makes it clearer.</p>",
        "id": 241800743,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1623082289
    },
    {
        "content": "<p>Thank you for your reply, Lloyd! We'll use item.type = \"integer\" with an answerOption-list!</p>",
        "id": 241881128,
        "sender_full_name": "Johannes Oehm",
        "timestamp": 1623138086
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> One follow-up question: the Java validator does not give an error for a Questionnaire that gives a list of strings an <code>answerOption</code> in a \"choice\" questions. Likewise, not error is shown if such a choice question is answered with a string (<code>valueString</code>)  (Both cases illustrated by  minimal example below). Should it not show an error in both cases?</p>\n<ul>\n<li><a href=\"/user_uploads/10155/jMQ7xW7MhH4nAq_RqBwQ1-yl/q.json\">Questionnaire</a></li>\n<li><a href=\"/user_uploads/10155/FZ9dyPy-DS-ut70YhZsdBSx2/qr.json\">QuestionnaireResponse</a></li>\n</ul>",
        "id": 241886068,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1623141277
    },
    {
        "content": "<p>It should.  Can you submit a Git issue?</p>",
        "id": 241918412,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1623158794
    },
    {
        "content": "<p>Sure, will do.</p>",
        "id": 241938870,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1623166409
    },
    {
        "content": "<p>Here: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/issues/534\">org.hl7.fhir.core issue #534</a></p>",
        "id": 241945173,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1623168927
    }
]