[
    {
        "content": "<p>Hi,</p>\n<p>I'd like to use enableWhen in two ways:<br>\n1) Hide large parts of a Questionnaire based on some answer at the top of an item tree --&gt; desired behavior is to avoid rendering the item tree altogether<br>\n2) Visually indicate that a specific question is \"disabled\" as a result of the user's response to another question</p>\n<p>It seems like right now my rendering implementation needs to decide whether to treat all enableWhen logic as resulting in either (1) or (2), but is not configurable to do both.</p>\n<p>Is there some extension that exists that would cover this use case? e.g. something like hiddenWhen (conditionally hide, as opposed to enableWhen's enable/disable) or enableWhenRender (if false, hide instead of disable).</p>\n<p>I haven't been able to find anything in Questionnaire extensions (<a href=\"https://build.fhir.org/questionnaire-extensions.html\" target=\"_blank\" title=\"https://build.fhir.org/questionnaire-extensions.html\">https://build.fhir.org/questionnaire-extensions.html</a>) or SDC (<a href=\"http://build.fhir.org/ig/HL7/sdc/\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/sdc/\">http://build.fhir.org/ig/HL7/sdc/</a>) that is along those lines.</p>\n<p>Thanks!</p>",
        "id": 183322665,
        "sender_full_name": "Tadas Antanavicius",
        "timestamp": 1576203219
    },
    {
        "content": "<p>Right now there's no extension that would drive the behaviour.  Can you explain why a questionnaire author would want to?</p>",
        "id": 183322982,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576203640
    },
    {
        "content": "<p>Sure thing. Let's say I'm building a Questionnaire for patients to fill out when they arrive at a hospital.</p>\n<p>This Questionnaire would include questions about their background. Let's say one of those question is, \"Do you have a legal guardian?\". If yes, we want to ask questions about that guardian, like \"First Name,\" \"Last Name,\" etc.</p>\n<p>If the answer is not \"yes\", then I don't want to clutter the UI by rendering irrelevant \"Guardian First Name\"-like questions.</p>\n<p>This Questionnaire would also include questions about their medical history. There might be a whole section that is a long list of medical conditions, of which an individual is likely to have at most one or two.</p>\n<p>Because it is a long, mostly irrelevant list, I want to include a \"No to all\" option for UX purposes. If this option is selected, I want to lock all of the listed condition responses into being \"No\" (effectively making them readOnly, or disabled). I'd rather not hide them altogether, because I want to make it obvious that the patient is submitting the fact that they do _not_ have any one of these conditions. </p>\n<p>Here's what that Questionnaire would look like:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;resourceType&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Questionnaire&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;item&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;linkId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;patient-background&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;group&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Background&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;item&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;linkId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;has-guardian&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Do you have a legal guardian?&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;boolean&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;linkId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;guardian-first-name&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Guardian First Name&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;string&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;enableWhen&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">&quot;question&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;has-guardian&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;operator&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;=&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;answerBoolean&quot;</span><span class=\"p\">:</span> <span class=\"kc\">true</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">]</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;linkId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;guardian-last-name&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Guardian Last Name&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;string&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;enableWhen&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">&quot;question&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;has-guardian&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;operator&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;=&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;answerBoolean&quot;</span><span class=\"p\">:</span> <span class=\"kc\">true</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">]</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">]</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;linkId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;patient-conditions&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;group&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Past Conditions&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;item&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;linkId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;no-past-conditions&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;No to all&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;boolean&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;linkId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;condition-1&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&lt;condition 1 description&gt;&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;boolean&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;enableWhen&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">&quot;question&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;no-past-conditions&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;operator&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;=&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;answerBoolean&quot;</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">]</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;linkId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;condition-2&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&lt;condition 2 description&gt;&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;boolean&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;enableWhen&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">&quot;question&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;no-past-conditions&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;operator&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;=&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;answerBoolean&quot;</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">]</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;linkId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;condition-3&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;text&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&lt;condition 3 description&gt;&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;boolean&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;enableWhen&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">&quot;question&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;no-past-conditions&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;operator&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;=&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;answerBoolean&quot;</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">]</span>\n        <span class=\"p\">},</span>\n        <span class=\"err\">...</span> <span class=\"err\">more</span> <span class=\"err\">conditions</span>\n      <span class=\"p\">]</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>Does that make sense? Is there a different way to go about this than my line of thinking?</p>",
        "id": 183387416,
        "sender_full_name": "Tadas Antanavicius",
        "timestamp": 1576262890
    },
    {
        "content": "<p>Hmm. \"No to all\" is something different than \"enable/disable\" because (at least logically) you're forcing an answer for the questions.  Submit a change request for us to talk about the use-case.  It's certainly something that shows up in some forms and we should have a way to handle it.</p>",
        "id": 183391129,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576265010
    },
    {
        "content": "<p>Sounds good, made it here: <a href=\"https://jira.hl7.org/browse/FHIR-25380\" target=\"_blank\" title=\"https://jira.hl7.org/browse/FHIR-25380\">https://jira.hl7.org/browse/FHIR-25380</a></p>",
        "id": 183394725,
        "sender_full_name": "Tadas Antanavicius",
        "timestamp": 1576267162
    }
]