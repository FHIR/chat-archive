[
    {
        "content": "<p>Does anyone have an example of using FHIRPath to sum the scores (ordinalValue) for the answers of a QuestionnaireResponse?  I can write FHIRPath that finds individual scores and explicitly add each one, but I am having trouble coming up with an expression that would work with FHIRPath's aggregate function without making simplifying assumptions.</p>",
        "id": 166218497,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1558477204
    },
    {
        "content": "<p>Here is the FHIRPath I wrote to retrieve the score associated with just one of answers in a PHQ-9 form:</p>\n<div class=\"codehilite\"><pre><span></span>%questionnaire.item.where(linkId = &#39;/44260-8&#39;).answerOption.where(valueCoding.code=%resource.item.where(linkId = &#39;/44260-8&#39;).answer.valueCoding.code).extension.where(url=%scoreExt).valueDecimal\n</pre></div>\n\n\n<p>I had to write nine of those, and ended up putting them in variables, because sometimes the value was empty, and so I needed to wrap each value inside \"iif\" before adding them together.<br>\nIs there a simpler approach?</p>",
        "id": 166314294,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1558563117
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 166318662,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558567873
    },
    {
        "content": "<p>Got a reference to that whole form <span class=\"user-mention\" data-user-id=\"195344\">@Paul Lynch</span>?</p>",
        "id": 166410488,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1558655066
    },
    {
        "content": "<p><a href=\"https://raw.githubusercontent.com/lhncbc/lforms-fhir-app/observation-extract/e2e-tests/data/R4/phq9.json\" target=\"_blank\" title=\"https://raw.githubusercontent.com/lhncbc/lforms-fhir-app/observation-extract/e2e-tests/data/R4/phq9.json\">https://raw.githubusercontent.com/lhncbc/lforms-fhir-app/observation-extract/e2e-tests/data/R4/phq9.json</a></p>",
        "id": 166418080,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1558665438
    }
]