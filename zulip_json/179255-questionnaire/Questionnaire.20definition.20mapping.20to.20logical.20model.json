[
    {
        "content": "<p>I have a questionnaire that includes, among other questions, a choice item bound to a valueset, and a text item for \"other, please specify\". I also have a logical model that contains the definitions for the various questions. It seems to me that the representation for these two questions in the logical model should be a CodeableConcept, with the choice item defined by the CodeableConcept.coding and the \"other\" text defined by CodeableConcept.text. However, it doesn't appear to be possible for a definition to go further than the logical model's path element and \"into\" attributes of the datatype. <br>\nHow are others handling this limitation? Am I approaching this wrong?</p>",
        "id": 213744565,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1603085138
    },
    {
        "content": "<p>Similarly, I want to define another questionnaire item \"end date\" as mapping to the end date of a logical model item which is a Period.</p>",
        "id": 213744695,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1603085401
    },
    {
        "content": "<p>When you say \"it doesn't appear to be possible\", where are you running into issues?  For the second, presumably you'd map to Period.end?</p>",
        "id": 213790823,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603116637
    },
    {
        "content": "<p>In my fsh logical model, I have:</p>\n<div class=\"codehilite\" data-code-language=\"fsh\"><pre><span></span><code>* differential.element[74].id = \"DataDictionary.outcome.patientCourse.status\"\n* differential.element[74].path = \"DataDictionary.outcome.patientCourse.status\"\n* differential.element[74].short = \"Patient status (outcome)\"\n* differential.element[74].definition = \"Patient status (outcome)\"\n* differential.element[74].type.code = #CodeableConcept\n...\n</code></pre></div>\n\n<p>Then, in my Questionnaire, I have:</p>\n<div class=\"codehilite\"><pre><span></span><code>* item[7].item[5].linkId  = &quot;outcome_patcourse_status&quot;\n* item[7].item[5].text    = &quot;Health Outcome:&quot;\n* item[7].item[5].type    = #choice\n* item[7].item[5].answerValueSet = Canonical(ValueSetPatientOutcome)\n* item[7].item[5].definition    = &quot;http://www.example.com/fhir/cr/StructureDefinition/DataDictionary#DataDictionary.outcome.patientCourse.status&quot;\n\n* item[7].item[6].linkId  = &quot;outcome_patcourse_status_other&quot;\n* item[7].item[6].text    = &quot;If other, please explain:&quot;\n* item[7].item[6].type    = #string\n* item[7].item[6].enableWhen[0].question  = &quot;outcome_patcourse_status&quot;\n* item[7].item[6].enableWhen[0].operator  = #=\n* item[7].item[6].enableWhen[0].answerCoding = CodeSystemPatientOutcome#OTHER\n* item[7].item[6].definition    = &quot;http://www.example.com/fhir/cr/StructureDefinition/DataDictionary#DataDictionary.outcome.patientCourse.status&quot;\n</code></pre></div>\n\n\n<p>Is there a way to say that the first questionnaire item is defined by the status.coding, while the second questionnaire item is defined by status.text? Tacking \".coding\" and \".text\" onto the end of the definition urls gives IG publisher errors (link cannot be resolved).</p>",
        "id": 213837876,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1603137965
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span></p>",
        "id": 213854705,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603146709
    },
    {
        "content": "<p>Yes, I would be adding that on the end.</p>",
        "id": 213855393,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1603147176
    },
    {
        "content": "<p>I believe that walking into properties of the datatype is perfectly fine. Otherwise you wouldn't be able to use any complex datatypes like contact or identifier with definitions.</p>",
        "id": 213855514,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1603147258
    },
    {
        "content": "<p>Yeah, that's kinda what I thought. So, am I expressing it wrong, or is this a publisher error?</p>",
        "id": 213855648,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1603147350
    },
    {
        "content": "<p>Here's an example (not real) that does it<br>\n<a href=\"https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/prac-ext-demo\">https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/prac-ext-demo</a></p>",
        "id": 213855787,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1603147446
    },
    {
        "content": "<p>Haven't tried putting one of them into the publisher.</p>",
        "id": 213855808,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1603147463
    },
    {
        "content": "<p>And this is the profile that was \"referenced\" by the definitions<br>\n<a href=\"https://sqlonfhir-r4.azurewebsites.net/fhir/StructureDefinition/hcxdir-practitioner\">https://sqlonfhir-r4.azurewebsites.net/fhir/StructureDefinition/hcxdir-practitioner</a></p>",
        "id": 213855990,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1603147579
    },
    {
        "content": "<p>Hmm, is that the same though? I'm referencing something inside a logical model, not a resource or profile definition. I wonder if it matters what kind of StructureDefinition is used?</p>",
        "id": 213856018,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1603147604
    },
    {
        "content": "<p>I'd be suggesting it should be the same...</p>",
        "id": 213856042,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1603147628
    },
    {
        "content": "<p>I would have thought so.</p>",
        "id": 213856064,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1603147647
    },
    {
        "content": "<p>Your direct question I think is can you walk into paths from a datatype that are not in the snapshot (or definition) - when referencing an element in a structure definition.</p>",
        "id": 213856090,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1603147676
    },
    {
        "content": "<p>I'm still getting this and have no idea how to troubleshoot. It doesn't make sense to me.</p>",
        "id": 216032931,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1604880752
    }
]