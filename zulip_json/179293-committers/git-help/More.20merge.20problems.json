[
    {
        "content": "<p><a href=\"https://github.com/HL7/fhir/pull/591\" target=\"_blank\" title=\"https://github.com/HL7/fhir/pull/591\">https://github.com/HL7/fhir/pull/591</a> - merge conflict. So:</p>\n<ul>\n<li>\"resolve conflicts\" doesn't work - just hangs.</li>\n<li>\"open in the github desktop\" - I have no idea what that means but the link leads to nothing</li>\n<li>use the command line... the instructions are just wrong</li>\n</ul>",
        "id": 168279832,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742133
    },
    {
        "content": "<p>What happens in the cli?</p>",
        "id": 168279838,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560742157
    },
    {
        "content": "<p>I mean, they look wrong, and following them (a) doesn't work in my existing repository and (b) works but does nothing in a brand new one</p>",
        "id": 168279839,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742171
    },
    {
        "content": "<p>in my existing repo (my local clone, I think that's what the instructions mean)</p>",
        "id": 168279843,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742187
    },
    {
        "content": "<blockquote>\n<p>git fetch origin</p>\n</blockquote>",
        "id": 168279902,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742241
    },
    {
        "content": "<p>warning: redirecting to <a href=\"https://github.com/hl7/fhir/\" target=\"_blank\" title=\"https://github.com/hl7/fhir/\">https://github.com/hl7/fhir/</a></p>",
        "id": 168279907,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742251
    },
    {
        "content": "<p>well, ok</p>",
        "id": 168279910,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742253
    },
    {
        "content": "<p>fatal: A branch named 'condition-definition' already exists</p>",
        "id": 168279922,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742273
    },
    {
        "content": "<p>In the cli instruction... After \"git merge master\" you need to then resolve the conflict</p>",
        "id": 168279927,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560742279
    },
    {
        "content": "<p>oops: </p>\n<blockquote>\n<p>git checkout -b condition-definition origin/condition-definition</p>\n</blockquote>\n<p>fatal: A branch named 'condition-definition' already exists</p>",
        "id": 168279934,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742289
    },
    {
        "content": "<p>So I'd 1) check out the relevant Branch from your local repo, 2) git merge master, 3) fix the merge conflict, 4) git push the branch up to GitHub</p>",
        "id": 168279982,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560742332
    },
    {
        "content": "<p>what <em>exactly</em> does 'resolve the the conflict' mean? Because I thought it meant actually opening the file and editing the conflicts.... which lead to an error message saying that merge couldn't merge because i had unmerged files.... that's a real winner, that error message</p>",
        "id": 168279990,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742364
    },
    {
        "content": "<p>(In general: the approach to committing cache files continues to cause pain. It'd be good to brainstorm about alternatives.)</p>",
        "id": 168279991,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560742365
    },
    {
        "content": "<p>It's means opening the file, editing, saving the file and then doing \"git add file\" --- \"git status\" should give you hints about what you need to do</p>",
        "id": 168280003,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560742424
    },
    {
        "content": "<p>so check out the branch... I mean, I'm already in the branch.... so then I git merge master and it says 'already up to date'</p>",
        "id": 168280005,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742433
    },
    {
        "content": "<p>And what does git status tell you?</p>",
        "id": 168280044,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560742445
    },
    {
        "content": "<p>the instructions says git push origin master - surely that is wrong....</p>",
        "id": 168280047,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742459
    },
    {
        "content": "<p>no changes added to commit</p>",
        "id": 168280060,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742472
    },
    {
        "content": "<p>Can you paste the complete output of git Status?</p>",
        "id": 168280061,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560742493
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>\n</pre></div>",
        "id": 168280068,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742507
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>On branch condition-definition\nChanges not staged for commit:\n  (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)\n  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)\n\n        deleted:    tools/java/org.hl7.fhir.tools.core/bin/.gitignore\n\nno changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)\n</pre></div>",
        "id": 168280071,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742517
    },
    {
        "content": "<p>I'm not interested in that .gitignore file right now. I don't know why it comes and goes, just another git mystery, but it's not my problem</p>",
        "id": 168280109,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742564
    },
    {
        "content": "<p>And does \"git push\" (i.e., to the condition-definition branch) have no effect?</p>",
        "id": 168280116,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560742568
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>fatal: The current branch condition-definition has no upstream branch.\nTo push the current branch and set the remote as upstream, use\n\n    git push --set-upstream origin condition-definition\n</pre></div>",
        "id": 168280121,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742589
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>C:\\work\\org.hl7.fhir\\build&gt;git push --set-upstream origin condition-definition\nwarning: redirecting to https://github.com/hl7/fhir/\nEverything up-to-date\nBranch &#39;condition-definition&#39; set up to track remote branch &#39;condition-definition&#39; from &#39;origin&#39;.\n</pre></div>",
        "id": 168280127,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742623
    },
    {
        "content": "<p>Well, you could do that, but I'm not clear on what it's not already linked -- is this not the checkout you've been working from?</p>",
        "id": 168280130,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560742628
    },
    {
        "content": "<p>it was. On the condition-definition branch. But then i tried to follow the github instructions and I have no idea what state it's in now</p>",
        "id": 168280134,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742681
    },
    {
        "content": "<p>Let me take a look locally</p>",
        "id": 168280175,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560742709
    },
    {
        "content": "<p>as far as the cache files... I haven't got any better idea. it takes 90-120 minutes to build them from scratch. so I don't think we want everyone to have to deal with that much longer added to the build</p>",
        "id": 168280308,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560742994
    },
    {
        "content": "<p>So I can't reproduce the issues you're seeing -- is it possible you haven't run \"git fetch\" before doing \"git merge origin/master\" ?</p>",
        "id": 168280360,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560743064
    },
    {
        "content": "<p>(I'd also be happy to just push a commit for you that overwrites <code>vscache/null.cache</code> in your branch with the version from master, which will fix the merge  problem, but I'm not sure if that's the version of the file you want.)</p>",
        "id": 168280369,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560743104
    },
    {
        "content": "<p>well, why not? it'll just make the build take longer</p>",
        "id": 168280376,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560743129
    },
    {
        "content": "<p>OK.</p>",
        "id": 168280379,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560743141
    },
    {
        "content": "<p>Done.</p>",
        "id": 168280422,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560743166
    },
    {
        "content": "<p>FYI here's the log of my session that tells the story</p>",
        "id": 168280424,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560743170
    },
    {
        "content": "<p>but given that the git cli instructions are all wrong, and the web editor fails for anything but the most simple cases... maybe we should get some correct instructions.... though why github gets it wrong.... I don't know</p>",
        "id": 168280425,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560743179
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>jmandel@trumpet:~/work/fhir$ git fetch\n\njmandel@trumpet:~/work/fhir$ git checkout condition-definition\nBranch &#39;condition-definition&#39; set up to track remote branch &#39;condition-definition&#39; from &#39;origin&#39;.\nSwitched to a new branch &#39;condition-definition&#39;\n\njmandel@trumpet:~/work/fhir$ git merge origin/master\nAuto-merging vscache/null.cache\nCONFLICT (content): Merge conflict in vscache/null.cache\nAutomatic merge failed; fix conflicts and then commit the result.\n\njmandel@trumpet:~/work/fhir$ git status\nOn branch condition-definition\nYour branch is up to date with &#39;remotes/origin/condition-definition&#39;.\n\nYou have unmerged paths.\n  (fix conflicts and run &quot;git commit&quot;)\n  (use &quot;git merge --abort&quot; to abort the merge)\n\nChanges to be committed:\n\n    modified:   source/careplan/careplan-spreadsheet.xml\n    modified:   source/condition/condition-spreadsheet.xml\n    modified:   source/familymemberhistory/familymemberhistory-genetics-profile-spreadsheet.xml\n    modified:   source/observationdefinition/observationdefinition-example.xml\n    modified:   source/observationdefinition/observationdefinition-spreadsheet.xml\n    modified:   source/procedure/procedure-spreadsheet.xml\n    modified:   source/specimendefinition/specimendefinition-example-serum-plasma.xml\n    modified:   source/specimendefinition/specimendefinition-spreadsheet.xml\n    modified:   source/status-codes.xml\n    modified:   tools/java/org.hl7.fhir.tools.core/.classpath\n\nUnmerged paths:\n  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)\n\n    both modified:   vscache/null.cache\n\n\njmandel@trumpet:~/work/fhir$ git checkout --theirs vscache/null.cache\n\njmandel@trumpet:~/work/fhir$ git status\nOn branch condition-definition\nYour branch is up to date with &#39;remotes/origin/condition-definition&#39;.\n\nYou have unmerged paths.\n  (fix conflicts and run &quot;git commit&quot;)\n  (use &quot;git merge --abort&quot; to abort the merge)\n\nChanges to be committed:\n\n    modified:   source/careplan/careplan-spreadsheet.xml\n    modified:   source/condition/condition-spreadsheet.xml\n    modified:   source/familymemberhistory/familymemberhistory-genetics-profile-spreadsheet.xml\n    modified:   source/observationdefinition/observationdefinition-example.xml\n    modified:   source/observationdefinition/observationdefinition-spreadsheet.xml\n    modified:   source/procedure/procedure-spreadsheet.xml\n    modified:   source/specimendefinition/specimendefinition-example-serum-plasma.xml\n    modified:   source/specimendefinition/specimendefinition-spreadsheet.xml\n    modified:   source/status-codes.xml\n    modified:   tools/java/org.hl7.fhir.tools.core/.classpath\n\nUnmerged paths:\n  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)\n\n    both modified:   vscache/null.cache\n\n\njmandel@trumpet:~/work/fhir$ git add vscache/null.cache\njmandel@trumpet:~/work/fhir$ git status\nOn branch condition-definition\nYour branch is up to date with &#39;remotes/origin/condition-definition&#39;.\n\nAll conflicts fixed but you are still merging.\n  (use &quot;git commit&quot; to conclude merge)\n\nChanges to be committed:\n\n    modified:   source/careplan/careplan-spreadsheet.xml\n    modified:   source/condition/condition-spreadsheet.xml\n    modified:   source/familymemberhistory/familymemberhistory-genetics-profile-spreadsheet.xml\n    modified:   source/observationdefinition/observationdefinition-example.xml\n    modified:   source/observationdefinition/observationdefinition-spreadsheet.xml\n    modified:   source/procedure/procedure-spreadsheet.xml\n    modified:   source/specimendefinition/specimendefinition-example-serum-plasma.xml\n    modified:   source/specimendefinition/specimendefinition-spreadsheet.xml\n    modified:   source/status-codes.xml\n    modified:   tools/java/org.hl7.fhir.tools.core/.classpath\n    modified:   vscache/null.cache\n\njmandel@trumpet:~/work/fhir$ git commit -m &quot;Fix vscache/null.cache conflict&quot;\n[condition-definition 97803ffa5d] Fix vscache/null.cache conflict\n\njmandel@trumpet:~/work/fhir$ git push\n</pre></div>",
        "id": 168280435,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560743238
    },
    {
        "content": "<p>\"Get some correct instructions\" kind of depends on the situation you're in. Generally the git cli will give you good information about what steps to take, i.e. from my log above:</p>\n<blockquote>\n<p>You have unmerged paths.<br>\n (fix conflicts and run \"git commit\")<br>\n (use \"git merge --abort\" to abort the merge)</p>\n</blockquote>",
        "id": 168280485,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560743319
    },
    {
        "content": "<p>I don't know why the spreadsheet changes, btw.</p>",
        "id": 168280487,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560743327
    },
    {
        "content": "<p>I'm not sure how to do better than this.</p>",
        "id": 168280489,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560743332
    },
    {
        "content": "<p>well, we should at least can these instructions...</p>",
        "id": 168280498,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560743372
    },
    {
        "content": "<p>Yes, that'd be good. Wiki? </p>\n<p>Re: cache, maybe we can talk about an API that lives outside of git. Would be good to understand whether the cache is purely monotonic (like, do entries ever change or disappear), or could be.</p>\n<p>Anyway, I'm off to bed.</p>",
        "id": 168280546,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560743442
    },
    {
        "content": "<p>is this a right summary:</p>\n<div class=\"codehilite\"><pre><span></span>1. set up\ngit checkout [branch]\ngit merge origin/master\ngit status\n\n&gt; You have unmerged paths.\n&gt;  (fix conflicts and run &quot;git commit&quot;)\n&gt;  (use &quot;git merge --abort&quot; to abort the merge)\n\n&gt; Unmerged paths:\n&gt;  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)\n&gt;\n&gt;    both modified:   ...\n\n2. fix the file, or grab that least from master\n&gt; grabbing the file from master:\n\n  git checkout --theirs [path]\n\n3. committingit\ngit add [path]\ngit commit -m &quot;Fix [path] conflict&quot;\ngit push\n</pre></div>",
        "id": 168280601,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560743558
    },
    {
        "content": "<p>the cache is built from an API.... it's mostly latency it's dealing with</p>",
        "id": 168280607,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560743595
    },
    {
        "content": "<p>so not sure how an API would help</p>",
        "id": 168280608,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560743597
    },
    {
        "content": "<p>the cache does get stale... I rebuild it occasionally.</p>",
        "id": 168280610,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560743607
    },
    {
        "content": "<p>Those instructions look good -- but would add a \"git fetch origin\" at the beginning</p>",
        "id": 168280849,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560744094
    },
    {
        "content": "<p><a href=\"http://wiki.hl7.org/index.php?title=GIT_conflict_resolution_documentation\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=GIT_conflict_resolution_documentation\">http://wiki.hl7.org/index.php?title=GIT_conflict_resolution_documentation</a></p>",
        "id": 168280997,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560744345
    },
    {
        "content": "<p>I thought we had moved to Confluence :)</p>",
        "id": 168281531,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560745255
    },
    {
        "content": "<p>not apparently for FHIR stuff. I don't have a place to put it for FMG, and I got pointed back to the old wiki. it's on FMG todo list</p>",
        "id": 168281546,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560745299
    }
]