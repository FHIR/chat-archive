[
    {
        "content": "<p>I am trying to build the IG publisher  (version 1.1.90-SNAPSHOT) using the freshly released org.hl7.fhir.core  5.6.2-SNAPSHOT, and I am getting this error and others about missing I&lt;something&gt; definitions:</p>\n<div class=\"codehilite\"><pre><span></span><code>INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /home/vassil/Work/FHIR/git/fhir-ig-publisher/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/Publisher.java:[234,29] cannot find symbol\n  symbol:   class IResourceValidator\n  location: package org.hl7.fhir.r5.utils\n[ERROR] /home/vassil/Work/FHIR/git/fhir-ig-publisher/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/Publisher.java:[235,48] package org.hl7.fhir.r5.utils.IResourceValidator does not exist\n</code></pre></div>\n<p>Is this a case of some cache that needs to be cleaned, or should I wait for the next IG-Publisher release?</p>",
        "id": 262827270,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1637953358
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"453078\">@David Otasek</span> is there a branch Vassil should look at?</p>",
        "id": 262830528,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637956474
    },
    {
        "content": "<p>I can't see one. I'll ask Mark if there's something in process. IG publisher should still build with 5.6.0 as is on the master branch.</p>",
        "id": 262831145,
        "sender_full_name": "David Otasek",
        "timestamp": 1637956986
    },
    {
        "content": "<p>Tagging <span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span></p>",
        "id": 262833289,
        "sender_full_name": "David Otasek",
        "timestamp": 1637959050
    },
    {
        "content": "<p>Yeah, it won't build against that.</p>",
        "id": 262833312,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637959074
    },
    {
        "content": "<p>Was the dependency in the ig-publisher project 5.6.2-SNAPSHOT?</p>",
        "id": 262833362,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637959096
    },
    {
        "content": "<p>or did you make that change?</p>",
        "id": 262833367,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637959101
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span></p>",
        "id": 262833372,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637959105
    },
    {
        "content": "<p>I'm looking now, and it appears as though master has the following dependency</p>",
        "id": 262833569,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637959335
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>&lt;properties&gt;\n\n    &lt;core_version&gt;5.6.0&lt;/core_version&gt;\n    &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n&lt;/properties&gt;\n</code></pre></div>",
        "id": 262833571,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637959336
    },
    {
        "content": "<p>Please build with that until we update to address changes in the new version.</p>",
        "id": 262833584,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637959354
    },
    {
        "content": "<p>Was there a reason you upped the dependency? A feature you required?</p>",
        "id": 262833591,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637959372
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span></p>",
        "id": 262833595,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637959376
    },
    {
        "content": "<p>I am working on some enhancements to the CapabilityStatement renderer, and want to keep my fork up to date with the latest master.</p>\n<p>I am listing the corresponding SNAPSHOT version as a dependency in the pom.xml of my publisher fork (also up to date with master) and use the local .m2/repository to pick up dependencies (after commenting out the online maven repo).</p>\n<p>Then I use the locally built publisher jar to test against various IGs.</p>",
        "id": 262835478,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1637961592
    },
    {
        "content": "<p>That approach will lead to it breaking sometimes. I suggest you stick with the published dependency, as it works. That is, unless you need a specific feature in the latest SNAPSHOT</p>",
        "id": 262835583,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961692
    },
    {
        "content": "<p>Is there an actual feature you need in the latest branch?</p>",
        "id": 262835607,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961723
    },
    {
        "content": "<p>Or were you just updating for the sake of 'getting the latest'</p>",
        "id": 262835642,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961740
    },
    {
        "content": "<p>If there's a feature you need I can assist</p>",
        "id": 262835648,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961760
    },
    {
        "content": "<p>lead to what breaking? This makes it difficult - you can either work on the trunk of core, and not be able to, or you have to work in an old branch and deal with conflict issues. Bad. We should update trunk of IG publisher when we update trunk of core</p>",
        "id": 262835666,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637961791
    },
    {
        "content": "<p>If we're pushing out SNAPSHOTS on the core that have changes in them, it can break downstream dependencies</p>",
        "id": 262835719,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961845
    },
    {
        "content": "<p>right. So we should fix that, not just leave other people hanging</p>",
        "id": 262835738,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637961867
    },
    {
        "content": "<p>People are not hanging</p>",
        "id": 262835744,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961875
    },
    {
        "content": "<p>?</p>",
        "id": 262835745,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961875
    },
    {
        "content": "<p>The master works</p>",
        "id": 262835747,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961878
    },
    {
        "content": "<p>master of what?</p>",
        "id": 262835754,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637961891
    },
    {
        "content": "<p>The master branch of IG publisher works</p>",
        "id": 262835758,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961901
    },
    {
        "content": "<p>if you go now and run it, it works fine</p>",
        "id": 262835770,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961912
    },
    {
        "content": "<p>if you pull master, make changes to the dependencies and then it breaks, that's not an issue with our release process</p>",
        "id": 262835785,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961933
    },
    {
        "content": "<p>I'm in the process of updating hapi to work with the latest version of the core</p>",
        "id": 262835791,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961947
    },
    {
        "content": "<p>then I will do publisher</p>",
        "id": 262835793,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961951
    },
    {
        "content": "<p>right. But if you working on a feature in core, and using the ig publisher to test it, you're saying that you can no longer work in master of core.</p>",
        "id": 262835816,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637961964
    },
    {
        "content": "<p>at which point I'll bump the dependency number and push to master</p>",
        "id": 262835837,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961969
    },
    {
        "content": "<p>I'm saying that what is on master works, and if someone wants to play on the bleeding edge, it will fail sometimes</p>",
        "id": 262835847,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961993
    },
    {
        "content": "<p>but master will always work</p>",
        "id": 262835851,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637961997
    },
    {
        "content": "<blockquote>\n<p>that's not an issue with our release process</p>\n</blockquote>\n<p>no. but it's an issue with our management process.</p>",
        "id": 262835855,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637962004
    },
    {
        "content": "<p>there is always a delay in updating downstream updates</p>",
        "id": 262835863,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962011
    },
    {
        "content": "<p>we did the release earlier today</p>",
        "id": 262835866,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962018
    },
    {
        "content": "<p>unless we mash publisher back into the same repo as core</p>",
        "id": 262835879,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962032
    },
    {
        "content": "<p>there will always be a delay</p>",
        "id": 262835881,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962040
    },
    {
        "content": "<p>and that's why I ask id <span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span> actually needs the updates that were put in from 5.6.0 to 5.6.2-SNAPSHOT</p>",
        "id": 262835892,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962067
    },
    {
        "content": "<p>no we can get the changes into master for ig-pub without having to do a release</p>",
        "id": 262835895,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637962074
    },
    {
        "content": "<p>yes, but that takes time</p>",
        "id": 262835944,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962091
    },
    {
        "content": "<p>and I\"m doing HAPI first</p>",
        "id": 262835948,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962099
    },
    {
        "content": "<p>and then I will move on to Publisher</p>",
        "id": 262835954,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962112
    },
    {
        "content": "<p>but in the meantime, publisher works exactly like it did 12 hours ago</p>",
        "id": 262835963,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962133
    },
    {
        "content": "<p>A delay is fine (to wait for the next release of the publisher), I was just asking if there was anything on my side that I was doing wrong.</p>",
        "id": 262835973,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1637962142
    },
    {
        "content": "<p>it shouldn't take time. You shouldn't be committing changes to core unless you know they're going to work in the dependencies...</p>",
        "id": 262835977,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637962145
    },
    {
        "content": "<p>I firmly disagree with that...</p>",
        "id": 262835988,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962165
    },
    {
        "content": "<p>That's why we have versioning</p>",
        "id": 262835991,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962172
    },
    {
        "content": "<p>otherwise it should be the same codebase</p>",
        "id": 262836003,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962202
    },
    {
        "content": "<p>I didn't say \"You shouldn't be committing changes to core unless they do  work in the dependencies\" I said \"going to\".  It's not a binary choice: they're different code bases for a reason, but that doesn't mean that we don't manage them together</p>",
        "id": 262836058,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637962234
    },
    {
        "content": "<p>It will work. There was an api change which requires an update to the code. My point is that the master branch that we provide to people of publisher works, and there was no reason for anyone to update any downstream dependencies...unless they needed a feature, which I don't think was the case here. Nevertheless, I will update the dependency of the publisher now</p>",
        "id": 262836186,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962424
    },
    {
        "content": "<p>thank you. because there is a reason if people are working on them together</p>",
        "id": 262836252,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637962457
    },
    {
        "content": "<p>FWIW, each codebase works by itself off master right now, I am just doing something that requires both codebases to be in complete sync. The specific issue I am having can be easily avoided if I wait for the new publisher version (which I will be doing in the future), and I am not being hampered by waiting for the next publisher release...</p>",
        "id": 262836299,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1637962536
    },
    {
        "content": "<p>I'm often in the same situation, but I just fix the code so it works when I am. Sometimes I do the commit before Mark, or sometimes he does. But that's difficult if you don't know what's going on</p>",
        "id": 262836380,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637962605
    },
    {
        "content": "<p>Also Grahame and I need to butt heads at least once a week on process to keep the spark alive in our relationship</p>",
        "id": 262836414,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962666
    },
    {
        "content": "<p>It's how we know the magic is still there</p>",
        "id": 262836462,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637962689
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> while I don't need a new feature from core, the rendering code is part of core, so to look at the output of the publisher, I am using the custom dependency.</p>",
        "id": 262836500,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1637962793
    },
    {
        "content": "<p>ALRIGHT! It is merged in</p>",
        "id": 262838799,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637965281
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/fhir-ig-publisher/pull/346\">https://github.com/HL7/fhir-ig-publisher/pull/346</a></p>",
        "id": 262838800,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637965281
    },
    {
        "content": "<p>If you do a fresh pull on publisher <span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span> it should work now</p>",
        "id": 262838817,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637965311
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> i'll get around to fixing HAPI on Monday</p>",
        "id": 262838915,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1637965425
    }
]