[
    {
        "content": "<p>We are working on a tool for creating IGs and we want to be able to download FHIR packages and place them in the user's cache given the canonical name of a package that is declared as a dependency.  As far as we can tell the IG publisher does this, but it isn't totally clear to us how.  Is there some central repository for getting these packages? Additionally we've heard that <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a> will \"soon\" be used for package management. Is this coming soon enough that we should just wait until that is operational rather than implementing a solution that'll be out of date soon?</p>",
        "id": 183167417,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1576077907
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 183170913,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576079873
    },
    {
        "content": "<ul>\n<li><span class=\"user-mention\" data-user-id=\"191335\">@Martijn Harthoorn</span></li>\n</ul>",
        "id": 183177221,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1576083614
    },
    {
        "content": "<p>yeah you don't want to reproduce my hack workarounds for not having <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a>. I'm going to transit to that as soon as this round of publication is done</p>",
        "id": 183201782,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576098460
    },
    {
        "content": "<p>btw, have you seen the publication requirements?</p>",
        "id": 183201913,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576098488
    },
    {
        "content": "<p>oh - but... note: there are two special versions \"dev\" and \"current\" which are not and will not be resolved using <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a></p>",
        "id": 183201999,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576098527
    },
    {
        "content": "<p>Thanks for the response. This is for SUSHI by the way, the reference implementation command line tool for FHIR Shorthand. So if <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a> is what will be used, is there documentation around using that?</p>\n<p>I have seen documentation about packages here: <a href=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification\" target=\"_blank\" title=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification\">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification</a> and here: <a href=\"https://confluence.hl7.org/display/FHIR/FHIR+Package+Cache\" target=\"_blank\" title=\"https://confluence.hl7.org/display/FHIR/FHIR+Package+Cache\">https://confluence.hl7.org/display/FHIR/FHIR+Package+Cache</a>, but I'm not sure if those pages are the \"publication requirements\".</p>\n<p>If \"dev\" and \"current\" are not going to be resolved using <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a>, how would one handle a package with those versions?</p>",
        "id": 183268421,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1576163909
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span>, <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a>, currently the same as <a href=\"http://packages.simplifier.org\" target=\"_blank\" title=\"http://packages.simplifier.org\">packages.simplifier.org</a>, is up and running. You can also use our command line tool Torinox to install packages to your FHIR cache (~/.fhir) or validate against them: <a href=\"https://simplifier.net/docs/torinox/Install\" target=\"_blank\" title=\"https://simplifier.net/docs/torinox/Install\">https://simplifier.net/docs/torinox/Install</a>. That's using a .NET library to work with the packages endpoint, which will likely become open source.</p>\n<p>There's not much documentation on building on the package registry yet, but I'd be happy to work with you on that. What I know is that you can find the list of available package versions at <code>https://packages.simplifier.net/hl7.fhir.us.core/</code>. And then you can download the actual package versions from the URLs listed there, like <code>https://packages.simplifier.net/hl7.fhir.us.core/3.1.0</code>. Any other endpoints you need?</p>\n<p>The URLs you mentioned are indeed the package spec. <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> might also have been referring to the IG publication requirements: <a href=\"https://confluence.hl7.org/display/FHIR/FHIR+Implementation+Guide+Publishing+Requirements\" target=\"_blank\" title=\"https://confluence.hl7.org/display/FHIR/FHIR+Implementation+Guide+Publishing+Requirements\">https://confluence.hl7.org/display/FHIR/FHIR+Implementation+Guide+Publishing+Requirements</a></p>\n<p>I guess we've limited the amount of imported packages from HL7 to stable ones right now, because these keep being overwritten? <span class=\"user-mention\" data-user-id=\"191335\">@Martijn Harthoorn</span></p>",
        "id": 183274877,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1576167510
    },
    {
        "content": "<p>Thanks Ward! It looks like those endpoints are exactly what we were looking for, so that's a huge help.</p>",
        "id": 183276615,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1576168595
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> have you actually documented the <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a> interface yet?</p>",
        "id": 183293413,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576179327
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span> </p>\n<ul>\n<li>\n<p>\"dev\" means your local build - so look in the local package cache for a version \"dev\" and fall back to \"current\". the IG publisher pushes a \"dev\" into your package cache when it builds</p>\n</li>\n<li>\n<p>\"current\" means to resolved based on the json behind this page: <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\" target=\"_blank\" title=\"https://fhir.github.io/auto-ig-builder/builds.html\">https://fhir.github.io/auto-ig-builder/builds.html</a> (rather than using <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a>)</p>\n</li>\n</ul>",
        "id": 183293567,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576179436
    },
    {
        "content": "<p>and other version should be fetched from <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a> though I currently have a mess in place until I get to that</p>",
        "id": 183293684,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576179541
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I don't think we have. We'll have to add it to <a href=\"http://simplifier.net\" target=\"_blank\" title=\"http://simplifier.net\">simplifier.net</a> in any case, but would you prefer a place on the confluence too?</p>",
        "id": 183562614,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1576512020
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> when you say that \"current\" is resolved using the json behind <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\" target=\"_blank\" title=\"https://fhir.github.io/auto-ig-builder/builds.html\">https://fhir.github.io/auto-ig-builder/builds.html</a>, I am a little confused by what that means. Is it similar to <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a>, where the URL can be combined with the canonical name of the package to get an endpoint that can be used to download a current version of the package? Or does one have to follow the link on <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\" target=\"_blank\" title=\"https://fhir.github.io/auto-ig-builder/builds.html\">https://fhir.github.io/auto-ig-builder/builds.html</a> to the relevant package and then download the current version from there?</p>",
        "id": 183569291,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1576515967
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> yes, on confluence would be good.</p>",
        "id": 183582197,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576524749
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"239822\">@Nick Freiter</span> how it works is that you access <a href=\"https://build.fhir.org/ig/qas.json\" target=\"_blank\" title=\"https://build.fhir.org/ig/qas.json\">https://build.fhir.org/ig/qas.json</a>. then, you sort that by date, and then iterate that json array from most recent to oldest to find either the <code>package-id</code> or canonical <code>url</code> that you are looking for the #current package for, and then fetch the package from <code>https://build.fhir.org/ig/[repo]/package.tgz</code></p>",
        "id": 183582585,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576525031
    },
    {
        "content": "<p>I'll add that to the documentation once <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> etc have documented <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a> on confluence</p>",
        "id": 183582691,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576525097
    },
    {
        "content": "<p>Ah ok, that makes sense, thanks for the help!</p>",
        "id": 183583210,
        "sender_full_name": "Nick Freiter",
        "timestamp": 1576525418
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> It's not on the Confluence yet, but here's the documentation for <a href=\"http://packages.simplifier.net\" target=\"_blank\" title=\"http://packages.simplifier.net\">packages.simplifier.net</a> (which currently equals <a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">packages.fhir.org</a>): <a href=\"https://simplifier.net/docs/package-server\" target=\"_blank\" title=\"https://simplifier.net/docs/package-server\">https://simplifier.net/docs/package-server</a></p>",
        "id": 187355156,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1580820497
    },
    {
        "content": "<p>I can copy what's relevant to the Confluence. Feedback already welcome.</p>",
        "id": 187355177,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1580820537
    },
    {
        "content": "<p>thanks for the doco. One important addition: the ability to subscribe to the package registry and learn about any new packages it has. Can we have a _lastUpdated that runs with no other parameters?</p>",
        "id": 187627769,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581070939
    },
    {
        "content": "<p>also, what does <code>prerelease</code> actually do? - what part of the package is it based on?</p>",
        "id": 187770834,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581278581
    },
    {
        "content": "<p>given the proposed definition of Package version response, I presume that means that the normal response only returns the latest package versions?</p>",
        "id": 187770848,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581278642
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span></p>",
        "id": 187770885,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581278645
    },
    {
        "content": "<p>seems to me that the search should also include Url in the json response</p>",
        "id": 187771021,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581278974
    },
    {
        "content": "<p>the response for <a href=\"http://packages.fhir.org/catalog?name=core\" target=\"_blank\" title=\"http://packages.fhir.org/catalog?name=core\">http://packages.fhir.org/catalog?name=core</a> suggests that we really need a parameter for 'serious=true' or something so that the weird experimental stuff in simplifier doesn't show up</p>",
        "id": 187772073,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581281123
    },
    {
        "content": "<p><a href=\"http://packages.fhir.org/catalog?name=corezxxx\" target=\"_blank\" title=\"http://packages.fhir.org/catalog?name=corezxxx\">http://packages.fhir.org/catalog?name=corezxxx</a></p>\n<p>I think that this should return an empty search, not a 404</p>",
        "id": 187772134,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581281224
    },
    {
        "content": "<p>the API has a weird mix of casing on names. e.g. upper camel case on search, lower camel case on versions</p>",
        "id": 187772575,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581282053
    },
    {
        "content": "<p>why not return fhirVersion on the versions end point?</p>",
        "id": 187772584,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581282074
    },
    {
        "content": "<p>in fact, why not just always return name + version + fhirversion + description + url?</p>",
        "id": 187772642,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581282131
    },
    {
        "content": "<p>a more serious issue: in the future, there will be FHIR packages that reference multiple FHIR versions, not just a single one</p>",
        "id": 187775545,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581286537
    },
    {
        "content": "<p>also, I thought that there was going to be a 'get all dependencies' operation?</p>",
        "id": 187775625,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581286573
    },
    {
        "content": "<p>Thanks for the feedback <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, I'll look at it with the team.</p>",
        "id": 187809156,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1581336327
    },
    {
        "content": "<p>Also, what mime type will we use for .tgz? application/tar+gzip ?</p>",
        "id": 187879525,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581390056
    },
    {
        "content": "<p>one more: the search needs to return the date of the package so the results can be sorted in case there is more than one match for a canonical URL</p>",
        "id": 188178219,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581655876
    },
    {
        "content": "<p>I've updated the package registry so that instead of listing which packages feeds are allowed to contain, it lists package patterns that are restricted to particular feeds.</p>",
        "id": 188609719,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582173308
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>  <span class=\"s2\">&quot;package-restrictions&quot;</span> <span class=\"err\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&quot;hl7.fhir.*&quot;</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;http://hl7.org/fhir/package-feed.xml&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;http://fhir.org/packages/package-feed.xml&quot;</span><span class=\"p\">],</span>\n    <span class=\"nt\">&quot;hl7.tx.*&quot;</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;http://terminology.hl7.org/package-feed.xml&quot;</span><span class=\"p\">],</span>\n    <span class=\"nt\">&quot;fhir.*&quot;</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;http://fhir.org/packages/package-feed.xml&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;http://fhir.org/guides/package-feed.xml&quot;</span><span class=\"p\">],</span>\n    <span class=\"nt\">&quot;hl7.au.fhir.*&quot;</span> <span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;http://hl7.org.au/fhir/package-feed.xml&quot;</span><span class=\"p\">]</span>\n  <span class=\"p\">}</span><span class=\"err\">,</span>\n</pre></div>",
        "id": 188609768,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582173382
    },
    {
        "content": "<p>let me know if that's a problem - I think you're not currently implementing that part <span class=\"user-mention\" data-user-id=\"191335\">@Martijn Harthoorn</span></p>",
        "id": 188609772,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582173403
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> further, the search has to return the canonical URL as well</p>",
        "id": 188633983,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582203016
    },
    {
        "content": "<p>Time for some responses <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>\n<blockquote>\n<p>One important addition: the ability to subscribe to the package registry and learn about any new packages it has. Can we have a _lastUpdated that runs with no other parameters?<br>\none more: the search needs to return the date of the package so the results can be sorted in case there is more than one match for a canonical URL</p>\n</blockquote>\n<p>Agree with the intent. Is this a search parameter for 'give me packages updated after X'? Or a field in the returned package/package version?</p>\n<blockquote>\n<p>also, what does prerelease actually do? - what part of the package is it based on?</p>\n</blockquote>\n<p>It's about the Semver versioning of the package. Anything 1.2.3 is ready for release anything 1.2.3-something isn't.<br>\nEg. <a href=\"https://packages.fhir.org/acme.base.r4\" target=\"_blank\" title=\"https://packages.fhir.org/acme.base.r4\">https://packages.fhir.org/acme.base.r4</a> only has a prerelease package version. Thus <a href=\"https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=true\" target=\"_blank\" title=\"https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=true\">https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=true</a> returns one result, <a href=\"https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=false\" target=\"_blank\" title=\"https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=false\">https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=false</a> returns none. The effect will be more obvious once <code>version</code> parameter is implemented.</p>\n<blockquote>\n<p>given the proposed definition of Package version response, I presume that means that the normal response only returns the latest package versions?</p>\n</blockquote>\n<p>No, without the <code>version</code> parameter it just returns one entry for each package entity, not a specific version. Next you could see what versions are available with <a href=\"https://simplifier.net/docs/package-server/VersionListing\" target=\"_blank\" title=\"https://simplifier.net/docs/package-server/VersionListing\">https://simplifier.net/docs/package-server/VersionListing</a> and pick the highest (<code>dist-tags</code> has <code>latest</code>). With the <code>version</code> parameter it returns one entry for each package version, so multiple entries per package entity.</p>\n<blockquote>\n<p>seems to me that the search should also include Url in the json response</p>\n</blockquote>\n<p>Which URL would you like? <code>self</code> url for the query you've done? Or url per package/package version? Both could be a convenience, but also easily constructed right now.</p>\n<blockquote>\n<p>the response for <a href=\"http://packages.fhir.org/catalog?name=core\" target=\"_blank\" title=\"http://packages.fhir.org/catalog?name=core\">http://packages.fhir.org/catalog?name=core</a> suggests that we really need a parameter for 'serious=true' or something so that the weird experimental stuff in simplifier doesn't show up</p>\n</blockquote>\n<p>Well, that's what the default of <code>prerelease=false</code> is for. And reserved namespaces like <code>hl7.*</code>. But this is something every package registry with user generated content has (NPM, PyPi, etc.).<br>\nWe can do better education of what the impact is of making a non-prerelease package, but we can't do manual curation of what is and what isn't up to our standards.<br>\nWe also at some point use information like 'how often do people depend on this package' to order the results (especially when using Elastic).</p>\n<blockquote>\n<p><a href=\"http://packages.fhir.org/catalog?name=corezxxx\" target=\"_blank\" title=\"http://packages.fhir.org/catalog?name=corezxxx\">http://packages.fhir.org/catalog?name=corezxxx</a><br>\nI think that this should return an empty search, not a 404</p>\n</blockquote>\n<p>Correct, we'll fix that.</p>\n<blockquote>\n<p>the API has a weird mix of casing on names. e.g. upper camel case on search, lower camel case on versions</p>\n</blockquote>\n<p>Correct, we'll harmonize that. NPM seems to use lowercase: <a href=\"http://registry.npmjs.com/-/v1/search?text=fhir&amp;size=20\" target=\"_blank\" title=\"http://registry.npmjs.com/-/v1/search?text=fhir&amp;size=20\">http://registry.npmjs.com/-/v1/search?text=fhir&amp;size=20</a></p>\n<blockquote>\n<p>why not return fhirVersion on the versions end point?<br>\nGrahame Grieve: in fact, why not just always return name + version + fhirversion + description + url?</p>\n</blockquote>\n<p>Because that endpoint was trying to stay aligned with npm conventions, like on <a href=\"http://registry.npmjs.com/fhir/\" target=\"_blank\" title=\"http://registry.npmjs.com/fhir/\">http://registry.npmjs.com/fhir/</a> or <a href=\"http://registry.npmjs.com/fhir/1.0.2\" target=\"_blank\" title=\"http://registry.npmjs.com/fhir/1.0.2\">http://registry.npmjs.com/fhir/1.0.2</a>. But we'd be OK with adding/deviating. But we should then probably also document our deviation on <a href=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification\" target=\"_blank\" title=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification\">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification</a></p>\n<blockquote>\n<p>a more serious issue: in the future, there will be FHIR packages that reference multiple FHIR versions, not just a single one</p>\n</blockquote>\n<p>Our tools do not support this within one package version (it's ok within a package name, for different package versions to have different FHIR versions), we only store the first fhirVersion encountered.<br>\nWe also think it's undesirable within one package version. Eg. Forge for example only supports one FHIR version per application. Double FHIR versions will break using this package. Same for our other tools.<br>\nThe <a href=\"https://wiki.hl7.org/FHIR_NPM_Package_Spec\" target=\"_blank\" title=\"https://wiki.hl7.org/FHIR_NPM_Package_Spec\">package spec</a> also states: \"So this should only be seen in old balloted packages\".</p>\n<blockquote>\n<p>I thought that there was going to be a 'get all dependencies' operation?</p>\n</blockquote>\n<p>Perhaps we'll offer this as a extra feature at some point, but for now that's easy to get iteratively. Get dependencies for package, get dependencies for their packages, etc.</p>\n<blockquote>\n<p>what mime type will we use for .tgz? application/tar+gzip ?</p>\n</blockquote>\n<p>We currently use <code>application/tar+gzip</code> when returning the package on <a href=\"https://packages.fhir.org/acme.base/0.0.2\" target=\"_blank\" title=\"https://packages.fhir.org/acme.base/0.0.2\">https://packages.fhir.org/acme.base/0.0.2</a>. NPM seems to use <code>application/octet-stream</code> when GETing <a href=\"https://registry.npmjs.org/fhir/-/fhir-1.0.2.tgz\" target=\"_blank\" title=\"https://registry.npmjs.org/fhir/-/fhir-1.0.2.tgz\">https://registry.npmjs.org/fhir/-/fhir-1.0.2.tgz</a>. Stick with <code>application/tar+gzip</code>?</p>\n<p>I'll discuss the canonical and package patterns with <span class=\"user-mention\" data-user-id=\"191335\">@Martijn Harthoorn</span>.</p>",
        "id": 188657675,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582219141
    },
    {
        "content": "<blockquote>\n<p>Is this a search parameter for 'give me packages updated after X'? Or a field in the returned package/package version?</p>\n</blockquote>\n<p>Definitely \"give me packages updated after X\" - for now, I'm doing http://packages.fhir.org?lastUpdated=[xml-date]</p>",
        "id": 188674890,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582230799
    },
    {
        "content": "<blockquote>\n<p>what does prerelease actually do</p>\n</blockquote>\n<p>ok we need to add that to the documentation</p>",
        "id": 188674926,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582230824
    },
    {
        "content": "<blockquote>\n<p>No, without the version parameter it just returns one entry for each package entity</p>\n</blockquote>\n<p>but it includes Description and FHIRVersion, which are Package version specific. So what are these other than the latest version?</p>",
        "id": 188675079,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582230944
    },
    {
        "content": "<blockquote>\n<p>Which URL would you like? self url for the query you've done? Or url per package/package version?</p>\n</blockquote>\n<p>Url per package version</p>",
        "id": 188675137,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582230971
    },
    {
        "content": "<blockquote>\n<p>Well, that's what the default of prerelease=false is for.</p>\n</blockquote>\n<p>I don't see how prerelease=false makes any difference to that query</p>",
        "id": 188675261,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582231084
    },
    {
        "content": "<blockquote>\n<p>Correct, we'll harmonize that. NPM seems to use lowercase</p>\n</blockquote>\n<p>yes lowercase please</p>",
        "id": 188675275,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582231102
    },
    {
        "content": "<blockquote>\n<p>But we'd be OK with adding/deviating.</p>\n</blockquote>\n<p>great. I'm ok to add extra stuff as a deviation. And it turns out I can't function with Url in there</p>",
        "id": 188675307,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582231145
    },
    {
        "content": "<blockquote>\n<p>But we should then probably also document our deviation on <a href=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification\" target=\"_blank\" title=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification\">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification</a></p>\n</blockquote>\n<p>I think it should be a separate page. I'll add a page for the package server documentation</p>",
        "id": 188675321,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582231166
    },
    {
        "content": "<blockquote>\n<p>Our tools do not support this within one package version </p>\n</blockquote>\n<p>Well, you'll have to, because that's coming. but irrespective of your tooling limitation, the API can't be limited like that</p>",
        "id": 188675391,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582231209
    },
    {
        "content": "<blockquote>\n<p>We also think it's undesirable within one package version</p>\n</blockquote>\n<p>I don't like it either, but that doesn't make it something that goes away</p>",
        "id": 188675413,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582231240
    },
    {
        "content": "<blockquote>\n<p>The package spec also states: \"So this should only be seen in old balloted packages\".</p>\n</blockquote>\n<p>where's that? I can't find it. </p>\n<p>But what will only be seen in is FHIR Versions that aren't in the enumeration</p>",
        "id": 188675551,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582231335
    },
    {
        "content": "<blockquote>\n<p>Stick with application/tar+gzip?</p>\n</blockquote>\n<p>yes</p>",
        "id": 188675569,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582231355
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675079\" title=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675079\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>No, without the version parameter it just returns one entry for each package entity</p>\n</blockquote>\n<p>but it includes Description and FHIRVersion, which are Package version specific. So what are these other than the latest version?</p>\n</blockquote>\n<p>Fair point, I'll check</p>",
        "id": 188931428,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582555142
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675137\" title=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675137\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Which URL would you like? self url for the query you've done? Or url per package/package version?</p>\n</blockquote>\n<p>Url per package version</p>\n</blockquote>\n<p>OK, but low priority. As said this can be easily constructed: <code>&lt;package endpoint&gt;/&lt;package name&gt;/&lt;package version&gt;</code></p>",
        "id": 188931843,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582555417
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675261\" title=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675261\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Well, that's what the default of prerelease=false is for.</p>\n</blockquote>\n<p>I don't see how prerelease=false makes any difference to that query</p>\n</blockquote>\n<p><code>prerelease=false</code> excludes all package versions where the user has indicated it's not ready for the public. If they don't indicate that correctly we could possibly educate better what the impact of that is, but I think we'll have to accept there will be different types of packages in there and work on ways of surfacing the best. We can't vet every package of an open community other than on technical correctness.</p>",
        "id": 188932240,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582555659
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675307\" title=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675307\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>But we'd be OK with adding/deviating.</p>\n</blockquote>\n<p>great. I'm ok to add extra stuff as a deviation. And it turns out I can't function with Url in there</p>\n</blockquote>\n<p>I assume you mean <strong>without</strong> instead of <strong>with</strong>. Can't you build it by the above convention?</p>",
        "id": 188932913,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582556059
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675551\" title=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675551\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>The package spec also states: \"So this should only be seen in old balloted packages\".</p>\n</blockquote>\n<p>where's that? I can't find it. </p>\n<p>But what will only be seen in is FHIR Versions that aren't in the enumeration</p>\n</blockquote>\n<p>Well, seems I got that from the old <a href=\"https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest\" target=\"_blank\" title=\"https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest\">https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest</a>.<br>\nBut that came from an edit of yours that never made it to Confluence since it was done after migration: <a href=\"https://wiki.hl7.org/w/index.php?title=FHIR_NPM_Package_Spec&amp;type=revision&amp;diff=166860&amp;oldid=166839\" target=\"_blank\" title=\"https://wiki.hl7.org/w/index.php?title=FHIR_NPM_Package_Spec&amp;type=revision&amp;diff=166860&amp;oldid=166839\">https://wiki.hl7.org/w/index.php?title=FHIR_NPM_Package_Spec&amp;type=revision&amp;diff=166860&amp;oldid=166839</a>.<br>\n<code>fhirVersions</code> parameter didn't make it to <a href=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagemanifest\" target=\"_blank\" title=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagemanifest\">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagemanifest</a> at all.</p>\n<p>Can you elaborate on in what case this will appear? When a user started building on a pre-release version of the FHIR spec (eg <code>4.3</code>) that, before the user published the package (because packages can't be changed after), was officially approved as being the new stable release of the FHIR spec (eg <code>5.0</code>)?</p>",
        "id": 188934050,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582556846
    },
    {
        "content": "<blockquote>\n<p>this can be easily constructed</p>\n</blockquote>\n<p>yes. I'll do that</p>",
        "id": 188958518,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582573145
    },
    {
        "content": "<blockquote>\n<p>I assume you mean without instead of with</p>\n</blockquote>\n<p>yes, you're right</p>",
        "id": 188958671,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582573262
    },
    {
        "content": "<p>but in fact, what I can't live without is the canonical URL (not the package download URL)</p>",
        "id": 188959119,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582573576
    },
    {
        "content": "<blockquote>\n<p>got that from the old <a href=\"https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest\" target=\"_blank\" title=\"https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest\">https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest</a>.</p>\n</blockquote>\n<p>oops. I hope I haven't done that much.</p>",
        "id": 188959153,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582573616
    },
    {
        "content": "<p>but you're conflating 2 issues. fhirVersions does explicitly allow for multiple versions, but it is not the only way for multiple versions to appear</p>",
        "id": 188959643,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582573959
    },
    {
        "content": "<p>fhirVersions will appear when the package is not based on any maintained version of the spec - so the pre-release versions e.g. 4.2.0 (current r5 candidate) if an IG is published based on that</p>",
        "id": 188959883,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582574100
    },
    {
        "content": "<p>multiple versions is planned for the future, and will be possible whether fhirVersions is populated or not</p>",
        "id": 188959916,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582574124
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><span class=\"s2\">&quot;dependencies&quot;</span><span class=\"err\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&quot;hl7.fhir.r3.core&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;3.0.2&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;hl7.fhir.r4.core&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;4.0.1&quot;</span>\n <span class=\"p\">}</span><span class=\"err\">,</span>\n</pre></div>",
        "id": 188959942,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582574146
    },
    {
        "content": "<p>OK thanks, so <code>fhirVersions</code> in the package manifest is optional and only filled when a package depends on a non-final FHIR spec version which doesn't have a package. Normally the FHIR Version(s) are derived from the dependencies on core packages.<br>\nWhy is this dependency on multiple FHIR Core versions going to happen in the future? Shouldn't these project/IG/package maintainers just maintain both a non-deprecated r3 and r4 version of their project/IG/package side-by-side, rather than rolling them into one?</p>",
        "id": 189015481,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582634166
    },
    {
        "content": "<p>we had a discussion in the lead up to publishing R4 when we changed <code>ImplementationGuide.fhirVersion</code> cardinality from 1..1 to 1..*. A typical IG contains a great deal of content that is the same for both versions (and the % will increase over time). Consensus in the room was that implementers might want to maintain both a non-deprecated r3 and r4 version of their project/IG/package side-by-side but there were real advantages to having a single IG</p>",
        "id": 189053160,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582659687
    },
    {
        "content": "<p>but the tooling doesn't support it yet</p>",
        "id": 189053175,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582659696
    },
    {
        "content": "<p>The problem is we often have URLs that point to stuff inside a file - and the syntax for that uses '#'</p>",
        "id": 189060433,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582664280
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 189061216,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1582664829
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/189060433\" title=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/189060433\">said</a>:</p>\n<blockquote>\n<p>The problem is we often have URLs that point to stuff inside a file - and the syntax for that uses '#'</p>\n</blockquote>\n<p>You probably meant that to go here: <a href=\"#narrow/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions\" title=\"#narrow/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions\">https://chat.fhir.org/#narrow/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions</a></p>",
        "id": 189099344,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582710717
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/189053160\" title=\"#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/189053160\">said</a>:</p>\n<blockquote>\n<p>we had a discussion in the lead up to publishing R4 when we changed <code>ImplementationGuide.fhirVersion</code> cardinality from 1..1 to 1..*. A typical IG contains a great deal of content that is the same for both versions (and the % will increase over time). Consensus in the room was that implementers might want to maintain both a non-deprecated r3 and r4 version of their project/IG/package side-by-side but there were real advantages to having a single IG</p>\n</blockquote>\n<p>OK thanks for the background. I wonder what those advantages were and if they warrant the added complexity. It feels like a software project depending on multiple versions of a language/framework, which seems like a recipe for disaster and hard to support in tooling.<br>\nBut perhaps we can nonetheless index it in Elastic, when time comes, and show it in the API.</p>",
        "id": 189100873,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582712023
    },
    {
        "content": "<p>well, it's a case of moving the deck chairs around</p>",
        "id": 189105979,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582716522
    },
    {
        "content": "<p>I share <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span>'s concerns about supporting multiple versions of the same conformance resources in a single IG.  I expect it will introduce a lot of complexity.  That said, just so I understand the scope of the proposed capability -- would this still only allow a <em>single</em> version of a resource <em>per FHIR version</em>, or would it also allow multiple versions within the same FHIR version (e.g., support MyR4PatientProfile version 1.0.0 and MyR4PatientProfile version 2.0.0 in the same package)?</p>",
        "id": 189121441,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1582729126
    },
    {
        "content": "<p>it depends. Some examples might be applicable to multiple versions. Terminology resources probably will be. But profiles won't be. The point is that there <em>is</em> that complexity already</p>",
        "id": 189135762,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582737685
    },
    {
        "content": "<p>Grahame, the package server reports these issues with the feed:<br>\nfeed item hl7.fhir.us.Davinci-drug-formulary-0.2.0 is actually version 0.1.0, which was already on the server.</p>",
        "id": 189892313,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1583501460
    },
    {
        "content": "<p>feed item hl7.fhir.us.qicore-3.0.1 is actually version 2.0.0 (according to package.json) and is already on the server.</p>",
        "id": 189892355,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1583501503
    },
    {
        "content": "<p>feed item hl7.fhir.<strong>uv</strong>.bulkdata-0.1.0, contains a packages with the name 'hl7.fhir.<strong>us</strong>.bulkdata'</p>",
        "id": 189895203,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1583503578
    },
    {
        "content": "<blockquote>\n<p>feed item hl7.fhir.us.Davinci-drug-formulary-0.2.0 is actually version 0.1.0</p>\n</blockquote>\n<p>crap. that's a manual error by Lynn</p>",
        "id": 189933891,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1583528609
    },
    {
        "content": "<p>that should be sorted</p>",
        "id": 190354806,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1583985275
    },
    {
        "content": "<p>Grahame, some feedback from the package importer:</p>\n<ul>\n<li>listed package hl7.fhir.us.dme-orders-0.1.1, actually contains version 0.1.0</li>\n<li>listed package hl7.fhir.us.qicore-3.0.1 is actually version 2.0.0</li>\n<li>listed package hl7.fhir.uv.bulkdata-0.1.0 is actually hl7.fhir.us.bulkdata-0.1.0</li>\n</ul>",
        "id": 198642209,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1590392579
    },
    {
        "content": "<p>I</p>",
        "id": 198642243,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1590392613
    },
    {
        "content": "<p>I'll look at it</p>",
        "id": 198642246,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1590392619
    },
    {
        "content": "<p>And this package: hl7.fhir.us.dme-orders-0.1.0 refers to hl7.fhir.us.core-current. That is not a thing afaik.</p>",
        "id": 198642558,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1590392876
    },
    {
        "content": "<p>ok fixed</p>",
        "id": 200042897,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1591564800
    },
    {
        "content": "<p>this package is listed as hl7.fhir.us.dme-orders 0.1.1, but contains 0.1.0.</p>",
        "id": 200195780,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1591692105
    },
    {
        "content": "<p>I thought I fixed this yesterday</p>",
        "id": 200208877,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1591701013
    },
    {
        "content": "<p>There is still one package in the HL7 feed, that is listed as <strong>hl7.fhir.uv.bulkdata</strong>-0.1.0, but the package manifest claims <strong>hl7.fhir.us.bulkdata</strong><br>\nThe problem being: uv -- us</p>",
        "id": 209617914,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1599732190
    },
    {
        "content": "<p>where is it listed as uv.bulkdata?</p>",
        "id": 209623720,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599736352
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/package-feed.xml\">http://hl7.org/fhir/package-feed.xml</a></p>",
        "id": 209625395,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1599737583
    },
    {
        "content": "<p>&lt;item&gt;<br>\n&lt;title&gt;hl7.fhir.uv.bulkdata#0.1.0&lt;/title&gt;</p>\n<p>&lt;link&gt;http://hl7.org/fhir/us/bulkdata/2019May/package.tgz&lt;/link&gt;</p>",
        "id": 209625464,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1599737640
    },
    {
        "content": "<p>oh. hmm.</p>",
        "id": 209674048,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599755900
    },
    {
        "content": "<p>ok fixed.</p>",
        "id": 209961835,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600053192
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191335\">@Martijn Harthoorn</span> Starter for the call on how to put jurisdiction in <a href=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagemanifest\">package manifest</a>. My proposal:</p>\n<ul>\n<li>Add an optional (cause currently not filled) <code>jurisdiction</code> value to package manifest with value as 2-letter country code from <a href=\"https://www.iso.org/iso-3166-country-codes.html\">ISO 3166</a> or <code>UV</code> for universal.</li>\n</ul>",
        "id": 210008179,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1600091800
    },
    {
        "content": "<p>Ah, Grahame, you already created <a href=\"http://jira.hl7.org/browse/FHIR-28342\">FHIR#28342</a></p>",
        "id": 210009296,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1600092278
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Now that ticket has been Resolved, can you help on good example values for jurisdiction?</p>\n<ul>\n<li><code>urn:iso:std:iso:3166#US</code> (from us.core)</li>\n<li>What would the core FHIR packages have? <code>?#UV</code>?</li>\n<li>Any other exotic examples?</li>\n</ul>\n<p>This will allow us to put some test data in an index to develop the UI, since getting the real data exposed will not be on time for that.</p>",
        "id": 210099957,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1600156348
    },
    {
        "content": "<p>We'd also need a full list of all possible values with mapping to human readable names. Any thoughts how to get that?</p>",
        "id": 210149393,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1600185611
    },
    {
        "content": "<p><a href=\"https://en.wikipedia.org/wiki/ISO_3166-2\">https://en.wikipedia.org/wiki/ISO_3166-2</a> ?</p>",
        "id": 210150994,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1600186310
    },
    {
        "content": "<p>This should do for a list:</p>",
        "id": 210221120,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600230507
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/2WjLpfMqHvQsq3gyV6WrBalW/ValueSet-jurisdiction-common.json\">ValueSet-jurisdiction-common.json</a></p>",
        "id": 210221221,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600230692
    },
    {
        "content": "<p>here's an example package.json:</p>",
        "id": 210221227,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600230707
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;tools-version&quot;</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;fhir.ig&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;license&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;CC0-1.0&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;author&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;FHIR Project&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;version&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1.0.0&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;hl7.fhir.uv.smart-app-launch&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/smart-app-launch/1.0.0&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;canonical&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/smart-app-launch&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;dependencies&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&quot;hl7.fhir.r4.core&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;4.0.1&quot;</span>\n  <span class=\"p\">},</span>\n  <span class=\"nt\">&quot;fhirVersions&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"s2\">&quot;4.0.0&quot;</span>\n  <span class=\"p\">],</span>\n  <span class=\"nt\">&quot;jurisdiction&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://unstats.un.org/unsd/methods/m49/m49.htm#001&quot;</span>\n<span class=\"p\">}</span>\n</code></pre></div>",
        "id": 210221268,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600230728
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, that will work!</p>",
        "id": 210313974,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1600286989
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> A questions on the precise codes for jurisdiction:</p>\n<ul>\n<li>Above you suggest to use <a href=\"http://hl7.org/fhir/ValueSet/jurisdiction-common\">http://hl7.org/fhir/ValueSet/jurisdiction-common</a>, which I documented here: <a href=\"https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-Packagemanifest\">https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-Packagemanifest</a> (to apply <a href=\"http://jira.hl7.org/browse/FHIR-28342\">FHIR#28342</a>)</li>\n<li>However, <a href=\"https://www.hl7.org/fhir/implementationguide-definitions.html#ImplementationGuide.jurisdiction\">ImplementationGuide.jurisdiction</a> uses <a href=\"http://hl7.org/fhir/ValueSet/jurisdiction\">http://hl7.org/fhir/ValueSet/jurisdiction</a> and is even Extensible. Under <a href=\"https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-PackageManifestpropertiesforIGs\">https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-PackageManifestpropertiesforIGs</a> I, for now, added that these values need to align but clearly that won't be possible in all cases. Should we add that if the code is not in <a href=\"http://hl7.org/fhir/ValueSet/jurisdiction-common\">http://hl7.org/fhir/ValueSet/jurisdiction-common</a> they should either change it, map it or leave the package jurisdiction empty?</li>\n</ul>",
        "id": 243150869,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1624017961
    },
    {
        "content": "<p>Also, can you confirm you have added <code>jurisdiction</code> to the package.json for every previously published package where you want it, for the one-time exception to reindex those?<br>\n(and of course the process in place to add them to new ones)</p>",
        "id": 243158367,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1624021965
    },
    {
        "content": "<p>since <a href=\"http://hl7.org/fhir/ValueSet/jurisdiction-common\">http://hl7.org/fhir/ValueSet/jurisdiction-common</a> doesn't exist, I can only imagine I meant <a href=\"http://hl7.org/fhir/ValueSet/jurisdiction\">http://hl7.org/fhir/ValueSet/jurisdiction</a></p>",
        "id": 243267752,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1624134862
    },
    {
        "content": "<p>ignore any value not in <a href=\"http://hl7.org/fhir/ValueSet/jurisdiction\">http://hl7.org/fhir/ValueSet/jurisdiction</a></p>",
        "id": 243267761,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1624134877
    },
    {
        "content": "<p>yes, Hl7 guides do: </p>\n<div class=\"codehilite\"><pre><span></span><code>&quot;jurisdiction&quot;: &quot;urn:iso:std:iso:3166#US&quot;\n</code></pre></div>\n<p>Other guides may, if the jurisdiction is declared in the implementation guide</p>",
        "id": 243267874,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1624135028
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> It does exist: <a href=\"https://registry.fhir.org/results?query=%22http%3A%2F%2Fhl7.org%2Ffhir%2FValueSet%2Fjurisdiction-common%22&amp;latestFilter=true\">https://registry.fhir.org/results?query=%22http%3A%2F%2Fhl7.org%2Ffhir%2FValueSet%2Fjurisdiction-common%22&amp;latestFilter=true</a></p>",
        "id": 243409084,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1624293537
    },
    {
        "content": "<p>ok I didn't know about that. Sure, you can use that one - ignore any code not in the common jurisdictions</p>",
        "id": 243429445,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1624302905
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Perfect, thanks! (And: nice tool, huh, that <a href=\"http://registry.fhir.org\">registry.fhir.org</a> <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span> )</p>",
        "id": 243540471,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1624378559
    },
    {
        "content": "<p>Added: <a href=\"https://confluence.hl7.org/pages/diffpagesbyversion.action?pageId=35718629&amp;selectedPageVersions=10&amp;selectedPageVersions=11\">https://confluence.hl7.org/pages/diffpagesbyversion.action?pageId=35718629&amp;selectedPageVersions=10&amp;selectedPageVersions=11</a></p>",
        "id": 243540852,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1624378714
    }
]