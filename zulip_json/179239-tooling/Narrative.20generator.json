[
    {
        "content": "<p>Hey there!<br>\nI'm struggling to find a good way to generate all the narratives of a given bundle. It looks like the LH7-Validator (validator_cli.jar) should be able to do so with the \"-narrative\" option, but I always get an Error: <br>\n<code>org.hl7.fhir.r5.model.Bundle cannot be cast to org.hl7.fhir.r5.model.DomainResource</code><br>\nMy call looks like this:</p>\n<div class=\"codehilite\"><pre><span></span><code> -version 4.0.1 -recurse -no-extensible-binding-warnings Source.xml -narrative -output Target.narrative.xml\n</code></pre></div>\n<p>Could someone point me to my mistake here?</p>\n<p>Are there any (better?) other approaches one could use to generate all narrative from a bundle?</p>\n<p>Thanks for reading so far.</p>",
        "id": 238432068,
        "sender_full_name": "Dietrich Haag",
        "timestamp": 1620804089
    },
    {
        "content": "<p>It sounds like a bug, I've added it to my list. but I don't know of a better way other than to write java code</p>",
        "id": 238465623,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620822885
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191375\">@Alexander Henket</span> Don't you have a nice XSLT narrative generator?</p>",
        "id": 238476760,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1620827451
    },
    {
        "content": "<p>I do: <a href=\"https://github.com/Nictiz/HL7-mappings/blob/master/ada_2_fhir/fhir/NarrativeGenerator.xsl\">https://github.com/Nictiz/HL7-mappings/blob/master/ada_2_fhir/fhir/NarrativeGenerator.xsl</a></p>\n<p>Doesn't do all resources/extensions/modifierExtensions. It skips resources it doesn't know and messages for them. I should probably message for unknown modifierExtensions but don't yet</p>\n<p>Note the context of this: it is aimed at supporting narrative generation for a known set of resources/profiles. It was born out of inability to find a multi lingual narrative generation: this takes its labels from an externral multi lingual setup.</p>\n<p>Supported is STU3 and XML only:</p>\n<p>self::f:AllergyIntolerance | self::f:Appointment | self::f:CarePlan | self::f:CareTeam | <br>\nself::f:Composition | self::f:Condition | self::f:Consent | self::f:Coverage | self::f:Device | self::f:DeviceRequest |<br>\nself::f:DeviceUseStatement | self::f:DiagnosticReport | self::f:DocumentManifest | self::f:DocumentReference | <br>\nself::f:Encounter | self::f:EpisodeOfCare | self::f:Flag | self::f:Goal | self::f:Immunization | <br>\nself::f:ImmunizationRecommendation | self::f:List | self::f:Location | self::f:Media | self::f:Medication | <br>\nself::f:MedicationAdministration | self::f:MedicationDispense | self::f:MedicationRequest | <br>\nself::f:MedicationStatement | self::f:NutritionOrder | self::f:Observation | <br>\nself::f:Organization | self::f:Patient | self::f:Person | self::f:Practitioner | self::f:PractitionerRole | <br>\nself::f:Procedure | self::f:ProcedureRequest | self::f:Questionnaire | self::f:QuestionnaireResponse | <br>\nself::f:RelatedPerson | self::f:Slot | self::f:Specimen | self::f:Task</p>",
        "id": 238477128,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1620827596
    },
    {
        "content": "<p>fixed next release</p>",
        "id": 238701624,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620952703
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"390283\">@Dietrich Haag</span></p>",
        "id": 238701632,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620952715
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191375\">@Alexander Henket</span> <br>\nThanks for the input. We need R4 here, so it's not applicable for us.</p>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span><br>\nThanks for fixing. Will have a look on it now.</p>",
        "id": 239055190,
        "sender_full_name": "Dietrich Haag",
        "timestamp": 1621242238
    }
]