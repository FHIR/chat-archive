[
    {
        "content": "<p>Hi. Is it only me that cannot create a profile from CarePlan?</p>",
        "id": 176379525,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569252690
    },
    {
        "content": "<p>Hi Jose! In Forge STU3 22.0 I indeed get:</p>\n<div class=\"codehilite\"><pre><span></span>[Severity: Error] [Code: Invalid] http://hl7.org/fhir/StructureDefinition/SimpleQuantity (Element Quantity has an invalid non-empty sliceName &#39;SimpleQuantity&#39;. Root element definitions cannot introduce slice names.)\n</pre></div>\n\n\n<p>In Forge R4 22.1 I can create the profile without problems. Is this the same you're seeing?</p>",
        "id": 176440422,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1569311680
    },
    {
        "content": "<p>No, I'm seeing something different.</p>",
        "id": 176455100,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569325561
    },
    {
        "content": "<p>Actually my issue is cool: I can create a profile of careplan without issues, UNLESS i have in my resource folder a logical model for care plan.</p>",
        "id": 176455167,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569325607
    },
    {
        "content": "<p>so, the moment I delete my careplan logical model from the folder and clicked Refresh on Forge, it works again.</p>",
        "id": 176455183,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569325632
    },
    {
        "content": "<p>That is strange, but I guess it is due to some lookup behaviour....</p>",
        "id": 176455206,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569325656
    },
    {
        "content": "<p>Interesting, which version of Forge is this (eg. in title bar)?</p>",
        "id": 176478754,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1569341046
    },
    {
        "content": "<blockquote>\n<p>logical model for care plan.</p>\n</blockquote>\n<p>Could you share this model?</p>",
        "id": 176565459,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1569418991
    },
    {
        "content": "<p>I have R22.1 Atlanta</p>",
        "id": 176604760,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569444987
    },
    {
        "content": "<p>and I found out the cause for the issue.</p>",
        "id": 176604768,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569444996
    },
    {
        "content": "<p>Since my logical model was made from changing the CarePlan structureDefinition.kind to \"logical\", i only changed the elements and forgot to change the url</p>",
        "id": 176604822,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569445056
    },
    {
        "content": "<p>so i had a logical model whose url was still  <br>\n&lt;url value=\"<a href=\"http://hl7.org/fhir/StructureDefinition/CarePlan\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/CarePlan\">http://hl7.org/fhir/StructureDefinition/CarePlan</a>\" /&gt;</p>",
        "id": 176604878,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569445083
    },
    {
        "content": "<p>when this is there, i can not create a profile on care plan.</p>",
        "id": 176604892,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569445104
    },
    {
        "content": "<p>Not sure if this is something you prefer to change, or if I should have just informed myself better.<br>\nIn my opinion, it is not a straight reasoning to figure out what happened, and the error message does not lead me to the right action.</p>",
        "id": 176605064,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1569445216
    },
    {
        "content": "<p>Ah, that explains! Profiles are resolved via the canonical url. So invalid match usually indicates an url conflict. Maybe we could add some additional validation logic to the <code>SnapshotGenerator</code> to verify the actually resolved profiles and e.g. generate a warning if the resolver returns a logical model when that isn't expected/valid.</p>",
        "id": 176641032,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1569489626
    }
]