[
    {
        "content": "<p>I was working on some profiles in Forge and noticed that mustSupport is in some cases not present in the differential though it is present in the snapshot, which seems to lead to some strange behavior. It can be reproduced as follows:</p>\n<ol>\n<li>Take the IPS AllergyIntolerance profile StructureDefinition from the <a href=\"https://simplifier.net/packages/hl7.fhir.uv.ips/1.0.0\">IPS 1.0.0 FHIR package</a>.</li>\n<li>Manually delete the <code>snapshot</code> element.</li>\n<li>Open the profile in Forge and switch on \"Save snapshot component\"</li>\n<li>Make some inconsequential change and save the changes to ensure that the snapshot has been generated.</li>\n</ol>\n<p>I then observe the following:</p>\n<ol>\n<li>The \"mustSupport\" flag on <code>AllergyIntolerance.code</code> is now gone in the differential, although it was there in the initial IPS profile in step 1 above. It is, however, still present in the saved snapshot and still displayed in Forge</li>\n<li>If I try to remove the mustSupport flag from <code>AllergyIntolerance.code</code> in Forge, I get the following warning: \" When an element is marked as 'must be supported' in the resource, this can not be undone in the profile.\". Given that IPS profiles the base AllergyIntolerance directly and must-support is never set in the base spec AFAIK, I'm not sure what this could mean.</li>\n</ol>\n<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> Is there something amiss here?</p>",
        "id": 241501708,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1622793114
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"194703\">@Morten Ernebjerg</span> ,</p>\n<p>That is indeed not expected behavior. I have asked the Forge team to investigate why this happens. I will create a ticket for you on the Jira Service Desk to keep you informed of the progress.</p>\n<p>Kind regards,<br>\nMatthijs</p>",
        "id": 241738359,
        "sender_full_name": "Matthijs van der Wielen",
        "timestamp": 1623050717
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"259036\">@Matthijs van der Wielen</span> !</p>",
        "id": 241738539,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1623050825
    }
]