[
    {
        "content": "<p>Hello <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> , <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> ,</p>\n<p>Another inquiry today from me - this time about Patient operators and whether or not they are applicable to all data models.</p>\n<p>Reference, section 5.8.4 in: <a href=\"https://cql.hl7.org/02-authorsguide.html#clinical-operators\" target=\"_blank\" title=\"https://cql.hl7.org/02-authorsguide.html#clinical-operators\">https://cql.hl7.org/02-authorsguide.html#clinical-operators</a></p>\n<p>I'm interested in creating an initial population of patients &lt;= 18 years of age.  I see that there are operators such as 'AgeInYearsAt(X)' and 'AgeInYears()' that are available.</p>\n<p>For example, given that a MeasurementPeriod was pre-defined:</p>\n<p><code>define InDemographic:\n  AgeInYearsAt(start of MeasurementPeriod) &gt;= 16\n    and AgeInYearsAt(start of MeasurementPeriod) &lt; 24</code></p>\n<p>Questions:</p>\n<p>1. If I were using the FHIR data model, would either 'AgeInYearsAt(X)' or 'AgeInYears()' inherently know to look for the Patient.birthDate path in FHIR?<br>\n2. If not, how would I incorporate the Patient.birthDate path into an Initial Population definition?<br>\nAs always, your time and guidance are much appreciated!<br>\nPatient Operators, applicable in all data models?</p>",
        "id": 166938806,
        "sender_full_name": "Adam Rodriguez",
        "timestamp": 1559244742
    },
    {
        "content": "<blockquote>\n<p>1. If I were using the FHIR data model, would either 'AgeInYearsAt(X)' or 'AgeInYears()' inherently know to look for the Patient.birthDate path in FHIR?</p>\n</blockquote>\n<p>Yes.  The FHIR model info actually specifies the <code>patientBirthDatePropertyName</code> as seen here:<br>\n<a href=\"https://github.com/cqframework/clinical_quality_language/blob/master/Src/java/quick/src/main/resources/org/hl7/fhir/fhir-modelinfo-3.0.0.xml#L8\" target=\"_blank\" title=\"https://github.com/cqframework/clinical_quality_language/blob/master/Src/java/quick/src/main/resources/org/hl7/fhir/fhir-modelinfo-3.0.0.xml#L8\">https://github.com/cqframework/clinical_quality_language/blob/master/Src/java/quick/src/main/resources/org/hl7/fhir/fhir-modelinfo-3.0.0.xml#L8</a><br>\nCQL uses this information to support the age-based queries.  The CQL spec discusses this feature here:<br>\n<a href=\"https://cql.hl7.org/07-physicalrepresentation.html#data-model-references\" target=\"_blank\" title=\"https://cql.hl7.org/07-physicalrepresentation.html#data-model-references\">https://cql.hl7.org/07-physicalrepresentation.html#data-model-references</a></p>\n<blockquote>\n<p>2. If not, how would I incorporate the Patient.birthDate path into an Initial Population definition?</p>\n</blockquote>\n<p>As noted above, you'll get this for free.  But if you're interested in how you'd do it otherwise, you can use the <code>CalculateAgeIn[X]At</code> functions as specified here:<br>\n<a href=\"https://cql.hl7.org/09-b-cqlreference.html#calculateage\" target=\"_blank\" title=\"https://cql.hl7.org/09-b-cqlreference.html#calculateage\">https://cql.hl7.org/09-b-cqlreference.html#calculateage</a></p>\n<div class=\"codehilite\"><pre><span></span>define InDemographic:\n  CalculateAgeInYearsAt(Patient.birthDate.value, start of MeasurementPeriod) &gt;= 16\n    and CalculateAgeInYearsAt(Patient.birthDate.value, start of MeasurementPeriod) &lt; 24\n</pre></div>",
        "id": 166941742,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1559246949
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span>  for the great explanation.  Knowing the \"long form\" version of calculating age is great to keep in my back pocket. Though, I think I'll take advantage of the patient operators whenever possible :)</p>",
        "id": 166961345,
        "sender_full_name": "Adam Rodriguez",
        "timestamp": 1559267473
    }
]