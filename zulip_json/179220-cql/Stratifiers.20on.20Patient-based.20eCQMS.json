[
    {
        "content": "<p>Conformance Requirement 15 on the quality measure IG (<a href=\"http://build.fhir.org/ig/HL7/cqf-measures/measure-conformance.html\">http://build.fhir.org/ig/HL7/cqf-measures/measure-conformance.html</a>) states:</p>\n<blockquote>\n<p>For patient-based measures, the CQL stratification expression SHALL return a Boolean.</p>\n</blockquote>\n<p>I'm wondering what the purpose of this restriction is? I have a use case for stratifying across values that are not boolean. There is an example of this in the cms146 Measure and MeasureReport examples (<a href=\"https://www.hl7.org/fhir/measure-cms146-example.json.html\">https://www.hl7.org/fhir/measure-cms146-example.json.html</a> and<br>\n<a href=\"http://www.hl7.org/fhir/measurereport-cms146-cat3-example.json.html\">http://www.hl7.org/fhir/measurereport-cms146-cat3-example.json.html</a>). In these examples they are stratified by an expression that returns a coded value (\"Patient.gender\"). Here are the relevant pieces from the cms146 example:</p>\n<p>Measure:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n&quot;stratifier&quot;: [\n  {\n    &quot;code&quot;: {\n      &quot;text&quot;: &quot;stratifier-gender&quot;\n    },\n    &quot;criteria&quot;: {\n      &quot;language&quot;: &quot;text/fhirpath&quot;,\n      &quot;expression&quot;: &quot;Patient.gender&quot;\n    }\n  }\n]\n}\n</code></pre></div>\n\n\n<p>MeasureReport:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n&quot;code&quot;: [\n  {\n    &quot;text&quot;: &quot;stratifier-gender&quot;\n  }\n],\n&quot;stratum&quot;: [\n  {\n    &quot;value&quot;: {\n      &quot;text&quot;: &quot;female&quot;\n    },\n    &quot;population&quot;: [\n      // population sizes\n    ]\n  },\n  {\n    &quot;value&quot;: {\n      &quot;text&quot;: &quot;other&quot;\n    },\n    &quot;population&quot;: [\n      // population sizes\n    ]\n  },\n  ....\n]\n}\n</code></pre></div>\n\n\n<p>I think the above example should be permitted, but my reading of the conformance requirements disallows it.</p>\n<p>Also- want to point out that the stratifier example incorrectly uses a <code>string</code> instead of <code>Expression</code> for <code>criteria</code> field.</p>\n<div class=\"codehilite\"><pre><span></span><code>&quot;criteria&quot;: &quot;\\&quot;Stratification 1\\&quot;&quot;\n</code></pre></div>",
        "id": 201644963,
        "sender_full_name": "Miriam",
        "timestamp": 1592851435
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"225239\">@Miriam</span>, ultimately, that conformance requirement exists because that's the way that HQMF represented stratifiers. However, the underlying FHIR resources don't have that requirement and allow more flexible specification of stratifier criteria. You raise a very good point that because the underlying resources allow it, should the Quality Measure IG relax that conformance requirement. Do you mind submitting a tracker to that effect to the Quality Measure IG? We are planning on stratifiers and supplemental data being a focus of the upcoming connectathon, and would love to get feedback on that aspect.</p>",
        "id": 202011754,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1593112156
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> , I created <a href=\"https://jira.hl7.org/browse/FHIR-27878\">https://jira.hl7.org/browse/FHIR-27878</a>!<br>\nI have also been thinking about how to relax the stratifier conformance requirement for event-based measures similarly (<code>For event-based measures (e.g. episode-of-care), the CQL stratification expression SHALL return a list of events of the same type as the population criteria.</code>). I included a suggestion on that as well.</p>",
        "id": 202019234,
        "sender_full_name": "Miriam",
        "timestamp": 1593116184
    }
]