[
    {
        "content": "<p>When trying to run <code>$evaluate-measure</code> on a Measure, I'm facing  an error <code>Could not resolve library name FHIRHelpers</code></p>\n<div class=\"codehilite\"><pre><span></span><code>WARN  c.u.f.c.c.p.LibrarySourceProvider [LibrarySourceProvider.java:63] Failed to parse Library source for VersionedIdentifier &#39;org.hl7.elm.r1.VersionedIdentifier@13bf8db[id=FHIRHelpers, system=&lt;null&gt;(default), version=4.0.1]&#39;!\nCould not resolve library name FHIRHelpers\njava.lang.IllegalArgumentException: Could not resolve library name FHIRHelpers\n    at ca.uhn.fhir.cql.r4.provider.LibraryResolutionProviderImpl.resolveLibraryByName(LibraryResolutionProviderImpl.java:72)\n    at ca.uhn.fhir.cql.r4.provider.LibraryResolutionProviderImpl.resolveLibraryByName(LibraryResolutionProviderImpl.java:41)\n    at ca.uhn.fhir.cql.common.provider.LibrarySourceProvider.getLibrarySource(LibrarySourceProvider.java:55)\n</code></pre></div>\n<p>On the browser I see either - Measure report complete - but I don't see a measure report generated</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;MeasureReport&quot;,\n  &quot;status&quot;: &quot;complete&quot;,\n  &quot;type&quot;: &quot;summary&quot;,\n  &quot;measure&quot;: &quot;Measure/HIVSimpleTestResult&quot;\n}\n</code></pre></div>\n<p>or a <code>NullPointerException</code></p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;OperationOutcome&quot;,\n  &quot;text&quot;: {\n    &quot;status&quot;: &quot;generated&quot;,\n    &quot;div&quot;: &quot;&lt;div xmlns=\\&quot;http://www.w3.org/1999/xhtml\\&quot;&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\\&quot;0\\&quot;&gt;&lt;tr&gt;&lt;td style=\\&quot;font-weight: bold;\\&quot;&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;Failed to call access method: java.lang.NullPointerException&lt;/pre&gt;&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\n\\t\\t\\t&lt;/tr&gt;\\n\\t\\t&lt;/table&gt;\\n\\t&lt;/div&gt;&quot;\n  },\n  &quot;issue&quot;: [ {\n    &quot;severity&quot;: &quot;error&quot;,\n    &quot;code&quot;: &quot;processing&quot;,\n    &quot;diagnostics&quot;: &quot;Failed to call access method: java.lang.NullPointerException&quot;\n  } ]\n}\n</code></pre></div>\n<p>But the common log for both has been <code>Could not resolve library name FHIRHelpers</code>.</p>\n<p>The initial cql does have </p>\n<div class=\"codehilite\"><pre><span></span><code>include FHIRHelpers version &#39;4.0.1&#39;\n</code></pre></div>\n<p>Is there a configuration I might be missing?</p>",
        "id": 238334762,
        "sender_full_name": "Srimaurya Kummamuru",
        "timestamp": 1620749194
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193312\">@Srimaurya Kummamuru</span>  - See this thread: <a href=\"#narrow/stream/179220-cql/topic/Could.20not.20resolve.20library.20name.20FHIRHelpers\">https://chat.fhir.org/#narrow/stream/179220-cql/topic/Could.20not.20resolve.20library.20name.20FHIRHelpers</a></p>",
        "id": 238337691,
        "sender_full_name": "JP",
        "timestamp": 1620750347
    },
    {
        "content": "<p>That resolved the FHIRHelpers error thank you <span class=\"user-mention\" data-user-id=\"194178\">@JP</span> !  </p>\n<p>But the additional errors of  <code>NullPointerException</code> or Not generating the Measure Report still persist </p>\n<div class=\"codehilite\"><pre><span></span><code>2021-05-11 13:29:04.298 [qtp15140522-123] INFO  c.u.f.c.r.e.MeasureEvaluation [MeasureEvaluation.java:82] Generating individual report\n2021-05-11 13:29:04.298 [qtp15140522-123] INFO  c.u.f.c.r.e.MeasureEvaluation [MeasureEvaluation.java:130] Generating summary report\n2021-05-11 13:29:04.308 [qtp15140522-123] ERROR c.u.f.r.s.i.ExceptionHandlingInterceptor [ExceptionHandlingInterceptor.java:140] Failure during REST processing\nca.uhn.fhir.rest.server.exceptions.InternalErrorException: Failed to call access method: java.lang.NullPointerException\n    at ca.uhn.fhir.rest.server.method.BaseMethodBinding.invokeServerMethod(BaseMethodBinding.java:254)\n    at ca.uhn.fhir.rest.server.method.OperationMethodBinding.invokeServer(OperationMethodBinding.java:329)\n    at ca.uhn.fhir.rest.server.method.BaseResourceReturningMethodBinding.doInvokeServer(BaseResourceReturningMethodBinding\n</code></pre></div>\n<div class=\"codehilite\"><pre><span></span><code>Caused by: java.lang.NullPointerException: null\n    at ca.uhn.fhir.cql.r4.evaluation.MeasureEvaluation.getAllPatients(MeasureEvaluation.java:124)\n    at ca.uhn.fhir.cql.r4.evaluation.MeasureEvaluation.evaluatePopulationMeasure(MeasureEvaluation.java:133)\n    at ca.uhn.fhir.cql.r4.evaluation.MeasureEvaluation.evaluatePatientMeasure(MeasureEvaluation.java:85)\n    at ca.uhn.fhir.cql.r4.provider.MeasureOperationsProvider.evaluateMeasure(MeasureOperationsProvider.java:114)\n    ... 61 common frames omitted\n</code></pre></div>",
        "id": 238352319,
        "sender_full_name": "Srimaurya Kummamuru",
        "timestamp": 1620754554
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193312\">@Srimaurya Kummamuru</span> - You likely do not have any patient resources loaded on your server. This was a known issue and resolved by:</p>\n<p><a href=\"https://github.com/hapifhir/hapi-fhir/pull/2632\">https://github.com/hapifhir/hapi-fhir/pull/2632</a></p>",
        "id": 238353305,
        "sender_full_name": "JP",
        "timestamp": 1620754952
    },
    {
        "content": "<p>(it'll presumably go into the next HAPI release)</p>",
        "id": 238353333,
        "sender_full_name": "JP",
        "timestamp": 1620754968
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194178\">@JP</span> I do have Patient Resources <a href=\"/user_uploads/10155/B6DzFDN_SRxYGea5tnACX09O/Screen-Shot-2021-05-11-at-2.22.49-PM.png\">Screen-Shot-2021-05-11-at-2.22.49-PM.png</a> . Is there any other resource I need to be looking for? or do I need to do something to load/initiate or prep the patient resources?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/B6DzFDN_SRxYGea5tnACX09O/Screen-Shot-2021-05-11-at-2.22.49-PM.png\" title=\"Screen-Shot-2021-05-11-at-2.22.49-PM.png\"><img src=\"/user_uploads/10155/B6DzFDN_SRxYGea5tnACX09O/Screen-Shot-2021-05-11-at-2.22.49-PM.png\"></a></div>",
        "id": 238363403,
        "sender_full_name": "Srimaurya Kummamuru",
        "timestamp": 1620759119
    }
]