[
    {
        "content": "<p>MAT says CQL  Library names must start with an upper case letter, followed by alpha-numeric character(s) and must not contain spaces, '_' (underscores), or other special characters.</p>\n<p>Where does this requirement come from?</p>\n<p>Also in MAT, Measure name does not allow underscores; where does this come from?</p>",
        "id": 243927298,
        "sender_full_name": "Paul Denning",
        "timestamp": 1624633153
    },
    {
        "content": "<p>Here's the standard for CQL identifiers:<br>\n<a href=\"https://cql.hl7.org/03-developersguide.html#identifiers\">https://cql.hl7.org/03-developersguide.html#identifiers</a></p>\n<p>Here's the standard for Measure names:<br>\n<a href=\"https://www.hl7.org/fhir/measure.html#invs\">https://www.hl7.org/fhir/measure.html#invs</a></p>\n<p>Both allow underscores. However, FHIR ids (separate from both Measure names and CQL identifiers) do not:<br>\n<a href=\"https://www.hl7.org/fhir/resource.html#id\">https://www.hl7.org/fhir/resource.html#id</a></p>\n<p>I can't speak with certainty since I'm not on the MAT team but I'd guess they've chosen to use the lowest common denominator between those requirements.</p>",
        "id": 243945617,
        "sender_full_name": "JP",
        "timestamp": 1624641847
    },
    {
        "content": "<p>It's actually a new requirement based on experience with underscores causing problems, introduced as part of the latest QM IG ballot:</p>",
        "id": 243955334,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1624646973
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/us/cqfmeasures/2021May/using-cql.html#library-name-and-url\">http://hl7.org/fhir/us/cqfmeasures/2021May/using-cql.html#library-name-and-url</a></p>",
        "id": 243955335,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1624646973
    },
    {
        "content": "<p>At the last FHIR Connectathon I noticed that some of the DaVinci DTR profile libraries use underscores, e.g. CDS_Connect_Commons_for_FHIRv400</p>\n<p><a href=\"http://www.hl7.org/fhir/us/davinci-dtr/resources__home-o2-prepopulation.html\">http://www.hl7.org/fhir/us/davinci-dtr/resources__home-o2-prepopulation.html</a><br>\nand some can be found here: <a href=\"https://github.com/HL7-DaVinci/CDS-Library/tree/master/CRD-DTR\">https://github.com/HL7-DaVinci/CDS-Library/tree/master/CRD-DTR</a></p>",
        "id": 243971241,
        "sender_full_name": "John Silva",
        "timestamp": 1624655450
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"298707\">@John Silva</span> -  Thanks for noticing this.  CDS_Connect_Commons_for_FHIRv400 comes from the CDS Connect project, which I am a part of.  When those libraries were created, issues w/ underscores had not yet come up.  As they're intended for CDS (not measures), they are not governed by the Quality Measure Implementation Guide. BUT... I've just looked now and it appears that FHIR Clinical Guidelines <a href=\"http://hl7.org/fhir/uv/cpg/STU1/libraries.html#library-name-and-url\">also prohibits underscores in names</a> -- so... it's probably something that we should look into.</p>",
        "id": 243974182,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1624657172
    },
    {
        "content": "<p>Thanks Chris!   When I was trying to use the CQL Libraries and FHIR resources from the DTR IG I ran into this and had to rename things.  (Separately, I also changed to use FHIR 4.0.1 instead of the 4.0.0 used in these.)</p>",
        "id": 243975201,
        "sender_full_name": "John Silva",
        "timestamp": 1624657840
    },
    {
        "content": "<p>The challenge was that we wanted to use the library <code>name</code> directly in the canonical URL, and since the publisher requires canonical URLs to match resource IDs, it made things simpler all around to introduce that constraint.</p>",
        "id": 244080988,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1624821906
    }
]