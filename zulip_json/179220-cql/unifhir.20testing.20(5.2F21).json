[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"376783\">@Greg Hunt</span> <span class=\"user-mention\" data-user-id=\"370762\">@Alyson Rodgers</span> We're getting  a 502 when we try and do a GET or POST</p>",
        "id": 239277492,
        "sender_full_name": "Sam Sayer",
        "timestamp": 1621353156
    },
    {
        "content": "<p>What is the request URL you're trying?</p>",
        "id": 239277629,
        "sender_full_name": "Alyson Rodgers",
        "timestamp": 1621353203
    },
    {
        "content": "<p>GETs seem to be okay, but we're having problems with POSTing a Measure</p>",
        "id": 239277633,
        "sender_full_name": "Lauren DiCristofaro",
        "timestamp": 1621353205
    },
    {
        "content": "<p>POST <a href=\"http://connectathon.unifhir-nonprod.hcqis.org/fhir/Measure\">http://connectathon.unifhir-nonprod.hcqis.org/fhir/Measure</a></p>",
        "id": 239277672,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621353218
    },
    {
        "content": "<p>This is the JSON content we have in the body. <a href=\"https://github.com/DBCG/connectathon/blob/master/fhir401/bundles/measure/EXM104-8.2.000/EXM104-8.2.000-files/measure-EXM104-8.2.000.json\">https://github.com/DBCG/connectathon/blob/master/fhir401/bundles/measure/EXM104-8.2.000/EXM104-8.2.000-files/measure-EXM104-8.2.000.json</a></p>\n<p>We expected to maybe hit an issue with the reference resolving. But it gives us 502 bad gateway with the following error message:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  message: &#39;An invalid response was received from the upstream server&#39;\n}\n</code></pre></div>",
        "id": 239277851,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621353287
    },
    {
        "content": "<p>looking...</p>",
        "id": 239277916,
        "sender_full_name": "Alyson Rodgers",
        "timestamp": 1621353313
    },
    {
        "content": "<p>Looking to see if this a routing issue</p>",
        "id": 239278191,
        "sender_full_name": "Greg Hunt",
        "timestamp": 1621353398
    },
    {
        "content": "<p>Ok I am updating the submit-data route to be exact</p>",
        "id": 239279296,
        "sender_full_name": "Greg Hunt",
        "timestamp": 1621353707
    },
    {
        "content": "<p>pushing changes now</p>",
        "id": 239279311,
        "sender_full_name": "Greg Hunt",
        "timestamp": 1621353713
    },
    {
        "content": "<p>We're not trying to use the $submit-data operation yet. Just trying to POST the measure to get it set up for $submit-data</p>",
        "id": 239279509,
        "sender_full_name": "Lauren DiCristofaro",
        "timestamp": 1621353779
    },
    {
        "content": "<p>understood <span class=\"user-mention\" data-user-id=\"215606\">@Lauren DiCristofaro</span> . We think our routing rules were sending you to the $submit-data handler by mistake for your POST /Measure requests</p>",
        "id": 239279829,
        "sender_full_name": "Alyson Rodgers",
        "timestamp": 1621353893
    },
    {
        "content": "<p>OK try now</p>",
        "id": 239280021,
        "sender_full_name": "Greg Hunt",
        "timestamp": 1621353963
    },
    {
        "content": "<p>What to hijack Room 4?</p>",
        "id": 239280179,
        "sender_full_name": "Greg Hunt",
        "timestamp": 1621354007
    },
    {
        "content": "<p>let's do that, i think technically there is a break now so we should be able to use it</p>",
        "id": 239280868,
        "sender_full_name": "Sam Sayer",
        "timestamp": 1621354183
    },
    {
        "content": "<p>my zoom doesn't seem to want to cooperate :(</p>",
        "id": 239281058,
        "sender_full_name": "Sam Sayer",
        "timestamp": 1621354247
    },
    {
        "content": "<p>OK I fixed the header size issue</p>",
        "id": 239290065,
        "sender_full_name": "Greg Hunt",
        "timestamp": 1621357702
    },
    {
        "content": "<p>We are back in Room 4</p>",
        "id": 239299218,
        "sender_full_name": "Greg Hunt",
        "timestamp": 1621361240
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215601\">@Matthew Gramigna</span> hows it going</p>",
        "id": 239301661,
        "sender_full_name": "Greg Hunt",
        "timestamp": 1621362131
    },
    {
        "content": "<p>Sorry breakout went long.</p>\n<p>We got a measure POST working after fixing some of the validation errors, now working on pulling out a submit data payload to be able to send at it to debug</p>",
        "id": 239302087,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621362295
    },
    {
        "content": "<p>Will join breakout in a bit</p>",
        "id": 239302134,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621362315
    },
    {
        "content": "<p>Working through some issues on our end with our payload. Our measureReport param uses ResourceType/id to reference the measure, not canonical URL. Your server expects the latter which is correct so we need to change it</p>",
        "id": 239302940,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621362615
    },
    {
        "content": "<p>2021/05/18 18:33:49 [warn] 23#0: *79319 a client request body is buffered to a temporary file /kong_prefix/client_body_temp/0000000004, client: 100.65.51.243, server: kong, request: \"POST /fhir/Measure/60a3ed15b1bce66d27c4bd53/$submit-data HTTP/1.1\", host: \"<a href=\"http://connectathon.unifhir-nonprod.hcqis.org\">connectathon.unifhir-nonprod.hcqis.org</a>\"<br>\n100.65.51.243 - - [18/May/2021:18:33:50 +0000] \"POST /fhir/Measure/60a3ed15b1bce66d27c4bd53/$submit-data HTTP/1.1\" 500 15 \"-\" \"PostmanRuntime/7.26.8\"<br>\n100.65.51.243 - - [18/May/2021:18:35:07 +0000] \" },\" 400 12 \"-\" \"-\"</p>",
        "id": 239304234,
        "sender_full_name": "Greg Hunt",
        "timestamp": 1621363070
    },
    {
        "content": "<p>Yeah I tested submit data manually with no resources, just measure report and patient. and it worked fine. </p>\n<p>Updating the test client now to handle some nuanced cases</p>",
        "id": 239305106,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621363403
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215606\">@Lauren DiCristofaro</span> and <span class=\"user-mention\" data-user-id=\"215601\">@Matthew Gramigna</span> we are deploying changes to support GET /fhir/Measure?version={version}. hope it helps simplify your changes</p>",
        "id": 239310990,
        "sender_full_name": "Alyson Rodgers",
        "timestamp": 1621365774
    },
    {
        "content": "<p>I think we are at hopefully the last error for submit data. Has to do with our test data</p>",
        "id": 239315713,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621367763
    },
    {
        "content": "<p>we're getting 422 unprocessable entity with this error message <a href=\"/user_uploads/10155/o_MYnNcO126dg2hAROHU3d5F/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/o_MYnNcO126dg2hAROHU3d5F/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/o_MYnNcO126dg2hAROHU3d5F/image.png\"></a></div>",
        "id": 239315763,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621367773
    },
    {
        "content": "<p>This was auto-generated by synthea on an Encounter resource</p>",
        "id": 239315831,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621367797
    },
    {
        "content": "<p>so is the issue that the particular code system doesn't exist? Can it be added manually?</p>",
        "id": 239320843,
        "sender_full_name": "Alyson Rodgers",
        "timestamp": 1621369877
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"370762\">@Alyson Rodgers</span> yes, let's try that. Support for CRUD on the CodeSystem resource needs to be added to uniFHIR to allow us to do that, but we can test that</p>",
        "id": 239325282,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621371643
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot; : &quot;CodeSystem&quot;,\n  &quot;id&quot; : &quot;diagnosis-role&quot;,\n  &quot;meta&quot; : {\n    &quot;lastUpdated&quot; : &quot;2019-11-01T09:29:23.356+11:00&quot;,\n    &quot;profile&quot; : [&quot;http://hl7.org/fhir/StructureDefinition/shareablecodesystem&quot;]\n  },\n  &quot;text&quot; : {\n    &quot;status&quot; : &quot;generated&quot;,\n    &quot;div&quot; : &quot;&lt;div&gt;!-- Snipped for Brevity --&gt;&lt;/div&gt;&quot;\n  },\n  &quot;extension&quot; : [{\n    &quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-wg&quot;,\n    &quot;valueCode&quot; : &quot;pa&quot;\n  }],\n  &quot;url&quot; : &quot;http://terminology.hl7.org/CodeSystem/diagnosis-role&quot;,\n  &quot;identifier&quot; : [{\n    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,\n    &quot;value&quot; : &quot;urn:oid:2.16.840.1.113883.4.642.4.1054&quot;\n  }],\n  &quot;version&quot; : &quot;4.0.1&quot;,\n  &quot;name&quot; : &quot;DiagnosisRole&quot;,\n  &quot;status&quot; : &quot;draft&quot;,\n  &quot;experimental&quot; : false,\n  &quot;publisher&quot; : &quot;FHIR Project team&quot;,\n  &quot;contact&quot; : [{\n    &quot;telecom&quot; : [{\n      &quot;system&quot; : &quot;url&quot;,\n      &quot;value&quot; : &quot;http://hl7.org/fhir&quot;\n    }]\n  }],\n  &quot;description&quot; : &quot;This value set defines a set of codes that can be used to express the role of a diagnosis on the Encounter or EpisodeOfCare record.&quot;,\n  &quot;caseSensitive&quot; : true,\n  &quot;valueSet&quot; : &quot;http://hl7.org/fhir/ValueSet/diagnosis-role&quot;,\n  &quot;content&quot; : &quot;complete&quot;,\n  &quot;concept&quot; : [{\n    &quot;code&quot; : &quot;AD&quot;,\n    &quot;display&quot; : &quot;Admission diagnosis&quot;\n  },\n  {\n    &quot;code&quot; : &quot;DD&quot;,\n    &quot;display&quot; : &quot;Discharge diagnosis&quot;\n  },\n  {\n    &quot;code&quot; : &quot;CC&quot;,\n    &quot;display&quot; : &quot;Chief complaint&quot;\n  },\n  {\n    &quot;code&quot; : &quot;CM&quot;,\n    &quot;display&quot; : &quot;Comorbidity diagnosis&quot;\n  },\n  {\n    &quot;code&quot; : &quot;pre-op&quot;,\n    &quot;display&quot; : &quot;pre-op diagnosis&quot;\n  },\n  {\n    &quot;code&quot; : &quot;post-op&quot;,\n    &quot;display&quot; : &quot;post-op diagnosis&quot;\n  },\n  {\n    &quot;code&quot; : &quot;billing&quot;,\n    &quot;display&quot; : &quot;Billing&quot;\n  }]\n}\n</code></pre></div>",
        "id": 239412426,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621426659
    },
    {
        "content": "<p>measure ID: 60a3ec49b1bce66d27c4bd51</p>",
        "id": 239415853,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621428009
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/diagnosis-role\">http://hl7.org/fhir/diagnosis-role</a></p>",
        "id": 239416056,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621428104
    },
    {
        "content": "<p>Successful test result screenshots <a href=\"/user_uploads/10155/_M3fiAKiPWKoYlRf9wxF79nj/Screen-Shot-2021-05-19-at-10.49.01-AM.png\">Screen-Shot-2021-05-19-at-10.49.01-AM.png</a> <a href=\"/user_uploads/10155/z3SACsyzIK76KLHK6N9XYYab/Screen-Shot-2021-05-19-at-10.47.54-AM.png\">Screen-Shot-2021-05-19-at-10.47.54-AM.png</a> <a href=\"/user_uploads/10155/joKoa0oylUx5_YUWV0o6HBMg/Screen-Shot-2021-05-19-at-10.47.46-AM.png\">Screen-Shot-2021-05-19-at-10.47.46-AM.png</a> <a href=\"/user_uploads/10155/_zb5DGHtZBqQJhyGDj29S5sY/Screen-Shot-2021-05-19-at-10.47.06-AM.png\">Screen-Shot-2021-05-19-at-10.47.06-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/_M3fiAKiPWKoYlRf9wxF79nj/Screen-Shot-2021-05-19-at-10.49.01-AM.png\" title=\"Screen-Shot-2021-05-19-at-10.49.01-AM.png\"><img src=\"/user_uploads/10155/_M3fiAKiPWKoYlRf9wxF79nj/Screen-Shot-2021-05-19-at-10.49.01-AM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/z3SACsyzIK76KLHK6N9XYYab/Screen-Shot-2021-05-19-at-10.47.54-AM.png\" title=\"Screen-Shot-2021-05-19-at-10.47.54-AM.png\"><img src=\"/user_uploads/10155/z3SACsyzIK76KLHK6N9XYYab/Screen-Shot-2021-05-19-at-10.47.54-AM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/joKoa0oylUx5_YUWV0o6HBMg/Screen-Shot-2021-05-19-at-10.47.46-AM.png\" title=\"Screen-Shot-2021-05-19-at-10.47.46-AM.png\"><img src=\"/user_uploads/10155/joKoa0oylUx5_YUWV0o6HBMg/Screen-Shot-2021-05-19-at-10.47.46-AM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/_zb5DGHtZBqQJhyGDj29S5sY/Screen-Shot-2021-05-19-at-10.47.06-AM.png\" title=\"Screen-Shot-2021-05-19-at-10.47.06-AM.png\"><img src=\"/user_uploads/10155/_zb5DGHtZBqQJhyGDj29S5sY/Screen-Shot-2021-05-19-at-10.47.06-AM.png\"></a></div>",
        "id": 239437741,
        "sender_full_name": "Matthew Gramigna",
        "timestamp": 1621435807
    }
]