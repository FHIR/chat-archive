[
    {
        "content": "<p>The FHIR Measure resource has a supplementalData field for specifying what additional data to return.  However, the FHIR MeasureReport is less clear where the calculated supplemental data should go.  The guidance here (<a href=\"http://hl7.org/fhir/clinicalreasoning-quality-reporting.html\">http://hl7.org/fhir/clinicalreasoning-quality-reporting.html</a>) specifies using an observation for individuals and adding it to evaluatedResources, but it is unclear how one would differentiate that observation from the the rest.</p>\n<p>It additionally does not specify how to store these for a group of patients - this example is provided (<a href=\"http://hl7.org/fhir/measurereport-cms146-cat3-example.html\">http://hl7.org/fhir/measurereport-cms146-cat3-example.html</a>) but I'm not sure how the example including a supplemental data section conforms to the MeasureResult profile.</p>\n<p>I've reviewed the <a href=\"https://github.com/DBCG/cqf-ruler\">https://github.com/DBCG/cqf-ruler</a> implementation of supplemental data and see that supplemental data is always added as an observation resource, both within the evaluatedResources field and within the generic contained field on DomainResource.  </p>\n<p>Finally, my questions:</p>\n<ul>\n<li>Is there additional guidance for supplemental data that I've missed?  I've looked in the cqfmeasure IG as well as davinci-deqm IG without luck.</li>\n<li>Is there a plan for more concrete supplemental data guidance in the future?</li>\n</ul>",
        "id": 232290475,
        "sender_full_name": "Jill Doty",
        "timestamp": 1617033098
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"267728\">@Jill Doty</span> , yes, there are a couple resolved trackers related to this that are in the process of being applied to improve the documentation of supplemental data handling. We'll also be adding more examples to help illustrate the expected behavior.</p>",
        "id": 232481822,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1617131897
    },
    {
        "content": "<p>Specifically, this tracker: <a href=\"https://jira.hl7.org/browse/FHIR-29807\">https://jira.hl7.org/browse/FHIR-29807</a></p>",
        "id": 232481947,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1617131951
    },
    {
        "content": "<p>In the example at: <a href=\"https://www.hl7.org/fhir/measurereport-cms146-cat1-example.html\">https://www.hl7.org/fhir/measurereport-cms146-cat1-example.html</a>, supplemental data is returned inline as values. But, my tests show that it is returned as an inline contained Observation (and the path to it doesn't resolve). Might I ask for a helpful hint on how to get the returned values? My use case is to define in CQL <code>define \"Hello, World!\": 'Hello, World!'</code>, and then call it in supplemental data with:</p>\n<div class=\"codehilite\"><pre><span></span><code>  &quot;supplementalData&quot;: [\n    {\n      &quot;code&quot;: {\n        &quot;text&quot;: &quot;supplemental-data-example-define&quot;\n      },\n      &quot;criteria&quot;: {\n        &quot;language&quot;: &quot;text/cql&quot;,\n        &quot;expression&quot;: &quot;Hello, World!&quot;\n      }\n    }\n  ]\n</code></pre></div>\n<p>An example MeasureReport is at: <a href=\"https://pastebin.com/aRmhMSft\">https://pastebin.com/aRmhMSft</a></p>\n<p>Edit: I do see it evaluated correctly in the HAPI logs, just not in the MeasureReport, e.g.:</p>\n<div class=\"codehilite\"><pre><span></span><code>HIVSimpleGender.33:25-33:39(28): Hello, World!\nHIVSimpleGender.33:1-33:39(29): Hello, World!\n</code></pre></div>",
        "id": 240781551,
        "sender_full_name": "Richard Stanley",
        "timestamp": 1622421401
    },
    {
        "content": "<p>Hmmm, the value of that expression is supposed to be included in the value element of the observation for that supplemental data element. Is this still behaving this way on the latest ruler?</p>",
        "id": 242266612,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1623357162
    },
    {
        "content": "<p>Current ruler only supports codes. Strings are not supported.</p>",
        "id": 242295478,
        "sender_full_name": "JP",
        "timestamp": 1623379920
    }
]