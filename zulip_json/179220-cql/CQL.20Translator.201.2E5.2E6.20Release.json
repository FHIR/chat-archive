[
    {
        "content": "<p>We have released an update to the 1.5 CQL-to-ELM translator and directly associated tooling. The release packages have been uploaded to the sonatype repositories.</p>\n<p>Release notes are available here:<br>\nRelease CQL 1.5 Maintenance Release (v1.5.6)<br>\n<a href=\"https://github.com/cqframework/clinical_quality_language/releases/tag/v1.5.6\">https://github.com/cqframework/clinical_quality_language/releases/tag/v1.5.6</a></p>",
        "id": 266465791,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1640905847
    },
    {
        "content": "<p>Hi,<br>\nI am getting the following error but not sure if the CQL-to-ELM translator I am using is outdated.  Can you please advise?  Thank you very much for your help.</p>\n<p>Regards,<br>\nTien Thai</p>\n<hr>\n<p>C:\\CQL_Project\\clinical_quality_language-master\\Src\\java\\cql-to-elm\\build\\install\\cql-to-elm\\bin&gt;cql-to-elm --input C:\\CQL_Project\\AHRQ-CDS-Connect-CQL-SERVICES-2.0.0\\config\\libraries\\guidance_for_osteoporosis\\Guidance-for-Osteoporosis.cql --output C:\\CQL_Project\\AHRQ-CDS-Connect-CQL-SERVICES-2.0.0\\config\\libraries\\guidance_for_osteoporosis -f JSON<br>\n================================================================================<br>\nTRANSLATE C:\\CQL_Project\\AHRQ-CDS-Connect-CQL-SERVICES-2.0.0\\config\\libraries\\guidance_for_osteoporosis\\Guidance-for-Osteoporosis.cql<br>\nTranslation failed due to errors:<br>\nError:[4:1, 4:58] Invalid version format<br>\nError:[11:3, 11:36] Could not resolve identifier Recommendations-for-Osteoporosis in the current library.<br>\nError:[15:7, 15:32] Could not validate reference to expression Has Fall Risk Conditions because its definition contains errors.<br>\nError:[18:4, 18:27] Could not validate reference to expression MeetsInclusionCriteria because its definition contains errors.<br>\nError:[27:10, 27:33] Could not validate reference to expression MeetsInclusionCriteria because its definition contains errors.</p>\n<hr>",
        "id": 272022562,
        "sender_full_name": "Tien Thai",
        "timestamp": 1644951961
    },
    {
        "content": "<p>It says there is an invalid version format on line 4.  What is line 4 in your CQL?</p>",
        "id": 272029740,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1644955176
    },
    {
        "content": "<p>Yes, it is the line that includes the external CQL library (i.e. Recommendations-for-Osteoporosis) which is also present in the same folder.  I am sure why it says \"Could not resolve identifier Recommendations-for-Osteoporosis in the current library\" when this library does exist in the same package.</p>",
        "id": 272031651,
        "sender_full_name": "Tien Thai",
        "timestamp": 1644956052
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/UvUsSZucLZ9mlccshmJvkZvU/guidance_for_osteoporosis_v_cql.zip\">guidance_for_osteoporosis_v_cql.zip</a></p>",
        "id": 272031722,
        "sender_full_name": "Tien Thai",
        "timestamp": 1644956100
    },
    {
        "content": "<p>It failed CQL-to-ELM for me too.  I experimented with it and found that if I changed the name of the library <code>\"Recommendations-for-Osteoporosis\"</code> to <code>\"RecommendationsForOsteoporosis\"</code>, then it worked correctly.  <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> -- is there possibly a bug in the CQL-to-ELM translator related to using <code>include</code> with a quoted library name containing the <code>-</code> character?</p>",
        "id": 272039252,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1644959730
    },
    {
        "content": "<p>It is working now.  Thanks Chris!</p>",
        "id": 272150994,
        "sender_full_name": "Tien Thai",
        "timestamp": 1645033411
    },
    {
        "content": "<p>You're welcome.  I think that quoted library names with <code>-</code> are technically allowed, but not encouraged (and apparently not fully supported by CQL-to-ELM right now).  The FHIR Clinical Guidelines IG contains some <a href=\"http://hl7.org/fhir/uv/cpg/STU1/libraries.html\">guidance for authoring CQL libraries</a>, and says:</p>\n<blockquote>\n<p>The library identifier SHALL be a valid un-quoted identifier and SHALL NOT contain underscores</p>\n</blockquote>\n<p>Since <code>-</code> only works in a quoted identifier, then according to that guidance, <code>-</code> should not be used in a library identifier.</p>",
        "id": 272152677,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1645034068
    },
    {
        "content": "<p>Yes, I forgot the naming convention for CQL library.  However, the \"Invalid Version Format\"  error message seems to be a bit confusing.  Thank you very much for your help.</p>",
        "id": 272162885,
        "sender_full_name": "Tien Thai",
        "timestamp": 1645038408
    },
    {
        "content": "<p>Yes, it sounds like the translator might be doing something wrong there. I've submitted an issue to follow up on this: <a href=\"https://github.com/cqframework/clinical_quality_language/issues/726\">https://github.com/cqframework/clinical_quality_language/issues/726</a></p>",
        "id": 272176121,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1645044528
    }
]