[
    {
        "content": "<p>Hi all, I know I've talked about this issue before, but I was wondering if there was anymore work in using references to pull related information on MedicationStatements/MedicationReferences before.</p>\n<p>Let's say I have a script that is something like:</p>\n<div class=\"codehilite\"><pre><span></span><code>using FHIR version &#39;3.0.0&#39;\ncodesystem &quot;icd10cm&quot;: &#39;http://hl7.org/fhir/sid/icd-10-cm&#39;\ndefine &quot;MedAConcept&quot;: Concept { Code &#39;A&#39; from icd10cm }\ndefine &quot;MedAMedication&quot;: [Medication: &quot;MedAConcept&quot;]\ndefine &quot;MedAMedicationRequest&quot;: [MedicationStatement: &quot;MedAConcept&quot;] medStatement\n    with &quot;MedAMedication&quot; med\n    such that exists (\n        (medStatement.medication.reference) ref\n            where EndsWith(ref, &#39;/&#39; + meds.id)\n   )\n</code></pre></div>\n<p>So this block has multiple issues with it:<br>\n1) It will only work with MedicationStatements that have a medicationReference, not a medicationCodeableConcept, so the statement must be revised based on how the FHIR server presents its resources.<br>\n2) It requires a SEARCH on Medication and a SEARCH on MedicationStatement. This is an issue I'm running into right now with an Epic server, the epic server supports SEARCH on MedicationStatement, but only a READ on the Medication, so the script will 405 Method not allow in these cases.</p>\n<p>Is there anyway we could use a SEARCH then READ strategy somehow? All I really want is to pull some codes from the medication into the relevant medicationstatement context. It really should not have to be 2 different searches to find supplemental information like this. Is there grammer to support some sort of WITH clause in the retrieval context?</p>",
        "id": 263894907,
        "sender_full_name": "Michael Riley",
        "timestamp": 1638815459
    }
]