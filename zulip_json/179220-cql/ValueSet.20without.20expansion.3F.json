[
    {
        "content": "<p>When using $evaluate-measure with a ValueSet, if no expansion is provided in the ValueSet, does it try to figure out the expansion? Or, does CQF-Ruler require that any ValueSet referenced by CQL already have the ValueSet.expansion populated?</p>",
        "id": 227856504,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1614295316
    },
    {
        "content": "<p>The $evaluate-measure operation recently (as of HAPI 5.3.0) moved from the cqf-ruler (which is a set of plugins for HAPI) and was put into the hapi-fhir-jpaserver-cql project. That means that the cqf-ruler is no longer in the picture for $evaluate-measure. The hapi-fhir server now supports $evaluate-measure natively.</p>",
        "id": 227864770,
        "sender_full_name": "JP",
        "timestamp": 1614300450
    },
    {
        "content": "<p>The hapi-fhir server currently always ignores the ValueSet.expansion element, even if it's supplied on the resource. It will always attempt to compute the ValueSet expansion based on the available CodeSystems.</p>",
        "id": 227864961,
        "sender_full_name": "JP",
        "timestamp": 1614300559
    },
    {
        "content": "<p>There's an issue on the hapi-fhir git repo tracking adding support for the ValueSet.expansion element:</p>\n<p><a href=\"https://github.com/hapifhir/hapi-fhir/issues/2376\">https://github.com/hapifhir/hapi-fhir/issues/2376</a></p>",
        "id": 227865096,
        "sender_full_name": "JP",
        "timestamp": 1614300640
    },
    {
        "content": "<p>Because the ValueSet expansions are always computed you'll need appropriate CodeSystems loaded in order to do the expansion.</p>",
        "id": 227865289,
        "sender_full_name": "JP",
        "timestamp": 1614300753
    },
    {
        "content": "<p>Thanks for the explanation <span class=\"user-mention\" data-user-id=\"194178\">@JP</span></p>",
        "id": 228001045,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1614376547
    }
]