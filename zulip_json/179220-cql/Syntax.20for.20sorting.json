[
    {
        "content": "<p>Hello,<br>\nI have some erros when parsing CQL statements including the 'sort' statement. I use the parser from the cql2elm project from the cql-github repository. It works to parse the statement from the CQL documentation on page 40:</p>\n<p>[Encounter: \"Inpatient\"] E sort by start of period</p>\n<p>However, when parsing statements where the thing to be sorted is referenced by an alias like the statement on page 78:</p>\n<p>exists ([DiagnosticOrder: \"Pregnancy Test\"] O where Last(O.event E where E.status = 'completed' sort by E.date).date during MeasurementPeriod)</p>\n<p>I get the error \"Could not resolve identifier E in the current library\".</p>\n<p>It seems that the parser cannot cope with aliases in the sorts.<br>\nAm I doing something wrong ?<br>\nGreetings<br>\nGeorg</p>",
        "id": 154010369,
        "sender_full_name": "Georg Fette",
        "timestamp": 1539936280
    },
    {
        "content": "<p>Ah, I used the documentaion R1_STU2_2017JUL. I just saw in in the online documentation on <a href=\"http://cql.hl7.org/02-authorsguide.html#clinical-quality-measure-logic\" target=\"_blank\" title=\"http://cql.hl7.org/02-authorsguide.html#clinical-quality-measure-logic\">http://cql.hl7.org/02-authorsguide.html#clinical-quality-measure-logic</a> that the example has been changed to not using an alias.<br>\nGreetings<br>\nGeorg</p>",
        "id": 154010371,
        "sender_full_name": "Georg Fette",
        "timestamp": 1539937475
    }
]