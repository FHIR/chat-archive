[
    {
        "content": "<p>I noticed in the <a href=\"https://cql.hl7.org/03-developersguide.html#multi-source-queries\">documentation for queries</a>:</p>\n<blockquote>\n<p>the default for return clauses is distinct, as opposed to all, so if no return clause is specified, duplicates will be eliminated from the result.</p>\n</blockquote>\n<p>However, this is in the \"Multi-Source Queries\" section of the docs. Does that mean that single-source queries should default to <code>query all</code>?</p>",
        "id": 204257709,
        "sender_full_name": "Zach Smith",
        "timestamp": 1595019140
    },
    {
        "content": "<p>That would not be my interpretation. Nor does it seem to be the interpretation of any implementation I've seen. Making the default for single-source vs. multi-source queries different would also lead to a very confusing mental model, while making the default return clause the same for all queries would not.  Why do you think that having differing defaults would be a good thing?</p>",
        "id": 204605190,
        "sender_full_name": "Frank Adrian",
        "timestamp": 1595367082
    },
    {
        "content": "<p>I don't necessarily think it would be a good thing. The reason I brought this up is because it appears to be the semantics outlined in one of the <a href=\"https://cql.hl7.org/tests.html\">test cases</a>, specifically the <code>Sort.simpleSortAsc</code> test in <code>CqlListOperatorsTest.xml</code>:</p>\n<p>It expects the expression:</p>\n<div class=\"codehilite\"><pre><span></span><code>({4, 5, 1, 6, 2, 1}) sL sort asc\n</code></pre></div>\n\n\n<p>to result in:</p>\n<div class=\"codehilite\"><pre><span></span><code>{1, 1, 2, 4, 5, 6}\n</code></pre></div>",
        "id": 204605511,
        "sender_full_name": "Zach Smith",
        "timestamp": 1595367310
    },
    {
        "content": "<p>I'd call that a bug in the test case, distinct behavior is the default for both single-source and multi-source queries.</p>",
        "id": 204716844,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1595448842
    },
    {
        "content": "<p><a href=\"https://jira.hl7.org/browse/FHIR-28127\">https://jira.hl7.org/browse/FHIR-28127</a></p>",
        "id": 204717216,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1595449013
    },
    {
        "content": "<p>Ok thanks <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> ! I'm actually noticing a few discrepancies in the test cases as I go through them. Should I file tickets for each one?</p>",
        "id": 204717433,
        "sender_full_name": "Zach Smith",
        "timestamp": 1595449107
    },
    {
        "content": "<p>Feel free to add them to that ticket</p>",
        "id": 204719312,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1595450100
    },
    {
        "content": "<p>And thank you!</p>",
        "id": 204719341,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1595450118
    }
]