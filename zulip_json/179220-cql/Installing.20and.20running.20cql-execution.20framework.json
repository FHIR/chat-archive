[
    {
        "content": "<p>Hello, I try to install and run the CQL execution framework (<a href=\"https://github.com/cqframework/cql-execution\" target=\"_blank\" title=\"https://github.com/cqframework/cql-execution\">https://github.com/cqframework/cql-execution</a>). I installed the current versions of Node.js, Yarn and CoffeeScript. I am using a Windows 7. I get an exception during the install:</p>\n<p>D:\\Code\\DW\\cql-execution&gt;yarn install<br>\nyarn install v1.9.4<br>\n[1/4] Resolving packages...<br>\nsuccess Already up-to-date.<br>\n$ ./node_modules/.bin/cake build &amp;&amp; ./node_modules/.bin/cake build-cql4browsers<br>\nevents.js:183<br>\n      throw er; // Unhandled 'error' event<br>\n      ^</p>\n<p>Error: spawn coffee ENOENT<br>\n    at _errnoException (util.js:992:11)<br>\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:190:19)<br>\n    at onErrorNT (internal/child_process.js:372:16)<br>\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)<br>\n    at process._tickCallback (internal/process/next_tick.js:180:9)<br>\n    at Function.Module.runMain (module.js:695:11)<br>\n    at startup (bootstrap_node.js:191:16)<br>\n    at bootstrap_node.js:612:3</p>\n<p>error Command failed with exit code 1.<br>\ninfo Visit <a href=\"https://yarnpkg.com/en/docs/cli/install\" target=\"_blank\" title=\"https://yarnpkg.com/en/docs/cli/install\">https://yarnpkg.com/en/docs/cli/install</a> for documentation about this command.</p>\n<p>When running \"cake build-cql4browsers\" I get this exception:</p>\n<p>D:\\Code\\DW\\cql-execution&gt;cake build-cql4browsers<br>\nBrowserifing cql4browsers...<br>\nevents.js:183<br>\n      throw er; // Unhandled 'error' event<br>\n      ^</p>\n<p>Error: Cannot find module 'D:\\Code\\DW\\cql-execution\\lib\\example\\browser\\simple-browser-support.js' from 'D:\\Code\\DW\\cql-execution'<br>\n    at D:\\Code\\DW\\cql-execution\\node_modules\\browser-resolve\\node_modules\\resolve\\lib\\async.js:55:21<br>\n    at load (D:\\Code\\DW\\cql-execution\\node_modules\\browser-resolve\\node_modules\\resolve\\lib\\async.js:69:43)<br>\n    at onex (D:\\Code\\DW\\cql-execution\\node_modules\\browser-resolve\\node_modules\\resolve\\lib\\async.js:92:31)<br>\n    at D:\\Code\\DW\\cql-execution\\node_modules\\browser-resolve\\node_modules\\resolve\\lib\\async.js:22:47<br>\n    at FSReqWrap.oncomplete (fs.js:152:21)</p>\n<p>The folder \"D:\\Code\\DW\\cql-execution\\lib\" does not exist (yet?) on my system. Has a previous step already failed that should have created this folder and the content within? Perhaps the CoffeeScript installation/call had a problem.</p>\n<p>When running \"coffee cql.coffee\" from the \"src\" folder I get this error:</p>\n<p>D:\\Code\\DW\\cql-execution\\src&gt;coffee cql.coffee<br>\nD:\\Code\\DW\\cql-execution\\src\\elm\\expression.coffee:32:9: error: unexpected indentation<br>\n    super</p>\n<p>I do not have experience in CoffeScript and JavaScript, so perhaps my debugging information above is of no use at all. What could I do to give more information on the source of the problem ?<br>\nGreetings</p>",
        "id": 153990954,
        "sender_full_name": "Georg Fette",
        "timestamp": 1535360944
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span>?</p>",
        "id": 153991014,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1535380117
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196537\">@Georg Fette</span> -- I've not seen this before, but I wonder if it is due to the node version.  We test using Node 8.x, but I'm guessing you probably installed Node 10.x (as the instructions are not at all specific).  Could you try downgrading to Node 8.x to see if that makes a difference?  I've seen several projects that don't do well under Node 10.</p>",
        "id": 153991023,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1535381955
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> I did install version 8.11.4 because it was described as \"recommended for most users\" on the node.js website. Has the installation of the cql execution framework already succeeded on a Windows system? I read about problems with coffeescript execution on Windows systems because of sub process spawning problems. It looks like the \"cql-execution\\lib\\\" folder is not being created in which the .js files are stored created by the coffeescript processes. Is there a way to start the .coffee-&gt;.js transformations manually?</p>",
        "id": 153991200,
        "sender_full_name": "Georg Fette",
        "timestamp": 1535445359
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196537\">@Georg Fette</span> -- I apologize for the trouble.  I expect that it has to do with our <code>prepublish</code> command in the <code>package.json</code>.  We're using <code>&amp;&amp;</code> to execute two commands in sequence -- but I bet Windows isn't happy with that.  Let me see if I can find a Windows-friendly alternative.  Stand by.</p>",
        "id": 153991335,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1535480764
    },
    {
        "content": "<p>Actually -- after some Googling it seems like <code>&amp;&amp;</code> <em>should</em> be supported in Windows. Hmm...</p>",
        "id": 153991337,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1535481057
    },
    {
        "content": "<p>It seems there may be a problem with launching child processes through these scripts in windows.  Here are a few things to try:</p>",
        "id": 153991338,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1535481575
    },
    {
        "content": "<p>First, try running <code>cake build</code>.  If that works, it should create the <em>lib</em> folder and then you'll be able to run <code>cake build-cql4browsers</code>.</p>",
        "id": 153991339,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1535481647
    },
    {
        "content": "<p>If that doesn't work, try editing the <code>Cakefile</code> on line 11 from:</p>\n<div class=\"codehilite\"><pre><span></span>  coffee = spawn &#39;coffee&#39;, args\n</pre></div>\n\n\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span>  coffee = spawn &#39;coffee.cmd&#39;, args\n</pre></div>",
        "id": 153991340,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1535481673
    },
    {
        "content": "<p>yeah, that did it ! Thank you !</p>",
        "id": 153991342,
        "sender_full_name": "Georg Fette",
        "timestamp": 1535481869
    },
    {
        "content": "<p>Great! For future reference, what did it?  Running <code>cake build</code> on its own or editing that line in the <code>Cakefile</code>?</p>",
        "id": 153991349,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1535483854
    },
    {
        "content": "<p>the change of the line in the cakefile</p>",
        "id": 153991353,
        "sender_full_name": "Georg Fette",
        "timestamp": 1535484423
    }
]