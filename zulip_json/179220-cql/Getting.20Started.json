[
    {
        "content": "<p>Hi CQL stream! First time posting here, and first time getting exposed to CQLs. I have a very fundamental question -- How do I call a library or \"Using\" portion of the library. </p>\n<p>I am trying to prototype some quick Clinical Decision Support tool, and I was trying to leverage \"Quick\". However, I am not sure how to get started. Anyone has any guidance on getting started with a CDS CQL?<br>\nThank you in Advance!</p>",
        "id": 235541636,
        "sender_full_name": "Ashmit Pyakurel",
        "timestamp": 1619022817
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"407374\">@Ashmit Pyakurel</span> , one way to get started is to use the <a href=\"https://github.com/cqframework/atom_cql_support\">Atom CQL Language Plugin</a>, the readme on that project has instructions for getting started. CQL can be used with any data model that it has a \"description\" of, and the tooling out-of-the-box understands QUICK as a conceptual model, so when the CQL has a declaration of <code>using QUICK</code> that means that retrieves within that library can access the data described by the QUICK model. The most well-supported models at this point are QDM (in the MAT and Bonnie measure authoring tooling) and FHIR (in the CDS Connect Authoring tooling, the Atom plugin, and many of the open source evaluation stacks).</p>",
        "id": 235726781,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1619116453
    },
    {
        "content": "<p>For a Quick Start on CQL, you might consider walking through the <a href=\"https://github.com/cqframework/cqf-exercises\">CQL Exercises</a>.</p>",
        "id": 235726872,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1619116499
    },
    {
        "content": "<p>There's also the <a href=\"https://cql.hl7.org/02-authorsguide.html\">Author's Guide</a> in the specification itself, and a <a href=\"https://github.com/cqframework/CQL-Formatting-and-Usage-Wiki/wiki/Developers-Introduction-to-CQL\">Developer's Introduction to CQL</a> in the CQL Formatting and Usage Wiki.</p>",
        "id": 235727071,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1619116564
    },
    {
        "content": "<p>Hi Bryn, <br>\nSorry for the trouble, but perhaps I am missing something. I tried to follow the steps exactly articulated in the Atom's documentation, and get the following error:</p>\n<p>*Running tests.<br>\nNo tests found at /Users/ashmitpyakurel/Documents/Atom/input/tests. Evaluation may fail if data is required.<br>\nNo terminology found at /Users/ashmitpyakurel/Documents/Atom/input/vocabulary/valueset. Evaluation may fail if terminology is required.</p>\n<p>The following errors were encountered during evaluation:<br>\norg.cqframework.cql.cql2elm.CqlTranslatorIncludeException: Could not load source for library test, version null.\n*</p>\n<p>For context, I was trying to run the first exercise, which doesn't even leverage any FHIR data or reference that library</p>",
        "id": 235916349,
        "sender_full_name": "Ashmit Pyakurel",
        "timestamp": 1619215624
    },
    {
        "content": "<p>Did you clone the cqf-exercises repository locally and open the Atom editor on the root of that repository? So your Project window in Atom looks like this:<br>\n<a href=\"/user_uploads/10155/wlBQsPxz0eWF-FlXwCVMB1Jb/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/wlBQsPxz0eWF-FlXwCVMB1Jb/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/wlBQsPxz0eWF-FlXwCVMB1Jb/image.png\"></a></div>",
        "id": 235917098,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1619216140
    },
    {
        "content": "<p>From the messages you're getting it seems like the Atom editor isn't open on the project.</p>",
        "id": 235917184,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1619216189
    },
    {
        "content": "<p>Hi!<br>\nI have my project file structure like the following:</p>\n<div class=\"codehilite\"><pre><span></span><code>|-- measures\n    |-- helpers\n        |-- FHIRHelpers-4.0.1.cql\n        |-- FHIRHelpers-4.0.001.cql\n        |-- [any other helper].cql\n    |-- DiabeticFootExam-1.0.0.cql\n    |-- BCS_Logic-0.9.001.cql\n    |-- BCS_Logic-0.9.002.cql\n    |-- [any other measure].cql\n</code></pre></div>\n<p>Is there a way to configure Atom or the plugin to search helpers in <code>helpers</code> folder?</p>\n<p>Thanks!<br>\n-VH</p>",
        "id": 235969160,
        "sender_full_name": "Vasyl Herman",
        "timestamp": 1619269818
    },
    {
        "content": "<p>Thank you!</p>",
        "id": 236194827,
        "sender_full_name": "Ashmit Pyakurel",
        "timestamp": 1619450760
    },
    {
        "content": "<p>Hi Vasil,</p>\n<p>Currently it's not possible to configure the plugin that way. It expects all the included Libraries to be in the same directory as the one you're executing.</p>",
        "id": 236252009,
        "sender_full_name": "JP",
        "timestamp": 1619474702
    },
    {
        "content": "<p>Hi, we're trying to get tests running in atom,<br>\nand we keep getting the following error when trying to run the tests. It says it can't find the library, but we have the  CQL in input/cql and tests in input/tests/[libraryname] like other IGs we've seen, like CQF-Exercises and ANC, and are able to run tests in those. Any idea why we're getting this error?</p>\n<div class=\"codehilite\"><pre><span></span><code>Running tests.\nData path: /Users/alex/Documents/GitHub/Ontario-Lung-Cancer-Screening-CCG/input/tests/LungCancerScreening\nNo terminology found at /Users/alex/Documents/GitHub/Ontario-Lung-Cancer-Screening-CCG/input/vocabulary/valueset. Evaluation may fail if terminology is required.\n\nThe following errors were encountered during evaluation:\norg.cqframework.cql.cql2elm.CqlTranslatorIncludeException: Could not load source for library LungCancerScreening, version null.\n</code></pre></div>\n<p><span class=\"user-mention\" data-user-id=\"416084\">@Paul Puscas</span></p>",
        "id": 247592411,
        "sender_full_name": "Alex Goel",
        "timestamp": 1627569578
    },
    {
        "content": "<p>Is the CQL file named 'LungCancerScreening.cql'? It's also important to save the file prior to execution if you've not done that.</p>",
        "id": 247604213,
        "sender_full_name": "JP",
        "timestamp": 1627574697
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194178\">@JP</span> Yes it is LungCancerScreening - we're trying an Ontario Lung Cancer Screening example - plus the CQF-Exercises had a good example  of the US one :) </p>\n<p>We have saved the file prior to execution and put in test observations</p>",
        "id": 247604951,
        "sender_full_name": "Alex Goel",
        "timestamp": 1627575092
    },
    {
        "content": "<p>Any way you could send me the directory or link me to the repo?</p>",
        "id": 247605065,
        "sender_full_name": "JP",
        "timestamp": 1627575139
    },
    {
        "content": "<p><a href=\"https://github.com/PuraJuniper/Ontario-Lung-Cancer-Screening-CCG\">https://github.com/PuraJuniper/Ontario-Lung-Cancer-Screening-CCG</a></p>",
        "id": 247605441,
        "sender_full_name": "Alex Goel",
        "timestamp": 1627575340
    },
    {
        "content": "<p>library \"LungCancerScreening\" version '1.0.0'  -&gt;<br>\nlibrary LungCancerScreening version '1.0.0'</p>\n<p>I'll file an issue for that.</p>",
        "id": 247607657,
        "sender_full_name": "JP",
        "timestamp": 1627576389
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"194178\">@JP</span> that worked</p>",
        "id": 247613543,
        "sender_full_name": "Alex Goel",
        "timestamp": 1627579177
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> we originally generated this CQL from the AHRQ authoring tool. When we downloaded the CQL to edit it by hand (couldn't figure out how to convert units from days to years in AHRQ tool: packs per day smoked to packs years) it returned library \"LungCancerScreening\" version '1.0.0'</p>",
        "id": 247614243,
        "sender_full_name": "Alex Goel",
        "timestamp": 1627579414
    },
    {
        "content": "<p>“LungCancerScreening” is valid. It’s the Atom plug-in that has a problem.</p>",
        "id": 247614946,
        "sender_full_name": "JP",
        "timestamp": 1627579732
    },
    {
        "content": "<p>Gotcha!</p>",
        "id": 247615881,
        "sender_full_name": "Alex Goel",
        "timestamp": 1627580169
    },
    {
        "content": "<p><a href=\"https://cql.hl7.org/19-l-cqlsyntaxdiagrams.html#library\">https://cql.hl7.org/19-l-cqlsyntaxdiagrams.html#library</a> is a clickable diagram of the grammar, which sometimes helps</p>",
        "id": 247753547,
        "sender_full_name": "Paul Denning",
        "timestamp": 1627674530
    }
]