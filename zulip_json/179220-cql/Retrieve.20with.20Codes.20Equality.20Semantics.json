[
    {
        "content": "<p>The equivalent (~) operation compares codes only by system and code ignoring the version, were the equal (=) operation also compares for version. What equality semantics are used in retrieves with codes - equal or equivalent?</p>",
        "id": 182484470,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1575400461
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span></p>",
        "id": 182488505,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1575402959
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197470\">@Alexander Kiel</span> -- I suppose the spec doesn't make it 100% clear, but I believe that retrieves are intended to use <em>equivalence</em>.  The behavior of a retrieve using a valueset is the same as using the <code>In (ValueSet)</code> function, which specifies that <em>equivalence</em> is used for codes and concepts (<a href=\"https://cql.hl7.org/09-b-cqlreference.html#in-valueset\" target=\"_blank\" title=\"https://cql.hl7.org/09-b-cqlreference.html#in-valueset\">doc</a>).  And while it's just a passing reference, <a href=\"https://cql.hl7.org/02-authorsguide.html#filtering-with-terminology\" target=\"_blank\" title=\"https://cql.hl7.org/02-authorsguide.html#filtering-with-terminology\">section 2.2</a> also states (when referring to an example):</p>\n<blockquote>\n<p>The \"Get Condition from Code Declaration\" expression returns conditions for the patient where the code is equivalent to the \"Acute Pharyngitis Code\" code.</p>\n</blockquote>",
        "id": 182489867,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1575403659
    },
    {
        "content": "<p>Yes, it's implied, but you're right, never explicitly stated. I've submitted an STU comment to clarify this in the specification, as the intent is definitely to use equivalence semantics (and at least the Java-based engine does that currently).</p>",
        "id": 182494131,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1575406502
    },
    {
        "content": "<p><a href=\"http://www.hl7.org/dstucomments/showdetail_comment.cfm?commentid=1882\" target=\"_blank\" title=\"http://www.hl7.org/dstucomments/showdetail_comment.cfm?commentid=1882\">http://www.hl7.org/dstucomments/showdetail_comment.cfm?commentid=1882</a></p>",
        "id": 182494141,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1575406507
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> Thanks. I also checked <a href=\"https://github.com/DBCG/cql_engine/blob/7c0be74090666a0d85859d283c2a649301fa10e9/cql-engine-fhir/src/main/java/org/opencds/cqf/cql/data/fhir/FhirDataProviderR4.java\" target=\"_blank\" title=\"https://github.com/DBCG/cql_engine/blob/7c0be74090666a0d85859d283c2a649301fa10e9/cql-engine-fhir/src/main/java/org/opencds/cqf/cql/data/fhir/FhirDataProviderR4.java\">FhirDataProviderR4</a> and it also doesn't use the version. In addition to that, <a href=\"https://www.hl7.org/fhir/search.html#token\" target=\"_blank\" title=\"https://www.hl7.org/fhir/search.html#token\">FHIR token search</a> also doesn't support version.</p>\n<p>Ah thanks <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span>  I see you comment while writing this. :-)</p>",
        "id": 182494215,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1575406559
    }
]