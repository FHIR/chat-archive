[
    {
        "content": "<p>I'm a newbie , trying to find documentation on how to execute CQL using hapi-fhir-jpa-server-starter (R4). I have enabled cql by setting <code>hapi.fhir.cql_enabled=true</code>.  I don't know how to send my cql file to the server for execution. Can someone point me to the relevant documentation?</p>",
        "id": 232372032,
        "sender_full_name": "Aditya Kurkure",
        "timestamp": 1617078219
    },
    {
        "content": "<p>Hi, I am not sure how it happens on hapi side, you may need to translate CQL to EML first. </p>\n<p>For our experiments we are using <a href=\"https://github.com/cqframework/clinical_quality_language/blob/master/Src/java/cql-to-elm/OVERVIEW.md\">cql2elm</a> to translate CQL to ELM, then we are running <a href=\"https://github.com/cqframework/cql-execution\">cql-execution</a> to execute a ELM files.</p>\n<p>I'd be happy to learn how to execute CQL using hapi-fhir-jpa-server-starter as well.</p>",
        "id": 232441704,
        "sender_full_name": "Vasyl Herman",
        "timestamp": 1617116810
    },
    {
        "content": "<p>The hapi fhir server does not (yet) support executing arbitrary cql. It only supports cql evaluation in the context of <code>$evaluate-measure</code> at this time. It does support operating from cql directly when evaluating a Measure, there's no need to translate to ELM ahead of time.</p>",
        "id": 232444228,
        "sender_full_name": "JP",
        "timestamp": 1617117632
    },
    {
        "content": "<p>The cqf-ruler does support executing arbitrary cql with an operation defined here:</p>\n<p><a href=\"https://github.com/DBCG/cqf-ruler/blob/b4156f0431dd672d5df6ed1324babbefd42d0645/r4/src/main/java/org/opencds/cqf/r4/providers/CqlExecutionProvider.java#L233\">https://github.com/DBCG/cqf-ruler/blob/b4156f0431dd672d5df6ed1324babbefd42d0645/r4/src/main/java/org/opencds/cqf/r4/providers/CqlExecutionProvider.java#L233</a></p>\n<p>I expect that to migrate to the hapi server in the near future.</p>",
        "id": 232444625,
        "sender_full_name": "JP",
        "timestamp": 1617117790
    },
    {
        "content": "<p>Hey, you can orient yourself at the following file: <a href=\"https://github.com/juliangruendner/fhir-benchmarking/blob/master/cql/evaluate-measure.sh\">https://github.com/juliangruendner/fhir-benchmarking/blob/master/cql/evaluate-measure.sh</a></p>\n<p>Please be aware, that there must be some changes made to the script to work with HAPI (the system must be added to Library.type, and canonical urls are not yet supported in Measure.library, see the Pull Request)</p>",
        "id": 232572627,
        "sender_full_name": "Johannes Oehm",
        "timestamp": 1617189365
    },
    {
        "content": "<p>Hi thankyou for the help everyone. I'll try them out and let you know <span aria-label=\"big smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"big smile\">:big_smile:</span>.</p>",
        "id": 232919798,
        "sender_full_name": "Aditya Kurkure",
        "timestamp": 1617381069
    }
]