[
    {
        "content": "<p>Trying to run hapi-fhir-jpaserver-starter (as R4) with hapi.fhir.cql_enabled=true.</p>",
        "id": 227686732,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1614206219
    },
    {
        "content": "<p>I'm getting the following error:</p>\n<div class=\"codehilite\"><pre><span></span><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;fhirModelResolver&#39; defined in class path resource [ca/uhn/fhir/cql/config/CqlR4Config.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.opencds.cqf.cql.engine.model.ModelResolver]: Factory method &#39;fhirModelResolver&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/opencds/cqf/cql/evaluator/engine/model/CachingModelResolverDecorator\n</code></pre></div>",
        "id": 227686766,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1614206231
    },
    {
        "content": "<p>It looks like it's missing <code>org/opencds/cqf/cql/evaluator/engine/model/CachingModelResolverDecorator</code></p>",
        "id": 227686800,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1614206246
    },
    {
        "content": "<p>Looked through the dependencies of <code>hapi-fhir-jpaserver-starter</code> for cql engine, and don't see anything related to <code>/engine/model/CachingModelResolverDecorator</code></p>",
        "id": 227686875,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1614206279
    },
    {
        "content": "<p>Any guidance?</p>",
        "id": 227686889,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1614206283
    },
    {
        "content": "<p>Oddly, even though <code>hapi-fhir</code> build, in IntelliJ, it says it can't fine the <code>CachingModelResolverDecorator</code> class, also.<br>\n<a href=\"/user_uploads/10155/u1qlAyBqSOhrO50yVw-vS_7q/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/u1qlAyBqSOhrO50yVw-vS_7q/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/u1qlAyBqSOhrO50yVw-vS_7q/image.png\"></a></div>",
        "id": 227688274,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1614206884
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195261\">@Kevin Dougan</span> May have some hints on how to troubleshoot this issue.</p>",
        "id": 227764513,
        "sender_full_name": "Richard Stanley",
        "timestamp": 1614258919
    },
    {
        "content": "<p>Any thoughts <span class=\"user-mention\" data-user-id=\"195261\">@Kevin Dougan</span> ?</p>",
        "id": 227835477,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1614285820
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> - The dependencies for the <code>org/opencds/cqf/cql/evaluator/engine</code> are pulled in transitively through the <code>hapi-fhir-jpaserver-cql</code> dependency here:</p>\n<p><a href=\"https://github.com/hapifhir/hapi-fhir/blob/master/hapi-fhir-jpaserver-cql/pom.xml#L26\">https://github.com/hapifhir/hapi-fhir/blob/master/hapi-fhir-jpaserver-cql/pom.xml#L26</a></p>\n<p>I just pulled the latest from the <code>master</code> branch <code>hapi-fhir-jpaserver-starter</code> project and tried <code>mvn jetty:run</code> and it seems to work ok. Could you double check and make sure you have the latest code?</p>",
        "id": 228436581,
        "sender_full_name": "JP",
        "timestamp": 1614701543
    }
]