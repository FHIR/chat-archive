[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I am starting this thread for the items still outstanding with the Publisher relative to UTG pages at <a href=\"http://terminology.hl7.org\">terminology.hl7.org</a>.</p>",
        "id": 197869091,
        "sender_full_name": "Ted Klein",
        "timestamp": 1589749819
    },
    {
        "content": "<ol>\n<li>UTG has a local extension for NamingSystem.title, but this does not show up with the Publisher. The missing &lt;title&gt; for NamingSytsem has been addressed in R5 as well, but the Published pages have no title them at all for the NamingSystem entries, which is also an issue in the Table or Contents.   Needs to be addressed in some way.</li>\n</ol>",
        "id": 197869138,
        "sender_full_name": "Ted Klein",
        "timestamp": 1589749913
    },
    {
        "content": "<ol start=\"2\">\n<li>There seems to be some problem with multiple entries for uniqueID for NamingSystem.  The OID and two entries (true and false for preferred) for URI are rendering but an additional one of type 'other' is not.   Also it appears that having additional URI entries for uniqueID where preferree=falso do not work either.</li>\n</ol>",
        "id": 197869218,
        "sender_full_name": "Ted Klein",
        "timestamp": 1589750023
    },
    {
        "content": "<ol start=\"3\">\n<li>This is a 'nice to have' for perhaps down the road someday - it would be nice to flag the List entries that drive the tab contents so that visual hints could be provided for some of the entries which are special in some way.   Initially, the though is to flag the ballot-bound code systems and value sets, as these will not be subject to the community maintenance process in UTG, but must be updated through the ballot process.   Ideally, something is List.entry.display to do this would be great.</li>\n</ol>",
        "id": 197869361,
        "sender_full_name": "Ted Klein",
        "timestamp": 1589750185
    },
    {
        "content": "<ol>\n<li>where do you think it should be appearing?</li>\n<li>where can I see an example?</li>\n<li>Is this a property of the list, or of the resource? I think it's a property of the resource.</li>\n</ol>",
        "id": 197994813,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589835581
    },
    {
        "content": "<ol>\n<li>ToC and page title</li>\n</ol>",
        "id": 198002858,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589840604
    },
    {
        "content": "<p>proper extension for NamingSystem.title is <a href=\"http://hl7.org/fhir/5.0/StructureDefinition/extension-NamingSystem.title\">http://hl7.org/fhir/5.0/StructureDefinition/extension-NamingSystem.title</a></p>",
        "id": 198003183,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589840831
    },
    {
        "content": "<p>example for #2 is <a href=\"https://terminology.hl7.org/NamingSystem-icd10.html\">https://terminology.hl7.org/NamingSystem-icd10.html</a></p>",
        "id": 198003478,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589841004
    },
    {
        "content": "<p>discussion for #3 moved to IG creation to see what the general case is</p>",
        "id": 198003874,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589841272
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> it looks like both missing titles in #1 - both table of contents text and also the page title - come from the template. It's the template that will have to look for the Naming system extension not the IG publisher</p>",
        "id": 198009668,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589846653
    },
    {
        "content": "<p>The publisher puts the titles into the IG from the resource information.  The template just grabs this information to create the artifact list (which we're not using for UTG).  The ToC is generated by publisher too.  So I'm not sure where in the template I need to make changes?</p>",
        "id": 198013390,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589850574
    },
    {
        "content": "<p>(<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> )</p>",
        "id": 198013394,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589850579
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191982\">@Ted Klein</span> I can't reproduce #2</p>",
        "id": 198014153,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589851462
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> looking further at this: at least for UTG, but I think for all IGs, the template should insert the resource type in the page title. e.g. check out these 2 pages:</p>\n<ul>\n<li><a href=\"https://terminology.hl7.org/CodeSystem-v3-ActClass.html\">https://terminology.hl7.org/CodeSystem-v3-ActClass.html</a></li>\n<li><a href=\"https://terminology.hl7.org/ValueSet-v3-ActClass.html\">https://terminology.hl7.org/ValueSet-v3-ActClass.html</a></li>\n</ul>",
        "id": 198022447,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589864382
    },
    {
        "content": "<p>Hmmm....odd.   With the latest test #2 does seem to work properly; maybe I was confused earlier.   You can take a look at the ICD10 Naming System resource in build 1.0.4, seems good.</p>",
        "id": 198062622,
        "sender_full_name": "Ted Klein",
        "timestamp": 1589893745
    },
    {
        "content": "<p>Fixed</p>",
        "id": 198142078,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589933129
    },
    {
        "content": "<p>Publisher 96 seems to be broken on a branch build...checking into it...can't find snowed any more?   Check for supported code systems for <a href=\"http://snomed.info/sct\">http://snomed.info/sct</a>  (01:31.0387)<br>\nPublishing Content Failed: null</p>",
        "id": 198795739,
        "sender_full_name": "Ted Klein",
        "timestamp": 1590514561
    },
    {
        "content": "<p>I think I found what was a causing the issue:   some items inserted into a naming system resource from the editor were legal xml but the publisher chokes on them.   Like a subtle bug in the editor not the publisher.  Will experiment with 97 now.</p>",
        "id": 198841255,
        "sender_full_name": "Ted Klein",
        "timestamp": 1590542742
    },
    {
        "content": "<p>Publisher 97 builds but still has the 60000+ broken link error on the FHIR R4 items references by the value sets in UTG.</p>",
        "id": 198888098,
        "sender_full_name": "Ted Klein",
        "timestamp": 1590585173
    },
    {
        "content": "<p>Publisher 1.0.10 looks pretty good.     One question:  if a ValueSet.compose.include references a value set that is newly created in the IG (and is created without error in the UTG IG) but the value set did NOT exist in the last published version - ie the value set canonical URL does not resolve and is de novo in the current build - the referencing value set appears to not be able to be built although its other components are all ok and the referenced value set builds fine in the current build.   <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> is there anything that can be done about this other than waiting until a new release is published so the referenced objects have valid redirects?</p>",
        "id": 206604532,
        "sender_full_name": "Ted Klein",
        "timestamp": 1597166969
    },
    {
        "content": "<p>I don't know why it won't build</p>",
        "id": 206804453,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597318766
    },
    {
        "content": "<p>what's an example?</p>",
        "id": 206804463,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597318773
    },
    {
        "content": "<p>Had an odd error surface when the update to Publisher 1.1.77 made to get rid of the 600 or so UTG errors on the NamingSystem extension URL issue.  BUT - a new error seems to have been introduced.</p>",
        "id": 246869374,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970616
    },
    {
        "content": "<p>On the V2 code system resources, we have defined a property in the THO/UTG conceptproperties code system for a v2 thing - 'v2-concComment'</p>",
        "id": 246869493,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970669
    },
    {
        "content": "<p>It seems that the string value in the valueString is being treated as a URL when the string begins with one word followed by a colon then a space then the rest of the string value</p>",
        "id": 246869627,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970721
    },
    {
        "content": "<p>The error given is:</p>",
        "id": 246869641,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970730
    },
    {
        "content": "<p>The link 'Class: Insurance&lt;p&gt;Used for the UK NHS national identifier.&lt;p&gt;In the US, the Assigning Authority for this value is typically CMS, but it may be used by all providers and insurance companies in HIPAA related transactions.' for \"Class: Insurance&lt;p&gt;Used for the UK NHS national identifier.&lt;p&gt;In the US, the Assigning Authority for this value is typically CMS, but it may be used by all providers and insurance companies in HIPAA related transactions.\" cannot be resolved</p>",
        "id": 246869773,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970801
    },
    {
        "content": "<p>another error of the same ilk is:</p>",
        "id": 246869827,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970809
    },
    {
        "content": "<p>The link 'HCPCS: contains codes for medical equipment, injectable drugs, transportation services, and other services</p>",
        "id": 246869864,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970832
    },
    {
        "content": "<p>The one I used to find the issue was in v2 table 0717 code system, a concept for a security item</p>",
        "id": 246869915,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970856
    },
    {
        "content": "<p>The element that causes the error is:</p>",
        "id": 246869944,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970873
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>&lt;property&gt;\n  &lt;code value=&quot;v2-concComment&quot;/&gt;\n  &lt;valueString value=&quot;Map: An &amp;#x201C;implied&amp;#x201D; consent directive maps to ISO/TS 17975:2015(E) definition for &amp;#x201C;Implied: Consent to Collect, Use and Disclose personal health information is implied by the actions or inactions of the individual and the circumstances under which it was implied&quot;/&gt;\n&lt;/property&gt;\n</code></pre></div>",
        "id": 246870162,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970966
    },
    {
        "content": "<p>The change that made the error go away was to remove the colon after the word Map</p>",
        "id": 246870209,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626970990
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>&lt;property&gt;\n  &lt;code value=&quot;v2-concComment&quot;/&gt;\n  &lt;valueString value=&quot;The Map - An &amp;#x201C;implied&amp;#x201D; consent directive maps to ISO/TS 17975:2015(E) definition for &amp;#x201C;Implied: Consent to Collect, Use and Disclose personal health information is implied by the actions or inactions of the individual and the circumstances under which it was implied&amp;#x201D;&quot;/&gt;\n&lt;/property&gt;\n</code></pre></div>",
        "id": 246870221,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626971005
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  Mark I - methinks this is something in the changes you made in the course of going from 1.1.73 (no error) to 1.1.77</p>",
        "id": 246870344,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626971058
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> I think this summarizes it, Rob - yes?</p>",
        "id": 246870398,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626971094
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191982\">@Ted Klein</span> Yes, I think that's a good summary and demonstrates the issue clearly enough - and should direct to the right place to get it fixed.</p>",
        "id": 246870737,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1626971273
    },
    {
        "content": "<p>hopefully it is an easy to find and fix problem.  Seems to be about 70 or so places this is happening in the build, mostly in v2 tables but also in other places.</p>",
        "id": 246911990,
        "sender_full_name": "Ted Klein",
        "timestamp": 1626991959
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> I am pinging you again in case you didn't see this...</p>",
        "id": 247486219,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627491669
    },
    {
        "content": "<p>Let me take a look</p>",
        "id": 247486745,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1627491879
    },
    {
        "content": "<p>So, these are difficult for me to know where to start looking exactly. But, it would help me out a lot if you did the following for me:</p>",
        "id": 247488311,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1627492571
    },
    {
        "content": "<p>Try with 1.1.74 (<a href=\"https://github.com/HL7/fhir-ig-publisher/releases/download/1.1.74/publisher.jar\">https://github.com/HL7/fhir-ig-publisher/releases/download/1.1.74/publisher.jar</a>), and let me know if it works.</p>",
        "id": 247488345,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1627492588
    },
    {
        "content": "<p>Try with 1.1.76 (<a href=\"https://github.com/HL7/fhir-ig-publisher/releases/download/1.1.76/publisher.jar\">https://github.com/HL7/fhir-ig-publisher/releases/download/1.1.76/publisher.jar</a>) and let me know if it works.</p>",
        "id": 247488392,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1627492614
    },
    {
        "content": "<p>Tell me the exact files I need and command you run to make this happen, so I can reproduce on my machine.</p>",
        "id": 247488428,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1627492632
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191982\">@Ted Klein</span></p>",
        "id": 247488448,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1627492647
    },
    {
        "content": "<p>so if you want to run the build to see what is going on, the Git UTG is the build source files:   <strong> </strong></p>",
        "id": 247529564,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627514844
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/UTG\">https://github.com/HL7/UTG</a></p>",
        "id": 247529574,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627514851
    },
    {
        "content": "<p>there are a raft of branches in there; the THO/UTG ci build (<a href=\"https://build.fhir.org/ig/HL7/UTG/index.html\">https://build.fhir.org/ig/HL7/UTG/index.html</a> ) is auto built (Josh M's web hook stuff) from the Git UTG master branch.</p>",
        "id": 247529682,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627514940
    },
    {
        "content": "<p>the UTG build is such a beast, I need to use the following arguments for the java command:</p>",
        "id": 247529709,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627514962
    },
    {
        "content": "<p>java -Xmx16G -Xss1G -jar /...path to where I keep my latest release of the publisher.../publisher.jar -ig ig.ini</p>",
        "id": 247529832,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627515053
    },
    {
        "content": "<p>the UTG git master branch image has the ig.ini file in the usual place</p>",
        "id": 247529854,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627515070
    },
    {
        "content": "<p>let me know if any problem.   the QA report of the error log for the output shows the errors I detail above - about 70 or so of them.    I suppress a lot of warnings, and there are errors that are well expected for value sets build on external code systems that <a href=\"http://tx.fhir.org\">tx.fhir.org</a> has no access to the content for.</p>",
        "id": 247529942,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627515153
    },
    {
        "content": "<p>the errors can be viewed in the ci build, QA report at <a href=\"https://build.fhir.org/ig/HL7/UTG/qa.html\">https://build.fhir.org/ig/HL7/UTG/qa.html</a></p>",
        "id": 247529988,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627515212
    },
    {
        "content": "<p>let me know if you want me to try with 74 and 76; I skipped those releases and went straight fro 73 to 77; if needed I can download and install then and give it a whirl.</p>",
        "id": 247530063,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627515289
    },
    {
        "content": "<p>Can you please try with both 74 and 76. <span class=\"user-mention\" data-user-id=\"191982\">@Ted Klein</span></p>",
        "id": 247582913,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1627565315
    },
    {
        "content": "<p>Then let me know. It will help me track down the exact change that is causing this.</p>",
        "id": 247582962,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1627565342
    },
    {
        "content": "<p>I will do it this afternoon, on my way out the door for an appointment this morning.</p>",
        "id": 247583679,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627565743
    },
    {
        "content": "<p>no rush</p>",
        "id": 247583690,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1627565753
    },
    {
        "content": "<p>thank you</p>",
        "id": 247583694,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1627565754
    },
    {
        "content": "<p>ok tested with 74, same 610 or so errors as 73.   Testing with 76 now...</p>",
        "id": 247649566,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627597922
    },
    {
        "content": "<p>ok, with 76 we still have the 610 errors, all in the form of:</p>",
        "id": 247655155,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627601927
    },
    {
        "content": "<p>NamingSystem.extension[1][url='<a href=\"http://hl7.org/fhir/5.0/StructureDefinition/extension-NamingSystem.url']\">http://hl7.org/fhir/5.0/StructureDefinition/extension-NamingSystem.url']</a> error   Extension url '<a href=\"http://hl7.org/fhir/5.0/StructureDefinition/extension-NamingSystem.url\">http://hl7.org/fhir/5.0/StructureDefinition/extension-NamingSystem.url</a>' is not valid (invalid Version '5.0')<br>\nNamingSystem.extension[1]   error   The extension <a href=\"http://hl7.org/fhir/5.0/StructureDefinition/extension-NamingSystem.url\">http://hl7.org/fhir/5.0/StructureDefinition/extension-NamingSystem.url</a> is unknown, and not allowed here</p>",
        "id": 247655201,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627601980
    },
    {
        "content": "<p>I will run with 77 on the same content I just ran 74 and 76 on to double check that the change is from 76 to 77...</p>",
        "id": 247655274,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627602018
    },
    {
        "content": "<p>The 600 errors went away with 77, but the 70 or so new errors (original problem description at start of this thread) is introduced with 77.</p>",
        "id": 247665981,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627614242
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> Does this help narrow it down?  Let me know if you need more information.</p>",
        "id": 247666019,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627614263
    },
    {
        "content": "<p>So, any time the publisher finds a word with a colon at either the beginning of a valueString or after a CRLF, it changes that string to a link.  Workaround is to global change colons in valueString elements to the html equivalent.  That will workaround it in the short term and get it published.</p>",
        "id": 247751761,
        "sender_full_name": "David Pyke",
        "timestamp": 1627673466
    },
    {
        "content": "<p><code>sed -i -e \"/valueString/s/:/\\&amp;#58;/\" *xml</code> is the command that will do it</p>",
        "id": 247751788,
        "sender_full_name": "David Pyke",
        "timestamp": 1627673486
    },
    {
        "content": "<p>UTG/THO has over 4000 resources in a score of different directories.   This is a bug that should be fixed.   Or perhaps you know someone who wants to run sed on 4000+ files scattered around?   AND - we have a vocabulary WG policy that voted content from Harmonization that underwent formal discussion, vote, vetting, QA, and publication is published AS VOTED; tooling issues are to be resolved by the tool smiths.   That is what we did with the coremif issues back when we did the old Harmonization.  I see no reason for that policy to be changed.    We have been dealing with THO/UTG with 600+ hard errors from the tooling for six months already as Grahame and Mark I. have had higher priorities from TSC and CTO in the intervening time.    I am unwilling to change approved balloted content as a workaround for a tooling snafu.</p>",
        "id": 247758797,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627677498
    },
    {
        "content": "<p>It was just a suggestion.  I apologize for bringing it up</p>",
        "id": 247759874,
        "sender_full_name": "David Pyke",
        "timestamp": 1627678113
    },
    {
        "content": "<p>no need for apology = there are good reasons I am such a pain in the butt on this stuff LOL...Mark will get it fixed I am quite certain.</p>",
        "id": 247774188,
        "sender_full_name": "Ted Klein",
        "timestamp": 1627689222
    },
    {
        "content": "<blockquote>\n<p>any time the publisher finds a word with a colon at either the beginning of a valueString or after a CRLF, it changes that string to a link</p>\n</blockquote>\n<p>What's an example? Where an I see this?</p>",
        "id": 249677501,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629174490
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> there are about 80 examples in our current build. <a href=\"http://build.fhir.org/ig/HL7/UTG/qa.html\">http://build.fhir.org/ig/HL7/UTG/qa.html</a>. Search on \"Class:\" and you should find  some good examples.</p>",
        "id": 249722367,
        "sender_full_name": "Jessica Bota",
        "timestamp": 1629208696
    },
    {
        "content": "<p>Grahame, most of these (but not all) are in the concept description for concepts in V2 tables, sometimes in Usage Notes, etc.    An example from v2 table 0357 where the string causing the issue is \"Rejection: \" in a text element is:</p>",
        "id": 249774107,
        "sender_full_name": "Ted Klein",
        "timestamp": 1629231870
    },
    {
        "content": "<p>&lt;concept id=\"3578\"&gt;<br>\n    &lt;code value=\"200\"/&gt;<br>\n    &lt;display value=\"Unsupported message type\"/&gt;<br>\n    &lt;definition value=\"Unsupported message type\"/&gt;<br>\n    &lt;designation&gt;<br>\n      &lt;language value=\"de\"/&gt;<br>\n      &lt;use&gt;<br>\n        &lt;system value=\"http://terminology.hl7.org/CodeSystem/hl7TermMaintInfra\"/&gt;<br>\n        &lt;code value=\"preferredForLanguage\"/&gt;<br>\n      &lt;/use&gt;<br>\n      &lt;value value=\"Nachrichtentyp wird nicht unterstützt\"/&gt;<br>\n    &lt;/designation&gt;<br>\n    &lt;property&gt;<br>\n      &lt;code value=\"v2-concComment\"/&gt;<br>\n      &lt;valueString value=\"Rejection: The Message Type is not supported.\"/&gt;<br>\n    &lt;/property&gt;<br>\n    &lt;property&gt;<br>\n      &lt;code value=\"v2-concCommentAsPub\"/&gt;<br>\n      &lt;valueString value=\"Rejection: The Message Type is not supported.\"/&gt;<br>\n    &lt;/property&gt;<br>\n    &lt;property&gt;<br>\n      &lt;code value=\"status\"/&gt;<br>\n      &lt;valueCode value=\"A\"/&gt;<br>\n    &lt;/property&gt;<br>\n  &lt;/concept&gt;</p>",
        "id": 249774110,
        "sender_full_name": "Ted Klein",
        "timestamp": 1629231871
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> The error manifests on all of the resources that have various elements or properties where the valueString begins with one word followed by a colon (:) followed by a space.   Change it (for instance the colon at the end of the second word, or replace the colon with a hyphen) and the problem disappears.</p>",
        "id": 249914794,
        "sender_full_name": "Ted Klein",
        "timestamp": 1629322434
    },
    {
        "content": "<p>fixed next release</p>",
        "id": 249952123,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629359482
    },
    {
        "content": "<p>What was the PR for this Grahame?</p>",
        "id": 250478720,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1629809071
    },
    {
        "content": "<p><a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/581\">https://github.com/hapifhir/org.hl7.fhir.core/pull/581</a></p>",
        "id": 250480151,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629809738
    },
    {
        "content": "<p>the changes to isAbsoluteUrl</p>",
        "id": 250480160,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629809747
    },
    {
        "content": "<p>Any ETA on the release which will include the fix for this?</p>",
        "id": 250680996,
        "sender_full_name": "Ted Klein",
        "timestamp": 1629924881
    },
    {
        "content": "<p>sometime in the next few days. Working hard on it</p>",
        "id": 250687006,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629927709
    },
    {
        "content": "<p>ok thanks for letting me know.  I'll look into that other question you had on the OMOP stuff...</p>",
        "id": 250967113,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630086017
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Just rebuilt UTG with the new publisher 1.1.78 - the error count went from 76 errors (in publisher 1.1.77) to 347.  WTF?</p>",
        "id": 251602403,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630519216
    },
    {
        "content": "<p>What are the errors</p>",
        "id": 251602478,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1630519240
    },
    {
        "content": "<p>Ugh - they are all scattered around the log file, intermixed with the original 76, 68 or so of which were the original substring followed by a colon in a commend or string value being processed as if it was a URL.   It will take some research to see what the newly introduced errors are.</p>",
        "id": 251603830,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630519761
    },
    {
        "content": "<p>you can do a pull from Git UTG and do a build and see what is going on and debug if that will help...</p>",
        "id": 251603960,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630519816
    },
    {
        "content": "<p>I think the last ci build was with 1.1.77; I did a local build on 1.1.78 and saw the errors; did not push to Git (yet)</p>",
        "id": 251604047,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630519860
    },
    {
        "content": "<p>This probably is related to the changes that went into the last release, <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 251604630,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1630520080
    },
    {
        "content": "<p>I am running a local build of the ci image so  can compare the errors in the local with the one from Git which last ran with 1.1.77</p>",
        "id": 251604762,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630520125
    },
    {
        "content": "<p>OK, a quite large number of the new errors were triggered by the code system 'v3-AmericanIndianAlaskaNativeLanuages.xml.    Here are two exemplars of the scores (perhaps hundreds?) of errors that are new with 1.1.78:</p>",
        "id": 251616615,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630525054
    },
    {
        "content": "<p>CodeSystem.concept[0].concept[0].concept[0].concept[0].concept[0].designation[0].use    error   Error performing operation 'validate-code: null' (parameters = \"\") for '<a href=\"http://snomed.info/sct#900000000000013009\">http://snomed.info/sct#900000000000013009</a>' (see Tx log)<br>\nCodeSystem.concept[0].concept[0].concept[0].concept[0].concept[1].designation[0].use    error   Error performing operation 'validate-code: null' (parameters = \"\") for '<a href=\"http://snomed.info/sct#900000000000013009\">http://snomed.info/sct#900000000000013009</a>' (see Tx log)</p>",
        "id": 251616617,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630525055
    },
    {
        "content": "<p>The value used for designationUse in CodeSystem.concept in the source is the same value we have been using for a few years, and can be viewed at <a href=\"http://hl7.org/fhir/valueset-designation-use.html\">http://hl7.org/fhir/valueset-designation-use.html</a></p>",
        "id": 251617083,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630525214
    },
    {
        "content": "<p>but may be a validation issue with some gnarly bit of <a href=\"http://tx.fhir.org\">tx.fhir.org</a>; now you are outside of my limited knowledge of how this stuff is validated during Publisher validation.  I leave it in you fellows' capable hands from here.</p>",
        "id": 251617218,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630525273
    },
    {
        "content": "<p>Did someone - <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> or <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> change something with the UTG template in the package library?  I can build locally, but the main build (triggered by the git push webhook) fails with:</p>",
        "id": 251643079,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630538074
    },
    {
        "content": "<p>Package Cache: var/lib/.fhir/packages                                            (00:00.0011)<br>\nLoad Template from hl7.utg.template                                              (00:00.0856)<br>\n2021-09-01 22:49:06.304 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.utg.template#null from server: <a href=\"http://packages.fhir.org\">http://packages.fhir.org</a><br>\n2021-09-01 22:49:06.844 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.utg.template#null from server: <a href=\"https://packages2.fhir.org/packages\">https://packages2.fhir.org/packages</a><br>\n2021-09-01 22:49:07.100 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.utg.template#null.x from server: <a href=\"http://packages.fhir.org\">http://packages.fhir.org</a><br>\n2021-09-01 22:49:07.299 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.utg.template#null.x from server: <a href=\"https://packages2.fhir.org/packages\">https://packages2.fhir.org/packages</a><br>\nPublishing Content Failed: Error loading template hl7.utg.template: null         (00:02.0549)</p>",
        "id": 251643080,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630538075
    },
    {
        "content": "<p>oh right</p>",
        "id": 251647703,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1630541309
    },
    {
        "content": "<p>update and try again</p>",
        "id": 251647744,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1630541353
    },
    {
        "content": "<p>tsk tsk.  ok, I'll tickle it but won't check until tomorrow, getting late-ish here and I need to arise early tomorrow...</p>",
        "id": 251656568,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630549052
    },
    {
        "content": "<p>LOL just failed again instantly this time:</p>",
        "id": 251656774,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630549271
    },
    {
        "content": "<p>API keys loaded from /etc/ig.builder.keyfile.ini                                 (00:00.0008)<br>\nPackage Cache: var/lib/.fhir/packages                                            (00:00.0011)<br>\nLoad Template from hl7.utg.template                                              (00:00.0896)<br>\n2021-09-02 02:19:17.774 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.utg.template#null from server: <a href=\"http://packages.fhir.org\">http://packages.fhir.org</a><br>\n2021-09-02 02:19:18.410 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.utg.template#null from server: <a href=\"https://packages2.fhir.org/packages\">https://packages2.fhir.org/packages</a><br>\n2021-09-02 02:19:19.022 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.utg.template#null.x from server: <a href=\"http://packages.fhir.org\">http://packages.fhir.org</a><br>\n2021-09-02 02:19:19.224 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.utg.template#null.x from server: <a href=\"https://packages2.fhir.org/packages\">https://packages2.fhir.org/packages</a><br>\nPublishing Content Failed: Error loading template hl7.utg.template: null         (00:03.0408)</p>",
        "id": 251656776,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630549273
    },
    {
        "content": "<p>you didn't update</p>",
        "id": 251656791,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1630549292
    },
    {
        "content": "<p>Update...ummm...new publisher?   update what?    The templates in the source?</p>",
        "id": 251656878,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630549361
    },
    {
        "content": "<p>get the latest version of UTG</p>",
        "id": 251656894,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1630549385
    },
    {
        "content": "<p>oh you pushed source to git?</p>",
        "id": 251656902,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630549403
    },
    {
        "content": "<p>y</p>",
        "id": 251656919,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1630549427
    },
    {
        "content": "<p>ugh...hard to update the branches with source changes due to horrendous merge conflicts...lemme see...I can update my master...what file(s) did you update so I can just pull those from master into the branches in question?</p>",
        "id": 251656992,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630549482
    },
    {
        "content": "<p>Also - when we update the full source for UTG in Git...we must also update the BitBucket copy as that is what the unwashed public uses as a clone point for the branches that they create for changes...I do that as part of my process whenever I update the git master</p>",
        "id": 251657092,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630549580
    },
    {
        "content": "<p>it's a simple fix:</p>",
        "id": 251657096,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1630549586
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/UTG/commit/614a2e00e23860cf4a48ad9c8241e30d6b91a4e8\">https://github.com/HL7/UTG/commit/614a2e00e23860cf4a48ad9c8241e30d6b91a4e8</a></p>",
        "id": 251657120,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1630549615
    },
    {
        "content": "<p>thanks - kicked it off again...I don't get any notifications when something like this is done to the source in areas that I do not generally touch...sigh...</p>",
        "id": 251657364,
        "sender_full_name": "Ted Klein",
        "timestamp": 1630549837
    },
    {
        "content": "<p>no indeed</p>",
        "id": 251657381,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1630549852
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Something changed over the weekend and I can no longer do any builds of UTG/THO - I cannot find any notification of something needed...error is after all the publisher operations are done.  On the automated one running at <a href=\"http://build.fhir.org\">build.fhir.org</a>, I get:</p>",
        "id": 258960007,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635169190
    },
    {
        "content": "<p>Generating Narratives                                                            (01:50.0114)<br>\nPublishing Content Failed: An error occurred trying to process this transaction request (13:26.0128)<br>\n                                                                                 (13:26.0128)<br>\nUse -? to get command line help                                                  (13:26.0129)<br>\n                                                                                 (13:26.0129)<br>\nStack Dump (for debugging):                                                      (13:26.0129)<br>\norg.hl7.fhir.r5.utils.client.EFhirClientException: An error occurred trying to process this transaction request<br>\n    at org.hl7.fhir.r5.utils.client.FHIRToolingClient.handleException(FHIRToolingClient.java:373)</p>",
        "id": 258960008,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635169191
    },
    {
        "content": "<p>On my local builds, all fail even those that worked previously just fine.   All like:</p>",
        "id": 258960177,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635169237
    },
    {
        "content": "<p>Publishing Content Failed: An error occurred trying to process this transaction request (05:10.0189)<br>\n                                                                                 (05:10.0190)<br>\nUse -? to get command line help                                                  (05:10.0190)<br>\n                                                                                 (05:10.0191)<br>\nStack Dump (for debugging):                                                      (05:10.0192)<br>\norg.hl7.fhir.r5.utils.client.EFhirClientException: An error occurred trying to process this transaction request<br>\n    at org.hl7.fhir.r5.utils.client.FHIRToolingClient.handleException(FHIRToolingClient.java:373)<br>\n    at org.hl7.fhir.r5.utils.client.FHIRToolingClient.transaction(FHIRToolingClient.java:341)</p>",
        "id": 258960180,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635169238
    },
    {
        "content": "<p>Does some change need to be done to the ig.ini file?    If so, where are such things usually announced so I can make sure I am subscribed?</p>",
        "id": 258960279,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635169281
    },
    {
        "content": "<p>my experience shows that it is likely the new IG publisher. I have reported details on the <a class=\"stream\" data-stream-id=\"179252\" href=\"/#narrow/stream/179252-IG-creation\">#IG creation</a></p>",
        "id": 258962117,
        "sender_full_name": "John Moehrke",
        "timestamp": 1635170044
    },
    {
        "content": "<p>seems to fail with my old version 82 publisher locally...hmmm...</p>",
        "id": 258963938,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635170856
    },
    {
        "content": "<p>okay, then not the same problem... or not as likely the same problem</p>",
        "id": 258966558,
        "sender_full_name": "John Moehrke",
        "timestamp": 1635172064
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> verified that the issue is the same local builds and git-push-triggered builds of UTG out at <a href=\"http://build.fhir.org\">build.fhir.org</a>; several minutes into validating conformance resources it fails with java errors.   Here is a snippet of the log; all branches fail the same way (trying to build things that build without error last week).   Same failure on publisher 1.1.82 and 1.1.84</p>",
        "id": 259124279,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635266220
    },
    {
        "content": "<p>Validating Conformance Resources                                                 (01:37.0997)<br>\nPublishing Content Failed: An error occurred trying to process this transaction request (03:58.0420)<br>\n                                                                                 (03:58.0420)<br>\nUse -? to get command line help                                                  (03:58.0421)<br>\n                                                                                 (03:58.0422)<br>\nStack Dump (for debugging):                                                      (03:58.0422)<br>\norg.hl7.fhir.r5.utils.client.EFhirClientException: An error occurred trying to process this transaction request<br>\n    at org.hl7.fhir.r5.utils.client.FHIRToolingClient.handleException(FHIRToolingClient.java:373)<br>\n    at org.hl7.fhir.r5.utils.client.FHIRToolingClient.transaction(FHIRToolingClient.java:341)<br>\n    at org.hl7.fhir.convertors.txClient.TerminologyClientR5.validateBatch(TerminologyClientR5.java:119)<br>\n    at org.hl7.fhir.r5.context.BaseWorkerContext.validateCodeBatch(BaseWorkerContext.java:830)<br>\n    at org.hl7.fhir.validation.instance.type.ValueSetValidator.validateValueSetInclude(ValueSetValidator.java:123)<br>\n    at org.hl7.fhir.validation.instance.type.ValueSetValidator.validateValueSetCompose(ValueSetValidator.java:68)<br>\n    at org.hl7.fhir.validation.instance.type.ValueSetValidator.validateValueSet(ValueSetValidator.java:58)<br>\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkSpecials(InstanceValidator.java:4207)<br>\n    at org.hl7.fhir.validation.instance.InstanceValidator.startInner(InstanceValidator.java:4179)<br>\n    at org.hl7.fhir.validation.instance.InstanceValidator.start(InstanceValidator.java:4033)<br>\n    at org.hl7.fhir.validation.instance.InstanceValidator.validateResource(InstanceValidator.java:5270)<br>\n    at org.hl7.fhir.validation.instance.InstanceValidator.validate(InstanceValidator.java:746)<br>\n    at org.hl7.fhir.validation.instance.InstanceValidator.validate(InstanceValidator.java:719)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:5071)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:4003)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3982)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:901)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:753)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8766)<br>\nCaused by: java.net.SocketException: Broken pipe (Write failed)<br>\n    at java.base/java.net.SocketOutputStream.socketWrite0(Native Method)</p>",
        "id": 259124288,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635266224
    },
    {
        "content": "<p>Validated that others can reproduce this error as well.   So THO/UTG builds are dead in the water now.</p>",
        "id": 259124383,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635266263
    },
    {
        "content": "<p>started also with a clean clone of the branch with empty txcache and temp folders.  same problem.</p>",
        "id": 259124553,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635266316
    },
    {
        "content": "<p>I see in the log it is validating against r5 items...do I need to change the package reference in the ig.ini file?  Something as simple as that?</p>",
        "id": 259124648,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635266363
    },
    {
        "content": "<p>no. everything is R5 internally in the tool. I had my head down yesterday working through supporting infrastructure issues. Now I'm looking at UTG directly</p>",
        "id": 259149627,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635277001
    },
    {
        "content": "<p>new piece of data just in last minutes:</p>",
        "id": 259153214,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635278555
    },
    {
        "content": "<p>an old branch 2.1.9 is building without the error; something may have been added which was always not correct and error not caught, but some change triggered a failure</p>",
        "id": 259153341,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635278614
    },
    {
        "content": "<p>starting the UTG call now, ttyl</p>",
        "id": 259153354,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635278624
    },
    {
        "content": "<p>ok it builds fine. I had to fix a configuration issue on the server (UTG really does hammer the system)</p>",
        "id": 259158016,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635280949
    },
    {
        "content": "<p>THANK YOU!!!!!</p>",
        "id": 259158129,
        "sender_full_name": "Ted Klein",
        "timestamp": 1635281027
    },
    {
        "content": "<p>New problem just introduced:   I was in the middle of doing the implementation of a proposal (UP-251) and it ran perfectly locally, but a new error I have never seen crashes Jekyll on the Git-triggered main build at <a href=\"http://build.fhir.org\">build.fhir.org</a> - noticed that the identical source builds perfectly with publisher 1.1.84 but fails in this way locally also now - updated my local version from 1.1.84 to 1.1.85</p>",
        "id": 261284832,
        "sender_full_name": "Ted Klein",
        "timestamp": 1636738176
    },
    {
        "content": "<p>So something was introduced that is breaking THO builds <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 261284859,
        "sender_full_name": "Ted Klein",
        "timestamp": 1636738196
    },
    {
        "content": "<p>The error now locally as well as on the web build is:</p>",
        "id": 261284923,
        "sender_full_name": "Ted Klein",
        "timestamp": 1636738214
    },
    {
        "content": "<p>Jekyll: Generating...                                                            (26:25.0729)<br>\nJekyll has failed. Complete output from running Jekyll:   Liquid Exception: Could not locate the included file 'CodeSystem-measure-type-xref.xhtml' in any of [\"/Users/tedklein/Documents/tedhl7/vocabulary/Projects/UTG/gitImages/in-flight/UP-251/temp/pages/_includes\"]. Ensure it exists in one of those direct (27:26.0856)<br>\nNote: Check that Jekyll is installed correctly                                   (27:26.0858)</p>",
        "id": 261284957,
        "sender_full_name": "Ted Klein",
        "timestamp": 1636738234
    },
    {
        "content": "<p>This resource it is complaining about 'measure-type-xref' does NOT exist in the input source material</p>",
        "id": 261285025,
        "sender_full_name": "Ted Klein",
        "timestamp": 1636738271
    },
    {
        "content": "<p>Please advise</p>",
        "id": 261285061,
        "sender_full_name": "Ted Klein",
        "timestamp": 1636738294
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> same error on local rebuild of the THO ci build which builds flawlessly with Publisher 1.1.84; perhaps <span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> you can shed some light on what is going on here?</p>",
        "id": 261290709,
        "sender_full_name": "Ted Klein",
        "timestamp": 1636740943
    },
    {
        "content": "<p>hmm. I'll have a look</p>",
        "id": 261454628,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636948607
    },
    {
        "content": "<p>on the last ci build with Publisher 1.1.84, the file measure-type-xref does not exist anywhere, in any xml or html output or bundle or anywhere.   so something very odd going on.</p>",
        "id": 261509220,
        "sender_full_name": "Ted Klein",
        "timestamp": 1636988909
    },
    {
        "content": "<p>tested a local build with Publisher 1.1.86 just now <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> and it fails the same way with the same error:</p>",
        "id": 261588666,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637028098
    },
    {
        "content": "<p>Reclaiming memory...</p>\n<h2>Memory (MB): Use = 2107, Free = 4988, Total = 7096, Max =16384</h2>\n<p>Jekyll: Source: /Users/tedklein/Documents/tedhl7/vocabulary/Projects/UTG/gitImages/UTG/temp/pages (30:59.0288)<br>\nJekyll: Generating...                                                            (30:59.0289)<br>\nJekyll has failed. Complete output from running Jekyll:   Liquid Exception: Could not locate the included file 'CodeSystem-measure-type-xref.xhtml' in any of [\"/Users/tedklein/Documents/tedhl7/vocabulary/Projects/UTG/gitImages/UTG/temp/pages/_includes\"]. Ensure it exists in one of those directories and, if (31:56.0812)<br>\nNote: Check that Jekyll is installed correctly                                   (31:56.0814)<br>\nPublishing Content Failed: Process exited with an error: 1 (Exit value: 1)       (31:56.0816)<br>\n                                                                                 (31:56.0817)<br>\nUse -? to get command line help                                                  (31:56.0818)<br>\n                                                                                 (31:56.0819)<br>\nStack Dump (for debugging):                                                      (31:56.0819)<br>\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)<br>\n    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)<br>\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)<br>\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:153)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.runJekyll(Publisher.java:5879)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.runTool(Publisher.java:5801)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5186)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:916)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:755)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8777)<br>\nteds-third-mbp:FHIR_tool_stuff tedklein$</p>",
        "id": 261588667,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637028099
    },
    {
        "content": "<p>IG publisher 1.1.84 and earlier actually created this in the .../temp/pages/_includes folder; from the contents of it this looks like some kinda of hosement in the combination of the UTG/THO content with the FHIR R4 content...the files that is created contains:</p>",
        "id": 261589103,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637028462
    },
    {
        "content": "<p>{% raw %}<br>\n&lt;ul&gt;<br>\n &lt;li&gt;&lt;a href=\"http://hl7.org/fhir/R4/valueset-measure-type.html\"&gt;MeasureType&lt;/a&gt;&lt;/li&gt;<br>\n &lt;li&gt;&lt;a href=\"ValueSet-measure-type.html\"&gt;MeasureType&lt;/a&gt;&lt;/li&gt;<br>\n&lt;/ul&gt;<br>\n{% endraw %}</p>",
        "id": 261589104,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637028463
    },
    {
        "content": "<p>But this file is no longer being created during the Jekyll processing apparently...</p>",
        "id": 261589157,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637028500
    },
    {
        "content": "<p>This may have been one item that was updated (the value set ValueSet-measure-type) in UTG, or perhaps it is a version processing issue?</p>",
        "id": 261589226,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637028591
    },
    {
        "content": "<p>The value set source in UTG is &lt;version value=\"0.2.0\"/&gt;; in the FHIR core it is  &lt;version value=\"4.0.1\"/&gt; .    The original version that you assigned to the value sets brought into THO from FHIR R4.0.1 was \"0.1.0\".     Did this change mess up your processing in some way <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?   Were we supposed to do something with these values in &lt;version&gt; for the FHIR value sets before R5?</p>",
        "id": 261589585,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637028920
    },
    {
        "content": "<p>it's a bit mystifying why this is version dependent on the IG publisher - none of the relevent code has been changed for months.</p>",
        "id": 261596310,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637036523
    },
    {
        "content": "<p>in this case, there was a bug checking for deprecation if not all the codes in a code system have a property (?)</p>",
        "id": 261596354,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637036564
    },
    {
        "content": "<p>there does seem to be a case consistency problem around v3-hc-AIC</p>",
        "id": 261596763,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637037009
    },
    {
        "content": "<p>anyway, fixed. O</p>",
        "id": 261601841,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637043444
    },
    {
        "content": "<p>I'll try and get a new version out in the next 12 hours</p>",
        "id": 261601849,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637043454
    },
    {
        "content": "<p>ok thanks, back home I will see what the possible case issue is with v3-hc-AIC.        Once the build is clean, you and I need to schedule when to do the THO release 3.0.0; TSC has approved the Publication requests and it is now on my docket.</p>",
        "id": 261877458,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637201011
    },
    {
        "content": "<p>and the new issues?</p>",
        "id": 261878113,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637201674
    },
    {
        "content": "<p>Good morning just back from NYC...so as soon as you release IGP 1.1.87 I will check a build with it...or you can try a local THO build with either git master (the ci build) or the content in git branch UP-251 (where I first discovered the error).  Or we can see if it fails even on the last release set 2.1.0;  let me know how to help because the UTG proposal processing, the release, everything THO/UTG is dead in the water until this gets addressed.     THEN we can look at the fixes for the 100s of warning from the new validation you are introducing on hierarchy meaning...</p>",
        "id": 261936660,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637246891
    },
    {
        "content": "<p>well, I got the publisher out at last</p>",
        "id": 261980857,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637264977
    },
    {
        "content": "<p>building locally now to check it - I have a question on the case mismatch error - the validation log seems to imply a mismatch between the ci build and release 2.1.0 on v3-hc-aic...but the submitter of a change a month or two ago explicitly changed the case of it from \"v3-hc-AIC\" in 2.1.0 to \"v3-hc-aic\" in the ci build (git master) now.    Is this causing the problem?    Is this supposed to be not doable?</p>",
        "id": 262005886,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637277375
    },
    {
        "content": "<p>it's not consistently changed. The case renaming may cause problems in the previous version comparison, but I wouldn't comment about that; the code systems list was not updated</p>",
        "id": 262111499,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637347847
    },
    {
        "content": "<p>I see in the temp folders you have the release cache I guess for check against previous release...there are a whole bunch of resources (mostly from Canada Health Infoway) which had their case changed.</p>",
        "id": 262474545,
        "sender_full_name": "Ted Klein",
        "timestamp": 1637682931
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 263629916,
        "sender_full_name": "Abdullah Rafiqi",
        "timestamp": 1638561464
    },
    {
        "content": "<p>Running the latest version of the master through version 1.1.99 of the publisher it builds fine, but now with 1.1.102 It fails to build after reaching the 'generate summary outputs' stage with this message:</p>\n<p>Exception in thread \"main\" java.lang.Error: The resource type \"NamingSystem\" does not implement the property \"experimental\"<br>\n    at org.hl7.fhir.r5.model.NamingSystem.getExperimental(NamingSystem.java:1768)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.populateResourceEntry(Publisher.java:6926)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSummaryOutputs(Publisher.java:6828)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5862)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1018)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10007)</p>",
        "id": 271897407,
        "sender_full_name": "Marc Duteau",
        "timestamp": 1644876928
    },
    {
        "content": "<p>oh</p>",
        "id": 271898416,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644877472
    },
    {
        "content": "<p>yay <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 271898442,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644877491
    },
    {
        "content": "<p>I don't think I ever argued against experimental, just url.</p>",
        "id": 271922245,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644895903
    },
    {
        "content": "<p>still fails the same way with publisher 1.1.102 - note that I do not see (or find) any such property in any of the NamingSystem resources in the UTG source in the UTG Git master set</p>",
        "id": 271922250,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644895913
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> can you give me some hint as to how to find this issue?  Or is it something funky in the infrastructure?</p>",
        "id": 271922313,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644895970
    },
    {
        "content": "<p>Did you intend to have experimental namingsystems?</p>",
        "id": 271922327,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644895992
    },
    {
        "content": "<p>Absolutely not</p>",
        "id": 271922335,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644896004
    },
    {
        "content": "<p>If that wasn't deliberate, fixing that is the fastest thing to change.  Though the code will have to be adjusted to handle it where they're legitimate</p>",
        "id": 271922348,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644896024
    },
    {
        "content": "<p>the only place we use experimental is in CodeSystem resources</p>",
        "id": 271922408,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644896064
    },
    {
        "content": "<p>and I think that is only in the FHIR ones that were imported last year from the old R4 content leftover from Connectathons</p>",
        "id": 271922440,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644896096
    },
    {
        "content": "<p>THO has 9 instance where the CodeSystem.experimental element is set to 'true' - all FHIR stuff.  Sorry, 5 instances in CodeSystem, 4 more in ValueSet.   All of them FHIR imported items.   All of the other instances of it in THO master content is for CodeSystem.experimental value=\"false\".    I see it nowhere in any NamingSystem.  Is this some oddball thing in the templates?</p>",
        "id": 271922689,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644896343
    },
    {
        "content": "<p>Actually, the issue is with the CanonicalResource code.  It doesn't handle the fact that, despite NamingSystem being a canonical resource, it doesn't have an experimental element.</p>",
        "id": 271922796,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644896420
    },
    {
        "content": "<p>(And that bit's not my code <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ...)</p>",
        "id": 271922811,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644896440
    },
    {
        "content": "<p>Courtesy of resistance in committee from .. someone… naming system is a canonical resource that doesn’t have a ‘experimental’. So you need to consult the resource metadata using ‘supportsX’ to see if it does before assuming it does. But you didn’t.</p>",
        "id": 271923007,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644896667
    },
    {
        "content": "<p>ROTFL.  ok I see.  And I totally understand it, since NamingSystem as always been a kind of incomplete red-headed stepchild of a resource anyway.    LOL.    If the element is added, we will need to add its default value to hundreds of them in the THO source...I don't really care either way, but it is yet another giant heap of clerical work - btw <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I need to discuss with you doing the &lt;caseSensitive&gt; update...</p>",
        "id": 271923076,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644896755
    },
    {
        "content": "<p>I never objected to experimental.  Why doesn't the interface just automatically return 'false' if experimental doesn't exist?  That seems like the logical thing to do...  In any case, do you need me to make a pull request or will you just take care of it?</p>",
        "id": 271923138,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644896806
    },
    {
        "content": "<p>I took care of it</p>",
        "id": 271923771,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644897389
    },
    {
        "content": "<p>I do need a fix pretty quick...cannot do any builds with any publisher post 1.1.98, local or otherwise...</p>",
        "id": 271923785,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644897419
    },
    {
        "content": "<p>ah ok thanks, I'll kick off another build now then (local of the UTG Git master) with 1.1.102...</p>",
        "id": 271923819,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644897461
    },
    {
        "content": "<p>I’ll get another release out when I can</p>",
        "id": 271924071,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644897625
    },
    {
        "content": "<p>ah so it needs to wait until 1.1.103 then?  I'll tell Marc D to stand down on attempting the implementation of another ticket that was approved to be integrated into master until it is released then...</p>",
        "id": 271924223,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644897742
    },
    {
        "content": "<p>ok 1.1.103 gets it back to working shape, thank you very much <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> !</p>",
        "id": 271985138,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644936817
    },
    {
        "content": "<p>ok something new with the publisher in building THO (and the UTG branches for changes):</p>",
        "id": 272063577,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644975465
    },
    {
        "content": "<p>rg.hl7.fhir.exceptions.FHIRException: Error loading epsg-crs.cache: begin 0, end -1, length 13 entry 1<br>\n    at org.hl7.fhir.r5.context.TerminologyCache.loadNamedCache(TerminologyCache.java:603)<br>\n    at org.hl7.fhir.r5.context.TerminologyCache.load(TerminologyCache.java:614)<br>\n    at org.hl7.fhir.r5.context.TerminologyCache.&lt;init&gt;(TerminologyCache.java:184)<br>\n    at org.hl7.fhir.r5.context.BaseWorkerContext.initTS(BaseWorkerContext.java:1260)<br>\n    at org.hl7.fhir.r5.context.SimpleWorkerContext$SimpleWorkerContextBuilder.build(SimpleWorkerContext.java:228)<br>\n    at org.hl7.fhir.r5.context.SimpleWorkerContext$SimpleWorkerContextBuilder.fromPackage(SimpleWorkerContext.java:246)<br>\n    at org.hl7.fhir.igtools.publisher.PreviousVersionComparator.startChecks(PreviousVersionComparator.java:203)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.checkConformanceResources(Publisher.java:4766)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4680)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1005)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10001)<br>\nCaused by: java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 13<br>\n    at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3410)<br>\n    at java.base/java.lang.String.substring(String.java:1883)<br>\n    at org.hl7.fhir.r5.context.TerminologyCache.loadNamedCache(TerminologyCache.java:592)<br>\n    ... 11 more<br>\nValidating Resources                                                             (18:33.0927)</p>",
        "id": 272063578,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644975466
    },
    {
        "content": "<p>this does not go away with removing the cache; is it related to the 3.0.0 folder of cache files?  ie does that need to be removed also to clear this error?</p>",
        "id": 272063639,
        "sender_full_name": "Ted Klein",
        "timestamp": 1644975517
    },
    {
        "content": "<p>certainly try</p>",
        "id": 272064733,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644976681
    },
    {
        "content": "<p>well then...now a new problem <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  - it appears that publisher 1.1.104 has broken THO/UTG builds:</p>",
        "id": 272111604,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645016089
    },
    {
        "content": "<p>Generating Summary Outputs                                                       (01:02:08.0576)<br>\nSending Usage Stats to Server                                                    (01:04:36.0438)</p>\n<h2>Memory (MB): Use = 3888, Free = 14478, Total = 18366, Max =18366</h2>\n<p>Reclaiming memory...</p>\n<h2>Memory (MB): Use = 2478, Free = 15888, Total = 18366, Max =18366</h2>\n<p>Run jekyll: jekyll build --destination \"/scratch/ig-build-temp-37POM7/repo/output\" (in folder /scratch/ig-build-temp-37POM7/repo/temp/pages) (01:04:42.0958)<br>\nJekyll: Source: /scratch/ig-build-temp-37POM7/repo/temp/pages                    (01:04:43.0328)<br>\nJekyll: Generating...                                                            (01:04:43.0329)<br>\nJekyll has failed. Complete output from running Jekyll: \u001b[31m  Liquid Exception: Could not locate the included file 'fragment-simpletable.html' in any of [\"/scratch/ig-build-temp-37POM7/repo/temp/pages/_includes\"]. Ensure it exists in one of those directories and, if it is a symlink, does not point outside your (01:04:48.0207)<br>\nNote: Check that Jekyll is installed correctly                                   (01:04:48.0207)<br>\nPublishing Content Failed: Process exited with an error: 1 (Exit value: 1)       (01:04:48.0207)<br>\n                                                                                 (01:04:48.0207)<br>\nUse -? to get command line help                                                  (01:04:48.0207)<br>\n                                                                                 (01:04:48.0207)<br>\nStack Dump (for debugging):                                                      (01:04:48.0208)<br>\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)<br>\n    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)<br>\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)<br>\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:153)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.runJekyll(Publisher.java:6649)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.runTool(Publisher.java:6561)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5914)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1018)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10001)</p>",
        "id": 272111605,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645016090
    },
    {
        "content": "<p>do you and Mark I actually run a THO build to verify before you do a new publisher release?</p>",
        "id": 272111632,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645016113
    },
    {
        "content": "<p>it seems to be able to be built just fine with publisher 1.1.103</p>",
        "id": 272111733,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645016164
    },
    {
        "content": "<p>watch the <a class=\"stream\" data-stream-id=\"179252\" href=\"/#narrow/stream/179252-IG-creation\">#IG creation</a> stream, many others have reported this</p>",
        "id": 272111739,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645016168
    },
    {
        "content": "<p>I think...</p>",
        "id": 272111774,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645016204
    },
    {
        "content": "<p>oh geez...seems  have to watch like 100 streams...sigh...thanks John.</p>",
        "id": 272111833,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645016259
    },
    {
        "content": "<p>i watch them all...</p>",
        "id": 272112163,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645016427
    },
    {
        "content": "<p>so...it looks like maybe a template update issue with 1.1.104...sigh...we have a raft of UTG change proposals in flight which all use the old template...this is just craziness...</p>",
        "id": 272112786,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645016813
    },
    {
        "content": "<p>in my THO ig.ini file I use:</p>",
        "id": 272113064,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645016987
    },
    {
        "content": "<p>[IG]<br>\nig = input/utg.xml<br>\ntemplate = hl7.utg.template#current</p>",
        "id": 272113069,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645016988
    },
    {
        "content": "<p>yup, get rid of that \"#current\"</p>",
        "id": 272113137,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645017007
    },
    {
        "content": "<p>oh geez thank you John lemme try again...</p>",
        "id": 272113173,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645017034
    },
    {
        "content": "<p>we all have learned over the past month that the use of #current is almost always wrong, as that tells the build to use the very latest build even if that build is an experimental build by the template gods.</p>",
        "id": 272113250,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645017094
    },
    {
        "content": "<p>no i think THO has to use current, but it should be fixed now anyway</p>",
        "id": 272113309,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645017123
    },
    {
        "content": "<p>ah ok lemme try again both ways...yes Grahame I thought UTG needed to use current</p>",
        "id": 272113387,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645017183
    },
    {
        "content": "<p>okay,, but was my understanding right? (Note that I looked at the various derivation templates and they all seem to use #current of their previous</p>",
        "id": 272113407,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645017193
    },
    {
        "content": "<p>is it fixed in the upcoming 105?  or was the current template case error fixed?</p>",
        "id": 272113556,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645017286
    },
    {
        "content": "<p>ie. do I need to pull a new template for the UTG branches...</p>",
        "id": 272113581,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645017302
    },
    {
        "content": "<p>so it worked with 104 with the current removed; I will see if it is fixed with it put back.</p>",
        "id": 272123573,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645022138
    },
    {
        "content": "<p>it is not an IG builder issue... it is a base template issue... In theory, it is fixed now.</p>",
        "id": 272130382,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645025253
    },
    {
        "content": "<p>well, one of my challenges is that I have not, as yet, figured out how to get THO to run on my mac. It's that javascript / java issue. And I have so many other issues with my mac right now that this is down the list</p>",
        "id": 272138781,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645028628
    },
    {
        "content": "<p>but THO takes too long to run for me to routinely run it - the test suite for the IG publisher already takes 45minutes as it is</p>",
        "id": 272138892,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645028663
    },
    {
        "content": "<p>hmmm...that is very very odd.  I run the THO builds in OSX on my Mac all the time...but it is an older one, two revs back.   Only 15 minutes?   Hahahahahaha...every UTG branch build for a change proposal takes me 23 minutes to do the build.    And I do a LOT of them...</p>",
        "id": 272143319,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645030528
    },
    {
        "content": "<p>and also John, the last run of THO I kicked off at <a href=\"http://build.fhir.org\">build.fhir.org</a> had the current added back into the ig.ini file - and it failed again 10 minutes ago with 1.1.104.   So I reverted it to the removal of current and kicked it off again.    We are bleeding from the eyes trying to get a whole bunch of updates done before the THO content freeze on Sunday...</p>",
        "id": 272143610,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645030642
    },
    {
        "content": "<p>well, we're all struggling with deadlines right now</p>",
        "id": 272147074,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645031924
    },
    {
        "content": "<p>I've never had problems with running THO on my Mac (2020 Macbook Air M1 on latest Monterey).  I'll try it again now and see if there are any new issues.</p>",
        "id": 272148666,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1645032501
    },
    {
        "content": "<p>is that related to sun/oracle java vs open java? Because that is MY problem. Open java does not have a javascript executable.</p>",
        "id": 272153010,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645034201
    },
    {
        "content": "<p>Built UTG successfully on my Mac with .104 Publisher in 19:40.</p>",
        "id": 272153054,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1645034222
    },
    {
        "content": "<p>I don't know.  I'm using the liberica-11.0.12+7 JDK (native M1).</p>",
        "id": 272153286,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1645034309
    },
    {
        "content": "<p>yes it is working locally I committed the template update in the ig file earlier</p>",
        "id": 272176932,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645044889
    },
    {
        "content": "<p>so there seems to be some issue with the current template and publisher 1.1.104; I can get things to build with no misbehavior with</p>",
        "id": 272179936,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645046386
    },
    {
        "content": "<p>[IG]<br>\nig = input/utg.xml<br>\ntemplate = hl7.utg.template</p>",
        "id": 272179937,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645046386
    },
    {
        "content": "<p>but different kinds of problems seem to occur with</p>",
        "id": 272180009,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645046413
    },
    {
        "content": "<p>[IG]<br>\nig = input/utg.xml<br>\ntemplate = hl7.utg.template#current</p>",
        "id": 272180010,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645046413
    },
    {
        "content": "<p>these problems do not occur with publisher 1.1.103</p>",
        "id": 272180049,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645046436
    },
    {
        "content": "<p>running more tests in the meantime</p>",
        "id": 272180079,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645046452
    },
    {
        "content": "<p>well, UTG builds for me as is</p>",
        "id": 272189106,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645050925
    },
    {
        "content": "<p>using 1.1.104</p>",
        "id": 272189110,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645050932
    },
    {
        "content": "<p>same</p>",
        "id": 272192910,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1645053076
    },
    {
        "content": "<p>whatever it was seems to have cleared all are building fine now.   I am a bit mystified.</p>",
        "id": 272262183,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645106194
    },
    {
        "content": "<p>I continue to have difficulties getting warnings of various kinds suppressed using the ignore warnings.txt file - it seems that only certain kinds of warnings can be effectively suppressed, not any warning.    Anyone have an insight on this?    Just a quirk in the publisher?</p>",
        "id": 272297037,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645120183
    },
    {
        "content": "<p>any kind of warning can be suppressed as long as it is an actual warning.  The easiest way is to look in the qa.txt and see the exact text of the warning to suppress.</p>",
        "id": 272300633,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1645121618
    },
    {
        "content": "<p>I did that and copied the text from the qa.txt file directly into ignorewarnings.txt, but the warnings are still being generated - and the count of number of warnings does not go down</p>",
        "id": 272304584,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123384
    },
    {
        "content": "<p>hence my question</p>",
        "id": 272304595,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123388
    },
    {
        "content": "<p>for example:</p>",
        "id": 272304636,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123406
    },
    {
        "content": "<p>lines 4389-4391 in the qa.txt file:</p>",
        "id": 272304895,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123516
    },
    {
        "content": "<p>== input/sourceOfTruth/external/v3/codeSystems/cs-v3-ndc.xml ==<br>\nWARNING: CodeSystem/v3-ndc: CodeSystem: HL7 Defined CodeSystems SHOULD have a stated value for the caseSensitive element so that users know the status and meaning of the code system clearly <br>\n== inpu...</p>",
        "id": 272304916,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123524
    },
    {
        "content": "<p>what I have un the ingorrewarnings.txt file:</p>",
        "id": 272304966,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123545
    },
    {
        "content": "<p>WARNING: CodeSystem/v3-ndc: CodeSystem: HL7 Defined CodeSystems SHOULD have a stated value for the caseSensitive element so that users know the status and meaning of the code system clearly<br>\nWARNI...</p>",
        "id": 272305088,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123590
    },
    {
        "content": "<p>and in the generated output it still has the warning, rendered as:</p>",
        "id": 272305134,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123609
    },
    {
        "content": "<p>input/sourceOfTruth/external/v3/codeSystems/cs-v3-ndc.xml Show Validation Information (1)<br>\nPath    Severity    Message<br>\nCodeSystem  warning HL7 Defined CodeSystems SHOULD have a stated value for the caseSensitive element so that users know the status and meaning of the code system clearly</p>",
        "id": 272305244,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123666
    },
    {
        "content": "<p>so...what am I doing wrong?   this is using publisher 1.1.104</p>",
        "id": 272305346,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123697
    },
    {
        "content": "<p>other warnings are suppressed just fine, but these ones (have a few hundred of them) I cannot seem to be able to suppress them</p>",
        "id": 272305408,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645123730
    },
    {
        "content": "<p>You should have:<br>\nHL7 Defined CodeSystems SHOULD have a stated value for the caseSensitive element so that users know the status and meaning of the code system clearly</p>\n<p>It's the text of the warning that is important and that should remove all of the caseSensitive warnings that you get.</p>",
        "id": 272306930,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1645124460
    },
    {
        "content": "<p>ok so the header \"WARNING: \" should not be there, eh?  I'll give that a try and build again.  thx.</p>",
        "id": 272307282,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645124608
    },
    {
        "content": "<p>I don't want to suppress all of them, just specific ones.   if a submitter of a new code system resource forgets to put it in, I do want the warning to appear</p>",
        "id": 272307552,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645124725
    },
    {
        "content": "<p>You either include the fully line with WARNING: and the location or you include only the text following the colon after the location.  Which you use depends on whether you want to suppress all occurrences, regardless of location or want to suppress only those specific locations you've validated are not a problem.</p>",
        "id": 272317635,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1645129367
    },
    {
        "content": "<p>It looks like what you had in your original ignorewarnings.txt file was right - possible there was an issue with CR/LF or some non-visible character or something else weird</p>",
        "id": 272317722,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1645129417
    },
    {
        "content": "<p>well I just ran it both ways and neither works as you describe, Lloyd.  So...guess again.</p>",
        "id": 272320028,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645130696
    },
    {
        "content": "<p>been trying every combination and permutation since this morning, all to no avail.</p>",
        "id": 272320071,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645130720
    },
    {
        "content": "<p>actually, this is my oversight, to not mention this. You don't need to suppress these issues because they'll go away in the next release</p>",
        "id": 272320261,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645130825
    },
    {
        "content": "<p>so...when someone adds a CodeSystrem resource and it does not have it, we definitely want it to show up.  I cannot get a decision of what to do about the metadata resources for non-HL7 code systems...what I THINK should happen is that HTA should be documenting if true or false in their master record, and we implement it in our CS metadata record accurately.    In the meantime, I'm trying to suppress the ones that we have not completed for the release, but undo the suppression afterwards as a reminder to them to get the information.</p>",
        "id": 272320629,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645131022
    },
    {
        "content": "<p>so the changes to the source in ticket UP-286 will take care of the ones for the HL7 systems, but for the externals...are you going to make them go away in the publisher for those CS not anchored in THO?</p>",
        "id": 272320736,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645131092
    },
    {
        "content": "<p>which I think would be perfectly fine...</p>",
        "id": 272320829,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645131132
    },
    {
        "content": "<p>oh no - sorry. I'm confused here. The warning will stay - it's still important to tell people whether it's case sensitive or not, but we just didn't know how to automatically populate it</p>",
        "id": 272321551,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645131522
    },
    {
        "content": "<p>I was considering removing it, but decided not to late last night. grrr. So yes, it's a warning suppression thing. But that should work</p>",
        "id": 272321636,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645131566
    },
    {
        "content": "<p>Well...let me make sure that I do not misunderstand - we want the warning (good), but we need to be able to suppress either one at a time or the whole shebang for a 'clean' release if possible.     One at a time is more manual work, but it does not hide stuff that way.</p>",
        "id": 272322410,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645131916
    },
    {
        "content": "<p>so if I cannot suppress the errors individually, then as just decided on the Vocab call we will need to add the element with the surmise of 'true' to the external terminology metadata record CodeSystem resources.</p>",
        "id": 272329353,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645134674
    },
    {
        "content": "<p>The warning suppression of that particular warning does not seem to work.     I'</p>",
        "id": 272355222,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645154019
    },
    {
        "content": "<p>I'd really like it to</p>",
        "id": 272355228,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645154027
    },
    {
        "content": "<p>I'll investigate</p>",
        "id": 272400806,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645190618
    },
    {
        "content": "<p>I tried all of the following permutations, and none suppressed the error.   Am I doing something wrong?</p>",
        "id": 272435161,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645207240
    },
    {
        "content": "<p>== input/sourceOfTruth/v3/codeSystems/v3-SubstitutionCondition.xml ==<br>\nWARNING: CodeSystem/v3-SubstitutionCondition: CodeSystem: HL7 Defined CodeSystems SHOULD have a stated value for the caseSensitive element so that users know the status and meaning of the code system clearly</p>",
        "id": 272435186,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645207253
    },
    {
        "content": "<p>WARNING: CodeSystem/v3-SubstitutionCondition: CodeSystem: HL7 Defined CodeSystems SHOULD have a stated value for the caseSensitive element so that users know the status and meaning of the code system clearly</p>",
        "id": 272435208,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645207263
    },
    {
        "content": "<p>CodeSystem/v3-SubstitutionCondition: CodeSystem: HL7 Defined CodeSystems SHOULD have a stated value for the caseSensitive element so that users know the status and meaning of the code system clearly</p>",
        "id": 272435234,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645207275
    },
    {
        "content": "<p>CodeSystem: HL7 Defined CodeSystems SHOULD have a stated value for the caseSensitive element so that users know the status and meaning of the code system clearly</p>",
        "id": 272435269,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645207292
    },
    {
        "content": "<p>HL7 Defined CodeSystems SHOULD have a stated value for the caseSensitive element so that users know the status and meaning of the code system clearly</p>",
        "id": 272435314,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645207310
    },
    {
        "content": "<p>I don't see a \"# Explanation of suppression reason\" in front of your messages - presume you have one?</p>",
        "id": 272438117,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1645208570
    },
    {
        "content": "<p>I'm sorry Lloyd, I do not understand.   The only thing I have ever been told is to copy the warning from the qa.txt file into the ignorewarnings.txt file.    I already have a whole bunch of ignored warnings in that tile the work just fine.  Things such as:</p>",
        "id": 272443414,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645211124
    },
    {
        "content": "<h1>We don't care about any of these - and they create noise</h1>\n<p>Validate resource against profile <a href=\"http://hl7.org/fhir/StructureDefinition/Bundle\">http://hl7.org/fhir/StructureDefinition/Bundle</a><br>\nValidate resource against profile <a href=\"http://hl7.org/fhir/StructureDefinition/C\">http://hl7.org/fhir/StructureDefinition/C</a>...</p>",
        "id": 272443528,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645211173
    },
    {
        "content": "<p>and</p>",
        "id": 272443569,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645211202
    },
    {
        "content": "<h1>value sets based on external code systems where we do not have access to the content</h1>\n<p>WARNING: v2-notAllCodes-0347: Error from server: Unable to provide support for code system urn:iso:std:iso:3166:-2<br>\nWARNING: v3-ActInjuryCodeCSA: Error from server: Unable to provide support for ...</p>",
        "id": 272443575,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645211206
    },
    {
        "content": "<p>ah I see that the zulip editor here converted the pound sign to bold.  Sigh.</p>",
        "id": 272443622,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645211230
    },
    {
        "content": "<p>Do I need a special section with a comment (first character a pound sign) for each type of warning?  If so - I didn't know that - then I'll put it in and try again and it is a simple user error as I do not have a BNF description of what this file needs to contain and how it should be syntactically formatted.</p>",
        "id": 272443782,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645211319
    },
    {
        "content": "<p>Please advise.</p>",
        "id": 272443806,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645211333
    },
    {
        "content": "<p>tried again with the warning the the case sensitivity thing with the pound character header and it again did not suppress the warning.  Please advise.</p>",
        "id": 272451229,
        "sender_full_name": "Ted Klein",
        "timestamp": 1645214918
    },
    {
        "content": "<p>it's a whitespace problem. The source message ends in a ' ', and the input from the suppressed message file is trimmed, so it can never match</p>",
        "id": 272463070,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645221452
    },
    {
        "content": "<p>I'll release a new IG publisher shortly</p>",
        "id": 272463106,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645221470
    },
    {
        "content": "<p>released</p>",
        "id": 272585063,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645355583
    }
]