[
    {
        "content": "<p>I am seeing an issue with the Range constraint rng-2 when I use a range or quantity as a pattern and don't set the range value.<br>\ni.e. I am constraining the system and code, but not  the value.</p>\n<p>\"patternRange\": {<br>\n    \"low\": {<br>\n    \"system\": \"<a href=\"http://unitsofmeasure.org\" target=\"_blank\" title=\"http://unitsofmeasure.org\">http://unitsofmeasure.org</a>\",<br>\n    \"code\": \"tot\"<br>\n  },<br>\n  \"high\": {<br>\n    \"system\": \"<a href=\"http://unitsofmeasure.org\" target=\"_blank\" title=\"http://unitsofmeasure.org\">http://unitsofmeasure.org</a>\",<br>\n    \"code\": \"tot\"<br>\n  }</p>\n<p>When I run the IG publisher, I get an error from Range constraint rng-2</p>\n<p>StructureDefinition/AbnormalityCyst: StructureDefinition.snapshot.element[75].pattern.ofType(Range) error rng-2: If present, low SHALL have a lower value than high [low.empty() or high.empty() or (low &lt;= high)] <br>\nStructureDefinition/AbnormalityCyst:  tructureDefinition.snapshot.element[113].pattern.ofType(Range) error rng-2: If present, low SHALL have a lower value than high [low.empty() or high.empty() or (low &lt;= high)]</p>\n<p>Obviously the Range constraint rng-2 is that the low value should be greater than the high value and since neither are set that is not true, (though it is also not false (kinda a quantum mechanics kind of thing :-))).</p>\n<p>Should the rule be changed to ignore unset values in patterns?</p>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  had the following comment about this in the original thread.<br>\nThere could be situations where the low or high value are expressed with an extension (e.g. because it's a formula rather than a fixed value), so this would be a problem there too. I'd be in favor of revising the invariant to say low.value.empty() or high.value.empty() instead, which would address this issue.</p>",
        "id": 186496898,
        "sender_full_name": "Kurt Allen",
        "timestamp": 1579876538
    },
    {
        "content": "<p>yew please create a task</p>",
        "id": 186529080,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579896375
    },
    {
        "content": "<p>thx...<br>\n<a href=\"https://jira.hl7.org/browse/FHIR-25736\" target=\"_blank\" title=\"https://jira.hl7.org/browse/FHIR-25736\">https://jira.hl7.org/browse/FHIR-25736</a></p>",
        "id": 186996997,
        "sender_full_name": "Kurt Allen",
        "timestamp": 1580397812
    }
]