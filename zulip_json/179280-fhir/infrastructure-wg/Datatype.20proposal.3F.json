[
    {
        "content": "<p>PA are considering adding a new datatype for use in several resources (and also in extensions)<br>\n<a href=\"https://jira.hl7.org/browse/FHIR-25381\">https://jira.hl7.org/browse/FHIR-25381</a><br>\nAnyone else want to comment on this?<br>\nFor Available Times.</p>",
        "id": 254217372,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632234948
    },
    {
        "content": "<p>I'm not sure what is being proposed.  Is it for a primitive type like a time span, a complex type similar to how Quantity works, or an extension?</p>",
        "id": 254221266,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632236393
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/r4/healthcareservice.html\">http://hl7.org/fhir/r4/healthcareservice.html</a><br>\n<a href=\"/user_uploads/10155/OBRMUw5RNG4Cia_0gemU7pjK/image.png\">image.png</a> <br>\nExtract this backbone element as a complex datatype (I guess like quantity) that we will then be able to share between HealthcareService, Location, PractitionerRole, and also as an standard extension to put on contactpoint</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/OBRMUw5RNG4Cia_0gemU7pjK/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/OBRMUw5RNG4Cia_0gemU7pjK/image.png\"></a></div>",
        "id": 254221744,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632236520
    },
    {
        "content": "<p>Thanks for the clarification! A couple of quick questions: </p>\n<p>If I wanted to say I was available from 8:00 PM Tuesday to 8:00 AM Wednesday, would it be using two elements:</p>\n<ul>\n<li>Tuesday 8:00 PM to 11:59<del>:59</del> PM (edit: forgot time has no seconds), and</li>\n<li>\n<p>Wednesday 12:00 AM to 8:00 AM?<br>\nor something like:</p>\n</li>\n<li>\n<p>Tuesday, start 8:00 PM and no end, and</p>\n</li>\n<li>Wednesday, no start and 8:00 AM end?</li>\n</ul>\n<p>Second question is about time zones - given that <code>time</code> prohibits including one, is there a plan for discovery?</p>",
        "id": 254223547,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632237098
    },
    {
        "content": "<p>There is another extension already for the timezone. that can apply</p>",
        "id": 254227080,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632238324
    },
    {
        "content": "<p>As for the overnight availability, great question, and didn't have a good answer, but I guess you could put Tue 8pm - 8am</p>",
        "id": 254227299,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632238410
    },
    {
        "content": "<p>(or alternately using the no start/end as you described, probably something we should explicitly define)</p>",
        "id": 254227423,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632238447
    },
    {
        "content": "<p>I'd ask for explicit guidance on the expectations...  Tue 8pm - 8am would be ambiguous between Mon-Tue vs Tue-Wed otherwise.</p>\n<p>If you're adding the a data type, I'd ask that includes the Timezone as well, as a favor to me if nothing else  :-)</p>",
        "id": 254227741,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632238567
    },
    {
        "content": "<p>I thought we had that timezone already, but my memory doesn't serve right - it's an Australian extension, and I was intending to bring it to international - not sure if I logged it - will hunt it down.<br>\n<a href=\"https://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-timezone.html\">https://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-timezone.html</a><br>\n<a href=\"/user_uploads/10155/-MPMSCQbzlALQ_MyCBlyVWr8/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/-MPMSCQbzlALQ_MyCBlyVWr8/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/-MPMSCQbzlALQ_MyCBlyVWr8/image.png\"></a></div>",
        "id": 254227968,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632238654
    },
    {
        "content": "<p><a href=\"https://jira.hl7.org/browse/FHIR-33018\">https://jira.hl7.org/browse/FHIR-33018</a></p>",
        "id": 254228677,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632238886
    },
    {
        "content": "<p>There's an extension for <a href=\"http://build.fhir.org/extension-timezone.html\">timezone</a>, but I'd ask for a first-class member of the structure so that it's generally added instead of requiring an extension to be included.  I'd personally prefer a mandatory element, but that's just me  =).</p>",
        "id": 254228685,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632238888
    },
    {
        "content": "<p>That would be modifying the time datatype...?</p>",
        "id": 254228836,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632238924
    },
    {
        "content": "<p>No, I'm referring to the container structure (e.g., <code>availableTime.timezone</code>)</p>",
        "id": 254228895,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632238949
    },
    {
        "content": "<p>you would have 2 timezones, one for start and one for end.</p>",
        "id": 254228930,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632238965
    },
    {
        "content": "<p>It doesn't work on the <code>time</code> datatype alone because it influences which day is resolved as well.</p>",
        "id": 254228961,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632238978
    },
    {
        "content": "<p>9am eastern, to 5pm west coast</p>",
        "id": 254228967,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632238979
    },
    {
        "content": "<p>Business hours anytime in Australia, don't know if you do the same thing anywhere over in the USA</p>",
        "id": 254229083,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632239022
    },
    {
        "content": "<p>... I'd prefer to force people <em>not</em> to do that though  =).  If you want to display in odd timezone configurations, that's a display thing, not a data storage thing.</p>",
        "id": 254229130,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632239035
    },
    {
        "content": "<p>If you are adding the TZ to time, I'd argue it's better to just use boundary <code>instant</code> types so each slot is just a range.  It would make 'Mon-Fri 8:00 AM - 8:00 PM' more verbose, since you'd need to express each range individually, but would be much more specific.</p>",
        "id": 254229484,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632239154
    },
    {
        "content": "<p>(this is why I was processing the original intent as possibly a time range type - so that it would be simpler to add a series of time ranges)</p>",
        "id": 254229738,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632239232
    },
    {
        "content": "<p>Oh, and that extension you have can't be used with time...</p>",
        "id": 254229799,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632239265
    },
    {
        "content": "<p>Which is what that request is.</p>",
        "id": 254229910,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632239296
    },
    {
        "content": "<p>But how do you say \"8a\" with an instant? Aren't you limited to describing a specific 8a (on a specific day, rather than \"Mondays in general\" or \"every week\")?</p>",
        "id": 254229947,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632239315
    },
    {
        "content": "<p>The use we're talking about is time, not dateTime/instant. which is just 8am</p>",
        "id": 254230734,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632239601
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> <a href=\"#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Datatype.20proposal.3F/near/254229947\">said</a>:</p>\n<blockquote>\n<p>But how do you say \"8a\" with an instant? Aren't you limited to describing a specific 8a (on a specific day, rather than \"Mondays in general\" or \"every week\")?</p>\n</blockquote>\n<p>Oops (<span aria-label=\"embarrassed\" class=\"emoji emoji-1f633\" role=\"img\" title=\"embarrassed\">:embarrassed:</span>) - not quite sure how I got there missing that.  Yeah, that's a problem.</p>",
        "id": 254230751,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632239608
    },
    {
        "content": "<p>Josh was cutting me off at the pass since that's the direction I was moving - trying to simplify via something like TimeSpans.  But, there's isn't a good type that allows for a day of the week without a full date.</p>",
        "id": 254231762,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632239952
    },
    {
        "content": "<p>Which is what we're describing above in the request...</p>",
        "id": 254231805,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632239973
    },
    {
        "content": "<p>I'd suggest reviewing the behavior of range, and making sure the semantics of matching, etc. are as close as possible.<br>\nI think there is value in being able to say 9am-5pm local time vs. 9-am-5pm Eastern. I also have a concern about 1am-4am EDT on the day we switch to EST. This is obviously a challenge any time we specify a time that spans the switchover, but if the time zone is included, is there a further complication (e.g., does it mean open until the next 4 am EDT, which is 6 months away? :-D). <br>\nJust from a FHIR styling POV, should it be \"dayOfWeek\" (singular), even though multiple days can be specified?</p>",
        "id": 254231833,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1632239986
    },
    {
        "content": "<p>it's not EDT/EST that we have in there, it's the IANA timezone e.g. 'Australia/Brisbane' which will resolve to a specific offset on a specific date</p>",
        "id": 254232284,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632240121
    },
    {
        "content": "<p>procedurally, this would be like Dosage, and owned by PA. It's allowed, and I'm not sure that FHIR-I has any say in it, actually. At least procedurally. Obviously there's going to be informed comment, as has happened.</p>",
        "id": 254233978,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632240721
    },
    {
        "content": "<blockquote>\n<p>you would have 2 timezones, one for start and one for end.</p>\n</blockquote>\n<p>How on earth could a service end in a different timezone from it's start?</p>",
        "id": 254234175,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632240782
    },
    {
        "content": "<p>Telehealth services available Australian business hours.<br>\nIt's availability times, not a single service instance time.</p>",
        "id": 254234373,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632240853
    },
    {
        "content": "<p>I still think that's weird</p>",
        "id": 254234595,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632240951
    },
    {
        "content": "<p>How would you describe that use case of the support service being available Australian business hours?<br>\n(Lots of national programmes do that - where they aren't a 24 hour service)</p>",
        "id": 254234722,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632241001
    },
    {
        "content": "<p>8 to 8, myself, and adjust to local time zone.</p>",
        "id": 254234821,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632241050
    },
    {
        "content": "<p><a href=\"http://Schema.org\">Schema.org</a> has a structure like <a href=\"https://schema.org/OpeningHoursSpecification\">https://schema.org/OpeningHoursSpecification</a></p>",
        "id": 254242168,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632243758
    },
    {
        "content": "<p>It uses a <code>time</code> datatype under the hood -- <a href=\"https://www.w3.org/TR/xmlschema-2/#time\">https://www.w3.org/TR/xmlschema-2/#time</a></p>",
        "id": 254242231,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632243776
    },
    {
        "content": "<blockquote>\n<p>[Definition:]  time represents an instant of time that recurs every day. The ·value space· of time is the space of time of day values as defined in § 5.3 of [ISO 8601]. Specifically, it is a set of zero-duration daily time instances.</p>\n</blockquote>\n<p>and this <strong>allows an optional time zone indicator</strong></p>",
        "id": 254242284,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632243797
    },
    {
        "content": "<p>Yes, but since the FHIR <code>time</code> format specifically forbids a timezone, I think it would be simpler to have a single one for the range rather than one for each boundary.  If someone wants to enter/display with different zones for the boundaries (or even a different one altogether), that is a presentation issue.</p>",
        "id": 254243356,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632244187
    },
    {
        "content": "<p>Issue with the <a href=\"http://schema.org\">schema.org</a> time is that it's using the offset, which has the EST vs EDT issues. Where the extension that we have in FHIR is the IANA timezone which derives to the offset on a specific date.</p>",
        "id": 254243881,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632244387
    },
    {
        "content": "<p>As an aside, I would be curious to see how many apps do the IANA resolution correctly vs. just matching liters and using the offsets themselves.</p>\n<p>(edit: because time is unreasonably hard for some reason :-/  )</p>",
        "id": 254244302,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1632244560
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179280-fhir.2Finfrastructure-wg/topic/Datatype.20proposal.3F/near/254234821\">said</a>:</p>\n<blockquote>\n<p>8 to 8, myself, and adjust to local time zone.</p>\n</blockquote>\n<p>The use case I'm thinking of is use of a national service, but only 8-8 during my local time.  That is, it is available 8 am-8 pm Eastern, if I'm calling from an Eastern area code; 8 am-8pm Central (which is 9 am-9pm Eastern), if I'm calling from a Central area code, etc.</p>",
        "id": 254246726,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1632245573
    },
    {
        "content": "<p>Do you need to specify how availableTimes stack? Is there a need for an \"except\" element? (Can I say M-F 9-5, except Tuesday 12-1? Or M-F 9-5, Thursday to 8?)</p>",
        "id": 254247561,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1632245907
    },
    {
        "content": "<p>In the relevant resources there is an available (this datatype) and an exceptions list that marks where it's not applicable, usually has stuff like public holidays in it - but these are defined as a period, and a description - which is quite specific, rather than the general nature of availabilities..</p>",
        "id": 254259467,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1632250693
    }
]