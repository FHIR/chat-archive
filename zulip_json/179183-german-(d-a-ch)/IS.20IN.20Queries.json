[
    {
        "content": "<p>Hi,</p>\n<p>ist es möglich eine Suche mit einer Art IS IN Ausdruck auszuführen.<br>\nDer Hintergrund wäre folgender. In einer ersten Suche werden Diagnostic Reports ausgeliefert und hier sind mehrere Observations referenziert.<br>\nBsp.:<br>\n&lt;DiagnosticReport xmlns=\"<a href=\"http://hl7.org/fhir\" target=\"_blank\" title=\"http://hl7.org/fhir\">http://hl7.org/fhir</a>\"&gt;<br>\n    &lt;id value=\"38\"/&gt;<br>\n    &lt;meta&gt;<br>\n        &lt;versionId value=\"1\"/&gt;<br>\n        &lt;lastUpdated value=\"2020-01-20T15:04:51.491+00:00\"/&gt;<br>\n    &lt;/meta&gt;<br>\n    &lt;text&gt;<br>\n        ...<br>\n    &lt;/text&gt;<br>\n    &lt;identifier&gt;<br>\n        ....<br>\n    &lt;/identifier&gt;<br>\n    &lt;subject&gt;<br>\n        &lt;reference value=\"Patient/1\"/&gt;<br>\n    &lt;/subject&gt;<br>\n    &lt;encounter&gt;<br>\n        &lt;reference value=\"Encounter/2\"/&gt;<br>\n    &lt;/encounter&gt;<br>\n    &lt;result&gt;<br>\n        &lt;reference value=\"Observation/4\"/&gt;<br>\n    &lt;/result&gt;<br>\n    &lt;result&gt;<br>\n        &lt;reference value=\"Observation/5\"/&gt;<br>\n    &lt;/result&gt;<br>\n    &lt;result&gt;<br>\n        &lt;reference value=\"Observation/6\"/&gt;<br>\n    &lt;/result&gt;<br>\n    ...</p>\n<p>&lt;/DiagnosticReport&gt;</p>\n<p>Kann man nun in einer Abfrage nach allen referenzierten Observations suchen, oder muss man jede Referenz mit einer Abfrage auflösen?<br>\nWenn es nicht geht, welche weiteren Ansätze gäbe es?</p>",
        "id": 186127123,
        "sender_full_name": "Marco Strauch",
        "timestamp": 1579548107
    },
    {
        "content": "<p>du kannst mittels include alle Observations includen</p>",
        "id": 186127558,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1579548532
    },
    {
        "content": "<p><a href=\"https://www.hl7.org/fhir/search.html#include\" target=\"_blank\" title=\"https://www.hl7.org/fhir/search.html#include\">https://www.hl7.org/fhir/search.html#include</a></p>",
        "id": 186127575,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1579548555
    },
    {
        "content": "<p>mit _has, wenn du nur die Observations ohne den Report brauchst...</p>",
        "id": 186127724,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1579548708
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/search.html#has\" target=\"_blank\" title=\"http://hl7.org/fhir/search.html#has\">http://hl7.org/fhir/search.html#has</a></p>",
        "id": 186127789,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1579548738
    },
    {
        "content": "<p>GET [base]/Observation?_has:DiagnosticReport:result:_id=38</p>",
        "id": 186127833,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1579548809
    },
    {
        "content": "<p>Ich kann vermutlich beide Varianten verwenden. <br>\nEine Frage zum Include. Funktioniert das nicht auf allen Referenzen?<br>\nPatient und Fall konnte ich damit auflösen. Aber wenn ich Observations inkludiere, werden diese nicht mit ausgeliefert. So sieht meine Parameterdefinition aus:</p>\n<p>[GET] .../fhir/DiagnosticReport?_format=xml&amp;patient.identifier=45688308&amp;_include=DiagnosticReport:observation</p>\n<p>Aber die Observations werden nicht mit ausgegeben. Kann es auch ein Fehler im Backend sein?</p>\n<p>PS: Ist die Angabe der Include Resource case sensitiv?  Es funktioniert bei Patient und Fall nur wenn ich diese klein schreibe.</p>",
        "id": 186158699,
        "sender_full_name": "Marco Strauch",
        "timestamp": 1579590937
    },
    {
        "content": "<p>Ist observation ein gültiger Suchparameter von DiagnosticReport? Versuchs mal mit result statt dessen...</p>",
        "id": 186158779,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1579591064
    },
    {
        "content": "<p>(Sorry bin unterwegs und hab die Spec gerade nicht im Blick...)</p>",
        "id": 186158824,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1579591097
    },
    {
        "content": "<p>Die Include-Syntax ist QuelleDesLinks:NameDesLinks</p>",
        "id": 186158854,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1579591186
    },
    {
        "content": "<p>Wobei mit Name der jeweilige Suchparameter vom Typ Reference gemeint ist...</p>",
        "id": 186158912,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1579591232
    },
    {
        "content": "<p>Ah OK danke. <br>\nMit result hat es funktioniert. Hatte zuvor schonmal result probiert, aber es dabei groß geschrieben.</p>",
        "id": 186159804,
        "sender_full_name": "Marco Strauch",
        "timestamp": 1579592387
    }
]