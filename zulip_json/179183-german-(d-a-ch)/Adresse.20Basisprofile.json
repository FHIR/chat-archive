[
    {
        "content": "<p>Warum sieht <a href=\"https://simplifier.net/BasisprofilDE/address-de-basis\" target=\"_blank\" title=\"https://simplifier.net/BasisprofilDE/address-de-basis\">https://simplifier.net/BasisprofilDE/address-de-basis</a> anders aus als <a href=\"https://simplifier.net/NictizDSTU2/nl-core-address\" target=\"_blank\" title=\"https://simplifier.net/NictizDSTU2/nl-core-address\">https://simplifier.net/NictizDSTU2/nl-core-address</a>? Ich verstehe nicht, warum in DE die extensions (Elemente) einen anderen Namen tragen als zB in NL. Sollten \"extension (Hausnummer)\" nicht auch als Elementnamen \"housenumber\" sein und auf die ISO 21090 ADXP Partikel verweisen? </p>",
        "id": 153893345,
        "sender_full_name": "dr Kai U. Heitmann",
        "timestamp": 1497346440
    },
    {
        "content": "<p>Weil hier Building Number Suffix, unitId und additionalLocator nicht benötigt werden ?</p>",
        "id": 153893346,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1497346633
    },
    {
        "content": "<p>Hausnummer und  Strasse heißen anders verweisen aber auf die gleichen ADXP Extensions</p>",
        "id": 153893347,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497346785
    },
    {
        "content": "<p>Was Patrick sagt, plus, dass wir uns für die deutschen Profile dazu entschlossen haben, deutsche Bezeichner zu verwenden.</p>",
        "id": 153893348,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497346913
    },
    {
        "content": "<p>Jap. Die Bezeichner tauchen auch in der Instanz nicht auf. In der Instanz einer Adresse würden Hausnummer in DE und NL gleich aussehen.</p>",
        "id": 153893349,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497347273
    },
    {
        "content": "<p>Ups. Wir haben noch gar kein Beispiel für eine komplexe Addesse!</p>",
        "id": 153893350,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497347414
    },
    {
        "content": "<p>Ich hab ein Tracker-Item erstellt: <a href=\"https://github.com/hl7germany/basisprofil-de/issues/14\" target=\"_blank\" title=\"https://github.com/hl7germany/basisprofil-de/issues/14\">https://github.com/hl7germany/basisprofil-de/issues/14</a></p>",
        "id": 153893353,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497348474
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191436\">@Stefan Lang</span> Ich habe Verständnis-Probleme mit <a href=\"https://github.com/hl7germany/basisprofil-de/issues/16\" target=\"_blank\" title=\"https://github.com/hl7germany/basisprofil-de/issues/16\">https://github.com/hl7germany/basisprofil-de/issues/16</a><br>\nWarum müssen wir da Slicen? Unterscheidet sich die Struktur von Wohn-/und Postadressen im VSDM?</p>",
        "id": 153894125,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497603969
    },
    {
        "content": "<p>Die Wohnadresse (formal: \"Strassenadresse\") hat Straße, Hausnummer und Anschriftenzusatz.<br>\nDie PostfachAdresse hat stattdessen das Postfach.</p>",
        "id": 153894126,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497604364
    },
    {
        "content": "<p>Seite 79 in:<br>\n<a href=\"https://www.gematik.de/cms/media/dokumente/release_0_5_3/release_0_5_3_fachanwendungen/gematik_VSD_Facharchitektur_VSDM_2_5_0.pdf\" target=\"_blank\" title=\"https://www.gematik.de/cms/media/dokumente/release_0_5_3/release_0_5_3_fachanwendungen/gematik_VSD_Facharchitektur_VSDM_2_5_0.pdf\">https://www.gematik.de/cms/media/dokumente/release_0_5_3/release_0_5_3_fachanwendungen/gematik_VSD_Facharchitektur_VSDM_2_5_0.pdf</a></p>",
        "id": 153894127,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497604387
    },
    {
        "content": "<p>Beides ist im VSDM 0..1, d.h. um VSDM-konform constrainen zu können, braucht man die Slices</p>",
        "id": 153894128,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497604507
    },
    {
        "content": "<p>Aus dem Bauch raus ist das wahrscheinlich mit 2 abgeleiteten Profilen (z.B. \"address-de-vsdm-strassenadresse\" und \"address-de-vsdm-postfachadresse\") am einfachsten möglich</p>",
        "id": 153894130,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497604947
    },
    {
        "content": "<p>Dabei wäre strassenadresse vom Typ physical|both, postfachadresse wäre postal.<br>\nUnd ggf. muss irgendwo noch eine Invariante stehen, die besagt, dass \"wenn both existiert, darf kein postal existieren\"</p>",
        "id": 153894131,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497605115
    },
    {
        "content": "<p>Das können wir doch mit einer invariante abbilden: Wenn typ = physical, dann extension hausnummer, wenn typ = postal, dann extension postfach.<br>\nOder nö?</p>",
        "id": 153894133,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497605585
    },
    {
        "content": "<p>Wollen wir \"Both\" überhaupt zulassen? in VSDM gäbe es ja bei identischer post- und wohnadresse auch zwei instanzen der Adresse, oder?</p>",
        "id": 153894134,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497605650
    },
    {
        "content": "<p>VSDM hat Strassen- und Postfachadresse. Wer kein Postfach hat, hat nur eine Adresse</p>",
        "id": 153894135,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497605701
    },
    {
        "content": "<p>\"both\" dürfte für Pat-Adressen der Regelfall sein. Ich fände es kontra-intuitiv für Implementer, das komplett zu verbieten</p>",
        "id": 153894136,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497605755
    },
    {
        "content": "<p>Im basisprofil sicherlich nicht, aber wir reden ja hier über das VSDM-Profil, dass (mehroderweniger) 1:1 den VSDM-Datensatz abbildet. Und wenn's dort zweimal drinsteht, dann halt auch in der FHIR-Resource....</p>",
        "id": 153894138,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497605854
    },
    {
        "content": "<p>ad Invariante: war da nicht was, dass Datentypen keine Invarianten haben dürfen? Ich meine, genau diesen Punkt hätten wir in Madrid schon mal diskutiert ;)</p>",
        "id": 153894139,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497605883
    },
    {
        "content": "<p>Wenn wir \"both\" im VSDM-Profil verbieten, muss der Implementer u.U. die Strassenadresse dann 2x vorhalten, weil both halt der gefühlte Standardwert ist</p>",
        "id": 153894140,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497605986
    },
    {
        "content": "<p>Nö, die Invarianten zur Address.line haben wir auch im Address-Profil drin. Das geht.</p>",
        "id": 153894142,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497606037
    },
    {
        "content": "<p>@wer kein Postfach hat, hat nur eine Adresse: Man kann laut EGK xsd auch gar keine Adresse haben, weder Postfach noch Straßenadresse</p>",
        "id": 153894143,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497606057
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span>  Na dann gern auch per Invariante</p>",
        "id": 153894144,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497606075
    },
    {
        "content": "<p>Einziger Nachteil beim nicht-Slicen: Wir könnten vermutl. nicht verhindern, dass jemand zweimal eine postal adresse verwendet, da wir kardinalität 0..2 auf Addresse brauchen. Aber ich glaube sogar das ginge notfalls mit einer invariante.</p>",
        "id": 153894145,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497606226
    },
    {
        "content": "<p>DEN Preis wäre ich bereit zu zahlen :)</p>",
        "id": 153894146,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497606245
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191436\">@Stefan Lang</span> wieso sollte both der Standardwert sein? </p>",
        "id": 153894148,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497606407
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span>  Einen Ausdruck, um 0..2 (physical|both 0..1 ; postal 0..1) zu constrainen, sollte man eigentlich bauen können.<br>\nAlso erstmal d'accord</p>",
        "id": 153894149,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497606431
    },
    {
        "content": "<p>Ich vermute ja, dass in der freien Wildbahn die Postfachadresse noch nie benutzt wurde <img alt=\":smile:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/smile.png\" title=\":smile:\"> </p>",
        "id": 153894150,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497606460
    },
    {
        "content": "<p>Ist mit irgendwie zu akademisch,<br>\nwenn es um den ausschliesslich um VSDM geht es um max  2 Adressen von denen beide auch ausschliesslich postal sein könnten. Warum also irgendwelche contrains ?</p>",
        "id": 153894152,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1497607253
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191546\">@Peter Scholz</span> laut VDSM Datensatz gibt es eine \"Strassenadresse\" 0..1 und eine \"Postfachadresse\" 0..1. Zweimal postal geht also nicht</p>",
        "id": 153894153,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497607340
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191546\">@Peter Scholz</span> Du meinst, die VSDM-StrassenAdresse ist semantisch nicht gleichbedeutend mit einer physical address?</p>",
        "id": 153894154,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497607366
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> postal ist nicht zwangsläufig ein Postfach, es gibt auch Adressen bei denen die Postanschrift != der physikalischen Adresse ist.<br>\nDenkt mal an Menschen die in Pflegeeinrichtungen wohnen. Bei denen können sich Postanschrift von physikalischer Adresse definitiv unterscheiden</p>",
        "id": 153894155,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1497607472
    },
    {
        "content": "<p>OK, d.h. die Annahme \"Strassenadresse &lt;=&gt; physical|both, Postfachadresse &lt;=&gt; postal\" ist falsch.</p>",
        "id": 153894156,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497607545
    },
    {
        "content": "<p>ja</p>",
        "id": 153894157,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497607568
    },
    {
        "content": "<p>Richtig, das einzige was wohlh sicher ist, ist die Tatsache das Postfach zwangsläufig immer postal sein muss.<br>\nÜber die Strassenadresse kann man keine Annahmen treffen </p>",
        "id": 153894158,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1497607621
    },
    {
        "content": "<p>In dem Fall gibt es keinen Kandidaten für einen Slice-Discriminator, und es muss zwangsläufig über Invarianten laufen, soweit wir das im Profil vertiefen</p>",
        "id": 153894159,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497607650
    },
    {
        "content": "<p>Muss man das unbedingt im Profil vertiefen ?</p>",
        "id": 153894160,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1497607683
    },
    {
        "content": "<p>Diese Frage wollte ich mit dem Nebensatz provozieren ;-)</p>",
        "id": 153894161,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497607711
    },
    {
        "content": "<p>Und der VDSM kennt nur Straßen und Postfachadresse. Beim Beispiel mit dem Heimbewohner kann also nicht Postanschrift und physikalische Adresse unterschieden werden</p>",
        "id": 153894162,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497607777
    },
    {
        "content": "<p>Hier mal eine grafische Repräsentation der VSDM Daten der EGK:<br>\n<a href=\"/user_uploads/10155/0shiCnszqwdUBgGqWfCPe4Rd/vsdm.png\" target=\"_blank\" title=\"vsdm.png\">vsdm.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/0shiCnszqwdUBgGqWfCPe4Rd/vsdm.png\" target=\"_blank\" title=\"vsdm.png\"><img src=\"/user_uploads/10155/0shiCnszqwdUBgGqWfCPe4Rd/vsdm.png\"></a></div>",
        "id": 153894163,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497607815
    },
    {
        "content": "<p>Jup, das ist Seite 79 aus der VSDM-Spez.</p>",
        "id": 153894164,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497607851
    },
    {
        "content": "<p>oh, ich bin blind. Zumindest nutzt die Gematik das gleiche Tool wie ich :-)</p>",
        "id": 153894165,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497607910
    },
    {
        "content": "<p>:D</p>",
        "id": 153894166,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497607920
    },
    {
        "content": "<p>Je weiter man dort reindenkt, desto mehr technische Komplexität braucht es, um alles schon im Profil genau so abzubilden wie in VSDM.<br>\nVon daher würde es mir auch genügen, wenn wir im Profil die address auf 0..2 constrainen, evtl. die line noch 0..2 constrainen und alle relevanten Extensions drin haben.<br>\nDen Rest dann in den Implementation Guide packen</p>",
        "id": 153894167,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497607943
    },
    {
        "content": "<p>Und wie weiter oben angesprochen einfach ein Profil für Straßenadresse und eines für Postfachadresse? </p>",
        "id": 153894168,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497608048
    },
    {
        "content": "<p>Wie bekämen wir die ohne Slicing-Discriminator sauber ins patient-de-vsdm-Profil?</p>",
        "id": 153894171,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497608265
    },
    {
        "content": "<p>Ich slice auf dem Profil der Adresse, oder denke ich gerade ganz verquer?</p>",
        "id": 153894172,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497608320
    },
    {
        "content": "<p>Ist das Profil der Adresse Bestandteil der Ressourcen-Instanz?</p>",
        "id": 153894173,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497608374
    },
    {
        "content": "<p>Die Instanz hat nur ein Meta-Element für die Ressource, aber nicht für jeden Datentyp.<br>\nD.h. die Adresse in der Instanz kann nicht behaupten \"ich bin eine Strassenadresse\".</p>",
        "id": 153894174,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497608563
    },
    {
        "content": "<p>stimmt :-(</p>",
        "id": 153894175,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497608579
    },
    {
        "content": "<p>Das ginge nur per Extension zur Definition des Typs, um dann darauf zu slicen.<br>\nUnd das wäre mir dann ehrlich gesagt auch zu akademisch.</p>",
        "id": 153894176,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497608646
    },
    {
        "content": "<p>Ah, es lohnt sich, auf Seite 79 unter dem Diagramm zu schauen:<br>\n\"Anmerkung: Ein Versicherter kann entweder eine Straßenadresse und/oder eine Postfachadresse haben. Im Infomodell wurde dies so abgebildet, dass beide optional sind. Für  die Implementierung MUSS mindestens eine der Adressen gefüllt sein\"</p>",
        "id": 153894177,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497609072
    },
    {
        "content": "<p>Also für patient-de-vsdm: address 1..2</p>",
        "id": 153894178,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497609107
    },
    {
        "content": "<p>Bzw. eigentlich für ein \"patient-de-vsdm-closed\", denn ein offenes Profil, wie wir sie eigentlichen bevorzugen, sollten auch andere Adressen (z.B. frühere Adressen) erlauben.</p>",
        "id": 153894179,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497609191
    },
    {
        "content": "<p>Das Profil VDSM soll einfach 1:1 die EGK abbilden oder? Damit fände ich closed prima. Wenn man alte Adressen halten will macht man das eher direkt mit dem BasisProfil-DE, oder?</p>",
        "id": 153894180,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497609315
    },
    {
        "content": "<p>Die Gematik hätte ihr XSD auch schöner bauen können damit man die Anmerkung auf Seite 79 nicht braucht....</p>",
        "id": 153894181,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497609360
    },
    {
        "content": "<p>Ein closed Profil macht es potentiell inkompatibel zur parallelen Verwendung mit anderen Profilen.<br>\nZumindest würde ich bei einem closed-Profil dieser Tatsache durch die entsprechende Benennung darauf hindeuten.</p>",
        "id": 153894182,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497609444
    },
    {
        "content": "<p>nee closed wäre dumm, denn jemand sollte doch wohl einen Patienten mit eGK Daten kommunizieren können und kompatibilität zum Profil angeben dürfen, aber durchaus über das profil hinausgehende Informationen übermitteln. Es soll doch nur aussagen, das die Ressource in bezug auf die EGK Daten profilkonform ist.</p>",
        "id": 153894183,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1497609444
    },
    {
        "content": "<p>Es soll hier doch nicht um eine Profil ausschliesslich für die eGK Daten gehen</p>",
        "id": 153894184,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1497609495
    },
    {
        "content": "<p>Ein offenes VSDM-Profil sagt dann im wesentlichen nur aus, dass die betreffenden Extensions auf must-support stehen</p>",
        "id": 153894185,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497609535
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191546\">@Peter Scholz</span> du hast recht, man wird wohl keine EGK Karten aus einer übermittelten FHIR Ressource erstellen wollen. Also ist der Rückweg zum EGK Datensatz egal</p>",
        "id": 153894186,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497609549
    },
    {
        "content": "<p>Die Ableitungs-Hierarchie wäre:<br>\npatient-de-basis =&gt; patient-de-vsdm =&gt; patient-de-vsdm-closed<br>\nWobei patient-de-vsdm-closed eher eine Fingerübung wäre.</p>",
        "id": 153894187,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497609618
    },
    {
        "content": "<p>oder akademische Ona.....</p>",
        "id": 153894189,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1497609676
    },
    {
        "content": "<p>ja closed hat in der Praxis keine relevanz. (Außer die Gematik will das intern einsetzen in Richtung eGK Hersteller ;-) )</p>",
        "id": 153894193,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1497610003
    },
    {
        "content": "<p>der war gut :rotfl:</p>",
        "id": 153894194,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1497610078
    },
    {
        "content": "<p>Da würde ich dann mal ganz entspannt warten, bis die Gematik damit auf uns zukommt <img alt=\":joy:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/joy.png\" title=\":joy:\"></p>",
        "id": 153894195,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1497610102
    },
    {
        "content": "<p>Einwurf aus der Realo-Ecke: Eine Invariante, die die Verwendung der Postfach-Extension in Verbindung mit dem Adresstyp \"physical\" verbietet macht eigentlich immer Sinn (also schon im Basis-Profil)</p>",
        "id": 153894202,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1497617832
    },
    {
        "content": "<p>Postfach extension kann sogar den Addresstype auf postal constrainen, nur für die Strassenadresse kann man keine Aussage treffen </p>",
        "id": 153894524,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1497943321
    },
    {
        "content": "<p>Hey zusammen, interessiert verfolge ich Eure Diskussion. Ich würde nochmal an die 80 / 20 Regel erinnern, denn ich glaube, dass eine Privatperson nur selten ein Postfach hat - muss das so? Kann man nicht sagen eine Adresse muss angegeben sein und alles weitere optional? </p>",
        "id": 153895164,
        "sender_full_name": "Mathias Aschhoff",
        "timestamp": 1498417116
    },
    {
        "content": "<p>Bei Profilen im Allgemeinen und natürlich auch den deutschen Basisprofilen geht es ja darum, bestimmte Use Cases abzubilden.<br>\nIn Bezug auf die Basisprofile also, verbreitete Datenstrukturen, wie VSDM-/eGK, einheitlich in FHIR abzubilden.<br>\nInsofern gilt 80/20 bei der Profilierung also nur bedingt.<br>\nIn Bezug auf Postfächer bei Patienten sieht die Gematik-Spezifikation das nun mal so vor, und dementsprecht muss das zugehörige Profil bzw. ggf. auch nur der Implementation Guide das berücksichtigen.</p>",
        "id": 153895178,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498457816
    },
    {
        "content": "<p>Insgesamt folgen die deutschen Basisprofile ja dem Grundprinzip, offen zu sein, d.h. sie beschreiben, wie X gemacht werden sollte, wenn man X braucht, aber schränken nicht ein, dass jemand zusätzlich oder alternativ auch Y machen kann.</p>",
        "id": 153895179,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498457917
    },
    {
        "content": "<p>Demzufolge muss für das VSDM-konforme Basisprofil beschrieben sein, wie eine VSDM-Straßen- und -Postfach-Adresse aussieht. Ob sie dann verwendet wird, ist Sache des Implementierers im konkreten Use Case.</p>",
        "id": 153895180,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498458065
    },
    {
        "content": "<p>Sollte irgendwann die Gematik oder sonst jemand auf die Idee kommen, die eGKs direkt mit FHIR-Ressourcen zu befüllen, wie oben scherzhaft erwähnt, gäbe es ein geschlossenes (oder, wie Simone letztens a.a.O. vorschlug: \"strict\") Profil, das dann nur noch diese Strukturen erlaubt.</p>",
        "id": 153895181,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498458292
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192505\">@Mathias Aschhoff</span> das eine Privatepersion nur selten ein Postfach stimmt eben auch nur eingeschränkt, es gibt durchaus bei unseren älteren Patienten die in einer Einrichtung der Altenpflege wohnen die Situation das die Postanschrift eben die Postfachadresse der Einrichtung ist.  </p>\n<p>Die 80/20 regel sagt übrigens auch nicht aus, das der Anteil der Nachrichten die das betrifft mehr als 20% betragen muss, sondern das  der Use Case eines Elements einer Ressource für weniger als 80% der beteiligten Systeme von Interesse sei.  Der Use Case die eGK Daten abzubilden ist aber sicherlich für mehr als 20% von Interesse. Da die eGK auf der anderen Seite die Postfachadresse als eigenes Feld abbildet, muss das zugehörige Profil das auch hergeben.</p>",
        "id": 153895185,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1498463302
    },
    {
        "content": "<p>Betrachtet man den Use-Case eGK Adr. kommunizieren einverstanden. <br>\nAllerdings gibt es für die Adr ja mehr use-cases als nur eGK einlesen, daher dachte ich es wäre vllt gut es offener zu gestalten. <br>\nDein Vorschlag (2 Profile) <span class=\"user-mention\" data-user-id=\"191436\">@Stefan Lang</span>  könnte ich mir gut vorstellen, das wäre auch für Implementierer einfacher zu verstehen.</p>",
        "id": 153895197,
        "sender_full_name": "Mathias Aschhoff",
        "timestamp": 1498466836
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192505\">@Mathias Aschhoff</span> Grundsätzlich ist es seitens TC FHIR so gedacht, dass es immer ein offenes Profil gibt. Ein \"Strict\"-Profil macht nur dann Sinn, wenn es auch eingesetzt würde, was wir für VSDM derzeit nicht sehen.</p>",
        "id": 153895199,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498469037
    },
    {
        "content": "<p>Das grundlegende Profilierungskonzept, dem wir folgen wollen, ist:<br>\nxxx-de-basis: stellt die 80% zur Verfügung, schränkt wenig bis nichts ein<br>\nxxx-de-usecase: leitet von xxx-de-basis ab, ergänzt ggf. die 20% für den spezifischen Use Case, schränkt ebenso wenig ein<br>\nxxx-de-usecase-strict: leitet von xxx-de-usecase ab und schränkt exakt auf die Elemente des Use Case ein</p>",
        "id": 153895201,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498469181
    },
    {
        "content": "<p>Das kommt dann auch in unserer \"FHIR-Best Practice\" im Wiki, die wir in Bonn angesprochen hatten.</p>",
        "id": 153895202,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498469289
    },
    {
        "content": "<p>Hi,<br>\nwir erweitern ja auch den komplexen Datentyp Address, nicht speziell den Patienten. Der Datentyp kommt dann in allen Basisprofilen zum Einsatz, also auch bei Organization. Und da sind Postfächer schon deutlich verbreiteter, daher macht das m.M.n schon Sinn...</p>",
        "id": 153895230,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498492364
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191436\">@Stefan Lang</span> <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span> Danke fürs abholen! Sorry für die blöden Fragen aber ich versuch mich gerade in Eure Gedankenwelt zu begeben, um auch die anderen Profile mal durchzusehen.<br>\nAlso könnte man <a href=\"https://www.hl7.org/fhir/extension-iso21090-adxp-postbox.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/extension-iso21090-adxp-postbox.html\">https://www.hl7.org/fhir/extension-iso21090-adxp-postbox.html</a> nutzen und die Adress.line slicen, wie schon mit Str. und Hausnummer gemacht.  Dann müsste man Prüfen was Simone sagte type- physical darf nicht und use home oder so dann sicher auch nicht? <br>\nDas geht über xpath invarianten? Aber auch nur zur Validierung der Ressourcen oder?</p>",
        "id": 153895294,
        "sender_full_name": "Mathias Aschhoff",
        "timestamp": 1498559014
    },
    {
        "content": "<p>Och, die Fragen finde ich ganz hilfreich, als Basis für unseren FHIR-Profilierungs-Best-Practice-Wiki-Eintrag (OT: schönes Wort :D)<br>\nPostfach im Prinzip genau wie Du schreibst, außer, dass use=\"home\" durchaus erlaubt sein sollte - use dient ja z.B. der Unterscheidung privat vs. geschäftlich (\"home\", \"work\"), insofern ist eine \"home\"-Postfachadresse eben das private Postfach.</p>",
        "id": 153895296,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498560954
    },
    {
        "content": "<p>Die Invarianten werden über FHIRpath ausgedrückt. Das ist nicht ganz dasselbe wie XPath, aber der Grundansatz ist natürlich gleich.<br>\nDie Invarianten dienen, genau wie Profile insgesamt, zur Validierung von Ressourcen-Instanzen.<br>\nWann man validiert und wie Client bzw. Server auf nicht-profilkonforme Ressourcen reagieren, ist der Implementierung überlassen.</p>",
        "id": 153895297,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498561391
    },
    {
        "content": "<p>Ich hab den Datentyp jetzt mit der Postfach-Extension erweitert.<br>\nDie Constraints sind drin, hab mich aber noch nicht getraut, sie zu testen :P</p>",
        "id": 153895507,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498680370
    },
    {
        "content": "<p>Zum Testen müsste auch erstmal ein Ressourcen-Profil upgedated werden, oder? Also patient-de-basis ... Ich mach das gerade mal</p>",
        "id": 153895508,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498680712
    },
    {
        "content": "<p>Fehler im Gedanken - Datentyp-Profile werden ja auch im Snapshot nur referenziert...</p>",
        "id": 153895518,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498682325
    },
    {
        "content": "<p>Hm, der hier  sollte nicht valide sein: <a href=\"https://simplifier.net/LHITCSandbox/Patient-example342/~xml\" target=\"_blank\" title=\"https://simplifier.net/LHITCSandbox/Patient-example342/~xml\">https://simplifier.net/LHITCSandbox/Patient-example342/~xml</a> . Simplifier meint aber doch.</p>",
        "id": 153895519,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498682406
    },
    {
        "content": "<p>Versteh ich nicht... was ist daran falsch:<br>\nline.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-postBox').empty() or line.exists()</p>",
        "id": 153895520,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498682609
    },
    {
        "content": "<p>Das ist der gleiche Constraint wie bei Strasse und Hausnummer und da geht's doch auch...oder?</p>",
        "id": 153895521,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498682633
    },
    {
        "content": "<p>Hm, haben wir die schon getestet? ;)</p>",
        "id": 153895523,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498682840
    },
    {
        "content": "<p>Der hier validiert auch: <a href=\"https://simplifier.net/LHITCSandbox/Patient-example343/~xml\" target=\"_blank\" title=\"https://simplifier.net/LHITCSandbox/Patient-example343/~xml\">https://simplifier.net/LHITCSandbox/Patient-example343/~xml</a><br>\nSollte einen Fehler wg. add-4 werfen</p>",
        "id": 153895524,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498683063
    },
    {
        "content": "<p>Ich habe die leise Vermutung, dass das eher ein Problem in Simplifier ist. Mal prüfen</p>",
        "id": 153895525,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498683100
    },
    {
        "content": "<p>Ich hab gerade versucht unsere Profile an <a href=\"http://test.fhir.org\" target=\"_blank\" title=\"http://test.fhir.org\">test.fhir.org</a> zu verfüttern, aber der mag die nicht :(</p>",
        "id": 153895526,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498683154
    },
    {
        "content": "<p>Ich bin mir aber sicher, dass ich auf Simplifier schon mal eine Fehlermeldung wegen eines verletzen Constraints im Address-Profil gesehen habe, ich weiß nur nicht mehr, wie mein Testfall aussah...</p>",
        "id": 153895527,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498683337
    },
    {
        "content": "<p>Ah warte, oder war das beim Namen!?!?</p>",
        "id": 153895528,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498683349
    },
    {
        "content": "<p>Ich hab gleich nen Testfall für add-2</p>",
        "id": 153895529,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498683362
    },
    {
        "content": "<p>Kann aber beim Namen gewesen sein</p>",
        "id": 153895530,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498683373
    },
    {
        "content": "<p>Der add-2-invalid-Test validiert ebenfalls: <a href=\"https://simplifier.net/LHITCSandbox/Patient-example345/~xml\" target=\"_blank\" title=\"https://simplifier.net/LHITCSandbox/Patient-example345/~xml\">https://simplifier.net/LHITCSandbox/Patient-example345/~xml</a></p>",
        "id": 153895531,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498683458
    },
    {
        "content": "<p>Äh. Unser HumanName-Profil hat gar keine Constraints mehr!? </p>",
        "id": 153895532,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498683588
    },
    {
        "content": "<p>Mal gucken, was Github dazu meint</p>",
        "id": 153895534,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498683676
    },
    {
        "content": "<p>Ich bin mir ziemlich sicher, dass wir in Madrid kurz gejubelt haben, als der erste Constraint ansprach. Und das war HumanName ...</p>",
        "id": 153895535,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498683729
    },
    {
        "content": "<p>Hmm...ok. Aber ich glaube der Constrint ist unabhängig davon nicht korrekt.<br>\nDas Line-Attribut existiert ja, auch wenn es leer ist weil da ja die Extension drin steckt!<br>\nLine.exists() funktioniert hier nicht</p>",
        "id": 153895536,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498683773
    },
    {
        "content": "<p>Die HumanName-Constraints sind  anscheinend nie im Github angekommen.<br>\nAber: korrekt, exists() bringt nix.</p>",
        "id": 153895537,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498684024
    },
    {
        "content": "<p>ich hab das jetzt in line.empty() geändert, aber die Beispiele validieren trotzdem immer noch </p>",
        "id": 153895538,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498684063
    },
    {
        "content": "<p>Versuch mal exists(f:*[starts-with(local-name(.), 'value')])</p>",
        "id": 153895540,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498684166
    },
    {
        "content": "<p>wobei das \"starts-with\"-Konstrukt wahrscheinlich oversized ist, das ist für value[x] gedacht. Sollte aber trotzdem funktionieren.</p>",
        "id": 153895541,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498684317
    },
    {
        "content": "<p>also line='' tuts auch nicht</p>",
        "id": 153895542,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498684349
    },
    {
        "content": "<p>es ist ja auch nicht line, sondern line@value</p>",
        "id": 153895543,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498684388
    },
    {
        "content": "<p>[Ich hätte gern eine Session \"FHIRpath für Dummies\" in Amsterdam]<img alt=\":nerd_face:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/nerd_face.png\" title=\":nerd_face:\"></p>",
        "id": 153895544,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498684497
    },
    {
        "content": "<p>Müsste doch gleiche Syntax sein wie hier:<br>\nverificationStatus='entered-in-error' or clinicalStatus.exists())</p>",
        "id": 153895545,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498684498
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/condition.html#invs\" target=\"_blank\" title=\"http://hl7.org/fhir/condition.html#invs\">http://hl7.org/fhir/condition.html#invs</a></p>",
        "id": 153895546,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498684514
    },
    {
        "content": "<p>aber wenn, dann line!=''</p>",
        "id": 153895547,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498684650
    },
    {
        "content": "<p>Schau Dir mal den Standard-Ausdruck ext-1 an:<br>\n        &lt;key value=\"ext-1\" /&gt;<br>\n        &lt;severity value=\"error\" /&gt;<br>\n        &lt;human value=\"Must have either extensions or value[x], not both\" /&gt;<br>\n        &lt;expression value=\"extension.exists() != value.exists()\" /&gt;<br>\n&lt;xpath value=\"exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])\" /&gt;</p>",
        "id": 153895548,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498684789
    },
    {
        "content": "<p>klar, muss ja negiert werden!<br>\nAber ich habe jetzt sowohl line.empty().not()  bei street name als auch line!=\" bei postfach zum testen</p>",
        "id": 153895549,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498685056
    },
    {
        "content": "<p>Ich gebs auf. die validieren ALLE <em>grrrr</em></p>",
        "id": 153895550,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498685126
    },
    {
        "content": "<p>Versuch doch mal:<br>\nextension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-postBox').exists() or value.exists()</p>",
        "id": 153895551,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498685233
    },
    {
        "content": "<p>wir haben doch aber gar keine attribut das \"value\" heißt!?</p>",
        "id": 153895552,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498685401
    },
    {
        "content": "<p>Gnah! Wir haben ein XML-Attribut, aber kein XML-Element, das ein FHIR-Attribut ist :D</p>",
        "id": 153895553,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498685506
    },
    {
        "content": "<p>Stimmt natürlich, das \"value\" aus ext-1 ist ein XML-Element</p>",
        "id": 153895554,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498685561
    },
    {
        "content": "<p>Die ursprüngliche Version folgt dem Konsens der Experten:<br>\n<a href=\"https://chat.fhir.org/#narrow/stream/conformance/topic/Need.20.20help.20with.20invariant.20on.20extensions\" target=\"_blank\" title=\"https://chat.fhir.org/#narrow/stream/conformance/topic/Need.20.20help.20with.20invariant.20on.20extensions\">https://chat.fhir.org/#narrow/stream/conformance/topic/Need.20.20help.20with.20invariant.20on.20extensions</a></p>",
        "id": 153895555,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498685660
    },
    {
        "content": "<p>Vielleicht ist es auch ein cache-Problem, dass das Validation-Tool die Änderungen so schnell nicht mitbekommt....?</p>",
        "id": 153895556,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498685710
    },
    {
        "content": "<p>Beim ersten fälschlichen \"valid\" hat er jedenfalls ziemlich lange gebraucht. Das sah nicht nach Caching aus.</p>",
        "id": 153895557,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498685764
    },
    {
        "content": "<p>wie dem auch sei....ich mach Schluß für heute... vielleicht komme ich morgen drauf ...</p>",
        "id": 153895560,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498686265
    },
    {
        "content": "<p>Joah, Wachheit wäre gerade von Vorteil :D<br>\nIch probiere morgen mal in Ruhe gegen den offiziellen Validator</p>",
        "id": 153895563,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498686613
    },
    {
        "content": "<p>Der offizielle Validator hält die invalid-examples add-2/add-3/add-4 auch alle für valide.</p>",
        "id": 153895628,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498722752
    },
    {
        "content": "<p>Ich hab das Profil mit line.hasValue() aktualisiert</p>",
        "id": 153895631,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498725413
    },
    {
        "content": "<p>...jetzt hängt sich der Validator auf <img alt=\":cry:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/cry.png\" title=\":cry:\"> </p>",
        "id": 153895633,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498725495
    },
    {
        "content": "<p>ah doch. Aber immer noch keine Fehlermeldung...</p>",
        "id": 153895634,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498725564
    },
    {
        "content": "<p>Ich hab gerade nochmal verschiedene Experimente gemacht: Constraint in der Hierarchie rauf und runter verschoben, Pfade in den Ausdruck ergänzt und wieder rausgenommen ... es validiert immer.<br>\nUnd ich bin sicher, es ist am Ende ein ganz primitiver Bug. Wie immer.</p>",
        "id": 153895643,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498737178
    },
    {
        "content": "<p>Öhm, ich hatte gerade mal den Snapshot aus dem Profil rausgenommen und der Validator sagt mir:<br>\n\"Differential contains path Address.line.extension which is not found in the base\"</p>",
        "id": 153895646,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498737840
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 153895647,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498737866
    },
    {
        "content": "<p>Mal abwarten, was an Antworten auf Simones Frage im conformance-Stream kommt.</p>",
        "id": 153895648,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498738631
    },
    {
        "content": "<p>Hmpf.</p>",
        "id": 153895686,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498764720
    },
    {
        "content": "<p>Man muss den Snapshot des Patient-Profils neu erzeugen.</p>",
        "id": 153895687,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498764751
    },
    {
        "content": "<p>Jetzt funktionieren alle constraints:<br>\n<a href=\"https://simplifier.net/LHITCSandbox/Patient-example345/~xml\" target=\"_blank\" title=\"https://simplifier.net/LHITCSandbox/Patient-example345/~xml\">https://simplifier.net/LHITCSandbox/Patient-example345/~xml</a><br>\n<a href=\"https://simplifier.net/LHITCSandbox/Patient-example342/~xml\" target=\"_blank\" title=\"https://simplifier.net/LHITCSandbox/Patient-example342/~xml\">https://simplifier.net/LHITCSandbox/Patient-example342/~xml</a><br>\n<a href=\"https://simplifier.net/LHITCSandbox/Patient-example343/~xml\" target=\"_blank\" title=\"https://simplifier.net/LHITCSandbox/Patient-example343/~xml\">https://simplifier.net/LHITCSandbox/Patient-example343/~xml</a><br>\nIch habe nebenbei noch die Constraints von der Extension-Ebene auf die Address-Ebene gelüpft.<br>\nIch weiß aber nicht, ob das ursächlich war.</p>",
        "id": 153895688,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498764951
    },
    {
        "content": "<p>Übrigend habe ich eigenmächtig beschlossen, dass der Constraint auf Address.type bei Verwendung der Postfach-Extension nur eine Warnung und keinen Fehler ausgibt.<br>\nIch finde, wenn die Address.line nicht gefüllt ist, dann ist das ein Programmier-Fehler, der jedem Entwickler sofort um die Ohren gehauen werden muss. Aber der falsche Address.type kann auf die fehlerhafte Eingabe eines Anwenders zurückzuführen sein. Ich denke nicht, dass FHIR diktieren sollte, ob und wie Benutzer-Eingaben zu validieren sind. Zumindest nicht, so lange wir uns auf einer UseCase-unabhängigen Ebene befinden. </p>",
        "id": 153895691,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498765711
    },
    {
        "content": "<p>Hach. Endlich kann ich wieder ruhig schlafen. Ich hasse lose Enden!</p>",
        "id": 153895692,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498765821
    },
    {
        "content": "<p>Erkenntnis des Tages: Bei der Snapshot-Generierung werden referenzierte Profile in den Snapshot eingebettet. <img alt=\":grey_exclamation:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/grey_exclamation.png\" title=\":grey_exclamation:\"> </p>",
        "id": 153895694,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498765934
    },
    {
        "content": "<p>Können wir den hier damit schließen, oder müssen wir da noch was slicen?<br>\n<a href=\"https://github.com/hl7germany/basisprofil-de/issues/16\" target=\"_blank\" title=\"https://github.com/hl7germany/basisprofil-de/issues/16\">https://github.com/hl7germany/basisprofil-de/issues/16</a></p>",
        "id": 153895695,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498766060
    },
    {
        "content": "<p>...hat noch jemand was zu constrainen? Ich bin gerade im Flow... <img alt=\":upside_down_face:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/upside_down_face.png\" title=\":upside_down_face:\"></p>",
        "id": 153895698,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498767632
    },
    {
        "content": "<p>Also doch das Patient-Profil neu generieren? Sehr seltsam, der Diff gestern hat 0 Unterschiede gezeigt ... sei's drum.<br>\nDiese Sache mit den Snapshots nervt allerdings ein wenig. Ich hoffe, dass Simplifier bald differentials selbstständig zu Snapshots für die Ansicht verarbeiten kann ...</p>",
        "id": 153895699,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498767635
    },
    {
        "content": "<p>Die Constraints auf oberer Ebene finde ich OK, das passt.</p>",
        "id": 153895700,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498767702
    },
    {
        "content": "<p>Zu Issue 16: hast Du mal die ganzen Beispiele reviewed, ob die noch alle passen (speziell, da type jetzt quasi bedeutungslos ist?</p>",
        "id": 153895701,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498767787
    },
    {
        "content": "<p>Auf  oberer Ebene gefällt mir auch besser. Dann hat man eine schöne Übersicht, welche Regeln für ein Attribut gelten. Einzige Krux: Die location-Angabe beim Validierungsfehler ist dadurch etwas ungenau:</p>\n<div class=\"codehilite\"><pre><span></span>Instance failed constraint add-3 &quot;Wenn diese Extension verwendet wird, muss auch Address.line gefüllt werden&quot;\nLocation: Patient.address[0]\n</pre></div>\n\n\n<p>Das lässt sich aber durch einen entsprechenden Fehlertext ausgleichen</p>",
        "id": 153895704,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498767931
    },
    {
        "content": "<p>Ich denke, die Fehlertexte zu individualisieren, dürfte das kleinste Problem sein :D</p>",
        "id": 153895705,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498767997
    },
    {
        "content": "<p>Unsere Patient-Examples validieren alle</p>",
        "id": 153895706,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498768060
    },
    {
        "content": "<p>Sehr schön, freut mich, dass ihr das hinbekommen habt. Wie schauts eigentlich aus wenn mir was auffällt, in github in den issue tracker oder hier rein? </p>",
        "id": 153895707,
        "sender_full_name": "Mathias Aschhoff",
        "timestamp": 1498768071
    },
    {
        "content": "<p>Wenns dir an unseren Profilen auffällt -&gt; github<br>\nWenns dir an der FHIR-Spezifikation auffällt -&gt; gforge</p>",
        "id": 153895708,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498768154
    },
    {
        "content": "<p>Ich denke, offensichtliches kann gleich nach Github.<br>\nInhaltliches oder prinzipielles (z.B. Dinge wie die OID vs. URL-Diskussion) sollte erst hier diskutiert werden</p>",
        "id": 153895709,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498768175
    },
    {
        "content": "<p>Wobei z.B. neue Issues zu patient-de-vsdm momentan relativ sinnfrei wären, weil das Profil einfach noch nicht nachgezogen wurde und ohnehin noch einige Probleme hat.</p>",
        "id": 153895710,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498768260
    },
    {
        "content": "<p>Ich denke ein issue ist immer gut. Hier im Chat verliert man Themen gerne mal aus dem Blick. Das issue ist der reminder :)<br>\nAber gerne zu jedem issue hier gleich auch einen Diskussions-Thread eröffnen, falls es noch keinen passenden gibt.</p>",
        "id": 153895711,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498768313
    },
    {
        "content": "<p>Oder so, gute Idee.</p>",
        "id": 153895712,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498768331
    },
    {
        "content": "<p>Alles klar! Ich werd eh erstmal nur gucken, dass ich euren geistigen Kartoffelsalat verstehe bevor ich mir überhaupt anmaße da etwas rein zu schreiben ;-)</p>",
        "id": 153895713,
        "sender_full_name": "Mathias Aschhoff",
        "timestamp": 1498768343
    },
    {
        "content": "<p>/me überlegt gerade, ob das Wort \"Kartoffelsalat\" positiv oder negativ belegt ist <img alt=\":joy:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/joy.png\" title=\":joy:\"></p>",
        "id": 153895714,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498768391
    },
    {
        "content": "<p>ist lecker, also natürlich positiv.</p>",
        "id": 153895715,
        "sender_full_name": "Mathias Aschhoff",
        "timestamp": 1498768416
    },
    {
        "content": "<p>Krautsalat mag ich nicht</p>",
        "id": 153895716,
        "sender_full_name": "Mathias Aschhoff",
        "timestamp": 1498768422
    },
    {
        "content": "<p>OK, bei Krautsalat sind wir damit nicht semantisch interoperabel ;)</p>",
        "id": 153895720,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498768787
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span> Issue 16 würde ich noch offen lassen, weil für patient-de-vsdm das Adress-Slicing noch fehlt</p>",
        "id": 153895721,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498768820
    },
    {
        "content": "<p>ok, ich war mir nicht mehr sicher, ob sich mit den constraints nicht schon die Notwendigkeit des Slicens erbrigt hatte..?</p>",
        "id": 153895724,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498768960
    },
    {
        "content": "<p>Ah stimmt, wir wollten ja dort nicht mehr slicen ... (Du hast Recht, man sollte an Dingen dran bleiben ...)<br>\nDann werfe ich jetzt mal einen neuen Constraint in Deinen Flow:</p>",
        "id": 153895727,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498769122
    },
    {
        "content": "<p>add-5: wenn eine Adresse eine line mit streetName und/oder houseNumber hat, darf die Adresse keine line mit postBox haben und umgekehrt</p>",
        "id": 153895728,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498769249
    },
    {
        "content": "<p>line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-postBox').empty() or  (line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName').empty()  and line.extension('http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber').empty())</p>",
        "id": 153895729,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498769445
    },
    {
        "content": "<p>Das wäre ein OR? wir brauchen ein XOR</p>",
        "id": 153895731,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498769571
    },
    {
        "content": "<p>schließt or eine \"und\" verknüfung aus? Sodass nicht beides leer sein kann? </p>",
        "id": 153895732,
        "sender_full_name": "Mathias Aschhoff",
        "timestamp": 1498769585
    },
    {
        "content": "<p>nee or === logisches OR, or !== XOR</p>",
        "id": 153895733,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498769614
    },
    {
        "content": "<p>Ach nee, Moment, das ist ja ein empty(). D.h. für TRUE muss mindestens eines leer sein. Also korrekt.</p>",
        "id": 153895734,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498769709
    },
    {
        "content": "<p>Nö. m.E. passt das so. Damit der Constraint keinen Error auswirft muss der Ausruck \"true\" ergeben.<br>\nAlso Postfach gefüllt, Str/Hnr leer -&gt; false or (true and true) -&gt; true<br>\nStr/Hnr gefüllt, Postfach leer -&gt; true (false and false) -&gt; true</p>",
        "id": 153895735,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498769715
    },
    {
        "content": "<p>Und wenn beide leer ist, ist es auch gut.<br>\n100% passend.</p>",
        "id": 153895736,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498769740
    },
    {
        "content": "<p>hm, empty() oder exists() ?</p>",
        "id": 153895737,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498769770
    },
    {
        "content": "<p>empty() dürfte true sein sowohl wenn die extension nicht vorhanden ist als auch wenn sie vorhanden aber leer ist.</p>",
        "id": 153895738,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498769831
    },
    {
        "content": "<p>Also in unserem Fall immer korrekt.</p>",
        "id": 153895739,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498769857
    },
    {
        "content": "<p>Das Einbauen ins Profil überlasse ich Dir :)</p>",
        "id": 153895740,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498769918
    },
    {
        "content": "<p>Formal wäre ich für exists(). Eine leere Extension ist ja schon durch ele-1 abgedeckt</p>",
        "id": 153895741,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498769919
    },
    {
        "content": "<p>müssten wir aber negieren. exists().not() ist irgendwie doof</p>",
        "id": 153895742,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498769959
    },
    {
        "content": "<p>Ei gut.<br>\nIch werf's erstmal in issue 16 rein. Wenn mir gestern Abend eines gezeigt hat, dann wiedereinmal, dass ich nach 23:00 nicht versuchen sollte, zu denken oder zu coden :D</p>",
        "id": 153895743,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498770049
    },
    {
        "content": "<p>Das ist wirklich ein 1ste Welt Problem. empty() ist doch top</p>",
        "id": 153895744,
        "sender_full_name": "Mathias Aschhoff",
        "timestamp": 1498770056
    },
    {
        "content": "<p>Das empty() kommt auch vom Meister: <a href=\"https://chat.fhir.org/#narrow/near/77892/stream/conformance/topic/Need.20.20help.20with.20invariant.20on.20extensions\" target=\"_blank\" title=\"https://chat.fhir.org/#narrow/near/77892/stream/conformance/topic/Need.20.20help.20with.20invariant.20on.20extensions\">https://chat.fhir.org/#narrow/near/77892/stream/conformance/topic/Need.20.20help.20with.20invariant.20on.20extensions</a><br>\nAllerdings muss das nix heißen. Der zweite Teil des Ausdrucks war nämlich auch falsch :D</p>",
        "id": 153895745,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498770094
    },
    {
        "content": "<p>hab mir nebenbei noch <a href=\"http://hl7.org/fhirpath/\" target=\"_blank\" title=\"http://hl7.org/fhirpath/\">http://hl7.org/fhirpath/</a> - krasses Werkzeug. Weiterhin frohes schaffen! <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span> bis morgen ;-)</p>",
        "id": 153895746,
        "sender_full_name": "Mathias Aschhoff",
        "timestamp": 1498770103
    },
    {
        "content": "<p>Gute Nacht! Bis morgen!</p>",
        "id": 153895747,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498770119
    },
    {
        "content": "<p>GN8 Mathias :)</p>",
        "id": 153895748,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498770146
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span> Man muss seine Meister immer mal hinterfragen <span class=\"emoji emoji-1f602\" title=\"joy\">:joy:</span></p>",
        "id": 153895749,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498770296
    },
    {
        "content": "<p>Zu Adresse fehlt uns noch eine Extension und Constraints, vgl. Kommentar in <a href=\"https://github.com/hl7germany/basisprofil-de/issues/7\" target=\"_blank\" title=\"https://github.com/hl7germany/basisprofil-de/issues/7\">https://github.com/hl7germany/basisprofil-de/issues/7</a></p>",
        "id": 153895757,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498771894
    },
    {
        "content": "<p>ähm... der Constraint für Postfach &lt;&gt; Str/HNr kann doch eigentlich als Warning ins Basisprofil, oder?<br>\nIm VSDM müsste dann nur die Severity erhöht werden (wenn das geht...)<br>\nAh. Und so langsam dämmert mir auch warum die Profile der Datentypen im Snapshot eingebettet sind. Man kann im Profil der Resource ja auch die Datentypen weiter einschränken!!</p>",
        "id": 153895770,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498796987
    },
    {
        "content": "<p>Adresszusatz sowie die weiteren Constraints sind drin...</p>",
        "id": 153895771,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1498798689
    },
    {
        "content": "<p>Mit Warning bin ich erstmal glücklich.</p>",
        "id": 153895801,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1498806114
    },
    {
        "content": "<blockquote>\n<p>Man kann im Profil der Resource ja auch die Datentypen weiter einschränken!!</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span> Hast Du gerade mal nen Tipp, wie das per Forge geht?</p>",
        "id": 153896577,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1499775078
    },
    {
        "content": "<p>Zum Thema Address.country (<a href=\"https://github.com/hl7germany/basisprofil-de/issues/1\" target=\"_blank\" title=\"https://github.com/hl7germany/basisprofil-de/issues/1\">https://github.com/hl7germany/basisprofil-de/issues/1</a>):<br>\n=&gt; <a href=\"https://chat.fhir.org/#narrow/stream/conformance/topic/ValueSet.20binding.20for.20string.20elements.3F\" target=\"_blank\" title=\"https://chat.fhir.org/#narrow/stream/conformance/topic/ValueSet.20binding.20for.20string.20elements.3F\">https://chat.fhir.org/#narrow/stream/conformance/topic/ValueSet.20binding.20for.20string.20elements.3F</a></p>",
        "id": 153897216,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1500385490
    },
    {
        "content": "<p>Und noch einen systematischen Bug im größeren Teil unserer Constraints gefunden + gefixt: <a href=\"https://github.com/hl7germany/basisprofil-de/issues/19\" target=\"_blank\" title=\"https://github.com/hl7germany/basisprofil-de/issues/19\">https://github.com/hl7germany/basisprofil-de/issues/19</a><br>\nZur allgemeinen Information: wenn ein Element mehrfach vorkommen kann, muss man die Constraint-Ausdrücke nochmal klammern, z.B. mittels all(). Beispiel:</p>\n<div class=\"codehilite\"><pre><span></span>line.all($this.extension(&#39;http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber&#39;).empty() or $this.hasValue())\n</pre></div>",
        "id": 153897241,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1500397422
    },
    {
        "content": "<p>Die HumanName.family Constraints waren nicht betroffen, da family = 0..1</p>",
        "id": 153897242,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1500397463
    },
    {
        "content": "<p>Hallo, ich habe ein Problem mit der Erstellung mit Poco einer Extension. Gibt es eine Möglichkeit, dies zu erreichen ohne Umwege? ich erstelle die Extension, kann diese aber nicht zu &gt;Adress.line&lt; adden. Vielen Dank<br>\nMit freundlichen Grüßen<br>\nMichael Nordmann</p>\n<p>&lt;address&gt;<br>\n    &lt;line value=\"Musterstraße 1\"&gt;<br>\n        &lt;extension url=\"<a href=\"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber\">http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-houseNumber</a>\"&gt;<br>\n            &lt;valueString value=\"1\" /&gt;<br>\n        &lt;/extension&gt;<br>\n        &lt;extension url=\"<a href=\"http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName\">http://hl7.org/fhir/StructureDefinition/iso21090-ADXP-streetName</a>\"&gt;<br>\n            &lt;valueString value=\"Musterstraße\" /&gt;<br>\n        &lt;/extension&gt;<br>\n    &lt;/line&gt;<br>\n    &lt;city value=\"Musterstadt\" /&gt;<br>\n    &lt;postalCode value=\"77777\" /&gt;<br>\n    &lt;country value=\"DE\" /&gt;<br>\n&lt;/address&gt;</p>",
        "id": 272739569,
        "sender_full_name": "Mino Nordmann",
        "timestamp": 1645481371
    },
    {
        "content": "<p>Die eigentliche Frage wird leider nicht direkt klar.</p>",
        "id": 272824630,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1645545991
    },
    {
        "content": "<p>Wie man diese Extensions nutzt kann man hier schön sehen: <br>\n<a href=\"https://simplifier.net/basisprofil-de-r4/patient-example-address\">https://simplifier.net/basisprofil-de-r4/patient-example-address</a></p>",
        "id": 272824687,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1645546014
    },
    {
        "content": "<p>das obige Beispiel sieht erstmal korrekt aus.</p>",
        "id": 272824747,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1645546034
    },
    {
        "content": "<p>Wie man das mittels der .net library baut findet man hier: <a href=\"https://docs.fire.ly/projects/Firely-NET-SDK/model/extensions.html?highlight=extension#extensions\">https://docs.fire.ly/projects/Firely-NET-SDK/model/extensions.html?highlight=extension#extensions</a></p>",
        "id": 272824950,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1645546117
    }
]