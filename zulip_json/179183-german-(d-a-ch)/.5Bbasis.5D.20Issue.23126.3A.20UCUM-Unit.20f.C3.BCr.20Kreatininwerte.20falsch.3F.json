[
    {
        "content": "<p>Und hier etwas noch kleineres:</p>\n<p><a href=\"https://github.com/hl7germany/basisprofil-de/issues/126\" target=\"_blank\" title=\"https://github.com/hl7germany/basisprofil-de/issues/126\">https://github.com/hl7germany/basisprofil-de/issues/126</a></p>\n<p>Kommentar:</p>\n<blockquote>\n<p>Im Kreatinin-Profil (observation-de-kreatinin-0.2) is valueQuantity.code z.Z. auf \"mg/dl\" gesetzt (system is UCUM). Dabei dachte ich, dass das \"L\" grossgeschrieben werden musste, also \"mg/dL\" - siehe z.B. <a href=\"https://www.hl7.org/fhir/valueset-ucum-common.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/valueset-ucum-common.html\">common UCUM codes valueset</a> oder <a href=\"http://download.hl7.de/documents/ucum/ucumdata.html\" target=\"_blank\" title=\"http://download.hl7.de/documents/ucum/ucumdata.html\">diese Tabelle</a>. Ist es vielleicht einen Tippfehler?</p>\n</blockquote>\n<p>Falls ich mich da nicht geirrt habe, würde man wohl einfach \"mg/dl\" mit \"mg/dL\" ersetzen.</p>",
        "id": 161948029,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1553777045
    },
    {
        "content": "<p>Geht beides. L := l := dm3</p>",
        "id": 161978795,
        "sender_full_name": "Christof Gessner",
        "timestamp": 1553797047
    },
    {
        "content": "<p>OK. Die Sache ist aber, dass  Validierung (zuminderst mit dem JAR-Validator) case-sensitive ist und so l := L nicht respektiert. Sprich, wenn man seine Unit-Codes z.B. brav. aus dem <a href=\"https://www.hl7.org/fhir/valueset-ucum-common.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/valueset-ucum-common.html\">common UCUM codes valueset</a> holt, dann kriegt mann einen Validierungsfehler. Insofern als die eingschlägige Tabellen (s.O.) also tatsächlich \"mg/dL\" zu benutzen scheinen (oder sehe ich das falsch?), könnte man also die Implementierer einen kleinen Umweg ersparen mit dieser Schreibweise.</p>",
        "id": 162026904,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1553847753
    },
    {
        "content": "<p>UCUM ist auch case sensitive. Der Validator muss sowohl ml als auch mL akzeptieren.</p>",
        "id": 162027831,
        "sender_full_name": "Christof Gessner",
        "timestamp": 1553848807
    },
    {
        "content": "<p>Technisch gesehen ist im Profil ein fixer Wert vorgegeben, der Validator dürfte hier wenig mehr als einen String-Vergleich machen, auch wenn \"dl\" und \"dL\" in UCUM 100% synonym sind.<br>\nDa UCUM offenbar \"L\" präferiert, halte ich eine entsprechende Änderung im Basisprofil für sinnvoll.</p>",
        "id": 162039585,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1553860791
    },
    {
        "content": "<p>UCUM präferiert nicht. Manche Anwender präferieren.</p>",
        "id": 162040365,
        "sender_full_name": "Christof Gessner",
        "timestamp": 1553861454
    },
    {
        "content": "<p>Stimmt.<br>\nIch korrigiere: \"Da die HL7 Vocabulary Work Group ...\"</p>",
        "id": 162041026,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1553862077
    },
    {
        "content": "<p>Spontan wüsste ich jetzt nicht, wie man in einem Profile einen nicht case-sensitiven fixed value definiert. Weiß das jemand? ...sonst frage ich mal im Conformance Stream...</p>",
        "id": 162414235,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1554285044
    },
    {
        "content": "<p>Naja, im Zweifel über ein ValueSet</p>",
        "id": 162414348,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1554285188
    },
    {
        "content": "<p>Die Frage ist vielleicht eher: will man grundsätzlich alle Optionen für Einheiten offen halten (dann \"l\" und \"L\", aber auch z.B. \"dm3\"), oder legt man eine Schreibweise derselben Bedeutung als UCUM-Code fest und wer etwas anderes will, kann ohnehin unit benutzen.</p>",
        "id": 162414456,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1554285309
    },
    {
        "content": "<p>Ich persönlich plädiere für letzteres.</p>",
        "id": 162414538,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1554285391
    },
    {
        "content": "<p>In <a href=\"https://www.hl7.org/fhir/valueset.html#uniqueness\" target=\"_blank\" title=\"https://www.hl7.org/fhir/valueset.html#uniqueness\">https://www.hl7.org/fhir/valueset.html#uniqueness</a> liest der letzte Satz für mich so, dass die Vorgabe des ValueSets durch das CodeSystem überschrieben werden kann. Also beide Werte wären zu akzeptieren und es sollte ein Bug-Report für den Validator erstellt werden.</p>",
        "id": 162415425,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1554286318
    },
    {
        "content": "<p>Wobei es mich wirklich fasziniert, dass es in HAPI nicht validert, da \"ml\" sogar als Test Case abgedeckt ist. Siehe <a href=\"https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-utilities/src/main/java/org/hl7/fhir/utilities/ucum/tests/UcumFunctionalTests.xml\" target=\"_blank\" title=\"https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-utilities/src/main/java/org/hl7/fhir/utilities/ucum/tests/UcumFunctionalTests.xml\">https://github.com/jamesagnew/hapi-fhir/blob/master/hapi-fhir-utilities/src/main/java/org/hl7/fhir/utilities/ucum/tests/UcumFunctionalTests.xml</a></p>",
        "id": 162415704,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1554286597
    },
    {
        "content": "<p>Validation in hapi wird per Bridge an Grahames Validator Code angebunden. Also falls müsste der BugReport sehr wahrscheinlich gegen FHIR core gestellt werden. Bzw. gegen fhir.ucum: <a href=\"https://github.com/FHIR/Ucum-java\" target=\"_blank\" title=\"https://github.com/FHIR/Ucum-java\">https://github.com/FHIR/Ucum-java</a></p>",
        "id": 162417206,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1554288144
    },
    {
        "content": "<p>Generell finde ich es aber in einem Profil am praktikabelsten einen fixed value für die unit vorzugeben. Sonst ist fast alles möglich:<br>\nmg/dl, kg/L, mmol/L ... und dies dann in einem Validator entsprechend zu transformieren... lieber nicht.</p>",
        "id": 162417325,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1554288269
    },
    {
        "content": "<p>Ist halt die Frage ob man für sowas jetzt wirklich ein ValueSet aufmachen möchte. Ich kann halt nicht die Implikationen absehen für Systeme die case-insensitive arbeiten.</p>",
        "id": 162418241,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1554289280
    },
    {
        "content": "<p>Aus reinem Interesse: wo steht denn das der fixed value case-sensitive ist?</p>",
        "id": 162418356,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1554289366
    },
    {
        "content": "<p>Nirgends wirklich. Aber ich gehe halt davon aus, dass die Validatoren bei \"fixed value\" einen exakten String-Vergleich machen...</p>",
        "id": 162420764,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1554291603
    },
    {
        "content": "<p>Die Frage, ob Codesysteme case-sensitiv sein sollen, hatte ich beim vorletzen Interop aufgebracht. Die einhellige Aussage war: ja, sind sie.</p>",
        "id": 162423700,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1554294085
    },
    {
        "content": "<p>\"Some computer systems or programming languages still have the requirement of case insensitivity and some humans who are not familiar with SI units tend to confuse upper and lower case or can not interpret the difference in upper and lower case correctly. For this reason the case insensitive symbols are defined. Although The Unified Code for Units of Measure does not encourage use of case insensitive symbols where not absolutely necessary, in some circumstances the case insensitive representation may be the greatest common denominator. Thus some systems that can handle case sensitivity may end up using case insensitive symbols in order to communicate with less powerful systems. \"</p>\n<p>Q: <a href=\"http://unitsofmeasure.org/ucum.html\" target=\"_blank\" title=\"http://unitsofmeasure.org/ucum.html\">http://unitsofmeasure.org/ucum.html</a></p>",
        "id": 162423859,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1554294241
    },
    {
        "content": "<p>Ok, scheint so zu sein. Man hätte nur vielleicht nur ein Problem mit Systemen die ihre Codes aus <a href=\"http://unitsofmeasure.org/ucum-essence.xml\" target=\"_blank\" title=\"http://unitsofmeasure.org/ucum-essence.xml\">UCUM Essence</a> nachladen. Nachdem dieser Definition und den Regeln von <a href=\"http://unitsofmeasure.org/ucum.html#section-Character-Set-and-Lexical-Rules\" target=\"_blank\" title=\"http://unitsofmeasure.org/ucum.html#section-Character-Set-and-Lexical-Rules\">UCUM</a> wäre sogar \"ML\" order sogar \"Ml\" erlaubt. Was irgendwie doch ein wenig komisch ist.</p>",
        "id": 162423860,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1554294241
    },
    {
        "content": "<p>Ziemlich klar: es ist nicht encouraged</p>",
        "id": 162423924,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1554294277
    },
    {
        "content": "<p>Das UCUM codeSystem mit der OID 2.16.840.1.113883.6.8 ist case-sensitive. Und es enthält sowohl L als auch l als gültige codes für dm3.</p>",
        "id": 162425752,
        "sender_full_name": "Christof Gessner",
        "timestamp": 1554295837
    },
    {
        "content": "<p>Das CodeSystem <a href=\"http://unitsofmeasure.org\" target=\"_blank\" title=\"http://unitsofmeasure.org\">http://unitsofmeasure.org</a> (<a href=\"https://www.hl7.org/fhir/ucum.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/ucum.html\">https://www.hl7.org/fhir/ucum.html</a>) ist auch case sensitive</p>",
        "id": 162510266,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1554372278
    },
    {
        "content": "<p>Um hier zum Schluss zu kommen: Alles weist darauf hin, dass wir auf \"dL\" korrigieren sollten. Motion?</p>",
        "id": 169762696,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1562411074
    },
    {
        "content": "<p><span aria-label=\"wait one second\" class=\"emoji emoji-261d\" role=\"img\" title=\"wait one second\">:wait_one_second:</span>️motion</p>",
        "id": 169763772,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1562413256
    },
    {
        "content": "<p>+1</p>",
        "id": 169764129,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1562413955
    },
    {
        "content": "<p>+1</p>",
        "id": 169768172,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1562421565
    }
]