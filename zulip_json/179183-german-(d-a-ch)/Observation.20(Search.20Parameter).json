[
    {
        "content": "<p>Hallo zusammen, wir sind gerade dabei ein POC im Bereich der Labordatenbereitstellung über Fhir umzusetzen. Dabei hängen wir am Suchparameter der Observation Ressource. Alle, laut Spezifikation vorgegebenen, Varianten sind mit TU gekennzeichnet. Die erste Idee war über den Patient zu gehen, wobei dann Systeme, die nur an der einen Untersuchung interessiert sind, mehr Infos als gewollt bekommen. Mittlerweile überlegen wir, über identifier zu gehen und da mit der Auftragsnummer zu arbeiten.<br>\nWas haltet ihr für sinnvoll? Gibt es da bereits Erfahrungen?<br>\n<a href=\"http://hl7.org/implement/standards/fhir/observation.html#search\" target=\"_blank\" title=\"http://hl7.org/implement/standards/fhir/observation.html#search\">http://hl7.org/implement/standards/fhir/observation.html#search</a></p>",
        "id": 173857850,
        "sender_full_name": "Jonas Schön",
        "timestamp": 1566457353
    },
    {
        "content": "<p>Am POC ist man ja meist an eine chronologischen Darstellung der Labordaten eines Patienten interessiert.<br>\nDas wäre dann der Parameter \"patient\" um nur eine Kategorie (Labor) zu bekommen würde man diesen mit dem category parameter kombinieren.</p>",
        "id": 173860371,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1566460171
    },
    {
        "content": "<p>Hallo, wonach genau wollt ihr denn suchen? Welche Funktionalität benötigt ihr? Kannst du die Suchanfrage mal in Prosa formulieren?</p>",
        "id": 173860373,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1566460173
    },
    {
        "content": "<p>TU ist hier die letzte Stufe vor normative und somit gut.</p>",
        "id": 173860432,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1566460225
    },
    {
        "content": "<blockquote>\n<p>Hallo, wonach genau wollt ihr denn suchen? Welche Funktionalität benötigt ihr? Kannst du die Suchanfrage mal in Prosa formulieren?</p>\n</blockquote>\n<p>Konkret geht es um die Abfrage bestimmter Werte aus einem Auftrag, bei dem aber auch mehr angefordert sein könnte. Dem abfragenden System ist der Patient mit PID und dazugehörigen Stammdaten bekannt, sowie die Auftragsnummer.<br>\nAlso wird Für Patient xy aus Auftrag 123 (Kleines Blutbild) nur der Hämatokrit Wert benötigt, um mit der weiteren Logik fortfahren zu können.</p>",
        "id": 173871412,
        "sender_full_name": "Jonas Schön",
        "timestamp": 1566471305
    },
    {
        "content": "<blockquote>\n<p>Am POC ist man ja meist an eine chronologischen Darstellung der Labordaten eines Patienten interessiert.<br>\nDas wäre dann der Parameter \"patient\" um nur eine Kategorie (Labor) zu bekommen würde man diesen mit dem category parameter kombinieren.</p>\n</blockquote>\n<p>Stimmt, der category Parameter wäre definitiv noch eine Einschränkung der Ergebnisse, die wir machen sollten.<br>\nEntschuldigung, in dem Zusammenhang ist POC vielleicht eine missverständliche Abkürzung ;) ich meinte ein Proof of Concept.</p>",
        "id": 173871652,
        "sender_full_name": "Jonas Schön",
        "timestamp": 1566471593
    },
    {
        "content": "<p>Hallo,<br>\ndu könntest den Auftrag als ServiceRequest darstellen. Die Ergebnisse des Auftrages könnten dann in einen DiagnosticReport zusammengefasst werden. Der DiagnosticReport enthält im Feld basedOn dann die Referenz zum ServiceRequest. So kann dann der DiagnosticReport mit der ID des ServiceRequest (Auftragsnummer) abgefragt werden.</p>",
        "id": 173875588,
        "sender_full_name": "Sebastian Rumohr",
        "timestamp": 1566475332
    },
    {
        "content": "<p>Hallo</p>\n<p>Zur Abfrage der Observation nach Auftragsnummer. Was haltet ihr von folgenden Aufrufen.</p>\n<p>1) <br>\nGET [base]/ServiceRequest?identifier=AuftragsNummer<br>\nGET [base]/Observation?basedOn=ServiceRequest/1</p>\n<p>2)<br>\nGET [base]/Observation?basedOn:identifier=http://acme.org/fhir/servicerequest/identifier|AuftragsNummer</p>\n<p>Das zweite Beispiel habe ich abgeleitet aus <a href=\"https://www.hl7.org/fhir/search.html#reference\" target=\"_blank\" title=\"https://www.hl7.org/fhir/search.html#reference\">https://www.hl7.org/fhir/search.html#reference</a>. Relativ am Schluss ist beschrieben,<br>\ndass man bei Referenzen auch mit identifier suchen kann. <br>\nHier frage ich mich was für ein url sinnvoll wäre (<a href=\"http://acme.org/fhir/servicerequest/identifier\" target=\"_blank\" title=\"http://acme.org/fhir/servicerequest/identifier\">http://acme.org/fhir/servicerequest/identifier</a>)</p>",
        "id": 173950970,
        "sender_full_name": "Cyrill Zadra",
        "timestamp": 1566548504
    },
    {
        "content": "<p>Die NamespaceURL bestimmt derjenige, der die Auftragsnummern vergibt. Wenn es sich um eine organisationsinterne Kommunikation ohne überlappende Nummernkreise handelt, könnte man die NameSpace-URL auch weglassen.<br>\nSiehe dazu: <a href=\"http://ig.fhir.de/basisprofile-de/0.2.1/Namensrume.html\" target=\"_blank\" title=\"http://ig.fhir.de/basisprofile-de/0.2.1/Namensrume.html\">http://ig.fhir.de/basisprofile-de/0.2.1/Namensrume.html</a></p>",
        "id": 173953148,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1566550881
    },
    {
        "content": "<p>Was Du hier brauchst, ist die \"Chained Search\": <a href=\"http://hl7.org/implement/standards/fhir/search.html#chaining\" target=\"_blank\" title=\"http://hl7.org/implement/standards/fhir/search.html#chaining\">http://hl7.org/implement/standards/fhir/search.html#chaining</a><br>\nAlso <code>GET [base]/Observation?basedOn.identifier=AuftragsNummer</code></p>",
        "id": 173953233,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1566550964
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191762\">@Cyrill Zadra</span> : Das ist für unser Vorhaben doch perfekt.</p>",
        "id": 173953367,
        "sender_full_name": "Sebastian Rumohr",
        "timestamp": 1566551070
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span>  Danke für die Info.. hilft uns weiter.</p>\n<p><span class=\"user-mention\" data-user-id=\"236259\">@Sebastian Rumohr</span>  Genau sehe ich auch so. Falls für euch auch ok, würde ich es gerne mit dem Vorschlag GET [base]/Observation?basedOn.identifier=AuftragsNummer ausprobieren.</p>",
        "id": 173954469,
        "sender_full_name": "Cyrill Zadra",
        "timestamp": 1566552158
    },
    {
        "content": "<p>Hallo, kleine Korrektur: Die Suchparameter unterscheiden sich leicht von den Feldern (kebab statt camel case), womit folgendes richtig ist:<br>\n[base]/Observation?based-on.identifier=AuftragsNummer</p>",
        "id": 174211856,
        "sender_full_name": "Jonas Beyer",
        "timestamp": 1566898812
    },
    {
        "content": "<p>Wir haben den Aufruf noch etwas erweitert, so dass explizit nach ServiceRequest.identifier gesucht werden kann ... <br>\nGET [base]/Observation?based-on:ServiceRequest.identifier=AuftragsNummer</p>",
        "id": 174438208,
        "sender_full_name": "Cyrill Zadra",
        "timestamp": 1567071475
    }
]