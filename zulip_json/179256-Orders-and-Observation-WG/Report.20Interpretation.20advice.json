[
    {
        "content": "<p>I'm just preparing a presentation around laboratory medicine and FHIR. It seems to me that looking forward, it would be very good to be able to put a link into a DiagnosticReport for a CDS Hooks server that you could use to get interpretation advice about the report.</p>",
        "id": 154012139,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540477847
    },
    {
        "content": "<p>I'm thinking about when reports start becoming available to a patient, the ability to offer an active interface for understanding the results and seeking help to make sense of them. E.g. a business opportunity for a lab</p>",
        "id": 154012140,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540477913
    },
    {
        "content": "<p>is this worth defining and extension for?</p>",
        "id": 154012141,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540477924
    },
    {
        "content": "<p>Hooks are initiated by a particular workflow step.  I don't understand what it would mean for a hook to be associated with a data record.  How would a system know when to invoke the hook?  Or on behalf of what user?</p>",
        "id": 154012160,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540480694
    },
    {
        "content": "<p>What about a link to a SMART App instead?</p>",
        "id": 154012165,
        "sender_full_name": "Kevin Power",
        "timestamp": 1540480872
    },
    {
        "content": "<p>A SMART App might make sense.</p>",
        "id": 154012240,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540492162
    },
    {
        "content": "<p>this sounds blue button like</p>",
        "id": 154012251,
        "sender_full_name": "Eric Haas",
        "timestamp": 1540493478
    },
    {
        "content": "<p>I don't know how you link to  a smart app. How can you run an arbitrary smart app? but I can imagine calling the hook 'view-report' with an id from any application, providing some context, and getting some cards back .</p>",
        "id": 154012396,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540559882
    },
    {
        "content": "<p>the workflow step is clear; it's the appropriate server that's not clear</p>",
        "id": 154012397,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540559901
    },
    {
        "content": "<p>If the extension makes the hook clear, then I suppose so.  But there are other workflow points that could be invoked around a report.  I'm not sure that an EHR would ever invoke a hook on an unknown server though.</p>",
        "id": 154012545,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540565376
    },
    {
        "content": "<p>Just thinking about complex reports where information or even suggestion cards may not be sufficient, but could be presented much better in an app.  I don't think SMART has defined a way to link to an app in this way, but I think it would be a reasonable thing to consider.  On the other hand, if doing it has a hook that returns an App Link card is better aligned, that still meets the requirements I have in my head.  Either way, seems like the CDS Hooks Server/app needs to be known to the EHR ahead of time.</p>",
        "id": 154012610,
        "sender_full_name": "Kevin Power",
        "timestamp": 1540567549
    },
    {
        "content": "<p>I'm not thinking about EHR. I'm thinking about PHR.</p>",
        "id": 154012831,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540626756
    },
    {
        "content": "<p>What are the workflow points for hooks in a PHR?</p>",
        "id": 154012860,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540652109
    },
    {
        "content": "<p>PHRs would still (presumably) need to trust the hook endpoints</p>",
        "id": 154012861,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540652126
    },
    {
        "content": "<p>well, this is case where there'd probably no pre-fetch, no further access - the PHR assumes that the claimed source knows the report, so just provides an Id, and the source assumes that the PHR has access to the report, since it's providing an id (and patient details of some kind).</p>",
        "id": 154012868,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540659750
    },
    {
        "content": "<p>CDS Hooks potentially provides access to the hook server to other data - and it's conceivable that a renderer might want access to other data - e.g. to highlight risks, to show trending, etc.  No PHR should be providing such access to data they don't know and trust - even if a link to such a server happens to be included in a report that somehow gets loaded into the PHR.</p>",
        "id": 154012922,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540667808
    },
    {
        "content": "<p>you're making a lot of policy assumptions there. Also, there's a big difference between knowing what the server is for a report, and deciding whether you trust it</p>",
        "id": 154012927,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540668229
    },
    {
        "content": "<p>I'm trying to understand utility in a real-world space.  If the situation is one where there's 5-10 possible hooks servers that can do the rendering, the PHR supports all of them and the report just indicates which one to use - ok.  But in that case, you could just as easily fire the hook to all the servers and the one that knows how to render it would.  I don't see how - in the real world - an EHR, PHR or any other system would automatically trust a server that was mentioned in a report.  And without that, I'm not terribly clear on the utility of including a link on the report.  That doesn't mean there isn't utility - just that I'm not understanding the business case well enough to see it.</p>",
        "id": 154012945,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540669269
    },
    {
        "content": "<p>5-10? what about 50k?</p>",
        "id": 154012950,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540669454
    },
    {
        "content": "<p>I do not see why trust is a binary decision in this regard. A PHR could well contact the mentioned server for cards, and display the cards.... you seem to think that's somehow bizarre, but I don't know why</p>",
        "id": 154012951,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540669542
    },
    {
        "content": "<p>A PHR could do all sorts of things.  I'm having trouble imagining a situation where and EHR or PHR <em>would</em> contact a server it hadn't been specifically configured to trust.  That's certainly not something I'm aware of any system doing now - or having indicated an intention to do.  But perhaps my circle of awareness isn't broad enough.</p>",
        "id": 154012955,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540669931
    },
    {
        "content": "<p>problem: what server would I contact about this report? (Then I could decide whether I can trust it some grounds).</p>",
        "id": 154012956,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540670135
    },
    {
        "content": "<p>you seem to be completely focused on the wrong thing</p>",
        "id": 154012957,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540670144
    },
    {
        "content": "<p>But with CDS Hooks, you generally don't know what server cares about something - you fire to everyone who offers the service.  I'm not sure why we're injecting a difference here.  The only difference is automatic registration of a recipient, which is the piece I'm questionning.</p>",
        "id": 154012958,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540671367
    },
    {
        "content": "<p>all 50k servers in the world?</p>",
        "id": 154012959,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540671395
    },
    {
        "content": "<p>and I haven't said <em>anything at all</em> about registration</p>",
        "id": 154012960,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540671419
    },
    {
        "content": "<p>Regarding what server to contact, would it be the lab where the report came from?  Seems like if the lab offer this “patient friendly” capability, perhaps they have to offer the server/app link with the report in some way, like part of this extension you are considering? I don’t know that either CDS Hooks or SMART would support that as they exist today or not. It would be up to the PHR if they want to trust it.</p>",
        "id": 154012983,
        "sender_full_name": "Kevin Power",
        "timestamp": 1540684516
    },
    {
        "content": "<p>Yes it would be the lab. That’s the purpose of the extension. It would be up to the phr to decide. But it can’t decide if it doesn’t know</p>",
        "id": 154012985,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540686101
    }
]