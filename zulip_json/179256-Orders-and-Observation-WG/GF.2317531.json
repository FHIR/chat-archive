[
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17531\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17531\">GF#17531</a>:  <span class=\"user-mention\" data-user-id=\"196442\">@Christine D</span>   Does <code>Observation.meta.lastUpdated</code> work for your use case? If not, why not?</p>",
        "id": 153989843,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534877721
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195175\">@Angie Romano</span>  Do you and Roland have thoughts on this?</p>",
        "id": 153990124,
        "sender_full_name": "Christine D",
        "timestamp": 1534942487
    },
    {
        "content": "<p>Checking with our team to see if that would work.  <span class=\"user-mention\" data-user-id=\"195175\">@Angie Romano</span></p>",
        "id": 153990129,
        "sender_full_name": "Christine D",
        "timestamp": 1534942698
    },
    {
        "content": "<p>Isn't Observation.meta.lastUpdated automatically populated when the message is posted or updated on the FHIR server?  If so, I'm not sure that's the same thing as populating a local time.  if there is ever an update to the result, the lastUpdated timestamp would be changed.</p>",
        "id": 153990747,
        "sender_full_name": "Angie Romano",
        "timestamp": 1535114944
    },
    {
        "content": "<p>Correct.  Observation.lastUpdated is when your server received the data, not when the source of truth was changed.  If you receive an Observation that was changed 2 years ago in a document today, your lastUpdated will be today.</p>",
        "id": 153990774,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1535125090
    },
    {
        "content": "<p>I think what <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17531\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17531\">GF#17531</a> is addressing is already covered by Provenance which points to the Observation.   Would that work?</p>",
        "id": 153990788,
        "sender_full_name": "Eric Haas",
        "timestamp": 1535128305
    },
    {
        "content": "<p>If anyone actually did Provenance and it was reasonable to have to query Provenance, it would work.  But I'm not sure either of those are true.</p>",
        "id": 153990790,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1535128614
    },
    {
        "content": "<p>I don't follow Lloyd's logic,  this sounds like a Provenance element to me.   Are you suggesting we duplicate Provenance in Observation ( and by  logical extension to all the other clinical resources because nobody is \"doing\" Provenance. )?</p>",
        "id": 153990867,
        "sender_full_name": "Eric Haas",
        "timestamp": 1535149377
    },
    {
        "content": "<p>We frequently duplicate \"key\" elements from Provenance in resources (who created them, when they were created, etc.) if that's important to common use of the resource.  So the question is whether \"last updated\" should be treated in the same way.</p>",
        "id": 153990874,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1535149844
    },
    {
        "content": "<p>And we undermine the adoption of Provenance...   Provenance  would avoid duplication.  I am not convinced this is a good long term strategy.</p>",
        "id": 153990877,
        "sender_full_name": "Eric Haas",
        "timestamp": 1535150430
    },
    {
        "content": "<p>Provenance is still relevant for history and lots of other things.  But key information shouldn't require you to look somewhere else.</p>",
        "id": 153990878,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1535150731
    },
    {
        "content": "<p>We denormalise some provenance information into resources, when we think that the provenance is inherently relevant to the interpretation, knowing that in most cases, provenance is treated as out of band information. In this case, the element is present in Observation, as issued : instant - so what are we discussing?</p>",
        "id": 153990907,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535318028
    },
    {
        "content": "<p>The ask is for an element to represent \"The local date and time of the last modification made to the accession record at the central laboratory.  This includes a Universal Time Offset plus/minus hours and minutes.\"     And is certainly captured by Provenance.</p>",
        "id": 153992252,
        "sender_full_name": "Eric Haas",
        "timestamp": 1535698576
    },
    {
        "content": "<p>There are already these extensions: <br>\n<a href=\"http://hl7.org/fhir/StructureDefinition/event-eventHistory\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/event-eventHistory\">http://hl7.org/fhir/StructureDefinition/event-eventHistory</a></p>",
        "id": 153992253,
        "sender_full_name": "Eric Haas",
        "timestamp": 1535698611
    },
    {
        "content": "<p>I don't understand how it's different to issued?</p>",
        "id": 153992260,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535701539
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196442\">@Christine D</span>   can you clarify how is different?</p>",
        "id": 153992532,
        "sender_full_name": "Eric Haas",
        "timestamp": 1535777214
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195175\">@Angie Romano</span> thoughts?</p>",
        "id": 153992613,
        "sender_full_name": "Christine D",
        "timestamp": 1535839023
    },
    {
        "content": "<p>Trying to investigate the suggested extension.  The url is not resolving.  I'll keep looking.</p>",
        "id": 153993142,
        "sender_full_name": "Angie Romano",
        "timestamp": 1536089809
    },
    {
        "content": "<p>try this:  <a href=\"http://build.fhir.org/extension-event-eventhistory.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-event-eventhistory.html\">http://build.fhir.org/extension-event-eventhistory.html</a></p>",
        "id": 153993144,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536090100
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> that link worked and I've added it to our sample data.  To address <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>'s questions/comments above, how do we understand what the use of provenance is out in the real world.  Since we are trying to come up with an implementation guide to allow lab data to be retrieved via FHIR for a clinical trial it is important to understand that what we are asking for is realistic.  Is there anywhere where specific resource use is tracked?</p>",
        "id": 153994305,
        "sender_full_name": "Angie Romano",
        "timestamp": 1536331137
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> ??</p>",
        "id": 153994334,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536340997
    },
    {
        "content": "<p>We'd love to be able to better track specific resource use, but it's a hard problem.  Provenance isn't super widely supported yet - even though it really should be.  It's quite important when you're dealing with shared data.  However, most lab data comes from v2.  So the real question is whether there's an element for this in v2 and then figure out where best to map it.  <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> (tossing it back at you :&gt;)</p>",
        "id": 153994358,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536343446
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191698\">@Riki Merrick</span> ? ( my V2 knowledge is getting rusty)</p>",
        "id": 153994535,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536357340
    },
    {
        "content": "<p>The way I read the requirement I would think what Angie is looking for is OBR-22; that is the date time of result / update and is used in v2 messages to determine if the sent data is newer than data already in the system per the LRI IG. Now that is at the order level and we all know the term accession is a slippery one - for some it is an individual order (OBR-22 works well for this sceanrio), for more it is a specific sample (that could have more than one order, so woudl have more than one OBR-22) and yet for others it encompasses all the orders and samples from a single encounter (again multiple OBR-22 elements) - in most systems ONLY the updated order will have a new OBR-22, even if all other orders are also sent along with that update message.<br>\nThe date you are referring to in provenance would map to MSH-7 I think (date/time of message creation / sending)</p>",
        "id": 153994736,
        "sender_full_name": "Riki Merrick",
        "timestamp": 1536370140
    },
    {
        "content": "<p>Right - so that's Observation.issued based on the current mappings</p>",
        "id": 153994739,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536372450
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> is it MSH-7 that is mapping to Observation.issued or OBR-22?  </p>\n<p>If it is MSH-7, do we really need OBR-22?  <br>\nIf OBR-22, then would all of the scenarios Riki mentioned above provide me with the last time a specific lab result was updated?  In reading through it multiple times, I think it might.</p>",
        "id": 153995510,
        "sender_full_name": "Angie Romano",
        "timestamp": 1536609570
    },
    {
        "content": "<p>It's mapped to OBR-22 on the mappings tab</p>",
        "id": 153995530,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536610237
    },
    {
        "content": "<p>The MSH-7 (and everything in the MSH) is just for transport, not for persistence.</p>",
        "id": 153995531,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536610267
    },
    {
        "content": "<p>Thanks!  I'm a little rusty on my HL7 v2 knowledge.  <span class=\"user-mention\" data-user-id=\"196442\">@Christine D</span> we need to think about this the best approach for this one.  You have Reported Date and Time mapping to Observation.issued and it looks like Last Active Date and Time might land in the same place.</p>",
        "id": 153996217,
        "sender_full_name": "Angie Romano",
        "timestamp": 1536757241
    },
    {
        "content": "<p>So in the v2 world, if you're going to revise a result, you update the reported date/time.  The original reported date is only available as history.  The same has been carried over in FHIR.</p>",
        "id": 153996261,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536762807
    },
    {
        "content": "<p>By history Lloyd means you can look at the resource version history or the Provenance resources associated with the resource.  ( he may correct me)</p>",
        "id": 153996274,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536764625
    },
    {
        "content": "<p>Yup, that's what I meant.</p>",
        "id": 153996299,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536768791
    }
]