[
    {
        "content": "<p>See <a href=\"#narrow/stream/179166-implementers/topic/Encoding.20artificial.20pancreas.20decision.20data\" title=\"#narrow/stream/179166-implementers/topic/Encoding.20artificial.20pancreas.20decision.20data\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Encoding.20artificial.20pancreas.20decision.20data</a> for an interesting question about openAPS data.</p>",
        "id": 168219339,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560625398
    },
    {
        "content": "<p>I would like to ask a question of OO: what is the expectation for device and calibration data like some of that included in the openAPS data packet? Is it expected to be Observation.component? or some of it has a home in DeviceMetric, but it's not obvious what the link between Observation and DeviceMetric should be</p>\n<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> <span class=\"user-mention\" data-user-id=\"191689\">@Hans Buitendijk</span> <span class=\"user-mention\" data-user-id=\"191698\">@Riki Merrick</span>  (Also <span class=\"user-mention\" data-user-id=\"192176\">@Todd Cooper</span> <span class=\"user-mention\" data-user-id=\"192181\">@John Rhoads</span> <span class=\"user-mention\" data-user-id=\"192208\">@Chris Courville</span> )</p>",
        "id": 168219460,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560625598
    },
    {
        "content": "<p>.. ping?</p>",
        "id": 168450750,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560888501
    },
    {
        "content": "<p>Still thinking. :)  And actually, unless I missed something, the discussion in the linked chat didn't seem to help me much (if at all) in understanding or answering the questions.</p>",
        "id": 168453635,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1560890655
    },
    {
        "content": "<p>no let's just stick to principles here</p>",
        "id": 168453745,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560890760
    },
    {
        "content": "<p>conceptually, configuration and calibration data could be in deviceMetric, or device.property. But I do not think that those provide adequate carriers. Observation is a generic carrier for everything, so technically it works, but in this case I would avoid that.</p>",
        "id": 168454794,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560891560
    },
    {
        "content": "<p>I think that would be called \"no dollar any way\" (as opposed to 'a dollar each way')</p>",
        "id": 168454958,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560891694
    },
    {
        "content": "<p>the results of  calculation could be also in deviceMetric or observation. For this, I could imagine Observation as a good vehicle.</p>",
        "id": 168454962,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560891697
    },
    {
        "content": "<p>what does DeviceMetric have that Observation does not? if DeviceMetric should be used to convey heart rate, where does that leave deviceMetric?</p>",
        "id": 168455423,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560892024
    },
    {
        "content": "<p>device metric = information about the device producing the observation</p>",
        "id": 168455462,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560892058
    },
    {
        "content": "<p>looks like we should define an extension to link to the metrics for the device</p>",
        "id": 168455477,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560892075
    },
    {
        "content": "<p>you mean an extension on Device?</p>",
        "id": 168456203,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560892605
    },
    {
        "content": "<p>if so, then we could do that (and check overlap between that and device.property while we are at it).</p>",
        "id": 168456364,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560892742
    },
    {
        "content": "<p>extension on Observation</p>",
        "id": 168456941,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560893152
    },
    {
        "content": "<p>Wouldn't Observation.device do much or all of what is needed?  That is the link between Observation and DeviceMetric, as DeviceMetric is one of the reference choices.</p>",
        "id": 168458106,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1560894153
    },
    {
        "content": "<p>I see what you mean. A direct link as an extension (but my Euro would be that the link between those is the Device: an observation is made by a device which happens to be have some configuration information given by metric)</p>",
        "id": 168458114,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560894163
    },
    {
        "content": "<p>right Rob, it could be, if we only heed the metric, and not the device itself (i don't know that use case).</p>",
        "id": 168458161,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560894226
    },
    {
        "content": "<p>Yes, as it is we have to choose between Device and DeviceMetric, as it's 0..1 - but DeviceMetric also links to the source and parent Device.</p>",
        "id": 168458270,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1560894320
    },
    {
        "content": "<p>well, ok, I had not noticed that</p>",
        "id": 168458486,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560894534
    },
    {
        "content": "<p>ok then i probably misread the DeviceMetric intent.</p>",
        "id": 168458650,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560894668
    },
    {
        "content": "<p>DeviceMetric's definition is : \"Describes a measurement, calculation or setting capability of a medical device.\"  So It sounds to me like all that stuff should live in there ( whether is actually is capable of representing it right now notwithstanding)  So Observation.device --&gt; DeviceMetric --&gt; Device.   Looks like how it was intended to be modelled but I have nto been active with devices for a while so maybe that thinking has changed.</p>",
        "id": 168458657,
        "sender_full_name": "Eric Haas",
        "timestamp": 1560894675
    },
    {
        "content": "<p>can choose the right color wire with DeviceMetric  :-)</p>",
        "id": 168458692,
        "sender_full_name": "Eric Haas",
        "timestamp": 1560894717
    },
    {
        "content": "<p>Seems clear. Is DeviceMetric capable of exposing all that is needed for the artificial pancreas?</p>",
        "id": 168458772,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560894777
    },
    {
        "content": "<p>I don't see that Jose need to get the Device folks on the horn and explain it.  I would assume need a name value pair somewhere to describe the parameters??</p>",
        "id": 168458888,
        "sender_full_name": "Eric Haas",
        "timestamp": 1560894887
    },
    {
        "content": "<p>indeed. To me, Device Metric reads (now) as \"the current configuration for a device\" but it does not contain a placeholder for things like \"activation delay, BG target range, BG low threshold\"...</p>",
        "id": 168459192,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560895109
    },
    {
        "content": "<p>We must catch up on Device, so we should bring this requirement, and see where it fits - DeviceMetric, or device.property of we keep that one...</p>",
        "id": 168459320,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1560895212
    },
    {
        "content": "<p>Would the question also apply for laboratory QC and Calibration data?  Calibration is more to instrument, but QC is to instrument run during certain time period as you know.  For some tests like POCT, it's entered as an observation, sometimes to note that QC passed, say for PT/INT testing.</p>",
        "id": 195706128,
        "sender_full_name": "Andrea Pitkus, PhD, MLS(ASCP)CM, CSM",
        "timestamp": 1588166006
    }
]