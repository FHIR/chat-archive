[
    {
        "content": "<p>Hi all,</p>\n<p>I'm running into an odd issue with some Observation tests in program edition v1.8.1, and I think it's caused by an issue in the underlying Inferno validator wrapper v1.2.0/FHIR validator v5.2.0 (that's already been fixed in later versions of the validator). Are there any plans to update the program edition to use a later version of the validator wrapper/FHIR validator?</p>\n<p>The specific issue I'm hitting is reference type validation on an extension - the only extension on the resource in question is the following, which allows for a reference to any resource.</p>\n<div class=\"codehilite\"><pre><span></span><code>            {\n              &quot;valueReference&quot;: {\n                &quot;reference&quot;: &quot;DocumentReference/eXhoWyVAhNGFlK.MzFqhY4yvaRWENTinvQ2labjUbYzo3&quot;,\n                &quot;type&quot;: &quot;DocumentReference&quot;\n              },\n              &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/workflow-supportingInfo&quot;\n            }\n</code></pre></div>\n<p>However, we're getting the following error back in the program edition: <code>Observation.extension[0].value.ofType(Reference): The type 'DocumentReference' is not a valid Target for this element (must be one of [])</code>.</p>\n<p>I've tried the same resource against later versions of the Inferno validator wrapper, and this issue goes away in v1.3.0 and later (looks related to the underlying FHIR validator upgrade to 5.3.11).</p>\n<p>I'm happy to share the resource we're testing/more setup details/convert this into a github issue if that'll be better!</p>\n<p>Thanks in advance!</p>",
        "id": 262530432,
        "sender_full_name": "Weiyu Zhang",
        "timestamp": 1637711353
    },
    {
        "content": "<p>Hello <span class=\"user-mention\" data-user-id=\"193887\">@Weiyu Zhang</span> Yes I can confirm this is an issue on FHIR validator v5.2.10. This is the error I received from validator_cli.jar (v5.2.10):</p>\n<div class=\"codehilite\"><pre><span></span><code> Error @ Observation.extension[0].value.ofType(Reference) (line 6, col88) :\nThe type &#39;DocumentReference&#39; is not a valid Target for this element (must be one of [])\n</code></pre></div>\n<p>which matches what you have seen from Inferno.</p>\n<p>Do you mind to create a GitHub Issue <a href=\"https://github.com/onc-healthit/inferno-program/issues\">here</a> with your sample resource?</p>\n<p>Thank you</p>",
        "id": 262596819,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1637764784
    },
    {
        "content": "<p>Thanks for looking into this <span class=\"user-mention\" data-user-id=\"191506\">@Yunwei Wang</span>! Submitted as <a href=\"https://github.com/onc-healthit/inferno-program/issues/411\">https://github.com/onc-healthit/inferno-program/issues/411</a></p>",
        "id": 262826333,
        "sender_full_name": "Weiyu Zhang",
        "timestamp": 1637952580
    }
]