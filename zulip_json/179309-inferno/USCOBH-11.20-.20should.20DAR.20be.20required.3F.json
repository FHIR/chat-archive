[
    {
        "content": "<p>Should USCOBH-11 be requiring support for dataAbsentReason?  It currently is, but it doesn't seem like it should.  I don't see a DAR requirement in the general server capability statement.  There are several Observation profiles have this requirement:</p>\n<div class=\"codehilite\"><pre><span></span><code>An Observation without a value, SHALL include a reason why\nthe data is absent unless there are component observations,\nor references to other Observations that are grouped within it.\n</code></pre></div>\n<p>However, this is a conditional SHALL, and if the system is always returning Observations with a value or component observations, then DAR isn't required.</p>",
        "id": 248621517,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1628261983
    },
    {
        "content": "<p>That language is from US Core 3.2.0, right? Inferno is testing against US Core 3.1.1 until ONC approves a newer version. Currently, <a href=\"https://www.healthit.gov/isa/standards-version-advancement-process\">US Core 4.0.0 is under consideration for approval</a>, which contains <a href=\"http://hl7.org/fhir/us/core/STU4/StructureDefinition-us-core-vital-signs.html#mandatory-and-must-support-data-elements\">clearer language</a>:</p>\n<blockquote>\n<p>Systems that never provide an observation without a value are not required to support <code>Observation.dataAbsentReason</code></p>\n</blockquote>",
        "id": 248629404,
        "sender_full_name": "Stephen MacVicar",
        "timestamp": 1628265474
    },
    {
        "content": "<p>I see that language in 3.1.1:</p>\n<ul>\n<li><a href=\"http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-pediatric-bmi-for-age.html\">http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-pediatric-bmi-for-age.html</a></li>\n<li><a href=\"http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-pediatric-weight-for-height.html\">http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-pediatric-weight-for-height.html</a></li>\n<li><a href=\"http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-head-occipital-frontal-circumference-percentile.html\">http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-head-occipital-frontal-circumference-percentile.html</a></li>\n<li><a href=\"http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-observation-lab.html\">http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-observation-lab.html</a></li>\n<li><a href=\"http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-observation-lab.html\">http://hl7.org/fhir/us/core/STU3.1.1/StructureDefinition-us-core-observation-lab.html</a></li>\n</ul>",
        "id": 248640527,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1628270186
    },
    {
        "content": "<p>I think I looked through all the possible 3.1.1 Observation profiles (the ones I didn't list didn't have any mention of DAR).  Maybe there is a DAR requirement that isn't conditional buried in one of them, but I can't see it.</p>",
        "id": 248640618,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1628270235
    },
    {
        "content": "<p>I called out USCOBH-11 specifically, which references <a href=\"http://hl7.org/fhir/R4/bodyheight.html\">http://hl7.org/fhir/R4/bodyheight.html</a>.  But same  deal there:</p>\n<div class=\"codehilite\"><pre><span></span><code>Either one Observation.valueQuantity or, if there is no value,\none code in Observation.DataAbsentReason\n</code></pre></div>",
        "id": 248640945,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1628270391
    },
    {
        "content": "<p>If you click on the 'Full View' for one of the STU3.1.1 resources, you'll see that <code>Observation.dataAbsentReason</code> is flagged as 'must support'.   This comes from the <a href=\"http://hl7.org/fhir/R4/vitalsigns.html\">base FHIR vital signs profile</a> that  the STU3.1.1 vital signs profiles derive from.  Since the profile doesn't change this element, it doesn't show up in the differential, but it is still in the profile.</p>",
        "id": 248647406,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1628273390
    },
    {
        "content": "<p>Inferno's us core must support tests are very simple: it looks at elements flagged as must support in the profile, and checks off which of those elements it has seen across all resources that meet that profile (containing a value -- DARs are allowed but don't count as evidence of support).</p>",
        "id": 248647835,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1628273601
    },
    {
        "content": "<p>Though in this case, DARs <em>do</em> count as evidence of must support, since you are checking for support of DAR.</p>",
        "id": 248654713,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1628276672
    },
    {
        "content": "<p>if there is language in the \"must support\" narrative within the profile clarifying what it means in this context, we loosen the must support check.  This happens, for example, in the Implantable Device profile where is says in the must support section that they can support either HRF or AIDC.  And in US Core R4, they add in an exception as Steve pointed out above.  It just isn't in US Core v3.1.1.</p>",
        "id": 248654920,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1628276774
    },
    {
        "content": "<p>Yeah, this is a very confusing example, because the element itself is a DAR.  I was referring to times when you leave the value of an element empty and add a DAR extension.</p>",
        "id": 248655131,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1628276880
    },
    {
        "content": "<p>I suppose this needs to be a request to ONC for clarification in the CCG then?  Since we always support sending Observation value data, we'd have to info block in order to pass the DAR check <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span> .</p>",
        "id": 248655199,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1628276898
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 248656368,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1628277569
    },
    {
        "content": "<p>Added to what Steve mentioned about, the ticket on US Core vital sign profiles is: <a href=\"https://jira.hl7.org/browse/FHIR-30699\">https://jira.hl7.org/browse/FHIR-30699</a></p>",
        "id": 248657311,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1628278017
    },
    {
        "content": "<blockquote>\n<p>Since we always support sending Observation value data, we'd have to info block in order to pass the DAR check</p>\n</blockquote>\n<p>I think the idea is that you would have to explicitly be able to support the case of communicating that an observation occurred, but for some exceptional reason a value didn't get recorded.  Right now that information is simply not recorded in those exceptional cases, or perhaps stored somewhere else and not considered to be an 'Observation'?</p>",
        "id": 248659707,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1628279299
    },
    {
        "content": "<p>But since US Core v4 adds an exception here, it seems that this is an oversight vs something intended to be required...</p>",
        "id": 248659893,
        "sender_full_name": "Robert Scanlon",
        "timestamp": 1628279404
    },
    {
        "content": "<p>Normally recording something like an Observation has some sort of transaction around it, so you either get an Observation with a value, or you don't.  Getting an Observation without a value is normally going to mean database corruption of some sort.</p>",
        "id": 248663169,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1628281077
    },
    {
        "content": "<p>Hans was making the same point in <a href=\"http://jira.hl7.org/browse/FHIR-30699\">FHIR#30699</a>, so I expect Cerner behaves similarly.</p>",
        "id": 248663290,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1628281135
    },
    {
        "content": "<p>Anyway - do you think this is \"Inferno-change\" or \"ONC-clarification\" territory?</p>",
        "id": 248663385,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1628281193
    },
    {
        "content": "<p>The clarification in US Core 4.0 makes sense but we also don't want to deviate from US Core 3.1.1 too much.</p>",
        "id": 248867625,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1628524698
    },
    {
        "content": "<p>I think it is better to provide feedback to ONC to address this either over CCG or SVAP <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span></p>",
        "id": 248895332,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1628537139
    }
]