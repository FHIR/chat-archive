[
    {
        "content": "<p>The bulk data group export status check fails if the hard coded 180 second timeout is reached.  Is this value derived from any where in the specification?  There are a lot of variables that can come into play and this value does not seem configurable.</p>",
        "id": 253349598,
        "sender_full_name": "Bill Findeisen",
        "timestamp": 1631669551
    },
    {
        "content": "<p>I cannot remember why we decided the timeout defaulted to 180 seconds. Testing client cannot wait forever while server preparing export files so we have to pick a timeout threshold. How long does your server take to complete exporting?</p>",
        "id": 253416215,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1631713659
    },
    {
        "content": "<p>We have struggled with that timeout as well.  We've managed to get by, but an increased timeout would be nice for us as well.  Maybe default to 180, but have an option to specify a manual override in the frontend UI?</p>",
        "id": 253417466,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1631714077
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191506\">Yunwei Wang</span> <a href=\"#narrow/stream/179309-inferno/topic/BDE-07.20180.20second.20timeout/near/253416215\">said</a>:</p>\n<blockquote>\n<p>I cannot remember why we decided the timeout defaulted to 180 seconds. Testing client cannot wait forever while server preparing export files so we have to pick a timeout threshold. How long does your server take to complete exporting?</p>\n</blockquote>\n<p>It varies depending on the amount of data.  It would be nice if it was overridable through ui perhaps.</p>",
        "id": 253427563,
        "sender_full_name": "Bill Findeisen",
        "timestamp": 1631717640
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"358368\">@Bill Findeisen</span> <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> Thank you for the feedback.  I created a GitHub issue to track this request. <a href=\"https://github.com/onc-healthit/inferno-program/issues/359\">https://github.com/onc-healthit/inferno-program/issues/359</a>.</p>\n<p>I think one possible reason could that if the server does not include 'retry-after' header in status response, Inferno calculate the wait time using exponential backoff suggested by Bulk Data IG. So the wait time increases really fast.</p>",
        "id": 253428075,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1631717816
    },
    {
        "content": "<p>We face similar issue, need an option to customize the time out.<br>\n<span class=\"user-mention\" data-user-id=\"191506\">@Yunwei Wang</span> You did mention about \"retry-after\", we do send it but still we have 180 second timeout.<br>\nFurther the response header in inferno is shown as \"retry_after\" even though we send it as \"retry-after\"</p>",
        "id": 254222393,
        "sender_full_name": "Moin Syed",
        "timestamp": 1632236721
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"382630\">@Moin Syed</span> We will add a UI configuration for the timeout settings. <br>\nIf the server does not reponde with retry_after header, Inferno uses 'exponential backoff' to calculate the waiting seconds, which is <code>2 ^ n - 1</code>. Though the default setting is 180 seconds, using exponential backoff times out after 120 seconds. Because 1+3+7+15+31+63=120, the next waiting time is 127 seconds and 120+127 &gt; 180.</p>",
        "id": 254446418,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1632348195
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191506\">@Yunwei Wang</span> I have provided retry_after value as 10, it checks for every 10 seconds but after 180 seconds in total it will again timeout. Irrespective of the retry-after value, it is timing out in 180 seconds now.</p>",
        "id": 254644535,
        "sender_full_name": "Moin Syed",
        "timestamp": 1632453828
    },
    {
        "content": "<p>Yes, the default is 180 seconds.</p>",
        "id": 254699866,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1632488703
    }
]