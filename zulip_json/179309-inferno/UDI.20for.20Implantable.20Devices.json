[
    {
        "content": "<p>Hello,<br>\nIs UDI (Unique Device Identifier) required when adding implantable device to a patient's chart? Our EHR allows an implantable device to be added with/without UDI. When a device is added without UDI, the inferno test cases fail. Is that expected? The specification states - \"Implantable medical devices that have UDI information SHALL represent this information in either carrierAIDC or carrierHRF. (Note that the UDI may not be present in all scenarios such as historical implantable devices, patient reported implant information, payer reported devices, or improperly documented implants.)\".<br>\nThank you!</p>",
        "id": 227543057,
        "sender_full_name": "Lakshmi Bhamidipati",
        "timestamp": 1614137756
    },
    {
        "content": "<p>UDI is a Must Support element which means the sever must demonstrate that it supports the element when the data exist. In order to test that, Inferno asks the server to provide at least one Device instance with UID element.</p>",
        "id": 227600596,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1614174724
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"191506\">@Yunwei Wang</span> . So it is not required that all devices in a patient's chart have a UID element. As long as one device has it and all the \"must support\" members are populated in the FHIR response, we are should be good?</p>",
        "id": 227605852,
        "sender_full_name": "Lakshmi Bhamidipati",
        "timestamp": 1614176855
    },
    {
        "content": "<p>The simple answer is yes. <br>\nInferno uses all returned Device instances as a collection when testing Must Support. Inferno test if the collection of Device instances have all MS populated.</p>",
        "id": 227613931,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1614179901
    },
    {
        "content": "<p>Note that the FDA is really tying to get everyone to document UDI for implants.  Having discrete UDIs is a huge benefit for things like recalls.  Because of historical data that may not have a UDI, as well as some challenges with supply management systems, they are not strictly required, and getting operational buy-in to document them regularly is hard, but in general we do want to encourage documenting them as much as possible.</p>",
        "id": 227621330,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1614182449
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191506\">@Yunwei Wang</span> <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> <br>\nIn my system, a patient has 2 devices - one is recorded with UDI and the other is recorded with just the DI. The Inferno tool is giving an error on the instance with just the DI, even though the bundle satisfies the MS requirement because 1 of the records has all the UDI information. <br>\nWhat I mean is this - <br>\nOne of the resources is this<br>\n  \"resource\": {<br>\n        \"resourceType\": \"Device\",<br>\n        \"id\": \"1\",<br>\n        \"udiCarrier\": [<br>\n          {<br>\n            \"deviceIdentifier\": \"08717648200274\",<br>\n            \"carrierHRF\": \"=/08717648200274=,000025=A99971312345600=&gt;014032=}013032&amp;,1000000000000XYZ123\"<br>\n          }<br>\n        ],<br>\n        \"status\": \"active\",<br>\n        \"manufactureDate\": \"2013-02-01T00:00:00+00:00\",<br>\n        \"expirationDate\": \"2014-02-01T00:00:00+00:00\",<br>\n        \"lotNumber\": \"000000000000XYZ123\",<br>\n        \"serialNumber\": \"000025\",<br>\n        \"type\": {<br>\n          \"coding\": [<br>\n            {<br>\n              \"display\": \"Drug-eluting coronary artery stent, non-bioabsorbable-polymer-coated\"<br>\n            }<br>\n          ],<br>\n          \"text\": \"Drug-eluting coronary artery stent, non-bioabsorbable-polymer-coated\"<br>\n        },<br>\n        \"patient\": {<br>\n          \"reference\": \"Patient/xxxx\"<br>\n        }<br>\n      }<br>\nand the other is this<br>\n      \"resource\": {<br>\n        \"resourceType\": \"Device\",<br>\n        \"id\": \"2\",<br>\n        \"udiCarrier\": [<br>\n          {<br>\n            \"deviceIdentifier\": \"M996SH75Y0\"<br>\n          }<br>\n        ],<br>\n        \"status\": \"entered-in-error\",<br>\n        \"type\": {<br>\n          \"coding\": [<br>\n            {<br>\n              \"display\": \"Oxygen administration kit, non-sterile\"<br>\n            }<br>\n          ],<br>\n          \"text\": \"Oxygen administration kit, non-sterile\"<br>\n        },<br>\n        \"patient\": {<br>\n          \"reference\": \"Patient/xxxx\"<br>\n        }<br>\n      }<br>\n    }</p>\n<p>For the 2nd one, id = 2, I am getting this error in Inferno - <br>\nUSCID-07: Device resources returned from previous search conform to the US Core Implantable Device Profile. results...<br>\nDevice/2: Device: us-core-12: Implantable medical devices that have UDI information SHALL represent this information in either carrierAIDC or carrierHRF. [udiCarrier.empty() or (udiCarrier.carrierAIDC.exists() or udiCarrier.carrierHRF.exists())]<br>\nDevice/2: Device: us-core-9: For implantable medical devices that have UDI information, at least one of the Production Identifiers (UDI-PI) SHALL be present. [udiCarrier.empty() or (manufactureDate.exists() or expirationDate.exists() or lotNumber.exists() or serialNumber.exists() or distinctIdentifier.exists())]</p>\n<p>Should I resolve this or ignore because 1 of the devices is not returning an error?</p>\n<p>Thank you.</p>",
        "id": 227852329,
        "sender_full_name": "Lakshmi Bhamidipati",
        "timestamp": 1614293102
    },
    {
        "content": "<p>Some US Core profiles have additional invariant rules. ImplantableDevice indicates that \"Implantable medical devices that have UDI information SHALL represent this information in either carrierAIDC or carrierHRF.\"  (invariant: <code>us-core-12: udiCarrier.empty() or (udiCarrier.carrierAIDC.exists() or udiCarrier.carrierHRF.exists()))</code><br>\nThis means that for an ImplantableDevice resource, if it has udiCarrier, then it must populate  at least one of udiCarrier.carriderAIDC and udiCarrier.carriderHDF<br>\nThe 2nd error was caused by this invariant: \"For Implantable medical devices that have UDI information, at least one of the Production Identifiers (UDI-PI) SHALL be present.\" (invariant <code>us-core-9: udiCarrier.empty() or (manufactureDate.exists() or expirationDate.exists() or lotNumber.exists() or serialNumber.exists() or distinctIdentifier.exists())</code>)</p>",
        "id": 227939549,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1614351671
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191506\">@Yunwei Wang</span> - Thank you!</p>",
        "id": 228002497,
        "sender_full_name": "Lakshmi Bhamidipati",
        "timestamp": 1614377137
    }
]