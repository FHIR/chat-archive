[
    {
        "content": "<p>Inferno:. EHR Practitioner APP Test<br>\nProblem statement: <br>\nFor EHR Practitioner APP testing, after providing required Launch Sequence from Different Browser doesn’t recognize actively running test.</p>\n<p>Description:<br>\nSample test was run for the SMART app hosted on Logica Sandbox.<br>\nDuring EHR Practitioner app testing after providing required FHIR end points and Client ID /Secret details it prompts and wait for LAUNCH Sequence to be initiated.<br>\nIf this request is initiated from same browser type (say Inferno is running on Chrome and Launch URLI is imitated from Chrome) it proceeds for execution, whereas if Lunch URI is launched from different Browser (say Microsoft Edge) Inferno test doesn’t recognize the LAUNCH URI.<br>\nIt gives the error: No actively running Launch sequence found for this ISS:&lt;FHIR URL&gt;. Please ensure that the EHR launch test is actively running before attempting to launch inferno from the EHR <br>\nSo, it looks that it doesn’t recognize the session of running Launch URL from cross Browser.</p>\n<p>Is there any way to handle this?</p>\n<p>Eventually we need to call the LAUNCH URL from the in-build Browser of our EHR Application.<br>\n<a href=\"/user_uploads/10155/HYVPsl9tMECaeFCBTYj7i_uG/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/HYVPsl9tMECaeFCBTYj7i_uG/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/HYVPsl9tMECaeFCBTYj7i_uG/image.png\"></a></div>",
        "id": 269064638,
        "sender_full_name": "Suhas Patil",
        "timestamp": 1643005848
    },
    {
        "content": "<p>I can not reproduce this. I can start the EHR Practitioner App tests in Firefox, and then, when Inferno is waiting to receive the request, perform the EHR launch in Chrome and it works as intended. Does the ISS you're displaying exactly match the server url you're using for the tests?</p>",
        "id": 269102787,
        "sender_full_name": "Stephen MacVicar",
        "timestamp": 1643029947
    },
    {
        "content": "<p>Looking at your results further, the ISS does not match the server url. The iss ends in <code>/data</code> while the server url doesn't.</p>",
        "id": 269103714,
        "sender_full_name": "Stephen MacVicar",
        "timestamp": 1643030426
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"225612\">Stephen MacVicar</span> <a href=\"#narrow/stream/179309-inferno/topic/EHR.20Practitioner.20APP/near/269103714\">said</a>:</p>\n<blockquote>\n<p>Looking at your results further, the ISS does not match the server url. The iss ends in <code>/data</code> while the server url doesn't.</p>\n</blockquote>\n<p>Hi Stephen, Thanks... Great we realized what was wrong.  Now with Updated URL its working. Many Thanks</p>",
        "id": 269274324,
        "sender_full_name": "Suhas Patil",
        "timestamp": 1643125097
    },
    {
        "content": "<p>Inferno:. EHR Practitioner APP Test<br>\nProblem statement:<br>\nFor EHR Practitioner APP testing, after providing required Launch Sequence from Different Browser doesn’t recognize actively running test.<br>\nDescription:<br>\nWe are using Inferno SMART App having URI<br>\nRedirect.- <a href=\"https://inferno.healthit.gov/inferno/oauth2/static/redirect\">https://inferno.healthit.gov/inferno/oauth2/static/redirect</a><br>\nLaunch - <a href=\"https://inferno.healthit.gov/inferno/oauth2/static/Launch\">https://inferno.healthit.gov/inferno/oauth2/static/Launch</a> </p>\n<p>During EHR Practitioner app testing after providing required FHIR end points and Client ID /Secret details it prompts and wait for LAUNCH Sequence to be initiated.<br>\nLaunch Sequence https://&lt;serverName&gt;/SOFInferenoTest/launch.html?launch=&lt;PatientGuid&gt;&amp;iss=https://&lt;ServerName&gt;/fhir-ClinAuth/<br>\nIssue:<br>\nIf this request is initiated from same browser type (say Inferno is running on Chrome and Launch URLI is imitated from Chrome) it proceeds for execution, whereas if Lunch URI is launched from different Browser (say Microsoft Edge).<br>\nIt gives the error: <br>\nInferno has detected an issue with the SMART launch. No actively running launch sequences found with a state parameter of '0HGyNBkA2UcWgyui'. The authorization server is not returning the correct state variable and therefore Inferno cannot identify which server is currently under test<br>\nSo, it looks that it doesn’t recognize the session of running Launch URL from cross Browser.<br>\nIs there any way to handle this?<br>\nEventually we need to call the LAUNCH URL from the in-build Browser of our EHR Application.</p>\n<p><a href=\"/user_uploads/10155/B0Pp3m6yau9Sbf_IIVwFS4yY/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/B0Pp3m6yau9Sbf_IIVwFS4yY/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/B0Pp3m6yau9Sbf_IIVwFS4yY/image.png\"></a></div><p>We did some dig down and found the state parameter is managed by inferno itself and client do not have control over this parameter.  <br>\n<a href=\"https://github.com/smart-on-fhir/client-js/issues/112\">https://github.com/smart-on-fhir/client-js/issues/112</a></p>\n<p>please suggest if any workaround available for this issue. Also if there is any wiki or documentation on state parameter how it is generated and managed by inferno server it will help.</p>",
        "id": 270370171,
        "sender_full_name": "Suhas Patil",
        "timestamp": 1643801789
    },
    {
        "content": "<p>That message indicates that the authorization server is returning an incorrect value for <code>state</code>. I can tell from the screenshot you provided that the authorization server is returning the wrong <code>state</code> because Inferno generates a UUID for <code>state</code>, and in that screenshot the authorization server is not providing a UUID.</p>\n<p>While running the EHR launch sequence, after you initiate the launch, you will be informed that you are being redirected to the authorization server with the following modal:</p>\n<p><a href=\"/user_uploads/10155/JQAkuNfL1kPanPntozfsmrgS/Screen-Shot-2022-02-02-at-7.47.29-AM.png\">Screen-Shot-2022-02-02-at-7.47.29-AM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/JQAkuNfL1kPanPntozfsmrgS/Screen-Shot-2022-02-02-at-7.47.29-AM.png\" title=\"Screen-Shot-2022-02-02-at-7.47.29-AM.png\"><img src=\"/user_uploads/10155/JQAkuNfL1kPanPntozfsmrgS/Screen-Shot-2022-02-02-at-7.47.29-AM.png\"></a></div><p>If you inspect the url in that modal, you will see a value for <code>state</code>. You should be able to compare that value against what the authorization server returns and see that they are different.</p>",
        "id": 270378511,
        "sender_full_name": "Stephen MacVicar",
        "timestamp": 1643806400
    },
    {
        "content": "<p>Inferno: EHR Practitioner APP Test</p>\n<p>We are using Inferno SMART App having URI<br>\nRedirect.- <a href=\"https://inferno.healthit.gov/inferno/oauth2/static/redirect\">https://inferno.healthit.gov/inferno/oauth2/static/redirect</a><br>\nLaunch - <a href=\"https://inferno.healthit.gov/inferno/oauth2/static/Launch\">https://inferno.healthit.gov/inferno/oauth2/static/Launch</a></p>\n<p>Scenario:<br>\nDuring EHR Practitioner app testing after providing required FHIR end points and Client ID /Secret details it prompts and wait for LAUNCH Sequence to be initiated.<br>\nLaunch Sequence <br>\nWhile Providing below URL in another Browser window, it Doesn’t do the Authentication and redirects to Test Execution<br>\n<a href=\"https://inferno.healthit.gov/inferno/oauth2/static/Launch?launch=&lt;PatientGuid&gt;&amp;iss=https://&lt;ServerName&gt;/fhir-ClinAuth/\">https://inferno.healthit.gov/inferno/oauth2/static/Launch?launch=&lt;PatientGuid&gt;&amp;iss=https://&lt;ServerName&gt;/fhir-ClinAuth/</a></p>\n<p>Question: Is there any way to perform authentication before test execution</p>",
        "id": 272809758,
        "sender_full_name": "Suhas Patil",
        "timestamp": 1645540081
    },
    {
        "content": "<p>any error messages?</p>",
        "id": 272832920,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1645549061
    },
    {
        "content": "<p>can we use our own SMART On FHIR application with inferno to execute tests?</p>",
        "id": 273058540,
        "sender_full_name": "Anshabapu Najan",
        "timestamp": 1645690622
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"473807\">@Anshabapu Najan</span> Sorry, I don't quite understand. Can you clarify your question?</p>",
        "id": 273093737,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1645711877
    },
    {
        "content": "<p>Inferno IS a SMART on FHIR app.  Are you asking if you can use your own SMART app <em>instead of</em> Inferno?  For initial testing: sure.  For actual certification: very likely not.</p>",
        "id": 273095107,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1645712558
    }
]