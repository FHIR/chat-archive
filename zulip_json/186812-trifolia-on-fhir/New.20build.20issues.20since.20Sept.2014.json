[
    {
        "content": "<p>I have a guide that reliably completed the build when I last built it Sept 14 (there are warnings, etc we are working on fixing). This morning I attempted to publish again ahead of making changes, just to make sure, and I received \"IG Publisher finished with code 1\", with a java stack trace that starts with:</p>\n<p>java.lang.Exception: Error Parsing File XXX/tmp-1piEFps0SK5S3/input/MCC-IG.json: JsonObject<br>\nat org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1670)<br>\nat org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1487)<br>\nat org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:746)<br>\nat org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8664)<br>\nCaused by: java.lang.UnsupportedOperationException: JsonObject<br>\nat com.google.gson.JsonElement.getAsString(JsonElement.java:192)<br>\nat org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuideImplementationGuideDefinitionResourceComponentProperties(JsonPars<br>\ner.java:14566)<br>\nat org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuideImplementationGuideDefinitionResourceComponent(JsonParser.java:14<br>\n534)<br>\nat org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuideImplementationGuideDefinitionComponentProperties(JsonParser.java:<br>\n14495)<br>\nat org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuideImplementationGuideDefinitionComponent(JsonParser.java:14480)<br>\nat org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuideProperties(JsonParser.java:14433)<br>\n    at org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuide(JsonParser.java:14329)<br>\nat org.hl7.fhir.r4.formats.JsonParser.parseResource(JsonParser.java:28232)<br>\nat org.hl7.fhir.r4.formats.JsonParserBase.parse(JsonParserBase.java:124)<br>\n    at org.hl7.fhir.r4.formats.ParserBase.parse(ParserBase.java:61)<br>\nat org.hl7.fhir.r4.formats.FormatUtilities.loadFile(FormatUtilities.java:171)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1667)</p>\n<p>There have been no changes in the IG since it built on Sept 14 - not sure where to start here.</p>",
        "id": 255134315,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632783890
    },
    {
        "content": "<p>follow up - running the MCC-IG.json file through a validator showed only the existing known reference link problems that were known and being worked on before Sept 14</p>",
        "id": 255134519,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632783998
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191408\">@Lorraine Constable</span> , so sorry for not getting back sooner! Upon first glance, I think this may be a IG Publisher bug.</p>\n<ol>\n<li>Have you asked on the <a class=\"stream\" data-stream-id=\"179166\" href=\"/#narrow/stream/179166-implementers\">#implementers</a> stream if others have experienced similar problems?</li>\n<li>Have you tried publishing this IG again recently with the latest version of the IG Publisher? Maybe it's fixed now???</li>\n</ol>",
        "id": 258256839,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1634671454
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> We have red flags in the SDOH-ClinicalCare IG in trifolia-on-fhir for each of the examples.  There is no obvious error.   What cases the red flag and what should we do to correct them?</p>",
        "id": 259749997,
        "sender_full_name": "Robert Dieterle",
        "timestamp": 1635625805
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196359\">@Robert Dieterle</span> , where are you seeing the \"red flags\"??</p>",
        "id": 259872658,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1635778027
    },
    {
        "content": "<p>On the resources tab -- only the examples have the link in red</p>",
        "id": 259874727,
        "sender_full_name": "Robert Dieterle",
        "timestamp": 1635779005
    },
    {
        "content": "<p>I assume you are referring to the red \"Edit\" button...</p>",
        "id": 259914823,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1635797779
    },
    {
        "content": "<p>this is the logic behind that button:</p>\n<div class=\"codehilite\"><pre><span></span><code>if (!resource.name || !resource.reference || ((resource.hasOwnProperty(&#39;exampleBoolean&#39;) &amp;&amp; resource.exampleBoolean === true) || (resource.hasOwnProperty(&#39;exampleCanonical&#39;) &amp;&amp; resource.exampleCanonical !== &#39;&#39;))) {\n  //invalid\n}\n</code></pre></div>",
        "id": 259914878,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1635797806
    },
    {
        "content": "<p>I think that logic is incorrect</p>",
        "id": 259914898,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1635797818
    },
    {
        "content": "<p>I think it could be improved</p>",
        "id": 259914920,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1635797828
    },
    {
        "content": "<p>So, in general, I think you can ignore that red \"edit\" icon, at least for now</p>",
        "id": 259914935,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1635797836
    },
    {
        "content": "<p>According to the logic... it's invalid if:</p>\n<ul>\n<li>No name</li>\n<li>No reference</li>\n<li>Example boolean == true</li>\n<li>Example canonical != \"\"</li>\n</ul>\n<p>I have no idea why we would have put those last two bullets in the logic.. I'm sure there was a reason, but I can't figure out why that would have been</p>",
        "id": 259915498,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1635798087
    },
    {
        "content": "<p>Asking others to see if they know why we would have done that</p>",
        "id": 259915569,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1635798112
    }
]