[
    {
        "content": "<p>I believe analytics on FHIR Resource is possible through Graph Database </p>",
        "id": 153884502,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492019577
    },
    {
        "content": "<p>I am using Neo4j</p>",
        "id": 153884503,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492019586
    },
    {
        "content": "<p>I have drawn a sample image that you help you to realize what i am trying to achieve </p>",
        "id": 153884504,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492019628
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/_lpbi4lqyceH1_ogS6Urmgbw/graph.jpg\" target=\"_blank\" title=\"graph.jpg\">graph.jpg</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/_lpbi4lqyceH1_ogS6Urmgbw/graph.jpg\" target=\"_blank\" title=\"graph.jpg\"><img src=\"/user_uploads/10155/_lpbi4lqyceH1_ogS6Urmgbw/graph.jpg\"></a></div>",
        "id": 153884505,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492019651
    },
    {
        "content": "<p>Have anyone tried yet ?</p>",
        "id": 153884506,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492019706
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193070\">@Andrew Brown</span>  yea exactly but not just one it will be a big connected graph . Multiple node may come from a single FHIR resource. It epends on the Resource</p>",
        "id": 153884514,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492021882
    },
    {
        "content": "<p>I am in the process of creating an HML (histoimmunogenetics markup language) to FHIR service that I ran into some of the issues you're facing. The service has a variety of modeling through Java objects that you may find useful </p>",
        "id": 153884515,
        "sender_full_name": "Andrew Brown",
        "timestamp": 1492022037
    },
    {
        "content": "<p><a href=\"https://github.com/nmdp-bioinformatics/service-hml-fhir-converter\" target=\"_blank\" title=\"https://github.com/nmdp-bioinformatics/service-hml-fhir-converter\">https://github.com/nmdp-bioinformatics/service-hml-fhir-converter</a></p>",
        "id": 153884516,
        "sender_full_name": "Andrew Brown",
        "timestamp": 1492022064
    },
    {
        "content": "<p>I've not tried it, but often thought it a good fit. I do use a graph layout in clinFHIR (and they can get quite complex - see here: <a href=\"https://fhirblog.com/2017/03/28/a-complex-scenario/\" target=\"_blank\" title=\"https://fhirblog.com/2017/03/28/a-complex-scenario/\">https://fhirblog.com/2017/03/28/a-complex-scenario/</a> but this visualization uses a javascript library - visjs - and it is just a visualization...</p>",
        "id": 153884517,
        "sender_full_name": "David Hay",
        "timestamp": 1492022073
    },
    {
        "content": "<p>are you just looking to display or to analyse? What sort of analysis if so?</p>",
        "id": 153884518,
        "sender_full_name": "David Hay",
        "timestamp": 1492022140
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193070\">@Andrew Brown</span> nice to head that . I will definitely check it out . However despite the tools everybody use I think the first thing to consider here is how efficiently you can convert a FHIR resource to a Graph . <br>\nFor example Lets say AllergyIntolerance . It has multiple properties and from my point of view multiple node could be possible from one singe resource. For AllergyIntolerance the possible node could be Allergy ,  Code , Category , Substance , Manifestation , Patient , Provider etc .</p>",
        "id": 153884520,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492022574
    },
    {
        "content": "<p>Look at the picture above i have drawn multiple relations from Observation and how it is connected to other resource including reference and patient and code and the rest . <br>\nAny suggestion on that ? </p>",
        "id": 153884521,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492022674
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> the complex scenario visualize how each resource is connected to each other which is fine but I am taking about even more deep categorization of vertex from each resource . Like I said multiple node could be possible form one resource and if you look at the picture above I have 4 FHIR resource but  17 nodes form it . </p>",
        "id": 153884522,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492023018
    },
    {
        "content": "<p>I think one option you may want to think about is to leverage the current UML structures proposed by FHIR as a basis for the graph. It may help to determine what data would be associated with a node,  as some should attributes should be represented by a separate node linked by an edge. Have you looked at these?</p>",
        "id": 153884523,
        "sender_full_name": "Sadiq Saleh",
        "timestamp": 1492023161
    },
    {
        "content": "<p>in effect the backbone elements would also define a separate node...</p>",
        "id": 153884524,
        "sender_full_name": "David Hay",
        "timestamp": 1492023251
    },
    {
        "content": "<p>A follow up question would be what would you expect to be stored on a node, would it be a single attribute? And if so then I guess there would need to be some way of grouping nodes related to a resource and differentiating these edges from an edge used as a reference between two different resources</p>",
        "id": 153884525,
        "sender_full_name": "Sadiq Saleh",
        "timestamp": 1492023589
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span>  exactly , It should and I have done that . <br>\n<span class=\"user-mention\" data-user-id=\"193151\">@Sadiq Saleh</span> i have looked the UML Structure It shows just one relation . For example the AllergyIntolerance has relation with Reaction . If I follow this structure then there will be two node . But if you look at the Terminology bindings , the Path column . I think all path should become a separate node and when two AllergyIntoleracne will share the same code/coding then just a relation will be created towards this node</p>",
        "id": 153884526,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492023725
    },
    {
        "content": "<p>If each attribute (represented by different paths) is represented by different nodes, how would you group attributes under a single resource together? If you will be using a \"parent\" node, currently there is no way to distinguish an edge from AllergyIntolerance(parent) -&gt; AllergyIntolerance.code and an edge between AllergyIntolerance(parent) -&gt; Patient(parent)</p>",
        "id": 153884530,
        "sender_full_name": "Sadiq Saleh",
        "timestamp": 1492024290
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/KSdjk-jfuywF9VJqilBahko-/allergy_graph.jpg\" target=\"_blank\" title=\"allergy_graph.jpg\">allergy_graph.jpg</a> <br>\nThis is what i am taking about .. There will be more connection when you will find another resource with same code value</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/KSdjk-jfuywF9VJqilBahko-/allergy_graph.jpg\" target=\"_blank\" title=\"allergy_graph.jpg\"><img src=\"/user_uploads/10155/KSdjk-jfuywF9VJqilBahko-/allergy_graph.jpg\"></a></div>",
        "id": 153884533,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492025109
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193151\">@Sadiq Saleh</span>  you are right , I think we have to analyse the resource , mainly the data within it and think what node we can create from it and if we create will it be helpful ?</p>",
        "id": 153884534,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492025410
    },
    {
        "content": "<p>I think invariant is one of many property of graph :) </p>",
        "id": 153884538,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492026832
    },
    {
        "content": "<p>We've run FHIR/JSON objects through various D3 graphs with good success.  Not sure that an entire graph database is needed; as most any object store should suffice.  That being said, we've been looking at pulling in the Neo4j libraries to do more complex graphs.</p>",
        "id": 153884558,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1492031310
    },
    {
        "content": "<p>What is the Use Case for doing graphs?</p>",
        "id": 153884559,
        "sender_full_name": "Howard Edidin",
        "timestamp": 1492031367
    },
    {
        "content": "<p>We are  using Machine Learning on Azure to handle predictive medicine; i.e. outcomes for cancer </p>",
        "id": 153884560,
        "sender_full_name": "Howard Edidin",
        "timestamp": 1492031446
    },
    {
        "content": "<p>Use Cases include Fraud Detection, Search, Recommendations, Social Network, Identity Management, Network Operations.  </p>\n<p>As per Neo4j<br>\n<a href=\"https://neo4j.com/\" target=\"_blank\" title=\"https://neo4j.com/\">https://neo4j.com/</a></p>",
        "id": 153884561,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1492031473
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193663\">@Howard Edidin</span> well the use case and query could be vast if we can manage to make use of all the fields in a FHIR resource into a proper connected graph .<br>\nHere is some sample graph gist from Neo4j . Check the Behavioural treatment . I believe a proper graph could also be used in Machine Learning . <br>\n<a href=\"https://neo4j.com/graphgists/?category=health-care-and-science\" target=\"_blank\" title=\"https://neo4j.com/graphgists/?category=health-care-and-science\">https://neo4j.com/graphgists/?category=health-care-and-science</a><br>\n<a href=\"/user_uploads/10155/5fE8S7CdbMQZ3PHeiz0Eo-9u/use-cases-graph-in-healthcare.pdf\" target=\"_blank\" title=\"use-cases-graph-in-healthcare.pdf\">use-cases-graph-in-healthcare.pdf</a><br>\nthe data they used , does not follow any standard and unstructured . If we can properly mange to create a complete connected graph among the connected FHIR resource then we can do lot more .. dont you think ? </p>",
        "id": 153884567,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492034026
    },
    {
        "content": "<p>Unrelated to the main issues discussed, but the SCT code used in the graph for cashew nut is the code for the substance (solution) used to test an individual to see if they have an allergic reaction to cashew nut.  It is not the SCT code for cashew nut, the edible substance. </p>",
        "id": 153884569,
        "sender_full_name": "Russell Leftwich",
        "timestamp": 1492035940
    },
    {
        "content": "<p>I am not sure how you would use a Graph with Machine learning<br>\n<a href=\"https://azure.microsoft.com/en-us/services/machine-learning/\" target=\"_blank\" title=\"https://azure.microsoft.com/en-us/services/machine-learning/\">https://azure.microsoft.com/en-us/services/machine-learning/</a></p>",
        "id": 153884571,
        "sender_full_name": "Howard Edidin",
        "timestamp": 1492036447
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193690\">@Fahim Shariar</span> Since graphs are triples (end edge connects two nodes), and RDF is triple-based, have you considered just visualising the RDF representation?</p>",
        "id": 153884572,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1492040017
    },
    {
        "content": "<p>yeah, that was going to be my suggestion.  Have you spoken with <span class=\"user-mention\" data-user-id=\"191574\">@David Booth</span> ?</p>",
        "id": 153884605,
        "sender_full_name": "Geoff Low",
        "timestamp": 1492069235
    },
    {
        "content": "<p>What can we achieve by making these type of graphs on fhir data?</p>",
        "id": 153884612,
        "sender_full_name": "Muhammad Abubakar Ikram",
        "timestamp": 1492076689
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193663\">@Howard Edidin</span> Well,  Graph is actively used by google and Insight Data Eng. Team for Machine Learning You can read more about it here <br>\n<a href=\"https://blog.insightdatascience.com/graph-based-machine-learning-6e2bd8926a0\" target=\"_blank\" title=\"https://blog.insightdatascience.com/graph-based-machine-learning-6e2bd8926a0\">https://blog.insightdatascience.com/graph-based-machine-learning-6e2bd8926a0</a><br>\n<a href=\"https://research.googleblog.com/2016/10/graph-powered-machine-learning-at-google.html\" target=\"_blank\" title=\"https://research.googleblog.com/2016/10/graph-powered-machine-learning-at-google.html\">https://research.googleblog.com/2016/10/graph-powered-machine-learning-at-google.html</a><br>\nI hope you will find it interesting <a href=\"/user_uploads/10155/FejTfZdhAHb4yL4L36pmroIT/image02.png\" target=\"_blank\" title=\"image02.png\">image02.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/FejTfZdhAHb4yL4L36pmroIT/image02.png\" target=\"_blank\" title=\"image02.png\"><img src=\"/user_uploads/10155/FejTfZdhAHb4yL4L36pmroIT/image02.png\"></a></div>",
        "id": 153884626,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492077885
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191487\">@Russell Leftwich</span> Thank you for pointing this out and you just proved my point there . I have drawn the graph based on the description and my understanding of the AllergyIntolernce fields from detailed description I found on FHIR and the connection between them is not perfect and may be unusual . That's why I need help to create meaningful relations between those nodes/data that could be formed from a single FHIR Resource . <br>\nAnd also can you redraw the Graph with correct relations and with any other nodes that you see fit and missing within the AllergyIntolerance fields</p>",
        "id": 153884634,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492079268
    },
    {
        "content": "<p>It appears to me that a graph is a visual  representation to be evaluated by a person.  How would you use the results from a Graph in an application or service that  has no UI?</p>",
        "id": 153884715,
        "sender_full_name": "Howard Edidin",
        "timestamp": 1492101048
    },
    {
        "content": "<p>Do you have an RDF sample dataset yet? Can Neo4j serve up a JSON object?  Could that JSON object be mapped/transformed into something like the <code>miserables.json</code> dataset from the D3 directed graph example?  </p>\n<p><a href=\"https://bl.ocks.org/mbostock/4062045\" target=\"_blank\" title=\"https://bl.ocks.org/mbostock/4062045\">https://bl.ocks.org/mbostock/4062045</a></p>",
        "id": 153884745,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1492129926
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191678\">@Abigail Watson</span> Well I have RDF sample dataset and trying to visualize the RDF files but could not find a visualizer for FHIR RDF resource . <br>\nAs far as your questions , Neo4j can serve up as a JSON object it has powerful CYPHER Graph Query Language and RESTApi . But It is not suitable for storing JSON or Nosql data . <br>\nYou have to do Polygot Persistence . Store FHIR Resource in Nosql Database (Mongo, Couchbase , etc ) and decompose the json and store the probable vertex and node in Neo4j for Analytics and Complex Queries . Thats what we are trying to do ...<br>\nAnd you can export Neo4j data to a <code>miserables.json</code> then use it in D3 graph but Neo4j has a build in Graph Visualizer that will show your result in Graph after Query just like D3 , even better I think </p>",
        "id": 153884760,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492159896
    },
    {
        "content": "<p>Sounds like all the pieces are in place (we're looking at a similar Neo4j/Mongo/D3 solution). </p>\n<p>To your question about vertexes/edges, have you taken a look at Schematron?  I think there's support for RDF (although loops and cycles probably aren't supported).    I'm not sure it's exactly what you're looking for; but it's vaguely in the same ballpark; recognized by <a href=\"http://w3.org\" target=\"_blank\" title=\"http://w3.org\">w3.org</a> and other standards bodies, and might generate some leads.  Seems like you're asking for a Graph Schematron. </p>\n<p><a href=\"https://www.w3.org/2001/sw/Europe/events/foaf-galway/papers/pp/validating_rdf/\" target=\"_blank\" title=\"https://www.w3.org/2001/sw/Europe/events/foaf-galway/papers/pp/validating_rdf/\">https://www.w3.org/2001/sw/Europe/events/foaf-galway/papers/pp/validating_rdf/</a></p>",
        "id": 153884786,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1492185376
    },
    {
        "content": "<p>Have you looked at Azure DocumentDB? <br>\n<a href=\"https://azure.microsoft.com/en-us/services/documentdb/\" target=\"_blank\" title=\"https://azure.microsoft.com/en-us/services/documentdb/\">https://azure.microsoft.com/en-us/services/documentdb/</a></p>",
        "id": 153884800,
        "sender_full_name": "Howard Edidin",
        "timestamp": 1492201492
    },
    {
        "content": "<p>Not in details but I have seen their specification . I am using Couchbase for document store . Is there any kind of analytical features you want me to check there ? </p>",
        "id": 153884833,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492281498
    },
    {
        "content": "<p>I have searched and found many papers but  the resource they use to describe the analytics scenario is not FHIR related . They use their own data and formats . <br>\nThats why i opened this group to have a discussion about the use cases along with the Graph base approach to FHIR Analytics . I am sure there are many analytics prospective there </p>",
        "id": 153884926,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492463159
    },
    {
        "content": "<p>Also seems like nobody implemented the approach I am proposing to analyse FHIR resource with Graph Database , even if they did its proprietary. I am on my way to make a draft and soon I will try to show a demo with use cases and queries . <br>\nAll will be included in the draft .</p>",
        "id": 153884927,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492463311
    },
    {
        "content": "<p>Hi Fahim, and welcome!   I am glad to hear of your work.  I will be very interested to see your demo.  Please let me know when it is ready to show.  I would also suggest that you look at the work done by <span class=\"user-mention\" data-user-id=\"191660\">@Harold Solbrig</span> from Mayo Clinic.  He made a demo of it here: <a href=\"https://github.com/BD2KOnFHIR/BLENDINGFHIRandRDF\" target=\"_blank\" title=\"https://github.com/BD2KOnFHIR/BLENDINGFHIRandRDF\">https://github.com/BD2KOnFHIR/BLENDINGFHIRandRDF</a>  Please let us know if you try it, and please provide any feedback or suggestions.  Thanks!</p>",
        "id": 153885016,
        "sender_full_name": "David Booth",
        "timestamp": 1492547889
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191574\">@David Booth</span>  I will definitely check out the demo . It seems interesting . And I am trying to make a draft ASAP before the demo .</p>",
        "id": 153885085,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1492594676
    },
    {
        "content": "<p>I am taking some different approach . Right now approaching a polyglot persistence model. The FHIR resource is saved in a NOSQL Database that satisfies search terms of FHIR and During the insert its also automatically converted into a connected graph or become a part of existing graph network if similar code/valuset or entity is found .<br>\nMy work is still under progress . Now the challenge is to Graph model the healthcare data specially for each entities in FHIR Resource and if each field in a FHIR resource capable of being node or a or a property of a property graph<br>\nI will post my research soon ...</p>",
        "id": 153886272,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1493290840
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191351\">@Chris Grenz</span> \"analytics\" comes with significantly more complex queries. I do agree with you on this point . I am trying to do complex queriess with graph but the Resource and data structure I choose to use is in FHIR thats why i am here . <br>\nWhen I first started working on this project my supervisor asked what would be an example of a complex query that you are taking about ? I told him something similar like below,<br>\n\"Find all cancer treatment drugs available since 2012 which have proved most effective in treating stage two ovarian cancer in women under the age of 30\"<br>\nI am trying to solve something like this with Property Graph Database . Will Apache Drill's SQL Query be able to do such thing ? I am curious to know . I might look into other options if i fail to do this with Graph  <span class=\"user-mention\" data-user-id=\"193729\">@natus</span>  and <span class=\"user-mention\" data-user-id=\"191351\">@Chris Grenz</span>  ?</p>",
        "id": 153886603,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1493673112
    },
    {
        "content": "<p>you will need terminology service support for a query like that. And very well coded data. </p>",
        "id": 153886609,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493673486
    },
    {
        "content": "<blockquote>\n<p>Find all cancer treatment drugs available since 2012 which have proved most effective in treating stage two ovarian cancer in women under the age of 30</p>\n</blockquote>\n<p>This definitively looks doable with SQL tools. Look at <a href=\"http://build.fhir.org/terminology-service.html#closure-use\" target=\"_blank\" title=\"http://build.fhir.org/terminology-service.html#closure-use\">http://build.fhir.org/terminology-service.html#closure-use</a> . The pseudo-SQL really looks like such use case.  Your query is no more than a set of logical predicate implementable as SQL, with subqueries </p>",
        "id": 153886624,
        "sender_full_name": "natus",
        "timestamp": 1493677310
    },
    {
        "content": "<p>once you've build the closure table, yes</p>",
        "id": 153886632,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493686734
    },
    {
        "content": "<p>Well, even that's readily expressed using <code>WITH RECURSIVE</code> if you don't keep a predefined closure table. </p>",
        "id": 153886635,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1493694680
    },
    {
        "content": "<p>Can you both elaborate a bit ? Not sure closure table is needed at all here. Manually listing the code within the SQL would just work. The link was supposed to enlight the SQL power for analytics, not the closure table.</p>\n<blockquote></blockquote>\n<p>AFAIK, purpose of the closure table is only to help in exploiting code mapping. </p>",
        "id": 153886636,
        "sender_full_name": "natus",
        "timestamp": 1493695529
    },
    {
        "content": "<p>Yes, I think the question is whether you're looking for specific codes vs \"codes or any of their descendents in a hierarchical terminology system\". If it's just specific codes, it's even simpler. </p>",
        "id": 153886637,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1493696749
    },
    {
        "content": "<p>SQL tools are nice, but they can't handle a query such as 'Find the shortest route between Locations that are members of HealthcareService and have Resources belonging to this CarePlan'.  Neo4j supports Djikstra's algorithm out of the box, and that goes a long way.  There are some things that a graph database can simply do better than SQL.  </p>",
        "id": 153886638,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1493697189
    },
    {
        "content": "<blockquote>\n<p>There are some things that a graph database can simply do better than SQL. </p>\n</blockquote>\n<p>Very true and symetric assertion !</p>\n<blockquote>\n<p>There are some things that SQL can simply do better than a graph database. </p>\n</blockquote>\n<p>I would say that  <span class=\"user-mention\" data-user-id=\"193690\">@Fahim Shariar</span> ' use case is SQL friendly. Anyway, I am working on a SQL drill implementation, so that he can benefit from my work if graph database would be to much difficult.</p>",
        "id": 153886654,
        "sender_full_name": "natus",
        "timestamp": 1493712869
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192188\">@Martin Maiers</span> , Thank your for your comments , It inspires hearing you find it interesting . I have recently Open Sourced the library called <code>Jypher</code> ( <a href=\"https://github.com/kite-social/jypher/tree/fhir\" target=\"_blank\" title=\"https://github.com/kite-social/jypher/tree/fhir\">https://github.com/kite-social/jypher/tree/fhir</a> ) . It's still in the initial stage. I am trying to make this library universal but it's inspired by FHIR Resource structure.  Check out the fhir branch on github in the link above , You will find a sample Patient Resource and the graph generated in Neo4j .</p>\n<p>Also I am a professional Golang Developer , also its a part of a system developed in Golang . I like python but prefer to use golang when i am building library, system and stuff ...</p>",
        "id": 153903177,
        "sender_full_name": "Fahim Shariar",
        "timestamp": 1503392140
    },
    {
        "content": "<p>I'm new to graph DBs, but am also exploring representing FHIR as a connected property graph. </p>\n<p>My first thought would be to create a vertex for each Resource, each complex datatype, each BackboneElement, and in some cases for even the simple data types. <br>\nThe attribute names then become either edge labels or vertex properties. <br>\nFor example the CodeableConcept vertex has a 'text' property, and an outbound edge labeled 'coding'. The Coding vertex contains properties for 'code', 'display', 'system', etc. </p>\n<p>Any thoughts on this approach? </p>\n<p>FYI: <span class=\"user-mention\" data-user-id=\"193690\">@Fahim Shariar</span> </p>\n<p>Here is a partial model of Observation illustrating this:<br>\n<a href=\"/user_uploads/10155/aZWLIDvK9bY_zOvNhw4a93F0/obs-graph-1.png\" target=\"_blank\" title=\"obs-graph-1.png\">obs-graph-1.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/aZWLIDvK9bY_zOvNhw4a93F0/obs-graph-1.png\" target=\"_blank\" title=\"obs-graph-1.png\"><img src=\"/user_uploads/10155/aZWLIDvK9bY_zOvNhw4a93F0/obs-graph-1.png\"></a></div>",
        "id": 153927686,
        "sender_full_name": "Craig McClendon",
        "timestamp": 1515100962
    },
    {
        "content": "<p>we often have people ask for this, and in the very early days, I used to maintain it manually. But it rapidly came to have too much information to maintain, and then to even understand. ClinFHIR has a single resource centric viewer</p>",
        "id": 153927689,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1515101373
    },
    {
        "content": "<p>Thanks Grahame.  For clarification, I'm not looking to create a graphical representation of the FHIR model. I am looking at how to model/persist FHIR data in graph database for search and analytics uses.</p>",
        "id": 153927690,
        "sender_full_name": "Craig McClendon",
        "timestamp": 1515101611
    },
    {
        "content": "<p>oh. sorry</p>",
        "id": 153927691,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1515101625
    },
    {
        "content": "<p>what is your leaf structure? primitive types? json?</p>",
        "id": 153927692,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1515101661
    },
    {
        "content": "<p>I think you're asking where the actual data is stored.  There are just vertices and edges in a connected property graph. Both are \"labeled\", and both can contain properties.  The picture I posted shows the labels for everything, but not the properties defined for the vertices. The Coding vertex for example has properties for code, display, system, etc.  which would contain the actual data. Each property has a datatype.  Hope that makes sense.</p>",
        "id": 153927694,
        "sender_full_name": "Craig McClendon",
        "timestamp": 1515102356
    },
    {
        "content": "<p>primitives then - so you need a vertices for everything that can repeat, or that has sub-properties. And you need to figure out what to do about extensions on primitives</p>",
        "id": 153927696,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1515102605
    },
    {
        "content": "<p>Essentially yes. Some graph DBs allow for multiple cardinality properties. So primitives that repeat can be defined still as a property of a vertex. But any values that need to be grouped..</p>",
        "id": 153927701,
        "sender_full_name": "Craig McClendon",
        "timestamp": 1515102882
    },
    {
        "content": "<p>..generically handling extensions could be tricky beyond just storing the blob of the extension text. Will have to think on that one a bit</p>",
        "id": 153927703,
        "sender_full_name": "Craig McClendon",
        "timestamp": 1515103241
    },
    {
        "content": "<p>You could also use the search parameters as a starting point. Use the reference search parameters as vertices, and the rest as leafs, plus one leaf carrying the original resource as a string / blob. The values of the search parameters are easier to express as a set of name-value pairs (instead of the hierarchical data in a resource). Plus the're the only things defined to search on in FHIR.</p>",
        "id": 153927953,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1515423699
    }
]