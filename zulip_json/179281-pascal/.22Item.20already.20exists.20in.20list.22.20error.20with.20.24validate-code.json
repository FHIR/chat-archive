[
    {
        "content": "<p>When I try to validate a code on <a href=\"http://tx.fhir.org\">tx.fhir.org</a> with <code>POST http://tx.fhir.org/r4/ValueSet/$validate-code?system=http://snomed.info/sct&amp;code=256303006</code> and this <a href=\"/user_uploads/10155/cnv5Uephwy1ghzbPyPqOxd5a/ValueSet-allergy-intolerance-substance-product-gps-uv-ips.json\">value set</a> as the body, I'm getting this error:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot; : &quot;Parameters&quot;,\n  &quot;parameter&quot; : [\n    {\n      &quot;name&quot; : &quot;result&quot;,\n      &quot;valueBoolean&quot; : false\n    },\n    {\n      &quot;name&quot; : &quot;message&quot;,\n      &quot;valueString&quot; : &quot;Item already exists in list (http://terminology.hl7.org/ValueSet/snomed-intl-gps=D7ED3B00)&quot;\n    },\n    {\n      &quot;name&quot; : &quot;cause&quot;,\n      &quot;valueString&quot; : &quot;unknown&quot;\n    }\n  ]\n}\n</code></pre></div>\n<p>If I remove the <code>expansion</code> element from the value set instance I still get the same result, so that doesn't seem to be causing the issue.  If I validate the code directly with the GPS value set with <code>GET http://tx.fhir.org/r4/ValueSet/$validate-code?url=http://terminology.hl7.org/ValueSet/snomed-intl-gps&amp;system=http://snomed.info/sct&amp;code=256303006</code>, that works correctly.  The <code>http://terminology.hl7.org/ValueSet/snomed-intl-gps</code> value set is both loaded directly on <a href=\"http://tx.fhir.org\">tx.fhir.org</a> from the packages and also is now published in the THO CI build.  It was unclear how that would be handled and what effect it would have - and maybe that could be the source of the duplication?</p>",
        "id": 245926415,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1626246575
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 245926984,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1626247071
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> Would you be interested in helping me to chase this error down and figure out how we can fix it?</p>",
        "id": 246525265,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1626735185
    },
    {
        "content": "<p>Yes. Tomorrow? You'll have to run the debugging because I can't</p>",
        "id": 246525357,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1626735251
    },
    {
        "content": "<p>Yeah, that probably can work.  Would 14:00 CEST be good for you (7:00 AM for me)?  I have an IPS-related meeting at 15:00, so we could look at it for up to an hour.  And if more is needed we can schedule a follow-up?</p>",
        "id": 246525914,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1626735661
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> is your lazarus able to compile the server?</p>",
        "id": 246654942,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1626817279
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  Yes, it is - when I last tried it a little while ago.  I never actually tried launching the server from it, though, as I didn't have the database set up and didn't spend the time at that time to deternmin what I actually needed for that.</p>",
        "id": 246656347,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1626818272
    },
    {
        "content": "<p>The console built and launches fine - but I only used it so far for the terminology import functions.  I need to try it again and make sure that everything is still working ok.</p>",
        "id": 246656539,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1626818391
    },
    {
        "content": "<p>is your code up to date with the github repo?</p>",
        "id": 246657571,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1626819059
    },
    {
        "content": "<p>i can't get it to compile. it has too many missing files</p>",
        "id": 246657587,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1626819076
    },
    {
        "content": "<p>Let me try to check it again in a moment.  I'll first make sure it compiles ok with the version I have now.  Then, assuming that still is working ok, I'll update it and we'll see that happens.</p>",
        "id": 246658909,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1626820206
    },
    {
        "content": "<p>what doesn't compile?</p>",
        "id": 246883103,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1626976593
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I compiled fhirserver successfully on Delphi last night.  Jose and I have just walked through getting the db set up.  There are still a few straggling issues at the moment, but nothing that looks too bad.  But the \"Item already exists in list\" error is still definitely an issue.</p>",
        "id": 246895856,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1626983109
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> and I just finished working through the remaining details, and now we both have working fhirserver (terminology server) instances.  And I will finish adding the needed terminologies on mine and I'll get back to looking at this \"Item already exists in list\" error.  If you run into anything or want to look into that further, too, Jose, let me know.  I still need to get this one solved.</p>",
        "id": 247000175,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1627057948
    },
    {
        "content": "<p>fixing this will be a three stage thing - figuring out what list, fixing the code to say what's a duplicate, and then figuring out why a duplicate is being added. that's usually complicated - a bad underlying assumption somewhere</p>",
        "id": 247007473,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1627061280
    },
    {
        "content": "<p>Makes sense.  I wasn't assuming it would be too easy. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 247007628,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1627061357
    },
    {
        "content": "<p>I just submitted <a href=\"https://github.com/grahamegrieve/fhirserver/pull/126\">PR #126</a> to fix this.</p>",
        "id": 249748938,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1629220160
    }
]