[
    {
        "content": "<p>It looks like we have a rather serious problem with the the latest version(s) of the SNOMED CT Importer that are included in the FHIR Console.  After that work was done, on Dec 7 I tried to import the Swedish Edition, but that failed with an \"Out of memory\" error on <a href=\"http://tx.fhir.org\">tx.fhir.org</a>.  The question was raised about possibly increasing the available RAM on the the server, but instead <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> suggested doing the import using a local instance.  And, Grahame's statement at the time that \"the server is more of a ram consumer than it used to be\" turns out possibly to be the biggest understatement of the year (even in the year of COVID-19!). :)  When I finally tried doing that, I found that the imports (this time of the International Edition) were still failing with \"Out of memory\", even on Windows 10 VMs with increasingly large amounts of RAM - up until my attempt today which failed with 256 GB (see attached screenshots)!  This is obviously completely unworkable, and it makes no sense to try anything further.  So at this point I can't import and load the 20210131 International Edition, which is now available and I was asked for last week, or probably any other SNOMED CT Edition.  So we need to get this fixed (I assume I should submit a GH issue?). <a href=\"user_uploads/10155/dg7f_iMsWyPODhPZB8FR4_ac/Screen-Shot-2021-02-08-at-18.35.03.png\">Screen-Shot-2021-02-08-at-18.35.03.png</a> <a href=\"user_uploads/10155/v-MxFb9FP2anVXhtLtDbYiFf/Screen-Shot-2021-02-08-at-18.41.23.png\">Screen-Shot-2021-02-08-at-18.41.23.png</a></p>\n<div class=\"message_inline_image\"><a href=\"user_uploads/10155/dg7f_iMsWyPODhPZB8FR4_ac/Screen-Shot-2021-02-08-at-18.35.03.png\" title=\"Screen-Shot-2021-02-08-at-18.35.03.png\"><img src=\"user_uploads/10155/dg7f_iMsWyPODhPZB8FR4_ac/Screen-Shot-2021-02-08-at-18.35.03.png\"></a></div><div class=\"message_inline_image\"><a href=\"user_uploads/10155/v-MxFb9FP2anVXhtLtDbYiFf/Screen-Shot-2021-02-08-at-18.41.23.png\" title=\"Screen-Shot-2021-02-08-at-18.41.23.png\"><img src=\"user_uploads/10155/v-MxFb9FP2anVXhtLtDbYiFf/Screen-Shot-2021-02-08-at-18.41.23.png\"></a></div>",
        "id": 225641509,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1612841036
    },
    {
        "content": "<p>where's the easiest place for me to get the source for the international edition?</p>",
        "id": 225747592,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612900487
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  It's on <a href=\"http://tx.fhir.org\">tx.fhir.org</a> in D:\\download\\SnomedCT_InternationalRF2_PRODUCTION_20210131T120000Z (the complete release).</p>",
        "id": 225755735,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1612904055
    },
    {
        "content": "<p>well, I can reproduce the problem. That's using crazy amounts of memory</p>",
        "id": 225784027,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612920975
    },
    {
        "content": "<p>Yes.  At least you're seeing the same thing - that should be the first step in getting it fixed.</p>",
        "id": 225784177,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1612921103
    },
    {
        "content": "<p><a href=\"http://healthintersections.com.au/snomed_20210131_intl.zip\">http://healthintersections.com.au/snomed_20210131_intl.zip</a> but I'll have to do a new release in order to use it</p>",
        "id": 225789224,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612926289
    },
    {
        "content": "<p>Looks like you're getting there?</p>",
        "id": 225790302,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1612927670
    },
    {
        "content": "<p>And primarily you're removing (commented out) some of the sorting code?</p>",
        "id": 225790933,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1612928465
    },
    {
        "content": "<p>I reduced the amount of memory allocated to undertanding the relationships. not sure why it was consuming so much memory</p>",
        "id": 225791478,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612929187
    },
    {
        "content": "<p>ok it's all released now</p>",
        "id": 225794447,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612932834
    },
    {
        "content": "<p>I'll upgrade <a href=\"http://tx.fhir.org\">tx.fhir.org</a> shortly</p>",
        "id": 225794480,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612932843
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I assumed \"all released\" would mean that it is updated on the Tools Release page, but the version there is still v0.0.369 dated 2020-12-18.  I still haven't finished working out the openssl issue for launching my compiled version, so if I can get the updated binary for now that will be good.</p>",
        "id": 226149165,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1613142930
    },
    {
        "content": "<p>.370 for me - you have a caching problem?</p>",
        "id": 226718611,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1613592937
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I don't think so.  On the 12th when I posted that it was still .369 - but now today (before I saw your reply above) it's .370.  So, with that, I was <strong>finally</strong> able to get a successful cache file generated for the 2021-01-31 International Edition and now that is loaded on <a href=\"http://tx.fhir.org\">tx.fhir.org</a>.  But it's still using large amounts of RAM - though fortunately somewhat smaller than before (screen shot attached).  So I was able to do the import with the 256 GB VM, and it looks like I should be able to scale it back and it would work (barely) with 128 GB - but that's still pretty massive, and much more than we ever needed in the past. <a href=\"/user_uploads/10155/ht3i0eaM91cabzPw39MEdVmy/Screen-Shot-2021-02-17-at-14.42.55.png\">Screen-Shot-2021-02-17-at-14.42.55.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ht3i0eaM91cabzPw39MEdVmy/Screen-Shot-2021-02-17-at-14.42.55.png\" title=\"Screen-Shot-2021-02-17-at-14.42.55.png\"><img src=\"/user_uploads/10155/ht3i0eaM91cabzPw39MEdVmy/Screen-Shot-2021-02-17-at-14.42.55.png\"></a></div>",
        "id": 226738629,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1613601319
    }
]