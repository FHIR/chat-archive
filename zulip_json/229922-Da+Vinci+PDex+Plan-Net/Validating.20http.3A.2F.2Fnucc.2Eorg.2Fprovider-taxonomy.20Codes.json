[
    {
        "content": "<p>In trying to understand what we should use for a system in our OrganizationAffiliation specialty representations, I tried validating the OrganizationAffiliation-PharmChainAffil3.json example file in the 0.1.8 package. I receive the following information</p>\n<p>FHIR Validation tool Version 5.1.21 (Git# 5b62d35f715f). Built 2020-11-11T02:04:31.124Z (7 days old)<br>\n  Java:   13.0.2 from /Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home on x86_64 (64bit). 4096MB available<br>\n  Paths:  Current = /Users/me/Documents/InterOp/Examples/DaVinci/Specialities, Package Cache = /Users/me/.fhir/packages<br>\n  Params: -version 4.0 -ig hl7.fhir.us.davinci-pdex-plan-net#current OrganizationAffiliation-PharmChainAffil3.json<br>\nLoading<br>\n  Load FHIR v4.0 from hl7.fhir.r4.core#4.0.1 - 4575 resources (00:05.0225)<br>\n  Terminology server <a href=\"http://tx.fhir.org\">http://tx.fhir.org</a> - Version 1.0.362 (00:01.0170)<br>\n  Load hl7.fhir.us.core#3.1.0 - 143 resources (00:00.0779)<br>\n  Load hl7.fhir.us.davinci-pdex-plan-net#current - 109 resources (00:00.0009)<br>\n  Get set...  go (00:00.0653)<br>\nValidating<br>\n  Validate OrganizationAffiliation-PharmChainAffil3.json 00:01.0604<br>\nDone. Times: Loading: 00:08.0156, validation: 00:01.0604</p>\n<p><em>FAILURE</em>: 1 errors, 0 warnings, 1 notes<br>\n  Error @ OrganizationAffiliation.specialty[0] (line 36, col10) : None of the codes provided are in the value set <a href=\"http://hl7.org/fhir/us/davinci-pdex-plan-net/ValueSet/SpecialtiesVS\">http://hl7.org/fhir/us/davinci-pdex-plan-net/ValueSet/SpecialtiesVS</a> (<a href=\"http://hl7.org/fhir/us/davinci-pdex-plan-net/ValueSet/SpecialtiesVS\">http://hl7.org/fhir/us/davinci-pdex-plan-net/ValueSet/SpecialtiesVS</a>), and a code from this value set is required) (codes = <a href=\"http://nucc.org/provider-taxonomy#3336M0002X\">http://nucc.org/provider-taxonomy#3336M0002X</a>)<br>\n  Information @ OrganizationAffiliation.specialty[0] (line 36, col10) : None of the codes provided are in the value set <a href=\"http://hl7.org/fhir/ValueSet/c80-practice-codes\">http://hl7.org/fhir/ValueSet/c80-practice-codes</a> (<a href=\"http://hl7.org/fhir/ValueSet/c80-practice-codes\">http://hl7.org/fhir/ValueSet/c80-practice-codes</a>), and a code is recommended to come from this value set) (codes = <a href=\"http://nucc.org/provider-taxonomy#3336M0002X\">http://nucc.org/provider-taxonomy#3336M0002X</a>)</p>\n<p>I can find the code 3336M0002x in the ValueSet-NonIndividualSpecialtiesVS.json file, which I believe is properly included into ValueSet-SpecialtiesVS.json. I've looked as best I can and can't determine if this is a problem with the validator or with the ValueSet specifications. </p>\n<p>Any help on this is appreciated ... Charlie</p>",
        "id": 217131911,
        "sender_full_name": "Charlie Filkins",
        "timestamp": 1605705016
    },
    {
        "content": "<p>my vote is the validator.<br>\nSee -- <a href=\"#narrow/stream/179252-IG-creation/topic/Carin-BB.3A.20.20Terminology.20Errors\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Carin-BB.3A.20.20Terminology.20Errors</a></p>\n<p>I think somewhere there is a problem validating ValueSets that are built from ValueSets (instead of codesystems, or individual codes).</p>",
        "id": 217159871,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1605717011
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> Given your hint, I did a little testing and can confirm your suspicions, though only for one instance ... ProvideRole.specialty uses a ValueSet without includes and that works just fine. Should I just create an issue in GitHub?</p>",
        "id": 217204790,
        "sender_full_name": "Charlie Filkins",
        "timestamp": 1605738085
    },
    {
        "content": "<p>In github, or in zulip #igcreation?</p>",
        "id": 217205469,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1605738433
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> In the immortal words of Charlie Brown ... ARRRRGGGGHHHHHHHH ... PractitionerRole-HansSoloRole1.json from the DaVinci examples validates with only Information and Warning messages in v5.1.21 of the Validators, but throws errors in 5.1.22. Should I still use the igcreation stream to ask this question, or is there a better place?</p>",
        "id": 217305303,
        "sender_full_name": "Charlie Filkins",
        "timestamp": 1605807910
    },
    {
        "content": "<p>I would start in igcreation.   Worst thing that will happen is that you get chided to go to the right place (been there done that).</p>",
        "id": 217305656,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1605808072
    },
    {
        "content": "<p>Sounds good. Thanks for your help with this.</p>",
        "id": 217305736,
        "sender_full_name": "Charlie Filkins",
        "timestamp": 1605808100
    }
]