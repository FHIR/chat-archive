[
    {
        "content": "<p>Currently, to extend the server with custom search parameters, we support the reading of a per-tenant Bundle of SearchParameters from the tenant config folder.  We have a guide that outlines how this works at <a href=\"https://ibm.github.io/FHIR/guides/FHIRSearchConfiguration\" target=\"_blank\" title=\"https://ibm.github.io/FHIR/guides/FHIRSearchConfiguration\">https://ibm.github.io/FHIR/guides/FHIRSearchConfiguration</a></p>",
        "id": 186920765,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1580326721
    },
    {
        "content": "<p>However, starting in version 4.0.0 we have a new <code>fhir-registry</code> component and this is how you extend the server with IG-specific artifacts like StructureDefinitions and ValueSets.  The guide for that is at <a href=\"https://ibm.github.io/FHIR/guides/FHIRValidationGuide\" target=\"_blank\" title=\"https://ibm.github.io/FHIR/guides/FHIRValidationGuide\">https://ibm.github.io/FHIR/guides/FHIRValidationGuide</a></p>",
        "id": 186920881,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1580326786
    },
    {
        "content": "<p>Many IGs (like us-core) also define their own search parameters, and it seems like we should support those from fhir-search as well.  Question:  what would it take to deprecate our config-driven mechanism in favor of a new <code>fhir-registry</code>-based approach?</p>",
        "id": 186921012,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1580326832
    },
    {
        "content": "<p>One challenge would be \"how to keep our dynamic config behavior\" where we have a cached version of the config resource available which will reload the resource if it changes on disk.  <span class=\"user-mention\" data-user-id=\"192334\">@John Timm</span> does the registry support (or at least enable) similar behavior yet?</p>",
        "id": 186921196,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1580326940
    },
    {
        "content": "<p>Another challenge would be building/maintaining the <code>SearchParameter.code</code> -&gt; <code>SearchParameter</code> map.   Instead of lazy-loading the SearchParameter resources by uri, I think we'd want to ask the fhir-registry to give us ALL the SearchParameters up front, so that we could build the map.</p>",
        "id": 186921602,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1580327184
    },
    {
        "content": "<blockquote>\n<p>One challenge would be \"how to keep our dynamic config behavior\" where we have a cached version of the config resource available which will reload the resource if it changes on disk.  <span class=\"user-mention silent\" data-user-id=\"192334\">John Timm</span> does the registry support (or at least enable) similar behavior yet?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191676\">@Lee Surprenant</span> We do not support this behavior in the FHIRRegistry</p>",
        "id": 187006421,
        "sender_full_name": "John Timm",
        "timestamp": 1580403316
    },
    {
        "content": "<p>How about the \"ask the fhir-registry to give us ALL the SearchParameters\" behavior?</p>",
        "id": 187013500,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1580407695
    },
    {
        "content": "<p>is it only retrieve by uri ?</p>",
        "id": 187013505,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1580407705
    },
    {
        "content": "<p>is the FHIR Registry multitenant?</p>",
        "id": 187047920,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1580431984
    },
    {
        "content": "<p>or relies on the consumer to have specific profile urls?</p>",
        "id": 187047940,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1580432003
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192632\">@Paul Bastide</span> The FHIR registry component does not currently support multi-tenancy</p>",
        "id": 190332624,
        "sender_full_name": "John Timm",
        "timestamp": 1583961471
    },
    {
        "content": "<p>the registry is currently populated using the ServiceLoader</p>",
        "id": 190332950,
        "sender_full_name": "John Timm",
        "timestamp": 1583961643
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192334\">John Timm</span> <a href=\"#narrow/stream/212434-ibm/topic/Search.20module.20design/near/190332950\" title=\"#narrow/stream/212434-ibm/topic/Search.20module.20design/near/190332950\">said</a>:</p>\n<blockquote>\n<p>the registry is currently populated using the ServiceLoader</p>\n</blockquote>\n<p>I think we covered this on another thread - not sure. thanks for the followup</p>",
        "id": 190382896,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1584015831
    },
    {
        "content": "<p>I think it means we'd have our work cut out for us to shift the existing search support over to using the registry</p>",
        "id": 190384216,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1584016790
    }
]