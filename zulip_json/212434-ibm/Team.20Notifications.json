[
    {
        "content": "<p>starting this thread as a spot for us to leave important \"notifications\" for one another</p>",
        "id": 179044778,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1572006619
    },
    {
        "content": "<p>Last night we merged <a href=\"https://github.com/IBM/FHIR/pull/306\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/pull/306\">https://github.com/IBM/FHIR/pull/306</a> which includes changes to fhir-examples.  So, after pulling it, don't forget to <code>mvn clean install -p fhir-examples</code> before attempting a local maven build.</p>",
        "id": 179044818,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1572006665
    },
    {
        "content": "<p>+1</p>",
        "id": 179044853,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1572006703
    },
    {
        "content": "<p>guys, get mac client from <a href=\"apps/mac\" target=\"_blank\" title=\"apps/mac\">https://chat.fhir.org/apps/mac</a></p>",
        "id": 179057315,
        "sender_full_name": "Senthil Bakthavachalam",
        "timestamp": 1572015730
    },
    {
        "content": "<p>I'm posting from it!</p>",
        "id": 179057346,
        "sender_full_name": "Senthil Bakthavachalam",
        "timestamp": 1572015754
    },
    {
        "content": "<p>yeah - that's what I'm using</p>",
        "id": 179057397,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1572015780
    },
    {
        "content": "<p>the web stinks</p>",
        "id": 179057403,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1572015783
    },
    {
        "content": "<p>Our github action-based PR builds are blazing fast again</p>",
        "id": 179444804,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1572449820
    },
    {
        "content": "<p><a href=\"https://github.com/IBM/FHIR/pull/337\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/pull/337\">https://github.com/IBM/FHIR/pull/337</a> checks completed in 10 minutes :-)</p>",
        "id": 179444928,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1572449883
    },
    {
        "content": "<p>this is good</p>",
        "id": 179445344,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1572450130
    },
    {
        "content": "<p><a href=\"https://github.com/IBM/FHIR/pull/395#pullrequestreview-315180352\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/pull/395#pullrequestreview-315180352\">https://github.com/IBM/FHIR/pull/395#pullrequestreview-315180352</a> introduces a change that increases our build times to about 15 minutes.  Specifically, I enabled the ALL index for the fhir-persistence-jdbc R4 spec example tests.  This is because Albert found a number of samples that were causing our JDBC layer some issues, but we never noticed it because we only ever run the MINIMAL set.</p>",
        "id": 180463731,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573509491
    },
    {
        "content": "<p>what i'd really like to do is conditionally set testType to <code>ALL</code> based on whether anything in fhir-persistence or fhir-persistence-jdbc (and maybe fhir-search) has been updated</p>",
        "id": 180463824,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573509582
    },
    {
        "content": "<p>I opened <a href=\"https://stackoverflow.com/questions/58808690/conditional-jobs-and-steps-based-on-updated-paths\" target=\"_blank\" title=\"https://stackoverflow.com/questions/58808690/conditional-jobs-and-steps-based-on-updated-paths\">https://stackoverflow.com/questions/58808690/conditional-jobs-and-steps-based-on-updated-paths</a> to see if I can get some free community advice on how to do that in github actions</p>",
        "id": 180463850,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573509602
    },
    {
        "content": "<p>but in the meantime, i think 15 minutes is acceptable for PR builds and so I've approved <a href=\"https://github.com/IBM/FHIR/pull/395\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/pull/395\">https://github.com/IBM/FHIR/pull/395</a></p>",
        "id": 180463918,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573509636
    },
    {
        "content": "<p>another option for us to consider is to pass specially values through the commit message</p>",
        "id": 180463988,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573509714
    },
    {
        "content": "<p>for example, we could run with ALL by default and then override that with something like <code>***quick***</code> in the commit message</p>",
        "id": 180464066,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573509761
    },
    {
        "content": "<p>there is some precendence for this (see <a href=\"https://stackoverflow.com/questions/3829305/what-does-no-ci-stand-for\" target=\"_blank\" title=\"https://stackoverflow.com/questions/3829305/what-does-no-ci-stand-for\">https://stackoverflow.com/questions/3829305/what-does-no-ci-stand-for</a>) but I'd much rather just have it be automatic so that we don't have such a messy commit history</p>",
        "id": 180464104,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573509810
    },
    {
        "content": "<p>OK, I got something working and submitted <a href=\"https://github.com/IBM/FHIR/pull/399\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/pull/399\">https://github.com/IBM/FHIR/pull/399</a></p>",
        "id": 180565859,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573595352
    },
    {
        "content": "<p>the bash scripting is a bit tricky to get right, but i've tested it for fhir-persistence-jdbc and fhir-model edits</p>",
        "id": 180565913,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573595400
    },
    {
        "content": "<p>currently, we'll set the <code>jdbc-all-tests</code> profile if the PR contains modifications to any paths under</p>\n<div class=\"codehilite\"><pre><span></span>        jdbc_paths=(\n          fhir-search/src/main\n          fhir-persistence/src/main\n          fhir-persistence-schema/src/main\n          fhir-persistence-jdbc\n        )\n</pre></div>\n\n\n<p>and we set the <code>model-all-tests</code> profile for modifications to paths under</p>\n<div class=\"codehilite\"><pre><span></span>        model_paths=(\n          fhir-model\n        )\n</pre></div>",
        "id": 180566019,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573595461
    },
    {
        "content": "<p>unfortunately, the <code>model-all-tests</code> also seems to make us execute the search tests against the ALL index, but I've already spent enough time on this one</p>",
        "id": 180566176,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573595543
    },
    {
        "content": "<p>We can do this in maven as we control the test execution.</p>",
        "id": 180618998,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1573647159
    },
    {
        "content": "<p>i think the problem is it always looks \"fresh\" to the github action (since its a fresh clone on a new system each time)</p>",
        "id": 180629149,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573654328
    },
    {
        "content": "<p>so not sure how to accomplish the above with just maven</p>",
        "id": 180629164,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573654340
    },
    {
        "content": "<p>IMHO its working acceptably with the bash script from pull request 399</p>",
        "id": 180629188,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573654368
    },
    {
        "content": "<p>certainly good enough for this sprint</p>",
        "id": 180629197,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573654376
    },
    {
        "content": "<blockquote>\n<p>i think the problem is it always looks \"fresh\" to the github action (since its a fresh clone on a new system each time)</p>\n</blockquote>\n<p>something like this GIT_DIFF=<code>git diff master..&lt;branch&gt; --name-only | grep -c fhir-persistence </code><br>\nmvn clean test -DextremeTestVariable=&lt;GIT_DIFF&gt; number</p>",
        "id": 180631081,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1573655327
    },
    {
        "content": "<p>You would then add to the clean test to test when MAXIMUM when GIT_DIFF is over a value</p>",
        "id": 180631156,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1573655372
    },
    {
        "content": "<p>you could even filter on java files</p>",
        "id": 180631163,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1573655378
    },
    {
        "content": "<p>i'm not sure thats any better than what i did...does it have advantages i'm missing?  did you check out <a href=\"https://github.com/IBM/FHIR/pull/399\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/pull/399\">https://github.com/IBM/FHIR/pull/399</a> ?</p>",
        "id": 180634798,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1573657596
    },
    {
        "content": "<p>it's actually the same thing</p>",
        "id": 180636707,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1573658568
    },
    {
        "content": "<p>:)</p>",
        "id": 180636713,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1573658570
    },
    {
        "content": "<p>line 60 is essentially the same</p>",
        "id": 180636727,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1573658580
    },
    {
        "content": "<p>Hi Everyone, I just posted RC3 <a href=\"https://github.com/IBM/FHIR/releases/tag/4.0.0-RC3\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/releases/tag/4.0.0-RC3\">https://github.com/IBM/FHIR/releases/tag/4.0.0-RC3</a></p>",
        "id": 181958541,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1574798893
    },
    {
        "content": "<p>Our team is off for the US Holiday.  Please drop any messages here, and we'll grab / followup when we get back (or check in over the weekend)</p>",
        "id": 182056761,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1574887128
    },
    {
        "content": "<p>Heads Up:  today we merged John's changes for <a href=\"https://github.com/IBM/FHIR/issues/453\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/issues/453\">https://github.com/IBM/FHIR/issues/453</a> which splits fhir-path (and fhir-profile) out of the fhir-model project in order to avoid a circular dependency between fhir-registry, fhir-model, and fhir-validation.  If you've already set up a workspace, don't forget to import these new projects after the merge.</p>",
        "id": 182412399,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1575342690
    },
    {
        "content": "<p>Just pulled the trigger on <a href=\"https://github.com/IBM/FHIR/pull/478\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/pull/478\">https://github.com/IBM/FHIR/pull/478</a> ...the IBM FHIR Server should not be on FHIR 4.0.1</p>",
        "id": 182775231,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1575648369
    },
    {
        "content": "<p>please remember to re-install fhir-examples locally before attempting a build after merging this in</p>",
        "id": 182775258,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1575648385
    },
    {
        "content": "<p><a href=\"https://github.com/IBM/FHIR/pull/759\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/pull/759\">https://github.com/IBM/FHIR/pull/759</a> goes beyond just issue #17 in order to provide a refactoring of one of our largested classes:  <code>com.ibm.fhir.server.resources.FHIRResource</code></p>",
        "id": 190108109,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1583782141
    },
    {
        "content": "<p>Previously, this class was a mix of JAX-RS methods and related helpers for performing the FHIR interactions with a given FHIRPersistence implementation</p>",
        "id": 190108170,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1583782194
    },
    {
        "content": "<p>With this PR, I split each interaction into its own JAX-RS class (which all extend from FHIRResource)</p>",
        "id": 190108287,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1583782241
    },
    {
        "content": "<p>Additionally, I moved httpHeaders into <code>HeaderParam</code>s and moved httpHeaders from the PersistenceEvent to FHIRRequestContext.</p>",
        "id": 190108369,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1583782292
    },
    {
        "content": "<p>due to this change, please remember to build and package <code>fhir-config</code> into your development servers, or else every request will fail</p>",
        "id": 190108531,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1583782374
    },
    {
        "content": "<p>also, I think we've had a recent change to fhir-examples, so be sure to rebuild that before kicking off the full project build locally</p>",
        "id": 190108584,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1583782407
    },
    {
        "content": "<p>Hey... Lee just started a merge of <a href=\"https://github.com/IBM/FHIR/pull/778\" target=\"_blank\" title=\"https://github.com/IBM/FHIR/pull/778\">https://github.com/IBM/FHIR/pull/778</a>... please reinstall fhir-examples - mvn -f fhir-examples clean install</p>",
        "id": 190410146,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1584030053
    },
    {
        "content": "<p>We've just merged <a href=\"https://github.com/IBM/FHIR/pull/939\" title=\"https://github.com/IBM/FHIR/pull/939\">https://github.com/IBM/FHIR/pull/939</a> to the master branch.  This PR changes our default keystores from JKS to PCKS12 and reconfigures our server.xml to take advantage of configDropins (to align with the open-liberty image).<br>\nIf you have a local development server, please consider updating you server config to align with this new approach.</p>",
        "id": 194939371,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1587565768
    },
    {
        "content": "<p>please feel free to ask questions of us, we're happy to answer</p>",
        "id": 194939518,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1587565814
    },
    {
        "content": "<p>Some more important server config changes are coming in <a href=\"https://github.com/IBM/FHIR/pull/998\" title=\"https://github.com/IBM/FHIR/pull/998\">https://github.com/IBM/FHIR/pull/998</a><br>\nThe benefit of these changes is that:</p>\n<ol>\n<li>our default config becomes more in-line with what fhir clients expect wrt having the metadata and well-known endpoints available (where they introspect the security from); and</li>\n<li>when JWTs are enabled, we now get injected with the user token so we can add code that does access control decisions based on that (putting us in position to support SMART app launch)</li>\n</ol>",
        "id": 195737774,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1588178484
    },
    {
        "content": "<p>If you maintain a local server, you may want to pick up the server.xml updates (or reconcile with your local copy)</p>",
        "id": 195737814,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1588178511
    },
    {
        "content": "<p>Hi everyone, for those staying current with ibm/fhir the master branch, please be sure to import <code>fhir-ig-davinci-pdex-plan-net</code> into your workspace.  it's a new module for a new profile wer're starting to support.  Also, we've up versioned to <code>4.2.2-SNAPSHOT</code>, please re-install <code>mvn clean install -DskipTests -f fhir-examples</code></p>",
        "id": 196943031,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1588967757
    },
    {
        "content": "<p>Hi everyone, for those staying current with ibm/fhir the master branch, please be sure to import fhir-term into your workspace. it's a new module for terminology support.</p>",
        "id": 198803316,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1590518352
    },
    {
        "content": "<p>Please import fhir-operation-term into your workspaces.</p>",
        "id": 199485130,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1591101922
    },
    {
        "content": "<p>I'm pulling the trigger on <a href=\"https://github.com/IBM/FHIR/pull/1207\">https://github.com/IBM/FHIR/pull/1207</a>.<br>\nThis pull request moves some modules into subdirectories, so if you have a workspace with these project you will want to:</p>\n<ol>\n<li>delete the <code>fhir-operation-*</code>, <code>fhir-ig-*</code>, and <code>fhir-notification-*</code> projects from your workspace</li>\n<li>git pull (or rebase)</li>\n<li>re-import all the <code>fhir-operation-*</code>, <code>fhir-ig-*</code>, and <code>fhir-notification-*</code> projects</li>\n</ol>",
        "id": 200443976,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1591808091
    },
    {
        "content": "<p>Hey everyone, I forgot to warn those that follow master.  Please be sure to update fhir-examples - <code>mvn clean install -f fhir-examples</code></p>",
        "id": 203267096,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1594215105
    },
    {
        "content": "<p>I added some GroupToSearchQuery examples</p>",
        "id": 203267115,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1594215120
    },
    {
        "content": "<p>New module alert:  with <a href=\"https://github.com/IBM/FHIR/pull/1400\">https://github.com/IBM/FHIR/pull/1400</a> we just introduced a new module <code>fhir-smart</code> which adds </p>\n<ol>\n<li>a sample config for configuring the FHIR Server to act as an OAuth \"Resource Server\" in combination with a locally-deployed instance of Keycloak, and open source identity and access management platform; and</li>\n<li>a PersistenceInterceptor for checking the resources of the current interaction against the approved SMART \"scopes\" in the passed bearer token</li>\n</ol>",
        "id": 206291834,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1596824227
    },
    {
        "content": "<p>If you're keeping a development workspace up-to-date, then please don't forget to import this new module.</p>",
        "id": 206291941,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1596824285
    },
    {
        "content": "<p>recently merged <a href=\"https://github.com/IBM/FHIR/pull/1411\">https://github.com/IBM/FHIR/pull/1411</a> which adds language code validation during resource object construction and updates our examples with valid codes, so don't forget to rebuild <code>fhir-examples</code> after updating</p>",
        "id": 206939826,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1597418078
    },
    {
        "content": "<p>Reminder: those that follow main/master, please update fhir-examples and import the new module <code>fhir-ig-davinci-pdex-formulary</code></p>",
        "id": 208222314,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1598537813
    },
    {
        "content": "<p>we've made some more tweaks to the <code>fhir-examples</code> and we have another set coming (likely tomorrow) so don't forget to rebuild fhir-examples if you're staying up-to-date</p>",
        "id": 208753866,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1598997230
    },
    {
        "content": "<p>Due to the fhir-configuration updates associated with releases 4.4.1 and 4.4.2, if you have a local development server you will need to update the shared libraries (shared/lib/fhir) or create a new server from the release (liberty 20.0.0.9)</p>",
        "id": 214185070,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1603372645
    },
    {
        "content": "<p>We've merged a big change into master branch:  <a href=\"https://github.com/IBM/FHIR/pull/1604\">https://github.com/IBM/FHIR/pull/1604</a><br>\nThis is a schema change which affects how we store reference values to make the server much more efficient.<br>\nWe've also updated the projects to 4.5.0-SNAPSHOT.<br>\nWe'll have complete migration steps as part of the 4.5.0 release, but if you have a development server that is tracking master you'll probably want to:</p>\n<ol>\n<li>rebuild fhir-examples to pick up 4.5.0-SNAPSHOT before your next fhir-parent build</li>\n<li>delete the database and start fresh</li>\n</ol>\n<p>For the official release, migration will include invoking a new <code>$reindex</code> operation that was delivered in the same PR.</p>",
        "id": 214959262,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1603974602
    },
    {
        "content": "<p>just merged <a href=\"https://github.com/IBM/FHIR/pull/1767\">https://github.com/IBM/FHIR/pull/1767</a> which sets the server timezone to UTC by default...something we generally recommend but have never made the default until now.  If you happen to be running a local development server, we recommend you add this setting to your local server.env to match.</p>",
        "id": 218470204,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1606851242
    },
    {
        "content": "<p>we've bumped our project poms to 4.6.0-SNAPSHOT, so don't forget to rebuild fhir-examples if you're keeping up with master</p>",
        "id": 220307651,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1608241667
    },
    {
        "content": "<p>Quick quick reminder... if you are following the main branch for IBM FHIR Server, please import the latest projects such as fhir-cache and fhir-term-remote projects into your workspace (also worth mentioning there may be more such as fhir-term-graph, fhir-operation-everything).</p>",
        "id": 235839883,
        "sender_full_name": "Paul Bastide",
        "timestamp": 1619184513
    },
    {
        "content": "<p>just pressed merge on <a href=\"https://github.com/IBM/FHIR/pull/2298\">https://github.com/IBM/FHIR/pull/2298</a> …folks on main will need to rebuild fhir-examples and you workspace might take a bit to rebuild</p>",
        "id": 236558965,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1619635907
    }
]