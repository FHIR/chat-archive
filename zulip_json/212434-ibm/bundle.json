[
    {
        "content": "<p>Is there a specific order for resources while posting bundles? I encountered a specific case, lets say I have a patient resource and practitioner resource where Patient  resource occurs first in bundle and Practitioner occurs next , and Practitioner is referenced by Patient with BOTH RESOURCES HAVING CONDITIONAL CREATE  then the reference from Patient resource to Practitioner resource is not built by the server. <br>\nIS THIS THE EXPECTED BEHAVIOUR? <br>\nIf it is and one should arrange resource bundle how should resources be posted with conditional create eg: Encounter and Condition(which reference each other)<br>\nThe reference is being built by server if conditional create was disabled</p>",
        "id": 228538997,
        "sender_full_name": "Yogesha K",
        "timestamp": 1614749123
    },
    {
        "content": "<p>If you are talking about the processing of local references within bundles, then the order of the entries within the bundle generally does not matter (see <a href=\"https://ibm.github.io/FHIR/guides/FHIRServerUsersGuide#48-using-local-references-within-request-bundles\">https://ibm.github.io/FHIR/guides/FHIRServerUsersGuide#48-using-local-references-within-request-bundles</a> for details). However, if using conditional create, that entry must appear in the bundle before an entry with a reference to that entry. So in your example, the Practitioner entry must come first if the Patient entry is referencing the Practitioner.</p>",
        "id": 228592723,
        "sender_full_name": "Mike Schroeder",
        "timestamp": 1614779054
    },
    {
        "content": "<p>In the case where two conditional create entries reference each other, only one reference will be resolved correctly. In your example, if the Encounter entry were first in the bundle and the Condition entry were second, then only the Condition's reference to the Encounter would be resolved correctly. This is because for conditional creates, we don't know the logical ID to use (could be the ID of the a newly created resource or the ID of an existing resource) until the conditional create is completed. So when the Encounter resource is processed, we don't know what the logical ID of the Condition resource will be, so we cannot resolve the Encounter's reference to the Condition resource.</p>",
        "id": 228596099,
        "sender_full_name": "Mike Schroeder",
        "timestamp": 1614780234
    }
]