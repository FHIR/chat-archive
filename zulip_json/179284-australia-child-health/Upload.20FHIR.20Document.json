[
    {
        "content": "<p>Hi All,<br>\nI'm working on a requirement where the client system will be uploading FHIR document in a central FHIR repository. </p>\n<p>Summary: <br>\nThe client system will be uploading FHIR document (Bundle with Composition being the first resource). However the requirement is to include the details of the person who has provided the Consent that the document can be uploaded. As per project's policy/privacy rules, the details of the Consenter  can not be included in the same Bundle (immutable FHIR document). I'm thinking of modelling this using a custom FHIR operation $upload added on Bundle. This will be a POST operation and the Parameters resource of $upload will be containing the the following list of IN Parameters: <br>\n1&gt; payload- Bundle with all relevant resources, Composition being the first entry. <br>\n2&gt; consenter - A Patient instance detailing the entity who has provided the consent during registration.  </p>\n<p>The outcome will be resulting an OperationOutcome detailing the informational/error/warning with more details.  </p>\n<p>Query: <br>\nIs this a good idea to solve this requirement using custom FHIR operation $upload? is there any alternative suggestion?</p>\n<p>Looping in <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>, <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , <span class=\"user-mention\" data-user-id=\"191333\">@Reuben Daniels</span> , <span class=\"user-mention\" data-user-id=\"196785\">@Nichol Hill</span> , <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span>  for comments/suggestion</p>",
        "id": 166597258,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1558913382
    },
    {
        "content": "<p>Just thinking aloud here - how about a transaction with a Bundle  which includes two Bundle entries - one for the document submission and in the second bundle a Consent resource (referencing the submitted document) and any other resources needed (Patient etc.)</p>",
        "id": 166606512,
        "sender_full_name": "Brett Esler",
        "timestamp": 1558929702
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> , thought of this option with providing the Patient as GET as the method. However was not sure if this can be called as transaction.  The Patient ( who has pre-provided the Consent) is kind of a pre-condition for the document to persist but that Patient reference is not used anywhere in Bundle persistence.  what do you think ?</p>",
        "id": 166606787,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1558930138
    },
    {
        "content": "<p>I think we may use transaction here.. Let's discuss this in the CWG tomorrow?  meanwhile let's see if there is any other suggestion from anyone else from the FHIR community.</p>",
        "id": 166607171,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1558930776
    },
    {
        "content": "<p>We are going ahead with the transaction approach. We will only re-visit this option if we encounter any technical issue during implementation.  thanks <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span>  and <span class=\"user-mention\" data-user-id=\"191682\">@Richard Townley-O'Neill</span>  for  sharing suggestions.</p>",
        "id": 166766589,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1559083176
    }
]