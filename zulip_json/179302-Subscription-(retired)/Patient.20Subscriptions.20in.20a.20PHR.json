[
    {
        "content": "<p>Hi - looking for any advice or insight people may have regarding the ability to allow Patients to subscribe to changes in their own FHIR based Personal Health Record. </p>\n<p>For example; a patient wants to be informed by SMS when an appointment is created in their record. The subscription resource at first glance seems to be appropriate - the parameters specified include one for subject=patient.  We can ensure that parameter must be specified through API access control so that patients only get notifications of their own appointment. The only problem is that they also need to be able to manage the subscriptions they have created - but subscription has no concept of 'owner' or subject - so how would it be possible to query all the subscriptions that a given Patient has created? </p>\n<p>I also considered CommunicationRequest - this does have recipient but seems to be more about a request to send a piece of information rather than a request to receive a notification when information is added to the PHR.</p>\n<p>Any suggestions on how this can be implemented are appreciated.</p>\n<p>Regards,</p>\n<p>Andy</p>",
        "id": 153946600,
        "sender_full_name": "Andy Kendall",
        "timestamp": 1521562145
    },
    {
        "content": "<p>have you looked at provenance?</p>",
        "id": 153946649,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521572994
    },
    {
        "content": "<p>Would seem to be a useful kind of Subscription... I guess generically it would be a Subscription to a compartment? Where you have a specific instance of a subject compartment.</p>",
        "id": 153946668,
        "sender_full_name": "John Moehrke",
        "timestamp": 1521575285
    },
    {
        "content": "<p>Yes I think that's it - although I would say it is already possible to create a subscription <strong>to</strong> a compartment by specifying the correct criteria e.g. <em>Appointment?patient={patient id}</em>. What would be useful is to be able to create the Subscription <strong>within</strong> a compartment - one way would be to add a new data element \"Subscriber\" which is a reference of type Patient, Practitioner, Device etc.</p>",
        "id": 153946794,
        "sender_full_name": "Andy Kendall",
        "timestamp": 1521622736
    },
    {
        "content": "<blockquote>\n<p>have you looked at provenance?</p>\n</blockquote>\n<p>Thanks Graheme - yes I guess Provenance could be used for this - and perhaps that is the answer for our purposes today. Although it seems a little like a workaround - would the addition of a \"Subscriber\" element as I have described in response to John be worth consideration?</p>",
        "id": 153946795,
        "sender_full_name": "Andy Kendall",
        "timestamp": 1521622992
    },
    {
        "content": "<p>you could certainly create a task for that. I'm interested to see other comments here about the idea... would it be linked to access control?</p>",
        "id": 153946818,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521632535
    },
    {
        "content": "<p>For us it would be linked to access control in that users would only be able to perform CRUD operations on Subscription resources within the compartment(s) that they have access to. I'll wait a day or two for any further opinions and then add a task on gforge.</p>",
        "id": 153946836,
        "sender_full_name": "Andy Kendall",
        "timestamp": 1521638250
    },
    {
        "content": "<p>It might seem logical to an app to be able to just ask a Server to notify it when ever anything that the app has rights to is available... however this is a very difficult thing to do in practice. In other threads this kind of asking for everything the app has rights to is seem as a shortcut to the app design being done following privacy-by-design, security-by-design, and overall having a clear scope of what the app really needs.</p>",
        "id": 153946878,
        "sender_full_name": "John Moehrke",
        "timestamp": 1521648290
    }
]