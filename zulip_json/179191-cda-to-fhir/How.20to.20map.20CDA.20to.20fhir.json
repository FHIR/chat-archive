[
    {
        "content": "<p>Hi everyone! I have a project to do for my school and I need to map CDA to FHIR. Do you have any tips to figure out how to do? Thank you in advance to any one who may be able to give me some ideas</p>",
        "id": 176780327,
        "sender_full_name": "Anthony Dagneaux",
        "timestamp": 1569613887
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"241879\">@Anthony Dagneaux</span>, you must have a particularly nasty professor...</p>\n<p>There's been quite a bit of work on mapping the Consolidated CDA (C-CDA) spec to FHIR.  You can see the discussion here: <a class=\"stream\" data-stream-id=\"179273\" href=\"/#narrow/stream/179273-CCDA-.2F-FHIR-mapping-stream\">#CCDA / FHIR mapping stream</a>.  However, the base CDA specification is extremely abstract.  The same information can be represented numerous ways and different CDA implementations might have different interpretations of the same data structures.  As a result, unless you're just mapping the CDA header, reliable mappings are pretty much impossible unless you're mapping to and from a relatively strict set of templates that indicate exactly how the CDA instance should be constructed and what each element means.</p>",
        "id": 176802079,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1569636119
    },
    {
        "content": "<p>Thank you for your answer! I asked for more details to my teacher, and he said that I need to work with CDA-R2. I will check your link, thanks again :)</p>",
        "id": 176827642,
        "sender_full_name": "Anthony Dagneaux",
        "timestamp": 1569679855
    },
    {
        "content": "<p>Then I  would focus on mapping the header.  If he wants you to do more, suggest that he comes here to discuss.</p>",
        "id": 176827913,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1569680387
    },
    {
        "content": "<p>Ok I will focus my work on the headers. I will try to find if someone has already done something. Thank you again for your time!</p>",
        "id": 176828452,
        "sender_full_name": "Anthony Dagneaux",
        "timestamp": 1569681335
    },
    {
        "content": "<p>see also the fhir cda logical model <a href=\"https://github.com/HL7/cda-core-2.0/\" target=\"_blank\" title=\"https://github.com/HL7/cda-core-2.0/\">https://github.com/HL7/cda-core-2.0/</a> which can be used as a base for mapping</p>",
        "id": 176829438,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1569683073
    },
    {
        "content": "<p>Thanks a lot! Actually I'm trying to identify the resources that I need to use for the mapping :) Will keep you informed of my progress!</p>",
        "id": 178187405,
        "sender_full_name": "Anthony Dagneaux",
        "timestamp": 1571142345
    },
    {
        "content": "<p>Just some thoughts: Production quality FHIR to CDA (the reverse process) is just about as picky, and took me with a team of 3 about 6 months.  Definately want to keep the scope small.  Lantana did some work here based on XSLT 2.0, which I eventually managed to get working in XSLT 1.0 but it still needs a good bit of work to be production quality.  It's completely adequate for a class project (or for what I'd think of as prototype needing about 4 man-months to clean up that marketing would want to ship next week).</p>",
        "id": 180207745,
        "sender_full_name": "Keith Boone",
        "timestamp": 1573197136
    },
    {
        "content": "<p>The most relevant work on establishing guidance on how to map C-CDA to FHIR (IMO) can be found here: <br>\n<a href=\"https://confluence.hl7.org/display/SOA/Project+Documents\" target=\"_blank\" title=\"https://confluence.hl7.org/display/SOA/Project+Documents\">https://confluence.hl7.org/display/SOA/Project+Documents</a></p>\n<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> , <span class=\"user-mention\" data-user-id=\"195654\">@Matt Lord</span> Can one of you please post info that links to the ballot materials for this work in the HL7 ballot site?</p>",
        "id": 189969920,
        "sender_full_name": "Lisa Nelson",
        "timestamp": 1583585997
    },
    {
        "content": "<p>Hi,</p>\n<p>This may sound like a dumb question. Im converting the CCDA to FHIR resources, We wanted to get the problems List section data from CCDA. Im using the Condition resource for this.</p>\n<p>What I see is not many CCDA uses the ICD.10 code to capture the problem. Sometime they use the &lt;Translation value&gt; where they mention the ICD codes. Many times in the value section, they have only SNOMED.</p>\n<p>Is there a CCDA standard that enforces the EMR to provide both these codes?</p>",
        "id": 204175503,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1594968831
    },
    {
        "content": "<p>Not that I know of, but you might look at <a href=\"https://www.nlm.nih.gov/research/umls/mapping_projects/snomedct_to_icd10cm.html\">https://www.nlm.nih.gov/research/umls/mapping_projects/snomedct_to_icd10cm.html</a> as a way to get to the ICD-10-CM codes when all you have is SNOMED CT.</p>",
        "id": 204197701,
        "sender_full_name": "Keith Boone",
        "timestamp": 1594987509
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191387\">@Keith Boone</span>  it was late reply but I could make my clients understand the context better.</p>",
        "id": 220807947,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608743772
    },
    {
        "content": "<p>I'm also curious if there is any functional tool out there in the market that is useful for doing mapping between CCDA &amp; FHIR</p>",
        "id": 220807996,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608743809
    },
    {
        "content": "<p>Also I have a question is there a straightforward approach to do the conversion from CCD/CCDA to FHIR. <br>\nI could see this link mentioned here.. <a href=\"https://wiki.hl7.org/Using_the_FHIR_Validator_to_transform_content\">https://wiki.hl7.org/Using_the_FHIR_Validator_to_transform_content</a><br>\nThere is a validation jar download link and they've provided the CCDA to FHIR transformation logic they've mentioned. But it doesn't seem to work in straightforward manner. Also seems like i'm not the first person who tried it. There is an existing issue raised here <a href=\"https://github.com/HL7/ccda-to-fhir/issues/2\">https://github.com/HL7/ccda-to-fhir/issues/2</a> </p>\n<p>Either HL7 needs to remove this misleading page <a href=\"https://wiki.hl7.org/Using_the_FHIR_Validator_to_transform_content\">https://wiki.hl7.org/Using_the_FHIR_Validator_to_transform_content</a> or we definitely need to build an opensource tool that will convert CCDA to FHIR</p>",
        "id": 220852169,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608791377
    },
    {
        "content": "<p>(side note: the HL7 Wiki is no longer used nor updated. It's still there to preserve the historic record. All such pages have been moved to Confluence)</p>",
        "id": 220853951,
        "sender_full_name": "René Spronk",
        "timestamp": 1608794315
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191372\">@René Spronk</span>  Thank you.Can you please point me to the CCDA to FHIR section in confluence?. I did see another implementation here it was done very well.  One challenge is that it works only on DSTU2 approach<br>\n<a href=\"https://github.com/srdc/cda2fhir\">https://github.com/srdc/cda2fhir</a> The mapping sheet provided by them also looks really good and its open accessible for all. <a href=\"https://docs.google.com/spreadsheets/d/15Kv6PFyPh91sH1JMYwLH7D2yjh4HOTy5pjETjQNRyaU/edit#gid=0\">https://docs.google.com/spreadsheets/d/15Kv6PFyPh91sH1JMYwLH7D2yjh4HOTy5pjETjQNRyaU/edit#gid=0</a></p>",
        "id": 220854813,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608795847
    },
    {
        "content": "<p>I'm not an expert on the subject, CCDA is a US-only implementation guide. <span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> <span class=\"user-mention\" data-user-id=\"191407\">@Rick Geimer</span> </p>\n<p>I do have the following links on file: </p>\n<p>Argonaut “CCDA on FHIR” project <br>\n<a href=\"http://www.hl7.org/fhir/us/ccda/\">http://www.hl7.org/fhir/us/ccda/</a><br>\nNot a mapping, but a functional equivalent of ‘CCDA on HL7v3’</p>\n<p>CDA Logical Model &amp; FHIR Mapping Language<br>\n<a href=\"http://build.fhir.org/ig/ahdis/cda-core-2.0/branches/master/index.html\">http://build.fhir.org/ig/ahdis/cda-core-2.0/branches/master/index.html</a> </p>\n<p>Microsoft CDA Mapping<br>\n<a href=\"https://github.com/microsoft/FHIR-Converter\">https://github.com/microsoft/FHIR-Converter</a><br>\nUses Handlebar templates</p>\n<p>Google<br>\n<a href=\"https://github.com/GoogleCloudPlatform/healthcare-data-harmonization/blob/master/mapping_language/doc/reference.md\">https://github.com/GoogleCloudPlatform/healthcare-data-harmonization/blob/master/mapping_language/doc/reference.md</a><br>\nUses Whistle</p>\n<p>See also <a href=\"https://github.com/HL7/ccda-to-fhir/\">https://github.com/HL7/ccda-to-fhir/</a> , although I'm not aware as to how 'up to date' that material is.</p>",
        "id": 220855041,
        "sender_full_name": "René Spronk",
        "timestamp": 1608796284
    },
    {
        "content": "<p>thank you for the pointers</p>",
        "id": 220855475,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608797021
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"202825\">@Vibin_chander</span> the confluence page is here: <a href=\"https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Mapping+Language\">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Mapping+Language</a>, note that the CDA (not CCDA) Logical Model source is here: <a href=\"https://github.com/HL7/cda-core-2.0\">https://github.com/HL7/cda-core-2.0</a> . How to use the CDA logical model with the java validator you can also check out: <a href=\"https://github.com/ahdis/cda-core-2.0/blob/develop/tutorial.md\">https://github.com/ahdis/cda-core-2.0/blob/develop/tutorial.md</a> . We don't have experience with CCDA, maybe <span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> can point you to further information.</p>",
        "id": 220855708,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1608797359
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span>  Thank you for the inputs I have two questions. </p>\n<ol>\n<li>\n<p>The example mentioned here uses this map [http://fhir.ch/ig/cda-fhir-maps/StructureMap/CdaChEmedMedicationCardDocumentToBundle] What should be the map we should use to check the entire CCDA to FHIR?</p>\n</li>\n<li>\n<p>When I validated the CCDA I have it is giving me 9 errors. Against what standard this validate_cli.jar is validating the CCDA with?</p>\n</li>\n</ol>",
        "id": 220859294,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608802656
    },
    {
        "content": "<p>Note that the mappings supplied by Oliver are for a Swiss CDA implementation guide, and not for the US CCDA project. You'll first have to find those.  CCDA is an implementation of CDA, and as such should validate against the logical model representation of CDA.</p>",
        "id": 220861416,
        "sender_full_name": "René Spronk",
        "timestamp": 1608805641
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"191372\">@René Spronk</span>  this is catch22 scenario. A Paradox. We have standards. But problem is we have different standards for different places. So, It's standard but not universal unlike some automobile industry. Where certain manufacturing standards are same.</p>\n<p>Even in the FHIR world. If you take the concept of profiling. US core profile, Carin BB profile etc exist. But people build their own profile on top of these profiles. Meaning they profile a existing profile. In this case the meaning of interoperability becomes even more difficult.</p>",
        "id": 220861934,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608806325
    },
    {
        "content": "<p>I think we need to live with this. Or A international interoperability profile need to be adopted.</p>",
        "id": 220861951,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608806401
    },
    {
        "content": "<p>For example - Swiss Core Profile, US core Profile, German Core Profile. But base profile is R4. If you need any further implementation on top of that then all of them should be just extensions added in these profiles. Instead of Building a own profile.</p>",
        "id": 220862032,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608806489
    },
    {
        "content": "<p>There are lot of practical difficulties with CCDA. Although EMR has provided standards for building it. People who export these CCDA dont do it properly. It results in very malformed ccda</p>",
        "id": 220862126,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608806632
    },
    {
        "content": "<p>Undoubtedly not all implementations of interoperability standard play fully by the rules, and there will be non conformance instances. That's a fact of life. We have one core standard, and many different contexts where that standard is being used, thus a need for conformance rules/profiles. FHIR Core is as good as its gets in terms of defining a framework standard that's fit for international use (i.e. context agnostic). Nevertheless, the general approach to the mapping of CDA to FHIR will be the same (as will the tooling used), regardless of what particular CDA Implementation Guide one is using. <br>\nIf you have an interest ion mapping CCDA, then you'll either have to find an existing mapping (which may well exist somewhere), or create one of your own (and share it afterwards, so others don't have to reinvent the wheel).</p>",
        "id": 220862465,
        "sender_full_name": "René Spronk",
        "timestamp": 1608807121
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191372\">@René Spronk</span>  Thank you I'm starting this process soon. Will put my mapping opensource and subject it to review for people</p>",
        "id": 220863271,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608808137
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"202825\">Vibin_chander</span> <a href=\"#narrow/stream/179191-cda-to.20fhir/topic/How.20to.20map.20CDA.20to.20fhir/near/220859294\">said</a>:</p>\n<blockquote>\n<ol>\n<li>The example mentioned here uses this map [http://fhir.ch/ig/cda-fhir-maps/StructureMap/CdaChEmedMedicationCardDocumentToBundle] What should be the map we should use to check the entire CCDA to FHIR?</li>\n</ol>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191372\">@René Spronk</span> summarised it already very good, if there are some mappings for CCDA available use those (<span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> , <span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span> ? ), otherwise you need to build your own. Feel free to start from <a href=\"https://github.com/hl7ch/cda-fhir-maps/tree/master/input/maps\">https://github.com/hl7ch/cda-fhir-maps/tree/master/input/maps</a>, the base maps are not Swiss specific (<a href=\"https://github.com/hl7ch/cda-fhir-maps/blob/master/input/maps/BundleToCda.map\">https://github.com/hl7ch/cda-fhir-maps/blob/master/input/maps/BundleToCda.map</a>)</p>",
        "id": 220864315,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1608809636
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"202825\">Vibin_chander</span> <a href=\"#narrow/stream/179191-cda-to.20fhir/topic/How.20to.20map.20CDA.20to.20fhir/near/220859294\">said</a>:</p>\n<blockquote>\n<ol start=\"2\">\n<li>When I validated the CCDA I have it is giving me 9 errors. Against what standard this validate_cli.jar is validating the CCDA</li>\n</ol>\n</blockquote>\n<p>Depending on what Logical Model you provided for the validator. If you followed the tutorial it would be against the CDA Logical Model. I assume it are mostly terminology errors?</p>",
        "id": 220864612,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1608810028
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span>  yes they're terminology error</p>",
        "id": 220864967,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1608810549
    },
    {
        "content": "<p>terminology are an open issue which needs to be tackled in the CDA model / validation</p>",
        "id": 220868447,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1608814769
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span>  thanks for sharing the links to cda-fhir-maps project. very interesting. wondering if this project is intended to cover mapping for other sections in C-CDA.</p>",
        "id": 220908224,
        "sender_full_name": "AJ Chen",
        "timestamp": 1608878527
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191372\">@René Spronk</span>  Thanks for the links. The microsoft FHIR converter sounds like it covers CDA-FHIR conversion. But the project only has ADT sample data. Anyone has used the microsoft fhir converter to convert various CDA documents?</p>",
        "id": 220908337,
        "sender_full_name": "AJ Chen",
        "timestamp": 1608878848
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"307147\">@AJ Chen</span>  One challenge we will face with this CDA documents is the way the documents are exported from the EMR/PM Systems. Although all CCDA follows CDA architecture. Most cases are like the documents are exported in faulty structures. Some time's I've seen the EMR's also don't follow standards as expected.</p>\n<p><strong>The easy part:</strong></p>\n<p>The easier way to start is using the template ID's. Each section has their own template id for example for <strong>problems </strong>section the template id is <strong>2.16.840.1.113883.10.20.22.2.5.1</strong> which will be mapped to <strong>Condition </strong>FHIR resource. But certain things are optional for example: In some CCDA you can see SNOMED-CT code for the problem name and they'll provide the corresponding ICD code in the &lt;translation code&gt; section. But that's optional some CCDA have it some don't have it.</p>\n<p><strong>The complex part:</strong></p>\n<p>In some section like procedures with the template id 2.16.840.1.113883.10.20.22.2.7.1 which maps to procedure FHIR resource. Might be different in the root level of data. procedure  might come inside &lt;entry&gt;&lt;procedure&gt; or it can come inside &lt;entry&gt;&lt;act&gt; too. I need clarity on parsing this sections of CCDA.</p>",
        "id": 221113908,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1609221290
    },
    {
        "content": "<p>If you are talking about CDA to FHIR  conversion tool, it should be able to deal with messy data in the real world.</p>",
        "id": 221117802,
        "sender_full_name": "AJ Chen",
        "timestamp": 1609228352
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"202825\">Vibin_chander</span> <a href=\"#narrow/stream/179191-cda-to.20fhir/topic/How.20to.20map.20CDA.20to.20fhir/near/221113908\">said</a>:</p>\n<blockquote>\n<p><strong>The complex part:</strong><br>\nIn some section like procedures with the template id 2.16.840.1.113883.10.20.22.2.7.1 which maps to procedure FHIR resource. Might be different in the root level of data. procedure  might come inside &lt;entry&gt;&lt;procedure&gt; or it can come inside &lt;entry&gt;&lt;act&gt; too. I need clarity on parsing this sections of CCDA.</p>\n</blockquote>\n<p>The C-CDA clearly states that:<br>\n<em>Procedure Activity Procedure is for procedures that alter the physical condition of a patient (e.g., splenectomy).</em><br>\n<em>Procedure Activity Observation is for procedures that result in new information about a patient but do not cause physical alteration (e.g., EEG).</em><br>\n<em>Procedure Activity Act is for all other types of procedures (e.g., dressing change).</em><br>\nThe first and third ones will map to the Procedure resource, the second to the Observation.</p>",
        "id": 226329580,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1613342101
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192195\">@Shamil</span>  Thank you for this insight</p>",
        "id": 226557025,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1613500948
    },
    {
        "content": "<p>could you point me to the document that has this ccda explanation ?</p>",
        "id": 226557068,
        "sender_full_name": "Vibin_chander",
        "timestamp": 1613500973
    },
    {
        "content": "<p>C-CDA IG R2.1</p>",
        "id": 226565197,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1613504421
    }
]