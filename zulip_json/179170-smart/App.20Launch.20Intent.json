[
    {
        "content": "<p>We are planning on implementing \"intent\" (<a href=\"https://build.fhir.org/ig/HL7/smart-app-launch/scopes-and-launch-context.html#launch-intent\">https://build.fhir.org/ig/HL7/smart-app-launch/scopes-and-launch-context.html#launch-intent</a>) and are confused on how this is applied to both the standalone launch and EHR Launch.  </p>\n<p>For standalone launch is \"intent\" added as an additional parameter?</p>\n<div class=\"codehilite\"><pre><span></span><code>        https://ehr/authorize?\n        response_type=code&amp;\n        client_id=app-client-id&amp;\n        redirect_uri=https%3A%2F%2Fapp%2Fafter-auth&amp;\n        launch=xyz123&amp;\n        scope=launch+patient%2FObservation.rs+patient%2FPatient.rs+openid+fhirUser&amp;\n        state=98wrghuwuogerg97&amp;\n        aud=https://ehr/fhir&amp;\n        intent=reconcile-medications\n</code></pre></div>\n\n<p>For EHR launch is \"intent\" added as an additional parameter?</p>\n<div class=\"codehilite\"><pre><span></span><code>       https://app/launch?iss=https%3A%2F%2Fehr%2Ffhir&amp;launch=xyz123&amp;intent=reconcile-medications\n</code></pre></div>\n\n<p>Or is neither of the above correct and we'd use \"intent/reconcile-medications\" along with the scopes?</p>",
        "id": 270099503,
        "sender_full_name": "James Dinsmore",
        "timestamp": 1643660806
    },
    {
        "content": "<p>For a standalone launch there's no real value in <code>intent</code>, since the point of <code>intent</code> is to give an app some hint about <em>why</em> the app is being launched (and in a standalone launch the app itself is responsible for the decision to launch, so it doesn't need a hint).</p>",
        "id": 270100634,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1643661330
    },
    {
        "content": "<p>For EHR launch, <code>intent</code> is a context parameter passed <em>to the app</em> by the EHR as part of the access token response  (sibling to <code>patient</code>, <code>encounter</code>, and <code>access_token</code>).</p>",
        "id": 270100687,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1643661360
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> thank you for that explanation.  So is \"intent\" just a key-value pair placed in the body of a token POST?</p>",
        "id": 270138942,
        "sender_full_name": "James Dinsmore",
        "timestamp": 1643680509
    },
    {
        "content": "<p>Almost -- it's a <em>value</em> (associated with the <code>intent</code> key) <em>returned</em> by the EHR in the JSON body of the <em>response</em> to a token POST.</p>",
        "id": 270140687,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1643681817
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> <br>\nBased on the above my understanding is that when implementing \"intent\" it is on the EHR's authorization server to figure it out.  So some implementers may choose to just use a separate call instead of ehr-launch (where in our situation we plan to use ehr-launch).  If that's not accurate please let me know.</p>",
        "id": 270209834,
        "sender_full_name": "James Dinsmore",
        "timestamp": 1643722612
    },
    {
        "content": "<p>I'm not sure I understand. But to say it differently: <code>intent</code> is just a property that the EHR can pass to an app at the time of authorization to say something like \"here's the thing the user was trying to accomplish in the EHR when we launched you\" (e.g. so an app that might be relevant at several different places in the workflow of the EHR know which of its various functions to offer by default or perform first...)</p>",
        "id": 270216781,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1643724893
    }
]