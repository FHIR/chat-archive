[
    {
        "content": "<p>If I get a patient-restricted fhir.js client via smart.patient.api (looking at <a href=\"http://docs.smarthealthit.org/clients/javascript/\" target=\"_blank\" title=\"http://docs.smarthealthit.org/clients/javascript/\">http://docs.smarthealthit.org/clients/javascript/</a>), and I use fhir.js' \"transaction\" API (not documented but found it in the source code) to submit a batch of requests to search for Observations, will the API handle restricting those queries in the Bundle to the patient?</p>",
        "id": 168083318,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1560458510
    },
    {
        "content": "<p>Don't think so -- though you're asking about undocumented behavior, so the source code is probably more reliable than I am. (Incidentally you may be interested to know that <span class=\"user-mention\" data-user-id=\"193731\">@Vladimir Ignatov</span> is working on a \"v2\" library overhaul at <a href=\"https://github.com/smart-on-fhir/client-js\" target=\"_blank\" title=\"https://github.com/smart-on-fhir/client-js\">https://github.com/smart-on-fhir/client-js</a> .</p>",
        "id": 168175794,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1560550350
    },
    {
        "content": "<p>With the new v2 JavaScript client-js library, (<a href=\"http://docs.smarthealthit.org/client-js/client.html\">http://docs.smarthealthit.org/client-js/client.html</a>), is there a way to submit a batch of requests?  I have code that creates a bundle of a QuestionnaireResponse and derived (extracted) Observations which reference the QuestionnaireResponse's id, and would like to create them all in a single request.  Potentially, there could be a lot of requests to create extracted Observations if I have to do them individually.</p>",
        "id": 217315116,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1605812583
    },
    {
        "content": "<p>It turns out one can use the \"request\" function and pass in options to get it submit a bundle, like:</p>\n<div class=\"codehilite\"><pre><span></span><code>client.request({url: &#39;&#39;, method: &#39;POST&#39;,\n  headers: {&#39;Content-Type&#39;: &#39;application/json&#39;},\n  body: JSON.stringify(bundle)}).then(...\n</code></pre></div>",
        "id": 217330680,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1605820236
    }
]