[
    {
        "content": "<p>A first daft of a proposed HL7 Australia Profile is now available here:<br>\n<a href=\"https://confluence.hl7australia.com/display/PA/FHIR+SMART+App+Launch+Australian+Profile+-+EHR+Launch\">https://confluence.hl7australia.com/display/PA/FHIR+SMART+App+Launch+Australian+Profile+-+EHR+Launch</a><br>\nAlong with a walkthrough illustrating it in action:<br>\n<a href=\"https://confluence.hl7australia.com/display/PA/FHIR+SMART+App+Launch+Walkthrough\">https://confluence.hl7australia.com/display/PA/FHIR+SMART+App+Launch+Walkthrough</a></p>\n<p>This is not intended to change the base SMART stuff, but refine usage, digital certificates used in Australia (which have an organizational identifier in them, and widely used), and how to access practitionerRole data to get at the most commonly used practitioner identifier (which is at the location level, not on the practitioner)<br>\nAny feedback on these will be welcomed.</p>",
        "id": 246550738,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1626763953
    },
    {
        "content": "<p>For developers writing confidential apps now (without legacy SMART support), the SMARTv2 defined capability of \"client-confidential-<strong>a</strong>symmetric\" should definitely be used. It's just better security.</p>",
        "id": 247236704,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1627321591
    },
    {
        "content": "<p>We went for a few years without OIDC support as part of our OAuth2/SMART server and it was a bit painful. It'll be easier/better in the long run to require OIDC out of the box. It's necessary for more advanced federation scenarios or complex app architectures, and consistently a strong recommendation from identity architects.</p>",
        "id": 247237006,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1627321733
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>, <span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> , <span class=\"user-mention\" data-user-id=\"191864\">@Isaac Vetter</span> just seeking an opinion on the extra claim in the id_token having the PractitionerRole or practitionerrole or practitionerRole claim (case sensitivity question)<br>\nAustralian documentation has pR my code has pr</p>",
        "id": 249090897,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1628678157
    },
    {
        "content": "<p>(code not in prod yet, so can change either relatively easily)</p>",
        "id": 249091061,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1628678265
    },
    {
        "content": "<p>In our launch context requests we settled on all lowercase (for context based on resources). But I don't have a strong opinion.</p>",
        "id": 249120264,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1628694092
    },
    {
        "content": "<p>(phew, that's what the sample code has, so I'll arbitrarily select to go with you and update the documentation - and that's quicker)</p>",
        "id": 249162534,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1628712427
    },
    {
        "content": "<p>I've written a test SMART App that can assist in debugging your SMART host...<br>\n<a href=\"https://smartqedit4.azurewebsites.net/ts/Tester/smart-launch.html\">https://smartqedit4.azurewebsites.net/ts/Tester/smart-launch.html</a><br>\ntry it out here:<br>\n<a href=\"https://launch.smarthealthit.org/ehr.html?app=https%3A%2F%2Fsmartqedit4.azurewebsites.net%2Fts%2FTester%2Fsmart-launch.html%3Flaunch%3DeyJhIjoiMSIsImUiOiI2MGM5ZmU2My1kOWU2LTRlNWUtOGQ1Yy1mOTFiN2ZjNzU0MTkiLCJmIjoiMSJ9%26iss%3Dhttps%253A%252F%252Flaunch.smarthealthit.org%252Fv%252Fr4%252Ffhir&amp;user=60c9fe63-d9e6-4e5e-8d5c-f91b7fc75419\">https://launch.smarthealthit.org/ehr.html?app=https%3A%2F%2Fsmartqedit4.azurewebsites.net%2Fts%2FTester%2Fsmart-launch.html%3Flaunch%3DeyJhIjoiMSIsImUiOiI2MGM5ZmU2My1kOWU2LTRlNWUtOGQ1Yy1mOTFiN2ZjNzU0MTkiLCJmIjoiMSJ9%26iss%3Dhttps%253A%252F%252Flaunch.smarthealthit.org%252Fv%252Fr4%252Ffhir&amp;user=60c9fe63-d9e6-4e5e-8d5c-f91b7fc75419</a></p>",
        "id": 249165474,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1628714014
    },
    {
        "content": "<p>And using it I notice that the profile/fhirUser properties in the <a href=\"http://launch.smarthealthir.org\">launch.smarthealthir.org</a> test host don't have full URLs for the practitioner - should they?</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n    <span class=\"nt\">\"profile\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Practitioner/60c9fe63-d9e6-4e5e-8d5c-f91b7fc75419\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"fhirUser\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Practitioner/60c9fe63-d9e6-4e5e-8d5c-f91b7fc75419\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"aud\"</span><span class=\"p\">:</span> <span class=\"s2\">\"16cbfe7c-6c56-4876-944f-534f9306bf8b\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"sub\"</span><span class=\"p\">:</span> <span class=\"s2\">\"c39e6e5f8ba2fb8c105ebe5d7e778412d43bd7ceceb3bcc569ea6b75928a535d\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"iss\"</span><span class=\"p\">:</span> <span class=\"s2\">\"https://launch.smarthealthit.org/v/r4/fhir\"</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"iat\"</span><span class=\"p\">:</span> <span class=\"mi\">1628714028</span><span class=\"p\">,</span>\n    <span class=\"nt\">\"exp\"</span><span class=\"p\">:</span> <span class=\"mi\">1628717628</span>\n<span class=\"p\">}</span>\n</code></pre></div>",
        "id": 249165835,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1628714178
    },
    {
        "content": "<p>We specify that they can be absolute, or relative to the \"aud\" server for a given launch.</p>",
        "id": 249169314,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1628716071
    },
    {
        "content": "<p>(Clarified this in the latest SMARTv2 block vote.)</p>",
        "id": 249169373,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1628716088
    },
    {
        "content": "<p>Relative to the auth server, will correct that in my code then. Thanks.</p>",
        "id": 249173510,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1628718351
    },
    {
        "content": "<p>Relative to the <em>FHIR resource server</em> passed into the authorization endpoint as <code>aud</code>.</p>",
        "id": 249182619,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1628724411
    },
    {
        "content": "<p>Cool, then I'm all good already then - thanks for the clarification.</p>",
        "id": 249192770,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1628736826
    }
]