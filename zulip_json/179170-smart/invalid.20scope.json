[
    {
        "content": "<p>I'm accessing the sandbox at: <a href=\"https://sb-fhir-stu3.smarthealthit.org/smartstu3/data\" target=\"_blank\" title=\"https://sb-fhir-stu3.smarthealthit.org/smartstu3/data\">https://sb-fhir-stu3.smarthealthit.org/smartstu3/data</a> as a confidential client in standalone launch sequence.</p>\n<p>It's all working fine, but when I request a scope of <code>patient/*.read</code> I get an 'invalid scope' error.  A scope of  <code>patient/*.*</code> is fine. I appreciate that this is legal - the server is saying that it won't grant read-only access - but is it deliberate?</p>",
        "id": 153926043,
        "sender_full_name": "David Hay",
        "timestamp": 1513631837
    },
    {
        "content": "<p>Some funny formatting here <span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> (you can use back-quotes to avoid having zulip clobber by interpreting your <code>*</code> as formatting). <span class=\"user-mention\" data-user-id=\"191414\">@Dan Gottlieb</span> can you comment on this sandbox behavior?</p>",
        "id": 153926056,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1513633602
    },
    {
        "content": "<p>oops - sorry about that :) fixed...</p>",
        "id": 153926057,
        "sender_full_name": "David Hay",
        "timestamp": 1513633633
    },
    {
        "content": "<p>btw - not infrequently getting an error: Request method 'POST' not supported plus stack trace - after I \"authorize an app until revoked\"...</p>",
        "id": 153926060,
        "sender_full_name": "David Hay",
        "timestamp": 1513634102
    },
    {
        "content": "<p>actually, it's consistently with this scope: <code>openid profile patient/*.*</code></p>",
        "id": 153926062,
        "sender_full_name": "David Hay",
        "timestamp": 1513634280
    },
    {
        "content": "<p>I'm not getting the scope error, but am hitting the stack trace after authorizing on every request - not sure if these are related. <span class=\"user-mention\" data-user-id=\"192233\">@Travis Cummings</span> is following up on the errors now. <span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span>- can you use <a href=\"https://launch.smarthealthit.org\" target=\"_blank\" title=\"https://launch.smarthealthit.org\">https://launch.smarthealthit.org</a> to test your app?</p>",
        "id": 153926067,
        "sender_full_name": "Dan Gottlieb",
        "timestamp": 1513637484
    },
    {
        "content": "<p>Hi Dan - about to go into a meeting, but will do so in an hour. Actually - right now it's still working (if I avoid that scope)...</p>",
        "id": 153926070,
        "sender_full_name": "David Hay",
        "timestamp": 1513637747
    },
    {
        "content": "<p>Interesting, I'm still getting the stack trace. In any case, <code>patient/*.read</code> should be a valid scope, so it's odd that it's erroring...</p>",
        "id": 153926075,
        "sender_full_name": "Dan Gottlieb",
        "timestamp": 1513638262
    },
    {
        "content": "<p>One other thought - in the sandbox, I think the scopes the app was registered with have to match the scopes the client is requesting. Any chance that's the issue?</p>",
        "id": 153926078,
        "sender_full_name": "Dan Gottlieb",
        "timestamp": 1513638986
    }
]