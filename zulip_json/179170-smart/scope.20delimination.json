[
    {
        "content": "<p>I'm using <a href=\"https://launch.smarthealthit.org/\">https://launch.smarthealthit.org/</a> to test my smart-on-fhir (client) implementation.<br>\nIt's my understanding that scopes are commonly delimited by a blank space. But it seems that this test client (<a href=\"http://launch.smarthealthit.org\">launch.smarthealthit.org</a>) seems to require that the scopes be delimited using a comma.<br>\nDoes anyone know why?</p>",
        "id": 198832992,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1590534611
    },
    {
        "content": "<p>Not sure what you mean. <a href=\"http://launch.smarthealthit.org\">launch.smarthealthit.org</a> does use space(s).</p>",
        "id": 198833667,
        "sender_full_name": "Vladimir Ignatov",
        "timestamp": 1590535214
    },
    {
        "content": "<p>Ok... so, here's my case:</p>\n<ol>\n<li>go to <a href=\"http://launch.smarthealthit.org\">launch.smarthealthit.org</a></li>\n<li>select a single provider (NOT a patient)</li>\n<li>launch app (specify url)</li>\n<li>app asks authorization for the following scopes: \"launch openid profile\"</li>\n<li><a href=\"http://launch.smarthealthit.org\">launch.smarthealthit.org</a> prompts the user to select a patient. this is where it is wrong. I've asked for it to be provider access (user/**), so why is it asking the user to select a patient? if I replace \"launch openid profile\" with \"launch,openid,profile\" then it does not ask the user to select a patient and continues forward in the flow just fine</li>\n</ol>",
        "id": 198834825,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1590536248
    },
    {
        "content": "<p>You still need a patient (if you are using  the <code>launch</code> or <code>launch/patient</code> scope) and if you didn't select one in advance, it will prompt you to do so after launch. The <code>user/*.*</code> scope just states that you want to be able to access the current user resources.</p>",
        "id": 198841360,
        "sender_full_name": "Vladimir Ignatov",
        "timestamp": 1590542860
    },
    {
        "content": "<p>so what is the appropriate scopes to apply that <em>doesn't</em> require a patient context, and indicates a system-wide access/context?</p>",
        "id": 198906172,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1590592263
    },
    {
        "content": "<p>it <em>seems</em> that removing \"launch\" from the scopes seems to have bypassed prompting the user for a patient... so, maybe that's the answer.</p>",
        "id": 198906933,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1590592595
    },
    {
        "content": "<p>Here is an easy way to experiment with that:</p>\n<ol>\n<li>Select a \"Provider Standalone Launch\" as a launch type</li>\n<li>Select a provider</li>\n<li>Optionally uncheck the \"Skip provider login screen\" and \"Skip app authorization screen\"</li>\n<li>Click on the \"Test with Sample App\" link</li>\n</ol>\n<p>This will then allow you to try different scopes and see the result</p>",
        "id": 198907986,
        "sender_full_name": "Vladimir Ignatov",
        "timestamp": 1590592975
    }
]