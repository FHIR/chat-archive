[
    {
        "content": "<p>If you're participating in the SMARTv2 Connectathon track next week, please fill out the <a href=\"https://docs.google.com/spreadsheets/d/1No3gg2xpvnBGHzPuYlirGBfuufGobp8_SVpIhGg9Ipc/edit#gid=1995302742\">sign up sheet</a> (and add to the \"Servers and Clients\" tab).</p>",
        "id": 222001444,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610053888
    },
    {
        "content": "<p>We've got the basics for Scenario 0-5 up and running at <a href=\"https://smart.argo.run/\">https://smart.argo.run/</a> (or, I hope we do -- I expect these updates will benefit from testing with y'all, in addition to our automated tests :-))</p>",
        "id": 222138041,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610147570
    },
    {
        "content": "<p>In case of any confusion about our schedule for the connectathon, here is the schedule we're planning:</p>\n<ul>\n<li>Wed 9a PT (12p ET). No meeting, but this is the target time for servers to be <em>up</em>, running, <a href=\"https://docs.google.com/spreadsheets/d/1No3gg2xpvnBGHzPuYlirGBfuufGobp8_SVpIhGg9Ipc/edit#gid=0\">endpoints documented</a>; stay online through the weekend or indefinitely</li>\n<li>Thu 8a PT (11am ET). <strong>Meet</strong> at <a href=\"http://gather.argo.run\">gather.argo.run</a> (password: \"fhir\") -- introductions, discuss plans / goals for the connectathon</li>\n<li>Thu 2p PT (5pm ET). <strong>Meet</strong> at <a href=\"http://gather.argo.run\">gather.argo.run</a> (password: \"fhir\") -- soft wrap for the day, share experiences, blockers</li>\n<li>Fri 8a PT (11am ET). <strong>Meet</strong> at <a href=\"http://gather.argo.run\">gather.argo.run</a> (password: \"fhir\") -- blockers, any hot topics</li>\n<li>Fri 2p PT (5p ET). <strong>Meet</strong> at <a href=\"http://gather.argo.run\">gather.argo.run</a> (password: \"fhir\") -- impressions, conclusions, next steps</li>\n</ul>",
        "id": 222332764,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610387642
    },
    {
        "content": "<p>(This is reflected <a href=\"https://confluence.hl7.org/pages/viewpage.action?pageId=97459091\">on Confluence</a> but not yet in the Whova schedule.)</p>",
        "id": 222332876,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610387690
    },
    {
        "content": "<p>It looks like perhaps the 'Additional Notes' column on that 'endpoints documented' spreadsheet wasn't cleared out since last connectathon? Any objections if I wipe it?</p>",
        "id": 222607316,
        "sender_full_name": "Max Philips",
        "timestamp": 1610555493
    },
    {
        "content": "<p>No objections!</p>",
        "id": 222611076,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610556984
    },
    {
        "content": "<p>Thanks.</p>",
        "id": 222611082,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610556988
    },
    {
        "content": "<p>we are waiting for you <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span></p>",
        "id": 222612985,
        "sender_full_name": "John Moehrke",
        "timestamp": 1610557646
    },
    {
        "content": "<p>the beer is flat</p>",
        "id": 222612999,
        "sender_full_name": "John Moehrke",
        "timestamp": 1610557654
    },
    {
        "content": "<p>Haha, that's what I get for making the gather available before the official start of the event :-)</p>",
        "id": 222613214,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610557724
    },
    {
        "content": "<p>I think now is your event time</p>",
        "id": 222613286,
        "sender_full_name": "John Moehrke",
        "timestamp": 1610557767
    },
    {
        "content": "<p>I just put this time on the calendar to remind server developers to make sure their server is up not for a group meeting. But I'll drop in momentarily</p>",
        "id": 222613290,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610557769
    },
    {
        "content": "<p>oh</p>",
        "id": 222613307,
        "sender_full_name": "John Moehrke",
        "timestamp": 1610557778
    },
    {
        "content": "<p>that was not clear</p>",
        "id": 222613315,
        "sender_full_name": "John Moehrke",
        "timestamp": 1610557782
    },
    {
        "content": "<p>If you scroll up here, you'll see \"No meeting\"</p>",
        "id": 222613330,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610557788
    },
    {
        "content": "<p>we are all calling for a Town Crier</p>",
        "id": 222613338,
        "sender_full_name": "John Moehrke",
        "timestamp": 1610557793
    },
    {
        "content": "<p>Spreadsheet is updated with Cerner's info and barring any bugs I've introduced everything should be up and testable. I could not update this document for Cerner's test server however: <a href=\"https://confluence.hl7.org/display/FHIR/Test+Servers\">https://confluence.hl7.org/display/FHIR/Test+Servers</a> (asked about getting access in connectathon mgmt)</p>",
        "id": 222613422,
        "sender_full_name": "Max Philips",
        "timestamp": 1610557816
    },
    {
        "content": "<p>Thanks Max! And thanks everyone for checking out the \"gather\" -- that was super fun to see the turn-out even for our \"non-meeting\" :p</p>",
        "id": 222615240,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610558540
    },
    {
        "content": "<p>If anyone hits a limit and can't join the gather, please ping me here; I haven't signed up for a \"full plan\" because we were expecting &lt;25 participants.</p>",
        "id": 222615288,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610558564
    },
    {
        "content": "<p>(If needed, I'll hit the upgrade button.)</p>",
        "id": 222615319,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610558577
    },
    {
        "content": "<p>Quick Question - Wondering if security labels and/or other metadata tags are being leveraged to facilitate granular access permissions  in the SMARTv2 testing</p>",
        "id": 222652764,
        "sender_full_name": "Greg White",
        "timestamp": 1610575494
    },
    {
        "content": "<p>The \"scope language\" allow any query params to be attached to a granular scope, so <code>_security=</code> or <code>_tag=</code> can be applied. We tested these a bit at the 2020-09 connectathon, but we're not testing them explicitly this week. (We're focused this week on category-based scopes, plus a slew of other non-scope-related features of SMARTv2.)</p>",
        "id": 222657018,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610577439
    },
    {
        "content": "<p>The Windows Legacy App support for FHIR Smart App Launch has progressed quite well, and almost ready for NuGET packaging if anyone is interested to take a peek at it and try things out.<br>\n<a href=\"https://github.com/brianpos/smart-on-fhir\">https://github.com/brianpos/smart-on-fhir</a><br>\n(Windows App being the launching host)</p>",
        "id": 222667680,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1610584694
    },
    {
        "content": "<p>Very helpful, thanks Josh</p>",
        "id": 222673173,
        "sender_full_name": "Greg White",
        "timestamp": 1610590413
    },
    {
        "content": "<p>PSA: <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> updated the server (<a href=\"http://smart.argo.run\">http://smart.argo.run</a>) and I've updated the client (<a href=\"https://smart.argo.run/granular/\">https://smart.argo.run/granular/</a> , link shows on launcher if you have a 'standalone' launch selected) to test current scenarios - PKCE, POST-based auth flow, and token introspection.</p>\n<p>The server-side features are available per the spec.</p>\n<p>On the client, there are two checkboxes under the Client ID field, which are informationally named <code>Use PKCE</code> and <code>Use POST</code>, which turn on those features.  At the bottom of that card, there are two new buttons as well: <code>Get SMART Config</code>, which fetches the .well-known configuration and <code>Introspect Token</code>, which uses the introspection url and displays the results.  Token introspection is currently on available <em>after</em> going through an auth flow, and uses the URL fetched during that process.</p>\n<p>I'll try to pop into the gather space as possible, but will be mostly in the Subscriptions track.  Feel free to @ or PM me (or pop in there) with any issues or requests.  Happy Connectathon-ing, cheers!</p>",
        "id": 222735521,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1610639180
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/HL7/smart-app-launch/\">http://build.fhir.org/ig/HL7/smart-app-launch/</a></p>",
        "id": 222738851,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610640414
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/HL7/smart-app-launch/scopes-v2-wip.html\">http://build.fhir.org/ig/HL7/smart-app-launch/scopes-v2-wip.html</a></p>",
        "id": 222738865,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610640422
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/HL7/smart-app-launch/token-introspection.html\">http://build.fhir.org/ig/HL7/smart-app-launch/token-introspection.html</a></p>",
        "id": 222738900,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610640437
    },
    {
        "content": "<p>Tracking sheet: <a href=\"https://docs.google.com/spreadsheets/d/1No3gg2xpvnBGHzPuYlirGBfuufGobp8_SVpIhGg9Ipc/edit#gid=1995302742\">https://docs.google.com/spreadsheets/d/1No3gg2xpvnBGHzPuYlirGBfuufGobp8_SVpIhGg9Ipc/edit#gid=1995302742</a></p>",
        "id": 222738977,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610640471
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/xIn5QG5b7FNRGSp1MGex-GUP/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/xIn5QG5b7FNRGSp1MGex-GUP/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/xIn5QG5b7FNRGSp1MGex-GUP/image.png\"></a></div>",
        "id": 222739373,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610640627
    },
    {
        "content": "<p>order seems the same, FYI.</p>",
        "id": 222739431,
        "sender_full_name": "Nick Steinwachs",
        "timestamp": 1610640658
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span>  - Any way you could default <code>Accept: application/json</code> for the /.well-known/smart-configuration request?  We are currently returning XML for <code>Accept: */*</code> which the test client is not expecting.</p>",
        "id": 222743372,
        "sender_full_name": "Jake Fisher",
        "timestamp": 1610642128
    },
    {
        "content": "<p>Question came up about \"Why don't we support the implicit flow?\" See <a href=\"https://tools.ietf.org/html/draft-ietf-oauth-security-topics-16#section-2.1.2\">https://tools.ietf.org/html/draft-ietf-oauth-security-topics-16#section-2.1.2</a> <span class=\"user-mention\" data-user-id=\"196995\">@Artem Sopin</span></p>",
        "id": 222745190,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610642822
    },
    {
        "content": "<p>For backend services, you want <a href=\"http://build.fhir.org/ig/HL7/bulk-data/branches/new-ig-template/authorization.html\">http://build.fhir.org/ig/HL7/bulk-data/branches/new-ig-template/authorization.html</a></p>",
        "id": 222745694,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610643020
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> added prototype SMARTv2 support in <a href=\"https://github.com/microsoft-healthcare-madison/client-js\">https://github.com/microsoft-healthcare-madison/client-js</a> (will merge back into SMART when stable/ready)</p>",
        "id": 222746168,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610643241
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"279701\">@Jake Fisher</span> for the button-press, or for the configuration loading as part of the workflow?</p>",
        "id": 222746430,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1610643355
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span>  - I guess both? I've only tried the button press and it's not working because we're returning XML. Haven't tried the full workflow yet because we're waiting on our patient portal to be set up for this environment so we can't redirect to the login page yet.</p>",
        "id": 222748023,
        "sender_full_name": "Jake Fisher",
        "timestamp": 1610643943
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"279701\">@Jake Fisher</span> , pushing now and should be available in a few minutes.  The library had it set be default already, so it's just the ui-button one that needed changes.</p>",
        "id": 222756223,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1610647096
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"308460\">@Michael Cox</span> I see you added a server to our spreadsheet, thanks! Is this server supporting the SMARTv2 scenarios? (From the config endpoint I don't think so, but just wanted to double check if you're set up for <a href=\"https://confluence.hl7.org/pages/viewpage.action?pageId=97459091#id-202101SMARTv2(GranularControls,etc)-TrackDetails\">our test scenarios</a>.)</p>",
        "id": 222762177,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610649492
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"372206\">@adam strickland</span> and <span class=\"user-mention\" data-user-id=\"279701\">@Jake Fisher</span> just want to double check that you're still working on getting a patient login configured? Would love to test when this is ready.</p>",
        "id": 222762599,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610649668
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195155\">@Max Philips</span> just for visibility here -- thanks for helping get the SMART demo client registered. Will look forward to testing when you've got the registration ready.</p>",
        "id": 222763256,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610649924
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  we have a patient login and patient portal set up now (details in the google doc). But when I try to use the <a href=\"http://smart.argo.run\">smart.argo.run</a> it's not working so I'm troubleshooting that right now. </p>\n<p><strong>Update</strong> - appears to be an issue on our end redirecting to the login page. Should have this fixed soon.</p>",
        "id": 222768863,
        "sender_full_name": "Jake Fisher",
        "timestamp": 1610652180
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> I'm currently making requests to your provided server with the scope <code>patient/Observation.r</code>. Using the fhir-client, I'm requesting what I think is just read rights to this resource: <code>client.patient.request(\"Observation\")</code>. But I'm getting \"Error\": \"Request too wide for granted scopes\". When I use the v1 scope <code>patient/Observation.read</code>, I'm able to return data. Am I doing something wrong on the request?</p>",
        "id": 222774666,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610654302
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  our patient facing launch should be working now.</p>",
        "id": 222774701,
        "sender_full_name": "Jake Fisher",
        "timestamp": 1610654316
    },
    {
        "content": "<blockquote>\n<p>When I use the v1 scope patient/Observation.read, I'm able to return data. Am I doing something wrong on the request?</p>\n</blockquote>\n<p>Thanks for the report. Can you send me a note with your access token so I can take a look?</p>",
        "id": 222775976,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610654802
    },
    {
        "content": "<blockquote>\n<p>Jake Fisher: @Josh Mandel our patient facing launch should be working now.</p>\n</blockquote>\n<p>Thanks!</p>",
        "id": 222776003,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610654814
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"379832\">@Keller Martin</span> , I believe when I added that call, I set the checks to make sure you are not asking for things beyond your scope.  Can you try asking for the patient that is in scope only?</p>\n<p>edit: this applies to only the v2 scopes, but it looks like it checks to make sure the request includes enough restrictions to satisfy the request.  I did it that way since otherwise it is very difficult to check the various tags (e.g., if it auto-fills in the difference, you won't see failures).</p>",
        "id": 222776075,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1610654861
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> The token introspection from <a href=\"http://smart.argo.run\">smart.argo.run</a> isn't working against our server. Looks like that's because you're using <code>Content-Type: application/x-www-form-urlencoded</code>. We're expecting JSON for that endpoint (see the Google Doc I linked from the server/client info sheet).</p>",
        "id": 222776253,
        "sender_full_name": "Jake Fisher",
        "timestamp": 1610654926
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> I <em>think</em> that I'm requesting for only the patient in scope, but I'm new enough to not be 100% sure. Here is the GET: Observation?patient=689892bd-dcbe-41fc-8651-38a1d0893854</p>",
        "id": 222776652,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610655083
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> Sent you one of my access tokens, thanks.</p>",
        "id": 222776732,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610655120
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"279701\">@Jake Fisher</span> , in <a href=\"https://tools.ietf.org/html/rfc7662#section-2.1\">RFC 7662</a>, it defines that the POST uses <code>application/x-www-form-urlencoded</code>.  I could put in an option to bypass for testing if you need it, but it wouldn't be compliant.</p>",
        "id": 222776985,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1610655213
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"379832\">@Keller Martin</span> odd, let me check.</p>",
        "id": 222777770,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1610655542
    },
    {
        "content": "<blockquote>\n<p>When I use the v1 scope patient/Observation.read, I'm able to return data. Am I doing something wrong on the request?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"379832\">@Keller Martin</span> thanks for sharing that access token. Looking inside, I see:</p>\n<div class=\"codehilite\"><pre><span></span><code> &quot;scope&quot;: &quot;launch online_access openid profile fhirUser user/*.read launch/patient patient/Observation.r&quot;\n</code></pre></div>\n\n<p>So I think the issue is that in v2 you need <code>patient/Observation.rs</code> (not <code>patient/Observation.r</code>, which you've requested -- and which won't allow searches)</p>",
        "id": 222779489,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610656249
    },
    {
        "content": "<p>Josh to the rescue!</p>",
        "id": 222779608,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1610656312
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> - nevermind that wasn't the problem. We have our server load balanced and the config isn't matching on both servers. Token introspection is working on one and not the other. I'll make sure both are correct and <code>application/x-www-form-urlencoded</code> should work too. Note that we do require Bearer token auth for the token introspection on this server - I think that's causing some requests to fail too.</p>",
        "id": 222779974,
        "sender_full_name": "Jake Fisher",
        "timestamp": 1610656459
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> <a href=\"#narrow/stream/179170-smart/topic/SMARTv2.20Connectathon.2C.20Jan.202021/near/222762177\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"308460\">Michael Cox</span> I see you added a server to our spreadsheet, thanks! Is this server supporting the SMARTv2 scenarios? (From the config endpoint I don't think so, but just wanted to double check if you're set up for <a href=\"https://confluence.hl7.org/pages/viewpage.action?pageId=97459091#id-202101SMARTv2(GranularControls,etc)-TrackDetails\">our test scenarios</a>.)</p>\n</blockquote>\n<p>Hey Josh! Yes you are correct we are not quite up to the v2 request as per that link you shared. But we want to get there asap, I think we are close! <br>\nShould we basically catch up to the requested items in the listed field for </p>\n<p>\"Scenario 0: capabilities[] with \"permission-v2\", \"authorize-post\", code_challenge_methods_supported[] with \"S256\", introspection_endpoint \"\"</p>\n<p>And be good to go? </p>\n<p>We are currently fully passing Inferno tests for UScore but that is for the inferno program edition, nothing to do yet with SMARTv2</p>",
        "id": 222780147,
        "sender_full_name": "Michael Cox",
        "timestamp": 1610656546
    },
    {
        "content": "<p>Cool! If you add those fields to your <del>introspection</del> discovery endpoint <em>and</em> support the capabilities described by those fields, then you're ready to go ;-)</p>",
        "id": 222781656,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610657288
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> <a href=\"#narrow/stream/179170-smart/topic/SMARTv2.20Connectathon.2C.20Jan.202021/near/222781656\">said</a>:</p>\n<blockquote>\n<p>Cool! If you add those fields to your introspection endpoint <em>and</em> support the capabilities described by those fields, then you're ready to go ;-)</p>\n</blockquote>\n<p>I'm a little confused - you said add fields to my introspection endpoint... you mean I add those fields to my well-known/smart-confg JSON, right?</p>",
        "id": 222785957,
        "sender_full_name": "Michael Cox",
        "timestamp": 1610659250
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"279701\">@Jake Fisher</span> for the introspection auth header, which token is required?</p>",
        "id": 222786399,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1610659449
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> a valid access token for a client scoped for the token introspection endpoint. For this <a href=\"http://smart.argo.run\">smart.argo.run</a> app, it'll just be the same token you're introspecting.</p>",
        "id": 222788074,
        "sender_full_name": "Jake Fisher",
        "timestamp": 1610660244
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"279701\">@Jake Fisher</span> sounds good, it's pushing now so should be available in a few minutes.</p>",
        "id": 222788462,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1610660462
    },
    {
        "content": "<p>We're about to check in at <a href=\"http://gather.argo.run\">http://gather.argo.run</a> for the afternoon</p>",
        "id": 222790884,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610661661
    },
    {
        "content": "<p>PKCE spec is at <a href=\"https://tools.ietf.org/html/rfc7636\">https://tools.ietf.org/html/rfc7636</a></p>",
        "id": 222791584,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610662048
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/HL7/smart-app-launch/#considerations-for-pkce-support\">http://build.fhir.org/ig/HL7/smart-app-launch/#considerations-for-pkce-support</a></p>",
        "id": 222791609,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610662072
    },
    {
        "content": "<p>Good morning, all! We'll be doing a quick \"day 2 check-in\" at <a href=\"http://gather.argo.run\">http://gather.argo.run</a> in 2min</p>",
        "id": 222878166,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610726327
    },
    {
        "content": "<p>Please bring any \"hot topics\" or \"discovered issues\" that you want to discuss  :)</p>",
        "id": 222878228,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610726354
    },
    {
        "content": "<p>Thanks for the great rundown this morning, do we have any finger in the air estimates on when we think scopes v2 might land?<br>\n(looking for information to help guide which way I push local Australian implementations)</p>",
        "id": 222888789,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1610730042
    },
    {
        "content": "<p>My <em>hope</em> is: we move the draft material to FHIR-I + Security WG, and file the paperwork to bring this into the May ballot cycle. That's a best-case scenario and I should CC <span class=\"user-mention\" data-user-id=\"191410\">@Brett Marquard</span> because I will definitely need help to stay on top of this.</p>",
        "id": 222897806,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610733558
    },
    {
        "content": "<p>Thanks, so for my needs I think sticking with v1 is the best approach, with our extensions inline with the v2 concepts and keep others informed of the transition that will need to occur into the future.</p>",
        "id": 222899551,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1610734187
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  Getting an Internal Server Error from the token endpoint for <a href=\"http://smart.argo.run\">smart.argo.run</a> <code>https://smart.argo.run/v/r4/auth/token</code>. I'm trying to validate the PKCE code challenge. This is the correct endpoint to hit for this, right?</p>",
        "id": 222916263,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610740723
    },
    {
        "content": "<p>Can you say more about why <code>authorize-post</code> would be optional? It was the solution to our biggest problem involved in introducing granular scopes (unbounded URL length), and it's also a <code>SHALL</code> level requirement in OpenID Connect Core.</p>",
        "id": 222916917,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610740968
    },
    {
        "content": "<p>(I'll put the same note in the GH issue if you prefer to discuss there!)</p>",
        "id": 222917034,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610741011
    },
    {
        "content": "<p>Anyone interested in a quick demo of the Legacy App FHIR Smart App Launch project?<br>\ni.e. Old Windows App -&gt; Smart On FHIR Web app (in my case and SDC forms app)</p>",
        "id": 222920855,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1610742578
    },
    {
        "content": "<p>I would love to see a demo (and record for posterity if it's OK with you) but I'm probably swamped this afternoon. If you're game to repeat down the line, that'd be awesome.</p>",
        "id": 222921130,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610742677
    },
    {
        "content": "<p>We'll do our wrap-up session in a few minutes, at <a href=\"http://gather.arg.run\">http://gather.arg.run</a></p>",
        "id": 222930901,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610747821
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/RHOSANRn6nHTnTnrixouxvwK/image.png\">image.png</a> <br>\nwhere did that laptop go?<br>\n<a href=\"/user_uploads/10155/Jij7XvESFrcbTZnw3o25dZUM/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/RHOSANRn6nHTnTnrixouxvwK/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/RHOSANRn6nHTnTnrixouxvwK/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Jij7XvESFrcbTZnw3o25dZUM/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/Jij7XvESFrcbTZnw3o25dZUM/image.png\"></a></div>",
        "id": 222931636,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1610748175
    },
    {
        "content": "<p>And thanks for creating a report out session table Travis!<br>\n<a href=\"/user_uploads/10155/JO01bKHN2Y3nUfPKru43cv07/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/JO01bKHN2Y3nUfPKru43cv07/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/JO01bKHN2Y3nUfPKru43cv07/image.png\"></a></div>",
        "id": 222931823,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1610748284
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> PKCE info from my most recent request:<br>\ncode_verifier: <code>a6f193cfa32b37020e927582d6c6a6a8e33e5af512a19fb2de1831bd</code><br>\ncode_challenge: <code>Wi717QuV_kzsrGlQRRtmkKktR1LdS5XNeAgTmUcdBoQ</code></p>",
        "id": 222932700,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610748780
    },
    {
        "content": "<p>Well that was a perfect time for the internet connection on my desktop to die :-) anyway it's been a blast working with you all this week.</p>",
        "id": 222935797,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610750248
    },
    {
        "content": "<p>Using this tool, it looks like this is correct? <a href=\"https://example-app.com/pkce\">https://example-app.com/pkce</a></p>",
        "id": 222935805,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610750256
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> for leading this track!</p>",
        "id": 222935988,
        "sender_full_name": "Max Philips",
        "timestamp": 1610750365
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"379832\">@Keller Martin</span> that challenge/verifier pair looks good to me, although I will note that your verifier appears to have less than the recommended 32 bytes of entropy assuming this is generated as a hexadecimal random value.</p>",
        "id": 222936204,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610750525
    },
    {
        "content": "<p>If you have a way to share the complete submission of your request of a token API endpoint, that would be awesome, for next steps in debugging. (Another thing we can do is just make sure that we are returning a stack Trace in the debug response;  I assume you are not getting a factory currently?)</p>",
        "id": 222936449,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610750601
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>{\n  method=POST,\n  url=https://smart.argo.run/v/r4/auth/token,\n  headers=\n      [Content-Type:application/x-www-form-urlencoded,\n       Accept:application/json,\n       Authorization:Bearer &lt;access_token&gt;,\n      Connection:keep-alive,\n     cache-control:no-cache]\n  body={\n      &#39;code&#39;: &lt;access_token&gt;&#39;,\n      &#39;grant_type&#39;: &#39;authorization_code&#39;,\n      &#39;client_id&#39;: &lt;client_id&gt;,\n     &#39;redirect_uri: &lt;uri&gt;,\n     &#39;code_verifier&#39;: &lt;code_verifier&gt;\n  }\n}\n</code></pre></div>",
        "id": 222937162,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610751043
    },
    {
        "content": "<p>Let me know if it would help to have any of the redacted data - was trying to make it easier to read.</p>",
        "id": 222937219,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610751072
    },
    {
        "content": "<p>The response is just html - seems like I'm hitting an uncaught error:</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;utf-8&quot;&gt;\n&lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;pre&gt;Internal Server Error&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre></div>",
        "id": 222937336,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610751137
    },
    {
        "content": "<p>There are two things here I find surprising. you shouldn't have a bearer token in the authorization header, and the body's <code>code</code> value should include an authorization code not an access token, but I am expecting that might just be a typo in your redaction.</p>",
        "id": 222937577,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610751305
    },
    {
        "content": "<p>I was a bit confused by the token type. That should be Basic, right? I wasn't sure what the Basic token value should be. I'm also unsure what the authorization code is - I assumed it was referring to the access token. Although I was confused why I would have that in the header AND the body. So that makes sense that that was incorrect.</p>",
        "id": 222938077,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610751605
    },
    {
        "content": "<p>I think I see how I misunderstood this.</p>\n<div class=\"codehilite\"><pre><span></span><code>code\n         REQUIRED.  The authorization code received from the\n         authorization server.\n</code></pre></div>\n<p>I was thinking this was from the original <code>authorize</code> request. Is this referring to a separate endpoint? (<code>https://smart.argo.run/v/r4/auth/authorize</code>) I have thought up until this point that those were the same endpoints.</p>",
        "id": 222938281,
        "sender_full_name": "Keller Martin",
        "timestamp": 1610751739
    },
    {
        "content": "<p>The <code>code</code> is the return value, from after you redirect to the authorize endpoint and the endpoint redirects back to you.</p>",
        "id": 222945071,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610756920
    }
]