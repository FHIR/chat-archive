[
    {
        "content": "<p>Hello,</p>\n<p>We are receiving the following error  when our SMART client is launched from the Logic Sandbox -  <code>has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status</code></p>\n<p>How do we inject the Allow CORS header into our requests using the SMART JS client. Is there a way we can get a handle on the request object?</p>\n<p>Thanks,<br>\nJoel, <span class=\"user-mention\" data-user-id=\"400829\">@Christa Wan</span> , <span class=\"user-mention\" data-user-id=\"192545\">@Alex Goel</span> , <span class=\"user-mention\" data-user-id=\"416084\">@Paul Puscas</span></p>",
        "id": 240509404,
        "sender_full_name": "Joel Francis",
        "timestamp": 1622139543
    },
    {
        "content": "<p>That's a server side problem that isn't doing the CORS responses, and the browser is protecting you from it. Server needs fixing, not Web client app.</p>",
        "id": 240556051,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1622170039
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> we're trying to test this against the Logica sandbox, any suggestion on what we can do next?</p>",
        "id": 240602999,
        "sender_full_name": "Alex Goel",
        "timestamp": 1622208249
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193795\">Joel Francis</span> <a href=\"#narrow/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client/near/240509404\">said</a>:</p>\n<blockquote>\n<p>How do we inject the Allow CORS header into our requests using the SMART JS client. Is there a way we can get a handle on the request object?<br>\n</p>\n</blockquote>\n<p>We were hoping someone could help us put this header in</p>",
        "id": 240603155,
        "sender_full_name": "Alex Goel",
        "timestamp": 1622208337
    },
    {
        "content": "<p>You might want to reach out to the logica sandbox team. Can you paste in a full (\"\"copy as curl\") request/response log for these queries from your dev tools?</p>",
        "id": 240613129,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1622212756
    },
    {
        "content": "<p>I have a <a href=\"https://github.com/smart-on-fhir/client-js/pull/122\">PR</a> open that might be helpful if this problem hasn't been solved already.  It allows the SMART JS client to return the redirect URL before actually redirecting.</p>",
        "id": 240975313,
        "sender_full_name": "David Winters",
        "timestamp": 1622568168
    },
    {
        "content": "<p>And here is the <a href=\"https://github.com/smart-on-fhir/client-js/issues/121\">issue</a> I created to describe this feature request. <span class=\"user-mention\" data-user-id=\"192545\">@Alex Goel</span> <span class=\"user-mention\" data-user-id=\"193795\">@Joel Francis</span></p>",
        "id": 240975575,
        "sender_full_name": "David Winters",
        "timestamp": 1622568289
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"195840\">David Winters</span> <a href=\"#narrow/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client/near/240975313\">said</a>:</p>\n<blockquote>\n<p>I have a <a href=\"https://github.com/smart-on-fhir/client-js/pull/122\">PR</a> open that might be helpful if this problem hasn't been solved already.  It allows the SMART JS client to return the redirect URL before actually redirecting.</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"195840\">@David Winters</span> , I have responded to another post and tagged you with a proxy suggestion to inject the CORS header</p>",
        "id": 240978562,
        "sender_full_name": "Joel Francis",
        "timestamp": 1622569604
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195840\">@David Winters</span> I am reviewing your PR now, but I don't think it can solve this because</p>\n<ol>\n<li>Redirects don't need CORS</li>\n<li>If that really is a problem on the server, then there is nothing you can do to avoid it (other then using a proxy which is a crude workaround)</li>\n</ol>",
        "id": 240985267,
        "sender_full_name": "Vladimir Ignatov",
        "timestamp": 1622572532
    }
]