[
    {
        "content": "<p><strong>Just a reminder that tomorrow we'll be having a SMARTv2 Connectathon Kickoff Call at 2:00 - 3:00 PM EST.</strong></p>\n<div class=\"codehilite\" data-code-language=\"Text only\"><pre><span></span><code> 0/\n&lt;Y\n/ \\\n</code></pre></div>\n<p>I don't have an official link for the call tomorrow, so I'm planning to use this jitsi link: <a href=\"https://meet.jit.si/smart-app-launch\">https://meet.jit.si/smart-app-launch</a> <br>\n<em>I will update this topic with a new link if I find a different, more official one!</em></p>\n<p>Kickoff Slide Deck is here: <a href=\"https://aka.ms/c10n28-smart-v2\">https://aka.ms/c10n28-smart-v2</a><br>\nHere's a link to the c10n page: <a href=\"https://confluence.hl7.org/display/FHIR/2021-09+SMART+App+Launch+v2\">https://confluence.hl7.org/display/FHIR/2021-09+SMART+App+Launch+v2</a> <br>\nWhova link to sessions (search for SMART App Launch v2): <a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda\">https://whova.com/portal/webapp/hlsfh_202109/Agenda</a></p>\n<p>If you haven't signed up yet - please add your name to the <a href=\"https://docs.google.com/spreadsheets/d/10j4a0juCrlZPDtrvOQaNNgSNPUU5MK9Hm7reCg1RF6A/edit#gid=0\">spreadsheet</a>.</p>\n<p>Looking forward to seeing you all tomorrow and next week!</p>\n<p><em>Note: I sometimes abbreviate Connectathon as c10n.  It's 300% easier (for me) to spell correctly!</em></p>",
        "id": 252725757,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631243040
    },
    {
        "content": "<p>Reminder - the kickoff call will begin in 6 minutes</p>",
        "id": 252824548,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631296445
    },
    {
        "content": "<p>I don't see the call details in <a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda\">whova</a> or <a href=\"https://confluence.hl7.org/display/FHIR/2021-09+SMART+App+Launch+v2\">confluence</a> -- does anyone have a link?</p>",
        "id": 252825788,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631296985
    },
    {
        "content": "<p>(<span class=\"user-mention\" data-user-id=\"233081\">@Carl Anderson</span>)</p>",
        "id": 252825824,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631297004
    },
    {
        "content": "<p>Ah, I see above: <a href=\"https://meet.jit.si/smart-app-launch\">https://meet.jit.si/smart-app-launch</a></p>",
        "id": 252825908,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631297042
    },
    {
        "content": "<p>For those that missed the Kickoff call (or wanted to watch it again at 1.75x) - here's the link: <a href=\"https://youtu.be/MzJhGmA0xH8\">https://youtu.be/MzJhGmA0xH8</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"MzJhGmA0xH8\" href=\"https://youtu.be/MzJhGmA0xH8\"><img src=\"https://uploads.zulipusercontent.net/f098ce73a44461d9b1e6fb09d3fe3ab54460e317/68747470733a2f2f692e7974696d672e636f6d2f76692f4d7a4a68476d41307848382f64656661756c742e6a7067\"></a></div>",
        "id": 252842394,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631304220
    },
    {
        "content": "<p>I noticed when testing the <a href=\"https://github.com/microsoft-healthcare-madison/demo-smart-cc\">demo-smart-cc client</a> using <a href=\"http://smart.argo.run\">smart.argo.run</a> that <code>JWKS Inline</code> has to be populated or else I get an error. Shouldn't just having either a <code>JWKS URI</code> or including the key inline be sufficient? Curious if this is just an implementation detail or error of the SMART App Launcher's registration or expected behavior. Here is the URL with all the parameters that is erroring for me: <a href=\"https://smart.argo.run/?auth_error=&amp;client_secret=&amp;fhir_version_2=r4&amp;iss=&amp;jwks=&amp;jwks_uri=https%3A%2F%2Fproud-wooden-payment.glitch.me%2Fjwks.json&amp;launch_ehr=1&amp;launch_url=https%3A%2F%2Fproud-wooden-payment.glitch.me%2Flaunch%2F&amp;patient=&amp;prov_skip_auth=1&amp;provider=&amp;pt_skip_auth=1&amp;public_key=&amp;redirect_uris=https%3A%2F%2Fproud-wooden-payment.glitch.me%2Fauthorized&amp;sde=&amp;sim_ehr=1&amp;token_lifetime=15&amp;user_pt=&amp;validate_pkce=1&amp;validation_method=cc-asym\">https://smart.argo.run/?auth_error=&amp;client_secret=&amp;fhir_version_2=r4&amp;iss=&amp;jwks=&amp;jwks_uri=https%3A%2F%2Fproud-wooden-payment.glitch.me%2Fjwks.json&amp;launch_ehr=1&amp;launch_url=https%3A%2F%2Fproud-wooden-payment.glitch.me%2Flaunch%2F&amp;patient=&amp;prov_skip_auth=1&amp;provider=&amp;pt_skip_auth=1&amp;public_key=&amp;redirect_uris=https%3A%2F%2Fproud-wooden-payment.glitch.me%2Fauthorized&amp;sde=&amp;sim_ehr=1&amp;token_lifetime=15&amp;user_pt=&amp;validate_pkce=1&amp;validation_method=cc-asym</a></p>",
        "id": 253112815,
        "sender_full_name": "Keith Carlson",
        "timestamp": 1631548196
    },
    {
        "content": "<blockquote>\n<p>Shouldn't just having either a JWKS URI or including the key inline be sufficient</p>\n</blockquote>\n<p>Yes, the intention is that you can supply a JWKS URI <em>or</em> an inline JWKS. This sounds like a bug. Will review with <span class=\"user-mention\" data-user-id=\"233081\">@Carl Anderson</span>.</p>",
        "id": 253115764,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631549216
    },
    {
        "content": "<p>Thanks for pointing that out, Keith.  I am working on a fix for the server and will post here when it's live.  For now, if you populate the jwks inline portion it should work - but I'll get the jwks_uri-only mode working soon, too.</p>",
        "id": 253135671,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631557189
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"308473\">@Keith Carlson</span> - <a href=\"https://github.com/microsoft-healthcare-madison/smart-launcher/commit/f4f0726a4a1ae6130ed86bcff7ef8cc0b257cb26\">this commit</a> resolves the issue.  Thanks, again, for pointing it out!</p>",
        "id": 253192477,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631590223
    },
    {
        "content": "<p>No problem! Thanks for the fix</p>",
        "id": 253238589,
        "sender_full_name": "Keith Carlson",
        "timestamp": 1631621133
    },
    {
        "content": "<p>Quick reminder: the link to the first Whova agenda item for today is: <a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda/1919123/\">https://whova.com/portal/webapp/hlsfh_202109/Agenda/1919123/</a></p>",
        "id": 253249634,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631625964
    },
    {
        "content": "<p>Here's the agenda, for those looking here instead of in Whova (all times in EST):</p>\n<ul>\n<li>Tuesday<ul>\n<li><a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda/1919123\">Kickoff 11:00 - 11:30</a></li>\n<li><a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda/1910317\">IG Walk 11:30 - 12:30</a></li>\n<li>Break 12:30 - 1:00</li>\n<li><a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda/1910318\">1:1 Sessions 1:00 - 4:00</a></li>\n<li><a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda/1919126\">Day 1 Closing 4:00 - 5:00</a></li>\n</ul>\n</li>\n<li>Wednesday<ul>\n<li><a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda/1919124\">Day 2 Coffee &amp; Donuts 10:30 - 11:00</a></li>\n<li><a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda/1910424\">Working Session 11:00 - 4:00</a></li>\n<li><a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda/1919125\">Day 2 Closing 4:00 - 5:00</a></li>\n</ul>\n</li>\n</ul>",
        "id": 253254363,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631627546
    },
    {
        "content": "<p>Are the times in whova wrong? I see kickoff at 11:00 a.m. eastern time</p>",
        "id": 253256074,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631628115
    },
    {
        "content": "<p>AHA - that would explain things a bit</p>",
        "id": 253256237,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631628165
    },
    {
        "content": "<p>I was looking at the schedule in Central, thanks Josh!</p>",
        "id": 253256418,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631628235
    },
    {
        "content": "<p>From kickoff call: <a href=\"https://aka.ms/c10n28-smart-v2\">https://aka.ms/c10n28-smart-v2</a> is the deck Carl's showing, with links to tools</p>",
        "id": 253269090,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631632597
    },
    {
        "content": "<h2>For all connectathon participants</h2>\n<p>Sign-up sheet at <a href=\"http://smartv2-connectathon.argo.run\">smartv2-connectathon.argo.run</a> -- please add your name, and details on any server or client you're bringing to the table (if applicable).</p>",
        "id": 253271125,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631633372
    },
    {
        "content": "<p>If you have technical corrections / comments / change requests related to the SMART v2 IG - please visit <a href=\"http://jira.hl7.org\">jira.hl7.org</a> and click the 'Create' button to submit a new issue.<br>\n<a href=\"/user_uploads/10155/h3HXCFqXiJe8UT4hPggMx4uq/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/h3HXCFqXiJe8UT4hPggMx4uq/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/h3HXCFqXiJe8UT4hPggMx4uq/image.png\"></a></div>",
        "id": 253278537,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631636226
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"233081\">@Carl Anderson</span>  at <a href=\"https://proud-wooden-payment.glitch.me/jwks.json\">https://proud-wooden-payment.glitch.me/jwks.json</a> looks like the example JWK has an <code>alg</code> of <code>P-384</code> that should be <code>ES384</code>?</p>",
        "id": 253291946,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631641241
    },
    {
        "content": "<p>@all - we're approaching the end of Day 1!</p>\n<p>So far, we have had at least one successful breakout session with Josh and Dan.  We worked on converting the demo confidential client to use <code>express-session</code> rather than using a simple session map.  In the process we hit a snag with cookies and eventually discovered that when hosting the app on glitch (but presumably also in other environments you might encounter) we needed to enable a setting called 'trust proxy' in express.  Without this, the session cookie settings were not being set.  <span class=\"user-mention\" data-user-id=\"361257\">@Dan Cinnamon</span> and <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> can chime in with extra details if I'm missing anythin (or misrepresenting the situation).</p>\n<p>Anyway, the results of that session are in this PR: <a href=\"https://github.com/microsoft-healthcare-madison/demo-smart-cc/pull/9\">https://github.com/microsoft-healthcare-madison/demo-smart-cc/pull/9</a></p>",
        "id": 253311493,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631648484
    },
    {
        "content": "<p>Also, FAYI - Josh put together a take on the confidential client that uses the official smart client, simplifying the logic substantially.<br>\n<a href=\"https://github.com/microsoft-healthcare-madison/demo-smart-cc/blob/with-fhirclient/src/index.js\">https://github.com/microsoft-healthcare-madison/demo-smart-cc/blob/with-fhirclient/src/index.js</a></p>",
        "id": 253312249,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631648804
    },
    {
        "content": "<p>I also put together an version of the server-side demo app that uses the (latest) fhirclient library for managing the authz process + token request. <a href=\"https://github.com/microsoft-healthcare-madison/demo-smart-cc/blob/with-fhirclient/src/index.js\">https://github.com/microsoft-healthcare-madison/demo-smart-cc/blob/with-fhirclient/src/index.js</a> weighs in at ~100 LOC.</p>",
        "id": 253314226,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631649591
    },
    {
        "content": "<p>The branch of the client library I'm using is: <a href=\"https://github.com/microsoft-healthcare-madison/client-js/tree/c10n-2021-09\">https://github.com/microsoft-healthcare-madison/client-js/tree/c10n-2021-09</a></p>",
        "id": 253314918,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631649805
    },
    {
        "content": "<p>^^ That branch supports PKCE and asymmetric authentication</p>",
        "id": 253315181,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631649896
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191864\">@Isaac Vetter</span> can you point us to the best place for testing Epic's implementation of asymmetric client authentication? Is this supported in the  context of a SMART App Launch today, or just in the context of Backend Services? (Cc <span class=\"user-mention\" data-user-id=\"192613\">@Chuck Feltner</span>, following up from our track check-in just now)</p>",
        "id": 253421959,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631715621
    },
    {
        "content": "<p>Sorry I had my wires crossed on the stand-up this morning!  I was heads-down getting the track report-out content started.<br>\n<a href=\"https://docs.google.com/document/d/1WOUZTx6NfqFORrayU1qAmsbmc-NPPWQH61WXL9dLgak/edit?usp=sharing\">https://docs.google.com/document/d/1WOUZTx6NfqFORrayU1qAmsbmc-NPPWQH61WXL9dLgak/edit?usp=sharing</a></p>",
        "id": 253423052,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631716023
    },
    {
        "content": "<p>Will be joining in a few minutes</p>",
        "id": 253423096,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631716040
    },
    {
        "content": "<p>Okay, I messed up the calendar entries.  Sorry about that!  I see that the next scheduled call won't begin for another ~20 minutes.  I'll see if I can get it started early.  If not, I'll see you then.</p>",
        "id": 253424857,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631716647
    },
    {
        "content": "<p>Erp - looks like Zoom ended the meeting after 40 minutes of idle time.</p>",
        "id": 253469346,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631732491
    },
    {
        "content": "<p>Are you able to start it back up again? I am just looking at the whova interface which indicates that hasn't started yet.</p>",
        "id": 253470297,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631732794
    },
    {
        "content": "<p>(\"please wait for the event organizer\")</p>",
        "id": 253470363,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631732820
    },
    {
        "content": "<p>It's running now (and for the past 5 minutes)</p>",
        "id": 253470393,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631732834
    },
    {
        "content": "<p>Whova is not showing me the link, even though I have been reloading the page. Can you send here?</p>",
        "id": 253470497,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631732883
    },
    {
        "content": "<p>I think <a href=\"https://hl7-org.zoom.us/j/96771065910?pwd=di8zdXc1SmVWM25sT2xPd2hRYjFNdz09#success\">this</a> will work for you</p>",
        "id": 253470666,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631732962
    },
    {
        "content": "<p>That gets me as far as a password screen but no further :/</p>",
        "id": 253470781,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631733006
    },
    {
        "content": "<p><code>di8zdXc1SmVWM25sT2xPd2hRYjFNdz09</code> is embedded in the link but does not actually work</p>",
        "id": 253470972,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631733109
    },
    {
        "content": "<p>Hmm, <span class=\"user-mention\" data-user-id=\"361257\">@Dan Cinnamon</span>  was able to rejoin</p>",
        "id": 253473674,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631734197
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> - <a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda/1910424\">this</a> link in Whova <strong>should</strong> link to a live Zoom meeting</p>",
        "id": 253474871,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631734676
    },
    {
        "content": "<p>Chuck and Dan and I are looking at Chuck's PKCE bug</p>",
        "id": 253474997,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631734719
    },
    {
        "content": "<p>That works</p>",
        "id": 253475055,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631734746
    },
    {
        "content": "<p>@all - the final meeting of the track will be starting in a few minutes.<br>\n<a href=\"https://whova.com/portal/webapp/hlsfh_202109/Agenda/1919125\">https://whova.com/portal/webapp/hlsfh_202109/Agenda/1919125</a></p>\n<p>We'll be reviewing the report-out draft here:<br>\n<a href=\"https://docs.google.com/document/d/1WOUZTx6NfqFORrayU1qAmsbmc-NPPWQH61WXL9dLgak/edit?usp=sharing\">https://docs.google.com/document/d/1WOUZTx6NfqFORrayU1qAmsbmc-NPPWQH61WXL9dLgak/edit?usp=sharing</a></p>",
        "id": 253477537,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1631735852
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192613\">@Chuck Feltner</span> thanks for bearing with me on the JS library. The <a href=\"https://github.com/microsoft-healthcare-madison/client-js/commit/79e55ff45e136983b85f7491c748a8f455837d24\">quick fix</a> is in at <a href=\"https://github.com/microsoft-healthcare-madison/client-js/tree/c10n-2021-09\">https://github.com/microsoft-healthcare-madison/client-js/tree/c10n-2021-09</a>, which should have PKCE working for server-side and browser-side apps. The longer-term solution is probably to remove the dependency on node-jose in favor of something smaller (e.g., I'm thinking it's OK to only target environments where SubtleCrypto is available, for these new features)</p>\n<p>Demo using this latest: <a href=\"https://sharp-lake-word.glitch.me/graph.html\">https://sharp-lake-word.glitch.me/graph.html</a> (source: <a href=\"https://glitch.com/edit/#!/sharp-lake-word?path=standalone.html\">https://glitch.com/edit/#!/sharp-lake-word?path=standalone.html</a>)</p>",
        "id": 253490515,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631741173
    },
    {
        "content": "<p>And <a href=\"https://github.com/microsoft-healthcare-madison/client-js/tree/own-jws\">https://github.com/microsoft-healthcare-madison/client-js/tree/own-jws</a> has an attempt at ditching the node-jose dependency; needs careful review, but gets the minified total library size down to where it used to be (200kb).</p>",
        "id": 253507058,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631750370
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  Thanks for the timely update! I tested our SMART App using the <a href=\"https://github.com/microsoft-healthcare-madison/client-js/tree/c10n-2021-09\">https://github.com/microsoft-healthcare-madison/client-js/tree/c10n-2021-09</a> version of the library and it works now <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> on our Azure deployment.</p>",
        "id": 253512015,
        "sender_full_name": "Chuck Feltner",
        "timestamp": 1631753942
    }
]