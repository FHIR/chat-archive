[
    {
        "content": "<p>In the JSON Epic returns from our oauth2/token endpoint, we have <code>\"token_type\": \"bearer\"</code></p>\n<p>Grahame noticed that this doesn't match the case in the  <a href=\"http://www.hl7.org/fhir/smart-app-launch/#step-3-app-exchanges-authorization-code-for-access-token\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/#step-3-app-exchanges-authorization-code-for-access-token\">SMART spec section 7.1.3</a>, which requires it to be capitalized.  So we can prioritize the fix, who will have trouble based on this?  Are there any validators that will fail because of this?</p>",
        "id": 155266435,
        "sender_full_name": "Michael Donnelly",
        "timestamp": 1547655946
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191936\">@Michael Donnelly</span> - you may want to check popular OSS libraries around this too. I did some informal searches across Github and found that there are lots of people comparing the token type irrespective of case (or lower casing both values before comparing). For instance, <a href=\"https://github.com/spring-projects/spring-security/blob/master/oauth2/oauth2-core/src/main/java/org/springframework/security/oauth2/core/OAuth2AccessToken.java#L123\" target=\"_blank\" title=\"https://github.com/spring-projects/spring-security/blob/master/oauth2/oauth2-core/src/main/java/org/springframework/security/oauth2/core/OAuth2AccessToken.java#L123\">Spring's library does this</a>. That's probably due to the reality of inconsistent <code>Bearer</code> vs <code>bearer</code>.</p>\n<p>fyi, <code>Bearer</code> isn't something SMART defined. See corresponding uses of <code>Bearer</code> in <a href=\"https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse\" target=\"_blank\" title=\"https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse\">OpenID Connect 3.1.33</a> and <a href=\"https://tools.ietf.org/html/rfc6750#page-14\" target=\"_blank\" title=\"https://tools.ietf.org/html/rfc6750#page-14\">rfc6750 6.1.1</a></p>",
        "id": 155281499,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1547667709
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span></p>",
        "id": 155346745,
        "sender_full_name": "Michael Donnelly",
        "timestamp": 1547741038
    },
    {
        "content": "<p>I now perform case independent comparison. Maybe we should not this somewhere?</p>",
        "id": 156360695,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1547810211
    },
    {
        "content": "<p>Note that servers should do it as Bearer?</p>",
        "id": 156620378,
        "sender_full_name": "Michael Donnelly",
        "timestamp": 1548176501
    },
    {
        "content": "<p>I think both are correct: servers should do \"Bearer\" and clients should be able to deal with \"Bearer\" as well as \"bearer\".</p>",
        "id": 156622348,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1548178091
    }
]