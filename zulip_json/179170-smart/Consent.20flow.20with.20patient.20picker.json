[
    {
        "content": "<p>Hello everyone, I am looking at general recommendations on consent flow with patient picker</p>\n<ol>\n<li>Should we (or are we required to) display consent page on every patient's login along with patient picker (if client has launch/patient scope)?</li>\n<li>Should we be deregistering the previously given consents (and tokens) given by the user during login for registering the new consent?<br>\nAny thoughts/suggestions?</li>\n</ol>",
        "id": 229657409,
        "sender_full_name": "Sagar Shah",
        "timestamp": 1615382894
    },
    {
        "content": "<p>I think you're talking about a scenario where a given application is sending the user back to the authorization endpoint to reinitiate authorization of that specific app?</p>",
        "id": 229673770,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1615388073
    },
    {
        "content": "<p>It's helpful to think about the reasons why a given app might be doing this. One reason is that the app wants offline access but hasn't been granted offline access; another reason is the app wants access to a different patient record in addition to the ones that is already authorized to see; another reason is the app wants access with more scopes, for example to include access to resources that it did not originally ask for in a progressive authorization scenario.</p>",
        "id": 229674109,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1615388174
    },
    {
        "content": "<p>It's good to think about how to make your authorization server work well across these cases, and to brainstorm about where that there might be additional reasons why an app is sending a user back to the authorization endpoint.</p>",
        "id": 229674158,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1615388200
    },
    {
        "content": "<p>(1) yes - how could you do differently?<br>\n(2) no. App can have good reason to ask multiple times (typically they want all dependents)</p>",
        "id": 229684391,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1615391038
    },
    {
        "content": "<p>Thanks for feedback. That does help. <span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span> to your point# 1- I was checking more from user experience, if he gave consent to app (maybe partial or maybe all scopes), then on next auth login, do we need to ask for consent again or can we auto approve based on previous request and so on?</p>",
        "id": 229690279,
        "sender_full_name": "Sagar Shah",
        "timestamp": 1615392370
    },
    {
        "content": "<p>Like checking if you already issued a token for the same user and the same app? Don't think is worth it - and you'll have to ask in any case if there is a patient picker</p>",
        "id": 229693061,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1615393000
    },
    {
        "content": "<p>Yes, <span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span> ! Correct, I think with patient picker it may be required anyways. I was thinking from the other (non-smart apps), which asks for consent first time and then remembers it using authz server and does not ask for consent on subsequent logins (even when on other devices)</p>",
        "id": 229702983,
        "sender_full_name": "Sagar Shah",
        "timestamp": 1615395831
    }
]