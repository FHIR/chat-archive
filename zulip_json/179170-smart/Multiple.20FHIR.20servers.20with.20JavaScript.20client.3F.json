[
    {
        "content": "<p>I understand from <a href=\"#narrow/stream/179170-smart/topic/multiple.20backends\" title=\"#narrow/stream/179170-smart/topic/multiple.20backends\">a previous thread</a> that a SMART app <em>can</em> talk to multiple FHIR servers.  Can the JavaScript client at <a href=\"https://docs.smarthealthit.org/clients/javascript/\" target=\"_blank\" title=\"https://docs.smarthealthit.org/clients/javascript/\">https://docs.smarthealthit.org/clients/javascript/</a> be used to do that?   I don't see a way to indicate which FHIR server one means when calling the \"authorize\" or  \"ready\" functions.</p>",
        "id": 174390514,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1567018110
    },
    {
        "content": "<p>First off, a shout out to Vlad's updated library (\"v2\"), docs at <a href=\"http://docs.smarthealthit.org/client-js/\" target=\"_blank\" title=\"http://docs.smarthealthit.org/client-js/\">http://docs.smarthealthit.org/client-js/</a> (Note <span class=\"user-mention\" data-user-id=\"193731\">@Vladimir Ignatov</span> we should update docs at <a href=\"https://docs.smarthealthit.org/clients/javascript/\" target=\"_blank\" title=\"https://docs.smarthealthit.org/clients/javascript/\">https://docs.smarthealthit.org/clients/javascript/</a> now that things are stabilizing.)</p>",
        "id": 174473238,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1567098936
    },
    {
        "content": "<p>When it comes to authorizing, you can specify a <code>fhirServiceUrl</code> as a parameter to <code>authorize</code> (see <a href=\"https://github.com/smart-on-fhir/client-js/blob/master/src/smart.js#L113-L127\" target=\"_blank\" title=\"https://github.com/smart-on-fhir/client-js/blob/master/src/smart.js#L113-L127\">https://github.com/smart-on-fhir/client-js/blob/master/src/smart.js#L113-L127</a>)</p>",
        "id": 174473445,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1567099085
    },
    {
        "content": "<p>That lets you specify which server you mean.</p>",
        "id": 174473451,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1567099095
    },
    {
        "content": "<p>When it comes to calling <code>ready</code>, this should be driven by the <code>state</code> value returned from your OAuth server, so there ought not be any ambiguity about where to exchange a token.</p>",
        "id": 174473510,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1567099179
    },
    {
        "content": "<p>Hope this helps -- and please let us know how this goes; it'd be good to document this kind of \"advanced flow\" more directly, if you find it useful (and to work through any issues if you find it breaks ;-)).</p>",
        "id": 174473584,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1567099222
    },
    {
        "content": "<p>Thanks!  We're still in the planning stages for a brand-new idea for a small project, so it might be a while before we try it out, but I am encouraged that you think it should work.</p>",
        "id": 174488494,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1567109837
    }
]