[
    {
        "content": "<p>Heres a sample example using an extension to add milestones to an activity definition</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;ActivityDefinition&quot;,\n  &quot;id&quot;: &quot;SubjectRandomizationDate&quot;,\n  &quot;meta&quot;: {\n    &quot;profile&quot;: [\n      &quot;http://example.org/br-and-r/soa/StructureDefinition/SOA-planned-study-activity-definition&quot;\n    ]\n  },\n  &quot;text&quot;: {\n    &quot;status&quot;: &quot;extensions&quot;,\n    &quot;div&quot;: &quot;&lt;div xmlns=\\&quot;http://www.w3.org/1999/xhtml\\&quot;&gt;&lt;p&gt;&lt;b&gt;Generated Narrative&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Study Milestone&lt;/b&gt;: &lt;span title=\\&quot;Codes: {http://ncimeta.nci.nih.gov C114209}\\&quot;&gt;Subject is Randomized&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Study Milestone&lt;/b&gt;: &lt;span title=\\&quot;Codes: {http://ncimeta.nci.nih.gov C161417}\\&quot;&gt;Subject Entered Into Trial&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;url&lt;/b&gt;: &lt;a href=\\&quot;http://example.org/br-and-r/soa/ActivityDefinition/SubjectRandomizationDate\\&quot;&gt;http://example.org/br-and-r/soa/ActivityDefinition/SubjectRandomizationDate&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;version&lt;/b&gt;: 0.1.0&lt;/p&gt;&lt;p&gt;&lt;b&gt;status&lt;/b&gt;: active&lt;/p&gt;&lt;p&gt;&lt;b&gt;date&lt;/b&gt;: 15-Jan-2021 12:59:03&lt;/p&gt;&lt;/div&gt;&quot;\n  },\n  &quot;extension&quot;: [\n    {\n      &quot;url&quot;: &quot;http://example.org/br-and-r/soa/StructureDefinition/soa-study-activity-milestne&quot;,\n      &quot;valueCodeableConcept&quot;: {\n        &quot;coding&quot;: [\n          {\n            &quot;system&quot;: &quot;http://ncimeta.nci.nih.gov&quot;,\n            &quot;code&quot;: &quot;C114209&quot;,\n            &quot;display&quot;: &quot;Subject is Randomized&quot;\n          }\n        ]\n      }\n    },\n    {\n      &quot;url&quot;: &quot;http://example.org/br-and-r/soa/StructureDefinition/soa-study-activity-milestne&quot;,\n      &quot;valueCodeableConcept&quot;: {\n        &quot;coding&quot;: [\n          {\n            &quot;system&quot;: &quot;http://ncimeta.nci.nih.gov&quot;,\n            &quot;code&quot;: &quot;C161417&quot;,\n            &quot;display&quot;: &quot;Subject Entered Into Trial&quot;\n          }\n        ]\n      }\n    }\n  ],\n  &quot;url&quot;: &quot;http://example.org/br-and-r/soa/ActivityDefinition/SubjectRandomizationDate&quot;,\n  &quot;version&quot;: &quot;0.1.0&quot;,\n  &quot;status&quot;: &quot;active&quot;,\n  &quot;date&quot;: &quot;2021-01-15T12:59:03+00:00&quot;\n}\n</code></pre></div>",
        "id": 222854518,
        "sender_full_name": "Geoff Low",
        "timestamp": 1610716128
    },
    {
        "content": "<p>I think you will have to unpack the purpose of this for me at least.  How does any machine processing know that these are milestones?  Can't the structure be represented by nested actions each with an associate activity definition?  </p>\n<p>I think we have to see extensions as a last resort when there is no other sensible way to do something.</p>",
        "id": 222876557,
        "sender_full_name": "Hugh Glover",
        "timestamp": 1610725701
    },
    {
        "content": "<p>I think the discussion was that it was needed to be able to annotate certain activities as being important from a business/analytical perspective ; this was using explicit semantics (ie associating an activity with a particular milestone as defined).  I think there's equally a good (probably even better) to make use of the useContext attribute.  The idea would be that a record/observation would be linked to the activity definition as discussed yesterday and then the context of the milestone would be applied to the finding.</p>",
        "id": 222881279,
        "sender_full_name": "Geoff Low",
        "timestamp": 1610727453
    }
]