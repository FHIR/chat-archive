[
    {
        "content": "<p>Hey</p>\n<p>When I run a clean build on the main specification, I get the following validation errors:</p>\n<div class=\"codehilite\"><pre><span></span><code>ERROR @ Medication.ingredient[2].item.concept.coding[0] (line 0, col0): medicationexample0318:: Medication.ingredient[2].item.concept.coding[0]: Code &quot;0338-0519-02&quot; not found in NDC; The code &quot;0338-0519-02&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#0338-0519-02) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#0338-0519-02&#39; (src = TerminologyEngine)\nERROR @ MedicationAdministration.contained[0].ofType(Medication).ingredient[2].item.concept.coding[0] (line 0, col0): medicationadministration0309:: MedicationAdministration.contained[0].ofType(Medication).ingredient[2].item.concept.coding[0]: Code &quot;0338-0519-02&quot; not found in NDC; The code &quot;0338-0519-02&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#0338-0519-02) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#0338-0519-02&#39; (src = TerminologyEngine)\nERROR @ MedicationDispense.contained[0].ofType(Medication).code.coding[0] (line 0, col0): medicationdispense0319:: MedicationDispense.contained[0].ofType(Medication).code.coding[0]: Code &quot;33261-141-20&quot; not found in NDC; The code &quot;33261-141-20&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#33261-141-20) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#33261-141-20&#39; (src = TerminologyEngine)\nERROR @ MedicationDispense.contained[0].ofType(Medication).ingredient[2].item.concept.coding[0] (line 0, col0): medicationdispense0320:: MedicationDispense.contained[0].ofType(Medication).ingredient[2].item.concept.coding[0]: Code &quot;0338-0519-02&quot; not found in NDC; The code &quot;0338-0519-02&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#0338-0519-02) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#0338-0519-02&#39; (src = TerminologyEngine)\nERROR @ MedicationDispense.medication.concept.coding[0] (line 0, col0): medicationdispense0321:: MedicationDispense.medication.concept.coding[0]: Code &quot;0074-3043-13&quot; not found in NDC; The code &quot;0074-3043-13&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#0074-3043-13) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#0074-3043-13&#39; (src = TerminologyEngine)\nERROR @ MedicationDispense.medication.concept.coding[0] (line 0, col0): medicationdispense0322:: MedicationDispense.medication.concept.coding[0]: Code &quot;0071-2214-20&quot; not found in NDC; The code &quot;0071-2214-20&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#0071-2214-20) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#0071-2214-20&#39; (src = TerminologyEngine)\nERROR @ MedicationDispense.contained[0].ofType(Medication).code.coding[0] (line 0, col0): medicationdispense0330:: MedicationDispense.contained[0].ofType(Medication).code.coding[0]: Code &quot;0056-0172-70&quot; not found in NDC; The code &quot;0056-0172-70&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#0056-0172-70) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#0056-0172-70&#39; (src = TerminologyEngine)\nERROR @ MedicationDispense.contained[0].ofType(Medication).code.coding[0] (line 0, col0): medicationdispense0331:: MedicationDispense.contained[0].ofType(Medication).code.coding[0]: Code &quot;0056-0170-70&quot; not found in NDC; The code &quot;0056-0170-70&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#0056-0170-70) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#0056-0170-70&#39; (src = TerminologyEngine)\nERROR @ MedicationDispense.contained[0].ofType(Medication).ingredient[2].item.concept.coding[0] (line 0, col0): medicationdispense0332:: MedicationDispense.contained[0].ofType(Medication).ingredient[2].item.concept.coding[0]: Code &quot;0338-0519-02&quot; not found in NDC; The code &quot;0338-0519-02&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#0338-0519-02) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#0338-0519-02&#39; (src = TerminologyEngine)\nERROR @ MedicationRequest.contained[0].ofType(Medication).ingredient[2].item.concept.coding[0] (line 0, col0): medicationrequest0323:: MedicationRequest.contained[0].ofType(Medication).ingredient[2].item.concept.coding[0]: Code &quot;0338-0519-02&quot; not found in NDC; The code &quot;0338-0519-02&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#0338-0519-02) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#0338-0519-02&#39; (src = TerminologyEngine)\nERROR @ MedicationRequest.contained[0].ofType(Medication).code.coding[0] (line 0, col0): medicationrequest0339:: MedicationRequest.contained[0].ofType(Medication).code.coding[0]: Code &quot;0067-2091-03&quot; not found in NDC; The code &quot;0067-2091-03&quot; is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#0067-2091-03) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://hl7.org/fhir/sid/ndc#0067-2091-03&#39; (src = TerminologyEngine)\n</code></pre></div>",
        "id": 259345222,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635402412
    },
    {
        "content": "<p>Indeed, none of them are in the copy of NDC loaded on the server <a href=\"http://tx.fhir.org\">tx.fhir.org</a>. Are they wrong, or is the server wrong? can anyone comment?</p>\n<p>thanks (<span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span>)</p>",
        "id": 259345248,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635402445
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> My first guess is that they are wrong.  NDC isn't particularly \"well-behaved\".  I believe it is still true that codes can be and frequently are removed from the code system distribution when the products are no longer being marketed.  Here's the salient comment from the FDA:</p>\n<blockquote>\n<p>The NDC Directory contains product listing data that have reached the marketing start date and have not reached marketing end date.</p>\n</blockquote>",
        "id": 259387980,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1635427823
    },
    {
        "content": "<p>Ick?</p>",
        "id": 259404693,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1635434412
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  can you give me the examples that fail validation with these errors and I'll fix?  I'm not sure how to avoid having to fix on occasion other than to not use NDC codes in our examples.</p>",
        "id": 259429656,
        "sender_full_name": "Melva Peters",
        "timestamp": 1635444550
    },
    {
        "content": "<p>i'll point out that the first one ' 0338-0519-02' was an actual NDC: Intralipid 250 mL in 1 BAG (0338-0519-02) <br>\n(Baxter Healthcare CORP). but it has stopped being marketed and only -04, -09, -13, -14, -58 are valid packaged codes.</p>",
        "id": 259429811,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1635444632
    },
    {
        "content": "<p>all the examples are above</p>",
        "id": 259460064,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635459755
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span></p>",
        "id": 259460105,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635459786
    },
    {
        "content": "<p>Thanks Grahame, I couldn't expand the examples, but was able to copy and paste into a text file.</p>",
        "id": 259472291,
        "sender_full_name": "Melva Peters",
        "timestamp": 1635469771
    },
    {
        "content": "<p>Thinking more about this and Jean's comment, It seems to me that this is an issue if the terminology considers codes for medications that were marketed previously as no longer valid.  Just because it is no longer marketed, doesn't mean it isn't a valid medication at some point.  This is going to be a never ending (and never winning) battle to have update examples based on codes.</p>",
        "id": 259897954,
        "sender_full_name": "Melva Peters",
        "timestamp": 1635789724
    },
    {
        "content": "<p>it certainly is a problem. Is there a full list of past and present ndc codes anywhere?</p>",
        "id": 259923374,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635801749
    },
    {
        "content": "<p>apparently not. I'm now collecting old versions of NDC please - if you have any old copies - the older the better - please send them to me, as long as you have a date for them (approximate is ok)</p>",
        "id": 259923865,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635802075
    },
    {
        "content": "<p>This RxNorm API includes current and historical NDCs from RxNorm, starting with 2005. <a href=\"https://lhncbc.nlm.nih.gov/RxNav/APIs/api-RxNorm.getAllNDCsByStatus.html\">https://lhncbc.nlm.nih.gov/RxNav/APIs/api-RxNorm.getAllNDCsByStatus.html</a></p>",
        "id": 259926649,
        "sender_full_name": "Patrick McLaughlin (NLM)",
        "timestamp": 1635803700
    },
    {
        "content": "<p>doesn't have descriptions though....</p>",
        "id": 259933556,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635808491
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194260\">@Patrick McLaughlin (NLM)</span> are those product and package codes? or just product codes?</p>",
        "id": 259937935,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635811233
    },
    {
        "content": "<p>well, I found source for the following versions:</p>",
        "id": 259958812,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635836078
    },
    {
        "content": "<p>I loaded them all, and then I still only had information for 20% of the codes UMLS thinks existed (and I had many other codes besides). Perhaps I don't know what I'm doing, so here's the list of codes I couldn't find:</p>",
        "id": 259958889,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635836165
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/JMAD0zeG7k-5IGxZtC-8VpXc/unknown-ndc-codes.json\">unknown-ndc-codes.json</a></p>",
        "id": 259958897,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635836175
    },
    {
        "content": "<p>anyway, all the codes above are about to become valid codes again, so there's no need to fix any examples</p>",
        "id": 259981902,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635852242
    },
    {
        "content": "<p>(<span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span> )</p>",
        "id": 259986109,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635854849
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179249-Medication/topic/NDC.20codes/near/259937935\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"194260\">Patrick McLaughlin (NLM)</span> are those product and package codes? or just product codes?</p>\n</blockquote>\n<p>Those are 11-digit package codes. </p>\n<p>You can retrieve RXCUI, conceptName, etc. from the NDC with this API: <a href=\"https://lhncbc.nlm.nih.gov/RxNav/APIs/api-RxNorm.getNDCStatus.html\">https://lhncbc.nlm.nih.gov/RxNav/APIs/api-RxNorm.getNDCStatus.html</a></p>",
        "id": 259988040,
        "sender_full_name": "Patrick McLaughlin (NLM)",
        "timestamp": 1635855968
    },
    {
        "content": "<p>a follow up NDC question from here: <a href=\"#narrow/stream/179252-IG-creation/topic/NDC.20display.20names\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/NDC.20display.20names</a></p>",
        "id": 261872534,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637196662
    },
    {
        "content": "<p>what's the correct display for an NDC package code? The NDC site appears to be using the associated product text for the package code - that means that multiple NDC package codes all have the same display? is that right? </p>\n<p>(<span class=\"user-mention\" data-user-id=\"194260\">@Patrick McLaughlin (NLM)</span> )</p>",
        "id": 261872611,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637196722
    }
]