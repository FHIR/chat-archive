[
    {
        "content": "<p>If you'd like to convert an IPS to a SHC, you can do this:</p>\n<ul>\n<li>\n<p>Post your IPS as a transaction to <a href=\"http://test.fhir.org/r4\">http://test.fhir.org/r4</a> (web workaround: go to that address in your browser, paste the IPS into the text box at the bottom of the page, and choose 'upload')</p>\n</li>\n<li>\n<p>observe the id of the patient created (look at the id of the second resource in the response)</p>\n</li>\n<li>\n<p>fetch a healthcare card for the patient created (web workaround: <a href=\"http://test.fhir.org/r4/Patient/[id]/$health-cards-issue?credentialType=https://smarthealth.cards%23health-card\">http://test.fhir.org/r4/Patient/[id]/$health-cards-issue?credentialType=https://smarthealth.cards%23health-card</a>)</p>\n</li>\n</ul>\n<p>bingo, you have yourself an SHC generated from the IPS.</p>",
        "id": 253167412,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631570408
    },
    {
        "content": "<p>There's some issues with this, though. On the IPS side, you must ensure that the immunizations are validly coded for SHC - that means, in practice, they must have a CVX, SCT, ICD-11, ATC, or AIR code. (they can have other codes, but must have one of them)</p>",
        "id": 253167580,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631570467
    },
    {
        "content": "<p>I generated this QR code from Peter Jordan's sample IPS.</p>",
        "id": 253167870,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631570616
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/25zJA1hkudAqKR3FjfRbBsJq/qr.png\">qr.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/25zJA1hkudAqKR3FjfRbBsJq/qr.png\" title=\"qr.png\"><img src=\"/user_uploads/10155/25zJA1hkudAqKR3FjfRbBsJq/qr.png\"></a></div>",
        "id": 253167879,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631570622
    },
    {
        "content": "<p>I've always wondered how Peter looked on the inside ... now I know <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 253168023,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631570698
    },
    {
        "content": "<p>This is super cool, thanks Grahame! Is it driven by a structure map?</p>",
        "id": 253168102,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1631570758
    },
    {
        "content": "<p>no. the logic is a bit tricky for that. And also, I just used my generic 'generate a SHC card'  code from the repository after loading the IPS into the repository</p>",
        "id": 253168224,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631570825
    },
    {
        "content": "<p>the actual logic is here:</p>",
        "id": 253168234,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631570830
    },
    {
        "content": "<p><a href=\"https://github.com/grahamegrieve/fhirserver/blob/master/server/healthcard_generator.pas#L243\">https://github.com/grahamegrieve/fhirserver/blob/master/server/healthcard_generator.pas#L243</a></p>",
        "id": 253168339,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631570882
    },
    {
        "content": "<p>to do for me is to populate the display for a performer if there's a reference not a display</p>",
        "id": 253168435,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631570943
    },
    {
        "content": "<p>It should be fairly easy to also do this with the EU DCC</p>",
        "id": 253169119,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631571303
    },
    {
        "content": "<p>if it's based on IPS... should be the same process?</p>",
        "id": 253169148,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631571325
    },
    {
        "content": "<p>EU DCC is not based on IPS - it is based on ... well ... its own definitions</p>",
        "id": 253169240,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631571363
    },
    {
        "content": "<p>if you're interested you can find the contents here: <a href=\"https://github.com/ehn-dcc-development/ehn-dcc-schema\">https://github.com/ehn-dcc-development/ehn-dcc-schema</a></p>",
        "id": 253169295,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631571403
    },
    {
        "content": "<p>and all the community reference libraries here: <a href=\"https://github.com/orgs/eu-digital-green-certificates/repositories\">https://github.com/orgs/eu-digital-green-certificates/repositories</a></p>",
        "id": 253169336,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631571444
    },
    {
        "content": "<p>how is that related to <a href=\"https://build.fhir.org/ig/hl7-eu/dcc/index.html\">https://build.fhir.org/ig/hl7-eu/dcc/index.html</a>?</p>",
        "id": 253169429,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631571494
    },
    {
        "content": "<p>because the process would be the same for anything conforming to that guide</p>",
        "id": 253169446,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631571508
    },
    {
        "content": "<p>I did the implementation for DK using a library developed in Sweden. I don't think that IG was ever used. At least not to my knowledge</p>",
        "id": 253169499,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631571554
    },
    {
        "content": "<p>The EU DCC is not related to FHIR</p>",
        "id": 253169537,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631571584
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191415\">@Giorgio Cangioli</span> might know what the origins of that IG is - but as you can see, it never went beyond v0.0.1</p>",
        "id": 253170006,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631571861
    },
    {
        "content": "<p>anyway, looking quickly at the DCC, it could be converted, but I'd actually have to do it to be sure</p>",
        "id": 253170478,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631572155
    },
    {
        "content": "<p>we're probably a bit late to that party</p>",
        "id": 253205161,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631601861
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191427\">Jens Villadsen</span> <a href=\"#narrow/stream/207835-IPS/topic/IPS.20.26.20SHC/near/253170006\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191415\">Giorgio Cangioli</span> might know what the origins of that IG is - but as you can see, it never went beyond v0.0.1</p>\n</blockquote>\n<p>Yes the development was put on hold  when the focus was given only on the QR code generation for getting a Yes/No answer. <br>\nThe json schema specified <a href=\"https://github.com/ehn-dcc-development/ehn-dcc-schema\">https://github.com/ehn-dcc-development/ehn-dcc-schema</a> defined for EU is reflected by this draft logical model (beside the root element) <a href=\"https://build.fhir.org/ig/hl7-eu/dcc/StructureDefinition-HC1.html\">https://build.fhir.org/ig/hl7-eu/dcc/StructureDefinition-HC1.html</a>. But it needs to be reviewed and used vocabularies will be added.</p>\n<p>I still believe that that DCC guide may have sense when the interest will not be limited to a Yes/No answer; but on getting vaccination information cross-border</p>",
        "id": 253208692,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1631604271
    },
    {
        "content": "<p>The DCC is not limited to a Yes/No - the DCC 'simply' states the data on person. It is up to any given authority to examine whether that data allows for 'passing the gates'</p>",
        "id": 253226476,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631614235
    },
    {
        "content": "<p>Yes but the scope is to generate a pass/no pass answer; not to share data about vaccinations</p>",
        "id": 253226767,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1631614433
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/207835-IPS/topic/IPS.20.26.20SHC/near/253169429\">said</a>:</p>\n<blockquote>\n<p>how is that related to <a href=\"https://build.fhir.org/ig/hl7-eu/dcc/index.html\">https://build.fhir.org/ig/hl7-eu/dcc/index.html</a>?</p>\n</blockquote>\n<p>the IG is considered a non-normative representation (as I understand) of the specs <span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span>  referenced</p>",
        "id": 253260458,
        "sender_full_name": "Carl Leitner",
        "timestamp": 1631629613
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191415\">Giorgio Cangioli</span> <a href=\"#narrow/stream/207835-IPS/topic/IPS.20.26.20SHC/near/253226767\">said</a>:</p>\n<blockquote>\n<p>Yes but the scope is to generate a pass/no pass answer; not to share data about vaccinations</p>\n</blockquote>\n<p>Actually not, AFAIK. The scope is to be able to expose data relevant for the DCC data model. It is correct that you wont have a certificate if you dont have any data that meets the data model, but it is definetly not a yes/no model.</p>",
        "id": 253264163,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631630969
    },
    {
        "content": "<p>Actually, the implementers decided that the FHIR spec would be an unnecessary layer of  abstraction (for the purpose). The group preferred to work from a JSON schema as a reference. All the mechanics of valueSets/codeSystems were agreed “ad hoc”, likewise some details on data and string formats that were not expressable in the JSON schema. Based on the initial FHIR work, some underlying structures of the JSON may still reflect kind of FHIR-based ideas</p>",
        "id": 253298044,
        "sender_full_name": "Christof Gessner",
        "timestamp": 1631643570
    },
    {
        "content": "<p>A central part of the DCC implementations appears to be the decision support that is implemented gathering qualified “business rules” expressed in JSONlogic. Applied to the data, those rules yield the desired automated yes/no answer, specific for the ruleset of the target country or region.</p>",
        "id": 253302656,
        "sender_full_name": "Christof Gessner",
        "timestamp": 1631645334
    },
    {
        "content": "<p><a href=\"https://ec.europa.eu/health/sites/default/files/ehealth/docs/eu-dcc_validation-rules_en.pdf\">https://ec.europa.eu/health/sites/default/files/ehealth/docs/eu-dcc_validation-rules_en.pdf</a></p>\n<p><a href=\"https://github.com/ehn-dcc-development/dgc-business-rules\">https://github.com/ehn-dcc-development/dgc-business-rules</a></p>",
        "id": 253308899,
        "sender_full_name": "Christof Gessner",
        "timestamp": 1631647642
    },
    {
        "content": "<p>can't imagine what could go wrong with ad hocing all that stuff...</p>",
        "id": 253314944,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1631649816
    },
    {
        "content": "<p>Thanks to all who joined the IPS &amp; SHC breakout session. Major points to follow-up (<span class=\"user-mention\" data-user-id=\"322501\">@Max Masnick</span> <span class=\"user-mention\" data-user-id=\"194174\">@Paul Denning</span> <span class=\"user-mention\" data-user-id=\"197651\">@Reece Adamson</span> feel free to add) -</p>\n<ol>\n<li>\n<p>CVX support - consider adding slice for CDC CVX to Immunization-uv-ips, which currently slices SNOMED GPS and WHO ATC. CDC CVX is one of the few currently openly licensed code sets that supports vaccine codes to the granularity needed to identify specific medicinal product and is committed to representing international (non-US approved vaccine) codes. We are considering making CVX must-support in the SHC vaccination and testing IG.</p>\n</li>\n<li>\n<p>credential types for IPS - if there is a use case for transporting 'raw' IPS resources via health card, can consider defining credential types (see <a href=\"https://spec.smarthealth.cards/vocabulary/\">https://spec.smarthealth.cards/vocabulary/</a>) for the IPS domain to allow querying and identification of these cards. While a QR code has data size limitations, they can transport a fair amount of data as in <a href=\"https://spec.smarthealth.cards/examples/example-02-a-fhirBundle.json\">https://spec.smarthealth.cards/examples/example-02-a-fhirBundle.json</a>, which can be transported in 3 QRs.</p>\n</li>\n</ol>",
        "id": 253316112,
        "sender_full_name": "Neelima Karipineni",
        "timestamp": 1631650270
    },
    {
        "content": "<p>See about getting COVID vaccinations into SNOMED GPS</p>",
        "id": 253403415,
        "sender_full_name": "Paul Denning",
        "timestamp": 1631708244
    },
    {
        "content": "<p>We can further discuss <span class=\"user-mention\" data-user-id=\"194164\">@Neelima Karipineni</span>'s points (particularly #1) on our IPS Touchpoint and also the regular weekly HL7 IPS call (11:00 AM ET) today.  And, as <span class=\"user-mention\" data-user-id=\"194174\">@Paul Denning</span> suggests we should gather the data to make a request to SNOMED International for requesting additional COVID vaccination codes in the SNOMED CT GPS.</p>",
        "id": 253407254,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1631710196
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/207835-IPS/topic/IPS.20.26.20SHC/near/253314944\">said</a>:</p>\n<blockquote>\n<p>can't imagine what could go wrong with ad hocing all that stuff...</p>\n</blockquote>\n<p>it actually works, AFAIK</p>",
        "id": 253800087,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1631909097
    },
    {
        "content": "<p>typically, things like that do but are fragile against the future. We have enough problems with the future...</p>",
        "id": 254098242,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632163473
    },
    {
        "content": "<p>I dont believe there is a future where SHC/DCC is widely used</p>",
        "id": 254247767,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1632246009
    },
    {
        "content": "<p>For SMART Health Cards, we anticipate many common workflows including presenting childrens' vaccination records to schools. (In many parts of USA, this is a manual, frustrating, and error prone process -- has been for decades and won't decline in importance.)</p>",
        "id": 254248171,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632246204
    },
    {
        "content": "<p>long standing need for immunizations cards for many things. Often we all forget when these events happen.</p>",
        "id": 254249948,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632246954
    },
    {
        "content": "<p>I had to dig up my immunization cards for Visa applications to many countries.</p>",
        "id": 254250023,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632246971
    },
    {
        "content": "<p>Today, this is often just a statement by the individual. But if we had an interoperable technical solution, it would be more used.</p>",
        "id": 254250211,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632247065
    },
    {
        "content": "<p>but, I am with Jens that this future is unclear.  COVID has driven the use-case due to urgency.</p>",
        "id": 254250422,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632247136
    }
]