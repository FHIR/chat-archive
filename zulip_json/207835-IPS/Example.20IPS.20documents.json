[
    {
        "content": "<p>hey all. If you're part of any kind of IPS connectathon stream, I'd love to see your sample documents - I'm going to have a go at making the validator more useful</p>",
        "id": 256391171,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1633517430
    },
    {
        "content": "<p>Hi Grahame. Our current sample can be located here: <a href=\"https://github.com/jddamore/IPSviewer/blob/main/samples/connectathon_samples/US_Dynamic_Health_IT_Happy_Kid_FHIR_Bundle-IPS.json\">https://github.com/jddamore/IPSviewer/blob/main/samples/connectathon_samples/US_Dynamic_Health_IT_Happy_Kid_FHIR_Bundle-IPS.json</a></p>",
        "id": 256392886,
        "sender_full_name": "Matthew Dugal",
        "timestamp": 1633518447
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191473\">@Matthew Dugal</span> . Here's the error list against the base FHIR spec:</p>",
        "id": 256393879,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1633519043
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"error\"><pre><span></span><code>  Error @ Bundle.entry[4].resource.ofType(AllergyIntolerance).onset.ofType(Period).start (line 523, col18) : This element is not allowed by the profile http://hl7.org/fhir/StructureDefinition/dateTime\n  Error @ Bundle.entry[17].resource.ofType(Encounter).serviceProvider : Multiple matches in bundle for reference Organization/200017-Organization-10001\n  Error @ Bundle.entry[1].resource.ofType(Patient).communication[0].language (line 327, col40) : None of the codings provided are in the value set http://hl7.org/fhir/ValueSet/all-languages (http://hl7.org/fhir/ValueSet/all-languages), and a coding from this value set is required) (codes = null#en-US)\n  Error @ Bundle.entry[7].resource.ofType(MedicationStatement).category.coding[0] (line 698, col26) : The Coding references a value set, not a code system ('http://hl7.org/fhir/ValueSet/medication-statement-category')\n  Error @ Bundle.entry[7].resource.ofType(MedicationStatement).category.coding[0] (line 698, col26) : Unknown Code System 'http://hl7.org/fhir/ValueSet/medication-statement-category'\n  Error @ Bundle.entry[8].resource.ofType(MedicationStatement).category.coding[0] (line 761, col26) : The Coding references a value set, not a code system ('http://hl7.org/fhir/ValueSet/medication-statement-category')\n  Error @ Bundle.entry[8].resource.ofType(MedicationStatement).category.coding[0] (line 761, col26) : Unknown Code System 'http://hl7.org/fhir/ValueSet/medication-statement-category'\n  Error @ Bundle.entry[9].resource.ofType(MedicationStatement).category.coding[0] (line 824, col26) : The Coding references a value set, not a code system ('http://hl7.org/fhir/ValueSet/medication-statement-category')\n  Error @ Bundle.entry[9].resource.ofType(MedicationStatement).category.coding[0] (line 824, col26) : Unknown Code System 'http://hl7.org/fhir/ValueSet/medication-statement-category'\n  Error @ Bundle.entry[10].resource.ofType(Immunization).vaccineCode.coding[0] (line 891, col14) : Unable to find code 2031000221103 in http://snomed.info/sct (version http://snomed.info/sct/900000000000207008/version/20200131); The code \"2031000221103\" is not valid in the system http://snomed.info/sct; The code provided (http://snomed.info/sct#2031000221103) is not valid in the value set 'All codes known to the system' (from http://tx.fhir.org/r4) for 'http://snomed.info/sct#2031000221103'\n  Error @ Bundle.entry[10].resource.ofType(Immunization).vaccineCode.coding[2] (line 901, col26) : Code \"49281-0286-01\" not found in NDC; The code \"49281-0286-01\" is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#49281-0286-01) is not valid in the value set 'All codes known to the system' (from http://tx.fhir.org/r4) for 'http://hl7.org/fhir/sid/ndc#49281-0286-01'\n  Error @ Bundle.entry[11].resource.ofType(Immunization).vaccineCode.coding[0] (line 957, col14) : Unable to find code 836377006 in http://snomed.info/sct (version http://snomed.info/sct/900000000000207008/version/20200131); The code \"836377006\" is not valid in the system http://snomed.info/sct; The code provided (http://snomed.info/sct#836377006) is not valid in the value set 'All codes known to the system' (from http://tx.fhir.org/r4) for 'http://snomed.info/sct#836377006'\n  Error @ Bundle.entry[11].resource.ofType(Immunization).vaccineCode.coding[2] (line 967, col26) : Code \"49281-0710-40\" not found in NDC; The code \"49281-0710-40\" is not valid in the system http://hl7.org/fhir/sid/ndc; The code provided (http://hl7.org/fhir/sid/ndc#49281-0710-40) is not valid in the value set 'All codes known to the system' (from http://tx.fhir.org/r4) for 'http://hl7.org/fhir/sid/ndc#49281-0710-40'\n  Error @ Bundle.entry[15].resource.ofType(Observation).interpretation[0].coding[0] (line 1194, col30) : Unknown Code System 'http://hl7.org/fhir/v2/0078'\n  Error @ Bundle.entry[16].resource.ofType(Observation).interpretation[0].coding[0] (line 1267, col30) : Unknown Code System 'http://hl7.org/fhir/v2/0078'\n  Error @ Bundle.entry[3].resource.ofType(AllergyIntolerance).onset.ofType(Period) (line 441, col18) : This element does not match any known slice  defined in the profile http://hl7.org/fhir/uv/ips/StructureDefinition/AllergyIntolerance-uv-ips and slicing is CLOSED: Bundle.entry[3].resource.ofType(AllergyIntolerance).onset.ofType(Period): Does not match slice 'onsetDateTime'\n  Error @ Bundle.entry[4].resource.ofType(AllergyIntolerance).onset.ofType(Period) (line 523, col18) : This element does not match any known slice  defined in the profile http://hl7.org/fhir/uv/ips/StructureDefinition/AllergyIntolerance-uv-ips and slicing is CLOSED: Bundle.entry[4].resource.ofType(AllergyIntolerance).onset.ofType(Period): Does not match slice 'onsetDateTime'\n  Error @ Bundle.entry[15].resource.ofType(Observation).interpretation[0].coding[0].system (line 1195, col73) : URL value 'http://hl7.org/fhir/v2/0078' does not resolve\n  Error @ Bundle.entry[16].resource.ofType(Observation).interpretation[0].coding[0].system (line 1268, col73) : URL value 'http://hl7.org/fhir/v2/0078' does not resolve\n  Error @ Bundle.entry[3].resource.ofType(AllergyIntolerance).patient (line 436, col51) : Unable to find a match for profile Patient/101304 among choices: http://hl7.org/fhir/uv/ips/StructureDefinition/Patient-uv-ips\n  Error @ Bundle.entry[3].resource.ofType(AllergyIntolerance).onset.ofType(Period) (line 442, col30) : The Profile 'http://hl7.org/fhir/uv/ips/StructureDefinition/AllergyIntolerance-uv-ips' definition allows for the type dateTime but found type Period\n  Error @ Bundle.entry[4].resource.ofType(AllergyIntolerance).patient (line 518, col51) : Unable to find a match for profile Patient/101304 among choices: http://hl7.org/fhir/uv/ips/StructureDefinition/Patient-uv-ips\n  Error @ Bundle.entry[4].resource.ofType(AllergyIntolerance).onset.ofType(Period) (line 524, col30) : The Profile 'http://hl7.org/fhir/uv/ips/StructureDefinition/AllergyIntolerance-uv-ips' definition allows for the type dateTime but found type Period\n  Error @ Bundle.entry[6].resource.ofType(Condition).subject (line 675, col18) : Unable to find a match for profile Patient/101304 among choices: http://hl7.org/fhir/uv/ips/StructureDefinition/Patient-uv-ips\n  Error @ Bundle.entry[17].resource.ofType(Encounter).subject (line 1321, col20) : Unable to find a match for profile Patient/101304 among choices: http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient\n  Error @ Bundle (line 1, col2) : bdl-7: 'FullUrl must be unique in a bundle, or else entries with the same fullUrl must have different meta.versionId (except in history bundles)' Rule 'FullUrl must be unique in a bundle, or else entries with the same fullUrl must have different meta.versionId (except in history bundles)' Failed\n</code></pre></div>",
        "id": 256393887,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1633519050
    },
    {
        "content": "<p>I can explain any of those errors if you need help</p>",
        "id": 256393967,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1633519083
    },
    {
        "content": "<p>Thank you. We will investigate.</p>",
        "id": 256394314,
        "sender_full_name": "Matthew Dugal",
        "timestamp": 1633519309
    },
    {
        "content": "<p>Grahame, can you provide some insight into this error:<br>\nError @ Bundle.entry[3].resource.ofType(AllergyIntolerance).patient (line 436, col51) : Unable to find a match for profile Patient/101304 among choices: <a href=\"http://hl7.org/fhir/uv/ips/StructureDefinition/Patient-uv-ips\">http://hl7.org/fhir/uv/ips/StructureDefinition/Patient-uv-ips</a></p>",
        "id": 256403310,
        "sender_full_name": "Matthew Dugal",
        "timestamp": 1633523934
    },
    {
        "content": "<p>you need an absolute URL for your fullURL on the patient</p>",
        "id": 256419344,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1633530111
    }
]