[
    {
        "content": "<p>If it's useful to anyone, <a href=\"http://test.fhir.org/r2\">test.fhir.org/r2</a> now works with the ecr now application. Here's how to get it working:</p>\n<ul>\n<li>Login to <a href=\"https://test.fhir.org/r2\">https://test.fhir.org/r2</a> using one of the login methods (your google login, or ask me to create a login)</li>\n<li>go to <a href=\"https://test.fhir.org/r2/registerclient.html\">https://test.fhir.org/r2/registerclient.html</a> to register your client -<ul>\n<li>choose a name that distinguishes your client from anyone else who registers their client</li>\n<li>use mode = Public OAuth client</li>\n<li>enter your site (e.g. <a href=\"http://localhost:8081\">http://localhost:8081</a>) for both client URI and in the redirect list</li>\n<li>Click on \"Show this application on the patient screen\"</li>\n</ul>\n</li>\n<li>now, find one of the encounter options using the web interface (not your rest client)<ul>\n<li>e.g. <a href=\"https://test.fhir.org/r2/Encounter?patient=12724070\">https://test.fhir.org/r2/Encounter?patient=12724070</a>  (that search takes ages - ~3min) - some indexing problem)</li>\n<li>then click on \"this resource\", then \"Patient Encounter Page\"</li>\n<li>then pick your client from the list of patient focused applications</li>\n</ul>\n</li>\n</ul>",
        "id": 197513374,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589440593
    },
    {
        "content": "<p>(there's no way in the system to make your application apply only for you)</p>",
        "id": 197513419,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589440638
    },
    {
        "content": "<p>note: I registered a generic localhost:8081 that anyone can use if your ecrNow app is running on <a href=\"http://localhost:8081\">http://localhost:8081</a>. The client id for this client is c.2</p>",
        "id": 197513584,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589440744
    },
    {
        "content": "<p>This is great, Grahame! Thank you.</p>",
        "id": 197533379,
        "sender_full_name": "John Loonsk",
        "timestamp": 1589451330
    },
    {
        "content": "<p>+1</p>",
        "id": 197538306,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1589454787
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  -- How do i launch the app</p>",
        "id": 197705880,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1589555450
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192017\">@Nagesh Bashyam</span> you can launch it by going to the resource page, then clicking on &lt;resource type&gt; Page and there should be a link to the app... or you can hit <a href=\"http://localhost:8081/?iss=https://test.fhir.org/r2&amp;launch=&lt;resource\">http://localhost:8081/?iss=https://test.fhir.org/r2&amp;launch=&lt;resource</a> type&gt;/&lt;id&gt;</p>",
        "id": 197710257,
        "sender_full_name": "Eric Marriott",
        "timestamp": 1589557168
    },
    {
        "content": "<p>I tried it with the following : <br>\n<a href=\"http://localhost:8081/?iss=https://test.fhir.org/r2&amp;launch=Encounter/97953489\">http://localhost:8081/?iss=https://test.fhir.org/r2&amp;launch=Encounter/97953489</a> <br>\nand with <br>\n<a href=\"http://localhost:8081/?iss=https://test.fhir.org/r2&amp;launch=Patient/12724070\">http://localhost:8081/?iss=https://test.fhir.org/r2&amp;launch=Patient/12724070</a></p>\n<p>and I am getting the following error ... Any thoughts ?<br>\n[Microsoft][SQL Server Native Client 11.0]String data, right truncation</p>",
        "id": 197716288,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1589559877
    },
    {
        "content": "<p>Oh I think there may be something wrong with your scope string?</p>",
        "id": 197719659,
        "sender_full_name": "Eric Marriott",
        "timestamp": 1589561217
    },
    {
        "content": "<p>Oh, it might be too long - I think that's the problem I ran into.  On the hl7 fhir test server I had to make my scope string <code>user/*.*,patient/*.*</code> I think</p>",
        "id": 197720909,
        "sender_full_name": "Eric Marriott",
        "timestamp": 1589561766
    },
    {
        "content": "<p>oh. interesting. the scope string is limited to 255 chars.</p>",
        "id": 197732064,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589566880
    },
    {
        "content": "<p>I'll have to think about how to fix</p>",
        "id": 197732132,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589566912
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/lwmg9x50BZ-cd4eUu-L7WXwT/ecr-now-log.json\">ecr-now-log.json</a></p>",
        "id": 197759617,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589581772
    },
    {
        "content": "<p>that's an R2 test-script resource that contains the log of calls made against <a href=\"http://test.fhir.org\">test.fhir.org</a> after erNow was authenticated to it.</p>",
        "id": 197759694,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589581807
    }
]