[
    {
        "content": "<p>Yritän elvyttää vielä kesän alussa toiminutta sandbox1:stä käyttävää skriptiäni, joka luo potilaan ja syöttää sille Observationin, mutta viimeisen puolen vuoden aikana tulleiden minulle tuntemattomien muutoksien takia skripti ei enää toimi monestakaan kohtaa. Onko muutoksista nähtävillä lokia? Eikö sandbox1:ssä enää voi käyttää Observationia suoraan? Virheilmoituksen palauttama linkki on muuten rikki:<br>\n{<br>\n  \"resourceType\": \"OperationOutcome\",<br>\n  \"issue\": [<br>\n    {<br>\n      \"severity\": \"error\",<br>\n      \"code\": \"processing\",<br>\n      \"diagnostics\": \"No profile found, url: <a href=\"http://phr.kanta.fi/StructureDefinition/fiphr-vitalsigns\" target=\"_blank\" title=\"http://phr.kanta.fi/StructureDefinition/fiphr-vitalsigns\">http://phr.kanta.fi/StructureDefinition/fiphr-vitalsigns</a>\"<br>\n    }<br>\n  ]<br>\n}</p>",
        "id": 153928219,
        "sender_full_name": "Esko Niinimäki",
        "timestamp": 1515577401
    },
    {
        "content": "<blockquote>\n<p>Yritän elvyttää vielä kesän alussa toiminutta sandbox1:stä käyttävää skriptiäni, joka luo potilaan ja syöttää sille Observationin, mutta viimeisen puolen vuoden aikana tulleiden minulle tuntemattomien muutoksien takia skripti ei enää toimi monestakaan kohtaa. Onko muutoksista nähtävillä lokia? Eikö sandbox1:ssä enää voi käyttää Observationia suoraan? Virheilmoituksen palauttama linkki on muuten rikki:<br>\n{<br>\n  \"resourceType\": \"OperationOutcome\",<br>\n  \"issue\": [<br>\n    {<br>\n      \"severity\": \"error\",<br>\n      \"code\": \"processing\",<br>\n      \"diagnostics\": \"No profile found, url: <a href=\"http://phr.kanta.fi/StructureDefinition/fiphr-vitalsigns\" target=\"_blank\" title=\"http://phr.kanta.fi/StructureDefinition/fiphr-vitalsigns\">http://phr.kanta.fi/StructureDefinition/fiphr-vitalsigns</a>\"<br>\n    }<br>\n  ]<br>\n}</p>\n</blockquote>\n<p>Lähettämänne Observation viittaa vanhentuneeseen profiiliin. Olemme siirtyneet kokonaan FHIR:n STU3 -versioon ja käyttämänne Observationin täytyisi olla järjestelmästä löytyvän Observation -profiilin mukainen. Profiilimme on julkaistu simplifierissä osoitteessa </p>\n<p><a href=\"https://simplifier.net/FinnishPHR/~resources?category=Profile\" target=\"_blank\" title=\"https://simplifier.net/FinnishPHR/~resources?category=Profile\">https://simplifier.net/FinnishPHR/~resources?category=Profile</a></p>\n<p>vital signs tyyppistä profiilia ei nykyään pysty suoraan käyttämään ainoana profiilina vaan täytyy käyttää jotain noista tarkemmista profiileista, kuten verenpainemittaus tai vyötärönympäryksen mittaus.</p>\n<p>Virheilmoituksen url ei ole www-osoite vaan viittaa profiilin tunnisteena toimivaan urliin.</p>",
        "id": 153928246,
        "sender_full_name": "Matti Uusitalo",
        "timestamp": 1515589724
    },
    {
        "content": "<p>Kiitos vastauksesta Matti!</p>\n<hr>\n<p>Sandboxin palvelin tykkää edelleen palauttaa Error 500:sta. Torstaina alkanut päivitys edelleen käynnissä? Jos päivitys kestää useamman päivän, olisi mukava, jos se mainittaisiin samalla kun päivityksestä ilmoitetaan :).</p>",
        "id": 153928815,
        "sender_full_name": "Esko Niinimäki",
        "timestamp": 1516004970
    },
    {
        "content": "<p>Hei,<br>\nOlen luonut sandboxiin Patientin, jolle yritän syöttää implementaatio-oppaan esimerkin mukaista bodyweight-mittausta (<a href=\"https://simplifier.net/guide/FinnishPHRImplementationGuideAT/Maximalbodyweight\" target=\"_blank\" title=\"https://simplifier.net/guide/FinnishPHRImplementationGuideAT/Maximalbodyweight\">https://simplifier.net/guide/FinnishPHRImplementationGuideAT/Maximalbodyweight</a>). Palvelin kuitenkin vastaa koodilla 422 ja ilmoituksella:<br>\n{<br>\n  \"resourceType\": \"OperationOutcome\",<br>\n  \"issue\": [<br>\n    {<br>\n      \"severity\": \"error\",<br>\n      \"code\": \"processing\",<br>\n      \"diagnostics\": \"Profile <a href=\"http://phr.kanta.fi/StructureDefinition/fiphr-bodyweight-stu3\" target=\"_blank\" title=\"http://phr.kanta.fi/StructureDefinition/fiphr-bodyweight-stu3\">http://phr.kanta.fi/StructureDefinition/fiphr-bodyweight-stu3</a>, Element 'Observation.text': minimum required = 1, but only found 0\",<br>\n      \"location\": [<br>\n        \"Observation\"<br>\n      ]<br>\n    }<br>\n  ]<br>\n}<br>\nEn ymmärrä. Eihän profiilin pitäisi sisältää text-elementtiä? <a href=\"https://simplifier.net/FinnishPHR/fiphr-bodyweight-stu3/\" target=\"_blank\" title=\"https://simplifier.net/FinnishPHR/fiphr-bodyweight-stu3/\">https://simplifier.net/FinnishPHR/fiphr-bodyweight-stu3/</a></p>",
        "id": 153929185,
        "sender_full_name": "Esko Niinimäki",
        "timestamp": 1516183532
    },
    {
        "content": "<p>Hei,</p>\n<p>Implementaatio-oppaassa on maininta, että tuo DomainResource.text (esim. Observation.text) on pakollinen:<br>\n<a href=\"https://simplifier.net/guide/FinnishPHRImplementationGuideAT/Notesrelatedtoallresourcetypes\" target=\"_blank\" title=\"https://simplifier.net/guide/FinnishPHRImplementationGuideAT/Notesrelatedtoallresourcetypes\">https://simplifier.net/guide/FinnishPHRImplementationGuideAT/Notesrelatedtoallresourcetypes</a></p>\n<p>Myös profiilissa tuo vaaditaan pakollisena ja sksi palvelin herjaa virheestä kun se puuttuu. Tuo pakollisuus on annetu FinnishPHR Vital Signs base profiilissa ja periytyy sieltä siitä periytettyihin profiileihin:<br>\n{<br>\n                \"id\":\"Observation.text\",<br>\n                \"path\":\"Observation.text\",<br>\n                \"min\":\"1\"<br>\n            },</p>\n<p>Valitettavasti Simplifieria on nyt päivitetty siten, että se ei näytä enää DomainResource-tason profilointeja profiilien renderoinnissä (esim. overview). Näin tämä profilointi näkyy vain katsottaessa esim. profiilin JSON muotoa. Laitamme tästä Furorelle palautetta.</p>\n<p>Implementaatio-oppaassa oleva esimerkki on vanha ja siitä puuttuu pakollinen Observation.text elementti. Implementointiopas on muutenkin meillä päivityksen alla, sillä profiilit ovat osin kehittyneet nopeampaa tahtia kuin implementointiopasta on ehditty päivittämään.</p>",
        "id": 153929396,
        "sender_full_name": "Mika Tuomainen",
        "timestamp": 1516260766
    },
    {
        "content": "<p>Kiitos Mika! Kyllä nämäkin tiedot olivat olemassa kuten arvelinkin, ongelmana oli vain löytää ne.</p>",
        "id": 153929573,
        "sender_full_name": "Esko Niinimäki",
        "timestamp": 1516353517
    }
]