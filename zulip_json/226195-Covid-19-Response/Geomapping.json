[
    {
        "content": "<p>This weekend, for the Datavant Pandemic Response Hackathon, I put together together a COVID19 on FHIR Geomapping tool.  I'm registering it with the EHR App stores, and have a full schedule of calls this week with ONC, State of Illinois, Allscripts, a Paratransit Dispatch service, and others.  </p>\n<p><a href=\"/user_uploads/10155/LbzE-QzhU3T7llgVT0RCgkQz/Covid19Geocoding.png\" title=\"Covid19Geocoding.png\">Covid19Geocoding.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/LbzE-QzhU3T7llgVT0RCgkQz/Covid19Geocoding.png\" title=\"Covid19Geocoding.png\"><img src=\"/user_uploads/10155/LbzE-QzhU3T7llgVT0RCgkQz/Covid19Geocoding.png\"></a></div><p><a href=\"/user_uploads/10155/5TdxKiQD_8VCxVEcjsKsEjad/Covid19Geomapping-SyntheaHeatmap.png\" title=\"Covid19Geomapping-SyntheaHeatmap.png\">Covid19Geomapping-SyntheaHeatmap.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/5TdxKiQD_8VCxVEcjsKsEjad/Covid19Geomapping-SyntheaHeatmap.png\" title=\"Covid19Geomapping-SyntheaHeatmap.png\"><img src=\"/user_uploads/10155/5TdxKiQD_8VCxVEcjsKsEjad/Covid19Geomapping-SyntheaHeatmap.png\"></a></div><p>Project website:  <br>\n<a href=\"https://github.com/symptomatic/covid19-on-fhir\" title=\"https://github.com/symptomatic/covid19-on-fhir\">https://github.com/symptomatic/covid19-on-fhir</a></p>\n<p>Demo website:<br>\n<a href=\"https://covid19-on-fhir.meteorapp.com/\" title=\"https://covid19-on-fhir.meteorapp.com/\">https://covid19-on-fhir.meteorapp.com/</a></p>\n<p>Hackathon Entry:<br>\n<a href=\"https://devpost.com/software/covid19-on-fhir\" title=\"https://devpost.com/software/covid19-on-fhir\">https://devpost.com/software/covid19-on-fhir</a></p>\n<p>Big thank you to <span class=\"user-mention\" data-user-id=\"191381\">@Jason Walonoski</span> and <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span>.</p>",
        "id": 192274847,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1585583116
    },
    {
        "content": "<p>Awesome, how can we integrate this with a Measaure Source from The SANER Project so that it could map w/ data from there?</p>",
        "id": 192275482,
        "sender_full_name": "Keith Boone",
        "timestamp": 1585583366
    },
    {
        "content": "<p>Yes, I have Measure and MeasureReporting UI components available, and I've been planning to get them in ASAP.  I also made sure when implementing the heatmap to use the weighted version, so we can add bed count to markers and heatmap.  There's going to be some fine tuning to get the map right, but totally doable.</p>",
        "id": 192276677,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1585583828
    },
    {
        "content": "<p>FWIW, I plan to add ventilator use and other supply consumption to the Synthea COVID model.</p>",
        "id": 192276860,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1585583908
    },
    {
        "content": "<p>Ventilator is already in there, but as a Procedure and not a Device.</p>",
        "id": 192276904,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1585583930
    },
    {
        "content": "<p>That would be an excellent addition.  We have Device UI components as well.  But I may need to make a second page for the ICU bed tracking components.</p>",
        "id": 192277668,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1585584255
    },
    {
        "content": "<p>Also, regarding the hackathon entry.  If you want an easy way to lend some help, go to the Devpost website, and like and VOTE for the project.  ONC and others are evaluating submissions for the next two days.  <br>\n<a href=\"https://devpost.com/software/covid19-on-fhir\" title=\"https://devpost.com/software/covid19-on-fhir\">https://devpost.com/software/covid19-on-fhir</a></p>\n<p><span class=\"user-mention\" data-user-id=\"197491\">@Dave deBronkart</span> Signal boost?</p>",
        "id": 192277864,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1585584358
    },
    {
        "content": "<p>Initial registration with the EHRs completed.  Now onto SMART on FHIR testing with their sandboxes.  I'm skeptical that they will have any COVID19 data, but I'm not entirely sure we need it.  We've already validated and done some amount of load testing with HAPI and the Synthea data.</p>",
        "id": 192299042,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1585593365
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191387\">@Keith Boone</span> - I added in the Measure, MeasureReport, Device, and Organization components today.  We have the necessary pieces in place to generate an ICU bed capacity map.</p>\n<p><a href=\"/user_uploads/10155/BOHiNPkhfCFLvUzlyZeJdiT2/Screen-Shot-2020-03-31-at-8.01.04-PM.png\" title=\"Screen-Shot-2020-03-31-at-8.01.04-PM.png\">Screen-Shot-2020-03-31-at-8.01.04-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/BOHiNPkhfCFLvUzlyZeJdiT2/Screen-Shot-2020-03-31-at-8.01.04-PM.png\" title=\"Screen-Shot-2020-03-31-at-8.01.04-PM.png\"><img src=\"/user_uploads/10155/BOHiNPkhfCFLvUzlyZeJdiT2/Screen-Shot-2020-03-31-at-8.01.04-PM.png\"></a></div>",
        "id": 192473229,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1585703318
    },
    {
        "content": "<p>Right now the utility is configured as an app that fetches data.  So if SANER can expose the Measure, MeasureReport, and Organization endpoints, we should have enough to generate maps.</p>",
        "id": 192473325,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1585703433
    },
    {
        "content": "<p>Uploading the latest version of the geomapping software this evening.  Got the Health Service Area (HSA) and Health Referral Region (HRR) shapefiles loaded up, and we use the ISSP organization file to cross reference between CMS number and HSA code.  Sweet!  (That's a sharp looking map, if I do say so myself.  Still swapping out reimbursement data for synthetic Covid19 data, but I think it's going to pull together nicely.)</p>\n<p><a href=\"/user_uploads/10155/Z8hYpOe3PP7NIbK2xSNPeRHV/Screen-Shot-2020-05-11-at-7.32.59-PM.png\">Screen-Shot-2020-05-11-at-7.32.59-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Z8hYpOe3PP7NIbK2xSNPeRHV/Screen-Shot-2020-05-11-at-7.32.59-PM.png\" title=\"Screen-Shot-2020-05-11-at-7.32.59-PM.png\"><img src=\"/user_uploads/10155/Z8hYpOe3PP7NIbK2xSNPeRHV/Screen-Shot-2020-05-11-at-7.32.59-PM.png\"></a></div>",
        "id": 197223568,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1589244191
    },
    {
        "content": "<p>Abigail, are you using the geolocation extension coordinates in the extension or the geo codes in the Location.position? I find it strange to have these extensions in Measure when Location already has position.</p>",
        "id": 197223920,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589244540
    },
    {
        "content": "<p>Not using the geolocation extension.  Going the other direction.  For these maps, I'm generally using capacity-planning extensions on the Location object.  So the workflow goes:</p>\n<p>A. Hub receives MeasureReport (push or fetch)<br>\nB. Hub maybe also receives Organizations, Devices, Locations; or does lookups as needed.<br>\nC. Hub maps <code>MeasureReport.group.measureScore</code> to <code>Location.extension.extensionA</code> and stored in a 2dsphere index.<br>\nD. 2dsphere index service serves up Location objects to clients and anybody who asks for it.<br>\nE. Clients map <code>Location.extension.extensionA</code> to geoJson feature file and renders.  (Might have the server do this)</p>\n<p>The extensions on the Location object are intended to be lightweight and lossy.  They won't pass validation when the Location object is passed to external systems, which <em>is by design</em>.  Feature, not a flaw.  They're like extension riders for the mapping software, but as soon as they hit a validator, they get cleaved off and abandoned leaving the underlying Location object intact.  The mapping presentation layer can be ephemeral; it doesn't need to be authoritative.</p>",
        "id": 197224844,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1589245624
    },
    {
        "content": "<p>Here is an example of what I have in mind.  (I brought this up a few weeks ago).</p>\n<p><a href=\"https://github.com/symptomatic/covid19-saner/blob/master/data/locations/location-covid19-reporting-extension.json\">https://github.com/symptomatic/covid19-saner/blob/master/data/locations/location-covid19-reporting-extension.json</a></p>",
        "id": 197224915,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1589245698
    },
    {
        "content": "<p>I just need to publish a StructureDefinition so we have a valid URL to put in the extension.</p>",
        "id": 197224969,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1589245767
    },
    {
        "content": "<p>Okay, I've drafted two possible StructureDefinitions that I'm proposing, and could use some feedback on.  Understanding that the authoritative version of the score will be kept in the MeasureReport resource, when passing around lightweight extensions, should we try to differentiate and be semantically different?  Or should we try to preserve the original context?  </p>\n<p>Option A - Be precise in intended function and use (i.e. LocationBedCapacity)<br>\n<a href=\"https://github.com/symptomatic/covid19-saner/blob/master/data/specifications/Extension-LocationBedCapacity-StructureDefinition.json\">https://github.com/symptomatic/covid19-saner/blob/master/data/specifications/Extension-LocationBedCapacity-StructureDefinition.json</a></p>\n<p>Option B - Preserve original context and variable name.  (i.e. numTotBeds)<br>\n<a href=\"https://github.com/symptomatic/covid19-saner/blob/master/data/specifications/Extension-numTotBeds-StructureDefinition.json\">https://github.com/symptomatic/covid19-saner/blob/master/data/specifications/Extension-numTotBeds-StructureDefinition.json</a></p>",
        "id": 197234014,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1589259295
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 197234094,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1589259368
    },
    {
        "content": "<p>I am not a fan of these extensions either. We are in early data modeling of the FHIR specification. Sometimes extensions are needed to move faster than the FHIR specification can manage. but we should not be putting data into a Resource that is not proper in that resource. This is why I didn't like the GeoLocation in the Measure, and this is why I would not like a bed capacity in the Location resource. That said, I agree with doing this in the short term and turning that into proper FHIR change requests and modeling in the medium term.</p>",
        "id": 197276717,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589290796
    },
    {
        "content": "<p>I'm not exactly proposing that these extensions themselves get formalized or encouraged.  </p>\n<p>Rather, I think it's important that implementors document the customizations or changes that we make using the tools and processes that we all have agreed upon.  And then also design in such a way that the protocols gracefully degrade services and/or jettison payloads if another system doesn't support those customizations.  When used correctly, extensions allow both systems to use the same underlying Resource, while one of them uses it in a more robust way.  (Honestly, from an implementation perspective, I find it a graceful approach.)  That's interoperability at its best. </p>\n<p>For what its worth, I'm probably going to do the exact same thing as I create the Organization Leaderboard.  Bed capacity doesn't belong on the Organization resource either, but if I'm using the Organization resource to create a Leaderboard and make a customization to it, I think it's good practice to document the customizations accordingly.  </p>\n<p>In both cases, I think there's an underlying need for FHIR change requests related to capacity and inventory management.  Hopefully, these extensions will be documented evidence for creating those change requests.</p>",
        "id": 197309540,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1589304369
    },
    {
        "content": "<p>yup. do what we need to now... figure out 'better' next week</p>",
        "id": 197312035,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589305444
    },
    {
        "content": "<p>Quick updates on geomapping: </p>\n<p>Here's a map of CMS hospitals, with the IPPS file (Provider Directory). I was thinking of adding the capacity and MeasureScores directly to the map.<br>\n<a href=\"/user_uploads/10155/WkrRVpFmx5OENu49Jr8AaBL-/Symptomatic-Covid19-HospitalCapacity-Evansville-Sm.png\">Symptomatic-Covid19-HospitalCapacity-Evansville-Sm.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/WkrRVpFmx5OENu49Jr8AaBL-/Symptomatic-Covid19-HospitalCapacity-Evansville-Sm.png\" title=\"Symptomatic-Covid19-HospitalCapacity-Evansville-Sm.png\"><img src=\"/user_uploads/10155/WkrRVpFmx5OENu49Jr8AaBL-/Symptomatic-Covid19-HospitalCapacity-Evansville-Sm.png\"></a></div>",
        "id": 197627496,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1589496092
    },
    {
        "content": "<p>Another map of Patient/Location, for GPS enabled Contact Tracing.<br>\n<a href=\"/user_uploads/10155/ZLhJatVF23L_cN0lacdfmbIn/Symptomatic-HomeAddresses-Heatmap2-Sm.png\">Symptomatic-HomeAddresses-Heatmap2-Sm.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ZLhJatVF23L_cN0lacdfmbIn/Symptomatic-HomeAddresses-Heatmap2-Sm.png\" title=\"Symptomatic-HomeAddresses-Heatmap2-Sm.png\"><img src=\"/user_uploads/10155/ZLhJatVF23L_cN0lacdfmbIn/Symptomatic-HomeAddresses-Heatmap2-Sm.png\"></a></div>",
        "id": 197627627,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1589496180
    },
    {
        "content": "<p>And lastly, this one uses a provider directory and a heatmap and measure scores. I like the direction this is going, but there's something missing. Maybe the orange header/footer are a bit much. Maybe it needs a You Are Here icon. Or hospital icons. Something.   I'm still noodling on it's design.</p>\n<p><a href=\"/user_uploads/10155/auPc2uc0qU5yqjBMOWHEefX9/Symptomatic-CovidGeomapping-Chicago-Hospitals2-Sm.png\">Symptomatic-CovidGeomapping-Chicago-Hospitals2-Sm.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/auPc2uc0qU5yqjBMOWHEefX9/Symptomatic-CovidGeomapping-Chicago-Hospitals2-Sm.png\" title=\"Symptomatic-CovidGeomapping-Chicago-Hospitals2-Sm.png\"><img src=\"/user_uploads/10155/auPc2uc0qU5yqjBMOWHEefX9/Symptomatic-CovidGeomapping-Chicago-Hospitals2-Sm.png\"></a></div>",
        "id": 197628131,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1589496574
    },
    {
        "content": "<p>At some point UDI-DI (model/version of device) would add value to ventilator use.  IEEE 11073 group has included UDI in networked device information.  Supply chain is beginning to use UDI in inventory systems.  If devices by model (UDI-DI) were planned for as you iterate on this model, then in future pandemics hospitals could not only identify gross numbers but types of devices depending on patient need, clinician training etc.  It would also allow for monitoring of device effectiveness with certain patient populations</p>",
        "id": 197629924,
        "sender_full_name": "Terrie Reed",
        "timestamp": 1589497770
    },
    {
        "content": "<p>All right, here is the municipal heatmap using test data pulled from the Epic servers.  <br>\n<a href=\"/user_uploads/10155/kKdz5PUhuQBpLmWaTJU8JPWU/Symptomatic-SANER-Chicago-EpicData-SunnyGradient.jpg\">Symptomatic-SANER-Chicago-EpicData-SunnyGradient.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/kKdz5PUhuQBpLmWaTJU8JPWU/Symptomatic-SANER-Chicago-EpicData-SunnyGradient.jpg\" title=\"Symptomatic-SANER-Chicago-EpicData-SunnyGradient.jpg\"><img src=\"/user_uploads/10155/kKdz5PUhuQBpLmWaTJU8JPWU/Symptomatic-SANER-Chicago-EpicData-SunnyGradient.jpg\"></a></div>",
        "id": 199242740,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1590821923
    },
    {
        "content": "<p>And the same map in a Frozen/Halo color theme.  <br>\n<a href=\"/user_uploads/10155/Q1cqwwf2QwZf9W4v_2RisYx6/Symptomatic-SANER-Chicago-EpicData-FrozenGradient.jpg\">Symptomatic-SANER-Chicago-EpicData-FrozenGradient.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Q1cqwwf2QwZf9W4v_2RisYx6/Symptomatic-SANER-Chicago-EpicData-FrozenGradient.jpg\" title=\"Symptomatic-SANER-Chicago-EpicData-FrozenGradient.jpg\"><img src=\"/user_uploads/10155/Q1cqwwf2QwZf9W4v_2RisYx6/Symptomatic-SANER-Chicago-EpicData-FrozenGradient.jpg\"></a></div>",
        "id": 199242747,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1590821951
    },
    {
        "content": "<p>Here's the Dartmouth HSA shapefile (choropleth) without any data mapped onto it.  </p>\n<p><a href=\"/user_uploads/10155/-AliUdR2jpuhqSRcqTTQCXFw/Symptomatic-SANER-Choropleth-EasternZone.jpg\">Symptomatic-SANER-Choropleth-EasternZone.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/-AliUdR2jpuhqSRcqTTQCXFw/Symptomatic-SANER-Choropleth-EasternZone.jpg\" title=\"Symptomatic-SANER-Choropleth-EasternZone.jpg\"><img src=\"/user_uploads/10155/-AliUdR2jpuhqSRcqTTQCXFw/Symptomatic-SANER-Choropleth-EasternZone.jpg\"></a></div>",
        "id": 199266904,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1590859152
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 199267576,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1590860147
    },
    {
        "content": "<p>Here is some of the raw MeasureReport scores (numBeds) being mapped (without the HSA choropleth shapefile layer).  Next step for the choropleths to is roll up the numbers using $contains or a similar operator.</p>\n<p><a href=\"/user_uploads/10155/mrrCmercbT567Pbim3lobn-2/Symptomatic-SANER-Chicago-EpicData.jpg\">Symptomatic-SANER-Chicago-EpicData.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/mrrCmercbT567Pbim3lobn-2/Symptomatic-SANER-Chicago-EpicData.jpg\" title=\"Symptomatic-SANER-Chicago-EpicData.jpg\"><img src=\"/user_uploads/10155/mrrCmercbT567Pbim3lobn-2/Symptomatic-SANER-Chicago-EpicData.jpg\"></a></div>",
        "id": 199267929,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1590860667
    },
    {
        "content": "<p>Ah, I've managed to begin colorizing the choropleth based on the data from the sandbox servers.  </p>\n<p><a href=\"/user_uploads/10155/dugQqq-bq5djLUPuDoQ-_zO2/Symptomatic-SANER-Choropleth-ChicagoMilwaukeeMadison-ChiTownReporting-50Percent.jpg\">Symptomatic-SANER-Choropleth-ChicagoMilwaukeeMadison-ChiTownReporting-50Percent.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/dugQqq-bq5djLUPuDoQ-_zO2/Symptomatic-SANER-Choropleth-ChicagoMilwaukeeMadison-ChiTownReporting-50Percent.jpg\" title=\"Symptomatic-SANER-Choropleth-ChicagoMilwaukeeMadison-ChiTownReporting-50Percent.jpg\"><img src=\"/user_uploads/10155/dugQqq-bq5djLUPuDoQ-_zO2/Symptomatic-SANER-Choropleth-ChicagoMilwaukeeMadison-ChiTownReporting-50Percent.jpg\"></a></div>",
        "id": 199271721,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1590866236
    }
]