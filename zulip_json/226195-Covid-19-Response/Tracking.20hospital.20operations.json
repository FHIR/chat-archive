[
    {
        "content": "<p>Has anyone designed FHIR profiles for tracking the following?</p>\n<ul>\n<li>Available beds (including ICU beds) per facility</li>\n<li>Supply availability per facility (e.g., masks, respirators, test kits)</li>\n</ul>\n<p>I'm seeing a whole bunch of conversations about how to track these things, but I haven't seen concrete profiles or examples yet.</p>",
        "id": 191305529,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584740104
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191387\">@Keith Boone</span> is looking at ICU beds</p>",
        "id": 191328203,
        "sender_full_name": "Arien Malec",
        "timestamp": 1584765581
    },
    {
        "content": "<p>The following site is broader than what you are suggesting, but I think a good approach and could meet those needs:  <a href=\"https://hub.bio.org/\" target=\"_blank\" title=\"https://hub.bio.org/\">https://hub.bio.org/</a></p>",
        "id": 191482653,
        "sender_full_name": "Nancy Lush",
        "timestamp": 1584974626
    },
    {
        "content": "<p>Keith let me know that he is going to be publishing a draft guide this morning!</p>",
        "id": 191484949,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584975554
    },
    {
        "content": "<p>I'm considering SupplyRequest to model disposable use of gloves, masks, etc.</p>",
        "id": 191503398,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1584982568
    },
    {
        "content": "<p>supplyrequest is, well, a request, so a planned use, not an actual use</p>",
        "id": 191504597,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584983037
    },
    {
        "content": "<p>if you'd want to use somethign to say \"we spent these gloves\" and given that we do not have a \"ProductConsumption\" resource, you could better tweak SupplyDelivery for that</p>",
        "id": 191504759,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584983092
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191387\">@Keith Boone</span> will you let us know here when your IG is up at <a href=\"https://build.fhir.org\" target=\"_blank\" title=\"https://build.fhir.org\">https://build.fhir.org</a>?</p>",
        "id": 191519474,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584989433
    },
    {
        "content": "<p>Right now it is here <a href=\"https://audaciousinquiry.github.io/saner-ig/\" target=\"_blank\" title=\"https://audaciousinquiry.github.io/saner-ig/\">https://audaciousinquiry.github.io/saner-ig/</a>, but will be linking to <a href=\"http://build.fhir.org\" target=\"_blank\" title=\"http://build.fhir.org\">build.fhir.org</a> shortly.</p>",
        "id": 191531091,
        "sender_full_name": "Keith Boone",
        "timestamp": 1584994933
    },
    {
        "content": "<p>I have some minor tweaks to my tooling before I can automate all the stuff.</p>",
        "id": 191531152,
        "sender_full_name": "Keith Boone",
        "timestamp": 1584994972
    },
    {
        "content": "<p>the IG looks great. <br>\nContent-wise, I believe Group is intended to be a group of subjects that will be acted upon, so I'd have preferred to use List for this.</p>",
        "id": 191532684,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584995775
    },
    {
        "content": "<p>I think the practical challenge with List is that if you want to <em>just</em> provide counts, there's no place to do it (vs Group.quantity, which lets you supply a total without enumerating members). <span class=\"user-mention\" data-user-id=\"191387\">@Keith Boone</span> were there other considerations?</p>",
        "id": 191533225,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584996041
    },
    {
        "content": "<p>yes, I am just recalling (I think) the discussions about the intended use of Group. If the Group is the entity that is being acted upon (also judging from the places where Group is used like .subject in several resources)</p>",
        "id": 191533542,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584996194
    },
    {
        "content": "<p>I don't think we have any resource that is ideal for this concept, anyway</p>",
        "id": 191533729,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584996287
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  Is there a formally endorsed way to refer to a FHIR Element path in a Coding? In Keith's draft IG I see values like:</p>\n<div class=\"codehilite\"><pre><span></span>&quot;coding&quot;: {\n  &quot;system&quot;: &quot;http://hl7.org/fhir/location-definitions.html&quot;,\n  &quot;code&quot;: &quot;Location.status&quot;\n}\n</pre></div>\n\n\n<p>Using the HTML page in a <code>system</code> seems slightly off, but I have to admit I'm not sure if we've defined any official alternative.</p>",
        "id": 191533817,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584996337
    },
    {
        "content": "<p>Also <span class=\"user-mention\" data-user-id=\"191387\">@Keith Boone</span> I'd be happy to contribute examples to the IG (I don't see any yet -- let me know if I'm missing anything).</p>",
        "id": 191533958,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584996396
    },
    {
        "content": "<p>what about the Expression data type?</p>",
        "id": 191533993,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584996419
    },
    {
        "content": "<p>For fields like <a href=\"https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group-definitions.html#Group.characteristic:Feature\" target=\"_blank\" title=\"https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group-definitions.html#Group.characteristic:Feature\">feature</a> and <a href=\"https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group-definitions.html#Group.characteristic:Location\" target=\"_blank\" title=\"https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group-definitions.html#Group.characteristic:Location\">location </a>  <span class=\"user-mention\" data-user-id=\"191387\">@Keith Boone</span> I was thinking we might just use a valueReference instead of repeating all the Location fields within Group characteristics. Before seeing your guide I wrote up an example at <a href=\"https://gist.github.com/jmandel/41f47088085cf4633506b43438925389#file-tracking-examples-json-L66-L77\" target=\"_blank\" title=\"https://gist.github.com/jmandel/41f47088085cf4633506b43438925389#file-tracking-examples-json-L66-L77\">https://gist.github.com/jmandel/41f47088085cf4633506b43438925389#file-tracking-examples-json-L66-L77</a> (you can ignore all but the highlighted snippet; other details still need to be aligned to your IG) -- curious if you considered this?</p>",
        "id": 191534088,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584996470
    },
    {
        "content": "<blockquote>\n<p>Jose Costa Teixeira: what about the Expression data type?</p>\n</blockquote>\n<p>What about it?</p>",
        "id": 191534102,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584996481
    },
    {
        "content": "<p>To refer to the element path</p>",
        "id": 191534169,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584996498
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>   I mean to say: <code>Group.characteristic.code</code> is a CodeableConcept -- so the question is what's the preferred way to represent a FHIR element path as a Coding. Can you share an example of how you'd use an Expression for this (??inside a Coding?)</p>",
        "id": 191534341,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584996595
    },
    {
        "content": "<p>ah sorry, I was thinking that this was something we could change the data type.</p>",
        "id": 191534756,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584996770
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191533225\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191533225\">said</a>:</p>\n<blockquote>\n<p>I think the practical challenge with List is that if you want to <em>just</em> provide counts, there's no place to do it (vs Group.quantity, which lets you supply a total without enumerating members). <span class=\"user-mention silent\" data-user-id=\"191387\">Keith Boone</span> were there other considerations?</p>\n</blockquote>\n<p>Two considerations: 1) as <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  mentions, counts.  2) ability to define and query by defined characteristics, which Group has but List does not.</p>",
        "id": 191535346,
        "sender_full_name": "Keith Boone",
        "timestamp": 1584997034
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191533958\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191533958\">said</a>:</p>\n<blockquote>\n<p>Also <span class=\"user-mention silent\" data-user-id=\"191387\">Keith Boone</span> I'd be happy to contribute examples to the IG (I don't see any yet -- let me know if I'm missing anything).</p>\n</blockquote>\n<p>Examples would be helpful, but first we need to get the community all agreed that we are headed in the right direction.  I think this is a good start, but then I  _might_ have some bias.</p>",
        "id": 191536703,
        "sender_full_name": "Keith Boone",
        "timestamp": 1584997677
    },
    {
        "content": "<p>I think this is a  <em>great</em> start. I'll add some questions etc on Github, and looking forward to connecting tomorrow. I'm working with <span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> and <span class=\"user-mention\" data-user-id=\"233081\">@Carl Anderson</span> on some sample data now to try things out  / develop some opinions :)</p>",
        "id": 191537051,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584997853
    },
    {
        "content": "<p>Did you consider specific operation together with a count extension on List? What is being proposed doesn't exist anyway, so it is unlikely that the barrier to implementation will be higher with an operation. In fact, with an operation you can have an output parameter for count, and another for the List.</p>",
        "id": 191537053,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1584997854
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  I'd prefer to use <a href=\"http://hl7.org/fhir\" target=\"_blank\" title=\"http://hl7.org/fhir\">http://hl7.org/fhir</a> as the coding system for paths, or perhaps <a href=\"http://hl7.org/fhir/R4\" target=\"_blank\" title=\"http://hl7.org/fhir/R4\">http://hl7.org/fhir/R4</a> (because the paths change by version), perhaps with some additional value if you want to keep it separate from the core FHIR namespace.  Frankly, the paths are a vocabulary defined by FHIR itself.</p>",
        "id": 191537063,
        "sender_full_name": "Keith Boone",
        "timestamp": 1584997861
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span> Getting good <code>search</code> capabilities out of the box is a big win; Group.characteristic has search indexes in place.</p>",
        "id": 191537115,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584997884
    },
    {
        "content": "<p>This as a short term solution, sure, that is what we have. <br>\nI echoed that Group is a different concept, so in the long term I don't think it is a good choice. The alternative would be extensions.</p>",
        "id": 191537119,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584997887
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> Out of which box? Is the assumption that defining a resource means the search capabilities exist for free? If there is no implementation of Group,  I doubt that there is much difference between implementing a selection over a set of operation input parameters for the particular purpose, and implementing a Group resource. Given the ad-hoc nature of this, operations should be given a good look.</p>",
        "id": 191537772,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1584998191
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191504759\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191504759\">said</a>:</p>\n<blockquote>\n<p>if you'd want to use somethign to say \"we spent these gloves\" and given that we do not have a \"ProductConsumption\" resource, you could better tweak SupplyDelivery for that</p>\n</blockquote>\n<p>The only problem with SupplyDelivery, is that it doesn't have a reason code or reference. e.g. ventilation due to respiratory distress due to COVID19. Although that could be an extension... And another issue with SupplyRequest, is that a Procedure cannot be reason (e.g. ventilation is likely a procedure).</p>",
        "id": 191538916,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1584998791
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191381\">Jason Walonoski</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191538916\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191538916\">said</a>:</p>\n<blockquote>\n<p>The only problem with SupplyDelivery, is that it doesn't have a reason code or reference. e.g. ventilation due to respiratory distress due to COVID19. Although that could be an extension... And another issue with SupplyRequest, is that a Procedure cannot be reason (e.g. ventilation is likely a procedure).</p>\n</blockquote>\n<p>Ok so this is not only \"we used these gloves\" but \"we used these gloves because we were admitting patients\" which is not a supply anymore, right?</p>",
        "id": 191539225,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584998942
    },
    {
        "content": "<p>Having said that, Group already allows Device to be a member, and with Device.type being pretty much everything, Group is very close to being useful as  is...</p>",
        "id": 191539484,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1584999058
    },
    {
        "content": "<p>I prefer to have the immediate needs in this thread, and the \"what we can do in the future\" in the committers stream.<br>\nfor the immediate needs, I'm happy to defer to the comments on Keith's approach</p>",
        "id": 191539555,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584999106
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191539225\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191539225\">said</a>:</p>\n<blockquote>\n<p>Ok so this is not only \"we used these gloves\" but \"we used these gloves because we were admitting patients\" which is not a supply anymore, right?</p>\n</blockquote>\n<p>OK. So what is it then? Genuinely curious what the other sane options are.</p>",
        "id": 191539664,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1584999145
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191387\">Keith Boone</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191531091\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191531091\">said</a>:</p>\n<blockquote>\n<p>Right now it is here <a href=\"https://audaciousinquiry.github.io/saner-ig/\" target=\"_blank\" title=\"https://audaciousinquiry.github.io/saner-ig/\">https://audaciousinquiry.github.io/saner-ig/</a>, but will be linking to <a href=\"http://build.fhir.org\" target=\"_blank\" title=\"http://build.fhir.org\">build.fhir.org</a> shortly.</p>\n</blockquote>\n<p>Keith, it looks like the <code>SupportingDevice</code> profile is incorrectly derived from <code>Location</code>.</p>",
        "id": 191539779,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1584999232
    },
    {
        "content": "<p>today, there are no sane options. This was not considered.</p>",
        "id": 191539833,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584999243
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191537051\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191537051\">said</a>:</p>\n<blockquote>\n<p>I think this is a  <em>great</em> start. I'll add some questions etc on Github, and looking forward to connecting tomorrow. I'm working with <span class=\"user-mention silent\" data-user-id=\"222054\">Gino Canessa</span> and <span class=\"user-mention silent\" data-user-id=\"233081\">Carl Anderson</span> on some sample data now to try things out  / develop some opinions :)</p>\n</blockquote>\n<p>I'm using FSH for development, so if you can build samples using FSH files, those can easily drop in.  JSON  and XML will of course work easily, but aren't as easy for real people instead of tech-heads like us to modify.</p>",
        "id": 191540490,
        "sender_full_name": "Keith Boone",
        "timestamp": 1584999629
    },
    {
        "content": "<p>(For discussion tomorrow, I'm going to explore a flat Location-based approach, too -- want to make sure we understand trade-offs. The obvious downside to a flat list is that we might not <em>know</em> information about individual beds, but over time we expect to have more granular and automated feeds, so representing the data in a granular way up-front can be nice. It allows better use of FHIR search infrastructure, Bundle.count, etc)</p>",
        "id": 191540513,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584999643
    },
    {
        "content": "<p>Group supports definition by intention as well as by enumeration.  For public health reporting, they frankly aren't interested in the enumeration of the list, rather, what they can from aggregates classified.</p>",
        "id": 191540801,
        "sender_full_name": "Keith Boone",
        "timestamp": 1584999812
    },
    {
        "content": "<p>Yes, for sure -- but using Group means storing a bunch of Location semantics into group characteristics, and though FHIR search kind of exists for these, composite search parameters aren't that well supported in real life (e.g., HAPI's server <a href=\"https://github.com/jamesagnew/hapi-fhir/issues/555\" target=\"_blank\" title=\"https://github.com/jamesagnew/hapi-fhir/issues/555\">doesn't handle these right</a>)</p>",
        "id": 191540986,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584999923
    },
    {
        "content": "<p>But I agree, there're many use cases that might only care about counts.</p>",
        "id": 191541023,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584999952
    },
    {
        "content": "<p>These <em>could</em> be handled by <code>_summary=count</code> queries, though. In other words, clients could request counts without needing to materialize them in a Group.</p>",
        "id": 191541137,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585000005
    },
    {
        "content": "<p>@Josh, that sounds like HAPI's implementation over storage, b/c I KNOW I've used HAPI to pass composites to an implementation I build that DOES do the right thing.</p>",
        "id": 191541151,
        "sender_full_name": "Keith Boone",
        "timestamp": 1585000014
    },
    {
        "content": "<p>Yeah, it's a db/storag issue rather than a query parsing issue.</p>",
        "id": 191541187,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585000035
    },
    {
        "content": "<p>(Anyway, to be clear, there's extreme value in not thrashing on design -- so picking something quickly, documenting its warts, and moving on is great.)</p>",
        "id": 191541226,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585000060
    },
    {
        "content": "<p>Summary of initial thoughts (sorry, cannot make it tomorrow):</p>\n<ol>\n<li>Operations allow to define exactly what we are looking for, and what we want back (good for an ad-hoc, urgent implementation)</li>\n<li>Group -&gt;member-device-&gt;location makes more sense than Group-&gt;member-location (unless the intention is to not use member at all)</li>\n</ol>",
        "id": 191541748,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1585000352
    },
    {
        "content": "<p>Re: operations, my concern is that they require <em>custom coding</em>. For something urgent, being able to use off-the-shelf FHIR servers is a big win.</p>",
        "id": 191541960,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585000469
    },
    {
        "content": "<p>(I agree that the semantics of Operations are powerful / well-suited.)</p>",
        "id": 191541978,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585000481
    },
    {
        "content": "<p>Good point, but not universal <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 191542074,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1585000541
    },
    {
        "content": "<p>And on (2), currently a group can't have a \"member location\" so it's good you find that \"member device\" makes more sense ;)</p>",
        "id": 191542090,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585000550
    },
    {
        "content": "<p>We're prototyping something with flat Locations to see how this works, too. <span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span> do you have a perspective on this?</p>",
        "id": 191542164,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585000577
    },
    {
        "content": "<p>Not currently. I understand the initial thought (beds are locations in ADT feeds), but I don't know if using Location makes things easier. At first glance using Device is more versatile.</p>",
        "id": 191542594,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1585000811
    },
    {
        "content": "<p>(So, there's the \"Use Group for counts, vs just query resources for counts\" discussion, and the \"Use Locations, vs use Devices\" discussion. I think you're commenting on the latter, but I also want to get your take on the former if you have one.)</p>",
        "id": 191542761,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585000921
    },
    {
        "content": "<p>Use \"something\" for counts - Group or an output/input parameter, or something else:<br>\nI suspect that explicit counts is better. _summary=count may not be useful for Public Health.</p>",
        "id": 191543182,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1585001150
    },
    {
        "content": "<p>Could imagine defining a public health query operation to provide these answers, given a server with granular data stored inside of it. This might a good/flexible pattern (submit / store granular details, and generate summary reports as needed).</p>",
        "id": 191543464,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585001245
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191542090\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191542090\">said</a>:</p>\n<blockquote>\n<p>And on (2), currently a group can't have a \"member location\" so it's good you find that \"member device\" makes more sense ;)</p>\n</blockquote>\n<p>My thinking on this as I examined location originally was that individual beds weren't what PH wants to know about.  That led me to Group.  From there it was pretty easy to diagnose that Group didn't support \"Location\".  But then thinking it through: A bed is a device (I used to work for companies that made very specialized beds among other things), and Location is simply an attribute of the device (where it is right now).  In fact, for some of this, you have to go through device to get to location, and then attributes of location to determine other devices to get to \"This bed supports negative airflow isolation\".  This isn't a row in a table, it's a report on a view of several tables, which may include devices and locations, which can support certain functions of interest to the \"customer\" (Public Health).  That led me right back to Group and characteristics...</p>\n<p>FWIW: Lots of device manufacturers also spend a good bit on Health IT development around helping facilities track those expensive devices, and those systems integrate with the EHR and so I'm back again to \"Report to customer what they want to know about Beds\" as opposed to report about each an every bed (Location).</p>\n<p>Central Monitoring, ICU Management and Bed Management solutions have a place in this, I think.</p>",
        "id": 191544958,
        "sender_full_name": "Keith Boone",
        "timestamp": 1585002133
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191387\">Keith Boone</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191544958\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191544958\">said</a>:</p>\n<blockquote>\n<p>This isn't a row in a table, it's a report on a view of several tables, which may include devices and locations, which can support certain functions of interest to the \"customer\" (Public Health). </p>\n</blockquote>\n<p>That's what leads me to operation(s)....</p>",
        "id": 191546891,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1585003269
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span>  If you or I were building it from our infrastructure, Operations is a completely logical place to start (in fact I spent some time thinking about this as an operation on Location).  But if someone is trying to build this by gluing together various parts, an off the shelf FHIR server and something that pulls from a bed management component or EHR directly, then they have to write the code to do the operation.  Whereas, with group, they can have one component write and update groups, and another public health/hie facing one to support reporting via queries.</p>",
        "id": 191547494,
        "sender_full_name": "Keith Boone",
        "timestamp": 1585003637
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191387\">Keith Boone</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191547494\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191547494\">said</a>:</p>\n<blockquote>\n<p>But if someone is trying to build this by gluing together various parts, an off the shelf FHIR server and something that pulls from a bed management component or EHR directly, then they have to write the code to do the operation.  </p>\n</blockquote>\n<p>I think you might be overestimating the difference in effort between the two. </p>\n<p>Another very important point is to consider what is easier for the customer (Public Health). That should be the deciding factor, and hopefully we can have them involved from the beginning.</p>",
        "id": 191549041,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1585004635
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> <a href=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191534088\" title=\"#narrow/stream/226195-Covid-19-Response/topic/Tracking.20hospital.20operations/near/191534088\">said</a>:</p>\n<blockquote>\n<p>For fields like <a href=\"https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group-definitions.html#Group.characteristic:Feature\" target=\"_blank\" title=\"https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group-definitions.html#Group.characteristic:Feature\">feature</a> and <a href=\"https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group-definitions.html#Group.characteristic:Location\" target=\"_blank\" title=\"https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group-definitions.html#Group.characteristic:Location\">location </a>  <span class=\"user-mention silent\" data-user-id=\"191387\">Keith Boone</span> I was thinking we might just use a valueReference instead of repeating all the Location fields within Group characteristics. Before seeing your guide I wrote up an example at <a href=\"https://gist.github.com/jmandel/41f47088085cf4633506b43438925389#file-tracking-examples-json-L66-L77\" target=\"_blank\" title=\"https://gist.github.com/jmandel/41f47088085cf4633506b43438925389#file-tracking-examples-json-L66-L77\">https://gist.github.com/jmandel/41f47088085cf4633506b43438925389#file-tracking-examples-json-L66-L77</a> (you can ignore all but the highlighted snippet; other details still need to be aligned to your IG) -- curious if you considered this?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  Actual, Location is valueReference already if you look at the differential here: <a href=\"https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group.html\" target=\"_blank\" title=\"https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group.html\">https://audaciousinquiry.github.io/saner-ig/StructureDefinition-saner-bed-group.html</a></p>\n<p>For Feature, I have a code set, but realized I hadn't plugged it in. For Bed, it just covers Isoloation, with three values: NEGISO, OTHISO, NONISO to allow reporting of beds that support Isolation.</p>",
        "id": 191549315,
        "sender_full_name": "Keith Boone",
        "timestamp": 1585004803
    },
    {
        "content": "<p>Sorry for taking so long to respond - long day of calls, then home stuff.  Based on <a href=\"http://build.fhir.org/questionnaire.html#definition\" target=\"_blank\" title=\"http://build.fhir.org/questionnaire.html#definition\">this</a> solution for pointing to elements in Questionnaire my leaning might be to go with \"<a href=\"http://hl7.org/fhir/R4/StructureDefinition\" target=\"_blank\" title=\"http://hl7.org/fhir/R4/StructureDefinition\">http://hl7.org/fhir/R4/StructureDefinition</a>\" as the code system.  But I'm not sure the StructureDefinition is critical.</p>",
        "id": 191559740,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585014578
    },
    {
        "content": "<p>I'm fine with whatever is fastest to get up and running here, but I would like a disclaimer somewhere noting that's what we've done and that some of the resources are being abused to go beyond their intended functions - I'd rather not have people using Group this way 2 years from now</p>",
        "id": 191559827,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585014674
    },
    {
        "content": "<p>Thanks. I think <code>system</code>: <code>http://hl7.org/fhir/StructureDefinition/Location</code> , <code>code</code>: <code>Location.status</code> makes sense / follows the existing pattern.</p>",
        "id": 191560638,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585015732
    },
    {
        "content": "<p>(And at least the URL resolves / redirects properly, for now anyway ;-))</p>",
        "id": 191560652,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585015760
    },
    {
        "content": "<p>I'm happy with <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>'s suggestion, like it even</p>",
        "id": 191561516,
        "sender_full_name": "Keith Boone",
        "timestamp": 1585017071
    },
    {
        "content": "<p>To be clear, is Lloyd suggesting \"<a href=\"http://hl7.org/fhir/StructureDefinition/Location\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/Location\">http://hl7.org/fhir/StructureDefinition/Location</a>\" or \"<a href=\"http://hl7.org/fhir/StructureDefinition\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition\">http://hl7.org/fhir/StructureDefinition</a>\" as the <code>system</code>? Text suggests the latter, but his example suggests the former.</p>",
        "id": 191562600,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585018651
    },
    {
        "content": "<p>\"<a href=\"http://hl7.org/fhir/StructureDefinition/Location\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/Location\">http://hl7.org/fhir/StructureDefinition/Location</a>\" is the one that makes sense to me.</p>",
        "id": 191562662,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585018708
    },
    {
        "content": "<p>An element is typically expressed as Location.identifier, so including Location in the system is somewhat redundant.</p>",
        "id": 191562754,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585018840
    },
    {
        "content": "<p>(We should use the element paths as the element identifier - given that that's what we do everywhere else)</p>",
        "id": 191562767,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585018864
    },
    {
        "content": "<p>OK -- I'm having trouble seeing how this aligns with the example of</p>\n<blockquote>\n<p><a href=\"http://hl7.org/fhir/StructureDefinition/Observation#Observation.comment\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/Observation#Observation.comment\">http://hl7.org/fhir/StructureDefinition/Observation#Observation.comment</a>   </p>\n</blockquote>\n<p>I would have thought the part before <code>#</code> corresponded to a system, and the part after corresponded to a code.</p>",
        "id": 191563046,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585019185
    },
    {
        "content": "<p>The other obvious advantage is that the <code>system</code> URL points to something relevant (i.e., <a href=\"http://hl7.org/fhir/StructureDefinition/Location\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/Location\">http://hl7.org/fhir/StructureDefinition/Location</a> has relevant content, <a href=\"http://hl7.org/fhir/StructureDefinition\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition\">http://hl7.org/fhir/StructureDefinition</a> not so much)</p>",
        "id": 191563076,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585019244
    },
    {
        "content": "<p>My recommendation is: {\"system\":\"<a href=\"http://hl7.org/fhir/R4/StructureDefinition\" target=\"_blank\" title=\"http://hl7.org/fhir/R4/StructureDefinition\">http://hl7.org/fhir/R4/StructureDefinition</a>\", \"code\":\"Observation.comment\"}</p>",
        "id": 191563450,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585019776
    },
    {
        "content": "<p>The URL resolution bit is true.  Whether that justifies the redundancy, I don't know.</p>",
        "id": 191563457,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585019829
    },
    {
        "content": "<p>Can you clarify though how this aligns with the page you linked to?</p>",
        "id": 191563519,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585019889
    },
    {
        "content": "<p>I'm just missing where <a href=\"http://build.fhir.org/questionnaire.html#definition\" target=\"_blank\" title=\"http://build.fhir.org/questionnaire.html#definition\">http://build.fhir.org/questionnaire.html#definition</a> makes this recommendation, and it <em>seems</em> (to me) to say the other thing.</p>",
        "id": 191563533,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585019916
    },
    {
        "content": "<p>What we need is something like <a href=\"http://hl7.org/fhir/valueset-defined-types.html\" target=\"_blank\" title=\"http://hl7.org/fhir/valueset-defined-types.html\">http://hl7.org/fhir/valueset-defined-types.html</a> for fields.  What I used at least got people to a URL that resolved to something.  I think we could also eventually get to <a href=\"http://hl7.org/fhir/valueset-defined-elements.html\" target=\"_blank\" title=\"http://hl7.org/fhir/valueset-defined-elements.html\">http://hl7.org/fhir/valueset-defined-elements.html</a>, which might help.</p>",
        "id": 191563627,
        "sender_full_name": "Keith Boone",
        "timestamp": 1585020010
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> Looking at it more carefully, you're correct.  The redundancy is there to allow pointing to profiles and logical models</p>",
        "id": 191563696,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585020123
    },
    {
        "content": "<p>Yup, it just so happens that all FHIR StructureDefinition resources have that Redundancy, but extensions and profiles don't.  I can live with the redundancy.<br>\nLet's stick with that precedent unless/until it becomes changed.  Better to have one way to do this.</p>",
        "id": 191563729,
        "sender_full_name": "Keith Boone",
        "timestamp": 1585020204
    }
]