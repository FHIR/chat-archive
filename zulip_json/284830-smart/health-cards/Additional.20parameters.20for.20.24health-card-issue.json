[
    {
        "content": "<p>I've defined two additional parameters in my implementation of $health-card-issue.</p>",
        "id": 254128681,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177193
    },
    {
        "content": "<p>The first is trivial, but useful for demonstration purposes: add images=true</p>",
        "id": 254128704,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177211
    },
    {
        "content": "<p><a href=\"http://test.fhir.org/r4/Patient/1026/$health-cards-issue?credentialType=https://smarthealth.cards%23health-card&amp;images=true\">http://test.fhir.org/r4/Patient/1026/$health-cards-issue?credentialType=https://smarthealth.cards%23health-card&amp;images=true</a></p>",
        "id": 254128706,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177212
    },
    {
        "content": "<p>the second is little more difficult. The spec says:</p>",
        "id": 254128797,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177253
    },
    {
        "content": "<p>Images: cool! How do you tell which VC an image corresponds to? Just parse it and see?</p>",
        "id": 254129007,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632177379
    },
    {
        "content": "<p>yes I decided not to worry about that for now. They will be in order, but they effectively have separate consumers, I think</p>",
        "id": 254129042,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177411
    },
    {
        "content": "<p>I mean, I could do something about that but it would be clunky</p>",
        "id": 254129058,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177423
    },
    {
        "content": "<p>on the second issue:</p>",
        "id": 254129071,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177433
    },
    {
        "content": "<p>The spec says:</p>\n<blockquote>\n<p>Verifiers SHALL be able to meaningfully process and interpret codes from ALL of the systems listed above</p>\n</blockquote>",
        "id": 254129086,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177443
    },
    {
        "content": "<p>AIR, GTIN, CVX, SCT, ICD-11, ATC</p>",
        "id": 254129105,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177458
    },
    {
        "content": "<p>but in fact, that this statement is not true in reality: it's not happening.</p>",
        "id": 254129131,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177479
    },
    {
        "content": "<p>and this is likely an operational problem for us in Australia in the short term. So I have a parameter display=true. if you provide that, the immunization and observation codes will include a display, even though the display is prohibited.</p>",
        "id": 254129292,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177572
    },
    {
        "content": "<p>(this comes back to our vocabulary thread (I think the list is too long and includes things that are difficult or impossible to support, and which don't provide real value -- they're just there to avoid making jurisdictions angry.)</p>",
        "id": 254129299,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632177576
    },
    {
        "content": "<p>right GTIN is impossible</p>",
        "id": 254129312,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177585
    },
    {
        "content": "<p><a href=\"http://test.fhir.org/r4/Patient/1026/$health-cards-issue?credentialType=https://smarthealth.cards%23health-card&amp;images=true&amp;displays=true\">http://test.fhir.org/r4/Patient/1026/$health-cards-issue?credentialType=https://smarthealth.cards%23health-card&amp;images=true&amp;displays=true</a></p>",
        "id": 254129405,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177616
    },
    {
        "content": "<p>Cheating on display is a great move for improving display to consumers, but doesn't help verifiers verify automatically</p>",
        "id": 254129409,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632177621
    },
    {
        "content": "<p>leads to an immunization that looks like this:</p>",
        "id": 254129411,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177624
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n              <span class=\"nt\">\"resourceType\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"Immunization\"</span><span class=\"p\">,</span>\n              <span class=\"nt\">\"status\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"completed\"</span><span class=\"p\">,</span>\n              <span class=\"nt\">\"vaccineCode\"</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"nt\">\"coding\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n                  <span class=\"p\">{</span>\n                    <span class=\"nt\">\"system\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"https://www.humanservices.gov.au/organisations/health-professionals/enablers/air-vaccine-code-formats\"</span><span class=\"p\">,</span>\n                    <span class=\"nt\">\"code\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"COVAST\"</span>\n                  <span class=\"p\">}</span>\n                <span class=\"p\">]</span>\n              <span class=\"p\">},</span>\n              <span class=\"nt\">\"patient\"</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"nt\">\"reference\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"resource:0\"</span>\n              <span class=\"p\">},</span>\n              <span class=\"nt\">\"occurrenceDateTime\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"2021-08-28\"</span><span class=\"p\">,</span>\n              <span class=\"nt\">\"performer\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n                <span class=\"p\">{</span>\n                  <span class=\"nt\">\"actor\"</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n                    <span class=\"nt\">\"display\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"Blackburn Clinic\"</span>\n                  <span class=\"p\">}</span>\n                <span class=\"p\">}</span>\n              <span class=\"p\">]</span>\n            <span class=\"p\">}</span>\n</code></pre></div>",
        "id": 254129490,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177676
    },
    {
        "content": "<p>oh. so much for that. I need to do more work there :-(</p>",
        "id": 254129540,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177708
    },
    {
        "content": "<p>Haha</p>",
        "id": 254129545,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632177713
    },
    {
        "content": "<p>forgot to provide the code system in question !</p>",
        "id": 254129597,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177727
    },
    {
        "content": "<p>right, looks like this:</p>",
        "id": 254129722,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177814
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n              <span class=\"nt\">\"resourceType\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"Immunization\"</span><span class=\"p\">,</span>\n              <span class=\"nt\">\"status\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"completed\"</span><span class=\"p\">,</span>\n              <span class=\"nt\">\"vaccineCode\"</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"nt\">\"coding\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n                  <span class=\"p\">{</span>\n                    <span class=\"nt\">\"system\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"https://www.humanservices.gov.au/organisations/health-professionals/enablers/air-vaccine-code-formats\"</span><span class=\"p\">,</span>\n                    <span class=\"nt\">\"code\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"COVAST\"</span><span class=\"p\">,</span>\n                    <span class=\"nt\">\"display\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"COVID-19 Vaccine AstraZeneca\"</span>\n                  <span class=\"p\">}</span>\n                <span class=\"p\">]</span>\n              <span class=\"p\">},</span>\n              <span class=\"nt\">\"patient\"</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"nt\">\"reference\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"resource:0\"</span>\n              <span class=\"p\">},</span>\n              <span class=\"nt\">\"occurrenceDateTime\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"2021-08-28\"</span><span class=\"p\">,</span>\n              <span class=\"nt\">\"performer\"</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n                <span class=\"p\">{</span>\n                  <span class=\"nt\">\"actor\"</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n                    <span class=\"nt\">\"display\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"Blackburn Clinic\"</span>\n                  <span class=\"p\">}</span>\n                <span class=\"p\">}</span>\n              <span class=\"p\">]</span>\n            <span class=\"p\">}</span>\n</code></pre></div>",
        "id": 254129733,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177820
    },
    {
        "content": "<blockquote>\n<p>doesn't help verifiers verify automatically</p>\n</blockquote>\n<p>Well... I can verify them all except GTIN. No one can verify them, I think. But you can't even support GTIN.</p>",
        "id": 254129831,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177861
    },
    {
        "content": "<p>if you support the code system, you look up the code. If you don't... you can't do anything with it either. But showing the code to a consumer... a non-starter. So ignore the display if you don't need it</p>",
        "id": 254129909,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177911
    },
    {
        "content": "<p>so: I really think that display should not be prohibited. Sure, discuss the cost of including it, and the issues, but it has to be allowed unless the terminology approach changes</p>",
        "id": 254129955,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632177949
    },
    {
        "content": "<p>here's the difference it makes in a little known operating system:</p>",
        "id": 254130168,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632178082
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/1Qg4fWvqW80CnA0oMyugS-GW/0227FEE7-3116-4215-8E14-9A1B5F095E7D.jpg\">0227FEE7-3116-4215-8E14-9A1B5F095E7D.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/1Qg4fWvqW80CnA0oMyugS-GW/0227FEE7-3116-4215-8E14-9A1B5F095E7D.jpg\" title=\"0227FEE7-3116-4215-8E14-9A1B5F095E7D.jpg\"><img src=\"/user_uploads/10155/1Qg4fWvqW80CnA0oMyugS-GW/0227FEE7-3116-4215-8E14-9A1B5F095E7D.jpg\"></a></div>",
        "id": 254130224,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632178096
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - any thought being given to mapping from that Australian Code System (with the lovely URI) for this purpose? We're mapping NZMT codes to CVX in NZ internal implementations already as no one outside of NZ supports NZMT.</p>",
        "id": 254135839,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1632181400
    },
    {
        "content": "<p>I do not know. <span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span> ?</p>",
        "id": 254135931,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632181448
    },
    {
        "content": "<p>How are you managing the mapping?</p>",
        "id": 254136107,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632181574
    }
]