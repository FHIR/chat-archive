[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  When I validate our SHC using the Microsoft SDK, I receive the error mentioned here: <a href=\"https://github.com/smart-on-fhir/health-cards-dev-tools/issues/145\">https://github.com/smart-on-fhir/health-cards-dev-tools/issues/145</a></p>\n<p>Can you help me determine where I need to strip the whitespace? Is it before I deflate and base64 encode?</p>",
        "id": 255228836,
        "sender_full_name": "Stephen Whitney",
        "timestamp": 1632840425
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"269724\">Stephen Whitney</span> <a href=\"#narrow/stream/284830-smart.2Fhealth-cards/topic/Leading.20or.20trailing.20whitespace/near/255228836\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span>  When I validate our SHC using the Microsoft SDK, I receive the error mentioned here: <a href=\"https://github.com/smart-on-fhir/health-cards-dev-tools/issues/145\">https://github.com/smart-on-fhir/health-cards-dev-tools/issues/145</a></p>\n<p>Can you help me determine where I need to strip the whitespace? Is it before I deflate and base64 encode?</p>\n</blockquote>\n<p>Disregard, it looks like I got past the error.</p>",
        "id": 255230010,
        "sender_full_name": "Stephen Whitney",
        "timestamp": 1632840857
    },
    {
        "content": "<blockquote>\n<p>Disregard, it looks like I got past the error.</p>\n</blockquote>\n<p>Great! (Any quick lesson you can share here?)</p>",
        "id": 255244647,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632845990
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> <a href=\"#narrow/stream/284830-smart.2Fhealth-cards/topic/Leading.20or.20trailing.20whitespace/near/255244647\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>Disregard, it looks like I got past the error.</p>\n</blockquote>\n<p>Great! (Any quick lesson you can share here?)</p>\n</blockquote>\n<p>Surprisingly, once I handled the Warning for JWS.payload.vc.type: \"VerifiableCredential\" it went away:</p>\n<p>JWS-compact<br>\n   │<br>\n   ├─ Error<br>\n   │    · JWS has leading or trailing spaces<br>\n   │<br>\n   └─ JWS.payload<br>\n         │<br>\n         ├─ Warning<br>\n         │    · JWS.payload.vc.type : 'VerifiableCredential' is not required and may be omitted to conserve space<br>\n         │<br>\n         └─ FhirBundle<br>\nCan't determine the latest dev tools version. Make sure you have the latest version.<br>\nCan't determine the latest spec version.</p>\n<p>Validation completed</p>\n<p>I also always had this python json.dumps with whitespace removal in place:</p>\n<div class=\"codehilite\"><pre><span></span><code>    base64url_payload = self._deflate_and_base64url_encode(\n        json.dumps(payload, separators=(&quot;,&quot;, &quot;:&quot;)).encode(&quot;utf-8&quot;)\n    )\n</code></pre></div>",
        "id": 255271723,
        "sender_full_name": "Stephen Whitney",
        "timestamp": 1632853037
    }
]