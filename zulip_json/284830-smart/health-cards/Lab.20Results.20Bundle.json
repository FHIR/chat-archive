[
    {
        "content": "<p>I am working on my app that constructs the lab results fhir bundle based on user input.  The example (<a href=\"https://spec.smarthealth.cards/examples/example-02-a-fhirBundle.json\">https://spec.smarthealth.cards/examples/example-02-a-fhirBundle.json</a>) has much more data in it than the Immunization example. I haven't fully dissected the example data yet, but can you give me the general idea of what the data is supposed to represent?  There are DiagnosticReports, Observations, and Specimen resources all in the bundle.   The spec (<a href=\"http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/main/StructureDefinition-covid19-laboratory-bundle.html\">http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/main/StructureDefinition-covid19-laboratory-bundle.html</a>) seems to only want the Patient Resource and Observations.  Is the other data just superfluous to make sure our code trim it down to just the allowable?</p>",
        "id": 241532587,
        "sender_full_name": "Richard Braman (FLY.HEALTH)",
        "timestamp": 1622812387
    },
    {
        "content": "<p>It is just a big bundle to test the split into multiple QR codes, it is not an actual example of what should go in a real one (that is just Immunization + Patient + maybe Observation)</p>",
        "id": 241533979,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1622813084
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/284830-smart.2Fhealth-cards/topic/Lab.20Results.20Bundle/near/241533979\">said</a>:</p>\n<blockquote>\n<p>It is just a big bundle to test the split into multiple QR codes, it is not an actual example of what should go in a real one (that is just Immunization + Patient + maybe Observation)</p>\n</blockquote>\n<p>Can we include a lab result example that just has the required data elements defined here:  <a href=\"http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/main/StructureDefinition-covid19-laboratory-bundle.html\">http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/main/StructureDefinition-covid19-laboratory-bundle.html</a></p>",
        "id": 241537927,
        "sender_full_name": "Richard Braman (FLY.HEALTH)",
        "timestamp": 1622814857
    },
    {
        "content": "<p>The IG profile page has an examples tab <a href=\"http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/main/StructureDefinition-covid19-laboratory-bundle-resource-examples.html\">http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/main/StructureDefinition-covid19-laboratory-bundle-resource-examples.html</a> which currently points to github <a href=\"https://github.com/dvci/vaccine-credential-ig/blob/main/examples/Scenario3Bundle.json\">https://github.com/dvci/vaccine-credential-ig/blob/main/examples/Scenario3Bundle.json</a> <br>\nThe observation is for <a href=\"https://loinc.org/94558-4/\">https://loinc.org/94558-4/</a> and the result/value is a SNOMED code for Detected <a href=\"https://phinvads.cdc.gov/vads/http:/phinvads.cdc.gov/vads/ViewCodeSystemConcept.action?oid=2.16.840.1.113883.6.96&amp;code=260373001\">https://phinvads.cdc.gov/vads/http:/phinvads.cdc.gov/vads/ViewCodeSystemConcept.action?oid=2.16.840.1.113883.6.96&amp;code=260373001</a></p>",
        "id": 241542547,
        "sender_full_name": "Paul Denning",
        "timestamp": 1622816595
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"396697\">@Richard Braman (FLY.HEALTH)</span> is asking for a signed example in the spec; we can include some more examples in <a href=\"http://spec.smarthealth.cards\">spec.smarthealth.cards</a>, yes -- though we probably want to think about the right long-term home for these, since that spec is on a different publication/update cycle from the data IG. Would it make sense for the data IG to include signed examples, or perhaps we should create an independent <code>examples</code> repo?</p>",
        "id": 241575595,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1622831392
    },
    {
        "content": "<p>I'll leave it to <span class=\"user-mention\" data-user-id=\"194174\">@Paul Denning</span> and <span class=\"user-mention\" data-user-id=\"322501\">@Max Masnick</span> but it doesn't seem like the IG is the best place for signed examples. We could have them in the github repo in an unpublished folder, maybe have a script that updates them whenever the IG examples are updated, but would not publish to the site.</p>",
        "id": 241579130,
        "sender_full_name": "Neelima Karipineni",
        "timestamp": 1622833181
    },
    {
        "content": "<p>Curious what Paul and Max think as well, but personally I think it makes sense for the IG to have examples of signed SMART Health Cards. The IG is explicit that the profiles are for creating SMART Health Cards so having examples of those for implementing the IG would be nice. As other IGs profile SMART Health Cards for their purpose it wouldn't make sense to have all examples in the core <a href=\"http://spec.smarthealth.cards\">spec.smarthealth.cards</a> either. My 2 cents <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span>.</p>",
        "id": 241586633,
        "sender_full_name": "Reece Adamson",
        "timestamp": 1622837138
    },
    {
        "content": "<p>(And we _could_ encourage other IGs to use our <a href=\"https://github.com/smart-on-fhir/health-cards/blob/main/generate-examples/src/config/issuer.jwks.private.json\">not-really-private</a> example key, so verification of the examples from all these IGs can happen against the core spec's issuer.)</p>",
        "id": 241586857,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1622837246
    },
    {
        "content": "<p>I forget the reason that the VCI IG examples point to github and not within the IG.  Was that because the IG publisher didn't like <code>resource:0</code> URIs?  or no .id?  </p>\n<p>Are you looking for something like <a href=\"https://spec.smarthealth.cards/examples/example-01-d-jws.txt\">https://spec.smarthealth.cards/examples/example-01-d-jws.txt</a> but for a lab report?</p>",
        "id": 241590838,
        "sender_full_name": "Paul Denning",
        "timestamp": 1622839570
    },
    {
        "content": "<p>I kept meaning to reply to this and never did — apologies!</p>\n<p>If there are going to be multiple IGs for implementing different SHC use cases, I do think it makes sense to move the full examples into the IGs. This would also help us keep the examples in sync with the IG content — we could have a self-contained script to generate the full examples, and add a unit test to make sure the examples can be decoded and validated. </p>\n<p>We will also probably need to “fix” the current examples, which aren’t actually examples from a FHIR IG perspective. There were a number of IG publisher issues that made this problematic before, but I think now we can work around whatever ones remain.</p>",
        "id": 242211492,
        "sender_full_name": "Max Masnick",
        "timestamp": 1623333923
    },
    {
        "content": "<p>Finally got around to updating the IG with this - see branch at <a href=\"http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/generate-examples/StructureDefinition-vaccination-credential-bundle-resource-examples.html\">http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/generate-examples/StructureDefinition-vaccination-credential-bundle-resource-examples.html</a>. </p>\n<p>These signed examples are generated via script from the IG examples, using the not-really-private key from the SHC spec that <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> mentioned, and they do validate using the Verifier Portal. The Lab bundles are not yet included, waiting for the release of support for these in the Ruby library, but expect they will look similar.</p>",
        "id": 246020962,
        "sender_full_name": "Neelima Karipineni",
        "timestamp": 1626296735
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194174\">@Paul Denning</span>  Thanks for posting to O&amp;O.  Regarding lab results,  can you share the origination of the results and values? Are these patient performed testing or health professional performed testing?  Also how are these lab data getting pulled into the SMART Health Card from the performing entity?  As previously communicated, lab results in the US are subject to CLIA federal law/regulatory aspects including their reporting.  Instead of Observation, highly recommend using Diagnostic Report resource so all the Laboratory Report of Record data is available to those using it.  Looks like currently CLIA# and lab info (for health professional performed testing) isn't in the resource.  Let me know if I missed it. </p>\n<p>On the recent CDC LOCS call, CMS provided the following scenario:  1.  camper has COVID testing collected/performed by camp staff, which requires the camp to have a CLIA # as a \"laboratory\"  2.  camper handed test kit and goes to car to self collect and perform test.  camper not required to have CLIA#    May wish to have both use cases represented in your SMART Health Card as the data typically differs.  </p>\n<p>Also, with back to school/work/events and 4th wave, laboratories are utilizing pooled testing methods.  Clinicians have indicated their patient care decisions (whether to room 2 patients in same room) will be different depending on whether results/values are pooled or not.  Will the SMART Health Card support pooled data including required HHS report text that pooled testing may have higher false negative rate (due to dilution effect, etc)? </p>\n<p>Further, it wasn't clear if specimen types of swabs, saliva are indicated on the SMART Health Card, along with the specimen source (from where specimen is collected) such as oral, nasal, nasopharyngeal as they all have different sensitivities and sensitivities.  It appears the app all result values may be \"presented\" as equal in the app?  Are indeterminant, invalid, etc. values allowed to \"flow\" to the SMART Health Card  if the result  value from the test kit/system?   See Abbott Binax Now's FDA EUA for home performed testing under results reporting and their screen shots:  <a href=\"https://www.fda.gov/media/144574/download\">https://www.fda.gov/media/144574/download</a>  Lab results MUST be reported according to manufacturer's package inserts per CLIA regulations (and EUAs as above).   </p>\n<p>Realize the SMART Health Card may not include everything from the Lab Report of Record, but may need to depending on where in the data flow it sits and who is performing the testing (a CLIA entity vs non CLIA entity).  For CLIA Point of Care Testing (i.e. the camp performed testing) where the SMART Health Card \"receives\" results from the \"test app\" or is combined functionality within the \"test app\" like Abbott's NAVICA, more of the regulations may be applicable.  Hence the questions as the beginning. <span class=\"user-mention\" data-user-id=\"322501\">@Max Masnick</span> <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  <span class=\"user-mention\" data-user-id=\"396697\">@Richard Braman (FLY.HEALTH)</span></p>",
        "id": 248479761,
        "sender_full_name": "Andrea Pitkus, PhD, MLS(ASCP)CM, CSM",
        "timestamp": 1628171569
    },
    {
        "content": "<p>Thanks for the feedback.  I'm sure others will chime in about this, but I just wanted to point out that we do not call the SMART Health Card (SHC) a \"passport\".  Also the use cases for the SHC are relatively limited, like using DiagnosticReport so that all Laboratory Report of Record data can be pulled in; the use case for SHC would not involve drilling down into this data as I understand it.</p>",
        "id": 248481453,
        "sender_full_name": "Paul Denning",
        "timestamp": 1628172326
    },
    {
        "content": "<p>Thanks for the correction.  I updated them in my post.  <br>\nThe other thing I'll mention is O&amp;O folks are not aware of any Lab Information Systems (LISs) or LIMS (public health and research entities) with FHIR functionality as V 2.51 is used in the laboratory community, especially at the point of origination of lab data.  For traditional laboratory performed testing, COVID results are reported to public health (ELR) in V2.51 format, and to the EHR from ordering providers, or pharmacy chains using major EHR products.  Given EHRs have FHIR functionality,  suspect those results are pulled into/used by the SHC.  </p>\n<p>However, there are a number of direct to consumer (DTC) COVID test with results performed by a CLIA lab (without a MD Rx) that are reported directly to the patient/consumer without involving a MD or EHR.  See LabCorp's pixel:  <a href=\"https://www.pixel.labcorp.com/covid-19\">https://www.pixel.labcorp.com/covid-19</a>  How would you expect these results to be integrated into the SHC?  Will the consumer be able to use their smartphone or computer to take a photo of results on their screen? </p>\n<p>How do you intend paper based results to be integrated and used within the SHC?  If a patient receives a paper result, can they scan it in or hand enter it or how are \"trusted results\" established?  Or are these out of scope?  Ask as a number of \"testing entities\" report with paper especially those jumping into the COVID market for the first time.</p>\n<p>Also, not sure if this group has reviewed the WATERS Connectathon results/options?  FDA convened to help with the infrastructure needed for reporting COVID results in accord with the HHS requirements, CLIA updates etc. which were issued last year.   FDA also has indicated some of the reporting requirements in the In Vitro Diagnostics (IVD test vendor) EUAs too.</p>\n<p>Lastly, quite a few labs have COVID test panels which involve multiple observations and why DR is recommended.  How do you plan to support panels?  See Order Panel LOINC <a href=\"https://loinc.org/96094-8/\">https://loinc.org/96094-8/</a>  Although this code would NOT be used to report results (the individual result LOINCs within it would be.)  Different SARS-COV2 genes, markers, etc may be reported.  It looks like an overall \"translation\" would be needed to get the data into the single Observation in the FHIR IG?  How do you expect that to occur and by whom?</p>\n<p>Some of the aspects which have arisen for those of use working on lab data interoperability.</p>",
        "id": 248482857,
        "sender_full_name": "Andrea Pitkus, PhD, MLS(ASCP)CM, CSM",
        "timestamp": 1628172934
    }
]