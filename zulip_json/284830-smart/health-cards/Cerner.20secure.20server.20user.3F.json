[
    {
        "content": "<p>I'm working on the Patient Access authentication with Cerner (<a href=\"https://fhir-myrecord.stagingcerner.com/beta/ec2458f2-1e24-41c8-b71b-0e701af7583d\">https://fhir-myrecord.stagingcerner.com/beta/ec2458f2-1e24-41c8-b71b-0e701af7583d</a>), and I have my app created and I'm getting to the oauth log in screen, but the only credentials I have are my own personal one, and no records are found. Is there a specific username/password we should be using for testing?</p>",
        "id": 234568054,
        "sender_full_name": "Matt Printz",
        "timestamp": 1618431614
    },
    {
        "content": "<p>We have testing ones for you to use!</p>\n<ul>\n<li>Guide Location: <a href=\"https://github.com/joeratt/connectathon_notes/blob/april_2021-health_cards/health_cards/Cerner%20SMART%20Health%20Cards%20-%20Proof%20of%20Concept%20-%20Integration%20Notes.md#authorize-your-app\">https://github.com/joeratt/connectathon_notes/blob/april_2021-health_cards/health_cards/Cerner%20SMART%20Health%20Cards%20-%20Proof%20of%20Concept%20-%20Integration%20Notes.md#authorize-your-app</a></li>\n<li>Quick Link to the documentation: <a href=\"https://docs.google.com/document/d/10RnVyF1etl_17pyCyK96tyhUWRbrTyEcqpwzW-Z-Ybs\">https://docs.google.com/document/d/10RnVyF1etl_17pyCyK96tyhUWRbrTyEcqpwzW-Z-Ybs</a></li>\n</ul>",
        "id": 234569265,
        "sender_full_name": "Joe Rattazzi",
        "timestamp": 1618432118
    },
    {
        "content": "<p>Thanks Joe! I read that document like 3 times but just missed the link to the google doc.</p>",
        "id": 234569565,
        "sender_full_name": "Matt Printz",
        "timestamp": 1618432240
    },
    {
        "content": "<p>No problem! lots of links in there</p>",
        "id": 234569626,
        "sender_full_name": "Joe Rattazzi",
        "timestamp": 1618432261
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191809\">Joe Rattazzi</span> <a href=\"#narrow/stream/284830-CARIN-April.20'21.20Connectathon.20-.20SHC.20-.20.20Track/topic/Cerner.20secure.20server.20user.3F/near/234569626\">said</a>:</p>\n<blockquote>\n<p>No problem! lots of links in there</p>\n</blockquote>\n<p>Hmm.. not seeing Patient Access Logins for any of the users in the Covid section. Do we not need to use the patient login in the oauth to pull the data for the relevent patients?</p>",
        "id": 234570331,
        "sender_full_name": "Matt Printz",
        "timestamp": 1618432528
    },
    {
        "content": "<p>oh I see</p>",
        "id": 234570382,
        "sender_full_name": "Joe Rattazzi",
        "timestamp": 1618432549
    },
    {
        "content": "<p>so - any of the patient logins will work (I used Wilma Smart earlier)</p>",
        "id": 234570397,
        "sender_full_name": "Joe Rattazzi",
        "timestamp": 1618432559
    },
    {
        "content": "<p>our data payloads are just hard-coded right now</p>",
        "id": 234570447,
        "sender_full_name": "Joe Rattazzi",
        "timestamp": 1618432565
    },
    {
        "content": "<p>so it won't change on which user you're hitting</p>",
        "id": 234570466,
        "sender_full_name": "Joe Rattazzi",
        "timestamp": 1618432578
    },
    {
        "content": "<p>Ok, that works. Thanks again.</p>",
        "id": 234570510,
        "sender_full_name": "Matt Printz",
        "timestamp": 1618432598
    },
    {
        "content": "<p>good deal</p>",
        "id": 234570526,
        "sender_full_name": "Joe Rattazzi",
        "timestamp": 1618432603
    },
    {
        "content": "<p>Once you create the patient app, before executing the postman script - is there a wait time <span class=\"user-mention\" data-user-id=\"191809\">@Joe Rattazzi</span> ?</p>",
        "id": 234570909,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1618432760
    },
    {
        "content": "<p>may be up to 15 minutes</p>",
        "id": 234570947,
        "sender_full_name": "Joe Rattazzi",
        "timestamp": 1618432782
    },
    {
        "content": "<p>if you see an error after that time, I can help troubleshoot</p>",
        "id": 234570964,
        "sender_full_name": "Joe Rattazzi",
        "timestamp": 1618432792
    },
    {
        "content": "<p>I keep getting 403 Permission Denied when calling <code>$health-cards-issue</code> endpoint after completing the OAuth. Or at least I seem to be completing the OAuth. Is there a way to get some debugging on the error?<br>\n<span class=\"user-mention\" data-user-id=\"191809\">@Joe Rattazzi</span></p>",
        "id": 234576842,
        "sender_full_name": "Matt Printz",
        "timestamp": 1618434672
    },
    {
        "content": "<blockquote>\n<p>Or at least I seem to be completing the OAuth. </p>\n</blockquote>\n<p>Forgive me for this non-response to your question, but: this part should be clear at least. Are you getting an access token response, with permitted scopes and a patient ID?</p>",
        "id": 234577278,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618434759
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> <br>\n{'patient': '12724066', 'scope': 'launch/patient openid profile', 'id_token': 'eyJraWQiOiIyMDIxLTA0LT...', 'token_type': 'Bearer'}</p>",
        "id": 234577955,
        "sender_full_name": "Matt Printz",
        "timestamp": 1618434949
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191809\">@Joe Rattazzi</span> <br>\nWe tried the authorized endpoint as we discussed during the call in the postman. We are getting the following error(Screenshots attached).<br>\n<a href=\"/user_uploads/10155/Hia3Mt4pmsxInCkmE3V_VY5W/image.png\">image.png</a> <br>\n<a href=\"/user_uploads/10155/II38LoWCeEds4nn5E4vqtt-o/image.png\">image.png</a> .<br>\ncc: <span class=\"user-mention\" data-user-id=\"194167\">@Santosh Jami</span>  <span class=\"user-mention\" data-user-id=\"341228\">@Suprakash Maity</span>  <span class=\"user-mention\" data-user-id=\"373305\">@Rohit Bankia</span></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Hia3Mt4pmsxInCkmE3V_VY5W/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/Hia3Mt4pmsxInCkmE3V_VY5W/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/II38LoWCeEds4nn5E4vqtt-o/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/II38LoWCeEds4nn5E4vqtt-o/image.png\"></a></div>",
        "id": 234578022,
        "sender_full_name": "Cibi Siddharth",
        "timestamp": 1618434968
    },
    {
        "content": "<p>can you access the postman console to see what the error message is there?</p>",
        "id": 234578068,
        "sender_full_name": "Joe Rattazzi",
        "timestamp": 1618434991
    },
    {
        "content": "<blockquote>\n<p>launch/patient openid profile</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"404889\">@Matt Printz</span>. I'd expect to see <code>patient/Immunization.read</code> and <code>patient/Patient.read</code> in the approved scopes. Are you requesting those?</p>",
        "id": 234578186,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618435052
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191809\">@Joe Rattazzi</span>  yes we are getting just \" Error: [object Object] \"<br>\n<a href=\"/user_uploads/10155/ALahzIVPrz_eVTs0RJRc7yJC/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ALahzIVPrz_eVTs0RJRc7yJC/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/ALahzIVPrz_eVTs0RJRc7yJC/image.png\"></a></div>",
        "id": 234578272,
        "sender_full_name": "Cibi Siddharth",
        "timestamp": 1618435090
    },
    {
        "content": "<p>Oh, I thought it pulled that from the app definition. Let me look at my client definition code.</p>",
        "id": 234578351,
        "sender_full_name": "Matt Printz",
        "timestamp": 1618435142
    },
    {
        "content": "<p>When you click through the app approval screen (/authorize endpoint), you should see  approvalcheckboxes for Immunization and Patient, I think -- if you don't, it suggests you're not asking for those scopes.</p>",
        "id": 234578419,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618435177
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> I found it, I wasn't specifying them in the client so the client was defaulting to an internal default rather than using the default from the app definition. I /think/ I have enough to fix this now.</p>",
        "id": 234578674,
        "sender_full_name": "Matt Printz",
        "timestamp": 1618435283
    },
    {
        "content": "<p>(And <span class=\"user-mention\" data-user-id=\"404889\">@Matt Printz</span> I can see why this is a \"gotcha\", because Epic's behavior for instance is different; with Epic's SMART on FHIR implementation you can request specific scopes when you launch, but they're ignored in favor of the scopes you requested at client registration time. The recommended best practice is to not rely on defaults.)</p>",
        "id": 234578682,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1618435288
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> It's working now. Thanks for helping me see that.</p>",
        "id": 234579495,
        "sender_full_name": "Matt Printz",
        "timestamp": 1618435627
    }
]