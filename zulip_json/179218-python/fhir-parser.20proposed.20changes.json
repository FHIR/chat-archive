[
    {
        "content": "<p>I'm adding a few features to the fhir-parser module; wanted to road-test some of the ideas - these will be on my fork (<a href=\"https://github.com/glow-mdsol/fhir-parser\" target=\"_blank\" title=\"https://github.com/glow-mdsol/fhir-parser\">https://github.com/glow-mdsol/fhir-parser</a>)</p>\n<ul>\n<li>Adding a version lookup for the FHIR version (screen scraping directory for the moment)</li>\n<li>Allow choice of FHIR version using the version id (eg 3.3.1 or 'latest commit')</li>\n<li>Adding an option to version the output (ie models/3_3_0/*.py) (also versions the cache)</li>\n<li>Added top level files to the models folder; <code>requirements.txt</code> with the <code>isodate</code> dependency and  <code>__init__.py</code> to the model folder with the following (generated by the <code>version.info</code>):</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>FHIR_VERSION = &#39;3.4.0&#39;\nFHIR_REVISION = &#39;13753&#39;\nFHIR_VERSION_DATE = &#39;20180509170734&#39;\n</pre></div>\n\n\n<ul>\n<li>Allow passing of the settings module as a command line option <code>python generate.py -s Default/settings</code></li>\n<li>Generate the <code>CodeSystemValue</code> as an enum - tagging the System URL and whether the CodeSystem is tagged as experimental</li>\n<li>Couple of other small changes - will be happy to talk about ideas at the connectathon<br>\n<span class=\"user-mention\" data-user-id=\"191339\">@Pascal Pfiffner</span> - FYI</li>\n</ul>",
        "id": 153957605,
        "sender_full_name": "Geoff Low",
        "timestamp": 1525961457
    },
    {
        "content": "<p>Pushed to <a href=\"https://github.com/glow-mdsol/fhir-parser/tree/feature/refactor_modules\" target=\"_blank\" title=\"https://github.com/glow-mdsol/fhir-parser/tree/feature/refactor_modules\">https://github.com/glow-mdsol/fhir-parser/tree/feature/refactor_modules</a></p>",
        "id": 153957618,
        "sender_full_name": "Geoff Low",
        "timestamp": 1525965313
    },
    {
        "content": "<p>Cool, thanks <span class=\"user-mention\" data-user-id=\"192121\">@Geoff Low</span>, sounds great!! Just to note as to why the parser has the version hard-coded: the definition is not backwards compatible since StructureDefinition changed over the releases. I think from STU-3 on forward it may not require changes, but for example the parser parsing DSTU-2 does not work for STU-3 definitions without changes and vice versa.</p>\n<p>Also, note that the intended use for fhir-parser to be used as a submodule and have the parent module provide the settings. For example the Swift-FHIR library has its own fhir-parser settings and has a script which starts by coping the settings: <a href=\"https://github.com/smart-on-fhir/Swift-FHIR/blob/master/generate.sh\" target=\"_blank\" title=\"https://github.com/smart-on-fhir/Swift-FHIR/blob/master/generate.sh\">https://github.com/smart-on-fhir/Swift-FHIR/blob/master/generate.sh</a></p>",
        "id": 153957691,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1525991975
    },
    {
        "content": "<p>Hmm, ok.  Need to rethink my approach.</p>",
        "id": 153957732,
        "sender_full_name": "Geoff Low",
        "timestamp": 1526029990
    },
    {
        "content": "<p>once we have R4 normative, structure definition won't change. But to help with situtations like this, the definitions for any version are available in any version - e.g. you can get the definitions for R3 in R2 format, or vice versa</p>",
        "id": 153957927,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526057273
    }
]