[
    {
        "content": "<p>At the connectathon, there was a breakout session in which discussion briefly digressed to an unrelated problem of parsing extremely large FHIR resources from JSON, in which the keys are unordered, which can cause processing of the parsed resource (if using a streaming parser) to be less efficient than it would be if the order of the keys could be specified and fixed.  There was no serious suggestion of changing the format, but I got to thinking about it anyway, and it occurred to me if such an opportunity presented itself at some point in the future (which I gather is not likely now that R4 is out), one could constrain the order of the elements by using an array.  Instead of having the JSON for a resource look like:</p>\n<div class=\"codehilite\"><pre><span></span>{\n   key1: value1,\n   key2: value2,\n   key3: value3\n}\n</pre></div>\n\n\n<p>One could have:</p>\n<div class=\"codehilite\"><pre><span></span>[\n  {key1: value1},\n  {key2: value2},\n  {key3: value3}\n]\n</pre></div>\n\n\n<p>...in which case the order of the keys would be guaranteed when serialized, and presumably the order could then be required in the resource definition.</p>",
        "id": 155277243,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1547664501
    },
    {
        "content": "<p>do not think, we should simulate xml :)   </p>\n<p>but some tricks can be done to improve streaming processing support:</p>\n<ul>\n<li>define  ndjson format for search responses etc</li>\n<li>use something like rails root_in_json parameter  - <a href=\"https://api.rubyonrails.org/classes/ActiveModel/Serializers/JSON.html\" target=\"_blank\" title=\"https://api.rubyonrails.org/classes/ActiveModel/Serializers/JSON.html\">https://api.rubyonrails.org/classes/ActiveModel/Serializers/JSON.html</a></li>\n</ul>",
        "id": 155293746,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1547677438
    },
    {
        "content": "<p>ndjson support:</p>\n<div class=\"codehilite\"><pre><span></span>GET /Patient?_format=ndjson\n\n{resourceType: &quot;Bundle&quot;,  totla: ...}\n{rt: Patient ....}\n{rt: Patient ...}\n....\n\n``\n</pre></div>",
        "id": 155293959,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1547677594
    },
    {
        "content": "<p>meta outside how RoR do:</p>\n<div class=\"codehilite\"><pre><span></span>{Patient: {resourcebody}}\n{Encounter: {resourcebody}}\n{Practitioner: {resourcebody}}\n</pre></div>",
        "id": 155294029,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1547677666
    }
]