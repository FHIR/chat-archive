[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  just wondering if there is any way to find out the total time taken by the IG Publisher while validating all the resources (instance) as referenced from the IG? <br>\nI can see a log: \"Finished. 01:22.0309. Validation output in C:\\Users\\...\\qa.html<br>\nErrors: 0, Warnings: 8, Info: 11, Broken Links = 0 (01:47.0235)<br>\nDone\"</p>\n<p>Does it mean \"01:22.0309\" is the total validation time?</p>",
        "id": 208169734,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598491647
    },
    {
        "content": "<p>no that's just the time since the process started. That's a real long time...</p>",
        "id": 208174253,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598497639
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , yeah I though so, any log being produced for validation time?</p>",
        "id": 208174987,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598498736
    },
    {
        "content": "<p>not at the moment</p>",
        "id": 208176187,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598500582
    },
    {
        "content": "<p>ok, is there any way I can run the validator_cli.jar locally with local profiles?. I looked at the <a href=\"https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator\">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a>, but not able to figure out how I can run a resource instance pointing to a profile available in my computer (local system). </p>\n<p>Background: I have been trying to figure-out the performance optimal way to draft a FHIR document profile which has entry slicing. At this moment all of my profiles have 'profile:resolve()' as slicing discriminator. I have noticed that pattern:$this.resolve().code.coding works now and could be more performant model. just have to find out benefit comparison. So trying options to record validation time.</p>",
        "id": 208176740,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598501407
    },
    {
        "content": "<p>you can add your local profile with the -ig parameter to the validator, just pass in the file/folder or ig of your local profile(s)</p>",
        "id": 208180825,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1598508181
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> , let me try that. \"just pass in the file/folder \" .. is this it he folder where all the profiles are placed?</p>",
        "id": 208182175,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598510060
    },
    {
        "content": "<p>yes</p>",
        "id": 208184317,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1598512295
    },
    {
        "content": "<p>I'm still unable to run the validator in my local.</p>\n<p>I'm using 'dev' as the version of my local package. any suggestion would be very helpful.</p>\n<p><a href=\"/user_uploads/10155/h1iBMgo1RIhI4DasvTAXhYZZ/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/h1iBMgo1RIhI4DasvTAXhYZZ/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/h1iBMgo1RIhI4DasvTAXhYZZ/image.png\"></a></div>",
        "id": 208284732,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598567588
    },
    {
        "content": "<p>finally it worked. </p>\n<p>I was using 'validator_cli.jar' as provided in the link: <a href=\"https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator\">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a> and I was getting the errors. It started working when I downloaded the 'org.hl7.fhir.validator.jar' and used it. </p>\n<p>May be it would be a good idea to update the page: <a href=\"https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator\">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a></p>",
        "id": 208292566,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598574759
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193760\">@Shovan Roy</span> confluence is pointing to the new validator (validator_cli.jar) and it should work with that one. Where did you still find a link to the org.hl7.fhir.validator.jar? Can you make your profile and bundle available?</p>",
        "id": 208309340,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1598595510
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span>  I found it from the fhir download page: <a href=\"https://www.hl7.org/fhir/downloads.html\">https://www.hl7.org/fhir/downloads.html</a></p>",
        "id": 208309421,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598595656
    },
    {
        "content": "<p>Attached the package and the sample used: <a href=\"/user_uploads/10155/sEaGQPK4EdsCW1EFKk5Zr8dN/Bundle-ncdhc-document-nb-exam-example.json\">Bundle-ncdhc-document-nb-exam-example.json</a> <a href=\"/user_uploads/10155/jc0uJKpZdW9DAxTmpLzObyaG/package.tgz\">package.tgz</a></p>",
        "id": 208309480,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598595730
    },
    {
        "content": "<p>added for the link jira <a href=\"http://jira.hl7.org/browse/FHIR-28368\">FHIR#28368</a></p>",
        "id": 208311107,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1598597768
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193760\">@Shovan Roy</span> I can reproduce the error here locally. It tries to resolve PractitionerRole/a01bacd2-pr5c-11ea-b3de-0242ac130003 in a FHIRPath expression and it looks likes in an observation context instead of the bundle. It appears that the invariant (dataAbsentReason.empty()) implies (performer.reference.resolve().where($this is PractitionerRole).exists()) is causing this. Not knowing your ig exactly i guess that this is an invariant on Obseration?  I think the validator functionality would probably need to be enhanced that it could resolve the resource in the bundle (indicated by not done yet erorr message) . Next step would be probably to isolate this case and add it to the Validation TestSuite.</p>",
        "id": 208314886,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1598601454
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span>  thanks heaps for looking into it.<br>\nsome interesting facts:<br>\nFact 1: When the publisher is running, it's not popping up with any validation error but I can see you are getting validation error with 'validator_cli.jar' on the same artifacts<br>\nFact 2: As per our project requirement, we have two invariants added on Observation to check that two performers exits ( a PractitionerRole and Organization)in the instance. Sounds like the invariant is not working. I'll have to check on that. <br>\nFact 3: Yes, more details in the error message showing the Bundle path would be definitely useful. <br>\nFact 4: The validator_cli.jar is not working at all in my local.  But it seems it's working for you. I'm using the following command and I'm getting the following errors. not sure what's missing here. I'm using java 1.8<br>\nCommand: java -jar validator_cli.jar -ig package.tgz -version 4.0 Observation-p04bacd2-ob1c-01ea-b3de-0242ac130001.json -output validation-output.json<br>\nError:<br>\n<strong>Exception in thread \"main\" java.lang.Error: Not done yet</strong><br>\n        at org.hl7.fhir.validation.cli.services.StandAloneValidatorFetcher.fetch(StandAloneValidatorFetcher.java:41)<br>\n        at org.hl7.fhir.validation.ValidationEngine.fetch(ValidationEngine.java:1850)</p>",
        "id": 208510323,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598831900
    },
    {
        "content": "<p>try the next version when it is released</p>",
        "id": 208511342,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598833876
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 208511441,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598834060
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193760\">@Shovan Roy</span> i had the same error like you (Fact 4) i got the information for using the validator in a development env.</p>",
        "id": 208522916,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1598853949
    },
    {
        "content": "<p>try with the latest PRs</p>",
        "id": 208525038,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598856675
    },
    {
        "content": "<p>I can see the new publisher reports the time taken for each steps and this includes the validation time. This will be very helpful. thanks a lot <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <br>\n<a href=\"/user_uploads/10155/uwUdlgeWicygdjpUmZGot_el/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/uwUdlgeWicygdjpUmZGot_el/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/uwUdlgeWicygdjpUmZGot_el/image.png\"></a></div>",
        "id": 208643364,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1598933860
    }
]