[
    {
        "content": "<p>Hi,<br>\nI wanted to know, using profile if it is possible to specify a format(Regular Expression) of value for a field.<br>\nI will take an example, Suppose we have a Identifier for national-id, it will be good if I can specify a regex for what is a valid value for identifier. This will be helpfull because we can't couple our validation code with fields. </p>\n<p>Thanks in advance.</p>",
        "id": 153868524,
        "sender_full_name": "Mritunjay Dubey",
        "timestamp": 1484885622
    },
    {
        "content": "<p>There's an extension that supports this - <a href=\"http://build.fhir.org/extension-regex.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-regex.html\">http://build.fhir.org/extension-regex.html</a></p>",
        "id": 153868527,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484887122
    },
    {
        "content": "<p>However, it's not currently supported by the validator or authoring tools</p>",
        "id": 153868528,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484887138
    },
    {
        "content": "<p>we better start supporting it in the validator</p>",
        "id": 153868542,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484903101
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192421\">@Mritunjay Dubey</span> If you like, you can submit a change request for inclusion of this in the validator.</p>",
        "id": 153868575,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484918498
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I have submitted <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12665\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12665\">GF#12665</a> for the same. Thank you</p>",
        "id": 153868589,
        "sender_full_name": "Mritunjay Dubey",
        "timestamp": 1484923629
    },
    {
        "content": "<p>Had a question, if I want to browse the code and implement it (if possible), how should I start. is there a document/steps on it? I thought of checking-out from svn, but it is a huge repo. So I just wanted to confirm if I am going in right direction. It will be great if I can get steps for how do we start contributing to fhir.</p>\n<p>I thought of creating a pull-request in github FHIR-svn, but I was not sure since itâ€™s just a mirror, and actual development is in SVN.</p>",
        "id": 153868718,
        "sender_full_name": "Mritunjay Dubey",
        "timestamp": 1484989760
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I just wanted to try out this \"extension-regex\" in my profile, but I am not sure how exactly I should apply it. I am using furore's forge tool to create profiles. I just wanted to say <strong>patient.name.family</strong> should follow a pattern.</p>\n<p>Might be a dumb question but I didn't get any example for this.</p>",
        "id": 153868727,
        "sender_full_name": "Mritunjay Dubey",
        "timestamp": 1485003991
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192421\">@Mritunjay Dubey</span> At the moment, I don't think you can do this in Forge - Forge only supports capturing \"core\" elements in StructureDefinition, not extensions, though I believe adding support for StructureDefinition and ElementDefinition extensions is on their list of \"things to do\" (there's lots of \"things to do\" when it comes to profiling . . . :&gt;)  So if you want to experiment with this, you'd need to create your profile in Forge and then hand-edit it to contain the extension (recognizing that Forge will remove the extension if you subsequently edit the profile with Forge again).</p>\n<p>In terms of implementing, what exactly do you mean?  You want to update the Java validator to include this?  If that's the case, the class you're going to need to play with is InstanceValidator.java.  Some parts of it are evil, but this piece shouldn't be.  You will however need to check out the whole \"publish\" folder to make and test your change though.</p>",
        "id": 153868732,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1485012177
    },
    {
        "content": "<p>Generally we don't give committer access to people who aren't doing work on behalf of a work group, but if you get heavily involved with maintenance, we can make exceptions.  For this time around, just send me the updated file once you've got it working - if you still want to take it on once you've looked at the code :)</p>",
        "id": 153868733,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1485012265
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Thanks for your response. I will look into it. Right now I am not sure how exactly to extend the element-definition. Suppose if we want to give the <strong>Patient=&gt;name=&gt;family</strong>, how exactly to hand-edit it in the patient profile(or human-name profile if needed). I tried searching on the web for examples, but I couldn't find one to start with.  It will be great if you can give some inputs on this part.<br>\nThaks</p>",
        "id": 153868746,
        "sender_full_name": "Mritunjay Dubey",
        "timestamp": 1485063691
    },
    {
        "content": "<p>I'd start by using Forge to create your profile and constrain something on Patient.name.family so it'll show up in the generated profile.  Then you'd need to find the element with that path and add this:</p>\n<div class=\"codehilite\"><pre>  &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/regex&quot;&gt;\n    &lt;valueString value=&quot;[your expression here]&quot;/&gt;\n  &lt;/extension&gt;\n</pre></div>",
        "id": 153868760,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1485099710
    },
    {
        "content": "<p>Alternately you could use the regex in a fhirpath invariant expression on the property</p>",
        "id": 153868769,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1485141482
    },
    {
        "content": "<p>It of course depends on whether you want to instruct the client (the form) or just make sure invalid data doesn't get into the server.</p>",
        "id": 153868777,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1485167562
    },
    {
        "content": "<p>True</p>",
        "id": 153868831,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1485203156
    }
]