[
    {
        "content": "<p>This profile <a href=\"https://simplifier.net/ELabNetwork/OpenFoodChallengeOutcome\" target=\"_blank\" title=\"https://simplifier.net/ELabNetwork/OpenFoodChallengeOutcome\">https://simplifier.net/ELabNetwork/OpenFoodChallengeOutcome</a><br>\nand <a href=\"https://simplifier.net/ELabNetwork/OpenFoodChallengeSymptoms\" target=\"_blank\" title=\"https://simplifier.net/ELabNetwork/OpenFoodChallengeSymptoms\">https://simplifier.net/ELabNetwork/OpenFoodChallengeSymptoms</a></p>\n<p>I believe are both valid, in that there are no errors in Forge, however, the overview part is displaying 'this resource cannot be rendered'. Retrieving it by the endpoint e.g. in C# FHIR API seems to work fine though. One for <span class=\"user-mention\" data-user-id=\"191347\">@Mirjam Baltus</span>  or <span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span> maybe??</p>",
        "id": 153896014,
        "sender_full_name": "Chris Munro",
        "timestamp": 1499172814
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193298\">@Chris Munro</span> I see three errors when I run the first StructureDefinition through a validator. The first is that the StructureDefinition.date is not correct. It should either not have a time, or have a timezone added. The other two are more obscure, failing constraint sdf-14, meaning you have a duplicate <a href=\"http://element.id\" target=\"_blank\" title=\"http://element.id\">element.id</a> somewhere, and constraint sdf-20, saying something about slicing on the top level. It is possible that Forge doesn't detect those yet, because we are having some issues with slicing and element ids. I did not go through the XML in depth to find those last two issues, just saying what my validator told me.</p>",
        "id": 153896029,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1499185580
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"191347\">@Mirjam Baltus</span>, is the validator a piece of Furore software or can I download it from the FHIR website? If so I can use it to check the profiles myself.</p>",
        "id": 153896063,
        "sender_full_name": "Chris Munro",
        "timestamp": 1499243475
    },
    {
        "content": "<p>I've used the demo tool on Ewout's GitHub: <a href=\"https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo/tree/develop-stu3\" target=\"_blank\" title=\"https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo/tree/develop-stu3\">https://github.com/ewoutkramer/Furore.Fhir.ValidationDemo/tree/develop-stu3</a>. Note that this is not a production tool, but it usually gives me a nice idea of things that could be wrong.</p>",
        "id": 153896069,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1499253066
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191347\">@Mirjam Baltus</span> </p>",
        "id": 153896081,
        "sender_full_name": "Chris Munro",
        "timestamp": 1499258943
    },
    {
        "content": "<p>Just so you are aware - we are working with Furore on the validation parts of the software and recently reported a few bugs. Furore have hopefully fixed these now but that code will not be in the current NuGet package. If you want the \"latest\" version youl'll need to build the library yourself.</p>",
        "id": 153896082,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1499259298
    },
    {
        "content": "<p>I downloaded an built the validator but it doesn't seem to find the profiles loaded into the directory; doesn't even work when I point to the 'examples' directory that came with the package. Any ideas what I am doing wrong? Does the exe need to be run from a certain directory?</p>",
        "id": 153896110,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1499279978
    },
    {
        "content": "<p>if you are talking about the java jar validator in the spec.  Here is my bash file that will validate all the resource in the listed directory based on the profile.  Note the profile must declared be in the resource's meta.profile element for it to work.... the profiles are defined after <code>-ig</code> which is the ig's validator pack in this case.  you also use the <code>-profile</code> option for a single profile too.</p>\n<div class=\"codehilite\"><pre><span></span>  #!/bin/bash\n  name=&quot;US-Core&quot;\n  path=/Users/ehaas/Documents/FHIR/US-Core\n  echo &quot;=================================================================&quot;\n  echo === Validate $name IG!!! $(date -u) ===\n  echo &quot;=================================================================&quot;\n  sleep 1\n  fs=&quot;&quot;\n  for f in &quot;${path}&quot;/examples/*.*\n  do\n    s=${f##*/}\n    echo validating ${s%.*}...\n    fs=&quot;$fs $f&quot;\n  done\n  java -jar /Users/ehaas/Downloads/validator/org.hl7.fhir.validator.jar ${fs} -defn /Users/ehaas/Downloads/igpack.zip -ig &quot;${path}&quot;/output/validator.pack\n</pre></div>",
        "id": 153896152,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499290259
    },
    {
        "content": "<p>Eric, Where do you get this jar validator? I am creating profiles by hand because of Forge bugs and I could really use one!<br>\nNever mind, I was looking for a profile validator, not a FHIR example validator!</p>",
        "id": 153896156,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1499295775
    },
    {
        "content": "<p>Profiles are a type of FHIR example (they're instances of StructureDefinition).  The instance validator validates profiles too as well as validating instances against profiles.</p>",
        "id": 153896157,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1499297676
    },
    {
        "content": "<p>jar validator <a href=\"http://build.fhir.org/validator.zip\" target=\"_blank\" title=\"http://build.fhir.org/validator.zip\">here</a></p>",
        "id": 153896159,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499299480
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span> If you run the program, you can just paste the XML for your StructureDefinition into the XML instance window and click validate. It will validate the profile against the base specification. The directory can be used to store profiles and then validate an example against them.</p>",
        "id": 153896172,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1499329732
    },
    {
        "content": "<p>Mirjam, I think I misunderstood the validator. I thought it would validate my profile, not an xml USING a profile.Due to bugs in the Forge tool I am writing a profile by editing xml directly by hand. This is messy and easily subject to errors. I can get a partial test by loading the profile into Forge and seeing if I get errors. But sometimes I know there are errors and it doesn't complain, and sometimes I get errors but I cannot see what is wrong. So I was looking for an independent profile validator in lieu of Forge.</p>",
        "id": 153896181,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1499332706
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span> I take it you know of the schema + xsd validation you could apply? I imagine it wouldn't catch all types of errors, like if you didn't get all the elements for setting up slicing right, but it's a bit of a help.</p>",
        "id": 153896182,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1499333691
    },
    {
        "content": "<p>Vadim, I am not aware of those. Does a profile schema exist that I could use with this tool to validate my profiles? If so, where would I place the schema so the validator finds it? Do I then check the 'xsd' box? Thanks!</p>",
        "id": 153896183,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1499334849
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"cvway745@gmail.com\" data-user-id=\"2184\">@Chris</span> Munro  Thanks for reporting! We fixed a bug (our fault) your profile is perfectly fine. Your resource should render after we deploy a new version of simplifier. I'll let you know when that happens. (Probably this week or early next week).</p>",
        "id": 153896189,
        "sender_full_name": "Marten Smits",
        "timestamp": 1499342057
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span> Yeah, FHIR has XML Schema and Schematron files available (<a href=\"http://hl7.org/fhir/fhir-all-xsd.zip\" target=\"_blank\" title=\"http://hl7.org/fhir/fhir-all-xsd.zip\">download</a>).</p>\n<p>You can use any tool that supports validating with them - I personally use Oxygen XML editor. There is a \"Validate with...\" option you can use - point it to <code>structuredefinition.sch</code> and then <code>structuredefinition.xsd</code> to validate using both.</p>\n<p>Later on you can just assign the schematron and schema to the profile and validate in one go.</p>",
        "id": 153896197,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1499348095
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191363\">@Vadim Peretokin</span> it looks like this is still a validation for a resource following a profile. I am looking to validate the profile.xml itself.</p>",
        "id": 153896202,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1499350376
    },
    {
        "content": "<p>Did not realize you were not using the schema - hand editing is 1000%  easier using the schema   + Spy or Oxygen -  it catches 90% of your errors then the validation tools catch the rest.  After I get an error free structure, instead of applying the schematron ( since I use XMLSpy - not as slick as Oxygen)  I usually just upload the file to a test server and the server will validate the rest of the way.  Realized that these errors are typically due to some invariants  or a supported profile.   If the server doesn't support the profile then i use the java jar above to finish the job.  </p>",
        "id": 153896204,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499351168
    },
    {
        "content": "<p>A profile <em>is</em> a resource that follows a profile - it follows the StructureDefinition profile</p>",
        "id": 153896229,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1499359516
    },
    {
        "content": "<p>I was speaking generically.  If the profile is only defined on my laptop then I have to use the java jar and my profile definition and not try uploading to a test server</p>",
        "id": 153896231,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499359648
    },
    {
        "content": "<p>profile could be SD or Obs etc</p>",
        "id": 153896232,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499359691
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span> Hi Brian, this is for the profile.xml itself.</p>",
        "id": 153896304,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1499409909
    },
    {
        "content": "<p>You can also validate by sending it to <a href=\"http://vonk.furore.com/&lt;resourcetype&gt;/$validate\" target=\"_blank\" title=\"http://vonk.furore.com/&lt;resourcetype&gt;/$validate\">vonk.furore.com/&lt;resourcetype&gt;/$validate</a>, and provide the resource to be validated in the body. If you need specific StructureDefinitions beyond those in the specification to validate against, you can post them first to /StructureDefinition. This requires no installation on your side, and the resource to be validated will not be stored on the server. The validation code behind it is the same as in the .Net library. The OperationOutcome that you get back will list any issues.</p>",
        "id": 153896331,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1499429137
    }
]