[
    {
        "content": "<p>Hi,</p>\n<p>I am currently looking for a way to search the values of extensions and I'm a bit stuck using the official documentation and test servers.<br>\nAssuming that there is a dateTime-extension with the ULR \"<a href=\"http://fhir.de/StructureDefinition/gkv/einlesedatum-karte/0.2\" target=\"_blank\" title=\"http://fhir.de/StructureDefinition/gkv/einlesedatum-karte/0.2\">http://fhir.de/StructureDefinition/gkv/einlesedatum-karte/0.2</a>\" on the Coverage-resource, how would I search for a resource where this extension has a value of \"2012-07-08\" for example?</p>\n<p>Would this be correct:<br>\n[ServerURL]/Coverage?_extension=http://fhir.de/StructureDefinition/gkv/einlesedatum-karte/0.2|2012-07-08<br>\n?</p>\n<p>Furthermore, how would I search for resources where this timestamp is before \"2012-07-08\"? Something like this:<br>\n[ServerURL]/Coverage?_extension=http://fhir.de/StructureDefinition/gkv/einlesedatum-karte/0.2|lt2012-07-08<br>\n?</p>\n<p>Any advice or feedback is very much appreciated!</p>\n<p>Cheers,<br>\nSteffen</p>",
        "id": 179826289,
        "sender_full_name": "Steffen Lehnert",
        "timestamp": 1572868265
    },
    {
        "content": "<p>None of the above. To query for an extension value, you'd need to talk with your FHIR-server, to get them to agree to add another (custom) serach parameter, e.g. 'einlesedatum-karte'. That way, your quary would be Coverage?einlesedatum-karte=2012-07-08. But all of this preassumes you can configure the server to support the additional query parameter.</p>",
        "id": 179826670,
        "sender_full_name": "Ren√© Spronk",
        "timestamp": 1572868673
    },
    {
        "content": "<p>Thanks for the information! </p>\n<p>Isn't that approach a bit cumbersom?<br>\nI mean, it requires the people creating profiles and extensions to also create those SearchParameters and to configure whatever server you are using?</p>",
        "id": 179829587,
        "sender_full_name": "Steffen Lehnert",
        "timestamp": 1572871393
    },
    {
        "content": "<p>Do you have ideas on how to have servers support arbitrary search criteria (particularly when their internal persistence model isn't FHIR)?  We'd be happy to have a workable solution, but so far no one's come up with one.</p>",
        "id": 179837181,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1572877331
    },
    {
        "content": "<p>BTW - hapi has a neat feature where you save a SearchParameter resource, and it subsequently supports that search. Works on extensions too IIRC...</p>",
        "id": 179853741,
        "sender_full_name": "David Hay",
        "timestamp": 1572887988
    },
    {
        "content": "<p>HAPI has the benefit of having a FHIR-based persistence layer.  (And that approach only works if the search parameters are 'simple' ones.  (I.e. not 'sounds like' or some other more complex matching algorithm)</p>",
        "id": 179855145,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1572888834
    },
    {
        "content": "<p>indeed - but kinda cool anyway!</p>",
        "id": 179856095,
        "sender_full_name": "David Hay",
        "timestamp": 1572889542
    },
    {
        "content": "<blockquote>\n<p>it requires the people creating profiles and extensions to also create those SearchParameters and to configure whatever server you are using</p>\n</blockquote>\n<p>no and yes. It does not require people to create search parameters, though that is useful. It does definitely require to configure whatever server. We did that deliberately since a foundation of FHIR search is that the server decides in advance what element it allows search on , so that it can have a prepared search strategy.</p>",
        "id": 179867114,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1572896148
    },
    {
        "content": "<blockquote>\n<p>BTW - hapi has a neat feature where you save a SearchParameter resource, and it subsequently supports that search. Works on extensions too IIRC...</p>\n</blockquote>\n<p>Does it really do this?<br>\nThe R4 base server have some SearchParameters defined. But they are not supported when you try to search on them. I tried this one:<br>\n<a href=\"http://hapi.fhir.org/baseR4/SearchParameter/22788/_history/1\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/SearchParameter/22788/_history/1\">http://hapi.fhir.org/baseR4/SearchParameter/22788/_history/1</a><br>\nI woult think this means a search like this would be supported:</p>\n<div class=\"codehilite\"><pre><span></span>http://hapi.fhir.org/baseR4/DiagnosticReport?imagingStudy=ImagingStudy/23\n</pre></div>\n\n\n<p>But it don't support that search.</p>",
        "id": 180410597,
        "sender_full_name": "Thomas Tveit Rosenlund",
        "timestamp": 1573466580
    },
    {
        "content": "<p>For HAPI you can use a special feature to add a custom search parameter if that is what you want</p>",
        "id": 180458401,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1573505122
    },
    {
        "content": "<blockquote>\n<p>For HAPI you can use a special feature to add a custom search parameter if that is what you want</p>\n</blockquote>\n<p>And today it works. I also added a search parameter for the no-basis-middlename to the HAPI test server, at first it did not show up and i could not search for middlenames. Tested again today with a new person and it works:<br>\n<a href=\"http://hapi.fhir.org/baseR4/Person?middlename=Tirsdag&amp;_pretty=true\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Person?middlename=Tirsdag&amp;_pretty=true\">http://hapi.fhir.org/baseR4/Person?middlename=Tirsdag&amp;_pretty=true</a></p>\n<p>I think that is pretty amazing!</p>",
        "id": 180859186,
        "sender_full_name": "Thomas Tveit Rosenlund",
        "timestamp": 1573843041
    }
]