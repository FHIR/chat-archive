[
    {
        "content": "<p>Anyone familiar with this library <strong>Android FHIR SDK Structured Data Capture Library</strong></p>\n<p>[https://github.com/google/android-fhir/wiki/Structured-Data-Capture-Library]</p>\n<p>project</p>\n<p><a href=\"https://github.com/google/android-fhir/\">https://github.com/google/android-fhir/</a></p>\n<p>It is a questionnaire renderer written in Kotlin for Android. I am trying to use it. Documentation is very thin at this stage. I have made some progress (I am using Java) but nothing too exciting. Just tried to render a simple Questionnaire, I get something on the screen but nothing after that.</p>",
        "id": 274611982,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1646775968
    },
    {
        "content": "<p><a href=\"https://wiki.digitalsquare.io/images/0/0c/Digital_Square_FHIR_Webinar_-_Android_FHIR_SDK.pdf\">https://wiki.digitalsquare.io/images/0/0c/Digital_Square_FHIR_Webinar_-_Android_FHIR_SDK.pdf</a></p>",
        "id": 274626143,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1646784270
    },
    {
        "content": "<p>Here's a sample app: <a href=\"https://github.com/openhie/FoodAllergy-webinar/tree/master/android\">https://github.com/openhie/FoodAllergy-webinar/tree/master/android</a></p>",
        "id": 274626233,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1646784339
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"366686\">@Jing Tang</span> might be able to provide you with more insights.</p>",
        "id": 274674457,
        "sender_full_name": "Tilo Christ",
        "timestamp": 1646825308
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  <span class=\"user-mention\" data-user-id=\"366686\">@Jing Tang</span>  I have been able to get a questionnaire to render but have been unable to get the response. One problem is that I don't know kotlin and I am doing it Java. The code for getting the questionnaire to render in Java was very different than that for kotlin. The documentation is too thin for me to get anything but null pointers when I try and retrieve the response.  For example, this critical value QUESTIONNAIRE_FRAGMENT_TAG is undefined in my project. I've looked at the sample apps and they are not helpful as they only do the setup of the questionnaire which I eventually hacked out in Java.</p>\n<p>This code in the onCreate() will cause the questionnaire (hard coded String) to render. However,  I am unable to get the response in my Button's onClickListner() which I tap when I am done answering the questions.</p>\n<div class=\"codehilite\"><pre><span></span><code>        bundle = new Bundle();\n        bundle.putString(QuestionnaireFragment.EXTRA_QUESTIONNAIRE_JSON_STRING, questionnaireOzair);\n        questionnaireFragment = new QuestionnaireFragment();\n        getSupportFragmentManager().\n                beginTransaction()\n                .setReorderingAllowed(true)\n                .add(R.id.fragment_container_view, QuestionnaireFragment.class, bundle)\n                .commit();\n</code></pre></div>\n<p>I know it's quite different than the kotlin example given in the Wiki.</p>",
        "id": 274690154,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1646834038
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"366686\">@Jing Tang</span></p>",
        "id": 274690257,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1646834075
    },
    {
        "content": "<p>I got something like this to work:</p>\n<p>Create the fragment</p>\n<div class=\"codehilite\"><pre><span></span><code>    private void createQuestionnaireFragment()\n    {\n        bundle = new Bundle();\n        bundle.putString(QuestionnaireFragment.EXTRA_QUESTIONNAIRE_JSON_STRING, questionnaireOzair);\n        questionnaireFragment = new QuestionnaireFragment();\n        questionnaireFragment.setArguments(bundle);\n        getSupportFragmentManager().\n                beginTransaction()\n                .setReorderingAllowed(true).add(R.id.fragment_container_view, questionnaireFragment)\n                .commit();\n    }\n</code></pre></div>\n<p>get the response</p>\n<div class=\"codehilite\"><pre><span></span><code>    public View.OnClickListener onButtonClickListener = new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Log.i(TAG, &quot;Done Questionnaire pressed by user&quot;);\n            IParser serializer = FhirContext.forR4().newJsonParser();\n            serializer.setPrettyPrint(true);\n            String questStr = serializer.encodeResourceToString(questionnaireFragment.getQuestionnaireResponse());\n            Log.i(TAG, questStr);\n        }\n    };\n</code></pre></div>\n<p>The difficulty I was having previously was getting the questionnaireFragment for retrieval. I was trying to get it after the rendering was done and it did not seem to exist.</p>\n<p>I still need a lot of help here - so much is done under the hood I have no idea what is going on so it's just a matter of following very specific recipes.</p>",
        "id": 274696968,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1646837020
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"366686\">@Jing Tang</span>  I have a very simple implementation that renders a Q and gives a QR. It's size, however, is huge. Something like 40 MB in debug and 34 MB in release. Is that due to the HAPI FHIR library?</p>\n<p>However, what I would like to do it to be able to 'exit out' of the rendering process when a certain extension is read and then return to finish. Is that something possible to do?</p>",
        "id": 274760157,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1646864091
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196019\">@Fred Hersch</span> may also be able to help</p>",
        "id": 274788740,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1646887072
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179166-implementers/topic/Android.20FHIR.20SDK.20Structured.20Data.20Capture.20Library/near/274788740\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"196019\">Fred Hersch</span> may also be able to help</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> . Hi <span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span>. Sorry to hear you are having such difficulty. Definitely keen to learn from this experience and see how we can address the documentation gap (which we are aware of!). Were you able to follow the example in the Digital Square webinar. Can you just lay out what you are trying to achieve and I'll see if there is a good example in the code base we can point you to. It may be easier to set up a call.</p>",
        "id": 274824895,
        "sender_full_name": "Fred Hersch",
        "timestamp": 1646913670
    },
    {
        "content": "<p>Created profiles for resources but need help with creation of transaction bundle  and testing . Any tool available to do that.</p>",
        "id": 274830873,
        "sender_full_name": "Shashi K",
        "timestamp": 1646917262
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192228\">Brian Reinhold</span> <a href=\"#narrow/stream/179166-implementers/topic/Android.20FHIR.20SDK.20Structured.20Data.20Capture.20Library/near/274696968\">said</a>:</p>\n<blockquote>\n<p>I still need a lot of help here - so much is done under the hood I have no idea what is going on so it's just a matter of following very specific recipes.</p>\n</blockquote>\n<p>Hey Brian - Glad you got this to work! What other help do you need?</p>",
        "id": 274877071,
        "sender_full_name": "Jing Tang",
        "timestamp": 1646937360
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192228\">Brian Reinhold</span> <a href=\"#narrow/stream/179166-implementers/topic/Android.20FHIR.20SDK.20Structured.20Data.20Capture.20Library/near/274760157\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"366686\">Jing Tang</span>  I have a very simple implementation that renders a Q and gives a QR. It's size, however, is huge. Something like 40 MB in debug and 34 MB in release. Is that due to the HAPI FHIR library?</p>\n<p>However, what I would like to do it to be able to 'exit out' of the rendering process when a certain extension is read and then return to finish. Is that something possible to do?</p>\n</blockquote>\n<p>The sizes bloat is caused by some ML libraries in the QR code reader. I think we'll try to move that out of this library - but in the mean time you can also try to use progard to exclude it...</p>\n<p>I don't really understand what you mean by exiting out. Can you give an example?</p>",
        "id": 274877466,
        "sender_full_name": "Jing Tang",
        "timestamp": 1646937532
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"366686\">@Jing Tang</span>  I tried using the default proguard but it did not build.</p>\n<p>THat aside, what I mean by 'exit' is to take over rendering under a certain condition. What I am doing is trying to specify how a user can get a question that requires the user to take a measurement with a communicating device. The user does so and the data communicated by the device is auto populated into the response. At the moment we are defining a new extension called 'real time' that tells the renderer that data is going to be generated. The extension will carry codes that tell the render what information from the device to capture. Of course this requires an implementation that is capable of communicating with the device and decoding the data from it.</p>\n<p>Clearly no renderer is capable of that.</p>\n<p>So I am wondering if there is a way to do it. It is nice to NOT have to write all that GUI code to display the questions and handle user responses!</p>",
        "id": 274972840,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1647004582
    }
]