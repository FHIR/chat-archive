[
    {
        "content": "<p>I'd like to get the json structure definition for a valueset + version pair. As an example:</p>\n<p>The patient resource has a <code>gender</code> property, which has a valueset binding of <a href=\"http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1\">http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1</a></p>\n<p>That url redirects to <a href=\"http://hl7.org/fhir/valueset-administrative-gender.html\">http://hl7.org/fhir/valueset-administrative-gender.html</a> - and if you swap the <code>.html</code> at the end on _that_ with <code>.json</code>, you get a useful JSON-formatted StructureDefinition. But the string <code>4.0.1</code> doesn't appear anywhere in the redirect, so relying on this isn't a good idea.</p>\n<p>Is there a URL scheme for converting from the original valueset url (<a href=\"http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1\">http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1</a>) to a versioned JSON url (something looking like <a href=\"http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1.json\">http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1.json</a> - but this just redirects to the html page)</p>",
        "id": 199777381,
        "sender_full_name": "Misha Kaletsky",
        "timestamp": 1591289923
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/4.0.1/ValueSet/administrative-gender\">http://hl7.org/fhir/4.0.1/ValueSet/administrative-gender</a> works. It's on my todo list to get the |4.0.1 syntax working</p>",
        "id": 199827315,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1591319377
    },
    {
        "content": "<p>Thanks - so the algorithm to get the json from an <a href=\"http://hl7.org\">hl7.org</a> valueset binding is</p>\n<ol>\n<li>get the url, e.g. <code>http://hl7.org/fhir/ValueSet/administrative-gender|4.0.1</code></li>\n<li>parse it to take the <code>|4.0.1</code> at the end (or whatever number is there), and replace <code>/fhir</code> with <code>/fhir/4.0.1</code></li>\n<li>hit the parsed url</li>\n<li>get redirected to something like <code>http://hl7.org/fhir/R4/ValueSet/administrative-gender</code></li>\n<li>follow the redirect, get redirected again to <code>http://hl7.org/fhir/R4/valueset-administrative-gender.html</code></li>\n<li>replace <code>.html</code> with <code>.json</code></li>\n<li>finally, hit the json url</li>\n</ol>\n<p>In doing all this, I feel like I must be barking up the wrong tree somehow. Is there a better way to go from what's in the Patient structure definition for <code>gender</code> to the correct json url? Also, I noticed that step 4 has the same result whether the original url is using <code>4.0.0</code> or <code>4.0.1</code>.</p>",
        "id": 199881448,
        "sender_full_name": "Misha Kaletsky",
        "timestamp": 1591366214
    }
]