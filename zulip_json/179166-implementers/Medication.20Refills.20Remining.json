[
    {
        "content": "<p>we have requirement to map the refills remaining  column to the FHIR resource.Could you please provide us the correct resource to map this column.</p>",
        "id": 177253646,
        "sender_full_name": "Bindu Swapna",
        "timestamp": 1570115226
    },
    {
        "content": "<p>Is this being sent as part of Dispense information or as just a statement of a patient's use of a medication?</p>",
        "id": 177254235,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1570115577
    },
    {
        "content": "<blockquote>\n<p>Is this being sent as part of Dispense information or as just a statement of a patient's use of a medication?</p>\n</blockquote>\n<p>Its part of patient medication.</p>",
        "id": 177254374,
        "sender_full_name": "Bindu Swapna",
        "timestamp": 1570115638
    },
    {
        "content": "<p>So I'm assuming you are using MedicationStatement to convey that information?  If so, then you'll need to create an extension.</p>",
        "id": 177254550,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1570115745
    },
    {
        "content": "<p>MedicationStatement doesn't really have a concept of refills or fills.  If you're talking about refills, you're probably talking about MedicationRequest</p>",
        "id": 177259015,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1570118619
    },
    {
        "content": "<p>Ok Thank you....</p>",
        "id": 177265256,
        "sender_full_name": "Bindu Swapna",
        "timestamp": 1570122605
    },
    {
        "content": "<p>Following up on this - so there's no concept of \"refills remaining\" on a MedicationDispense?</p>",
        "id": 269347322,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1643157408
    },
    {
        "content": "<p>We'd have to link to the MedicationRequest and then allow someone else to calculate MedicationRequest.numberOfRepeatsAllowed - # of MedicationDispenses linked?</p>",
        "id": 269347380,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1643157476
    },
    {
        "content": "<p>yes, we found that different systems had different concepts of fills remaining, especially when it came to taking into account partial fills, so it hasn't been a part of the FHIR MedDispense resource from the beginning.</p>",
        "id": 269347881,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1643157861
    },
    {
        "content": "<p>I realize this is an old Zulip thread. Is there any follow up about how one might reference refills remaining in MedicationDispense? Or is the answer the same.  MedicationRequest allows numberofrepeatsallowed and initial fill but not number remaining.  Just looking to see if there is any new information on the topic.  My assumption is that an implementer would seek out MedicationDispense events subsequent to the MedicationRequest.DispenseRequest.initialFill and decrement the number of refills (repeats allowed) from that information.  Please advise if that is a correct assumption.Thank you</p>",
        "id": 270739009,
        "sender_full_name": "Floyd Eisenberg",
        "timestamp": 1643992326
    },
    {
        "content": "<p>I think that it would be an extension on MedicationDispense to indicate what the pharmacy believes the number of remaining fills is.</p>",
        "id": 270747542,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1643996312
    },
    {
        "content": "<p>Found this should be an extension<br>\nextension\"\" : [<br>\n    {<br>\n      \"\"url\"\" : \"\"<a href=\"http://hl7.org/fhir/us/meds/StructureDefinition/refill-number-extension\">http://hl7.org/fhir/us/meds/StructureDefinition/refill-number-extension</a>\"\",<br>\n      \"\"valuePositiveInt\"\" : 5<br>\n    }<br>\n  ],\"</p>",
        "id": 270747637,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1643996363
    },
    {
        "content": "<p>(Keeping in mind that remaining fills might be fractional)</p>",
        "id": 270747647,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1643996368
    },
    {
        "content": "<p>Or perhaps what a clinical organization believes is the number or remaining fills</p>",
        "id": 270747664,
        "sender_full_name": "Floyd Eisenberg",
        "timestamp": 1643996380
    },
    {
        "content": "<p>If you place a remaining fills number on an instance of a dispense, do you go back and update that value on all previous instances of dispense so they can be up to date? There is a reason why you don't store computed values on resources, because computations change. If you want to know how many fills are left. You calculate f(number authorized - number used) and if a new dispense is done tomorrow the output of the f() changes but not the f() itself or values stored in the data.</p>\n<p>This is similar to a previous thread. \"I want an extension on a weight observation that shows the avg weight over the last X time.\" If we want to know the avg, fetch the measurements and calculate it. If you store calculated values then you might have consider how do I update the calculated value whenever a data point changed that could change the calculation.</p>",
        "id": 270765461,
        "sender_full_name": "Daniel Venton",
        "timestamp": 1644004889
    },
    {
        "content": "<p>I think the semantics of this would be \"when this dispense was made, this was how many fills were remaining\".   But otherwise I do agree with you.</p>",
        "id": 270769681,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1644007197
    },
    {
        "content": "<p>The reason to include this is that it exists in other analogous standards. So that extension provides the ability to not be lossy.</p>\n<p>I think it's pretty clear that it's intended as \"at the time of this medication dispense, this many refills remained\". If the total number of refills is included in the linked medicationRequest, is there any ambiguity?</p>",
        "id": 270807699,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644040075
    }
]