[
    {
        "content": "<p>Could you please help, What is the difference between Must Support / Mandatory FHIR data elements with respect to Client/Server implementation?</p>",
        "id": 233720990,
        "sender_full_name": "Bapi Behera",
        "timestamp": 1617913016
    },
    {
        "content": "<p>Server must always populate mandatory elements (min. cardinality 1). The definition of must support can be different depending on the implementation guide, but a rule of thumb is that server must populate must support element if they have the data</p>",
        "id": 233722636,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1617913688
    },
    {
        "content": "<p>As an example, you might make \"deceasedDate\" mustSupport, but it would be odd to make it mandatory.  Depending on the IG, that might mean \"System must be able to store if received\", \"must be able to display to user\", \"must be able to capture from user\", \"must be able to transmit to downstream systems\", \"must consider as part of decision support logic\", etc.  mustSupport can only be evaluated by looking at the behavior of the system - it can't be evaluated just by looking at an instance.</p>",
        "id": 233766706,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1617942615
    },
    {
        "content": "<p>Thanks Lloyd for the good example. that make sense.  So When we do not have the \"deceasedDate\", can we send NullFlavor code?<br>\nEx: UNK unknown<br>\n<a href=\"https://www.hl7.org/fhir/v3/NullFlavor/cs.html#definition\">https://www.hl7.org/fhir/v3/NullFlavor/cs.html#definition</a></p>",
        "id": 233814819,
        "sender_full_name": "Bapi Behera",
        "timestamp": 1617972629
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/179166-implementers/topic/Must.20Support.20.2F.20Mandatory/near/233722636\">said</a>:</p>\n<blockquote>\n<p>Server must always populate mandatory elements (min. cardinality 1). The definition of must support can be different depending on the implementation guide, but a rule of thumb is that server must populate must support element if they have the data</p>\n</blockquote>\n<p>Agree. I am trying to define a best practice  to manage the must support element. If no data available, can we send the NullFlavor code?</p>",
        "id": 233815118,
        "sender_full_name": "Bapi Behera",
        "timestamp": 1617972767
    },
    {
        "content": "<p>You could refer, missing data guidelines defined as per US Core General Guidelines.<br>\n<a href=\"http://hl7.org/fhir/us/core/general-guidance.html#missing-data\">http://hl7.org/fhir/us/core/general-guidance.html#missing-data</a></p>",
        "id": 233818235,
        "sender_full_name": "Vish",
        "timestamp": 1617974053
    },
    {
        "content": "<p>If no data available and the element is not required you just omit it - no need to do anything special</p>",
        "id": 233821222,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1617975211
    },
    {
        "content": "<p>So if deceasedDate is must support but not required you just don't populate that element for people that are still alive</p>",
        "id": 233821317,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1617975243
    },
    {
        "content": "<p>Also, be aware that elements that have 'required' vocabulary bindings can't use extensions to bypass missing data.  If the profile says an element is mandatory with a required binding, and you don't have a value, then you can't comply with the profile</p>",
        "id": 233853587,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1617986121
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Must.20Support.20.2F.20Mandatory/near/233853587\">said</a>:</p>\n<blockquote>\n<p>Also, be aware that elements that have 'required' vocabulary bindings can't use extensions to bypass missing data.  If the profile says an element is mandatory with a required binding, and you don't have a value, then you can't comply with the profile</p>\n</blockquote>\n<p>Would it be useful to explicitly mention that in the <em>4.1.5.1 Required</em>? Currently this section does not give that sense.</p>",
        "id": 234727002,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1618510718
    },
    {
        "content": "<p>There is already a tracker to do that.</p>",
        "id": 234730944,
        "sender_full_name": "Eric Haas",
        "timestamp": 1618512280
    },
    {
        "content": "<p>I've just checked, the <em>FHIR validator</em> does not fail a required (1..1) MS element with the Required binding. E.g., US Core <em>DiagnosticReport.status</em>, the profile was specified.</p>",
        "id": 234775729,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1618532616
    },
    {
        "content": "<p>can you provide and example, and what your validator output is please</p>",
        "id": 234776039,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1618532815
    },
    {
        "content": "<p>E.g., <em>DiagnosticReport.status</em> with meta.profile bound to <a href=\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-diagnosticreport-lab\">http://hl7.org/fhir/us/core/StructureDefinition/us-core-diagnosticreport-lab</a> defined as following:</p>\n<div class=\"codehilite\"><pre><span></span><code> ...\n  &quot;_status&quot;: {\n    &quot;extension&quot;: [\n      {\n        &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;,\n        &quot;valueCode&quot;: &quot;unknown&quot;\n      }\n    ]\n  },\n ...\n</code></pre></div>\n<p>No warnings or errors in valitions.xml/html outputs. <br>\nI'll probably to try with the <em>DocumentReference.status</em> as well.</p>",
        "id": 234777364,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1618533751
    },
    {
        "content": "<p>No warning or error for this one as well:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;DocumentReference&quot;,\n  &quot;meta&quot;: {\n    &quot;profile&quot;: [\n      &quot;http://hl7.org/fhir/us/core/StructureDefinition/us-core-documentreference&quot;\n    ]\n  },\n  &quot;_status&quot;: {\n    &quot;extension&quot;: [\n      {\n        &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;,\n        &quot;valueCode&quot;: &quot;unknown&quot;\n      }\n    ]\n  },\n  &quot;type&quot;: {\n    &quot;coding&quot;: [\n      {\n        &quot;system&quot;: &quot;http://terminology.hl7.org/CodeSystem/v3-NullFlavor&quot;,\n        &quot;code&quot;: &quot;UNK&quot;\n      }\n    ]\n  },\n  &quot;category&quot;: [\n    {\n      &quot;coding&quot;: [\n        {\n          &quot;system&quot;: &quot;http://hl7.org/fhir/us/core/CodeSystem/us-core-documentreference-category&quot;,\n          &quot;code&quot;: &quot;clinical-note&quot;\n        }\n      ]\n    }\n  ],\n  &quot;subject&quot;: {\n    &quot;reference&quot;: &quot;Patient/example&quot;\n  },\n  &quot;content&quot;: [\n    {\n      &quot;attachment&quot;: {\n        &quot;_contentType&quot;: {\n          &quot;extension&quot;: [\n            {\n              &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;,\n              &quot;valueCode&quot;: &quot;unknown&quot;\n            }\n          ]\n        },\n        &quot;_data&quot;: {\n          &quot;extension&quot;: [\n            {\n              &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;,\n              &quot;valueCode&quot;: &quot;unknown&quot;\n            }\n          ]\n        }\n      }\n    }\n  ]\n}\n</code></pre></div>\n<p>Only info that \"<em>None of the codings provided are in the value set <a href=\"http://hl7.org/fhir/ValueSet/c80-doc-typecodes\">http://hl7.org/fhir/ValueSet/c80-doc-typecodes</a> (<a href=\"http://hl7.org/fhir/ValueSet/c80-doc-typecodes\">http://hl7.org/fhir/ValueSet/c80-doc-typecodes</a>), and a coding is recommended to come from this value set) (codes = <a href=\"http://terminology.hl7.org/CodeSystem/v3-NullFlavor#UNK\">http://terminology.hl7.org/CodeSystem/v3-NullFlavor#UNK</a>)</em>\" </p>\n<p>NullFlavor is allowed by USCoreDocumentReferenceType.</p>",
        "id": 234778600,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1618534755
    },
    {
        "content": "<p>right, that one is valid</p>",
        "id": 234798132,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1618552208
    },
    {
        "content": "<p>How is that one valid?</p>",
        "id": 234883202,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1618590322
    },
    {
        "content": "<p>If you have a required binding, you <em>must</em> have a code from the value set.  No exceptions (including with extensions)</p>",
        "id": 234883267,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1618590346
    },
    {
        "content": "<p>no if you have a value, it must be from the value set. In this case, there's no value</p>",
        "id": 235106320,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1618784305
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  we have been operating under the same rules that Lloyd stated for quite some time now.</p>",
        "id": 235195837,
        "sender_full_name": "Eric Haas",
        "timestamp": 1618844601
    },
    {
        "content": "<p>The rules are clear.  If you have an <em>element</em> in the instance, it must have a value from the binding.  Extensions do not waive this requirement.</p>",
        "id": 235199146,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1618845562
    },
    {
        "content": "<p>The following rules apply when required bindings are used with the CodeableConcept data type:<br>\nat least one Coding element SHALL be present<br>\none of the Coding values SHALL be from the specified value set<br>\ntext can be provided as well, and is always recommended, but is not an acceptable substitute for the required code</p>",
        "id": 235199348,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1618845642
    },
    {
        "content": "<p>It makes no sense that we'd impose greater constraint on CodeableConcept than we do on 'code'.</p>",
        "id": 235199517,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1618845720
    },
    {
        "content": "<p>well, so they are. I've updated the validator. One test case changed from passing to failing. I guess the next release will break something</p>",
        "id": 235275117,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1618882483
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> A bit of a hijack but you have made clear and we've seen that using slicing an IG can specify the use of a value <strong>not in the required binding</strong> therefore an instance can contain values that conform to the slice, and not the required binding. So which is it?</p>",
        "id": 235374806,
        "sender_full_name": "Robert McClure",
        "timestamp": 1618936525
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191503\">Robert McClure</span> <a href=\"#narrow/stream/179166-implementers/topic/Must.20Support.20.2F.20Mandatory/near/235374806\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> A bit of a hijack but you have made clear and we've seen that using slicing an IG can specify the use of a value <strong>not in the required binding</strong> therefore an instance can contain values that conform to the slice, and not the required binding. So which is it?</p>\n</blockquote>\n<p>from the <a href=\"http://build.fhir.org/terminologies.html#required\">spec</a></p>\n<blockquote>\n<p>The following rules apply when required bindings are used with the CodeableConcept data type:</p>\n<p>at least one Coding element SHALL be present<br>\n<strong>one of the Coding values SHALL be from the specified value set</strong><br>\ntext can be provided as well, and is always recommended, but is not an acceptable substitute for the required code  </p>\n</blockquote>\n<p>[emphasis mine]</p>",
        "id": 235376617,
        "sender_full_name": "Eric Haas",
        "timestamp": 1618937231
    },
    {
        "content": "<p>so if required binding to LOINC then this is OK...</p>\n<p>slice the first coding to be  LOINC 1234-5<br>\nslice the second coding to be \"foo\"</p>",
        "id": 235376943,
        "sender_full_name": "Eric Haas",
        "timestamp": 1618937365
    },
    {
        "content": "<p>If you have a binding for the overall CodeableConcept and also have bindings on CodeableConcept.coding slices, they all apply (though if the slices are optional, then you're not guaranteed of adherence to those slices).  If there's a required binding to SNOMED for the base element, a slice binding to ICD10 adds an expectation for ICD10 but doesn't remove the base expectation for SNOMED.</p>\n<p>Side note, there's no ordering to the Codings, so it doesn't matter if SNOMED appears in the 1st coding or the 17th.  If it appears somewhere, you've met the requirement.  (It's non-conformant to mandate order for the Codings because there is no meaning assigned to the order.)</p>",
        "id": 235424639,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1618956903
    }
]