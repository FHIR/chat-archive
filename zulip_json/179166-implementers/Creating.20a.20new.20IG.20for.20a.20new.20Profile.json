[
    {
        "content": "<p>We are trying to create a new Profile (EBMRecommendation) for a newly created Resource (ArtifactAssessment) and because this Resource does not exist in 4.6.0 or any earlier numbered FHIR version, we are trying to create the simplest IG and simplest Profile to get started in the current FHIR build.   Not having success in getting it to build.  Does <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  need to do the initial setup for a new IG?</p>",
        "id": 264872468,
        "sender_full_name": "Brian Alper",
        "timestamp": 1639494986
    },
    {
        "content": "<p>A draft resource isn't going to work in an IG that relies on published resources.  You're likely going to have to wait on it being published until the publisher can reference it.</p>",
        "id": 264877592,
        "sender_full_name": "David Pyke",
        "timestamp": 1639497011
    },
    {
        "content": "<p>What do you mean by published resources?  Do you mean the resource has to be a in published version (snapshot) of FHIR (e.g. 4.6.0)?  Can we make a Profile in the current build before the next snapshot?  If not, when is the next snapshot expected?</p>",
        "id": 264878999,
        "sender_full_name": "Brian Alper",
        "timestamp": 1639497574
    },
    {
        "content": "<p>Next snapshots for core and R4B should be out in days.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>?</p>",
        "id": 264882450,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1639498736
    },
    {
        "content": "<p>The publisher doesn't work with the CI build, only snapshots and the next one will be a while.  Right now R4B and R5 are priorities and I don't believe a new snapshot will be taken until months from now.  </p>\n<p>You should probably focus on getting your resource to FMM1 so that it will be part of a future snapshot</p>",
        "id": 264884654,
        "sender_full_name": "David Pyke",
        "timestamp": 1639499600
    },
    {
        "content": "<p>We're supposed to have snapshots out for the Jan. connectathon shortly...</p>",
        "id": 264886507,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1639500294
    },
    {
        "content": "<p>getting the IG publisher to work with the CI Build is on the wish list. I don't know if it'll ever get off the wish list</p>",
        "id": 264910317,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639508942
    },
    {
        "content": "<p>5.0.0-snapshot1 is out now and includes ArtifactAssessment Resource. We would like to create an EBM IG with an EBMRecommendation Profile of ArtifactAssessment Resource. <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> How do we do this?</p>",
        "id": 265699515,
        "sender_full_name": "Brian Alper",
        "timestamp": 1640101465
    },
    {
        "content": "<p>right now you can't - it's on my todo list</p>",
        "id": 265731187,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1640118800
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Is creating an \"EBM IG with an EBMRecomendation Profile\" on your todo list, or just the ability for us to create such a thing on your todo list?  If the latter and it will a while, can we ask for help with the former?</p>",
        "id": 265734744,
        "sender_full_name": "Brian Alper",
        "timestamp": 1640121134
    },
    {
        "content": "<p>Iâ€™m pretty sure it is the latter - the ability for you to do that.  To do that you need to be able to point the publisher at the 5.0.0-snapshot which I thought you could do but Grahame has said there are issues</p>",
        "id": 265735409,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1640121575
    },
    {
        "content": "<p>so, in fact, I'll be releasing an IG publisher in a few hours that will support creating an IG based on the last R5</p>",
        "id": 265736209,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1640122063
    },
    {
        "content": "<p>you have to nominate <code>5.0.0-snapshot1</code> as the FHIR version</p>",
        "id": 265736363,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1640122165
    },
    {
        "content": "<blockquote>\n<p>Is creating an \"EBM IG with an EBMRecomendation Profile\" on your todo list, or just the ability for us to create such a thing on your todo list?</p>\n</blockquote>\n<p>Just the ability to do so, I'm afraid</p>",
        "id": 265736383,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1640122182
    },
    {
        "content": "<p>I'm working on adding support for 5.0.0-snapshot1 in SUSHI.  I thought we already supported it, but it turns out that we reject it because it doesn't start with the number <code>4</code>. Doh.</p>",
        "id": 265736538,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1640122281
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179166-implementers/topic/Creating.20a.20new.20IG.20for.20a.20new.20Profile/near/265736209\">said</a>:</p>\n<blockquote>\n<p>so, in fact, I'll be releasing an IG publisher in a few hours that will support creating an IG based on the last R5</p>\n</blockquote>\n<p>No commits from Grahame seen on GitHub since this message.  Are we able to build an IG based on 5.0.0-snapshot1 now?</p>",
        "id": 266684114,
        "sender_full_name": "Brian Alper",
        "timestamp": 1641215592
    },
    {
        "content": "<p>I'm trying to build a new IG - both locally (using sushi on a mac) and also online using a copy of the template from <a href=\"https://github.com/openhie/empty-fhir-ig-custom\">https://github.com/openhie/empty-fhir-ig-custom</a> - see <a href=\"https://github.com/fredhersch/myFirstIG\">https://github.com/fredhersch/myFirstIG</a> and click on the build fail (x)</p>\n<p>I seem to be running into the same problem when trying to load the FHIR R4 package:</p>\n<p><code>Sushi: error Failed to load hl7.fhir.r4.core#4.0.1: The package hl7.fhir.r4.core#4.0.1 could not be loaded locally or from the FHIR package registry. (00:01.0177)</code><br>\nIs this a known issue at the moment? Or am I doing something wrong?</p>\n<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span></p>",
        "id": 266783160,
        "sender_full_name": "Fred Hersch",
        "timestamp": 1641286473
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"315122\">@Fred Hersch</span> seems like an issue with the package server, so not on your end. Let me check if there are other issues.</p>",
        "id": 266784686,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1641287490
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"315122\">@Fred Hersch</span> yes, expired certificate.<br>\nIf you are in a hurry and really need to get it working, you can deactivate the certificate check as explained here<br>\n<a href=\"#narrow/stream/215610-shorthand/topic/R5.20support/near/266722279\">https://chat.fhir.org/#narrow/stream/215610-shorthand/topic/R5.20support/near/266722279</a></p>",
        "id": 266784819,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1641287593
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> that worked</p>",
        "id": 266895494,
        "sender_full_name": "Fred Hersch",
        "timestamp": 1641355229
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> How do we create an Implementation Guide in the current FHIR Build? And does there need to be an initial profile associated with it?</p>",
        "id": 267437190,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1641820498
    },
    {
        "content": "<p>do you mean an Implementation Guide that profiles the current FHIR build? You can't target the \"current\", but you can target snapshots, like the one fixed for this weeks FHIR Connectathon. All of the tooling that produces an Implementation Guide needs to be adjusted, hence why snapshots are taken so that the tooling can all be adjusted to that quantum.</p>",
        "id": 267437872,
        "sender_full_name": "John Moehrke",
        "timestamp": 1641820871
    },
    {
        "content": "<p>see <a class=\"stream\" data-stream-id=\"179240\" href=\"/#narrow/stream/179240-Announcements\">#Announcements</a>  for the <a href=\"#narrow/stream/179240-Announcements/topic/FHIR.20Publication.20Announcement\">https://chat.fhir.org/#narrow/stream/179240-Announcements/topic/FHIR.20Publication.20Announcement</a></p>",
        "id": 267438026,
        "sender_full_name": "John Moehrke",
        "timestamp": 1641820959
    },
    {
        "content": "<p>If you targeted the current build, you'd be in continuous pain as the changes to the core spec repeatedly broke your IG...</p>",
        "id": 267454710,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1641829310
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I meant creating an Implementation Guide for ArtifactAssessment Resource using 5.0.0-snapshot1 (if that's what I need to do). I'm trying to create a profile for ArtifactAssessment, but I need to have an Implementation Guide to associate the profile to.</p>",
        "id": 267596154,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1641914363
    },
    {
        "content": "<p>yes it should all work like any other IG should now</p>",
        "id": 267599354,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641915609
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I've never created an IG before, what are the steps to make one directly in the FHIR build?</p>",
        "id": 267600283,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1641916010
    },
    {
        "content": "<p>you don't create it in the FHIR build. You create a separate IG</p>",
        "id": 267600368,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641916045
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  How do we create a separate IG?  Is this a necessary step prior to creating a Profile?</p>",
        "id": 267600710,
        "sender_full_name": "Brian Alper",
        "timestamp": 1641916190
    },
    {
        "content": "<p>you told me you want an IG. So let's step back: what is it you want to achieve?</p>",
        "id": 267603178,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641917083
    },
    {
        "content": "<p>You use the FHIR IG Publisher tool to create IGs.  Here is some documentation on the tool itself:<br>\n<a href=\"https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation\">https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation</a></p>\n<p>Since I'm a disciple of using FHIR Shorthand to create profiles and IGs, I would recommend that you look at the documentation for FSH and SUSHI:<br>\n<a href=\"http://hl7.org/fhir/uv/shorthand/2021Sep/\">http://hl7.org/fhir/uv/shorthand/2021Sep/</a><br>\n<a href=\"https://fshschool.org/docs/sushi/\">https://fshschool.org/docs/sushi/</a></p>",
        "id": 267610131,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1641919762
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> The primary immediate goal is to create an EBMRecommendation Profile of ArtifactAssessment Resource.  Later we will want to create an Evidence Based Medicine IG, but we are not clear if we need to create the IG to create the Profile.  Should we start with a Profile only for now?  Is it possible to create a Profile without and IG?</p>",
        "id": 267612587,
        "sender_full_name": "Brian Alper",
        "timestamp": 1641920738
    },
    {
        "content": "<p>You can create a profile from scratch if that is all you want.  Take a look at the StructureDefinition resource: <a href=\"http://hl7.org/fhir/structuredefinition.html\">http://hl7.org/fhir/structuredefinition.html</a>.   That's not going to be easy though.</p>\n<p>All of the tooling that takes easier ways of specifying a profile (see IGPublisher and SUSHI/FSH links in my earlier post) assume you are creating a profile as part of an IG.  If you use SUSHI, it will create a boilerplate IG for you and then you can just create your one profile, run the tooling on it, and use that outside of the IG.</p>",
        "id": 267617812,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1641922903
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> Do you know of an example Profile without an IG?  If so we can learn from that.  We are comfortable trying to work at the StructureDefinition   directly.</p>",
        "id": 267620244,
        "sender_full_name": "Brian Alper",
        "timestamp": 1641923822
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192085\">@Brian Alper</span> -- If it is not in an IG, how do you want/expect it to be used by others?  Where will it live?  How will you distribute it?</p>\n<p>In my opinion (and I am <em>extremely</em> biased), the easiest way to create a new IG is:</p>\n<ol>\n<li>Install SUSHI via <code>npm install -g fsh-sushi</code> (prerequisite: install Node.js 12 or 14).</li>\n<li>In your favorite folder to hold dev projects, run <code>sushi --init</code> and follow the prompts.</li>\n<li>Change directories to your new project.</li>\n<li>Edit <code>sushi-config.yaml</code> so <code>fhirVersion</code> is <code>5.0.0-snapshot1</code> (assuming that's what you want).</li>\n<li>Add/edit <code>input/fsh</code> files to create your profile(s) using FHIR Shorthand (see spec).</li>\n<li>Run <code>sushi .</code> to ensure correct syntax (and check <code>fsh-generated</code> results). Repeat steps 5 &amp; 6 as necessary.</li>\n<li>Run <code>_updatePublisher</code> to get the latest publisher jar.</li>\n<li>Run <code>_genonce</code> to build the IG.</li>\n<li>View IG in <code>output/index.html</code>.</li>\n<li>Go back to step 5 as necessary (if changes are needed).</li>\n</ol>",
        "id": 267623496,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1641925131
    },
    {
        "content": "<p>You can look at any profile in an IG or not.  The structure will be the same.  But good luck creating this without tooling.  You really should be looking into creating a stub IG to put your profile in because there is a lot to get right in a profile (eg the snapshot) that will be hard to do by hand.</p>",
        "id": 267623512,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1641925139
    },
    {
        "content": "<p>I see <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> beat me to it, but here was the response I was preparing...</p>\n<p>An example profile without an IG looks exactly like the raw JSON/XML view of a profile in an IG. You could code one of those up by hand if all <br>\nyou are looking for is a profile (actually StructureDefinition) resource. However, what are you going to do with it then? You could validate resources against it (either using one of the validation tools, or loading it onto your server and validating resources), but the real benefit of a profile is making it available to others so there is agreement about what gets passed between your system and theirs. A raw profile could do that, but it is much nicer if you have an IG that can describe some of the context, etc.</p>",
        "id": 267623597,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1641925187
    },
    {
        "content": "<p>We were able to create an EBMRecommendation Profile <a href=\"https://build.fhir.org/ebmrecommendation.html\">https://build.fhir.org/ebmrecommendation.html</a> of ArtifactAssessment and include the differential for element changes other than adding extensions.  Once we figure out how to add the extensions we will have the basic EBMRecommendation Profile to advance this structure for initial use and demonstration. It would also be useful to learn how to set up an IG for it (and for the whole EBMonFHIR effort) but at least we are making progress on getting the profile built.</p>",
        "id": 267783837,
        "sender_full_name": "Brian Alper",
        "timestamp": 1642020446
    },
    {
        "content": "<p>okay, except that you put the profile in the core build.  It shouldn't be there since it's not a core FHIR profile.</p>",
        "id": 267784506,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1642020777
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> <a href=\"#narrow/stream/179166-implementers/topic/Creating.20a.20new.20IG.20for.20a.20new.20Profile/near/267784506\">said</a>:</p>\n<blockquote>\n<p>okay, except that you put the profile in the core build.  It shouldn't be there since it's not a core FHIR profile.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> , do we have core profiles? 'Cause if so, I was just thinking of a couple that would be useful.</p>",
        "id": 267789688,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1642023491
    },
    {
        "content": "<p>Yes, vital signs is a core profile.</p>",
        "id": 267792124,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1642024754
    },
    {
        "content": "<p>Duh, of course. thanks.</p>",
        "id": 267792166,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1642024780
    }
]