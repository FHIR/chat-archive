[
    {
        "content": "<p>Reference do not resolve? Your problem! <a href=\"https://github.com/virencehealth/apiserver.virencehealth.com/issues/59\" title=\"https://github.com/virencehealth/apiserver.virencehealth.com/issues/59\">https://github.com/virencehealth/apiserver.virencehealth.com/issues/59</a></p>",
        "id": 192750339,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1585879048
    },
    {
        "content": "<p>well, technically, the specification says that references don't have to resolve. We've always taken it for granted, though (and said in the spec_, that a real healthcare system would ensure that they did in fact maintain referential integrity. </p>\n<p>Can't help stupid...</p>\n<p>Guess we can mention these guys when we're asked about this in tutorials</p>",
        "id": 192751392,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585880446
    },
    {
        "content": "<p>In distributed environments it may be near impossible to maintain referential integrity, unless one requires (for all applications) that resources can never be deleted.. As such some guidance as to how one should deal with this erroneous situation would be helpful.</p>",
        "id": 192763594,
        "sender_full_name": "René Spronk",
        "timestamp": 1585896550
    },
    {
        "content": "<p>I don't see how we can provide general guidance more than we do - that would be an IG thing</p>",
        "id": 192763699,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585896685
    },
    {
        "content": "<p>The spec say 'Whether or not the reference is to a FHIR RESTful server, the reference SHALL point to a Resource as defined by this specification' - seems to me that it means they should resolve. Also: they should use Argonaut, that say that MedicationOrder must have a medication. Also also: a MedicationOrder without the medication does not make any sense - but they don't believe me, everything is fine</p>",
        "id": 192807272,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1585922289
    },
    {
        "content": "<p>What does it mean \"Whether or not the reference is to a FHIR RESTful server\"? Is it to cover contained resources, and resources in a Bundle? Or does it mean that you can put an identifier in there, that is not retrievable?</p>",
        "id": 192807878,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1585922570
    },
    {
        "content": "<p>This specification uses the conformance verbs SHALL, SHOULD, and MAY as defined in RFC 2119. <strong>Unlike RFC 2119</strong>, however, <strong>this specification allows</strong> that different applications might not be able to interoperate because of how they use optional features.</p>\n<p>That reads a bit like : \"SHALL is an absolute must, unless you are not able to\"</p>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  did I get that right ?</p>",
        "id": 192809069,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1585923082
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span> : that language is at <a href=\"http://hl7.org/fhir/DSTU2/references.html\" title=\"http://hl7.org/fhir/DSTU2/references.html\">http://hl7.org/fhir/DSTU2/references.html</a> - it mean that a reference can point to a static file somewhere for example, that must still be a valid FHIR resource</p>",
        "id": 192810645,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1585923697
    },
    {
        "content": "<p>But this is the 'Bad implementation<strong>s</strong>' (plural) topic, so here's something else<br>\n...what should we put in this Bundle 'next' link? Why not a link to every entry in the bundle for example?</p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;type&quot;: &quot;searchset&quot;,\n  &quot;entry&quot;: [\n    {\n      &quot;fullUrl&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/2b7f42c7-58a8-4f68-4c88-5d166729ad17&quot;,\n      &quot;resource&quot;: {\n        &quot;id&quot;: &quot;2b7f42c7-58a8-4f68-4c88-5d166729ad17&quot;,\n          . . .\n        &quot;resourceType&quot;: &quot;Condition&quot;\n      },\n      &quot;search&quot;: {\n        &quot;mode&quot;: &quot;match&quot;\n      }\n    },\n    {\n      &quot;fullUrl&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/2d5fc10c-f4d3-463f-2196-c7a19a20cc43&quot;,\n      &quot;resource&quot;: {\n        &quot;id&quot;: &quot;2d5fc10c-f4d3-463f-2196-c7a19a20cc43&quot;,\n          . . .\n        &quot;resourceType&quot;: &quot;Condition&quot;\n      },\n      &quot;search&quot;: {\n        &quot;mode&quot;: &quot;match&quot;\n      }\n    },\n    {\n      &quot;fullUrl&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/321c9f35-1053-4a0e-f6af-4fcd7f0b2c73&quot;,\n      &quot;resource&quot;: {\n        &quot;id&quot;: &quot;321c9f35-1053-4a0e-f6af-4fcd7f0b2c73&quot;,\n          . . .\n        &quot;resourceType&quot;: &quot;Condition&quot;\n      },\n      &quot;search&quot;: {\n        &quot;mode&quot;: &quot;match&quot;\n      }\n    },\n    {\n      &quot;fullUrl&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/c7bd1ffb-9ca2-4900-83ae-fe5b6c0cd4b7&quot;,\n      &quot;resource&quot;: {\n        &quot;id&quot;: &quot;c7bd1ffb-9ca2-4900-83ae-fe5b6c0cd4b7&quot;,\n          . . .\n        &quot;resourceType&quot;: &quot;Condition&quot;\n      },\n      &quot;search&quot;: {\n        &quot;mode&quot;: &quot;match&quot;\n      }\n    },\n    {\n      &quot;fullUrl&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/e5441aac-4cc2-456c-e7a0-c2585c0563b1&quot;,\n      &quot;resource&quot;: {\n        &quot;id&quot;: &quot;e5441aac-4cc2-456c-e7a0-c2585c0563b1&quot;,\n          . . .\n        &quot;resourceType&quot;: &quot;Condition&quot;\n      },\n      &quot;search&quot;: {\n        &quot;mode&quot;: &quot;match&quot;\n      }\n    }\n  ],\n  &quot;link&quot;: [\n    {\n      &quot;relation&quot;: &quot;next&quot;,\n      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/2b7f42c7-58a8-4f68-4c88-5d166729ad17&quot;\n    },\n    {\n      &quot;relation&quot;: &quot;next&quot;,\n      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/2d5fc10c-f4d3-463f-2196-c7a19a20cc43&quot;\n    },\n    {\n      &quot;relation&quot;: &quot;next&quot;,\n      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/321c9f35-1053-4a0e-f6af-4fcd7f0b2c73&quot;\n    },\n    {\n      &quot;relation&quot;: &quot;next&quot;,\n      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/c7bd1ffb-9ca2-4900-83ae-fe5b6c0cd4b7&quot;\n    },\n    {\n      &quot;relation&quot;: &quot;next&quot;,\n      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition/e5441aac-4cc2-456c-e7a0-c2585c0563b1&quot;\n    },\n    {\n      &quot;relation&quot;: &quot;self&quot;,\n      &quot;url&quot;: &quot;https://greenfield-apis.meditech.com:443/v1/argonaut/v1/Condition?patient=I0-B20190530093628792&quot;\n    }\n  ],\n  &quot;total&quot;: 5,\n  &quot;resourceType&quot;: &quot;Bundle&quot;\n}\n</pre></div>",
        "id": 192813038,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1585924647
    },
    {
        "content": "<p>we've struggled with this language. What we're trying to say is that you can't point to something that isn't a FHIR resource - e.g. a PDF that describes something, in a Reference().</p>",
        "id": 192851070,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585941009
    },
    {
        "content": "<p>we aren't trying to say that the link can't be broken</p>",
        "id": 192851087,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585941020
    },
    {
        "content": "<p>Well, we're also saying the link isn't guaranteed to be resolvable - network issues, permission issues, site issues, etc. mean that there's never a guarantee of resolution</p>",
        "id": 192852458,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585941764
    },
    {
        "content": "<p>So MedicationOrder pointing to Medication that do not exist are OK?</p>",
        "id": 192852981,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1585942059
    },
    {
        "content": "<p>It's definitely not OK .. but in the real world, s* happens.</p>",
        "id": 192900242,
        "sender_full_name": "René Spronk",
        "timestamp": 1585994728
    },
    {
        "content": "<p>It's entirely possible that the items being referenced aren't under the control of the server doing the referencing, so enforcing referential integrity just isn't possible in all spaces.</p>",
        "id": 192908334,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1586008015
    },
    {
        "content": "<p>just passing through so you can ignore ;-0 but seems you are mashing together the idea of elegant error handling and specification expectations. If a reference is expecting a resolvable FHIR resource then it should be a SHALL and then you need to have error handling processes. Saying it SHOULD be a resource but allowing anything to happen is not the same thing. Assuming you thought about all that, I'd assume getting a resource is \"nice to have\" and you expect implementers to design systems where things other than a resource must be accepted and used. Right?</p>",
        "id": 192928714,
        "sender_full_name": "Robert McClure",
        "timestamp": 1586037182
    }
]