[
    {
        "content": "<p><a href=\"https://www.hl7.org/fhir/http.html#2.21.0.13.1\" target=\"_blank\" title=\"https://www.hl7.org/fhir/http.html#2.21.0.13.1\">https://www.hl7.org/fhir/http.html#2.21.0.13.1</a></p>\n<blockquote>\n<p>No matches or One Match: The server performs an ordinary delete on the matching resource</p>\n</blockquote>\n<p>What does it mean to do ordinary delete for No matches? As I understand, ordinary delete can be done only by resource id. No matches - no id.</p>",
        "id": 154010983,
        "sender_full_name": "Andrew Tropin",
        "timestamp": 1540220039
    },
    {
        "content": "<p>Checked reference fhir server implementation.</p>\n<p>Conditional delete:<br>\n1. Search returns 0 resources (no such resource) | server respond with 404<br>\n2. Search returns 0 resources (resource was deleted) | server respond with 404<br>\n3. Search returns 1 resource (resource exists) | server respond with 204</p>\n<p>Delete:<br>\n1. invalid id (no such resource) | server respond with 404<br>\n2. valid id (resource was deleted) | server respond with 204<br>\n3. valid id (resource exists) | server respond with 204</p>\n<p>I think that delete MUST return 404 to be consistent with conditional delete. </p>\n<p>I didn't find any recommendations about status code for case #2 for delete operation in http rfc.<br>\nAlso 204 for second case makes it indistinguishable from third case.</p>\n<p>The only thing I found is idempotence property:</p>\n<blockquote>\n<p>Methods can also have the property of \"idempotence\" in that (aside<br>\n  from error or expiration issues) the side-effects of N &gt; 0 identical<br>\n  requests is the same as for a single request. The methods GET, HEAD,<br>\n  PUT and DELETE share this property.<br>\nIt tells, that side-effect (deletion of resource performed ones),<br>\nbut doesn't tell anything about response code, as I understand it can vary.</p>\n</blockquote>\n<p>And last point: how server can respond with 204 on consequent delete if it doesn't support versioning of resources and performs actual delete? </p>\n<p>Why such decision was made (responde with 204 on consequent delete)? <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <br>\nI need clarification for deeper understanding to make our implementation of fhir server better.</p>",
        "id": 154011049,
        "sender_full_name": "Andrew Tropin",
        "timestamp": 1540223443
    },
    {
        "content": "<p>well, I guess our intent is that if there's no resources that match the id, then delete is assumed to true, like if there's a single match. so should return a 200/202/204. can you make a gForge to clarify that - it's not clear</p>",
        "id": 154011149,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540234886
    }
]