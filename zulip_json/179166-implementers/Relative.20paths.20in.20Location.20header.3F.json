[
    {
        "content": "<p>I was wondering whether it is allowed to return just the <em>relative</em> path in the <code>Location</code> HTTP header when creating new resource, or whether it has to be the full absolute URL. <a href=\"https://www.hl7.org/fhir/http.html#create\" target=\"_blank\" title=\"https://www.hl7.org/fhir/http.html#create\">The general STU 3 documentation of the FHIR RESTful API operation create</a> says:</p>\n<blockquote>\n<p>The server returns a 201 Created HTTP status code, and SHALL also return a Location header which contains the new Logical Id and Version Id of the created resource version: <br>\nLocation: [base]/[type]/[id]/_history/[vid] </p>\n</blockquote>\n<p>Here, it was not quite clear to me whether the specific URL pattern (specifying an absolute URL) is normative or just an illustrative example that does not exclude relative URLs. The general HTTP/1.1 specs allows both absolute and relative paths in the Location header (see <a href=\"https://tools.ietf.org/html/rfc7231#page-68\" target=\"_blank\" title=\"https://tools.ietf.org/html/rfc7231#page-68\">this page</a>).</p>",
        "id": 153990966,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1535367368
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 153991008,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1535378783
    },
    {
        "content": "<p>I have the same question.</p>",
        "id": 153991030,
        "sender_full_name": "Jaime Olivares",
        "timestamp": 1535385918
    },
    {
        "content": "<p>we don't actually say, so for clients, it could be either. My server returns an absolute URL, which starts with the client's host header - .e.g. an absolute URL</p>",
        "id": 153991057,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535397752
    },
    {
        "content": "<p>Thanks! - just to make sure I understand, it is then also OK for <em>servers</em> to opt for using relative paths?</p>",
        "id": 153991207,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1535448817
    },
    {
        "content": "<p>That's what I'm hearing from the discussion.  Feel free to submit a change request for us to make that clarification explicit in the spec.</p>",
        "id": 153991290,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1535468900
    },
    {
        "content": "<p>Is including the full URL a better approach if using forwarding/proxy servers? Or are they going to need to rewrite anyhow?</p>",
        "id": 153991326,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1535477332
    },
    {
        "content": "<p>very interrelated with the digital signatures problem. As it stands today we place alot of trust in the FHIR Server. <a href=\"http://build.fhir.org/signatures.html\" target=\"_blank\" title=\"http://build.fhir.org/signatures.html\">http://build.fhir.org/signatures.html</a></p>",
        "id": 153991329,
        "sender_full_name": "John Moehrke",
        "timestamp": 1535478242
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  Added a GForge item for clarification, <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17746\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17746\">#17746</a>, also mentioning the topic of using FHIR with federated/proxied servers as a context where this could be important (cf. comment from <span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span>)</p>",
        "id": 153991507,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1535544157
    }
]