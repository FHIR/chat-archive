[
    {
        "content": "<p>I'm working on a project where they are exposing a SOAP locate/retrieve service via a FHIR facade.  The service locates a set of Claims or retrieves a specific Claim.  The Claim and its associated resources (Coverage, Patient, Organization, etc.) are returned in a Bundle.  I'm having trouble architecting how the relationships between the Claim and its child resources should be handled.  There is no ability to retrieve any of the child resources independently of the Claim which would seem to argue for a contained relationship, but that just doesn't seem right.  I am currently having each resource be a separate Bundle.entry, but I don't know what ID to use for the inter-resource references.  I know that we've discussed this before but my Zulip-search didn't reveal any answers/solutions.</p>\n<p>When you have a facade and you aren't supporting generic READs, what do you do for the resource IDs in a Bundle?</p>",
        "id": 239248865,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1621342888
    },
    {
        "content": "<p>Do the child resources have identifiers? One possibility is to hash the identifier+system and use that as the <a href=\"http://resource.id\">resource.id</a>.</p>",
        "id": 239259044,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1621346664
    },
    {
        "content": "<p><a href=\"#narrow/stream/179166-implementers/topic/Aggregating.20multiple.20responses.20.28bundle.29.20in.20one.20bundle\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Aggregating.20multiple.20responses.20.28bundle.29.20in.20one.20bundle</a></p>",
        "id": 239260231,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1621347140
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192685\">Vassil Peytchev</span> <a href=\"#narrow/stream/179166-implementers/topic/Resource.20IDs.20in.20a.20Bundle.20for.20a.20search.20facade/near/239259044\">said</a>:</p>\n<blockquote>\n<p>Do the child resources have identifiers? One possibility is to hash the identifier+system and use that as the <a href=\"http://resource.id\">resource.id</a>.</p>\n</blockquote>\n<p>Unfortunately not, some of the Provider/Organization resources just have names and addresses. :(</p>",
        "id": 239261240,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1621347554
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179166-implementers/topic/Resource.20IDs.20in.20a.20Bundle.20for.20a.20search.20facade/near/239260231\">said</a>:</p>\n<blockquote>\n<p><a href=\"#narrow/stream/179166-implementers/topic/Aggregating.20multiple.20responses.20.28bundle.29.20in.20one.20bundle\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Aggregating.20multiple.20responses.20.28bundle.29.20in.20one.20bundle</a></p>\n</blockquote>\n<p>That didn't seem like it was my problem.  I'm not aggregating resouces, but rather putting a FHIR search facade in front of a SOAP service.</p>",
        "id": 239261313,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1621347587
    },
    {
        "content": "<p>I suspect that I'll have to create UUIDs for the resource IDs for the linking.</p>",
        "id": 239261412,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1621347611
    },
    {
        "content": "<p>hmm maybe it was this one I was thinking about</p>",
        "id": 239263183,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1621348253
    },
    {
        "content": "<p><a href=\"#narrow/stream/179166-implementers/topic/Resource.2Eid.20restrictions\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Resource.2Eid.20restrictions</a></p>",
        "id": 239263186,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1621348253
    },
    {
        "content": "<p>~contained relationship, but that just doesn't seem right</p>\n<p>can I ask why not? just a general bad feeling about contained?</p>",
        "id": 239275820,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1621352537
    },
    {
        "content": "<p>If all you've got is names and addresses and no shared identity, then 'contained' is fully appropriate.  Granted, it's not going to be a super RESTful interface if you can't search for Patient instances and then query based on that, but you have to go with what you have.</p>",
        "id": 239277298,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1621353098
    }
]