[
    {
        "content": "<p>In the current build there are 2 resources - PlanDefinition and OrderSet. The text for PlanDefinition is the same for OrderSet - does PlanDefinition replace OrderSet?</p>",
        "id": 153836896,
        "sender_full_name": "David Hay",
        "timestamp": 1467948127
    },
    {
        "content": "<p>Yes.  OrderSet is supposed to go away</p>",
        "id": 153836898,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1467949829
    },
    {
        "content": "<p>(And the text for PlanDefinition should become more generic to encompass protocols and other things too)</p>",
        "id": 153836899,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1467949847
    },
    {
        "content": "<p>Yes, PlanDefinition replaces OrderSet, Protocol, and DecisionSupportRule. The text hasn't been updated yet, I'm still applying the approved changes to the resource structures. Soon though :)</p>",
        "id": 153836954,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1467995071
    },
    {
        "content": "<p>Thanks bryn - trying to get my head around this stuff!</p>",
        "id": 153836965,
        "sender_full_name": "David Hay",
        "timestamp": 1468005553
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> maybe you can explain it to me when you understand it?</p>",
        "id": 153837070,
        "sender_full_name": "Erich Schulz",
        "timestamp": 1468119795
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> How is ActivityDefinition related to Activity defined inline as part of CarePlan? </p>",
        "id": 153837772,
        "sender_full_name": "Zoran Milosevic",
        "timestamp": 1468370328
    },
    {
        "content": "<p>And also, is there a difference between ActionDefinition (in PlanDefinition) and ActivityDefinition ?</p>",
        "id": 153837774,
        "sender_full_name": "Zoran Milosevic",
        "timestamp": 1468370421
    },
    {
        "content": "<p>The goal of ActivityDefinition is to provide the patient-independent template for the inline Activities in a CarePlan.</p>",
        "id": 153837986,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1468423558
    },
    {
        "content": "<p>The ActivityDefinition is focused on describing \"thing being performed\", where the ActionDefinition in PlanDefinition is focused on describing the information about the step, as well as its relationships to other steps in the PlanDefinition.</p>",
        "id": 153837987,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1468423654
    },
    {
        "content": "<p>ActivityDefinition is separated out so it can be used by itself, as well as reused in multiple plans if appropriate.</p>",
        "id": 153837988,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1468423679
    },
    {
        "content": "<p>I'm about to commit a round of changes to the ActivityDefinition and PlanDefinition documentation that should make this more clear.</p>",
        "id": 153837989,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1468423741
    },
    {
        "content": "<p>Bryn, will your forthcoming changes remove CarePlan.activity.detail and replace with reference to ActivityDefinition?  Or will current embedded detail remain, and ActivityDefinition be added to the list of CarePlan.activity.reference (which results in implementer ambiguity about which should be used)?</p>",
        "id": 153838007,
        "sender_full_name": "Dave Carlson",
        "timestamp": 1468434009
    },
    {
        "content": "<p>Neither, the CarePlan.activity.detail would be used if the ActivityDefinition wasn't describing a specific request resource. If it did describe a specific Request resource, like ProcedureRequest say, then that resource would be the target of the reference element, and the detail element wouldn't be used.</p>",
        "id": 153838017,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1468438144
    },
    {
        "content": "<p>We will probably want to add the ability for a CarePlan as a whole to reference the PlanDefinition that it was based on. And then within the request resources, you use the basedOn element (recommended by the Work Flow task force) to reference the ActivityDefinition.</p>",
        "id": 153838018,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1468438271
    },
    {
        "content": "<p>Thanks Bryn, would be helpful to include some of this guideance in the IG.  You specifically cited CarePlan, then said \"ActivityDefinition is separated out so it can be used by itself, as well as reused in multiple plans if appropriate.\"  Now, if I understand, the \"plan\" in this last statement is a PlanDefinition, not a CarePlan...</p>",
        "id": 153838024,
        "sender_full_name": "Dave Carlson",
        "timestamp": 1468439278
    },
    {
        "content": "<p>Yes, that's correct, should have said plan definition.</p>",
        "id": 153838026,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1468439552
    },
    {
        "content": "<p>And yes, the IG will definitely provide guidance in this area.</p>",
        "id": 153838027,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1468439572
    },
    {
        "content": "<p>Good to hear about this distinction between activity and action. Sounds like, at one level of abstraction, an action is a finer grain of behavioural element than activity (which also applies to their templates, i.e. Definition elements); this is in line with several modelling approaches, including one from the ISO standard, Reference Model for Open Distributed Processing (RM-ODP), stating that 'activity is a single-headed DAG of actions, where occurrence of each action in the graph is made possible by the occurrence of all immediately preceding actions'; further, according to this standard, activity may be used, to describe a process (or workflow), described as  a 'collection of steps taking place in a prescribed manner', by substituting 'step' with 'action' and 'process' for 'activity'. In the case of FHIR workflow project, 'step' can be realised using 'Task'</p>",
        "id": 153838069,
        "sender_full_name": "Zoran Milosevic",
        "timestamp": 1468452978
    },
    {
        "content": "<p>Since we are now talking about 'Task', is there a distinction between 'Task Definition' and 'Task', as we have it with Activity for example?</p>",
        "id": 153838070,
        "sender_full_name": "Zoran Milosevic",
        "timestamp": 1468453046
    },
    {
        "content": "<p>ActivityDefinition will be used to define tasks, procedures drug administrations and all sorts of other tasks</p>",
        "id": 153838073,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1468453584
    },
    {
        "content": "<p>Ok - as a follow on to Task discussion, since Task Resource is based on the Oasis Human Task and that specification uses 'notification' to signify when an important occurrence of interest to people happened, why was it decided to use 'event' and not 'notification' for this one-way type of interaction in the FHIR workflow ? This compliance with the nominated specification would avoid few ambiguities to those familiar with such specifications, unless there is a strong reason not to use 'notification' as it is used elsewhere </p>",
        "id": 153838078,
        "sender_full_name": "Zoran Milosevic",
        "timestamp": 1468456838
    },
    {
        "content": "<p>In don't understand what you mean by \"decided to use 'event'\".  Task is a resource like any other.  It gets updated the same as any other and you can discover information about it like any other - by querying, polling, receiving it in a message, being pinged by a subscription, etc.</p>",
        "id": 153838085,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1468462507
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191398\">@Zoran Milosevic</span> Where is the event reference in Task?  I'm not seeing it.  Can you provide a link?</p>",
        "id": 153838097,
        "sender_full_name": "Keith Boone",
        "timestamp": 1468466761
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191387\">@Keith Boone</span> i referred to the email that was sent by <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> on July the 5th, to a number of mailing lists, and which mentions 'request' and 'event' pattern to be applied to relevant  resources requiring the of Task resource; if you have not received that email, I would be happy to forward you </p>",
        "id": 153838172,
        "sender_full_name": "Zoran Milosevic",
        "timestamp": 1468476969
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191398\">@Zoran Milosevic</span> maybe you've mixed something up here.The 'event' resource is in a workflow context more like a response to a 'request', just like <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> wrote in the mentioned mail: \"Most of the listed resources are categorized as either a \"request\" - a resource that indicates a specific intention for something to occur; or an \"event\" - a resource that represents a specific occurrence that could have been done in response to a request.\" and will not be used as notification. Notifications can be done for example via the 'MessageHeader' resource. </p>",
        "id": 153838185,
        "sender_full_name": "Reinhard Egelkraut",
        "timestamp": 1468481401
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191890\">@Reinhard Egelkraut</span>  Perhaps I should ask here question to what extent is really FHIR workflow architecture compliant with the OASIS WS-Human Task as specified here  <a href=\"http://docs.oasis-open.org/bpel4people/ws-humantask-1.1-spec-cs-01.pdf\" target=\"_blank\" title=\"http://docs.oasis-open.org/bpel4people/ws-humantask-1.1-spec-cs-01.pdf\">http://docs.oasis-open.org/bpel4people/ws-humantask-1.1-spec-cs-01.pdf</a> ? This was mentioned in several postings and thus I follow this approach. This would help me understand whether we are talking  about a synchronous call back from the 'event' to the 'request' and if so, how a Request resource, Task resource and Event resource communicate. Who maintains context information supporting call back between the invoked task and 'parent' task (Figure 5 in the Oasis specification). Is Task Parent (as per Oasis Human Task spec)  a Request resource in FHIR workflow?  Then, how do we support Notifications as per the OASIS specification, as a one-way notification (e.g. timeouts etc), as per my earlier question? This is not a messaging rather a workflow (or even better) distributed systems coordination question. </p>",
        "id": 153838197,
        "sender_full_name": "Zoran Milosevic",
        "timestamp": 1468486772
    },
    {
        "content": "<p>it's a pretty confusing question given that resources don't 'do' anything, and there's no such thing as 'call backs' from tasks</p>",
        "id": 153838203,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1468491156
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191398\">@Zoran Milosevic</span> I'll be posting a page next week that summarizes the wide variety of options for communicating tasks and their statuses between placers and fillers.  A notification-based approach is one, but there are others and we certainly won't force a single architectural approach because we need to support a wide variety of paradigms.</p>",
        "id": 153838207,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1468494166
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> . That would be really good. Would be also good if that page could include an end-to-end example showing sequence of actions/steps involving placers, fillers and tasks. It would be also good to show some kind of 'mapping' to the Oasis Human Tasks spec, as appropriate</p>",
        "id": 153838224,
        "sender_full_name": "Zoran Milosevic",
        "timestamp": 1468496750
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191398\">@Zoran Milosevic</span> I believe we have mappings on the resource itself.  The workflow page probably won't talk much about the Oasis stuff in my first pass because I'm not familiar with it, but we can probably get more adjustments in going forward once there's something for those who are knowledgable to edit.</p>",
        "id": 153838325,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1468519254
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> and others who have been working on this , thanks a lot for the changes to PlanDefinition. We're actually considering trying to use it now for chemotherapy regimen templates, and we made a quick example: <a href=\"https://gist.github.com/asross/9ba4817bb9a696cdceda3a67cbf43ad2\" target=\"_blank\" title=\"https://gist.github.com/asross/9ba4817bb9a696cdceda3a67cbf43ad2\">https://gist.github.com/asross/9ba4817bb9a696cdceda3a67cbf43ad2</a> </p>",
        "id": 153843574,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470927609
    },
    {
        "content": "<p>(cc <span class=\"user-mention\" data-user-id=\"191676\">@Lee Surprenant</span> )</p>",
        "id": 153843575,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470927621
    },
    {
        "content": "<p>The one suggestion I think I want to make is that it would be really nice to have access to everything in <code>MedicationOrder.dosageInstruction</code></p>",
        "id": 153843576,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470927647
    },
    {
        "content": "<p>in each <code>ActivityDefinition</code></p>",
        "id": 153843577,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470927661
    },
    {
        "content": "<p>or, maybe instead of referencing a general <code>ActivityDefinition</code>, we could reference a \"MedicationOrderDefinition\"</p>",
        "id": 153843578,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470927686
    },
    {
        "content": "<p>after that, I think we'd be pretty close to being able to represent all of our use-cases and maybe most of Lee's.</p>",
        "id": 153843579,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470927700
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191516\">@Andrew Ross</span> good to hear from you.  i've sent similar feedback to <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span>  already.  unfortunately, the spec is \"frozen\" for the September working group ballot.  i guess there was some discussion on it already but it hasn't resolved yet and so it missed the deadline:  <a href=\"http://wiki.hl7.org/index.php?title=CDS_Pharmacy_FHIR_request\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=CDS_Pharmacy_FHIR_request\">http://wiki.hl7.org/index.php?title=CDS_Pharmacy_FHIR_request</a></p>",
        "id": 153843580,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470928074
    },
    {
        "content": "<p>i strongly agree it would be simpler just to have a definitional version of certain request resources like the MedicationOrder</p>",
        "id": 153843581,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470928124
    },
    {
        "content": "<p>Gotcha. Well, I'm sorry my feedback is late, would be good to discuss it anyway even if it can't be added to the spec for a while. When's the next ballot after September?</p>",
        "id": 153843582,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470928210
    },
    {
        "content": "<p>not sure if the issue will be discussed in any upcoming pharmacy or cds meetings or not.  if not, i'm pretty sure they will discuss at baltimore WGM</p>",
        "id": 153843583,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470928229
    },
    {
        "content": "<p>I guess worst-case scenario, we could make up a custom structure that we think will resemble the eventual spec, and use that until it catches up</p>",
        "id": 153843584,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470928295
    },
    {
        "content": "<p>personally, i signed up for the ballot consensus group (today is last day to sign up), and will probably weigh in there as well.  my assumption is that it could be handled as part of ballot resolution...but honestly i'm not too familiar with the process</p>",
        "id": 153843585,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470928301
    },
    {
        "content": "<p>Yes that is exactly what you can do. Put it forward as a change, a negative ballot comment, which then allows the committee to review and decide on this, where the decision may be to make the change you have discussed.</p>",
        "id": 153843586,
        "sender_full_name": "Paul Knapp",
        "timestamp": 1470928505
    },
    {
        "content": "<p>Hmm. Well I don't think I'm going to be able to participate in the ballot consensus group unfortunately, but it would be really great if something like this could be put forward. Lee, do you agree that adding <code>dosageInstruction</code> to <code>ActivityDefinition</code> would be the simplest change that would provide the most benefit?</p>",
        "id": 153843587,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470928618
    },
    {
        "content": "<p>i'm sure Bryn has considered this though</p>",
        "id": 153843588,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470928647
    },
    {
        "content": "<p>Or, you could use the 'Propose a Change' link at the bottom of the spec to enter a change request into the Tracker syste.</p>",
        "id": 153843589,
        "sender_full_name": "Paul Knapp",
        "timestamp": 1470928748
    },
    {
        "content": "<p>ok, i could do that today</p>",
        "id": 153843590,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470928770
    },
    {
        "content": "<p>Lee, would proposing that kind of change just be a duplicate of the issue you created (<a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_id=677&amp;tracker_item_id=10433\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_id=677&amp;tracker_item_id=10433\">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_id=677&amp;tracker_item_id=10433</a>) ?</p>",
        "id": 153843591,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470929084
    },
    {
        "content": "<p>not a duplicate, but certainly related</p>",
        "id": 153843592,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470929288
    },
    {
        "content": "<p>for me, the requirement is to support that information</p>",
        "id": 153843593,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470929304
    },
    {
        "content": "<p>and there are 2 options</p>",
        "id": 153843594,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470929312
    },
    {
        "content": "<p>agree adding dosageInstruction to ActivityDefinition is easiest change</p>",
        "id": 153843595,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470929323
    },
    {
        "content": "<p>but personally i would prefer the addition of a MedicationOrder specific definitional resource</p>",
        "id": 153843596,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470929338
    },
    {
        "content": "<p>i think that is the heart of the convo from that Pharmacy wiki page i linked</p>",
        "id": 153843597,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470929368
    },
    {
        "content": "<p>Yeah. I agree that would be better for templating in general, but I can also see how it might be a lot harder to squeeze in right before balloting. In any case, I made this issue: <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10441\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10441\">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10441</a></p>",
        "id": 153843599,
        "sender_full_name": "Andrew Ross",
        "timestamp": 1470929533
    },
    {
        "content": "<p>unless i'm mistaken, i don't think anything will be 'squeezed in' before ballot at this point (thats at <a href=\"http://www.hl7.org/FHIR/2016Sep/\" target=\"_blank\" title=\"http://www.hl7.org/FHIR/2016Sep/\">http://www.hl7.org/FHIR/2016Sep/</a>).  Its more a question of whether some reconciliation like this could be done in the nightly build while the ballot is still occurring (anyone know?)</p>",
        "id": 153843633,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1470938821
    },
    {
        "content": "<p>it's possible to get changes made in the nightly build, but they won't matter for the purposes of the Baltimore connectathon, since all the servers and reference implementations will be running on the frozen build. </p>",
        "id": 153843701,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1470957631
    },
    {
        "content": "<p>and given where our energies are, unlikely that any of the editors (who are all exhausted and deep in technical debt in our personal and professional lives after the last few weeks) will haev time to do anything either </p>",
        "id": 153843702,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1470957681
    },
    {
        "content": "<p>usually, implementers just define extensions, add them to the connectathon streams, use them, and then propose changes after the connectathon</p>",
        "id": 153843703,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1470957708
    },
    {
        "content": "<p>There's been discussion with the Pharmacy WG about turning dosage instructions into a data type that they owned that would then be used in MedicationOrder, MedicationDispense and ActionDefinition, but the work group had some concerns.  (In fact, if I understand things correctly, they had some concerns about the existence of ActivityDefinition in the first place . . .)  <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> or <span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span> may be able to shed mor light on the current state of discussions.</p>",
        "id": 153843938,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1471277837
    },
    {
        "content": "<p>The Pharmacy WG will continue to discuss moving forward with a data type for dosage instructions.  The concerns raised by Pharmacy were related to the fact that ActivityDefinition has pulled some elements but not all elements related to a medicationOrder that the Pharmacy WG believed should be included.  Pharmacy WG will continue the discussion of a new data type for Dosage instructions leading up to Baltimore WGM and will likely continue in Baltimore</p>",
        "id": 153843940,
        "sender_full_name": "Melva Peters",
        "timestamp": 1471278692
    }
]