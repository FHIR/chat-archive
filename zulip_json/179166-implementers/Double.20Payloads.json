[
    {
        "content": "<p>I might have been ambiguous in how I posted my question \"Bundle inside Bundle vs DocumentReference\". I would like to re-phrase the question here:</p>\n<p>In reference to my eForms project, each time when a form is submitted the eform API will generate an outbound R4 FHIR Bundle message with ENTRY resources like Patient, Practitioner, QuestionnaireResponse).We want to load this Bundle FHIR message into an Azure Cosmos db and be able to query the Bundle message as a whole.  <br>\nOne suggestion from our developer is to use ‘multiple payloads’, i.e. add a ‘master Bundle’ to embed this ‘eforms Bundle’ so that the original eforms Bundle can be wholly retrieved by end system, the master Bundle will just add on a MessageHeader to indicate the source and destination systems info etc.</p>\n<p>Is this approach the best approach from FHIR standard point of view?  Or should we encode the whole eforms bundle into DocumentReference.content.attachment with contentType=FHIR?  Please advise, thanks.</p>",
        "id": 244737244,
        "sender_full_name": "Maria Hu",
        "timestamp": 1625248607
    },
    {
        "content": "<p>If you want a FHIR message to be just 'stored' (and not processed), post it to the Bundle endpoint.  To process the message and not (usually) store the Bundle, post it to the $process-message endpoint.  If you want both to happen, you'd need to negotiate with the endpoint to ask them to store the Bundle in addition to processing.</p>",
        "id": 244738487,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1625249244
    }
]