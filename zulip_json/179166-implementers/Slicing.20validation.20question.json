[
    {
        "content": "<p>Hi, can anyone help me understand this error message: I'm trying to validate this instance (<a href=\"https://www.hl7.org/fhir/observation-example-bloodpressure.json.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/observation-example-bloodpressure.json.html\">https://www.hl7.org/fhir/observation-example-bloodpressure.json.html</a>) against this profile (<a href=\"http://hl7.org/fhir/bp.html\" target=\"_blank\" title=\"http://hl7.org/fhir/bp.html\">http://hl7.org/fhir/bp.html</a>) using  this syntax (java -jar org.hl7.fhir.validator.jar fixed_observation_bp_example.json -profile <a href=\"http://hl7.org/fhir/StructureDefinition/bp\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/bp\">http://hl7.org/fhir/StructureDefinition/bp</a>) and I'm getting these error messages:</p>",
        "id": 166211459,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1558471836
    },
    {
        "content": "<p>Error @ Observation.component[1] (line 80, col6) : Error in discriminator at Observation.component:DiastolicBP.code.coding: slicing found<br>\n Error @ Observation.component[1] (line 80, col6) : Error in discriminator at Observation.component:SystolicBP.code.coding: slicing found<br>\n Error @ Observation.component[2] (line 119, col6) : Error in discriminator at Observation.component:DiastolicBP.code.coding: slicing found<br>\n Error @ Observation.component[2] (line 119, col6) : Error in discriminator at Observation.component:SystolicBP.code.coding: slicing found</p>",
        "id": 166211464,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1558471838
    },
    {
        "content": "<p>It sounds like you have slicing declared on the element that's a discriminator for a higher-level slice.  That's not supported.</p>",
        "id": 166211650,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558471955
    },
    {
        "content": "<p>it's not Bob who has that problem. I'll investigate</p>",
        "id": 166211679,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558471978
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> see  also <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21472\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21472\">GF#21472</a>. I documented the different cases in the validator test suite, problem is that the bp profile from fhir is causing the validator to fail. One possibe fix it is to simplify the slicing and use patternCodeableConcept for the components.code in the slicing for the Blood Pressure profile as illustrated in observation-bp-profile.xml, but that would need an update to <a href=\"http://hl7.org/fhir/StructureDefinition/bp\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/bp\">http://hl7.org/fhir/StructureDefinition/bp</a>.</p>",
        "id": 166213061,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1558472918
    },
    {
        "content": "<p>well, it would be simpler to do that, I think. but it should still work anyway</p>",
        "id": 166215233,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558474682
    },
    {
        "content": "<p>the same structure works fine for Observation.code.coding... some bug in the code....</p>",
        "id": 166215345,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558474759
    },
    {
        "content": "<p>ok releasing a fix for this now</p>",
        "id": 166229971,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558489661
    },
    {
        "content": "<p>Thank you fixing the bug. Is this released? If yes, from where can I grab it? I used the link:  download the validator: [https://oss.sonatype.org/service/local/artifact/maven/redirect?r=snapshots&amp;g=ca.uhn.hapi.fhir&amp;a=org.hl7.fhir.validation.cli&amp;v=LATEST&amp;e=jar]  from <a href=\"http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator\">http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator</a> for the earlier version.</p>",
        "id": 166296095,
        "sender_full_name": "Soujanya Rao",
        "timestamp": 1558549893
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Are we going to move to the new approach for sharing releases of the validator too?</p>",
        "id": 166298622,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558551582
    },
    {
        "content": "<p>you can make a tracker for bp - check if there already is one first.</p>",
        "id": 166301382,
        "sender_full_name": "Eric Haas",
        "timestamp": 1558553391
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> what would the task be for ?<br>\n<span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> yes</p>",
        "id": 166303928,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558555192
    },
    {
        "content": "<p>change slicing for bp to pattern</p>",
        "id": 166304030,
        "sender_full_name": "Eric Haas",
        "timestamp": 1558555240
    },
    {
        "content": "<p>ok worth a task, I think</p>",
        "id": 166304087,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558555295
    }
]