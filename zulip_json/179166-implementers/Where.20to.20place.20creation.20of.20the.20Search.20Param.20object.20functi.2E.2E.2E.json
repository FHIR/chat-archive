[
    {
        "content": "<p>Hello,</p>\n<p>I have created a Search Param object for searching Resources based on extension value.</p>\n<div class=\"codehilite\"><pre><span></span><code>client.create().resource(createExtensionSearchParam()).execute();\n\nprivate static SearchParameter createExtensionSearchParam() {\n    SearchParameter state = new SearchParameter();\n...\n    return state;\n  }\n</code></pre></div>\n\n\n<p>What would be correct way to run this object to database? I am using fork from the hapi-fhir-jpaserver-starter project. Should I create servlet that creates Search Param resources?</p>\n<p>~/repos/my-fhir-service/src/main/webapp/WEB-INF/web.xml</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;fhirServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;ca.uhn.fhir.jpa.starter.JpaRestfulServer&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet&gt;\n    &lt;servlet-name&gt;myMigration&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;my.project.MyMigration&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre></div>\n\n\n<p>Or is there any events (Pointcut?) that are called when JpaRestfulServer initialisation is ready?</p>\n<div class=\"codehilite\"><pre><span></span><code>public class JpaRestfulServer extends RestfulServer {\n\n  @Override\n  protected void initialize() throws ServletException {\n    super.initialize();\n  }\n\n  // How to trigger this?\n  public void initializeReady() {\n    // create search params\n  }\n}\n</code></pre></div>\n\n\n<p><a href=\"https://smilecdr.com/hapi-fhir/apidocs/hapi-fhir-base/ca/uhn/fhir/interceptor/api/Pointcut.html\">https://smilecdr.com/hapi-fhir/apidocs/hapi-fhir-base/ca/uhn/fhir/interceptor/api/Pointcut.html</a></p>\n<p>Or would it be better to have a separate project that run all sort of migrations to database like ads Search Params? Perhaps there is already something ready made frameworks for this e.g.</p>\n<p><a href=\"https://hapifhir.io/hapi-fhir/docs/server_jpa/upgrading.html\">https://hapifhir.io/hapi-fhir/docs/server_jpa/upgrading.html</a></p>",
        "id": 204399581,
        "sender_full_name": "Markku Nikkanen",
        "timestamp": 1595235528
    },
    {
        "content": "<p>Maybe better to ask in <a class=\"stream\" data-stream-id=\"179167\" href=\"/#narrow/stream/179167-hapi\">#hapi</a></p>",
        "id": 204410574,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1595244142
    }
]