[
    {
        "content": "<p>I've been playing with JSON schema for the first time.<br>\nThere seems to be some sort of semi-standard use of $schema to specify the schema file location.<br>\nAnd fhir.schema.json itself uses this.<br>\nBut this doesn't seem to be allowed in a FHIR JSON instance. <br>\nIs there a good reason why this shouldn't be allowed?<br>\nIn know we don't encourage the use of hard coded schema references, but they are useful when testing, and are schema valid with XSD.</p>",
        "id": 163769598,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1555711652
    },
    {
        "content": "<p>I presume for the same reason we prohibit schema references in XML - references to external file locations pose a security risk (whether as a vector for harmful code or as a means of externally monitoring data access)</p>",
        "id": 163771483,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1555713683
    },
    {
        "content": "<p>When testing/authoring, you can always throw the schema reference in and ignore the validation message.  In my IG framework, I strip off the schema declarations as part of the generation process so I can use them when authoring but produce compliant instances in the publication.</p>",
        "id": 163771563,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1555713749
    },
    {
        "content": "<blockquote>\n<p>semi-standard use of $schema to specify the schema file location.</p>\n</blockquote>\n<p>I've given up trying to undestand json schema on this. The json schema specification explicitly says that this is not true. Most users of json schema (including openAPI) explicitly say that this is true. Json schema tools are all over the place on how it works</p>",
        "id": 163774343,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1555717021
    },
    {
        "content": "<p>My choices are: no schema and no validation,  or schema and validation and always one error.  Ignoring one error is not so nice, because you then have to check which error it was. <br>\nTools don't seem to be good at associating the schemas other ways. <br>\nI would like to add in a declaration that allows $schema, in a special weaker version of the fhir.schema.json file, but haven't been able to figure out how.</p>",
        "id": 163775230,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1555718126
    },
    {
        "content": "<p>Is there any discussion about json schema allowing a reference to itself? it never occurred to me that this would be a problem. Iâ€™m not familiar with it from XML schema</p>",
        "id": 163775740,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1555718739
    }
]