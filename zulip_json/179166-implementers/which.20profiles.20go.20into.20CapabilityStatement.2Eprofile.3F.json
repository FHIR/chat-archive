[
    {
        "content": "<p>hello! I have a server which only job is to receive four different fhir documents, nothing else. I've declared the Composition profiles in CapabilityStatement.document.profile .</p>\n<p>In these fhir documents there could be many Observations, conditions, deviceUseStatements etc.  Do we declare all the possible Observation- and Condition profiles in CapabilityStatement.profile?</p>\n<p>Or do we declare the Compositionprofiles double: In CapabilityStatement.document.profile and in CapabilityStatement.profile? </p>\n<p>Or should we leave CapabilityStatement.profile empty? </p>\n<p>Thanks in advance</p>",
        "id": 171598792,
        "sender_full_name": "Sebastiaan Raap",
        "timestamp": 1563968838
    },
    {
        "content": "<p>document.profile should only point to your Composition profile (which should ideally point to other profiles for the things allowed as entries, etc.</p>",
        "id": 171603753,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563973325
    },
    {
        "content": "<p>Composition.profile identifies the profiles you'll recognize in instances and will allow searches on.  If you don't require/look for/allow search on your Observation profiles, no need to list them.</p>",
        "id": 171603787,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563973378
    },
    {
        "content": "<p>OK thanks!</p>\n<p>What to do with CapabilityStatement.document.profile in my usecase?</p>",
        "id": 171603922,
        "sender_full_name": "Sebastiaan Raap",
        "timestamp": 1563973488
    },
    {
        "content": "<p>Ideally you should have a profile for your Composition that defines the sections and entries allowed in your document, identifies the Composition.code, etc.</p>",
        "id": 171605641,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563974875
    },
    {
        "content": "<p>Yes, we have a Composition profile which points to the resources that have to/can go into the fhir document. But if I understand you correctly, I should point twice to the same profile in the CapabilityStatement? So if I just want my server to receive and handle one kind of FHIR document, my capabilitystatement should look like this(?):</p>\n<div class=\"codehilite\"><pre><span></span>    &quot;resourceType&quot;:&quot;CapabilityStatement&quot;,\n    &quot;url&quot;:&quot;http://nictiz.nl/fhir/CapabilityStatement/eoverdracht-servercapabilities-phase-one&quot;,\n    &quot;version&quot;:&quot;1.0.0&quot;,\n    &quot;name&quot;:&quot;eOverdrachtServer-phase-one&quot;,\n    &quot;kind&quot;:&quot;requirements&quot;,\n    &quot;fhirVersion&quot;:&quot;3.0.1&quot;,\n    &quot;acceptUnknown&quot;:&quot;both&quot;,\n    &quot;format&quot;: [\n        &quot;application/fhir+xml&quot;,\n        &quot;application/fhir+json&quot;\n    ],\n    &quot;profile&quot;: [\n        {\n            &quot;reference&quot;:&quot;http://nictiz.nl/fhir/StructureDefinition/eOverdrachtAanmeldbericht-phase-one&quot;,\n            &quot;display&quot;:&quot;Composition-eOverdrachtAanmeldbericht-phase-one&quot;\n        },\n    ],\n    &quot;document&quot;: [\n        {\n            &quot;mode&quot;:&quot;consumer&quot;,\n            &quot;profile&quot;:{\n                &quot;reference&quot;:&quot;http://nictiz.nl/fhir/StructureDefinition/eOverdrachtAanmeldbericht-phase-one&quot;,\n                &quot;display&quot;:&quot;Composition-eOverdrachtAanmeldbericht-phase-one&quot;\n            }\n        }\n    ]\n}\n</pre></div>\n\n\n<p>thank you for your help</p>",
        "id": 171608005,
        "sender_full_name": "Sebastiaan Raap",
        "timestamp": 1563976627
    },
    {
        "content": "<p>The capability statement would only need to declare document.profile.  It could declare the CapabilityStatement.profile only if there was an expectation to be able to search the REST endpoint by that profile or will be checking declarations of that profile that are present in instances.</p>",
        "id": 171626480,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563989929
    },
    {
        "content": "<p>thank you</p>",
        "id": 171668918,
        "sender_full_name": "Sebastiaan Raap",
        "timestamp": 1564038614
    }
]