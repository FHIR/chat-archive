[
    {
        "content": "<p>Hi All , Can anyone point me to the source code of FHIR Validator jar . Jar works fine from command line but i want to use it in my java code to validate incoming FHIR resource.</p>",
        "id": 189772505,
        "sender_full_name": "Niranjan Kumar",
        "timestamp": 1583400026
    },
    {
        "content": "<p><a href=\"https://github.com/hapifhir/org.hl7.fhir.core\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core\">https://github.com/hapifhir/org.hl7.fhir.core</a>. you want the class org.hl7.fhir.validation.ValidationEngine</p>",
        "id": 189774553,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1583401784
    },
    {
        "content": "<p>or maybe org.hl7.fhir.validation.NativeHostServices</p>",
        "id": 189774615,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1583401810
    },
    {
        "content": "<p>but you would be better to use it as hosted in HAPI</p>",
        "id": 189774622,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1583401822
    },
    {
        "content": "<p>\"but you would be better to use it as hosted in HAPI \" means which one ? Are you trying to say use Hapi Fhir Validation ?</p>",
        "id": 189775319,
        "sender_full_name": "Niranjan Kumar",
        "timestamp": 1583402362
    },
    {
        "content": "<p>I think that's generally a better idea. HAPI has more run time wrapping services</p>",
        "id": 189776567,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1583403413
    },
    {
        "content": "<p>I tried using Profile Validator code stated at <a href=\"https://hapifhir.io/hapi-fhir/docs/validation/profile_validator.html\" target=\"_blank\" title=\"https://hapifhir.io/hapi-fhir/docs/validation/profile_validator.html\">https://hapifhir.io/hapi-fhir/docs/validation/profile_validator.html</a>  but getting issues like this :<br>\n16:13| INFO | VersionUtil.java 72 | HAPI FHIR version 4.1.0 - Rev 03163c2cf5<br>\n16:13| INFO | FhirContext.java 174 | Creating new FHIR context for FHIR version [R4]<br>\n16:13| INFO | DefaultProfileValidationSupport.java 227 | Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-resources.xml<br>\n16:13| INFO | DependencyLogImpl.java 75 | FHIR XML procesing will use StAX implementation 'Woodstox' version '5.1.0'<br>\n16:13| INFO | DefaultProfileValidationSupport.java 227 | Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-types.xml<br>\n16:13| INFO | DefaultProfileValidationSupport.java 227 | Loading structure definitions from classpath: /org/hl7/fhir/r4/model/profile/profiles-others.xml<br>\n16:13| INFO | DefaultProfileValidationSupport.java 227 | Loading structure definitions from classpath: /org/hl7/fhir/r4/model/extension/extension-definitions.xml<br>\n16:13| ERROR | FhirInstanceValidator.java 222 | Failure during validation<br>\njava.lang.UnsupportedOperationException<br>\n    at org.hl7.fhir.r4.hapi.ctx.HapiWorkerContext.generateSnapshot(HapiWorkerContext.java:242)<br>\n    at org.hl7.fhir.r4.elementmodel.ParserBase.getDefinition(ParserBase.java:122)<br>\n    at org.hl7.fhir.r4.elementmodel.JsonParser.parse(JsonParser.java:123)<br>\n    at org.hl7.fhir.r4.validation.InstanceValidator.validate(InstanceValidator.java:539)<br>\n    at org.hl7.fhir.r4.validation.InstanceValidator.validate(InstanceValidator.java:531)<br>\n    at org.hl7.fhir.r4.hapi.validation.FhirInstanceValidator.validate(FhirInstanceValidator.java:220)<br>\n    at org.hl7.fhir.r4.hapi.validation.FhirInstanceValidator.validate(FhirInstanceValidator.java:242)<br>\n    at org.hl7.fhir.r4.hapi.validation.BaseValidatorBridge.doValidate(BaseValidatorBridge.java:20)<br>\n    at org.hl7.fhir.r4.hapi.validation.BaseValidatorBridge.validateResource(BaseValidatorBridge.java:43)<br>\n    at org.hl7.fhir.r4.hapi.validation.FhirInstanceValidator.validateResource(FhirInstanceValidator.java:33)<br>\n    at ca.uhn.fhir.validation.FhirValidator.validateWithResult(FhirValidator.java:243)<br>\n    at ca.uhn.fhir.validation.FhirValidator.validateWithResult(FhirValidator.java:198)</p>\n<p>This is the code i have executed :</p>\n<div class=\"codehilite\"><pre><span></span>FhirContext ctx = FhirContext.forR4();\nFhirValidator validator = ctx.newValidator();\nFhirInstanceValidator instanceValidator = new FhirInstanceValidator();\nvalidator.registerValidatorModule(instanceValidator);\n\nString resourceText = ResourceStringProvider.getObservationResourceInStringContained(); //get resource json\nValidationResult result2 = validator.validateWithResult(resourceText);\n\nSystem.out.println(result2.isSuccessful());\n</pre></div>\n\n\n<p>Am i missing something , any pointer to working example  .</p>",
        "id": 189789172,
        "sender_full_name": "Niranjan Kumar",
        "timestamp": 1583414059
    },
    {
        "content": "<p>probably a question for the <a class=\"stream\" data-stream-id=\"179167\" href=\"/#narrow/stream/179167-hapi\">#hapi</a> stream</p>",
        "id": 189834249,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1583440979
    }
]