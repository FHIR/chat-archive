[
    {
        "content": "<p>R4 removed attachment from Observation.value[x]. I plan to use inter version extension like \"url= <a href=\"http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment\">http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment</a>\", but validator says \"observation.valueAttachment\" is invalid. Is this the right approach?</p>\n<p>&lt;Observation&gt;<br>\n... other elements<br>\n&lt;value&gt;<br>\n  &lt;extension url=\"<a href=\"http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment\">http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment</a>\" &gt;<br>\n  &lt;valueAttachment&gt;<br>\n    &lt;contentType value=\"pdf\" /&gt;<br>\n    &lt;data value=\"VghpcyBpcyBzYW1wbGUgdGV4dCBpbiBsaWV1IG9mIHRoZSBiaW5hcnkgaW5mb3JtYXRpb24gY29u<br>\ndGFpbmVkIGluIGFuIGVtYmVkZGVkIGRvY3VtZW50Lg==\" /&gt;<br>\n  &lt;/valueAttachment&gt;<br>\n  &lt;/extension&gt;<br>\n&lt;value&gt;<br>\n&lt;/Observation&gt;</p>",
        "id": 271044907,
        "sender_full_name": "frank cao",
        "timestamp": 1644269566
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 271046037,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644270151
    },
    {
        "content": "<p>I believe that this is a question for <a class=\"stream\" data-stream-id=\"179256\" href=\"/#narrow/stream/179256-Orders-and-Observation-WG\">#Orders and Observation WG</a></p>",
        "id": 271048073,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644270960
    },
    {
        "content": "<p>It's not an OO question, it's a tooling question.</p>",
        "id": 271048823,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644271270
    },
    {
        "content": "<p>I suspect the issue is that the extension is expected to appear on Observation, not within value.  Also, \"value\" isn't a valid XML tag.</p>",
        "id": 271048899,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644271300
    },
    {
        "content": "<p>valueAttachment is back in R5 can you use unpublished version too as extension.</p>",
        "id": 271080538,
        "sender_full_name": "Eric Haas",
        "timestamp": 1644295297
    },
    {
        "content": "<p>What would be the right extension url for this? I tried \"<a href=\"http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment\">http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.valueAttachment</a>\" and it didn't work.</p>",
        "id": 271139606,
        "sender_full_name": "frank cao",
        "timestamp": 1644332238
    },
    {
        "content": "<p>Did you declare it on Observation, not Observation.value?</p>",
        "id": 271141059,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644332844
    },
    {
        "content": "<p>Yes. I put it under Observation, and the validator is okay with it. I used \"<a href=\"http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.value[x]\">http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.value[x]</a>\" as the extension url and it works. Is this the right url to use?</p>",
        "id": 271302881,
        "sender_full_name": "frank cao",
        "timestamp": 1644423512
    },
    {
        "content": "<p>Because Attachment exists in multiple versions, there's more than one option, but the one you've chosen is probably the 'best' one for use.</p>",
        "id": 271314520,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644427536
    },
    {
        "content": "<p>Great. Thank you.</p>",
        "id": 271333095,
        "sender_full_name": "frank cao",
        "timestamp": 1644434566
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> I believe the applicable clarifications are <a href=\"http://jira.hl7.org/browse/FHIR-31721\">J#31721</a>, <a href=\"http://jira.hl7.org/browse/FHIR-31348\">J#31348</a> and <a href=\"http://jira.hl7.org/browse/FHIR-31999\">J#31999</a></p>",
        "id": 271500474,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644529987
    },
    {
        "content": "<p>which would mean that the url should be <code>http://hl7.org/fhir/3.0/StructureDefinition/extension-Observation.value</code></p>",
        "id": 271500533,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644530023
    }
]