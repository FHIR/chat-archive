[
    {
        "content": "<p>Hey</p>\n<p>According to documentation, (<a href=\"https://www.hl7.org/fhir/search.html#revinclude\" target=\"_blank\" title=\"https://www.hl7.org/fhir/search.html#revinclude\">https://www.hl7.org/fhir/search.html#revinclude</a>), it is possible to search for a resource with criteria and include linked resource.<br>\nI wonder if it is allowed to add criteria on the linked resources.</p>\n<p>Eg: <a href=\"http://fhirtest.uhn.ca/baseDstu3/Encounter?date=gt2016-01-01&amp;date=lt2016-01-03&amp;_revinclude=Observation:context&amp;_include=Encounter:patient\" target=\"_blank\" title=\"http://fhirtest.uhn.ca/baseDstu3/Encounter?date=gt2016-01-01&amp;date=lt2016-01-03&amp;_revinclude=Observation:context&amp;_include=Encounter:patient\">http://fhirtest.uhn.ca/baseDstu3/Encounter?date=gt2016-01-01&amp;date=lt2016-01-03&amp;_revinclude=Observation:context&amp;_include=Encounter:patient</a> search for every linked Observations. What if I would like only the linked observation having code in [55284-4,8480-6] ? Would the syntax ..._revinclude=Observation:context:code=55284-4,8480-6.... permitted ?</p>\n<p>How could I do differently, in only one query ? </p>\n<p>Thanks</p>",
        "id": 153896501,
        "sender_full_name": "natus",
        "timestamp": 1499713536
    },
    {
        "content": "<p>Look at <a href=\"http://hl7.org/fhir/search.html#has\" target=\"_blank\" title=\"http://hl7.org/fhir/search.html#has\">http://hl7.org/fhir/search.html#has</a></p>",
        "id": 153896537,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1499722604
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> </p>\n<p>Thanks for you answer. <code>[base]/Patient?_has:Observation:patient:code=29463-7</code> allows me to get Patients having an observation coded 29463-7. <br>\nInstead, I am looking for getting a bundle with both Patient, Observation resource, but only the subset of Observation having  code=29463-7.</p>\n<p><code>Patient?_revinclude=Observation:subject</code> gives me the patient and all its Observations. I need a subset of all its Observation, say code=29463-7. The problem is I cannot do a second filtering like: <code>Patient?_revinclude=Observation:subject:code=29463-7</code></p>\n<p>How do push predicate on both resources ?</p>",
        "id": 153896552,
        "sender_full_name": "natus",
        "timestamp": 1499724680
    },
    {
        "content": "<p>To do something like that, you'd be forced to _query - which isn't supported by very many servers.  Or you'll end up doing two queries.</p>",
        "id": 153896559,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1499725984
    },
    {
        "content": "<p>or do the query the other way around, go from the Observations if that's what you really want, and include the Patient</p>",
        "id": 153896671,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1499813420
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> for the suggestion. However problem still remain if I want to add a Condition resource, and want to filter on Condition, Observation by code.</p>",
        "id": 153896920,
        "sender_full_name": "natus",
        "timestamp": 1500023275
    }
]