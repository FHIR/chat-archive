[
    {
        "content": "<p>Hi, I'm using SMILE CDR and I like to use a codesystem, for which I can't get all the valid codes.<br>\nSo I thought it would be a good idea to define the CodeSystem to be a \"fragment\" (content=fragment). The valueset is described as „extensible“ - but anyway the validation throws an error:<br>\n   {<br>\n      \"severity\": \"error\",<br>\n      \"code\": \"processing\",<br>\n      \"diagnostics\": \"Unknown code {http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfUntersuchungenTPCS}855445 for '<a href=\"http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfUntersuchungenTPCS#855445\">http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfUntersuchungenTPCS#855445</a>'\",<br>\n      \"location\": [<br>\n        \"Appointment.serviceType[3].coding[0]\",<br>\n        \"Line 106, Col 10\"<br>\n      ]<br>\n    },<br>\nIs there any chance, to use incomplete CodingSystems?<br>\nThanks for your responses</p>\n<p>Michael</p>",
        "id": 198538093,
        "sender_full_name": "Michael Sauer",
        "timestamp": 1590244384
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 198538282,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1590244740
    },
    {
        "content": "<p>what version is this, and how are you testing it?</p>",
        "id": 198550427,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1590265300
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194649\">@Michael Sauer</span> - HAPI/Smile CDR's validator doesn't treat CodeSystems with a content of <code>fragment</code> as meaning that codes not defined in the CodeSystem should pass validation. But I'm not actually sure I'm understanding your question- Is the idea here that code <code>855445</code> isn't actually listed in your CodeSystem resource?</p>",
        "id": 198551665,
        "sender_full_name": "James Agnew",
        "timestamp": 1590267330
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> That‘s exactly what I mean.  The Codesystem is not under my control and I can get new codes without previously notice. So the example code 855445 is not part of the coding system. Anyway I like to check, that a new resource is conform to the implementation guide.</p>",
        "id": 198553352,
        "sender_full_name": "Michael Sauer",
        "timestamp": 1590270173
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I’m using the Koala release. I post a new resource with an unknown code.</p>",
        "id": 198553507,
        "sender_full_name": "Michael Sauer",
        "timestamp": 1590270451
    },
    {
        "content": "<p>I'm not actually sure that there is a way in FHIR to say \"this code system can contain arbitrary codes\" which is really what you need here. At least my understanding of <code>content=fragment</code> isn't that it can be used to allow arbitrary codes..</p>\n<p>I guess what you need here really is a way to configure the validator that \"CodeSystem X shouldn't be validated\" while not disabling anything else</p>",
        "id": 198557195,
        "sender_full_name": "James Agnew",
        "timestamp": 1590277362
    },
    {
        "content": "<p>Fragment says that you're only exposing part of the code system - which means that any other code value not in that list <em>could</em> be valid and should be treated as a warning, not an error.</p>",
        "id": 198561245,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1590285689
    },
    {
        "content": "<p>Thanks Lloyd.</p>\n<p><span class=\"user-mention\" data-user-id=\"194649\">@Michael Sauer</span> I'm ticketing this, will see how hard it would be to make this be a warning instead of an error.</p>",
        "id": 198596324,
        "sender_full_name": "James Agnew",
        "timestamp": 1590348586
    },
    {
        "content": "<p>the validator already does this</p>",
        "id": 198607282,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1590367122
    }
]