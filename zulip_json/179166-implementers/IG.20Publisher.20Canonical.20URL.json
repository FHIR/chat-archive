[
    {
        "content": "<p><a href=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Canonical_URL\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Canonical_URL\">http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Canonical_URL</a> states:</p>\n<blockquote>\n<p>The Canonical URL should point to the current version of the specification e.g. if someone enters the canonical URL into their browser, they will get the specification home page (or, if a FHIR client uses the URL as it's server URL, a GET of [base]/[Type]/[id] will return the correct resource.</p>\n</blockquote>\n<p>The way I'm reading this is that the specification URL is tied to a FHIR endpoint... is this correct? The HL7 spec itself doesn't do that</p>",
        "id": 153854283,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1477431340
    },
    {
        "content": "<p>well, it does... almost. it's work in progress, but my intent is that <a href=\"http://hl7.org/fhir\" target=\"_blank\" title=\"http://hl7.org/fhir\">http://hl7.org/fhir</a> is actually a valid fhir endpoint</p>",
        "id": 153854285,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477431616
    },
    {
        "content": "<p>Ah ok, thanks</p>",
        "id": 153854286,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1477431748
    },
    {
        "content": "<p>however that part of the doco is incorrect now. the tools presently insist that the IG canonical url is [base]/ImplementationGuide/[id] which is a redirect to [base]</p>",
        "id": 153854287,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477431783
    },
    {
        "content": "<p>Sorry, that confused me. So if I have <a href=\"http://example.com/fhirstuff/ImplementationGuide/MyPatientProfile.html\" target=\"_blank\" title=\"http://example.com/fhirstuff/ImplementationGuide/MyPatientProfile.html\">example.com/fhirstuff/ImplementationGuide/MyPatientProfile.html</a> as my published canonical URL, who's getting redirected to <a href=\"http://example.com/fhirstuff\" target=\"_blank\" title=\"http://example.com/fhirstuff\">example.com/fhirstuff</a> ?</p>",
        "id": 153854288,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1477431959
    },
    {
        "content": "<p>the canonical URL must be a folder, and everything has to be published under it </p>",
        "id": 153854289,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477432144
    },
    {
        "content": "<p>hm </p>",
        "id": 153854290,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477432155
    },
    {
        "content": "<p>maybe we've overused terms here </p>",
        "id": 153854291,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477432166
    },
    {
        "content": "<p>Ok, so <a href=\"http://example.com/fhirstuff/ImplementationGuide/MyPatientProfile/index.html\" target=\"_blank\" title=\"http://example.com/fhirstuff/ImplementationGuide/MyPatientProfile/index.html\">http://example.com/fhirstuff/ImplementationGuide/MyPatientProfile/index.html</a> is my homepage. I don't get the part about a redirect though</p>",
        "id": 153854292,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1477432186
    },
    {
        "content": "<p>the canonical url in the config file, the one canonical url for the implementation guide, that has to be a folder under which everything is posted </p>",
        "id": 153854293,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477432202
    },
    {
        "content": "<p>yep</p>",
        "id": 153854294,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1477432218
    },
    {
        "content": "<p>so your canonical url would be <a href=\"http://example.com/fhirstuff/mypatientprofile\" target=\"_blank\" title=\"http://example.com/fhirstuff/mypatientprofile\">http://example.com/fhirstuff/mypatientprofile</a></p>",
        "id": 153854295,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477432238
    },
    {
        "content": "<p>that's what goes in the config file.</p>",
        "id": 153854296,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477432249
    },
    {
        "content": "<p>the ImplementationGuide.url is <a href=\"http://example.com/fhirstuff/mypatientprofile/ImplementationGuide/[id]\" target=\"_blank\" title=\"http://example.com/fhirstuff/mypatientprofile/ImplementationGuide/[id]\">http://example.com/fhirstuff/mypatientprofile/ImplementationGuide/[id]</a></p>",
        "id": 153854297,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477432282
    },
    {
        "content": "<p>where [id] is probably mypatientprofile</p>",
        "id": 153854298,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477432290
    },
    {
        "content": "<p>okay - and what's the redirect to [base] about?</p>",
        "id": 153854299,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1477432435
    },
    {
        "content": "<p>if you enter <a href=\"http://example.com/fhirstuff/mypatientprofile/ImplementationGuide/[id]\" target=\"_blank\" title=\"http://example.com/fhirstuff/mypatientprofile/ImplementationGuide/[id]\">http://example.com/fhirstuff/mypatientprofile/ImplementationGuide/[id]</a> into your browser, the server will redirect you to the implementation fuide</p>",
        "id": 153854300,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477432490
    },
    {
        "content": "<p>Aha. Thanks for explaining</p>",
        "id": 153854301,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1477432519
    },
    {
        "content": "<p>this happens for all resources - if you enter the canonical url for a code system value set etc , you get redirected to the logical place in the spec for that content</p>",
        "id": 153854302,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477432543
    },
    {
        "content": "<p>However for type =  Reference(Patient){http://hl7.org/fhir/us/daf/StructureDefinition/daf-core-patient}  am not getting the  redirect to within the ig.   see <a href=\"http://ig.fhir.me/Healthedata1/Argo-DSTU2/StructureDefinition-argo-allergyintolerance.html\" target=\"_blank\" title=\"http://ig.fhir.me/Healthedata1/Argo-DSTU2/StructureDefinition-argo-allergyintolerance.html\">http://ig.fhir.me/Healthedata1/Argo-DSTU2/StructureDefinition-argo-allergyintolerance.html</a>  when you click on the patient reference it doesn't do the redirect.  just a 404 :-(</p>",
        "id": 153854308,
        "sender_full_name": "Eric Haas",
        "timestamp": 1477435139
    },
    {
        "content": "<p>well, it's not done yet... :-(</p>",
        "id": 153854310,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477436349
    },
    {
        "content": "<p>OK good.  I thought  I was doing something wrong.   Thanks</p>",
        "id": 153854330,
        "sender_full_name": "Eric Haas",
        "timestamp": 1477448197
    }
]