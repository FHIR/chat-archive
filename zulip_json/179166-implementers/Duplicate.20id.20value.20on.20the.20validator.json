[
    {
        "content": "<p>I'm trying to validate attached fhir .json with following command line:<br>\njava -Duser.language=en -jar org.hl7.fhir.validator.jar mni-patientOverview-bundle-example1.json -version 4.0 -ig <a href=\"https://mednet.swiss/fhir\">https://mednet.swiss/fhir</a></p>\n<p>And it returns me following error:<br>\n<em>FAILURE</em> validating mni-patientOverview-bundle-example1.json:  error:2 warn:0 info:0<br>\n  Error @ Bundle.entry[1].resource (line 194, col24) : Duplicate id value '1'<br>\n  Error @ Bundle.entry[2].resource (line 211, col30) : Duplicate id value '1'</p>\n<p>If I replace the Patient ID and the Device ID with unique values for example pat1 and dev1 instead of 1, It works. (See the second file attached)<br>\nBut normally if the entries are from different types I should be able to use the same id value.<br>\nIn the documentation <a href=\"http://hl7.org/fhir/R4/resource.html#id\">http://hl7.org/fhir/R4/resource.html#id</a> the logical id is defined as<br>\n\"The logical id is unique within the space of all resources of the same type on the same server.\"</p>\n<p>Do someone have some idea ? <a href=\"/user_uploads/10155/iiaEcycbUk6OaIILNSnC3tsM/mni-patientOverview-bundle-example1.json\">mni-patientOverview-bundle-example1.json</a> <a href=\"/user_uploads/10155/up8yHwA709vvx21ymDRrUaFs/mni-patientOverview-bundle-example1b.json\">mni-patientOverview-bundle-example1b.json</a></p>",
        "id": 206036564,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1596641261
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 206086275,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1596666873
    },
    {
        "content": "<p>ok. fixed next release</p>",
        "id": 206093547,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1596673920
    },
    {
        "content": "<p>Thanks !</p>",
        "id": 206107968,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1596694286
    },
    {
        "content": "<p>Hello, <br>\nis it possible that the bug is still present in the org.hl7.fhir.publisher.jar ?<br>\nBest regards, <br>\nDavid</p>",
        "id": 208934094,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599120989
    },
    {
        "content": "<p>not that one. You still have a problem?</p>",
        "id": 208935303,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599121737
    },
    {
        "content": "<p>The problems is on the QA report<br>\nIf i publish my ig with this example :<br>\n<a href=\"/user_uploads/10155/LyYhmgctdO3Vnuptl2zzA3Jk/duplicateId-example1.json\">duplicateId-example1.json</a></p>\n<p>The QA report still include the error message \"Duplicate id value '1'\"<br>\n<a href=\"/user_uploads/10155/wLMYHuzipKK0qp2OqoEBL2dw/grafik.png\">grafik.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/wLMYHuzipKK0qp2OqoEBL2dw/grafik.png\" title=\"grafik.png\"><img src=\"/user_uploads/10155/wLMYHuzipKK0qp2OqoEBL2dw/grafik.png\"></a></div><p>I tryied with the latest version of the publisher</p>",
        "id": 208947462,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599129212
    },
    {
        "content": "<p>is your ig in github? if it's not, can you send it to me privately so I can debug?</p>",
        "id": 208947569,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599129268
    },
    {
        "content": "<p>I just gave you access <br>\n<a href=\"https://github.com/DavidGutknecht/mni-ig\">https://github.com/DavidGutknecht/mni-ig</a><br>\nThe duplicateId-example is not included in this IG, but you will se the same error for the example mni-patientOverview-bundle-example1.json</p>",
        "id": 208947911,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599129502
    },
    {
        "content": "<p>This version is the one published on <a href=\"https://mednet.swiss/fhir\">https://mednet.swiss/fhir</a></p>",
        "id": 208947976,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599129560
    },
    {
        "content": "<p>Hello, I think I found a reason.<br>\nI still use the publisher FHIR IG Publisher Version 1.1.0</p>",
        "id": 208950883,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599131445
    },
    {
        "content": "<p>On the top of the QA report you have a link to download the latest version<br>\n<a href=\"/user_uploads/10155/U-ANwj0NTRSx-tMifR2qTz3h/grafik.png\">grafik.png</a> <br>\nIt forwards to <a href=\"https://storage.googleapis.com/ig-build/org.hl7.fhir.publisher.jar\">https://storage.googleapis.com/ig-build/org.hl7.fhir.publisher.jar</a><br>\nthis is the publisher I downloaded. Is it possible that this publisher is not uptodate ?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/U-ANwj0NTRSx-tMifR2qTz3h/grafik.png\" title=\"grafik.png\"><img src=\"/user_uploads/10155/U-ANwj0NTRSx-tMifR2qTz3h/grafik.png\"></a></div>",
        "id": 208951050,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599131537
    },
    {
        "content": "<p>it is indeed out of date, and so out of date the the version detection is broken (we rebuilt the deploy pipeline a little while ago)</p>",
        "id": 208951146,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599131606
    },
    {
        "content": "<p>see <a class=\"stream\" data-stream-id=\"217600\" href=\"/#narrow/stream/217600-tooling.2Freleases\">#tooling/releases</a></p>",
        "id": 208951183,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599131636
    },
    {
        "content": "<p>Sorry for the inconvenience.</p>",
        "id": 208951303,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599131705
    },
    {
        "content": "<p>np</p>",
        "id": 208951346,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599131730
    },
    {
        "content": "<p>Did a new compilation with following IG PUblisher Version:<br>\n    IG Publisher Version: v1.1.17<br>\nAnd the Duplicate error message is still there :-(</p>",
        "id": 208953297,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599132959
    },
    {
        "content": "<p>I can't run this -there's no ig.ini, and then:</p>\n<p>Unable to find the source file for Bundle/mni-patientOverview-bundle-example1: not specified, so tried Bundle-mni-patientOverview-bundle-example1.xml, mni-patientOverview-bundle-example1.Bundle.xml, Bundle-mni-patientOverview-bundle-example1.json, Bundle/mni-patientOverview-bundle-example1.xml, Bundle/mni-patientOverview-bundle-example1.json, mni-patientOverview-bundle-example1.xml, and mni-patientOverview-bundle-example1.json (and lowercase resource name variants) in dirs [C:\\work\\org.hl7.fhir.igs\\mni-ig\\input, C:\\work\\org.hl7.fhir.igs\\mni-ig\\input\\examples, C:\\work\\org.hl7.fhir.igs\\mni-ig\\input\\resources]</p>",
        "id": 209030457,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599167683
    },
    {
        "content": "<p>Hello, <br>\nI'm sorry that you can not reproduce it.<br>\nSince I'm still working on my IG and just broke many things, I will complete it and tell you when it will be clean enough to be tested</p>",
        "id": 209075248,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599213773
    },
    {
        "content": "<p>ok</p>",
        "id": 209075584,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599213998
    },
    {
        "content": "<p>Hello, <br>\nquestion did you also download the ig template ? Because it includes a dedicated ant script that remove all comments from the example files and rename the files<br>\nThis is maybe the reason you were not able to compile<br>\nI also uploaded the ig.ini</p>",
        "id": 209082623,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599219321
    },
    {
        "content": "<p>Hello Grahame, <br>\nI have update the IG on github. <br>\nDon't forget to compile the IG with the template. There is a trick in the template that removes comments to validate the examples json files, and after in the template still show the examples with comments.<br>\nYou can have a look on the duplicateId-example1.json (or duplicateId-example1-with-comments.json) file it is as simplified test example with few objects.<br>\nI tested with the IG Publisher Version: v1.1.19 and still have the Duplicate Id problem.<br>\nThanks in advance,<br>\nBest regards,<br>\nDavid</p>",
        "id": 209406057,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599580360
    },
    {
        "content": "<p>I don't know what \"Don't forget to compile the IG with the template\" means?</p>",
        "id": 209443582,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599598803
    },
    {
        "content": "<p>Hello Grahame,<br>\nsince I uploaded the ig.ini to github, when you launch the publisher it should automatically take the content of the folder ig-template. You can forget the sentece \"Don't forget to compile the IG with the template\".</p>",
        "id": 209475132,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599632050
    },
    {
        "content": "<p>Hello <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , <br>\nI updated the IG on gitHub.<br>\nNow on the QA report they are mostly \"Duplicate id value 'x'\" error messages.<br>\nThe other error messages are somehow expected.</p>",
        "id": 209613917,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599729796
    },
    {
        "content": "<p>I also uploaded the IG to mednet.swiss.<br>\nYou can see the QAReport directly under <a href=\"https://mednet.swiss/fhir/qa.html\">https://mednet.swiss/fhir/qa.html</a></p>",
        "id": 209666213,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599752647
    },
    {
        "content": "<p>ok found it. It made a difference whether profiles were resolved or not. Will be fixed in the next release</p>",
        "id": 209678034,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599757538
    },
    {
        "content": "<p>Thanks a lot !</p>",
        "id": 209748068,
        "sender_full_name": "David Gutknecht",
        "timestamp": 1599808783
    }
]