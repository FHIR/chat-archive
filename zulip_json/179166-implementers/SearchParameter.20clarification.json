[
    {
        "content": "<p>Can someone give me a bit of help with creating SearchParameters, I'm looking at some published examples but I'm struggling...</p>\n<p>If I take a look at  <a href=\"http://www.hl7.org/fhir/us/core/SearchParameter-us-core-ethnicity.html\">http://www.hl7.org/fhir/us/core/SearchParameter-us-core-ethnicity.html</a> this defines a SP against a complex extension.<br>\nWhat I can't see is how the expression is targeting the specific inner extension, the expression used is:</p>\n<div class=\"codehilite\"><pre><span></span><code>Patient.extension.where(url = &#39;http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity&#39;).extension.value.code\n</code></pre></div>\n<p>My particular use case is just for a \"simple\" extension with a single CodeableConcept element. So if I have extension <a href=\"http://acme.org/myExtension\">http://acme.org/myExtension</a> do I use a path along the lines of </p>\n<div class=\"codehilite\"><pre><span></span><code>Patient.extension.where(url = &#39; http://acme.org/myExtension&#39;).extension.value.code\n</code></pre></div>\n<p>or simply</p>\n<div class=\"codehilite\"><pre><span></span><code>Patient.extension.where(url = &#39; http://acme.org/myExtension&#39;)\n</code></pre></div>\n<p>thanks.</p>",
        "id": 227569939,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1614158602
    },
    {
        "content": "<p>It looks like it's <em>not</em> targeting a specific inner extension - as specified, it's searching on all of the children.  If you wanted a specific child, you'd need a where clause on the inner .extension as well that filtered by URL (which could be a simple URL if you were looking for a component of a complex extension)  For a simple extension with a CodeableConcept, it'd just be Patient.extension.where(url='http://acme.org/myExtension').value if your search type is 'token'.</p>",
        "id": 227607855,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1614177571
    }
]