[
    {
        "content": "<p>Are there any of you that that is informed regarding when the  <a href=\"http://Simplifier.org\" target=\"_blank\" title=\"http://Simplifier.org\">Simplifier.org</a> server is going to support FHIR profiles v. 4.0.1 ?</p>",
        "id": 190961185,
        "sender_full_name": "Irene Zuschlag",
        "timestamp": 1584527088
    },
    {
        "content": "<p>likely next week</p>",
        "id": 190967404,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1584531121
    },
    {
        "content": "<p>CC <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span></p>",
        "id": 190970149,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1584532995
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"194815\">@Irene Zuschlag</span>, <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> is right, we're working on it (including the .NET FHIR API 1.5/6 and Vonk 3.3/4 in <a href=\"http://Simplifier.net\" target=\"_blank\" title=\"http://Simplifier.net\">Simplifier.net</a>) this sprint and expect to make it available to the public by next week.<br>\nForge with support for (3.0.2 and) 4.0.1 has been released yesterday, as you might have already noticed, so feel free to start building and upgrading those profiles!</p>\n<p>Overview of supported FHIR versions and known issues posted here: <a href=\"https://simplifier.net/docs/Forge/Knownissues\" target=\"_blank\" title=\"https://simplifier.net/docs/Forge/Knownissues\">https://simplifier.net/docs/Forge/Knownissues</a></p>",
        "id": 190970897,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1584533450
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194815\">@Irene Zuschlag</span> <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> Hi all, just wanted to let you know Simplifier has been updated with full support for FHIR (3.0.2 and) 4.0.1 today! <img alt=\":simplifier:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/10155/emoji/images/11735.png\" title=\"simplifier\"> <br>\nPlease let me know if there are any issues.</p>",
        "id": 192388993,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1585661363
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 192405153,
        "sender_full_name": "Irene Zuschlag",
        "timestamp": 1585668438
    },
    {
        "content": "<p>Hi <br>\nWe do have some issues with Simplifier but properly not related to the 4.0.1 update. All our files for our project is placed in git hub, even our markdown files. When we synchronize GitHub and Simplifier, the markdown files are left unchanged on Simplifier, even if changed in git. Is this a feature or a fail ?</p>",
        "id": 192489457,
        "sender_full_name": "Irene Zuschlag",
        "timestamp": 1585724371
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"194815\">@Irene Zuschlag</span>, that doesn't sound like how it should be. Are the project and Github repo public, or would you be able to add me to them (<a href=\"mailto:ward@fire.ly\" title=\"mailto:ward@fire.ly\">ward@fire.ly</a> on both)?</p>\n<p>Just to be sure, markdown files or the specific folder are not excluded on your sync? <a href=\"http://docs.simplifier.net/simplifier/simplifierGithub.html#github-include-exclude\" title=\"http://docs.simplifier.net/simplifier/simplifierGithub.html#github-include-exclude\">http://docs.simplifier.net/simplifier/simplifierGithub.html#github-include-exclude</a><br>\nAny ideas what happened before they stopped being updated (if they ever were)? Did the get renamed, moved to a different folder, any force pushes on the repository?</p>\n<p>If nothing else works you can always empty the Simplifier project (Project page &gt; Manage &gt; File manager) and reimport from Github (Project page &gt; Github &gt; Reimport). But let's troubleshoot first.</p>",
        "id": 192496598,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1585729569
    },
    {
        "content": "<p>Hi  <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span>  - Cannot reproduce the problem regarding the markdown files on our test server, with the same setting . Seems like git is synchronizing as expected after all..  But doing the testing some minor problems occurred that are related to Simplifier. Firstly the log shows time, I guess, zulu time, but It would be nice if the local view could have  a setting that showed the local time,- it is quite minor.  Another observation is, that I miss the full timestamp of last update of a file  - not just the date..</p>",
        "id": 192540135,
        "sender_full_name": "Irene Zuschlag",
        "timestamp": 1585752890
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"194815\">@Irene Zuschlag</span>, I've noted them for solving!</p>",
        "id": 192551693,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1585757113
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> Just found a problem when upgrading project FHIR files to 4.0.1 in Simplifier - when validating a profile following error occurs: CodeInvalid : Code '4.0.1' from system '' does not exist in valueset '<a href=\"http://hl7.org/fhir/ValueSet/FHIR-version\" title=\"http://hl7.org/fhir/ValueSet/FHIR-version\">http://hl7.org/fhir/ValueSet/FHIR-version</a>' .  I have changed the profiles back to 4.0.0 in our test environment.</p>",
        "id": 193195288,
        "sender_full_name": "Irene Zuschlag",
        "timestamp": 1586269596
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"194815\">@Irene Zuschlag</span>, please update the dependencies in your project from the <code>simplifier.core.r4</code> to <code>hl7.fhir.r4.core 4.0.1</code>. This is now finally possible with support for FHIR 4.0.1 and our recent synchronization with all the HL7 FHIR packages. Does that resolve it?</p>",
        "id": 193196049,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1586269890
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span>   Well - I think I did not explain the problem detailed enough..It is not when validating a resource but when validating my Simplifier profile - for example <a href=\"/user_uploads/10155/pftOsifOG7iYpGh3nPtIgfXX/image.png\" title=\"image.png\">image.png</a> <a href=\"/user_uploads/10155/ANjsI8AjngCO7AsMBTLiQmrv/image.jpeg\" title=\"image.jpeg\">image.jpeg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/pftOsifOG7iYpGh3nPtIgfXX/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/pftOsifOG7iYpGh3nPtIgfXX/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ANjsI8AjngCO7AsMBTLiQmrv/image.jpeg\" title=\"image.jpeg\"><img src=\"/user_uploads/10155/ANjsI8AjngCO7AsMBTLiQmrv/image.jpeg\"></a></div><p>Sorry for the duplicates..</p>",
        "id": 193198820,
        "sender_full_name": "Irene Zuschlag",
        "timestamp": 1586270970
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194815\">@Irene Zuschlag</span> Yes! When validating a resource in your project it will look in your project's dependencies for the canonical URLs you are referring to.</p>\n<p><a href=\"https://simplifier.net/MedCom-FHIR-Messaging/~dependencies\" title=\"https://simplifier.net/MedCom-FHIR-Messaging/~dependencies\">Your project's dependencies</a> currently include, directly and indirectly: <a href=\"https://simplifier.net/packages/hl7.fhir.dk-core.r4/0.9.0-beta-1\" title=\"https://simplifier.net/packages/hl7.fhir.dk-core.r4/0.9.0-beta-1\">hl7.fhir.dk-core.r4 0.9.0-beta-1</a> and <a href=\"https://simplifier.net/packages/simplifier.core.r4/4.0.1\" title=\"https://simplifier.net/packages/simplifier.core.r4/4.0.1\">simplifier.core.r4 4.0.1</a> (and its dependencies again). The latter is our old mirrored version of the core FHIR spec, which somewhere has the old <a href=\"https://simplifier.net/packages/simplifier.core.r4.valuesets/4.0.0/files/18557\" title=\"https://simplifier.net/packages/simplifier.core.r4.valuesets/4.0.0/files/18557\">ValueSet</a>/<a href=\"https://simplifier.net/packages/simplifier.core.r4.valuesets/4.0.0/files/18556\" title=\"https://simplifier.net/packages/simplifier.core.r4.valuesets/4.0.0/files/18556\">CodeSystem</a> which doesn't include <code>4.0.1</code> yet.</p>\n<p>To make sure Simplifier will find the version of the <a href=\"https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/files/81248\" title=\"https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/files/81248\">ValueSet</a>/<a href=\"https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/files/81630\" title=\"https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/files/81630\">CodeSystem</a> that is the most recent and includes <code>4.0.1</code> we need to point to the latest and official core FHIR spec package <a href=\"https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1\" title=\"https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1\">hl7.fhir.r4.core 4.0.1</a>. So we'll need to update the dependencies of both the <code>hl7.fhir.dk-core.r4</code> package and your project.</p>\n<p>Please:</p>\n<ul>\n<li>Update the dependencies of <a href=\"https://simplifier.net/dk-core/~dependencies\" title=\"https://simplifier.net/dk-core/~dependencies\">https://simplifier.net/dk-core/~dependencies</a>: Remove <code>simplifier.core.r4</code> and add the latest version of <code>hl7.fhir.r4.core</code>.</li>\n<li>Create a new package from that project for <code>hl7.fhir.dk-core.r4</code> which will reflect those changed dependencies.</li>\n<li>In your own project change the dependencies to that new version of <code>hl7.fhir.dk-core.r4</code>. If you have direct dependencies on <code>simplifier.core.r4</code> there you can just remove them and optionally replace it with the latest version of <code>hl7.fhir.r4.core</code> too (since it will already be an indirect dependency).</li>\n</ul>\n<p>Please let me know if that helps!</p>",
        "id": 193213305,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1586276623
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span>  Thanks for the reply - the package-dependency hieracy is quite like a jungle.. First off all - I 'll try to get approval from the danish hl7 affiliate for updating the Simplifier dk-core project. <br>\nI did not realize that the impact of  fhir version  4.0.0 and  4.0.1 had this great impact. In all my profiles the referenced versions codes are 4.0.0 - for instance <br>\n\" &lt;extension url=\"<a href=\"http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version\" title=\"http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version\">http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version</a>\"&gt;<br>\n        &lt;valueCode value=\"4.0.0\" /&gt;\" so why is valueCode not following the version 4.0.1 ?    Is it a problem that I always refer to 4.0.0 if a version 4.0.1 actually exits for the value set ?   Or shall all value sets reference the same version because of the dependencies ?</p>",
        "id": 193280959,
        "sender_full_name": "Irene Zuschlag",
        "timestamp": 1586328999
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"194815\">@Irene Zuschlag</span>, I'm sorry it's giving you trouble. There two compounding factors here: the switch from 4.0.0 to 4.0.1, and the switch to using the official HL7 FHIR packages.</p>\n<p>Actually the value of extension <a href=\"http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version\" title=\"http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version\">http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version</a> refers to \"This structure definition/element/etc. has been normative since FHIR version x.x.x\". So this could very well (and will in most cases right now) rightfully continue to refer to 4.0.0.</p>\n<p>If you are referring to specific versions of ValueSets, I think generally they were indeed updated to version number 4.0.1 (see the version numbers here: <a href=\"https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/~files\" title=\"https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/~files\">https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/~files</a>).<br>\nHowever, having packages, I think you can now generally refrain from referring to specific versions of value sets. Within your project or package's dependencies there will only be one version of, say, <a href=\"http://hl7.org/fhir/ValueSet/gender-identity\" title=\"http://hl7.org/fhir/ValueSet/gender-identity\">http://hl7.org/fhir/ValueSet/gender-identity</a>. So no need to specify the version number. I think that is the upside of using packages and will make sure you don't have to continue to keep those versions in sync manually.</p>",
        "id": 193281934,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1586329870
    },
    {
        "content": "<p>What if i'm leaving the package context? It would be nice if the version specific reference could be auto generated from the package information</p>",
        "id": 193331259,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1586357629
    },
    {
        "content": "<p>If i send a resource A-&gt;B i can't express the package this resource came from, and therefore i'm loosing all the version context.</p>",
        "id": 193331387,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1586357667
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> Never leave the package context! ;)<br>\nI think conformance resources should always be shared in package context. Don't share your database table definitions individually, they are one coherent group.<br>\nHowever, claiming conformance on a FHIR instance indeed is likely to happen outside of package context. I guess it would be good if they would actually claim conformance to a canonical + scope (package context) <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> We are redesigning our infrastructure everywhere to follow that logic (like the <a href=\"http://Simplifier.net\" title=\"http://Simplifier.net\">Simplifier.net</a> resolve, validation, snippet page, project and package dependencies.).</p>",
        "id": 196901109,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1588947665
    },
    {
        "content": "<p>Perhaps we should repurpose the version field for scope specification, only for communication outside of package context?</p>\n<div class=\"codehilite\"><pre><span></span><code>    <span class=\"nt\">&lt;meta&gt;</span>\n        <span class=\"nt\">&lt;profile</span> <span class=\"na\">value=</span><span class=\"s\">&quot;https://fake-acme.org/fhir/StructureDefinition/ACME-base-patient|acme.base@0.0.4&quot;</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/meta&gt;</span>\n</code></pre></div>",
        "id": 196901626,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1588947938
    },
    {
        "content": "<p>that's a pretty big change to introduce on the sly</p>",
        "id": 196940879,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588966634
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> I was pointed by <span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span> to a blog post where <span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> pointed this out back in 2017: <a href=\"https://blog.fire.ly/2017/11/28/versioning-and-canonical-urls/\" title=\"https://blog.fire.ly/2017/11/28/versioning-and-canonical-urls/\">https://blog.fire.ly/2017/11/28/versioning-and-canonical-urls/</a></p>\n<blockquote>\n<p>But I saved the most impactful consequence for last:<br>\nYou can no longer interpret canonical references present in conformance resources or instances outside of the context of a package.</p>\n<p>Let me reiterate that: any authoring tool, validator, renderer or whatever system that uses StructureDefinitions to do its work will need to know this context. Those who have carefully studied the current ImplementationGuide resource (especially ImplementationGuide.global) realize this is already the case now, but most are blissfully unaware of this hidden feature.</p>\n<p>For systems working with conformance resources (like instance validators), it’s likely they have this context: if you’re dealing with a StructureDefinition, you probably got it from a package in the first place (it becomes a different matter entirely if a resource can be distributed in different packages. Well, let’s not diverge.)</p>\n<p>For servers exchanging instances however – we’d need to assume they know the context out of band. But this won’t do for partners exchanging outside of such a controlled environment.</p>\n</blockquote>\n<p>He goes on there to suggest a possible solution with <code>Resource.implicitRules</code>, but I haven't heard his current thinking on it yet.</p>",
        "id": 196951744,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1588972628
    },
    {
        "content": "<p>This is the kind of thing that you write down to get it out of your way until someone else thinks its important enough to continue to work on ;-)</p>",
        "id": 197117787,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1589187571
    }
]