[
    {
        "content": "<p>Hi all,  while creating profiles, if I use LOINC or SNOMED CT codes which are not present in the valueset list of the resource, do I need to edit that particular valueset of the resource? For example, if I am creating a profile using the resource Observation and need a code which is available in SNOMED but not in the valueset of Observation.code then do I have to edit or create the valueset?  Thank you</p>",
        "id": 153898761,
        "sender_full_name": "Pranitha Sruthi",
        "timestamp": 1501159159
    },
    {
        "content": "<p>create your own value set, and bind to that. With one single exception, all the snomed value sets are example bindings, not rules to be followed</p>",
        "id": 153898767,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501160730
    },
    {
        "content": "<p>Okay. How can I create valuesets?</p>",
        "id": 153898768,
        "sender_full_name": "Pranitha Sruthi",
        "timestamp": 1501160819
    },
    {
        "content": "<p>at the moment, we are mostly creating value sets by editing the resources by hand.</p>",
        "id": 153898769,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501162360
    },
    {
        "content": "<p>The <a href=\"http://ClinFHIR.com\" target=\"_blank\" title=\"http://ClinFHIR.com\">http://ClinFHIR.com</a> tool from <span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> has the ability to create a vocabulary and valueset. It is temporary, but I have taken the resulting JSON, and imported it into <a href=\"http://simplifier.net\" target=\"_blank\" title=\"http://simplifier.net\">http://simplifier.net</a>. Still not figured out how to make the vocabulary referencable enough to put into my StructureDefinition...</p>",
        "id": 153898835,
        "sender_full_name": "John Moehrke",
        "timestamp": 1501182638
    },
    {
        "content": "<p>what do you mean by a vocabulary.?   In SD you reference the valueset and or codesystems by URI.  ( btw you can create a code system  and valueset using the spreadshet and IG pub and then grab the xml and use that directly.  But oftentimes just as fast and easy to create an enumerated value set for a single code system in excel using a formula.)</p>",
        "id": 153898842,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501185090
    },
    {
        "content": "<p>VSAC <a href=\"https://vsac.nlm.nih.gov\" target=\"_blank\" title=\"https://vsac.nlm.nih.gov\">https://vsac.nlm.nih.gov</a> will eventually provide full FHIR functionality and simplifies maintenance. You can use it now (you'll need a free UMLS license) and then access the content you've published using FHIR TS (see <a href=\"https://cts.nlm.nih.gov/fhir/\" target=\"_blank\" title=\"https://cts.nlm.nih.gov/fhir/\">https://cts.nlm.nih.gov/fhir/</a>). VSAC value sets are a bit restricted - they need to be an enumerated list and only one code system in a value set (you combine them via a \"grouping\" value set.) Check it out.</p>",
        "id": 153899292,
        "sender_full_name": "Robert McClure",
        "timestamp": 1501266161
    },
    {
        "content": "<p>I have created the valueset below in FHIR DSTU2. Please could you confirm that this structure is correctly formed. My aim is to include all members where the SNOMED refset ID is 999000391000000109.  </p>\n<p>&lt;ValueSet xmlns=\"<a href=\"http://hl7.org/fhir\" target=\"_blank\" title=\"http://hl7.org/fhir\">http://hl7.org/fhir</a>\"&gt;<br>\n&lt;meta&gt;<br>\n&lt;lastUpdated value=\"2017-07-10T09:00:00+01:00\"/&gt;<br>\n&lt;/meta&gt;<br>\n&lt;url value=\"https://fhir.nhs.uk/ValueSet/document-type-1\"/&gt;<br>\n&lt;version value=\"1.0.0\"/&gt;<br>\n&lt;name value=\"Document Type\"/&gt;<br>\n&lt;status value=\"active\"/&gt;<br>\n&lt;publisher value=\"NHS Digital\"/&gt;<br>\n&lt;contact&gt;<br>\n&lt;name value=\"Interoperability Team\"/&gt;<br>\n&lt;telecom&gt;<br>\n&lt;system value=\"email\"/&gt;<br>\n&lt;value value=\"interoperabilityteam@nhs.net\"/&gt;<br>\n&lt;use value=\"work\"/&gt;<br>\n&lt;/telecom&gt;<br>\n&lt;/contact&gt;<br>\n&lt;description value=\"A code from the SNOMED Clinical Terminology UK coding system that describes a clinical document type. Any code from the SNOMED CT UK 'Correspondence Document Type' subset with subset original id 44041000000135; the corresponding SNOMED CT UK Refset fully specified name is 'Correspondence Document type simple reference set (foundation metadata concept)' with Refset Id 999000391000000109.\"/&gt;<br>\n&lt;requirements value=\"This vocabulary contains values to be selected to determine the document type.\"/&gt;<br>\n&lt;copyright value=\"This value set includes content from SNOMED CT, which is copyright Â© 2002+ International Health Terminology Standards Development Organisation (IHTSDO), and distributed by agreement between IHTSDO and HL7. Implementer use of SNOMED CT is not covered by this agreement.\"/&gt;<br>\n&lt;compose&gt;<br>\n&lt;include&gt;<br>\n&lt;system value=\"http://snomed.info/sct\"/&gt;<br>\n&lt;version value=\"1.33.2\"/&gt;<br>\n&lt;filter&gt;<br>\n&lt;property value=\"concept\"/&gt;<br>\n&lt;op value=\"in\"/&gt;<br>\n&lt;value value=\"999000391000000109\"/&gt;<br>\n&lt;/filter&gt;<br>\n&lt;/include&gt;<br>\n&lt;/compose&gt;<br>\n&lt;/ValueSet&gt;</p>",
        "id": 153899887,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1501602423
    },
    {
        "content": "<p>The Furore validator gives the the following Warning message in relation to the above ValueSet. I think it is for Information only - not to tell me that the formation of the Valueset is incorrect. Am I correct to believe that?</p>\n<p>[WARNING] The terminology service is incapable of validating Code '820101000000109' from system '<a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">http://snomed.info/sct</a>' with display 'Social services assessment record (record artifact)' (valueset '<a href=\"https://fhir.nhs.uk/ValueSet/document-type-1\" target=\"_blank\" title=\"https://fhir.nhs.uk/ValueSet/document-type-1\">https://fhir.nhs.uk/ValueSet/document-type-1</a>'). (at Bundle.entry[0].resource[0].type[0])<br>\n[INFORMATION] ValueSet cannot be expanded: Expansion for ValueSet '<a href=\"https://fhir.nhs.uk/ValueSet/document-type-1\" target=\"_blank\" title=\"https://fhir.nhs.uk/ValueSet/document-type-1\">https://fhir.nhs.uk/ValueSet/document-type-1</a>' uses an include with just a system ('<a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">http://snomed.info/sct</a>') and no enumerated concepts to include. (at Bundle.entry[0].resource[0].type[0])</p>",
        "id": 153899888,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1501602688
    },
    {
        "content": "<p>the version is wrong.</p>",
        "id": 153899998,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501619569
    },
    {
        "content": "<p>but it looks like you've hit a limitation in the C# validator - <span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> at this point it should pas the value set to <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">tx.fhir.org</a> to validate.</p>",
        "id": 153899999,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501619773
    },
    {
        "content": "<p>which, btw, returns this error:</p>",
        "id": 153900000,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501619778
    },
    {
        "content": "<p>Unable to provide support for code system <a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">http://snomed.info/sct</a> version 1.33.2</p>",
        "id": 153900001,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501619787
    },
    {
        "content": "<p>but it's probably not going work anyway because I haven't loaded the UK distribution of SNOMED CT onto the server</p>",
        "id": 153900002,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501619877
    },
    {
        "content": "<p>I'd have to dig up my trud login for that....</p>",
        "id": 153900003,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501620307
    },
    {
        "content": "<p>Yes, the C# valueset expander is limited (and certainly the DSTU2 one) - this is by design.  It also can be configured to use a fallback in this case and reach out to a \"real\" terminology service.  Katie - depending on how you are running the validator (through Simplifier? The Windows one that Richard Kavanagh provides?) I could show you how to make that work...</p>",
        "id": 153900105,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1501662666
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  Thanks for your reply. We are using the Windows version of the validator provided by Richard Kavanagh. I would want to discuss the possible configuration of this to reach out to the \"real\" terminology service with Richard before taking this further. However, please could you let me know in the meantime whether I would need always to provide the version of the code system, in this case SNOMED, to make your solution work. The version element is not mandatory in either the DSTU2 or STU3 Valueset resource, so that is why I am asking this. For your information, I have amended my SNOMED version to v1.36.1 which is the current version I am browsing. Many thanks for your assistance, Katie.</p>",
        "id": 153900109,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1501664301
    },
    {
        "content": "<p>you need to use the URI version of the SNOMED release, not 1.36.1</p>",
        "id": 153900110,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501664964
    },
    {
        "content": "<p>the FHIR terminology servers will use the international distribution of snomed CT if you don't specify a version.</p>",
        "id": 153900111,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501664991
    },
    {
        "content": "<p>if you're using your own terminology service, you'll have to ask the admins what the default behaviour is</p>",
        "id": 153900112,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501665009
    },
    {
        "content": "<p>Yes, going through <span class=\"user-mention\" data-user-id=\"191362\">@Richard Kavanagh</span> is a good idea - I think he periodically integrates the latest version into his windows validator. When he does that he will get this fallback behaviour, I can show Richard how to update his code to make this work.</p>",
        "id": 153900115,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1501665765
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Thanks, I will discuss with <span class=\"user-mention\" data-user-id=\"191362\">@Richard Kavanagh</span> and get back to you in due course.</p>",
        "id": 153900118,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1501665908
    },
    {
        "content": "<p>Rob - How do we address the need for a UMLS license (and login/PW) when references within profiles point to VSAC? For example, in a profile I'm working on:</p>\n<div class=\"codehilite\"><pre><span></span>    &lt;description value=&quot;A VSAC value set that describes one&#39;s intention for pregnancy used by FPAR.&quot;/&gt;\n                   &lt;valueSetReference&gt;\n                                  &lt;reference value=&quot;https://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1166.22&quot;/&gt;\n</pre></div>\n\n\n<p>I imagine this will cause problems with validation of profiles or at run time.<br>\nViet</p>",
        "id": 153911500,
        "sender_full_name": "Viet Nguyen",
        "timestamp": 1506704481
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192054\">@Viet Nguyen</span>  I need to better understand the user flow you are assuming will occur. Yes, if a human clicks on that link, a separate browser window will open and they will need to login before they can see the http page. They will not need to if your browser is storing cookies, until it exxpires. For now, I don't think NLM sees that as an improper burden given the legal requirements they are under when displaying IP-protected content. </p>\n<p>But I suspect you have other workflows in mind. Can you please document them so we can figure out how this might impact the current process? <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Do you have expectations here that can add to the discussion?</p>",
        "id": 153911509,
        "sender_full_name": "Robert McClure",
        "timestamp": 1506707675
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span> <br>\nI'm reviewing some profiles for an HSPC/ACOG. I created to single user account on Simplifier to learn how to use it. I uploaded the FPAR profiles. They're in Draft, but you can see them here - <a href=\"https://simplifier.net/VNTest01/$Show\" target=\"_blank\" title=\"https://simplifier.net/VNTest01/$Show\">https://simplifier.net/VNTest01/$Show</a></p>\n<p>As an example, I select the FPAR Pregnancy Intention Eval Profile - <a href=\"https://simplifier.net/VNTest01/fparPregnancyIntentionEval\" target=\"_blank\" title=\"https://simplifier.net/VNTest01/fparPregnancyIntentionEval\">https://simplifier.net/VNTest01/fparPregnancyIntentionEval</a></p>\n<p>Logged into the account, I have option to Validate the profile. When I do, I get warning messages (see attached screen shot). The validator cannot resolve the reference to the URI because of the need to log in.</p>\n<p><a href=\"/user_uploads/10155/ybq9IlUrnzlyYhk32Gqjh5Xw/WarningMessages.png\" target=\"_blank\" title=\"WarningMessages.png\">WarningMessages.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ybq9IlUrnzlyYhk32Gqjh5Xw/WarningMessages.png\" target=\"_blank\" title=\"WarningMessages.png\"><img src=\"/user_uploads/10155/ybq9IlUrnzlyYhk32Gqjh5Xw/WarningMessages.png\"></a></div><p>I can see an issue when a system (not user) wants to validate that it's receiving/creating a valid code in a VSAC valueset. This may also be an issue for other organizations (authorized to use VSAC) to reuse or adopt profiles.  Recognizing the need for proper usage of VSAC, what's the best approach to systems validating their valueset?</p>",
        "id": 153911513,
        "sender_full_name": "Viet Nguyen",
        "timestamp": 1506709629
    },
    {
        "content": "<p>I don't really know the answer here - needing a username/password is both a technical and a procedural burden that blocks development of an eco-system. eg. I could simply write a username/password for VSAC into the infrastructure somewhere, but the point of the VSAC login is to force user acknowledgement of some arcane and irrelevant licensing terms or something, so doing an end-run around this with the tooling will just generate procedural push-back. but the alternative is to... refuse to allow VSAC hosted value sets in FHIR IGs? that's pretty much the exact opposite of the intent of VSAC... <span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span> <span class=\"user-mention\" data-user-id=\"192087\">@Avinash Shanbhag</span> Does VSAC really really need to force login? I think that the consequences of this for building an eco-system have not really been understood. Time to push back against the lawyers....</p>",
        "id": 153911948,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1506995067
    },
    {
        "content": "<p>right now, ONC is pushing us to move FHIR value sets to VSAC - happy to copy them up, but can never depend on something is user level blocked when the infrastructure doesn't operate at the user level</p>",
        "id": 153911950,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1506995143
    },
    {
        "content": "<p>Hi,</p>\n<p>If an element is bound to a ValueSet, and during creation of an instance, if a code is picked from this ValuSet, can the display name be different than what is in the value set?</p>\n<p>Example is I were to use this ValueSet <a href=\"https://www.hl7.org/fhir/valueset-practitioner-role.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/valueset-practitioner-role.html\">https://www.hl7.org/fhir/valueset-practitioner-role.html</a> and in particular the \"doctor\" code, but change the display to \"Doctor of medicine\" instead of \"A qualified/registered medical practitioner\" would this be within the rules. Is the display text computable? Also what does it mean for the Coding.userSelected element if this were true/false? Does it have any impact ?</p>",
        "id": 153912836,
        "sender_full_name": "Joel Francis",
        "timestamp": 1507295851
    },
    {
        "content": "<p>The display name should to be an official display name for the code from the value set.  If it's not, the validator will spit out a warning.  If the user saw something else, that should be capturd in CodeableConcept.text.  User-selected differentiates which coding was originally chosen vs. which were added as tranlations</p>",
        "id": 153912850,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1507309980
    },
    {
        "content": "<p>PractitionerRole.code is a CodeableConcept so you can put \"Doctor of medicine\" as PractitionerRole.code.text.</p>",
        "id": 153912890,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1507321600
    },
    {
        "content": "<blockquote>\n<p>PractitionerRole.code is a CodeableConcept so you can put \"Doctor of medicine\" as PractitionerRole.code.text.</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"191506\">@Yunwei Wang</span> , I realize that only CodeableConcepts have a text property and the elements in a ValueSet are of type Coding.</p>",
        "id": 153913295,
        "sender_full_name": "Joel Francis",
        "timestamp": 1507640370
    },
    {
        "content": "<p>The Specific FHIR Guidance on this is documented here: <a href=\"http://build.fhir.org/valueset.html#compositions\" target=\"_blank\" title=\"http://build.fhir.org/valueset.html#compositions\">http://build.fhir.org/valueset.html#compositions</a></p>",
        "id": 153913342,
        "sender_full_name": "Eric Haas",
        "timestamp": 1507650630
    },
    {
        "content": "<p>Elements in a ValueSet are of type Coding, however data elements that are <em>bound</em> to ValueSets typically have a type of CodeableConcept - and that's where you'd want the text - where the code is used, not where the allowed sets of codes are defined.</p>",
        "id": 153913361,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1507661239
    },
    {
        "content": "<p>Hi all,<br>\nThere is something I don't quite understand about the implementation of code systems and value sets.<br>\nLet's say I have a list of 1,000,000 streets and another list of 50,000 cities.<br>\nIs the correct implementation here to create a code system to contain all street names and another to contain all city names? <br>\nIf there are multiple streets with the same name in different cities, should these streets be \"minimized\" into a single concept in the streets code system? <br>\nWould the correct way to create a relationship from this street to the multiple cities be by using  the concept's \"property\" element?<br>\nWhen a user chooses a city I need to present to him in the drop down only the streets of that specific city. Does this mean that in my database I have to create a value set per city linking to it's streets? </p>\n<p>Thanks!</p>",
        "id": 187440975,
        "sender_full_name": "shachar zilbershlag",
        "timestamp": 1580898201
    },
    {
        "content": "<p>generally, code systems are systems of <em>concepts</em> not of instances of concepts. So it's not really intended to have a code system of 10000000+ street names - the concept in any case wouldn't (usually) be the <em>name</em> of the street, but the street. But in that case, there is only one instance of any particular street, and so we don't really think of that as a code system.</p>\n<p>early ISO work called this kind of item an 'appellation' - a concept of which there can only be one instantiation. Countries are a common code system that is an appellation. It's not uncommon to see  code systems for cities too. If you want to make a code system for streets, then you need some of namespacing to make the working code for a street unique. e.g. city/street name. But in some cities I've been to, that's not unique because of working pecularities of streets due to history etc. </p>\n<p>You'll note that (a) we don't think of addresses as codeable items and (b) we haven't tried to model address in any formal way - we expect that you'll use one of the many postal or geolocation standards for something like that</p>",
        "id": 187451502,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580908234
    },
    {
        "content": "<p>So if I have a list containing instances that are not of a resource for which FHIR has set a standard,  am I correct in understanding that there is no FHIR standard regarding requests and responses of the items in this list?</p>",
        "id": 187534320,
        "sender_full_name": "shachar zilbershlag",
        "timestamp": 1580983103
    },
    {
        "content": "<p>Standardizing postal database lookup and enforcement isn't something that falls within the scope of FHIR.  That doesn't mean you couldn't use (or perhaps abuse) FHIR resources to come up with a workable solution, it just means that FHIR is unlikely to provide much guidance in that space.</p>",
        "id": 187534510,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580983302
    },
    {
        "content": "<p>We've done the Australian towns as a lookup list for use in questionnaires.</p>",
        "id": 187688833,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1581116891
    }
]