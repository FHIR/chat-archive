[
    {
        "content": "<p>Hi,<br>\nI am working with the Encounter resource, specifically in the indication property. I am trying to reference conditions and procedures, however I do not have a literal reference to the resource. I am trying to figure out how to do a logical reference for this resource. I have the SNOMED name and SNOMED code for this resource, however it appears as if SNOMED is not on on list of known identifier systems (<a href=\"https://www.hl7.org/fhir/identifier-registry.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/identifier-registry.html\">https://www.hl7.org/fhir/identifier-registry.html</a>). From looking at the various types of identifier systems, these identifiers are meant for person identifiers (like drivers licenses, healthcare numbers, etc.).  Am I trying to reference this resource incorrectly, or..?<br>\nThank you,<br>\n-Josh</p>",
        "id": 154020269,
        "sender_full_name": "Josh Haskins",
        "timestamp": 1542823538
    },
    {
        "content": "<p>SNOMED is a code, not an identifier.   If you don't have a Condition instance to point to, you can instead create a \"contained\" Condition resource that just includes the code and the patient.  The Encounter.indication reference would then point to the contained Condition resource which you'd assign an internal id to.</p>",
        "id": 154020274,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542823849
    },
    {
        "content": "<p>You could also submit a change request suggesting that the Reference to Condition or Procedure should also allow a CodeableConcept.  (Observation would probably be appropriate to add to the list of resources too.)</p>",
        "id": 154020275,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542823934
    },
    {
        "content": "<p>Thanks Lloyd. Another question, could I use an custom extension of type valueCoding to achieve this?</p>\n<p>\"indication\": [<br>\n    {<br>\n      \"extension\":[{<br>\n        \"url\":\"<a href=\"http://www.example.com/test1\" target=\"_blank\" title=\"http://www.example.com/test1\">www.example.com/test1</a>\",<br>\n        \"valueCoding\":{<br>\n            \"system\":\"<a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">http://snomed.info/sct</a>\",<br>\n            \"value\":12345,<br>\n            \"display\": \"Severe burn of left ear\"}<br>\n      }]<br>\n    }]</p>",
        "id": 154020280,
        "sender_full_name": "Josh Haskins",
        "timestamp": 1542824544
    },
    {
        "content": "<p>What you add here is a diagnosis code. It is NOT a Condition.<br>\nAnd i don't see \"indication\" in Encounter resource</p>",
        "id": 154020282,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1542825371
    },
    {
        "content": "<p>Yes, it's not called indication, it's called diagnosis.</p>\n<p>You certainly <em>could</em> use an extension, but given that there's a \"standard\" way to convey the codes you have only using core, that's probably an approach that will provide greater interoperability.  Searching based on the condition code will work with the contained Condition, but it won't work with the extension unless you also use a custom search criteria</p>",
        "id": 154020287,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542826251
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196892\">@Josh H.</span>  I put a JSON sample code:</p>\n<div class=\"codehilite\"><pre><span></span>{\n    &quot;resourceType&quot;: &quot;Encounter&quot;,\n    &quot;contained&quot;: [\n        {\n            &quot;resourceType&quot;: &quot;Condition&quot;,\n            &quot;id&quot;: &quot;c1&quot;,\n            &quot;code&quot;: {\n                &quot;coding&quot;: [\n                    {\n                        &quot;system&quot;: &quot;http://snomed.info/sct&quot;,\n                        &quot;code&quot;: &quot;39065001&quot;,\n                        &quot;display&quot;: &quot;Burn of ear&quot;\n                    }\n                ]\n            },\n            ...\n        }\n    ],\n    &quot;diagnosis&quot;: [\n        {\n            &quot;condition&quot;: {\n                &quot;reference&quot;: &quot;#c1&quot;\n            }\n        }\n    ],\n    ...\n}\n</pre></div>",
        "id": 154020291,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1542826760
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191506\">@Yunwei Wang</span> and <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> . My error on mixing up indication and diagnosis, I must have been looking at a different resource. I think I will go with the contained resource method.</p>",
        "id": 154020294,
        "sender_full_name": "Josh Haskins",
        "timestamp": 1542826889
    },
    {
        "content": "<p>This has been restructured in R4, and there is now a mechanism to do the codableconcept in there too through the reasonCode property.</p>",
        "id": 154022457,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1543835398
    },
    {
        "content": "<p>Good catch. Forgot about that one.</p>",
        "id": 154022511,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1543849619
    }
]