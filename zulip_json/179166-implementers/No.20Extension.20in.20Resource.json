[
    {
        "content": "<p>I never really thought about this before but I noted in the FHIR specification that the Resource  has no Extension, yet we use Extensions to resources all the time, not just extensions of resource elements (which we do have). Can anyone tell me why the Resource  has no Extension element?  I am assuming that if it were in the definition it would be 0..* but I am not 100% sure.</p>",
        "id": 268519785,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1642588668
    },
    {
        "content": "<p>Not sure if I understood your query. But, we do have extension in DomainResource<br>\n<a href=\"/user_uploads/10155/xJbAne4cXDJyQETtNrV1k6jI/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/xJbAne4cXDJyQETtNrV1k6jI/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/xJbAne4cXDJyQETtNrV1k6jI/image.png\"></a></div>",
        "id": 268520938,
        "sender_full_name": "Ankita Srivastava",
        "timestamp": 1642589249
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192311\">@Ankita Srivastava</span><br>\nOkay, so its not at the base but higher up in the hierarchy. So that means it should not be after the resource but if the resource is a DomainResource (and I think they all are) the extension occurs after the logical id and meta data, etc. Not exactly what I expected and not exactly what I have seen. How strict is the order of the elements in an instance? My understanding is that the elements should follow the structure definition exactly (except in JSON because some libraries can't do that).</p>\n<p>I want to know where I should place the extension element to a Resource (not an Element) in my Resource.</p>\n<p>To add to that, when an Extension contains and extension, where is that extension located? Is it before or after the url element? In the Extension structure definition I see the extension as part of the Element which is before the url element.</p>\n<p>As an add, personally I like the extension (in JSON) in the location of the Value[x] . I am writing my own library so I can make the JSON follow any order I want. I would like it to follow the rules.</p>\n<p>To make it clearer for the Extension in extension ordering here are the two options</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/upper&quot;,\n  &quot;extension&quot;: [\n    {\n      &quot;url&quot;: &quot;http://hl7.org/fhir/something/StructureDefinition/real-time-collection&quot;,\n      &quot;extension&quot;: [\n        {\n          &quot;url&quot;: &quot;code&quot;,\n          &quot;valueCoding&quot;: {\n            &quot;system&quot;: &quot;urn:iso:std:iso:11073:10101&quot;,\n            &quot;code&quot;: &quot;150021&quot;,\n            &quot;display&quot;: &quot;MDC_PRESS_BLD_NONINV_SYS&quot;\n          }\n        },\n        {\n          &quot;url&quot;: &quot;name&quot;,\n          &quot;valueString&quot;: &quot;Observation.component.where(code.coding.where(code=&#39;150021&#39;)).value&quot;\n        }\n      ]\n    },\n    {\n      &quot;url&quot;: &quot;http://hl7.org/fhir/something/StructureDefinition/real-time-collection&quot;,\n      &quot;extension&quot;: [\n        {\n          &quot;url&quot;: &quot;code&quot;,\n          &quot;valueCoding&quot;: {\n            &quot;system&quot;: &quot;urn:iso:std:iso:11073:10101&quot;,\n            &quot;code&quot;: &quot;150022&quot;,\n            &quot;display&quot;: &quot;MDC_PRESS_BLD_NONINV_DIA&quot;\n          }\n        },\n        {\n          &quot;url&quot;: &quot;name&quot;,\n          &quot;valueString&quot;: &quot;Observation.component.where(code.coding.where(code=&#39;150022&#39;)).value&quot;\n        }\n      ]\n    }\n  ]\n}\n\n\n{\n  &quot;extension&quot;: [\n    {\n      &quot;extension&quot;: [\n        {\n          &quot;url&quot;: &quot;code&quot;,\n          &quot;valueCoding&quot;: {\n            &quot;system&quot;: &quot;urn:iso:std:iso:11073:10101&quot;,\n            &quot;code&quot;: &quot;150021&quot;,\n            &quot;display&quot;: &quot;MDC_PRESS_BLD_NONINV_SYS&quot;\n          }\n        },\n        {\n          &quot;url&quot;: &quot;name&quot;,\n          &quot;valueString&quot;: &quot;Observation.component.where(code.coding.where(code=&#39;150021&#39;)).value&quot;\n        }\n      ],\n      &quot;url&quot;: &quot;http://hl7.org/fhir/something/StructureDefinition/real-time-collection&quot;\n    },\n    {\n      &quot;extension&quot;: [\n        {\n          &quot;url&quot;: &quot;code&quot;,\n          &quot;valueCoding&quot;: {\n            &quot;system&quot;: &quot;urn:iso:std:iso:11073:10101&quot;,\n            &quot;code&quot;: &quot;150022&quot;,\n            &quot;display&quot;: &quot;MDC_PRESS_BLD_NONINV_DIA&quot;\n          }\n        },\n        {\n          &quot;url&quot;: &quot;name&quot;,\n          &quot;valueString&quot;: &quot;Observation.component.where(code.coding.where(code=&#39;150022&#39;)).value&quot;\n        }\n      ],\n      &quot;url&quot;: &quot;http://hl7.org/fhir/something/StructureDefinition/real-time-collection&quot;\n    }\n  ],\n  &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/upper&quot;\n}\n</code></pre></div>",
        "id": 268526357,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1642592239
    },
    {
        "content": "<p>The official ordering is fixed by the specification.  However, in JSON elements can be in any order.  So either choice is fine in JSON, though not in XML (edit: XML has fixed ordering).</p>\n<p>If you want the official ordering, you can look at the <code>StructureDefinition</code> for Extension (e.g., in one of the downloaded packages, you can find a file such as <code>StructureDefinition-Extension.json</code>).  From there, you can see the <code>snapshot</code>, which includes all the elements in order:</p>\n<ul>\n<li>Extension (root element definition)</li>\n<li><a href=\"http://Element.id\">Element.id</a></li>\n<li>Element.extension</li>\n<li>Extension.url</li>\n<li>Extension.value[x]</li>\n</ul>",
        "id": 268562252,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1642608610
    },
    {
        "content": "<p>It's not available on Resource because there are a limited set of resources that don't allow extension at the root.  Specifically: Binary, Bundle and Parameters.</p>",
        "id": 268633539,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1642646658
    }
]