[
    {
        "content": "<p>The US Core example JSON for pediatric BMI shows unit of \"%\" at:</p>\n<p><a href=\"https://www.hl7.org/fhir/us/core/Observation-pediatric-bmi-example.json.html\">https://www.hl7.org/fhir/us/core/Observation-pediatric-bmi-example.json.html</a></p>\n<p>However, <a href=\"http://hl7.org/fhir/R4/valueset-ucum-units.html\">http://hl7.org/fhir/R4/valueset-ucum-units.html</a> indicates that code % should use Display \"percent\".  Is that a hard rule or is unit more freeform while code is not?</p>",
        "id": 242388757,
        "sender_full_name": "Mark Jones",
        "timestamp": 1623437842
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 242396851,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1623442137
    },
    {
        "content": "<p>unit is freeform - what the user saw</p>",
        "id": 242420188,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1623461760
    },
    {
        "content": "<p>specifically the <a href=\"http://hl7.org/fhir/R4/datatypes.html#quantity\">Quantity data type</a> is not like CodeableConcept - there is no <a href=\"http://hl7.org/fhir/R4/datatypes-definitions.html#Coding.display\">display</a> element</p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"nt\">resourceType</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Observation</span>\n<span class=\"nt\">id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">pediatric-bmi-example</span>\n<span class=\"c1\"># snip</span>\n<span class=\"nt\">effectiveDateTime</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">2019-05-04T12:12:29-07:00</span>\n<span class=\"nt\">valueQuantity</span><span class=\"p\">:</span>\n  <span class=\"nt\">value</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">65</span>\n  <span class=\"nt\">unit</span><span class=\"p\">:</span> <span class=\"s\">\"%\"</span>   <span class=\"c1\">#&lt;&lt;&lt;&lt;&lt; this is a display unit and decided by the data source it could be \"percentile\"</span>\n  <span class=\"nt\">system</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">http://unitsofmeasure.org</span>\n  <span class=\"nt\">code</span><span class=\"p\">:</span> <span class=\"s\">\"%\"</span>   <span class=\"c1\">#&lt;&lt;&lt;&lt;&lt; this is a UCUM code</span>\n<span class=\"nt\">note</span><span class=\"p\">:</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">text</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">CDC Males, 2-20 years Chart</span>\n</code></pre></div>",
        "id": 242421761,
        "sender_full_name": "Eric Haas",
        "timestamp": 1623464561
    },
    {
        "content": "<p>Does anyone know the answer?  Just checking.  :)</p>",
        "id": 242595909,
        "sender_full_name": "Mark Jones",
        "timestamp": 1623677098
    },
    {
        "content": "<p>It sounds like Quantity.unit corresponds more closely to CodeableConcept.text, than to Coding.display, and therefore there is no expectation that it will contain the unit display value from UCUM.</p>",
        "id": 242602660,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1623679956
    },
    {
        "content": "<p>Also, could the unit be a (human language) translation of the coded value of the UofM?</p>",
        "id": 242611083,
        "sender_full_name": "John Silva",
        "timestamp": 1623683124
    },
    {
        "content": "<p>yes see the example above...</p>",
        "id": 242616420,
        "sender_full_name": "Eric Haas",
        "timestamp": 1623685110
    },
    {
        "content": "<p>[I meant, e.g. Spanish, French, etc. not just the way people normally think of the coded UofM.]</p>",
        "id": 242619665,
        "sender_full_name": "John Silva",
        "timestamp": 1623686337
    },
    {
        "content": "<p>it could be. It should be in the language of the resource</p>",
        "id": 242626970,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1623689379
    },
    {
        "content": "<p>Yes, forget about the meta.language property.   Brings up an interesting question; if a system (FHIR server) was to provide different translations of the same resource (Obs with valueQuantity or any other) how would that be done?   It seems like there shouldn't be separate resource instances because of the risk of the instances not being kept 'in sync'.    If someone provides a product based on a FHIR server (store) that was meant to serve users in different languages, how would that be accomplished?   (Maybe this would be done by some backend middleware rather than the FHIR server itself.).   [Just a 'theoretical question' for thought.]</p>",
        "id": 242628839,
        "sender_full_name": "John Silva",
        "timestamp": 1623690189
    },
    {
        "content": "<p>users can ask for a resource in a language of their choice, though few systems can accomplish this with anything but pre-translated documentation</p>",
        "id": 242630760,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1623691044
    },
    {
        "content": "<p>Also, sorry to ping again when apparently folks had replied!  For whatever reason they didn't show up this morning.</p>",
        "id": 242636567,
        "sender_full_name": "Mark Jones",
        "timestamp": 1623693577
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  - I was only thinking of things that could be pre-translated, e.g. units, code.text strings, etc. not clinical notes entered by a practitioner.   In the 'bad old days' ;-) of using relational DBs and \"thick client GUIs\" these would be in DB tables and (language) resource files.</p>",
        "id": 242637343,
        "sender_full_name": "John Silva",
        "timestamp": 1623693935
    },
    {
        "content": "<p>sure, those can be. Marginal value, but yes, possible</p>",
        "id": 242637403,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1623693961
    },
    {
        "content": "<p>My take of the primary issue here is that Observation.valueQuantity uses Quantity data type and Quantity.unit is a string therefore it should contain whatever the creator of the value exchanged decided to put into it. If someone translates that they would be doing it based on translating a string value, not a coded item. I'd doubt that happens very oftenm and would never expect it in a received resource. It also means that any error checking would need to be based on checking string values.</p>",
        "id": 242903055,
        "sender_full_name": "Robert McClure",
        "timestamp": 1623859677
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191401\">Eric Haas</span> <a href=\"#narrow/stream/179166-implementers/topic/units.20on.20vitals/near/242421761\">said</a>:</p>\n<blockquote>\n<p>specifically the <a href=\"http://hl7.org/fhir/R4/datatypes.html#quantity\">Quantity data type</a> is not like CodeableConcept - there is no <a href=\"http://hl7.org/fhir/R4/datatypes-definitions.html#Coding.display\">display</a> element</p>\n</blockquote>\n<p>When I first started looking at UoM in FHIR it seemed to me, and still does, that the Unit of Measure associated with a Quantity should itself be a <code>CodeableConcept</code>. Doing so would I think allow for-</p>\n<p>1) A unit code plus a distinct human-readable unit display representation for each UoM<br>\n2) The option of having multiple codes and/or representations for each unit. Each of these would be assumed to be mathematically equal. Whether they are assumed to be actual synonyms is probably something that would cause much debate.</p>",
        "id": 245666704,
        "sender_full_name": "Colin E.",
        "timestamp": 1626084296
    },
    {
        "content": "<p>The decision was that translations were quite uncommon in existing systems and so support for that was moved to extension.  Also, with quantity sometimes the translations include an alternative value, so that also drove the approach.  We do have ability to capture the human-readable display - that's what goes in Quantity.unit.</p>",
        "id": 245700334,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1626102736
    }
]