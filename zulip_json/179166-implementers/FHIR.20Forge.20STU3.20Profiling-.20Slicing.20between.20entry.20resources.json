[
    {
        "content": "<p>Hello all,</p>\n<p>Does anyone ca help with slicing between entry resources?</p>\n<p>I've create on message bundle structure definition profile which have 4 entries. I've created slices but i don't know wath to put on discriminator of element sliced.  i already try to put 'Profile'  on Type field and 'resolve()' but returns incompatibility error for engine 'resolve()'.</p>\n<p>Thanks on advance.</p>",
        "id": 161045877,
        "sender_full_name": "Filipe Castro",
        "timestamp": 1552905258
    },
    {
        "content": "<p>Slicing by profile is tricky and isn't widely supported.  Can you slice by entry.code instead?  That's more typical.</p>",
        "id": 161065368,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1552921692
    },
    {
        "content": "<p>Thanks for your help.</p>\n<p>Humm, I'm not using 'code' in entries.</p>\n<p>This is my profile:<br>\n<a href=\"user_uploads/10155/Q_MEoAHU-x9gSFokDDovlIjj/MessageBundle.StructureDefinition.xml\" target=\"_blank\" title=\"user_uploads/10155/Q_MEoAHU-x9gSFokDDovlIjj/MessageBundle.StructureDefinition.xml\">MessageBundle.StructureDefinition.xml</a></p>\n<p>This is my message to validate:<br>\n<a href=\"user_uploads/10155/G0Mn82q1gf7moYEM6Ghy5Ygo/FHIR_MESSAGE_IN\" target=\"_blank\" title=\"user_uploads/10155/G0Mn82q1gf7moYEM6Ghy5Ygo/FHIR_MESSAGE_IN\">FHIR_MESSAGE_IN</a></p>\n<p>This is my validation result: <br>\n<a href=\"user_uploads/10155/38zDwFczPve4VNrF1tLzivGp/MESSAGE_VALIDATION_RESULT\" target=\"_blank\" title=\"user_uploads/10155/38zDwFczPve4VNrF1tLzivGp/MESSAGE_VALIDATION_RESULT\">MESSAGE_VALIDATION_RESULT</a></p>\n<p>As you can see, the MessageHeader resource replicates his validation for all entries, maybe because is the only resource on my Bundle profile.</p>",
        "id": 161069344,
        "sender_full_name": "Filipe Castro",
        "timestamp": 1552924107
    },
    {
        "content": "<p>Well, you could define a profile for MessageHeader to have a 1..1 focus (Parameters, you could create a separate profile for Parameters and reference that instead of the core Parameters resource), a 1..1 sender and a 1..1 receiver. Only messages that have (at least) 4 resources will validate that profile. No need for slicing that way.</p>",
        "id": 161072203,
        "sender_full_name": "René Spronk",
        "timestamp": 1552925942
    },
    {
        "content": "<p>René thanks for your help. I already  have this configuration on MessageHeader profile. The problem probably is because I have MessageHeader profile enforced on MessageBundle profile.</p>",
        "id": 161073057,
        "sender_full_name": "Filipe Castro",
        "timestamp": 1552926541
    },
    {
        "content": "<p>not sure why that means you need to slice by profile.</p>",
        "id": 161088631,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1552937465
    },
    {
        "content": "<p>Sorry, I meant Composition.section.code.  If you've got multiple entries in a single section, you could slice entry by resolve().code or even just slice by type on resolve().</p>",
        "id": 161091004,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1552939224
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  you mean change  Bundle Resource for Composition ?</p>",
        "id": 161137449,
        "sender_full_name": "Filipe Castro",
        "timestamp": 1552991155
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> thanks for you help. I only want to create one profile, thant enforce all the structure definitions of resources , to validate the fhir message in attatchment('FHIR_MESSAGE_IN'). At  moment, I've tried slicing with discriminator configured on many ways, but always return that is an invalid discriminator, or unable to resolve discriminator.</p>",
        "id": 161138280,
        "sender_full_name": "Filipe Castro",
        "timestamp": 1552991821
    },
    {
        "content": "<p>I was referring to slicing the Composition.section.entry, not the Bundle</p>",
        "id": 161159654,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1553008621
    }
]