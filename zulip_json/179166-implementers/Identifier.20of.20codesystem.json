[
    {
        "content": "<p>If in CDA I have &lt;code code=\"K359\" codeSystem=\"2.16.578.1.12.4.1.1.9080\" ...&gt; where 2.16.578.1.12.4.1.1 seems to be the identifier of the bigger system and 7110 the OID of the codesystem in question, would it be correct for my valueset identifier then to be this:</p>\n<div class=\"codehilite\"><pre>  &quot;identifier&quot;: {\n    &quot;value&quot;: &quot;oid:2.16.578.1.12.4.1.1.9080&quot;,\n    &quot;system&quot;: &quot;urn:oid:2.16.578.1.12.4.1.1&quot;\n  }\n</pre></div>",
        "id": 153868545,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1484906032
    },
    {
        "content": "<p>I'm not sure about the system part</p>",
        "id": 153868547,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1484906083
    },
    {
        "content": "<p>I came across <a href=\"http://hl7.org/fhir/extension-valueset-oid.html\" target=\"_blank\" title=\"http://hl7.org/fhir/extension-valueset-oid.html\">http://hl7.org/fhir/extension-valueset-oid.html</a> but that seems to be limited to defining the codesystem right inside the valueset</p>",
        "id": 153868550,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1484907210
    },
    {
        "content": "<p>I'm not sure what you're trying to do here?</p>",
        "id": 153868552,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484907386
    },
    {
        "content": "<p>I'm making a ValueSet and I'm trying to fill in the Valueset.identifier element</p>",
        "id": 153868555,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1484909844
    },
    {
        "content": "<p>so I don't follow the jumps here, from one identifier to another, and from code system to value set</p>",
        "id": 153868559,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484915613
    },
    {
        "content": "<p>Ah I see, sorry. It shouldn't be 7110 but 9080 everywhere for the sake of the example</p>",
        "id": 153868560,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1484916017
    },
    {
        "content": "<p>I've edited the example. So in CDA the codesystem OID is 2.16.578.1.12.4.1.1.9080 and in FHIR I need to create a ValueSet that represents this CodeSystem, and I'm not clear on how to populate my Valueset.identifier</p>",
        "id": 153868561,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1484916153
    },
    {
        "content": "<p>The codesystem is available online as <a href=\"https://volven.no/produkt.asp?id=284773&amp;catID=3&amp;subID=8\" target=\"_blank\" title=\"https://volven.no/produkt.asp?id=284773&amp;catID=3&amp;subID=8\">https://volven.no/produkt.asp?id=284773&amp;catID=3&amp;subID=8</a>, that website hosts a lot of norwegian codesystems all of them having the 4-digit unique OID ending identifier. So if 2.16.578.1.12.4.1.1.9080 becomes my identifier.value... would it be correct to say that the identifier.system is 2.16.578.1.12.4.1.1 then?</p>",
        "id": 153868562,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1484916274
    },
    {
        "content": "<p>Your system must be a uri.  You *can* say system=\"urn:oid:2.16.578.1.12.4.1.1\" but retaining OIDs in FHIR isn't encouraged because OIDs are hard for implementers to work with, can't resolve and are more easily subject to errors.  For many code systems we've defined meaningful URLs with the expectation that systems converting between v3 and FHIR will translate.  That's an incremental cost for those doing the conversion, but the increased ease-of-use should decrease net implementation costs for the FHIR community.</p>",
        "id": 153868576,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484918845
    },
    {
        "content": "<p>Yep, I agree on using meaningful URLs, though it's not up to me to decide this on this project. From what I heard that discussion happened before and it was a no-go.</p>",
        "id": 153868581,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1484920746
    },
    {
        "content": "<p>In general, does my attempt to map it look OK? I couldn't find similar examples</p>",
        "id": 153868582,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1484920781
    },
    {
        "content": "<p>The OIDs for code systems and value sets are completely independent</p>",
        "id": 153868588,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484923563
    },
    {
        "content": "<p>I just looked at the links included here. Honestly I'm not completely sure what the site is doing and to give the best answer we need to get someone from the Norwegian project involved. For example, it seems they are replicating WHO codes in the one spot referenced (basis of drug dosage calcualtion). Yet, if I was to guess, I would say that the OID you found is the OID for something that the Norwegians consider equivalent to both a code system and a value set. This is very similar to what used to be done for the HL7 v2 tables. What is not clear is if there is a larger set these codes are drwan from - in this case we have the question: is there a bigger coherent WHO code system that should get the code system identifier, and this .9080 OID is really for the value set? Is this consistently done across the space? So determining what the OIDs listed mean is unclear.  <span class=\"user-mention\" data-user-id=\"191363\">@Vadim Peretokin</span> you need to get someone that understands the approach taken to give us advice. You can have them talk to me if you want.</p>",
        "id": 153868626,
        "sender_full_name": "Robert McClure",
        "timestamp": 1484927376
    },
    {
        "content": "<p>Yeah, 9080 is the unique identifier for that valueset/codesystem on that website - and it is done consistently across the space. Hence my deduction of the identifier.system value above</p>",
        "id": 153868722,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1485001564
    },
    {
        "content": "<p>There likely is more than one solution to your situation (same identifier for both code system and value set.) In part, what you choose could be informed by answering my question - Does the code system they used have it's own identifer someplace you can use instead, then you would use the .9080 as a value set ID. Poroblem is, what ever you choose, you want it to apply it in the same way across the set of \"tables.\" What ever approach you choose, Lloyd is corect, code system ids and value set ids are identifying different things, so you need each and they can't be the same id. URI's cold help you our of this mess, but they also need to be different.</p>",
        "id": 153869022,
        "sender_full_name": "Robert McClure",
        "timestamp": 1485299781
    },
    {
        "content": "<p>I ended up keeping my solution as-is because I found some documentation confirming my initial guess: <a href=\"https://volven.no/Om%20kodeverks-id%20og%20OID.pdf\" target=\"_blank\" title=\"https://volven.no/Om%20kodeverks-id%20og%20OID.pdf\">https://volven.no/Om%20kodeverks-id%20og%20OID.pdf</a></p>",
        "id": 153869066,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1485341040
    },
    {
        "content": "<p>Yes, I looked at that document and it is not clear. \"Codes\" which I take to confirm these are lists of codes without acknowledging that a code system ID is different than a value set ID. If I was to have to choose, then the OIDs you have are value set IDs and you need another ID for the code system. In the case we've been looking at, that would be an ID for the proper WHO code system.</p>",
        "id": 153869167,
        "sender_full_name": "Robert McClure",
        "timestamp": 1485377887
    },
    {
        "content": "<p>You raise a good point - appreciated. I will have a think on this</p>",
        "id": 153869223,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1485433684
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191363\">@Vadim Peretokin</span> I didn't think you had the actual system and value identifiers correct, in addition to what Rob asked you about. Can you paste an example here for comment?</p>",
        "id": 153870131,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1486349828
    },
    {
        "content": "<p>That's just one example where they refer to WHO codes. Other lists they've got on there refer to other organisations as the responsible parties. </p>\n<p>Here are examples I've created:<br>\nOID 9080: <a href=\"https://volven.no/produkt.asp?id=285776&amp;catID=3&amp;subID=8\" target=\"_blank\" title=\"https://volven.no/produkt.asp?id=285776&amp;catID=3&amp;subID=8\">https://volven.no/produkt.asp?id=285776&amp;catID=3&amp;subID=8</a>, <a href=\"https://simplifier.net/HelseVestdosagemappi/utgangspunkt-for-beregning-av-dosering/xmlview\" target=\"_blank\" title=\"https://simplifier.net/HelseVestdosagemappi/utgangspunkt-for-beregning-av-dosering/xmlview\">https://simplifier.net/HelseVestdosagemappi/utgangspunkt-for-beregning-av-dosering/xmlview</a><br>\nOID 9088: <a href=\"https://volven.no/produkt.asp?id=286002&amp;catID=3&amp;subID=8\" target=\"_blank\" title=\"https://volven.no/produkt.asp?id=286002&amp;catID=3&amp;subID=8\">https://volven.no/produkt.asp?id=286002&amp;catID=3&amp;subID=8</a>, <a href=\"https://simplifier.net/HelseVestdosagemappi/benevning-tidsenhet\" target=\"_blank\" title=\"https://simplifier.net/HelseVestdosagemappi/benevning-tidsenhet\">https://simplifier.net/HelseVestdosagemappi/benevning-tidsenhet</a> (this one was pretty obvious and I was able to re-use a FHIR valueset for this)<br>\nOID 7480: <a href=\"https://volven.no/produkt.asp?id=286219&amp;catID=3&amp;subID=8\" target=\"_blank\" title=\"https://volven.no/produkt.asp?id=286219&amp;catID=3&amp;subID=8\">https://volven.no/produkt.asp?id=286219&amp;catID=3&amp;subID=8</a>, <a href=\"https://simplifier.net/HelseVestdosagemappi/enhet-for-dosering\" target=\"_blank\" title=\"https://simplifier.net/HelseVestdosagemappi/enhet-for-dosering\">https://simplifier.net/HelseVestdosagemappi/enhet-for-dosering</a></p>",
        "id": 153870230,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1486369406
    },
    {
        "content": "<p>links didn't help. But it would be </p>\n<div class=\"codehilite\"><pre>&lt;identifier&gt;\n  &lt;system value=&quot;urn:ietf:rfc:3986&quot;/&gt;\n  &lt;value value=&quot;urn:oid:[oid]&quot;/&gt;\n&lt;/identifier&gt;\n</pre></div>",
        "id": 153870239,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1486371602
    },
    {
        "content": "<p>Right my bad, I forgot the system is to describe the kind of the identifier it is. I did look at <a href=\"http://hl7.org/fhir/datatypes-definitions.html#Identifier.system\" target=\"_blank\" title=\"http://hl7.org/fhir/datatypes-definitions.html#Identifier.system\">http://hl7.org/fhir/datatypes-definitions.html#Identifier.system</a> before but the description isn't clear, adding some examples would be good. I'll put in a tracker for discussion</p>",
        "id": 153870251,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1486372719
    },
    {
        "content": "<p>It was mostly the fact that I came from the valueset resource to the identifier that was causing the confusion, as valueset works with a lot of systems already. Any other resource would've been more clear</p>",
        "id": 153870256,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1486373388
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12784\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12784\">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12784</a></p>",
        "id": 153870258,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1486373824
    }
]