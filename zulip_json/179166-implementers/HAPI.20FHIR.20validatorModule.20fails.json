[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> </p>\n<p>The following code from the example (based on <em>12.3.12 Recipe: Supplying Custom Definitions</em>):</p>\n<div class=\"codehilite\"><pre><span></span><code>FhirInstanceValidator validatorModule = new FhirInstanceValidator(cache);\n</code></pre></div>\n<p>causes:</p>\n<div class=\"codehilite\"><pre><span></span><code>java.lang.NoSuchMethodError: org.hl7.fhir.validation.instance.InstanceValidator.&lt;init&gt;\n\n(Lorg/hl7/fhir/r5/context/IWorkerContext;Lorg/hl7/fhir/r5/utils/FHIRPathEngine$IEvaluationContext;Lorg/hl7/fhir/r5/utils/XVerExtensionManager;) at\n\norg.hl7.fhir.common.hapi.validation.validator.ValidatorWrapper.validate(ValidatorWrapper.java:109)\n</code></pre></div>\n<p>The <em>hapi-fhir-validation-5.3.3.jar</em> is in the Java Build Path. Am I using a wrong version?</p>",
        "id": 238078563,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1620613111
    },
    {
        "content": "<p>You'll get better answers in the <a class=\"stream\" data-stream-id=\"179167\" href=\"/#narrow/stream/179167-hapi\">#hapi</a> stream</p>",
        "id": 238130917,
        "sender_full_name": "David Pyke",
        "timestamp": 1620649347
    },
    {
        "content": "<p>This sounds to me like you have version conflicts on your classpath. Check that you don't have any conflicting/duplicate versions of any JARs on your classpath, including all hapi-* and all org.hl7.* ones.</p>",
        "id": 238145112,
        "sender_full_name": "James Agnew",
        "timestamp": 1620654671
    },
    {
        "content": "<p>OK, deleting packages one by one, but why this line of code:</p>\n<div class=\"codehilite\"><pre><span></span><code>FhirInstanceValidator validatorModule = new FhirInstanceValidator(cache);\n</code></pre></div>\n<p>asks for R5, though all structures are about R4. </p>\n<p>Am I correct that HAPI FHIR actually converts to R5 before validating?<br>\nWith R5 related JARs added to the path it goes further, which is good, but not I'm stuck with:</p>\n<div class=\"codehilite\"><pre><span></span><code>java.lang.NoSuchMethodError: org.hl7.fhir.utilities.Utilities.isDecimal(Ljava/lang/String;Z)Z\n    at org.hl7.fhir.r5.utils.FHIRPathEngine.processConstant(FHIRPathEngine.java:1192)\n</code></pre></div>\n<p>even though the <em>org.hl7.fhir.r4-5.3.11.jar</em> and <em>org.hl7.fhir.r5-5.3.11.jar</em> are in the build path.</p>",
        "id": 238164426,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1620661510
    }
]