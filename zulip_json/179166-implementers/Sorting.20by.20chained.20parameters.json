[
    {
        "content": "<p>Hi, I'm wondering if Fhir supports sorting search results by chained parameters - this is not defined in specification.</p>\n<p>Example of such sorting would be to get all Encounters for particular Practitioner with included Patient resources sorted by <a href=\"http://Patient.name\" target=\"_blank\" title=\"http://Patient.name\">Patient.name</a>.</p>",
        "id": 153823762,
        "sender_full_name": "Krzysztof Kowalski",
        "timestamp": 1461924912
    },
    {
        "content": "<p>agree it is not defined. My server explicitly rejects attempts to do this, and I would find the joins difficult to pull off, I think. </p>",
        "id": 153823763,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1461925045
    },
    {
        "content": "<p>interested in comments from other server maintainers</p>",
        "id": 153823764,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1461925078
    },
    {
        "content": "<p>e.g. <span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> <span class=\"user-mention\" data-user-id=\"191770\">@Daniel Loewenstein</span> <span class=\"user-mention\" data-user-id=\"191355\">@Kevin Shekleton</span> <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> @<strong>nicola</strong> <span class=\"user-mention\" data-user-id=\"191370\">@Richard Ettema</span> - would you like to comment on this?</p>",
        "id": 153823765,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1461925290
    },
    {
        "content": "<p>We wouldn't be able to support that either. The big issue is that this sort would have to be applied in the database query so that paging is still done properly. There is no way we'd be able to do that generically for any resources.</p>",
        "id": 153823771,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1461926600
    },
    {
        "content": "<p>could you do it specifically for some queries? </p>",
        "id": 153823772,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1461926639
    },
    {
        "content": "<p>Probably not</p>",
        "id": 153823773,
        "sender_full_name": "Kevin Shekleton",
        "timestamp": 1461926671
    },
    {
        "content": "<p>thx. </p>",
        "id": 153823774,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1461926795
    },
    {
        "content": "<p>@<strong>Martijn</strong>  and <span class=\"user-mention\" data-user-id=\"191757\">@Christiaan Knaap</span> - you're more up-to-date on our search subsystem. Would we be able to do that?</p>",
        "id": 153823781,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1461931435
    },
    {
        "content": "<p>We don't currently implement that no.</p>",
        "id": 153823782,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1461931871
    },
    {
        "content": "<p>could you? </p>",
        "id": 153823783,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1461931883
    },
    {
        "content": "<p>My server doesn't support this either. Though, I might be able to this for a specific use case as you describe. Not sure if I'll have time to work on this until after Montreal.</p>",
        "id": 153823785,
        "sender_full_name": "Richard Ettema",
        "timestamp": 1461935054
    },
    {
        "content": "<p>We do create a snapshot of our search/filter results. If we added the sort key to that snapshot, we might.</p>",
        "id": 153823793,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1461939915
    },
    {
        "content": "<p>sqlonfhir woudn't handle this either, due to the paging (we don;t keep history in the search indexes)</p>",
        "id": 153823860,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1461973354
    },
    {
        "content": "<p>I'm a bit late to the party (soooo many things to keep tabs on) but I can't imaging many people would support this, or care to.</p>\n<p>If you want \"Patients and their encounters, sorted by patient\" there is a way to do this in FHIR. Search for patients, sorted by patient, and then <code>_revinclude</code> the encounters.</p>",
        "id": 153824397,
        "sender_full_name": "James Agnew",
        "timestamp": 1462313952
    },
    {
        "content": "<p>To add to @<strong>Martijn</strong> s answer about Spark: It would require us to traverse that chain for all the search results, with each hop being a separate query (since our MongoDb implementation does not support joins). So we might be able to implement it, but it would be a very expensive operation.</p>",
        "id": 153825840,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1462797626
    }
]