[
    {
        "content": "<p>I've been noodling on approaches to representing a \"roster\" of patients for a given practitioner or organization. I'm considering just defining <code>GET /Practitioner/:id/$roster</code> to handle this, because <code>Group</code> search and <code>List</code> search and <code>List/$find</code> don't seem to cover this use case. Some surprising things I noticed:</p>\n<ul>\n<li>\n<p><code>Group</code> doesn't have a clear way to say \"the common characteristic of this group is that all patients are associated with a specific practitioner or organization\"</p>\n</li>\n<li>\n<p><code>List</code> doesn't have a clear place to indicate a specific practitioner or organization that is the common link between the members</p>\n</li>\n</ul>",
        "id": 153974076,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530893606
    },
    {
        "content": "<p>Is this just the other perspective on Patient.generalPractitioner and/or .managingOrganization? Thus a query on Patient  ?general-practitioner or ?organization?</p>",
        "id": 153974077,
        "sender_full_name": "John Moehrke",
        "timestamp": 1530893970
    },
    {
        "content": "<p>Could the roster ever be the focus of an action?  If so, Group is probably a better fit.  We could extend the criteria to allow valueReference</p>",
        "id": 153974098,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530900929
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  Yes, the roster could be the focus of an action. (I mean, honestly what couldn't?). I'll add a tracker for <code>valueReference</code></p>\n<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> it's not as straightforward as <code>Patient.generalPractitioner</code> because it won't always be someone in a 1:1 relationship, or someone directly serialized within the Patient resource. This kind of \"has on roster\" relationship is more fluid/functional, less static.</p>",
        "id": 153974115,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530907703
    },
    {
        "content": "<p>why doesn</p>",
        "id": 153974117,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530907770
    },
    {
        "content": "<p>why doesn't list search work?</p>",
        "id": 153974118,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530907778
    },
    {
        "content": "<p>Re: List Search... How do you say <code>GET Listfor Practitioner 123}}</code>? The practitioner can't be the subject, and it doesn't semantically fit as the source.</p>",
        "id": 153974124,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530907940
    },
    {
        "content": "<p>it would work if you knew the list, yes? The problem is knowing the list? you certainly need tighter semantics than subject or source</p>",
        "id": 153974125,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530907998
    },
    {
        "content": "<p>If you knew the list (or Group) Id you wouldn't need search, just read.</p>",
        "id": 153974126,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908042
    },
    {
        "content": "<p>Exactly.</p>",
        "id": 153974127,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908047
    },
    {
        "content": "<p>so I don't find it surprising that list doesn't have this, it would be extension - that seems ok to me. I agree that Group would be good to characterise users by their relationships of various kinds.</p>",
        "id": 153974128,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908096
    },
    {
        "content": "<p>Yeah, I added <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17456\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17456\">GF#17456</a> for this.</p>",
        "id": 153974130,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908149
    },
    {
        "content": "<p>what reference would this be though?</p>",
        "id": 153974131,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908172
    },
    {
        "content": "<p>I think it would be a reference to the practitioner.</p>",
        "id": 153974132,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908182
    },
    {
        "content": "<p>I'm not following.</p>",
        "id": 153974133,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908199
    },
    {
        "content": "<p>With <code>Group.characteristic.code</code> meaning \"roster for\".</p>",
        "id": 153974134,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908202
    },
    {
        "content": "<p>Group would work: the practitioner lists all the patients on their roster.</p>",
        "id": 153974135,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908216
    },
    {
        "content": "<p>Sorry, here's an example. If we wanted to represent the patients like \"Dr Smith's Hypertension Panel\"...</p>",
        "id": 153974136,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908224
    },
    {
        "content": "<p>I don't know where else \"roster of patient\" is represented ; group would be the primary source. So I don't understand what reference gives you</p>",
        "id": 153974137,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908249
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>{\n  &quot;resourceType&quot;: &quot;Group&quot;,\n  &quot;characteristic&quot;: [{\n    &quot;code&quot;: {&quot;text&quot;: &quot;On Hypertension Roster For&quot;},\n    &quot;valueReference&quot;: {\n      &quot;display&quot;: &quot;Dr. Smith&quot;\n      &quot;reference&quot;: &quot;Practitioner/123&quot;\n    }\n  }],\n  &quot;member&quot;: [\n    // enumerated here\n  ]\n}\n</pre></div>",
        "id": 153974138,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908307
    },
    {
        "content": "<p>but no, the group is the roster, and you list patients in there. characteristic can't help you</p>",
        "id": 153974139,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908361
    },
    {
        "content": "<p>It helps me by enabling a search like</p>\n<div class=\"codehilite\"><pre><span></span>GET /Group?characteristic={}&amp;value=Practitioner/123\n</pre></div>",
        "id": 153974141,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908419
    },
    {
        "content": "<p>I think you're thinking about it wrong; characteristic is what makes things a member of the group, not a description of the characteristics of the group itself - and you're trying to express the latter</p>",
        "id": 153974142,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908469
    },
    {
        "content": "<p>I understand what you're saying; I'm not sure it's what the spec says or what should be true though. In particular, we agree that you can express<code>characteristic</code> and <code>member</code> in a single Group, right?</p>",
        "id": 153974143,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908664
    },
    {
        "content": "<p>When I provide a characteristic like the one above, why is this not \"what makes [patients] a member of the group\"? That's precisely how I'm using it, I believe.</p>",
        "id": 153974144,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908713
    },
    {
        "content": "<p>As in</p>\n<blockquote>\n<p>\"What makes patients a member of Group 456 is the fact that they are on Practitioner 123's roster\".</p>\n</blockquote>",
        "id": 153974145,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908741
    },
    {
        "content": "<p>ok so yes but I was getting at 'prospective'or 'descriptive'. I understand that you have either member or characteristic based on \"The Group resource is used in one of two ways:\" in scope.</p>",
        "id": 153974146,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908786
    },
    {
        "content": "<p>if you specify a characteristic, it is used to computationally determine the membership</p>",
        "id": 153974147,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908807
    },
    {
        "content": "<p>I think you are understanding it descriptively</p>",
        "id": 153974148,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908832
    },
    {
        "content": "<p>I'm thinking about a scenario where groups are read-only data. So it might as well be both; it's hard to say how you'd disentangle them.</p>",
        "id": 153974149,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908872
    },
    {
        "content": "<p>In any case, the solution I have right now is <code>GET /Practition/123/$roster</code>, which avoids some of the philosophical grey area :-)</p>",
        "id": 153974151,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908939
    },
    {
        "content": "<p>\"groups are read only\"?</p>",
        "id": 153974152,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908955
    },
    {
        "content": "<p>The use case I'm trying to address is \"A financial system wants to let clients ask 'who is on the roster for Practitioner 123?'\"</p>",
        "id": 153974153,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530908989
    },
    {
        "content": "<p>$roster like that is legal, but substitutes implicit knowledge in the place of explicit knowledge so it would be good to sort that out</p>",
        "id": 153974154,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530908999
    },
    {
        "content": "<p>right. so in that case, who actually provides the information that a patient is on the roster, and how?</p>",
        "id": 153974155,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530909020
    },
    {
        "content": "<p>Quite -- which is why we're having this conversation in parallel :-)</p>",
        "id": 153974156,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909023
    },
    {
        "content": "<p>The source financial system provides the information, based on its own internal know-how. Business logic, historical records, attribution algorithms, whatever.</p>",
        "id": 153974157,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909050
    },
    {
        "content": "<p>in the real world, who does?</p>",
        "id": 153974158,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530909051
    },
    {
        "content": "<p>Does that make sense?</p>",
        "id": 153974159,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909083
    },
    {
        "content": "<p>I think that in some cases it makes sense that the server would already know the answer, but in lots of other cases, some system other than the server knows the list, but wants the server to know the list too</p>",
        "id": 153974161,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530909127
    },
    {
        "content": "<p>btw <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> do you know the answer about specifying both characteristics  and members?</p>",
        "id": 153974162,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530909169
    },
    {
        "content": "<p>Sure -- most definitely. <a href=\"https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-rosters-and-groups\" target=\"_blank\" title=\"https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-rosters-and-groups\">https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-rosters-and-groups</a> includes that use case, too.</p>",
        "id": 153974163,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909182
    },
    {
        "content": "<p>Re: characteristics + members, there's no invariant prohibiting it, at least.</p>",
        "id": 153974164,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909205
    },
    {
        "content": "<p>no but no information about what it would mean</p>",
        "id": 153974165,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530909254
    },
    {
        "content": "<p>in other similar cases where you can list or provide rules, we've spent years arguing about the relationship between them</p>",
        "id": 153974166,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530909286
    },
    {
        "content": "<p>I assumed it'd mean: here are some people + here's what they have in common :-)</p>",
        "id": 153974167,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909288
    },
    {
        "content": "<p>I assumed it would mean, here's some people, and here's some more people</p>",
        "id": 153974168,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530909317
    },
    {
        "content": "<p>or here's some rules for the people, and here's what I think the correct list for the rules is right now.</p>",
        "id": 153974169,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530909341
    },
    {
        "content": "<p>Yeah, so specifying this stuff this abstractly is hard!</p>",
        "id": 153974170,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909342
    },
    {
        "content": "<p>Your last one also works for me in this use case :p</p>",
        "id": 153974171,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909366
    },
    {
        "content": "<p>The middle one though, \"people + more people\" not so much.</p>",
        "id": 153974172,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909378
    },
    {
        "content": "<p>no. so we definitely need to clarify this.. can you make another task?</p>",
        "id": 153974173,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530909397
    },
    {
        "content": "<p>Of course. Coming right up.</p>",
        "id": 153974174,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909405
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17457\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17457\">GF#17457</a></p>",
        "id": 153974178,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1530909630
    },
    {
        "content": "<p>You're allowed to specify both characteristics and members.  If you do, then the members are the set of individuals you found who met the characteristics.</p>",
        "id": 153974181,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530909948
    },
    {
        "content": "<p>which is not quite the same as 'this is the set of individuals and this is their common characteristics'</p>",
        "id": 153974184,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530910872
    },
    {
        "content": "<p>Agree.  Group characteristics are definitional, not incidental</p>",
        "id": 153974189,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530913875
    },
    {
        "content": "<p>there's use cases for both, though</p>",
        "id": 153974195,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530914543
    },
    {
        "content": "<p>I'm not really understanding the use-case for \"incidental\".  Josh's would be definitional - these are the people that are part of Practitioner X's roster.</p>",
        "id": 153974197,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530914665
    },
    {
        "content": "<p>if I remove the members, and then rebuild them, will I get the same list? If no, then it's not definitional</p>",
        "id": 153974199,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530916534
    },
    {
        "content": "<p>If I say \"all females age 15-60 in a 5 mile radius of x\" and build the list, then wipe it, then build it again, it's possible there might be a change, but it's still definitional.  Or if I define a list of criteria for a clinical study and I enroll a set of subjects, that doesn't mean the subjects are all of the people who met the criteria, it's those who happened to get enrolled.  But they can't be enrolled if they don't meet the criteria.  And the criteria weren't developed by looking at the characteristics of the members.</p>",
        "id": 153974201,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530916773
    },
    {
        "content": "<p>but if build a list of members, and then say - this list, it's the set of people who have y - then the relationship is reversed. And that's what Josh is trying to do</p>",
        "id": 153974202,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530916821
    },
    {
        "content": "<p>I thought he was defining the type of roster, then adding people to it?</p>",
        "id": 153974207,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530921832
    },
    {
        "content": "<p>I wasn't familiar with a situation where you'd compile a list of patients and then say \"oh, turns out all of these people have diabetes\".  Is that what's happening?</p>",
        "id": 153974208,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530921877
    },
    {
        "content": "<p>the group is defining the membership - it's saying 'this list members have this property because I say so' not 'you use this property to figure out who are members'</p>",
        "id": 153974213,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530926789
    },
    {
        "content": "<p>I thought you were defining the group as \"These are the patients of Dr. X\" - and then adding the patients.</p>",
        "id": 153974221,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530928092
    },
    {
        "content": "<p>Trying to follow this discussion to learn ...   I noticed that there is a property, actual ( <a href=\"https://www.hl7.org/fhir/group-definitions.html#Group.actual\" target=\"_blank\" title=\"https://www.hl7.org/fhir/group-definitions.html#Group.actual\">https://www.hl7.org/fhir/group-definitions.html#Group.actual</a> ) which seems to imply that a Group can be either 'real' (i.e. that has the list in members[] or definitional, to me this implies that the list is dynamically generated by a search based on the characteristic(s) ) , it doesn't seem to allow for a Group to be both  --- at least reading the spec page that what it seems to imply.    [If the spec isn't clear enough on this then maybe something, like some examples, could help clarify this distinction.]</p>",
        "id": 153974227,
        "sender_full_name": "John Silva",
        "timestamp": 1530964277
    },
    {
        "content": "<p>This is the first time I've ever thought of making a practitioners roster a group, that just seems totally not appropriate, unless we're really just trying to flesh out uses of group and fabricating a theoretical one with a roster.<br>\nDepending on the context of a roster, and the type of services being applied, these could be a few different things.</p>",
        "id": 153974599,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1531308881
    },
    {
        "content": "<p>Were you really referring to the list of patients that a practitoner might do on his rounds of a hostpital? Or the list that a general practitioner is expecting to appear in their office, or a community care practitioner that has to go out into the field?<br>\nMost of these are related to appointments and encounters, and nothing to do with list or group at all.</p>",
        "id": 153974600,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1531308978
    },
    {
        "content": "<p>(not to forget schedule and slot for the availability side of the practitioners roster)</p>",
        "id": 153974601,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1531309089
    },
    {
        "content": "<p>I think that we're assuming that all these groups are associated with some kind of workflow, but the workflow is maintained on some other system, and that the 'patient roster' is just a denormalization of that onto a different system</p>",
        "id": 153974605,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1531309519
    },
    {
        "content": "<p>The use case here is really: how can a healthcare payer communicate to a provider \"these are the patients we currently attribute to you as a provider organization\" (or \"to you as an individual provider\"). It's important for managing populations effectively.</p>\n<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> Can you say more about why <code>Group</code> is \"totally not appropriate\"? It seemed like the best fit; what would you recommend instead?</p>",
        "id": 153974926,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1531404445
    },
    {
        "content": "<p>Thanks, not really a roster (from a scheduling perspective), its the patient list. That now makes sense.<br>\nMHIN have done some stuff with this in their state based directory.</p>",
        "id": 153975036,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1531443905
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> , looking at that smart on fhir page<br>\n<a href=\"https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-rosters-and-groups\" target=\"_blank\" title=\"https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-rosters-and-groups\">https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-rosters-and-groups</a><br>\nThink that you should be more clear that this is not a roster from a scheduling perspective...</p>",
        "id": 153975371,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1531718489
    },
    {
        "content": "<p>Thanks Brian -- definitely. I think we can call this an \"attribution list\".</p>",
        "id": 153975422,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1531742654
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"191430\">@Paul Knapp</span> - How would you expect a payer to represent the provider organization that it was attributing a specific patient to, in FHIR? The current suggestion is that a Group of Patients have Group. characteristic as a reference to a Practitioner or Organization resource. </p>\n<p>Would it be reasonable for a Contract.topic to be a reference to a Group ?</p>",
        "id": 153975890,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1531866372
    }
]