[
    {
        "content": "<p>Hi,<br>\nI want to define an observation profile where the status codes are restricted. <br>\nI defined an own valueset containing only three codes from the codesystem (final,amended, corrected). This valueset I binded on the status element in the observation profile. This looks like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>    &lt;element id=&quot;Observation.status&quot;&gt;\n        &lt;path value=&quot;Observation.status&quot; /&gt;\n        &lt;mustSupport value=&quot;true&quot; /&gt;\n        &lt;binding&gt;\n            &lt;strength value=&quot;required&quot; /&gt;\n            &lt;description value=&quot;Status des Erregernachweis&quot; /&gt;\n            &lt;valueSet value=&quot;https://example.de/fhir/ValueSet/pathogenDetectionStatus&quot; /&gt;\n        &lt;/binding&gt;\n    &lt;/element&gt;\n</code></pre></div>\n\n<p>When I validate an example where status is set to an invalid code (  &lt;status value=\"unknown\" /&gt; ) I get no error.<br>\nIt seems the valueset binding is ignored.<br>\nWhat did I wrong?</p>\n<p>Kind regards, <br>\nKatarina</p>",
        "id": 250763576,
        "sender_full_name": "Katarina",
        "timestamp": 1629980957
    },
    {
        "content": "<p>Can you post the example? Which validator do you use?</p>",
        "id": 250763737,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1629981031
    },
    {
        "content": "<p>&lt;Observation xmlns=\"<a href=\"http://hl7.org/fhir\">http://hl7.org/fhir</a>\"&gt;<br>\n  &lt;meta&gt;<br>\n    &lt;profile value=\"<a href=\"https://example.de/fhir/StructureDefinition/PathogenDetectionCVDP\">https://example.de/fhir/StructureDefinition/PathogenDetectionCVDP</a>\" /&gt;<br>\n  &lt;/meta&gt;<br>\n  &lt;status value=\"unknown\" /&gt;<br>\n...<br>\n&lt;/Observation&gt;</p>\n<p>With HAPI-Server I get no error.</p>\n<p>In Simplifier I get at least this error: <br>\nCode 'unknown' from system '' does not exist in valueset '<a href=\"https://example.de/fhir/ValueSet/pathogenDetectionStatus\">https://example.de/fhir/ValueSet/pathogenDetectionStatus</a>'</p>",
        "id": 250765633,
        "sender_full_name": "Katarina",
        "timestamp": 1629982048
    },
    {
        "content": "<p>Thanks. <br>\nMy first guess was that <code>profile</code> was missing, but that's not the problem. <br>\nMy second guess would be that the HAPI Server doesn't know your profile. Might that be the case? Simplifier knows your profile if you work in the same project or set your dependencies correctly.</p>",
        "id": 250766158,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1629982309
    },
    {
        "content": "<p>Thank you. I uploaded my profile to HAPI Server. But you might be correct that HAPI does not validate correctly. I don't know how to find out.</p>",
        "id": 250767841,
        "sender_full_name": "Katarina",
        "timestamp": 1629982965
    },
    {
        "content": "<p>probably you could raise the issue again in <a class=\"stream\" data-stream-id=\"179167\" href=\"/#narrow/stream/179167-hapi\">#hapi</a>, there are the experts.<br>\nElse: <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span>: do you have an idea?</p>",
        "id": 250768079,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1629983048
    },
    {
        "content": "<p>I will do this. Thank you.</p>",
        "id": 250769925,
        "sender_full_name": "Katarina",
        "timestamp": 1629983816
    },
    {
        "content": "<p>The public hapi server is not aware of your profile, therefore it can't validate against it.</p>",
        "id": 250776691,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1629986569
    },
    {
        "content": "<p>couldn't find your profile on the server: <br>\n<code>http://hapi.fhir.org/baseR4/StructureDefinition?url=https%3A%2F%2Fexample.de%2Ffhir%2FStructureDefinition%2FPathogenDetectionCVDP</code></p>",
        "id": 250776871,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1629986645
    },
    {
        "content": "<p>`</p>",
        "id": 250776873,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1629986645
    }
]