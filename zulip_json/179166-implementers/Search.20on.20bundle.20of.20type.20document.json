[
    {
        "content": "<p>We are currently implementing the $document operation on composition resource. If the persist parameter is set to true, the bundle will be stored. Of course, the composition is the first element in the bundle. <br>\nThe question is now, how to search for the bundle? Is it just possible to search for the id of the composition? e.g. Bundle/?type=document&amp;composition=0e00ea44-febf-4b78-ad77-d89d242a9c3b<br>\nI searched the web and the chats, but couldn't find the answer.</p>",
        "id": 172675704,
        "sender_full_name": "Jakob Hartl",
        "timestamp": 1565183195
    },
    {
        "content": "<p>Use chaining.  E.g. <code>Bundle?composition.date=1990&amp;composition.subject=foo</code></p>",
        "id": 172682095,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1565187793
    },
    {
        "content": "<p>Can this be GET [base]/Composition/[id]/$document ? or if it was stored as Bundle, then can be read on the Bundle endpoint using <a href=\"http://Bundle.id\" target=\"_blank\" title=\"http://Bundle.id\">Bundle.id</a>.. isn't it ?</p>",
        "id": 172724359,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1565219889
    },
    {
        "content": "<p>It depends - are you trying to generate a document or query a document that's already been created and stored?  You can certainly retrieve something by <a href=\"http://Bundle.id\" target=\"_blank\" title=\"http://Bundle.id\">Bundle.id</a> - if you know the id.  But most of the time if you're searching for documents, you won't.</p>",
        "id": 172729275,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1565225657
    },
    {
        "content": "<p>Agreed, in that case searching the corresponding DocumentReference ( if managed in that way) then get access to the respective Bundle (document) would be better choice in my understanding.</p>",
        "id": 172729379,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1565225871
    },
    {
        "content": "<p>We've created the bundle already and stored it. For the next call of the operation we want to see, if there is already a bundle. <br>\nThe question was, how the search on a bundle of type document works? See <a href=\"https://www.hl7.org/fhir/bundle.html#search\" target=\"_blank\" title=\"https://www.hl7.org/fhir/bundle.html#search\">https://www.hl7.org/fhir/bundle.html#search</a><br>\nIs your example <code>Bundle?composition.date=1990...</code>correct? As the search parameter is from type reference, I should just be able to search for the composition by id, right? <code>Bundle?composition=1234</code></p>",
        "id": 172744978,
        "sender_full_name": "Jakob Hartl",
        "timestamp": 1565249963
    },
    {
        "content": "<p>The id of the composition would typically be a GUID.  In theory, there could be multiple versions of a document generated with the same Composition, so that might not give you a single hit.  (However in that case, a search based on other elmeents would probably also not give you a single hit.)</p>",
        "id": 172746070,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1565251318
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197120\">Jakob Hartl</span> <a href=\"#narrow/stream/179166-implementers/topic/Search.20on.20bundle.20of.20type.20document/near/172744978\" title=\"#narrow/stream/179166-implementers/topic/Search.20on.20bundle.20of.20type.20document/near/172744978\">said</a>:</p>\n<blockquote>\n<p>We've created the bundle already and stored it. For the next call of the operation we want to see, if there is already a bundle. <br>\nThe question was, how the search on a bundle of type document works? See <a href=\"https://www.hl7.org/fhir/bundle.html#search\" target=\"_blank\" title=\"https://www.hl7.org/fhir/bundle.html#search\">https://www.hl7.org/fhir/bundle.html#search</a><br>\nIs your example <code>Bundle?composition.date=1990...</code>correct? As the search parameter is from type reference, I should just be able to search for the composition by id, right? <code>Bundle?composition=1234</code></p>\n</blockquote>\n<p>Were you able find anything that works for Bundle?composition searches ... I have tried several servers and cant find one that returns non-0 results?</p>",
        "id": 191137889,
        "sender_full_name": "sean zitello",
        "timestamp": 1584635119
    }
]