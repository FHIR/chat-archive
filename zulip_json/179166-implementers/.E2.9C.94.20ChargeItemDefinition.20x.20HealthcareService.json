[
    {
        "content": "<p>Hey Guys!</p>\n<p>Has anyone worked with ChargeItemDefinition, for pricing Services (HealthcareService)?<br>\nIn the canonical (<a href=\"https://hl7.org/fhir/chargeitemdefinition.html\">https://hl7.org/fhir/chargeitemdefinition.html</a>), we have the \"instance\" property, which allows relating this item to \"something\" that I'm pricing.</p>\n<p>The canonical says the instance can be a Medication, a Device or a Substance.</p>\n<p><a href=\"/user_uploads/10155/iiKEO7idIOr0Eh_fQPzOUPDc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/iiKEO7idIOr0Eh_fQPzOUPDc/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/iiKEO7idIOr0Eh_fQPzOUPDc/image.png\"></a></div><p>In our profile, we try to add the HealthcareService in this targetProfile list, but when generating the Guide, an error occurs saying that the intance can only be one of the 3 items defined in the canonical.</p>\n<p>\"The target profile <a href=\"https://ancode.app/fhir/StructureDefinition/HealthcareService\">https://ancode.app/fhir/StructureDefinition/HealthcareService</a> is not a valid constraint on the base ([CanonicalType[http://hl7.org/fhir/StructureDefinition/Medication], <br>\nCanonicalType[http://hl7.org/fhir/StructureDefinition/Substance], <br>\nCanonicalType[http://hl7.org/fhir/StructureDefinition/Device]]) at ChargeItemDefinition.instance\"</p>\n<p>What is the correct way to do this? Is there a way to increase the list of targetProfiles in my ChargeItemDefinition Profile? Or will I have to create an extension? And finally, shouldn't the HealthcareService be one of the canonical's own targetProfile? Or is there another way in FHIR to define prices when we're talking about services?</p>",
        "id": 265816207,
        "sender_full_name": "Rodrigo Sendin",
        "timestamp": 1640186499
    },
    {
        "content": "<p>You can't change the target types of instance with a profile.  You <em>could</em> add a new extension that allows linking the ChargeItemDefinition to HealthcareService.  I'd also suggest submitting a change request that allows associating ChargeItemDefinition to HealthcareService, ActivityDefinition and PlanDefinition.  (As an aside, 'expression' should have a type of 'Expression', not 'string' so that the author can indicate whether it's CQL or FHIRPath.)  <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span></p>",
        "id": 265862760,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1640212951
    },
    {
        "content": "<p>Done! <a href=\"https://jira.hl7.org/browse/FHIR-34621\">https://jira.hl7.org/browse/FHIR-34621</a><br>\nThanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> !</p>",
        "id": 266014790,
        "sender_full_name": "Rodrigo Sendin",
        "timestamp": 1640367041
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"433519\">Rodrigo Sendin</span> has marked this topic as resolved.</p>",
        "id": 266014808,
        "sender_full_name": "Notification Bot",
        "timestamp": 1640367087
    }
]