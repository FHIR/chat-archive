[
    {
        "content": "<p>I'm implementing DocumentManifest resource support, and am wondering how UUIDs and OIDs should be encoded in the 'identifier' property. Should they be encoded in the Identifier type as a URN? So with the urn:uuid: and urn:oid: prefixes, or without the prefixes?</p>",
        "id": 153821431,
        "sender_full_name": "Rick Riemer",
        "timestamp": 1460543689
    },
    {
        "content": "<p>I might have solved the issue myself now that I read it again. From <a href=\"http://hl7.org/fhir/DSTU2/datatypes.html#Identifier\" target=\"_blank\" title=\"http://hl7.org/fhir/DSTU2/datatypes.html#Identifier\">http://hl7.org/fhir/DSTU2/datatypes.html#Identifier</a>:<br>\n\"If the identifier itself is naturally globally unique (e.g. an OID, a UUID, or a URI with no trailing local part), then the system SHALL be \"urn:ietf:rfc:3986\", and the URI is in the value.\"</p>\n<p>I think this says, that, since a UUID or OID is globally unique, it should be encoded as a URN, so with the prefix.</p>\n<p>Do others read this in the same way?</p>",
        "id": 153821436,
        "sender_full_name": "Rick Riemer",
        "timestamp": 1460545796
    },
    {
        "content": "<p>You're meant to read it that way</p>",
        "id": 153821441,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1460547922
    },
    {
        "content": "<p>I must admit that I find the documentation a bit unclear on this point. Maybe we can improve the description and/or show an example of an OID-style Identifier?</p>",
        "id": 153821442,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1460548155
    },
    {
        "content": "<p>Showing an example would be nice. When working on the IHE MHD profile we had people confused by this too. People get confused by the system urn, and forget that they still need to uri encode their oid. Simple once you have seen it, but quite a few moving parts to catch on the first try.</p>",
        "id": 153821443,
        "sender_full_name": "John Moehrke",
        "timestamp": 1460548577
    },
    {
        "content": "<p>Created a GForge issue #9813:<br>\n<a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9813\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9813\">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9813</a></p>",
        "id": 153821459,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1460550304
    },
    {
        "content": "<p>Are you dealing with OIDs as systems or OIDs as identifier values?  If the latter, you don't need to make them urns.  If the former, seriously consider translating them to meaningful URIs.  You'll make your developers (and all downstream support people) much happier.  The NamingSystem resource can help you manage the translations</p>",
        "id": 153821507,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1460560878
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> \"If the latter, you don't need to make them urns\" - umm, depends. In general, if you have an OID you are using as an identifier, then you do need to make it a urn</p>",
        "id": 153821568,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1460577763
    },
    {
        "content": "<p>we need clarity. My understanding is that with an OID, you must first convert it to a URI, and use the system of rfc 3986.  Is this not correct?</p>",
        "id": 153821582,
        "sender_full_name": "John Moehrke",
        "timestamp": 1460579024
    },
    {
        "content": "<p>yes. there's one exception to this, where you deem the OIDS as part of another system, and use a different system. We've done this in one case; an IHE/DICOM code system</p>",
        "id": 153821590,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1460579268
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> If your identifier is an OID, it'll appear in Identifier.value and doesn't need to be a URI.  (You'll use \"urn:ietf:rfc:3986\" in the system).  If your identifier namespace is an OID, it'll appear in Identifier.system as a URN, or could (and - in my opinion - ideally should) be converted to a URL or some sort of a meaningful identifier</p>",
        "id": 153821607,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1460582171
    },
    {
        "content": "<p>\"If your identifier is an OID, it'll appear in Identifier.value and doesn't need to be a URI. (You'll use \"urn:ietf:rfc:3986\" in the system)\" - wrong. </p>",
        "id": 153821608,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1460582196
    },
    {
        "content": "<p>quoting.... \"If the identifier itself is naturally globally unique (e.g. an OID, a UUID, or a URI with no trailing local part), then the system SHALL be \"urn:ietf:rfc:3986\", and the URI is in the value\"</p>",
        "id": 153821610,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1460582233
    },
    {
        "content": "<p>Isn't that what I just said?</p>",
        "id": 153821615,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1460582426
    },
    {
        "content": "<p>I.e. you'd have:<br>\n&lt;identifier&gt;<br>\n  &lt;system value=\"urn:ietf:rfc:3986\"/&gt;<br>\n  &lt;value value=\"2.15.398.2.7\"/&gt;<br>\n&lt;/identifier&gt;<br>\n?</p>",
        "id": 153821617,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1460582469
    },
    {
        "content": "<p>you said 'doesn't need to be a URI' but if you use the \"urn:ietf:rfc:3986\" as the system, then it does, as it says, have to be a URI</p>",
        "id": 153821618,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1460582477
    },
    {
        "content": "<p>Ah</p>",
        "id": 153821619,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1460582482
    },
    {
        "content": "<p>I suppose it would.</p>",
        "id": 153821620,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1460582491
    },
    {
        "content": "<p>tx</p>",
        "id": 153821621,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1460582494
    },
    {
        "content": "<p>np</p>",
        "id": 153821622,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1460582500
    },
    {
        "content": "<p>hence, we obviously need to add an example</p>",
        "id": 153821623,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1460582512
    },
    {
        "content": "<p>That was precisely the same mistake I made when reading it. I agree with what Graham says, so 'vote +1' for the example.</p>",
        "id": 153821714,
        "sender_full_name": "Rick Riemer",
        "timestamp": 1460627777
    },
    {
        "content": "<p>I'm still confused. If I understand RFC3986 correctly, then a URI must always have a \"scheme:\" prefix. This would imply that \"2.15.398.2.7\" is not a valid URI, because it doesn't have a scheme prefix?</p>",
        "id": 153821717,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1460633120
    },
    {
        "content": "<p>Yes. All OIDs need to be prefixed with urn:oid: if the scheme is set to urn:ietf:rfc:3986.</p>",
        "id": 153821720,
        "sender_full_name": "Rick Riemer",
        "timestamp": 1460633280
    },
    {
        "content": "<p>Michel is definately right: an URI *must* contain a scheme otherwise it is no URI</p>",
        "id": 153821721,
        "sender_full_name": "Peter Scholz",
        "timestamp": 1460633452
    }
]