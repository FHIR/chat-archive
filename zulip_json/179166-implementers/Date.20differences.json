[
    {
        "content": "<p>How to write fhir expression for date difference.<br>\nLike age calculator<br>\ne.g.  days_diff('2018-03-01' , '2021-05-28').<br>\nYear_diff('2018-03-01' , '2021-05-28').<br>\nmonths_diff('2018-03-01' , '2021-05-28')</p>",
        "id": 250608234,
        "sender_full_name": "Shravankumar",
        "timestamp": 1629891834
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"435172\">@Shravankumar</span> I changed the topic heading for you.  (You'd originally posted under 'DocumentReference Encounter', which wasn't really related to your question.)</p>\n<p>FHIRPath provides a mechanism to do date math - see <a href=\"http://hl7.org/fhirpath/#subtraction-2\">http://hl7.org/fhirpath/#subtraction-2</a></p>",
        "id": 250623142,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1629899647
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> </p>\n<p><a href=\"http://hl7.org/fhirpath/#subtraction-2\">http://hl7.org/fhirpath/#subtraction-2</a> expects the right hand operand to be a time valued quantity like <code>1 day</code> or <code>24 months</code>, but what I have is a Date/DateTime.</p>\n<p>in demo website <a href=\"https://hl7.github.io/fhirpath.js/\">https://hl7.github.io/fhirpath.js/</a><br>\n @2025-01-01 - @2020-01-01 //Result-  Error: Cannot [\"2025-01-01\"] - [\"2020-01-01\"] </p>\n<p>For below JSON structure. How can I calculate the duration in days b/w start and end date using fhirpath?<br>\n{<br>\n\"start\" : \"2020-01-01\",<br>\n\"end\" : \"2025-01-01\"<br>\n}</p>",
        "id": 250801110,
        "sender_full_name": "Rajesh",
        "timestamp": 1629995605
    },
    {
        "content": "<p>Hmm.  That's odd.  I'd have expected FHIRPath to be able to do math on two dates, not just date + quantity.  <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 250802167,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1629995983
    },
    {
        "content": "<p>That's true, FHIRPath does not currently support duration or difference calculation. There is an open tracker for this: <a href=\"https://jira.hl7.org/browse/FHIR-19896\">https://jira.hl7.org/browse/FHIR-19896</a></p>",
        "id": 250805193,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1629997197
    },
    {
        "content": "<p>CQL has <a href=\"https://cql.hl7.org/09-b-cqlreference.html#duration\">Duration</a> and <a href=\"https://cql.hl7.org/09-b-cqlreference.html#difference\">Difference</a> calculations specified.</p>",
        "id": 250805492,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1629997286
    }
]