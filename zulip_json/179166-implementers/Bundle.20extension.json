[
    {
        "content": "<p>Hi everyone, I have a bundle of type collection to contain observations. It seems that a bundle cannot have extensions. <br>\n1 - What is the rationale behind this? <br>\n2 - How can I then add a flag field (boolean type)? My first thought was to add it as Bundle.myFlag extension but that seems impossible.</p>",
        "id": 193579531,
        "sender_full_name": "Olivia Bellamou-Huet",
        "timestamp": 1586531627
    },
    {
        "content": "<p>The Bundle doesn't allow extensions because Bundles don't really have any meaning of their own.  If necessary, you can put extensions in Bundle.meta, but first think about why you're assigning meaning to Bundle at all.  What are you trying to accomplish?</p>",
        "id": 193583431,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1586533456
    },
    {
        "content": "<p>We have an element that gathers a bunch of observations, so we thought of a bundle of type collection. We need to give it a flag for processing. This flag can be changed, therefore I don't think it can be metadata.</p>",
        "id": 193928817,
        "sender_full_name": "Olivia Bellamou-Huet",
        "timestamp": 1586884325
    },
    {
        "content": "<p>What sort of processing are you looking for?  With Bundles to be processed, you have an option of Batch, Transaction or messaging behavior.  You could theoretically also pass a collection Bundle to a custom operation, though it's not clear what the benefits there are for using Bundle vs. just sending your data in Parameters.</p>",
        "id": 193932470,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1586886016
    },
    {
        "content": "<p>I mixed up with another bundle, it turns out that this one is of type Message. So we could add the flag as an extension in the MessageHeader. Thank you for you help.</p>",
        "id": 193994319,
        "sender_full_name": "Olivia Bellamou-Huet",
        "timestamp": 1586936529
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Extending Bundle.meta (??) - AFAIK one cant extend meta..</p>",
        "id": 197124530,
        "sender_full_name": "René Spronk",
        "timestamp": 1589192272
    },
    {
        "content": "<p>As Meta inherits from Element - and Element allows Extensions, then technically it appears to be valid.<br>\nAlong the lines of</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;Patient&quot;,\n  &quot;meta&quot;: {\n    &quot;extension&quot;: [\n      {\n        &quot;url&quot;: &quot;http://myextension.com/thingy&quot;,\n        &quot;valueBoolean&quot;: true\n      }\n    ],\n    &quot;profile&quot;: [\n      &quot;https://api.acme.com/PatientProfile&quot;\n    ]\n  },\n  &quot;name&quot;: [\n    {\n      &quot;family&quot;: &quot;Smith&quot;,\n      &quot;given&quot;: [\n        &quot;John&quot;\n      ]\n    }\n  ],\n  &quot;gender&quot;: &quot;male&quot;\n}\n</code></pre></div>",
        "id": 197158726,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1589209617
    },
    {
        "content": "<p>You can definitely extend Meta</p>",
        "id": 197195347,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589226442
    },
    {
        "content": "<p>Hmm, ok. But adding/updating the extension doesn't change the version of the resource, right?. <br>\nWhat would be the impact of adding a ModifierExtension to meta ?</p>",
        "id": 197237309,
        "sender_full_name": "René Spronk",
        "timestamp": 1589264399
    },
    {
        "content": "<p>You can't put modifier extensions on complex types unless it's specifically enabled for that type - and Meta isn't one of the types where modifiers is permitted.</p>",
        "id": 197328014,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589312531
    },
    {
        "content": "<p>Ah. I missed that constraint on the extensibility page.</p>",
        "id": 197372951,
        "sender_full_name": "René Spronk",
        "timestamp": 1589351313
    }
]