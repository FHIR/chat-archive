[
    {
        "content": "<p>Hello! What is the best way to send parameters in a message bundle (in this case we need to send boolean flags)?</p>",
        "id": 229914014,
        "sender_full_name": "Yagami L",
        "timestamp": 1615492201
    },
    {
        "content": "<p>Can you give some examples?</p>",
        "id": 229928743,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1615497937
    },
    {
        "content": "<p>We are using a message bundle to import (and create) a patient from one system to another. But we need specify whether or not to call a certain own operation ($invite) on the new created patient.<br>\nIn other words, we need to send in the message bundle a flag (a parameter) that specifies whether to call the operation (or not).<br>\nIn theory, you can send metadata like this in the MessageHeader resource, but we don't know what that would be like.</p>",
        "id": 229931533,
        "sender_full_name": "Yagami L",
        "timestamp": 1615499028
    },
    {
        "content": "<p>bundle message e.g.<br>\n{<br>\n    \"resourceType\": \"Bundle\",<br>\n    \"type\": \"message\",<br>\n    \"entry\": [<br>\n        {<br>\n            \"resource\": {<br>\n                \"resourceType\": \"MessageHeader\",<br>\n                \"eventCoding\": {<br>\n                    \"system\": \"<a href=\"http://example.org/fhir/message-events\">http://example.org/fhir/message-events</a>\",<br>\n                    \"code\": \"import\"<br>\n                },<br>\n                \"source\": {<br>\n                    \"endpoint\": \"<a href=\"http://example.system.com\">http://example.system.com</a>\"<br>\n                }<br>\n            }<br>\n        },<br>\n        {<br>\n            \"resource\": {<br>\n                \"name\": [<br>\n                    {<br>\n                        \"use\": \"official\",<br>\n                        \"given\": [<br>\n                            \"John\"<br>\n                        ],<br>\n                        \"family\": \"Doe\"<br>\n                    }<br>\n                ],<br>\n                \"birthDate\": \"1989-11-09\",<br>\n                \"resourceType\": \"Patient\",<br>\n                \"telecom\": [<br>\n                    {<br>\n                        \"use\": \"home\",<br>\n                        \"value\": \"<a href=\"mailto:johndoe@email.com\">johndoe@email.com</a>\",<br>\n                        \"system\": \"email\"<br>\n                    }<br>\n                ],<br>\n                \"gender\": \"male\"<br>\n            }<br>\n        }<br>\n    ]<br>\n}<br>\nThe question is how we can include the invite flag in the message bundle, so that the receiving system of the bundle decides to call the $invite operation (we work in the receiving system)<br>\nAny help, please</p>",
        "id": 230040820,
        "sender_full_name": "Yagami L",
        "timestamp": 1615560609
    },
    {
        "content": "<p>For the ones for which the intent is to  import only, you have an event code of \"import\" (as shown above). For the ones that you also wish to \"invite\", you could specify a different event code, e.g. \"importAndInvite\".</p>",
        "id": 230042975,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1615561391
    },
    {
        "content": "<p>For this case it works, thanks. But the problem is that if we have more flags in the future, the number of events grows exponentially.<br>\nThe general question is how to send parameters in the bundle message.</p>",
        "id": 230044228,
        "sender_full_name": "Yagami L",
        "timestamp": 1615561791
    },
    {
        "content": "<p>You can include a Parameters resource, but in general, if the behavior is different you should have distinct events - because that drives what systems claim conformance to.</p>",
        "id": 230044854,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1615562018
    },
    {
        "content": "<p>thanks to both!</p>",
        "id": 230049546,
        "sender_full_name": "Yagami L",
        "timestamp": 1615563646
    }
]