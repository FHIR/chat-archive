[
    {
        "content": "<p>We think about architecture to support patient, physician and some other indices for big city. Event sourcing looks promising: so every EHR produce log of events about data changes and our service aggregates and  merges this streams into snapshots - FHIR Resources and serves by REST API. Question is about events format and granularity: <code>{patientCreated, resource json}</code> or on element level <code>{telecomChanged, patientid, from, to}</code>. Does anybody think about this? This seems similar to messaging, but on more lower level.</p>",
        "id": 153869466,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1485778658
    },
    {
        "content": "<p>Just thinking out loud: It seems you need to reflect the intent of the REST call: so a PUT updates all and needs full patient granularity, whereas a PATCH may need to have smaller granularity?</p>",
        "id": 153869477,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1485786109
    },
    {
        "content": "<p>One idea is to use transaction log (i've described in my post - <a href=\"https://medium.com/@niquola/fhir-history-transactions-subscriptions-70d4f04607e0#.dzqob7u0z\" target=\"_blank\" title=\"https://medium.com/@niquola/fhir-history-transactions-subscriptions-70d4f04607e0#.dzqob7u0z\">https://medium.com/@niquola/fhir-history-transactions-subscriptions-70d4f04607e0#.dzqob7u0z</a>), which consists of transactions for everything - create patient, update, patch etc. And yes we need PATCH - for small changes and better merge process (less conflicts and data loss)</p>",
        "id": 153869505,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1485789335
    },
    {
        "content": "<p>We have introduced PATCH in the spec....</p>",
        "id": 153869507,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1485789614
    },
    {
        "content": "<p>Both as the PATCH http verb and the $patch operation!</p>",
        "id": 153869508,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1485789625
    },
    {
        "content": "<p>We've discussed PATCH Resource with <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  :)</p>",
        "id": 153869606,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1485883281
    },
    {
        "content": "<p>yes. implementation and write up coming today</p>",
        "id": 153870150,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1486353216
    }
]