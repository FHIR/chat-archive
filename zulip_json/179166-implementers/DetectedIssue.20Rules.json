[
    {
        "content": "<p>We have a system which generates DetectedIssues based on various configurable rules that are executed and can details of the rules can be configured at an Organization, Location or Patient level. The default rule definitions for our system are set to the various published clinical standards but each level of care can change the rule thresholds, periods, etc to match their standard of care or specificity to deal with alarm fatigue. For example, there is a defined Asthma Control Score for asthmatics which indicates an asthmatic's current asthma health in Red, Yellow or Green and as data changes we recompute the score per patient. Providers are able to configure and override the thresholds for red, yellow and green all the way from their entire population down to an individual patient based on how they operate. We then dynamically recompute the rules differently based on any rules changes and create DetectedIssues to match.</p>\n<p>We're not seeing how we would model these rules in FHIR r4 or r5 so providers can manage them nor are we seeing how to indicate on a DetectedIssue how to reference or snapshot the rule settings that generated the DetectedIssue. Would we need to create custom resources and attributes here or are we missing where FHIR supports both rule management and indicating the rules used in generating a DetectedIssue?</p>",
        "id": 267919324,
        "sender_full_name": "Mike Lohmeier",
        "timestamp": 1642102588
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span>, what's the best advice around storing decision support configurations?</p>",
        "id": 267945723,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1642115830
    },
    {
        "content": "<p>So I imagine the configurable aspects of the rules represent parameters to the rule execution, and there is some setup somewhere where you can specify how to determine what those parameters are given the level the rule is executing, right?</p>",
        "id": 267964179,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1642130532
    },
    {
        "content": "<p>If you want to make sure that you capture what those parameters were that resulted in the calculation of any given detected issue, you will need to capture the values of those parameters with the detected issue (or provide a way to reconstruct what those settings were when the detected issue was generated, a much more difficult thing to do I would think).</p>",
        "id": 267964664,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1642130653
    },
    {
        "content": "<p>We typically capture this type of information (the parameters to the evaluation) using a contained Parameters resource and an extension that references that contained resource.</p>",
        "id": 267964674,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1642130675
    },
    {
        "content": "<p>Here's an example in a MeasureReport: <a href=\"https://build.fhir.org/ig/HL7/cqf-measures/StructureDefinition-cqfm-inputParameters.html\">https://build.fhir.org/ig/HL7/cqf-measures/StructureDefinition-cqfm-inputParameters.html</a></p>",
        "id": 267964906,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1642130744
    },
    {
        "content": "<p>As far as the rule itself, if the rule is represented using a FHIR conformance resource, you can use the \"authority\" element to reference the canonical URL of the rule (with version as appropriate). If it's not a FHIR resource, I think the same approach applies, you would use the \"authority\" element, it would just be to a URI identifying the rule and version using a scheme appropriate to your rule system.</p>",
        "id": 267967487,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1642131394
    },
    {
        "content": "<p>Yes, the configurable aspects of the rules represent parameters to the rule execution like thresholds, periods, metrics, communication actions, etc.</p>\n<p>Apologies, by \"using a FHIR conformance resource\" do you mean we use Organization, Location and Patient's \"authority\" element to reference the rule(s)? What would the actual rule configurations be modeled as though to allow clients to read/write?</p>",
        "id": 268041246,
        "sender_full_name": "Mike Lohmeier",
        "timestamp": 1642179416
    },
    {
        "content": "<p><a href=\"https://www.cdc.gov/vaccines/programs/iis/downloads/basics-immun-info-sys-iis-508.pdf\">https://www.cdc.gov/vaccines/programs/iis/downloads/basics-immun-info-sys-iis-508.pdf</a></p>",
        "id": 268116834,
        "sender_full_name": "Leah Avant",
        "timestamp": 1642239703
    },
    {
        "content": "<p>Sorry, I'm not following how the IIS pdf relates here.</p>",
        "id": 268460840,
        "sender_full_name": "Mike Lohmeier",
        "timestamp": 1642542641
    }
]