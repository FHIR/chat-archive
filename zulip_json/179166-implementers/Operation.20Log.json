[
    {
        "content": "<p>Here's a specific question that might need a general answer. I'm working with @James Agnew to add version conversion to the <a href=\"http://hapi.fhir.org\" target=\"_blank\" title=\"http://hapi.fhir.org\">hapi.fhir.org</a> server. It would work like this, following the spec:</p>",
        "id": 154011657,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540334581
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>POST /base/$convert\nAccept: application/fhir+json; fhirVersion=3.0\nContent-Type: application/fhir+json; fhirVersion=4.0\n\n&lt;body&gt;\n</pre></div>\n\n\n<p>where body = R3 resource and a R4 resource would be returned (or could be the other way)</p>",
        "id": 154011659,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540334642
    },
    {
        "content": "<p>the conversion operation produces a fairly voluminous log that could be pretty interesting for the client to get hold of</p>",
        "id": 154011661,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540334681
    },
    {
        "content": "<p>it seems to me that the right way to do this would be for the server to store the log in an AuditEvent, and put a link in the HTTP return headers that identifies the relevant AuditEvent, like so:</p>",
        "id": 154011662,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540334734
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>Link: &lt;AuditEvent/23123123&gt;; rel=archives\n</pre></div>",
        "id": 154011663,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540334863
    },
    {
        "content": "<p>archives looks like the least inappropriate defined rel type, but it's still pretty wrong. So:</p>",
        "id": 154011664,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540334886
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>Link: &lt;AuditEvent/23123123&gt;; rel=audit\n</pre></div>",
        "id": 154011665,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540334900
    },
    {
        "content": "<p>does this make sense to people?</p>",
        "id": 154011666,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540334918
    },
    {
        "content": "<p>Assuming this is for a multi-version capable server</p>",
        "id": 154012794,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1540603924
    },
    {
        "content": "<p>If it is really relevant for the client to know about, why not return the result + log in a bundle? Or a Parameters resource - that is designed for an operation response? Less chance of ignoring important information.</p>",
        "id": 154025910,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1545045700
    }
]