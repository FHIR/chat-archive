[
    {
        "content": "<p>What, if anything, does FHIR do or specify for numeric precision, e.g. in valueQuantity property of an Observation?   JSON, in general, assumes arbitrary precision on it's numeric types.  I know the Quantity data type talks about this but has anyone seen the necessity to have something to communicate the agreed-upon precision in FHIR so that end points can maintain the proper precision, e.g. when converting back and forth from JSON (or XML) to a database storage format?</p>",
        "id": 153929807,
        "sender_full_name": "John Silva",
        "timestamp": 1516482199
    },
    {
        "content": "<p>see discussion here: <a href=\"http://build.fhir.org/json.html#primitive\" target=\"_blank\" title=\"http://build.fhir.org/json.html#primitive\">http://build.fhir.org/json.html#primitive</a></p>",
        "id": 153929808,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516482259
    },
    {
        "content": "<p>Yes, I've seen that discussion before (and about using something like Java's BigNum library).  However, that doesn't allow systems to specify, maybe in a profile, exactly what precision they support for specific types of measurements, maybe guided by the unit of measure.    Clinicians will tell us that there are certain expected precision values for certain types of measurements (and typically it's tied to UofM); but FHIR doesn't seem to give us a way to communicate (or profile?) this concept.   It doesn't seem like a 'one size fits all' approach works in all cases in healthcare.</p>",
        "id": 153929809,
        "sender_full_name": "John Silva",
        "timestamp": 1516482733
    },
    {
        "content": "<p>so all the systems I've seen so far, the precision is configured at the per-observation code level. In FHIR, that equates to a structure definition. You can specify the precision of the Observation.value using ...</p>",
        "id": 153929810,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516482902
    },
    {
        "content": "<p>well, no you can't. Odd. I thought we had sorted that.</p>",
        "id": 153929811,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516482915
    },
    {
        "content": "<p>nearest I can see is <a href=\"http://build.fhir.org/extension-maxdecimalplaces.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-maxdecimalplaces.html\">http://build.fhir.org/extension-maxdecimalplaces.html</a></p>",
        "id": 153929812,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516482920
    },
    {
        "content": "<p>I just searched on OpenEHR and they have this as part of their DV_Quantity data type (and maybe others, I just looked at this one):</p>\n<p><a href=\"https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dv_quantity_class\" target=\"_blank\" title=\"https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dv_quantity_class\">https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dv_quantity_class</a></p>\n<p>I guess the bigger question is, are there use cases where this is important for FHIR exchanges?  (Personally I think so, but I'm new to this but I've seen the importance of precision in other medical info systems.)</p>\n<p>A related concept is accuracy; OpenEHR has this to say about precision and accuracy:</p>\n<p><a href=\"https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dimensioned_quantities\" target=\"_blank\" title=\"https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dimensioned_quantities\">https://www.openehr.org/releases/RM/latest/docs/data_types/data_types.html#_dimensioned_quantities</a></p>",
        "id": 153929814,
        "sender_full_name": "John Silva",
        "timestamp": 1516483284
    },
    {
        "content": "<p>the openEHR DV_Quantity is something different to what you are asking for. DV_Quantity has 2 fields: a floating point precision value, and a precision. The FHIR decimal conflates those into a single string representation. Specific exchange formats might differ (for instance, there's a group of us working on google protobuf format, and that probably will use a pair of floating point number and precision). But for JSON, after long discussion, we chose to use number directly, with that note I referred to above</p>",
        "id": 153929815,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516483505
    },
    {
        "content": "<p>so the requirements are clear: for an individual number, precision is explicit and important. OTOH, specifying precision capability is still work in progress</p>",
        "id": 153929816,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516483574
    },
    {
        "content": "<p>the 'observationdefinition' should IMO represent this.</p>",
        "id": 153929831,
        "sender_full_name": "Eric Haas",
        "timestamp": 1516498075
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  -- it seems something as fundamental as numeric precision should be able to be specified; most clinical measurements have a specific precision and this is also important when performing calculations using these measurements as well.</p>",
        "id": 153929883,
        "sender_full_name": "John Silva",
        "timestamp": 1516576584
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/observationdefinition-definitions.html#ObservationDefinition.quantitativeDetails.decimalPrecision\" target=\"_blank\" title=\"http://build.fhir.org/observationdefinition-definitions.html#ObservationDefinition.quantitativeDetails.decimalPrecision\">http://build.fhir.org/observationdefinition-definitions.html#ObservationDefinition.quantitativeDetails.decimalPrecision</a></p>",
        "id": 153929897,
        "sender_full_name": "Eric Haas",
        "timestamp": 1516589481
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  - is this a new property in R4?   That's good if it is; didn't see this in STU3 (or couldn't find it if it's there)</p>",
        "id": 153930104,
        "sender_full_name": "John Silva",
        "timestamp": 1516650476
    },
    {
        "content": "<p>ObservationDefinition is a new resource in R4.</p>",
        "id": 153930193,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1516660838
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/observationdefinition.html\" target=\"_blank\" title=\"http://build.fhir.org/observationdefinition.html\">http://build.fhir.org/observationdefinition.html</a></p>",
        "id": 153930211,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1516662983
    },
    {
        "content": "<p>OK, looked at this but not sure how to 'tie it' to the Observation resource.   (an aside, there seems to be broken links on the ObservationUnit link)</p>",
        "id": 153930226,
        "sender_full_name": "John Silva",
        "timestamp": 1516675282
    }
]