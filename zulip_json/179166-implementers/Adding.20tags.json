[
    {
        "content": "<p>I've not used tags so far so every chance I am doing something wrong. I am attempting to create a Patient and add a Tag to it. As far as I can see this is a two stage process.</p>\n<p>First create patient<br>\nUsed a POST to <a href=\"http://fhir3.healthintersections.com.au/open/Patient/\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au/open/Patient/\">http://fhir3.healthintersections.com.au/open/Patient/</a> which was successful. Patient 337 created<br>\nCheck it exists with GET <a href=\"http://fhir3.healthintersections.com.au/open/Patient/337\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au/open/Patient/337\">http://fhir3.healthintersections.com.au/open/Patient/337</a> Patient returned</p>\n<p>Now add the tag via the $meta-add operation<br>\nPOST  to <a href=\"http://fhir3.healthintersections.com.au/open/Patient/337/$meta-add\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au/open/Patient/337/$meta-add\">http://fhir3.healthintersections.com.au/open/Patient/337/$meta-add</a> with the following payload (from the spec)</p>\n<p>&lt;Parameters&gt;<br>\n  &lt;parameter&gt;<br>\n    &lt;name value=\"meta\"/&gt;<br>\n    &lt;valueMeta&gt;<br>\n      &lt;tag&gt;<br>\n        &lt;system value=\"http://example.org/codes/tags\"/&gt;<br>\n        &lt;code value=\"record-lost\"/&gt;<br>\n        &lt;display value=\"Patient File Lost\"/&gt;<br>\n      &lt;/tag&gt;<br>\n    &lt;/valueMeta&gt;<br>\n  &lt;/parameter&gt;<br>\n&lt;/Parameters&gt;</p>\n<p>This results in a 404 returning an OperationOutcome stating \" &lt;p&gt;Resource Id \"Patient:337\" does not exist&lt;/p&gt;\"</p>\n<p>What did I do wrong?</p>",
        "id": 153873098,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1487807555
    },
    {
        "content": "<p>Seems to work on <a href=\"http://fhirtest.uhn.ca/baseDstu3\" target=\"_blank\" title=\"http://fhirtest.uhn.ca/baseDstu3\">http://fhirtest.uhn.ca/baseDstu3</a> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> does your server have an issue?</p>",
        "id": 153873099,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1487809011
    },
    {
        "content": "<p>You don't actually need to do it as two steps - you can specify your tags in the resource (under meta) in your initial POST if you know what they're supposed to be at the time of the Create.  And yes, that looks like a problem with Grahame's server</p>",
        "id": 153873103,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487819857
    },
    {
        "content": "<p>yes please submit an issue here: </p>",
        "id": 153873282,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487963345
    },
    {
        "content": "<p><a href=\"https://github.com/grahamegrieve/fhirserver\" target=\"_blank\" title=\"https://github.com/grahamegrieve/fhirserver\">https://github.com/grahamegrieve/fhirserver</a></p>",
        "id": 153873283,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487963358
    },
    {
        "content": "<p>Yes, doesn't need to be 2 steps. Benefit of doing it as 1 step (apart from only being 1 step) is that it will also flow through the subscription channels, where $meta-add/delete etc doesn't</p>",
        "id": 153873473,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1488070416
    }
]