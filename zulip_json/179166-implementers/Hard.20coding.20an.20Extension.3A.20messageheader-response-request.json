[
    {
        "content": "<p>Hi All, in the UK we would like to hard code the HL7 Common Extension: messageheader-response-request &lt;<a href=\"http://hl7.org/fhir/extension-messageheader-response-request.html\">http://hl7.org/fhir/extension-messageheader-response-request.html</a>&gt;  to the UKCoreMessageHeader profile.   However, we can't make this optional as this common HL7 extension has a cardinality of 1..1.  Incidentally,  our profile tool (Forge) adheres to this only allowing that mandatory cardinality (1..1) for this extension.  I can see two ways to deal with this:</p>\n<ol>\n<li>\n<p>Not to hard code the extension in the UKCoreMessageHeader profile, but instead to provide guidance to use it if necessary in the Extension Library of our implementation guide.  </p>\n</li>\n<li>\n<p>To create a clone of this HL7 Common Extension, so we could make this optional and hard code this into our profile.  Though someone might argue why we have done this when there is a common HL7 extension, our response could be that we needed this to be optional in our profile.  I'm not keen on this route, as it feels like unnecessary duplication.</p>\n</li>\n</ol>\n<p>Can anyone else think of any other options when dealing with a mandatory common HL7 extension, that one wants to make optional for their profile?  I'd be interested to know why this HL7 Common  Extension: messageheader-response-request was made mandatory, in the first place, considering the majority of  HL7 Common  Extensions are optional.  I'm sure there were good reasons, I'm just curious to understand the thinking behind this.</p>",
        "id": 263171923,
        "sender_full_name": "John George",
        "timestamp": 1638290536
    },
    {
        "content": "<p>Two possibilities:</p>\n<ul>\n<li>it was done by accident (in which case, a change request can fix it and we <em>might</em> even be able to deal with it in R4B)</li>\n<li>it was believed that if you're going to support the extension, then it needs to be present on everything</li>\n</ul>\n<p>I'm not sure which is the case.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>?</p>",
        "id": 263174708,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638291616
    },
    {
        "content": "<p>The <code>language</code> extension is also with cardinality of 1..1 - does it pose the same problem? What is the meaning of having an extension with cardinality 1..1?</p>",
        "id": 263181874,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1638294483
    },
    {
        "content": "<p>And more generally: what does it mean for an extension to <em>ever</em> set its minimum cardinality higher than zero? (Obviously a <em>profile</em> can define slices where an extension is required...)</p>",
        "id": 263183813,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1638295250
    },
    {
        "content": "<p>definitely an oversight in this case</p>",
        "id": 263186725,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638296568
    },
    {
        "content": "<p>Should we have a general check that min cardinality on core extensions is always <code>0</code> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  ?</p>",
        "id": 263188001,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1638297130
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span> <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> and <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> thanks for your responses.  I'd be in favour of the minimum cardinality on all core extensions always being zero.</p>",
        "id": 263189287,
        "sender_full_name": "John George",
        "timestamp": 1638297673
    },
    {
        "content": "<p>Submitted <a href=\"http://jira.hl7.org/browse/FHIR-34399\">FHIR-34399</a></p>",
        "id": 263191509,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1638298665
    },
    {
        "content": "<p>There are situations where it's actually legitimate to have it be 1, but they'd be rare.  I'd make it a warning rather than an error.</p>",
        "id": 263194512,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638299880
    },
    {
        "content": "<p>I will update the issue if you can help me understand what the situations are?</p>",
        "id": 263207573,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1638305911
    },
    {
        "content": "<p>I don't know we've run across any examples where we wanted to.  The gist is \"if you're going to use this in a profile, then it always needs to be present\".</p>",
        "id": 263213910,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638309091
    },
    {
        "content": "<p>But min cardinality doesn't say anything about \"in a profile\". It's context-free, other than the FHIRpath saying where the extension is applicable.</p>",
        "id": 263228981,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1638318157
    }
]