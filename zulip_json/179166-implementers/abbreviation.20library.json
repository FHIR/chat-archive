[
    {
        "content": "<p>Moin(which means good morning in nothern germany),<br>\nI'm completely new here, but I'm trying to develop an abbreviation library for diagnosis. The practitioner should be able to create his own catalog of shortcuts for his diagnosis. Is the library ressource the best way of implementing such a feature?</p>\n<p>Thanks Max</p>",
        "id": 153975065,
        "sender_full_name": "Maximilian Reith",
        "timestamp": 1531464957
    },
    {
        "content": "<p>Good morning :)  You might look at ConceptMap - that would let you map from your local code (the abbreviation) to the official diagnosis code</p>",
        "id": 153975070,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1531469544
    },
    {
        "content": "<p>yes that might work, but could i map a simple Code from a Codesystem to one or more complex ressources? e.g. the doctor has a shortcut \"broken leg\", which consists (in his world) out of diagnosis(broken leg)(a condition in FHIR) and a treatment(plaster cast)(a procedure in FHIR).</p>",
        "id": 153975090,
        "sender_full_name": "Maximilian Reith",
        "timestamp": 1531472412
    },
    {
        "content": "<p>Ah, so you're wanting to create a bunch of resources in response to the selection of a code.  The definition of the resources would be PlanDefinition.  I guess you could use ConceptMap to link to the canonical URL of the PlanDefinition.  Or alternatively, you could just use the abbreviation as the name or a keyword of the PlanDefinition</p>",
        "id": 153975092,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1531473303
    },
    {
        "content": "<p>Thank you Lloyd for the fast responses...i think i have to think about, which way to go</p>",
        "id": 153975101,
        "sender_full_name": "Maximilian Reith",
        "timestamp": 1531483117
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Would PlanDefinition.useContext.valueCodeableConcept be a better place to put the code?</p>\n<p>For example I have the code system along with a congruent ValueSet:</p>\n<div class=\"codehilite\"><pre><span></span>X: treatment of broken leg\nY: treatment of hypertonia\n</pre></div>\n\n\n<p>and two corresponding PlanDefinitions:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;PlanDefinition&gt;\n    ...\n    &lt;useContext&gt;\n        &lt;code&gt;\n            &lt;system value=&quot;http://hl7.org/fhir/usage-context-type&quot; /&gt;\n            &lt;code value=&quot;workflow&quot; /&gt;\n        &lt;/code&gt;\n        &lt;valueCodeableConcept&gt;\n            &lt;coding&gt;\n                &lt;system value=&quot;http://my.company/CodeSystem/plan-types&quot; /&gt;\n                &lt;code value=&quot;X&quot; /&gt;\n            &lt;/coding&gt;\n        &lt;/valueCodeableConcept&gt;\n    &lt;/useContext&gt;\n    ...\n&lt;/PlanDefinition&gt;\n\n&lt;PlanDefinition&gt;\n    ...\n    &lt;useContext&gt;\n        &lt;code&gt;\n            &lt;system value=&quot;http://hl7.org/fhir/usage-context-type&quot; /&gt;\n            &lt;code value=&quot;workflow&quot; /&gt;\n        &lt;/code&gt;\n        &lt;valueCodeableConcept&gt;\n            &lt;coding&gt;\n                &lt;system value=&quot;http://my.company/CodeSystem/plan-types&quot; /&gt;\n                &lt;code value=&quot;Y&quot; /&gt;\n            &lt;/coding&gt;\n        &lt;/valueCodeableConcept&gt;\n    &lt;/useContext&gt;\n    ...\n&lt;/PlanDefinition&gt;\n</pre></div>\n\n\n<p>The only downside I see here is that the search parameter \"context-type-value\" is only defined from FHIR R4 and not in STU3. But if that's an issue, a custom search parameter would solve.</p>",
        "id": 153980870,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1533203840
    },
    {
        "content": "<p>context is for searching to find the right plan.  It doesn't actually influence what the plan is saying.</p>",
        "id": 153980923,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1533214841
    },
    {
        "content": "<p>Right. Isn't that what @<strong>Maximilian Fechteler</strong> means?<br>\nScenario:<br>\nThe practioner sees \"Oh, that patient apparently has a broken leg. What do I have to do (or document) now?\"<br>\nFrom his \"abbreviation library\" (the ValueSet) he then chooses \"broken leg\" (the current context) and then look up his \"action items\" by finding the PlanDefinition with useContext = \"broken leg\"</p>",
        "id": 153980980,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1533227511
    },
    {
        "content": "<p>The action items would be such things as \"document a diagnosis\", \"apply a cast\" \"prescribe pain medication\"</p>",
        "id": 153980981,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1533228031
    },
    {
        "content": "<p>yes that's what i meant... the plan shouldn't be dynamic or influenceable, just a fixed bunch of ressources depending on a codesystem. </p>\n<p>But thought practical... where can i reference the ressources(e.g. condition and observation) in the plandefiniton or activitydefinition? the attribute documentation(relatedArtifact) in the plandefinition ressource, as well as the relatedArtifact attribute in the activitydefintion ressource, is for adding additional Information, not for adding the main information in this context of use. This might be acceptable, but is that how it is planned by the authors?</p>",
        "id": 153981510,
        "sender_full_name": "Maximilian Reith",
        "timestamp": 1533277915
    },
    {
        "content": "<p>The resources that are expected results of the PlanDefinition are defined in action.output.<br>\nSince this is a definition, you don't refer to any resource instance here, but to the resource definition (or most likely a profile).</p>\n<p>Mainly in your case you probably would use:</p>\n<ul>\n<li>action.output.type - the actual code identifying the FHIR resource type and</li>\n<li>action.output.profile - the canonical URL of your profile</li>\n</ul>",
        "id": 153981570,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1533285704
    },
    {
        "content": "<p>Additionally, action.code would probably contain a relevant code, e.g. an OPS code for \"apply plaster cast to a broken leg\"</p>",
        "id": 153981572,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1533285846
    },
    {
        "content": "<p>That code might then be found in the Procedure resource created due to the according action.output definition</p>",
        "id": 153981573,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1533285929
    }
]