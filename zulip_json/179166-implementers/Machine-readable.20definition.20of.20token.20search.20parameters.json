[
    {
        "content": "<p>While working on the search parameters that use ContactPoint, it occurred to me that the table in the <a href=\"http://hl7.org/implement/standards/fhir/search.html#token\" target=\"_blank\" title=\"http://hl7.org/implement/standards/fhir/search.html#token\">token search definition</a> defining the URI/Code fields for various data types would be nice to have as a machine-readable definition.</p>\n<p>It's not obvious from the structure definitions or search parameters that sometimes the code field is called \"code\" or \"value\", and back in DSTU2/STU3 the URI field might be \"system\" or \"use\" (really glad to see ContactPoint.use as a token system removed in R4). It also makes it difficult to create a framework for users to define custom token search parameters as they can't express how the token should work.</p>\n<p>Perhaps the SearchParameter for a token could contain one expression/xpath for the URI and one for the code? If the URI expression is not present then it's an exact match on the code with no pipe character allowed in the query. This is a bit cumbersome because tokens are on data types that are used in many places, but I don't see a convenient way to annotate the data type itself.</p>",
        "id": 173673182,
        "sender_full_name": "Paul Church",
        "timestamp": 1566318753
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span></p>",
        "id": 173676988,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1566321568
    },
    {
        "content": "<p>I do not understand this; the name of the element on which the search parameter is based is explicit in the expression</p>",
        "id": 173698312,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1566337060
    },
    {
        "content": "<p>The explicit element is an instance of a data type - the opaque part is inside the data type. I know telecom is a token search on \"Patient.telecom\" from the expression.</p>\n<p>The knowledge that it is a token search with a URI of telecom.use (in STU3) and a code of telecom.value and a doesn't have .text or .display value - that information is only in the search spec.</p>",
        "id": 173698821,
        "sender_full_name": "Paul Church",
        "timestamp": 1566337544
    },
    {
        "content": "<p>that's true. I guess I hardcoded that since there's also modifiers and qualifiers and stuff to prepare for. We can't fill out all the implications of that in a table</p>",
        "id": 173825316,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1566416030
    }
]