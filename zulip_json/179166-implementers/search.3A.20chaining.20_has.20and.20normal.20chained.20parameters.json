[
    {
        "content": "<p>I have a<br>\nModel: There is a reference link Medication&lt;-MedicationRequest&lt;-DiagnosticReport-&gt;Encounter-&gt;Patient<br>\nGoal: Get all Medication requested during all Patient \"molly\"'s visits<br>\nrequest: Medication?_has:MedicationRequest:medication:_has:DiagnosticReport:based-on:context.subject.name=molly</p>\n<p>The Vonk server seems to supports this and gives me the medication record, while HAPI and <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">tx.fhir.org</a> give me errors. Given that at least one server returns results I'm assuming that this kind of chaining is allowed as per the spec.</p>\n<p>Suppose I have a<br>\nModel: There is a reference link DiagnosticReport-&gt;Observation&lt;-Condition<br>\nGoal: Get DiagnosticReports with result Observations referred to by Condition ddd</p>\n<p>Is the following request correct/possible? I tried to do DiagnosticReport?result=_has:Condition:evidence-detail:code=ddd<br>\nbut I got an error on HAPI, <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">tx.fhir.org</a>. Vonk just returned an empty bundle. Not sure if it's due to the syntax or it's completely not allowed as per the spec.</p>",
        "id": 153951037,
        "sender_full_name": "Michael Calderero",
        "timestamp": 1522964231
    },
    {
        "content": "<p><a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">tx.fhir.org</a> doesn't yet implement reverse include - it's on my list</p>",
        "id": 153951039,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522965706
    },
    {
        "content": "<p>I'm not talking about reverse include though, but rather chaining/reverse chaining parameters and asking about the possible ways you could combine them in a single search parameter.</p>",
        "id": 153951043,
        "sender_full_name": "Michael Calderero",
        "timestamp": 1522966205
    },
    {
        "content": "<p>DiagnosticReport?result=_has:Condition:evidence-detail:code=ddd is accepted by Vonk because \"_has:Condition:evidence-detail:code=ddd\" is accepted as a relative uri. But it does not make sense, and will never match any resource. Hence the empty bundle. We may need to be more strict on the format of references.</p>",
        "id": 153951148,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1523010460
    },
    {
        "content": "<p>Ok understood.</p>\n<p>So is there no possible way to search on the last example I gave? Maybe adding some additional param that has the same idea as _has but used for forward chaining, like:</p>\n<p>DiagnosticReport?_its:Observation:result:_has:Condition:evidence-detail:code=ddd</p>",
        "id": 153951154,
        "sender_full_name": "Michael Calderero",
        "timestamp": 1523016090
    },
    {
        "content": "<p>Using my first example, the query could be written in two ways; (1) which is already defined above or by using this new imaginary param:</p>\n<p>Medication?_has:MedicationRequest:medication:_has:DiagnosticReport:based-on:_its:Encounter:context:_its:Patient:subject:name=molly</p>",
        "id": 153951156,
        "sender_full_name": "Michael Calderero",
        "timestamp": 1523017407
    }
]