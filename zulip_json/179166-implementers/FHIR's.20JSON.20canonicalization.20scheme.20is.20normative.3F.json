[
    {
        "content": "<p><a href=\"http://build.fhir.org/json.html#canonical\">http://build.fhir.org/json.html#canonical</a> is normative. Has anyone implemented this in a real-world system? (Or any system?)</p>",
        "id": 255267516,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1632851669
    },
    {
        "content": "<p>I have and played with it for signatures, but not in real world use case</p>",
        "id": 255347131,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632895727
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196248\">@Evgenii Kogan</span> did you use this?</p>",
        "id": 255347157,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632895753
    },
    {
        "content": "<p>Yes, we do. We require laboratories to send JSONmin for signed lab results (bundle). Not every result is now signed, but some of them, starting at 2020.</p>",
        "id": 255537036,
        "sender_full_name": "Evgenii Kogan",
        "timestamp": 1632991124
    },
    {
        "content": "<p>what kind of signature do you use?</p>",
        "id": 255568694,
        "sender_full_name": "John Moehrke",
        "timestamp": 1633006711
    },
    {
        "content": "<p>We use qualified advanced digital signature.</p>",
        "id": 255590253,
        "sender_full_name": "Evgenii Kogan",
        "timestamp": 1633014374
    },
    {
        "content": "<p>Ups. API requires to send both JSON and PDF, and allows to sign or leave unsigned any of them. I am now unsure, how many JSONs are really signed, if any.  I will come back with the answer.</p>",
        "id": 255593666,
        "sender_full_name": "Evgenii Kogan",
        "timestamp": 1633015650
    },
    {
        "content": "<p>Is FHIR canonization the same as <a href=\"https://www.rfc-editor.org/rfc/rfc8785\">https://www.rfc-editor.org/rfc/rfc8785</a>?</p>",
        "id": 255610869,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1633021763
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196248\">@Evgenii Kogan</span> have you documented  your signature requirements for json and assuming is in English - can you share your documentation?</p>",
        "id": 255618505,
        "sender_full_name": "Eric Haas",
        "timestamp": 1633024521
    },
    {
        "content": "<p>I guess I would ask if you follow <a href=\"https://www.rfc-editor.org/rfc/rfc8785\">https://www.rfc-editor.org/rfc/rfc8785</a> does that mean you have got <a href=\"http://build.fhir.org/json.html#canonical\">http://build.fhir.org/json.html#canonical</a>  covered? expecially for the the text/narrative  xhtml parts?</p>",
        "id": 255620588,
        "sender_full_name": "Eric Haas",
        "timestamp": 1633025090
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191318\">@nicola (RIO/SS)</span> it is not. Especially around handling numbers, I think.</p>",
        "id": 255662968,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1633043035
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> Sorry for dropping out. The doc is in Russian. The only signature technical requirement in it is the following: <br>\nThe Lab Result should be sent with the qualified advanced digital signature of the Laboratory Organisation. Signature should use R34.10-2012 algorithms (it is a local standard), have Cryptographic Message Syntax, and be sent in the Base64binary format in the HTTP header.<br>\nExample:    .   signature: MIIThvcNAQcCoIITZjCCE2ICAQExDjAMBggqhQMHAQECAgUAMAsGCSqGSIb3DQEHAa... â€¨<br>\nIn order to make the signature validation possible JSON should be minimised (JSONmin). It should not contain tab, space and other special symbols. Example:     .   {\"resourceType\":\"Bundle\",\"type\":\"transaction\",\"meta\":{\"profile\":[\"Struct...</p>",
        "id": 259156446,
        "sender_full_name": "Evgenii Kogan",
        "timestamp": 1635280094
    },
    {
        "content": "<p>...canonical - It is not covered. Developers say there was no need for that, because the whole JSON string is signed, not separate fields.</p>",
        "id": 259156952,
        "sender_full_name": "Evgenii Kogan",
        "timestamp": 1635280369
    },
    {
        "content": "<p>Additionally, I asked about real signatures - yes, some Labs send signed JSON strings.</p>",
        "id": 259157444,
        "sender_full_name": "Evgenii Kogan",
        "timestamp": 1635280639
    },
    {
        "content": "<p>thanks for the summary, what was the rationale for putting the signature in the header and not using the signature element or Provenance?</p>",
        "id": 259158954,
        "sender_full_name": "Eric Haas",
        "timestamp": 1635281466
    },
    {
        "content": "<p>Signature element of what, in a single lab result? Provenance stored where? An approach using those here  isn't obvious, and signing a well defined serialized string... is pretty straightforward.</p>",
        "id": 259307449,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1635369291
    }
]