[
    {
        "content": "<p>Hello,</p>\n<p>I am using the following query to extract the referenced PractitionerRole and the further referenced Practitioner resource (within PractitionerRole resource) in the Condition resource:<br>\n<a href=\"https://localhost:12443/hapi-fhir-server/R4/Condition?_include=Condition:recorder&amp;_include:iterate=PractitionerRole:Practitioner\">https://localhost:12443/hapi-fhir-server/R4/Condition?_include=Condition:recorder&amp;_include:iterate=PractitionerRole:Practitioner</a></p>\n<p>It returns the condition resources but not the PractitionerRole or Practitioner resource. I performed this on HAPI FHIR server. I can post it on the HAPI stream as well, but I just wanted to check whether the method used makes sense or not. </p>\n<p>Thank you.</p>",
        "id": 214616214,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1603737646
    },
    {
        "content": "<p>Did the server echo back your search parameters in its 'self' link?  If not, it might not have supported what you were trying to do</p>",
        "id": 214621167,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603740160
    },
    {
        "content": "<p>Also, I think you need to fix the capitalization on 'Practitioner' to be 'practitioner.</p>",
        "id": 214621186,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603740180
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/.3Aiterate/near/214621186\">said</a>:</p>\n<blockquote>\n<p>Also, I think you need to fix the capitalization on 'Practitioner' to be 'practitioner.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  It echoed back correctly:<br>\n{<br>\n    \"resourceType\": \"Bundle\",<br>\n    \"id\": \"ce04f788-f5db-4cfc-a06e-722c3a94bd4e\",<br>\n    \"meta\": {<br>\n        \"lastUpdated\": \"2020-10-26T12:29:18.023-07:00\"<br>\n    },<br>\n    \"type\": \"searchset\",<br>\n    \"total\": 4,<br>\n    \"link\": [<br>\n        {<br>\n            \"relation\": \"self\",<br>\n            \"url\": \"<a href=\"https://fhir-poc-ps.corp.edifecs.com:12443/hapi-fhir-server/R4/Condition?_include=Condition%3Arecorder&amp;_include%3Aiterate=PractitionerRole%3Apractitioner\">https://fhir-poc-ps.corp.edifecs.com:12443/hapi-fhir-server/R4/Condition?_include=Condition%3Arecorder&amp;_include%3Aiterate=PractitionerRole%3Apractitioner</a>\"<br>\n        }<br>\n    ],<br>\n    \"entry\": [<br>\n        {<br>\n            \"fullUrl\": \"<a href=\"https://fhir-poc-ps.corp.edifecs.com:12443/hapi-fhir-server/R4/Condition/73\">https://fhir-poc-ps.corp.edifecs.com:12443/hapi-fhir-server/R4/Condition/73</a>\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"Condition\",<br>\n                \"id\": \"73\",<br>\n                \"meta\": {<br>\n                    \"versionId\": \"2\",<br>\n                    \"lastUpdated\": \"2020-10-26T11:16:44.737-07:00\",<br>\n                    \"source\": \"#8KfJl5vJSBV30okN\"<br>\n                },<br>\n                \"identifier\": [<br>\n                    {<br>\n                        \"system\": \"<a href=\"https://www.edifecs.com/fhir/CodeSystems/id-condition\">https://www.edifecs.com/fhir/CodeSystems/id-condition</a>\",<br>\n                        \"value\": \"b595561a35c295eec23c5d917c53217c1b2b5aa11ba00d3b7b801220d7f0fe21\"<br>\n                    }<br>\n                ],<br>\n                \"clinicalStatus\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"<a href=\"http://terminology.hl7.org/CodeSystem/condition-clinical\">http://terminology.hl7.org/CodeSystem/condition-clinical</a>\",<br>\n                            \"code\": \"active\",<br>\n                            \"display\": \"Active\"<br>\n                        }<br>\n                    ],<br>\n                    \"text\": \"ConditionClinicalStatusCodes\"<br>\n                },<br>\n                \"category\": [<br>\n                    {<br>\n                        \"coding\": [<br>\n                            {<br>\n                                \"system\": \"<a href=\"http://terminology.hl7.org/CodeSystem/condition-category\">http://terminology.hl7.org/CodeSystem/condition-category</a>\",<br>\n                                \"code\": \"problem-list-item\",<br>\n                                \"display\": \"Problem List Item\"<br>\n                            }<br>\n                        ],<br>\n                        \"text\": \"ConditionCategoryCodes\"<br>\n                    }<br>\n                ],<br>\n                \"code\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"urn:oid:2.16.840.1.113883.6.96\",<br>\n                            \"code\": \"233604007\",<br>\n                            \"display\": \"Pneumonia\"<br>\n                        }<br>\n                    ]<br>\n                },<br>\n                \"subject\": {<br>\n                    \"reference\": \"Patient/4\",<br>\n                    \"type\": \"Patient\"<br>\n                },<br>\n                \"onsetDateTime\": \"2013-07-03\",<br>\n                \"recorder\": {<br>\n                    \"reference\": \"PractitionerRole/141\",<br>\n                    \"type\": \"PractitionerRole\"<br>\n                }<br>\n            },<br>\n            \"search\": {<br>\n                \"mode\": \"match\"<br>\n            }<br>\n        },<br>\n        {<br>\n            \"fullUrl\": \"<a href=\"https://fhir-poc-ps.corp.edifecs.com:12443/hapi-fhir-server/R4/Condition/77\">https://fhir-poc-ps.corp.edifecs.com:12443/hapi-fhir-server/R4/Condition/77</a>\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"Condition\",<br>\n                \"id\": \"77\",<br>\n                \"meta\": {<br>\n                    \"versionId\": \"1\",<br>\n                    \"lastUpdated\": \"2020-10-16T10:13:40.293-07:00\",<br>\n                    \"source\": \"#oBOJ3m7dHA3ihdMm\"<br>\n                },<br>\n                \"identifier\": [<br>\n                    {<br>\n                        \"system\": \"<a href=\"https://www.edifecs.com/fhir/CodeSystems/id-condition\">https://www.edifecs.com/fhir/CodeSystems/id-condition</a>\",<br>\n                        \"value\": \"09602e49d657f5d55a16a49141ac9f7ead2259769332a921075d80d0bbd7a31b\"<br>\n                    }<br>\n                ],<br>\n                \"clinicalStatus\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"<a href=\"http://terminology.hl7.org/CodeSystem/condition-clinical\">http://terminology.hl7.org/CodeSystem/condition-clinical</a>\",<br>\n                            \"code\": \"active\",<br>\n                            \"display\": \"Active\"<br>\n                        }<br>\n                    ],<br>\n                    \"text\": \"ConditionClinicalStatusCodes\"<br>\n                },<br>\n                \"category\": [<br>\n                    {<br>\n                        \"coding\": [<br>\n                            {<br>\n                                \"system\": \"<a href=\"http://terminology.hl7.org/CodeSystem/condition-category\">http://terminology.hl7.org/CodeSystem/condition-category</a>\",<br>\n                                \"code\": \"problem-list-item\",<br>\n                                \"display\": \"Problem List Item\"<br>\n                            }<br>\n                        ],<br>\n                        \"text\": \"ConditionCategoryCodes\"<br>\n                    }<br>\n                ],<br>\n                \"code\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"urn:oid:2.16.840.1.113883.6.96\",<br>\n                            \"code\": \"29857009\",<br>\n                            \"display\": \"Chest pain\"<br>\n                        }<br>\n                    ]<br>\n                },<br>\n                \"subject\": {<br>\n                    \"reference\": \"Patient/4\",<br>\n                    \"type\": \"Patient\"<br>\n                },<br>\n                \"onsetDateTime\": \"2007-04-14\",<br>\n                \"recorder\": {<br>\n                    \"identifier\": {<br>\n                        \"system\": \"urn:oid:2.16.840.1.113883.4.6\",<br>\n                        \"value\": \"555555555\"<br>\n                    }<br>\n                }<br>\n            },<br>\n            \"search\": {<br>\n                \"mode\": \"match\"<br>\n            }<br>\n        },<br>\n        {<br>\n            \"fullUrl\": \"<a href=\"https://fhir-poc-ps.corp.edifecs.com:12443/hapi-fhir-server/R4/Condition/78\">https://fhir-poc-ps.corp.edifecs.com:12443/hapi-fhir-server/R4/Condition/78</a>\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"Condition\",<br>\n                \"id\": \"78\",<br>\n                \"meta\": {<br>\n                    \"versionId\": \"1\",<br>\n                    \"lastUpdated\": \"2020-10-16T10:13:40.293-07:00\",<br>\n                    \"source\": \"#oBOJ3m7dHA3ihdMm\"<br>\n                },<br>\n                \"identifier\": [<br>\n                    {<br>\n                        \"system\": \"<a href=\"https://www.edifecs.com/fhir/CodeSystems/id-condition\">https://www.edifecs.com/fhir/CodeSystems/id-condition</a>\",<br>\n                        \"value\": \"d260950b78d6991c2656e8b505ae0b4eab06420ae47f46152a04951ed412be21\"<br>\n                    }<br>\n                ],<br>\n                \"clinicalStatus\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"<a href=\"http://terminology.hl7.org/CodeSystem/condition-clinical\">http://terminology.hl7.org/CodeSystem/condition-clinical</a>\",<br>\n                            \"code\": \"active\",<br>\n                            \"display\": \"Active\"<br>\n                        }<br>\n                    ],<br>\n                    \"text\": \"ConditionClinicalStatusCodes\"<br>\n                },<br>\n                \"category\": [<br>\n                    {<br>\n                        \"coding\": [<br>\n                            {<br>\n                                \"system\": \"<a href=\"http://terminology.hl7.org/CodeSystem/condition-category\">http://terminology.hl7.org/CodeSystem/condition-category</a>\",<br>\n                                \"code\": \"problem-list-item\",<br>\n                                \"display\": \"Problem List Item\"<br>\n                            }<br>\n                        ],<br>\n                        \"text\": \"ConditionCategoryCodes\"<br>\n                    }<br>\n                ],<br>\n                \"code\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"urn:oid:2.16.840.1.113883.6.96\",<br>\n                            \"code\": \"194828000\",<br>\n                            \"display\": \"Angina\"<br>\n                        }<br>\n                    ]<br>\n                },<br>\n                \"subject\": {<br>\n                    \"reference\": \"Patient/4\",<br>\n                    \"type\": \"Patient\"<br>\n                },<br>\n                \"onsetDateTime\": \"2007-04-17\",<br>\n                \"recorder\": {<br>\n                    \"identifier\": {<br>\n                        \"system\": \"urn:oid:2.16.840.1.113883.4.6\",<br>\n                        \"value\": \"222334444\"<br>\n                    }<br>\n                }<br>\n            },<br>\n            \"search\": {<br>\n                \"mode\": \"match\"<br>\n            }<br>\n        },<br>\n        {<br>\n            \"fullUrl\": \"<a href=\"https://fhir-poc-ps.corp.edifecs.com:12443/hapi-fhir-server/R4/Condition/82\">https://fhir-poc-ps.corp.edifecs.com:12443/hapi-fhir-server/R4/Condition/82</a>\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"Condition\",<br>\n                \"id\": \"82\",<br>\n                \"meta\": {<br>\n                    \"versionId\": \"1\",<br>\n                    \"lastUpdated\": \"2020-10-16T10:13:40.702-07:00\",<br>\n                    \"source\": \"#GZQsZAKsofeCiHCn\"<br>\n                },<br>\n                \"identifier\": [<br>\n                    {<br>\n                        \"system\": \"<a href=\"https://www.edifecs.com/fhir/CodeSystems/id-condition\">https://www.edifecs.com/fhir/CodeSystems/id-condition</a>\",<br>\n                        \"value\": \"769f9fbf99bef44a6d0b53bd1f316313a89c67b680f50067e6491261f9bed370\"<br>\n                    }<br>\n                ],<br>\n                \"clinicalStatus\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"<a href=\"http://terminology.hl7.org/CodeSystem/condition-clinical\">http://terminology.hl7.org/CodeSystem/condition-clinical</a>\",<br>\n                            \"code\": \"resolved\",<br>\n                            \"display\": \"Resolved\"<br>\n                        }<br>\n                    ],<br>\n                    \"text\": \"ConditionClinicalStatusCodes\"<br>\n                },<br>\n                \"category\": [<br>\n                    {<br>\n                        \"coding\": [<br>\n                            {<br>\n                                \"system\": \"<a href=\"http://terminology.hl7.org/CodeSystem/condition-category\">http://terminology.hl7.org/CodeSystem/condition-category</a>\",<br>\n                                \"code\": \"problem-list-item\",<br>\n                                \"display\": \"Problem List Item\"<br>\n                            }<br>\n                        ],<br>\n                        \"text\": \"ConditionCategoryCodes\"<br>\n                    }<br>\n                ],<br>\n                \"code\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"urn:oid:2.16.840.1.113883.6.96\",<br>\n                            \"code\": \"233604007\",<br>\n                            \"display\": \"Pneumonia\"<br>\n                        }<br>\n                    ]<br>\n                },<br>\n                \"subject\": {<br>\n                    \"reference\": \"Patient/4\",<br>\n                    \"type\": \"Patient\"</p>",
        "id": 214622073,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1603740708
    },
    {
        "content": "<p>I mocked a Practitioner as well as PractitionerResource which refers to the condition/73, but it is not returning it.</p>",
        "id": 214622457,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1603740893
    },
    {
        "content": "<p>As I look at it, Condition.recorder isn't a standard search criteria - and you don't seem to be getting back the PractitionerRole, let alone the iterate on PractitionerRole:practitioner.  I suspect the issue is that HAPI doesn't support 'recorder' as a search criteria.  However, it definitely shouldn't be echoing that in the 'self' link.  <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> ?</p>",
        "id": 214623204,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603741252
    }
]