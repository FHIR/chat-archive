[
    {
        "content": "<p>is there a tool (ideally cli) to generate a snapshot from a differential StructureDefinition?</p>",
        "id": 153886413,
        "sender_full_name": "Ben Spencer",
        "timestamp": 1493375624
    },
    {
        "content": "<p>Both the .NET and Java implementations can do this.  I know the Java one isn't set up for command-line invocation and I don't think the Java one is either.  If you wanted to add that capability, we'd be happy to add that into the official code.  My recommendation would be to have it work similar to the validator where you can request multiple instances be processed with a single invocation as there's a large overhead (many seconds) to perform the initial load of the spec and any related implementation guides.</p>",
        "id": 153886425,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1493387713
    },
    {
        "content": "<p>I think snapshot generation was added to the validator.jar about a week ago. Unfortunately, the validator on <a href=\"http://build.fhir.org/downloads.html\" target=\"_blank\" title=\"http://build.fhir.org/downloads.html\">http://build.fhir.org/downloads.html</a> doesn't seem to be working atm (Error \"Could not find or load main class org.hl7.fhir.r4.validation.Validator\").</p>",
        "id": 153886427,
        "sender_full_name": "Ben Schrijver",
        "timestamp": 1493389246
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"193659\">@Ben Spencer</span>, Forge can generate an (offline) profile snapshot, using the open source FHIR .NET API (<a href=\"https://github.com/ewoutkramer/fhir-net-api\" target=\"_blank\" title=\"https://github.com/ewoutkramer/fhir-net-api\">https://github.com/ewoutkramer/fhir-net-api</a>). The API  does not include a command line utility out-of-the box, but it provides all the necessary building blocks to create one fairly easily.</p>",
        "id": 153886431,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1493393516
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191800\">@Ben Schrijver</span> how are you invoking it? Is it still a problem today?</p>",
        "id": 153886522,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493616058
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I just tried downloading <a href=\"http://build.fhir.org/validator.zip\" target=\"_blank\" title=\"http://build.fhir.org/validator.zip\">http://build.fhir.org/validator.zip</a>, unpacked it and ran java -jar org.hl7.fhir.validator.jar help and java -jar org.hl7.fhir.validator.jar  practitioner.xml and each time I get \"Error: Could not find or load main class org.hl7.fhir.r4.validation.Validator\".</p>",
        "id": 153886529,
        "sender_full_name": "Ben Schrijver",
        "timestamp": 1493620778
    },
    {
        "content": "<p>it would probably help if I actually created the class that it was referring to. Wait for revision 11971 to be available (~30min) and try again</p>",
        "id": 153886533,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493624230
    },
    {
        "content": "<p>Seems to be working now, thanks!</p>",
        "id": 153886547,
        "sender_full_name": "Ben Schrijver",
        "timestamp": 1493632241
    },
    {
        "content": "<p>great</p>",
        "id": 153886594,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493672633
    },
    {
        "content": "<p>Is there an operation defined on StructureDefinition to generate a snapshot version of a profile?</p>",
        "id": 153890600,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1495280587
    },
    {
        "content": "<p>$generate -implemented on my server. But I see it's not formally defined</p>",
        "id": 153890601,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1495282531
    },
    {
        "content": "<p>Should I expect a snapshot to expand (unconstrained) complex data types?  Forge (STU3) seems to be doing this, but I would expect that a snapshot only include the contents of any data type when I have modified it in some way. :(</p>",
        "id": 153896451,
        "sender_full_name": "Stephen Royce",
        "timestamp": 1499654548
    },
    {
        "content": "<blockquote>\n<p>$generate -implemented on my server. But I see it's not formally defined</p>\n</blockquote>\n<p>Will this become formally defined? Very useful!</p>",
        "id": 153896463,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1499670250
    },
    {
        "content": "<p>it should. want to make a task for us to do that?</p>",
        "id": 153896465,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1499672213
    },
    {
        "content": "<blockquote>\n<p>it should. want to make a task for us to do that?</p>\n</blockquote>\n<p>Forgot to create a task, done now: #13795</p>",
        "id": 153904671,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1504718570
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191757\">@Christiaan Knaap</span> do we implement this?</p>",
        "id": 153908652,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1505432921
    },
    {
        "content": "<p>Yes. From the CapabilityStatement:</p>\n<div class=\"codehilite\"><pre><span></span>            <span class=\"s2\">&quot;operation&quot;</span><span class=\"err\">:</span> <span class=\"p\">[</span>\n                <span class=\"p\">{</span>\n                    <span class=\"nt\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;validate&quot;</span><span class=\"p\">,</span>\n                    <span class=\"nt\">&quot;definition&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;reference&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/OperationDefinition/Resource-validate&quot;</span>\n                    <span class=\"p\">}</span>\n                <span class=\"p\">},</span>\n                <span class=\"p\">{</span>\n                    <span class=\"nt\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;snapshot&quot;</span><span class=\"p\">,</span>\n                    <span class=\"nt\">&quot;definition&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;reference&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://vonk.furore.com/OperationDefinition/Snapshot-expand&quot;</span>\n                    <span class=\"p\">}</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">]</span>\n</pre></div>\n\n\n<p>POST the StructureDefinition with or without snapshot to /StructureDefinition/$snapshot and you get it back with a freshly generated snapshot.</p>",
        "id": 153908657,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1505433295
    }
]