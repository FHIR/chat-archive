[
    {
        "content": "<p>Crossposting from #medications since it only has 144 members and this has 20k.</p>\n<p><a href=\"#narrow/stream/179249-Medication/topic/Compound.20Medications\">https://chat.fhir.org/#narrow/stream/179249-Medication/topic/Compound.20Medications</a></p>",
        "id": 272046517,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644963599
    },
    {
        "content": "<p>NCPDP is a standard for medication dispenses we pull from outpatient pharmacies. We want to encode this data back into FHIR format properly. We’ve done so for “normal” medications already.<br>\nCompound medications are trickier. We see something like this:</p>",
        "id": 272046599,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644963618
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/lgFM4OCMwOPVpJScq89ck-ji/CompoundMed.xml\">CompoundMed.xml</a></p>",
        "id": 272046629,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644963631
    },
    {
        "content": "<p>In order to represent the compounded medication, we must use the FHIR Medication resource as a contained resource. Here’s an example compounded Medication:</p>",
        "id": 272046649,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644963639
    },
    {
        "content": "<p><code>{\n  \"resourceType\": \"Medication\",\n  \"id\": \"med0319\",\n  \"text\": {\n    \"status\": \"generated\",\n    \"div\": \"&lt;div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"&gt;&lt;p&gt;&lt;b&gt;Generated Narrative with Details&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;id&lt;/b&gt;: med0319&lt;/p&gt;&lt;p&gt;&lt;b&gt;form&lt;/b&gt;: Ointment &lt;span&gt;(Details : {SNOMED CT code '385101003' = 'Ointment', given as 'Ointment'})&lt;/span&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;b&gt;ingredient&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;item&lt;/b&gt;: Salicyclic Acid (substance) &lt;span&gt;(Details : {SNOMED CT code '387253001' = 'Salicylic acid', given as 'Salicyclic Acid (substance)'})&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;strength&lt;/b&gt;: 5 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;/100 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&lt;b&gt;ingredient&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;item&lt;/b&gt;: Hydrocortisone (substance) &lt;span&gt;(Details : {SNOMED CT code '396458002' = 'Hydrocortisone', given as 'Hydrocortisone (substance)'})&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;strength&lt;/b&gt;: 1 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;/100 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;blockquote&gt;&lt;p&gt;&lt;b&gt;ingredient&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;item&lt;/b&gt;: White Petrolatum (substance) &lt;span&gt;(Details : {SNOMED CT code '126066007' = 'White petroleum', given as 'White Petrolatum (substance)'})&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;strength&lt;/b&gt;: 94 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;/100 g&lt;span&gt; (Details: UCUM code g = 'g')&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;\"\n  },\n  \"form\": {\n    \"coding\": [\n      {\n        \"system\": \"http://snomed.info/sct\",\n        \"code\": \"385101003\",\n        \"display\": \"Ointment\"\n      }\n    ],\n    \"text\": \"Ointment\"\n  },\n  \"ingredient\": [\n    {\n      \"itemCodeableConcept\": {\n        \"coding\": [\n          {\n            \"system\": \"http://snomed.info/sct\",\n            \"code\": \"387253001\",\n            \"display\": \"Salicyclic Acid (substance)\"\n          }\n        ]\n      },\n      \"strength\": {\n        \"numerator\": {\n          \"value\": 5,\n          \"system\": \"http://unitsofmeasure.org\",\n          \"code\": \"g\"\n        },\n        \"denominator\": {\n          \"value\": 100,\n          \"system\": \"http://unitsofmeasure.org\",\n          \"code\": \"g\"\n        }\n      }\n    },\n    {\n      \"itemCodeableConcept\": {\n        \"coding\": [\n          {\n            \"system\": \"http://snomed.info/sct\",\n            \"code\": \"396458002\",\n            \"display\": \"Hydrocortisone (substance)\"\n          }\n        ]\n      },\n      \"strength\": {\n        \"numerator\": {\n          \"value\": 1,\n          \"system\": \"http://unitsofmeasure.org\",\n          \"code\": \"g\"\n        },\n        \"denominator\": {\n          \"value\": 100,\n          \"system\": \"http://unitsofmeasure.org\",\n          \"code\": \"g\"\n        }\n      }\n    },\n    {\n      \"itemCodeableConcept\": {\n        \"coding\": [\n          {\n            \"system\": \"http://snomed.info/sct\",\n            \"code\": \"126066007\",\n            \"display\": \"White Petrolatum (substance)\"\n          }\n        ]\n      },\n      \"strength\": {\n        \"numerator\": {\n          \"value\": 94,\n          \"system\": \"http://unitsofmeasure.org\",\n          \"code\": \"g\"\n        },\n        \"denominator\": {\n          \"value\": 100,\n          \"system\": \"http://unitsofmeasure.org\",\n          \"code\": \"g\"\n        }\n      }\n    }\n  ]\n}</code></p>",
        "id": 272046678,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644963657
    },
    {
        "content": "<p>It’s not clear how we map the quantity into the Medication. For instance, this:</p>",
        "id": 272046688,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644963667
    },
    {
        "content": "<p><code>     &lt;CompoundIngredientsLotNotUsed&gt;\n                        &lt;CompoundIngredient&gt;\n                            &lt;CompoundIngredientItemDescription&gt;PLO flowable Pluronic Lecithin Organogel&lt;/CompoundIngredientItemDescription&gt;\n                            &lt;ItemNumber&gt;\n                                &lt;Code&gt;00395013501&lt;/Code&gt;\n                                &lt;Qualifier&gt;ND&lt;/Qualifier&gt;\n                            &lt;/ItemNumber&gt;\n                        &lt;/CompoundIngredient&gt;\n                        &lt;Quantity&gt;\n                            &lt;Value&gt;82.9&lt;/Value&gt;\n                            &lt;CodeListQualifier&gt;87&lt;/CodeListQualifier&gt;\n                            &lt;QuantityUnitOfMeasure&gt;\n                                &lt;Code&gt;C48155&lt;/Code&gt;\n                            &lt;/QuantityUnitOfMeasure&gt;\n                        &lt;/Quantity&gt;\n                    &lt;/CompoundIngredientsLotNotUsed&gt;</code></p>",
        "id": 272046703,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644963679
    },
    {
        "content": "<p>Seems to say that 82.9 grams (C48155 stands for grams) of PLO flowable Pluronic Lecithin Organogel were used, but that feels like an amount and not a strength.</p>",
        "id": 272046727,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644963690
    },
    {
        "content": "<p>Anyone know how to encode this properly? Is FHIR not able to do compound medications properly?</p>",
        "id": 272046762,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644963708
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"200498\">Brendan Keeler</span> <a href=\"#narrow/stream/179166-implementers/topic/Compound.20medications/near/272046517\">said</a>:</p>\n<blockquote>\n<p>Crossposting from #medications since it only has 144 members and this has 20k.</p>\n<p><a href=\"#narrow/stream/179249-Medication/topic/Compound.20Medications\">https://chat.fhir.org/#narrow/stream/179249-Medication/topic/Compound.20Medications</a></p>\n</blockquote>\n<p>bad idea... those 144 understand medication... all you have done is make the 20k-144 see your message.</p>",
        "id": 272046884,
        "sender_full_name": "John Moehrke",
        "timestamp": 1644963770
    },
    {
        "content": "<p>I disagree? There's a chance someone in the 20k might know? Heck, I'll post it on Twitter too if a wider audience means I might find someone who knows and responds</p>",
        "id": 272047096,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1644963876
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"200498\">Brendan Keeler</span> <a href=\"#narrow/stream/179166-implementers/topic/Compound.20medications/near/272046762\">said</a>:</p>\n<blockquote>\n<p>Anyone know how to encode this properly? Is FHIR not able to do compound medications properly?</p>\n</blockquote>\n<p>Ha ha, I posted my comments on your Medication thread just as you crossposted, so you needed to wait 5 more minutes for an answer! <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span>  We have multiple systems able to do compound medications just fine.  You have a built-in ratio in your representation Xg/100g so I'm not sure what the ultimate problem is.   As I said in the first thread, R5 medication has added Quantity and CodeableConcept to the ingredient strength to allow for things that weren't ratios (eg. 5%) or to say QS (as much as is needed).  You can backport the new options into R4 with an extension of you need.</p>",
        "id": 272048473,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1644964719
    }
]