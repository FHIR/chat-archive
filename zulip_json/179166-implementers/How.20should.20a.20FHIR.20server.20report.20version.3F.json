[
    {
        "content": "<p>Sorry if this is an FAQ ...</p>\n<p>How is a FHIR Server supposed to report the version of FHIR it supports, e.g. should an STU3 server return STU3 through some API (and maybe also the specific dot level)?  [Not the compatibilityStatement -- that seems way too expensive to simply report which version)</p>",
        "id": 180244364,
        "sender_full_name": "John Silva",
        "timestamp": 1573229516
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/capabilitystatement-operation-versions.html\" target=\"_blank\" title=\"http://build.fhir.org/capabilitystatement-operation-versions.html\">http://build.fhir.org/capabilitystatement-operation-versions.html</a></p>",
        "id": 180251760,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1573233824
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  - thanks.   This seems to return dotted version numbers; is there a means to return the \"logical release\", e.g. DSTU2 vs STU3 vs R4 vs R5, etc.?</p>",
        "id": 180257630,
        "sender_full_name": "John Silva",
        "timestamp": 1573237899
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/valueset-FHIR-version.html\" target=\"_blank\" title=\"http://build.fhir.org/valueset-FHIR-version.html\">http://build.fhir.org/valueset-FHIR-version.html</a></p>",
        "id": 180265264,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1573242794
    },
    {
        "content": "<p>this is a formal valueset not sure if this helps...</p>",
        "id": 180265365,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1573242845
    },
    {
        "content": "<p>DSTU2 = 1.0<br>\nSTU3 = 3.0<br>\nR4 = 4.0<br>\nR5 = 4.1 right now, but that will change next month</p>",
        "id": 180265668,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1573243062
    },
    {
        "content": "<p>OK, that's what we need.  I don't expect (at this point) our FHIR server to need to differentiate dot-level version changes.   So, which FHIR REST API would/should return this or is the only mechanism the capabilitystatement-operation-versions that Lloyd mentioned?   What do servers link Vonk and others do or is is not specified so it's 'proprietary' ?</p>",
        "id": 180279305,
        "sender_full_name": "John Silva",
        "timestamp": 1573252355
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194183\">@John Silva</span> You can use <code>[base]/metadata?_elements=fhirVersion</code> which returns a subsetted resource and is quite fast on HAPI and Vonk.</p>",
        "id": 180300316,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1573283116
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197470\">@Alexander Kiel</span>  thanks.  I tried that on Grahame's test server and it returns the complete list of resources, not what I need, I'm looking simply for the 'major' or logical FHIR server versions, e.g. 'STU3' vs 'R4' vs 'R5'.   I suppose I could send the dotted version number and additionally add the 'logical' version but I'm looking to find an 'official way' of doing this.</p>\n<p><a href=\"http://test.fhir.org/r4/metadata?_elements=fhirVersion\" target=\"_blank\" title=\"http://test.fhir.org/r4/metadata?_elements=fhirVersion\">http://test.fhir.org/r4/metadata?_elements=fhirVersion</a></p>",
        "id": 180312185,
        "sender_full_name": "John Silva",
        "timestamp": 1573304420
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194183\">@John Silva</span>  With the right Accept header Grahame's test server also returns \"only\" the version:</p>\n<div class=\"codehilite\"><pre><span></span>$ curl -H &#39;Accept:application/fhir+json&#39; -s http://test.fhir.org/r4/metadata?_elements=fhirVersion | jq .\n{\n  &quot;resourceType&quot;: &quot;CapabilityStatement&quot;,\n  &quot;id&quot;: &quot;FhirServer&quot;,\n  &quot;status&quot;: &quot;active&quot;,\n  &quot;date&quot;: &quot;2019-11-09T13:03:14.391Z&quot;,\n  &quot;kind&quot;: &quot;instance&quot;,\n  &quot;fhirVersion&quot;: &quot;4.0.1&quot;,\n  &quot;format&quot;: [\n    &quot;application/fhir+xml&quot;,\n    &quot;application/fhir+json&quot;\n  ]\n}\n</pre></div>",
        "id": 180312336,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1573304673
    },
    {
        "content": "<p>Hmm, I just noticed that Grahame's test server actually returns exactly what I was asking for:</p>\n<p><a href=\"http://test.fhir.org/r4/$versions\" target=\"_blank\" title=\"http://test.fhir.org/r4/$versions\">http://test.fhir.org/r4/$versions</a></p>\n<p>{<br>\n  \"resourceType\" : \"Parameters\",<br>\n  \"parameter\" : [<br>\n    {<br>\n      \"name\" : \"version\",<br>\n      \"valueString\" : \"r4\"<br>\n    }<br>\n  ]<br>\n}</p>\n<p>So, is that FHIR standards compliant?   If so, that's what I need (to implement).</p>",
        "id": 180312649,
        "sender_full_name": "John Silva",
        "timestamp": 1573305191
    },
    {
        "content": "<p>As I read it <a href=\"https://www.hl7.org/fhir/capabilitystatement.html#mixed\" target=\"_blank\" title=\"https://www.hl7.org/fhir/capabilitystatement.html#mixed\">here</a> the $version operation is only needed if a server implements multiple versions. So I would not depend on it.</p>",
        "id": 180312801,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1573305457
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197470\">@Alexander Kiel</span>  - in our case we are implementing the FHIR server and need to support multiple versions, so we could support this $versions API for our needs.   I'm just trying to make sure that the valueString=\"r4\" is a FHIR compliant way of representing versions; everywhere else it seems to talk about dotted version numbers.</p>\n<p>(and the $versions interface also has a default property which isn't shown in test server)</p>",
        "id": 180313922,
        "sender_full_name": "John Silva",
        "timestamp": 1573307357
    },
    {
        "content": "<p>Yes it talks about dotted versions. I would just ask Grahame what he thinks about this.</p>",
        "id": 180314001,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1573307521
    },
    {
        "content": "<p>that's a bug in my server.I just fixed it in the source</p>",
        "id": 180329411,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1573330604
    },
    {
        "content": "<p>Oh, I was hoping that was a legal return value for version!</p>",
        "id": 180332099,
        "sender_full_name": "John Silva",
        "timestamp": 1573334374
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194183\">@John Silva</span> If it is still relevant: we implemented $version in Vonk 3.3.</p>",
        "id": 190839976,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1584448214
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191757\">@Christiaan Knaap</span> .  That's good to know.  It's been a while since I asked this question.  Was there any consensus on how the FHIR spec says that FHIR servers should report versions?</p>",
        "id": 190841621,
        "sender_full_name": "John Silva",
        "timestamp": 1584449124
    },
    {
        "content": "<p>server header in http</p>",
        "id": 190893768,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584470712
    }
]