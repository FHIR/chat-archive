[
    {
        "content": "<p>I discussed about this case in DevDays with David Hay and he suggested to send question to chat...</p>\n<p>Can both observation.code (+ value) and component.code (+ value) be at the same time in observation? Example heart rate (loinc: 8867-4) and heart rate rhythm (loinc: 8884-9) (Note! This is just example, maybe the heart rate rhythm could go to interpretation):</p>\n<p>Way 1: <br>\n- heart rate<br>\n-- observation.code (8867-4, Heart rate)<br>\n-- observation.valueQuantity (value + unit, unit beats/min)</p>\n<p>- heart rate rhythm<br>\n-- observation.component.code (8884-9, Heart rate rhythm)<br>\n-- observation.component.valueCodeableConcept (system + code, ValueSet where codes regular|irregular)</p>\n<p>Is that OK to use those as above? </p>\n<p>Or is it better to put both in component:</p>\n<p>Way 2 (two slices): <br>\n- heart rate rhythm<br>\n-- observation.component.code (8867-4, Heart rate)<br>\n-- observation.component.valueQuantity (value + unit, unit beats/min)</p>\n<p>- heart rate rhythm<br>\n-- observation.component.code (8884-9, Heart rate rhythm)<br>\n-- observation.component.valueCodeableConcept (system + code, ValueSet where codes regular|irregular)</p>\n<p>In the case above (if ok), is that OK to use value of the observation.component.code (8867-4) also in observation.code (because observation.code is mandatory)? </p>\n<p>One way to use observation is also put heart rate rhythm in extension, example:</p>\n<p>Way 3: <br>\n- heart rate<br>\n-- observation.code (8867-4, Heart rate)<br>\n-- observation.valueQuantity (value + unit, unit beats/min)</p>\n<p>- extension(heart rate rhythm)<br>\n-- and if we want here both code (8884-9) and valueCodeableConcept (regular|irregular), this should perhaps be complex extension</p>\n<p>Which is the recommended way to use observation resource?</p>",
        "id": 153858123,
        "sender_full_name": "Mika Tuomainen",
        "timestamp": 1479821418
    },
    {
        "content": "<p>Those are two separate observations.  They are not component of  single observation IMO.  i.e. they can stand alone and be interpreted separately.  So if you want to group them then you would need to group as a panel.  either using  DiagnosticReport which is uncommon for vitals or using  the .related element in Observation.   </p>\n<p>The pattern would be </p>\n<p>Observation.code = heart rate panel code<br>\nNO Observation.value</p>\n<p>Observation.related[1] = heartrate Observation<br>\nObservation.related[2] = rhythm Observation</p>\n<p>If you insist on using  Observation.component the pattern would be the similar</p>\n<p>The pattern would be </p>\n<p>Observation.code = heart rate panel code<br>\nNO Observation.value</p>\n<p>Observation.component.code[1] = heartrate <br>\nObservation.component.value[1] = 80 BPM <br>\nObservation.component.code[2] = rhythm <br>\nObservation.component.code[2] = sinus tachycardia</p>",
        "id": 153858148,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479831962
    },
    {
        "content": "<p>See <a href=\"http://build.fhir.org/observation-examples.html\" target=\"_blank\" title=\"http://build.fhir.org/observation-examples.html\">examples</a>  in the spec  for panels and components and <a href=\"http://healthedatainc.com/go-ftp/micro/\" target=\"_blank\" title=\"http://healthedatainc.com/go-ftp/micro/\">here</a> too.</p>",
        "id": 153858149,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479832245
    },
    {
        "content": "<p>As I said in the beginning of my question, heart rate + heart rate rhythm was just an example. The main question was, can observation.value and observation.component.value be present at the same time in one observation?</p>\n<p>To be sure:<br>\n- \"obs-7: Component code SHALL not be same as observation code\" -&gt; that is why I have to use panel code, am I right?<br>\n- \"Secondly panels can be grouped via the component structure, if the panel members share the same attributes and are not separable observations\" -&gt; Does this \"share the same attributes\" prevent to use both Observation.component.valueQuantity and Observation.component.valueCodeableConcept in one observation (type of value is different)?</p>",
        "id": 153858207,
        "sender_full_name": "Mika Tuomainen",
        "timestamp": 1479886227
    },
    {
        "content": "<p>you can have both Observation.value and Observation.component.value</p>",
        "id": 153858375,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1479974666
    }
]