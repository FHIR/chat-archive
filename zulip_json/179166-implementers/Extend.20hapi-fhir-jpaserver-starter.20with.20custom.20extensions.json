[
    {
        "content": "<p>Dear all,<br>\nI am using hapi-fhir-hpaserver-starter for local testing. I need to extend it with custom extensions.<br>\nI 've created in main/java/ca/uhn/fhir/jpa/starter/ MyPatient,java and filled with the appropriate code as specified in (<a href=\"https://hapifhir.io/doc_extensions.html\" target=\"_blank\" title=\"https://hapifhir.io/doc_extensions.html\">https://hapifhir.io/doc_extensions.html</a>)<br>\nThen <code>mvn clean package</code> and  <code>mvn jetty:run</code> <br>\nThe capability statement however does not show petName.<br>\nCould you please explain how to extend it ?<br>\nThanks</p>",
        "id": 181619048,
        "sender_full_name": "Luca Toldo",
        "timestamp": 1574412446
    },
    {
        "content": "<p>Hey, i'm assuming that you want to handle \"custom\" profiled Patient instances. <br>\nThis can be handled by hapi, or any other FHIR server, without any modifications as a profiled Patient is still a Patient and FHIR Servers know how to handle profiled Resources and added Extensions.</p>",
        "id": 181619459,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1574412896
    },
    {
        "content": "<p>Thankyou Patrick for your quick reply. <br>\nI need to <em>extend</em> Patient with additional field that is not present in the class.<br>\nAnd I need to be able to search on that field too.<br>\nFor practical reasons I am using api-fhir-hpaserver-starter and I understood that I need to implement the java class as in the doc_extension.html <br>\nI did it but when I run jetty it does not show petName. Additionally, if I query or post a Patient resource with the petName attribute it gets ignored, and in the log it is written that the attribute is unknown</p>",
        "id": 181619855,
        "sender_full_name": "Luca Toldo",
        "timestamp": 1574413264
    },
    {
        "content": "<p>If you want to add extra fields/information, the FHIR compliant way to do this is adding Extensions. Just adding new fields will break your FHIR compatibility.</p>",
        "id": 181620019,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1574413423
    },
    {
        "content": "<p>Hapi has the technical capability of extending/modifying/adding new classes, but this shouldn't be needed as FHIR already has mechanisms to handle \"extra fields\".</p>",
        "id": 181620124,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1574413497
    },
    {
        "content": "<p>Can you please provide a link to a tutorial or practical example on how to add an Extension ?</p>",
        "id": 181620290,
        "sender_full_name": "Luca Toldo",
        "timestamp": 1574413660
    },
    {
        "content": "<p>I was trying to follow the <a href=\"https://hapifhir.io/doc_extensions.html\" target=\"_blank\" title=\"https://hapifhir.io/doc_extensions.html\">https://hapifhir.io/doc_extensions.html</a> documentation</p>",
        "id": 181620360,
        "sender_full_name": "Luca Toldo",
        "timestamp": 1574413700
    },
    {
        "content": "<p>You need to:</p>\n<ul>\n<li>create your Extension as a StructureDefinition</li>\n<li>create your Profile(s) as StructureDefinitions</li>\n<li>Upload everything on your hapi server ( {base_url}/StructureDefinition)</li>\n<li>you are done</li>\n</ul>",
        "id": 181622169,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1574415416
    },
    {
        "content": "<p>Thankyou</p>",
        "id": 181623758,
        "sender_full_name": "Luca Toldo",
        "timestamp": 1574416886
    }
]