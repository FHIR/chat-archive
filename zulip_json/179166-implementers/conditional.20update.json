[
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"*\">@all</span> </p>\n<p>The conditional update section of the spec says: \"The server performs a create interaction\" when there is no match, does this mean we should always create the resource regardless whether the server doesn't allow creation through normal update?</p>\n<p>If yes, it might be a bit confusing for customers since update and conditional update have different behaviors, especially when the server has a global configuration for that.<br>\nIf no, how are clients supposed to create or update through the transaction API without knowing whether the resource exists or not?</p>\n<p>Thanks!<br>\nJie</p>",
        "id": 153957267,
        "sender_full_name": "Jie Fan",
        "timestamp": 1525881482
    },
    {
        "content": "<p>Oops sorry for @ing all. Didn't see Lloyd's message earlier.</p>",
        "id": 153957272,
        "sender_full_name": "Jie Fan",
        "timestamp": 1525881889
    },
    {
        "content": "<p>You would only allow the create if you normally allow creates.  If you'd like to submit a change request, we can clarify that in the spec.</p>",
        "id": 153957319,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1525888868
    },
    {
        "content": "<p>Thanks Lloyd, this is what I expected. A followup question I have is, how are clients supposed to create or update a resource depending on whether the resource already exists (i.e. create the resource if it doesn't exist, update it otherwise) through the transaction API? From the transaction bundle example here: <a href=\"http://hl7.org/fhir/bundle-transaction.json.html\" target=\"_blank\" title=\"http://hl7.org/fhir/bundle-transaction.json.html\">http://hl7.org/fhir/bundle-transaction.json.html</a>, I see that the patient with identifier 234234 appears in a conditional create as well as a conditional update entry, is this the canonical way to handle the issue?</p>",
        "id": 153957332,
        "sender_full_name": "Jie Fan",
        "timestamp": 1525890973
    },
    {
        "content": "<p>Assuming server disables create through update of course.</p>",
        "id": 153957334,
        "sender_full_name": "Jie Fan",
        "timestamp": 1525891033
    },
    {
        "content": "<p>BTW, where do I submit a change request?</p>",
        "id": 153957338,
        "sender_full_name": "Jie Fan",
        "timestamp": 1525891092
    },
    {
        "content": "<p>For change requests, there's a link at the bottom of every page in the spec that says \"propose a change\".  You'll need to do a 1-time registration and we'll confirm you're a real human.  After that, you can submit requests at will :)</p>",
        "id": 153957340,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1525891144
    },
    {
        "content": "<p>Conditional create and conditional update is the only way if you don't have the ability to assign the resource id.</p>",
        "id": 153957343,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1525891184
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 153957349,
        "sender_full_name": "Jie Fan",
        "timestamp": 1525891517
    },
    {
        "content": "<p>FYI, change request created: <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=16549&amp;start=10175\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=16549&amp;start=10175\">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=16549&amp;start=10175</a></p>",
        "id": 153957420,
        "sender_full_name": "Jie Fan",
        "timestamp": 1525896822
    },
    {
        "content": "<p>Thanks</p>",
        "id": 153957428,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1525899236
    },
    {
        "content": "<p>Jie, sounds like you simply want to use the normal UPDATE (aka http POST). <a href=\"http://build.fhir.org/http.html#update\" target=\"_blank\" title=\"http://build.fhir.org/http.html#update\">http://build.fhir.org/http.html#update</a>   Can you describe your use-case need in more detail?</p>",
        "id": 153957518,
        "sender_full_name": "John Moehrke",
        "timestamp": 1525953658
    },
    {
        "content": "<p>Hi John, I am doing HL7v2 -&gt; FHIR conversion, update wouldn't work because the client doesn't know if the resource already exists on the server (thus the resource id, given our server disables create through update).</p>",
        "id": 153957617,
        "sender_full_name": "Jie Fan",
        "timestamp": 1525963652
    },
    {
        "content": "<p>Hi, I have a question regarding the transaction bundle example posted above, in the example the identifier 234234 is used twice but according to the spec(<a href=\"https://www.hl7.org/fhir/bundle.html#bundle-unique\" target=\"_blank\" title=\"https://www.hl7.org/fhir/bundle.html#bundle-unique\">https://www.hl7.org/fhir/bundle.html#bundle-unique</a>) no duplicates are allowed in transaction bundle. The example seems to conflict with the spec. Is this an error in the example?</p>",
        "id": 153989579,
        "sender_full_name": "Ray Cai",
        "timestamp": 1534785810
    },
    {
        "content": "<p>I think it is  in R3, yes - it really doesn't make sense to do a create and an update on the same resource in the same transaction.</p>",
        "id": 153989662,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534799312
    },
    {
        "content": "<p>Thanks Grahame, but if it's not allowed to do a create and an update on the same resource in the same transaction, then back to Jie's question above:<br>\nhow are clients supposed to create or update through the transaction API without knowing whether the resource exists or not, given that the server disables create through update?</p>",
        "id": 153989815,
        "sender_full_name": "Ray Cai",
        "timestamp": 1534864947
    },
    {
        "content": "<p>probably not able to happen?</p>",
        "id": 153989870,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534884138
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192758\">@Craig Newman</span>  Hi Craig, I would love to join. I am currently involved in a few projects including ADT, pathology, pharmacy, medications management and OHC, all of which will involve a level of mapping HL7 V2 into the appropriate FHIR resources.<br>\nMany thanks<br>\nJulia</p>",
        "id": 161693178,
        "sender_full_name": "Julia Davis",
        "timestamp": 1553552182
    },
    {
        "content": "<p>As I understand it, if I do a <em>conditional</em> update, I shall  NOT enter a logical id. If I do an update, I shall enter a logical id. Is this correct?</p>",
        "id": 179172152,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1572184617
    },
    {
        "content": "<p>Correct</p>",
        "id": 179172284,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1572184818
    },
    {
        "content": "<blockquote>\n<p>Correct</p>\n</blockquote>\n<p>Thanks! Love a concrete statement!</p>",
        "id": 179172296,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1572184859
    }
]