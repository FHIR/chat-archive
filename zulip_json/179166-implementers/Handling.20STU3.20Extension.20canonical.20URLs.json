[
    {
        "content": "<p>What are the recommended guidelines for handling/using STU3 extensions that are no longer available in R4?<br>\nFor example, our STU3 profile use <a href=\"http://hl7.org/fhir/STU3/extension-observation-eventtiming.html\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/extension-observation-eventtiming.html\">http://hl7.org/fhir/STU3/extension-observation-eventtiming.html</a>, but our profile structure definition references the canonical URL -- <a href=\"http://hl7.org/fhir/StructureDefinition/observation-eventTiming\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/observation-eventTiming\">http://hl7.org/fhir/StructureDefinition/observation-eventTiming</a> -- which no longer resolves after the R4 publication.</p>\n<p>The STU3 profile itself declares its FHIR version to be 3.0.1 -- is that sufficiently obvious that someone would need to muck with the canonical URL declaration (<a href=\"http://hl7.org/fhir/StructureDefinition/observation-eventTiming\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/observation-eventTiming\">http://hl7.org/fhir/StructureDefinition/observation-eventTiming</a>)  in order to get at the actual resolvable page (<a href=\"http://hl7.org/fhir/STU3/extension-observation-eventtiming.html\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/extension-observation-eventtiming.html\">http://hl7.org/fhir/STU3/extension-observation-eventtiming.html</a>)? Or should the STU3 profile reference the version-specific extension, via <a href=\"http://hl7.org/fhir/STU3/extension-observation-eventtiming.html\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/extension-observation-eventtiming.html\">http://hl7.org/fhir/STU3/extension-observation-eventtiming.html</a> or <a href=\"http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1\">http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1</a>? (and is there a preference for one URL format or the other?</p>",
        "id": 156400122,
        "sender_full_name": "Ken Sinn",
        "timestamp": 1547845979
    },
    {
        "content": "<p>actually, the formal version specific canonical URL is  <a href=\"http://hl7.org/fhir/3.0/StructureDefinition/observation-eventTiming\" target=\"_blank\" title=\"http://hl7.org/fhir/3.0/StructureDefinition/observation-eventTiming\">http://hl7.org/fhir/3.0/StructureDefinition/observation-eventTiming</a></p>",
        "id": 156417391,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1547867006
    },
    {
        "content": "<p>the only way to know that from an R3 perspective is magic, but it is documented formally as part of R4</p>",
        "id": 156417440,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1547867073
    },
    {
        "content": "<blockquote>\n<p><a href=\"http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1\">http://hl7.org/fhir/StructureDefinition/observation-eventTiming|3.0.1</a></p>\n</blockquote>\n<p>that's something else - which we haven't yet worked on for the spec - the R4 definition of the R3 version of the extension - but that doesn't exist anyway</p>",
        "id": 156417451,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1547867126
    },
    {
        "content": "<p>A related question: when defining a FHIR Profile and binding an element to a FHIR version-specific valueset, which of the following should we use for the canonical URL?<br>\nA) <a href=\"http://hl7.org/fhir/stu3/ValueSet/document-relationship-type\" target=\"_blank\" title=\"http://hl7.org/fhir/stu3/ValueSet/document-relationship-type\">http://hl7.org/fhir/stu3/ValueSet/document-relationship-type</a><br>\nB) <a href=\"http://hl7.org/fhir/ValueSet/document-relationship-type|3.0.1\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/document-relationship-type|3.0.1\">http://hl7.org/fhir/ValueSet/document-relationship-type|3.0.1</a><br>\nC) <a href=\"http://hl7.org/fhir/3.0/ValueSet/document-relationship-type\" target=\"_blank\" title=\"http://hl7.org/fhir/3.0/ValueSet/document-relationship-type\">http://hl7.org/fhir/3.0/ValueSet/document-relationship-type</a></p>",
        "id": 156551698,
        "sender_full_name": "Ken Sinn",
        "timestamp": 1548093165
    },
    {
        "content": "<p>B</p>",
        "id": 156552188,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1548093619
    },
    {
        "content": "<p>The other two resolve, but they're not the canonical URL.</p>",
        "id": 156552216,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1548093652
    },
    {
        "content": "<p>And in defining profiles, the valueset bindings should always be the canonical URL, not simply a resolvable URL?<br>\nWhereas the extension canonical URLs are differently-structured, i.e. to Graham's point above?</p>",
        "id": 156552336,
        "sender_full_name": "Ken Sinn",
        "timestamp": 1548093779
    },
    {
        "content": "<p>Elements of type \"canonical\" must always point to the canonical URL of the resource being referenced (possibly with the business version appended after '|').  The extension URLs he's defined have different canonical URL roots because they're intended by design to be version-specific</p>",
        "id": 156564045,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1548107976
    },
    {
        "content": "<p>For the valuesets defined by FHIR, is the business version the same as the FHIR version? I notice that in the R4 publication, version is explicitly stated as 4.0.0 for all valuesets, but this isn't defined in stu3 or earlier.  For example, <a href=\"https://www.hl7.org/fhir/stu3/valueset-name-use.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/stu3/valueset-name-use.html\">https://www.hl7.org/fhir/stu3/valueset-name-use.html</a> is assumed to be business version 3.0.1?</p>",
        "id": 156565917,
        "sender_full_name": "Ken Sinn",
        "timestamp": 1548110780
    },
    {
        "content": "<p>It should be, yes.  The tooling didn't do that though.  I believe we're planning a technical correction to STU3 that will fix this.  I don't know that it'll be addressed for DSTU2 though.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 156570913,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1548118879
    },
    {
        "content": "<p>we're not planning a technical correction for R2</p>",
        "id": 156637964,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548189983
    }
]