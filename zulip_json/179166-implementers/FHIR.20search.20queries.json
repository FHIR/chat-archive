[
    {
        "content": "<p>Hi all, </p>\n<p>I would like your opinion on making optimized search queries to a HAPI FHIR server. </p>\n<p>I have a Group resource containing Patient resource references in the members attribute. Each Patient resource has a reference to the General Practitioner resource. <br>\nGroup -&gt; Patients -&gt; Patitioner</p>\n<p>Is it possible to return a Bundle resource containing Group, Patient, and Practioner resources?</p>",
        "id": 251263612,
        "sender_full_name": "Timothy Akampa",
        "timestamp": 1630344406
    },
    {
        "content": "<p>You should be able to use <a href=\"http://build.fhir.org/search#include\">_include</a></p>",
        "id": 251267424,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1630346057
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/FHIR.20Search.20queries/near/251267424\">said</a>:</p>\n<blockquote>\n<p>You should be able to use <a href=\"http://build.fhir.org/search#include\">_include</a></p>\n</blockquote>\n<p>I was able to use _include to return Group and Patients, but not sure how to return Practitioners.<br>\nHere is my group query: <code>/Group?_include=Group:member</code></p>",
        "id": 251269037,
        "sender_full_name": "Timothy Akampa",
        "timestamp": 1630346727
    },
    {
        "content": "<p>I feel like that would work, if the practitioner resources are in the member list. Are they in the managingEntity list instead?</p>",
        "id": 251269458,
        "sender_full_name": "Daniel Venton",
        "timestamp": 1630346867
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"335936\">Daniel Venton</span> <a href=\"#narrow/stream/179166-implementers/topic/FHIR.20Search.20queries/near/251269458\">said</a>:</p>\n<blockquote>\n<p>I feel like that would work, if the practitioner resources are in the member list. Are they in the managingEntity list instead?</p>\n</blockquote>\n<p>The practitioner is referenced in the Patient resource under <code>generalPractitioner</code> attribute</p>",
        "id": 251270045,
        "sender_full_name": "Timothy Akampa",
        "timestamp": 1630347084
    },
    {
        "content": "<p>Looks like this worked: <code>Group?_include=Group:member&amp;_include:recurse=Patient:general-practitioner</code></p>",
        "id": 251270119,
        "sender_full_name": "Timothy Akampa",
        "timestamp": 1630347119
    },
    {
        "content": "<p>Thanks y'all</p>",
        "id": 251271606,
        "sender_full_name": "Timothy Akampa",
        "timestamp": 1630347724
    },
    {
        "content": "<p>We are trying to implement some CQL-like logic to find post-medication or post-immunization events like allergic reaction, but since CQL engines aren't quite yet available on vendors' FHIR endpoints, we are exploring FHIR search.</p>\n<p>From what I can tell, basic medication+condition logic should be doable with 1 FHIR search in HAPI, with _revinclude.<br>\nEg pseudo-logic for anaphylaxis</p>\n<div class=\"codehilite\"><pre><span></span><code>if patient has immunization.code in covid_vax_code_list\nAND\ncondition.code in anaphylaxis_code_list within 48 hours\nthen retrieve resources of interest for patient with _revinclude\n</code></pre></div>\n<p>While the above seems feasible in HAPI, Cerner’s documentation does not list immunization.code or condition.code in their search parameters [https://fhir.cerner.com/millennium/r4/clinical/medications/immunization/#parameters, <a href=\"https://fhir.cerner.com/millennium/r4/clinical/summary/condition/#parameters]\">https://fhir.cerner.com/millennium/r4/clinical/summary/condition/#parameters]</a>.<br>\nEpic’s Condition search specs [https://fhir.epic.com/Specifications?api=952] don't seem to support it either, so I think native querying might be our only option for now…</p>\n<p><span class=\"user-mention\" data-user-id=\"191689\">@Hans Buitendijk</span> any indication on whether searching by code will be supported in Cerner FHIR endpoints sometime?</p>\n<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> <span class=\"user-mention\" data-user-id=\"271228\">@Lance</span>  FYI</p>",
        "id": 265448378,
        "sender_full_name": "Shayan Hobbi",
        "timestamp": 1639868345
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"384386\">@Andrew Fagan</span> : Any thoughts?</p>",
        "id": 268737384,
        "sender_full_name": "Hans Buitendijk",
        "timestamp": 1642703680
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"275979\">@Shayan Hobbi</span> <br>\n<span class=\"user-mention\" data-user-id=\"191689\">@Hans Buitendijk</span> any indication on whether searching by code will be supported in Cerner FHIR endpoints sometime?</p>\n<div class=\"codehilite\"><pre><span></span><code>We had a similar question on our google group last summer: https://groups.google.com/g/cerner-fhir-developers/c/cYl-zTQhfTQ/m/gXIl1QnqAwAJ?utm_medium=email&amp;utm_source=footer\n\nIf we get to this work in the future, we will notify the community through the following :\nDeveloper Documentation  - http://fhir.cerner.com/millennium/overview/\nRelease Notes - https://wiki.cerner.com/display/OpenDevRN/Cerner+Ignite+APIs+for+Millennium#TBL1599767171231\n</code></pre></div>",
        "id": 268745891,
        "sender_full_name": "Brittany Brown",
        "timestamp": 1642707409
    }
]