[
    {
        "content": "<p>Hi,<br>\nI am a junior developer in fhir and I have a doubt regarding Resource GET operation.<br>\nIn my system I'am using an artificially generated string (for  Immunization - IMM25) as <a href=\"http://Resource.id\" target=\"_blank\" title=\"http://Resource.id\">Resource.id</a>, That uniquely identifies a resource (primary key value - 25). Recently I have got a suggestion to add resource type also in id field that is,<br>\nIf the Resource type is Immunization and id is IMM25, then I have to use Immunization/IMM25 as <a href=\"http://Resource.id\" target=\"_blank\" title=\"http://Resource.id\">Resource.id</a>.<br>\nIs the above approach is correct ?</p>",
        "id": 157755617,
        "sender_full_name": "Swathy Parameswaran",
        "timestamp": 1549521545
    },
    {
        "content": "<p>You can't have a \"/\" character inside an id.  The id is only expected to be unique within a resource type, so pre-pending the resource type to a generated id is unnecessary.  When you do a GET to read the resource, the URL will be [base]/Immunization/[id].</p>",
        "id": 157756269,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549522799
    },
    {
        "content": "<p>Is there an equivalent of ConceptMap for resource identifiers where someone could define an identifier mapping and $translate operation to replace/transform and translate a resource identifier to another identifier</p>",
        "id": 211441214,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1601251386
    },
    {
        "content": "<p>There's <a href=\"http://hl7.org/fhir/namingsystem-operation-preferred-id.html\">$preferred-id</a></p>",
        "id": 211446564,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1601260426
    },
    {
        "content": "<p>(On NamingSystem)</p>",
        "id": 211446566,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1601260432
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Resource.20map/near/211446564\">said</a>:</p>\n<blockquote>\n<p>There's <a href=\"http://hl7.org/fhir/namingsystem-operation-preferred-id.html\">$preferred-id</a><br>\n`</p>\n<p>Thanks but couldn’t figure out how you could have a translate operation which helps the identifier translation from type to another.</p>\n</blockquote>",
        "id": 213719172,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1603046368
    },
    {
        "content": "<p>Can you give an example of what you're wanting to do?</p>",
        "id": 213725616,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603054868
    },
    {
        "content": "<p>Yes, I want to have an operation for example on organization which translates identifiers from one system to another, all in which defined under organization.identifier and <a href=\"http://organization.id\">organization.id</a></p>",
        "id": 213766888,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1603103608
    },
    {
        "content": "<p>I can send you a practical example if it is not<br>\nSelf explanatory. Please advise</p>",
        "id": 213767045,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1603103694
    },
    {
        "content": "<p>So you mean a ConceptMap between two NamingSystems?</p>",
        "id": 213770068,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1603105783
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"196115\">Mareike Przysucha</span> <a href=\"#narrow/stream/179166-implementers/topic/Resource.20map/near/213770068\">said</a>:</p>\n<blockquote>\n<p>So you mean a ConceptMap between two NamingSystems?</p>\n</blockquote>\n<p>Conceptmap between two resources</p>",
        "id": 213771048,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1603106499
    },
    {
        "content": "<p>Let me explain, I’ve got Organization identifiers different in three of my downstream application. When I’m sending messages from one to another, I want my middleware to translate the incoming message to the format accepted by a destination system. Within that transformation I need to translate my codesystema which I use $translate define on conceptmap. However I also need to translate resources.identifiers. Take<br>\nAn example of an appointment which needs to replace the organization identifier to be accepted by the destination system. One way is to use GET the organisation resource and find the relevant identifier and use that information for the translation but a better way is to design an operation which can do the translation between id and identifier or between the identifiers which can be generally used and implement for any FHIR resources, similar to conceptmap translate for code system</p>",
        "id": 213772003,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1603107125
    },
    {
        "content": "<p>That's what I understood. Now to explain my comment: Each <code>identifier</code> has a <code>system</code>, which is described as <em>the namespace for the identifier</em>. It could be a <code>NamingSystem</code>-resource. That's why I wrote \"ConceptMap between two NamingSystems\". But the \"translation\" would take place in the single resource, just like a normal <code>$translate</code> for CodeSystems.</p>",
        "id": 213772599,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1603107573
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"196115\">Mareike Przysucha</span> <a href=\"#narrow/stream/179166-implementers/topic/Resource.20map/near/213772599\">said</a>:</p>\n<blockquote>\n<p>That's what I understood. Now to explain my comment: Each <code>identifier</code> has a <code>system</code>, which is described as <em>the namespace for the identifier</em>. It could be a <code>NamingSystem</code>-resource. That's why I wrote \"ConceptMap between two NamingSystems\". But the \"translation\" would take place in the single resource, just like a normal <code>$translate</code> for CodeSystems.</p>\n</blockquote>\n<p>Indeed, you’re correct...</p>",
        "id": 213774392,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1603108756
    },
    {
        "content": "<p>That still doesn’t answer the question I’m afraid :)</p>",
        "id": 213779151,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1603111547
    },
    {
        "content": "<p>But I think it makes things clearer for the experts.</p>",
        "id": 213779224,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1603111578
    },
    {
        "content": "<p>You could use NamingSystem to capture the data, though you'd need an extension to indicate which identifier is used for which organization.  There's no standard operation to do the translation - you'd have to create a custom one, though you could propose HL7 defining a standard one.</p>",
        "id": 213798440,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603119640
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Resource.20map/near/213798440\">said</a>:</p>\n<blockquote>\n<p>You could use NamingSystem to capture the data, though you'd need an extension to indicate which identifier is used for which organization.  There's no standard operation to do the translation - you'd have to create a custom one, though you could propose HL7 defining a standard one.</p>\n</blockquote>\n<p>Thanks, will do. On a different but Slightly related subject, I’ve got a lot of hospitals and their technology providers as a software instance on one side and the same on the other side. So I want to define each softwareInstance+Hospital combo as an entity for examples software123. I then plan to use this code within namespace/system for identifier to indicate that particular resource identifier on software123 is value123. Now the question is which resource I can use to define all of these software instances? The directory of these...</p>",
        "id": 213833027,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1603135577
    },
    {
        "content": "<p>Software is generally represented using Device</p>",
        "id": 213844699,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603141038
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Resource.20map/near/213844699\">said</a>:</p>\n<blockquote>\n<p>Software is generally represented using Device</p>\n</blockquote>\n<p>Thanks. So in my use case the device would be the softwareInstance and the owner the technology provider but the place where it’s used it’s referenced to location but in my case is a hospital organization</p>",
        "id": 213847700,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1603142375
    },
    {
        "content": "<p>Any other suggestions please ?</p>",
        "id": 213847808,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1603142413
    },
    {
        "content": "<p>Device.owner is not the technology provider, it's the organization that's responsible for the activities that the device takes - which would normally be the hospital organization.  The technology provider would be the manufacturer - which is currently just a string, but you could have an extension to point to an organizaiton if you need to</p>",
        "id": 213859995,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603150739
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Resource.20map/near/213859995\">said</a>:</p>\n<blockquote>\n<p>The technology provider would be the manufacturer - which is currently just a string, but you could have an extension to point to an organizaiton if you need to</p>\n</blockquote>\n<p>Could you also implement this by creating a <code>DeviceDefinition</code> resource that the <code>Device</code> references? <code>DeviceDefinition.manufacturerReference</code> is a reference to an <code>Organization</code>.</p>",
        "id": 214187942,
        "sender_full_name": "Matt Rouhana",
        "timestamp": 1603373942
    },
    {
        "content": "<p>You could, though you can't expect systems to infer that the Device.manufacturer is the Device.definition.manufacturerReference.</p>",
        "id": 214246573,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1603399925
    },
    {
        "content": "<p>Thanks both on the comments. Ive started using DeviceDefinition but unfortunately it failed my model. A devide may be owned by multiple organization and hence why the cardinality doesnt match the criteria. Any suggestions apart from going down the route of extention?</p>",
        "id": 215272810,
        "sender_full_name": "Medi Harsini",
        "timestamp": 1604281264
    },
    {
        "content": "<p>Can you explain your scenario a bit more?  How can one device be simultaneously owned by multiple organizations?</p>",
        "id": 215283279,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1604298898
    }
]