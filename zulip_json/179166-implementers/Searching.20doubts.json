[
    {
        "content": "<p>Why FHIR does not provide search parameter for Observation.valueInteger, valueBoolean, valueRatio valueRange? It is because it does not want to have search parameter for all fhir elements, but in case of Observation, it makes sense to have search capability if value is integer or ratio.<br>\nIt does have search parameter if it is valueQuantity, valueString, valueSampledData, <br>\nvalueTime, valueDateTime, valuePeriod.</p>",
        "id": 163734452,
        "sender_full_name": "Aditya Joshi",
        "timestamp": 1555679571
    },
    {
        "content": "<p>I believe valueQuantity is intended to work with integer and range and boolean is intended to work with code.  <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 163737762,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1555683026
    },
    {
        "content": "<p>HI <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  I just tried the same. I created a Observation resource <br>\n<a href=\"http://fhir.hl7fundamentals.org/r4/Observation/17635\" target=\"_blank\" title=\"http://fhir.hl7fundamentals.org/r4/Observation/17635\">http://fhir.hl7fundamentals.org/r4/Observation/17635</a></p>\n<p>It has \"valueInteger\": 50</p>\n<p>Now I tried searching this record- <a href=\"http://fhir.hl7fundamentals.org/r4/Observation?value-quantity=50\" target=\"_blank\" title=\"http://fhir.hl7fundamentals.org/r4/Observation?value-quantity=50\">http://fhir.hl7fundamentals.org/r4/Observation?value-quantity=50</a> <br>\nbut above Observation does not appear in search result. Though, there are many records I got which matches to valueQuantity.value decimal values (any value between 49.5 to 50.5). So, it is not matching or searching valueInteger values.</p>",
        "id": 163739647,
        "sender_full_name": "Aditya Joshi",
        "timestamp": 1555684761
    },
    {
        "content": "<p>Ok.  That seems like something we need to fix.  Can you submit a change request?</p>",
        "id": 163740557,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1555685662
    },
    {
        "content": "<p>quoting from spec- <a href=\"http://hl7.org/fhir/search.html#number\" target=\"_blank\" title=\"http://hl7.org/fhir/search.html#number\">http://hl7.org/fhir/search.html#number</a><br>\n\"When a number search is used against a resource element that stores a simple integer (e.g. ImmunizationRecommendation.recommendation.doseNumber), and the search parameter is not expressed using the exponential forms, and does not include any non-zero digits after a decimal point, the significance issues cancel out and searching is based on exact matches. Note that if there are non-zero digits after a decimal point, there cannot be any matches.\"</p>\n<p>as per above rule, resource element is indeed integer and search parameter is not expressed using exponential form or no decimal in search parameter value.  So, ideally query should have worked. </p>\n<p>My understanding from this is, value-quantity is not searching for valueInteger in Observation resource. So, there is probably no search parameter for valueInteger. <strong>Either FHIR can make value-quantity parameter search for valueInteger when it search query meets above criteria (no exponential and no decimal value in  search parameter value). Is that what should go as change request?</strong></p>",
        "id": 163741122,
        "sender_full_name": "Aditya Joshi",
        "timestamp": 1555686184
    },
    {
        "content": "<p>I think so</p>",
        "id": 163763096,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1555706139
    },
    {
        "content": "<ul>\n<li>\n<p>First of all you can create your own SP too. </p>\n</li>\n<li>\n<p>Second the fact that FHIR publishes SP does not guarantee a server will support them.</p>\n</li>\n</ul>",
        "id": 163775067,
        "sender_full_name": "Eric Haas",
        "timestamp": 1555717905
    },
    {
        "content": "<p>Yes can create SP. That was the initial thought. but just wanted to check if FHIR supports searching valueInteger in some way then no need of creating local SP. The server where I tested is providing results when searching using value-quantity for valueInteger data, but not searching for integer, still behaving as intended (searching for decimal value excluding integer value). </p>\n<p>So, if FHIR does not provide search parameter as of now for Observation.valueInteger then it is fine and solution is to create our own SP. But as <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  mentioned value-quantity should have worked for Observation.valueInteger then it becomes a case of change request.</p>",
        "id": 163797885,
        "sender_full_name": "Aditya Joshi",
        "timestamp": 1555756774
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I presume the intention of the existing search parameters is to support searching on boolean and integer/decimal answers too though, no?  So that means the search parameters need to be defined such that that can happen.</p>",
        "id": 163807968,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1555774623
    },
    {
        "content": "<p>nope the search parameter list does list all valueTypes .  I think there an open tracker to add some more, but i'd like to discuss sp policy more internally first.</p>",
        "id": 163833889,
        "sender_full_name": "Eric Haas",
        "timestamp": 1555820318
    }
]