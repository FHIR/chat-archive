[
    {
        "content": "<p>In the FHIR spec -datatypes-mapping section it's mentioned that :<br>\nIf the II has only a root and no extension, the FHIR Identifier will have a system of 'urn:ietf:rfc:3986' and the II.root will appear in Identifier.value<br>\nIf the II has both a root and an extension, the II.root will be mapped to a URI - either a human-friendly URL or URN or (less preferred) an OID expressed as a urn, and the II.extension will be sent in Identifier.value<br>\nWhen extension is absent and root is a UUID, its shown as follows: <br>\n&lt;system value=\"urn:ietf:rfc:3986\" /&gt;<br>\n    &lt;value value=\"urn:uuid:a76d9bbf-f293-4fb7-ad4c-2851cac77162\" /&gt;<br>\nWhen extension is absent and root is an OID, then it is supposed to be presented as follows:<br>\n&lt;system value=\"urn:ietf:rfc:3986\" /&gt;<br>\n    &lt;value value=\"urn:oid:0.1.2.3.4.5\" /&gt;</p>\n<p>This is fine but as the root can be anything -an OID or UUID or maybe a string(not a regular thing). At runtime, how does a system recognize this and map accordingly. Maybe there is a simple answer to it and I am not aware, if so please bear with me. Thank you in advance.</p>",
        "id": 233736584,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1617918744
    },
    {
        "content": "<p>This is the definition of UID - the datatype of II.root:</p>\n<blockquote>\n<p>The allowable formats and values and procedures of this data type are strictly controlled by HL7. At this time, user-assigned identifiers may be certain character representations of ISO Object Identifiers (OID) and DCE Universally Unique Identifiers (UUID). HL7 also reserves the right to assign other forms of UIDs (RUID), such as mnemonic identifiers for code systems.</p>\n</blockquote>\n<p>I think it is clear that only an OID or a UUID can be in the root.</p>",
        "id": 233742372,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1617922033
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192685\">Vassil Peytchev</span> thank you. However, it's still tricky to distinguish between OID or UUID at runtime for the system. Is there any guidance around that? Thanks.</p>",
        "id": 233742714,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1617922290
    },
    {
        "content": "<p>How is that tricky? digits separated by dots versus hex with possible dash separators ?</p>",
        "id": 233744105,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1617923145
    },
    {
        "content": "<p>The V3 datatypes core schema has this for OID:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code>    <span class=\"nt\">&lt;xs:restriction</span> <span class=\"na\">base=</span><span class=\"s\">\"xs:string\"</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;xs:pattern</span> <span class=\"na\">value=</span><span class=\"s\">\"[0-2](\\.(0|[1-9][0-9]*))*\"</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/xs:restriction&gt;</span>\n</code></pre></div>\n<p>and for UUID</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code>  <span class=\"nt\">&lt;xs:restriction</span> <span class=\"na\">base=</span><span class=\"s\">\"xs:string\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;xs:pattern</span> <span class=\"na\">value=</span><span class=\"s\">\"[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}\"</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/xs:restriction&gt;</span>\n</code></pre></div>",
        "id": 233850117,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1617984798
    },
    {
        "content": "<p>In short - search for \"contains('.')\" vs \"contains('-')\"</p>",
        "id": 233853012,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1617985903
    },
    {
        "content": "<p>This is tantalizing: \"HL7 also reserves the right to assign other forms of UIDs \" Has there been any suggestion of adding http to that list? Rather than requiring everyone to figure out how to, in a coordinated fashion, assign OIDs to every URI in every FHIR spec?</p>",
        "id": 246150506,
        "sender_full_name": "Jay Lyle",
        "timestamp": 1626380735
    },
    {
        "content": "<p>We don't want to use OIDs in FHIR at all in any place we can avoid them.  OIDs suck for developers, testers, and anyone else who actually has to look at real instances.</p>",
        "id": 246235496,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1626447836
    },
    {
        "content": "<p>i think Jay was asking if we could change the V3 UID to allow URIs.</p>",
        "id": 246238357,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1626449324
    },
    {
        "content": "<p>Ah.  I don't think there's any appetite for revising v3 data types at all (either from a new version of the standard perspective or from an implementation perspective).</p>",
        "id": 246246635,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1626453109
    }
]