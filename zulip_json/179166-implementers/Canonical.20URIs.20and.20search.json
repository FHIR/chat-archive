[
    {
        "content": "<p>While re-checking my understanding on FHIR references, and canonical URIs I found the relevant page in the spec, and noted some minor issues<br>\n<a href=\"http://hl7.org/fhir/r4/references.html#canonical\" target=\"_blank\" title=\"http://hl7.org/fhir/r4/references.html#canonical\">hl7.org/fhir/r4/references.html#canonical</a><br>\nThe way it is described is essentially how I expected for operations that use the URL parameter, and how the value is stored in instances. However the basic Search I think is misleading, and is instead describing how it works within an operation, not the generic search feature.</p>\n<div class=\"codehilite\"><pre><span></span>* Search only regards the latest version for each different logical id\n</pre></div>\n\n\n<p>This specific bullet point confused me, is that meant to be <code>returns</code>? In which case I disagree with it.<br>\nIf not then I think it's describing processing of the search results, which is the receiver. So is mixing client/server roles here.</p>",
        "id": 167112972,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1559465698
    },
    {
        "content": "<p>Reference search on canonicals in R4 is a bit unclear to us as well.<br>\nImagine in a FHIR server a StructureDefinition:<br>\n- url = <a href=\"http://some.org/fhir/StructureDefinition/someprofile\" target=\"_blank\" title=\"http://some.org/fhir/StructureDefinition/someprofile\">http://some.org/fhir/StructureDefinition/someprofile</a><br>\n- title = \"some title\"<br>\n- stored on the server at &lt;base&gt;/StructureDefinition/xyz</p>\n<p>And a Patient<br>\n- meta.profile = <a href=\"http://some.org/fhir/StructureDefinition/someprofile\" target=\"_blank\" title=\"http://some.org/fhir/StructureDefinition/someprofile\">http://some.org/fhir/StructureDefinition/someprofile</a><br>\n- stored on the server at &lt;base&gt;/Patient/123</p>\n<p>Three searches:<br>\n1. by url: &lt;base&gt;/Patient?_profile=http://some.org/fhir/StructureDefinition/someprofile<br>\n2. by normal reference: &lt;base&gt;/Patient?_profile=&lt;base&gt;/StructureDefinition/xyz<br>\n3. chained: &lt;base&gt;/Patient?_profile.title=some title<br>\nMy understanding:<br>\n1. Should work (it already did so in STU3)<br>\n2. Since _profile is now a SearchParameter with SearchParameterType=reference, this should <em>also</em> work.<br>\n3. And for the same reason chaining should also be possible.<br>\nSince 2 &amp; 3 are not trivial I want to check whether my understanding is correct.</p>",
        "id": 169387342,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1561980910
    }
]