[
    {
        "content": "<p>I try to use hapi.validation.validator.FhirInstanceValidator to validate fhir r4 resource.  using these dependencies from maven: <br>\nhapi-fhir-base  v5.1.0<br>\nhapi-fhir-structures-r4  v5.1.0<br>\nhapi-fhir-validation  v5.1.0<br>\nhapi-fhir-validation-resources-r4  v5.1.0</p>\n<p>but, this  initialization <br>\nIValidatorModule module = new FhirInstanceValidator(ctx);<br>\nthrows exceptions<br>\n  Caused by: java.lang.IllegalStateException: Could not find the HAPI-FHIR structure JAR on the classpath for version R5. <br>\nlooks like it tries to find R5 structure even though hapi-fhir-validation-resources-r4  library is used. </p>\n<p>Any idea to fix this exception caused by mismatching? Thanks.</p>",
        "id": 214437260,
        "sender_full_name": "AJ Chen",
        "timestamp": 1603558313
    },
    {
        "content": "<p>update: I got the answer from HAPI google group.  FHIR validation should use hapi-fhir-structures-r5 and hapi-fhir-validation-resources-r5 libraries in pom.xml.  This means the fhir validation step in my data pipeline needs to be a separate process by itself. This way, the upstream data processing step can deal with any version of FHIR, or conversion of CDA or CCD to FHIR R4. Its pom.xml can have r4 structure or other old versions.</p>",
        "id": 214452844,
        "sender_full_name": "AJ Chen",
        "timestamp": 1603578199
    }
]