[
    {
        "content": "<p>What would be a good way to say \"the performer of this dispense is Dr. X who happens to be a physician\"?</p>",
        "id": 201736140,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1592923888
    },
    {
        "content": "<p>Practitioner captures qualifications.  PractitionerRole captures functional role</p>",
        "id": 201736566,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1592924091
    },
    {
        "content": "<p>I looked at PractitionerRole, - the thing is that PractitionerRole does not seem to define \"person X did this in the quality of Y\", but it is rather definitional saying \"this person has normally these roles\".</p>",
        "id": 201736800,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1592924191
    },
    {
        "content": "<p>\"Did X\" is covered by how they are referenced.  So MedicationDispense.performer (and specifically performer.function) says what they did.  PractitionerRole.code indicates the capacity in which they were acting.</p>",
        "id": 201740234,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1592925657
    },
    {
        "content": "<p>so medicationdispense.actor would be a PractitionerRole so that we can have the capacity (pharmacist etc)?<br>\nAnd practitionerRole does not have the practitioner name, which we would need.</p>",
        "id": 201749168,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1592929717
    },
    {
        "content": "<p>not quite.  to answer your initial question, i believe that it would be MedicationDispense.performer.function with either \"dispenser\" or \"performer\" and MedicationDispense.performer.actor would be the Practitioner with a qualification of 'physician'.</p>",
        "id": 201753463,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1592931808
    },
    {
        "content": "<p>if you wanted to specify the role that they were playing when they were a part of the dispense, then you need PractitionerRole:  MedicationDispense.performer.actor would be a PractitionerRole with PractitionerRole.code of 'attending physician' (or some role that you needed to convey) and PractitionerRole.practitioner pointing to the Practitioner.</p>",
        "id": 201753681,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1592931908
    },
    {
        "content": "<p>I'm not sure that the role that the practitioner would be playing when they were dispensing would ever be \"attending physician\".  If you are dispensing something, then the role you are playing is \"dispenser\".  They may have other qualifications as well.</p>",
        "id": 201754113,
        "sender_full_name": "Melva Peters",
        "timestamp": 1592932111
    },
    {
        "content": "<p>true, I was trying to figure out a role that a physician would be playing when dispensing. :)</p>",
        "id": 201754190,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1592932159
    },
    {
        "content": "<p>and \"dispenser\" is adequately conveyed in the MedicationDispense.performer.function, so I was also trying to think of an example that provided additional information beyond the function, i.e. the Attending Physician Joe Smith (who has a medical license) was the dispenser for this dispense.</p>",
        "id": 201754338,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1592932223
    },
    {
        "content": "<p>I would have thought that Practitioner would be enough since it includes qualifications.  My experience when I would on the regulatory side was that if you are dispensing the requirements that apply related to your qualifications as a dispenser regardless of whether you are a physician.  There are typically a small number of \"dispensing physicians\" in practice.  Most of the time the practitioner is administering the medication and there isn't really a dispense or if there is a dispense, it happens after the fact.</p>",
        "id": 201755791,
        "sender_full_name": "Melva Peters",
        "timestamp": 1592932939
    },
    {
        "content": "<p>.function is \"dispenser\". Beyond that, the requirement is to provide: <br>\n\"The dispenser was <strong>Dr. X</strong>, and he is registered as a <strong>pharmacist</strong>. In the national healthcare professionals DB he has the id <strong>1234567</strong>\"</p>",
        "id": 201757294,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1592933679
    },
    {
        "content": "<p>yeah, then you don't need PractitionerRole, just Practitioner.<br>\nMedDispense.performer.function = dispenser<br>\nMedDispense.performer.actor = Practitioner<br>\nPractitioner.qualification.code = pharmacist<br>\nPractitioner.qualification.identifier = 1234567 (if that is his pharmacist license number)</p>",
        "id": 201757725,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1592933952
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> <a href=\"#narrow/stream/179166-implementers/topic/dispenser.20profession.20.2F.20role/near/201757725\">said</a>:</p>\n<blockquote>\n<p>yeah, then you don't need PractitionerRole, just Practitioner.<br>\nMedDispense.performer.function = dispenser<br>\nMedDispense.performer.actor = Practitioner<br>\nPractitioner.qualification.code = pharmacist<br>\nPractitioner.qualification.identifier = 1234567 (if that is his pharmacist license number)</p>\n</blockquote>\n<p>I was not really happy with qualification - it says \"Certification, licenses, or training pertaining to the provision of care\"</p>",
        "id": 201759230,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1592934782
    },
    {
        "content": "<p>and the identifier is not \"pharmacist license number\" - it's not specific to pharmacists (which is why we need the type of professional - otherwise it would be easy to figure it our from the code)</p>",
        "id": 201759429,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1592934881
    },
    {
        "content": "<p>if that's just a national provider identifier, then it goes on the Practitioner.identifier, I was just assuming it was his license number.</p>",
        "id": 201769495,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1592939580
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179166-implementers/topic/dispenser.20profession.20.2F.20role/near/201759230\">said</a>:</p>\n<blockquote>\n<p>I was not really happy with qualification - it says \"Certification, licenses, or training pertaining to the provision of care\"</p>\n</blockquote>\n<p>If you're saying that this Practitioner is a pharmacist, then you are saying that he has a license to be a pharmacist and it goes in the qualification.</p>",
        "id": 201769639,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1592939643
    },
    {
        "content": "<p>i have my own problems with the bundling of licensing and training, but, for now, that's where it goes.</p>",
        "id": 201769669,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1592939664
    },
    {
        "content": "<p>Well, that may be a way out indeed. But besides the semantics (capacity and qualifications are not the same) the practitioner.identifier does not say anything about being a pharmacist. It's a \"healthcare person number\" which is not bound to specific profession. While we don't fix that, I would not want to make any strong assumptions now, since I don't want to undo them later.</p>",
        "id": 201771820,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1592940902
    },
    {
        "content": "<p>I was suggesting that you still send the qualification.code of 'pharmacist'.  If you don't have the license number, that's fine, it still says that this practitioner is a pharmacist.</p>",
        "id": 201772198,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1592941129
    },
    {
        "content": "<p>Interesting discussion! Thus far in NZ, we've put a reference to Practitioner in MedicationDispense.performer.actor, with MedicationDIspense.performer.function being 'packager' (using the example binding to the medicationdispense-performer-function ValueSet) in mappings from our National ePrescription Service (NZePS) - based on CDA - to FHIR.  </p>\n<p>The Resource Model for a Bundle containing all the data from a complete NZePS CDA - as created by ClinFHIR - can be viewed at  <a href=\"https://terminz-itp.azurewebsites.net/Content/NZePStoFHIR.jpg\">https://terminz-itp.azurewebsites.net/Content/NZePStoFHIR.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"https://terminz-itp.azurewebsites.net/Content/NZePStoFHIR.jpg\"><img src=\"https://terminz-itp.azurewebsites.net/Content/NZePStoFHIR.jpg\"></a></div>",
        "id": 201785010,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1592947237
    },
    {
        "content": "<p>Still related to this, we want to send in the dispense the following:</p>\n<ol>\n<li>the practitioner ID of the dispenser (from which people can look up the specialty)</li>\n<li>the specialty explicitly.</li>\n</ol>",
        "id": 203094584,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594124349
    },
    {
        "content": "<p>The specialty could be in a contained resource. I ses two ways of doing it:</p>\n<ol>\n<li>performance.actor has a reference to a contained PractitionerRole which links to the practitioner<br>\n2 performer.actor has, in the same reference, use an internal reference AND a reference by identifier</li>\n</ol>",
        "id": 203096698,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594125764
    },
    {
        "content": "<p>Option 1:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span>\n    <span class=\"nt\">&quot;resourceType&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;MedicationDispense&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;id&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;medication-dispense-example-1&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;language&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;fr-BE&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;contained&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;resourceType&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;PractitionerRole&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;id&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;contained-pr1&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;practitioner&quot;</span><span class=\"p\">:{</span>\n          <span class=\"nt\">&quot;identifier&quot;</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n            <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://professional-registry&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;27457532&quot;</span>\n          <span class=\"p\">},{</span>\n            <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://national-registry&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1231324423&quot;</span>\n          <span class=\"p\">}]</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">&quot;speciality&quot;</span><span class=\"p\">:{</span>\n          <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://specialties&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1439562&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Hospital Pharmacist&quot;</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">]</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">],</span>\n    <span class=\"nt\">&quot;subject&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;identifier&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://patient-registry&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;6734534332&quot;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">},</span>\n    <span class=\"nt\">&quot;status&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;completed&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;medicationCodeableConcept&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://cnk.apb.be/codings/cnk_product_codes&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1439562&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Topazolam tab 50x 1,0mg&quot;</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">]</span>\n    <span class=\"p\">},</span>\n    <span class=\"nt\">&quot;performer&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;actor&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;reference&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;#contained-pr1&quot;</span>\n          <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n</code></pre></div>",
        "id": 203096859,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594125857
    },
    {
        "content": "<p>Option 2 seems simpler because it does not require the contained resource to be always there - can I use it?</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span>\n    <span class=\"nt\">&quot;resourceType&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;MedicationDispense&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;id&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;medication-dispense-example-1&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;language&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;fr-BE&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;contained&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;resourceType&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;PractitionerRole&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;id&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;contained-pr1&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;speciality&quot;</span><span class=\"p\">:{</span>\n          <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://specialties&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1439562&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Hospital Pharmacist&quot;</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">]</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">],</span>\n    <span class=\"nt\">&quot;subject&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;identifier&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://patient-registry&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;6734534332&quot;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">},</span>\n    <span class=\"nt\">&quot;status&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;completed&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;medicationCodeableConcept&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://cnk.apb.be/codings/cnk_product_codes&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1439562&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Topazolam tab 50x 1,0mg&quot;</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">]</span>\n    <span class=\"p\">},</span>\n    <span class=\"nt\">&quot;performer&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;actor&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;reference&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;#contained-pr1&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;identifier&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://professional-registry&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;27457532&quot;</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n</code></pre></div>",
        "id": 203097152,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594126035
    },
    {
        "content": "<p>the difference is in performer.actor: Can I use reference AND identifier, where reference is an internal reference to provide additional information about the practitionerrole?</p>",
        "id": 203097272,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594126108
    },
    {
        "content": "<p>Reference and identifier can both be present, but if reference is present, I'd expect consumers to ignore the identifier.  It's certainly not appropriate for it to convey additional information.</p>",
        "id": 203107667,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594131256
    },
    {
        "content": "<p>In general, you should be pointing to an external Practitioner instance.  If there is no endpoint you can point to and the information is persisted as part of the Dispense, then you could use contained Practitioner.</p>",
        "id": 203107807,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594131332
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/dispenser.20profession.20.2F.20role/near/203107667\">said</a>:</p>\n<blockquote>\n<p>Reference and identifier can both be present, but if reference is present, I'd expect consumers to ignore the identifier.  </p>\n</blockquote>\n<p>Even if it's internal reference? If so, then I can put my identifiers inside the contained as per option 1</p>",
        "id": 203110918,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594132765
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/dispenser.20profession.20.2F.20role/near/203107667\">said</a>:</p>\n<blockquote>\n<p>It's certainly not appropriate for it to convey additional information.</p>\n</blockquote>\n<p>It is not additional to what is known about the PractitionerRole. It's additional to what we have in the Dispense - we only have roles like \"dispenser\" or \"verifier\" and I need \"pharmacist\" or \"nurse\"</p>",
        "id": 203111079,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594132827
    },
    {
        "content": "<p>If you've already got a contained, there's no reason not to put the identifier there too</p>",
        "id": 203111083,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594132829
    },
    {
        "content": "<blockquote>\n<p>If you've already got a contained, there's no reason not to put the identifier there too</p>\n</blockquote>\n<p>How else will I say that my internal reference (#contained-pr1) has thosee external identifiers?</p>",
        "id": 203111230,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594132903
    },
    {
        "content": "<p>Just to scope this: my need is to send out a dispense, the official identifier of the dispenser, and additionally the capacity/specialty/role of that person under which they dispensed.</p>",
        "id": 203111463,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594133030
    },
    {
        "content": "<p>Does the practitioner exist as a RESTful endpoint?  If so, just specify a Reference - no contained and no identifier.  The reference will need to be resolved.  If the practitioner information is only stored in the dispense and isn't maintained anywhere else, use a contained resource where the contained resource has an identifier and specialty</p>",
        "id": 203115552,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594134808
    },
    {
        "content": "<p>Practitioner may exist in the future as a REST but we want to a) work with what we (don't) have now and b) allow systems to get that information as it was at the time the resource was created, (which would also alleviate the need to bother or burden of a lookup)</p>",
        "id": 203120105,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594136668
    },
    {
        "content": "<p>(nevermind)</p>",
        "id": 204336884,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595142956
    }
]