[
    {
        "content": "<p>Supposing a Patient has been taking <strong>paracetamol</strong> and <strong>disulfiram</strong>, but the disulfiram record is tagged as \"not for disclosure\";<br>\nWhen we query for Patient medications, if the disulfiram is not disclosed, what are the best practices? Should the Bundle contain 1 or 2 entries? Is there interest in saying \"total=2\", or we really hide from the user that there may be more information?</p>",
        "id": 248877978,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1628529151
    },
    {
        "content": "<p>It really depends on policy.  Is there a \"break the glass\" capability where a provider can get access to the hidden record if they go through a particular process/seek patient consent?  If there's action they could take, then any time there's a circumstance where there <em>might</em> be information not revealed (based on access privileges), there should be a warning in the search response.  E.g. \"These search results only contain records that do not have access restrictions.  To access 'restricted' information (if any), record patient consent or invoke emergency break-the-glass procedures.\"  The search count should represent the records actually available and navigable to - otherwise the client software will get confused.</p>",
        "id": 248879518,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1628529744
    },
    {
        "content": "<p>Presuming there is a break-thee-glass, is there any standard way to say \"other records may exist\"?</p>",
        "id": 248879686,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1628529814
    },
    {
        "content": "<p>'warning' OperationOutcome in the search-set Bundle is the best way.</p>",
        "id": 248881299,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1628530528
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> No there is not an agreed way to do this.</p>",
        "id": 248887238,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628533478
    },
    {
        "content": "<p>First, note that there is no good reason to tell a user that they are receiving less than total data, unless there is some policy that indicates that the user is allowed to know this. Many (most) users will not be allowed to know that they are receiving less than full data. The users that might, are clinicians with privilege to elevate their active privilege (e.g. break-glass). It is only this subset of users that there is any legitimate reason to tell them that there is more data available.</p>",
        "id": 248887818,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628533616
    },
    {
        "content": "<p>Second, there are plenty of stories that when a clinician, who was not authorized to invoke break-glass, was told that they were not seeing everything, these users would obsess on this lack of information and fail to properly review the information they were given. Thus these sites had explicitly turned OFF this, and therefore would never tell a user that was not authorized to break-glass when they were not being given everything.</p>",
        "id": 248888052,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628533745
    },
    {
        "content": "<p>Third, it is unusual for clinicians to be restricted from seeing safety critical information. I have seen discussed that drug/allergy/intolerance interactions would never be blinded... This gets to Lloyds point about policy... any policy that would enable a blinding to a treating clinician had better have the rules clearly stated when that data being blinded would have a safety impact.</p>",
        "id": 248888385,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628533879
    },
    {
        "content": "<p>Ok, assuming that such policy would exist (some users see the warning, some users don't see the warning) <br>\nI wanted to see if there is / should be a standard way to tell those privileged users \"there may be more than this\", because this would drive behaviour, and the trigger for that behaviour should be somewhat known/standardized, right?</p>",
        "id": 248888573,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1628533957
    },
    {
        "content": "<p>Fourth, often policy has a different category for clinician with a legitimate treatment relationship, vs all other clinicians. Where the first group is never blinded. Any patient concern with someone that might be in this first group is enough to eliminate them completely.</p>",
        "id": 248888585,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628533962
    },
    {
        "content": "<p>YES, I think there should be a defined method</p>",
        "id": 248888612,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628533981
    },
    {
        "content": "<p>but there is not one yet</p>",
        "id": 248888630,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628533986
    },
    {
        "content": "<p>i don't know of a leading potential.</p>",
        "id": 248888668,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628534006
    },
    {
        "content": "<p>Hence the use case disulfiram - everyone wants to see all the medication of a patient, but a drug that is used to treat alcoholism problems may pose such challenges.</p>",
        "id": 248888832,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1628534073
    },
    {
        "content": "<p><a href=\"http://bundle.meta.security\">bundle.meta.security</a> -- tag REDACTED</p>",
        "id": 248888973,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628534135
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179166-implementers/topic/Search.20-.20Bundle.20contents.20when.20resources.20are.20not.20visible/near/248888832\">said</a>:</p>\n<blockquote>\n<p>Hence the use case disulfiram - everyone wants to see all the medication of a patient, but a drug that is used to treat alcoholism problems may pose such challenges.</p>\n</blockquote>\n<p>I agree.. hence why this is not a policy that HL7 should state... And why I caution anyone that wants to blind this data to also address the safety concerns with the privacy concerns, and address it relevant to treating clinicians</p>",
        "id": 248889142,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628534212
    },
    {
        "content": "<p>but.. Your concuding point is something I can agree with.... Given that there is some policy that would apply to a treatment case with a clinician user... and that policy allows the clinician user to be told that there is data being blinded... and that clinician does have break-glass capability... then HOW would the results of the search indicate less than full data was returned</p>",
        "id": 248889342,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628534304
    },
    {
        "content": "<p>thus.. NOT a non-treatment case, NOT a non-clinical user, NOT a clinical user without break-glass authorization.</p>",
        "id": 248889443,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628534369
    },
    {
        "content": "<p>I gravitate towards using <a href=\"http://bundle.meta.security\">bundle.meta.security</a>... I am not confident that REDACTED is the best code, there likely needs to be one defined that does not yet exist.</p>",
        "id": 248889572,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628534417
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191920\">@Mohammad Jafari</span> do you have a pattern you used?</p>",
        "id": 248889798,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628534528
    },
    {
        "content": "<p>Here is my proposal in 2015 <a href=\"https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html\">https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html</a></p>",
        "id": 248891435,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628535340
    },
    {
        "content": "<p>the break-glass section in the FHIR core <a href=\"http://build.fhir.org/security-labels.html#break-the-glass\">http://build.fhir.org/security-labels.html#break-the-glass</a><br>\nhas an example operationOutcome</p>",
        "id": 248891467,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628535359
    },
    {
        "content": "<p>which gets to the point.... that to have standardized return code, will directly lead to a need for a standardized break-glass.</p>",
        "id": 248891683,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628535458
    },
    {
        "content": "<p>I am not against it, but am not going to dictate alone except in my blog. Meaning, I welcome discussion and consensus solution development.</p>",
        "id": 248891791,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628535495
    },
    {
        "content": "<p>There was no use-case for me where the user had to be informed of the redaction after the redaction takes place --note that informing the recipient of the very fact that there has been a redaction can compromise privacy because it can be indicative that the record includes certain sensitive conditions. <br>\nHowever, in an old pilot of a security labeling system we implemented, we used the <code>masked</code> <a href=\"http://hl7.org/fhir/v3/NullFlavor/cs.html\">null flavour</a> as a code to indicated some information has been removed  for privacy reasons.<br>\nIn <a href=\"https://github.com/mojitoj/pauldron/tree/master/pauldron-hearth\">Pauldron Hearth</a>, I simply remove the <code>total</code> attribute from the Bundle since it's optional. Note that since pauldron hearth is a proxy, it can only see the HTTP response and doesn't have any way to know the total number of resources to be returned if there are more than one page of results in the bundle.<br>\nIn the of multi-page results, there is still the risk of inference since a result page with redactions will have fewer resources than a normal page (since servers usually return pages of the same size when paginating)</p>",
        "id": 249881099,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1629306574
    }
]