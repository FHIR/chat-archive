[
    {
        "content": "<p>We are implementing MedicationDispense for compounded medications and have a contained Medication resource to describe the item being dispensed.  Our business requirements specify a quantity attribute on each ingredient of the compound.<br>\nI can't see an obvious way to code this within the FHIR R4 resources. <br>\nHere's a 2 ingredient example  with Quantity, Brand, Strength, Form attributes:<br>\nQty =7ml,  Brand=BIODONE, Strength=2mg/ml, Form=Liquid<br>\nQty=273ml ,Brand=WATER Tap</p>\n<p>I can map the Brand/Strength/Form via the itemCodeableConcept attribute </p>\n<p>How do I map the Quantity (which has  value and unit attributes )?</p>\n<p>Does this call for an extension ?</p>",
        "id": 158939331,
        "sender_full_name": "David Moorhouse",
        "timestamp": 1550629040
    },
    {
        "content": "<p>You use Medication to define the compound - it can be a contained resource if it's not a standard compound</p>",
        "id": 158944434,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1550635763
    },
    {
        "content": "<p>Thanks Lloyd. Medication has a quantity attribute which applies to the whole medication.  Is there a similar concept for the ingredients e.g.</p>\n<div class=\"codehilite\"><pre><span></span>&lt;Medication&gt;\n  &lt;ingredient&gt;\n    &lt;!-- ?? where to put the quantity in this ingredient node ?? -&gt;\n                &lt;itemCodeableConcept&gt;\n                    &lt;coding&gt;\n                        &lt;system value=&quot;some coding system&quot;/&gt;\n                        &lt;code value=&quot;387253001&quot;/&gt;\n                        &lt;display value=&quot;BIODINE&quot;/&gt;\n                    &lt;/coding&gt;\n                &lt;/itemCodeableConcept&gt;\n                &lt;strength&gt;\n                    &lt;numerator&gt;\n                        &lt;value value=&quot;2&quot;/&gt;\n                        &lt;system value=&quot;http://unitsofmeasure.org&quot;/&gt;\n                        &lt;code value=&quot;mg&quot;/&gt;\n                    &lt;/numerator&gt;\n                    &lt;denominator&gt;\n                        &lt;value value=&quot;1&quot;/&gt;\n                        &lt;system value=&quot;http://unitsofmeasure.org&quot;/&gt;\n                        &lt;code value=&quot;ml&quot;/&gt;\n                    &lt;/denominator&gt;\n                &lt;/strength&gt;\n            &lt;/ingredient&gt;\n  &lt;/ingredient&gt;\n&lt;!-- ingredient for water --&gt;\n&lt;/Medication&gt;\n</pre></div>",
        "id": 158944836,
        "sender_full_name": "David Moorhouse",
        "timestamp": 1550636384
    },
    {
        "content": "<p>Medication has an ingredient property and each ingredient can have it's own strength (which is the amount of the ingredient in the overall med)</p>",
        "id": 158946386,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1550638674
    },
    {
        "content": "<p>I'm not sure this covers our use case. In this example the ingredient has its own strength (e.g. 2mg/ml) - which we can code into the strength attribute - but then the ingredient has a specific quantity within the final mixture (7ml out of the 280 total).  <br>\nAre you suggesting that we calculate the final strength e.g  2mg/ml *7ml/280ml  gives a final strength of 0.05mg/ml  so  code this up as</p>\n<div class=\"codehilite\"><pre><span></span>&lt;Medication&gt;\n    &lt;ingredient&gt;\n        &lt;itemCodeableConcept&gt;\n            &lt;coding&gt;\n                &lt;system value=&quot;http://snomed.info/sct&quot;/&gt;\n                &lt;code value=&quot;51758009&quot;/&gt;\n                &lt;display value=&quot;Methodone&quot;/&gt;\n            &lt;/coding&gt;\n            &lt;text value=&quot;7ml Biodine 2mg/ml&quot;/&gt;\n        &lt;/itemCodeableConcept&gt;\n        &lt;strength&gt;\n            &lt;numerator&gt;\n                &lt;value value=&quot;50&quot;/&gt;\n                &lt;system value=&quot;http://unitsofmeasure.org&quot;/&gt;\n                &lt;code value=&quot;mcg&quot;/&gt;\n            &lt;/numerator&gt;\n            &lt;denominator&gt;\n                &lt;value value=&quot;1&quot;/&gt;\n                &lt;system value=&quot;http://unitsofmeasure.org&quot;/&gt;\n                &lt;code value=&quot;ml&quot;/&gt;\n            &lt;/denominator&gt;\n        &lt;/strength&gt;\n    &lt;/ingredient&gt;\n    &lt;ingredient&gt;\n        &lt;itemCodeableConcept&gt;\n            &lt;coding&gt;\n                &lt;system value=&quot;http://snomed.info/sct&quot;/&gt;\n                &lt;code value=&quot;346712003&quot;/&gt;\n                &lt;display value=&quot;Water&quot;/&gt;\n            &lt;/coding&gt;\n            &lt;text value=&quot;273ml Tap Water&quot;/&gt;\n        &lt;/itemCodeableConcept&gt;\n    &lt;/ingredient&gt;\n&lt;/Medication&gt;\n</pre></div>",
        "id": 159013963,
        "sender_full_name": "David Moorhouse",
        "timestamp": 1550696123
    },
    {
        "content": "<p>The strength data element on medication.ingredient is the strength relative to the entire medication.  Depending on what you are specifying as the ingredient, it would either be 0.05mg/ml (for Methadone) or 7ml/280ml (for Biodone).  With your initial request: Qty =7ml, Brand=BIODONE, Strength=2mg/ml, Form=Liquid<br>\nQty=273ml ,Brand=WATER Tap</p>\n<p>I would have gone with 7ml/280ml as it is the strength of this ingredient Biodone that you are specifying.</p>",
        "id": 159014598,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1550696559
    },
    {
        "content": "<p>There are a number of examples in the MedicationDispense resource that may help with your question.</p>",
        "id": 159015858,
        "sender_full_name": "Melva Peters",
        "timestamp": 1550697553
    },
    {
        "content": "<p>Thx Jean and Melva, I've gone through the examples in more detail, the most useful is Medication 319 (<a href=\"https://www.hl7.org/fhir/medicationexample0319.xml.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/medicationexample0319.xml.html\">https://www.hl7.org/fhir/medicationexample0319.xml.html</a>) which describes a 3 ingredient ointment, where all ingredient strengths are specified against a base of 100g</p>\n<p>I will run with the base of 280ml and show the ingredients as constituents of that</p>",
        "id": 159018695,
        "sender_full_name": "David Moorhouse",
        "timestamp": 1550699664
    }
]