[
    {
        "content": "<p>Is anyone aware of existing tooling to compare structure definitions? i.e. the input is two structure definitions and the output is the differences between them?</p>",
        "id": 153814956,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1457650112
    },
    {
        "content": "<p>Bryn, I have written tools in Ruby to do this as part of Crucible.</p>",
        "id": 153815173,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457701099
    },
    {
        "content": "<p>See this <a href=\"https://github.com/fhir-crucible/fhir_dstu2_models/blob/master/test/unit/profile_comparison_test.rb\" target=\"_blank\" title=\"https://github.com/fhir-crucible/fhir_dstu2_models/blob/master/test/unit/profile_comparison_test.rb\">unit test</a> which compares every single profile in the DSTU2 build tools against every other (for the same resourceType). Most of them <code>FAIL</code> (meaning the profiles are incompatible, the comparison successfully completes) so the tests are set to <code>skip</code> by default. If you want to change that behavior, comment out line 43.</p>",
        "id": 153815174,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457701235
    },
    {
        "content": "<p>The code that actually does the comparison is here: <a href=\"https://github.com/fhir-crucible/fhir_dstu2_models/blob/master/lib/models/profiles/structuredefinition.rb#L235\" target=\"_blank\" title=\"https://github.com/fhir-crucible/fhir_dstu2_models/blob/master/lib/models/profiles/structuredefinition.rb#L235\">https://github.com/fhir-crucible/fhir_dstu2_models/blob/master/lib/models/profiles/structuredefinition.rb#L235</a></p>",
        "id": 153815175,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457701287
    },
    {
        "content": "<p>Why are they incompatible? How did you define that - from which perspective?</p>",
        "id": 153815274,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457730307
    },
    {
        "content": "<p>My definition is: if you cannot have any instance of a Resource that satisfies both profiles then they are not compatible.</p>",
        "id": 153815276,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457731070
    },
    {
        "content": "<p>If one sets cardinality of a field to 0..0 and another to 1..1 then they are incompatible, for example. If both set different required bindings, then they are incompatible. etc.</p>",
        "id": 153815277,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457731146
    },
    {
        "content": "<p>So my comparison at <a href=\"http://hl7.org/implement/standards/fhir/daf-cqi.html\" target=\"_blank\" title=\"http://hl7.org/implement/standards/fhir/daf-cqi.html\">http://hl7.org/implement/standards/fhir/daf-cqi.html</a> finds daf and qicore almost completely compatible. Do you think my comparison is wrong?</p>",
        "id": 153815278,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457731635
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191381\">@Jason Walonoski</span> thanks!</p>",
        "id": 153815279,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1457731729
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Do I think your comparison is wrong? I doubt it, but my reports output on a resource level (e.g. Patient profiles), rather than at an implementation guide level (e.g. DAF or QICore), so I'd have to run everything and look at the output to compare mine to yours or change the way I output results.</p>",
        "id": 153815282,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457732275
    },
    {
        "content": "<p>Well, it would be good to cross-compare </p>",
        "id": 153815291,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457735863
    },
    {
        "content": "<p>What I'm actually looking for is the difference between the DSTU2 resources and the current state.</p>",
        "id": 153815292,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1457735900
    },
    {
        "content": "<p>there's a comparison link at the foot of every page</p>",
        "id": 153815293,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457736218
    },
    {
        "content": "<p>in the current build</p>",
        "id": 153815294,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457736223
    },
    {
        "content": "<p>though I see the link is wrong. I'll haev to fix it </p>",
        "id": 153815295,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457736258
    }
]