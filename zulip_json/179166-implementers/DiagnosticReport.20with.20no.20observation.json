[
    {
        "content": "<p>Hi guys,<br>\nI am having trouble with Diagnostic Report. I have implemented Bundle resource for diagnostic report as per below url example<br>\nURL: <a href=\"https://www.hl7.org/fhir/diagnosticreport-example.json.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/diagnosticreport-example.json.html\">https://www.hl7.org/fhir/diagnosticreport-example.json.html</a><br>\nI have included observation as well in this but somehow it is not working<br>\nCan anyone tell me what I should do further in this</p>\n<p>Bundle Reosurce<br>\n{<br>\n    \"resourceType\": \"Bundle\",<br>\n    \"id\": \"1011163\",<br>\n    \"type\": \"collection\",<br>\n    \"link\": [<br>\n        {<br>\n            \"relation\": \"self\",<br>\n            \"url\": \"<a href=\"https://sandbox.myOrg.com/api/fhir/DiagnosticReport?patient=1011163\" target=\"_blank\" title=\"https://sandbox.myOrg.com/api/fhir/DiagnosticReport?patient=1011163\">https://sandbox.myOrg.com/api/fhir/DiagnosticReport?patient=1011163</a>\"<br>\n        }<br>\n    ],<br>\n    \"entry\": [<br>\n        {<br>\n            \"fullUrl\": \"<a href=\"https://sandbox.myOrg.com/api/fhir/DiagnosticReport/54446661111\" target=\"_blank\" title=\"https://sandbox.myOrg.com/api/fhir/DiagnosticReport/54446661111\">https://sandbox.myOrg.com/api/fhir/DiagnosticReport/54446661111</a>\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"DiagnosticReport\",<br>\n                \"id\": \"54446661111\",<br>\n                \"status\": \"final\",<br>\n                \"category\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"<a href=\"http://terminology.hl7.org/CodeSystem/v2-0074\" target=\"_blank\" title=\"http://terminology.hl7.org/CodeSystem/v2-0074\">http://terminology.hl7.org/CodeSystem/v2-0074</a>\",<br>\n                            \"code\": \"laboratory\"<br>\n                        }<br>\n                    ]<br>\n                },<br>\n                \"code\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"<a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">http://loinc.org</a>\",<br>\n                            \"code\": \"\",<br>\n                            \"display\": \"LIPID PANEL\"<br>\n                        }<br>\n                    ],<br>\n                    \"text\": \"LIPID PANEL\"<br>\n                },<br>\n                \"subject\": {<br>\n                    \"reference\": \"<a href=\"https://sandbox.myOrg.com/api/fhir/Patient/1011163\" target=\"_blank\" title=\"https://sandbox.myOrg.com/api/fhir/Patient/1011163\">https://sandbox.myOrg.com/api/fhir/Patient/1011163</a>\",<br>\n                    \"display\": \"John, Doe\"<br>\n                },<br>\n                \"effectivePeriod\": {<br>\n                    \"start\": \"2015-06-20T00:00:00+05:00\",<br>\n                    \"end\": \"2015-07-20T00:00:00+05:00\"<br>\n                },<br>\n                \"issued\": \"2020-02-26T20:55:58.7584197+05:00\",<br>\n                \"performer\": {<br>\n                    \"display\": \"WAYNE, BEST\"<br>\n                },<br>\n                \"result\": [<br>\n                    {<br>\n                        \"reference\": \"Observation/r5151\"<br>\n                    }<br>\n                ],<br>\n                \"conclusion\": \"\"<br>\n            }<br>\n        },<br>\n        {<br>\n            \"fullUrl\": \"Observation/r5151\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"Observation\",<br>\n                \"id\": \"r5151\",<br>\n                \"status\": \"final\",<br>\n                \"code\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"system\": \"<a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">http://loinc.org</a>\",<br>\n                            \"code\": \"\",<br>\n                            \"display\": \"Albumin, Serum\"<br>\n                        }<br>\n                    ],<br>\n                    \"text\": \"Comp. Metabolic Panel 12\"<br>\n                },<br>\n                \"subject\": {<br>\n                    \"reference\": \"<a href=\"https://sandbox.myOrg.com/api/fhir/Patient/1011163\" target=\"_blank\" title=\"https://sandbox.myOrg.com/api/fhir/Patient/1011163\">https://sandbox.myOrg.com/api/fhir/Patient/1011163</a>\",<br>\n                    \"display\": \"John, Doe\"<br>\n                },<br>\n                \"performer\": [<br>\n                    {<br>\n                        \"display\": \"testing\"<br>\n                    }<br>\n                ],<br>\n                \"valueQuantity\": {<br>\n                    \"value\": 6.0,<br>\n                    \"unit\": \"g/dL\",<br>\n                    \"system\": \"<a href=\"http://unitsofmeasure.org\" target=\"_blank\" title=\"http://unitsofmeasure.org\">http://unitsofmeasure.org</a>\",<br>\n                    \"code\": \"g/dL\"<br>\n                },<br>\n                \"referenceRange\": [<br>\n                    {<br>\n                        \"low\": {<br>\n                            \"value\": 6.0,<br>\n                            \"unit\": \"g/dL\",<br>\n                            \"system\": \"<a href=\"http://unitsofmeasure.org\" target=\"_blank\" title=\"http://unitsofmeasure.org\">http://unitsofmeasure.org</a>\",<br>\n                            \"code\": \"g/dL\"<br>\n                        },<br>\n                        \"high\": {<br>\n                            \"value\": 8.5,<br>\n                            \"unit\": \"g/dL\",<br>\n                            \"system\": \"<a href=\"http://unitsofmeasure.org\" target=\"_blank\" title=\"http://unitsofmeasure.org\">http://unitsofmeasure.org</a>\",<br>\n                            \"code\": \"g/dL\"<br>\n                        },<br>\n                        \"text\": \"Range Value Recommended: 6.0-8.5\"<br>\n                    }<br>\n                ]<br>\n            }<br>\n        }<br>\n    ]<br>\n}</p>",
        "id": 189206316,
        "sender_full_name": "Ali Haider",
        "timestamp": 1582804010
    },
    {
        "content": "<p>When you say it isn't working, what specifically are you trying to do and what is the result you are getting?</p>",
        "id": 189211069,
        "sender_full_name": "James Agnew",
        "timestamp": 1582808280
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191319\">James Agnew</span> <a href=\"#narrow/stream/179166-implementers/topic/DiagnosticReport.20with.20no.20observation/near/189211069\" title=\"#narrow/stream/179166-implementers/topic/DiagnosticReport.20with.20no.20observation/near/189211069\">said</a>:</p>\n<blockquote>\n<p>When you say it isn't working, what specifically are you trying to do and what is the result you are getting?</p>\n</blockquote>\n<p>I am sending data of bundle to Apple Health App and App is not accepting it as Lab Results. App sends this data to Unreadable Section.</p>",
        "id": 189212499,
        "sender_full_name": "Ali Haider",
        "timestamp": 1582809427
    },
    {
        "content": "<p>I don't think Apple Health supports collection Bundles (though I'm not an expert on that - <span class=\"user-mention\" data-user-id=\"191339\">@Pascal Pfiffner</span>?).  Also, your full URLs need to be full URLs, not relative URLs and collection Bundles shouldn't have 'self' links.</p>",
        "id": 189223808,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582817546
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  <br>\nwhat do you mean by Self links??? like links in references or Full URL's</p>",
        "id": 189230036,
        "sender_full_name": "Ali Haider",
        "timestamp": 1582821337
    },
    {
        "content": "<p>Near the top of your Bundle you have a 'link' property with relation of 'self' and a url that looks like it's a query.  That shouldn't be there because the Bundle you've defined isn't a query response</p>",
        "id": 189231371,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582822097
    },
    {
        "content": "<p>Got it. Thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <br>\nI am going to remove it from response. Is there anything else which shouldn't be there</p>",
        "id": 189231576,
        "sender_full_name": "Ali Haider",
        "timestamp": 1582822215
    },
    {
        "content": "<p>Only other thing I noticed on a cursory inspection is that the fullUrl for your Observation isn't actually a fullUrl.</p>",
        "id": 189231689,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582822304
    },
    {
        "content": "<p>Okay, i'll look into this as well.</p>",
        "id": 189231995,
        "sender_full_name": "Ali Haider",
        "timestamp": 1582822455
    },
    {
        "content": "<p>Ali, please follow the Argonaut spec here: <a href=\"http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-diagnosticreport.html\" target=\"_blank\" title=\"http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-diagnosticreport.html\">http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-diagnosticreport.html</a></p>",
        "id": 189234081,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1582823821
    },
    {
        "content": "<p>For one, the category system URL needs to be <code>http://hl7.org/fhir/DiagnosticReport-category</code>. Then also make sure that the relative reference to the Observation is resolvable, meaning a <code>read</code> against that Observation will succeed.</p>",
        "id": 189234137,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1582823859
    }
]