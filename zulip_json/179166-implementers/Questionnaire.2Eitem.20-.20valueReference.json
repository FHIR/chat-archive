[
    {
        "content": "<p>On a number of items in a Questionnaire we are wanting references to Observation.<br>\nI was going to use Questionnaire.answerValueSet to specify a valueSet for the codes but I'm thinking this is wrong.</p>\n<p>Instead I could use ObservationDefinition to link the code to a valueSet (and this also specifies units if necessary). Is this correct?</p>",
        "id": 170541758,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1562765708
    },
    {
        "content": "<p>Do you mean that you would want the answer to a question to be a reference to an Observation?</p>",
        "id": 170551471,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1562772673
    },
    {
        "content": "<p>yes.  So similar to this <a href=\"http://build.fhir.org/ig/HL7/sdc/populate.html#designing-questionnaires-to-support-populate\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/sdc/populate.html#designing-questionnaires-to-support-populate\">http://build.fhir.org/ig/HL7/sdc/populate.html#designing-questionnaires-to-support-populate</a>. With results being Observations</p>",
        "id": 170551910,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1562773088
    },
    {
        "content": "<p>SO example item from a Questionnaire</p>",
        "id": 170551968,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1562773138
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/LNCtFuSo5HpkWYtgVinWmVuu/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/LNCtFuSo5HpkWYtgVinWmVuu/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/LNCtFuSo5HpkWYtgVinWmVuu/pasted_image.png\"></a></div>",
        "id": 170551976,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1562773142
    },
    {
        "content": "<p>This has a corresponding ObservationDefinition<br>\n<a href=\"/user_uploads/10155/GvACKanpvy4vHgZITiJFLivV/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/GvACKanpvy4vHgZITiJFLivV/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/GvACKanpvy4vHgZITiJFLivV/pasted_image.png\"></a></div>",
        "id": 170552028,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1562773201
    },
    {
        "content": "<p>which links to a ValueSet</p>",
        "id": 170552079,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1562773212
    },
    {
        "content": "<p>I'm still a bit confused.  Is the Questionnaire being prepoluated with an Observation reference as an answer, or is the user selecting the Observation (via that  blue \"Observation\" button)?<br>\nI'm not sure how a ValueSet enters the picture... not that that is wrong, but I'm not seeing it.<br>\nWhat is the question that is being asked of the user?  (Is it \"Learning finding\"?  What are they supposed to do?)</p>",
        "id": 170556822,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1562776476
    },
    {
        "content": "<p>That would be in the QuestionnaireResponse, the image shows a Questionnaire (Definition). <br>\nThe required response is an Observation, the code for the Observation is 'learning finding'. <br>\nThis code is CodeableConcept Observation and has a list of valid codes for the Observation.valueCodeableConcepts (which are in the ValueSet).</p>",
        "id": 170559202,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1562778176
    },
    {
        "content": "<p>So, if I understand correctly, you could have answerValueSet point to the ValueSet with the allowed values that you want for the Observation.valueCodeableConcept, and then use observationLinkPeriod to signal that you want that value prepopulated from an Observation and/or extracted to an Observation.  The type of the item itself in this case would be \"choice\" and you would get a valueCoding in the response.</p>",
        "id": 170570515,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1562786058
    }
]