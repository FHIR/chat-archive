[
    {
        "content": "<p>What is the assumption around date? <a href=\"http://build.fhir.org/documentreference-definitions.html#DocumentReference.date\" target=\"_blank\" title=\"http://build.fhir.org/documentreference-definitions.html#DocumentReference.date\">http://build.fhir.org/documentreference-definitions.html#DocumentReference.date</a> Does this represent the date the DocumentReference was created? If that is the case, does that mean the actual content of document can have a different date for creation? I am trying to understand how how this maps to XDS where the registry may have 1 date vs the document having another date. <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> <span class=\"user-mention\" data-user-id=\"191410\">@Brett Marquard</span></p>",
        "id": 154020185,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542815362
    },
    {
        "content": "<p>see the mapping <a href=\"http://build.fhir.org/documentreference-mappings.html#xds\" target=\"_blank\" title=\"http://build.fhir.org/documentreference-mappings.html#xds\">http://build.fhir.org/documentreference-mappings.html#xds</a></p>",
        "id": 154020186,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542815428
    },
    {
        "content": "<p>So it maps to DocumentEntry.creationTime. How does this map int eh onDemand world?</p>",
        "id": 154020187,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542815560
    },
    {
        "content": "<p>On demand documents wouldn't have that date. Is my assumption correct?</p>",
        "id": 154020188,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542815578
    },
    {
        "content": "<p>The DocumentReference resource is owned by FHIR community, so it has drifted away from pure XDS mapping.  I would recommend that the document creation date/time is to be found in the attachment.creation element. The .date element seems to be about the DocumentReference resource itself.</p>",
        "id": 154020189,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542815678
    },
    {
        "content": "<p>Correct, an on-demand document has not yet been created.</p>",
        "id": 154020190,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542815721
    },
    {
        "content": "<p>as always... this resource in FHIR is STU, and the MHD profile is Trial Implementation... so please try it, and give feedback on how well it worked. Feedback is critical to \"Trial\" status...</p>",
        "id": 154020192,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542815942
    },
    {
        "content": "<p>Thank you sir! This is the information I was looking for. The mapping was great!</p>",
        "id": 154020193,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542816117
    },
    {
        "content": "<p>I have entered <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19685\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19685\">GF#19685</a> to correct the xds mapping for creationTime.</p>",
        "id": 154020196,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542816519
    },
    {
        "content": "<p>With that change would date then be the submission date/time?</p>",
        "id": 154020197,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542816586
    },
    {
        "content": "<p>with that change there would be no use for the .date element.</p>",
        "id": 154020209,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542817221
    },
    {
        "content": "<p>At least for XDS maybe, but I feel like the .date would be be appropriate to represent when the pointer was created vs. when the content was create.</p>",
        "id": 154020210,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542817302
    },
    {
        "content": "<p>I stopped short of recommending that the .date element be eliminated, although I might argue that during review and approval of the change request</p>",
        "id": 154020211,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542817319
    },
    {
        "content": "<p>Please don't. :-D</p>",
        "id": 154020212,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542817346
    },
    {
        "content": "<p>in STU3. The .indexed element existed for that purpose, and a .created element for the date of the document. But even at STU3 there was the duplicate attachment.created element.</p>",
        "id": 154020213,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542817389
    },
    {
        "content": "<p>I still think it has a place. The example would be for system that support multiple representations of the same document.</p>",
        "id": 154020214,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542817399
    },
    {
        "content": "<p>Like we have 1 pointer to multiple format of the same document. (PDF, RRTF, HTML, etc)</p>",
        "id": 154020215,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542817422
    },
    {
        "content": "<p>the concern I would have is that in XDS a documentEntry can be registered in multiple submissionSets. It would be hard to determine which of those was the 'first'. So it would seem to me best to leave it empty in an XDS environment.</p>",
        "id": 154020219,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542817595
    },
    {
        "content": "<p>Agreed on that point. In XDS it may not make sense anymore.</p>",
        "id": 154020222,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542817621
    },
    {
        "content": "<p>I was advocating for support for the non-XDS flows.</p>",
        "id": 154020223,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542817647
    },
    {
        "content": "<p>and it is unusual in a REST environment to have creation time, as everything in REST is based on lastUpdated</p>",
        "id": 154020224,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542817655
    },
    {
        "content": "<p>Well that opens a new can of worms. Since, CCDs have their own concept of version.</p>",
        "id": 154020225,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542817688
    },
    {
        "content": "<p>there are discussions of adding to the Domain resource a creationTime in addition to the lastUpdated. but that would be universal, not special for DocumentReference</p>",
        "id": 154020226,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542817690
    },
    {
        "content": "<p>It defines a version as an incrementing number, where FHIR defines version completely differently.</p>",
        "id": 154020227,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542817725
    },
    {
        "content": "<p>but the concept of versioned in CCD turns into simply an identifier in FHIR. It is just a method of creating unique identifiers for each version. right?</p>",
        "id": 154020230,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542817819
    },
    {
        "content": "<p>That feels weird a little. The identifier should be the same since it is the same document, but just a newer version.</p>",
        "id": 154020231,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542817974
    },
    {
        "content": "<p>in CDA, that is a new document. each revision is a new document.</p>",
        "id": 154020232,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542818038
    },
    {
        "content": "<p>But XDS supported replace document set.</p>",
        "id": 154020233,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542818096
    },
    {
        "content": "<p>At some level there was a \"linking\" between documents with the same \"identifier\"</p>",
        "id": 154020234,
        "sender_full_name": "Drew Torres",
        "timestamp": 1542818124
    },
    {
        "content": "<p>That linking is done at the metadata level. In XDS with associations. In DocumentReference with .relatesTo.  Each instance is a unique document. The linkage is done in metadata so as to be content agnostic. This same revision tracking can be done regardless of the document format. It can be done even with simple text files, PDF, images, etc.</p>",
        "id": 154020235,
        "sender_full_name": "John Moehrke",
        "timestamp": 1542818262
    }
]