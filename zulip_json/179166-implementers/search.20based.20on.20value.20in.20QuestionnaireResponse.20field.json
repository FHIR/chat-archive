[
    {
        "content": "<p>hello,<br>\ni have a hapi server with some Questionnaires and QuestionnaireResponses. <br>\nhow can i find all the QuestionnaireResponses based on the value of Questionnaire field in the QuestionnaireResponse ?</p>\n<p>thank you</p>",
        "id": 247526258,
        "sender_full_name": "Razvan Sfat",
        "timestamp": 1627512143
    },
    {
        "content": "<p>Should just be a question of using the 'questionnaire' search parameter and specifying the URL of the questionnaire.  Is that not working?</p>",
        "id": 247529328,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1627514554
    },
    {
        "content": "<p>thank you for response.</p>\n<p>i dont think it works.<br>\nthis is the url for the search:<br>\n<a href=\"http://localhost:8080/fhir/QuestionnaireResponse?questionnaire=5003&amp;_include=QuestionnaireResponse:questionnaire&amp;_pretty=true\">http://localhost:8080/fhir/QuestionnaireResponse?questionnaire=5003&amp;_include=QuestionnaireResponse:questionnaire&amp;_pretty=true</a><br>\nand the result:<br>\n{<br>\n  \"resourceType\": \"Bundle\",<br>\n  \"id\": \"9747b239-8304-4327-b035-d7a3473f4cae\",<br>\n  \"meta\": {<br>\n    \"lastUpdated\": \"2021-07-29T01:37:09.318+03:00\"<br>\n  },<br>\n  \"type\": \"searchset\",<br>\n  \"total\": 0,<br>\n  \"link\": [ {<br>\n    \"relation\": \"self\",<br>\n    \"url\": \"<a href=\"http://localhost:8080/fhir/QuestionnaireResponse?_include=QuestionnaireResponse%3Aquestionnaire&amp;_pretty=true&amp;questionnaire=5003\">http://localhost:8080/fhir/QuestionnaireResponse?_include=QuestionnaireResponse%3Aquestionnaire&amp;_pretty=true&amp;questionnaire=5003</a>\"<br>\n  } ]<br>\n}</p>\n<p>response code is 200</p>\n<p>maybe i have not explained too clear. <br>\nlet's say that i have 10 QuestionnaireResponse records.<br>\nfrom this 10 i want only that ones that have in the field questionnaire the id of a specific Questionnaire</p>\n<p>example of  QuestionnaireResponse record:<br>\n{<br>\n  \"resourceType\": \"QuestionnaireResponse\",<br>\n  \"id\": \"5053\",<br>\n  \"meta\": {<br>\n    \"versionId\": \"1\",<br>\n    \"lastUpdated\": \"2021-07-28T19:50:30.627+03:00\",<br>\n    \"source\": \"#bAjZh5nPLT5Yrfle\"<br>\n  },<br>\n  \"questionnaire\": \"5002\",<br>\n  \"item\": [ {<br>\n    \"linkId\": \"1\",<br>\n    \"text\": \"intrebare_1\",<br>\n    \"answer\": [ {<br>\n      \"valueString\": \"raspuns\"<br>\n    } ]<br>\n  }</p>",
        "id": 247529957,
        "sender_full_name": "Razvan Sfat",
        "timestamp": 1627515170
    },
    {
        "content": "<p>You can't say \"questionnaire=5003\" because questionnaire needs to be the canonical URL of the Questionnaire.  <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span>, does HAPI support _include on canonical references yet?</p>",
        "id": 247530064,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1627515292
    },
    {
        "content": "<p>i will say it support _include.<br>\non the test server on the hapi website i have this url:<br>\n<a href=\"http://hapi.fhir.org/baseR4/QuestionnaireResponse?questionnaire=https://protocol-service.icanbwell.com/Questionnaire/medstar-squeeze\\|1.1.0&amp;_include=*&amp;_pretty=true\">http://hapi.fhir.org/baseR4/QuestionnaireResponse?questionnaire=https://protocol-service.icanbwell.com/Questionnaire/medstar-squeeze\\|1.1.0&amp;_include=*&amp;_pretty=true</a><br>\nbut the result is the same:<br>\n{<br>\n  \"resourceType\": \"Bundle\",<br>\n  \"id\": \"72a2ebe9-b5d2-43c5-8b38-8dff57869781\",<br>\n  \"meta\": {<br>\n    \"lastUpdated\": \"2021-07-28T23:38:05.859+00:00\"<br>\n  },<br>\n  \"type\": \"searchset\",<br>\n  \"total\": 0,<br>\n  \"link\": [ {<br>\n    \"relation\": \"self\",<br>\n    \"url\": \"<a href=\"http://hapi.fhir.org/baseR4/QuestionnaireResponse?_include=*&amp;_pretty=true&amp;questionnaire=https%3A%2F%2Fprotocol-service.icanbwell.com%2FQuestionnaire%2Fmedstar-squeeze%5C%7C1.1.0\">http://hapi.fhir.org/baseR4/QuestionnaireResponse?_include=*&amp;_pretty=true&amp;questionnaire=https%3A%2F%2Fprotocol-service.icanbwell.com%2FQuestionnaire%2Fmedstar-squeeze%5C%7C1.1.0</a>\"<br>\n  } ]<br>\n}</p>\n<p>but first i should change de value of questionnaire field from the id of question to the url</p>",
        "id": 247530493,
        "sender_full_name": "Razvan Sfat",
        "timestamp": 1627515752
    },
    {
        "content": "<p>It did not work for me as while back either,  I thought I lodged an issue.</p>",
        "id": 247592647,
        "sender_full_name": "Eric Haas",
        "timestamp": 1627569653
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191401\">Eric Haas</span> <a href=\"#narrow/stream/179166-implementers/topic/search.20based.20on.20value.20in.20QuestionnaireResponse.20field/near/247592647\">said</a>:</p>\n<blockquote>\n<p>I thought I lodged an issue.</p>\n</blockquote>\n<p>Oooh, \"lodging an issue.\" That's when you submit it, and it gets stuck in roadmap purgatory forever. It's not until you escalate to the CTO that the issue gets dis-lodged. <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 247601336,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1627573345
    },
    {
        "content": "<p>It is open source: <a href=\"https://github.com/hapifhir/hapi-fhir/\">https://github.com/hapifhir/hapi-fhir/</a></p>",
        "id": 247606164,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1627575707
    },
    {
        "content": "<p>Hello, <br>\nDid anyone manage to search for QuestionnaireResponses after the id of the Questionnaire?</p>\n<p>Thank you.</p>",
        "id": 266171037,
        "sender_full_name": "Razvan Sfat",
        "timestamp": 1640610257
    },
    {
        "content": "<p>QuestionnaireResponses point to the Questionnaire by the Questionnaire.url, not the <a href=\"http://Questionnaire.id\">Questionnaire.id</a></p>",
        "id": 266651464,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1641185389
    }
]