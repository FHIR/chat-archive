[
    {
        "content": "<p>Hello,<br>\nI am trying to generate a \"Group\" resource DTSU3 in Java. Everything except a valueCodeableConcept (under Characteristic) is not working for me. I am unable to set the valueCodeableConcept as a part of the characteristic. I am unable to use the GroupCharacteristicComponent.setValue directly.</p>\n<p>Any pointers appreciated. Thanks in advance.</p>\n<p>Sample Expected Output:</p>\n<div class=\"codehilite\"><pre><span></span>  &quot;characteristic&quot;: [\n    {\n      &quot;code&quot;: {\n        &quot;coding&quot;: [\n          {\n            &quot;code&quot;: &quot;attributed-to&quot;\n          }\n        ]\n      },\n      &quot;valueCodeableConcept&quot;: {\n        &quot;coding&quot;: [\n          {\n            &quot;system&quot;: &quot;http://hl7.org/fhir/sid/us-npi&quot;,\n            &quot;value&quot;: &quot;110001029483&quot;\n          }\n        ]\n      }\n    }\n  ]\n</pre></div>\n\n\n<p>What I have so far:</p>\n<div class=\"codehilite\"><pre><span></span>  &quot;characteristic&quot;: [\n    {\n      &quot;code&quot;: {\n        &quot;coding&quot;: [\n          {\n            &quot;code&quot;: &quot;attributed-to&quot;\n          }\n        ]\n      }\n    }\n  ],\n</pre></div>\n\n\n<p>What is missing:</p>\n<div class=\"codehilite\"><pre><span></span>      &quot;valueCodeableConcept&quot;: {\n        &quot;coding&quot;: [\n          {\n            &quot;system&quot;: &quot;http://hl7.org/fhir/sid/us-npi&quot;,\n            &quot;value&quot;: &quot;110001029483&quot;\n          }\n        ]\n      }\n</pre></div>\n\n\n<p>My Code:</p>\n<div class=\"codehilite\"><pre><span></span>        // set characteristic code\n        CodeableConcept ccgcc1 = new CodeableConcept();\n        ccgcc1.addCoding().setCodeElement(new CodeType(&quot;attributed-to&quot;));\n\n        Extension e = new Extension();\n        e.setValue(new StringType(&quot;123321&quot;));\n        e.setUrl(&quot;http://hl7.org/fhir/sid/us-npi&quot;);\n\n\n        // add characteristic code to the groupcharacteristiccomponent\n        GroupCharacteristicComponent gccgrp1 = new GroupCharacteristicComponent();\n        gccgrp1.setCode(ccgcc1);\n        try {\n            gccgrp1.setValue(e.castToType(new CodeableConcept()));\n        } catch (FHIRFormatError e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        } catch (FHIRException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n\n\n        // member references\n        Reference rpt1 = new Reference();\n        rpt1.setReference(&quot;pt1&quot;);\n\n        GroupMemberComponent gmc1 = new GroupMemberComponent();\n        gmc1.setEntity(rpt1);\n\n        Reference rpt2 = new Reference();\n        rpt2.setReference(&quot;pt2&quot;);\n\n        GroupMemberComponent gmc2 = new GroupMemberComponent();\n        gmc2.setEntity(rpt2);\n        gmc2.setInactive(true);\n\n        Group attrgrp1 = new Group();\n        attrgrp1.setActual(true);\n        attrgrp1.setType(GroupType.PERSON);\n        attrgrp1.addCharacteristic(gccgrp1);\n        attrgrp1.addMember(gmc1);\n        attrgrp1.addMember(gmc2);\n\n\n        FhirContext forDstu3 = FhirContext.forDstu3();\n        return forDstu3.newJsonParser().setPrettyPrint(true).encodeResourceToString(attrgrp1);\n</pre></div>",
        "id": 173295836,
        "sender_full_name": "Calvin",
        "timestamp": 1565880142
    },
    {
        "content": "<blockquote>\n<p>gccgrp1.setValue(e.castToType(new CodeableConcept()));</p>\n</blockquote>\n<p>Why are you using castToType?</p>",
        "id": 173315277,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1565895765
    },
    {
        "content": "<p>are you getting any exceptions? What happens if you remove the catch?</p>",
        "id": 173315309,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1565895791
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>gccgrp1.setValue(e.castToType(new CodeableConcept()));</p>\n</blockquote>\n<p>Why are you using castToType?</p>\n</blockquote>\n<p>Hello,<br>\nI was unable to find a direct way to set the value needed. I just thought it may work. Guess, I am doing something wrong somewhere.</p>",
        "id": 173315849,
        "sender_full_name": "Calvin",
        "timestamp": 1565896147
    },
    {
        "content": "<blockquote>\n<p>are you getting any exceptions? What happens if you remove the catch?</p>\n</blockquote>\n<p>On doing \"gccgrp1.setValue(e);\", I get this:</p>\n<div class=\"codehilite\"><pre><span></span>org.hl7.fhir.exceptions.FHIRFormatError: Not the right type for Group.characteristic.value[x]: Extension\n</pre></div>\n\n\n<p>Any help is appreciated. Thanks!</p>",
        "id": 173315903,
        "sender_full_name": "Calvin",
        "timestamp": 1565896195
    },
    {
        "content": "<p>should be just </p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"n\">gccgrp1</span><span class=\"o\">.</span><span class=\"na\">setValue</span><span class=\"o\">(</span><span class=\"k\">new</span> <span class=\"n\">CodeableConcept</span><span class=\"o\">());</span>\n</pre></div>\n\n\n<p>but then you have to populate some information on the codeable concept or the value will be ignored</p>",
        "id": 173315970,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1565896220
    },
    {
        "content": "<p>oh - read more carefully. You shouldn't be using an extension at all in that code</p>",
        "id": 173316347,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1565896527
    },
    {
        "content": "<p>Yes, you are correct. My challenge is how do I setup that value in CodeableConcept. I have just been able to set Code part (if you see my original code, </p>\n<div class=\"codehilite\"><pre><span></span>ccgcc1.addCoding().setCodeElement(new CodeType(&quot;attributed-to&quot;));\n</pre></div>\n\n\n<p>however, I am unable to enter the value (which should come in as valueCodeableConcept.</p>\n<p>I know, Extensions are not needed, but, it was a last ditch effort to see if I can try to get that populated. I keep on learning something new every time I am trying to work with Java.</p>\n<p>Thanks.</p>",
        "id": 173317536,
        "sender_full_name": "Calvin",
        "timestamp": 1565897483
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>  <span class=\"n\">CodeableConcept</span> <span class=\"n\">cc</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">CodeableConcept</span><span class=\"o\">();</span>\n  <span class=\"n\">cc</span><span class=\"o\">.</span><span class=\"na\">addCoding</span><span class=\"o\">().</span><span class=\"na\">setCode</span><span class=\"o\">(</span><span class=\"s\">&quot;attributed-to&quot;</span><span class=\"o\">).</span><span class=\"na\">setSystem</span><span class=\"o\">(</span><span class=\"s\">&quot;http://my-uri&quot;</span><span class=\"o\">);</span>\n  <span class=\"n\">gccgrp1</span><span class=\"o\">.</span><span class=\"na\">setValue</span><span class=\"o\">(</span><span class=\"n\">cc</span><span class=\"o\">);</span>\n</pre></div>",
        "id": 173317858,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1565897698
    },
    {
        "content": "<blockquote>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"n\">CodeableConcept</span> <span class=\"n\">cc</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">CodeableConcept</span><span class=\"o\">();</span>\n  <span class=\"n\">cc</span><span class=\"o\">.</span><span class=\"na\">addCoding</span><span class=\"o\">().</span><span class=\"na\">setCode</span><span class=\"o\">(</span><span class=\"s\">&quot;attributed-to&quot;</span><span class=\"o\">).</span><span class=\"na\">setSystem</span><span class=\"o\">(</span><span class=\"s\">&quot;http://my-uri&quot;</span><span class=\"o\">);</span>\n  <span class=\"n\">gccgrp1</span><span class=\"o\">.</span><span class=\"na\">setValue</span><span class=\"o\">(</span><span class=\"n\">cc</span><span class=\"o\">);</span>\n</pre></div>\n\n\n</blockquote>\n<p>you beat me to that.</p>\n<p>I just did the same</p>\n<div class=\"codehilite\"><pre><span></span>        CodeableConcept ccgcc2 = new CodeableConcept();\n        ccgcc2.addCoding().setSystem(&quot;MyURL&quot;).setUserData(&quot;value&quot;, new StringType(&quot;123&quot;));\n</pre></div>\n\n\n<p>This returns:</p>\n<div class=\"codehilite\"><pre><span></span>     &quot;valueCodeableConcept&quot;: {\n        &quot;coding&quot;: [\n          {\n            &quot;system&quot;: &quot;MyURL&quot;\n          }\n        ]\n}\n</pre></div>\n\n\n<p>Now, what is missing is, how to get that value \"123\" as a part of this CodeableConcept... </p>\n<p>Thanks</p>",
        "id": 173318207,
        "sender_full_name": "Calvin",
        "timestamp": 1565897961
    },
    {
        "content": "<p>what 'value 123'? There's no value element in a CodeableConcept - what are you trying to achieve?</p>",
        "id": 173318437,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1565898138
    },
    {
        "content": "<blockquote>\n<p>what 'value 123'? There's no value element in a CodeableConcept - what are you trying to achieve?</p>\n</blockquote>\n<p>I am trying to achieve:</p>\n<div class=\"codehilite\"><pre><span></span>      &quot;valueCodeableConcept&quot;: {\n        &quot;coding&quot;: [\n          {\n            &quot;system&quot;: &quot;http://hl7.org/fhir/sid/us-npi&quot;,\n            &quot;value&quot;: &quot;110001029483&quot;\n          }\n        ]\n      }\n</pre></div>\n\n\n<p>How does one set the value in above example? Thank you.</p>",
        "id": 173318502,
        "sender_full_name": "Calvin",
        "timestamp": 1565898214
    },
    {
        "content": "<p>there is no value - you are confused between identifier and codeable concept. npi is an identifier thing. But step back further - what are you trying to do? It doesn't make sense to create a group with a characteristic that is 'npi number'?</p>",
        "id": 173318778,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1565898431
    },
    {
        "content": "<blockquote>\n<p>there is no value - you are confused between identifier and codeable concept. npi is an identifier thing. But step back further - what are you trying to do? It doesn't make sense to create a group with a characteristic that is 'npi number'?</p>\n</blockquote>\n<p>I am trying to create what is called an \"Attribution Group\" also known as a Patient roster. That is a way to associate patient(s) to a provider/ practitioner as a Group. Hence the need for the NPI value is needed to be setup.</p>\n<p>Sample Roster:</p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;resourceType&quot;: &quot;Group&quot;,\n  &quot;type&quot;: &quot;person&quot;,\n  &quot;actual&quot;: true,\n  &quot;characteristic&quot;: [\n    {\n      &quot;code&quot;: {\n        &quot;coding&quot;: [\n          {\n            &quot;code&quot;: &quot;attributed-to&quot;\n          }\n        ]\n      },\n      &quot;valueCodeableConcept&quot;: {\n        &quot;coding&quot;: [\n          {\n            &quot;system&quot;: &quot;http://hl7.org/fhir/sid/us-npi&quot;,\n            &quot;value&quot;: &quot;110001029483&quot;\n          }\n        ]\n      }\n    }\n  ],\n  &quot;member&quot;: [\n    {\n      &quot;entity&quot;: {\n        &quot;reference&quot;: &quot;Patient/4d72ad76-fbc6-4525-be91-7f358f0fea9d&quot;\n      }\n    },\n    {\n      &quot;entity&quot;: {\n        &quot;reference&quot;: &quot;Patient/74af8018-f3a1-469c-9bfa-1dfd8a646874&quot;\n      }\n    }\n  ]\n}\n</pre></div>\n\n\n<p>Hope this clarifies.</p>",
        "id": 173322260,
        "sender_full_name": "Calvin",
        "timestamp": 1565901248
    },
    {
        "content": "<p>The group resource doesn't currently support that. - identifier is not a valid value for a characteristic - which is why the problem. You should create a task (see bottom of any page of the FHIR spec) asking for it to support that. in the meantime, I guess I'd stick with CodeableConcept and use <code>code</code> instead of <code>value</code></p>",
        "id": 173322513,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1565901490
    },
    {
        "content": "<blockquote>\n<p>The group resource doesn't currently support that. - identifier is not a valid value for a characteristic - which is why the problem. You should create a task (see bottom of any page of the FHIR spec) asking for it to support that. in the meantime, I guess I'd stick with CodeableConcept and use <code>code</code> instead of <code>value</code></p>\n</blockquote>\n<p>Wow, this is interesting. I will be also reaching to the source which requested such a data and seek feedback. Thank you again!</p>",
        "id": 173323551,
        "sender_full_name": "Calvin",
        "timestamp": 1565902326
    },
    {
        "content": "<p>I think our best advice for attribution groups (at least mine) is captured at <a href=\"https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-attribution-lists-and-groups\" target=\"_blank\" title=\"https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-attribution-lists-and-groups\">https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-attribution-lists-and-groups</a> -- and the CMS Data at the Point of Care pilot team is exploring the approach and Will be able to provide some real world feedback (<a href=\"https://dpc.cms.gov/docs\" target=\"_blank\" title=\"https://dpc.cms.gov/docs\">https://dpc.cms.gov/docs</a>)</p>",
        "id": 173371720,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1565961073
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196700\">@Calvin</span> FYI</p>",
        "id": 173371737,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1565961092
    },
    {
        "content": "<blockquote>\n<p>I think our best advice for attribution groups (at least mine) is captured at <a href=\"https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-attribution-lists-and-groups\" target=\"_blank\" title=\"https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-attribution-lists-and-groups\">https://github.com/smart-on-fhir/smart-on-fhir.github.io/wiki/Bulk-data:-thoughts-on-attribution-lists-and-groups</a> -- and the CMS Data at the Point of Care pilot team is exploring the approach and Will be able to provide some real world feedback (<a href=\"https://dpc.cms.gov/docs\" target=\"_blank\" title=\"https://dpc.cms.gov/docs\">https://dpc.cms.gov/docs</a>)</p>\n</blockquote>\n<p>Perfect. Will keep an eye. Thanks.</p>",
        "id": 173375508,
        "sender_full_name": "Calvin",
        "timestamp": 1565964109
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196700\">@Calvin</span>   We at the CMS Data at the Point of Care project are also running into this issue. We would like to be able to include a practitioner's NPI in the Group.characteristic, but using <code>code</code> instead of <code>value</code> still fails validation due to the code system <code>http://hl7.org/fhir/sid/us-npi</code> being an identifier system and not a terminology. I plan on creating a task as <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> suggested if you have not already done so. Have you had any success since this conversation?</p>",
        "id": 207285600,
        "sender_full_name": "Jon Fulk",
        "timestamp": 1597770052
    },
    {
        "content": "<p>can you provide an example of what is failing to validate?</p>",
        "id": 207364961,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597805141
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Sure! One piece of info that might be helpful is that we are validating with HAPI. The validation failure is happening in an integration test that uses the group we create in this method (this specific line is the one causing the failure): <a href=\"https://github.com/CMSgov/dpc-app/blob/f24b3014db681f6039953c12dc0d4daf0da363b3/dpc-common/src/main/java/gov/cms/dpc/common/utils/SeedProcessor.java#L125\">https://github.com/CMSgov/dpc-app/blob/f24b3014db681f6039953c12dc0d4daf0da363b3/dpc-common/src/main/java/gov/cms/dpc/common/utils/SeedProcessor.java#L125</a>.</p>\n<p>The goal is to create a resource with a practitioner's NPI inside a CodeableConcept in the Group characteristic, like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n    &quot;resourceType&quot;: &quot;Group&quot;,\n    &quot;characteristic&quot;: [{\n        &quot;code&quot;: {\n            &quot;coding&quot;: {\n                &quot;code&quot;: &quot;attributed-to&quot;\n            }\n        },\n        &quot;value&quot;: {\n            &quot;coding&quot;: {\n                &quot;system&quot;: &quot;http://hl7.org/fhir/sid/us-npi&quot;,\n                &quot;code&quot;: &quot;1234567890&quot;\n            }\n        }\n    }]\n}\n</code></pre></div>\n\n\n<p>The validation failure is that the URI is an Unknown Code System, and we believe it is due to the fact that this URI is not included here:  <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/eb23fcc5e45c36f1c2f7bca9aa5b68b1b7aa0810/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/validation/instance/InstanceValidator.java#L774\">https://github.com/hapifhir/org.hl7.fhir.core/blob/eb23fcc5e45c36f1c2f7bca9aa5b68b1b7aa0810/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/validation/instance/InstanceValidator.java#L774</a> even though it does appear in the FHIR docs. It seems like this could be because the NPI is an identifier system and not a terminology system, so we're not sure if we are trying to include the NPI in the wrong place or if there is a mistake in the HAPI validator.</p>",
        "id": 207405497,
        "sender_full_name": "Jon Fulk",
        "timestamp": 1597842910
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  When you have a chance to look at the snippets above, I'm most interested in knowing if I should create a task to allow this URI or if I need to be storing the attributed-to NPI differently. Thanks!</p>",
        "id": 207575650,
        "sender_full_name": "Jon Fulk",
        "timestamp": 1597958220
    },
    {
        "content": "<p>hi</p>",
        "id": 207602191,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597988724
    },
    {
        "content": "<p>so looking at this: you'll first get a warning that you don't have system for the code \"attributed-to\". Then you should get a warning that the system <code>http://hl7.org/fhir/sid/us-npi</code> is not known to the validator, and indeed, that's correct. <code>http://hl7.org/fhir/sid/us-npi</code> is not a code system, it's a set of identifiers.</p>",
        "id": 207602246,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597988797
    },
    {
        "content": "<p>I'm not exactly sure what it is that you want but I would think something like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>    <span class=\"s2\">&quot;resourceType&quot;</span><span class=\"err\">:</span> <span class=\"s2\">&quot;Group&quot;</span><span class=\"err\">,</span>\n    <span class=\"s2\">&quot;characteristic&quot;</span><span class=\"err\">:</span> <span class=\"p\">[{</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://terminology.hl7.org/CodeSystem/contractsignertypecodes&quot;</span><span class=\"p\">,</span>\n                <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;RESPRSN&quot;</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">&quot;valueReference&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;identifier&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/sid/us-npi&quot;</span><span class=\"p\">,</span>\n                <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1234567890&quot;</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}]</span>\n<span class=\"err\">}</span>\n</code></pre></div>",
        "id": 207602544,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597989292
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, Thanks for your reply last week! I've been talking it over with the team. We're still on STU3, so we're considering just using the X-Provenance header to store the practitioner NPI instead of a characteristic. Do you have thoughts or opinions on that? Thanks again for taking the time!</p>",
        "id": 207855075,
        "sender_full_name": "Jon Fulk",
        "timestamp": 1598281811
    },
    {
        "content": "<p>it's hard for me to understand how that approach would be appropriate for the same functional outcome. What are you actually trying to do?</p>",
        "id": 207884309,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598296432
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Initially, we were trying to use the Group.characteristic to store the Practitioner's NPI so that we could later get the Practitioner from the Group via this NPI, which is failing validation for the reasons we discussed already. However, we are also including the Practitioner's internal ID in the X-Provenance header, so we could get to the Practitioner from this ID as well instead of using the NPI. The goal is to link the Group to the Practitioner in our database, and it looks like we can't correctly use a characteristic for this until we upgrade to R4 and use the<code>valueReference</code> property as you describe above. We're curious whether or not you think using the <code>X-Provenence</code> header for this instead of a characteristic is still in line with the FHIR spec. By the way, we do intend on upgrading to R4 eventually, but we don't have that work slated yet.</p>",
        "id": 207886962,
        "sender_full_name": "Jon Fulk",
        "timestamp": 1598297899
    },
    {
        "content": "<p>you're linking this because the Practitioner manages the group?</p>",
        "id": 207888814,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598298832
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179166-implementers/topic/valueCodeableConcept.20under.20Group.2ECharacteristic.20DTSU3.20Java/near/207888814\">said</a>:</p>\n<blockquote>\n<p>you're linking this because the Practitioner manages the group?</p>\n</blockquote>\n<p>Yes, this Group is the patient roster for that Practitioner.</p>",
        "id": 207888905,
        "sender_full_name": "Jon Fulk",
        "timestamp": 1598298869
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321924\">Jon Fulk</span> <a href=\"#narrow/stream/179166-implementers/topic/valueCodeableConcept.20under.20Group.2ECharacteristic.20DTSU3.20Java/near/207888905\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179166-implementers/topic/valueCodeableConcept.20under.20Group.2ECharacteristic.20DTSU3.20Java/near/207888814\">said</a>:</p>\n<blockquote>\n<p>you're linking this because the Practitioner manages the group?</p>\n</blockquote>\n<p>Yes, this Group is the patient roster for that Practitioner.</p>\n</blockquote>\n<p>Is this an incorrect use of Provenance? We are having some discussion internally as to whether Provenance should even have anything to do with Groups in the first place.</p>",
        "id": 208262414,
        "sender_full_name": "Jon Fulk",
        "timestamp": 1598555397
    },
    {
        "content": "<p>I think so. Provenance is about the record keeping. It's still not clear to me who's actually in the group</p>",
        "id": 208280934,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598564963
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  The group is the patients being seen by the practitioner whose NPI we're trying to reference. The practitioner creates the group (or roster) of patients, and we associate that group to the practitioner so that we can ensure that we are sending the correct beneficiary claims data to the correct practitioner, verifying that the requesting practitioner has access to the requested claims data.</p>",
        "id": 208335073,
        "sender_full_name": "Jon Fulk",
        "timestamp": 1598617158
    },
    {
        "content": "<p>so when the practitioner creates the group, he lists his patients? or the list is supposed to figured out algorithmically?</p>",
        "id": 208403790,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598655685
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> The practitioner creates the group and lists his own patients. He then can request claims data for everyone in the group, but we only allow the data to be returned under certain conditions, one of which is that the provider NPI on the claim matches the provider's NPI.</p>",
        "id": 208442797,
        "sender_full_name": "Jon Fulk",
        "timestamp": 1598719412
    },
    {
        "content": "<p>hmm ok. so why does the group need characteristics if the author of the group lists patients explicitly?</p>",
        "id": 208461139,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598747443
    }
]