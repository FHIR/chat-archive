[
    {
        "content": "<p>I am using custom validator (MyValidationSupport implements IValidationSupport) chained with DefaultValidationSupport. I am getting following error &amp; warning while validating DiagnosticReport.</p>\n<div class=\"codehilite\"><pre><span></span>&quot;issue&quot;: [\n        {\n            &quot;severity&quot;: &quot;warning&quot;,\n            &quot;code&quot;: &quot;processing&quot;,\n            &quot;diagnostics&quot;: &quot;Error unable to find code system http://loinc.org validating CodeableConcept&quot;,\n            &quot;location&quot;: [\n                &quot;DiagnosticReport.code&quot;\n            ]\n        },\n        {\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: &quot;processing&quot;,\n            &quot;diagnostics&quot;: &quot;Unable to resolve the profile reference &#39;http://hl7.org/fhir/us/core/StructureDefinition/us-core-observationresults&#39;&quot;,\n            &quot;location&quot;: [\n                &quot;DiagnosticReport.result[1]&quot;\n            ]\n        }\n</pre></div>\n\n\n<p>What am i missing ?</p>\n<p>I am able to successfully validate AllergyIntolerance which means it is able to find profile <a href=\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance\">http://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance</a></p>",
        "id": 165718151,
        "sender_full_name": "Aditya",
        "timestamp": 1557929788
    },
    {
        "content": "<p>Does the standard validator work?  (That might hint as to whether the issue is in the instances/IG somehow vs. the customized code.)</p>",
        "id": 165718803,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1557930298
    },
    {
        "content": "<blockquote>\n<p>Does the standard validator work?  (That might hint as to whether the issue is in the instances/IG somehow vs. the customized code.)</p>\n</blockquote>\n<p>It does and also the forge custom profiles work</p>",
        "id": 165718846,
        "sender_full_name": "Aditya",
        "timestamp": 1557930345
    },
    {
        "content": "<p>If the problem is with your customized code, it's going to be hard for the community to help much :(</p>",
        "id": 165718988,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1557930439
    },
    {
        "content": "<blockquote>\n<p>If the problem is with your customized code, it's going to be hard for the community to help much :(</p>\n</blockquote>\n<p>I am not sure if it is though, because rest all profiles are working great. Below is the custom Validator just in case if there is any obvious flaw</p>\n<div class=\"codehilite\"><pre><span></span>package com.ecw.fhir.validator;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport org.hl7.fhir.dstu3.hapi.ctx.IValidationSupport;\nimport org.hl7.fhir.dstu3.model.CodeSystem;\nimport org.hl7.fhir.dstu3.model.StructureDefinition;\nimport org.hl7.fhir.dstu3.model.ValueSet;\nimport org.hl7.fhir.instance.model.api.IBaseResource;\nimport ca.uhn.fhir.context.FhirContext;\n\npublic class MyValidationSupport implements IValidationSupport {\n\nHashMap&amp;lt;String, StructureDefinition&amp;gt; definitionsMap = null;\nList&amp;lt;StructureDefinition&amp;gt; definitions = null;\n\n  public MyValidationSupport(List&amp;lt;StructureDefinition&amp;gt; definitions) {\n      //Definitions list gotten from code above\n      definitionsMap = new HashMap&amp;lt;&amp;gt;();\n      this.definitions = definitions;\n      definitions.forEach(def -&amp;gt; definitionsMap.put(def.getUrl(), def));\n  }\n\n  @Override\n  public ValueSet.ValueSetExpansionComponent expandValueSet(FhirContext theContext,     ValueSet.ConceptSetComponent theInclude) {\n      return null;\n  }\n\n  @Override\n  public List&amp;lt;IBaseResource&amp;gt; fetchAllConformanceResources(FhirContext theContext) {\n\n      return null;\n  }\n\n  @Override\n  public List&amp;lt;StructureDefinition&amp;gt; fetchAllStructureDefinitions(FhirContext theContext) {\n      return definitions;\n  }\n\n  @Override\n  public CodeSystem fetchCodeSystem(FhirContext theContext, String theSystem) {\n      return null;\n  }\n\n  @Override\n  public &amp;lt;T extends IBaseResource&amp;gt; T fetchResource(FhirContext theContext, Class&amp;lt;T&amp;gt; theClass, String theUri) {\n\n      return (T) definitionsMap.get(theUri);\n  }\n\n  @Override\n  public StructureDefinition fetchStructureDefinition(FhirContext theCtx, String theUrl) {\n      return definitionsMap.get(theUrl);\n  }\n\n  @Override\n  public boolean isCodeSystemSupported(FhirContext theContext, String theSystem) {\n      return false;\n  }\n\n  @Override\n  public CodeValidationResult validateCode(FhirContext theContext, String theCodeSystem, String theCode, String     theDisplay) {\n      return null;\n  }\n}\n</pre></div>",
        "id": 165719277,
        "sender_full_name": "Aditya",
        "timestamp": 1557930636
    }
]