[
    {
        "content": "<p>I'm seeing an error that I can't explain. QA is here: <a href=\"http://phenopackets.org/core-ig/master-fixes/qa.html\">http://phenopackets.org/core-ig/master-fixes/qa.html</a></p>\n<p>This file's QA:<br>\n<a href=\"http://phenopackets.org/core-ig/master-fixes/qa.html#_home_travis_build_phenopackets_core-ig_ig-root_input_examples_Observation-phenotypic-abnormality-valid-1\">http://phenopackets.org/core-ig/master-fixes/qa.html#_home_travis_build_phenopackets_core-ig_ig-root_input_examples_Observation-phenotypic-abnormality-valid-1</a></p>\n<p>shows this error:<br>\nNone of the codes provided are in the value set <a href=\"http://github.com/phenopackets/core-ig/ValueSet/phenotypic-modifier\">http://github.com/phenopackets/core-ig/ValueSet/phenotypic-modifier</a> (<a href=\"http://github.com/phenopackets/core-ig/ValueSet/phenotypic-modifier\">http://github.com/phenopackets/core-ig/ValueSet/phenotypic-modifier</a>), and a code from this value set is required) (codes = <a href=\"http://github.com/phenopackets/core-ig/CodeSystem/hpo#HP:0410401\">http://github.com/phenopackets/core-ig/CodeSystem/hpo#HP:0410401</a>)</p>\n<p>The example resource file:<br>\n<a href=\"https://github.com/phenopackets/core-ig/blob/b89722d7210b752729f51a6c48f3b02f5b4ee196/ig-root/input/examples/Observation-phenotypic-abnormality-valid-1.json#L50\">https://github.com/phenopackets/core-ig/blob/b89722d7210b752729f51a6c48f3b02f5b4ee196/ig-root/input/examples/Observation-phenotypic-abnormality-valid-1.json#L50</a></p>\n<p>But the ValueSet has the code, and it's the only code in the VS right now:<br>\n<a href=\"http://phenopackets.org/core-ig/master-fixes/ValueSet-phenotypic-modifier.html\">http://phenopackets.org/core-ig/master-fixes/ValueSet-phenotypic-modifier.html</a></p>\n<p>The VS is bound as shown here:<br>\n<a href=\"https://github.com/phenopackets/core-ig/blob/b89722d7210b752729f51a6c48f3b02f5b4ee196/ig-root/input/resources/StructureDefinition-observation-phenotypic-abnormality.xml#L106\">https://github.com/phenopackets/core-ig/blob/b89722d7210b752729f51a6c48f3b02f5b4ee196/ig-root/input/resources/StructureDefinition-observation-phenotypic-abnormality.xml#L106</a></p>\n<p>I'm sure it's some operator error but I've given up on noticing what I might have done wrong and I'd appreciate another pair of eyes :) Or maybe it's a bug. It happens with 1.1.39 and 1.1.35 as well but I haven't tried other versions.  Thanks in advance!</p>\n<p>Edit: this is on Windows 10 and Java 11 in case it matters.</p>",
        "id": 216396791,
        "sender_full_name": "Shahim Essaid",
        "timestamp": 1605127558
    },
    {
        "content": "<p>Try calling an 'expand' on <a href=\"http://tx.fhir.org/r4\">tx.fhir.org/r4</a> and see what the valueset expansion is.</p>",
        "id": 216397998,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1605128208
    },
    {
        "content": "<p>The CS and VS are all local in my IG, not real ones. would calling <a href=\"http://tx.fhir.org/r4\">tx.fhir.org/r4</a> help in this case?  </p>\n<p>The other VS in the IG are working with the bindings and the simple example resource. Just this one is not.</p>",
        "id": 216398195,
        "sender_full_name": "Shahim Essaid",
        "timestamp": 1605128316
    },
    {
        "content": "<p>The value set definition I see is intentional.  It looks for codes that match 'is-a' HP:0012823, but excludes HP:0012823 and HP:0012824.  The terminology server would be running an expansion to determine whether HP:0410401 falls within that set</p>",
        "id": 216398410,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1605128422
    },
    {
        "content": "<p>right, the value set is expanded based on the CS that is also in the IG. maybe i'm not understanding how the terminology part works for the publisher.  is the expansion done on the server even if the resources are all local to my IG?</p>\n<p>The intentional definition is properly expanded by the publisher for the VS and the other ones in the IG.  I'll try <a href=\"http://tx.fhir.org/r4\">tx.fhir.org/r4</a> to see how that works. I haven't interacted with it directly before.</p>",
        "id": 216398722,
        "sender_full_name": "Shahim Essaid",
        "timestamp": 1605128615
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Publisher.201.2E1.2E40.20QA.20None.20of.20the.20codes.20provided.20are.20in.20the.20VS/near/216398410\">said</a>:</p>\n<blockquote>\n<p>The terminology server would be running an expansion to determine whether HP:0410401 falls within that set</p>\n</blockquote>\n<p>The expansion is done and that code is in the expanded VS as you can see here: <a href=\"http://phenopackets.org/core-ig/master-fixes/ValueSet-phenotypic-modifier.html#expansion\">http://phenopackets.org/core-ig/master-fixes/ValueSet-phenotypic-modifier.html#expansion</a></p>",
        "id": 216398896,
        "sender_full_name": "Shahim Essaid",
        "timestamp": 1605128725
    },
    {
        "content": "<p>Source is here: <a href=\"https://github.com/phenopackets/core-ig/tree/b89722d7210b752729f51a6c48f3b02f5b4ee196/ig-root\">https://github.com/phenopackets/core-ig/tree/b89722d7210b752729f51a6c48f3b02f5b4ee196/ig-root</a></p>",
        "id": 216400008,
        "sender_full_name": "Shahim Essaid",
        "timestamp": 1605129403
    },
    {
        "content": "<p>Nothing is jumping out on me.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 216401736,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1605130509
    },
    {
        "content": "<p>In case you clone that repo, look at the \"master-fixes\" branch. It also has a PR: <a href=\"https://github.com/phenopackets/core-ig/pull/9\">https://github.com/phenopackets/core-ig/pull/9</a></p>",
        "id": 216402471,
        "sender_full_name": "Shahim Essaid",
        "timestamp": 1605131014
    },
    {
        "content": "<p>I've put it in my queue</p>",
        "id": 216448692,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1605175673
    },
    {
        "content": "<p>yes bug in the mini terminology server inside the validator/publisher. Fixed next release</p>",
        "id": 216559691,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1605234928
    },
    {
        "content": "<p>Confirming that 1.1.42 fixed this issue.</p>",
        "id": 216670201,
        "sender_full_name": "Shahim Essaid",
        "timestamp": 1605300189
    }
]