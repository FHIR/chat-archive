[
    {
        "content": "<p><a href=\"http://hl7.org/fhir/extension-humanname-partner-prefix.html\" target=\"_blank\" title=\"http://hl7.org/fhir/extension-humanname-partner-prefix.html\">http://hl7.org/fhir/extension-humanname-partner-prefix.html</a><br>\n<a href=\"http://hl7.org/fhir/extension-humanname-own-prefix.html\" target=\"_blank\" title=\"http://hl7.org/fhir/extension-humanname-own-prefix.html\">http://hl7.org/fhir/extension-humanname-own-prefix.html</a></p>\n<p>Back in the V3 day, we used to say that \"van Beethoven\" would split into \"van \" and \"Beethoven\", whereas \"d'Artagnan\" would split into \"d'\" and \"Artagnan\".</p>\n<p>In this split the space between the prefix and the surname, if any, would be part of the prefix value. In FHIR we do not specify any behavior like that yet. Any thoughts <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span>, or <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>?</p>",
        "id": 153911612,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506945367
    },
    {
        "content": "<p>thought, not solution: we should consider the optionality of those prefixes.</p>",
        "id": 153911616,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506946433
    },
    {
        "content": "<p>my last name is actually \"da Costa Teixeira\" but in Portugal they don't care. <br>\nBelgians /Dutch(?) however do care about \"Mr. van der Sar\" not really being the same as \"Mr. Sar\"</p>",
        "id": 153911618,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506946595
    },
    {
        "content": "<p>first thoughts: we could either have the same behaviour as you mention from v3, or some extra attributes that would condition the combination of the names as well as their optionality/importance</p>",
        "id": 153911622,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506946894
    },
    {
        "content": "<p>I think the following expectations would apply:<br>\nfamily contains the full name with all pre/postfixes in the correct order, correct spacing as it would be used for representation in a letter etc.<br>\nthe extensions can be used in addition, in order to be able to separate prefix from the actual name, in case this is relevant for sort order or name matching. Also, the extensions can add semantics to some name parts (e.g. mother's name, father's name, mother's name prefix etc.) which might be relevant for MPIs</p>",
        "id": 153911623,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1506946899
    },
    {
        "content": "<p>yes, family name is the complete typed out form.</p>",
        "id": 153911624,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506946965
    },
    {
        "content": "<p>In additions to Simone: the conclusion we took for the German HumanName profile was that the extensions would contain no whitespace.<br>\nEspecially, since we have a list of allowed voorvoegsels in Germany: <a href=\"https://www.gkv-datenaustausch.de/media/dokumente/arbeitgeber/deuev/rundschreiben_anlagen/GemRS_Anlage_06.pdf\" target=\"_blank\" title=\"https://www.gkv-datenaustausch.de/media/dokumente/arbeitgeber/deuev/rundschreiben_anlagen/GemRS_Anlage_06.pdf\">https://www.gkv-datenaustausch.de/media/dokumente/arbeitgeber/deuev/rundschreiben_anlagen/GemRS_Anlage_06.pdf</a></p>",
        "id": 153911625,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506947029
    },
    {
        "content": "<p>we may have that a voorvoegsel has a different treatment than a portuguese equivalent, so I think this logic would end up in the extension space</p>",
        "id": 153911626,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506947060
    },
    {
        "content": "<p>The one and only reason for us to split prefix from surname at all is sorting. Nothing more, nothing less. But... we do not keep a full name field in addition to the name parts. So: when we only have parts and need to construct the full name, we need to know where the spaces are. If they are not in the parts then \"van der Sar\" will become “vanderSar”, or “d’Artagnan” will be “d’ Artagnan\". So in our IG I have added the notion that spaces are relevant in the prefix, just like they were in V3 so nothing new there.</p>\n<p>The question is: the FHIR extensions for prefix are silent on this. Should we ask to add wording on spacing? (again, just like there was wording on explicit and implicit spacing for V3 ENXP name parts)</p>",
        "id": 153911733,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506952209
    },
    {
        "content": "<p>If I remember the HumanName session at last year's DevDays correct, the conclusion was to have the full text family name (containing the correct whitespace/separating characters) plus any extensions you'd need for sorting or whatever other reason.<br>\nThat is also the only way to ensure that a system that does not understand these extensions will be able to retrieve a family name.</p>",
        "id": 153911737,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506952788
    },
    {
        "content": "<p>Also: If you only keep fragments of the name, how does search work if someone types \"d'Arta..\" into the searchbox!?<br>\nIt'll mach neither the voorvoegsel nor the plain lastname!<br>\nThat's the main reason why we want the full name in the \"family\" attribute<br>\nPlus, as Stefan mentioned, to maintain compatibility with systems that don't implement national extensions</p>",
        "id": 153911747,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1506953301
    },
    {
        "content": "<p>+1 <span class=\"user-mention\" data-user-id=\"191436\">@Stefan Lang</span>  &amp; <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span></p>",
        "id": 153911750,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1506953489
    },
    {
        "content": "<p>I don't think using family name and prefixes are mutually exclusive. Are they?</p>",
        "id": 153911752,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506953698
    },
    {
        "content": "<p>you can use the family name and still have its decomposed form</p>",
        "id": 153911753,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506953714
    },
    {
        "content": "<p>They aren't. But the prefix is usually meant to be before the given name. The voorvoegsel is before the/the first part of the family name</p>",
        "id": 153911754,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506953797
    },
    {
        "content": "<p>We have both the full name in the family string <em>and</em> the parts, but a Dutch system, will only parse the parts, leaving the full name to unaware systems</p>",
        "id": 153911755,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506953805
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> <br>\nLike \"Dr. Ludwig van Beethoven\"<br>\nprefix: \"Dr.\"<br>\ngiven: \"Ludwig\"<br>\nfamily: \"van Beethoven\"<br>\nfamily (humanname-own-prefix): \"van\"<br>\nfamily (humanname-own-name): \"Beethoven\"</p>",
        "id": 153911759,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506953957
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191436\">@Stefan Lang</span> yes all of that, except for </p>\n<p>family (humanname-own-prefix): \"van \"</p>",
        "id": 153911760,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506954001
    },
    {
        "content": "<p>Yes, I believe that's the difference between the Dutch and the German interpretation ;-)</p>",
        "id": 153911762,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506954038
    },
    {
        "content": "<p>In a list \"van Beethoven\" comes before \"Mendelssohn\"</p>",
        "id": 153911764,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506954074
    },
    {
        "content": "<p>That depends on the country you're in, or better: the local sort conventions.</p>",
        "id": 153911766,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506954120
    },
    {
        "content": "<p>Probably. It's the reason that lots of programming languages support extending for sorting</p>",
        "id": 153911767,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506954167
    },
    {
        "content": "<p>But back to the parts: do you keep both the full name and the parts, then?</p>",
        "id": 153911768,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506954209
    },
    {
        "content": "<p>right</p>",
        "id": 153911769,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506954284
    },
    {
        "content": "<p>So in your case, you don't need to know about that space. I get it...</p>",
        "id": 153911773,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506954330
    },
    {
        "content": "<p>Exactly. Many systems here just don't support the splitted family name. They just take the full string.</p>",
        "id": 153911774,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506954370
    },
    {
        "content": "<p>And we support those systems too, mind you. The family/@value contains the same in your and our case</p>",
        "id": 153911775,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506954403
    },
    {
        "content": "<p>That's true.<br>\nOn the other hand we have the VSDM specification used on the German health card (which also refers to the list I linked above). This limits the valid values of humanname-own-prefix to that list and nowhere mentions something like \"add a whitespace where appropriate\"</p>",
        "id": 153911781,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506954609
    },
    {
        "content": "<p>i am just imagining how much of these things (we're talking 2-3 languages) are going to be sufficient guidance for an international standard</p>",
        "id": 153911783,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954832
    },
    {
        "content": "<p>We have a list like that too. <a href=\"http://publicaties.rvig.nl/dsresource?objectid=4793&amp;type=org\" target=\"_blank\" title=\"http://publicaties.rvig.nl/dsresource?objectid=4793&amp;type=org\">http://publicaties.rvig.nl/dsresource?objectid=4793&amp;type=org</a></p>\n<p>It too does not say anything about spacing. A name is a name and the name determines the spacing. So the regular person in The Netherlands is called \"van der Sar\", but in Belgium that might have evolved into \"Vandersar\" (does not have prefix anymore, the whole thing is a surname), and \"d'Artignan\" might validly be \"d' Artignan\" in some cases too.</p>",
        "id": 153911784,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506954842
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> We might not be able to, in which case the current situation is good enough (doesn't mention spacing)</p>",
        "id": 153911785,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506954895
    },
    {
        "content": "<p>what happens to patronyms, short names (e.g. russian), different order of names (asian)...</p>",
        "id": 153911786,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954922
    },
    {
        "content": "<p>a rule like \"space is part of the voorvoegsel if any\" seems clear enough, while not covering everything - which is ok.</p>",
        "id": 153911787,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506955003
    },
    {
        "content": "<p>if we'd look at expanding that to a comprehensive mechanism, I'd say we are looking at a wealth of extensions and perhaps that is an overkill</p>",
        "id": 153911788,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506955038
    },
    {
        "content": "<p>We have that rule, but would it make sense in the base extension was the question. I guess the answer is \"no let's not open up a can of worms” :-)</p>",
        "id": 153911790,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506955105
    },
    {
        "content": "<p>by the way, <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span> i would expect searches on names to be evenutally somewhat clever, using text search on \"calculated\" family names. So you can even have only the name parts  and the system does the rest - determine the full name for searching, partial search, phonetic search...</p>",
        "id": 153911792,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506955223
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191375\">@Alexander Henket</span> agreed on the can ;-)</p>",
        "id": 153911793,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506955349
    },
    {
        "content": "<p>of course, that is a nice-to have in the systems, but we should not rely on that :)</p>",
        "id": 153911794,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506955381
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191375\">@Alexander Henket</span> My answer would be idd: <br>\nsaying \"the separators between components of a name should be included in the separators\" (which is wwhat you are saying when you say \"no space means that the words go together\") is something that could work but may be only local.</p>",
        "id": 153911796,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506955652
    },
    {
        "content": "<p>separators can be a \"-\" , a \" \", or nothing. That seems a local implementation thing, right?</p>",
        "id": 153911797,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506955678
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> the search argument was about a standard FHIR search query, which (for example) would look for \"d'Artagnan\" in all name sub-elements but not in all concetenated combinations of name extensions.<br>\nOf course every system may implement a more complex search algorithm.</p>",
        "id": 153911798,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506955909
    },
    {
        "content": "<p>But that's implementation specific. And, as Alexander pointed out, even the Dutch system that will ignore the full text family name still has that in the patient's representation in a Dutch profiled Patient resource.</p>",
        "id": 153911799,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506956217
    },
    {
        "content": "<p>yes, the search thing is that the standard search query may encounter all sorts of issues when finding names</p>",
        "id": 153911800,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506956274
    },
    {
        "content": "<p>Still most of them are ruled out when always filling HumanName.text and HumanName.family with the full text, like in my favorite example:<br>\n<a href=\"https://simplifier.net/BasisprofilDE/Example-patient-de-basis-humanname-komplex/~xml\" target=\"_blank\" title=\"https://simplifier.net/BasisprofilDE/Example-patient-de-basis-humanname-komplex/~xml\">https://simplifier.net/BasisprofilDE/Example-patient-de-basis-humanname-komplex/~xml</a></p>",
        "id": 153911802,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1506956603
    },
    {
        "content": "<p>I'm missing \"Lord\" in the list of titles <img alt=\":laughing:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/unicode/1f606.png\" title=\":laughing:\"></p>",
        "id": 153911807,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1506957645
    },
    {
        "content": "<p>I didn't follow all of this discussion. In your application behind the API, you have the option of storing the full family name, or the parts of the family name, or both. if you choose to store just the parts, that means that when it comes to processing a family name search parameter, your algorithm will have to consider the parts structure. if you don't store the parts, your algorithm will have to consider the likely spelling variations (though you probably have to consider them either way)</p>",
        "id": 153911957,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1506997170
    },
    {
        "content": "<p>nor did I follow the bit about spacing - what would we need to say about that and why? the situation with whitespace is a little tricky because of XML, where leading and trailing whitespace is poorly controlled, where as in JSON it is nailed down precisely. So what we say is that leading and trailing whitespace is not allowed in string values, but internal whitespace is and is meaningful. isn't that what you want here?</p>",
        "id": 153911958,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1506997311
    },
    {
        "content": "<p>I think one of the main usecases Alexander is thinking about is that some prefixes get slapped straight in front of the name, and some need a space. E.g. prefix \"d'\" and name \"Artagnan\" -&gt; \"d'Artagnan\".  However  \"van den\" and name \"Broek\" -&gt; \"van den Broek\".  So, to build a full name string from the separate parts, you'd need some info about how you join the parts.  So, Alex is referring back to how this was done in v3, by explicitly including the space.  I was not at the meeting at DevDays about European names, so I don't know what was concluded there about this....</p>",
        "id": 153912026,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1507018371
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191375\">@Alexander Henket</span> I thought we covered all of this during the DevDays: If you want to process the full name, you don't have to combine the parts, because the full name is right there in the  family element. If you do store them separately, and discard the full name when you process the resource. You ARE going to have to combine them, but I would think programmers are smart enough to add a white space if a family prefix doesn't end with an apostrophe. Adding a trailing white space in XML is weird and will result in inconsistency because of reasons <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  mentioned.</p>",
        "id": 153912032,
        "sender_full_name": "Marten Smits",
        "timestamp": 1507023242
    },
    {
        "content": "<p>I don't think that bit was discussed - but I assumed that you would include the ' as part of the prefix. as for whether a space is included or not - I guess I would assume that if it finishes with punctuation it wouldn't have a space</p>",
        "id": 153912044,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1507031167
    },
    {
        "content": "<p>but it would be cosmetic either way. if my surname is Mc. Kenzie, I'm going to be completely used to getting 'McKenzie', 'Mckenzie', 'Mc.Kenzie', 'Mc. Kenzie' and 'Mc Kenzie'... you wouldn't hardly notice anymore...</p>",
        "id": 153912045,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1507031266
    },
    {
        "content": "<p>\"(...) I guess I would assume that if it finishes with punctuation it wouldn't have a space, but it would be cosmetic either way. if my surname is Mc. Kenzie, I'm going to be completely used to getting 'McKenzie', 'Mckenzie', 'Mc.Kenzie', 'Mc. Kenzie' and 'Mc Kenzie'... you wouldn't hardly notice anymore...\"</p>\n<p>I think this is a candidate for the Most Pragmatic Solution of the Year award...</p>",
        "id": 153912049,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1507031917
    },
    {
        "content": "<p>As <span class=\"user-mention\" data-user-id=\"191334\">@Marten Smits</span> mentions, I seem to remember we already had an extensive discussion about this earlier. If I remember correctly, the <code>text</code> property is intended to be used for display purposes, as this contains the full name with proper formatting (honorary titles, prefixes, suffixes, spaces, apostrophes, hypens and what not). The separate fields <code>given</code> and <code>family</code> are useful for indexing, searching, sorting etc. I wouldn't try to combine the separate fields into a formatted name, as the specific formatting rules will widely differ per country/language.</p>",
        "id": 153912050,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1507031957
    },
    {
        "content": "<blockquote>\n<p>\"(...) I guess I would assume that if it finishes with punctuation it wouldn't have a space, but it would be cosmetic either way. if my surname is Mc. Kenzie, I'm going to be completely used to getting 'McKenzie', 'Mckenzie', 'Mc.Kenzie', 'Mc. Kenzie' and 'Mc Kenzie'... you wouldn't hardly notice anymore...\"</p>\n<p>I think this is a candidate for the Most Pragmatic Solution of the Year award...</p>\n</blockquote>\n<p>Hear! Hear!</p>",
        "id": 153912051,
        "sender_full_name": "Marten Smits",
        "timestamp": 1507032012
    },
    {
        "content": "<p>ha. with a name like Grahame Grieve (weird scottish spellings on both) I'm completely used to people getting both names wrong.</p>",
        "id": 153912052,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1507032073
    },
    {
        "content": "<p>Just for fun: \"The usual convention in the UK, in telephone directories etc is that Scottish surnames starting Mc are, for alphabetical purposes, treated as though there were an invisible a, between the M and the c. Thus our own telephone directory proceeds as McDonald, J.A., MacDonald J.C., McDonald J.M., MacDonald K. etc.\" - Mc is therefore a kind of voorvoegsel which doesn't end with an apostophe, but yet doesn't merit a trailing space. <br>\nNext to Mac (son of) there also Nc (daughter of), NcDonald, <a href=\"http://www.todayifoundout.com/index.php/2014/02/mac-mc-surnames-often-contain-second-capital-letter/\" target=\"_blank\" title=\"http://www.todayifoundout.com/index.php/2014/02/mac-mc-surnames-often-contain-second-capital-letter/\">http://www.todayifoundout.com/index.php/2014/02/mac-mc-surnames-often-contain-second-capital-letter/</a> <img alt=\":simple_smile:\" class=\"emoji\" src=\"/static/generated/emoji/images/emoji/unicode/1f642.png\" title=\":simple_smile:\"></p>",
        "id": 153912066,
        "sender_full_name": "René Spronk",
        "timestamp": 1507038635
    },
    {
        "content": "<p>We have not covered this detail afaik. It has been the standing way of doing V3 for the last &gt;10 years, and I don't see why this behavior needs change, just yet. Since the international need has not been identified here, let's discuss 'offline' in Dutch specific context.</p>",
        "id": 153912081,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1507044272
    }
]