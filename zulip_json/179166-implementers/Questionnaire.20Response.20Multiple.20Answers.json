[
    {
        "content": "<p>we are currently wondering about the best practice of generating questionnaireResponses from questionnaire resources. Currently the simplest way seems to just add a questionnaireresponse.question.answer with the linkid in the question for every answer and ignore the groups of the questionnaire for the qAnswer.<br>\nThis way you would receive a flat questionnaireResponse Resource which could be assigned to the Questionnaire vie the (unique) linkIDs. Any thoughts about this idea? </p>",
        "id": 153835640,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1467204876
    },
    {
        "content": "<p>I think it should have the same structure - groups are very often repeating, and you'll lose the structure if you don't nest them</p>",
        "id": 153835661,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1467208120
    },
    {
        "content": "<p>Most definitely need the groups in there to keep the answers to group sections together.<br>\nEspecially with repeating groups (like in a table on a form, the group holds the answers for each row)</p>",
        "id": 153835766,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1467236409
    },
    {
        "content": "<p>In our implementation, <code>linkId</code> is always unique, so we generate a flat response. Meaning right now we lose the group structure in responses collected via ResearchKit â€“ works in our case, but agreed, would be nice to preserve the structure.</p>",
        "id": 153835846,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1467276220
    },
    {
        "content": "<p>So you wouldn't be able to collect tabular, or repeating group structure data, which is ok for some data, but there are many forms that it is required.</p>",
        "id": 153835851,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1467280637
    },
    {
        "content": "<p>you can collect repeating groups or answers, the repeating items  just get the same linkID. And Thanks <span class=\"user-mention\" data-user-id=\"191339\">@Pascal Pfiffner</span> we will do it the same way -&gt; flat responses, thx for confirming this idea. With unique linkIds and the corresponding questionnaire resource you should be able to map the flat answers back to a hirarchicle structure in the future (if it will needed sometimes)</p>",
        "id": 153835865,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1467289341
    },
    {
        "content": "<p>We wish to do the same, but due to the round trip via ResearchKit it's not trivial to keep track of the groups w/o gymnastics.</p>",
        "id": 153835866,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1467289448
    },
    {
        "content": "<p>That then doesn't associate the repeated items with the others on the row.</p>",
        "id": 153835869,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1467290157
    },
    {
        "content": "<p>you need both the items LinkId, and the Parent question's answer id. to be able to group the row's answers together.</p>",
        "id": 153835870,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1467290251
    },
    {
        "content": "<p>We currently only support repeating items for <code>\"type\": \"choice\"</code>. So the answer to the question just has several <code>Coding</code> elements in its <code>answer</code>.</p>\n<p>So, actually, is there a default behavior for <code>repeats: true</code>? Are there examples for non-choice questions or groups?</p>",
        "id": 153835872,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1467290733
    },
    {
        "content": "<p>Is the assumption correct that the combination of <code>type: choice</code> and <code>repeats: true</code> simply means that this is a multiple choice question?</p>",
        "id": 153835873,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1467290795
    },
    {
        "content": "<p>If you have no repeating groups, then you are fine (which means no table structures)</p>",
        "id": 153835875,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1467291254
    },
    {
        "content": "<p>But still would make it harder to process the questionnaire without the groups if they aren't there.<br>\n(Easier in STU3 where you don't need any groups if you don't want them)</p>",
        "id": 153835876,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1467291320
    },
    {
        "content": "<p>That is what i believe, but i dont think you will get far without supporting both repeating groups and repeating questions that arent choice or open-choice.</p>",
        "id": 153835912,
        "sender_full_name": "Jonathan DeVries",
        "timestamp": 1467310831
    },
    {
        "content": "<p>I am trying to find the best way in the questionnaire response to represent multiple answers to a single question (checkboxes in the UI) as well as a question that can be answered multiple times. What seems to make sense for both of these is something like this:</p>\n<p>-- {<br>\n-- -- \"linkId\": \"#groups/inputData/multiselect\",<br>\n-- -- \"definition\": \"DataElement/123-123\",<br>\n-- -- \"text\": \"What medications should the patient be taking?\",<br>\n-- -- \"answer\": [<br>\n-- -- -- {<br>\n-- -- -- -- \"valueCoding\": {<br>\n-- -- -- -- \"code\": \"drugA\"<br>\n-- -- -- -- }<br>\n-- -- -- },<br>\n-- -- -- {<br>\n-- -- -- -- \"valueCoding\": {<br>\n-- -- -- -- \"code\": \"drugB\"<br>\n-- -- -- -- }<br>\n-- -- -- }<br>\n-- -- ]<br>\n-- }</p>\n<p>But of course, if a multi-select needed to be answered multiple times, I'd be sunk.</p>\n<p>I combed through these chats and I haven't found an established pattern. Is there one?</p>",
        "id": 171097516,
        "sender_full_name": "James Daniels",
        "timestamp": 1563383908
    },
    {
        "content": "<p>What do you see as the difference between a question that can have multiple answers vs. a question that can be answered multiple times?  (Because we couldn't come up with a difference - and think they're both handled the same way - as you showed)</p>",
        "id": 171098190,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563384424
    },
    {
        "content": "<p>It's good to know I'm kind of on the right track. <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>\n<p>I see your point, <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>, there isn't really a difference, I'm just running up against the conflict of multi-answer, multiple times... which is not a requirement at the moment anyhow, so  maybe I can just carry on as I have been.</p>",
        "id": 171098453,
        "sender_full_name": "James Daniels",
        "timestamp": 1563384625
    },
    {
        "content": "<p>...that said, if anyone has solutions for the case of multi-selects answered multiple times, I'd love to hear them.</p>",
        "id": 171102086,
        "sender_full_name": "James Daniels",
        "timestamp": 1563386420
    },
    {
        "content": "<p>The only use-case I'm aware of is if the multi-select is in a repeating group - in which case you've got the repetition on the group and a separate repetition on the question.</p>",
        "id": 171102746,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563386819
    },
    {
        "content": "<p>Agree with this too. It's what my system will do.</p>",
        "id": 171154589,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1563443896
    },
    {
        "content": "<p>Do we have some way to assign id for each question response. As an example, if there is a multi select check box question with multiple answer options .<br>\nQuestion - Which countries you have travelled ?<br>\nAnswer Option -<br>\na) US<br>\nb) India<br>\nc) Australia<br>\nd) New Zealand</p>\n<p>Can I assign ID to these different answer responses for same question.</p>",
        "id": 255588842,
        "sender_full_name": "Anubhav Gulati",
        "timestamp": 1633013948
    },
    {
        "content": "<p>Already asked <a href=\"#narrow/stream/179255-questionnaire/topic/Answer.20responses\">here</a>.  (Please only ask questions in one stream at a time unless specifically instructed to ask them in another place.)</p>",
        "id": 255610940,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1633021793
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Questionnaire.20Response.20Multiple.20Answers/near/255610940\">said</a>:</p>\n<blockquote>\n<p>Already asked <a href=\"#narrow/stream/179255-questionnaire/topic/Answer.20responses\">here</a>.  (Please only ask questions in one stream at a time unless specifically instructed to ask them in another place.)</p>\n</blockquote>\n<p>My bad. I created under questionnaire stream then I realized that I should create under implementers stream.</p>",
        "id": 255622180,
        "sender_full_name": "Anubhav Gulati",
        "timestamp": 1633025661
    },
    {
        "content": "<p>Actually, <a class=\"stream\" data-stream-id=\"179255\" href=\"/#narrow/stream/179255-questionnaire\">#questionnaire</a> stream is the best place for this question.</p>",
        "id": 255630027,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1633028740
    }
]