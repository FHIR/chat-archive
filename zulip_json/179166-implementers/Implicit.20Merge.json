[
    {
        "content": "<p>Hi! I've got a question regarding Patient and the correct behavior on POST</p>\n<p>Let's say I send a message like this first:</p>\n<div class=\"codehilite\"><pre>    {\n      &quot;resourceType&quot;: &quot;Patient&quot;,\n      &quot;identifier&quot;: [\n        {\n          &quot;use&quot;: &quot;usual&quot;,\n          &quot;type&quot;: {&quot;coding&quot;: [{&quot;system&quot;: &quot;http://hl7.org/fhir/v2/0203&quot;, &quot;code&quot;: &quot;MR&quot;}]},\n          &quot;system&quot;: &quot;urn:oid:1.2.3.4.5&quot;,\n          &quot;value&quot;: &quot;89765a87b&quot;\n        },\n        {\n          &quot;use&quot;: &quot;usual&quot;,\n          &quot;type&quot;: {&quot;coding&quot;: [{&quot;system&quot;: &quot;http://hl7.org/fhir/v2/0203&quot;, &quot;code&quot;: &quot;MR&quot;}]},\n          &quot;system&quot;: &quot;urn:oid:1.2.3.4.6&quot;,\n          &quot;value&quot;: &quot;123123123&quot;\n        }\n      ],\n      &quot;active&quot;: true,\n      &quot;name&quot;: [\n        {\n          &quot;family&quot;: [ &quot;Doe&quot; ],\n          &quot;given&quot;: [ &quot;John&quot; ]\n        }\n      ],\n      &quot;gender&quot;: &quot;male&quot;,\n      &quot;birthDate&quot;: &quot;1956-05-27&quot;,\n      &quot;address&quot;: [\n        {\n          &quot;line&quot;: [ &quot;100 Main St&quot; ],\n          &quot;city&quot;: &quot;Metropolis&quot;,\n          &quot;state&quot;: &quot;Il&quot;,\n          &quot;postalCode&quot;: &quot;44130&quot;,\n          &quot;country&quot;: &quot;USA&quot;\n        }\n      ]\n    }\n</pre></div>\n\n\n<p>Then the server creates a resource with identifier 1000</p>\n<p>Now I send another POST with this</p>\n<div class=\"codehilite\"><pre>    {\n      &quot;resourceType&quot;: &quot;Patient&quot;,\n      &quot;identifier&quot;: [\n        {\n          &quot;use&quot;: &quot;usual&quot;,\n          &quot;type&quot;: {&quot;coding&quot;: [{&quot;system&quot;: &quot;http://hl7.org/fhir/v2/0203&quot;, &quot;code&quot;: &quot;MR&quot;}]},\n          &quot;system&quot;: &quot;urn:oid:1.2.3.4.7&quot;,\n          &quot;value&quot;: &quot;99999999&quot;\n        }\n      ],\n      &quot;active&quot;: true,\n      &quot;name&quot;: [\n        {\n          &quot;family&quot;: [ &quot;Doe&quot; ],\n          &quot;given&quot;: [ &quot;John&quot; ]\n        }\n      ],\n      &quot;gender&quot;: &quot;male&quot;,\n      &quot;birthDate&quot;: &quot;1956-05-27&quot;,\n      &quot;address&quot;: [\n        {\n          &quot;line&quot;: [ &quot;100 Main St&quot; ],\n          &quot;city&quot;: &quot;Metropolis&quot;,\n          &quot;state&quot;: &quot;Il&quot;,\n          &quot;postalCode&quot;: &quot;44130&quot;,\n          &quot;country&quot;: &quot;USA&quot;\n        }\n      ]\n    }\n</pre></div>\n\n\n<p>Is the server allowed to merge the 2 resources or is it required to create a new resource with id 1001?</p>",
        "id": 153868704,
        "sender_full_name": "Rahul Somasunderam",
        "timestamp": 1484954735
    },
    {
        "content": "<p>A POST is supposed to create a new resource, so yes.  In this example, it looks like there's a matching algorithm on the server side which determines  that these are the same patients - based on the address/gender/name.  If you'd need, you could have the server refuse the POST and return an error to the caller with an OperationOutcome in the body, which states that a duplicate patient already exists. This is behaviour is not mandated by the spec, but is certainly allowed.</p>",
        "id": 153869501,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1485788857
    }
]