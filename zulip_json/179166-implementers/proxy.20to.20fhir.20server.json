[
    {
        "content": "<p>Is there any documentation on how to proxy FHIR API requests to a different location. For example, have a web application that provides additional functionality beyond the core FHIR spec, has an endpoint for /fhir, and proxies requests (eventually) to a separate FHIR server (perhaps behind a VPN, with separate auth, etc.)?</p>",
        "id": 153907037,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1505239178
    },
    {
        "content": "<p>And, if using fhir-net-api to execute the requests to the FHIR server from the proxy, is there any functionality in fhir-net-api to support this use-case?</p>",
        "id": 153907039,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1505239225
    },
    {
        "content": "<p>documentation - I can answer that:</p>",
        "id": 153907051,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505239491
    },
    {
        "content": "<p>Look forward to it :)</p>",
        "id": 153907052,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1505239732
    },
    {
        "content": "<p>lol.</p>",
        "id": 153907086,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505243036
    },
    {
        "content": "<p>in terms of documentation</p>",
        "id": 153907087,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505243040
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/http.html#2.21.0.21\" target=\"_blank\" title=\"http://hl7.org/fhir/http.html#2.21.0.21\">http://hl7.org/fhir/http.html#2.21.0.21</a></p>",
        "id": 153907089,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505243086
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> : Do you intend to inspect or alter the result of the actual FHIR server in the proxy implementation? Or just transparently relay the request forth and response back?</p>",
        "id": 153907099,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1505244560
    },
    {
        "content": "<p>This is the role of what is called in general web API as an \"API Gateway\". There is a number of offerings in this space. The concept is not special to healthcare.</p>",
        "id": 153907152,
        "sender_full_name": "John Moehrke",
        "timestamp": 1505252268
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>. This documentation is fairly vague, though. It doesn't address how resource references should be handled, for example. If the API is proxied to <a href=\"http://myproxy.com/api/FHIR\" target=\"_blank\" title=\"http://myproxy.com/api/FHIR\">myproxy.com/api/FHIR</a>, but the destination FHIR server is <a href=\"http://behindvpn.com/api/FHIR\" target=\"_blank\" title=\"http://behindvpn.com/api/FHIR\">behindvpn.com/api/FHIR</a>, should the resource references be modified by the proxy to point the public url?</p>",
        "id": 153907184,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1505253636
    },
    {
        "content": "<p>I suspect they probably can't be, because the destination FHIR server would probably have a difficult time resoslving absolute URL references</p>",
        "id": 153907186,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1505253689
    },
    {
        "content": "<p>how could we answer that in the specification? the answer is, 'well, that depends on what you are doing'</p>",
        "id": 153907187,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505253693
    },
    {
        "content": "<p>Well, I guess that answers my question, then. There is limited guidance because the solution is too complicated for general use-case...</p>",
        "id": 153907189,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1505253860
    },
    {
        "content": "<p>If the original url used by the client is sent in the request, at least Vonk will see that as the base address and resolve references relative to that.</p>",
        "id": 153907190,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1505253872
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191757\">@Christiaan Knaap</span>, potentially inspect and/or alter the result...</p>",
        "id": 153907191,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1505254264
    },
    {
        "content": "<p>btw</p>",
        "id": 153907192,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1505254265
    },
    {
        "content": "<p>actually... not just potentially, but very likely</p>",
        "id": 153907194,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1505254323
    },
    {
        "content": "<p>If the references are all releative, no need to mess with stuff.</p>",
        "id": 153907338,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1505285425
    },
    {
        "content": "<p>The FhirClient class could be of help to interpret the response from the actual FHIR server (it returns a Resource object to you, for you to inspect or alter), but it has no explicit way of relaying the message forward to that actual FHIR server, so I doubt it would be useful to you then.</p>",
        "id": 153907394,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1505312685
    }
]