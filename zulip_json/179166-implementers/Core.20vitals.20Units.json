[
    {
        "content": "<p>Trying to understand what the intent of the Core Vitals profile is in regards to units...</p>",
        "id": 193242700,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586291089
    },
    {
        "content": "<p>In the past, we've had many discussions on how it's unsafe to represent a different value than what the source system has: <a href=\"#narrow/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F\" title=\"#narrow/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Observations.20and.20Unit.20of.20Measures.3F</a></p>",
        "id": 193242790,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586291143
    },
    {
        "content": "<p>And so this extension is often mentioned: <a href=\"http://hl7.org/fhir/extension-iso21090-pq-translation.html\" title=\"http://hl7.org/fhir/extension-iso21090-pq-translation.html\">http://hl7.org/fhir/extension-iso21090-pq-translation.html</a></p>",
        "id": 193242853,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586291167
    },
    {
        "content": "<p>However, the Core vitals profile just states that units must come from the table: <a href=\"http://hl7.org/fhir/r4/observation-vitalsigns.html#bnc\" title=\"http://hl7.org/fhir/r4/observation-vitalsigns.html#bnc\">http://hl7.org/fhir/r4/observation-vitalsigns.html#bnc</a></p>",
        "id": 193243022,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586291266
    },
    {
        "content": "<p>I assume we're hoping that the underlying system is using those units. But if not, I wouldn't want to convert to those units in the core valueQuantity for the same reasons mentioned in the previous discussion as well as things like reference ranges applying to specific units (as an example)</p>",
        "id": 193243157,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586291325
    },
    {
        "content": "<p>I would want to convert (assuming I can and the data isn't just wonky) using the translation extension so that other systems have both the source with precision and the converted value.</p>",
        "id": 193243255,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586291380
    },
    {
        "content": "<p>However, that looks like it would make a server non-conformant?</p>",
        "id": 193243274,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586291392
    },
    {
        "content": "<p>it would. is that a problem in the real world?</p>",
        "id": 193250486,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586294700
    },
    {
        "content": "<p>Likely? EG: ounces isn't listed as an ok unit</p>",
        "id": 193268722,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586310642
    },
    {
        "content": "<p>for weight</p>",
        "id": 193268730,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586310655
    },
    {
        "content": "<p>To be fair, we've seen some pretty messy things that have come in which were recorded as strings too (which we wouldn't be able to convert)</p>",
        "id": 193268754,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586310702
    },
    {
        "content": "<p>I can see if we have any idea of how often</p>",
        "id": 193268795,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586310726
    },
    {
        "content": "<p>I think the expectation is that the units will be converted to the standard measurement.  The original can be sent in an extension.</p>",
        "id": 193273141,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1586317645
    },
    {
        "content": "<p>That seems backwards since extensions can be ignored unless they're modifiers and this does have impact given ranges etc will be in the original unit. Also, we are supporting modify and wouldn't want them to expect the write back in to change the underlying unit (nor would we be able to \"force\" the extension coming back in)</p>",
        "id": 193319682,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586352661
    },
    {
        "content": "<p>And for patch, which we'll be supporting, it's messier.</p>",
        "id": 193319722,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586352681
    },
    {
        "content": "<p>There are decimal and precision concerns when you convert as well</p>",
        "id": 193319787,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586352708
    },
    {
        "content": "<p>Also, for SMART apps, doctors get pretty frustrated when the data shown doesn't match what is in the system/what they see in the main chart</p>",
        "id": 193320003,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586352786
    },
    {
        "content": "<p>Again, going to try to find out how common this is</p>",
        "id": 193320028,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1586352797
    },
    {
        "content": "<p>For what is worth we are not trying to do any conversion outbound</p>",
        "id": 193320674,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1586353057
    },
    {
        "content": "<p>(we = in our server)</p>",
        "id": 193320709,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1586353074
    },
    {
        "content": "<p>would adding oz to the valueset solve the majority of these edge cases?</p>",
        "id": 193627942,
        "sender_full_name": "Eric Haas",
        "timestamp": 1586559835
    },
    {
        "content": "<p>Does it matter that all US customary units are defined in terms of metric? So 1oz (mass) = (exactly) 28.3495 gm.</p>",
        "id": 193982837,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1586923332
    },
    {
        "content": "<p>Why would that make a difference?</p>",
        "id": 194036306,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1586959946
    },
    {
        "content": "<p>did we get to the bottom of this?</p>",
        "id": 194887825,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587530284
    },
    {
        "content": "<p>We are running some queries to find out how common this is in our system. We have found instances already where the units wouldn't match the ones required by vitals but are trying to get more specific information</p>",
        "id": 194949489,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587569820
    },
    {
        "content": "<p>And yes, in my experience, changing the unit has implications (like the decimal issue above), especially for practitioners viewing that data in other apps. I still think we can convert for interop, but shouldn't represent that as the \"source\" data.</p>",
        "id": 194949674,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587569885
    },
    {
        "content": "<p>And read/write adds more complexity since that could actually change the source data without intending to.</p>",
        "id": 194949728,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587569912
    },
    {
        "content": "<p>Still digging in a bit, but I can confirm that there is a lot of data that wouldn't match the profiles. Most common \"drift\" I see (and this is data heavily biased towards US because that's the source, I would expect different drift outside of US): Height in ft. Height in meters. Weight in oz. (Edit: removed weight in kg since that isn't drift)</p>",
        "id": 194989637,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587588605
    },
    {
        "content": "<p>For BMI, I see some data using percent instead of kg/m2</p>",
        "id": 194989712,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587588654
    },
    {
        "content": "<p>Taking height as an example, of a bit over 1 bil data points: <br>\nin (though some are technically in_us... weird): 38%<br>\ncm: 58%<br>\nm: 0.01%<br>\nft: 1%<br>\n\"other\": 3%</p>",
        "id": 194993514,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587590815
    },
    {
        "content": "<p>Weight (&gt;1.2 bil data points): <br>\nkg: 60%<br>\nlb: 28%<br>\noz: 7%<br>\ng: 0.5%<br>\nmg: very small :)<br>\n\"other\": 4%</p>",
        "id": 194994422,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587591385
    },
    {
        "content": "<p>Other wight units? Stone? troy oz? <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 194999487,
        "sender_full_name": "Robert McClure",
        "timestamp": 1587594878
    },
    {
        "content": "<p>What does a BMI in % even mean?</p>",
        "id": 195006554,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1587600946
    },
    {
        "content": "<p>It's a differential measurement from a baseline measurement (either personal or population wide).  This is basically the baselining and observation rollup discussion I've brought up in the patient empowerment meetings.</p>",
        "id": 195006791,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1587601190
    },
    {
        "content": "<p>so if your BMI goes up from 20 to 22 it's gone up by 10%? really?</p>",
        "id": 195006880,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587601273
    },
    {
        "content": "<p>BMI itself is a mediocre measure to begin with.  But as a heuristic, sure.   The point is that baselining allows pretty much _any_ Observation to be converted into proportional ratios (i.e. normalized).</p>",
        "id": 195007143,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1587601543
    },
    {
        "content": "<p>does LOINC have codes for this?</p>",
        "id": 195007197,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587601572
    },
    {
        "content": "<p>I dont see that but I do see BMI as % for percentile</p>",
        "id": 195007228,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587601630
    },
    {
        "content": "<p>Eh, not really.  It's more of a primary care or personal trainer methodology.  By definition it's subjective, and LOINC and laboratories like to be objective.  (But it's subjective in a precise way, and that's important.)</p>",
        "id": 195007443,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1587601846
    },
    {
        "content": "<blockquote>\n<p>it's subjective in a precise way</p>\n</blockquote>\n<p>my new favorite sentence</p>",
        "id": 195007753,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587602124
    },
    {
        "content": "<p>I would say that's not a legitimate value for the regular LOINC BMI code.  If you were going to have a BMI with a measurement expressed as a percent that would need to be explicit as to the time period.  I.e. Is this a BMI change in the last year?  The last month?  The meaning would be quite different depending on the time-period - and not at all comparable to a regular BMI measurement</p>",
        "id": 195009102,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1587603426
    },
    {
        "content": "<p>The \"other\" above for height and weight are likely data we wouldn't attempt to convert - they're weird. We would really have to dig into the data to figure out what is going on, some could be in error (the units make no sense for a height or weight). There's data like that for all categories</p>",
        "id": 195058986,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587647906
    },
    {
        "content": "<p>I had assumed the % for BMI was more likely a percentile classification. EG: <a href=\"https://www.cdc.gov/healthyweight/bmi/resultgraph.html\" title=\"https://www.cdc.gov/healthyweight/bmi/resultgraph.html\">https://www.cdc.gov/healthyweight/bmi/resultgraph.html</a></p>",
        "id": 195059065,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587647947
    },
    {
        "content": "<p>And not likely something we would convert :)</p>",
        "id": 195059258,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587648035
    },
    {
        "content": "<p>My leaning is that you treat % for BMI as 'other' - if you can't convert it and you don't have a clear understanding of what it means, don't share it.</p>",
        "id": 195071884,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1587653306
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/us/core/StructureDefinition-pediatric-bmi-for-age.html\" title=\"http://hl7.org/fhir/us/core/StructureDefinition-pediatric-bmi-for-age.html\">http://hl7.org/fhir/us/core/StructureDefinition-pediatric-bmi-for-age.html</a>  is an example of a BMI based on a scale.</p>",
        "id": 195089194,
        "sender_full_name": "Eric Haas",
        "timestamp": 1587660609
    },
    {
        "content": "<p>where unit are %</p>",
        "id": 195089228,
        "sender_full_name": "Eric Haas",
        "timestamp": 1587660631
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191356\">@Jenni Syed</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  Yes, BMI can be expressed as a % based on comparison to a normal chart for age, just as you found at the CDC. This is used only in pediatrics and works just like weight and length/height. IMHO when used you need to say which chart you are using - they are sex-specific - but for now, people  just assume it's correct for birth sex. Here is a snap of the LOINC codes used. This is not an \"other\"<br>\n<a href=\"/user_uploads/10155/SD4KX_FOfNsuOFKl4l__jHEb/image.png\" title=\"image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/SD4KX_FOfNsuOFKl4l__jHEb/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/SD4KX_FOfNsuOFKl4l__jHEb/image.png\"></a></div>",
        "id": 195089262,
        "sender_full_name": "Robert McClure",
        "timestamp": 1587660647
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> I don't think not exposing the data is a good answer - this is data they can view today in the chart and may make clinical decisions on. Again, some of it may be entered in error, but we also return those from the API so other systems can be corrected since clinical decisions could have been made on the previous state of data as well.</p>",
        "id": 195089566,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587660780
    },
    {
        "content": "<p>Also, sometimes humans are better at judging data than computers</p>",
        "id": 195089644,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587660831
    },
    {
        "content": "<p>So, ignoring the \"other\" type results above...</p>",
        "id": 195089777,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587660885
    },
    {
        "content": "<p>and back to the question around converting units - wouldn't it be better to use the existing extension to say \"hey, this data exists and here is the original form, but here's the conversion for you\" (assuming you can convert)</p>",
        "id": 195089875,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587660944
    },
    {
        "content": "<p>And still be able to meet the profile?</p>",
        "id": 195089961,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587660971
    },
    {
        "content": "<p>what would be the values  - can you mock up a simple example?</p>",
        "id": 195090197,
        "sender_full_name": "Eric Haas",
        "timestamp": 1587661081
    },
    {
        "content": "<p>It's a standard extension, let me find it</p>",
        "id": 195092188,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587662011
    },
    {
        "content": "<p>Actually, linked to it above: <a href=\"http://hl7.org/fhir/extension-iso21090-pq-translation.html\" title=\"http://hl7.org/fhir/extension-iso21090-pq-translation.html\">http://hl7.org/fhir/extension-iso21090-pq-translation.html</a></p>",
        "id": 195092221,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587662041
    },
    {
        "content": "<p>Let me apply that to one of the example vitals :)</p>",
        "id": 195092411,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587662142
    },
    {
        "content": "<p><code>\n...\n  \"valueQuantity\": {\n    \"value\": 83,\n    \"unit\": \"oz\",\n    \"system\": \"http://unitsofmeasure.org\",\n    \"code\": \"[oz_av]\",\n    \"extension\": {\n         {\n             \"url\": \"http://hl7.org/fhir/StructureDefinition/iso21090-PQ-translation\"\n             \"valueQuantity\": {\n                  \"value\": 5.19,\n                  \"unit\": \"lbs\",\n                  \"system\": \"http://unitsofmeasure.org\",\n                  \"code\": \"[lb_av]\"\n               } \n  }, ...\n</code></p>",
        "id": 195094408,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587663053
    },
    {
        "content": "<p>I rounded the decimal there on the conversion, could have sent the full 5.1875 :)</p>",
        "id": 195094613,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587663168
    },
    {
        "content": "<p>Thanks that make it a lot clearer for me....</p>\n<p>so... what would the constraint be?  use the prescribed valueset in either the valueQuantity or in the extension?</p>",
        "id": 195100629,
        "sender_full_name": "Eric Haas",
        "timestamp": 1587666344
    },
    {
        "content": "<p>I think adding <code>oz_av]</code>  to the VS makes sense too.</p>",
        "id": 195101120,
        "sender_full_name": "Eric Haas",
        "timestamp": 1587666581
    },
    {
        "content": "<p><em>If</em> you can perform the conversion based on age/gender and expose things in the official units, then you could send it conformantly.  If the table might vary or you don't have access to the gender or age or whatever to be able to convert it into standard units, then it's not going to be useful to external recipients (and also wouldn't be FHIR-compliant right now).</p>",
        "id": 195131319,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1587684141
    },
    {
        "content": "<p>so I'm not sure it's clear - BMI as percentile is not covered by the vital signs profile</p>",
        "id": 195142716,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587697874
    },
    {
        "content": "<p>Neither is weight in oz and some of the other examples up there. I'm trying to figure out how we both maintain clinical accuracy and the FHIR resource as it's stored in source (and don't override that on write on accident), <em>and</em> also provide better interop for systems that want the standard units</p>",
        "id": 195223009,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587750645
    },
    {
        "content": "<p>I'm trying to find the happy medium with real world data vs. meeting the vitals profile, and avoiding the issues we've talked about on other threads re: bad practice to convert/misrepresent the data as it exists in the underlying system</p>",
        "id": 195223302,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1587750811
    },
    {
        "content": "<p>I'd be in favor of introducing the 'translation' extension into the profile as mustSupport and relaxing the units constraint to an invariant that either the base quantity or one of the translated quantities must use the 'required' unit.</p>",
        "id": 195225851,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1587752202
    },
    {
        "content": "<p>Ok, now the last blockbuster question: If I have something that is clearly a vital, and clearly a height based on it's code... but the unit is unrecognizable or unconvertible to me - do I still return it?</p>",
        "id": 195913909,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588288385
    },
    {
        "content": "<p>I assume if someone queries by the category: yes. But the result (if my server supported it) wouldn't be tagged as matching the profile?</p>",
        "id": 195913976,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588288432
    },
    {
        "content": "<p>A hilarious example from my research above was a height in ml</p>",
        "id": 195914049,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588288467
    },
    {
        "content": "<p>clearly a typo. So you should handle it like any other data error.... a data absent reason</p>",
        "id": 195914081,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588288500
    },
    {
        "content": "<p>I assume (hope) that was a fat finger and the result was in-error in the source system. But my data doesn't link that way so I can't confirm :)</p>",
        "id": 195914091,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588288503
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> a DAR on the unit? IE: don't show original data? Or (if we accept the jira I'm going to log to request that the extension is accepted) - a DAR on the tranlsation unit part?</p>",
        "id": 195914205,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588288576
    },
    {
        "content": "<p>BMI % is an example where we can't translate it but it is totally human (and some computer) understandable</p>",
        "id": 195914240,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588288605
    },
    {
        "content": "<p>well, I think on the value.</p>",
        "id": 195914361,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588288705
    },
    {
        "content": "<p>In the BMI example, wouldn't that mean that someone that <em>could</em> understand it won't get the clinical data?</p>",
        "id": 195914435,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588288784
    },
    {
        "content": "<p>Jira logged for extension proposal: <a href=\"https://jira.hl7.org/browse/FHIR-27004\" title=\"https://jira.hl7.org/browse/FHIR-27004\">https://jira.hl7.org/browse/FHIR-27004</a> (I didn't see a good way to point to the core vitals profile, may have missed it)</p>",
        "id": 195914974,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588289222
    },
    {
        "content": "<p>You could stick in the narrative - but it being in the discrete data isn't going to be super useful</p>",
        "id": 195922435,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588295991
    },
    {
        "content": "<p>I think GG meant use the DAR element and leave Value[x] empty.</p>\n<p>BMI % is only translatable if you know the table from where it was derived.   It's answering the wrong question thus is in error as well.  The only way to fix that is to add BMI percent code to vitals and an element to indicate the source table from where is calculated.</p>",
        "id": 195929543,
        "sender_full_name": "Eric Haas",
        "timestamp": 1588305230
    },
    {
        "content": "<p>It would be nice if us-core did have some recommendations for consistent handling of data that is not us-core compliant.   recommended behavior for servers being asked to create or update to height in ml, and clients being told that a height is N ml. I don't think it is right for us-core to mandate something, as local clinical practice policy would need some ability to define what clinically is right.. but some baseline recommended behavior in the absence of local policy.</p>",
        "id": 195973994,
        "sender_full_name": "John Moehrke",
        "timestamp": 1588347796
    },
    {
        "content": "<p>This isn't a US Core issue - the expectation around the units for vital signs is part of the base spec.</p>",
        "id": 195978199,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588350182
    },
    {
        "content": "<p>understood.. but the US-Core does define a valueset of specific units of measure that are within conformance</p>",
        "id": 195983169,
        "sender_full_name": "John Moehrke",
        "timestamp": 1588352734
    },
    {
        "content": "<p>No, that's actually in the Core (international) Vitals spec. US Core inherits from that.</p>",
        "id": 195999406,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588361209
    },
    {
        "content": "<p>discussed tracker <a href=\"http://jira.hl7.org/browse/FHIR-27004\" title=\"http://jira.hl7.org/browse/FHIR-27004\">J#27004</a>  on OO on FHIR today:</p>\n<ol>\n<li>add oz to weight. </li>\n<li>Is BMI as % a thing for adults? already have the US Core profiles for peds. No enthusiasm for adding BMI % for adults</li>\n<li>\n<p>concern that this weakens the international standardization of representing vitals and units are a key part of that standardization</p>\n<ul>\n<li>counter-proposal is to reconsider original proposal to put the standard value in the valueQuantity element and the original value in the extension.<ul>\n<li>if no translation then the valueQuantity is empty and use DataAbsentReason</li>\n<li>don't agree assertion that is a modifier extension is correct.</li>\n<li>Unclear why the client app could not display the original value. If they choose to ignore is on them. we could must support the extension and provide guidance to clients.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>",
        "id": 196357008,
        "sender_full_name": "Eric Haas",
        "timestamp": 1588707843
    },
    {
        "content": "<p>I don't think I mentioned a modifier extension.</p>",
        "id": 196694149,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588797698
    },
    {
        "content": "<p>Where was a modifier extension discussed/in relation to what?</p>",
        "id": 196694172,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588797712
    },
    {
        "content": "<p>I do worry that on a modify, they could completely exclude the extension that was the <em>original data</em>. That would tell our server to overwrite the original value in the data. What was response to that/discussion around read/write challenges?</p>",
        "id": 196694302,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588797761
    },
    {
        "content": "<p>And next, will this pattern proliferate to the profiles that are doing other similar \"translations\" to break apart pre-coordinated codes? I worry we're setting a problematic pattern. Also, implications to those that do digital signature on Provenance (not sure how broad that is) since the resource won't read out the way it was signed.</p>",
        "id": 196694566,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1588797891
    },
    {
        "content": "<p>after devoting another call to this topic we have :</p>\n<ol>\n<li>\n<p>Add 'oz_av' to units valueset</p>\n</li>\n<li>\n<p>Add comments for BMI, Wt and Ht that indicate that % measure is a derived pediatric measure from the base [unit] measurements and are not part of the FHIR core vitals sign profiles.  Instead, other profiles such as US Core<br>\nUS Core Pediatric BMI for Age Observation Profile<br>\nUS Core Pediatric Weight for Height Observation Profile<br>\nshould be used to represent them.  </p>\n</li>\n</ol>\n<p>( if apply 1 and 2 do we need 3-5 i.e., is this still an issue)?</p>\n<ol start=\"3\">\n<li>Introduce the 'translation' extension (<a href=\"http://hl7.org/fhir/extension-iso21090-pq-translation.html\">http://hl7.org/fhir/extension-iso21090-pq-translation.html</a>) into the vitals profile as a mustSupport.</li>\n<li>original unit data in valueQuantity and if not a standard unit the translated value and unit in the extension in 2. above</li>\n<li>Change the invariant for units to require the standard unit in valueQuantity or by using the standard extension uses that unit.</li>\n</ol>",
        "id": 198140169,
        "sender_full_name": "Eric Haas",
        "timestamp": 1589931093
    },
    {
        "content": "<p>So that will be changes to both US Core and to the core profiles?</p>",
        "id": 198141893,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589932908
    },
    {
        "content": "<p>One other question/clarification (esp if we're updating this): are annotations allowed on the ucum units (since those don't change the calculation)? EG: is {Breaths}/min allowed? I didn't see anything specific called out in the profile.</p>",
        "id": 198201998,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1589983151
    },
    {
        "content": "<p>Strong preference to prohibit annotations - stick them in 'unit', but they make life much more difficult in code.</p>",
        "id": 198212678,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589987571
    },
    {
        "content": "<p>(Or if we're going to have them, fix what they SHALL be, don't allow variability)</p>",
        "id": 198212787,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589987592
    },
    {
        "content": "<p>This is for the core spec which is referenced by us core</p>",
        "id": 198258005,
        "sender_full_name": "Eric Haas",
        "timestamp": 1590009137
    },
    {
        "content": "<p>No on annotations.</p>",
        "id": 198258097,
        "sender_full_name": "Eric Haas",
        "timestamp": 1590009204
    },
    {
        "content": "<p>Don’t think any guidance that should be part of profile but part of quantity datatype.</p>",
        "id": 198258198,
        "sender_full_name": "Eric Haas",
        "timestamp": 1590009257
    },
    {
        "content": "<p>We've definitely allowed the annotations on ucum in general: <a href=\"http://hl7.org/fhir/valueset-ucum-common.html\">http://hl7.org/fhir/valueset-ucum-common.html</a></p>",
        "id": 198259302,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590009980
    },
    {
        "content": "<p>I think it would have to be on the specific profile</p>",
        "id": 198259313,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590009991
    },
    {
        "content": "<p>(and at a quick glance, both beats and breaths per min are in there as annotation examples that are expected, and would be applicable to the vitals profile)</p>",
        "id": 198259371,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590010059
    },
    {
        "content": "<p>They might be 'applicable' and they're certainly legal UCUM.  But I'm quite sure we <em>don't</em> want to be in a situation where there can be more than one 'code' for a given unit.  So either we prohibit annotations in the vital sign resources or we lock each profile to mandate a single specific annotation.  My preference is to prohibit annotations because while the units are generally seen as language-independent, the annotations wouldn't be.</p>",
        "id": 198268361,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1590015890
    },
    {
        "content": "<p>I think the examples need to be changed</p>",
        "id": 198288149,
        "sender_full_name": "Eric Haas",
        "timestamp": 1590039105
    },
    {
        "content": "<p>When I said \"example\" I didn't mean an actual json resource example, just meant examples of values listed in that value set which could apply to vitals. Sorry for confusion <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> :)</p>",
        "id": 198323307,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590069395
    },
    {
        "content": "<p>to be clear: I'm not arguing that vitals shouldn't take a stand on this. I think it should since annotations in ucum are definitely allowed <em>in general</em> for FHIR. It would be good to actually document expectations one way or another on the profile. I'll log a <del>tracker</del> jira</p>",
        "id": 198323400,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590069455
    },
    {
        "content": "<p><a href=\"http://jira.hl7.org/browse/FHIR-27540\">FHIR#27540</a></p>",
        "id": 198324750,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590070148
    },
    {
        "content": "<p>interestingly, ucum states that parsers need to throw those annotations away and should ignore them</p>",
        "id": 198324772,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590070168
    },
    {
        "content": "<p>That is: code parsers that are built to analyze the UCUM code as a post-coordinated UCUM expression, and how it relates to its canonical representation and SI base units. That is IMHO <em>not</em> parsers that aim at looking up a code in a given value set, without further inspection of that code's internal structure and meaning. Such a value set may contain codes having annotations and considers them as significant.</p>",
        "id": 198335029,
        "sender_full_name": "Christof Gessner",
        "timestamp": 1590075006
    },
    {
        "content": "<p>So I postulate that there are two equivalence relations: One regarding the \"metrological\" equivalence or comparability of unit concepts, the other one regarding \"string equivalence\" with items in a (finite?) value set, i.e. within a  given well-defined business context.</p>",
        "id": 198335816,
        "sender_full_name": "Christof Gessner",
        "timestamp": 1590075407
    },
    {
        "content": "<p>so following Postel's Law... we should be designing to be robust to some level of deviation from perfect conformance to the standard. Might it be useful to have a GitHub repository with some examples that are slightly off. We could classify them as close-enough to display, but we could also just leave them non-judged. (Note some of the examples would also be good to be completely off base, as consuming these should not break a system)   I tend to think they should all be non-judged as the actual judging would be so use-case specific (Create from a UI, Import from other organization, etc)   -- Does this already exist somewhere?</p>",
        "id": 198338561,
        "sender_full_name": "John Moehrke",
        "timestamp": 1590076685
    },
    {
        "content": "<blockquote>\n<p>to be clear: I'm not arguing that vitals shouldn't take a stand on this. I think it should since annotations in ucum are definitely allowed in general for FHIR. It would be good to actually document expectations one way or another on the profile. I'll log a tracker jira</p>\n</blockquote>\n<p>I  am countering that I think the FHIR <em>should</em> take a stand on this ( ie always allowed or never allowed)  and not leave it up to individual profiles to decide.  I don't understand what John said either.</p>",
        "id": 198340329,
        "sender_full_name": "Eric Haas",
        "timestamp": 1590077486
    },
    {
        "content": "<p>UCUM argues that if you remove the annotation capability, people won't use your standard (which is why they allow for it) and calls out some of our realm as one of the specific groups that is pretty sure we \"need\" annotations :)</p>",
        "id": 198344585,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590079271
    },
    {
        "content": "<p>that would be my main concern about making this a fhir-wide rule vs. use case specific</p>",
        "id": 198344637,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590079297
    },
    {
        "content": "<p>Example from medicinal product regulations: The dose form is documented in coded form in a data set. Nevertheless, it is required to repeat the dose form in the expression of product 'strength' , for example you must say '100 mg per tablet'. Typically solved with textual representation as UCUM annotation: '<a href=\"http://100.mg/{tablet}\">100.mg/{tablet}</a>' where '100 mg/1' would be sufficient.</p>",
        "id": 198347260,
        "sender_full_name": "Christof Gessner",
        "timestamp": 1590080489
    },
    {
        "content": "<p>at least <a href=\"http://build.fhir.org/ucum.html\">here</a>,  FHIR  says nothing about this now.</p>\n<p>it is sounding like should say something to effect of  \"expectation is that '{annotation}'  can be used unless specifically prohibited by use case. \"  + an example or two</p>",
        "id": 198357782,
        "sender_full_name": "Eric Haas",
        "timestamp": 1590085577
    },
    {
        "content": "<p>I'd say we should at least say it's \"discouraged\".  It adds complexity and FHIR has a better solution (Quantity.unit)</p>",
        "id": 198362804,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1590088115
    },
    {
        "content": "<p>But that doesn't agree with the UCUM guidance according to Jenni...</p>",
        "id": 198378856,
        "sender_full_name": "Eric Haas",
        "timestamp": 1590095951
    },
    {
        "content": "<p>You all can go read it and draw conclusions - don't take my word for it :) I quoted it and linked on the issue</p>",
        "id": 198380263,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590096946
    },
    {
        "content": "<p>From ucum: <a href=\"https://unitsofmeasure.org/ucum.html\">https://unitsofmeasure.org/ucum.html</a> (section 2.1, §6 curly braces)</p>",
        "id": 198380340,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590096994
    },
    {
        "content": "<p>Can't actually link to the section, sadly</p>",
        "id": 198380352,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590097004
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  usually we put the internal display in unit, which wouldn't be a standard.</p>",
        "id": 198380405,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590097053
    },
    {
        "content": "<p>but it does fit the \"human readable\" need :)</p>",
        "id": 198380539,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1590097125
    },
    {
        "content": "<p>There's no need for what goes in the unit to be standard - it's for human readability.  What goes in the curly braces isn't \"standard\" and is for humans.  If you only have <em>one</em> slot, then curly braces allow you to send something that sort-of satisfies both purposes.  But given that we have two slots, I'd prefer to optimize what we put in 'code' for computers and leave the 'make the humans happy' bit to unit - which is what it's for.</p>",
        "id": 198387052,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1590101055
    },
    {
        "content": "<p>I'm not arguing to prohibit curly braces in code in FHIR (except perhaps for the fixed vital signs units), but I think discouraging them and pointing to unit instead is completely reasonable.</p>",
        "id": 198387151,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1590101109
    },
    {
        "content": "<p>What is the consensus now on including additional units in vital signs? (scope: universal/core profiles, not us-core.)</p>\n<p>Use extension <a href=\"http://hl7.org/fhir/StructureDefinition/iso21090-PQ-translation\">http://hl7.org/fhir/StructureDefinition/iso21090-PQ-translation</a> for the original units, and translate to the required units on vital-signs valueQuantity?</p>\n<p>Since derivedFrom and component are not applicable/sub-optimal, it seems.</p>",
        "id": 257353682,
        "sender_full_name": "David Simons",
        "timestamp": 1634126906
    },
    {
        "content": "<p>That sounds right to me</p>",
        "id": 257377344,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1634136139
    }
]