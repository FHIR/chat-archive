[
    {
        "content": "<p>If I want to encrypt part of the message (except the header)  are there any recommended approaches to doing that?  How would I encrypt specific resources in a message?</p>",
        "id": 168173737,
        "sender_full_name": "Jeremy Chapman",
        "timestamp": 1560548307
    },
    {
        "content": "<p>'the message\" - can you provide context?</p>",
        "id": 168173799,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560548383
    },
    {
        "content": "<p>Message meaning a bundle where the first resource entry is a MessageHeader.  We are implementing a distribution system, where we want to encrypt most of the message with a public key so that only the receiver can decrypt it, but we need to leave some of the message decrypted to allow the distribution system to route the message appropriately.</p>",
        "id": 168174260,
        "sender_full_name": "Jeremy Chapman",
        "timestamp": 1560548792
    },
    {
        "content": "<p>we have no arrangements for internal encryption inside a bundle. All I can suggest is that the normal way to do this is to use a mime package, and put the things you want to route on in the mime headers</p>",
        "id": 168174296,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560548865
    },
    {
        "content": "<p>You mean a multipart mime?  so the first boundary might include a bundle with the message header and a secondary boundary might be an encrypted bundle?</p>",
        "id": 168174401,
        "sender_full_name": "Jeremy Chapman",
        "timestamp": 1560548954
    },
    {
        "content": "<p>well, that would be one way to do it, yes. Though I was expecting a single encrpyted part with some headers that were used for routing.</p>",
        "id": 168174749,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560549342
    },
    {
        "content": "<p>Great, thanks for the input</p>",
        "id": 168174975,
        "sender_full_name": "Jeremy Chapman",
        "timestamp": 1560549565
    },
    {
        "content": "<p>see e.g. <a href=\"https://tools.ietf.org/html/rfc8188\" target=\"_blank\" title=\"https://tools.ietf.org/html/rfc8188\">https://tools.ietf.org/html/rfc8188</a></p>",
        "id": 168175104,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560549683
    },
    {
        "content": "<p>and <a href=\"https://tools.ietf.org/html/rfc1847\" target=\"_blank\" title=\"https://tools.ietf.org/html/rfc1847\">https://tools.ietf.org/html/rfc1847</a></p>",
        "id": 168175170,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560549727
    },
    {
        "content": "<p>Hi @ll I'm a newbie in this chat, i need help.... I want to encrypt and add a singature to a bundle in JSON... 1. With JWT and JOSE? OR 2. Write the code in the JSON Bundle like in <a href=\"https://www.researchgate.net/publication/259182302_JSON_encryption\">https://www.researchgate.net/publication/259182302_JSON_encryption</a> ?</p>",
        "id": 209874906,
        "sender_full_name": "Marius Antoniu Raceanu",
        "timestamp": 1599906090
    },
    {
        "content": "<p>Hi @ll I'm a newbie in this chat, i need help.... I want to encrypt and add a singature to a bundle in JSON... 1. With JWT and JOSE? OR 2. Write the code in the JSON Bundle like in <a href=\"https://www.researchgate.net/publication/259182302_JSON_encryption\">https://www.researchgate.net/publication/259182302_JSON_encryption</a> ?</p>",
        "id": 209874958,
        "sender_full_name": "Marius Antoniu Raceanu",
        "timestamp": 1599906146
    },
    {
        "content": "<p>As a rule, encrypting content is handled at the transport layer - and at that level you can do whatever you like.  If you choose to encrypt a resource within the FHIR space, you'd have to send it as a Binary - and would lose the ability to reference it as normal.  E.g. You can't have a MedicationRequest point to a Binary (that happens to contain an encrypted Patient).  Bundle.signature is governed by the rules here: <a href=\"http://build.fhir.org/datatypes.html#JSON\">http://build.fhir.org/datatypes.html#JSON</a>.  However, the rules aren't normative yet, so we can still evolve them based on implementer feedback.  (There hasn't been a whole lot of signature implementation in the community yet.)</p>",
        "id": 209882688,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1599919108
    }
]