[
    {
        "content": "<p>Hi I'm trying to model the following dosageInstruction: <em>Once every 8 weeks, take 2 times a day 500mg</em>. But it seems I'm missing a \"frequencyUnit\"  element or something. For now I'm getting this:</p>\n<div class=\"codehilite\"><pre><span></span> &lt;dosageInstruction&gt;\n    &lt;timing&gt;\n      &lt;repeat&gt;\n        &lt;frequency value=&quot;2&quot;/&gt;\n        &lt;period value=&quot;8&quot;/&gt;\n        &lt;periodUnit value=&quot;wk&quot;/&gt;\n      &lt;/repeat&gt;\n    &lt;/timing&gt;\n    &lt;doseQuantity&gt;\n      &lt;value value=&quot;500&quot;/&gt;\n      &lt;unit value=&quot;mg&quot;/&gt;\n      &lt;system value=&quot;http://unitofmeasure.org&quot;/&gt;\n      &lt;code value=&quot;mg&quot;/&gt;\n    &lt;/doseQuantity&gt;\n  &lt;/dosageInstruction&gt;\n</pre></div>\n\n\n<p>I would like to specify the 2 times a day part, instead of just \"2\". Is there a way to do that? An option I'm missing in timing?</p>",
        "id": 191606482,
        "sender_full_name": "Marten Smits",
        "timestamp": 1585055468
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span></p>",
        "id": 191608473,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585056468
    },
    {
        "content": "<p>I don't think you can do that because you have two different frequencies - the \"once every 8 weeks\" part and then the \"two times a day\" part.  I'm assuming that you take it twice on one day and then wait eight weeks?  The best that I can come up with is saying to take it twice a day for one day and then have a 2nd dosage instruction with the same timing but 8 weeks later.  If this is supposed to be an ongoing thing, then that won't work, so you'll have to fall back to text.</p>",
        "id": 191622751,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585062284
    },
    {
        "content": "<p>Or an extension</p>",
        "id": 191623406,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585062498
    },
    {
        "content": "<p>true</p>",
        "id": 191623433,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585062509
    },
    {
        "content": "<p>would that be a standard extension?<br>\nLike the transition in v2 (I think around v2.3 or so) where we made the TQ1 segment which enabled much bigger variety.</p>",
        "id": 191628961,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1585064446
    },
    {
        "content": "<p>the ability to have a timing within a timing (which is what this needs)?  I'm not sure that's quite standard.</p>",
        "id": 191629056,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585064485
    },
    {
        "content": "<p>yes, to have timings grouped by timings</p>",
        "id": 191630515,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1585065056
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> <a href=\"#narrow/stream/179166-implementers/topic/Dosage.20timing.20question/near/191622751\" title=\"#narrow/stream/179166-implementers/topic/Dosage.20timing.20question/near/191622751\">said</a>:</p>\n<blockquote>\n<p>I don't think you can do that because you have two different frequencies - the \"once every 8 weeks\" part and then the \"two times a day\" part.  I'm assuming that you take it twice on one day and then wait eight weeks?  The best that I can come up with is saying to take it twice a day for one day and then have a 2nd dosage instruction with the same timing but 8 weeks later.  If this is supposed to be an ongoing thing, then that won't work, so you'll have to fall back to text.</p>\n</blockquote>\n<p>Thank you Jean, that is all I needed to hear. Falling back on text was my preference as well in this case. Thank you for confirming this can't be done structurally in standard FHIR for now.</p>",
        "id": 191631419,
        "sender_full_name": "Marten Smits",
        "timestamp": 1585065387
    },
    {
        "content": "<p>I've got the same problem: the frequency needs to be specified twice instead of once and the two frequencies are combined with a logical AND. For example \"5 times a day monthly\" means once a month, take this 5 times during the day. We need this for DSS so portraying it just as text won't work.</p>\n<p>Will be making a modifierExtension for this - thinking on the best format. <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> maybe you have an idea from your v2 work?</p>",
        "id": 273458675,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1646037464
    },
    {
        "content": "<p>perhaps something including this?  <a href=\"https://hl7-definition.caristix.com/v2/HL7v2.6/Tables/0472\">https://hl7-definition.caristix.com/v2/HL7v2.6/Tables/0472</a></p>",
        "id": 273459801,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1646038198
    },
    {
        "content": "<p>I think FHIR dosage should cover complex dosage instructions but perhaps this is seen as a a European thing so I did not pursue further.</p>",
        "id": 273459911,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1646038278
    },
    {
        "content": "<p>I don't see that kind of setup meshing with <code>Timing</code> all too well.</p>\n<p>Thinking of adding a <code>frequencyUnit</code> modifier extension, so given the original example -</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code>    <span class=\"nt\">&lt;timing&gt;</span>\n      <span class=\"nt\">&lt;repeat&gt;</span>\n        <span class=\"nt\">&lt;frequency</span> <span class=\"na\">value=</span><span class=\"s\">\"2\"</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;frequencyUnit</span> <span class=\"na\">value=</span><span class=\"s\">\"d\"</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;period</span> <span class=\"na\">value=</span><span class=\"s\">\"8\"</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;periodUnit</span> <span class=\"na\">value=</span><span class=\"s\">\"wk\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/repeat&gt;</span>\n    <span class=\"nt\">&lt;/timing&gt;</span>\n</code></pre></div>\n<p>Would mean \"twice a day, once in 8 weeks\" or \"once every 8 weeks, take 2 times\". </p>\n<p>It's still frequency per period, frequency does not apply evenly over the whole period anymore - just over the frequencyUnit and the two are a logical AND.</p>",
        "id": 273462013,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1646039480
    }
]