[
    {
        "content": "<p>I am constructing a questionnaire where one of the questions goes along the lines of \"At what hospital did you get the examination in question done?\". There's a limited set of Hospitals that the user may choose from. So, a dropdown with the list of choices sounds like the way to go. I was thinking that I'd make the answer a \"Reference\" type referencing the hospitals as organization objects. However, I'm a bit stuck there. How do I specify that allowed answers should reference only Organization resources and that it may not be all Organization resources hosted on the server that should be listed but only a specific set of them?</p>\n<p>While waiting for an answer I am simply coding it as type \"option\" with a valueCoding for each hospital.</p>",
        "id": 153919448,
        "sender_full_name": "Michael Christensen",
        "timestamp": 1510665984
    },
    {
        "content": "<p>The <a href=\"http://build.fhir.org/extension-questionnaire-allowedresource.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-questionnaire-allowedresource.html\">questionnaire-allowedResource</a> and <a href=\"http://build.fhir.org/extension-questionnaire-allowedprofile.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-questionnaire-allowedprofile.html\">questionnaire-allowedProfile</a> extensions might do what you need.  You can also use <a href=\"http://build.fhir.org/extension-questionnaire-referencefilter.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-questionnaire-referencefilter.html\">questionnaire-referenceFilter</a></p>",
        "id": 153919474,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1510672260
    },
    {
        "content": "<p>Thx, looks like what I was looking for. </p>\n<p>How to use the questionnaire-referenceFilter is a bit unclear to me though. What attributes in a referenced resource would it match on?</p>",
        "id": 153919634,
        "sender_full_name": "Michael Christensen",
        "timestamp": 1510737039
    },
    {
        "content": "<p>It could use a bit more in the description couldn't it - feel free to submit a change request asking for that.</p>\n<p>The intention is that it represents the string that appears after the \"?\" when doing a search on the target resource.  (With the ability to substitue in the current patient and/or encounter)</p>",
        "id": 153919648,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1510737845
    },
    {
        "content": "<p>More text on that would be good (and also include the logged in practitioner from SMART, if that was the source of the Patient ref also)</p>",
        "id": 153919934,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1510824537
    },
    {
        "content": "<p>Is it possible to specify the resource type of reference (Questionnaire.item[x].type = QuestionnaireItemType.reference).  So I could say for this question I am expecting a reference to a Condition?<br>\nOr would this have to be an extension.</p>",
        "id": 153979422,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1532961591
    },
    {
        "content": "<p>There are standard extensions to indicate the type of resource, the profile it must comply with and/or the query to use in displaying the list of candidates.</p>",
        "id": 153979423,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1532962224
    },
    {
        "content": "<p>For your convenience, the allowedResource extension Lloyd mentioned is on <a href=\"https://simplifier.net/coreprofilesstu3/questionnaire-allowedresource\" target=\"_blank\" title=\"https://simplifier.net/coreprofilesstu3/questionnaire-allowedresource\">Simplifier</a> and the <a href=\"http://build.fhir.org/extension-questionnaire-allowedresource.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-questionnaire-allowedresource.html\">spec</a>.</p>",
        "id": 153979628,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1533012041
    },
    {
        "content": "<p>Thanks, just mocking this at the moment to help my understanding.</p>\n<p>Can I confirm, where I have a question I would ideally like a resource reference but accept text instead I would follow this guidance <a href=\"https://www.hl7.org/fhir/questionnaire.html#2.38.5.8\" target=\"_blank\" title=\"https://www.hl7.org/fhir/questionnaire.html#2.38.5.8\">https://www.hl7.org/fhir/questionnaire.html#2.38.5.8</a></p>",
        "id": 153979659,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1533041671
    },
    {
        "content": "<p>So ideally a form would link to an existing Condition but if a provider can't do that we could accept text (or something else) instead.</p>",
        "id": 153979660,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1533041748
    },
    {
        "content": "<p>Yes, that approach of a nested question could work here too.</p>",
        "id": 153979701,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1533046337
    }
]