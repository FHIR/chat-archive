[
    {
        "content": "<p>Is it prohibited to include any extensions when someone has asked for _summary=true view of a resource?</p>",
        "id": 153943103,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1520536123
    },
    {
        "content": "<p>Many of the servers (mine included) violate this is a few places, specifically in the conformance statement to include the security urls</p>",
        "id": 153943129,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1520544147
    },
    {
        "content": "<p>Would such extension definitions then need to express isSummary = true, to be explicit and computable?</p>",
        "id": 153943132,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1520544761
    },
    {
        "content": "<p>If we allow it at all, then yes allowing extensions to override isSummary would be appropriate/necessary</p>",
        "id": 153943133,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1520545047
    },
    {
        "content": "<p>According to this table: <a href=\"http://build.fhir.org/elementdefinition.html#interpretation\" target=\"_blank\" title=\"http://build.fhir.org/elementdefinition.html#interpretation\">http://build.fhir.org/elementdefinition.html#interpretation</a>, the isSummary property is prohibited on root elements, including extension definitions. And child elements cannot override isSummary, including extension element within a profile. So I guess we're not allowing this right now.</p>",
        "id": 153943135,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1520545662
    },
    {
        "content": "<p>I agree it's not technically allowed at present.  I guess the more apt question is \"should it be\"?  As Brian noted, current convention is ignoring the rule and I expect there will be other cases where rule violation is expected/necessary.  That's a pretty strong argument for fixing the rule - especially before we lock it in stone.</p>",
        "id": 153943148,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1520550841
    },
    {
        "content": "<p>Indeed, hence my Socratic question ;p</p>",
        "id": 153943216,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1520597675
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - thoughts on this?</p>",
        "id": 153943380,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1520606491
    },
    {
        "content": "<p>Not sure. It's not about the type - it's about DomainResource.extension. It's definitely necessary to return some extensions when _summary=true but I do that as a special rule.</p>",
        "id": 153943541,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1520626886
    },
    {
        "content": "<p>I'm not sure that it's necessary to make it computable but even if we did, I don't think that solving it with extensions overriding the summary on their definition is right either</p>",
        "id": 153943542,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1520626952
    },
    {
        "content": "<p>Well, right now returning those extensions is non-conformant, so we need to expose something that allows defining whether they're allowed or not.</p>",
        "id": 153943546,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1520628351
    },
    {
        "content": "<p>please explain why it's non conforment</p>",
        "id": 153943567,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1520638382
    },
    {
        "content": "<p>You're right, it's not.  But the current rules essentially mean that systems are free to totally ignore what's marked as \"summary\" and send whatever they like - is that really what we want?</p>",
        "id": 153943575,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1520641651
    },
    {
        "content": "<p>not sure</p>",
        "id": 153943583,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1520672877
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15742\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15742\">GF#15742</a></p>",
        "id": 153943607,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1520697438
    },
    {
        "content": "<p>I would have thought must understand extensions would need to be included?</p>",
        "id": 153945605,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1521255576
    }
]