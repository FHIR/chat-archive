[
    {
        "content": "<p>Our team is working to create a custom API (operation?) that returns a single FHIR Patient resource, along with some additional data. We would like to also include the Encounters and associated Claims for each encounter as \"contained\" resources, as opposed to simply adding references to them. A couple of general questions: 1) Is creating an extension to link an array of Encounters to a Patient possible/appropriate? 2) Is there a better way to do this instead of extensions, since the relationship appears to be from Claim to Encounter[] instead of the other direction? 3) Is using a custom StructureDefinition appropriate in this case (we would prefer to use FHIR resources/relationships as-is when possible. Thanks for any guidance you can provide!</p>",
        "id": 160262537,
        "sender_full_name": "Mark Sternig",
        "timestamp": 1552018854
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"212222\">@Mark Sternig</span> were you able to get response on your question? <br>\nOne question on a side: is there a fhir query that is able to bring all resources (contained in bundle) that are referencing a patient?</p>",
        "id": 160288299,
        "sender_full_name": "Elkhan Yusubov",
        "timestamp": 1552051366
    },
    {
        "content": "<p>I would not use a custom API - you can use a Claim search that includes the referenced Patient and Encounters</p>",
        "id": 160293012,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1552054878
    },
    {
        "content": "<p>Something like .../Claim?patient=xxxx&amp;_include=Claim:patient&amp;_include=Claim:encounter</p>",
        "id": 160293147,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1552054960
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196903\">@Yusubov</span> : yes, the $everything operation: <a href=\"http://hl7.org/fhir/patient-operation-everything.html\" target=\"_blank\" title=\"http://hl7.org/fhir/patient-operation-everything.html\">http://hl7.org/fhir/patient-operation-everything.html</a></p>",
        "id": 160296499,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1552057279
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span> the _include is exactly what I was looking for, thanks!  Am I correct to also assume that with a large dataset and paged bundles, if passing in a _count of 5 for example, I would get 5 Claims per page, and then all associated Encounters and Patients? This is what I believe is happening here (using _count=2): <a href=\"http://hapi.fhir.org/baseDstu3/Claim?_pretty=true&amp;_include=Claim%3Aencounter&amp;_include=Claim%3Apatient&amp;_count=2&amp;patient=1355147&amp;_format=json\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/Claim?_pretty=true&amp;_include=Claim%3Aencounter&amp;_include=Claim%3Apatient&amp;_count=2&amp;patient=1355147&amp;_format=json\">http://hapi.fhir.org/baseDstu3/Claim?_pretty=true&amp;_include=Claim%3Aencounter&amp;_include=Claim%3Apatient&amp;_count=2&amp;patient=1355147&amp;_format=json</a></p>",
        "id": 160308891,
        "sender_full_name": "Mark Sternig",
        "timestamp": 1552066856
    },
    {
        "content": "<p>Yes, you will get 5 claims and the patients and encounters referenced by those claims</p>",
        "id": 160309219,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1552067071
    },
    {
        "content": "<p>Is this still the case even though there's no Encounter on a Claim but rather on a Claim item in the FHIR model?</p>",
        "id": 160916725,
        "sender_full_name": "Mark A Johnson",
        "timestamp": 1552686904
    }
]