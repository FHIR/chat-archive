[
    {
        "content": "<p>I can't figure out how to create custom search parameter that also includes definition/url in capability statement (I always only have name, type and documentation). Can someone point me into right direction?</p>",
        "id": 154010435,
        "sender_full_name": "Marko",
        "timestamp": 1539958835
    },
    {
        "content": "<p>Can you rephrase your question?  I'm not totally clear on what you're trying to do and where you're running into trouble.</p>",
        "id": 154010461,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1539961344
    },
    {
        "content": "<p>Yes, of course. So in my ResourceProvider class I have a search method. There I have defined my search parameter:</p>\n<div class=\"codehilite\"><pre><span></span>public Bundle findMethod(@OptionalParam(name = SP_ENCOUNTER) @Description(formalDefinition = &quot;some description&quot;) ReferenceParam refParam) {}\n</pre></div>\n\n\n<p>Now this is using encounter as search parameter (SP_ENCOUNTER) that is part of DocumentReference. I can replace that with custom string and use that instead and efectively hava a custom search parameter. </p>\n<p>Now the problem is, when I do that I would like do define that parameter a little bit better. What I get out of the box in my capability statement is something like this:</p>\n<div class=\"codehilite\"><pre><span></span>&quot;type&quot;: &quot;DocumentReference&quot;,\n          &quot;profile&quot;: {\n            &quot;reference&quot;: &quot;http://hl7.org/fhir/Profile/DocumentReference&quot;\n          },\n          &quot;interaction&quot;: [\n            {\n              &quot;code&quot;: &quot;search-type&quot;\n            }\n          ],\n          &quot;searchParam&quot;: [\n            {\n              &quot;name&quot;: &quot;encounter&quot;,\n              &quot;type&quot;: &quot;reference&quot;,\n              &quot;documentation&quot;: &quot;some description&quot;\n            },\n</pre></div>\n\n\n<p>Now if I use custom parameter its name will be there instead of encounter (and that is ok) but I am looking for a way to include definition (url) as well in that list and I can't find a way to do it (<a href=\"https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.resource.searchParam.definition\" target=\"_blank\" title=\"https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.resource.searchParam.definition\">https://www.hl7.org/fhir/capabilitystatement-definitions.html#CapabilityStatement.rest.resource.searchParam.definition</a>)</p>",
        "id": 154010472,
        "sender_full_name": "Marko",
        "timestamp": 1539961947
    },
    {
        "content": "<p>I'm not understanding what's preventing you from adding searchParam.definition.  Is this an issue you're encountering with one of the reference implementations?  If so, which one?</p>",
        "id": 154010479,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1539964212
    },
    {
        "content": "<p>Can you please give me an example of using searchParam.definition in my code above?</p>",
        "id": 154010484,
        "sender_full_name": "Marko",
        "timestamp": 1539966784
    },
    {
        "content": "<p>What code above?  What reference implementation are you using?</p>",
        "id": 154010485,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1539967448
    },
    {
        "content": "<p>My bad. I am using hapi-fhir.</p>",
        "id": 154010486,
        "sender_full_name": "Marko",
        "timestamp": 1539967789
    },
    {
        "content": "<p>And so the issue is that within the searchParam object, you're not seeing a setter for \"definition\"?  What verion of FHIR are you working with?</p>",
        "id": 154010488,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1539968067
    },
    {
        "content": "<p>I am not even sure how to use custom SearchParam which I have defined.</p>",
        "id": 154010490,
        "sender_full_name": "Marko",
        "timestamp": 1539968608
    },
    {
        "content": "<p>SearchParam has a setter for URL which I think in the end maps to definition.</p>",
        "id": 154010491,
        "sender_full_name": "Marko",
        "timestamp": 1539968675
    },
    {
        "content": "<p>Right.  You actually have to host your custom search parameter somewhere in order for it to be referenced by the CapabilityStatement - someone querying the CapabilityStatement will also need to be able to query the Search Parameter.</p>",
        "id": 154010492,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1539968776
    },
    {
        "content": "<p>Morning, Trying to figure out how i can search for the following. <br>\nI want to find all Encounters for a specific Location. I am trying a chained query but doesn't seem to work . Example : <a href=\"https://fhirserver.com/Encounter?subject:Location.name=ICU\">https://fhirserver.com/Encounter?subject:Location.name=ICU</a></p>",
        "id": 237666212,
        "sender_full_name": "Brandon Cunningham",
        "timestamp": 1620311071
    },
    {
        "content": "<p>The search parameter you want is <code>location</code>:  <a href=\"https://fhirserver.com/Encounter?location.name=ICU\">https://fhirserver.com/Encounter?location.name=ICU</a> (<code>subject</code> is the patient) - but you have to check if the server implements it and supports chained searches</p>",
        "id": 237671059,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1620312763
    }
]