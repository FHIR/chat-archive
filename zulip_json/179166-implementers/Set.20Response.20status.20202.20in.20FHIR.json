[
    {
        "content": "<p>I was trying to implement Full Bulk Data Export From a FHIR Open EndPoint.<br>\nWhen client request for a bulk data export (Patient/$everything) with the below headers<br>\nAccept: application/fhir+ndjson<br>\nPrefer: respond-async</p>\n<p>Server has to respond with 202(accepted) status, but it is returning with 200. </p>\n<p>On server setting the HttpServletResponse(using java, HAPI 1.6 dstu2 version) status code to 202 but it is returning 200.</p>\n<div class=\"codehilite\"><pre><span></span>    response.setStatus(HttpStatus.SC_ACCEPTED);\n    response.setHeader(&quot;Content-Location&quot;, uri+&quot;/bulkdata/&quot;+responseBDR.getRequestId());\n</pre></div>\n\n\n<p>Can anyone help me out to set Response status(202/Accepted).</p>",
        "id": 153929424,
        "sender_full_name": "Sateesh",
        "timestamp": 1516285940
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span></p>",
        "id": 153929583,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516356869
    },
    {
        "content": "<p>Does this work for you?</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">throw</span> <span class=\"k\">new</span> <span class=\"n\">UnclassifiedServerFailureException</span><span class=\"o\">(</span><span class=\"n\">HttpStatus</span><span class=\"o\">.</span><span class=\"na\">SC_ACCEPTED</span><span class=\"o\">,</span> <span class=\"s\">&quot;Accepted&quot;</span><span class=\"o\">,</span> <span class=\"n\">outcome</span><span class=\"o\">)</span>\n            <span class=\"o\">.</span><span class=\"na\">addResponseHeader</span><span class=\"o\">(</span><span class=\"n\">HttpHeaders</span><span class=\"o\">.</span><span class=\"na\">CONTENT_LOCATION</span><span class=\"o\">,</span> <span class=\"n\">location</span><span class=\"o\">);</span>\n</pre></div>",
        "id": 153957711,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1526014711
    }
]