[
    {
        "content": "<p>It seems that there has been a few parallel efforts for modelling consent directives as a contract resource. As the Security WG is going to discuss this, I'm starting this thread to ask everyone who has done something similar to share it here.</p>",
        "id": 153826417,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1462903993
    },
    {
        "content": "<p>I create a consent record for each time a smart on fhir login happens on my machine. here's an example:</p>",
        "id": 153826418,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462904048
    },
    {
        "content": "<p><a href=\"http://fhir3.healthintersections.com.au/open/Contract/3/_history/1\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au/open/Contract/3/_history/1\">http://fhir3.healthintersections.com.au/open/Contract/3/_history/1</a></p>",
        "id": 153826419,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462904074
    },
    {
        "content": "<p>frankly, I found the existing ConsentDirective document confusing and/or irrelevant. And it basically didn't help me at all </p>",
        "id": 153826420,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462904111
    },
    {
        "content": "<p>the WG  claims that a profile on contract is appropraite - but the profile is entirely useless. I can't tell whether that's because it's not properly executed, or because it shouldn't be a profile. </p>",
        "id": 153826421,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462904163
    },
    {
        "content": "<p>if a consent directive is going ot be based on a contract - a notion that makes sense - I would have thought it could reference one</p>",
        "id": 153826422,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462904193
    },
    {
        "content": "<p>This is something we are looking to accomplish as well. I was looking at the consent directive for some general guidelines and agree with what Grahame stated. Our use-case is MU3 specific for the patients or proxies using apps, and granting those apps access to their health data.</p>",
        "id": 153826432,
        "sender_full_name": "Drew Torres",
        "timestamp": 1462905486
    },
    {
        "content": "<p>Is there a specific quarter security may pick this conversation up?</p>",
        "id": 153826433,
        "sender_full_name": "Drew Torres",
        "timestamp": 1462905533
    },
    {
        "content": "<p>I was in    Salon Garcia Lorca waiting for the CBCC/security session to talk about it, but there was no one present.</p>",
        "id": 153826436,
        "sender_full_name": "Drew Torres",
        "timestamp": 1462905608
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191357\">@Andrew Torres</span> We are meeting NOW at Salon 4.</p>",
        "id": 153826437,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1462906015
    },
    {
        "content": "<p>I created several example consent (or auhorization to disclose) using HAPI:</p>",
        "id": 153826438,
        "sender_full_name": "Ioana Singureanu",
        "timestamp": 1462906193
    },
    {
        "content": "<p>The BHIT project exaples are available in GForge/SVN and cover basic consent, granular consent (includes references toprotected data types), cosent for researchL  <a href=\"http://gforge.hl7.org/gf/project/cbcc/scmsvn/?action=browse&amp;path=%2Ftrunk%2FIExHub%2FIExHub%2Fiexhub%2Fsrc%2Ftest%2Fresources%2FXML%2F\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/cbcc/scmsvn/?action=browse&amp;path=%2Ftrunk%2FIExHub%2FIExHub%2Fiexhub%2Fsrc%2Ftest%2Fresources%2FXML%2F\">http://gforge.hl7.org/gf/project/cbcc/scmsvn/?action=browse&amp;path=%2Ftrunk%2FIExHub%2FIExHub%2Fiexhub%2Fsrc%2Ftest%2Fresources%2FXML%2F</a> </p>",
        "id": 153826439,
        "sender_full_name": "Ioana Singureanu",
        "timestamp": 1462906338
    },
    {
        "content": "<p>Seeing as it is 3:00 is there another quarter you are going to continue the conversation?</p>",
        "id": 153826442,
        "sender_full_name": "Drew Torres",
        "timestamp": 1462906838
    },
    {
        "content": "<p>I think we will continue in the next Q until 5pm.</p>",
        "id": 153826449,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1462907328
    },
    {
        "content": "<p>Which room?</p>",
        "id": 153826451,
        "sender_full_name": "Drew Torres",
        "timestamp": 1462907364
    },
    {
        "content": "<p>salon 4</p>",
        "id": 153826453,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1462907488
    },
    {
        "content": "<p>For HAPI implementers here is code for: Granular Consent and Consent for Research: <br>\n<a href=\"http://gforge.hl7.org/gf/project/cbcc/scmsvn/?action=browse&amp;path=%2Ftrunk%2FIExHub%2FIExHub%2Fiexhub%2Fsrc%2Ftest%2Fjava%2Forg%2Fiexhub%2Fservices%2Ftest%2F\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/cbcc/scmsvn/?action=browse&amp;path=%2Ftrunk%2FIExHub%2FIExHub%2Fiexhub%2Fsrc%2Ftest%2Fjava%2Forg%2Fiexhub%2Fservices%2Ftest%2F\">http://gforge.hl7.org/gf/project/cbcc/scmsvn/?action=browse&amp;path=%2Ftrunk%2FIExHub%2FIExHub%2Fiexhub%2Fsrc%2Ftest%2Fjava%2Forg%2Fiexhub%2Fservices%2Ftest%2F</a></p>",
        "id": 153826456,
        "sender_full_name": "Ioana Singureanu",
        "timestamp": 1462908254
    },
    {
        "content": "<p>There is much work yet to be shown on the Privacy Consent Directive. We need more bodies creating content. committee progress has been very slow. As such I have taken to put my thoughts on my blog -- see <a href=\"http://healthcaresecprivacy.blogspot.com/2016/04/consent-given-to-authorized.html\" target=\"_blank\" title=\"http://healthcaresecprivacy.blogspot.com/2016/04/consent-given-to-authorized.html\">http://healthcaresecprivacy.blogspot.com/2016/04/consent-given-to-authorized.html</a> and <a href=\"http://healthcaresecprivacy.blogspot.com/2016/04/consent-to-grant-read-access-to.html\" target=\"_blank\" title=\"http://healthcaresecprivacy.blogspot.com/2016/04/consent-to-grant-read-access-to.html\">http://healthcaresecprivacy.blogspot.com/2016/04/consent-to-grant-read-access-to.html</a></p>",
        "id": 153826612,
        "sender_full_name": "John Moehrke",
        "timestamp": 1462920321
    },
    {
        "content": "<p>Grahame, I don't understand what you mean by creating a consent record each time a smart on fhir login happens? I see your example, but it looks more like what I would expect in an AuditEvent. A Consent is a record of agreement to share information for a given purpose under given constraints. Are you missing the point?</p>",
        "id": 153826614,
        "sender_full_name": "John Moehrke",
        "timestamp": 1462920441
    },
    {
        "content": "<p>When you use SMART, you are creating a record of agreement to allow a particular application to access a particular portion of an EHR's record for a particular time.  That sounds like Consent to me.</p>",
        "id": 153826633,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1462924451
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> </p>",
        "id": 153826727,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1462961295
    },
    {
        "content": "<p>I actually think the idea of capturing the OAuth consent (embodied in clicking a button on a webpage) as a machine-generated \"consent directive\" is very interesting. When we worked on the FHIR-UMA demonstration at HIMSS, there was a long debate between the developers and the lawyers whether the consent expressed when the patient approves some kind of access at the UMA authorization server suffices for legal purposes where patient's Consent Directive is required. I think what <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  described here is a very interesting step in closing that gap by turning that implicit web event into a potentially reliable legal consent directive.</p>",
        "id": 153826728,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1462961734
    },
    {
        "content": "<p>right. It's not a really significant 'consent' in the way other consents are. But that doesn't mean it's not a consent. </p>",
        "id": 153826737,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462962652
    },
    {
        "content": "<p>and I didn't right it because I think that sharing such a consent record is justified on a cost-benefit basis, but primarily to engage with the ConsentDirective. </p>",
        "id": 153826738,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462962706
    },
    {
        "content": "<p>And so far, every person I have spoken to, even those recommended by the committee, have said the same thing:</p>",
        "id": 153826740,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462962726
    },
    {
        "content": "<ul>\n<li>yes, we can make ConsentDirective as a profile on Contract work</li>\n<li>we'd rather not do that - it would be much easier if it was a standalone resource </li>\n</ul>",
        "id": 153826741,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462962754
    },
    {
        "content": "<p>I would clearly like to separate Consent from Contract. This is not to say that a Consent couldn't be wrapped in a Contract, wrapped in a document... But the model for what would be captured should be a fundamental core Resource.. It might even look very much like Contract, but I doubt it. I wold rather see us design it based on real-world use-cases, and Agile method; getting away from top-down method used now.</p>",
        "id": 153826804,
        "sender_full_name": "John Moehrke",
        "timestamp": 1462971602
    },
    {
        "content": "<p>I have said it publicly on my blog - <a href=\"http://healthcaresecprivacy.blogspot.com/2016/05/fhir-consent-as-resource-or-profile.html\" target=\"_blank\" title=\"http://healthcaresecprivacy.blogspot.com/2016/05/fhir-consent-as-resource-or-profile.html\">http://healthcaresecprivacy.blogspot.com/2016/05/fhir-consent-as-resource-or-profile.html</a></p>",
        "id": 153826833,
        "sender_full_name": "John Moehrke",
        "timestamp": 1462974934
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> . So as I am collecting and compiling these opinions for the group, what do other implementers think about Consent Directive and Contract? I also heard from <span class=\"user-mention\" data-user-id=\"191968\">@Ioana Singureanu</span>  that they didn't like using Contract for Consent Directive. How about you <span class=\"user-mention\" data-user-id=\"191357\">@Andrew Torres</span>? Is there anyone with an argument FOR keeping Consent Directive a profile of Contract?</p>",
        "id": 153826844,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1462975484
    },
    {
        "content": "<p>Kathleen seems to have an administrative argument here about the timeline of getting the new resource in the ballot. But aside from that, I'd like to hear any conceptual/technical concerns people might have against having an independent Consent Directive resource.</p>",
        "id": 153826853,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1462975715
    },
    {
        "content": "<p>We already have MANY open CPs on this topic asking for a Resource... so I think that argment is moot. Also we are in no way ready for ballot given the current structure. The current structue requires three weeks to get anything changed as we must coordinate with FM. </p>",
        "id": 153826858,
        "sender_full_name": "John Moehrke",
        "timestamp": 1462976044
    },
    {
        "content": "<p>I can have a Consent resource, based on what we have today, done by the end of the week. It is trivial to get from where we are today to having a prototype Consent resource of equivilant capability.</p>",
        "id": 153826859,
        "sender_full_name": "John Moehrke",
        "timestamp": 1462976140
    },
    {
        "content": "<p>It doesn't take that long to create a resource.  Half day's effort for someone who knows the tools.  So there's certainly lots of time to put it together and review it as a workgroup before mid-July</p>",
        "id": 153826879,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1462979034
    },
    {
        "content": "<p>I would agree that a new consent/authroization resource would be more intuitive than a profile on contract.</p>",
        "id": 153826885,
        "sender_full_name": "Drew Torres",
        "timestamp": 1462979512
    },
    {
        "content": "<p>John - please draft a resource ASAP. We can at least dsicuss it</p>",
        "id": 153826941,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462983542
    },
    {
        "content": "<p>working on it.. :-)</p>",
        "id": 153826978,
        "sender_full_name": "John Moehrke",
        "timestamp": 1462991064
    },
    {
        "content": "<p>While very new, I would like to add my feather weight to this. We have all sorts of data about consent, but really none of it lines up with what I'm presently seeing in the examples of Contract. Hope rises as I read these posts.</p>",
        "id": 153827013,
        "sender_full_name": "Russell Bateman",
        "timestamp": 1462995322
    },
    {
        "content": "<p>please share. </p>",
        "id": 153827028,
        "sender_full_name": "John Moehrke",
        "timestamp": 1462995698
    },
    {
        "content": "<p>Grahame asked that I try to get a Consent resource ASAP... so it is now in the current build. Here is my blog writeup <a href=\"http://healthcaresecprivacy.blogspot.com/2016/05/start-at-consent-as-fhir-resource.html\" target=\"_blank\" title=\"http://healthcaresecprivacy.blogspot.com/2016/05/start-at-consent-as-fhir-resource.html\">http://healthcaresecprivacy.blogspot.com/2016/05/start-at-consent-as-fhir-resource.html</a></p>",
        "id": 153827980,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463411381
    },
    {
        "content": "<p>I welcome comments, complaints, improvements.... Please engage.</p>",
        "id": 153827981,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463411427
    },
    {
        "content": "<p>is the scope here just information disclosure consent? or clinical action consent?</p>",
        "id": 153828230,
        "sender_full_name": "Erich Schulz",
        "timestamp": 1463524793
    },
    {
        "content": "<p>two of the key elements of consent that I'm curious about are - how to provide evedence of information presented to decision maker? (a list of risks, benefits, ?costs, and importantly alternative actions) - and how does the agent collecting consent assert  \"the consent giver understood this information *and* they are free of duress\"?</p>",
        "id": 153828231,
        "sender_full_name": "Erich Schulz",
        "timestamp": 1463525279
    },
    {
        "content": "<p>The resource should support capturing consent for information access that isn't necessarily patient-centric too.  E.g. permission granted to access certain information for research or regulatory purposes (in addition to or in place of patient-specific consent)</p>",
        "id": 153828232,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1463525397
    },
    {
        "content": "<p>I would think its probably worth considering rolling them both up - tracking patient consent (and lost consent forms) is one of the biggest headaches in my work team</p>",
        "id": 153828246,
        "sender_full_name": "Erich Schulz",
        "timestamp": 1463526869
    },
    {
        "content": "<p>and private providers often collect consent remotely in time and place from where the action occurs</p>",
        "id": 153828247,
        "sender_full_name": "Erich Schulz",
        "timestamp": 1463526907
    },
    {
        "content": "<p>The scope is Privacy Consent. It is not limited to Patient access. But it is limited to forms of patient directed authorization of access.</p>",
        "id": 153828370,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463540659
    },
    {
        "content": "<p>This is not to say other consents are not needed, but we are struggling enough with this limited scope. And the experts we have are Privacy experts.</p>",
        "id": 153828371,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463540708
    },
    {
        "content": "<p>Is there some part of the text that is confusing?</p>",
        "id": 153828373,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463540737
    },
    {
        "content": "<p>Why would we create multiple resources that are all dealing with recording permission to access information?  The scope of resources should be broad unless we're certain that the implementer community compartmentalizes different functions consistently with different interfaces and persistence layers and there's significant difference in content. </p>",
        "id": 153828390,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1463543071
    },
    {
        "content": "<p>We don't want 20 different consent-related resources in FHIR.</p>",
        "id": 153828391,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1463543088
    },
    {
        "content": "<p>Did I imply that the one resource can't handle all use-cases for Privacy consent? It certainly can, and there is a set of examples that cover most of the space. What we are not covering is: Authorization for a Procedure (I authorize surgery), Advanced Directives (Do not resuscitate (DNR)),  agreement to participate in a clinical trial. These are not our focus, but are commonly discussed as a form of 'consent'. we are only covering (today) \"Privacy Consent Directives\". </p>",
        "id": 153828433,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463572424
    },
    {
        "content": "<p>I really need people to review, comment; try it out in their usecases, guide us... </p>",
        "id": 153828434,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463572479
    },
    {
        "content": "<p>I can live with two resources - one for \"consent to disclose\" and another for \"consent for activity\", but I don't think we should have more than two.  And the one that does exist for \"consent to disclose\" can't be created focusing on a narrow use-case, it has to support every type of information disclosure (and be based on the 80% across all those possible types of disclosure).</p>",
        "id": 153828439,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1463578560
    },
    {
        "content": "<p>Good.. that is our goal... broad to support all consent to disclose usecases including authorization for external access, authorization for research use,  etc. If you don't see a use-case listed on the current Consent resource, please let me know. </p>",
        "id": 153828450,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463585472
    },
    {
        "content": "<p>I'm seeing 2 new design principles in this discussion thread, <br>\n1) we can convert profiles on existing resources into new resources if there is implementer interest;<br>\n2) we can design based on what '80% of what a topic could encompass from an information perspective' not '80% of what system currently do'.<br>\nDo you have a pool of existing consent directives which are serving as your use case base?</p>",
        "id": 153828559,
        "sender_full_name": "Paul Knapp",
        "timestamp": 1463637244
    },
    {
        "content": "<p>Yes, they are in the model. There are 9 samples that were brought to us from various places. These are presented to us as what systems do actually do today. It is true that most of the use-cases are what systems do today in an XDS environment. But given there is no FHIR environment, we must pull from existing systems of any type. I find he use-cases translate well, except for a few that are specific to how XDS federates which we didn't include. These are what I used. I welcome more to help build the model. -- Agile -- I think this is exactly the normal FHIR process. <span class=\"user-mention\" data-user-id=\"191430\">@Paul Knapp</span> </p>",
        "id": 153828596,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463661682
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191430\">@Paul Knapp</span> : \"we can convert profiles on existing resources into new resources if there is implementer interest\" - this is not what is going on here. The contention of the implementers is that presenting a consent agreement as as a profile on contract is not what is actually going on</p>",
        "id": 153828795,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1463694908
    },
    {
        "content": "<p>If CBCC hasn't been providing a content model for the exchange of Consent Agreements through the provision of a profile, or profiles, on Contract then what do the implementers suggest CBCC has been doing? </p>\n<p>Given that the Consent resource is as John says the needed elements and valuesets from the Contract and the profile with some trweaking/renaming, which matches my quick review of both, it appears that CBCC has been doing exactly that - creating a profile on Contract to meet the Consent Agreement content model needs.</p>",
        "id": 153828878,
        "sender_full_name": "Paul Knapp",
        "timestamp": 1463759376
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191430\">@Paul Knapp</span> you have the benefit of understanding both Contract and the Profiling. It looks simple to you. We are hearing it isn't as simple to others.... BUT more to another part of your question, it has taken far too long to get to where we are because we had to cooperate with FM to get Contract changes. This is NOT a negative against FM, nor the very good interface we have. It is simply a fact that owning a Resource is far easier than owning a profile on someone elses resource.  So, although what I presented is mostly a derivative that could be done through profiling; that might not be the case by September. The CBCC community could (if they choose to accept) completely change the Consent Resource without having to align with the modeling that FM has in mind for Contract. Further Consent can still be an attachment on a Contract. -- These are all points that I have made in my presentation of this potentially new pathway.</p>",
        "id": 153828884,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463766390
    },
    {
        "content": "<p>Many people, including myself, still don't fully understand Contract. Contract is under developed, doesn't describe the elements it has, doesn't have vocabulary, and has no useful examples.. So building on Contract has been very difficult. Separation seems the right hing to do.</p>",
        "id": 153828885,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463766477
    },
    {
        "content": "<p>I have been looking at the Consent profile and see where the lack of a UML diagram, which would have roughly matched that of your Consent resource,  and that the Structure display is not consistent with the Structure display used for resources could make the use of profiles difficult. I agree that whenever a level of indirection is introduced this makes it more conceptual and therefore more difficult than having a native instance. </p>\n<p>I am concerned about what this says about FHIR in general as it is dependant on the use of profile on genericized resources. In some cases where we have pushed some far more diverse resources into a single resource your experience suggests those should be revisited to avoid similar situations. Also, if profiles on resources are difficult for implementers then how will profiles on profiles be received by implementers?</p>",
        "id": 153828894,
        "sender_full_name": "Paul Knapp",
        "timestamp": 1463777411
    },
    {
        "content": "<p>I agree it is a data point. The struggle that I have is that today few people manage privacy consents (or other consents) as contracts. That is not to say that they don't have legal text, but they are viewed as something unto themselves. Which is why, I think, people are looking for a consent resource; rather than thinking they should look for a contract with a consent profile. So it is more because of existing practice. </p>",
        "id": 153828895,
        "sender_full_name": "John Moehrke",
        "timestamp": 1463777996
    },
    {
        "content": "<p>I agree with John. Consent is a computable structure backed by some paperwork somewhere. I think it's saying that Contract itself is a weird construct - the faux computable bit it has is too generic, and it doesn't match a real world construct I recognise</p>",
        "id": 153828896,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1463784815
    },
    {
        "content": "<p>Waking this thread up again, now that it is a new week. Didn't get much reaction last week, but I will assume it was the week off following the HL7 meeting.</p>",
        "id": 153829281,
        "sender_full_name": "John Moehrke",
        "timestamp": 1464012464
    },
    {
        "content": "<p>During the WGM, which I was unable to attend, Grahame asked that I prototype the Consent as a Resource 'asap', so I present it today. It has been in the FHIR Build since the beginning of of the week, and some have found it from my blog article, tweets, and <a href=\"http://chat.fhir.org\" target=\"_blank\" title=\"http://chat.fhir.org\">chat.fhir.org</a>. </p>\n<p><a href=\"http://hl7-fhir.github.io/consent.html\" target=\"_blank\" title=\"http://hl7-fhir.github.io/consent.html\">http://hl7-fhir.github.io/consent.html</a></p>\n<p>This is just a proposal, it has no formal standing. It is up to the CBCC community to decide if this is a better path forward vs the previous path of using a profile on Contract. I offer it as a prototype, so that people can make an informed decision. Please let the CBCC (<a href=\"mailto:cbhs@lists.hl7.org\" title=\"mailto:cbhs@lists.hl7.org\">cbhs@lists.hl7.org</a>) know if you like this or not. Getting community input direct to the committee is very important. If you don't want to join the CBCC mailing list, then please send email to the co-chairs of CBCC -- details can be found on their workgroup home page <a href=\"http://www.hl7.org/Special/committees/homehealth/index.cfm\" target=\"_blank\" title=\"http://www.hl7.org/Special/committees/homehealth/index.cfm\">http://www.hl7.org/Special/committees/homehealth/index.cfm</a> </p>\n<p>my blog were I describe the approach I took </p>\n<p><a href=\"http://healthcaresecprivacy.blogspot.com/2016/05/start-at-consent-as-fhir-resource.html\" target=\"_blank\" title=\"http://healthcaresecprivacy.blogspot.com/2016/05/start-at-consent-as-fhir-resource.html\">http://healthcaresecprivacy.blogspot.com/2016/05/start-at-consent-as-fhir-resource.html</a></p>",
        "id": 153829282,
        "sender_full_name": "John Moehrke",
        "timestamp": 1464012483
    },
    {
        "content": "<p>thanks John. I'll implement it this week to see how works for me. Keep an eye out for questions here</p>",
        "id": 153829378,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1464038164
    },
    {
        "content": "<p>Thanks for drafting this, John, I just got to take a look. Here's my use-case for consent:</p>\n<p>We have an iOS research app and obviously need to get consent from participants first. This builds on ResearchKit and I'm using a <code>Contract</code> resource to hold our consent terms. I'm using one <code>term</code> per consenting section, giving it a title in <code>term.type.coding[0].code</code>, a one-liner in <code>term.text</code> and (via extension) a file name to a HTML file holding on to one or two paragraphs for the section. The last part is certainly not FHIR-y but works for our iOS-App use-case at the moment. At the end, a review step is presented which concatenates all the <code>term</code> sections into one HTML document (using the title and the paragraphs in the external files), to which the participant can agree and which is then signed.</p>\n<p>For <code>subject</code> we contain a <code>Group</code> where the group's <code>characteristic</code> defines the eligibility criteria we have (over 18, lives in the states and such). Before being able to consent, we look at these characteristics and let the user answer them.</p>\n<p>An example of the consent flow, with data pulled from the <code>Contract</code>, is in the following video. Eligibility starts at 00:30, consenting at 00:45:<br>\n<a href=\"https://dl.dropboxusercontent.com/u/6971499/C%20Tracker%20Onboarding.m4v\" target=\"_blank\" title=\"https://dl.dropboxusercontent.com/u/6971499/C%20Tracker%20Onboarding.m4v\">https://dl.dropboxusercontent.com/u/6971499/C%20Tracker%20Onboarding.m4v</a></p>\n<p>In the current <code>Consent</code> proposal I'd have to split out our consenting sections into small <code>friendly</code> (or <code>legal</code>) pieces, either an Attachment or more likely a DocumentReference. Neither are very suitable to host individual sections, and I'd lose the \"sexyness\" of having the consent in the <code>Consent</code> resource.</p>\n<p>What do you think?</p>",
        "id": 153829591,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1464080188
    },
    {
        "content": "<p>Can you present this at the Friday call <a href=\"http://wiki.hl7.org/index.php?title=HL7_FHIR_Consent_Directive_Project\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=HL7_FHIR_Consent_Directive_Project\">http://wiki.hl7.org/index.php?title=HL7_FHIR_Consent_Directive_Project</a> <span class=\"user-mention\" data-user-id=\"191339\">@Pascal Pfiffner</span> ? Do you have an example available?</p>",
        "id": 153829647,
        "sender_full_name": "John Moehrke",
        "timestamp": 1464100513
    },
    {
        "content": "<p>Friday is the first day of my 2-week vacation I'm afraid. Let me share a link to the <code>Contract</code> (and a sample \"section\").</p>",
        "id": 153829650,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1464100597
    },
    {
        "content": "<p>thanks.  I think your writeup (above) and an example will help us understand. I think I follow your writeup, but struggle with visualizing it.</p>",
        "id": 153829652,
        "sender_full_name": "John Moehrke",
        "timestamp": 1464100651
    },
    {
        "content": "<p>Here's <code>Contract.json</code> and one HTML section file: <a href=\"https://gist.github.com/p2/dedd8b4b26ef4cce600216a9fbe9ac31\" target=\"_blank\" title=\"https://gist.github.com/p2/dedd8b4b26ef4cce600216a9fbe9ac31\">https://gist.github.com/p2/dedd8b4b26ef4cce600216a9fbe9ac31</a></p>",
        "id": 153829660,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1464101147
    },
    {
        "content": "<p>That is very much NOT what was expected. All you used Contract for is a list of strings. </p>",
        "id": 153829669,
        "sender_full_name": "John Moehrke",
        "timestamp": 1464108189
    },
    {
        "content": "<p>Yes. There were other factors as to why we needed the actual text in external files, but a clean solution would be desirable. But I guess this serves to show what I would like to use <code>Consent</code> for.</p>",
        "id": 153829678,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1464119464
    },
    {
        "content": "<p>What you have seems more like a use of Questionnaire to interact with the patient with the result being a filled out Consent resource instance. Why did you not go that way?</p>",
        "id": 153829795,
        "sender_full_name": "John Moehrke",
        "timestamp": 1464188822
    },
    {
        "content": "<p>If you imagine the text in the referenced files being included in the <code>Contract</code>, then we'd have a pretty standard contract/consent, with terms being agreed to. The eligibility part could be a questionnaire, yes.</p>",
        "id": 153829990,
        "sender_full_name": "Pascal Pfiffner",
        "timestamp": 1464266355
    },
    {
        "content": "<p>So how would you model a DNR in FHIR? Is this a profile on Contract?</p>",
        "id": 153830019,
        "sender_full_name": "Peter Bernhardt",
        "timestamp": 1464278515
    },
    {
        "content": "<p>not done yet. So Basic...?</p>",
        "id": 153830026,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1464287377
    },
    {
        "content": "<p>I'm at the moment figuring our how to represent DNR in FHIR. In our application, it's  recorded as an answer to the question \"Is the patient a DNR?\" with a Yes/No radio button, and a saved answer of \"Yes\" should toggle a red DNR on the patient banner.<br>\n<a href=\"/user_uploads/10155/Jt28AbeZCpxYqRWta1JHzH2l/scr-02.09.2016_15-37-51.png\" target=\"_blank\" title=\"scr-02.09.2016_15-37-51.png\">scr-02.09.2016_15-37-51.png</a> <br>\nCan it be recorded as an <code>Observation.code</code> = 304251008 | Resuscitation status (observable entity) with values <code>Observation.value</code> = 304252001 | For resuscitation (finding) (if not DNR), and <code>Observation.value</code> = 304253006 | Not for resuscitation (finding) and <code>Flag.code</code> =<br>\n304253006 | Not for resuscitation (finding) (if DNR)?<br>\nAlso LOINC has 81351-9      Do Not Resuscitate, Do Not Attempt Resuscitation, or Allow Natural Death order is in place [Reported] with EXAMPLE ANSWER LIST Yes/No/..., probably this can be used in <code>Questionnaire.item.concept</code> for this question?<br>\n<a href=\"/user_uploads/10155/SPguoFhzJgUEQg0CzGOgBnS3/scr-02.09.2016_15-45-56.png\" target=\"_blank\" title=\"scr-02.09.2016_15-45-56.png\">scr-02.09.2016_15-45-56.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Jt28AbeZCpxYqRWta1JHzH2l/scr-02.09.2016_15-37-51.png\" target=\"_blank\" title=\"scr-02.09.2016_15-37-51.png\"><img src=\"/user_uploads/10155/Jt28AbeZCpxYqRWta1JHzH2l/scr-02.09.2016_15-37-51.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/SPguoFhzJgUEQg0CzGOgBnS3/scr-02.09.2016_15-45-56.png\" target=\"_blank\" title=\"scr-02.09.2016_15-45-56.png\"><img src=\"/user_uploads/10155/SPguoFhzJgUEQg0CzGOgBnS3/scr-02.09.2016_15-45-56.png\"></a></div>",
        "id": 153846265,
        "sender_full_name": "Aleksandra Pavlyshina",
        "timestamp": 1472820797
    },
    {
        "content": "<p>I would expect your question to be \"Does the patient have a DNR?\" and that would be a search on Contract (Consent Profile) or Consent if it supports a DNR.</p>",
        "id": 153846353,
        "sender_full_name": "Paul Knapp",
        "timestamp": 1472886875
    },
    {
        "content": "<p>The modeling for advanced directives has not yet been done, although it is in scope for the Consent resource. To find if a patient as an advanced directive one would search for Consent resources with the Consent.patient of that patient, and with Consent.category of type advanced directive. Likely want to also make sure that you only ask for active resources, etc...   One might have used a Questionnaire originally get this 'consent', but it would be persisted as a Consent resource, possibly linked to the questionaire answers through the Consent.souce element.</p>",
        "id": 153846356,
        "sender_full_name": "John Moehrke",
        "timestamp": 1472916559
    },
    {
        "content": "<p>Application requirements have been changed recently. Now we display the question \"Does the patient wish to attempt resuscitation?\"<br>\nand the answers are Yes / No (DNR) (an answer of \"No (DNR)\" should toggle the red DNR flag on the patient banner).<br>\nAnd we display the question \"Does the patient have documentation supporting this decision?\" Yes / No<br>\nAnd we capture the following questions for each type of the 'Advanced Directive / Living Will / DNR / POST/POLST' documents:<br>\nDoes the patient have a &lt;document type&gt;? Yes/No<br>\nIf, yes?<br>\nDoes the patient need to make changes to the &lt;document type&gt;?Yes/No <br>\nDoes the patient have copies of the &lt;document type&gt;?Yes/No  <br>\nHas Narus Health received a copy of the &lt;document type&gt;?Yes/No  <br>\nDoes the patient have any questions about the &lt;document type&gt;?Yes/No    <br>\nDo we need to send copies of the  &lt;document type&gt; to the medical team?Yes/No    <br>\nIf, no?<br>\nIs the patient interested in learning more about a &lt;document type&gt;?Yes/No   <br>\nDoes the patient want to complete a &lt;document type&gt;?</p>",
        "id": 153846761,
        "sender_full_name": "Aleksandra Pavlyshina",
        "timestamp": 1473341655
    },
    {
        "content": "<p>Is this the correct mapping to represent a DNR order in FHIR using the Consent resource?</p>\n<table>\n<thead>\n<tr>\n<th>FHIR Field</th>\n<th>Mapping</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Consent.status</td>\n<td>active</td>\n</tr>\n<tr>\n<td>Consent.category</td>\n<td>advance-directive</td>\n</tr>\n<tr>\n<td>Consent.dateTime</td>\n<td>Resource creation date/time</td>\n</tr>\n<tr>\n<td>Consent.period</td>\n<td>Effective dates from the original document</td>\n</tr>\n<tr>\n<td>Consent.patient</td>\n<td>Reference to Patient</td>\n</tr>\n<tr>\n<td>Consent.consentor</td>\n<td>Reference to Patient or their legal guardian</td>\n</tr>\n<tr>\n<td>Consent.organization</td>\n<td>Attorney's firm, who attested the document</td>\n</tr>\n<tr>\n<td>Consent.sourceAttachment</td>\n<td>If application has a copy of the original document uploaded</td>\n</tr>\n<tr>\n<td>Consent.sourceIdentifier</td>\n<td>If not above, but patient has a copy, document # from the original paper document</td>\n</tr>\n<tr>\n<td>Consent.sourceReference</td>\n<td>If not all above, reference to QuestionnaireResponse</td>\n</tr>\n<tr>\n<td>Consent.policy</td>\n<td><a href=\"http://hl7.org/fhir/ConsentPolicy/opt-in\" target=\"_blank\" title=\"http://hl7.org/fhir/ConsentPolicy/opt-in\">http://hl7.org/fhir/ConsentPolicy/opt-in</a></td>\n</tr>\n<tr>\n<td>Consent.except.type</td>\n<td>deny</td>\n</tr>\n<tr>\n<td>Consent.except.action</td>\n<td>For resuscitation (finding)    SCTID: 304252001</td>\n</tr>\n<tr>\n<td>Consent.except.code</td>\n<td>Not for resuscitation (finding)  SCTID: 304253006</td>\n</tr>\n</tbody>\n</table>",
        "id": 153846762,
        "sender_full_name": "Aleksandra Pavlyshina",
        "timestamp": 1473341780
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191329\">@Aleksandra Pavlyshina</span>  Nicely done. I would like to see this captured in a CP or ballot comment so that the CBCC committee is well informed.  Will you do that? My only adjustment is that the Consent.policy would need to be something else. The opt-in policy is a specific Privacy opt-in. That is my perspective. I am not sure I see a reason to have anything in Consent.policy for your use-case.</p>",
        "id": 153846765,
        "sender_full_name": "John Moehrke",
        "timestamp": 1473345248
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> Thanks. <br>\nI agree, however <code>Consent.policy</code> is 1..1 so I had to put something there, I put 'opt-in' meaning 'allow everything' but 'deny' the action 'For resuscitation (finding) SCTID: 304252001'. <br>\nI'm not sure about the <code>Consent.except.code</code> value: should it be <code>Not for resuscitation (finding) SCTID: 304253006</code>?<br>\nAlso I'm not sure about the <code>Consent.organization</code>(Organization that manages the consent) - is this the organization that owns the application where I'm capturing this information, or is this an attorney's firm, who attested this original document? <br>\nI'd love to share this mapping but don't know how. Please advise where to post it, and what is CP? </p>",
        "id": 153846780,
        "sender_full_name": "Aleksandra Pavlyshina",
        "timestamp": 1473362427
    },
    {
        "content": "<p>I can submit it as a comment on your behalf.  The open issues you bring up are important issues for the workgroup to fix. This is why I ask to get your use-case in front of the committee that owns the Resource.  So, coming out of STU3 ballot reconciliation this should be more clear.</p>",
        "id": 153846781,
        "sender_full_name": "John Moehrke",
        "timestamp": 1473362649
    },
    {
        "content": "<p>I made CP tracker item <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10610\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10610\">GF#10610</a></p>",
        "id": 153846783,
        "sender_full_name": "John Moehrke",
        "timestamp": 1473362918
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191329\">@Aleksandra Pavlyshina</span> - I recommend creating a profile that specifies exaclty how you plan to use the Consent resource for DNR (as far as I know you are the first person to apply consent for this purpose)  <br>\nI have some comments:<br>\n<strong>Consent.organization</strong> would be the organization/provider who will seeks the DNR and later uses is it. I don't think you will have an occasion to specify \"Dewey, Cheetham, and Howe, PLC\" . <br>\nJust to clarify:<br>\nIf  <strong>Consent.except.type ='deny' </strong> AND <strong>Consent.except.action ='For resuscitation (finding) SCTID: 304252001'</strong> --&gt; it means \"do <strong>not</strong> resuscitate\"<br>\nIf  <strong>Consent.except.type ='permit' </strong> AND <strong>Consent.except.action ='For resuscitation (finding) SCTID: 304252001'</strong> --&gt; <strong>allow</strong> resuscitation (this is the <strong>default</strong>, anyway)</p>\n<p>It may be useful to create some examples.</p>",
        "id": 153846804,
        "sender_full_name": "Ioana Singureanu",
        "timestamp": 1473368674
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191329\">@Aleksandra Pavlyshina</span> I would have thought that you don't need exceptions, instead the policy should be a URL that points to a description of the actual policy \"For resuscitation\" or to a description of the actual policy for \"do not resuscitate\". These policies should describe what is meant by \"for resuscitation\" and by \"do not resuscitate\" - what is allowed, what is not allowed (e.g. defibrillation). If the organization collecting it does not have defined clear policies for this, it could just point to a legal statute of their jurisdiction that explains it. If your client deals with multiple jurisdiction and does not want to include any specifics in the consent, you could define a URI and describe the meaning (e.g. simply \"DNR, where the details are defined by the applicable jurisdiction\"). </p>",
        "id": 153847188,
        "sender_full_name": "Tarik Idris",
        "timestamp": 1473759507
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191968\">@Ioana Singureanu</span> <span class=\"user-mention\" data-user-id=\"191586\">@Tarik Idris</span> Thank you very much for your feedback and clarifications.<br>\nI removed <code>Consent.except</code>, changed <code>Consent.organization</code>to 'Reference to Organization representing our care management application where the Consent resource is created', and changed <code>Consent.policy</code> to the fake URI <code>http://hl7.org/fhir/ConsentPolicy/not-for-resuscitation</code>. <br>\nAlso, since <code>Consent.category</code> is 0..*, does it make sense to add one more category value <code>Not for resuscitation (finding) SCTID: 304253006</code>?<br>\nI'm going to create a profile for the Consent resource for DNR later then.</p>\n<table>\n<thead>\n<tr>\n<th>FHIR Field</th>\n<th>Mapping</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Consent.status</td>\n<td>active</td>\n</tr>\n<tr>\n<td>Consent.category(1)</td>\n<td>advance-directive</td>\n</tr>\n<tr>\n<td>Consent.category(2)</td>\n<td>Not for resuscitation (finding) SCTID: 304253006</td>\n</tr>\n<tr>\n<td>Consent.dateTime</td>\n<td>Resource creation date/time</td>\n</tr>\n<tr>\n<td>Consent.period</td>\n<td>Effective dates from the original document</td>\n</tr>\n<tr>\n<td>Consent.patient</td>\n<td>Reference to Patient</td>\n</tr>\n<tr>\n<td>Consent.consentor</td>\n<td>Reference to Patient or their legal guardian</td>\n</tr>\n<tr>\n<td>Consent.organization</td>\n<td>Reference to Organization representing our care management application where the Consent resource is created</td>\n</tr>\n<tr>\n<td>Consent.sourceAttachment</td>\n<td>If application has a copy of the original document uploaded</td>\n</tr>\n<tr>\n<td>Consent.sourceIdentifier</td>\n<td>If not above, but patient has a copy, document # from the original paper document</td>\n</tr>\n<tr>\n<td>Consent.sourceReference</td>\n<td>If not all above, reference to QuestionnaireResponse</td>\n</tr>\n<tr>\n<td>Consent.policy</td>\n<td><a href=\"http://hl7.org/fhir/ConsentPolicy/not-for-resuscitation\" target=\"_blank\" title=\"http://hl7.org/fhir/ConsentPolicy/not-for-resuscitation\">http://hl7.org/fhir/ConsentPolicy/not-for-resuscitation</a></td>\n</tr>\n</tbody>\n</table>",
        "id": 153847195,
        "sender_full_name": "Aleksandra Pavlyshina",
        "timestamp": 1473774689
    }
]