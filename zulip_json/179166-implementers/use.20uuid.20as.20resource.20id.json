[
    {
        "content": "<p>when using uuid as resource id, should it be prefixed with 'urn:uuid'? I have seen both and wondering which is \"more\" correct.</p>\n<div class=\"codehilite\"><pre><span></span>patient.id = &#39;0a76c550-1434-41a1-92fd-65f8fc582a85&#39;\n</pre></div>\n\n\n<p>or</p>\n<div class=\"codehilite\"><pre><span></span>patient.id = &#39;urn:uuid:0a76c550-1434-41a1-92fd-65f8fc582a85&#39;\n</pre></div>",
        "id": 166579184,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1558883627
    },
    {
        "content": "<p>First.  I don't think colons are allowed in the id type</p>",
        "id": 166588146,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558897917
    },
    {
        "content": "<p>the id is its own type distinctly separated from the uuid type, and I believe the very reason for this separation is because the allowed characters within do not support the URI character set, as Lloyd mentioned.  the ID is used as the logical identifier in the REST urls (/patient/0a76c550-1434-41a1-92fd-65f8fc582a85), so again it would be strange to see the URI format here (e.g. /patient/urn:uuid:0a76c550-1434-41a1-92fd-65f8fc582a85)</p>",
        "id": 166588469,
        "sender_full_name": "Justin Hopper",
        "timestamp": 1558898367
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"223110\">@Justin Hopper</span> Yes, I agree that url looks strange. That's one reason I raised this thread<br>\n<span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Oh. I forgot about that. Looks like that system doesn't apply validation correctly.</p>",
        "id": 166589496,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1558900193
    },
    {
        "content": "<p>I have seen  /Patient/urn:uuid:0a76c550-1434-41a1-92fd-65f8fc582a85 style URLs in production use, HAPI supports it.</p>",
        "id": 166612533,
        "sender_full_name": "Ren√© Spronk",
        "timestamp": 1558939442
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> You shouldn't be allowing this...</p>",
        "id": 166635950,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558962777
    },
    {
        "content": "<p>Ugh, if it's outputting that, that's a bug.</p>\n<p>As context though: HAPI has a datatype called IdType (or IdDt in DSTU1/2) that represents the entire fully qualified ID and optionally the version. So it can hold <code>http://foo/Patient/123</code> or <code>urn:uuid:BLAH-BLA</code> or <code>#FOO</code> but in both of those cases it has the <code>getIdPart()</code> method to pull out the <code>123</code> or <code>BLAH-BLA</code>or <code>FOO</code> parts.</p>\n<p>Patrick Werner recently discovered some flakiness in how it deals with UUIDs, we have an open ticket about that...</p>",
        "id": 166637983,
        "sender_full_name": "James Agnew",
        "timestamp": 1558964418
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> It's also possible someone is using PUT to set the id to that.</p>",
        "id": 166638137,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558964580
    },
    {
        "content": "<p>Oh, and just to add: When an IdType holds <code>urn:uuid:BLAH-BLA</code> the intent is always that when the patient is serialized you would just see <code>\"id\":\"BLAH-BLA\"</code>. The urn: prefix only shows up in <code>Bundle.entry.fullUrl</code> when you need an ID that's scoped to the bundle (e.g. for transactions)</p>",
        "id": 166638188,
        "sender_full_name": "James Agnew",
        "timestamp": 1558964621
    },
    {
        "content": "<p>Now I'm curious if it will let me create such a monstrosity... :)</p>",
        "id": 166638277,
        "sender_full_name": "James Agnew",
        "timestamp": 1558964672
    },
    {
        "content": "<p>woohoo... well, at least we don't allow that:</p>\n<p><code>  &lt;issue&gt;\n    &lt;severity value=\"error\"/&gt;\n    &lt;code value=\"processing\"/&gt;\n    &lt;diagnostics value=\"Can not process entity with ID[urn:uuid:BLAH-BLA], this is not a valid FHIR ID\"/&gt;\n  &lt;/issue&gt;</code></p>",
        "id": 166638444,
        "sender_full_name": "James Agnew",
        "timestamp": 1558964780
    }
]