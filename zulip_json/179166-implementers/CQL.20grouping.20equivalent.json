[
    {
        "content": "<p>I want to express a query to find the claim provider with the most frequent visits for a member in CQL, not specific to FHIR.  This would be straightforward if CQL had a SQL GROUP BY.  It's unclear how I can accomplish this with aggregate.   Any Ideas?</p>",
        "id": 271152317,
        "sender_full_name": "Erik Smith",
        "timestamp": 1644337285
    },
    {
        "content": "<p>We didn't add a group by or having clause, but both of those are just short-hands. The long-hand for count of observations by category, for example, is:</p>\n<div class=\"codehilite\"><pre><span></span><code>define ObservationCountsByCategory:\n  [Observation] O\n    return {\n      category: O.category,\n      numberOfObservations: Count([Observation] InnerO where InnerO.category ~ O.category)\n    }\n</code></pre></div>",
        "id": 271159906,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1644340507
    },
    {
        "content": "<p>This is nice.  I was thinking that you would want the outer source O need to be distinct observations by category , or just a a distinct category list, for the counts to work, but maybe that is optional since the result of this query will be distinct?</p>",
        "id": 271178351,
        "sender_full_name": "Erik Smith",
        "timestamp": 1644348385
    },
    {
        "content": "<p>Right, the result will be distinct.</p>",
        "id": 271181438,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1644349874
    }
]