[
    {
        "content": "<p>When resolving absolute or relative reference, we must take into account the version of the resource as specified in meta.versionId of the resource being referenced.  Does the same logic apply to references to contained resources? I ask because the Fhir .net API appears to contain version logic in functions for resolving absolute references with version specified (BundleExtensions.FindEntry), but does not have any version specific logic for in functions for resolving contained resources (DomainResource.FindContainedResource).</p>",
        "id": 178488114,
        "sender_full_name": "Jeremy Chapman",
        "timestamp": 1571414724
    },
    {
        "content": "<p>Entries within Bundles and contained resources inside other resources are all expected to have the same FHIR version</p>",
        "id": 178502979,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1571426406
    },
    {
        "content": "<p>(Schema validation blows up otherwise)</p>",
        "id": 178502995,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1571426416
    },
    {
        "content": "<p>as do the reference implementations :)</p>",
        "id": 178503010,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1571426429
    },
    {
        "content": "<p>Typically in a bundled usage versions wouldn't come into it, but I guess could.<br>\nContained won't as they are referenced by the bookmark #id and there isn't a syntax for specifying version there. You'd just have another Id value.</p>",
        "id": 178512896,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1571434932
    },
    {
        "content": "<p>I'm confused, is this question about FHIR versions or resource _history versions?</p>",
        "id": 178526692,
        "sender_full_name": "Paul Church",
        "timestamp": 1571455983
    },
    {
        "content": "<p>Resource history versions I'm expecting.</p>",
        "id": 178527351,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1571457243
    },
    {
        "content": "<p>About resource history versions.  where you might have multiple resources in the bundle with the same id, but if the reference specifies a particular version (using the _history syntax in the reference) then you only resolve to the resource that has the matching meta.versionId.     I don't think this has anything to do with FHIR versions.  Can you have a version references when referencing contained resources?</p>",
        "id": 178680560,
        "sender_full_name": "Jeremy Chapman",
        "timestamp": 1571680591
    },
    {
        "content": "<p>Never mind.  I found the statement Contained resources SHALL NOT contain meta.versionId, meta.lastUpdated, or meta.security located on <a href=\"https://www.hl7.org/FHIR/references.html#contained\" target=\"_blank\" title=\"https://www.hl7.org/FHIR/references.html#contained\">https://www.hl7.org/FHIR/references.html#contained</a></p>",
        "id": 178703127,
        "sender_full_name": "Jeremy Chapman",
        "timestamp": 1571695399
    }
]