[
    {
        "content": "<p>I have some question about using LOINC answer lists as ValueSets (as documented in <a href=\"https://www.hl7.org/fhir/loinc.html#alist\" target=\"_blank\" title=\"https://www.hl7.org/fhir/loinc.html#alist\">https://www.hl7.org/fhir/loinc.html#alist</a>):</p>\n<p>1) It seems weird to be using bogus urls (i.e. urls that result in 404s from <a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">loinc.org</a>) as identifiers. If you weren't already aware of this convention, it would be pretty hard to figure out what was being referenced here.</p>\n<p>2) Some implementations seem to regard these urls as invalid. (For example <a href=\"http://fhirtest.uhn.ca/\" target=\"_blank\" title=\"http://fhirtest.uhn.ca/\">http://fhirtest.uhn.ca/</a> rejects these because it's expecting to see <code>ValueSet</code> in the url of a valid ValueSet)</p>",
        "id": 153864287,
        "sender_full_name": "Chris Wand",
        "timestamp": 1482246965
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191559\">@Chris Wand</span> Ooh interesting.. Don't suppose you have an example you are trying to validate that you could send my way? That sounds like a good unit test in the making.</p>",
        "id": 153864305,
        "sender_full_name": "James Agnew",
        "timestamp": 1482250821
    },
    {
        "content": "<p>A simple version of what I was trying to validate would be:</p>\n<div class=\"codehilite\"><pre>{\n  &quot;resourceType&quot;: &quot;Questionnaire&quot;,\n  &quot;url&quot;: &quot;http://some.example.url&quot;,\n  &quot;status&quot;: &quot;draft&quot;,\n  &quot;subjectType&quot;: [\n    &quot;Patient&quot;\n  ],\n  &quot;item&quot;: [\n    {\n      &quot;linkId&quot;: &quot;example-question&quot;,\n      &quot;text&quot;: &quot;Is the sky blue?&quot;,\n      &quot;type&quot;: &quot;choice&quot;,\n      &quot;options&quot;: {\n        &quot;reference&quot;: &quot;http://loinc.org/vs/LL3044-6&quot;\n      }\n    }\n  ]\n}\n</pre></div>",
        "id": 153864324,
        "sender_full_name": "Chris Wand",
        "timestamp": 1482257397
    },
    {
        "content": "<p>Also, <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> did you just change the behavior here? Looks like it's now adding information-level issues to the response, rather than failing validation. (Or it could be that I was just misreading the response page earlier and it was never failing validation)</p>",
        "id": 153864325,
        "sender_full_name": "Chris Wand",
        "timestamp": 1482257506
    },
    {
        "content": "<p>I updated the server to the latest validator yesterday, so yeah it's quite possible that behaviour has changed.</p>\n<p>That said, looking at your example I don't think that is valid. That particular field questionnaire is a FHIR <code>reference</code> so it is expected to be resolvable. On the other hand the URL you listed is a canonical URL so it can only be used in places where a valueset <code>uri</code> is allowed (not a valueset <code>reference</code>)</p>\n<p>Probably the only valid way to do what you're trying to do is to either find a resolvable URL which can be used to load that ValueSet, or create your own ValueSet and host it somewhere, then import the LOINC valueset into it.</p>\n<p>Happy to be corrected if someone else here knows better than I do, but I think that's the correct answer here.</p>",
        "id": 153864346,
        "sender_full_name": "James Agnew",
        "timestamp": 1482265112
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> in STU3, you're not right about canonical URLs anymore. They are allowed in references, though literal access most not resolve to a different resource than if you treated it as canonical </p>",
        "id": 153864350,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482265451
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191559\">@Chris Wand</span> LOINC are working on getting all these URLs supported, but it's work in progress.</p>",
        "id": 153864351,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482265495
    },
    {
        "content": "<p>ahh i didn't know that change had gone through.</p>\n<p>Time to update HAPI's validation code I guess.. :)</p>",
        "id": 153864356,
        "sender_full_name": "James Agnew",
        "timestamp": 1482265856
    }
]