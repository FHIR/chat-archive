[
    {
        "content": "<p>Hi !</p>\n<p>I'm quite new on FHIR databases and I'm trying to create a custom patient profile.<br>\nSo.. <br>\n1) I've created my own structureDefinition of my custom patient and uploaded it to the FHIR server.<br>\n2) In my custom patient, I add into meta.profile the canonical URL of the structureDefinition defined at step 1<br>\n3) I post this custom patient to this FHIR version.<br>\n4) Then I got this OperationOutCome :<br>\n\"issue\": [<br>\n    {<br>\n      \"severity\": \"warning\",<br>\n      \"code\": \"processing\",<br>\n      \"diagnostics\": \"StructureDefinition reference \\\"StructureDefinition/customPatient\\\" could not be resolved\",<br>\n      \"location\": [<br>\n        \"Patient.meta.profile[0]\"<br>\n      ]<br>\n    }<br>\nI've tried to inject : <br>\n1) the full canonical URL of the profile<br>\n2) the relative canonical URL of the profile</p>\n<p>But I still got the same error message..</p>\n<p>FHIR web server : HAPI </p>\n<p>Any ideas ? </p>\n<p>Thanks =)</p>",
        "id": 175532187,
        "sender_full_name": "Thomas",
        "timestamp": 1568297124
    },
    {
        "content": "<p>If you're using a canonical URL, the URL always has to be absolute - it can't be a relative URL.</p>",
        "id": 175532873,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1568297622
    },
    {
        "content": "<p>Hi Lloyd and thanks for your answer,</p>\n<p>I've tried to use the full canonical URL of my StructureDefinition but I still got the same error.</p>\n<p>If I understand correctly, the canonical URL is just unique identifier and can be whatever we want :<br>\nExample : <a href=\"http://fakeUrl/fhir/StructureDefinition/customPatient\" target=\"_blank\" title=\"http://fakeUrl/fhir/StructureDefinition/customPatient\">http://fakeUrl/fhir/StructureDefinition/customPatient</a></p>\n<p>I'm wondering how HAPI FHIR resolve theses profile references..</p>\n<p>Regards</p>",
        "id": 175533566,
        "sender_full_name": "Thomas",
        "timestamp": 1568298092
    },
    {
        "content": "<p>sounds like a question for the <a class=\"stream\" data-stream-id=\"179167\" href=\"/#narrow/stream/179167-hapi\">#hapi</a>  stream</p>",
        "id": 175533658,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1568298140
    },
    {
        "content": "<blockquote>\n<p>sounds like a question for the <a class=\"stream\" data-stream-id=\"179167\" href=\"/#narrow/stream/179167-hapi\">#hapi</a>  stream</p>\n</blockquote>\n<p>Thanks, Ill move it there.</p>",
        "id": 175533965,
        "sender_full_name": "Thomas",
        "timestamp": 1568298336
    }
]