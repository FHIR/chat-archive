[
    {
        "content": "<p>We need to express a quantity qualifier such as \"ad 100 ml\" - meaning \"up to 100 ml\" .<br>\nin this case, \"up to\" is not an interval for free choice. It means precisely: \"enough quantity so that the total volume is 100 ml<br>\nHas anyone encountered this?</p>",
        "id": 223219601,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611059731
    },
    {
        "content": "<p>&lt;=?</p>",
        "id": 223224986,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1611062759
    },
    {
        "content": "<p>OR</p>",
        "id": 223225368,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1611062919
    },
    {
        "content": "<p>Add water/liquid to get a total vol of 100 ml?</p>",
        "id": 223226067,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1611063312
    },
    {
        "content": "<p>the idea is \"add ingredient X to get a total volume of 100 ml\".</p>",
        "id": 223231134,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611065616
    },
    {
        "content": "<p>So &lt;= doesn't work</p>",
        "id": 223231153,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611065629
    },
    {
        "content": "<p>this is normal in pharmacy / magistral preparations, but I don't see it in FHIR. the group I was discussing with today added an extension</p>",
        "id": 223231305,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611065676
    },
    {
        "content": "<p>Is this the same as or similar to \"sufficient quantity? <br>\n<span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span>  <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> <br>\nCould this be related to this? <a href=\"#narrow/stream/179166-implementers/topic/Quantity.20Comparators.20for.20.22Approximately.22\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Quantity.20Comparators.20for.20.22Approximately.22</a><br>\nWould a standard extension be helpful? <br>\nOther possibly related concepts: \"[quantity is ] equivalent to\", \"approximately equal to\"</p>",
        "id": 223236053,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1611067690
    },
    {
        "content": "<p>this is not \"approximately\". <br>\nYes, I'd like a standard extension because it seems common speech (not sure if is exchanged often, but then again, magistral formulas are not often exchanged)</p>",
        "id": 223236669,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611067971
    },
    {
        "content": "<p>seems that a modifier extension is not possible - that is what I read from Lloyd's comments in the other stream. Which would be a shame</p>",
        "id": 223236738,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611068007
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span> have you used magistral formulas in Canada? If so, how do you transmit the \"ad\" in <br>\n\"rem constituens: ad 100 ml\"</p>",
        "id": 223236907,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611068086
    },
    {
        "content": "<p>It could be in the same extension, right?</p>",
        "id": 223242395,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1611069996
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> , no it's not \"approximately\", but that is a similar concept that I think may be needed in the same place. <br>\n<span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span> yes I think so, for all of these comparators. <br>\n\"sufficient quantity\" is not only used in magistrals but also in some commercially available product definitions.</p>",
        "id": 223242878,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1611070190
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> <span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span> Has Pharmacy handled this?</p>",
        "id": 223243187,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1611070285
    },
    {
        "content": "<p>In v3, it would have been a null flavor of QS ('Sufficient Quantity')</p>",
        "id": 223243238,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1611070307
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191651\">Rik Smithies</span> <a href=\"#narrow/stream/179166-implementers/topic/Quantity.20qualifier/near/223242878\">said</a>:</p>\n<blockquote>\n<p>\"sufficient quantity\" is not only used in magistrals but also in some commercially available product definitions.</p>\n</blockquote>\n<p>That's the one. It's a common thing also there indeed</p>",
        "id": 223246621,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611071671
    },
    {
        "content": "<p>I don't think we have a way to handle this.  <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  I think you should add a new Jira Issue.</p>",
        "id": 223248053,
        "sender_full_name": "Melva Peters",
        "timestamp": 1611072299
    },
    {
        "content": "<p>We explicitly added the capability for this.  Medication.ingredient.strength[x] has a strengthCodeableConcept to handle this.  Our example value set has QS (as much as sufficient) and Trace (very small amount).</p>",
        "id": 223261090,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1611077340
    },
    {
        "content": "<p>we also changed strength from being just a Ratio to being a choice of Ratio, Quantity, or CodeableConcept.</p>",
        "id": 223261247,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1611077400
    },
    {
        "content": "<p>That's good for QS, which answers this thread it seems. That approach should be put into Ingredient resource also. But we would need a different solution for the other thread \"approximately equal\".</p>",
        "id": 223265063,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1611078752
    },
    {
        "content": "<p>Thanks Jean, I had forgotten that! <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 223305953,
        "sender_full_name": "Melva Peters",
        "timestamp": 1611095349
    },
    {
        "content": "<p>Maybe need two ext elements to capture the addition and the resulting volume.</p>",
        "id": 223318427,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1611104101
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> <a href=\"#narrow/stream/179166-implementers/topic/Quantity.20qualifier/near/223261090\">said</a>:</p>\n<blockquote>\n<p>We explicitly added the capability for this.  Medication.ingredient.strength[x] has a strengthCodeableConcept to handle this.  Our example value set has QS (as much as sufficient) and Trace (very small amount).</p>\n</blockquote>\n<p>How does that work? I need to express \"qs 100 ml\" - the CodeableConcept needs to prefix the quantity, not replace it</p>",
        "id": 223348967,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611134919
    },
    {
        "content": "<p>I don't see how it covers the case I mentioned</p>",
        "id": 223349077,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611134990
    },
    {
        "content": "<p>Would the medication.amount be 100 ml and strengh \"qs\"?</p>",
        "id": 223349381,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611135171
    },
    {
        "content": "<p>Technically that could work, but that is not my reading of how systems work. in a SPC or formula, the description is not (i think)</p>\n<div class=\"codehilite\"><pre><span></span><code>Quantity: 100 ml\ndrug A : 5 ml\ndrug B: 1 g\nexcipient: as much as needed\n</code></pre></div>\n<div class=\"codehilite\"><pre><span></span><code>Quantity: 100 ml\ndrug A : 5 ml\ndrug B: 1 g\nexcipient: as much as needed for 100 ml\n</code></pre></div>",
        "id": 223349719,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611135392
    },
    {
        "content": "<p>this is a simple example, I'm not sure there are implications, e.g. </p>\n<div class=\"codehilite\"><pre><span></span><code>drug A : 5 ml\ndrug B: 1 g\nsweetener: as much as needed\nexcipient: as much as needed to 100 ml\n</code></pre></div>",
        "id": 223349811,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611135470
    },
    {
        "content": "<p>seems \"sufficient quantity\" is not the same as \"sufficient quantity to\"</p>",
        "id": 223350003,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611135593
    },
    {
        "content": "<p>I don't know pharma latin, but I checked in a few other languages, and all of them are like \"qs<strong>p</strong>\" \"qb<strong>p</strong>\" \"cb<strong>p</strong>\"  -  meaning \"the quantity sufficient <strong>to</strong>\".</p>",
        "id": 223350196,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611135707
    },
    {
        "content": "<p>...right?</p>",
        "id": 223435348,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611176715
    },
    {
        "content": "<p>I have only see the use case for when there is no quantity specific to the \"as much as needed\" - the one in your \"sweetener\" example (#3). There is only an overall total, or sometimes there is no total, just strengths (per unit volume or whatever), and a QS. That is what I had assumed that you were meaning. Sufficient quantity seems to naturally take no value in itself, so maybe yours is not that. Where are you finding this example?</p>",
        "id": 223438104,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1611178080
    },
    {
        "content": "<p><a href=\"https://sante.public.lu/rcp/510.pdf\">https://sante.public.lu/rcp/510.pdf</a></p>",
        "id": 223536403,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611247669
    },
    {
        "content": "<p><a href=\"https://ec.europa.eu/health/documents/community-register/2005/200505199250/anx_9250_fr.pdf\">https://ec.europa.eu/health/documents/community-register/2005/200505199250/anx_9250_fr.pdf</a></p>",
        "id": 223536549,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611247714
    },
    {
        "content": "<p><a href=\"https://ec.europa.eu/health/documents/community-register/2005/200505199250/anx_9250_fr.pdf\">https://ec.europa.eu/health/documents/community-register/2005/200505199250/anx_9250_fr.pdf</a></p>",
        "id": 223536558,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611247718
    },
    {
        "content": "<p><a href=\"http://base-donnees-publique.medicaments.gouv.fr/affichageDoc.php?specid=60307242&amp;typedoc=R\">http://base-donnees-publique.medicaments.gouv.fr/affichageDoc.php?specid=60307242&amp;typedoc=R</a></p>",
        "id": 223536609,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611247738
    },
    {
        "content": "<p>(just a few random examples)</p>",
        "id": 223536628,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611247746
    },
    {
        "content": "<p>the \"sufficient quantity \" comes with \" for 1ml\"</p>",
        "id": 223536703,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611247790
    },
    {
        "content": "<p>A bottle has 5 ml, but the formulation is : \"X units... + sufficient quantity for 1 ml\" - if I omit that,  this would be \"sufficient quantity for 5 ml??\"</p>",
        "id": 223536926,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611247897
    },
    {
        "content": "<p>It would help to know what current software actually currently does. If the real world has requirements that are not yet mapped to systems that implement it, then it is hard to know how (or if) FHIR should deal with this.</p>\n<p>But anyway the data representation doesn't necessarily need to mimic the human language, not least because it is always possible to use text as well, or instead of, the computable. The Ingredient resource specifically has Strength.ConcentrationText for that sort of thing, because we know that not all strengths are computable.</p>\n<p>Are the other strengths expressed in per 1ml? I can't really read those well enough I'm afraid. I suppose sufficient quantity of a concentration strength (per unit) would work in the units of the other strengths. We normally say \"sufficient quantity\" with no units. That must have some meaning, so there must be a way to know \"how much to make it up to\". I don't know this area enough to know if the \"to an amount\" is needed for the meaning or just some redundant text.</p>",
        "id": 223550039,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1611253476
    },
    {
        "content": "<p>the second example comes from EMA, I think. <br>\nAnd in Belgium, the requirement is as I mentioned  - we currently need an extension on quantity</p>",
        "id": 223553448,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611254978
    },
    {
        "content": "<p>the examples I got (sorry, it is just much easier to look using the french keyword) are like \"sufficient quantity to 1 ml\" and then \"this comes in a 5 ml bottle\"</p>",
        "id": 223553603,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611255047
    },
    {
        "content": "<p>most commonly the examples are \"ingredients per 1 ml\": .. and there we have the sufficient quantity (which in this case is redundant, but it is still there explicitly)</p>",
        "id": 223553714,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611255109
    },
    {
        "content": "<p>The formulation is kind-of similar to a concentration/(preparation instruction) such as 7 units/ml, but the volume the patient needs is the sufficient quantity such as 5ml.  Am I correct?</p>",
        "id": 223642778,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1611323277
    },
    {
        "content": "<p>In my example, these are both quantities of the product, without referring to any specific patient</p>",
        "id": 223789561,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611452932
    },
    {
        "content": "<p>That's possible</p>",
        "id": 223791095,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1611455505
    },
    {
        "content": "<p>so, can anything  be done here? should I submit a CR?</p>",
        "id": 224151020,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1611735451
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span></p>",
        "id": 224196332,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1611760894
    },
    {
        "content": "<p>it appears that what can currently be done doesn't satisfy your use cases, so yes a Jira issue seems your next course of action</p>",
        "id": 224197910,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1611761495
    },
    {
        "content": "<p>Incidentally, today a pharmacist sent this example as a common requirement for magistral preparations:</p>\n<div class=\"codehilite\"><pre><span></span><code>Ranitidine.HCL                  1.675g\nMononatriumfosfaat dihydraat            0.3g\nDinatriumfosfaat dihydraat          1.3g\n&lt;Water&gt;                         30g\n&lt;Orange flavour&gt;        qs\n&lt;Simple preserve syrup&gt;     ad  100ml\ndt 300 ml\n</code></pre></div>",
        "id": 224944172,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612303637
    },
    {
        "content": "<p>Half translated but shows the idea: </p>\n<ul>\n<li>Orange flavour - sufficient quantity </li>\n<li>Preserve syrup - sufficient quantity to make 100 ml<br>\ntotal dose quantity is 300 ml</li>\n</ul>",
        "id": 224944348,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612303747
    },
    {
        "content": "<p>I was personally less familiar with \"qs\" than \"ad\" - every other medication product has \"ad\" as a quantity modifier, and this is common in several countries.</p>",
        "id": 224944416,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612303799
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> did you raise a JIRA issue?  I'm working on the MnM agenda and don't see an issue about this there.</p>",
        "id": 224944556,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612303875
    },
    {
        "content": "<p>I don't think this can be addressed with strength[x], so my idea would be to add a standard extension (or something core) to quantity.</p>",
        "id": 224944568,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612303881
    },
    {
        "content": "<p>I'm creating the issue, I just need to see which part of the specification this goes to. Hence this quick check here</p>",
        "id": 224944696,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612303935
    },
    {
        "content": "<p>you want advice on Quantity which is a datatype, so it would go to MnM (assuming that is what you are asking).</p>",
        "id": 224944787,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612303998
    },
    {
        "content": "<p>I think so (unless people think this would be for pharma which would be imply a bigger change, I think)</p>",
        "id": 224944931,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612304058
    },
    {
        "content": "<p>data types are managed by FHIR-I</p>",
        "id": 224944958,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612304082
    },
    {
        "content": "<p>I thought you were asking a methodology question, but if not, then you are right that FHIR-I is the right place.</p>",
        "id": 224945206,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612304173
    },
    {
        "content": "<p><a href=\"http://jira.hl7.org/browse/FHIR-30879\">J#30879</a></p>",
        "id": 224948327,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612305950
    },
    {
        "content": "<p>Achievement unlocked: include the word \"romance\" in a Jira ticket.</p>",
        "id": 224948337,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612305954
    },
    {
        "content": "<p>And only a little before Valentine's Day... :)</p>",
        "id": 224980163,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1612335353
    }
]