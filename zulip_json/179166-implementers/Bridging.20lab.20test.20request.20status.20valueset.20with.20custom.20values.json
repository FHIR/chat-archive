[
    {
        "content": "<p>Hi, we are building a lab implementation with R4. The current lab solution uses v2 based values plus some custom values for test request status. When we try to map it to ServiceRequestStatus valueset, there are some gaps because the meanings are not well aligned. There is better alignment with DiagnosticReportStatus valueset, so we are thinking about creating an extension in ServiceRequest and use DiagnosticReportStatus values in it. We will create a mapping to map the solution values to DiagnosticReportStatus values. Is this a good design to solve our problem? Any suggestion is appreciated!!</p>",
        "id": 263354585,
        "sender_full_name": "frank cao",
        "timestamp": 1638391271
    },
    {
        "content": "<p>what are the values?</p>",
        "id": 263371830,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638400773
    },
    {
        "content": "<p>These are the values used by the current solution for test request status:<br>\nA - Some, but not all, results available<br>\nC - Correction to results<br>\nE - Expired. Solution has expired the test request because no activity has occurred within a reasonable amount of time.<br>\nF- Final results; results stored and verified. Can only be changed with a corrected result.<br>\nI - No results available; specimen received, procedure incomplete. Use this code to indicate that a specimen has been collected.<br>\nO - Order received; specimen not yet received.<br>\nP - Preliminary: A verified early result is available, final results not yet obtained.<br>\nX - No results available; Order cancelled.</p>",
        "id": 263445836,
        "sender_full_name": "frank cao",
        "timestamp": 1638455837
    },
    {
        "content": "<p>A = preliminary or final?<br>\nC = corrected<br>\nE = cancelled<br>\nF = final<br>\nI = cancelled<br>\nO = registered<br>\nP = preliminary<br>\nX = cancelled</p>\n<p>Having an extension to capture cancelation reason.  Wasn't clear on whether A indicated that the Observation was 'complete' but didn't necessarily cover everything or was still in progress.  If the former, then it'd be final (and you'd have member Observations that were 'cancelled' to indicate what wasn't done).</p>",
        "id": 263472747,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638466233
    },
    {
        "content": "<p>Lloyd, based on your suggestion, are you saying that using an extension with reportStatus values is okay? The request status value in FHIR are \"draft | active | on-hold | revoked | completed | entered-in-error | unknown\". Since ServiceRequest status is mandatory, we want to use \"unknown\" and then ask implementer to use the value in the extension, is this reasonable?<br>\nWe may not be able to support cancellation reason because we do not capture it in the solution.</p>",
        "id": 263482366,
        "sender_full_name": "frank cao",
        "timestamp": 1638470460
    },
    {
        "content": "<p>The statuses you're reflecting are statuses of results, not requests.  The request is either 'active' or 'complete'.  Details about what's happened with respect to fulfillment are not captured on the request.  If you're tracking a specific fulfillment request, that can be done by Task, but even there, you've just got 'accepted', 'in-progress', 'complete' or 'failed'.  Anything else could be conveyed in businessStatus.</p>\n<p>If you're capturing 'expired' vs. 'no results' vs. 'order cancelled', then you're capturing 'reason' - you're just doing it as part of the status code.</p>",
        "id": 263496678,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638477130
    },
    {
        "content": "<p>In a Microbiology Result for example  the  Procedure Request would be for a Culture and Sensitivity ....  Observations (results) would be posted against it - like a microscopic gram stain...like a colony count... like a organism ID, like sensitivity results - The status of the request depends on whether there are any results, whether there are some results (prelim or partial) -or whether all the results have been posted (final). - so really, in the labs  we do need a status at the test request (procedure request)  level to reflect whether the test is prelim, partial, interim, final, corrected, ammended, cancelled....and the Procedure Request Status required value sets (draft | active | on-hold | revoked | completed | entered-in-error | unknown\") are just not semantically the same...which is why we want to use the FHIR Diagnostic Report Status values to status the Procedure Request.<br>\nWe would also use the same values to status the Diagnostic Report (ie You could have ordered (Procedure Request) a PCR, Viral  Culture, Bacterial Culture and Sensitivity on the same Requisition (Diagnostic Reqport ) - The Status of the Diagnostic report is determined by the statuses of the  tests requested   (procedure request) ....   Hope that makes sense...</p>",
        "id": 263656434,
        "sender_full_name": "Rita Pyle",
        "timestamp": 1638567511
    },
    {
        "content": "<p>Typically you'd have a DiagnosticReport or Observation representing the overall panel that corresponds to the ServiceRequest.  That would reflect the overall status of the test.  The status of the ServiceRequest itself doesn't change.</p>",
        "id": 263666982,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638574223
    },
    {
        "content": "<p>The lab report in our solution is the primary entity so we want to map it to DiagnosticReport. If we map each OBR to a DiagnosticReport and we search multiple reports, implementers need to do more work to produce the report. I wonder if FHIR lab working group has any documented guidance on how to consistenly mapping lab information.</p>",
        "id": 263925439,
        "sender_full_name": "frank cao",
        "timestamp": 1638825230
    },
    {
        "content": "<p>Then Observation is probably best level - as a panel Observation.  You can certainly ask on the <a class=\"stream\" data-stream-id=\"179256\" href=\"/#narrow/stream/179256-Orders-and-Observation-WG\">#Orders and Observation WG</a> stream (include a reference to this discussion when you post there)</p>",
        "id": 263953805,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638846824
    },
    {
        "content": "<p>Thanks Lloyd. This is very helpful!</p>",
        "id": 264161535,
        "sender_full_name": "frank cao",
        "timestamp": 1638973334
    }
]