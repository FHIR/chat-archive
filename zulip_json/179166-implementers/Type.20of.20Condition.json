[
    {
        "content": "<p>Hey all,</p>\n<p>just a quick question. Whats the best way to differentiate between main diagnosis and secondary diagnoses in a condition resource? I am currently mapping real anonymized patient data to FHIR resources and could not find this particular differentiation in the specification.  Thanks in advance!</p>",
        "id": 166259079,
        "sender_full_name": "Christian Kamann",
        "timestamp": 1558524724
    },
    {
        "content": "<p>The notion of \"main\" vs. \"secondary\" is contextual and thus lives outside of Condition.  (The same Condition might be the 'primary' diagnosis for one encounter or claim and 'secondary' for another.)  Ordering is thus handled in the relationship from Encounter, Claim or some other contextual resource to the Condition.</p>",
        "id": 166273373,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558535674
    },
    {
        "content": "<p>In R4,  you can use EpisodeOfCare.diagnosis. So EpisodeOfCare.diagnosis.condition references to Condition resource and EpisodeOfCare.diangosis.rank assigns priority (in you case, you can set rank = 1 for main, rank = 2 for secondary)</p>",
        "id": 166274549,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1558536302
    },
    {
        "content": "<blockquote>\n<p>The same Condition might be the 'primary' diagnosis for one encounter or claim and 'secondary' for another.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  this does not make sense since a condition is bound to 0..1 encounter. The rank should be a <strong>condition</strong> element</p>",
        "id": 169898408,
        "sender_full_name": "natus",
        "timestamp": 1562614826
    },
    {
        "content": "<p>That's the encounter that defined the Condition.  Numerous encounters can point to the same Condition as an admitting or discharge diagnosis.</p>",
        "id": 169904742,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1562619842
    },
    {
        "content": "<p>this is suprizing to store  condition/procedure and related information within the encounter.diagnosis. As a result, the encounter resource is quite fat and the implementation of something efficient challenging.  This does not reflect how things works in france: conditions are independant and repeated over time and encounters (ICD10)</p>",
        "id": 170437723,
        "sender_full_name": "natus",
        "timestamp": 1562664854
    },
    {
        "content": "<p>the same diagnostic can be repeated/kept over encounters, but this is a code, so we are just indicating it, not defining it. so i don't see why this makes Encounter fat.</p>",
        "id": 170442095,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562669155
    },
    {
        "content": "<p>With procedure, i don't see the issue. Why is that also making Encounter fat? in the odd cases that you have one encounter derived from many procedures, this would be a couple of references but otherwise the Encounter contains at most one procedure.</p>",
        "id": 170442232,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562669273
    },
    {
        "content": "<p>Perhaps I am missing something. Are you intending to include in the Encounter resource instance the procedures performed during that encounter? That would be fat, but not a good implementation.</p>",
        "id": 170442937,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562669951
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"213944\">@Nicolas Paris</span> ?</p>",
        "id": 170442944,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562669964
    },
    {
        "content": "<blockquote>\n<p>Are you intending to include in the Encounter resource instance the procedures performed during that encounter? That would be fat, but not a good implementation.</p>\n</blockquote>\n<p>This is what the spec ask for. Since the rank information is only there. If I do not want to lose the rank information, I have to</p>",
        "id": 170443042,
        "sender_full_name": "natus",
        "timestamp": 1562670068
    },
    {
        "content": "<p>The Procedure and encounter have references to each other, and these should be to different procedures; one for the procedure that was performed during the encounter (stored in Procedure.encounter), and another for cases where an encounter is a result of another procedure (stored in Encounter.indication) such as a follow-up encounter to resolve complications from an earlier procedure.</p>",
        "id": 170443077,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670100
    },
    {
        "content": "<p>This means: if you are in a hospital with a broken leg, and have an xRay and a wound care under a procedure, they are not in encounter.condition.</p>",
        "id": 170443166,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670153
    },
    {
        "content": "<p>you have encounter 1, possibly encounter.condition not pointing to a procedure. Possibly encounter.condition can say \"broken leg\"</p>",
        "id": 170443185,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670179
    },
    {
        "content": "<p>and then you have procedure1 and procedure2, both with procedure.encounter pointing at encounter1</p>",
        "id": 170443200,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670210
    },
    {
        "content": "<p>this may be  how care works in the US. This is not applicable for France.</p>",
        "id": 170443338,
        "sender_full_name": "natus",
        "timestamp": 1562670333
    },
    {
        "content": "<p>a condition is not shared, and each condition has a rank</p>",
        "id": 170443347,
        "sender_full_name": "natus",
        "timestamp": 1562670358
    },
    {
        "content": "<p>Primary Condition, Secondary Condition and so on</p>",
        "id": 170443404,
        "sender_full_name": "natus",
        "timestamp": 1562670394
    },
    {
        "content": "<blockquote>\n<p>this may be  how care works in the US. This is not applicable for France.</p>\n</blockquote>\n<p>I am far from basing this on how US healthcare works :)</p>",
        "id": 170443412,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670407
    },
    {
        "content": "<p>Right now the only way to do this information is to build a fat encounter. What about using the category ?</p>",
        "id": 170443437,
        "sender_full_name": "natus",
        "timestamp": 1562670443
    },
    {
        "content": "<p>encounter-diagnosis, encounter-primary-diagnosis, encounter-secondary-diagnosis for the condition.category ?</p>",
        "id": 170443448,
        "sender_full_name": "natus",
        "timestamp": 1562670476
    },
    {
        "content": "<p>This is how the spec defines the links, and also works for Europe. Encounter.condition is when the procedure is the reason for the encounter, not the outcome of the encounter.</p>",
        "id": 170443502,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670530
    },
    {
        "content": "<p>ok, so what about extending the category to store the information ?</p>",
        "id": 170443518,
        "sender_full_name": "natus",
        "timestamp": 1562670557
    },
    {
        "content": "<p>Can you give an example of what you want to exchange?</p>",
        "id": 170443537,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670592
    },
    {
        "content": "<p>well during the encounter, several icd10 condition code have been associated, and there is one primary, 2 associated and some other tagged condition.</p>",
        "id": 170443613,
        "sender_full_name": "natus",
        "timestamp": 1562670664
    },
    {
        "content": "<p>maybe a condition extention for french makes sense for this specific <br>\nuse case</p>",
        "id": 170443630,
        "sender_full_name": "natus",
        "timestamp": 1562670701
    },
    {
        "content": "<p>are those conditions the reason for the encounter, or are they found during the encounter?</p>",
        "id": 170443636,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670714
    },
    {
        "content": "<p>they are found during</p>",
        "id": 170443681,
        "sender_full_name": "natus",
        "timestamp": 1562670728
    },
    {
        "content": "<p>then that is an outcome. Observation</p>",
        "id": 170443683,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670745
    },
    {
        "content": "<p>observation ?</p>",
        "id": 170443691,
        "sender_full_name": "natus",
        "timestamp": 1562670764
    },
    {
        "content": "<p>the same would apply for outcome procedure?</p>",
        "id": 170443704,
        "sender_full_name": "natus",
        "timestamp": 1562670797
    },
    {
        "content": "<p>bien sur :)</p>",
        "id": 170443752,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670863
    },
    {
        "content": "<p>icd9 condition in the US are shared thought observation ?</p>",
        "id": 170443767,
        "sender_full_name": "natus",
        "timestamp": 1562670899
    },
    {
        "content": "<p>this is the generic guidance - resources  that represent findings are created and linked to the existing resources, we don't update resources with \"oh and by the way we also found this\". But in Encounter, the definition is not clear - let another European chime in <span class=\"user-mention\" data-user-id=\"191375\">@Alexander Henket</span> ? should we clarify that encounter.condition is not intended to contain the conditions or procedures that may be found /performed during an encounter?</p>",
        "id": 170443782,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562670942
    },
    {
        "content": "<p>I would prefer to store the condition into the condition resource, and the procedure into the procedure resource than into the observation.</p>",
        "id": 170443864,
        "sender_full_name": "natus",
        "timestamp": 1562671013
    },
    {
        "content": "<p>this is extremely counter intuitive</p>",
        "id": 170443877,
        "sender_full_name": "natus",
        "timestamp": 1562671034
    },
    {
        "content": "<p>sorry, you are correct</p>",
        "id": 170443888,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562671049
    },
    {
        "content": "<p>condition, not observation</p>",
        "id": 170443891,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562671058
    },
    {
        "content": "<p>procedure is procedure</p>",
        "id": 170443899,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562671071
    },
    {
        "content": "<p>observation is if you need to make some tests and then from which you say \"this means the patient has TB\". but if you just say \"patient has TB\", this is condition</p>",
        "id": 170443964,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562671105
    },
    {
        "content": "<p>Ok. So I have 2 options to store the primary/secondary details of the condition:<br>\n1. use the condition.category<br>\n2. add a dedicated french extension</p>",
        "id": 170443994,
        "sender_full_name": "natus",
        "timestamp": 1562671162
    },
    {
        "content": "<p>Let's see what others say. The point was that we do not accumulate findings on the Encounter</p>",
        "id": 170444002,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562671173
    },
    {
        "content": "<p>ok let s see</p>",
        "id": 170444012,
        "sender_full_name": "natus",
        "timestamp": 1562671197
    },
    {
        "content": "<p>doesn't Rank suffice to say \"this is primary, this is secondary\"?</p>",
        "id": 170444054,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562671205
    },
    {
        "content": "<p>perhaps you would need an extension, but from this not on encounter (that was my point) but rather on condition</p>",
        "id": 170444098,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562671267
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> I've not yet thought about that, but after a brief look in the resource and without having read everything here, my first thought is \"Gosh, what's the different between Encounter.reasonReference(Condition) and Encounter.diagnosis.condition\"? Both read something like </p>\n<p><em>Reason the encounter takes place,</em></p>\n<p>If anything, that would be up in my list for clarification</p>",
        "id": 170444226,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1562671424
    },
    {
        "content": "<p>agree, did not see that. in this chat we were clarifying (please check) that encounter.diagnosis is NOT for the diagnoses found during the encounter. Those would be other resource instances.</p>",
        "id": 170444361,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562671566
    },
    {
        "content": "<p>btw, descriptions of those elements (also encounter.condition.rank) could be improved...</p>",
        "id": 170444414,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562671660
    },
    {
        "content": "<blockquote>\n<p>Jose Costa Teixeira: doesn't Rank suffice to say \"this is primary, this is secondary\"?<br>\nJose Costa Teixeira: perhaps you would need an extension, but from this not on encounter (that was my point) but rather on condition</p>\n</blockquote>\n<p>True. rank would be sufficient. However rank is an Encounter element.</p>",
        "id": 170446660,
        "sender_full_name": "natus",
        "timestamp": 1562673799
    },
    {
        "content": "<p>The definition for Encounter.diagnosis.condition is more precise/clear than the shortname which looks misleading to me.</p>\n<p>shortname: <em>The diagnosis or procedure relevant to the encounter</em></p>\n<p>definition: <em>Reason the encounter takes place, as specified using information from another resource. For admissions, this is the admission diagnosis. The indication will typically be a Condition (with other resources referenced in the evidence.detail), or a Procedure.</em></p>",
        "id": 170450135,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1562677001
    },
    {
        "content": "<p>So in short: I share your analysis that Encounter.diagnosis is <strong>not</strong> a diagnosis found <em>during</em> an Encounter, but something that <em>led up to</em> the Encounter.</p>",
        "id": 170450256,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1562677103
    },
    {
        "content": "<p>A task to clarify Encounter.reasonReference versus Encounter.diagnosis and a task to clarify the Encounter.diagnosis.condition shortname versus its definition would probably be a good thing</p>",
        "id": 170450408,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1562677238
    },
    {
        "content": "<p>Finally: I don't think I understand why a diagnosis and/or a condition element should be able to point to a Procedure. You would think that this makes more sense:</p>\n<p><del>Encounter.reasonReference reference(...)</del></p>\n<div class=\"codehilite\"><pre><span></span>Encounter.reason 0..*     The list of reasons leading up to this encounter\n  .reasonReference        Reason the encounter takes place (reference)\n      Reference(Condition | Procedure | Observation | ImmunizationRecommendation)\n  .use\n  .rank\n</pre></div>",
        "id": 170451082,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1562677691
    },
    {
        "content": "<p>Or even more bold, move Encounter.reasonCode too</p>\n<p><del>Encounter.reasonCode CodeableConcept</del><br>\n<del>Encounter.reasonReference reference(...)</del></p>\n<div class=\"codehilite\"><pre><span></span>Encounter.reason 0..*     The list of reasons leading up to this encounter\n  .reasonCode             Reason the encounter takes place (codeableconcept)\n  .reasonReference        Reason the encounter takes place (reference)\n      Reference(Condition | Procedure | Observation | ImmunizationRecommendation)\n  .use\n  .rank\n</pre></div>",
        "id": 170451525,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1562677989
    },
    {
        "content": "<blockquote>\n<p>A task to clarify Encounter.reasonReference versus Encounter.diagnosis and a task to clarify the Encounter.diagnosis.condition shortname versus its definition would probably be a good thing</p>\n</blockquote>\n<p>Can I do the honors?</p>",
        "id": 170460604,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562684145
    },
    {
        "content": "<p>I don't get the \"Finally\" part- are you saying that condition can be subsumed under reason?</p>",
        "id": 170460809,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562684263
    },
    {
        "content": "<p>That does not seem bad in itself, I wonder if there was a reason for making that separation explicit. <br>\nI know there is a big difference between \"they come because they had a surgery that went wrong\" and \"they come because they are anxious which is because of the surgery that went wrong\".</p>",
        "id": 170461048,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1562684387
    },
    {
        "content": "<blockquote>\n<p>Can I do the honors?</p>\n</blockquote>\n<p>Certainly, please do. Phrased right you could make the WG think about the reason/diagnosis thing and let it decide for itself whether or not they should have been one thing.</p>",
        "id": 170470973,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1562691791
    },
    {
        "content": "<blockquote>\n<p>Can I do the honors?</p>\n</blockquote>\n<p>and BTW, please moove the rank from encounter to condition. <span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>",
        "id": 170483288,
        "sender_full_name": "natus",
        "timestamp": 1562700485
    },
    {
        "content": "<p>Rank is always in the context of an encounter or claim. Therefore it must live on one of those resources.  Conditions can span numerous encounters.</p>",
        "id": 170503364,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1562720056
    },
    {
        "content": "<p>There are a few trackers that are current, and some still to be applied.<br>\nThe workgroup does want feedback on this too. Thoughts <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span> ?</p>",
        "id": 170535620,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562760882
    },
    {
        "content": "<p>If I remember, we haven't really nailed down exactly what changes we wanted to make to Encounter.condition, but I think the most recent thoughts are summarized in our <a href=\"https://confluence.hl7.org/pages/viewpage.action?pageId=51218798#id-2019MayWGMMinutes-WednesdayQ2\" target=\"_blank\" title=\"https://confluence.hl7.org/pages/viewpage.action?pageId=51218798#id-2019MayWGMMinutes-WednesdayQ2\">May 2019 WGM meeting minutes</a>.</p>",
        "id": 170540059,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1562764528
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222225\">@Christian Kamann</span> We have discussed this in the German community, but didn't come round to adding it to the German Base Profiles yet. Please feel free to open a topic in the <a href=\"#narrow/stream/179183-german-(d-a-ch)\" title=\"#narrow/stream/179183-german-(d-a-ch)\">German Stream</a>, so we can discuss this in particular. From the top of my head, I'd say it's a property of Encounter, not Condition, as stated above...</p>",
        "id": 170605208,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1562825974
    },
    {
        "content": "<p>We have discussed \"Haupt-/Nebendiagnose\" in part [here](stream:german+(d-a-ch) topic:MI-I-Kerndatensatz) <br>\n...sorry, that thread was a bit of a mess with multiple topics being discussed at the same time...<br>\nBut as I said, feel free to bring it back up! As we are currently working on upgrading our base profiles to R4, now is a good time to add new stuff!</p>",
        "id": 170605512,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1562826378
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> We have had a similar discussion about the ambiguity of Encounter.reason and Encounter.diagnosis and have added <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22764\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22764\">GF#22764</a> for this. The proposal is basically, to make Encounter.reason more verbose so you can use it for  both reasons for admission/discharge and also give details like \"admission from/ discharge to facility x because of reason y \" or \"discharge because of death\" etc.<br>\nTBH we have always interpreted the Encounter.diagnosis as referencing diagnosis that have been established <em>during</em> the Encounter and are relevant for billing (aka: \"Primary/Secondary\" Diagnosis). We'd therefore support the <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19285\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19285\">GF#19285</a> to move Encounter.diagnosis to Account.diagnosis</p>",
        "id": 170605935,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1562826939
    }
]