[
    {
        "content": "<p>Hi guys, I have the following code snippet which does not run. Please help</p>\n<p>My goal is to create a variable to store uuid() so that I can use it in multiple locations inside my MessageHeader. Is there a way to do this? </p>\n<p>Also, there are places where I just want to set a target value equal to a constant. However, I get errors running the mapping unless I put something to the left of the '-&gt;' operator. <br>\nFor example, I want to set b1.resourceType = 'MessageHeader'. But to do this I have to write some useless statement like<br>\n'MSH.9 as _' on the left, which doesn't do anything. </p>\n<p>group message_header(source source : TLeft, target target : TRight) {<br>\n    source.VXU_V04 as a -&gt; target.MessageHeader as a1 then {<br>\n         -&gt; uuid() as id then {<br>\n            a.MSH as MSH -&gt; a1.resource as b1 then {<br>\n                MSH.9 as _ -&gt; b1.resourceType = 'MessageHeader';<br>\n                MSH.9 as _ -&gt; <a href=\"http://b1.id\" target=\"_blank\" title=\"http://b1.id\">b1.id</a> = id;<br>\n                MSH.9 as c -&gt; b1.event as c1 then {<br>\n                    c.1 -&gt; c1.version = 'v1';<br>\n                    c.1 as d -&gt; c1.code = d;<br>\n                    c.1 -&gt; c1.system = 'MSHType-lookup-unharmonized';<br>\n                };<br>\n                MSH.4 as c -&gt; b1.source as c1 then {<br>\n                    b.3 as d -&gt; b1.source as c1 then {<br>\n                        d.1 as software -&gt; c1.software = software;<br>\n                        c.1 as name -&gt; <a href=\"http://c1.name\" target=\"_blank\" title=\"http://c1.name\">c1.name</a> = name;<br>\n                    };<br>\n                };<br>\n                MSH.5 as c -&gt; b1.destination as c1 then {<br>\n                    b.6 as d -&gt; b1.destination as c1 then {<br>\n                        c.1 as name -&gt; <a href=\"http://c1.name\" target=\"_blank\" title=\"http://c1.name\">c1.name</a> = name;<br>\n                        d.1 as endpoint -&gt; c1.endpoint = endpoint;<br>\n                    };<br>\n                };<br>\n            };<br>\n            a.MSH as MSH -&gt; a1.request as b1 then {<br>\n                MSH.9 as _ -&gt; b1.method = 'POST';<br>\n                MSH.9 as _ -&gt; b1.url = append('MessageHeader/', id);<br>\n            };<br>\n        };<br>\n    };<br>\n}</p>",
        "id": 186404196,
        "sender_full_name": "Michael Han",
        "timestamp": 1579795905
    },
    {
        "content": "<p>how do you run the maps? there is a proposal for a let statement (see <a href=\"#narrow/stream/181579-mapping-framework/topic/tutorial.20step.2014\" title=\"#narrow/stream/181579-mapping-framework/topic/tutorial.20step.2014\">https://chat.fhir.org/#narrow/stream/181579-mapping-framework/topic/tutorial.20step.2014</a>) or <a href=\"http://jira.hl7.org/browse/FHIR-21642\" target=\"_blank\" title=\"http://jira.hl7.org/browse/FHIR-21642\">J#21642</a>,  in the java implementation it is not yet implemented.</p>",
        "id": 186421567,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1579805565
    },
    {
        "content": "<blockquote>\n<p>how do you run the maps? there is a proposal for a let statement (see <a href=\"#narrow/stream/181579-mapping-framework/topic/tutorial.20step.2014\" title=\"#narrow/stream/181579-mapping-framework/topic/tutorial.20step.2014\">https://chat.fhir.org/#narrow/stream/181579-mapping-framework/topic/tutorial.20step.2014</a>) or <a href=\"http://jira.hl7.org/browse/FHIR-21642\" target=\"_blank\" title=\"http://jira.hl7.org/browse/FHIR-21642\">J#21642</a>,  in the java implementation it is not yet implemented.</p>\n</blockquote>\n<p>I'm using the validator (<a href=\"https://wiki.hl7.org/index.php?title=Using_the_FHIR_Mapping_Language\" target=\"_blank\" title=\"https://wiki.hl7.org/index.php?title=Using_the_FHIR_Mapping_Language\">https://wiki.hl7.org/index.php?title=Using_the_FHIR_Mapping_Language</a>)</p>",
        "id": 186423252,
        "sender_full_name": "Michael Han",
        "timestamp": 1579806500
    }
]