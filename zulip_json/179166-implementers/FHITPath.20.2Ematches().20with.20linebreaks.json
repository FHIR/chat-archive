[
    {
        "content": "<p>Hi,<br>\nI'm trying to use the <code>.matches()</code> FHIRPath function to check if the <code>StructureDefintion.purpose</code> text is properly populated in some of our profiles. This works as long as I don't include linebreaks in the <code>.purpose</code> field. If I do, I get inconsistent results. Take the following synthetic example:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code>  -- snip --\n  <span class=\"nt\">&lt;description</span> <span class=\"na\">value=</span><span class=\"s\">\"An anatomical location specifies the location (e.g. foot) and laterality (e.g. links) of a bodypart.\"</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;purpose</span> <span class=\"na\">value=</span><span class=\"s\">\"A&amp;#xD;&amp;#xA;B\"</span> <span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;fhirVersion</span> <span class=\"na\">value=</span><span class=\"s\">\"4.0.1\"</span> <span class=\"nt\">/&gt;</span>\n  -- snip --\n</code></pre></div>\n<p>Yields:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>HL7 Validator</th>\n<th>FHIRPath Tester</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>StructureDefinition.purpose.matches('A.*')</code></td>\n<td>false</td>\n<td>true</td>\n</tr>\n<tr>\n<td><code>StructureDefinition.purpose.matches('A.*B')</code></td>\n<td>false</td>\n<td>false</td>\n</tr>\n</tbody>\n</table>\n<p>However, the specification states that regexes in <code>matches()</code> are considered to use single-line mode, suggesting that a dot should match newlines. Could anybody help out?</p>",
        "id": 238528297,
        "sender_full_name": "Pieter Edelman",
        "timestamp": 1620846590
    },
    {
        "content": "<p>Maybe raise on <a class=\"stream\" data-stream-id=\"179266\" href=\"/#narrow/stream/179266-fhirpath\">#fhirpath</a> ?</p>",
        "id": 238549341,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620855901
    },
    {
        "content": "<p>Didn't even realize this stream existed, <a href=\"#narrow/stream/179266-fhirpath/topic/FHIRPath.20.2Ematches.28.29.20with.20linebreaks\">I've moved the topic</a></p>",
        "id": 238725115,
        "sender_full_name": "Pieter Edelman",
        "timestamp": 1620974346
    }
]