[
    {
        "content": "<p>The VitalSigns <code>StructureDefinition.snapshot</code> contains an ElementDefinition at this path:</p>\n<p><code>Observation.component.value[x]</code></p>\n<p>that includes the following ValueSet binding</p>\n<div class=\"codehilite\"><pre><span></span>                &quot;binding&quot;: {\n                    &quot;extension&quot;: [\n                        {\n                            &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName&quot;,\n                            &quot;valueString&quot;: &quot;VitalSignsUnits&quot;\n                        }\n                    ],\n                    &quot;strength&quot;: &quot;required&quot;,\n                    &quot;description&quot;: &quot;Common UCUM units for recording Vital Signs.&quot;,\n                    &quot;valueSet&quot;: &quot;http://hl7.org/fhir/ValueSet/ucum-vitals-common|4.0.0&quot;\n                },\n</pre></div>\n\n\n<p>which seems like it would only be valid if the choice type was Quantity, yet the structure definition allows more choices:</p>\n<div class=\"codehilite\"><pre><span></span>                &quot;type&quot;: [\n                    {\n                        &quot;code&quot;: &quot;Quantity&quot;\n                    },\n                    {\n                        &quot;code&quot;: &quot;CodeableConcept&quot;\n                    },\n                    {\n                        &quot;code&quot;: &quot;string&quot;\n                    },\n                    {\n                        &quot;code&quot;: &quot;boolean&quot;\n                    },\n                    {\n                        &quot;code&quot;: &quot;integer&quot;\n                    },\n                    {\n                        &quot;code&quot;: &quot;Range&quot;\n                    },\n                    {\n                        &quot;code&quot;: &quot;Ratio&quot;\n                    },\n                    {\n                        &quot;code&quot;: &quot;SampledData&quot;\n                    },\n                    {\n                        &quot;code&quot;: &quot;time&quot;\n                    },\n                    {\n                        &quot;code&quot;: &quot;dateTime&quot;\n                    },\n                    {\n                        &quot;code&quot;: &quot;Period&quot;\n                    }\n                ],\n</pre></div>\n\n\n<p>Should a separate ElementDefinition / path be used instead?  Perhaps something like:</p>\n<p><code>Observation.component.value[x].system</code> or <code>Observation.component.valueQuantity.system</code></p>\n<p>To express this terminology constraint. The binding itself doesn't have anything that is computable that would indicate the context that under which it should be used. I suppose another option might be to create a FHIRPath expression for it:</p>\n<div class=\"codehilite\"><pre><span></span>Observation.component.value.is(Quantity) implies (Observation.component.value.as(Quantity).system = &#39;http://hl7.org/fhir/ValueSet/ucum-vitals-common|4.0.0&#39;)\n</pre></div>",
        "id": 177250044,
        "sender_full_name": "John Timm",
        "timestamp": 1570113093
    },
    {
        "content": "<p>I think it would make sense to declare the binding on the valueQuantity slice.</p>",
        "id": 177255476,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1570116317
    },
    {
        "content": "<p>I agree that the binding at the <code>value[x]</code> element is ambiguous and validators would have to apply it to <code>CodeableConcept</code> <em>and</em> <code>Quantity</code>, which I'm sure is not the intent.  I also agree that the solution is to apply the binding to a <code>valueQuantity</code> type slice instead.</p>\n<p><del>That said, I'm looking at the VitalSigns profile now and not seeing that binding at all: <a href=\"http://hl7.org/fhir/R4/vitalsigns.profile.json.html\" target=\"_blank\" title=\"http://hl7.org/fhir/R4/vitalsigns.profile.json.html\">http://hl7.org/fhir/R4/vitalsigns.profile.json.html</a>.  Are you looking at a version prior to R4?</del></p>",
        "id": 177259978,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1570119196
    },
    {
        "content": "<p>I'm using R4 and I'm seeing it here:<br>\n<a href=\"http://hl7.org/fhir/vitalsigns.profile.json.html\" target=\"_blank\" title=\"http://hl7.org/fhir/vitalsigns.profile.json.html\">http://hl7.org/fhir/vitalsigns.profile.json.html</a></p>",
        "id": 177273342,
        "sender_full_name": "John Timm",
        "timestamp": 1570127864
    },
    {
        "content": "<p>Oh sorry.  Duh.  I was looking at <code>Observation.value[x]</code>, not <code>Observation.component.value[x]</code>.  My bad.  Sorry for the confusion.</p>",
        "id": 177274814,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1570128851
    },
    {
        "content": "<p>No worries.</p>",
        "id": 177275391,
        "sender_full_name": "John Timm",
        "timestamp": 1570129261
    },
    {
        "content": "<p>sounds like a tracker...</p>",
        "id": 177277405,
        "sender_full_name": "Eric Haas",
        "timestamp": 1570130378
    }
]