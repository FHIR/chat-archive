[
    {
        "content": "<p>Hi I would like to create my own terminology server for our own specific codes. These codes are in FHIR codesystems/valuesets. I am looking for an open source (reference implementation of an) terminology server that I can run locally and add my own valuesets/codesystems to.  Performance is for now not the main driver as it is mainly a proof of concept.</p>",
        "id": 199861061,
        "sender_full_name": "Hans van Amstel",
        "timestamp": 1591354829
    },
    {
        "content": "<p>HAPI will do the job</p>",
        "id": 199868567,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1591360104
    },
    {
        "content": "<p>Thanks this works, is there a way to have it also lookup loinc codes or ave the loinc codes lookup forwarded to the loinc terminology server.</p>",
        "id": 200068046,
        "sender_full_name": "Hans van Amstel",
        "timestamp": 1591603842
    },
    {
        "content": "<p>HAPI has a loader for LOINC so that you can host the LOINC codes on your server if you wish to do that.</p>",
        "id": 200088857,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1591618653
    },
    {
        "content": "<p>I have been working on a similar solution. Is there a way to get my implementation guide to use the CodeSystems and ValueSets specified in my 'Hapi terminology server' e.g. showing a ValueSet and expanding it correctly? The documentation for the IG publisher says that for the -tx option \"default is <a href=\"http://tx.fhir.org/r4\">http://tx.fhir.org/r4</a>, which is currently the only supported option\" - is there a way around this?</p>",
        "id": 210389732,
        "sender_full_name": "Kirstine Rosenbeck Gøeg",
        "timestamp": 1600349535
    },
    {
        "content": "<p>I haven't tested this lately.  You would need to have all of the current FHIR code systems and value sets loaded on your terminology server to make it work, but that shouldn't be too difficult.  Have you tried it?</p>",
        "id": 210391523,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1600350297
    },
    {
        "content": "<p>There is a general intent to allow HL7 affiliates to specify a different terminology server default for the affiliate, but that's parked until I have a time to do some more work on enhancements to the server since <a href=\"http://tx.fhir.org\">tx.fhir.org</a> is running some custom modifications for the validator right now</p>",
        "id": 210442647,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600372714
    },
    {
        "content": "<p>Yes, that does make a difference.</p>",
        "id": 210477261,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1600402074
    },
    {
        "content": "<p>Thanks. I will host the CodeSystems and ValueSets in my implementation guide for now. I will follow the work related to affiliate specific terminology servers, which seems like a good option!  At some point it would be very valuable to maintain CodeSystems and ValueSets, independently, not as part of the information model. It would also be a good solution for translated (and possibly extended) content e.g. SNOMED CT, ICPC2 and ICD10 - instead of putting it all, or some of it, on <a href=\"http://tx.fhir.org\">tx.fhir.org</a>.</p>",
        "id": 210484201,
        "sender_full_name": "Kirstine Rosenbeck Gøeg",
        "timestamp": 1600412005
    },
    {
        "content": "<p>well, there are other options. You can publish a package containing the content, and then refer to the package. The terminology server can automatically pick up packages published like this</p>",
        "id": 210487344,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600414702
    },
    {
        "content": "<p>there is also a way for <a href=\"http://tx.fhir.org\">tx.fhir.org</a> to delegate support for specific code systems - I'm doing that now for HGVS, but I haven't generalised that yet</p>",
        "id": 210487378,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600414741
    },
    {
        "content": "<p>If I want to \" publish a package containing the content, and then refer to the package.\" Can you point me to a place in the documentation describing this? I am guessing that I declare it in ImplementationGuide.dependsOn?</p>",
        "id": 210489533,
        "sender_full_name": "Kirstine Rosenbeck Gøeg",
        "timestamp": 1600416475
    },
    {
        "content": "<p>getting back to this:</p>",
        "id": 210856233,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600773647
    },
    {
        "content": "<p>yes, you declare dependency in the dependsOn. It's publishing the package itself that is more complicated. The order of actions is roughly:</p>\n<ul>\n<li>create the package (conforming to the FHIR NPM Package spec, and containing the code systems and value sets you care about)</li>\n<li>put it on the web somewhere </li>\n<li>create an RSS feed that links to it</li>\n<li>register the RSS feed in the IG registry </li>\n<li>wait for the package registries to pick it up - 1-24 hours</li>\n</ul>",
        "id": 210856416,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600773817
    },
    {
        "content": "<p>If you are using simplifier, it can save you from the leg work</p>",
        "id": 210856432,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600773832
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194347\">@Kirstine Rosenbeck Gøeg</span> Here's documentation on how to publish a FHIR package from a FHIR project in <a href=\"http://Simplifier.net\">Simplifier.net</a>: <a href=\"https://docs.fire.ly/simplifier/simplifierPackages.html#publish-packages\">https://docs.fire.ly/simplifier/simplifierPackages.html#publish-packages</a>. Let me know if you have questions!</p>",
        "id": 210876345,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1600784386
    },
    {
        "content": "<p>Thanks. Both of you.</p>",
        "id": 210966904,
        "sender_full_name": "Kirstine Rosenbeck Gøeg",
        "timestamp": 1600846010
    },
    {
        "content": "<p>I'm using validator.jar in CCD to FHIR conversion pipeline.  Help page <a href=\"https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator\">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a>  says it can run without terminology server.  How to turn off terminology server in java code?   Thanks.  -aj</p>",
        "id": 211963017,
        "sender_full_name": "AJ Chen",
        "timestamp": 1601581026
    },
    {
        "content": "<p>not quite sure what you're asking, but usually with -tx n/a</p>",
        "id": 211969758,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1601584181
    },
    {
        "content": "<p>Thank you Grahame. I mean in my java class to configure to skip using terminology server for code validation.  We are not using CLI and so - tx switch not applicable.</p>",
        "id": 211977463,
        "sender_full_name": "AJ Chen",
        "timestamp": 1601587467
    },
    {
        "content": "<p>then how are you loading it? Are you using ValidationEngine?</p>",
        "id": 211979112,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1601588320
    },
    {
        "content": "<p>We do this:<br>\n        IValidator validator = new ValidatorImpl();<br>\n          ByteArrayOutputStream os = (ByteArrayOutputStream) validator.validateBundle(bundle);</p>",
        "id": 211980322,
        "sender_full_name": "AJ Chen",
        "timestamp": 1601589015
    },
    {
        "content": "<p>How to use ValidationEngine to turn off using any Terminology server in java code?</p>",
        "id": 212084686,
        "sender_full_name": "AJ Chen",
        "timestamp": 1601650320
    },
    {
        "content": "<p>you need to ask this on the <a class=\"stream\" data-stream-id=\"179167\" href=\"/#narrow/stream/179167-hapi\">#hapi</a> stream since you're using the HAPI wrapper (I presume)</p>",
        "id": 212133572,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1601675787
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  <br>\nwe do use ValidationEngine to connect to TS:<br>\n  validationEngine.connectToTSServer(tServerURL);</p>\n<p>if no TS is connected, fhir validator will throws exception when checking code: <br>\n  java.lang.NullPointerException: null<br>\n    at org.hl7.fhir.dstu2.utils.BaseWorkerContext.supportsSystem(BaseWorkerContext.java:68)<br>\n    at org.hl7.fhir.dstu2.validation.InstanceValidator.checkCode(InstanceValidator.java:419)</p>\n<p>My question is: what is the correct way to turn off ValidationEngine's terminology validation?  When we first convert CCD to FHIR, we only need to check FHIR format, but not medical codes.</p>",
        "id": 212358853,
        "sender_full_name": "AJ Chen",
        "timestamp": 1601933106
    },
    {
        "content": "<p>you're passing null to connectToTSServer? What happens if you don't call it at all?</p>",
        "id": 212384947,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1601960133
    },
    {
        "content": "<p>if don't call  validationEngine.connectToTSServer(tServerURL),  fhir validator will throws exception when checking code:</p>\n<p>java.lang.NullPointerException: null<br>\nat org.hl7.fhir.dstu2.utils.BaseWorkerContext.supportsSystem(BaseWorkerContext.java:68)<br>\nat org.hl7.fhir.dstu2.validation.InstanceValidator.checkCode(InstanceValidator.java:419)</p>\n<p>if passing null server, fhir validator throws URI syntax error:</p>\n<p>java.lang.NullPointerException: null<br>\n    at java.net.URISyntaxException.&lt;init&gt;(URISyntaxException.java:64)<br>\n    at java.net.URISyntaxException.&lt;init&gt;(URISyntaxException.java:82)<br>\n    at org.hl7.fhir.dstu2.utils.client.ResourceAddress.buildAbsoluteURI(ResourceAddress.java:230)</p>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>   is there a config setting for \"not checking terminology server\"?</p>",
        "id": 212452492,
        "sender_full_name": "AJ Chen",
        "timestamp": 1602001664
    },
    {
        "content": "<p>oh. I realised what the problem is here. You're using the r2 ValidationEngine. I stopped maintaining that years ago. You sholud always use the R5 validation engine, irrespective of what version you are working with</p>",
        "id": 212504388,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1602032401
    },
    {
        "content": "<p>Ah, thanks. Will try R5 validation engine.</p>",
        "id": 212865320,
        "sender_full_name": "AJ Chen",
        "timestamp": 1602271078
    },
    {
        "content": "<p>I'm looking for a [relatively] complete/sysematic 101 guide for creating/setting up a terminology server.   Anything to recommend?  Thanks.</p>",
        "id": 212888944,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1602288065
    },
    {
        "content": "<p>Depends on what you want it for</p>",
        "id": 213874316,
        "sender_full_name": "Jim Steel",
        "timestamp": 1603168071
    },
    {
        "content": "<p>As a start, I'm looking forward to bulk importing common classifications such as ICD-10 and its variants.</p>",
        "id": 213874899,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1603168872
    },
    {
        "content": "<p>It's probably going to vary quite a lot depending on which server you're deploying</p>",
        "id": 213876534,
        "sender_full_name": "Jim Steel",
        "timestamp": 1603171558
    },
    {
        "content": "<p>Unless you mean for building one from scratch</p>",
        "id": 213876776,
        "sender_full_name": "Jim Steel",
        "timestamp": 1603171941
    },
    {
        "content": "<p>Based on HAPI</p>",
        "id": 213878315,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1603174399
    },
    {
        "content": "<p>Well, I'm obviously going to say \"Don't build one; buy one\". But I'm biased.</p>",
        "id": 213878391,
        "sender_full_name": "Jim Steel",
        "timestamp": 1603174504
    },
    {
        "content": "<p>I wanna say \"me too\"<span aria-label=\"big smile\" class=\"emoji emoji-1f604\" role=\"img\" title=\"big smile\">:big_smile:</span></p>",
        "id": 213879683,
        "sender_full_name": "Lin Zhang",
        "timestamp": 1603175937
    }
]