[
    {
        "content": "<p>Hello, we’ve been working on the FHIR resources for the Canadian Vaccine Catalogue. The vaccine information we need to support includes Vaccine Codes (SNOMED CT based) with display names in English &amp; French, Health Canada DINs (Drug Identification Number), Lot Numbers &amp; Lot Expiration Dates, GTIN codes. The goal is to open a FHIR API for consuming applications to get the full catalogue or to search based on a Vaccine Code, DIN, Lot Number or GTIN.</p>\n<p>Since vaccines are a subtype of medications, we plan to use a FHIR Medication resource for the catalogue and a number of Value Sets. We planned to slice Medication.code.coding to support Vaccine Code and DIN, but we weren’t sure about GTIN and were considering either an extension or another slicing on Medication.code.coding.</p>\n<p>I’ve noticed that there was a GTIN discussion in the Australian stream at <a href=\"https://chat.fhir.org/#narrow/stream/australia/subject/National.20Product.20Catalogue.20GTIN\" target=\"_blank\" title=\"https://chat.fhir.org/#narrow/stream/australia/subject/National.20Product.20Catalogue.20GTIN\">https://chat.fhir.org/#narrow/stream/australia/subject/National.20Product.20Catalogue.20GTIN</a> and I see that in the Australian Medication resource at <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html</a>, there are 3 slices defined on Medication.code.coding with bindings to: “Medication AMT MP,MPP,TPP, MPUU, TP, TPUU, CTPP” (SNOMED CT based), “PBS” (Australian code) and GTIN.</p>\n<p>I’m wondering if this is the best approach, in which case we would follow Australia and will define 3 slices on Medication.code.coding for Vaccine Code, DIN and GTIN.</p>",
        "id": 153900077,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1501635418
    },
    {
        "content": "<p>GTIN is an appropriate thing to send in Medication.code.coding</p>",
        "id": 153900078,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1501635959
    },
    {
        "content": "<p>Thank you Lloyd.</p>",
        "id": 153900079,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1501636860
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span> <br>\nWhy are GTINs codes in a code system and not identifiers in an identifier system?</p>\n<ul>\n<li>GTINs have a devolved system of allocation, like OIDs. </li>\n<li>They are not generally validated against a list of valid values</li>\n<li>While their use to identify tablets of a medication of a certain substance, strength, form, and manufacturer is analogous to a code, they are also used as analogs to serial numbers (to identify individual devices), and as analogs to batch numbers.</li>\n</ul>\n<p>That makes them look like identifiers.<br>\nSo, there is currently no place for them in medication. A new identifier element is needed, possibly as an extension.<br>\nAny thoughts?</p>",
        "id": 153936514,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1518140840
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191682\">@Richard Townley-O'Neill</span>  If you think GTINs should be handled in medication differently from code, I would suggest you add a tracker item for consideration.</p>",
        "id": 153936527,
        "sender_full_name": "Melva Peters",
        "timestamp": 1518143918
    },
    {
        "content": "<p>well, GTINs are defined as identifiers not codes</p>",
        "id": 153936528,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1518143999
    },
    {
        "content": "<p>Added Zulip <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15512\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15512\">#15512</a></p>",
        "id": 153936535,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1518147617
    },
    {
        "content": "<p>Agree with your assessment <span class=\"user-mention\" data-user-id=\"191682\">@Richard Townley-O'Neill</span></p>",
        "id": 153936536,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1518148011
    },
    {
        "content": "<p>I have had a lot of advice.</p>",
        "id": 153936537,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1518148092
    },
    {
        "content": "<p>GTIN identifies a kind of a product, not an instance.<br>\nI don't see how they are used as analogs to serial numbers and batch numbers. That is not part of the GTIN.</p>",
        "id": 153936549,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518162291
    },
    {
        "content": "<p>GTIN is an identifier for a concept.</p>",
        "id": 153936550,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518162652
    },
    {
        "content": "<p>I do not have an opinion on calling something code vs identifier, except that identifier seems to be used for a specific instance which is not the case for GTIN.</p>",
        "id": 153936551,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518162847
    },
    {
        "content": "<p>So if medication.code becomes medication.identifier, it sounds potentially confusing but is ok.<br>\nmedication \"instance\" attributes like batch, serial etc are elsewhere.</p>",
        "id": 153936552,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518163249
    },
    {
        "content": "<p>I thought that in some instances a GTIN could be specific down to the serial number?</p>",
        "id": 153936567,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1518190767
    },
    {
        "content": "<p>(correction) I thought that is the case for made-to-order products - but  no, not even those.</p>",
        "id": 153936568,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518190799
    },
    {
        "content": "<p>dental prosthesis, cytostatic preparations can have that, but they will also get a serial number.</p>",
        "id": 153936570,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518190842
    },
    {
        "content": "<p>GTIN identifies a kind of product, even if the number of manufactured items for that kind is 1.</p>",
        "id": 153936571,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518190888
    },
    {
        "content": "<p>I'd say that GTIN and medication.code are exactly the same thing. Whether they should be a code or an identifier, I don't really know, but they should be the same attribute.</p>",
        "id": 153936573,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518193274
    },
    {
        "content": "<p>I thought GTIN was equivalent to medication.code as well except that it could be more specific as it could include the specific serial number.</p>",
        "id": 153936578,
        "sender_full_name": "Melva Peters",
        "timestamp": 1518194244
    },
    {
        "content": "<p>GTIN does not include serial number.</p>",
        "id": 153936579,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518194263
    },
    {
        "content": "<p>a GS1 barcode can include the GTIN and the serial number.<br>\nbut the GTIN is equivalent to  \"medication.code\" indeed.</p>",
        "id": 153936581,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518194316
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/ifxTSILwCU4ivhq00c46ryoC/clip_image0025_thumb1.jpg\" target=\"_blank\" title=\"clip_image0025_thumb1.jpg\">clip_image0025_thumb1.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ifxTSILwCU4ivhq00c46ryoC/clip_image0025_thumb1.jpg\" target=\"_blank\" title=\"clip_image0025_thumb1.jpg\"><img src=\"/user_uploads/10155/ifxTSILwCU4ivhq00c46ryoC/clip_image0025_thumb1.jpg\"></a></div>",
        "id": 153936582,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518194404
    },
    {
        "content": "<p>the gs1 code has the gtin plus batch or serial (in the case above, it has batch, after the (10)</p>",
        "id": 153936583,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518194440
    },
    {
        "content": "<p>Sorry Jose, I was thinking bar code when I wrote that, not GTIN.</p>",
        "id": 153936586,
        "sender_full_name": "Melva Peters",
        "timestamp": 1518194450
    },
    {
        "content": "<p>the gtin is the part after the (01)</p>",
        "id": 153936587,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518194451
    },
    {
        "content": "<p>ok</p>",
        "id": 153936588,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518194454
    },
    {
        "content": "<p>for the original question, the GTIN is the same as is conveyed in medication.code.</p>",
        "id": 153936590,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518194553
    },
    {
        "content": "<p>so whether we change medication.code to be an identifier or not, <br>\nwe use that attribute (medication.code) to convey the GTIN.</p>",
        "id": 153936594,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518194633
    },
    {
        "content": "<p>In <a href=\"http://build.fhir.org/device.html\" target=\"_blank\" title=\"http://build.fhir.org/device.html\">Device</a> GTINs are stored as part of the barcode information, in <a href=\"http://build.fhir.org/device-definitions.html#Device.udi.deviceIdentifier\" target=\"_blank\" title=\"http://build.fhir.org/device-definitions.html#Device.udi.deviceIdentifier\">deviceIdentifier</a>, not as codes. The use of deviceIdentifier for GTINs is explained in the <a href=\"http://build.fhir.org/device.html#8.14.3.2\" target=\"_blank\" title=\"http://build.fhir.org/device.html#8.14.3.2\">Notes</a>.</p>",
        "id": 153936863,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1518389378
    },
    {
        "content": "<p>Medications and devices are pulling GTINs in different directions.</p>",
        "id": 153936864,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1518389555
    },
    {
        "content": "<p>That's actually problematic.  Device.identifier values should be globally unique for a particular device instance - implying that they're down to the serial number level.  The fact someone might think of a code as an identifier does not mean the Identifier type should be used.</p>",
        "id": 153936866,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1518391045
    },
    {
        "content": "<p>Submitted <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15516\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15516\">GF#15516</a></p>",
        "id": 153936867,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1518391302
    },
    {
        "content": "<p>so that is where this comes from. the use of instance identifiers should be reviewed soon</p>",
        "id": 153936993,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518476586
    },
    {
        "content": "<p>the expression \"device identifier\" does not mean it is an identifier type. it is just the expression that is used in GS1 and UDI.</p>",
        "id": 153936995,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518476719
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> agree there's some confusion, but i would review this with the\"kind vs instance\" of health products. Basically if the Device resource is specifying an instance, then device.identifier can go down to serial number.<br>\nif device specifies a Kind, then device.identifier would have the same purpose as medication.code.</p>",
        "id": 153936998,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518476983
    },
    {
        "content": "<p>If device specifies a kind, then device.identifier should not be used.</p>",
        "id": 153937000,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1518477349
    },
    {
        "content": "<p>agree</p>",
        "id": 153937044,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1518508232
    }
]