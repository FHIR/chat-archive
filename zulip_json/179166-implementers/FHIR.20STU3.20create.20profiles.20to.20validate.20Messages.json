[
    {
        "content": "<p>Hi all, </p>\n<p>I'm newest on FHIR theme. i'm trying to create profiles, using Forge STU3 tool, to validate messages. I have a Message Bundle which is composed  for 3 entry resources(Message Header, Parameters, Organization). Does it possible to create only one profile to validate this type of FHIR message?</p>\n<p>Thanks in advance.</p>",
        "id": 160772540,
        "sender_full_name": "Filipe Castro",
        "timestamp": 1552564113
    },
    {
        "content": "<p>You would typically create profiles for each resource and enforce the profiles of referenced types via the referencing profile.  For example, the MessageHeader.focus element would enforce the profile for your Parameters resource.</p>",
        "id": 160786606,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1552574575
    },
    {
        "content": "<p>Hi Lloyd, <br>\nThanks for your help. So, I only need to enforce MessageHeader on MessageBundle profile, right? <br>\nIn message that i want to validate, I only need to enforce(on meta.profile filed ) the MessageBundle profile, right?</p>",
        "id": 160795808,
        "sender_full_name": "Filipe Castro",
        "timestamp": 1552579703
    },
    {
        "content": "<p>The Bundle should enforce that the first entry is a MessageHeader that matches your profile.  The MessageHeader would then enforce the profiles that it references.</p>",
        "id": 160796201,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1552579934
    },
    {
        "content": "<p>Thank you. How can I make the first entry of MessageHeader? I already applied the MessageHeader profile reference in the Entry.resource of the bundle, but at the time of validating a message, all incoming features are being validated based on the MessageHeader profile.</p>",
        "id": 160870111,
        "sender_full_name": "Filipe Castro",
        "timestamp": 1552653210
    },
    {
        "content": "<p>You'll need to either slice entries with ordered slicing or you'll need to use an invariant.</p>",
        "id": 160878013,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1552659105
    },
    {
        "content": "<p>how you configure invariants?</p>",
        "id": 160888553,
        "sender_full_name": "Filipe Castro",
        "timestamp": 1552666075
    },
    {
        "content": "<p>Use the 'constraint' element on the element where the constraint should be applied.  In this case, it would be on Bundle.</p>",
        "id": 160888690,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1552666165
    }
]