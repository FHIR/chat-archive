[
    {
        "content": "<p>Has anyone done work with FHIR in CBOR? Should we standardize a CBOR serialization?</p>",
        "id": 235594928,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619045875
    },
    {
        "content": "<p>That looks <a href=\"https://cbor.io/\">very interesting</a>. I hadn't heard about it before, thanks for bringing it up!</p>",
        "id": 235689691,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1619102412
    },
    {
        "content": "<p>While interesting for projects such as SMART Health Cards, I'm not sure that the byte savings is terribly necessary for FHIR as a whole.  Where do you see a need for bandwidth conservation for health data otherwise?</p>",
        "id": 235691986,
        "sender_full_name": "David Pyke",
        "timestamp": 1619103251
    },
    {
        "content": "<p>It's not necessarily about byte savings (and we're not using CBOR in Health Cards). It's more about idiomatic use of FHIR in contexts where exchange is already happening with CBOR. I recently saw my first example of a spec based on CBOR with \"insert FHIR Bundle as CBOR here\" and I realized... that's pretty under-specified statement.</p>",
        "id": 235740824,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619122451
    },
    {
        "content": "<p>For an example of a context where CBOR is the default for exchange, see <a href=\"https://github.com/18013-5/micov/blob/main/ISO_IEC_18013_5_for_eHealth.pdf\">https://github.com/18013-5/micov/blob/main/ISO_IEC_18013_5_for_eHealth.pdf</a> (and probably more generally in the IOT world this will be increasingly common).</p>",
        "id": 235742437,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619123254
    },
    {
        "content": "<p>With judicious use of CBOR tags, specific datetime types, etc, it'd be possible to do a better job of representing several FHIR datatypes than we do in our JSON syntax (e.g., exact representation of decimals; not to mention directly-embedded binary data for <code>Attachment.data</code>).</p>",
        "id": 235742812,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619123427
    },
    {
        "content": "<p>I haven't looked at it, but if it's JSON based, then it would have the same problems with decimals?</p>",
        "id": 235745182,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1619124576
    },
    {
        "content": "<p>It's not JSON based.</p>",
        "id": 235745566,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619124771
    },
    {
        "content": "<p>I mean, \"based on the wildly successful JSON data model\" is true but not the full story.</p>",
        "id": 235745606,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619124794
    },
    {
        "content": "<p>There are defined tags for things like decimal fractions (<a href=\"https://www.rfc-editor.org/rfc/rfc8949.html#fractions\">https://www.rfc-editor.org/rfc/rfc8949.html#fractions</a>)</p>",
        "id": 235745900,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619124928
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>C4             -- Tag 4\n   82          -- Array of length 2\n      21       -- -2\n      19 6ab3  -- 27315\n</code></pre></div>\n<p>This is a \"tagged array\" -- Tag 4 indicates the array should be treated as a decimal fraction; following the tag is an array of length 2 containing <code>[-2, 27315]</code>, which all together tells you \"take 10^-2 * 27315  === 273.14\".</p>",
        "id": 235746184,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619125049
    },
    {
        "content": "<p>Of course, in our FHIR mapping we could say to use tagged arrays like this; or heck we could say \"use a string with the decimal inside\". These are the kinds of decisions a CBOR implementation of FHIR would need to make (and the kinds of things likely to vary if we don't standardize it).</p>",
        "id": 235746421,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619125171
    },
    {
        "content": "<p>Sounds like there's not a vast community interest in this yet though, and I'm certainly no expert (I've spent maybe 90min reading the spec).</p>",
        "id": 235746466,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619125199
    },
    {
        "content": "<p>well, we've also talked about BSON, ASN.1 and a couple of others that all appear to do pretty much the same thing, but none of them have roused enough interest to get work</p>",
        "id": 235748120,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1619125556
    },
    {
        "content": "<p>I suggest that you write a one page recommending a set of decisions, maybe on confluence? Then if there's enough interest we can elevate it</p>",
        "id": 235748379,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1619125620
    },
    {
        "content": "<p>I was hoping to find someone else who wanted to do this, or (better still) had already gone through this exercise ;-) But I'll put this on my list of \"spare time\" projects.</p>",
        "id": 235754454,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1619128499
    },
    {
        "content": "<p>lets just use HL7 MLLP</p>",
        "id": 235759499,
        "sender_full_name": "John Moehrke",
        "timestamp": 1619131227
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> Have you been fired today?</p>",
        "id": 235763614,
        "sender_full_name": "David Pyke",
        "timestamp": 1619133720
    },
    {
        "content": "<p>It is very compact.</p>",
        "id": 235763795,
        "sender_full_name": "John Moehrke",
        "timestamp": 1619133843
    },
    {
        "content": "<p>Minimalism is trendy these days.</p>",
        "id": 235770583,
        "sender_full_name": "Paul Church",
        "timestamp": 1619138619
    }
]