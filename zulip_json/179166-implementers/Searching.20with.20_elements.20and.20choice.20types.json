[
    {
        "content": "<p>If I want to search for <code>Observation?_elements=</code> in a query to return <code>Observation</code>s with just the <code>valueQuantity</code> (and not, say, <code>category</code> or other \"extraneous\" data), <a href=\"http://build.fhir.org/search.html#elements\" target=\"_blank\" title=\"http://build.fhir.org/search.html#elements\">the spec says</a>:</p>\n<blockquote>\n<p>The _elements parameter consists of a comma-separated list of base element names</p>\n</blockquote>\n<p>I'm not sure what the base element name is for <code>Observation.valueQuantity</code>. <a href=\"http://build.fhir.org/observation.profile.json.html\" target=\"_blank\" title=\"http://build.fhir.org/observation.profile.json.html\">Official profile</a> suggests <code>value[x]</code> ... but I see variable behavior across references servers.</p>",
        "id": 182701446,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575578621
    },
    {
        "content": "<p>I don't think we ever discussed this</p>",
        "id": 182701579,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575578707
    },
    {
        "content": "<p>With HAPI, the following all work: </p>\n<ul>\n<li><a href=\"http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=value\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=value\">http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=value</a></li>\n<li><a href=\"http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=valueQuantity\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=valueQuantity\">http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=valueQuantity</a></li>\n<li><a href=\"http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=valueWhyDoesThisWork\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=valueWhyDoesThisWork\">http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=valueWhyDoesThisWork</a>!?</li>\n</ul>\n<p>But this does't:</p>\n<ul>\n<li><a href=\"http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=value[x]\" target=\"_blank\" title=\"http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=value[x]\">http://hapi.fhir.org/baseR4/Observation?_format=json&amp;_pretty=true&amp;_elements=value[x]</a></li>\n</ul>",
        "id": 182701598,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575578729
    },
    {
        "content": "<p>With Grahame's server, the following do not work:</p>\n<ul>\n<li><a href=\"http://test.fhir.org/r4/Observation?_format=json&amp;_pretty=true&amp;_elements=value\" target=\"_blank\" title=\"http://test.fhir.org/r4/Observation?_format=json&amp;_pretty=true&amp;_elements=value\">http://test.fhir.org/r4/Observation?_format=json&amp;_pretty=true&amp;_elements=value</a></li>\n<li><a href=\"http://test.fhir.org/r4/Observation?_format=json&amp;_pretty=true&amp;_elements=valueQuantity\" target=\"_blank\" title=\"http://test.fhir.org/r4/Observation?_format=json&amp;_pretty=true&amp;_elements=valueQuantity\">http://test.fhir.org/r4/Observation?_format=json&amp;_pretty=true&amp;_elements=valueQuantity</a></li>\n<li><a href=\"http://test.fhir.org/r4/Observation?_format=json&amp;_pretty=true&amp;_elements=value[x]\" target=\"_blank\" title=\"http://test.fhir.org/r4/Observation?_format=json&amp;_pretty=true&amp;_elements=value[x]\">http://test.fhir.org/r4/Observation?_format=json&amp;_pretty=true&amp;_elements=value[x]</a></li>\n</ul>\n<p>(And I can't figure out what does work.)</p>",
        "id": 182701674,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575578776
    },
    {
        "content": "<p>nothing will for value - bug in my code generator</p>",
        "id": 182701762,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575578857
    },
    {
        "content": "<p>OK, I'll add a Jira issue. <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> for the record, is there a way to coax your server into returning Observation  via <code>_elements</code> ?</p>",
        "id": 182701777,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575578866
    },
    {
        "content": "<p>Ah, OK.</p>",
        "id": 182701779,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575578867
    },
    {
        "content": "<p>all the other elements should be bound by _summary, but choice elements are not</p>",
        "id": 182701877,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575578916
    },
    {
        "content": "<p>Added <a href=\"http://jira.hl7.org/browse/FHIR-25279\" target=\"_blank\" title=\"http://jira.hl7.org/browse/FHIR-25279\">J#25279</a></p>",
        "id": 182702066,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575579017
    },
    {
        "content": "<p>(This is coming up because I've been noodling on how to express proactive policies about what queries to allow/deny for a given client. )</p>",
        "id": 182702106,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575579047
    },
    {
        "content": "<p><code>_elements=value</code> on our server</p>",
        "id": 182702540,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1575579287
    },
    {
        "content": "<p>Also _elements=value on GCP. There's no way to ask for valueQuantity specifically and omit other types though, do people want that?</p>",
        "id": 182703222,
        "sender_full_name": "Paul Church",
        "timestamp": 1575579618
    },
    {
        "content": "<p>Same on Aidbox. Just reminder  -  Observation.value.x would eliminate this problem. One logical inconsistency brings many anomalies.</p>",
        "id": 183029746,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1575954586
    }
]