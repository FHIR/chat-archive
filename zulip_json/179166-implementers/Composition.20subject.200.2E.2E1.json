[
    {
        "content": "<p>Hi, I created a composition profile in stu3. I want the subject to be optional in this profile. <br>\nBy definition in stu3 subject is 1..1. In forge it is not possible to change the cardinality from 1..1 to 0..1 (is greyed out). <br>\nBut when I set the cardinality in the xml (see example) and post it to vonk I don't get any errors. <br>\nCan I do this? I think, it is not a recommended/allowed way, but why does it work?<br>\nI have Vonk.Server/3.1.1.</p>\n<p>&lt;StructureDefinition xmlns=\"<a href=\"http://hl7.org/fhir\" target=\"_blank\" title=\"http://hl7.org/fhir\">http://hl7.org/fhir</a>\"&gt;<br>\n&lt;id value=\"example123\" /&gt;<br>\n&lt;url value=\"http://example.org/fhir/StructureDefinition/MyComposition\"/&gt;<br>\n&lt;name value=\"MyComposition\"/&gt;<br>\n&lt;status value=\"draft\"/&gt;<br>\n&lt;fhirVersion value=\"3.0.1\"/&gt;<br>\n &lt;mapping&gt;<br>\n&lt;identity value=\"rim\"/&gt;<br>\n&lt;uri value=\"http://hl7.org/v3\"/&gt;<br>\n&lt;name value=\"RIM Mapping\"/&gt;<br>\n&lt;/mapping&gt;<br>\n &lt;mapping&gt;<br>\n&lt;identity value=\"cda\"/&gt;<br>\n&lt;uri value=\"http://hl7.org/v3/cda\"/&gt;<br>\n&lt;name value=\"CDA (R2)\"/&gt;<br>\n&lt;/mapping&gt;<br>\n &lt;mapping&gt;<br>\n&lt;identity value=\"w5\"/&gt;<br>\n&lt;uri value=\"http://hl7.org/fhir/w5\"/&gt;<br>\n&lt;name value=\"W5 Mapping\"/&gt;<br>\n&lt;/mapping&gt;<br>\n&lt;kind value=\"resource\"/&gt;<br>\n&lt;abstract value=\"false\"/&gt;<br>\n&lt;type value=\"Composition\"/&gt;<br>\n&lt;baseDefinition value=\"http://hl7.org/fhir/StructureDefinition/Composition\"/&gt;<br>\n&lt;derivation value=\"constraint\"/&gt;<br>\n &lt;differential&gt;<br>\n &lt;element id=\"Composition.subject\"&gt;<br>\n&lt;path value=\"Composition.subject\"/&gt;<br>\n &lt;type&gt;<br>\n&lt;code value=\"Reference\"/&gt;<br>\n&lt;targetProfile value=\"http://example.org/fhir/StructureDefinition/MyReference\"/&gt;<br>\n&lt;/type&gt;<br>\n&lt;min value=\"0\" /&gt;<br>\n&lt;max value=\"1\" /&gt;<br>\n&lt;/element&gt;<br>\n&lt;/differential&gt;<br>\n&lt;/StructureDefinition&gt;</p>",
        "id": 186679055,
        "sender_full_name": "Katarina",
        "timestamp": 1580130102
    },
    {
        "content": "<p>It shouldn't work - it should raise an error.  Profiles can't relax constraints that are present in the base resource.</p>",
        "id": 186698042,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580142248
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"221154\">@Katarina</span> Thank you for mentioning this, it indeed looks like an error.</p>",
        "id": 186762067,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1580200445
    },
    {
        "content": "<p>It is in fact already known as an issue on the .NET FHIR API: <a href=\"https://github.com/FirelyTeam/fhir-net-api/issues/856\" target=\"_blank\" title=\"https://github.com/FirelyTeam/fhir-net-api/issues/856\">#856</a>, that is of course used by Vonk.</p>",
        "id": 186762259,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1580200679
    }
]