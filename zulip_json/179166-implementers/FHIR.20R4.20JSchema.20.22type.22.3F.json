[
    {
        "content": "<p>Has anyone been using the FHIR R4 JSchema definitions?   I notice that many FHIR Resources and DataTypes have the property \"type\",  but that is a keyword in JSchema?   How can this work for FHIR's JSchema?</p>\n<p>For example, the Location resource has a 'type' property for defining the \"Type of function performed\".</p>",
        "id": 180447102,
        "sender_full_name": "John Silva",
        "timestamp": 1573496698
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  Hmm, same problem with the description property (of Location); description is also a JSchema keyword.  <a href=\"https://json-schema.org/understanding-json-schema/reference/generic.html\" target=\"_blank\" title=\"https://json-schema.org/understanding-json-schema/reference/generic.html\">https://json-schema.org/understanding-json-schema/reference/generic.html</a>  <a href=\"https://json-schema.org/understanding-json-schema/basics.html?highlight=type#the-type-keyword\" target=\"_blank\" title=\"https://json-schema.org/understanding-json-schema/basics.html?highlight=type#the-type-keyword\">https://json-schema.org/understanding-json-schema/basics.html?highlight=type#the-type-keyword</a></p>",
        "id": 180447885,
        "sender_full_name": "John Silva",
        "timestamp": 1573497351
    },
    {
        "content": "<p>I don't understand the issue. type is a keyword in json schema but why would that have anything to do with the use of 'type' in the json described by the schema?</p>",
        "id": 180452843,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1573500754
    },
    {
        "content": "<p>Maybe it's the toolset I'm using but when the JSchema definition contains:</p>\n<div class=\"codehilite\"><pre><span></span>     &quot;type&quot;:{\n        &quot;description&quot;:&quot;Indicates the type of function performed at the location.&quot;,\n        &quot;items&quot;:{\n\n        },\n        &quot;type&quot;:&quot;array&quot;\n     },\n</pre></div>\n\n\n<p>When the above is loaded in the JSchema (e.g. for Location Resource) the JSchema lib we're using thinks the property name \"type\" is the JSchema keyword \"type\" and errors out doing the validation of an incoming JSON resource.</p>\n<p>This is why I asked if anyone has actually tried the FHIR JSchema  definitions to find out if anyone else has seen this problem.   BTW, we're using the NewtonSoft JSchema library.  Are there other JSchema libraries that people have tried?</p>",
        "id": 180456017,
        "sender_full_name": "John Silva",
        "timestamp": 1573503134
    },
    {
        "content": "<p>well, I'm pretty sure that json schema did not intend to prohibit the use of 'type' and 'description' (and 'min' and 'max') in json documents. And that this is an error in the tooling.</p>",
        "id": 180456193,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1573503281
    },
    {
        "content": "<p>the FHIR build tooling uses org.everit.json.schema</p>",
        "id": 180456254,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1573503350
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  - do you know of any other JSchema libraries that people are using?  (or are most using the Java Validator so don't see this.)</p>",
        "id": 180456308,
        "sender_full_name": "John Silva",
        "timestamp": 1573503368
    },
    {
        "content": "<p>Obviously the java validator is a much better validator because it knows more about FHIR but lots of people have considerable json schema usage. I've heard of the use of </p>\n<ul>\n<li>json.NET schema</li>\n<li>everit</li>\n<li>ajv</li>\n<li>the online JSON Schema validator</li>\n</ul>\n<p>But most discussions are in the context of openAPI</p>",
        "id": 180456487,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1573503497
    }
]