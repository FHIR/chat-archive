[
    {
        "content": "<p>Curious if anyone has implemented a search on Location using near (for geo-based searches)? And if so, did anyone account for 'distance' in the search results? </p>\n<p>In our legacy provider search tools that used geo-based searching, the results would include the matching providers distance from the starting search point. With the current structure definition, we can return a provider's lat and long and let the client perform a calculation. But if we want to return a distance, I am curious how this would done. Would this be an extension of the provider of the search-set Bundle (perhaps saying 'match' and '2  miles away').</p>\n<p>Any implementer experience would be useful, thanks!</p>",
        "id": 247972309,
        "sender_full_name": "Kate Dech",
        "timestamp": 1627938868
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span></p>",
        "id": 248176051,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1627957250
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193299\">@Luke Duncan</span> I think you were looking at this at one point.</p>",
        "id": 248226072,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1627999906
    },
    {
        "content": "<p>I think that CareQuality has something like this. <span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span> <span class=\"user-mention\" data-user-id=\"192274\">@Joe Lamy</span> <span class=\"user-mention\" data-user-id=\"191646\">@Eric Heflin</span></p>",
        "id": 248239496,
        "sender_full_name": "John Moehrke",
        "timestamp": 1628005553
    },
    {
        "content": "<p>I did find information in the base spec about this. <a href=\"https://www.hl7.org/fhir/location.html#positional\">https://www.hl7.org/fhir/location.html#positional</a><br>\nThanks.</p>",
        "id": 250143582,
        "sender_full_name": "Kate Dech",
        "timestamp": 1629478424
    },
    {
        "content": "<p>This is implemented in our server.<br>\nAnd the details are in the spec in this section<br>\n<a href=\"http://hl7.org/fhir/2018Sep/location.html#positional\">http://hl7.org/fhir/2018Sep/location.html#positional</a><br>\nNote the extension in the bundle search component with the distance you're talking about.</p>",
        "id": 250205637,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1629535229
    },
    {
        "content": "<p>Of course the distance we return is a crow flies distance, and routing could have that longer...</p>",
        "id": 250205665,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1629535259
    },
    {
        "content": "<p>When performing a near search, is it assumed that server will sort the results smallest distance to largest? If not, what would the mechanism be for requesting a _sort=near? Just curious if it's different because the distance is part of the bundle and not the actual location resources. Thanks.</p>",
        "id": 253442265,
        "sender_full_name": "Kate Dech",
        "timestamp": 1631722656
    },
    {
        "content": "<p>To add more context: the use case is to limit the result of a provider search to the 10 nearest matches near me (where lat and long of 'me' is passed in). There might 100 matching results in the search radius. If a consumer wants to limit to just 10...they may wish to supply _count=10 but the want the closest 10.  </p>\n<p>Does the near search parameter require that the server sort by distance or would that be client controlled by requesting _sort?</p>",
        "id": 253443557,
        "sender_full_name": "Kate Dech",
        "timestamp": 1631723030
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span></p>",
        "id": 253468277,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1631732112
    },
    {
        "content": "<p>There is nothing currently documented for that. But it makes sense - you could suggest a tracker for that.</p>",
        "id": 253489754,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1631740793
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191646\">@Eric Heflin</span>  and <span class=\"user-mention\" data-user-id=\"192274\">@Joe Lamy</span> is there something the CareQuality can offer?</p>",
        "id": 253499623,
        "sender_full_name": "John Moehrke",
        "timestamp": 1631745932
    },
    {
        "content": "<p>Logged as <a href=\"https://jira.hl7.org/browse/FHIR-33976\">https://jira.hl7.org/browse/FHIR-33976</a> requesting additional guidance. Thanks!</p>",
        "id": 254140682,
        "sender_full_name": "Kate Dech",
        "timestamp": 1632185480
    }
]