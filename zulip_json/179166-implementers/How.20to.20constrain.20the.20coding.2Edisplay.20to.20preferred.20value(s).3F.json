[
    {
        "content": "<p>Since codesystems often allow for alternate display strings for a given code, using <code>fixedString</code> on display is too constraining... so I am trying <code>defaultValueString</code> instead: (bottom of snippet)</p>\n<div class=\"codehilite\"><pre><span></span><code>  &lt;differential&gt;\n    &lt;element id=&quot;Observation.code.coding&quot;&gt;\n      &lt;path value=&quot;Observation.code.coding&quot; /&gt;\n      &lt;slicing&gt;\n        &lt;discriminator&gt;\n          &lt;type value=&quot;value&quot; /&gt;\n          &lt;path value=&quot;code&quot; /&gt;\n        &lt;/discriminator&gt;\n        &lt;rules value=&quot;open&quot; /&gt;\n      &lt;/slicing&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.code.coding:loincCoding&quot;&gt;\n      &lt;path value=&quot;Observation.code.coding&quot; /&gt;\n      &lt;sliceName value=&quot;loincCoding&quot; /&gt;\n      &lt;min value=&quot;1&quot; /&gt;\n      &lt;max value=&quot;1&quot; /&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.code.coding:loincCoding.system&quot;&gt;\n      &lt;path value=&quot;Observation.code.coding.system&quot; /&gt;\n      &lt;fixedUri value=&quot;http://loinc.org&quot; /&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.code.coding:loincCoding.code&quot;&gt;\n      &lt;path value=&quot;Observation.code.coding.code&quot; /&gt;\n      &lt;fixedCode value=&quot;47092-2&quot; /&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.code.coding:loincCoding.display&quot;&gt;\n      &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/elementdefinition-translatable&quot;&gt;\n        &lt;valueBoolean value=&quot;true&quot; /&gt;\n      &lt;/extension&gt;\n      &lt;path value=&quot;Observation.code.coding.display&quot; /&gt;\n      &lt;defaultValueString value=&quot;Natriuretic peptide B [Moles/volume] in Serum or Plasma&quot; /&gt;          *** fixedString replaced by defaultValueString\n    &lt;/element&gt;\n</code></pre></div>\n<p>however in R4, this is giving an error: <code>sdf-21    Default values can only be specified on specializations</code>, because our derivation is typically a <code>constraint</code>, nor a <code>specialization</code>.</p>\n<p>**what is the rationale for sdf-21, and more importantly the recommended way to specify one or multiple preferred display string(s)? <br>\n**<br>\n my last resort is to leave the display out, fully, but I prefer to give guidance on the preference.</p>",
        "id": 256628635,
        "sender_full_name": "David Simons",
        "timestamp": 1633632162
    },
    {
        "content": "<p>Generally you don't constrain 'display' at all - you allow that to be handled by terminologyServices.  \"default\" values aren't allowed to be set except in logical models.</p>",
        "id": 256633851,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1633634121
    },
    {
        "content": "<p>Thank you Lloyd - yeah - I will look into doing it via the ValueSet binding, and underlying CodeSystem indeed, incl. translations and designations. Not trivial :) Terminology Services - to find and validate the display for a code - may not always be available design-time.</p>",
        "id": 256699808,
        "sender_full_name": "David Simons",
        "timestamp": 1633678261
    },
    {
        "content": "<p>True - but if you're going to do anything with display names, the most you can realistically do is spit out a warning if it varies from the collection of names known to the terminology server.  You can't specify defaults (for display or anything else) and you don't want to specify a fixed value.  If you don't have a terminology server to check it, then your alternative is to leave it wide open.  (Which essentially it is anyhow because you can always have a language translation or a narrow value set that overrides the display name with something context-specific.  Validation is, at most, a warning.)</p>",
        "id": 256765833,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1633710440
    },
    {
        "content": "<p>Is there any way to include a human-readable comment/hint (derived from the display text) along with the system::code constraints, about what the code is about? (when removing the display constraint, this is no longer obvious to a human, looking at the profile alone)</p>\n<p><a href=\"/user_uploads/10155/K-Jim5EXYxuwznox1ntyPw4A/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/K-Jim5EXYxuwznox1ntyPw4A/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/K-Jim5EXYxuwznox1ntyPw4A/image.png\"></a></div><p>There's a few options - which one would be recommended?<br>\n<a href=\"/user_uploads/10155/gXs5Gpp_CxxNG_VTFyAjken-/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/gXs5Gpp_CxxNG_VTFyAjken-/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/gXs5Gpp_CxxNG_VTFyAjken-/image.png\"></a></div><p>I'm leaning toward <code>label</code> and <code>comment</code>, to explain the <code>fixedCode</code>.</p>",
        "id": 267434180,
        "sender_full_name": "David Simons",
        "timestamp": 1641819025
    },
    {
        "content": "<p>'label' is what you use to prompt a human to fill in the element - which isn't something I'd expect if the Coding is already fixed/expected to follow a pattern.  If you're declaring a pattern that asserts a particular code and you want to document what the code actually means, ElementDefinition.comment is probably the best place for that.</p>",
        "id": 267454528,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1641829235
    },
    {
        "content": "<p>Thank you - ElementDefinitions.comment it is :)</p>",
        "id": 267457990,
        "sender_full_name": "David Simons",
        "timestamp": 1641830466
    },
    {
        "content": "<p>Of course - this will not be validated since it is human readable. At least, I don't think there is a way to do so, readily.</p>\n<p><a href=\"/user_uploads/10155/mgBEGp44R105Mp7w6OuYwvGd/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/mgBEGp44R105Mp7w6OuYwvGd/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/mgBEGp44R105Mp7w6OuYwvGd/image.png\"></a></div>",
        "id": 267494547,
        "sender_full_name": "David Simons",
        "timestamp": 1641846183
    },
    {
        "content": "<p>If you want to mandate a particular display value, you can include it in the pattern.  If you want to constrain to one of a small set, you can bind a required value set to the display element.  If you want to spit out a warning if it's not part of a small set, you can provide an extensible binding or a warning or best practice invariant.</p>",
        "id": 267535398,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1641875246
    },
    {
        "content": "<p>yeah, a <code>defaultString</code> (recommended) next to a <code>fixedString</code> (mandatory) option would have been useful here - to avoid valuesets and bindings - but then we're back to the beginning of the thread :)<br>\nThank you Lloyd!</p>",
        "id": 267550153,
        "sender_full_name": "David Simons",
        "timestamp": 1641889652
    },
    {
        "content": "<p>defaults aren't allowed in FHIR (logical models only).  However a default and a fixed value on the same element would never make sense as fixed says \"this must appear on the wire\" and default says \"if nothing is specified, presume this\".</p>",
        "id": 267593471,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1641913277
    }
]