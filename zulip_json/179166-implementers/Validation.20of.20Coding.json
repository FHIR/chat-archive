[
    {
        "content": "<p>Hi. </p>\n<p>Using fhir-net-api and have an issue regarding validation. For AllergyIntolerance we have reaction.manifestation which is a CodeableConcept. Currently we don't have access to a code, only the display value and system value. This causes the validation to break.</p>\n<p>This is the output:<br>\n&lt;reaction&gt;<br>\n    &lt;manifestation&gt;<br>\n        &lt;coding&gt;<br>\n            &lt;system value=\"urn:oid:2.16.578.1.12.4.1.1.7497\"/&gt;<br>\n            &lt;display value=\"Anafylaktisk reaksjon\"/&gt;<br>\n        &lt;/coding&gt;<br>\n    &lt;/manifestation&gt;<br>\n&lt;/reaction&gt;</p>\n<p>Looking at the BindingValidator (<a href=\"https://github.com/ewoutkramer/fhir-net-api/blob/04059d168a1e302d13cbb2edef809d26123df765/src/Hl7.Fhir.Specification/Validation/BindingValidator.cs\" target=\"_blank\" title=\"https://github.com/ewoutkramer/fhir-net-api/blob/04059d168a1e302d13cbb2edef809d26123df765/src/Hl7.Fhir.Specification/Validation/BindingValidator.cs\">https://github.com/ewoutkramer/fhir-net-api/blob/04059d168a1e302d13cbb2edef809d26123df765/src/Hl7.Fhir.Specification/Validation/BindingValidator.cs</a>) it seems code is mandatory. However, looking at <a href=\"https://www.hl7.org/fhir/datatypes.html#codesystem\" target=\"_blank\" title=\"https://www.hl7.org/fhir/datatypes.html#codesystem\">https://www.hl7.org/fhir/datatypes.html#codesystem</a> the cardinality is 0..1.</p>\n<p>Any thoughts on this? Is it a bug in the validator or are we interpreting the standard the wrong way?</p>\n<p>Thanks,<br>\nStephan</p>",
        "id": 153996903,
        "sender_full_name": "Stephan Kristiansen",
        "timestamp": 1536912237
    },
    {
        "content": "<p>how can you have a display without a code?</p>",
        "id": 153996913,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536913324
    },
    {
        "content": "<p>i don't know. Maybe it's just a dropdown of values selected in the user interface? Not connected to a specific code it seems like. At least not available for us. Thats beside the point here, but appreciate the question.</p>",
        "id": 153996915,
        "sender_full_name": "Stephan Kristiansen",
        "timestamp": 1536913681
    },
    {
        "content": "<p>well, you cannot choose a display without choosing a code. The definition of display is 'the display specified for the code in the system'. No code =&gt; no display.</p>",
        "id": 153996916,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536913777
    },
    {
        "content": "<p>if you just have a text, you should put it in CodeableConcept.text not Coding.display</p>",
        "id": 153996917,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536913797
    },
    {
        "content": "<p>Not really the definition IMO. It could be just a list of display values, with no code associated with it. The standard says 0..1 on code, so seems like it has been thought of. Maybe we have to think differently about where to put the textual description of the reaction.</p>",
        "id": 153996918,
        "sender_full_name": "Stephan Kristiansen",
        "timestamp": 1536913949
    },
    {
        "content": "<p>CodeableConcept.text</p>",
        "id": 153996958,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536917879
    },
    {
        "content": "<p>What <em>is</em> the reason for code being 0..1 in Coding?  I think the validator is being more assertive than the specification here.  It shouldn't be.  I'd be fine with a best practice warning yelling about a display with no code, but I can't see anything that would make this non-conformant.</p>",
        "id": 153997015,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536936108
    },
    {
        "content": "<p>There are absolutely systems that choose to store the displays and not the codes and treat them as codes.</p>",
        "id": 153997016,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536936137
    },
    {
        "content": "<p>treat what as codes?</p>",
        "id": 153997095,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536972527
    },
    {
        "content": "<p>The problem here is not conformance. Validation validates code. If a system treat displays as code, then that system should have a way to validate the  \"code-like\" display.</p>",
        "id": 153997854,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1537314820
    }
]