[
    {
        "content": "<p>Hi,</p>\n<p>I was looking at implementing sorting by 'date' in Observation, but it is not clear to me from the spec how that is supposed to work. The date Search Parameter maps to Observation.effective[x]. Which can be a single date, a period (where both start and end are optional) or not specified at all.</p>\n<p>How should I sort a period?<br>\nHow should I deal with resources where no 'effective' is provided?</p>\n<p>One option is to sort by the first non-null of  effectiveDateTime, effectivePeriod.start, effectivePeriod.end, lastUpdated, however I'm not sure if using lastUpdated is an appropriate way of dealing with a potentially null effective?</p>",
        "id": 153850965,
        "sender_full_name": "Rowan Foster",
        "timestamp": 1475032574
    },
    {
        "content": "<p>Can you raise a tracker item for this?  We need to specify rules for this.  My guess is we'd sort by the first encountered value in the range (to be consistent with searching on elements that can repeat).  So the low boundary for ascending searches and the high boundary for descending searches</p>",
        "id": 153850969,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1475033178
    },
    {
        "content": "<p>Ok, will do</p>",
        "id": 153850970,
        "sender_full_name": "Rowan Foster",
        "timestamp": 1475033258
    },
    {
        "content": "<p>I think we do specify all the rules for this under date earching</p>",
        "id": 153850984,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1475035885
    },
    {
        "content": "<p>Do you mean this part from <a href=\"http://hl7.org/fhir/2016Sep/search.html#sort\" target=\"_blank\" title=\"http://hl7.org/fhir/2016Sep/search.html#sort\">_sort</a> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>?</p>\n<blockquote>\n<p>A search parameter can refer to an element that repeats, and therefore there can be multiple values for a given search parameter for a single resource. In this case, the sort is based on the item in the set of multiple parameters that comes earliest in the specified sort order when ordering the returned resources.</p>\n</blockquote>\n<p>It refers to repeating items, but I guess the same concept could be applied to periods as well. Although that doesn't cover what to do for resources where the item being sorted on doesn't exist. For sorting with a dates, should no value mean the dawn of time?</p>",
        "id": 153851013,
        "sender_full_name": "Rowan Foster",
        "timestamp": 1475048531
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I don't see anything about sorting by date or quantity ranges</p>",
        "id": 153851111,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1475094421
    },
    {
        "content": "<p>well, that's what :missing is for </p>",
        "id": 153851176,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1475118436
    },
    {
        "content": "<p>no, we don't say anything about sorting, that's true</p>",
        "id": 153851177,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1475118446
    },
    {
        "content": "<p>Raised tracker item in gforge<br>\n<a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12205\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12205\">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12205</a></p>",
        "id": 153851330,
        "sender_full_name": "Rowan Foster",
        "timestamp": 1475178015
    }
]