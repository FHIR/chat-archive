[
    {
        "content": "<p>Haven't yet signed up for the FHIR ballot but wanted to ask this before I put in a question (item?) about this.</p>\n<p>The 3 Device-related resources use a property field named \"type\".   When using these resources with JSchema, this causes a problem because \"type\" is a reserved word in JSchema.   Has this issue already been raised on the FHIR R4 ballot?</p>",
        "id": 153929186,
        "sender_full_name": "John Silva",
        "timestamp": 1516184043
    },
    {
        "content": "<p>Yikes, looking around I just realized that the \"type\" property is used on many (!) resources.   How is (or can) this be reconciled with the collision with JSchema's \"type\" if we are going to use JSchema for validating FHIR JSON payloads?</p>",
        "id": 153929202,
        "sender_full_name": "John Silva",
        "timestamp": 1516187823
    },
    {
        "content": "<p>JSON schema cannot reserve a word like 'type'.  Take it up with them</p>",
        "id": 153929203,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516187886
    },
    {
        "content": "<p>OK, maybe it's just the JSON validator that I'm using (Newtonsoft's); need to investigate further.</p>",
        "id": 153929215,
        "sender_full_name": "John Silva",
        "timestamp": 1516189263
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194183\">@John Silva</span> I'm assuming that you do know about the .NET fhir client NuGet package too? (which has an implementation of the FHIR validator)<br>\n(and the dotnet stream here on zulip <a href=\"#narrow/stream/dotnet\" title=\"#narrow/stream/dotnet\">https://chat.fhir.org/#narrow/stream/dotnet</a>)</p>",
        "id": 153929349,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1516222265
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>  -- thanks, I haven't looked at that; does that code also have a JSON validator?</p>",
        "id": 153929378,
        "sender_full_name": "John Silva",
        "timestamp": 1516241757
    },
    {
        "content": "<p>It validates based on in-memory poco's, which could be parsed from xml and json, it does not validate the json directly (like a jsonschema validator would), so it's targeted at a slightly different usecase (e.g. where you also need to accept xml).  Also, JsonSchema cannot represent all constraints made in profiles - but I am guessing you are validating against the basic resources (e.g. Patient) in the specification?</p>",
        "id": 153929614,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1516368987
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span>  - yes, I realize that there is a hierarchy of what any (computer-based) validator can do; I remember reading some document (FHIR webpage) that explained this; and JSON validation was one of the 'lower ones' (i.e. less effective than others like XML with Schematron).<br>\nMy  use case is about validating that specific properties that we need in FHIR resources are populated (i.e. required).   When I first looked at the auto-generated fhir-schema.json it seems like virtually every property is optional (except for 'resourceType') so it didn't provide much help; even in the cases where FHIR has a 1..* cardinality?</p>",
        "id": 153929732,
        "sender_full_name": "John Silva",
        "timestamp": 1516395796
    },
    {
        "content": "<p>that should not be - the JSON schema cardinality should match the FHIR cardinality- can you point to examples where it doesn't?</p>",
        "id": 153929766,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516425932
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  -- I did a quick check; one example is the Observation resource.  In the fhir.schema.json file I'm looking at (not sure which version since I downloaded it a few months ago) it has only the 'code' and 'resourceType' properties as required in JSON Schema, even though the resource definition has 'status' indicated with cardinality of 1..1 (i.e. required).    I seem to remember having run into other examples of this as well.</p>",
        "id": 153929780,
        "sender_full_name": "John Silva",
        "timestamp": 1516464393
    },
    {
        "content": "<p>oh. that's complicated. it's true that status is a required element, but in the json format, you may have either status or _status. So neither is required</p>",
        "id": 153929789,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516475919
    },
    {
        "content": "<p>Yes, I think the fact that virtually everything can be overridden by an extension makes the notion of required-ness not very useful with JSchema.</p>",
        "id": 153929804,
        "sender_full_name": "John Silva",
        "timestamp": 1516481814
    }
]