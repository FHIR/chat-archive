[
    {
        "content": "<p>On an AuditEvent, where would the Patient information be ? I am thinking it is an additional Entity . Anyone with an example would be great.</p>",
        "id": 153997373,
        "sender_full_name": "Larry Richardson",
        "timestamp": 1537195873
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> That seems like a reasonable thing to have clarified in the spec...</p>",
        "id": 153997377,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1537196194
    },
    {
        "content": "<p>It is expressed in the patient query parameter. The Patient might be the .agent thing  acting, or it might be the ENTITY which is being acted upon. Thus the only way to know if the audit event is related to a Patient is to look in both to be sure. Hence why the patient parameter is defined the way it is.</p>",
        "id": 153997381,
        "sender_full_name": "John Moehrke",
        "timestamp": 1537196386
    },
    {
        "content": "<p>How more can this be explained?</p>",
        "id": 153997382,
        "sender_full_name": "John Moehrke",
        "timestamp": 1537196393
    },
    {
        "content": "<p>hence why the patient parameter has the expression <code>AuditEvent.agent.who.where(resolve() is Patient) | AuditEvent.entity.what.where(resolve() is Patient)</code></p>",
        "id": 153997384,
        "sender_full_name": "John Moehrke",
        "timestamp": 1537196452
    },
    {
        "content": "<p>ok, thanks. That's a start for me.</p>",
        "id": 153997385,
        "sender_full_name": "Larry Richardson",
        "timestamp": 1537196497
    },
    {
        "content": "<p>Note that is not sufficient. As you see with some of the examples, an AuditEvent is often created by software that is unaware of the second level indirections. So for example the example for vread simply records what it can know, that the vread was done by a specific user of a specific resource. So you see no indication of the patient for that resource.   <a href=\"http://build.fhir.org/audit-event-example-vread.html\" target=\"_blank\" title=\"http://build.fhir.org/audit-event-example-vread.html\">http://build.fhir.org/audit-event-example-vread.html</a></p>",
        "id": 153997392,
        "sender_full_name": "John Moehrke",
        "timestamp": 1537196852
    },
    {
        "content": "<p>a local Implementation Guide might add an additional criteria that the Patient resource must be discovered by the auditEvent recording software so that an .entity can be recorded with that Patient reference. -- Such as what IHE does with many of their profiles such as XDS.</p>",
        "id": 153997393,
        "sender_full_name": "John Moehrke",
        "timestamp": 1537196935
    },
    {
        "content": "<p>This is exactly what I am doing. I am writing the audit events out right now.</p>",
        "id": 153997394,
        "sender_full_name": "Larry Richardson",
        "timestamp": 1537196987
    },
    {
        "content": "<p>I am actually surprised that the EHRS LE implementation guide didn't do that. It appears to have only made all elements required to be supported.</p>",
        "id": 153997395,
        "sender_full_name": "John Moehrke",
        "timestamp": 1537197039
    }
]