[
    {
        "content": "<p>Sometime I hate Zulip. I lost my message.<br>\nTry again.<br>\nIn Forge I have created a profile called PhdBaseObservation which contains constrained elements common to all profiles. I want to 'inherit' this profile in, for example, PhdNumericObservation. How do I do that?</p>\n<p>Thanks</p>",
        "id": 153921546,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1511557426
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span></p>",
        "id": 153921556,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1511559398
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span>, You can create a derived profile in Forge using the \"New Derived Profile\" command, which you can find in the File menu and in the Explorer toolbar. Forge will then open a file dialog for you to select an existing base profile (on disk).</p>",
        "id": 153921635,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1511779598
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span>  Thanks for that. While I am at it, how do I import a 'complete' profile into Simplifier and not just the difference. I think it has something to do with exporting in Forge which now gives me an XML with difference and not 'total' fields.</p>",
        "id": 153921637,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1511781499
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span> , in the Options menu in Forge you can select or deselect the option \"Save snapshot component\". By default this is not selected and your StructureDefinition is saved as a differential. By selecting this option, Forge will save the complete profile.</p>",
        "id": 153921652,
        "sender_full_name": "Lilian Minne",
        "timestamp": 1511793659
    },
    {
        "content": "<blockquote>\n<p>Hi <span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span> , in the Options menu in Forge you can select or deselect the option \"Save snapshot component\". By default this is not selected and your StructureDefinition is saved as a differential. By selecting this option, Forge will save the complete profile.</p>\n</blockquote>\n<p>Thank you Lilian</p>",
        "id": 153921653,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1511793715
    },
    {
        "content": "<p>When you upload to Simplifier from Forge, the application now always emits a snapshot (regardless of the configuratio setting). As of three weeks ago, Simplifier is now capable of expanding the snapshot itself (only for DSTU3 profiles). So you should now always see a snapshot rendering on Simplifier.</p>",
        "id": 153921822,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1511870110
    },
    {
        "content": "<blockquote>\n<p>Hi <span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span>, You can create a derived profile in Forge using the \"New Derived Profile\" command, which you can find in the File menu and in the Explorer toolbar. Forge will then open a file dialog for you to select an existing base profile (on disk).</p>\n</blockquote>\n<p>Okay, that is great but I currently have a set of profiles which I would like to simplify and 'base' upon a single base profile. Is there a way to modify an existing profile such that it is based upon another profile or do I have to do the non-common stuff all over again?</p>",
        "id": 153923413,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1512666463
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span>, Forge won't let you update the base profile, but you can do it manually by editing the JSON/XML. If you re-open the updated profile in Forge, the application will re-expand the snapshot according to the new base profile. Then Forge will re-calculate the differential and remove any redundant differential constraints (now inherited from the base). You may have to correct some constraints that have become invalid w.r.t. new base. Finally, you can save the new rebased profile.</p>",
        "id": 153923414,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1512667007
    },
    {
        "content": "<p>Okay, lets see if I understand<br>\nI have the base profile and I have a profile that I want to inherit that base profile. So I make a new project as stated and open up the base profile. I save it. Then I hand-edit the result and add the material from the profile I want to simplify. Is that correct?</p>",
        "id": 153923415,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1512667195
    },
    {
        "content": "<p>I assume you've already created your new \"base\" profile, and that you now want to re-base all your existing profiles on top of the new base, right?</p>",
        "id": 153923417,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1512667246
    },
    {
        "content": "<p>YES!!!</p>",
        "id": 153923418,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1512667259
    },
    {
        "content": "<p>Let me try to explain again...</p>",
        "id": 153923419,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1512667325
    },
    {
        "content": "<p>1) Prepare your new custom \"base\" profile<br>\n2) Open an existing profile in a text editor<br>\n3) Edit the StructureDefinition.base property, update value to the url of your new \"base\" profile<br>\n4) Save to disk<br>\n5) Open the modified profile in Forge<br>\n   Forge will re-expand the snapshot w.r.t. the new custom base profile<br>\n   Forge will then re-calculate the differential and remove all redundant constraints (already present in new base profile)<br>\n6) Correct errors (if any)<br>\n7) Save to disk</p>\n<p>You have now re-based your existing profile.</p>",
        "id": 153923422,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1512667455
    },
    {
        "content": "<p>Okay,</p>\n<p>I give it a whirl!</p>\n<p>So I try this<br>\n&lt;baseDefinition value=\"PhdBaseObservation\" /&gt;<br>\ninstead of the old one</p>",
        "id": 153923423,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1512667602
    },
    {
        "content": "<p>Just experiment with a single test profile. Once you understand the process, you can update the others.</p>",
        "id": 153923425,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1512667838
    },
    {
        "content": "<p>Correct, point the value of StructureDefinition.baseDefinition to the canonical url (!) of your new base profile.</p>",
        "id": 153923426,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1512667928
    },
    {
        "content": "<p>I get this error no matter what I try to open ( I deleted a file). But I am only trying to open a single file, not an IG or anything like that.</p>\n<p>2017-12-07T12:32:00<br>\nForge Forge 16.5 for HL7 FHIR STU3<br>\nVersion: Version 16.5.0.0<br>\nFHIR Version: FHIR .NET API library for 3.0.1</p>\n<hr>\n<p>FileNotFoundException in mscorlib:<br>\nCould not find file 'E:\\projects\\FHIR_Profile\\PhdNumericObservation.structuredefinition - Copy.xml'.<br>\n   at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)<br>\n   at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)<br>\n   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)<br>\n   at Hl7.Fhir.Specification.Source.XmlFileConformanceScanner.List()<br>\n   at Hl7.Fhir.Specification.Source.DirectorySource.&lt;prepareResources&gt;g__scanPaths37_5(List<code>1 paths)\n   at Hl7.Fhir.Specification.Source.DirectorySource.prepareResources()\n   at Hl7.Fhir.Specification.Source.DirectorySource.ResolveByCanonicalUri(String uri)\n   at Hl7.Fhir.Specification.Source.CachedResolver.InternalResolveByCanonicalUri(String url)\n   at Hl7.Fhir.Specification.Source.CachedResolver.&lt;.ctor&gt;b__3_1(String id)\n   at Hl7.Fhir.Specification.Source.CachedResolver.Cache</code>1.Get(String identifier, CachedResolverLoadingStrategy strategy)<br>\n   at Hl7.Fhir.Specification.Source.CachedResolver.ResolveByCanonicalUri(String url)<br>\n   at Hl7.Fhir.Specification.Source.MultiResolver.ResolveByCanonicalUri(String uri)<br>\n   at Hl7.Fhir.Specification.Snapshot.SnapshotGenerator.generate(StructureDefinition structure)<br>\n   at Hl7.Fhir.Specification.Snapshot.SnapshotGenerator.Generate(StructureDefinition structure)<br>\n   at Forge.ViewModels.FhirSnapshots.expandAll(StructureDefinition structureDef, IResourceResolver resolver, Boolean useSnapshot)<br>\n   at Forge.ViewModels.StorageHandlerUtils.CreateStorageHandlers(IProfileVM target, String typeName)<br>\n   at Forge.ViewModels.ProfileVM.set_ModelElement(Base value)<br>\n   at Forge.ViewModels.ProfileVM.Initialize(Base modelElement, Base baseElement)<br>\n   at Forge.ViewModels.ProfileVM..ctor(ISessionItem owner, StructureDefinition model, StructureDefinition baseModel, String contentDirectory)<br>\n   at Forge.ViewModels.SessionItemVM.CreateResourceVM(SessionItemVM owner, Resource model, String contentDirectory)<br>\n   at Forge.ViewModels.SessionItemVM..ctor(ISessionItem owner, IDocument document, Resource model)<br>\n   at Forge.ViewModels.SessionItemVM.Open(IDocument document, Boolean dontLoad, Boolean asCopy)<br>\n   at Forge.ViewModels.SessionItemVM.Open(Uri url, Boolean dontLoad, Boolean asCopy)<br>\n   at Forge.ViewModels.SessionItemVM.Open(Boolean asCopy)<br>\n   at Forge.ViewModels.SessionItemVM.Open()<br>\n   at Forge.ViewModels.SessionVM.&lt;&gt;c.&lt;onOpen&gt;b__178_0(ISessionItem item)<br>\n   at Forge.ViewModels.SessionVM.&lt;&gt;c__DisplayClass162_0.&lt;executeItemCollectionCommand&gt;b__0()<br>\n   at Forge.Common.UIServices.ExecuteOnUIThread(Action action)<br>\n   at Forge.ViewModels.SessionVM.executeCommand(Action action)</p>",
        "id": 153923427,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1512667997
    },
    {
        "content": "<p>Maybe caching issue. Try to close and re-open the application.</p>",
        "id": 153923428,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1512668038
    },
    {
        "content": "<blockquote>\n<p>Maybe caching issue. Try to close and re-open the application.</p>\n</blockquote>\n<p>Okay, that solved that problem. Good to know.</p>\n<p>NOw I have a URL problem trying to point to my base profile. It says it cannot find my base profile<br>\nAll I have is </p>\n<p>&lt;baseDefinition value=\"PhdBaseObservation\" /&gt;</p>\n<p>since the base profile is in the same directory as the profile I am playing with</p>",
        "id": 153923429,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1512668178
    }
]