[
    {
        "content": "<p>There are two aspects of <code>Composition.relatesTo</code> that are not quite clear to me:</p>\n<p>1. What is the proper way to refer to another FHIR Document <code>Bundle</code> that is only stored <em>in toto</em> as a <code>Bundle</code>, so that the corresponding <code>Composition</code>does not have its own server URL? <br>\n2. In the documentation (STU3 and R4), it says the following about <a href=\"https://build.fhir.org/documents.html\" target=\"_blank\" title=\"https://build.fhir.org/documents.html\">FHIR Documents</a>:</p>\n<blockquote>\n<p>Any resource referenced directly in the Composition SHALL be included in the bundle when the document is assembled.</p>\n</blockquote>\n<p>That would seem to imply that a <code>Composition</code>referred to in <code>relatesTo</code>(or at least <code>relatesTo.targetReference</code>) must actually be included in the Document (which, as <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span> pointed out, could lead to a recursion of includes), yet it is not on the list of  applicable fields that followed in the documentation. Seems like a tracker candidate, or am I missing smt?</p>",
        "id": 154021538,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1543484099
    },
    {
        "content": "<p>both are good points for trackers please.</p>",
        "id": 154021559,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1543486145
    },
    {
        "content": "<p>#2 relatesTo is not on the list of includes, for obvious reasons, but it would be good to actually say so</p>",
        "id": 154021560,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1543486161
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  OK, I will add the tracker items. Do you have a feeling for the right answer to #1?</p>",
        "id": 154021564,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1543486273
    },
    {
        "content": "<p>[bundle]#[id] where bundle is the url of the bundle, and id is the id of the composition resource</p>",
        "id": 154021565,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1543486429
    },
    {
        "content": "<p>Tracker items:</p>\n<ul>\n<li>How to use <code>Composition.relatesTo</code>: <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19710&amp;start=13050\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19710&amp;start=13050\">#19710</a></li>\n<li>Explanation of what resources must be included in document: <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19711&amp;start=13050\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19711&amp;start=13050\">#19711</a></li>\n</ul>",
        "id": 154021615,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1543492547
    },
    {
        "content": "<blockquote>\n<p>[bundle]#[id] where bundle is the url of the bundle, and id is the id of the composition resource</p>\n</blockquote>\n<p>by Id you mean the actual id of the entry and not the fullUrl, right? So these IDs have to be unique then. I couldn't find an explicit statement about ID uniqueness inside a Bundle, only could find bdl-7 which states uniqueness about fullUrls</p>",
        "id": 154021650,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1543498013
    },
    {
        "content": "<p>an alternative is the use of DocumentReference that points at the bundled composition. This would work well if, as you mentioned, the composition is not decomposed into that FHIR server. If it is 'only' maintained as a bundled composition, then it might be best referenced as a document using DocumentReference.</p>",
        "id": 154021691,
        "sender_full_name": "John Moehrke",
        "timestamp": 1543504197
    }
]