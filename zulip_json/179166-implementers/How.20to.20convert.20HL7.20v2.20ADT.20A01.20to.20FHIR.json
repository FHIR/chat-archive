[
    {
        "content": "<p>We'd like to replace HL7 v2 A01 transactions with FHIR resource transactions, and we look for design options to map ADT A01 to FHIR resources. Based on researches through the docs and discussions, there two potential design patterns stand out to me:<br>\n(a) Map ADT A01 to Encounter with extensions for children resource references<br>\n(b) Model ADT as FHIR messaging process with a bundle of several resources and linkage info<br>\nWhat are your recommendations?<br>\nThanks</p>\n<p><a href=\"/user_uploads/10155/L6KAieFfHyzqqun7hygsQ1vT/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/L6KAieFfHyzqqun7hygsQ1vT/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\"><img src=\"/user_uploads/10155/L6KAieFfHyzqqun7hygsQ1vT/pasted_image.png\"></a></div>",
        "id": 153854961,
        "sender_full_name": "jassy",
        "timestamp": 1477970066
    },
    {
        "content": "<p>why would you have extensions? </p>",
        "id": 153854968,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477980350
    },
    {
        "content": "<p>Hi Grahame, I assume you refer to my option (a), using Encounter as root resource to cover entire ADT A01. For example,  A01 segment IN1 is about insurance information and Encounter doesn't have any property for it currently, so one way I can think of is to add an extension referencing to Coverage resource to map IN1.  </p>",
        "id": 153854972,
        "sender_full_name": "jassy",
        "timestamp": 1477982838
    },
    {
        "content": "<p>what's the relationship between coverage and encounter then? Is the coerage only for the encounter? I think that's not right</p>",
        "id": 153854973,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1477982969
    },
    {
        "content": "<p>Coverage would not be only for Encounter.  It is just being referenced by Encounter, the same as Patient referenced by Encounter.</p>",
        "id": 153854974,
        "sender_full_name": "jassy",
        "timestamp": 1477983219
    },
    {
        "content": "<p>In STU 3, Encounter points to Account which points to Coverage</p>",
        "id": 153855000,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1477993675
    },
    {
        "content": "<p>and Account is draft.</p>",
        "id": 153855024,
        "sender_full_name": "Paul Knapp",
        "timestamp": 1478018689
    },
    {
        "content": "<p>Sounds like both option (a) and (b) would be viable approaches. Account in Encounter would be helpful in this regard.</p>",
        "id": 153855026,
        "sender_full_name": "jassy",
        "timestamp": 1478019450
    },
    {
        "content": "<p>Yes to encounter as the focal resource, but I'm not sure it needs to reference each of the other resources, it may be that Encounter links to PAtient adn Account or COverage links to Patient and thereby they are connected.</p>",
        "id": 153855029,
        "sender_full_name": "Paul Knapp",
        "timestamp": 1478024016
    },
    {
        "content": "<p>Isn't the Coverage specified in an ADT to say 'this is the Patient's insurance' in case it is not already on file, it is not saying this is the Coverage which should only be used for this encounter. Therefore the ADT becomes a suite of creates/conditional creates/updates.</p>",
        "id": 153855030,
        "sender_full_name": "Paul Knapp",
        "timestamp": 1478024112
    },
    {
        "content": "<p>I agree to both points made here. </p>",
        "id": 153855033,
        "sender_full_name": "jassy",
        "timestamp": 1478026219
    },
    {
        "content": "<p>Then I think you would want to create a Transaction bundle containing a suite of resources with conditional actions.</p>",
        "id": 153855044,
        "sender_full_name": "Paul Knapp",
        "timestamp": 1478028505
    },
    {
        "content": "<p>Yes, well put. If the service contract allows/wants to update any referenced resources beside the root (parent) resource Encounter, then a Transaction Bundle will be in order - variation of option (a).  </p>",
        "id": 153855048,
        "sender_full_name": "jassy",
        "timestamp": 1478031997
    },
    {
        "content": "<p>So far, I have done all my V2-&gt;FHIR mappings with Transaction Bundles, using conditional create or conditional update (depending on whether the sender is the \"source of truth\" for the respective resource. If updating referenced resources is not allowed, conditional references are handy.</p>",
        "id": 153855120,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1478117370
    },
    {
        "content": "<p><a href=\"http://wiki.hl7.org/index.php?title=201605_Conditional_Reference_Connectathon_Proposal\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=201605_Conditional_Reference_Connectathon_Proposal\">http://wiki.hl7.org/index.php?title=201605_Conditional_Reference_Connectathon_Proposal</a></p>",
        "id": 153855121,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1478117396
    },
    {
        "content": "<p>Here's a tutorial on mapping an ADT interface to a FHIR Patient record.<br>\n<a href=\"https://medium.com/@awatson1978/hl7-v2-to-fhir-interface-mapping-f83c6ecf6bee#.otvz5yqr3\" target=\"_blank\" title=\"https://medium.com/@awatson1978/hl7-v2-to-fhir-interface-mapping-f83c6ecf6bee#.otvz5yqr3\">https://medium.com/@awatson1978/hl7-v2-to-fhir-interface-mapping-f83c6ecf6bee#.otvz5yqr3</a></p>",
        "id": 153874164,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1488334328
    }
]