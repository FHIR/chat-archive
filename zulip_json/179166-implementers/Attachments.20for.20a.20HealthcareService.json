[
    {
        "content": "<p>I want to publish an attachment with a HealthcareService (e.g., a menu for a meals on wheels service). </p>\n<p>However, the DocumentReference resource does not allow the subject to be a HealthcareService (it can only be Practitioner | PractitionerRole | Organization | Device | Patient). </p>\n<p>What would be the best way to attach documents to a HealthcareService?</p>",
        "id": 207211881,
        "sender_full_name": "Tim Berezny",
        "timestamp": 1597709951
    },
    {
        "content": "<p>you could use the HealthcareService.photo field which is an Attachment</p>",
        "id": 207212806,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597710976
    },
    {
        "content": "<p>Yes, but that's 0..1 and I need a many attachments.</p>",
        "id": 207214024,
        "sender_full_name": "Tim Berezny",
        "timestamp": 1597712438
    },
    {
        "content": "<p>then extension-time it is!</p>",
        "id": 207214220,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597712651
    },
    {
        "content": "<p>Would the correct approach be to extend DocumentReference to be able to point to a HealthcareService? Or extend the HealthcareService to reference many DocumentReference resources?</p>",
        "id": 207214978,
        "sender_full_name": "Tim Berezny",
        "timestamp": 1597713544
    },
    {
        "content": "<p>typically, you would expect the reference to go from HealthcareService to DocumentReference</p>",
        "id": 207215530,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597714279
    },
    {
        "content": "<p>Although I wouldn't use a DocumentReference.  Just have HealthcareService.extension().valueAttachment be 0..*.  Unless you want the ability to reference a menu URL instead of embedding it directly.</p>",
        "id": 207219483,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597720102
    },
    {
        "content": "<p>DocumentReference.subject seems over-constrained to me.  Compositions can have a subject of any resource and DocumentReference is even broader in scope.  <span class=\"user-mention\" data-user-id=\"193959\">@Tim Berezny</span> care to submit a change request to loosen the type restriction?</p>",
        "id": 207795544,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1598223894
    },
    {
        "content": "<p>Yes, I can submit that. </p>\n<p>In the meantime... is there a method to extend what resources an element can reference while I use R4?</p>",
        "id": 207831242,
        "sender_full_name": "Tim Berezny",
        "timestamp": 1598267785
    },
    {
        "content": "<p>Just leave the DocumentRefernce.subject empty. The DocumentReference other elements will describe the content. You could have DocumentReference.context.related point at your HealthService</p>",
        "id": 207844252,
        "sender_full_name": "John Moehrke",
        "timestamp": 1598276624
    },
    {
        "content": "<p>That's a work-around.  But it's appropriate to have DocumentReference.subject point to the resource the document is about.</p>",
        "id": 207850388,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1598279648
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> I never said the CR was not good and proper. I welcome it. I was just responding to the request for \"In the meantime...\"</p>",
        "id": 207850528,
        "sender_full_name": "John Moehrke",
        "timestamp": 1598279731
    },
    {
        "content": "<p>If I implement with documentReference.subject point to HealthcareService (which is not in the constrained list of referenced resources) in R4 ... do I need to do anything special (like an extension) to implement that, or am I breaking any fundamental principles of using FHIR?</p>",
        "id": 208213656,
        "sender_full_name": "Tim Berezny",
        "timestamp": 1598533651
    },
    {
        "content": "<p>that would not be allowed by R4 rules. Hence the request for you to create a Change Request so that in R5 subject can point at anything. This is why I recommended the short term solution is to use .context.related</p>",
        "id": 208215687,
        "sender_full_name": "John Moehrke",
        "timestamp": 1598534694
    },
    {
        "content": "<p>You would need an extension.  However, an extension would be appropriate - especially if you submit a change request and get the change adopted in R5.  (In that case there'd automatically be a 'standard' extension.)</p>",
        "id": 208225707,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1598539265
    },
    {
        "content": "<p>Posted: <a href=\"https://jira.hl7.org/projects/FHIR/issues/FHIR-28366?filter=allissues\">https://jira.hl7.org/projects/FHIR/issues/FHIR-28366?filter=allissues</a></p>",
        "id": 208236842,
        "sender_full_name": "Tim Berezny",
        "timestamp": 1598543583
    },
    {
        "content": "<p>To extend HealthCareservice, is the best approach to add an extra element (called something like \"additionalSubject\") or is there a way to extend the constraint of HealthcareService.subject?</p>",
        "id": 208237446,
        "sender_full_name": "Tim Berezny",
        "timestamp": 1598543874
    },
    {
        "content": "<p>You can put an extension on DocumentReference.subject</p>",
        "id": 208259492,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1598554101
    },
    {
        "content": "<p>What if we refer to the HealthcareService with DocumentReference.context.related? Would that be aligned with the purpose of that field, or a hack?</p>",
        "id": 210182944,
        "sender_full_name": "Tim Berezny",
        "timestamp": 1600200304
    },
    {
        "content": "<p><a href=\"https://www.hl7.org/fhir/documentreference-definitions.html#DocumentReference.context.related\">https://www.hl7.org/fhir/documentreference-definitions.html#DocumentReference.context.related</a></p>",
        "id": 210182975,
        "sender_full_name": "Geoff Ramsay",
        "timestamp": 1600200317
    }
]