[
    {
        "content": "<p>Hi there implementers<br>\nHope you can help.<br>\nWe need help with versions being stripped from AudiEvent entitiy references.</p>\n<p>We are using a HAPI FHIR client version 3.4 to access a HAPI FHIR server (3.1)<br>\nWe can not get the <em>AuditEvent.entity.reference</em> to store the version of the resource being accessed.<br>\nWe are setting the reference like <em>\"CarePlan/12345/_history/5\"</em> <br>\nAnd this is what goes over the wire.<br>\nBut the server only seams to store the Id ie. we only get <em>\"CarePlan/12345\"</em> when reading the AuditEvent<br>\nWe have tried to set the <strong>setDontStripVersionsFromReferencesAtPaths</strong> on the parser configuration after creating the context...but no success.<br>\ncontext.getParserOptions()<br>\n                    .setDontStripVersionsFromReferencesAtPaths(\"AuditEvent.entity.reference\");</p>",
        "id": 153999404,
        "sender_full_name": "Thomas Stigsen",
        "timestamp": 1537783072
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> ?</p>",
        "id": 153999433,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1537800548
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"194988\">@Thomas Stigsen</span> ,</p>\n<p>Have you set the <code>setDontStripVersionsFromReferencesAtPaths</code> setting on the contexts on both the server and the client? This certainly should work.</p>\n<p>One other thing to try would be to register a LoggingInterceptor on your client (or on your server) to log the payload just to verify that the version is actually being transmitted (this would confirm that youhave the syntax right in your argument to setDontStripVersionsFromReferencesAtPaths)</p>",
        "id": 153999467,
        "sender_full_name": "James Agnew",
        "timestamp": 1537808034
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> <br>\nThank you for the answer.<br>\nI can see in the log that we do decorate the ID's with the version.<br>\nSo it must be the target FHIR server that is missing the <code>setDontStripVersionsFromReferencesAtPaths</code> in the configuration.<br>\nWell get that fixed :-)<br>\nThanks - and have a great weekend</p>",
        "id": 154000946,
        "sender_full_name": "Thomas Stigsen",
        "timestamp": 1538128429
    }
]