[
    {
        "content": "<p>The R4 documentation ( <a href=\"https://www.hl7.org/fhir/references.html#literal\" target=\"_blank\" title=\"https://www.hl7.org/fhir/references.html#literal\">https://www.hl7.org/fhir/references.html#literal</a> ) says:<br>\n\"<br>\nReferences can be version specific - that is, a reference may point to a specific version of a resource. e.g.:</p>\n<div class=\"codehilite\"><pre><span></span>  &lt;target&gt;\n    &lt;reference value=&quot;http://example.org/fhir/Observation/1x2/_history/2&quot; /&gt;\n  &lt;/target&gt;\n</pre></div>\n\n\n<p>\"</p>\n<p>This paragraph does not exist in STU3, but the Regex there allows to have the same \".../_history/2\" reference.</p>\n<p>However, using a HAPI STU3 endpoint, and POSTing a transaction Bundle containing</p>\n<div class=\"codehilite\"><pre><span></span>&lt;Observation&gt;\n    ...\n    &lt;reference value=&quot;Patient/2/_history/1&quot;/&gt;\n    ...\n&lt;/Observation&gt;\n&lt;request&gt;\n    &lt;method value=&quot;POST&quot;/&gt;\n    ...\n&lt;/request&gt;\n</pre></div>\n\n\n<p>the resulting Observation will cut the history part of the reference and only contain</p>\n<div class=\"codehilite\"><pre><span></span>&lt;reference value=&quot;Patient/2&quot;/&gt;\n</pre></div>\n\n\n<p>Is this correct according to the STU3 spec, is it a bug/missing feature in HAPI or am I overlooking something?</p>",
        "id": 159613773,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1551360411
    },
    {
        "content": "<p>Being able to point to specific versions has existed at least as far back as DSTU2.  <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> ?</p>",
        "id": 159624629,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1551368544
    },
    {
        "content": "<p>You need to enable versioned references explicit...http://hapifhir.io/doc_resource_references.html#_toc_versioned_references</p>",
        "id": 159904021,
        "sender_full_name": "Maximilian Reith",
        "timestamp": 1551697683
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 159904892,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1551698467
    }
]