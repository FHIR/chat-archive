[
    {
        "content": "<p>Hello,</p>\n<p>I am trying to perform a search: I want to get the encounter(s) where the Encounter.participant.individual contains a reference to the 'PractitionerRole' resource. Within the PractitionerRole resource we have a reference to the Practitioner resource. I want to query by this Practitioner Identifier where system is NPI (<a href=\"http://hl7.org/fhir/sid/us-npi\">http://hl7.org/fhir/sid/us-npi</a>) and the value is NPI323. When I use the  following query it works perfectly and returns the desired encounter resource:<br>\n<a href=\"https://localhost:12443/hapi-fhir-server/R4/Encounter?_filter=participant.practitioner.identifier\">https://localhost:12443/hapi-fhir-server/R4/Encounter?_filter=participant.practitioner.identifier</a> eq NPI323. But when I am trying to bring in the identifier.value as well as identifier.system, the syntax is not accepted. Can you please suggest if there is a method to include the identifiersystem as well as identifier value in the above mentioned query? I want to enable the user to perform the search by provider NPI ID and I understand that using Identifier.type is not a good idea, better is to use identifier.value and Identifier.system</p>",
        "id": 215158749,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1604097403
    },
    {
        "content": "<p>Did you try <code>. .  . eq http://hl7.org/fhir/sid/us-npi| NPI323</code> (that would be the syntax to use for a search parameter, not sure it works in _filter)</p>",
        "id": 215159235,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1604097869
    },
    {
        "content": "<p>Having said that very few server support <code>_filter</code>, so be careful there</p>",
        "id": 215159283,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1604097926
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span>  thank you. I tried that, it was throwing an error with system:<br>\n\"diagnostics\": \"Invalid/unsupported resource type: \\\"sid\\\"\". Is there any other way to use system and value to extract the encounter?</p>",
        "id": 215159862,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1604098425
    },
    {
        "content": "<p>Did you URL encode the _filter parameter?</p>",
        "id": 215162621,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1604100946
    },
    {
        "content": "<p>From the examples at <a href=\"http://hl7.org/fhir/search_filter.html\">http://hl7.org/fhir/search_filter.html</a> that seems the right syntax</p>",
        "id": 215162771,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1604101065
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/179166-implementers/topic/Searching.20Encounter.20by.20Practitioner.20ID.20(NPI)/near/215162621\">said</a>:</p>\n<blockquote>\n<p>Did you URL encode the _filter parameter?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span>  -sorry I didnt get that. I used the query as follows:<br>\n<a href=\"https://localhost:12443/hapi-fhir-server/R4/Encounter?_filter=participant.practitioner.identifier\">https://localhost:12443/hapi-fhir-server/R4/Encounter?_filter=participant.practitioner.identifier</a> eq NPI323 and participant.practitioner.identifier eq <a href=\"http://hl7.org/fhir/sid/us-npi\">http://hl7.org/fhir/sid/us-npi</a> But its giving me the response as - \"diagnostics\": \"Invalid/unsupported resource type: \\\"sid\\\"\"</p>",
        "id": 215164414,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1604102948
    },
    {
        "content": "<p>Got that - try to URL-encode everything after the <code>=</code></p>",
        "id": 215203349,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1604167053
    },
    {
        "content": "<p>(replace spaces with %20, <code>:</code> with %3A and so on)</p>",
        "id": 215203422,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1604167113
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span>  thank you so much <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 215799490,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1604629215
    }
]