[
    {
        "content": "<p>Hi all,<br>\nI have plan build Fhir Server in .Net framework.  I'm looking for git sample project to build basic CRUD operations on certain entities like patient(example). it looks like hapi-fhir-jpaserver. <br>\nHas anyone ever done that project yet? Please give me your example</p>",
        "id": 176258528,
        "sender_full_name": "Dongtu",
        "timestamp": 1569060159
    },
    {
        "content": "<p>There are two .NET server implementations: Firely Spark (<a href=\"https://github.com/FirelyTeam/spark\" target=\"_blank\" title=\"https://github.com/FirelyTeam/spark\">https://github.com/FirelyTeam/spark</a>) and Microsoft FHIR server (<a href=\"https://github.com/Microsoft/fhir-server\" target=\"_blank\" title=\"https://github.com/Microsoft/fhir-server\">https://github.com/Microsoft/fhir-server</a>)</p>",
        "id": 176266312,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1569074937
    },
    {
        "content": "<p>And the fhir facade project at<br>\n Http://github.com/brianpos/fhir-net-web-api<br>\nThis is one intended to show how to do it, but storage is really up to you.<br>\nDemo just uses a file system.</p>",
        "id": 176286847,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1569112154
    },
    {
        "content": "<p>Thank you, I 'll try</p>",
        "id": 176333166,
        "sender_full_name": "Dongtu",
        "timestamp": 1569200824
    },
    {
        "content": "<p>And if you're not looking to build your own, you can use <a href=\"https://fire.ly/products/vonk/\" target=\"_blank\" title=\"https://fire.ly/products/vonk/\">https://fire.ly/products/vonk/</a> <img alt=\":vonk:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/10155/emoji/images/11737.png\" title=\"vonk\"> <br>\nIt's not open source, but does allow for a lot of extensibility via plugins/components: <a href=\"http://docs.simplifier.net/vonk/components/components.html\" target=\"_blank\" title=\"http://docs.simplifier.net/vonk/components/components.html\">http://docs.simplifier.net/vonk/components/components.html</a></p>",
        "id": 176446280,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1569317073
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>  , I tried your opensource (Http://github.com/brianpos/fhir-net-web-api). I think it suits my project.<br>\nI tested some usecase for validate resource by postman. It return html document. But I want to return OperationOutcome. How can I do that?<br>\nI debuged. Exception at line: \"var resource = new FhirJsonParser().Parse&lt;Resource&gt;(jsonReader);\"<br>\n then catch  \"throw new FhirServerException(HttpStatusCode.BadRequest, \"Body parsing failed: \" + exception.Message);\"</p>",
        "id": 176898327,
        "sender_full_name": "Dongtu",
        "timestamp": 1569810426
    },
    {
        "content": "<p>Did you put in the accept header?</p>",
        "id": 176899428,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1569812409
    },
    {
        "content": "<p>Application/xml+fhir</p>",
        "id": 176899433,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1569812427
    },
    {
        "content": "<p>Yes, I did.</p>",
        "id": 176899513,
        "sender_full_name": "Dongtu",
        "timestamp": 1569812564
    },
    {
        "content": "<p>Any exception, it return html doc with error. I want return OperationOutcome example:<br>\n{<br>\n    \"resourceType\": \"OperationOutcome\",<br>\n    \"issue\": [<br>\n        {<br>\n            \"severity\": \"error\",<br>\n            \"code\": \"invalid\",<br>\n            \"details\": {<br>\n<strong>\"text\": \"exception\"</strong><br>\n            }<br>\n        }<br>\n    ]<br>\n}</p>",
        "id": 176899581,
        "sender_full_name": "Dongtu",
        "timestamp": 1569812700
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/1uisNjuprTY4MUy6l0NMxdlq/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/1uisNjuprTY4MUy6l0NMxdlq/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/1uisNjuprTY4MUy6l0NMxdlq/pasted_image.png\"></a></div>",
        "id": 176899686,
        "sender_full_name": "Dongtu",
        "timestamp": 1569812882
    },
    {
        "content": "<p>What are you posting in the body?<br>\nThat looks like a valid operation outcome in json as requested.<br>\nSo I would suggest that what you are sending is dud.</p>",
        "id": 176980711,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1569882802
    },
    {
        "content": "<p>I'm posting Patient Resource and changing value of gender 1 invalid value (ex: \"gender\":\"abc\"). It run to ReadRequestBodyAsync function in file JsonFhirFormatter.cs</p>",
        "id": 176989148,
        "sender_full_name": "Dongtu",
        "timestamp": 1569892018
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/k1FN9VvFDjJ-QvevmEBbjquM/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/k1FN9VvFDjJ-QvevmEBbjquM/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/k1FN9VvFDjJ-QvevmEBbjquM/pasted_image.png\"></a></div>",
        "id": 176989429,
        "sender_full_name": "Dongtu",
        "timestamp": 1569892336
    },
    {
        "content": "<p>You have to catch the errors and convert them to OperationOutcome I guess - maybe a filter is missing on the controller?</p>",
        "id": 177050294,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1569933405
    },
    {
        "content": "<p>this is validate input function, run berfore go to controller. It throw exception when Parse msg</p>",
        "id": 177113737,
        "sender_full_name": "Dongtu",
        "timestamp": 1569979276
    },
    {
        "content": "<p>What's your json payload?</p>",
        "id": 177151926,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1570024472
    },
    {
        "content": "<p>The payload has an invalid gender code - so of course the parsing fails . . . what behavior were you expecting?</p>",
        "id": 177152076,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1570024585
    },
    {
        "content": "<p>I think <span class=\"user-mention\" data-user-id=\"230970\">@Dongtu</span> expected a OperationOutcome for the invalid payload, not HTML code. <span class=\"user-mention\" data-user-id=\"230970\">@Dongtu</span> You need to check if the server has exception filter attached. If not, you need create one to catch validation exception and convert it to OperationOutcome.</p>",
        "id": 177154162,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1570025972
    },
    {
        "content": "<p>This is probably new with the lack of permissive parsing in the lib. When it's updated to a later version should be ok.</p>",
        "id": 177194774,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1570052191
    },
    {
        "content": "<p>Can you report an issue on the github project and I'll take a look</p>",
        "id": 177194789,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1570052215
    }
]