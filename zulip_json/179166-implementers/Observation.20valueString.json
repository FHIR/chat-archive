[
    {
        "content": "<p>Hello,</p>\n<p>I am mapping ORUs to FHIR. Need some advise regarding the formatting of the string data in Observation.value . Consider an example where we convert a report  in raw form from OBX segment(s): &lt;b&gt;CLINICAL HISTORY:&lt;/b&gt; RUQ pain&lt;br/&gt;. &lt;b&gt;COMMENTS:&lt;/b&gt; The visualized liver is of uniform echo texture without evidence of mass or defect. There is no intra or extrahepatic biliary ductal dilatation. The common bile duct measures up to 4 mm. The gallbladder is physiologically distended with multiple calculi&lt;br/&gt;&lt;b&gt;IMPRESSION&lt;/b&gt;: Multiple gallstones with a thickened gallbladder wall and reported positive Murphy's sign. These findings are concerning for acute or chronic cholecystitis. Please correlate clinically&lt;br/&gt;. I the expectation that when we convert this from OBX to FHIR, it should be already formated or there is a way to format this in FHIR as well?</p>",
        "id": 215016432,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1603999800
    },
    {
        "content": "<p>I think it should be a valueAttachment with contentType <code>text/html</code>, except that valueAttachment is not supported by R4</p>",
        "id": 215018414,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1604000830
    },
    {
        "content": "<p>Probably you should map to DiagnostiReport, not Observation: <a href=\"http://hl7.org/fhir/diagnosticreport-mappings.html\">http://hl7.org/fhir/diagnosticreport-mappings.html</a> mentions ORU</p>",
        "id": 215018565,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1604000919
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/179166-implementers/topic/Observation.20valueString/near/215018565\">said</a>:</p>\n<blockquote>\n<p>Probably you should map to DiagnostiReport, not Observation: <a href=\"http://hl7.org/fhir/diagnosticreport-mappings.html\">http://hl7.org/fhir/diagnosticreport-mappings.html</a> mentions ORU</p>\n</blockquote>\n<p>Thankyou <span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span> . But as far as I understand, the DiagnosticReport is an equivalent to the 'OBR\" segment in ORU. I liked the usage of valueAttachment but as you mentioned its not supported currently in R4.  So in terms of workaround it's practical to map the data from ORU to FHIR where formating is already preformed and we simply input the frmated data in the Observation.valueString field. But I am not sure why it's not supported currently. Is this something that's in process for R5 or do we need to raise it as a ticket?</p>",
        "id": 215019799,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1604001518
    },
    {
        "content": "<p>valueAttachment is coming back in R5: <a href=\"http://build.fhir.org/observation.html\">http://build.fhir.org/observation.html</a> - if you can wait...! There is a <a class=\"stream\" data-stream-id=\"179188\" href=\"/#narrow/stream/179188-v2-to-FHIR\">#v2 to FHIR</a> stream where you can possibly get better pointers</p>",
        "id": 215020304,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1604001776
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span>  thank you. :)</p>",
        "id": 215020418,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1604001832
    },
    {
        "content": "<p>Try asking on the <a class=\"stream\" data-stream-id=\"179188\" href=\"/#narrow/stream/179188-v2-to-FHIR\">#v2 to FHIR</a> stream  ( although Micheles is correct about valueAttachment</p>",
        "id": 215026219,
        "sender_full_name": "Eric Haas",
        "timestamp": 1604004816
    }
]