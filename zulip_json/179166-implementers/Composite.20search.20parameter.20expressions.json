[
    {
        "content": "<p>I'm trying to determine what is the proper behavior for SearchParameters of type composite.<br>\nConsider <code>Group-characteristic-value</code> which has an expression like <code>Group.characteristic</code> and the following components:</p>\n<div class=\"codehilite\"><pre><span></span>[\n  {\n    &quot;definition&quot;: &quot;http://hl7.org/fhir/SearchParameter/Group-characteristic&quot;,\n    &quot;expression&quot;: &quot;code&quot;\n  },\n  {\n    &quot;definition&quot;: &quot;http://hl7.org/fhir/SearchParameter/Group-value&quot;,\n    &quot;expression&quot;: &quot;value&quot;\n  }\n]\n</pre></div>\n\n\n<p>The expression there led me to believe that the <code>value</code> component could be ANY of the choice elements for <code>Group.characteristic.value[x]</code></p>\n<p>However, when I look up <code>http://hl7.org/fhir/SearchParameter/Group-value</code> I see that this parameter restricts the values to just CodeableConcept and boolean values:  <code>(Group.characteristic.value as CodeableConcept) | (Group.characteristic.value as boolean)</code></p>\n<p>Can anyone confirm whether Group-characteristic-value is applicable to non-token values?</p>",
        "id": 183096977,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1576008502
    },
    {
        "content": "<p><a href=\"https://www.hl7.org/fhir/searchparameter-definitions.html#SearchParameter.component.expression\" target=\"_blank\" title=\"https://www.hl7.org/fhir/searchparameter-definitions.html#SearchParameter.component.expression\">https://www.hl7.org/fhir/searchparameter-definitions.html#SearchParameter.component.expression</a> says</p>\n<blockquote>\n<p>This expression overrides the expression in the definition and extracts the index values from the outcome of the composite expression.</p>\n</blockquote>\n<p>But if I follow that advice, then my system doesn't like non-code values (Quantity, Range, or Reference) because it doesn't know how to extract those into a search parameter of type token.</p>",
        "id": 183098388,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1576009439
    },
    {
        "content": "<p>this is an error in the definition of Group.  The expression on group is <code>value</code> but should be <code> (value as CodeableConcept) | (value as boolean)</code></p>",
        "id": 183108341,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576015853
    },
    {
        "content": "<p>do you want to make a task to fix this?</p>",
        "id": 183108368,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576015881
    },
    {
        "content": "<p>opened <a href=\"https://jira.hl7.org/browse/FHIR-25297\" target=\"_blank\" title=\"https://jira.hl7.org/browse/FHIR-25297\">https://jira.hl7.org/browse/FHIR-25297</a> - Group-characteristic-value search parameter should be scoped to CodeableConcept | boolean</p>",
        "id": 183121608,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1576030292
    }
]