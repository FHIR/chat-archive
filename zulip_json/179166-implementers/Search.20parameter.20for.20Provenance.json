[
    {
        "content": "<p>Hello all,</p>\n<p>I'm trying to create a search parameter for my provenance resource that would allow to search by agent type and reference. <br>\nMy provenance agent look like that:<br>\n<code>\"agent\": [\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"system\": \"http://terminology.hl7.org/CodeSystem/provenance-participant-type\",\n                  \"code\": \"verifier\",\n                  \"display\": \"Verifier\"\n                }\n              ]\n            },\n            \"who\": {\n              \"reference\": \"Device/4704\"\n            }\n          },\n          {\n            \"type\": {\n              \"coding\": [\n                {\n                  \"system\": \"http://terminology.hl7.org/CodeSystem/provenance-participant-type\",\n                  \"code\": \"enterer\",\n                  \"display\": \"Enterer\"\n                }\n              ]\n            },\n            \"who\": {\n              \"reference\": \"Device/4705\"\n            }\n          }\n        ]\n]</code><br>\nAnd I would like to be able to search something like /Provenance?agent-of-type=Device/4704$verifier&amp;agent-of-type=Device/4705$enterer</p>\n<p>So far I've just been able to search for the reference with:<br>\n\"code\": \"agent-of-type\",<br>\n\"type\": \"reference\",<br>\n\"expression\": \"Provenance.agent.who\"</p>\n<p>Do you know if there is a way to combine it with the type of agent ?<br>\nThanks for your help :)</p>",
        "id": 188631588,
        "sender_full_name": "Camille Van Assel",
        "timestamp": 1582200699
    },
    {
        "content": "<p>I don't think you can do that.. but <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  would know, and I don't want to be told I was wrong for a third time this week... :-)</p>",
        "id": 188638070,
        "sender_full_name": "John Moehrke",
        "timestamp": 1582206540
    },
    {
        "content": "<p>Yes, it'd be possible to define a composite search parameter that did that.  In SearchParameter, you'd have to use SearchParameter.component - one for the type and one for the reference</p>",
        "id": 188650363,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582214069
    }
]