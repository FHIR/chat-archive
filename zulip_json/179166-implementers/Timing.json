[
    {
        "content": "<p>Hi all, what would be the equivalent json format for \"every other week\", \"in morning and at bed time\" and \"at bed time\" using the Timing datatype? Thank you</p>",
        "id": 153928090,
        "sender_full_name": "Pranitha Sruthi",
        "timestamp": 1515480529
    },
    {
        "content": "<p>\"in morning and at bed time\"  every day:<br>\n\"timing\" : {<br>\n        \"period\": 1,<br>\n        \"periodUnit\": \"d\",<br>\n        \"when\" : [\"MORN\", \"HS\"]<br>\n    }</p>",
        "id": 153928110,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1515494896
    },
    {
        "content": "<p>\"every other week\" = \"once every 2 weeks\" which translates to<br>\n\"timing\" : {<br>\n        \"frequency\": 1,<br>\n        \"period\": 2,<br>\n        \"periodUnit\": \"wk\",<br>\n    }</p>",
        "id": 153928112,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1515495009
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  How can I represent 'every other day' in json format?</p>",
        "id": 153928114,
        "sender_full_name": "Pranitha Sruthi",
        "timestamp": 1515495111
    },
    {
        "content": "<p>replace wk by d in the period as described here: <a href=\"http://build.fhir.org/valueset-event-timing.html\" target=\"_blank\" title=\"http://build.fhir.org/valueset-event-timing.html\">http://build.fhir.org/valueset-event-timing.html</a><br>\n\"timing\" : {<br>\n\"frequency\": 1,<br>\n\"period\": 2,<br>\n\"periodUnit\": \"d\",<br>\n}</p>",
        "id": 153928115,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1515495158
    },
    {
        "content": "<blockquote>\n<p>\"every other week\" = \"once every 2 weeks\" which translates to<br>\n\"timing\" : {<br>\n        \"frequency\": 1,<br>\n        \"period\": 2,<br>\n        \"periodUnit\": \"wk\",<br>\n    }</p>\n</blockquote>\n<p>periorUnit will be \"D\"</p>",
        "id": 153928116,
        "sender_full_name": "kler",
        "timestamp": 1515495159
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193168\">@kler</span>  <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  Thank you</p>",
        "id": 153928117,
        "sender_full_name": "Pranitha Sruthi",
        "timestamp": 1515495600
    },
    {
        "content": "<p>How can I represent \"every 4 hours (5 times/day)\"?</p>",
        "id": 153928118,
        "sender_full_name": "Pranitha Sruthi",
        "timestamp": 1515496300
    },
    {
        "content": "<p>Check if this helps,</p>\n<div class=\"codehilite\"><pre><span></span>&quot;timing&quot; : {\n     &quot;repeat&quot;: {\n         &quot;frequency&quot;: 5,\n          &quot;period&quot;: 1,\n           &quot;periodUnit&quot;: &quot;d&quot;\n      }\n     &quot;code&quot;:  &quot;Q4H&quot; -- Every 4 hours at institution specified times\n}\n</pre></div>\n\n\n<p>ref: <a href=\"https://www.hl7.org/fhir/valueset-event-timing.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/valueset-event-timing.html\">https://www.hl7.org/fhir/valueset-event-timing.html</a></p>",
        "id": 153928124,
        "sender_full_name": "Vijay Thangavelu",
        "timestamp": 1515499927
    },
    {
        "content": "<p>Hi all, how can I represent \"2 times a day (3 days a week)\" in json format ?</p>",
        "id": 153928610,
        "sender_full_name": "Mounika",
        "timestamp": 1515734972
    },
    {
        "content": "<p>You can do it if you pick specific days of the week (e.g. M/W/F), but there's no way to encode the statement you provided without using extensions</p>",
        "id": 153928648,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1515771439
    },
    {
        "content": "<p>Hi,</p>\n<p>I am working on mapping events into FHIR using the Timing datatype and I have two different cases that I am struggling to work out how they would look. </p>\n<p>The first case is where you can specify the 1st, 2nd, 3rd, 4th or last day (Monday, Tuesday, etc.) of the month.<br>\nExamples:<br>\n-The 2nd Monday of Every Month<br>\n-The Last Friday of Every Month</p>\n<p>The second case is where you can specify the day (1, 2, 3, ...., last) of the month.<br>\nExamples:<br>\n-The 4th Day of Every Month<br>\n-The Last Day of Every Month</p>\n<p>I have checked out the FHIR documentation on Timing, but have not been able to see a method of achieving this.<br>\n<a href=\"https://www.hl7.org/fhir/datatypes.html#timing\" target=\"_blank\" title=\"https://www.hl7.org/fhir/datatypes.html#timing\">https://www.hl7.org/fhir/datatypes.html#timing</a></p>\n<p>Wondering if anyone can give me a hand?</p>\n<p>Thanks,<br>\n-Josh</p>",
        "id": 157305684,
        "sender_full_name": "Josh Haskins",
        "timestamp": 1548968219
    },
    {
        "content": "<p>the second case:</p>\n<ul>\n<li>choose an arbitary 4th day of a particular month (usually, this month)</li>\n<li>put that in Timing.event</li>\n<li>repeat.frequency = 1</li>\n<li>repeat.period = 1</li>\n<li>repeat.unit = \"mo\"</li>\n</ul>",
        "id": 157306019,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548968434
    },
    {
        "content": "<p>last day of every month - we have no language for that . that's a real use case?</p>",
        "id": 157306045,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548968459
    },
    {
        "content": "<p>maybe hack it by saying 1 day before (using offset) the 1st day of the month</p>",
        "id": 157306081,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548968499
    },
    {
        "content": "<p>the first is a real use case?</p>",
        "id": 157306085,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548968506
    },
    {
        "content": "<p>Interesting --- has anyone looked at how iCalendar or other timing/event based standard deals with this?   I'm sure all the calendar providers have a way to deal with this.   <a href=\"https://stackoverflow.com/questions/43313738/ical-event-on-the-last-day-of-the-month\" target=\"_blank\" title=\"https://stackoverflow.com/questions/43313738/ical-event-on-the-last-day-of-the-month\">https://stackoverflow.com/questions/43313738/ical-event-on-the-last-day-of-the-month</a></p>",
        "id": 157307137,
        "sender_full_name": "John Silva",
        "timestamp": 1548969379
    },
    {
        "content": "<p>Hi Graham,</p>\n<p>Thank you for your quick response. </p>\n<p>Case two, your solution should work, especially with your 'hack'.</p>\n<p>Case one, it is a real world use case. We have an application that allows visits (appointments) to be scheduled with a range of different scheduling patterns, and this one one of them. I suppose I could use an extension for this, and add a property for the actual day of the month.</p>",
        "id": 157307347,
        "sender_full_name": "Josh Haskins",
        "timestamp": 1548969541
    },
    {
        "content": "<p>not obvious what the extension would be. What does iCal do for this?</p>",
        "id": 157308305,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548970292
    },
    {
        "content": "<p>If I had a timing property set to something like this, with an extension that indicated the day number:</p>\n<p>{<br>\n  \"event\": [\"2019-02-21\"],<br>\n  \"repeat\": {<br>\n    \"boundsPeriod\": {<br>\n      \"start\": \"2019-01-21\"<br>\n    },<br>\n    \"frequency\": 1,<br>\n    \"periodUnit\": \"mo\",<br>\n    \"extension\": [{<br>\n      \"url\": \"<a href=\"http://example.com/dayNumber\" target=\"_blank\" title=\"http://example.com/dayNumber\">http://example.com/dayNumber</a>\",<br>\n      \"valueInteger\": 21<br>\n    }]<br>\n  }<br>\n}</p>\n<p>This would indicate The 21st day of every month. Does that make sense?</p>",
        "id": 157316055,
        "sender_full_name": "Josh Haskins",
        "timestamp": 1548976626
    },
    {
        "content": "<p>yes. every second monday is a little more challenging. Which is why I asked about iCal...</p>",
        "id": 157316136,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548976683
    },
    {
        "content": "<p>I could use:</p>\n<p>{<br>\n  \"event\": [\"2019-02-21\"],<br>\n  \"repeat\": {<br>\n    \"boundsPeriod\": {<br>\n      \"start\": \"2019-01-21\"<br>\n    },<br>\n    \"frequency\": 1,<br>\n    \"periodUnit\": \"mo\",<br>\n    \"dayOfWeek\":[\"mon\"],<br>\n    \"extension\": [{<br>\n      \"url\": \"<a href=\"http://example.com/dayOfWeekOccurance\" target=\"_blank\" title=\"http://example.com/dayOfWeekOccurance\">http://example.com/dayOfWeekOccurance</a>\",<br>\n      \"valueString\": \"2\"<br>\n    }]<br>\n  }<br>\n}</p>\n<p>for the 2nd Monday of Every Month. </p>\n<p>Then if it were the Last Friday of Every Month:</p>\n<p>{<br>\n  \"event\": [\"2019-02-21\"],<br>\n  \"repeat\": {<br>\n    \"boundsPeriod\": {<br>\n      \"start\": \"2019-01-21\"<br>\n    },<br>\n    \"frequency\": 1,<br>\n    \"periodUnit\": \"mo\",<br>\n    \"dayOfWeek\":[\"fri\"],<br>\n    \"extension\": [{<br>\n      \"url\": \"<a href=\"http://example.com/dayOfWeekOccurance\" target=\"_blank\" title=\"http://example.com/dayOfWeekOccurance\">http://example.com/dayOfWeekOccurance</a>\",<br>\n      \"valueString\": \"last\"<br>\n    }]<br>\n  }<br>\n}</p>\n<p>I'm not too sure what John was suggesting with iCal...</p>",
        "id": 157316959,
        "sender_full_name": "Josh Haskins",
        "timestamp": 1548977549
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  - I wasn't suggesting using iCal directly but looking at their model of how they represent this so that maybe FHIR's Timing datatype could have an equivalent mechanism.</p>",
        "id": 157342293,
        "sender_full_name": "John Silva",
        "timestamp": 1549015689
    },
    {
        "content": "<p>yes that's what I had in mind</p>",
        "id": 157347349,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1549021662
    },
    {
        "content": "<p>Why 'reinvent the wheel'  ;-)</p>",
        "id": 157354352,
        "sender_full_name": "John Silva",
        "timestamp": 1549029618
    },
    {
        "content": "<p>ServiceRequest has occurence field which is a Date DataType. I need to define a schedule for more than 1 period that repeats. Example:<br>\nRepeat the following<br>\n- 01.03 at 08:00<br>\n- 02.03 at 11:00<br>\n- 03.03 at 17:00</p>\n<hr>\n<p>the 04.03 would restart from 08:00, 05.03 at 11:00 and so on.<br>\nIs it possible to implement this particular case with occurence?</p>",
        "id": 159624843,
        "sender_full_name": "Pietro Ghezzi",
        "timestamp": 1551368614
    },
    {
        "content": "<p>You'd probably need to define 3 separate timings each with a scheduled occurrence every 3 days.  For MedicationRequest, that would be 3 repetitions of dosage.  But for procedures, you might need 3 sub-procedures or some sort of extension.  (You could also submit a change request.)</p>",
        "id": 159625039,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1551368735
    },
    {
        "content": "<p>Hm, this sounds a lot like Explicit Times Interval in HL7 V2 RI (Repeat Interval) data type.  Is this another example of a V2 Timing mechanism that doesn't yet have an equivalent in FHIR?</p>\n<p><a href=\"http://hl7-definition.caristix.com:9010/HL7%20v2.5.1/Default.aspx?version=HL7%20v2.5.1&amp;dataType=RI\" target=\"_blank\" title=\"http://hl7-definition.caristix.com:9010/HL7%20v2.5.1/Default.aspx?version=HL7%20v2.5.1&amp;dataType=RI\">http://hl7-definition.caristix.com:9010/HL7%20v2.5.1/Default.aspx?version=HL7%20v2.5.1&amp;dataType=RI</a></p>",
        "id": 159656131,
        "sender_full_name": "John Silva",
        "timestamp": 1551390983
    },
    {
        "content": "<p>RI = TIming,code - but I'm really not sure what RI.2 is about</p>",
        "id": 159754941,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551479201
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>   Explicit Time Interval -- I know of a use when you want to schedule Meds (in RXE-1) for specific times during the day.  For example, I want BID (3-times a day) but at hospital specific times, 0400,1400,1900 (spec'd 'grammar' for this is that this is hours only within current day if I remember right).  Maybe a strange use case but nevertheless it was used (and useful) in V2.</p>",
        "id": 159755442,
        "sender_full_name": "John Silva",
        "timestamp": 1551479661
    },
    {
        "content": "<p>So RI.2 is unspecified. - just a string. It’s pretty much an extension...</p>",
        "id": 159762467,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551485903
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>   -- Not really; in the HL7 V2.s CH 2 A it specifically states the grammar for the RI.1 Explicit Time Interval field:</p>\n<p>This component explicitly lists the actual times referenced by the code in the first component, in<br>\nthe following format: HHMM,HHMM,HHMM,.… This second component will be used to clarify the first<br>\ncomponent in cases where the actual times vary within an institution.</p>",
        "id": 159775920,
        "sender_full_name": "John Silva",
        "timestamp": 1551498388
    },
    {
        "content": "<p>I should have read the spec. Well, I think it's an extension anyway, on Timing.code</p>",
        "id": 159778738,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551503535
    },
    {
        "content": "<p>It seems strange that something that was useful in V2 (yes, V2 was the 'union of all use cases') needs to be an extension in FHIR.  I'm wondering how often Explicit Time Intervals were used in Pharmacy (V2) messages; is it sufficiently enough that is should be part of FHIR not an extension?   Maybe folks in the Pharmacy group can give a better answer; I'm just asking the question because in my V2 experience with ORM/RDE/etc. messages we supported this Explicit Time Interval in RI data type.</p>",
        "id": 159873376,
        "sender_full_name": "John Silva",
        "timestamp": 1551661580
    },
    {
        "content": "<p>Most things in v2 are \"useful\" in at least some situation.  The bar to determine whether something should be in core or an extension in the FHIR spec isn't based on \"useful\", it's based on \"commonly implemented\".  The feeling of the committee was \"no\".  And given the amount of implementation that's been done in this space, the fact that the question is only coming up now, suggests that that was probably the right call.</p>",
        "id": 159873486,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1551661769
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  - it may be true that the committee didn't see the need for this and that it doesn't fit the 80% rule, but to someone 'late to the game' of FHIR it strikes me as \"odd\" that something that was obviously not just \"useful\" but a key part of inpatient medication ordering, is not in FHIR.  (Sometimes I get the feeling with my minimal exposure to the FHIR Med resources, that much of the effort is/was focused on outpatient med workflow so things like this that seem to be important for inpatient med workflow are not seen as necessary -- again, just my impression from my minimal exposure/involvement.)</p>",
        "id": 159906613,
        "sender_full_name": "John Silva",
        "timestamp": 1551700320
    },
    {
        "content": "<p>if you can convince the committee that's a key part, then that's fine. It's not up to Lloyd and me. Were just saying, as observers of the general process, we think it's likely to be an extension</p>",
        "id": 159909251,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551702982
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194183\">@John Silva</span> we've asked you to come to the Pharmacy meetings so you can bring forward some of your concerns and even speak to some of the gForge trackers you have raised.  To your point about inpatient, we looked at all of V2 and V3 to make our materials and we've had quite a lot of v2 implementers give us their feedback.  If you have some implementations that are using pieces of v2 that we didn't incorporate, please let us know so we can explore those</p>",
        "id": 159926481,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1551716269
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span>  - thank you.  Yes, I never seem to be able to make the Pharmacy meetings and my role is not as a 'standards person' just a \"regular s/w developer\".   I can contribute by 'bits and pieces' in these threads but can't dedicate an hour in a meeting.   I'm also not a clinician so my experience base is from a s/w developer's perspective and not sure I have enough of a convincing argument for things I've asked about since I'm only one voice with maybe one 'use case'.   (Though I was pleased to see the committee included my suggestion of having an identifier property for the Medication resource in R4 and my other request about having more filled out V2 examples for medication-related data types like Dosage and TIming, thank you.)</p>",
        "id": 159932327,
        "sender_full_name": "John Silva",
        "timestamp": 1551720623
    }
]