[
    {
        "content": "<p>Has anyone attempted to map a v2 ORU with unstructured data? Essentially this is a report presented as multiple OBX entries.</p>",
        "id": 153843036,
        "sender_full_name": "Peter Bernhardt",
        "timestamp": 1470683173
    },
    {
        "content": "<p>and those entries are lines of the narrative.</p>",
        "id": 153843037,
        "sender_full_name": "Peter Bernhardt",
        "timestamp": 1470683242
    },
    {
        "content": "<p>I did this as a POC at one point... fwiw if you're in Java HAPI-v2 has a method <code>getValueAsHtml</code> on the string datatypes. You need to manually join all of the repetitions with a <code>\\.br\\</code> but HAPI-v2 will then handle converting all of the v2 formatting codes into HTML</p>",
        "id": 153843042,
        "sender_full_name": "James Agnew",
        "timestamp": 1470683916
    },
    {
        "content": "<p>Thanks, James. Unfortunately not using your awesome API (we're a .NET shop) and we'll be parsing out the v2 message like this. Did you store as Observation resource? If so, how did you code it?</p>",
        "id": 153843047,
        "sender_full_name": "Peter Bernhardt",
        "timestamp": 1470685079
    },
    {
        "content": "<p>Heh- well, if by chance you want to try and port the formatting conversion code: <a href=\"http://hl7api.sourceforge.net/base/apidocs/src-html/ca/uhn/hl7v2/model/primitive/FormattedTextEncoder.html\" target=\"_blank\" title=\"http://hl7api.sourceforge.net/base/apidocs/src-html/ca/uhn/hl7v2/model/primitive/FormattedTextEncoder.html\">http://hl7api.sourceforge.net/base/apidocs/src-html/ca/uhn/hl7v2/model/primitive/FormattedTextEncoder.html</a></p>\n<p>Yup, stored as observation resource. In our case <code>OBR-4</code> had a code we chould use for <code>Observation.code</code>.</p>",
        "id": 153843048,
        "sender_full_name": "James Agnew",
        "timestamp": 1470685343
    },
    {
        "content": "<p>We get nuttin' useful.  </p>",
        "id": 153843049,
        "sender_full_name": "Peter Bernhardt",
        "timestamp": 1470685559
    },
    {
        "content": "<p>thanks for link to the encoder</p>",
        "id": 153843050,
        "sender_full_name": "Peter Bernhardt",
        "timestamp": 1470685588
    }
]