[
    {
        "content": "<p>I just filed a tracker item because I found an inconsistency in the description of the conditional update url syntax:<br>\n<a href=\"http://hl7-fhir.github.io/http.html#2.1.0.10.2\" target=\"_blank\" title=\"http://hl7-fhir.github.io/http.html#2.1.0.10.2\">http://hl7-fhir.github.io/http.html#2.1.0.10.2</a><br>\nIs it <br>\n<code>PUT [base]/[type]/?[search parameters]</code> as in the definition <br>\nor <br>\n<code>PUT /Observation?identifier=http://my-lab-system|123</code> as in the example?<br>\nor in other words: is there a \"/\" between type and parameters or not?</p>\n<p>HAPI doesn't seem to care<br>\nHEALTHINTERSECTIONS returns \"Bad syntax\" on both</p>",
        "id": 153815405,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457960540
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> : BTW I am currently testing conditional Updates. There seems to be a difference.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;Encounter</span> <span class=\"na\">xmlns=</span><span class=\"s\">&quot;http://hl7.org/fhir&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;patient&gt;</span>\n         <span class=\"nt\">&lt;reference</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Patient?given=Heute&quot;</span><span class=\"nt\">/&gt;</span>\n   <span class=\"nt\">&lt;/patient&gt;</span>\n<span class=\"nt\">&lt;/Encounter&gt;</span>\n</pre></div>\n\n\n<p>returns <code>Invalid resource reference found at path[Encounter.patient] - Does not contain resource type</code><br>\nwhereas</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;Encounter</span> <span class=\"na\">xmlns=</span><span class=\"s\">&quot;http://hl7.org/fhir&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;patient&gt;</span>\n        <span class=\"nt\">&lt;reference</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Patient/?given=Heute&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/patient&gt;</span>\n<span class=\"nt\">&lt;/Encounter&gt;</span>\n</pre></div>\n\n\n<p>returns <code>Resource Patient/?given=Heute not found, specified in path: Encounter.patient</code><br>\nAlthough the search criteria matches exactly one Patient.</p>",
        "id": 153815406,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457960986
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span> So you have conditional update references within an <code>Encounter.patient.reference</code>? Are you updating the Encounter? I don't understand what this means.</p>",
        "id": 153815407,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457961213
    },
    {
        "content": "<p>We're practicing for this connectathon track ;-)<br>\n<a href=\"http://wiki.hl7.org/index.php?title=201605_Conditional_Reference_Connectathon_Proposal\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=201605_Conditional_Reference_Connectathon_Proposal\">http://wiki.hl7.org/index.php?title=201605_Conditional_Reference_Connectathon_Proposal</a></p>",
        "id": 153815408,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457961333
    },
    {
        "content": "<p>BTW: how do I get my block code snippets to look pretty on ZULIP?</p>",
        "id": 153815409,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457961361
    },
    {
        "content": "<p>You can use back-ticks <code>code here</code></p>",
        "id": 153815410,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457961413
    },
    {
        "content": "<p>`\\``</p>",
        "id": 153815411,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457961426
    },
    {
        "content": "<p>Or three back ticks</p>",
        "id": 153815412,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457961451
    },
    {
        "content": "<div class=\"codehilite\"><pre> `code here`\n three will give you a code block\n</pre></div>",
        "id": 153815413,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1457961480
    },
    {
        "content": "<p>Weird. I <strong>am</strong> using three ticks an I get all lines as seperate blocks...</p>",
        "id": 153815414,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457961576
    },
    {
        "content": "<p>Ah. got it. The ticks want a line by themselves...</p>",
        "id": 153815416,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457962010
    },
    {
        "content": "<p>Hi Simone- I haven't deployed a new version of the server yet that supports the new experimental syntax. Will do that today.</p>",
        "id": 153815419,
        "sender_full_name": "James Agnew",
        "timestamp": 1457968821
    },
    {
        "content": "<p>Oh ok! The error code looked like the server already <strong>tried</strong> to resolve the reference :)</p>",
        "id": 153815423,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457970264
    },
    {
        "content": "<p>\" is there a \"/\" between type and parameters or not? - no. What is my server returning bad syntax for?</p>",
        "id": 153815466,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457986185
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> : e.G. a PUT to this URL: Patient?identifier=http://kvnummer.gkvnet.de/|G1 returns <code>Bad Syntax in Patient</code> even though a search for the same condition returns exactly 1 resource</p>",
        "id": 153815473,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457986910
    },
    {
        "content": "<p>what's the full packet?</p>",
        "id": 153815474,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457986956
    },
    {
        "content": "<div class=\"codehilite\"><pre><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>\n<span class=\"nt\">&lt;Patient</span> <span class=\"na\">xmlns=</span><span class=\"s\">&quot;http://hl7.org/fhir&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;identifier&gt;</span>\n        <span class=\"nt\">&lt;system</span> <span class=\"na\">value=</span><span class=\"s\">&quot;http://kvnummer.gkvnet.de/&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;value</span> <span class=\"na\">value =</span><span class=\"s\">&quot;G1&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/identifier&gt;</span>\n    <span class=\"nt\">&lt;name&gt;</span>\n        <span class=\"nt\">&lt;family</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Test&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;given</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Conditionally-Updated 1&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;prefix</span> <span class=\"na\">value=</span><span class=\"s\">&quot;von&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/name&gt;</span>\n    <span class=\"nt\">&lt;gender</span> <span class=\"na\">value=</span><span class=\"s\">&quot;female&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;birthDate</span> <span class=\"na\">value=</span><span class=\"s\">&quot;2016-03-14&quot;</span><span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/Patient&gt;</span>\n</pre></div>",
        "id": 153815479,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457987086
    },
    {
        "content": "<p>where's the reference then? </p>",
        "id": 153815480,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457987124
    },
    {
        "content": "<p>Huh? No I'm trying conditional update</p>",
        "id": 153815481,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457987163
    },
    {
        "content": "<p>so you are posting what to where?</p>",
        "id": 153815482,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457987214
    },
    {
        "content": "<p>Sorry Simone, I broke my server trying to redeploy..  and then locked myself out of it. Grrrrrrr.... It'll be down for a bit.</p>",
        "id": 153815483,
        "sender_full_name": "James Agnew",
        "timestamp": 1457987214
    },
    {
        "content": "<p>I am putting the resource above to <a href=\"http://fhir-dev.healthintersections.com.au/open/Patient?identifier=http://kvnummer.gkvnet.de/|G1\" target=\"_blank\" title=\"http://fhir-dev.healthintersections.com.au/open/Patient?identifier=http://kvnummer.gkvnet.de/|G1\">http://fhir-dev.healthintersections.com.au/open/Patient?identifier=http://kvnummer.gkvnet.de/|G1</a></p>",
        "id": 153815484,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457987350
    },
    {
        "content": "<p>or alternately to ...Patient?name=Conditionally with the same result</p>",
        "id": 153815485,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457987381
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> : No problem, It's bedtime over here anyway ;-)</p>",
        "id": 153815487,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457987423
    },
    {
        "content": "<p>ok I understand now. the syntax above is correct. I will look at why it's not working in 48 hours (mini-crunch here)</p>",
        "id": 153815489,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457987464
    },
    {
        "content": "<p>Cool, thanks.</p>",
        "id": 153815496,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1457987826
    },
    {
        "content": "<p>Ok, I finally got back into my server.... what a nightmare.</p>\n<p>Conditional syntax is supported now.</p>",
        "id": 153815704,
        "sender_full_name": "James Agnew",
        "timestamp": 1458068708
    },
    {
        "content": "<p>Awesome :) I will see if I can do some testing. Just to avoid misunderstandings: You support that on plain REST as well as on processing bundles, correct?</p>",
        "id": 153816044,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1458204433
    }
]