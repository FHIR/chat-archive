[
    {
        "content": "<p>We noticed that the HumanName and Address data types have an interesting clause around the text fields. For HumanName, <a href=\"http://hl7.org/fhir/dstu2/datatypes.html#HumanName\" target=\"_blank\" title=\"http://hl7.org/fhir/dstu2/datatypes.html#HumanName\">http://hl7.org/fhir/dstu2/datatypes.html#HumanName</a>:</p>",
        "id": 153947506,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1521817472
    },
    {
        "content": "<p>\"Applications updating a name SHALL ensure either that the text and the parts are in agreement, or that only one of the two is present.\"</p>",
        "id": 153947507,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1521817511
    },
    {
        "content": "<p>This is no longer present in STU 3: <a href=\"http://hl7.org/fhir/stu3/datatypes.html#HumanName\" target=\"_blank\" title=\"http://hl7.org/fhir/stu3/datatypes.html#HumanName\">http://hl7.org/fhir/stu3/datatypes.html#HumanName</a> (and has now stated that applications should populate the text for future robustness)</p>",
        "id": 153947508,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1521817588
    },
    {
        "content": "<p>However, Address has a similar statement (and is still present in latest): <a href=\"http://hl7.org/fhir/stu3/datatypes.html#Address\" target=\"_blank\" title=\"http://hl7.org/fhir/stu3/datatypes.html#Address\">http://hl7.org/fhir/stu3/datatypes.html#Address</a> <br>\n\"Applications updating an address SHALL ensure either that the text and the parts are in agreement, or that only one of the two is present.\"</p>",
        "id": 153947509,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1521817637
    },
    {
        "content": "<p>First question: given that HumanName changed, is there a reason Address remains the same/has the same restriction?</p>",
        "id": 153947511,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1521817673
    },
    {
        "content": "<p>Second: As a server that accepts data, we often ignore the text field, assuming there are coded or (in this case) all the expected parts of an address or name present. Our system has its own formatting rules, and will apply this to create a common text. IF there was no other data besides text, we would usually take just the text.</p>",
        "id": 153947512,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1521817750
    },
    {
        "content": "<p>We interpret the restriction on address as something the application calling us needs to do, but not something the server would need to double-check/fail on (assuming the server can find the data it needs)?</p>",
        "id": 153947513,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1521817795
    },
    {
        "content": "<p>We would ensure that the text coming out from our server contained all known parts of an address</p>",
        "id": 153947514,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1521817873
    },
    {
        "content": "<p>I find this really fascinating.  Our system does a bit of the opposite, in that it treats the text string as authoritative, and just passes it along to all the <code>Reference.display</code> fields.  We only use the <code>HumanName.family</code> for indexing.  Otherwise it's mostly ignored in favor of the <code>HumanName.text</code> string.  </p>\n<p>I've been seriously considering forking one of the NPM human name parsers, and updating it for the FHIR HumanName resource.  <br>\n<a href=\"https://www.npmjs.com/package/parse-full-name\" target=\"_blank\" title=\"https://www.npmjs.com/package/parse-full-name\">https://www.npmjs.com/package/parse-full-name</a></p>",
        "id": 153947526,
        "sender_full_name": "Abbie Watson",
        "timestamp": 1521820516
    },
    {
        "content": "<p>Sounds like a change request is needed as they shouldn't be inconsistent.</p>",
        "id": 153947533,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1521822582
    },
    {
        "content": "<p>I don't remember any change like that to HumanName</p>",
        "id": 153947564,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521833706
    },
    {
        "content": "<p>I took a stab at logging a tracker for this: <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15827\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15827\">GF#15827</a></p>",
        "id": 153948062,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1522079720
    }
]