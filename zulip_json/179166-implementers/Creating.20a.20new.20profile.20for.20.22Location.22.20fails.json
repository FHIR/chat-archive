[
    {
        "content": "<p>A profile has been created with Forge. Among other things, the Location.physicalType should only allow codes from the valueSet \"Physical form of the location\"(<a href=\"http://hl7.org/fhir/ValueSet/location-physical-type\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/location-physical-type\">http://hl7.org/fhir/ValueSet/location-physical-type</a>). To do this, only the \"Strength\" property has been changed from \"example\" to \"required\" in the ValueSet binding. The result can be validated on SIMPLIFIER - No Issues. However, under Details, \"Location.physicalType\" appears \"Binding\" (unbound)(required).<br>\nProblem:<br>\nThe created StructureDefinition cannot be uploaded to the public VONK. Error: \"Instance failed constraint eld-10\"provide either a reference or a description (or both)\"\"valueSet.exists() or description.exists()\". Apparently a reference to the value set is needed here. The manual entry of a reference e.g.:<br>\n&lt;binding&gt;-strength value=\"required\"/&gt; &lt;valueSetReference&gt;-reference value=\"<a href=\"http://hl7.org/fhir/ValueSet/location-physical-type\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/location-physical-type\">http://hl7.org/fhir/ValueSet/location-physical-type</a>\" /&gt;&lt;/valueSetReference&gt;&lt;/binding&gt;<br>\nallows uploading to the public VONK, but also results in an error on SIMPLIFIER.\"Exception: \"Internal logic failure: Type checking the data: Encountered unknown element 'valueSetReference' at location 'StructureDefinition.differential[0].element[4].binding[0].valueSetReference[0]' while parsing\"<br>\nIt should also be mentioned that even after successfully uploading the StructureDefinition to the public VONK, the sample resources cannot be validated against the profile:<br>\nGET <a href=\"https://vonk.fire.ly/Location/$validate?profile=http://www.smith.care/fhir/StructureDefinition/HELP_Location\" target=\"_blank\" title=\"https://vonk.fire.ly/Location/$validate?profile=http://www.smith.care/fhir/StructureDefinition/HELP_Location\">https://vonk.fire.ly/Location/$validate?profile=http://www.smith.care/fhir/StructureDefinition/HELP_Location</a><br>\nError Code: incomplete<br>\nError Text: \"Unable to resolve reference to profile '<a href=\"http://www.smith.care/fhir/StructureDefinition/HELP_Location\" target=\"_blank\" title=\"http://www.smith.care/fhir/StructureDefinition/HELP_Location\">http://www.smith.care/fhir/StructureDefinition/HELP_Location</a>'\"<br>\nHas anybody any hint how to define the StructureDefinition in a way so that it is required to enter a code of the ValueSet location-physical-type?<br>\n(the StructureDefintion of the new Location profile is attached) <a href=\"/user_uploads/10155/teRH5Tl41Jq9H1BMweyyVzxV/HELP_Location.StructureDefinition_draft.xml\" target=\"_blank\" title=\"HELP_Location.StructureDefinition_draft.xml\">HELP_Location.StructureDefinition_draft.xml</a></p>",
        "id": 185896977,
        "sender_full_name": "Jens Salecker",
        "timestamp": 1579250464
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"258995\">@Jens Salecker</span> ,</p>\n<p>Your profile looks ok! Only adjusting the binding strength in a differential if you don't change the value set is ok.  </p>\n<p>It is R4 and it validates against R4: <a href=\"https://simplifier.net/validate?fhirVersion=R4&amp;scope=simplifier.core.r4~4.0.1&amp;snippetFileId=741\" target=\"_blank\" title=\"https://simplifier.net/validate?fhirVersion=R4&amp;scope=simplifier.core.r4~4.0.1&amp;snippetFileId=741\">https://simplifier.net/validate?fhirVersion=R4&amp;scope=simplifier.core.r4~4.0.1&amp;snippetFileId=741</a></p>",
        "id": 185921075,
        "sender_full_name": "Ardon Toonstra",
        "timestamp": 1579272029
    },
    {
        "content": "<p>The public Vonk server can handle STU3 and R4 at the same base. Be default this is STU3.  If you add  \"fhirVersion=4.0\" to the accept header, Vonk will create your profile without complaining.</p>",
        "id": 185921147,
        "sender_full_name": "Ardon Toonstra",
        "timestamp": 1579272117
    },
    {
        "content": "<p>If you POST or PUT your profile to the StructureDefinition endpoint, Vonk will store it as any other resource. If you would like to use this for validation purposes, you will need to POST/PUT it to the administration endpoint. More info here: <a href=\"http://docs.simplifier.net/vonk/administration_api.html\" target=\"_blank\" title=\"http://docs.simplifier.net/vonk/administration_api.html\">http://docs.simplifier.net/vonk/administration_api.html</a></p>",
        "id": 185921321,
        "sender_full_name": "Ardon Toonstra",
        "timestamp": 1579272226
    },
    {
        "content": "<p>You could also spin up your own Vonk server using a free community license and have a lot of other options on getting your profiles in the administration API - for example with a link to your Simplifier project.  More info in <a href=\"http://docs.simplifier.net/vonk/features/conformanceresources.html#load-conformance-resources-from-simplifier-net\" target=\"_blank\" title=\"http://docs.simplifier.net/vonk/features/conformanceresources.html#load-conformance-resources-from-simplifier-net\">the docs</a> as well.</p>",
        "id": 185921513,
        "sender_full_name": "Ardon Toonstra",
        "timestamp": 1579272375
    }
]