[
    {
        "content": "<p>Hi Guys,</p>\n<p>I work for a uk mental health trust and am currently trying to piece together a prototype ToC bundle for edischarge requirements. </p>\n<p>Let me see if I have things correct up to this point:</p>\n<p>•   We have identified the data within our EHR, and conceptually mapped the data to the AoMRC headings<br>\n•   From what I am reading, we need to get this data into a FHIR/ITK format, using CareConnect FHIR profiles. Data will end up in a format similar to <a href=\"https://nhsconnect.github.io/ITK-FHIR-Mental-Health-eDischarge/engage_jon_burrows.html\" target=\"_blank\" title=\"https://nhsconnect.github.io/ITK-FHIR-Mental-Health-eDischarge/engage_jon_burrows.html\">https://nhsconnect.github.io/ITK-FHIR-Mental-Health-eDischarge/engage_jon_burrows.html</a> <br>\n•   Data can then be transferred via MESH to endpoints (eg GP surgeries)</p>\n<p>It is this second bullet-point I am struggling with. When I try to google eg “constructing fhir bundle” I seem to find articles indicating I should be making calls to a FHIR server or API. <br>\n1.  Is this the only/recommended method for constructing the bundle from raw data ? <br>\n2.  Do we need our own such server ?  <a href=\"https://fhir.nhs.uk/\" target=\"_blank\" title=\"https://fhir.nhs.uk/\">https://fhir.nhs.uk/</a> ?<br>\n3.  Are there tools available for constructing these bundles ? <br>\n4.  They [the bundles] appear to be quite complicated and I am thinking we will need to write scripts to transform the data we have into these compliant bundles. However I don’t want to embark upon this task if there is an easier/better method, and I am sure I’m on the right track.</p>\n<p>Kind regards, and many thanks for any help.</p>\n<p>Marc</p>",
        "id": 153991472,
        "sender_full_name": "Marc Riding",
        "timestamp": 1535532386
    },
    {
        "content": "<p>Hi Marc</p>",
        "id": 153991497,
        "sender_full_name": "Kevin Sprague",
        "timestamp": 1535537735
    },
    {
        "content": "<p>for Transfer of Care in England the Bundles are constructed using the ITK3 specification bundles structures as defined at <a href=\"https://developer.nhs.uk/apis/itk3messagedistribution-2-5-0/\" target=\"_blank\" title=\"https://developer.nhs.uk/apis/itk3messagedistribution-2-5-0/\">https://developer.nhs.uk/apis/itk3messagedistribution-2-5-0/</a> . I work on that project and happy to help with more information.</p>",
        "id": 153991498,
        "sender_full_name": "Kevin Sprague",
        "timestamp": 1535537866
    },
    {
        "content": "<p>Hi Kevin,</p>\n<p>Thanks so much for posting back.</p>\n<p>Can you tell me, how to devs usually go about the task of taking the patient data we have locally, and getting it into ToC-compliant bundle ?</p>\n<p>Is there software to help construct these bundles, or do we have to get dirty with the code and write our own scripts to create the fhir bundle ?</p>\n<p>Many Thanks </p>\n<p>Marc</p>",
        "id": 153991500,
        "sender_full_name": "Marc Riding",
        "timestamp": 1535538491
    },
    {
        "content": "<blockquote>\n<p>Is there software to help construct these bundles, or do we have to get dirty with the code and write our own scripts to create the fhir bundle</p>\n</blockquote>\n<p>this feels like a false dichotomy to me but perhaps I don't understand your question. You have to tell some software how to assemble the bundle from source data. That list of instructions will be 'code' in some interpretable language. that'll be getting dirty... but with software to help with the details.</p>",
        "id": 153992059,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535667581
    },
    {
        "content": "<p>Thanks for your reply Grahame.</p>\n<p>Yes, you must not have understood my question, as there is no false dichotomy here.<br>\nI was asking if there is software to help construct the fhir-encoded data, or whether devs have to write all this code themselves( ie from scratch) in order to transform our local data into a fhir-compliant format to transfer to other healthcare providers.</p>\n<p>Despite this, you seem to have answered the question just fine. Unfortunately for me, your answer seems to contradict another that I received via email: \"Hi Mark, there is no software to help construct these bundles but there are other people doing the same thing may be useful to speak to some of these people\" - So I'm still in the dark a little.</p>\n<p>When you say \"You have to tell some software how to assemble the bundle from source data.\" Could you elaborate or point me to some examples of this software ?</p>\n<p>Thanks,</p>\n<p>Marc</p>",
        "id": 153992261,
        "sender_full_name": "Marc Riding",
        "timestamp": 1535701860
    },
    {
        "content": "<p>the confusion seems to be about what you think 'software' means, as opposed to 'code'</p>",
        "id": 153992264,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535703647
    },
    {
        "content": "<p>there's lots of open source libraries that help developers assemble bundles in their programming language of choice. is that what you mean by 'software'? but there's nothing already written that magically knows how to assemble your particular bundle from data that is somewhere. Someone's going to have write code. Is that getting dirty?</p>",
        "id": 153992265,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535703739
    },
    {
        "content": "<p>open source links: <a href=\"http://wiki.hl7.org/index.php?title=Open_Source_FHIR_implementations\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=Open_Source_FHIR_implementations\">http://wiki.hl7.org/index.php?title=Open_Source_FHIR_implementations</a> but this is very incomplete</p>",
        "id": 153992266,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535703765
    },
    {
        "content": "<p>Yes I consider code libraries to be a form of software.</p>\n<p>Thanks for the link.</p>",
        "id": 153992270,
        "sender_full_name": "Marc Riding",
        "timestamp": 1535706295
    },
    {
        "content": "<p>then there's lots of software, but someone still has to get dirty in code</p>",
        "id": 153992271,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535706374
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196741\">@Marc Riding</span> if you are looking at the Transfer of Care you are probably also looking at the ITK as well. Not sure what your technology stack is but I made the following for  .NET which is a library to help build the ITK Message Wrappers. It needs a tweak to catch some last-minute amendments in the ITK specification, it's largely good to go.</p>\n<p><a href=\"http://clarotech.co.uk/products/library-fhir-itk/\" target=\"_blank\" title=\"http://clarotech.co.uk/products/library-fhir-itk/\">http://clarotech.co.uk/products/library-fhir-itk/</a></p>\n<p>This library leverages the \"official\" C# HIR library here <a href=\"https://github.com/ewoutkramer/fhir-net-api\" target=\"_blank\" title=\"https://github.com/ewoutkramer/fhir-net-api\">https://github.com/ewoutkramer/fhir-net-api</a>  also available as a NuGet package.</p>",
        "id": 153992289,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1535713818
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196741\">@Marc Riding</span> what language are you intending to use and what system are you working with?</p>",
        "id": 153992730,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1535962201
    },
    {
        "content": "<p>Hi guys, an update:</p>\n<p>I am now currently working with the .net fhir libraries. thanks <span class=\"user-mention\" data-user-id=\"191362\">@Richard Kavanagh</span>  for the link My goal is to take our local xml structure and produce an xml fhir bundle for Transfer of Care.</p>\n<p>Do you think this is a good route to take ? Our use case is quite straight forward: create the bundle, render a copy and place in our document repo, then send the bundle - we have no immediate need to store and use the data locally in fhir format (other than audit trail), though of course longer-term there are many useful applications etc.</p>\n<p>Would another approach be to set up a fhir server, and use a restful api to create the resources/bundle ? Have I got that right ?</p>\n<p>Thanks for all your help, and thanks Grahame, didn't realise you were the inventor of FHIR lolol.</p>",
        "id": 153994748,
        "sender_full_name": "Marc Riding",
        "timestamp": 1536405671
    },
    {
        "content": "<p>Hi Guys,</p>\n<p>I am really struggling here, any tutorials on using the hl7.fhir .net libs would be greatly appreciated.</p>\n<p>Like I said, I am trying to construct something like <a href=\"https://nhsconnect.github.io/ITK-FHIR-Mental-Health-eDischarge/engage_jon_burrows.html\" target=\"_blank\" title=\"https://nhsconnect.github.io/ITK-FHIR-Mental-Health-eDischarge/engage_jon_burrows.html\">https://nhsconnect.github.io/ITK-FHIR-Mental-Health-eDischarge/engage_jon_burrows.html</a> </p>\n<p>Just really confusing how to go about constructing this xml. Am really disappointed the nhs has just dropped us off at the deep end. Is anyone else going through the same thing ?</p>",
        "id": 154011379,
        "sender_full_name": "Marc Riding",
        "timestamp": 1540292488
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"196741\">@Marc Riding</span>, here is a link to the docs for the C# FHIR API: <a href=\"http://docs.simplifier.net/fhirnetapi/index.html\" target=\"_blank\" title=\"http://docs.simplifier.net/fhirnetapi/index.html\">http://docs.simplifier.net/fhirnetapi/index.html</a></p>",
        "id": 154011383,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1540293172
    },
    {
        "content": "<p>Hi Marc, You probably need something like this:</p>\n<p>var eoc = new EpisodeOfCare();<br>\n// add fields / data to the resource</p>\n<p>var bundle = new Bundle();<br>\nbundle.Entry.Add(new Bundle.EntryComponent { Resource = eoc });</p>",
        "id": 154011384,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1540293186
    },
    {
        "content": "<p>If you have more questions on how to use it, join us at the #net stream.</p>",
        "id": 154011385,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1540293192
    },
    {
        "content": "<p>I’ve not worked on that specific document but you can see the approach I took (in java) here: <a href=\"https://github.com/nhsconnect/careconnect-examples/tree/master/hapi-fhirDocument-create\" target=\"_blank\" title=\"https://github.com/nhsconnect/careconnect-examples/tree/master/hapi-fhirDocument-create\">https://github.com/nhsconnect/careconnect-examples/tree/master/hapi-fhirDocument-create</a></p>\n<p>It’s roughly collect the data, say Patient demographics, use the resource to generate html and then add both as a section to the document.</p>",
        "id": 154011570,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1540326271
    }
]