[
    {
        "content": "<p>Hey,</p>\n<p>I'm trying to target my simplifier profile (<a href=\"https://simplifier.net/hdir-test/hdirperson\" target=\"_blank\" title=\"https://simplifier.net/hdir-test/hdirperson\">https://simplifier.net/hdir-test/hdirperson</a>) through a .net client doing this:</p>\n<p>resolver.ResolveByUri(\"<a href=\"https://simplifier.net/resolve?target=simplifier&amp;canonical=http://hdir.no/fhir/StructureDefinition/HdirPerson&amp;fhirVersion=R4\" target=\"_blank\" title=\"https://simplifier.net/resolve?target=simplifier&amp;canonical=http://hdir.no/fhir/StructureDefinition/HdirPerson&amp;fhirVersion=R4\">https://simplifier.net/resolve?target=simplifier&amp;canonical=http://hdir.no/fhir/StructureDefinition/HdirPerson&amp;fhirVersion=R4</a>\")</p>\n<p>Or any variation of the api links provided on the profile page:<br>\n<a href=\"https://fhir.simplifier.net/hdir-test/StructureDefinition/84e0ae72-ee35-4a7a-836b-0411051bef53\" target=\"_blank\" title=\"https://fhir.simplifier.net/hdir-test/StructureDefinition/84e0ae72-ee35-4a7a-836b-0411051bef53\">https://fhir.simplifier.net/hdir-test/StructureDefinition/84e0ae72-ee35-4a7a-836b-0411051bef53</a><br>\n<a href=\"https://fhir.simplifier.net/r4/StructureDefinition/84e0ae72-ee35-4a7a-836b-0411051bef53\" target=\"_blank\" title=\"https://fhir.simplifier.net/r4/StructureDefinition/84e0ae72-ee35-4a7a-836b-0411051bef53\">https://fhir.simplifier.net/r4/StructureDefinition/84e0ae72-ee35-4a7a-836b-0411051bef53</a></p>\n<p>Or just the canonical:<br>\n<a href=\"http://hdir.no/fhir/StructureDefinition/HdirPerson\" target=\"_blank\" title=\"http://hdir.no/fhir/StructureDefinition/HdirPerson\">http://hdir.no/fhir/StructureDefinition/HdirPerson</a></p>\n<p>The result is null every time. How do I correctly target my simplifier profile?</p>",
        "id": 186873811,
        "sender_full_name": "Mads Øigård",
        "timestamp": 1580294789
    },
    {
        "content": "<p><code>ResolveByUri( )</code> requires a canonical URL, while the Simplifier resolve page redirects you to an actual documentation page.</p>",
        "id": 186891072,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1580308942
    },
    {
        "content": "<p>It is the resolver class implementation that determines where to get the actual data from.</p>",
        "id": 186891120,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1580308980
    },
    {
        "content": "<p>A FHIR server can resolve a canonical using this format:<br>\nhttps://&lt;server-endpoint&gt;/&lt;resource-type&gt;/?url=&lt;canonical&gt;</p>",
        "id": 186891268,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1580309065
    },
    {
        "content": "<p>So in the case of the Simplifier global FHIR endpoint:<br>\n<a href=\"https://fhir.simplifier.net/r4/StructureDefinition/?url=http://hdir.no/fhir/StructureDefinition/HdirPerson\" target=\"_blank\" title=\"https://fhir.simplifier.net/r4/StructureDefinition/?url=http://hdir.no/fhir/StructureDefinition/HdirPerson\">https://fhir.simplifier.net/r4/StructureDefinition/?url=http://hdir.no/fhir/StructureDefinition/HdirPerson</a></p>",
        "id": 186891470,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1580309175
    },
    {
        "content": "<p>So you can implement a resolver that uses that endpoint for resolving.</p>",
        "id": 186891513,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1580309217
    },
    {
        "content": "<p>If you're only interested in resolving within that specific project, you can use the FHIR endpoint of that project:</p>",
        "id": 186891582,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1580309271
    },
    {
        "content": "<p><a href=\"https://fhir.simplifier.net/hdir-test/StructureDefinition?url=http://hdir.no/fhir/StructureDefinition/HdirPerson\" target=\"_blank\" title=\"https://fhir.simplifier.net/hdir-test/StructureDefinition?url=http://hdir.no/fhir/StructureDefinition/HdirPerson\">https://fhir.simplifier.net/hdir-test/StructureDefinition?url=http://hdir.no/fhir/StructureDefinition/HdirPerson</a></p>",
        "id": 186891668,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1580309308
    },
    {
        "content": "<p>Thanks for the answer. I still can't get it to work. Here is my code:</p>\n<p>var hdirPerson1 = \"<a href=\"https://fhir.simplifier.net/r4/StructureDefinition/?url=http://hdir.no/fhir/StructureDefinition/HdirPerson\" target=\"_blank\" title=\"https://fhir.simplifier.net/r4/StructureDefinition/?url=http://hdir.no/fhir/StructureDefinition/HdirPerson\">https://fhir.simplifier.net/r4/StructureDefinition/?url=http://hdir.no/fhir/StructureDefinition/HdirPerson</a>\";<br>\nvar hdirPerson2 = \"<a href=\"https://fhir.simplifier.net/hdir-test/StructureDefinition?url=http://hdir.no/fhir/StructureDefinition/HdirPerson\" target=\"_blank\" title=\"https://fhir.simplifier.net/hdir-test/StructureDefinition?url=http://hdir.no/fhir/StructureDefinition/HdirPerson\">https://fhir.simplifier.net/hdir-test/StructureDefinition?url=http://hdir.no/fhir/StructureDefinition/HdirPerson</a>\";<br>\nvar noBasisPerson = \"<a href=\"https://fhir.simplifier.net/r4/StructureDefinition/?url=http://hl7.no/fhir/StructureDefinition/no-basis-Person\" target=\"_blank\" title=\"https://fhir.simplifier.net/r4/StructureDefinition/?url=http://hl7.no/fhir/StructureDefinition/no-basis-Person\">https://fhir.simplifier.net/r4/StructureDefinition/?url=http://hl7.no/fhir/StructureDefinition/no-basis-Person</a>\";</p>\n<p>var source = new CachedResolver(new MultiResolver(<br>\n                     new DirectorySource(@\"./Profiles/\"),<br>\n                     new ZipSource(new DirectorySource(@\"./Profiles/\").ContentDirectory + \"definitions.json.zip\")));</p>\n<p>var webResolver = new WebResolver();<br>\nvar def = source.ResolveByUri(hdirPerson1)<br>\n        as StructureDefinition;<br>\n////var def2 = webResolver.ResolveByUri(hdirPerson1); throws argnull parameter name endpoint(??) == null</p>\n<p>var validator = new Hl7.Fhir.Validation.Validator(source.BuildSettings());<br>\nvar outcome = validator.Validate(<br>\n                    resource); // , def</p>\n<p>return outcome;</p>\n<p>Is there anywhere I can read some concrete documentation on resolver implementations? def == null with all of these URLs.</p>",
        "id": 186965289,
        "sender_full_name": "Mads Øigård",
        "timestamp": 1580375032
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"259758\">@Mads Øigård</span>, the <a class=\"stream\" data-stream-id=\"179171\" href=\"/#narrow/stream/179171-dotnet\">#dotnet</a> stream should likely get you a quicker response.</p>",
        "id": 187928429,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1581438999
    }
]