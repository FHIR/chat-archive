[
    {
        "content": "<p>While looking through some FHIR R4 <code>ValueSet</code> resources, I noticed a case where the expanded valueset from <code>hl7.fhir.r4.expansions</code> is including a code that should be excluded based on the <code>compose</code> for that valueset. </p>\n<p>The valueset in question is <a href=\"https://terminology.hl7.org/2.1.0/ValueSet-v3-PurposeOfUse.json.html\">https://terminology.hl7.org/2.1.0/ValueSet-v3-PurposeOfUse.json.html</a>, which defines its codes as everything in the <code>v3-ActReason</code> codesystem _except_ for the <code>PurposeOfUse</code> code. </p>\n<p>However, when you look at the expanded version available in <code>hl7.fhir.r4.expansions</code>, the <code>expansion.contains</code> contains that <code>PurposeOfUse</code> code: <a href=\"https://simplifier.net/packages/hl7.fhir.r4.expansions/4.0.1/files/100573\">https://simplifier.net/packages/hl7.fhir.r4.expansions/4.0.1/files/100573</a></p>\n<p>Does anyone know why the expansion here isn't excluding the code it should be?</p>",
        "id": 246972301,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1627044392
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - you should look at this when you're back.</p>",
        "id": 246979481,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1627048153
    },
    {
        "content": "<p>Just replying to this thread to make sure it doesn't get lost. Also let me know if you need any additional information!</p>",
        "id": 249002411,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1628613082
    }
]