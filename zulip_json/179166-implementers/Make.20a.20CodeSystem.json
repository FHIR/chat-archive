[
    {
        "content": "<p>I need to make a CodeSystem for a PHD IG. I am not sure exactly how to do it and how I should reference it in profiled resources. I suppose the latter depends upon where it will be located.</p>\n<p>In any case I have started a CodeSystem structure definition for medical device BITs measurements. I would like to ask any experts whether my structure definition seems correct.  The Code System contains a code which represents a binary value (set or cleared). The code is either an event or a state. A defined event only occurs when the item is set.</p>\n<p>If the Structure definition below looks good, then I know I can start the tedious chore of adding about 100 more concepts. When that is all done, I need to figure out how to reference it from a ValueSet, a coding.system element, and a Binding.</p>\n<div class=\"codehilite\"><pre><span></span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;CodeSystem xmlns=&quot;http://hl7.org/fhir&quot;&gt;\n  &lt;id value=&quot;example&quot;/&gt;\n  &lt;meta&gt;\n    &lt;profile value=&quot;http://hl7.org/fhir/StructureDefinition/shareablecodesystem&quot;/&gt;\n  &lt;/meta&gt;\n  &lt;text&gt;\n  &lt;/text&gt;\n\n  &lt;version value=&quot;20160128&quot;/&gt;\n\n  &lt;name value=&quot;ASN1ToHL7&quot;/&gt;\n  &lt;status value=&quot;draft&quot;/&gt;\n  &lt;experimental value=&quot;true&quot;/&gt;\n  &lt;date value=&quot;2018-09-18&quot;/&gt;\n  &lt;publisher value=&quot;Health Level Seven International (Health Care Devices Work Group)&quot;/&gt;\n\n  &lt;description value=&quot;Maps IEEE 11073 ASN1 BITS measurements to codes. All these codes have two possible values, set or cleared. The code may either represent an event or a state. When an event, the defined event has occured when set. If a state, the described item is either set or cleared. Sometimes the states may be defined in unexpected manners. For example, the regulation state when set is unregulated and when cleared it is regulated. In addition the code may derive from an IEEE 11073 attribute or from a measurement.&quot;/&gt;\n\n  &lt;!-- The codes are strings but consist of only digits and a decimal point.\n  They do not represent decimal numbers --&gt;\n  &lt;caseSensitive value=&quot;true&quot;/&gt;\n  &lt;content value=&quot;complete&quot;/&gt;\n\n  &lt;!-- The following code concepts are derived from the MDC_ATTR_POWER_STAT MDS attribute --&gt;\n  &lt;concept&gt;\n    &lt;code value=&quot;67925.0&quot;/&gt;\n    &lt;display value=&quot;Mains power state&quot;/&gt;\n    &lt;definition value=&quot;Indicates whether the PHD is on or off mains power&quot;/&gt;\n    &lt;property&gt;\n      &lt;code value=&quot;parent&quot; /&gt;\n      &lt;valueString value=&quot;state&quot; /&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n      &lt;code value=&quot;parent&quot; /&gt;\n      &lt;valueString value=&quot;attribute&quot; /&gt;\n    &lt;/property&gt;\n  &lt;/concept&gt;\n&lt;/CodeSystem&gt;\n</pre></div>\n\n\n<p>I thank the experts for any guidance here!</p>",
        "id": 153997599,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1537277663
    },
    {
        "content": "<p>What you're creating here isn't a StructureDefinition, it's just a CodeSystem.  If it's for production use, don't mark it as experimental.  What's the purpose of the \"parent\" property?</p>",
        "id": 153997615,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1537282384
    },
    {
        "content": "<blockquote>\n<p>What you're creating here isn't a StructureDefinition, it's just a CodeSystem.  If it's for production use, don't mark it as experimental.  What's the purpose of the \"parent\" property?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  I am not sure. I could not understand what was meant by that code in the docs.  The only example I found which had a property element in it used 'parent'. I assumed it meant it was a property of the code  being defined in the &lt;concept&gt; element. All I am trying to do is to state whether the code represents an item that is an event or a state. It would seem that it would be some type of property. The property.code is required so I had to put something in there. It was a best-guess attempt. Its actually a very simple code system.</p>",
        "id": 153997753,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1537300460
    },
    {
        "content": "<p>Normally subsumption is shown by the code system hierarchy.  property.code is required but property isn't - why are you adding properties at all?</p>",
        "id": 153997756,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1537300572
    },
    {
        "content": "<blockquote>\n<p>Normally subsumption is shown by the code system hierarchy.  property.code is required but property isn't - why are you adding properties at all?</p>\n</blockquote>\n<p>I am trying to specify if the code represents an event or a state</p>\n<p>Do I make a CodeSystem.property defining a 'state' and one defining an 'event' and reference that from the concept?</p>",
        "id": 153997758,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1537300617
    },
    {
        "content": "<p>one property for type, and use values 'state' and 'event'</p>",
        "id": 153997768,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1537301361
    },
    {
        "content": "<blockquote>\n<p>one property for type, and use values 'state' and 'event'</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I am quite confused. Is this the correct track?</p>\n<p>Set of properties that describe something about the code:</p>\n<div class=\"codehilite\"><pre><span></span> &lt;property&gt;\n      &lt;code value=&quot;event&quot; /&gt;\n      &lt;description value=&quot;Indicates that the code represents an event&quot; /&gt;\n      &lt;type value=&quot;code&quot; /&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;code value=&quot;state&quot; /&gt;\n      &lt;description value=&quot;Indicates that the code represents a state&quot; /&gt;\n      &lt;type value=&quot;code&quot; /&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;code value=&quot;measurement&quot; /&gt;\n      &lt;description value=&quot;Indicates that the code is a measurement&quot; /&gt;\n      &lt;type value=&quot;code&quot; /&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;code value=&quot;attribute&quot; /&gt;\n      &lt;description value=&quot;Indicates that the code comes from a 11073 attribute that further describes something about the device or a measurement&quot; /&gt;\n      &lt;type value=&quot;code&quot; /&gt;\n  &lt;/property&gt; &lt;property&gt;\n      &lt;code value=&quot;event&quot; /&gt;\n      &lt;description value=&quot;Indicates that the code represents an event&quot; /&gt;\n      &lt;type value=&quot;code&quot; /&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;code value=&quot;state&quot; /&gt;\n      &lt;description value=&quot;Indicates that the code represents a state&quot; /&gt;\n      &lt;type value=&quot;code&quot; /&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;code value=&quot;measurement&quot; /&gt;\n      &lt;description value=&quot;Indicates that the code is a measurement&quot; /&gt;\n      &lt;type value=&quot;code&quot; /&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;code value=&quot;attribute&quot; /&gt;\n      &lt;description value=&quot;Indicates that the code comes from a 11073 attribute that further describes something about the device or a measurement&quot; /&gt;\n      &lt;type value=&quot;code&quot; /&gt;\n  &lt;/property&gt;\n</pre></div>\n\n\n<p>Now how would I reference these properties in my code definitions?</p>\n<div class=\"codehilite\"><pre><span></span>  &lt;concept&gt;\n    &lt;code value=&quot;67925.0&quot;/&gt;\n    &lt;display value=&quot;Mains power state&quot;/&gt;\n    &lt;definition value=&quot;Indicates whether the PHD is on or off mains power&quot;/&gt;\n    &lt;property&gt;\n      &lt;code value=&quot;state?&quot; /&gt;\n      &lt;valueString value=&quot;?&quot; /&gt; &lt;!-- What goes here? --&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n      &lt;code value=&quot;attribute?&quot; /&gt;\n      &lt;valueString value=&quot;?&quot; /&gt;\n    &lt;/property&gt;\n  &lt;/concept&gt;\n</pre></div>",
        "id": 153997795,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1537303837
    },
    {
        "content": "<p>on the code system:</p>\n<div class=\"codehilite\"><pre><span></span> &lt;property&gt;\n  &lt;code value=&quot;type&quot;/&gt;\n  &lt;description value=&quot;Indicates that type of thing the code represents: event, measurement, or state&quot; /&gt;\n  &lt;type value=&quot;code&quot;/&gt;\n&lt;/property&gt;\n</pre></div>",
        "id": 153997798,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1537304065
    },
    {
        "content": "<p>and then on a concept:</p>",
        "id": 153997799,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1537304071
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span> <span class=\"nt\">&lt;concept&gt;</span>\n    <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;67925.0&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;display</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Mains power state&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;definition</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Indicates whether the PHD is on or off mains power&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;property&gt;</span>\n      <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;type&quot;</span> <span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;valueCode</span> <span class=\"na\">value=</span><span class=\"s\">&quot;state&quot;</span><span class=\"nt\">/&gt;</span>\n   <span class=\"nt\">&lt;/property&gt;</span>\n  <span class=\"nt\">&lt;/concept&gt;</span>\n</pre></div>",
        "id": 153997800,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1537304117
    },
    {
        "content": "<p>THANKS!  So now I go with this</p>\n<div class=\"codehilite\"><pre><span></span>  &lt;!-- These properties indicate the type and source of the code --&gt;\n  &lt;property&gt;\n      &lt;code value=&quot;type&quot; /&gt;\n      &lt;description value=&quot;Indicates that the code type is an event or state&quot; /&gt;\n      &lt;type value=&quot;code&quot; /&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;code value=&quot;source&quot; /&gt;\n      &lt;description value=&quot;Indicates that the code originates from a measurement or an attribute that further describes a measurement or the sensor device.&quot; /&gt;\n      &lt;type value=&quot;code&quot; /&gt;\n  &lt;/property&gt;\n\n  &lt;!-- The following code concepts are derived from the MDC_ATTR_POWER_STAT MDS attribute --&gt;\n  &lt;concept&gt;\n    &lt;code value=&quot;67925.0&quot;/&gt;\n    &lt;display value=&quot;Mains power state&quot;/&gt;\n    &lt;definition value=&quot;Indicates whether the PHD is on or off mains power&quot;/&gt;\n    &lt;property&gt;\n      &lt;code value=&quot;type&quot; /&gt;\n      &lt;valueString value=&quot;state&quot; /&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n      &lt;code value=&quot;source&quot; /&gt;\n      &lt;valueString value=&quot;attribute&quot; /&gt;\n    &lt;/property&gt;\n  &lt;/concept&gt;\n</pre></div>",
        "id": 153997802,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1537304149
    }
]