[
    {
        "content": "<p>Wondering what approaches are being used for validating FHIR Messages?</p>\n<p>We've gone for a combination of a base MessageHeader profile and MessageDefinition resources.</p>\n<p>When a FHIR Message is received, the MessageHeader is validated against the base profile. The MessageDefinition is retrieved based on eventCoding. <br>\nWe then check the resources in the MessageHeader.focus follow the correct profile stated in the MessageDefinition.focus.</p>\n<p>Example code: <a href=\"https://github.com/NHSDigital/validation-service-fhir-r4/blob/cf9525f16813edaec7c76aad369fcc412bd8346b/src/main/kotlin/com/example/fhirvalidator/service/MessageDefinitionApplier.kt\">https://github.com/NHSDigital/validation-service-fhir-r4/blob/cf9525f16813edaec7c76aad369fcc412bd8346b/src/main/kotlin/com/example/fhirvalidator/service/MessageDefinitionApplier.kt</a></p>\n<p>After looking at other national Messaging IG's e.g. Denmark, Suisse and Da Vinci Alerts <br>\nWe seem to be the only country going down this route? Thoughts.</p>",
        "id": 216578920,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1605255682
    },
    {
        "content": "<p>PrescribeIT just use profiles.  Mandatory profile declaration on the Bundle, the MessageHeader and the FocalTask.  All other profiles inferred from those.  MessageHeader and Task profiles cross-check their associated event code/task code.  (They were in production long before MessageDefinition even existed, and I'm not sure it's supported by the Java validator even now.)</p>",
        "id": 216613869,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1605275992
    },
    {
        "content": "<p>in the ballot of Da Vinci Alerts we had MessageDefinition/GraphDefinition but based on comments it got yanked because not widely implemented yet.  But to me that is the best approach.</p>",
        "id": 216662133,
        "sender_full_name": "Eric Haas",
        "timestamp": 1605296247
    }
]