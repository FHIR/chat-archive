[
    {
        "content": "<p>Hello,</p>\n<p>I was previously running with Vonk 3.0.0-beta2 where the following was not happening. After upgrading to 3.0.0 I'm seeing this issue. I POSTed two structure defs to the server (one is called Participant, one is an extension called ProbandStatus which Participant references). Then I tried POSTing a resource conforming to the Participant profile and got the following error message:</p>\n<div class=\"codehilite\"><pre><span></span>{&#39;id&#39;: &#39;b881defd-98df-48bb-80d5-2501f72f1569&#39;,\n &#39;issue&#39;: [{&#39;code&#39;: &#39;exception&#39;,\n            &#39;details&#39;: {&#39;coding&#39;: [{&#39;code&#39;: &#39;5003&#39;,\n                                    &#39;system&#39;: &#39;http://hl7.org/fhir/dotnet-api-operation-outcome&#39;}],\n                        &#39;text&#39;: &#39;Internal logic failure: Cannot walk into &#39;\n                                &#39;unknown StructureDefinition with canonical &#39;\n                                &quot;&#39;http://fhirr4.kids-first.io/fhir/StructureDefinition/probandStatus&#39; &quot;\n                                &#39;at &#39;\n                                &quot;&#39;http://fhirr4.kids-first.io/fhir/StructureDefinition/Participant#Patient.extension&#39;&quot;},\n            &#39;location&#39;: [&#39;Patient&#39;],\n            &#39;severity&#39;: &#39;fatal&#39;}],\n &#39;meta&#39;: {&#39;lastUpdated&#39;: &#39;2019-10-31T15:18:18.548+00:00&#39;,\n          &#39;versionId&#39;: &#39;5570f58c-0c5a-4653-91b1-0d45e16e4fdf&#39;},\n &#39;resourceType&#39;: &#39;OperationOutcome&#39;}\n</pre></div>\n\n\n<p>I'm wondering if the latest release of Vonk is trying to fetch the StructureDefinition from the canonical URL? It didn't seem to do this before..</p>\n<p><span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span> <br>\n<span class=\"user-mention\" data-user-id=\"193551\">@Marco Visser</span> </p>\n<p>Thank you!</p>",
        "id": 179547637,
        "sender_full_name": "Natasha Singh",
        "timestamp": 1572538590
    },
    {
        "content": "<p>I've done some more tinkering with Vonk 3.0.0 and it seems like its having issues resolving references to profiles in general. </p>\n<p>For example, I have a profile for <code>us-core-patient</code> loaded in my server:<br>\n<a href=\"/user_uploads/10155/PuOxu-lqFSWBenkYeD88NF8n/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/PuOxu-lqFSWBenkYeD88NF8n/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/PuOxu-lqFSWBenkYeD88NF8n/pasted_image.png\"></a></div><p>But when I try to POST a patient resource that references this profile, it fails:<br>\n<a href=\"/user_uploads/10155/W4wcvhRUpL2XfnAZHxBi5XYd/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/W4wcvhRUpL2XfnAZHxBi5XYd/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/W4wcvhRUpL2XfnAZHxBi5XYd/pasted_image.png\"></a></div><p><span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span><br>\n<span class=\"user-mention\" data-user-id=\"193551\">@Marco Visser</span></p>",
        "id": 179572541,
        "sender_full_name": "Natasha Singh",
        "timestamp": 1572553445
    },
    {
        "content": "<p>Hi Natasha,</p>\n<p>I can confirm that this is indeed an issue that did not exist prior to Vonk 3.0.0. Thank you for reporting this! We are working on a solution and we are planning on including it in the next release, which is due before DevDays Europe (likely at the end of next week)</p>\n<p>Kind regards,<br>\nAbel Enthoven (Vonk Server Engineer)</p>",
        "id": 179850218,
        "sender_full_name": "Abel Enthoven",
        "timestamp": 1572885801
    },
    {
        "content": "<p>Good to know, thanks Abel! <span aria-label=\"thumbs up\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"thumbs up\">:thumbs_up:</span></p>",
        "id": 179965405,
        "sender_full_name": "Natasha Singh",
        "timestamp": 1572980852
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"225054\">@Natasha Singh</span> Today we released Vonk 3.1.0. Could you please re-test and see if the issue with the us-core profile has been fixed for you?</p>",
        "id": 181043207,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1574102431
    }
]