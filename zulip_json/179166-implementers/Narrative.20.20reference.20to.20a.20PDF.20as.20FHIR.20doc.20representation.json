[
    {
        "content": "<p>We have a similar challenge as <span class=\"user-mention\" data-user-id=\"236436\">@James Dinsmore</span> mentioned in <a href=\"#narrow/stream/179166-implementers/topic/Narrative.20Text.20via.20DocumentReference\">Narrative Text via DocumentReference</a>, but i didn't want to hijack his thread . We need to have the document representation for a structured document (FHIR Bundle)  added as an embedded pdf. In CDA we made this with an entry observationMedia and referenced it form narrative via renderMultiMedia. For a  FHIR document we handled it in a first approach as a Binary entry with a reference from the section through an img tag:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code>  <span class=\"nt\">&lt;section&gt;</span>\n   ...\n         <span class=\"nt\">&lt;text&gt;</span>\n            <span class=\"nt\">&lt;status</span> <span class=\"na\">value=</span><span class=\"s\">\"generated\"</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;div</span> <span class=\"na\">xmlns=</span><span class=\"s\">\"http://www.w3.org/1999/xhtml\"</span><span class=\"nt\">&gt;</span>\n            Representation of the original view:\n              <span class=\"nt\">&lt;img</span> <span class=\"na\">src=</span><span class=\"s\">\"2-7-pdf\"</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;/div&gt;</span>\n          <span class=\"nt\">&lt;/text&gt;</span>\n          <span class=\"nt\">&lt;entry&gt;</span>\n            <span class=\"nt\">&lt;reference</span> <span class=\"na\">value=</span><span class=\"s\">\"Binary/2-7-pdf\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;/entry&gt;</span>\n<span class=\"nt\">&lt;/section&gt;</span>\n</code></pre></div>\n<p>However this seems wrong since a pdf is not an xhtml &lt;img&gt; tag, but we did not find yet another way to refer the Binary pdf from the narrartive except maye adding an extension to the text element, see our discussion <a href=\"https://github.com/ehealthsuisse/ch-emed/blob/master/input/pagecontent/representation.md\">here</a>. Any input highly appreciated how to better represent a pdf representation in a FHIR Document bundle.</p>",
        "id": 239636787,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1621534737
    },
    {
        "content": "<p>Are &lt;a&gt; links not allowed in the text &lt;div&gt;?</p>",
        "id": 239637222,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1621534920
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> <span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span>  i missed maybe the obvious, thanks a lot ... spes says '' &lt;a&gt; elements (either name or href)\", so the example could be rewritten as?</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code> <span class=\"nt\">&lt;section&gt;</span>\n   ...\n         <span class=\"nt\">&lt;text&gt;</span>\n            <span class=\"nt\">&lt;status</span> <span class=\"na\">value=</span><span class=\"s\">\"generated\"</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;div</span> <span class=\"na\">xmlns=</span><span class=\"s\">\"http://www.w3.org/1999/xhtml\"</span><span class=\"nt\">&gt;</span>\n              <span class=\"nt\">&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"2-7-pdf\"</span><span class=\"nt\">&gt;</span>Representation of the original view<span class=\"nt\">&lt;/a&gt;</span>\n            <span class=\"nt\">&lt;/div&gt;</span>\n          <span class=\"nt\">&lt;/text&gt;</span>\n          <span class=\"nt\">&lt;entry&gt;</span>\n            <span class=\"nt\">&lt;reference</span> <span class=\"na\">value=</span><span class=\"s\">\"Binary/2-7-pdf\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;/entry&gt;</span>\n<span class=\"nt\">&lt;/section&gt;</span>\n</code></pre></div>\n<p>since the Binary is not contained, but in the bundle as an entry with an id the href would not be prefixed with an # and the stylesheet would know hot reference the Binary.</p>",
        "id": 239639290,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1621535778
    },
    {
        "content": "<p>I am not sure if that will work, but if the &lt;img&gt; example is supposed to work for images, then I don't see why this example won't work for &lt;a&gt; links...</p>",
        "id": 239640307,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1621536249
    }
]