[
    {
        "content": "<p>Hello,</p>\n<p>it seem that in Java and REST it is not possible to match queries against Encounter.participant.individual.type. How one can enrich Encounter query possibilities? Is it possible in Java to extend default search options?</p>\n<div class=\"codehilite\"><pre><span></span><code>Encounter.participant.individual.type\n\nparticipant&quot;: [\n   {\n     &quot;individual&quot;: {\n       &quot;reference&quot;: &quot;Practitioner/4&quot;,\n       &quot;type&quot;: &quot;role-xxx&quot;\n     }\n   }\n ]\n</code></pre></div>\n\n\n<p>I do not find such search option:</p>\n<p><a href=\"http://build.fhir.org/encounter.html#search\">http://build.fhir.org/encounter.html#search</a></p>\n<p>Following are most closest:</p>\n<div class=\"codehilite\"><pre><span></span><code>participant-type    token   Encounter.participant.type\npractitioner    reference   Encounter.participant.individual.where(resolve() is Practitioner)\n(Practitioner)\n</code></pre></div>",
        "id": 203920556,
        "sender_full_name": "Markku Nikkanen",
        "timestamp": 1594794539
    },
    {
        "content": "<p>I think you mean Encounter.participant.type:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"err\">participant</span><span class=\"s2\">&quot;: [</span>\n<span class=\"s2\">   {</span>\n<span class=\"s2\">     &quot;</span><span class=\"err\">type</span><span class=\"s2\">&quot;: [</span>\n<span class=\"s2\">         &quot;</span><span class=\"err\">role-xxx</span><span class=\"s2\">&quot;</span>\n<span class=\"s2\">      ]</span>\n<span class=\"s2\">     &quot;</span><span class=\"err\">individual</span><span class=\"s2\">&quot;: {</span>\n<span class=\"s2\">         &quot;</span><span class=\"err\">reference</span><span class=\"s2\">&quot;: &quot;</span><span class=\"err\">Practitioner/</span><span class=\"mi\">4</span><span class=\"err\">&quot;</span>\n     <span class=\"err\">}</span>\n   <span class=\"err\">}</span>\n <span class=\"err\">]</span>\n</code></pre></div>",
        "id": 203951035,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1594817761
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192685\">Vassil Peytchev</span> <a href=\"#narrow/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options/near/203951035\">said</a>:</p>\n<blockquote>\n<p>I think you mean Encounter.participant.type.</p>\n</blockquote>\n<p>Nope, I mean Encounter.participant.individual.type. That is custom attribute I have added.</p>",
        "id": 204047107,
        "sender_full_name": "Markku Nikkanen",
        "timestamp": 1594877768
    },
    {
        "content": "<p>You can't add custom attributes - at least not and be conformant</p>",
        "id": 204047132,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594877808
    },
    {
        "content": "<p>(And certainly not expect the Java reference implementation to work...)</p>",
        "id": 204047149,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594877839
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Enrich.20Encounter.20query.20options/near/204047132\">said</a>:</p>\n<blockquote>\n<p>You can't add custom attributes - at least not and be conformant</p>\n</blockquote>\n<p>See how Encounter JSON object  is constructed in frontend that is eventually posted to HAPI FHIR:</p>\n<div class=\"codehilite\"><pre><span></span><code>participant.push({\n                individual: {\n                    reference: `Practitioner/${this.practitionerFhirId}`,\n                    type: Roles.PHYSICIAN\n                },\n</code></pre></div>",
        "id": 204047708,
        "sender_full_name": "Markku Nikkanen",
        "timestamp": 1594878521
    },
    {
        "content": "<p>This is not important anymore. I did move role under participant.type.</p>\n<div class=\"codehilite\"><pre><span></span><code>  &quot;participant&quot;: [\n    {\n      &quot;type&quot;: [\n        {\n          &quot;coding&quot;: [\n            {\n              &quot;system&quot;: &quot;http://something.com/fhir/ValueSet/encounter-participant-type&quot;,\n              &quot;code&quot;: &quot;PHYSICIAN&quot;\n            }\n          ]\n        }\n      ],\n      &quot;individual&quot;: {\n        &quot;reference&quot;: &quot;Practitioner/4&quot;\n      }\n    }\n  ],\n</code></pre></div>\n\n\n<p>Now, I can query Encounters by Practitioner role.<br>\n<a href=\"http://localhost:8080/fhir/Encounter?participant-type=http://something.com/fhir/ValueSet/encounter-participant-type|PHYSICIAN\">http://localhost:8080/fhir/Encounter?participant-type=http://something.com/fhir/ValueSet/encounter-participant-type|PHYSICIAN</a></p>",
        "id": 204056618,
        "sender_full_name": "Markku Nikkanen",
        "timestamp": 1594887288
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 204084070,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1594906573
    }
]