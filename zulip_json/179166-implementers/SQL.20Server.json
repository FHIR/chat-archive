[
    {
        "content": "<p>Can anyone share SQL scripts for FHIR STU3 to generate tables? I am working on a project which requires parsing of JSON to SQL Server DB.</p>",
        "id": 157323394,
        "sender_full_name": "Paul S",
        "timestamp": 1548985552
    },
    {
        "content": "<p>there are no standard scripts; sql patterns for nromalization, polymorphism etc vary widely and are religious debates. You could ask on the analytics on FHIR track where a take on this is being worked on</p>",
        "id": 157323991,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548986404
    },
    {
        "content": "<p>Thanks, I shall ask there.</p>",
        "id": 157324045,
        "sender_full_name": "Paul S",
        "timestamp": 1548986512
    },
    {
        "content": "<p>If you are talking about Microsoft SQL Server, you could look at the option of storing the JSON in a blob (image column) as well; maybe with a few relation columns for key properties (e.g.  the resource's internal ID property)   I believe SQL server also supports querying a relational table and returning the results as JSON, e.g. \"SELECT from &lt;table&gt; as JSON\"   (and there are ways to determine the specific JSON structure to return as well.</p>",
        "id": 157342212,
        "sender_full_name": "John Silva",
        "timestamp": 1549015599
    },
    {
        "content": "<p>Or use the SQL xml datatype.</p>",
        "id": 157420058,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1549107472
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> Could you please elaborate or point me to the solution?</p>",
        "id": 157427699,
        "sender_full_name": "Paul S",
        "timestamp": 1549122064
    },
    {
        "content": "<p>I am setting up Hapi with SQL server and keep hitting \"org.hibernate.QueryException: Ordinal parameter not bound : 2\". </p>\n<p>It very well might be a problem with my setup but I get the following trace message \"About to execute SQL: SELECT top(?) t0.RES_ID FROM HFJ_RESOURCE t0 WHERE ((t0.RES_TYPE = ?) AND (t0.RES_DELETED_AT IS NULL))\". </p>\n<p>Looking at <a href=\"https://github.com/hapifhir/hapi-fhir/blob/master/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/search/builder/sql/SearchQueryExecutor.java#L50\">https://github.com/hapifhir/hapi-fhir/blob/master/hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/search/builder/sql/SearchQueryExecutor.java#L50</a> this is not used at all and the query gets parameters from \"myGeneratedSql.getBindVariables()\" (in my case it contains one entry rather than the expected two). </p>\n<p>I guess my question is: should it? Or should I look somewhere else?</p>",
        "id": 273557018,
        "sender_full_name": "Mikko Koppanen",
        "timestamp": 1646083852
    }
]