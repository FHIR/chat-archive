[
    {
        "content": "<p>The examples for _has in the documentation all have a comparison with a value.  Could one use _has like this:</p>",
        "id": 243061264,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1623954032
    },
    {
        "content": "<p>GET [base]/Patient?_has:Observation:patient:code</p>",
        "id": 243061397,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1623954111
    },
    {
        "content": "<p>Or even:<br>\nGET [base]/Patient?_has:Observation:patient</p>",
        "id": 243061493,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1623954137
    },
    {
        "content": "<p>The point would be to find all Patients that have an Observation.</p>",
        "id": 243061583,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1623954181
    },
    {
        "content": "<p>HAPI is fine with the first syntax, but not the second.  The FHIR search documentation is unclear as to whether either should work.</p>",
        "id": 243061967,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1623954317
    },
    {
        "content": "<p>I think that :missing and other qualifiers should work</p>",
        "id": 243067339,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1623956556
    },
    {
        "content": "<p>I am not sure how :missing would help (even if enabled, which it is usually not).  I am not trying to find Patients that have something missing.</p>",
        "id": 243083028,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1623963151
    },
    {
        "content": "<p><code>GET [base]/Patient?_has:Observation:patient:code:missing=false</code> = all patients that have an observation with a code</p>",
        "id": 243113020,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1623987442
    },
    {
        "content": "<p>Or <code>...:missing=false,true</code> to get at Paul's actual request -- which of course is a syntactically silly way to say \"all patients with an Observation\", but I don't think we can do any better with current FHIR syntax. I'd be happy to see us add the syntax Paul suggested, using <code>_has</code> sans<code>=</code> (or to see us claim it has been valid all along).</p>",
        "id": 243113503,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1623988117
    },
    {
        "content": "<p>The problem with :missing is it is usually disabled for space and performance reasons.  (I say usually, though my sample size is &lt; 5).  It sounds like the answer to my original question about is that people would expect _has to require a comparator.  I suppose I could do _has:Observation:patient:code:not=someveryunlikelycode.</p>",
        "id": 243692957,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1624472704
    }
]