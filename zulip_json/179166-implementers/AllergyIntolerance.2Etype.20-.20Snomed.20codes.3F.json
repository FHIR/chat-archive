[
    {
        "content": "<p>We want to use SNOMED-CT codes for types of allergy:<br>\n609328004 | Allergic disposition (finding)<br>\n782197009 | Intolerance to substance (finding)<br>\n609396006 | Non-allergic hypersensitivity disposition (finding)</p>",
        "id": 191435561,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584943945
    },
    {
        "content": "<p>but AllergyIntolerance.type has an HL7 value set and is required. Is this the right field?<br>\nIf so, shouldn't we prefer snomed codes if they exist?</p>",
        "id": 191435584,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584944016
    },
    {
        "content": "<p>We can only prefer SNOMED codes if they're made free worldwide.  We also don't use SNOMED for 'code' elements because they're opaque.  With appropriate licensing we could publish a mapping though</p>",
        "id": 191473143,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1584970514
    },
    {
        "content": "<p>ok but the binding is required, should it not be preferred?</p>",
        "id": 191473276,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584970577
    },
    {
        "content": "<p>For code, it has to be 'required'.  We don't want variation there.</p>",
        "id": 191473632,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1584970742
    },
    {
        "content": "<p>so mapping / licensing are the ways into this?</p>",
        "id": 191476503,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584972070
    },
    {
        "content": "<p>Y</p>",
        "id": 191491966,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1584978097
    },
    {
        "content": "<p>whom should we contact? I can do that mapping for Belgium but I guess that would be relevant for others, right?</p>",
        "id": 191494743,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584979180
    },
    {
        "content": "<p>If you want stuff included in the core spec, the licensing discussion would need to happen through the HL7 Terminology Authority (HTA).</p>",
        "id": 191509985,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1584985280
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> By \"licensing discussion\" are you referring to having the particular content included as part of the SNOMED CT global patient set (GPS) so that it can be included in the core FHIR spec?  If that the case (and maybe that's not what you were thinking), the next opportunity for including new content to the GPS will be September 2021 - I just sent the updates for the IPS contribution to the GPS for September 2020 this morning and I'm not aware that we've identified anything additional from the FHIR spec for this round - and from the SNOMED Int. perspective I know they are ready to close the door now for GPS updates for the 2020 release (and had originally wanted to have closed it last week).<br>\n<span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span></p>",
        "id": 191517259,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1584988481
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179166-implementers/topic/AllergyIntolerance.2Etype.20-.20Snomed.20codes.3F/near/191435561\" title=\"#narrow/stream/179166-implementers/topic/AllergyIntolerance.2Etype.20-.20Snomed.20codes.3F/near/191435561\">said</a>:</p>\n<blockquote>\n<p>We want to use SNOMED-CT codes for types of allergy:<br>\n609328004 | Allergic disposition (finding)<br>\n782197009 | Intolerance to substance (finding)<br>\n609396006 | Non-allergic hypersensitivity disposition (finding)</p>\n</blockquote>\n<p>Aside from licensing issues, I'd suggest using  419199007 |Allergy to substance (finding)| , rather than 609328004 | Allergic disposition (finding). so that all 3 concepts in the Value Set are children (direct descendants) of 418038007 |Propensity to adverse reactions to substance (finding)|</p>",
        "id": 191522030,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1584990631
    },
    {
        "content": "<p>Yes, good pick up.</p>",
        "id": 191522127,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1584990698
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191364\">@Peter Jordan</span></p>",
        "id": 191522150,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584990708
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> I'm not totally clear on the licensing rules.  Technically here we wouldn't be 'using' the SNOMED codes - but we would be looking at publishing them and declaring semantic equivalence, so it's not clear to me if we need any licensing for that to happen or not.</p>",
        "id": 191533738,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1584996291
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  If they're in the GPS then all that is needed is the copyright statement (which we have).  If they're not in the GPS, then either we need to request to have them added or not use them (other than in example bindings).  Of the four concepts mentioned (including Peter's suggestion of 419199007 |Allergy to substance (finding)|), three of them are currently in the GPS - the one that is missing is 609396006 | Non-allergic hypersensitivity disposition (finding)|.  Since I just made the overall request to SNOMED International this morning, I think I can make an additional request to also have that one included in the September 2020 release - and we can see if they will accept that.</p>",
        "id": 191535836,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1584997244
    },
    {
        "content": "<p>thanks. By the way, do we also have a code for \"unknown type of reaction, still to be seen if it is allergy or intolerance or hypersensitivity\"?</p>",
        "id": 191536152,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584997406
    },
    {
        "content": "<p>The intent for representing the \"unknown reaction\" is to omit AllergyIntolerance.type.</p>",
        "id": 191537492,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1584998057
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> We wouldn't be \"using\" them - the code in the instance would have to be a FHIR code - one that HL7 defines.  We won't use SNOMED codes for 'code' elements, regardless of whether they're in the GPS because they're not meaningful to implementers reading the instance.  The question is whether we could publish 1..1 mappings from the FHIR codes to the SNOMED codes as part of the spec.  Any 'use' of the codes would be converting to or from SNOMED codes which wouldn't be something that had to happen, but something implementers could choose to do (if licensed).</p>",
        "id": 191561009,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585016316
    },
    {
        "content": "<p>Would doing that require GPS?</p>",
        "id": 191561012,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585016324
    },
    {
        "content": "<p>Right - AllergyIntolerance.type is a code with a required binding, so SNOMED can't be used there.  There's been some discussion about whether the FHIR spec should only publish SNOMED CT codes that are included in the GPS (which isn't the case now), but the answers so far from SNOMED International from those discussions is that there isn't a specific requirement to do that.  So I think that these mappings as you have described should be fine and wouldn't require the SNOMED concepts to be in the GPS.</p>",
        "id": 191562471,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1585018465
    },
    {
        "content": "<p>Where do we put the SNOMED codes then? in an extension?</p>",
        "id": 191585177,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1585042914
    },
    {
        "content": "<p>If you have to transmit them, yes.  Though if mappings are freely available, it's not clear why they'd need to appear in the instance at all.  (SNOMED codes in an extension SHOULD NOT be used in place of the HL7 codes - if they appear they should be in addition.)</p>",
        "id": 191608329,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585056404
    }
]