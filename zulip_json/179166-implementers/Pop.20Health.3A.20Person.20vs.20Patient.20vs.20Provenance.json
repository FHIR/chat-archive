[
    {
        "content": "<p>When leveraging FHIR on a population health platform, are there any best practices around how to represent the person’s longitudinal record?</p>\n<p>Option 1 (undesirable)<br>\nPerson1 links Patient A (from EHR A) and Patient B (from EHR B) and Patient C (from Claim C), which has the drawback that resources (e.g. allergies, conditions) are segregated by source system and not truly longitudinal:</p>\n<p>Person 1</p>\n<ul>\n<li>\n<p>Patient A</p>\n<ul>\n<li>Allergy A1</li>\n<li>Allergy A2</li>\n<li>Condition A1</li>\n</ul>\n</li>\n<li>\n<p>Patient B</p>\n<ul>\n<li>Allergy B1</li>\n<li>Condition B1</li>\n</ul>\n</li>\n<li>\n<p>Patient C</p>\n<ul>\n<li>Condition C1</li>\n<li>Condition C2</li>\n</ul>\n</li>\n</ul>\n<p>Option 2 (preferable)<br>\nAll longitudinal record data references a single Patient and uses Provenance to convey the source system/origins of that data, which would look closer to:</p>\n<p>Patient 1</p>\n<ul>\n<li>\n<p>Allergy A1</p>\n<ul>\n<li>Provenance EHR A</li>\n</ul>\n</li>\n<li>\n<p>Allergy A2</p>\n<ul>\n<li>Provenance EHR A</li>\n</ul>\n</li>\n<li>\n<p>Allergy B1</p>\n<ul>\n<li>Provenance EHR B</li>\n</ul>\n</li>\n<li>\n<p>Condition A1</p>\n<ul>\n<li>Provenance EHR A</li>\n</ul>\n</li>\n<li>\n<p>Condition B1</p>\n<ul>\n<li>Provenance EHR B</li>\n</ul>\n</li>\n<li>\n<p>Condition C1</p>\n<ul>\n<li>Provenance Claim C</li>\n</ul>\n</li>\n<li>\n<p>Condition C2</p>\n<ul>\n<li>Provenance Claim C</li>\n</ul>\n</li>\n</ul>\n<p>One challenge with option 2 is that Patient has a single set of demographics, such as a list of addresses, yet the provenance/source/origin of each address in the list may differ.</p>\n<p>In short, I’m just curious if anyone else has thought about a FHIR implementation of a longitudinal person record (to use as a sounding board for issues like these)?</p>",
        "id": 153830028,
        "sender_full_name": "Michelle (Moseman) Miller",
        "timestamp": 1464289815
    },
    {
        "content": "<p>Michelle, we're looking at the same use case. And we agree on using option two and curating data to remove duplicates and resolve data conflicts between different source systems. This also requires doing some work around patient matching. We aren't using Provenance but rather private extensions to capture meta data about the source of incoming data to solve the same problem.</p>",
        "id": 153830040,
        "sender_full_name": "Peter Bernhardt",
        "timestamp": 1464292448
    },
    {
        "content": "<p>I guess it's not clear, but the target on a provenance can have a fragment identifier, and so indicate a particular piece of information in the resource</p>",
        "id": 153830292,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1464385053
    },
    {
        "content": "<p>Are there any examples to show how to do that?  Stated another way, my requirement is for Provenance.target to reference Patient.address[1] for example, and not Patient.address[2].</p>",
        "id": 153830361,
        "sender_full_name": "Michelle (Moseman) Miller",
        "timestamp": 1464405778
    },
    {
        "content": "<p>you have to use id - so</p>\n<p>&lt;address id=\"23\"&gt;<br>\n  &lt;blah...&gt;<br>\n&lt;/address&gt;</p>\n<p>&lt;Provenance&gt;<br>\n  &lt;target value=\"....#23\"&gt;<br>\n&lt;Provenance&gt;</p>",
        "id": 153830413,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1464515779
    },
    {
        "content": "<p>Option 1 I would have thought would be the most normal, as this does not require the actual merging/changing of any data, and just permits the view of the content.<br>\nThe inelligence then needs to be in the \"client app\" that is then traversing the data.</p>",
        "id": 153830610,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1464653089
    },
    {
        "content": "<p>Option 2 needs processing to take the seperate systems from Option 1, and put them all under the same interface.<br>\nThis could however be done by a facade over Option 1 which I haven't thought too much about. </p>",
        "id": 153830611,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1464653140
    },
    {
        "content": "<p>Then the Provenance records participate also.<br>\n(<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> do these need to be standalone, or can they be contained in the resource?)</p>",
        "id": 153830612,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1464653195
    },
    {
        "content": "<p>right now you can't really contain them in a resource. </p>",
        "id": 153830613,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1464653752
    },
    {
        "content": "<p>have you seen the X-Provenance header? </p>",
        "id": 153830614,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1464653760
    },
    {
        "content": "<p>Will have a look, thanks</p>",
        "id": 153830616,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1464653831
    },
    {
        "content": "<p>what google thought: <a href=\"https://en.wikipedia.org/wiki/Provenance_(The_X-Files)\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/Provenance_(The_X-Files)\">https://en.wikipedia.org/wiki/Provenance_(The_X-Files)</a></p>",
        "id": 153830617,
        "sender_full_name": "David Hay",
        "timestamp": 1464653894
    },
    {
        "content": "<p>Yeah, I couldn't find this with google either.</p>",
        "id": 153830725,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1464708447
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> The problem with using a fragment in target is that the resource itself (here, the combined Patient) must be annotated with ids.  I'm planning on proposing an extension to target that would allow the use of a profile element to indicate what element(s) are targeted.  This would relieve the need to modify the resource just to make specific element level targets.</p>",
        "id": 153830754,
        "sender_full_name": "Chris Grenz",
        "timestamp": 1464731625
    },
    {
        "content": "<p>Anyone have any thoughts on this?</p>",
        "id": 153830755,
        "sender_full_name": "Chris Grenz",
        "timestamp": 1464731632
    },
    {
        "content": "<p>most people would find that impossibly complicated. You could use an expression to indicate externally if you didn't want to add ids</p>",
        "id": 153830763,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1464732829
    }
]