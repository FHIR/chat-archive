[
    {
        "content": "<p>I have a problem while trying to implement a Condition (<a href=\"https://www.hl7.org/fhir/condition-definitions.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/condition-definitions.html\">https://www.hl7.org/fhir/condition-definitions.html</a>). When setting an abatement with a datetimetype, and clinicalstatus as INACTIVE I am getting a con-4 error when validating the condition. This seems strange, as it should conform with con-4.</p>",
        "id": 153954275,
        "sender_full_name": "Andreas",
        "timestamp": 1524659589
    },
    {
        "content": "<p>what's an example? and what is reporting the error?</p>",
        "id": 153954280,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524660111
    },
    {
        "content": "<p>I have a Condition written in Java, with a couple of fields that validates OK. I want to extend this Condition by adding on an abatement. So i set the  abatement with a dateTimeType, and change the clinicalStatus from ACTIVE to INACTIVE as described in con-4 as being valid. But when passing the updated resource with the changes to FhirValidator, it gives back the following error, and declares the validation as not successful:  </p>\n<p>\"SingleValidationMessage[myLocationCol=-1,myLocationRow=-1,myLocationString=Condition @ /<em>:Condition[namespace-uri()='<a href=\"http://hl7.org/fhir'][1],myMessage=[error]\" target=\"_blank\" title=\"http://hl7.org/fhir'][1],myMessage=[error]\">http://hl7.org/fhir'][1],myMessage=[error]</a> Condition @ /</em>:Condition[namespace-uri()='<a href=\"http://hl7.org/fhir'][1]\" target=\"_blank\" title=\"http://hl7.org/fhir'][1]\">http://hl7.org/fhir'][1]</a>; Test=not(f:abatementBoolean/@value=true() or (not(exists(f:abatementBoolean)) and exists(*[starts-with(local-name(.), 'abatement')])) or f:clinicalStatus/@value=('resolved', 'remission', 'inactive')); Message=con-4: If condition is abated, then clinicalStatus must be either inactive, resolved, or remission,mySeverity=error]\"</p>\n<p>This is using dstu3</p>",
        "id": 153954292,
        "sender_full_name": "Andreas",
        "timestamp": 1524660754
    },
    {
        "content": "<p>so I think this is the C# validator?</p>",
        "id": 153954299,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524661156
    },
    {
        "content": "<p>Doesn't look like it.</p>",
        "id": 153954373,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1524693879
    },
    {
        "content": "<p>I don't recognize SingleValidationMessage from the other validators (which I write)</p>",
        "id": 153954374,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524693938
    },
    {
        "content": "<p>That's the xpath content being showed, the  .net validator uses the fhirpath expression</p>",
        "id": 153954376,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1524694113
    },
    {
        "content": "<p>true. so do my validators</p>",
        "id": 153954384,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524694864
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I have the same issue. Using HAPI FHIR, Java. Are there any obvious issues with this output?</p>",
        "id": 153964035,
        "sender_full_name": "Thomas Johansen",
        "timestamp": 1526975641
    }
]