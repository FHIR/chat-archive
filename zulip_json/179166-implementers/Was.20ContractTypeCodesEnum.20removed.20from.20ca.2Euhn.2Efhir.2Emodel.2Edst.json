[
    {
        "content": "<p>We attempted migration from HAPI 1.4 to 1.6 this week and discovered that both 1.5 and 1.6 cause build errors in our application:</p>\n<p>[INFO] --- maven-compiler-plugin:3.5.1:testCompile (default-testCompile) @ iexhub ---<br>\n[INFO] Changes detected - recompiling the module!<br>\n[INFO] Compiling 2 source files to C:\\InfoExchangeHubGIT\\iexhub\\iexhub\\target\\test-classes<br>\nC:\\InfoExchangeHubGIT\\iexhub\\iexhub\\src\\test\\java\\org\\iexhub\\services\\test\\ResearchConsentTest.java:43: error: cannot find symbol<br>\nimport ca.uhn.fhir.model.dstu2.valueset.ContractTypeCodesEnum;<br>\n                                       ^<br>\n  symbol:   class ContractTypeCodesEnum<br>\n  location: package ca.uhn.fhir.model.dstu2.valueset<br>\nC:\\InfoExchangeHubGIT\\iexhub\\iexhub\\src\\test\\java\\org\\iexhub\\services\\test\\PrivacyConsentTest.java:41: error: cannot find symbol<br>\nimport ca.uhn.fhir.model.dstu2.valueset.ContractTypeCodesEnum;<br>\n                                       ^<br>\n  symbol:   class ContractTypeCodesEnum<br>\n  location: package ca.uhn.fhir.model.dstu2.valueset<br>\n2 errors<br>\n[INFO] ------------------------------------------------------------------------<br>\n[INFO] BUILD FAILURE<br>\n[INFO] ------------------------------------------------------------------------<br>\n[INFO] Total time: 04:35 min<br>\n[INFO] Finished at: 2016-07-12T18:42:52-04:00<br>\n[INFO] Final Memory: 226M/247M<br>\n[INFO] ------------------------------------------------------------------------</p>\n<p>Was the ContractTypeCodesEnum class removed from the ca.uhn.fhir.model.dstu2.valueset package in 1.5?  Is there a substitute that should now be used?  This has been a show-stopper for our migration.</p>",
        "id": 153838304,
        "sender_full_name": "Anthony Sute ",
        "timestamp": 1468508456
    },
    {
        "content": "<p>not something that changed in the base spec, so far as I can see, but in the Java code I see:</p>",
        "id": 153838358,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1468525806
    },
    {
        "content": "<p>org.hl7.fhir.dstu2.model.valuesets.ContractType</p>",
        "id": 153838359,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1468525807
    },
    {
        "content": "<p>Thanks,  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  we using ca.uhn.fhir.model.dstu2.resource.Contract provided by HAPI FHIR (thanks to <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> ) but the DSTU2 Contract resource has change completely from version HAPI 1.4 to HAPI 1.5 - not backwards compatible,a  wholesale restructuring of Contract?  For instance the Contract.type  (e.g. \"disclosure\") is now gone in HAPI 1.5 of the DSTU2 Version of Contract (we are using it for authorization to disclose aka privacy conset). Any ideas what may be going on here?<br>\n<a href=\"http://hapifhir.io/apidocs-dstu2/ca/uhn/fhir/model/dstu2/resource/Contract.html\" target=\"_blank\" title=\"http://hapifhir.io/apidocs-dstu2/ca/uhn/fhir/model/dstu2/resource/Contract.html\">http://hapifhir.io/apidocs-dstu2/ca/uhn/fhir/model/dstu2/resource/Contract.html</a></p>",
        "id": 153838563,
        "sender_full_name": "Anthony Sute ",
        "timestamp": 1468548030
    },
    {
        "content": "<p>All of the financial resources were FMM 0 in DSTU 2 - i.e. \"draft - not stable, ready for production or even necessarily complete\".  So significant change isn't necessarily a surprise, or at least shouldn't be.  In STU 3, it looks like Consent will be its own stand-alone resource.  There's been a very significant amount of work in that space over the past month.</p>",
        "id": 153838613,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1468553909
    },
    {
        "content": "<p>changes in STU3 don't explain changs in HAPI for DSTU 2 -&gt; DSTU 2 between releases</p>",
        "id": 153838615,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1468553954
    },
    {
        "content": "<p>Isn't HAPI 1.5 the pre-STU 3 release?</p>",
        "id": 153838621,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1468554100
    },
    {
        "content": "<p>HAPI releases cross versions - HAPI includes support for all versions going forward</p>",
        "id": 153838630,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1468554379
    },
    {
        "content": "<p>Since our DSTU2 resource changed inadvertently (which I understand from this dialogue was not intentional, thank for the clarification) it would useful to deprecate before removing a field/method before removing it or at lest record this change in the release note, We had no idea we would not be able to upgrade. I would make our job easier to upgrade our lib version.I'll add this item to the HAPI tracker and it becomes available again - it's down now.</p>",
        "id": 153838927,
        "sender_full_name": "Anthony Sute ",
        "timestamp": 1468695268
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"192219\">@Anthony Sute </span> (sorry for the slow reply) yes, that Enum was indeed removed.</p>\n<p>The reason is that we decided to remove generated enums for codeableconcept fields with a binding strength of \"example\" because they were very misleading. People were interpreting them as being the only allowable values and reporting bugs about how it was cumbersome to use other codes.  Unfortunatley this means that if you happen to be using one of the two codes in that valueset, you need to manually enter them now.</p>",
        "id": 153839929,
        "sender_full_name": "James Agnew",
        "timestamp": 1468978751
    },
    {
        "content": "<p>This was a deliberate breaking change incidentally. We try very hard to avoid these since they do cause people issues I know (sorry about that!).</p>\n<p>This one came after a fair bit of consideration- I couldn't find any examples at all of people using example binding enums, and I had loads of examples of people being frustrated by them.</p>",
        "id": 153839931,
        "sender_full_name": "James Agnew",
        "timestamp": 1468978892
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span>, the refactoring of \"example\" binding makes sense and  we will refactor our code accordingly. The change log for 1..5 did not mention any changes to our enum class, however. It should have been one of many classes affected by this \"example\" binding implementation, right?</p>",
        "id": 153839934,
        "sender_full_name": "Anthony Sute ",
        "timestamp": 1468982084
    },
    {
        "content": "<p>Yup. FWIW this was changed per <a href=\"https://github.com/jamesagnew/hapi-fhir/issues/320\" target=\"_blank\" title=\"https://github.com/jamesagnew/hapi-fhir/issues/320\">bug #320</a> and it would affect any example binding field.</p>",
        "id": 153840025,
        "sender_full_name": "James Agnew",
        "timestamp": 1469036410
    }
]