[
    {
        "content": "<p>Hello, we have a requirement to implement the following Patient address parts: Rural Route, Station &amp;  Retail Postal Outlet to comply with Canada Post standard. We consider local extensions vs standard ISO-21090 extensions. At <a href=\"http://build.fhir.org/iso-21090.html\" target=\"_blank\" title=\"http://build.fhir.org/iso-21090.html\">http://build.fhir.org/iso-21090.html</a> I see that a combination of deliveryInstallationType, deliveryInstallationArea &amp; deliveryInstallationQualifier can provide us with a model for any one of the three required address parts, but the issue is with having more than one in the same address instance. Since these aren't part of one complex extension, address element would have 2 or 3 of deliveryInstallationType, deliveryInstallationArea &amp; deliveryInstallationQualifier single extensions with no way to connect them (e.g. deliveryInstallationType=\"Station\" &amp; deliveryInstallationQualifier=\"ABC\" + deliveryInstallationType=\"PostalOffice\" &amp; deliveryInstallationQualifier=\"A1234\").</p>",
        "id": 153856402,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1478812064
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191393\">@Igor Sirkovich</span> What do you mean \"no way to connect them\" - they're all on the same address and those elements are 0..1 with the address, so it's pretty obvious they're linked.</p>",
        "id": 153856405,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1478812582
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>, they are 0..*(<a href=\"http://hl7.org/fhir/extensibility-registry.html\" target=\"_blank\" title=\"http://hl7.org/fhir/extensibility-registry.html\">http://hl7.org/fhir/extensibility-registry.html</a>): if you have 2 deliveryInstallationArea extensions and 2 deliveryInstallationQualifier extensions on the same address, you wouldn't know which deliveryInstallationQualifier relates to which deliveryInstallationArea.</p>",
        "id": 153856406,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1478812972
    },
    {
        "content": "<p>Actually, I've just noticed that in 1.7  (<a href=\"http://build.fhir.org/extensibility-registry.html\" target=\"_blank\" title=\"http://build.fhir.org/extensibility-registry.html\">http://build.fhir.org/extensibility-registry.html</a>) these extension moved from Address to Address.line. This would solve the issue if we can pre-adopt this move: we would have one Address.line instance with deliveryInstallationType and deliveryInstallationQualifier extensions for Station and another Address.line instance with extensions for Postal Office.</p>",
        "id": 153856407,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1478813075
    },
    {
        "content": "<p>Igor, I'm not talking about what the extensions allow - they just follow v3 which allow you to specify an unlimited number of postal codes on your address too.  But from a practical perspective, a given address would only ever have one of each.  (And if you want to submit a change request for us to tighten up the extensions to reflect actual use, that wouldn't be bad either.)</p>",
        "id": 153856410,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1478813149
    },
    {
        "content": "<p>I.e. You'll never see an address with both \"post office\" and \"station\"</p>",
        "id": 153856413,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1478813202
    },
    {
        "content": "<p>Probably, this was a bad example, but an address can have both rural route and station, e.g. \"RR 6 STN MAIN\" (see page 4 at <a href=\"https://www.canadapost.ca/tools/pg/manual/PGaddress-e.pdf\" target=\"_blank\" title=\"https://www.canadapost.ca/tools/pg/manual/PGaddress-e.pdf\">https://www.canadapost.ca/tools/pg/manual/PGaddress-e.pdf</a>)</p>",
        "id": 153856419,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1478814130
    },
    {
        "content": "<p>I learn something every day.  I thout RR and STN were mutually exclusive.   And in the example, they're both on the same line.  So you'd have to do corresponding repetitions or you'd have to do something fancier than what the 21090 extensions support</p>",
        "id": 153856527,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1478872726
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>, this was new to me too.<br>\nI think that this would be a responsibility of the applications to format parsed address parts into mailing lines (Canada Post examples have city, province &amp; postal code on the same line too). <br>\nTo communicate parsed address parts in FHIR, we consider pre-adopting the move of 21090 extensions from Address to Address.line in FHIR 1.7 and to model rural route and station as 2 address lines with 2 extensions each. For the Canada Post page 4 example, first line: iso21090-ADXP-deliveryInstallationType=\"RR\" &amp; iso21090-ADXP-deliveryInstallationQualifier=\"6\", second line: iso21090-ADXP-deliveryInstallationType=\"STN\" &amp; iso21090-ADXP-deliveryInstallationQualifier=\"MAIN\".<br>\nI'm wondering if you see any issue with this approach.</p>",
        "id": 153856846,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1479136279
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191393\">@Igor Sirkovich</span>, <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>, this discussion seems to bear a similarity to the discussion going on with regards to identifiying parts of a last name (<a href=\"#narrow/stream/implementers/subject/http.3A.2F.2Fhl7.2Eorg.2Ffhir.2FStructureDefinition.2Fiso21090-EN-qualifie\" title=\"#narrow/stream/implementers/subject/http.3A.2F.2Fhl7.2Eorg.2Ffhir.2FStructureDefinition.2Fiso21090-EN-qualifie\">https://chat.fhir.org/#narrow/stream/implementers/subject/http.3A.2F.2Fhl7.2Eorg.2Ffhir.2FStructureDefinition.2Fiso21090-EN-qualifie</a>). Perhaps a common approach would make sense? <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> <span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span>, <span class=\"user-mention\" data-user-id=\"191375\">@Alexander Henket</span></p>",
        "id": 153856861,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1479146983
    }
]