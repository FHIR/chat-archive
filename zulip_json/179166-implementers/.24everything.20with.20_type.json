[
    {
        "content": "<p><code>Patient/[id]/$everything?_type=Observation</code></p>\n<p>Does it return the Patient resource and Observations, or just the Observations? The spec says _type defines the \"resource types to include\" which could potentially be read either way.</p>",
        "id": 216362949,
        "sender_full_name": "Paul Church",
        "timestamp": 1605109896
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span></p>",
        "id": 216368592,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1605112635
    },
    {
        "content": "<p>(This operation is written by patient administration; <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> do you have a perspective on this?)</p>",
        "id": 216369357,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1605113034
    },
    {
        "content": "<p>When I read <a href=\"http://build.fhir.org/patient-operation-everything.html\">http://build.fhir.org/patient-operation-everything.html</a>, \"FHIR resource types to include\" would seem to be a restriction, so asking for <code>_type=Observation</code> would give you Observations but not Patients. My interpretation may be colored by the <a href=\"http://build.fhir.org/ig/HL7/bulk-data/export/index.html\">language in bulk export</a> where we say \"The response SHALL be filtered to only include resources of the specified resource types(s)\".</p>",
        "id": 216369543,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1605113131
    },
    {
        "content": "<p>I think this line should be clarified as well:</p>\n<blockquote>\n<ul>\n<li>the server is responsible for determining what resources to return as included resources (rather than the client specifying which ones).</li>\n</ul>\n</blockquote>",
        "id": 216370487,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1605113551
    },
    {
        "content": "<p>Oh, I expect the ambiguity in that line results from a careful negotiation ;-)</p>",
        "id": 216370964,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1605113780
    },
    {
        "content": "<p>And was done before I got involved too.</p>",
        "id": 216384485,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1605120861
    },
    {
        "content": "<p>If thats the case, is <code>Patient/[id]/$everything?_type=Observation</code> just equivalent to a compartment search of just <code>Patient/[id]/Observation</code> or <code>Patient/[id]/*?_type=Observation</code>? I've so far thought the point of $everything was to include the Patient</p>",
        "id": 216415239,
        "sender_full_name": "Brendan Kowitz",
        "timestamp": 1605141926
    },
    {
        "content": "<p>$everything typically includes more than just the strict compartment although the language is quite open-ended. \"The server SHOULD return at least all resources that it has that are in the patient compartment for the identified patient(s), and any resource referenced from those\" It's a little like a compartment search with _include=*.</p>",
        "id": 216415668,
        "sender_full_name": "Paul Church",
        "timestamp": 1605142334
    },
    {
        "content": "<p>I'd think it would include the patient... Otherwise, why not just request <code>Observation?patient=[id]</code></p>",
        "id": 216422365,
        "sender_full_name": "James Agnew",
        "timestamp": 1605149875
    },
    {
        "content": "<p>Maybe that's not the most interesting example. There isn't a single search that will give you $everything?_type=Observation,AllergyIntolerance,Schedule</p>",
        "id": 216422573,
        "sender_full_name": "Paul Church",
        "timestamp": 1605150099
    },
    {
        "content": "<p>Yeah, based on reactions here, that more complex example is probably betters for evaluating this question. (My answer doesn't change.. )</p>",
        "id": 216475481,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1605191593
    },
    {
        "content": "<p>I think it's also worth noting that <code>$everything</code> can be information <em>related</em> to one or more patients.  So, if you ask for everything filtered for <code>_type=Encounter</code>, the operation can return encounters where a patient is listed as a participant:RelatedPerson (as opposed to <a href=\"https://www.hl7.org/fhir/compartmentdefinition-patient.html\">Compartment Patient</a> which says to include encounters where the subject matches the patient).</p>",
        "id": 216490618,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1605197840
    }
]