[
    {
        "content": "<p>Consider a PlanDefinition with an action of the form: {\"selectionBehavior\": \"exactly-one\", \"action\": [{\"id\": .., }, {\"id\", ..}, ..]}. I.e. the action is an action group and we need to pick one and only one sub-action when applying the PlanDefinition.</p>\n<p>When creating the RequestGroup from the PlanDefinition, is it best practice to create an action in the RequestGroup for the action group and to nest the sub-action from the action group inside that action? Or is there no standard way of applying action groups and it's left to the implementers to decide?</p>",
        "id": 261644271,
        "sender_full_name": "Kyle Thompson",
        "timestamp": 1637071242
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span></p>",
        "id": 261647100,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1637072472
    },
    {
        "content": "<p>I would expect the action structure to be preserved in the resulting RequestGroup, but the spec isn't abundantly clear on that point: <a href=\"https://hl7.org/fhir/plandefinition.html#12.18.3.3\">https://hl7.org/fhir/plandefinition.html#12.18.3.3</a><br>\nThe behavior in the ruler will recurse and should preserve the structure (though it currently isn't handling all the possibilities of behaviors) <a href=\"https://github.com/DBCG/cqf-ruler/blob/master/r4/src/main/java/org/opencds/cqf/r4/providers/PlanDefinitionApplyProvider.java#L345\">https://github.com/DBCG/cqf-ruler/blob/master/r4/src/main/java/org/opencds/cqf/r4/providers/PlanDefinitionApplyProvider.java#L345</a><br>\nIt looks like the encender implementation will actually collapse the processedActions into the root of the RequestGroup: <a href=\"https://github.com/ccsm-cds-tools/encender/blob/main/src/main.js#L138\">https://github.com/ccsm-cds-tools/encender/blob/main/src/main.js#L138</a><br>\nWe've been having discussions about PlanDefinition $apply semantics and nailing those down more clearly on the CPG-on-FHIR subgroup calls, the next one is tomorrow at 4:00 ET: <a href=\"https://www.hl7.org/concalls/CallDetails.cfm?concall=57471\">https://www.hl7.org/concalls/CallDetails.cfm?concall=57471</a>, I'll add this as a topic for discussion.</p>",
        "id": 261672979,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1637082290
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191782\">@Brian Kaney</span> <span class=\"user-mention\" data-user-id=\"195840\">@David Winters</span> <span class=\"user-mention\" data-user-id=\"192545\">@Alex Goel</span></p>",
        "id": 261673075,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1637082321
    },
    {
        "content": "<p>I <em>thought</em> encender would preserve the structure but can take a closer look and refresh my memory before the meeting tomorrow.  Should be a fun discussion!</p>",
        "id": 261673947,
        "sender_full_name": "David Winters",
        "timestamp": 1637082679
    },
    {
        "content": "<p>I've only tested Encender with 1 action per PlanDefinition in the $apply so I don't know either</p>",
        "id": 261677175,
        "sender_full_name": "Alex Goel",
        "timestamp": 1637084117
    },
    {
        "content": "<p>I may be misinterpreting the question, but this test shows how groups of actions should be treated with encender: <a href=\"https://github.com/ccsm-cds-tools/encender/blob/main/test/main.test.js#L160\">https://github.com/ccsm-cds-tools/encender/blob/main/test/main.test.js#L160</a></p>",
        "id": 261771103,
        "sender_full_name": "David Winters",
        "timestamp": 1637148034
    },
    {
        "content": "<p>Note encender doesn't currently support the <a href=\"http://hl7.org/fhir/uv/cpg/OperationDefinition-cpg-careplan-apply.html\">mergeNestedCarePlans</a> option.  It also does not yet support <code>selectionBehavior</code>.</p>",
        "id": 261771261,
        "sender_full_name": "David Winters",
        "timestamp": 1637148149
    },
    {
        "content": "<p>Continuing the discussion from the CPG-on-FHIR call last Wednesday: </p>\n<p>Based on the results of the Doodle poll, we'll be holding an ad-hoc CPG-on-FHIR call to continue PlanDefinition $apply semantics discussion on Tuesday the 23rd at 11:00AM ET:</p>\n<p>Join Zoom Meeting<br>\n<a href=\"https://zoom.us/j/2097018272?pwd=WC9tVWY2NnRTSmVHN21ja3gxeERqZz09\">https://zoom.us/j/2097018272?pwd=WC9tVWY2NnRTSmVHN21ja3gxeERqZz09</a></p>\n<p>Meeting ID: 209 701 8272<br>\nPassword: 343027<br>\nOne tap mobile<br>\n+16465588656,,2097018272# US (New York)</p>\n<p>+16699009128,,2097018272# US (San Jose)</p>\n<p><a href=\"https://www.hl7.org/concalls/CallDetails.cfm?concall=58751\">https://www.hl7.org/concalls/CallDetails.cfm?concall=58751</a></p>",
        "id": 262344164,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1637599063
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"401577\">Kyle Thompson</span> has marked this topic as resolved.</p>",
        "id": 269299624,
        "sender_full_name": "Notification Bot",
        "timestamp": 1643134626
    }
]