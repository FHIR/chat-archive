[
    {
        "content": "<p>What is the source and role of some strange search parameters like this?</p>\n<div class=\"codehilite\"><pre>{\n     &quot;fullUrl&quot;: &quot;http://hl7.org/fhir/SearchParameter/familymemberhistory-daf-FamilyMemberHistory-relationship&quot;,\n     &quot;resource&quot;: {\n       &quot;resourceType&quot;: &quot;SearchParameter&quot;,\n       &quot;id&quot;: &quot;familymemberhistory-daf-FamilyMemberHistory-relationship&quot;,\n       &quot;url&quot;: &quot;http://hl7.org/fhir/SearchParameter/familymemberhistory-daf-FamilyMemberHistory-relationship&quot;,\n       &quot;name&quot;: &quot;relationship&quot;,\n       &quot;code&quot;: &quot;relationship&quot;,\n       &quot;base&quot;: &quot;FamilyMemberHistory&quot;,\n       &quot;type&quot;: &quot;token&quot;,\n       &quot;description&quot;: &quot;Search for family history of members based on relationship&quot;,\n       &quot;xpathUsage&quot;: &quot;normal&quot;\n     }\n</pre></div>\n\n\n<p>They have some name clashes with other parameters :(</p>",
        "id": 153816095,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1458221250
    },
    {
        "content": "<p>Name clashes are certainly possible in general, though for content published as part of the HL7 standard, we'd try to avoid collisions for parameters that might appear on the same resource</p>",
        "id": 153816102,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1458224814
    },
    {
        "content": "<p>That's the case of collision on the same resource type. I could send you file with all collisions. May be we need some tests for consistency?</p>",
        "id": 153816113,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1458227734
    },
    {
        "content": "<p>Please raise it as a change request</p>",
        "id": 153816140,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1458236075
    },
    {
        "content": "<p>actually, we have several clashes with DAF, because DAF defined search parameters that subsequently got elevated in the spec, but not removed from DAF. <span class=\"user-mention\" data-user-id=\"191410\">@Brett Marquard</span> do we have any plans in that regard? can I just remove them? </p>",
        "id": 153816180,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1458238663
    },
    {
        "content": "<p>DAF plans to split the conformance in 2 -- one for patient access (constrained) and one for research access (very liberal). Will be added later this week</p>",
        "id": 153817142,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1458603041
    },
    {
        "content": "<p>I am trying to do a search in Firely by meta.LastUpdated and I can't seem to figure out the syntax of setting up the parameters...  The search section in the .NET docs is blank  <a href=\"http://docs.simplifier.net/search.html\" target=\"_blank\" title=\"http://docs.simplifier.net/search.html\">http://docs.simplifier.net/search.html</a></p>\n<p>If there is anyone that can assist I would appreciate it greatly</p>\n<p>Thank you.</p>",
        "id": 175646391,
        "sender_full_name": "Nathan Hood",
        "timestamp": 1568395853
    },
    {
        "content": "<p>Hi Nathan, Firely is a company creating multiple products like the open source .NET FHIR API, Vonk FHIR server, <a href=\"http://Simplifier.net\" target=\"_blank\" title=\"http://Simplifier.net\">Simplifier.net</a> FHIR collaboration platform and the FHIR Profile editor Forge :)</p>\n<p>Likely you're searching in Vonk? The search documentation should be standard FHIR behaviour and is documented at <a href=\"https://www.hl7.org/fhir/search.html#lastUpdated\" target=\"_blank\" title=\"https://www.hl7.org/fhir/search.html#lastUpdated\">https://www.hl7.org/fhir/search.html#lastUpdated</a>. Does that work for you?</p>\n<p>cc <span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span></p>",
        "id": 175754793,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1568563060
    },
    {
        "content": "<p>I'm using their HL7.Fhir.R4 package in .NET.  Firely doesn't use the \"?_lastUpdated=\" for searching (as far as I can tell) it has it's own query system using search parameters of which lastUpdated is not a valid one.  I couldn't find a way to search using the FHIR syntax at the end of last week, but I'll try again.</p>",
        "id": 175821890,
        "sender_full_name": "Nathan Hood",
        "timestamp": 1568647023
    },
    {
        "content": "<p>That's just a convenience class to search with, and you can just add the \"_lastUpdated\" as a value in it. underneath it still creates URLs like you've shown.</p>",
        "id": 175828806,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1568651431
    },
    {
        "content": "<p>I think I figured out a solution, I was able to get the search I needed done with the syntax : </p>\n<p>var diagnosticReports = fhirClient.Search&lt;DiagnosticReport&gt;(new[] {\"_lastUpdated=gt2019-09-13\"});</p>\n<p>I was making it harder than it needed to be :)</p>",
        "id": 175829407,
        "sender_full_name": "Nathan Hood",
        "timestamp": 1568651875
    },
    {
        "content": "<p>For SearchParameters, what is meant to be the difference between search and code? Though in examples all name and codes are exactly the same, which one is the one that's actually used to define \"what does user use in order to search for this field\"?</p>",
        "id": 217281844,
        "sender_full_name": "Joyce Zhou",
        "timestamp": 1605798536
    },
    {
        "content": "<p>name is a computer friendly name, code is used in search query. Here is an example from us core ig</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n   ...\n   &quot;resourceType&quot;: &quot;SearchParameter&quot;,\n    &quot;id&quot;: &quot;us-core-allergyintolerance-clinical-status&quot;,\n    &quot;name&quot;: &quot;USCoreAllergyintoleranceClinicalStatus&quot;,\n    &quot;code&quot;: &quot;clinical-status&quot;,\n   ...\n}\n</code></pre></div>\n<p>The search query looks like</p>\n<div class=\"codehilite\"><pre><span></span><code>[base]/AllergyIntolerance?clinical-status=xxx\n</code></pre></div>",
        "id": 217285746,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1605800100
    },
    {
        "content": "<p>Thanks! And that's a great example!</p>",
        "id": 217418851,
        "sender_full_name": "Joyce Zhou",
        "timestamp": 1605887698
    },
    {
        "content": "<p>Hello, I have created  custom search parameter against CarePlan and I would like to run an _include statement against it. However, I am receiving an error in the returned OperationOutcome from the Vonk server as below:-<br>\n \"issue\": [<br>\n                    {<br>\n                        \"severity\": \"warning\",<br>\n                        \"code\": \"not-supported\",<br>\n                        \"details\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"system\": \"<a href=\"http://hl7.org/fhir/dotnet-api-operation-outcome\">http://hl7.org/fhir/dotnet-api-operation-outcome</a>\",<br>\n                                    \"code\": \"5003\"<br>\n                                }<br>\n                            ],<br>\n                            \"text\": \"Parameter 'author-inc' is not supported the resourcetype 'CarePlan'\"<br>\n                        }<br>\n                    }<br>\n                ]</p>\n<p>This is my RESTful query: <br>\nGET <a href=\"https://vonk.fire.ly/R4/CarePlan?subject:Patient.identifier=9912003889&amp;_include=CarePlan:author-inc:Practitioner\">https://vonk.fire.ly/R4/CarePlan?subject:Patient.identifier=9912003889&amp;_include=CarePlan:author-inc:Practitioner</a>. </p>\n<p>Please could anyone from the community advise on mistakes that I am making and how I can take steps to rectify them?</p>\n<p>I attach the custom SearchParameter that I have created to execute this query. <a href=\"/user_uploads/10155/Q3VO02VHre_ndWuPe23lBQkT/CarePlan-AuthorInc-SearchParameter.xml\">CarePlan-AuthorInc-SearchParameter.xml</a></p>",
        "id": 222474134,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1610476096
    },
    {
        "content": "<p>In general, custom code is required to get a server to support a custom search parameter.  Have you made the needed customizations to the server?</p>",
        "id": 222476309,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1610477045
    },
    {
        "content": "<p>I don't know about Vonk, but in HAPI FHIR you can just post a new SearchParameter and then re-index.  (That might not be the case with Vonk.)</p>",
        "id": 222481994,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1610479646
    },
    {
        "content": "<p>Whether that works depends on the definition of the SearchParameter</p>",
        "id": 222487270,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1610482081
    },
    {
        "content": "<p>Does that work for composite search parameters in HAPI?</p>",
        "id": 222487356,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1610482108
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/SearchParameters/near/222476309\">said</a>:</p>\n<blockquote>\n<p>In general, custom code is required to get a server to support a custom search parameter.  Have you made the needed customizations to the server?</p>\n</blockquote>\n<p>Please could you outline here the server customisations which would be required. Many thanks.</p>",
        "id": 222561331,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1610534112
    },
    {
        "content": "<p>See <a href=\"https://docs.fire.ly/firelyserver/features/customsearchparameters.html\">https://docs.fire.ly/firelyserver/features/customsearchparameters.html</a> for Vonk SearchParameter support. Just make sure to POST SearchParameter to the /administration/ endpoint, and to reindex (as documented on that page).</p>",
        "id": 222564043,
        "sender_full_name": "René Spronk",
        "timestamp": 1610535737
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191372\">René Spronk</span> <a href=\"#narrow/stream/179166-implementers/topic/SearchParameters/near/222564043\">said</a>:</p>\n<blockquote>\n<p>See <a href=\"https://docs.fire.ly/firelyserver/features/customsearchparameters.html\">https://docs.fire.ly/firelyserver/features/customsearchparameters.html</a> for Vonk SearchParameter support. Just make sure to POST SearchParameter to the /administration/ endpoint, and to reindex (as documented on that page).</p>\n</blockquote>\n<p>I have followed the instructions in the documentation, but on execution I only received the following error code: Error: connect ETIMEDOUT 40.68.2.109:443. Please could you advise on my next steps <span class=\"user-mention\" data-user-id=\"191372\">@René Spronk</span></p>",
        "id": 222693855,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1610615770
    },
    {
        "content": "<p>Let's ask a Vonk expert (which I'm not): <span class=\"user-mention\" data-user-id=\"191347\">@Mirjam Baltus</span> ?</p>",
        "id": 222698313,
        "sender_full_name": "René Spronk",
        "timestamp": 1610618835
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191372\">René Spronk</span> <a href=\"#narrow/stream/179166-implementers/topic/SearchParameters/near/222698313\">said</a>:</p>\n<blockquote>\n<p>Let's ask a Vonk expert (which I'm not): <span class=\"user-mention silent\" data-user-id=\"191347\">Mirjam Baltus</span> ?</p>\n</blockquote>\n<p>Thanks, I would really appreciate your input <span class=\"user-mention\" data-user-id=\"191347\">@Mirjam Baltus</span></p>",
        "id": 222701566,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1610620939
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191594\">@Katie Wheatley</span> Are you trying this on the public Vonk server, or your own local copy? If the first, it seems there is a problem reaching the administration endpoint on that, so that's probably causing your error. I've tried your search parameter on my own local Vonk, and it works perfectly.</p>",
        "id": 222704215,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1610622636
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191594\">@Katie Wheatley</span> I've looked at the public server again, and can see that you have posted your SearchParameter to the regular repository, instead of to '/administration/SearchParameter'. On the regular data repository, Vonk will only store the resource, and not use it. So that is why you did not get any results. Not being able to reach the /administration endpoint was a typo on my behalf; it does work fine.</p>",
        "id": 222705613,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1610623609
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191347\">Mirjam Baltus</span> <a href=\"#narrow/stream/179166-implementers/topic/SearchParameters/near/222704215\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191594\">Katie Wheatley</span> Are you trying this on the public Vonk server, or your own local copy? If the first, it seems there is a problem reaching the administration endpoint on that, so that's probably causing your error. I've tried your search parameter on my own local Vonk, and it works perfectly.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191347\">@Mirjam Baltus</span> Brilliant, I will try again.</p>",
        "id": 222707422,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1610625095
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191594\">Katie Wheatley</span> <a href=\"#narrow/stream/179166-implementers/topic/SearchParameters/near/222707422\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191347\">Mirjam Baltus</span> <a href=\"#narrow/stream/179166-implementers/topic/SearchParameters/near/222704215\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191594\">Katie Wheatley</span> Are you trying this on the public Vonk server, or your own local copy? If the first, it seems there is a problem reaching the administration endpoint on that, so that's probably causing your error. I've tried your search parameter on my own local Vonk, and it works perfectly.</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191347\">Mirjam Baltus</span> Brilliant, I will try again.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191347\">@Mirjam Baltus</span> Unfortunately, although I did successfully post my new SearchParameter to the Vonk administration endoint e.g. <a href=\"https://vonk.fire.ly/administration\">https://vonk.fire.ly/administration</a>, the documentation mentioned above states that I needed to rebuild the search index for specific searchparameters, once a new one is added. When I attempted to execute POST <a href=\"https://vonk.fire.ly/R4/administration/reindex/searchparameters\">https://vonk.fire.ly/R4/administration/reindex/searchparameters</a>, Vonk returned code 403, indicating that I am not permitted to perform the reindex. I've tried to run a RESTful query using my new SearchParameter, but Vonk still doesn't recognise the new SearchParameter and returns OperationOutcome.issue<br>\n                \"issue\": [<br>\n                    {<br>\n                        \"severity\": \"warning\",<br>\n                        \"code\": \"not-supported\",<br>\n                        \"details\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"system\": \"<a href=\"http://hl7.org/fhir/dotnet-api-operation-outcome\">http://hl7.org/fhir/dotnet-api-operation-outcome</a>\",<br>\n                                    \"code\": \"5003\"<br>\n                                }<br>\n                            ],<br>\n                            \"text\": \"Parameter 'author-inc' is not supported the resourcetype 'CarePlan'\"<br>\nCould you assist me further in resolving this?</p>",
        "id": 222800673,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1610667080
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span></p>",
        "id": 222810995,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1610676226
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191594\">@Katie Wheatley</span> I do see that you've posted the SearchParameter to the administration endpoint. It is on the STU3 part of it, and also does not give any errors when you do a <code>GET https://vonk.fire.ly/CarePlan?author-inc=xyz</code>. If you need it on R4, you need to post to <a href=\"https://vonk.fire.ly/administration/r4/SearchParameter\">https://vonk.fire.ly/administration/r4/SearchParameter</a> - please use a different URL, for example with '-R4' attached to it, since it now already exists with the current url on the R3 division.</p>\n<p>It is correct that the reindex is not allowed on the public endpoint, to prevent someone from accidentally reindexing the whole database, which might cause performance issues for others. The search parameter will work, but only for new or newly updated resources. If you run a local copy, you would be able to do a reindex.</p>",
        "id": 222828113,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1610696913
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191347\">Mirjam Baltus</span> <a href=\"#narrow/stream/179166-implementers/topic/SearchParameters/near/222828113\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191594\">Katie Wheatley</span> I do see that you've posted the SearchParameter to the administration endpoint. It is on the STU3 part of it, and also does not give any errors when you do a <code>GET https://vonk.fire.ly/CarePlan?author-inc=xyz</code>. If you need it on R4, you need to post to <a href=\"https://vonk.fire.ly/administration/r4/SearchParameter\">https://vonk.fire.ly/administration/r4/SearchParameter</a> - please use a different URL, for example with '-R4' attached to it, since it now already exists with the current url on the R3 division.</p>\n<p>It is correct that the reindex is not allowed on the public endpoint, to prevent someone from accidentally reindexing the whole database, which might cause performance issues for others. The search parameter will work, but only for new or newly updated resources. If you run a local copy, you would be able to do a reindex.</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"191347\">@Mirjam Baltus</span>, I have now successfully run my query.</p>",
        "id": 222835835,
        "sender_full_name": "Katie Wheatley",
        "timestamp": 1610702873
    },
    {
        "content": "<p>I am currently working on search on FHIR. While writing testcases I noticed that there is no <code>reason-reference</code> parameter for MedicationRequests. <br>\nThe testcase I originally wanted to write was to get all MedicationRequests that had Hypertension as a reason. </p>\n<p>This led me to the thought if there was any ResourceType that has <code>reasonReference</code> as a field that should not have <code>reason-reference</code> as a parameter.<br>\n==&gt; Are there maybe fields that should always result in the same search parameters? (encounter, reason-reference, patient)?</p>",
        "id": 222852222,
        "sender_full_name": "Julius Severin",
        "timestamp": 1610714716
    },
    {
        "content": "<p>We don't have strong rules about what search parameters must exist in most cases.  I do agree that a reason-reference search parameter would be appropriate.  Can you submit a change request?</p>",
        "id": 222886124,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1610729085
    }
]