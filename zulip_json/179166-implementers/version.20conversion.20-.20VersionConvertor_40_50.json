[
    {
        "content": "<p><a href=\"https://www.hl7.org/fhir/versions.html#extensions\">https://www.hl7.org/fhir/versions.html#extensions</a> describes how _\"any element defined in any version of FHIR is automatically assigned an extension URL that uniquely identifies the element and can be used in the relevant FHIR version\"_</p>\n<p>So I've just used the VersionConvertor_40_50.convertResource to turn an R5 ValueSet into an R4 ValueSet and did not get what I expected:<br>\nInput:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"ValueSet\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"expansion\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"contains\"</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n      <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"urn:abc-123\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"dummy code\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"property\"</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"stringProp\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span> <span class=\"s2\">\"string value\"</span>\n      <span class=\"p\">},</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"booleanProp\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"valueBoolean\"</span><span class=\"p\">:</span> <span class=\"kc\">true</span>\n      <span class=\"p\">},</span> <span class=\"p\">{</span>\n        <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"decimalProp\"</span><span class=\"p\">,</span>\n        <span class=\"nt\">\"valueDecimal\"</span><span class=\"p\">:</span> <span class=\"mf\">3.1415926</span>\n      <span class=\"p\">}</span> <span class=\"p\">]</span>\n    <span class=\"p\">}</span> <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>Output:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"ValueSet\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"expansion\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"contains\"</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n      <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"urn:abc-123\"</span><span class=\"p\">,</span>\n      <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"dummy code\"</span>\n    <span class=\"p\">}</span> <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>Where has that add-in-R5 <code>property</code> element gone?  I was expecting that additional elements would be rendered as extensions on the older resource?</p>",
        "id": 246700643,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1626862433
    },
    {
        "content": "<p>The conversion code is manually written.  Feel free to submit an issue, or better yet, a pull request :)</p>",
        "id": 246731042,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1626879355
    },
    {
        "content": "<p>Fair enough :-)</p>\n<p>When I see this:</p>\n<div class=\"codehilite\" data-code-language=\"Java\"><pre><span></span><code><span class=\"c1\">// Generated on Sun, Feb 24, 2019 11:37+1100 for FHIR v4.0.0</span>\n<span class=\"kd\">public</span> <span class=\"kd\">class</span> <span class=\"nc\">ValueSet40_50</span> <span class=\"kd\">extends</span> <span class=\"n\">VersionConvertor_40_50</span> <span class=\"p\">{</span>\n</code></pre></div>\n<p>what is it generated from and how?</p>",
        "id": 246782002,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1626902836
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span></p>",
        "id": 246783663,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1626903880
    },
    {
        "content": "<p>It's not generated, it's manually written code.</p>",
        "id": 246784732,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1626904524
    },
    {
        "content": "<p>I'mk actually in the process of a giant overhaul right now of the convertors to include more controls for users</p>",
        "id": 246784796,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1626904560
    },
    {
        "content": "<p>being able to override or otherwise intercept all those conversion methods would be a great option</p>",
        "id": 246785714,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1626904995
    },
    {
        "content": "<p>It is in the works right now</p>",
        "id": 246786646,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1626905485
    },
    {
        "content": "<p>but it is a MASSIVE overhaul</p>",
        "id": 246786663,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1626905496
    },
    {
        "content": "<p>right now the first stage will be to allow users to custom handle extensions based on path, in addition to providing the ability to override resource conversion altogether for certain types if they want</p>",
        "id": 246786784,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1626905567
    },
    {
        "content": "<p>there are a few open github issues on this</p>",
        "id": 246786799,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1626905575
    },
    {
        "content": "<p>I'm planning to close them all with one big commit</p>",
        "id": 246786818,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1626905586
    }
]