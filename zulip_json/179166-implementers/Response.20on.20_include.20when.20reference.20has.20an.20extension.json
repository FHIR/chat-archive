[
    {
        "content": "<p>We are working with STU3, which misses the PractitionerRole extension at quite some places. For example at Patient.generalPractitioner. In our use case, we really want to know the speciality of the Practitioner and to which Organization it belongs. We do this with an extension on the reference datatype.  In a Patient instance, it looks like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"s2\">&quot;generalPractitioner&quot;</span><span class=\"err\">:</span> <span class=\"p\">[</span>\n                    <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n                            <span class=\"p\">{</span>\n                                <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://nictiz.nl/fhir/StructureDefinition/practitionerrole-reference&quot;</span><span class=\"p\">,</span>\n                                <span class=\"nt\">&quot;valueReference&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                                    <span class=\"nt\">&quot;reference&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;PractitionerRole/example-ID&quot;</span><span class=\"p\">,</span>\n                                    <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Role Vaste Huisarts&quot;</span>\n                                <span class=\"p\">}</span>\n                            <span class=\"p\">}</span>\n                        <span class=\"p\">],</span>\n                        <span class=\"nt\">&quot;reference&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://localhost:4080/Practitioner/example-ID&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Vaste Huisarts&quot;</span>\n                    <span class=\"p\">}</span>\n                <span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Now the main question: in our use case, we want to retrieve the Patient resource including the generalPractitioner references. So our GET URL search is:  </p>\n<div class=\"codehilite\"><pre><span></span>GET [base]/Patient?_include=Patient:general-practitioner\n</pre></div>\n\n\n<p>Ideally, we would like servers to include the reference in the extension as well. Should this be normal behaviour?</p>",
        "id": 160777711,
        "sender_full_name": "Ardon Toonstra",
        "timestamp": 1552568844
    },
    {
        "content": "<p>No, only the practitioner is included. The way to include the practitioner role would be to have a custom search parameter - eg 'general-practitioner-role' corresponding to the extension, and then use it for the the include</p>",
        "id": 160781953,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1552571784
    },
    {
        "content": "<p>Don't think so - server can't generally know what an extension means, but even if it did: we'd need a FHIRPath like syntax (?) for the _include to enable such behavior. We need predictable behavior, so extending the meaning of an _include or a query parameter in such a fashion seems very tricky to me. As such i agree with <span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span></p>",
        "id": 160782287,
        "sender_full_name": "Ren√© Spronk",
        "timestamp": 1552571993
    },
    {
        "content": "<p>Thnx for the input! Agree that this shouldn't be normal behaviour. But now we have a bit more confirmation.</p>",
        "id": 160859849,
        "sender_full_name": "Ardon Toonstra",
        "timestamp": 1552642980
    },
    {
        "content": "<p>you would also need a custom search parameter for that, and also _include that search parameter - as _include works on search parameters, not properties.</p>",
        "id": 162426090,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1554296115
    }
]