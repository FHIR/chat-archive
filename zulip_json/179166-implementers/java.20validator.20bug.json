[
    {
        "content": "<p>The current version of the validator seems to be broken: </p>\n<div class=\"codehilite\"><pre><span></span><code> Terminology server http://tx.fhir.orgException in thread &quot;main&quot; java.lang.NoClassDefFoundError: okhttp3/Request$Builder\n</code></pre></div>\n<p>workaround: -tx n/a</p>",
        "id": 223816027,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611497865
    },
    {
        "content": "<p>Looks like a fried dependency</p>",
        "id": 223816089,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1611497926
    },
    {
        "content": "<p>fix: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/422\">https://github.com/hapifhir/org.hl7.fhir.core/pull/422</a><br>\n@fyi <span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 223817605,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611500209
    },
    {
        "content": "<p>That will break hapi fhir</p>",
        "id": 223817628,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611500268
    },
    {
        "content": "<p>The dependency needs to be marked as optional. The original okhttp dependency in the r5 library was changed to optional a day or two ago, and that's what is causing the issue right now</p>",
        "id": 223817685,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611500339
    },
    {
        "content": "<p>Let me take a quick look at how to properly fix the dependencies such that no other downstream projects get borked</p>",
        "id": 223817700,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611500387
    },
    {
        "content": "<p>I left a comment, please just add the optional tag to the dependency</p>",
        "id": 223817921,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611500688
    },
    {
        "content": "<p>that will fix it for now</p>",
        "id": 223817923,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611500692
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span></p>",
        "id": 223817931,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611500704
    },
    {
        "content": "<p>thanks for the fast response, added the optional tag</p>",
        "id": 223818013,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611500866
    },
    {
        "content": "<p>eh, no problem, I have to add a test that actually runs the validator on a test file</p>",
        "id": 223818081,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611500985
    },
    {
        "content": "<p>to make sure changes don't break it</p>",
        "id": 223818082,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611500990
    },
    {
        "content": "<p>might do that this week if I have time</p>",
        "id": 223818083,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611501001
    },
    {
        "content": "<p>The fixed build is now live</p>",
        "id": 223823782,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611507968
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> please let me know if there are any issues</p>",
        "id": 223823785,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611507976
    },
    {
        "content": "<p>hmmm. This fixed the issue for me locally, running it in intelliJ. The new released Version still got the issue. The optional dependency seems to be ignored while building the CLI Validator.</p>",
        "id": 223828364,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611513854
    },
    {
        "content": "<p>Testing also adding it directly into the cli pom, non optional.</p>",
        "id": 223828433,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611513961
    },
    {
        "content": "<p>*currently</p>",
        "id": 223828484,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611513970
    },
    {
        "content": "<p>ok, seems to be the fix. Will Push in a sec</p>",
        "id": 223828523,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611514067
    },
    {
        "content": "<p><a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/425\">https://github.com/hapifhir/org.hl7.fhir.core/pull/425</a></p>",
        "id": 223829223,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611514874
    },
    {
        "content": "<p>I also found another issue in the validator logic: Validation Addresses with pattern on them always caused a wrong validation error on the line.size (in pattern line.size can be &gt;= compared to the pattern line size).<br>\nI applied the same logic as in the CodingCheck.</p>",
        "id": 223829349,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611515017
    },
    {
        "content": "<p>length validation of line now works on addresses with pattern on Address.</p>",
        "id": 223829429,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611515092
    },
    {
        "content": "<p>PR here: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/424\">https://github.com/hapifhir/org.hl7.fhir.core/pull/424</a><br>\n<span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 223829464,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611515151
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> I merged it in and it will be in 5.2.20</p>",
        "id": 223906977,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611586311
    },
    {
        "content": "<p>should be available soon</p>",
        "id": 223906991,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611586317
    },
    {
        "content": "<p>works thanks!</p>",
        "id": 223913117,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611588812
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> is there a chance of merging this PR: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/424\">https://github.com/hapifhir/org.hl7.fhir.core/pull/424</a> soon as well?<br>\nCurrently the validator always throws Errors on Address.line cardindality if you specify a pattern on Address.</p>",
        "id": 224172008,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1611749509
    },
    {
        "content": "<p>Looks good. Just please add a line describing the change to the RELEASE_NOTES.md file</p>",
        "id": 224190552,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611758670
    },
    {
        "content": "<p><code>* Fixed this issue by doing this</code></p>",
        "id": 224190580,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611758684
    },
    {
        "content": "<p>something like that</p>",
        "id": 224190588,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611758687
    },
    {
        "content": "<p>with the proper details of course</p>",
        "id": 224190600,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1611758692
    }
]