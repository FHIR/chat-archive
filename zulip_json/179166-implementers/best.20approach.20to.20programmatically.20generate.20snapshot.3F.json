[
    {
        "content": "<p>Any suggestion on what the best approach would be to generate a snapshot for a profile that has a complex hierarchy? i.e. has a baseDefinition of X, which has a baseDefinition of Y, which has a baseDefinition of Z?</p>",
        "id": 211786705,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1601483503
    },
    {
        "content": "<p>Hoping there's a solution where I can pass a bundle of all associated base definitions to something and have it generate snapshots for each</p>",
        "id": 211786796,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1601483536
    },
    {
        "content": "<p>doesn't the IG publisher do so? I mean if you fit all your profiles within the same IG, shouldn't that then be an option?</p>",
        "id": 211817864,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1601498710
    },
    {
        "content": "<p>then afterwards have a look at the code in the igpub</p>",
        "id": 211817938,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1601498736
    },
    {
        "content": "<p>Snapshot generation is very complex and (as far as I understand) fraught with edge cases, complexities, and unwritten rules.  As <span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> suggests, I'd highly recommend trying to leverage existing tooling if possible.  In addition to the IG Publisher, I believe Firely tools also support snapshot generation (although I'm not sure if it is open source or not).</p>",
        "id": 211818785,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1601499062
    },
    {
        "content": "<p>right. all the hard stuff is moved to there. I don't think that I've packaged up a simple way to do this, but the logic is all in the java code</p>",
        "id": 211855260,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1601510822
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> if you are working with the java core classes the functionality is exposed with the <a href=\"https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator\">java validator</a> , you can use the -snapshot parameter. if you are working with hapi-fhir, see example code here <a href=\"https://hapifhir.io/hapi-fhir/docs/validation/examples.html\">https://hapifhir.io/hapi-fhir/docs/validation/examples.html</a>. You would need to feed the base structuredefinitions first.</p>",
        "id": 211872092,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1601532108
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> will be sitting like this <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span> :<br>\n<a href=\"/user_uploads/10155/FPBkY6vXBPeXAZ4Db-4rOiyI/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/FPBkY6vXBPeXAZ4Db-4rOiyI/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/FPBkY6vXBPeXAZ4Db-4rOiyI/image.png\"></a></div>",
        "id": 211875728,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1601536372
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> Indeed, as <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> suggests Torinox (soon to be Firely Terminal) can do this quite easily: <a href=\"https://simplifier.net/docs/torinox/SnapshotGeneration\">https://simplifier.net/docs/torinox/SnapshotGeneration</a>. Or you could upload to your project in Simplifier and download including snapshot. Not open source, but all free.<br>\nBut not sure if that fits in the workflow you have in mind.</p>",
        "id": 211917917,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1601562238
    },
    {
        "content": "<p>and torinox can be wrapped in docker if you don't like installs: <a href=\"https://github.com/jkiddo/torinox-in-docker\">https://github.com/jkiddo/torinox-in-docker</a></p>",
        "id": 211921594,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1601563639
    },
    {
        "content": "<p>appreciate all the feedback... unfortunately, I don't think very many of these solutions fit very nicely with a javascript/node app</p>",
        "id": 211979773,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1601588677
    },
    {
        "content": "<p>I can't invoke java code directly... I'd have to execute the <code>java</code> command with a jar.<br>\nThe best I can think of is to use $snapshot in the REST API to generate the snapshot</p>",
        "id": 211979876,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1601588757
    },
    {
        "content": "<p>but that will depend on the support for the FHIR server's $snapshot</p>",
        "id": 211979937,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1601588775
    },
    {
        "content": "<p>at best, all of the profiles will have to be loaded on the FHIR server where $snapshot is called</p>",
        "id": 211979971,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1601588800
    }
]