[
    {
        "content": "<p>Is the FHIR Validator found here: <a href=\"http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator\">http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator</a> open source?  If so, can someone point me to the Repo?  I checked the HL7 Repo on Github and nothing was jumping out at me.  I'm interested in checking out the pieces being used for FHIR Mapping language to do some mapping of different data into FHIR.  Thanks</p>",
        "id": 168312911,
        "sender_full_name": "Larry Shields",
        "timestamp": 1560780256
    },
    {
        "content": "<p>Yep, see <a href=\"https://github.com/hapifhir/org.hl7.fhir.core\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core\">https://github.com/hapifhir/org.hl7.fhir.core</a></p>",
        "id": 168314067,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1560781016
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 168314272,
        "sender_full_name": "Larry Shields",
        "timestamp": 1560781140
    },
    {
        "content": "<p>A question on FHIR validator :<br>\nDoes this store any kind of demographic or clinical information at the server end ?</p>",
        "id": 188742336,
        "sender_full_name": "Chidamber Kumar",
        "timestamp": 1582299118
    },
    {
        "content": "<p>The validator itself points to data that is either passed in or already persisted elsewhere.  It doesn't persist any information itself.</p>",
        "id": 188755872,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582307094
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> for confirming that. So do suggest to use validator with real time patient data. I hope there should't be any security concerns ?</p>",
        "id": 188923215,
        "sender_full_name": "Chidamber Kumar",
        "timestamp": 1582549432
    },
    {
        "content": "<p>The java FHIR validator forwards terminology validations to <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">tx.fhir.org</a>. So this could be a potential security implication. But it is possible to specify its own Terminology Server or to disable the TermServer support.</p>",
        "id": 188924106,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1582550013
    },
    {
        "content": "<p>Just to check: <span class=\"user-mention\" data-user-id=\"261725\">@Chidamber Kumar</span>, you are talking about the command line Java validator, right? Not, for example, a $validate endpoint on a server.</p>",
        "id": 188924658,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582550400
    },
    {
        "content": "<p>Ah, just answered here: <a href=\"#narrow/stream/179160-social/topic/FHIR.20validator\" title=\"#narrow/stream/179160-social/topic/FHIR.20validator\">https://chat.fhir.org/#narrow/stream/179160-social/topic/FHIR.20validator</a></p>",
        "id": 188924798,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582550462
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> I am referring to this one <a href=\"http://hl7.org/fhir/validator/\" target=\"_blank\" title=\"http://hl7.org/fhir/validator/\">http://hl7.org/fhir/validator/</a>.</p>",
        "id": 188926102,
        "sender_full_name": "Chidamber Kumar",
        "timestamp": 1582551380
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> ,  yep got the command to disable it. Thanks for bringing that out <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 188927003,
        "sender_full_name": "Chidamber Kumar",
        "timestamp": 1582552000
    },
    {
        "content": "<p>The validator can also try to retrieve referenced profiles if it can't find them available locally.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, is there a flag that disables that?</p>",
        "id": 188933872,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582556665
    },
    {
        "content": "<p>not at the moment</p>",
        "id": 188955157,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582570925
    },
    {
        "content": "<p>Hi, I need some help understanding the validation spec <a href=\"http://hl7.org/fhir/resource-operation-validate.html\">http://hl7.org/fhir/resource-operation-validate.html</a>.   When mode is unavailable in the URL [base]/[Resource]/[id]/$validate, do we validate against the request body? or should we validate what's in [base]/[Resource]/[id] since id is provided?</p>",
        "id": 200276926,
        "sender_full_name": "Wan Chen",
        "timestamp": 1591730268
    },
    {
        "content": "<blockquote>\n<p>[mode not provided]: The server checks the content of the resource against any schema, constraint rules, and other general terminology rules</p>\n</blockquote>",
        "id": 200281276,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1591732556
    },
    {
        "content": "<p>Thank you Grahame, for your response.  What is the purpose of the instance [id] in the $validate POST url?  HAPI checks to see if the instance ids match but otherwise does not use the FHIR resource stored on the server.  Vonk I believe ignores the id completely, and Grahame, your server is currently down so I can't compare.</p>",
        "id": 200287660,
        "sender_full_name": "Wan Chen",
        "timestamp": 1591735445
    },
    {
        "content": "<p>there really is no purpose to the id if there isn't a mode</p>",
        "id": 200383761,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1591772375
    },
    {
        "content": "<p>I restarted my server</p>",
        "id": 200383776,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1591772397
    },
    {
        "content": "<p>Hi All , I try to do validation on my custom definition in HAPI FHIR, I was looking at this page <a href=\"https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html\">https://hapifhir.io/hapi-fhir/docs/validation/validation_support_modules.html</a> at 10.3.11Recipe: Supplying Custom Definitions, but this example is not clear how to create my own StructureDefinition and ValueSet in HAPI, can someone help me or pointing me an code example?</p>",
        "id": 201095930,
        "sender_full_name": "Steven Wang",
        "timestamp": 1592361138
    },
    {
        "content": "<p>Does anyone knew this error: StructureDefinition.snapshot.element[1].type[0].code - The value provided (\"<a href=\"http://hl7.org/fhirpath/System.String\">http://hl7.org/fhirpath/System.String</a>\") is not in the value set <a href=\"http://hl7.org/fhir/ValueSet/defined-types\">http://hl7.org/fhir/ValueSet/defined-types</a> (<a href=\"http://hl7.org/fhir/ValueSet/defined-types\">http://hl7.org/fhir/ValueSet/defined-types</a>), and a code should come from this value set unless it has no suitable code) (error message = Unknown code '<a href=\"http://hl7.org/fhirpath/System.String\">http://hl7.org/fhirpath/System.String</a>'), I try to validate a patient resource based on structure definition, but got this error.</p>",
        "id": 201130005,
        "sender_full_name": "Steven Wang",
        "timestamp": 1592394389
    },
    {
        "content": "<p>It sounds like there's a problem with your structure definition.  Did you create it yourself or did you get it somewhere?  Are you able to attach it?</p>",
        "id": 201156688,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1592407266
    },
    {
        "content": "<p>also - what version of FHIR is this?</p>",
        "id": 201178687,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1592417036
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I am using HAPI FHIR version 5.0.2, and the FHIR version is r4.</p>",
        "id": 201194741,
        "sender_full_name": "Steven Wang",
        "timestamp": 1592425013
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> the structure definition is created by my colleague.</p>",
        "id": 201194857,
        "sender_full_name": "Steven Wang",
        "timestamp": 1592425071
    },
    {
        "content": "<p>The system \"<a href=\"http://hl7.org/fhirpath/System\">http://hl7.org/fhirpath/System</a>\" isn't valid - so if that's appearing in the StructureDefinition, that's the source of your problem</p>",
        "id": 201197121,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1592426258
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> , I saw this system value - \"<a href=\"http://hl7.org/fhirpath/System.String\">http://hl7.org/fhirpath/System.String</a>\" also in here: <a href=\"https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-patient.json.html\">https://www.hl7.org/fhir/us/core/StructureDefinition-us-core-patient.json.html</a>, does that means this system value is outdated? Do you know the correct value?</p>",
        "id": 201198308,
        "sender_full_name": "Steven Wang",
        "timestamp": 1592426850
    },
    {
        "content": "<p>it's probably correct. it's a bit hard to say - it depends on context, and you haven't shared that</p>",
        "id": 201198448,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1592426926
    },
    {
        "content": "<p>Thanks Grahame, I will double check the structure definition. Cheers.</p>",
        "id": 201207729,
        "sender_full_name": "Steven Wang",
        "timestamp": 1592432148
    },
    {
        "content": "<p>Hello, I am trying to use the FHIR validator to validate the FHIR and cannot get the profile to validate, and I am not sure if it is the structure definition that is wrong or I am missing something when running the validator:</p>",
        "id": 202195159,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593277060
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"316233\">@Andrew Mallon</span> can you provide more information about exactly what you're doing?  What's the command line when you launch the validator?  What unexpected results are you seeing?</p>",
        "id": 202195245,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1593277167
    },
    {
        "content": "<p>Apologies, hit send by accident</p>",
        "id": 202195306,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593277235
    },
    {
        "content": "<p>I downloaded the Validator<br>\nI downloaded the Carin-BB validator pack<br>\nI downloaded the example JSON file and I am running the validator with these arguments:</p>\n<p>java -jar org.hl7.fhir.validator.jar Coverage_Coverage1.json -ig validator</p>\n<p>FHIR Validation tool Version 5.0.7-SNAPSHOT (Git# 6bc790d98b04). Built 2020-06-07T08:35:37.25+10:00 (20 days old)<br>\nDetected Java version: 11.0.7 from /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home on x86_64 (64bit). 8192MB available<br>\nArguments: Coverage-Coverage1.json -ig validator<br>\nDirectories: Current = /Users/andrewmallon/Downloads, Package Cache = /Users/andrewmallon/.fhir/packages<br>\n  .. FHIR Version current, definitions from hl7.fhir.r5.core#current<br>\n  .. connect to tx server @ <a href=\"http://tx.fhir.org\">http://tx.fhir.org</a><br>\n    (vcurrent)</p>\n<ul>\n<li>.. load IG from validator<br>\n   ..Detect format for /Users/andrewmallon/Downloads/validator/version.info<br>\n[Fatal Error] :1:1: Content is not allowed in prolog.<br>\n   ..Detect format for /Users/andrewmallon/Downloads/validator/spec.internals<br>\n[Fatal Error] :1:1: Content is not allowed in prolog.<br>\n  .. validate [Coverage-Coverage1.json]<br>\n<em>FAILURE</em> validating Coverage-Coverage1.json:  error:2 warn:1 info:0<br>\n  Error @ Coverage.subscriberId (line 31, col31) : This property must be an Object, not a primitive property<br>\n  Error @ Coverage (line 1, col2) : Profile <a href=\"http://hl7.org/fhir/us/carin/StructureDefinition/carin-bb-coverage\">http://hl7.org/fhir/us/carin/StructureDefinition/carin-bb-coverage</a>, Element 'Coverage.subscriberId': minimum required = 1, but only found 0<br>\n  Warning @ Coverage.status (line 21, col22) : ValueSet <a href=\"http://hl7.org/fhir/ValueSet/fm-status|4.0.1\">http://hl7.org/fhir/ValueSet/fm-status|4.0.1</a> not found by validator</li>\n</ul>\n<p>According to the Carin standard, ‘subscriberId’ is a string in that profile</p>",
        "id": 202195309,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593277241
    },
    {
        "content": "<p>I am not sure why the validator is validating the subscriberId element against the base FHIR profile and can’t find the field in the Carin BB profile</p>",
        "id": 202195401,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593277344
    },
    {
        "content": "<p>What is the filename of the Carin-BB validator pack?  I suspect it's not \"validator\".  (You have to specify the file extension)</p>",
        "id": 202195754,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1593277952
    },
    {
        "content": "<p>'validator' is the unzipped folder of the validation profile. . I also tried it with the argument -ig validator/StructureDefinition-CARIN-BB-Coverage.json with the same results. I''m going to apologize in advance if it turns out I'm passing in the wrong argument to the validator :)</p>",
        "id": 202195942,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593278261
    },
    {
        "content": "<p>The validator pack itself downloaded as \"validator.pack\"</p>",
        "id": 202196016,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593278349
    },
    {
        "content": "<p>You want to pass \"-ig validator.pack\"</p>",
        "id": 202196073,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1593278429
    },
    {
        "content": "<p>First, thank you for your help on a Saturday. I Just tried that and got the error, Exception in thread \"main\" org.hl7.fhir.exceptions.FHIRException: Unable to resolve package id validator.pack<br>\n    at org.hl7.fhir.utilities.cache.FilesystemPackageCacheManager.fetchVersionTheOldWay(FilesystemPackageCacheManager.java:691)</p>",
        "id": 202196090,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593278478
    },
    {
        "content": "<p>Ok, downloaded a fresh copy of the file from the Carin-BB web site. Running it with these arguments:<br>\njava -jar org.hl7.fhir.validator.jar Coverage-Coverage1.json -ig validator.pack<br>\nFHIR Validation tool Version 5.0.7-SNAPSHOT (Git# 6bc790d98b04). Built 2020-06-07T08:35:37.25+10:00 (20 days old)<br>\nDetected Java version: 11.0.7 from /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home on x86_64 (64bit). 8192MB available<br>\nArguments: Coverage-Coverage1.json -ig validator.pack</p>",
        "id": 202196207,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593278684
    },
    {
        "content": "<p>returned the same error</p>\n<ul>\n<li>.. load IG from validator.pack<br>\n  .. validate [Coverage-Coverage1.json]<br>\n<em>FAILURE</em> validating Coverage-Coverage1.json:  error:2 warn:1 info:0<br>\n  Error @ Coverage.subscriberId (line 31, col31) : This property must be an Object, not a primitive property<br>\n  Error @ Coverage (line 1, col2) : Profile <a href=\"http://hl7.org/fhir/us/carin/StructureDefinition/carin-bb-coverage\">http://hl7.org/fhir/us/carin/StructureDefinition/carin-bb-coverage</a>, Element 'Coverage.subscriberId': minimum required = 1, but only found 0<br>\n  Warning @ Coverage.status (line 21, col22) : ValueSet <a href=\"http://hl7.org/fhir/ValueSet/fm-status|4.0.1\">http://hl7.org/fhir/ValueSet/fm-status|4.0.1</a> not found by validator</li>\n</ul>",
        "id": 202196212,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593278698
    },
    {
        "content": "<p>Are you specifying \"-version 4.0\"?</p>",
        "id": 202198882,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1593282596
    },
    {
        "content": "<p>That corrected the problem. Thank you very much.</p>",
        "id": 202200162,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593284455
    },
    {
        "content": "<p>np :)</p>",
        "id": 202201086,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1593285708
    },
    {
        "content": "<p>what in the documentation points you to downloading validator.pack? I'm trying to deprecate that. you should just reference the IG by it's package:</p>\n<p><code>java -jar org.hl7.fhir.validator.jar Coverage_Coverage1.json -ig hl7.fhir.us.carin-bb#0.1.0</code></p>",
        "id": 202214243,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1593308678
    },
    {
        "content": "<p>ah. <a href=\"http://hl7.org/fhir/us/carin-bb/2020Feb/downloads.html\">http://hl7.org/fhir/us/carin-bb/2020Feb/downloads.html</a>.</p>",
        "id": 202214257,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1593308718
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179166-implementers/topic/FHIR.20Validator/near/202214257\">said</a>:</p>\n<blockquote>\n<p>ah. <a href=\"http://hl7.org/fhir/us/carin-bb/2020Feb/downloads.html\">http://hl7.org/fhir/us/carin-bb/2020Feb/downloads.html</a>.</p>\n</blockquote>\n<p>Yep, that's the link. Basically, I downloaded the validator pack from there and then basically tried to infer what arguments I needed to run the validator. Thank you for the help regarding using the package name. I am still a little unsure of how I would determine the package name for a given profile. It doesn't seem to be in theCarin  documentation, at least from skimming the web site you linked to.</p>",
        "id": 202309469,
        "sender_full_name": "Andrew Mallon",
        "timestamp": 1593437858
    },
    {
        "content": "<p>The package name is for the IG, not a profile - it'll be the same for all profiles coming from the IG (or inherited by the IG)</p>",
        "id": 202313772,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1593439744
    },
    {
        "content": "<p>Hello, </p>\n<p>I am getting errors while trying to validate an ExplanationOfBenefit resource using the latest FHIR Validator. I receive this error with using both the base version of the IG and the CARIN BB IG. </p>\n<p>When I populate ExplanationOfBenefit.Item.locationcodeableconcept the validator throws errors and does not generate any validation messages. </p>\n<p>Here is an XML snip of the location[x] value that is causing issues: <br>\n                &lt;item&gt;<br>\n                    &lt;sequence value=\"1\" /&gt;<br>\n                    &lt;productOrService&gt;<br>\n                        &lt;coding&gt;<br>\n                            &lt;system value=\"<a href=\"http://www.ama-assn.org/go/cpt\">http://www.ama-assn.org/go/cpt</a>\" /&gt;<br>\n                            &lt;code value=\"somecode\" /&gt;<br>\n                        &lt;/coding&gt;<br>\n                    &lt;/productOrService&gt;<br>\n                    &lt;servicedDate value=\"2019-11-22\" /&gt;<br>\n                    &lt;<strong>locationCodeableConcept</strong>&gt;<br>\n                        &lt;coding&gt;<br>\n                            &lt;system value=\"<a href=\"http://hl7.org/fhir/us/carin-bb/ValueSet/CMSPlaceOfService\">http://hl7.org/fhir/us/carin-bb/ValueSet/CMSPlaceOfService</a>\" /&gt;<br>\n                            &lt;code value=\"20\" /&gt;<br>\n                        &lt;/coding&gt;<br>\n                        &lt;text value=\"URGENT CARE FACILITY\" /&gt;<br>\n                    &lt;/<strong>locationCodeableConcept</strong>&gt;</p>\n<p>Here is the error i get when i run the Validator: <br>\nValidating<br>\n  Validate ...Bundle1.xmlValidation Infrastructure fail validating ...Bundle1.xml: null<br>\nException in thread \"main\" org.hl7.fhir.exceptions.FHIRException: java.lang.NullPointerException<br>\n        at org.hl7.fhir.validation.ValidationEngine.validate(ValidationEngine.java:1294)<br>\n        at org.hl7.fhir.validation.cli.services.ValidationService.validateSources(ValidationService.java:66)<br>\n        at org.hl7.fhir.validation.Validator.main(Validator.java:212)<br>\nCaused by: java.lang.NullPointerException<br>\n        at org.hl7.fhir.utilities.cache.PackageClient.exists(PackageClient.java:89)<br>\n        at org.hl7.fhir.utilities.cache.FilesystemPackageCacheManager.packageExists(FilesystemPackageCacheManager.java:870)<br>\n        at org.hl7.fhir.validation.ValidationEngine.packageExists(ValidationEngine.java:2394) .......</p>",
        "id": 209384326,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1599571086
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 209386325,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1599572016
    },
    {
        "content": "<p>can you provide the full instance you are validating (can send it to me directly) and what your validator commands are please</p>",
        "id": 209386483,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599572087
    },
    {
        "content": "<p>Thanks for taking a look. I sent you a private message <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 209388178,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1599572902
    },
    {
        "content": "<p>shout out to <span class=\"user-mention\" data-user-id=\"197547\">@John Ravan</span> for publishing this Swagger UI on top of HAPI FHIR validator <a href=\"https://github.com/jtravan3/hapi-fhir-validator-api\">https://github.com/jtravan3/hapi-fhir-validator-api</a><br>\neasy to set up (docker or maven) and saves countless hours with teams trying to validate their fhir resources.</p>",
        "id": 215473775,
        "sender_full_name": "Nathan Hall",
        "timestamp": 1604419546
    },
    {
        "content": "<p>How to implement FHIR Resource validator using Spring boot ? can i get some reference ?</p>",
        "id": 268260601,
        "sender_full_name": "Ravishankar P",
        "timestamp": 1642420483
    },
    {
        "content": "<p>have a look at <a href=\"https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator\">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a>, you can wrap the validator jar. Also look at <a href=\"https://github.com/inferno-framework/fhir-validator-wrapper\">https://github.com/inferno-framework/fhir-validator-wrapper</a></p>",
        "id": 268283599,
        "sender_full_name": "Kuldeep S",
        "timestamp": 1642432704
    }
]