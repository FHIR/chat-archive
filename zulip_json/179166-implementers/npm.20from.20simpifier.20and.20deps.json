[
    {
        "content": "<p>Is it only bug in my environment - when I install a package from the simplifier registry - it installs package but does not install dependencies</p>",
        "id": 250614510,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1629895795
    },
    {
        "content": "<p>Will try again. Was anybody able to install all deps for simplifier npm package?</p>",
        "id": 250745512,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1629970111
    },
    {
        "content": "<p>The problem: I create package.json like this </p>\n<div class=\"codehilite\"><pre><span></span><code> {\n      &quot;dependencies&quot;: {\n       &quot;hl7.fhir.us.carin-bb&quot;: &quot;^1.1.0&quot;,\n    }\n }\n</code></pre></div>\n<p>Set simplifier as main registry</p>\n<div class=\"codehilite\"><pre><span></span><code>npm config set registry  https://packages.simplifier.net\n</code></pre></div>\n<p>Do <code>npm install</code><br>\nnpm installs the carin module, but not dependency modules</p>\n<div class=\"codehilite\"><pre><span></span><code>&gt; ls node_modules\n hl7.fhir.us.carin-bb\n</code></pre></div>\n<p>should be </p>\n<div class=\"codehilite\"><pre><span></span><code>hl7.fhir.r4.core\nhl7.fhir.us.carin-bb\nhl7.fhir.us.core\n</code></pre></div>\n<p>Because carn-bb depends on us.core and r4.core:</p>\n<div class=\"codehilite\"><pre><span></span><code> cat node_modules/hl7.fhir.us.carin-bb/package.json\n{\n  &quot;name&quot;: &quot;hl7.fhir.us.carin-bb&quot;,\n  &quot;version&quot;: &quot;1.1.0&quot;,\n  &quot;tools-version&quot;: 3,\n  &quot;type&quot;: &quot;fhir.ig&quot;,\n  &quot;date&quot;: &quot;20210702175256&quot;,\n  &quot;license&quot;: &quot;CC0-1.0&quot;,\n  &quot;canonical&quot;: &quot;http://hl7.org/fhir/us/carin-bb&quot;,\n  &quot;url&quot;: &quot;http://hl7.org/fhir/us/carin-bb/STU1.1&quot;,\n  &quot;title&quot;: &quot;CARIN Consumer Directed Payer Data Exchange (CARIN IG for Blue Button®)&quot;,\n  &quot;description&quot;: &quot;CARIN Consumer Directed Payer Data Exchange (CARIN IG for Blue Button®) (built Fri, Jul 2, 2021 17:52+0000+00:00)&quot;,\n  &quot;fhirVersions&quot;: [\n    &quot;4.0.1&quot;\n  ],\n  &quot;dependencies&quot;: {\n    &quot;hl7.fhir.r4.core&quot;: &quot;4.0.1&quot;,\n    &quot;hl7.fhir.us.core&quot;: &quot;3.1.1&quot;\n  },\n  &quot;author&quot;: &quot;HL7 Financial Management Working Group&quot;,\n  &quot;maintainers&quot;: [\n    {\n      &quot;name&quot;: &quot;HL7 Financial Management Working Group&quot;,\n      &quot;email&quot;: &quot;fm@lists.HL7.org&quot;,\n      &quot;url&quot;: &quot;http://www.hl7.org/Special/committees/fm/index.cfm&quot;\n    }\n  ],\n  &quot;directories&quot;: {\n    &quot;lib&quot;: &quot;package&quot;,\n    &quot;example&quot;: &quot;example&quot;\n  },\n  &quot;jurisdiction&quot;: &quot;urn:iso:std:iso:3166#US&quot;\n}\n</code></pre></div>",
        "id": 250746331,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1629970646
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"259036\">@Matthijs van der Wielen</span></p>",
        "id": 250746496,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1629970739
    },
    {
        "content": "<p>Can confirm. I have the same issue in my env. And it seems I found workaround</p>\n<p>If  I do</p>\n<div class=\"codehilite\"><pre><span></span><code>$ npm --registry https://packages.simplifier.net install hl7.fhir.us.core@3.0.1\nadded 1 package in 849ms\n\n$ ls node_modules\nhl7.fhir.us.core\n</code></pre></div>\n<p>No dependencies installed as you can see.</p>\n<p>But if I install by tar url</p>\n<div class=\"codehilite\"><pre><span></span><code>$ npm --registry https://packages.simplifier.net install https://packages.simplifier.net/hl7.fhir.us.core/3.0.1\nadded 2 packages in 3s\n\n$ ls node_modules\nhl7.fhir.r4.core  hl7.fhir.us.core\n</code></pre></div>\n<p>Then dependencies are installed correctly</p>\n<div class=\"codehilite\"><pre><span></span><code>$ npm --version\n7.21.1\n</code></pre></div>",
        "id": 253227526,
        "sender_full_name": "Yurii Makhotkin",
        "timestamp": 1631614939
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191335\">@Martijn Harthoorn</span> Yurii provided details about deps problems</p>",
        "id": 253228495,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1631615578
    },
    {
        "content": "<p>If i use npm 6 and do <code>npm install</code> after <code>npm install &lt;package&gt;</code> then dependencies are installed:</p>\n<div class=\"codehilite\"><pre><span></span><code>$ npm --registry https://packages.simplifier.net install hl7.fhir.us.core@3.0.1\n+ hl7.fhir.us.core@3.0.1\nadded 1 package from 1 contributor in 0.822s\n\n$ ls node_modules\nhl7.fhir.us.core\n\n$ npm --registry https://packages.simplifier.net install\nadded 1 package from 1 contributor in 1.507s\n\n$ ls node_modules\nhl7.fhir.r4.core  hl7.fhir.us.core\n\n$ npm --version\n6.14.15\n</code></pre></div>",
        "id": 253237307,
        "sender_full_name": "Yurii Makhotkin",
        "timestamp": 1631620577
    },
    {
        "content": "<p>If I have a package dependency in <code>package.json</code> and do <code>npm install</code> it installs only this dependency without its dependencies, and if I do <code>npm install</code> again then dependencies are installed correctly too</p>\n<div class=\"codehilite\"><pre><span></span><code>$ ls\npackage.json\n\n$ cat package.json\n{\n  &quot;name&quot;: &quot;myproj&quot;,\n  &quot;version&quot;: &quot;1.0.0&quot;,\n  &quot;description&quot;: &quot;&quot;,\n  &quot;main&quot;: &quot;index.js&quot;,\n  &quot;scripts&quot;: {\n    &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;\n  },\n  &quot;keywords&quot;: [],\n  &quot;author&quot;: &quot;&quot;,\n  &quot;license&quot;: &quot;ISC&quot;,\n  &quot;dependencies&quot;: {\n    &quot;hl7.fhir.us.core&quot;: &quot;3.0.1&quot;\n  }\n}\n\n$ npm --registry https://packages.simplifier.net install\nadded 1 package from 1 contributor in 0.991s\n\n$ ls node_modules\nhl7.fhir.us.core\n\n$ npm --registry https://packages.simplifier.net install\nadded 1 package from 1 contributor in 1.382s\n\n$ ls node_modules\nhl7.fhir.r4.core  hl7.fhir.us.core\n\n$ npm --version\n6.14.15\n</code></pre></div>",
        "id": 253238177,
        "sender_full_name": "Yurii Makhotkin",
        "timestamp": 1631621003
    }
]