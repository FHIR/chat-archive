[
    {
        "content": "<p>Hello!<br>\nWhat's the best approach to reference CCDAs through FHIR. Looking at § 170.315 (g)(9) Application access – all data request , Cures update test procedure , which says the API must respond to requests for patient data (based on an ID or other token) as a CCD document.  Our CCDAs are generated on demand in an external system. The CCDA document doesn't reside anywhere to be referenced within a documentreference as per the US core IG. <br>\nThanks!</p>",
        "id": 253755673,
        "sender_full_name": "Priya Mathew",
        "timestamp": 1631890798
    },
    {
        "content": "<p>DocumentReference can 'reference', but it can also 'encapsulate'.  So either store your CDA as a Binary and point to it by DocumentReference, or wrap it directly.</p>",
        "id": 253771372,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1631897280
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> . Is there a paradigm that can request a CCDA from the FHIR server , a task perhaps that runs in the background and returns the CCDA later? Like the bulk API processing process.</p>",
        "id": 254087111,
        "sender_full_name": "Priya Mathew",
        "timestamp": 1632159086
    },
    {
        "content": "<p>No standard operation that I'm aware of.  In general, if you're using FHIR, you probably don't want to consume a CCDA.  So interfaces that generate CCDAs probably aren't FHIR-based.</p>",
        "id": 254089468,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1632159969
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-documentreference.html#mandatory-operation\">US Core defines the $docref operation</a> to generate a CCDA for the g9 criteria.</p>",
        "id": 254090685,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1632160467
    },
    {
        "content": "<p>Our (Epic's) DSTU2 DocRef/CCDA API predates that operation, so we just \"fudge\" it and just generate the CCDA documents on-demand when you do a DocRef search -&gt; Binary dereference.  We've actually seen a decent amount of folks using FHIR to get CCDAs.</p>",
        "id": 254090969,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1632160574
    },
    {
        "content": "<p>What would an extension look like for adding the R4 ClinicalImpression.supportingInfo property to an STU3 ClinicalImpression?<br>\n(would you have an example of what the compliant JSON for this would look like?).  Thanks.</p>",
        "id": 254091804,
        "sender_full_name": "John Silva",
        "timestamp": 1632160877
    },
    {
        "content": "<p>Yes- thank you <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> ! Looking into docref operation.</p>",
        "id": 254093203,
        "sender_full_name": "Priya Mathew",
        "timestamp": 1632161457
    },
    {
        "content": "<p>This is the better link to <a href=\"http://hl7.org/fhir/us/core/OperationDefinition-docref.html\">$docref</a></p>",
        "id": 254093564,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1632161597
    },
    {
        "content": "<p>Yes- thanks, I think that's the way we want to go- this addresses my initial question!</p>",
        "id": 254095091,
        "sender_full_name": "Priya Mathew",
        "timestamp": 1632162186
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"298707\">@John Silva</span>  use the backportinh extension described here:  <a href=\"http://hl7.org/fhir/r4/versions.html#extensions\">http://hl7.org/fhir/r4/versions.html#extensions</a></p>",
        "id": 254108727,
        "sender_full_name": "Eric Haas",
        "timestamp": 1632168022
    },
    {
        "content": "<p>much of this is in the IHE Mobile access to Health Documents (MHD), which is a FHIR infrastructure based way to access documents that are managed in XDS/XCA/XDR environments, and has a MHDS companion IG that is full FHIR infrastructure replacing XDS with just a FHIR server. -- MHD is published using the IG publisher and is available on the IHE site <a href=\"https://profiles.ihe.net/ITI/MHD/\">https://profiles.ihe.net/ITI/MHD/</a></p>",
        "id": 254195781,
        "sender_full_name": "John Moehrke",
        "timestamp": 1632226085
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  First, I realized I piggy-backed this question on this topic; I meant to create this as a new topic since it's not really related to CCDA.</p>\n<p>Eric, I went looking at the link you gave and I can't see any mention of \"backportin\" and the few sample extensions seem to just point to the definition of the element from the StructureDefinition for the specific version, not an extension unless I'm not understanding this (I must admit, extensions are still confusing to me -- I know the intent but the mechanism and the JSON format escapes me.</p>",
        "id": 254213193,
        "sender_full_name": "John Silva",
        "timestamp": 1632233483
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"298707\">John Silva</span> <a href=\"#narrow/stream/179166-implementers/topic/Retrieve.20CCDAs.20from.20the.20FHIR.20server.2E/near/254091804\">said</a>:</p>\n<blockquote>\n<p>What would an extension look like for adding the R4 ClinicalImpression.supportingInfo property to an STU3 ClinicalImpression?<br>\n(would you have an example of what the compliant JSON for this would look like?).  Thanks.</p>\n</blockquote>\n<p>something like this...</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;ClinicalImpression&quot;,\n  ...\n  &quot;extension&quot;: [\n    {\n      &quot;url&quot;: &quot;http://hl7.org/fhir/4.0/StructureDefinition/extension-ClinicalImpression.supportingInfo&quot;,\n      &quot;valueReference&quot;: {\n        &quot;reference&quot;: &quot;&lt;string&gt;&quot;,\n        &quot;type&quot;: &quot;&lt;uri&gt;&quot;,\n        &quot;identifier&quot;: &quot;&lt;{ Identifier }&gt;&quot;,\n        &quot;display&quot;: &quot;&lt;string&gt;&quot;\n      }\n    }\n  ],\n  ....\n}\n</code></pre></div>",
        "id": 254220929,
        "sender_full_name": "Eric Haas",
        "timestamp": 1632236251
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span>  thanks! Wasn't aware of this!</p>",
        "id": 254221214,
        "sender_full_name": "Priya Mathew",
        "timestamp": 1632236363
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  Thanks!   Is that a 'standard' FHIR STU3 to R4 extension mapping that can be found somewhere?   I was looking at the ClinicalImpression spec page and it has the R3 Diffs tab and also the FHIR mapping language that shows how to convert one to the other but doesn't show supportingInfo field.</p>\n<p>Also, one other 'complication'; the supportingInfo is an array of Reference(Any); would that make a difference with the example. you show?</p>",
        "id": 254254404,
        "sender_full_name": "John Silva",
        "timestamp": 1632248659
    }
]