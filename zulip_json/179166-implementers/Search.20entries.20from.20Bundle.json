[
    {
        "content": "<p>Hello, I'm having a little difficulty finding the entries that were created with a bundle. Basically I create a transaction bundle, and I receive for example the following response:</p>\n<p>{\"resourceType\":\"Bundle\",\"id\":\"d3b9fc55-fcfb-43ad-93a7-f9f95f1ecfc6\",\"meta\":{\"versionId\":\"1\",\"lastUpdated\":\"2021-03-22T16:33:30.414+00:00\"},\"type\":\"transaction\",\"entry\":[{\"fullUrl\":\"8e7716d8-fe12-45d2-a440-d0b26f7f672a\",\"resource\":{\"resourceType\":\"Patient\",\"id\":\"8e7716d8-fe12-45d2-a440-d0b26f7f672a\",\"name\":[{\"use\":\"usual\",\"text\":\"gomes\",\"family\":\"gomes\",\"given\":[\"nuno\"]}],\"gender\":\"male\",\"birthDate\":\"2021-03-22\"},\"request\":{\"method\":\"POST\",\"url\":\"Patient\"}},{\"resource\":{\"resourceType\":\"Observation\",\"status\":\"final\",\"code\":{\"coding\":[{\"system\":\"http://snomed.info/sct\",\"code\":\"46635009\",\"display\":\"Diabetes mellitus type 1 (disorder)\"}]},\"subject\":{\"reference\":\"8e7716d8-fe12-45d2-a440-d0b26f7f672a\"}},\"request\":{\"method\":\"POST\",\"url\":\"Observation\"}}]}</p>\n<p>Everything seems OK, but when I try to search the Patient endpoint for the patient ID I receive a 404. Maybe because they belong to the bundle? is there a way when creating the bundle to create the entries in the Patient and Observation endpoits in my example?</p>",
        "id": 231442888,
        "sender_full_name": "Ivo Lopes",
        "timestamp": 1616492229
    },
    {
        "content": "<p>Does this not work? <code>[baseUrl]/Patient/8e7716d8-fe12-45d2-a440-d0b26f7f672a</code></p>",
        "id": 231444577,
        "sender_full_name": "Dexter",
        "timestamp": 1616493233
    },
    {
        "content": "<p>No it doesn't work, the may the fullURL be the problem?</p>",
        "id": 231446903,
        "sender_full_name": "Ivo Lopes",
        "timestamp": 1616494518
    },
    {
        "content": "<p>I can find them on [baseUrl]/Bundle</p>",
        "id": 231448756,
        "sender_full_name": "Ivo Lopes",
        "timestamp": 1616495528
    },
    {
        "content": "<p>Is this a public server?</p>",
        "id": 231448990,
        "sender_full_name": "Dexter",
        "timestamp": 1616495648
    },
    {
        "content": "<p>No, it's a private one, using Microsoft Azure API for Fhir.<br>\nIf I create the bundle in transaction mode it should create the patient and observation in their resource, but apparently no, I might be missing something.</p>",
        "id": 231450273,
        "sender_full_name": "Ivo Lopes",
        "timestamp": 1616496329
    },
    {
        "content": "<p>The <a href=\"https://docs.microsoft.com/en-in/azure/healthcare-apis/fhir/fhir-features-supported\">document here</a> says that transactions aren't supported, yet the bundle you tried to create is a transaction. </p>\n<p>ps. I'm pretty new to this too, so please take what I say with a ton of salt :)</p>",
        "id": 231450756,
        "sender_full_name": "Dexter",
        "timestamp": 1616496623
    },
    {
        "content": "<p>As consequence, it might've just created the bundle you specify, instead of \"acting out/executing\" the transaction.</p>",
        "id": 231450880,
        "sender_full_name": "Dexter",
        "timestamp": 1616496707
    },
    {
        "content": "<p>I also think of that =( thanks for the document and help</p>",
        "id": 231451759,
        "sender_full_name": "Ivo Lopes",
        "timestamp": 1616497180
    },
    {
        "content": "<p>To have the server process the Bundle as a transaction, the client should post it to [baseUrl] instead of [baseUrl]/Bundle<br>\n<a href=\"http://hl7.org/fhir/http.html#transaction\">http://hl7.org/fhir/http.html#transaction</a></p>",
        "id": 231480024,
        "sender_full_name": "Joel Schneider",
        "timestamp": 1616510048
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"399655\">@Ivo Lopes</span> Dexter is correct, the Azure API for FHIR doesn't support Bundles of type transaction right now. You would have to use a Batch bundle. Let me know if you have other questions!</p>",
        "id": 231488727,
        "sender_full_name": "Caitlin Voegele",
        "timestamp": 1616512947
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"399655\">@Ivo Lopes</span>  - One clarifying point :) If you POST your bundle to the root, you would have received an error for type transaction bundle. However, if you post to [baseURl]/Bundle, it will create a Bundle resource (i.e. not parse through the resources). So if you want to use the Batch bundle, make sure you POST to the [baseURL]/</p>",
        "id": 231491518,
        "sender_full_name": "Caitlin Voegele",
        "timestamp": 1616513930
    },
    {
        "content": "<p>thank you <span class=\"user-mention\" data-user-id=\"241501\">@Caitlin Voegele</span> , but posting it through the [baseURL]/ won't create the entries in each resource neither will revert all in case of a failure, right?</p>",
        "id": 231492871,
        "sender_full_name": "Ivo Lopes",
        "timestamp": 1616514394
    },
    {
        "content": "<p>Let me know if this answers the question. If you use [baseURL]/ with a batch bundle (changing the type of the bundle), the resources will be uploaded but processed according to the batch. If you use it with a transaction bundle you will get an error.</p>",
        "id": 231529038,
        "sender_full_name": "Caitlin Voegele",
        "timestamp": 1616527541
    },
    {
        "content": "<p>Yes using the root  and the bundle as a batch works, Thanks</p>",
        "id": 231623593,
        "sender_full_name": "Ivo Lopes",
        "timestamp": 1616588411
    },
    {
        "content": "<p>A somewhat related question. What's the main difference b/w using a Batch vs a Transaction?</p>",
        "id": 231793272,
        "sender_full_name": "Dexter",
        "timestamp": 1616676251
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/valueset-bundle-type.html\">http://build.fhir.org/valueset-bundle-type.html</a></p>",
        "id": 231795194,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1616677107
    },
    {
        "content": "<p>whether it is one atomic commit or if the parts can be handled separately.</p>",
        "id": 231795294,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1616677160
    },
    {
        "content": "<p>In addition, entries in a transaction are allowed to reference each other.  Entries in a batch cannot.</p>",
        "id": 231798445,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1616678391
    },
    {
        "content": "<p>Additional details about the FHIR API's batch/transaction processing:<br>\n<a href=\"http://hl7.org/fhir/http.html#transaction\">http://hl7.org/fhir/http.html#transaction</a></p>",
        "id": 231823204,
        "sender_full_name": "Joel Schneider",
        "timestamp": 1616686330
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179166-implementers/topic/Search.20entries.20from.20Bundle/near/231795194\">said</a>:</p>\n<blockquote>\n<p><a href=\"http://build.fhir.org/valueset-bundle-type.html\">http://build.fhir.org/valueset-bundle-type.html</a><br>\nwhether it is one atomic commit or if the parts can be handled separately.</p>\n</blockquote>\n<p>Thank you, this perfectly explains what the key differences are!</p>",
        "id": 231934834,
        "sender_full_name": "Dexter",
        "timestamp": 1616750570
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Search.20entries.20from.20Bundle/near/231798445\">said</a>:</p>\n<blockquote>\n<p>In addition, entries in a transaction are allowed to reference each other.  Entries in a batch cannot.</p>\n</blockquote>\n<p>Ahh I didn't know that, thank you!</p>",
        "id": 231934876,
        "sender_full_name": "Dexter",
        "timestamp": 1616750608
    }
]