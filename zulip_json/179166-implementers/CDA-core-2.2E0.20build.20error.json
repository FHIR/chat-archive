[
    {
        "content": "<p>When freshly cloning <a href=\"https://github.com/HL7/cda-core-2.0\">https://github.com/HL7/cda-core-2.0</a> and then using IG publisher version 1.1.106 to create it I get the following error:</p>\n<div class=\"codehilite\"><pre><span></span><code>Error on line 1 column 1\n  SXXP0003: Error reported by XML parser: Content is not allowed in prolog.\nException generating xslt page /tmp/fsh-ing-grounds/CDA-core-2.0/./temp/pages/_includes/POCD_RM000040.gif for _includes/POCD_RM000040.gif in /tmp/fsh-ing-grounds/CDA-core-2.0/./temp/pages: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog. (05:21.0693)\nException generating page /tmp/fsh-ing-grounds/CDA-core-2.0/./temp/pages/ncludes/artifacts.xml for ncludes/artifacts.xml in /tmp/fsh-ing-grounds/CDA-core-2.0/./temp/pages: /tmp/fsh-ing-grounds/CDA-core-2.0/./temp/pages/ncludes/artifacts.xml (No such file or directory) (05:21.0732)\nGenerating Summary Outputs                                                       (05:21.0733)\nPublishing Content Failed: Template based HTML file index.html is missing source file index.md (06:42.0385)\n                                                                                 (06:42.0385)\nUse -? to get command line help                                                  (06:42.0386)\n                                                                                 (06:42.0387)\nStack Dump (for debugging):                                                      (06:42.0388)\njava.lang.Exception: Template based HTML file index.html is missing source file index.md\n        at org.hl7.fhir.igtools.publisher.Publisher.applyPageTemplate(Publisher.java:7358)\n        at org.hl7.fhir.igtools.publisher.Publisher.applyPageTemplate(Publisher.java:7372)\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSummaryOutputs(Publisher.java:6885)\n        at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:5858)\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1018)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10005)\n</code></pre></div>\n<p>Any ideas? <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 276618633,
        "sender_full_name": "Gabriel Kleinoscheg",
        "timestamp": 1648215072
    },
    {
        "content": "<p>first idea... update to the latest IG publisher and sushi.</p>",
        "id": 276618811,
        "sender_full_name": "John Moehrke",
        "timestamp": 1648215153
    },
    {
        "content": "<p>Latest publisher, anyway.  CDA-core is not a FSH IG</p>",
        "id": 276618907,
        "sender_full_name": "David Pyke",
        "timestamp": 1648215213
    },
    {
        "content": "<p>I added that because I saw in the error <code>/tmp/fsh-ing-grounds/CDA-core-2.0/</code></p>",
        "id": 276619498,
        "sender_full_name": "John Moehrke",
        "timestamp": 1648215483
    },
    {
        "content": "<p>but, yes... the latest publisher built it without an NPE...<br>\nIt has issues -- Errors: 471, Warnings: 294, Info: 0, Broken Links = 924 (02:24.0404)</p>",
        "id": 276619593,
        "sender_full_name": "John Moehrke",
        "timestamp": 1648215522
    },
    {
        "content": "<p>Something might be different on my machine. I just cloned again and used the latest publisher but I still get the same error from above. </p>\n<p>Sorry for the confusion about the directory name <code>fsh-ing-grounds</code> - I have several IGs in there, most of them are sushi based. An it's named after a docker image <a href=\"https://hub.docker.com/r/elgagmbh/fsh-ing-grounds\">https://hub.docker.com/r/elgagmbh/fsh-ing-grounds</a></p>",
        "id": 276831389,
        "sender_full_name": "Gabriel Kleinoscheg",
        "timestamp": 1648448284
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> could you send me the log of your build process?</p>\n<p>I still have got problems creating this IG. Currently, I don't know what I should be looking for.</p>",
        "id": 277237074,
        "sender_full_name": "Gabriel Kleinoscheg",
        "timestamp": 1648706943
    },
    {
        "content": "<p>you say you used the latest publisher, did you also use the latest sushi?</p>",
        "id": 277273072,
        "sender_full_name": "John Moehrke",
        "timestamp": 1648730037
    },
    {
        "content": "<p>I simply ran publish.bat</p>",
        "id": 277273247,
        "sender_full_name": "John Moehrke",
        "timestamp": 1648730129
    },
    {
        "content": "<p>there are many errors</p>\n<div class=\"codehilite\"><pre><span></span><code>ClinicalDocumentArchitectureV201 : Validation Results\n=========================================\n\nerr = 471, warn = 294, info = 0\nIG Publisher Version: 1.1.113\nGenerated Fri Mar 25 08:36:48 CDT 2022. FHIR version 4.0.1 for hl7.fhir.cda#2.1.0 (canonical = http://hl7.org/fhir/cda)\n Build Errors : 925 / 14 / 0\n...\n</code></pre></div>",
        "id": 277273369,
        "sender_full_name": "John Moehrke",
        "timestamp": 1648730183
    },
    {
        "content": "<p>a full log would be very long</p>",
        "id": 277273599,
        "sender_full_name": "John Moehrke",
        "timestamp": 1648730296
    },
    {
        "content": "<p>starts like</p>\n<div class=\"codehilite\"><pre><span></span><code>C:\\Users\\johnm\\Git\\CDA-core-2.0&gt;dir\n Volume in drive C is Windows\n Volume Serial Number is AE46-0D81\n\n Directory of C:\\Users\\johnm\\Git\\CDA-core-2.0\n\n03/25/2022  08:34 AM    &lt;DIR&gt;          .\n03/25/2022  08:34 AM    &lt;DIR&gt;          ..\n03/25/2022  08:33 AM                38 .gitattributes\n03/25/2022  08:33 AM               203 .gitignore\n03/25/2022  08:33 AM                52 clean.bat\n03/25/2022  08:33 AM    &lt;DIR&gt;          examples\n03/25/2022  08:33 AM               288 ig.ini\n03/25/2022  08:33 AM    &lt;DIR&gt;          input\n03/25/2022  08:35 AM    &lt;DIR&gt;          input-cache\n03/25/2022  08:33 AM       128,268,086 org.hl7.fhir.publisher.jar\n03/25/2022  08:36 AM    &lt;DIR&gt;          output\n03/25/2022  08:33 AM                63 publish.bat\n03/25/2022  08:33 AM             1,511 README.md\n03/25/2022  08:33 AM    &lt;DIR&gt;          schema\n03/25/2022  08:34 AM    &lt;DIR&gt;          temp\n03/25/2022  08:35 AM    &lt;DIR&gt;          template\n03/25/2022  08:33 AM               310 _updatePublisher.bat\n               8 File(s)    128,270,551 bytes\n               9 Dir(s)  244,962,856,960 bytes free\n\nC:\\Users\\johnm\\Git\\CDA-core-2.0&gt;publish\n\nC:\\Users\\johnm\\Git\\CDA-core-2.0&gt;java -Xms2g -Xmx2g -jar org.hl7.fhir.publisher.jar -ig ig.ini\nFHIR IG Publisher Version 1.1.113 (Git# 36472c045b0c). Built 2022-03-18T05:50:01.31Z (13 days old)\nDetected Java version: 16 from C:\\Program Files\\jdk-16 on Windows 10/amd64 (64bit). 2048MB available\ndir = C:\\Users\\johnm\\Git\\CDA-core-2.0, path = C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\jdk-16\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\apache-ant-1.10.9\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files (x86)\\FAHClient;C:\\Program Files\\Pandoc\\;C:\\Program Files\\TortoiseGit\\bin;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Ruby27-x64\\bin;C:\\Users\\johnm\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\johnm\\AppData\\Roaming\\npm;C:\\Program Files (x86)\\FAHClient\nParameters: -ig ig.ini\nStart Clock @ Thursday, March 31, 2022 at 7:37:23 AM Central Daylight Time (2022-03-31T07:37:23-05:00)\n\nAPI keys loaded from C:\\Users\\johnm\\fhir-api-keys.ini                            (00:00.0009)\nPackage Cache: C:\\Users\\johnm\\.fhir\\packages                                     (00:00.0014)\nLoad Template from hl7.cda.template                                              (00:00.0879)\n2022-03-31 07:37:25.014 [main] INFO  o.h.f.u.n.FilesystemPackageCacheManager [FilesystemPackageCacheManager.java:232] Failed to determine latest version of package hl7.cda.template from server: http://packages.fhir.org\n2022-03-31 07:37:25.848 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.cda.template#0.2.2 from server: http://packages.fhir.org (Invalid HTTP response 404 from http://packages.fhir.org/hl7.cda.template/0.2.2 (Not Found) (content in C:\\Users\\johnm\\AppData\\Local\\Temp\\fhir-http-3.log))\nInstalling hl7.cda.template#0.2.2 to the package cache\n...\n</code></pre></div>",
        "id": 277273704,
        "sender_full_name": "John Moehrke",
        "timestamp": 1648730372
    },
    {
        "content": "<p>I think I figured it out ... I started the IG publisher with the following command</p>\n<div class=\"codehilite\"><pre><span></span><code>java -Xms2g -Xmx2g -jar org.hl7.fhir.publisher.jar -ig ./ig.ini\n</code></pre></div>\n<p>Note the <code>./</code> before the <code>ig.ini</code> - I don't know why, but obviously it makes a difference. Once I removed <code>./</code> the creation of the IG worked.</p>\n<p>Thank you anyway!</p>",
        "id": 277417610,
        "sender_full_name": "Gabriel Kleinoscheg",
        "timestamp": 1648819802
    },
    {
        "content": "<p>you might want to report this as an issue at <a href=\"https://github.com/HL7/fhir-ig-publisher\">https://github.com/HL7/fhir-ig-publisher</a> - that should work</p>",
        "id": 277472252,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648844072
    },
    {
        "content": "<p>Done - <a href=\"https://github.com/HL7/fhir-ig-publisher/issues/421\">https://github.com/HL7/fhir-ig-publisher/issues/421</a></p>",
        "id": 277698259,
        "sender_full_name": "Gabriel Kleinoscheg",
        "timestamp": 1649061159
    }
]