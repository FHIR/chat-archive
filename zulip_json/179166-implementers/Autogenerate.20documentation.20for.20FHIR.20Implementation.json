[
    {
        "content": "<p>Hi everyone,<br>\nI work with my team at AP-HP (40 french university hospitals) on a FHIR implementation (based on HAPI-FHIR), and we are currently wondering how we should implement an API documentation for it (automatically generated). First we looked at FHIR implementation-guide, which seems a good idea, except it seems more adapted to document how to implement a fhir server, not how it is implemented. We would like to generate a documentation based on a description of what we implemented (described in a yaml/json/xml file) instead of generating a snapshot from a differential, we don't have a differential, we only have a list of what has been implemented...<br>\nIs it recommended to use implementation guide for this,  should we implement our own documentation, is there any other ways to generate this documentation?<br>\nThank you very much.</p>",
        "id": 183069690,
        "sender_full_name": "Julien Dub",
        "timestamp": 1575991508
    },
    {
        "content": "<p>To expose <em>exactly</em> what's been implemented (as of a particular time), you can just expose CapabilityStatement and point to profiles from that.  However, if you're wanting to publish human-readable documentation, ImplementationGuide is the appropriate vehicle.  If you're describing exactly what data you accept/produce, then profiling is the appropriate way.  You definitely have a differential because you're expressing the 'delta' between what the base specification allows to be sent/consumed and what your system actually does.</p>",
        "id": 183071438,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1575992611
    },
    {
        "content": "<p>Our goal is indeed to publish a human readable documentation, so yes we will probably use ImplementationGuide.<br>\nWhat do you mean by profiling?<br>\nWe theoritically have a differential, but practically, we don't, and don't know how to generate a differential, that's the problem.<br>\nFrom what I've seen, there is an operation (not sure what an operation is exactly, but it looks like an url on which you provide data and it returns a result): <a href=\"http://hl7.org/fhir/structuredefinition-operation-snapshot.html\" target=\"_blank\" title=\"http://hl7.org/fhir/structuredefinition-operation-snapshot.html\">http://hl7.org/fhir/structuredefinition-operation-snapshot.html</a> In this case you give it a differential and it returns the snapshot? What about an url that takes a \"capabilitystatement\" and returns a differential? It doesn't seem to exist? Is there any way to compute this differential easily?<br>\nThanks you again :)</p>",
        "id": 183072489,
        "sender_full_name": "Julien Dub",
        "timestamp": 1575993253
    },
    {
        "content": "<p>If you want to see the whole picture: </p>\n<p>A- We have a file called implemented-fields.yaml in which we defined what is implemented<br>\nB- We have a test suite that launches our FHIR implementation, reads the implemented-fields.yaml, and run tests based on what is specified in this file on our running implementation.<br>\nC- If all tests passed, we would like to generate our documentation based on this implemented-fields.yaml file</p>\n<p>This way we have an implementation and a documentation that matches exactly what we defined in the implemented-fields.yaml file.<br>\nThis process runs inside a Continuous Integration pipeline everytime someone contribute to our implementation codebase.</p>\n<p>This file looks like this, for example with Patient resource: <a href=\"https://gist.github.com/Dubrzr/e6d1483bba0ea65cfe94a831d7af3ae0\" target=\"_blank\" title=\"https://gist.github.com/Dubrzr/e6d1483bba0ea65cfe94a831d7af3ae0\">https://gist.github.com/Dubrzr/e6d1483bba0ea65cfe94a831d7af3ae0</a> </p>\n<p>It's probably possible to develop something that compares the patient profile with this file and generates a differential but if some higher-level interface/already developped algorithm exists it's very interresting for us!</p>\n<p>Thank you :)</p>",
        "id": 183073487,
        "sender_full_name": "Julien Dub",
        "timestamp": 1575993845
    },
    {
        "content": "<p>The differential would express whatever the changes are between what you're exposing and what you allow.   So if you always expose <a href=\"http://Patient.name\" target=\"_blank\" title=\"http://Patient.name\">Patient.name</a>, the differential would tighten the \"min\" to 1.  If you treat inclusion of Patient.deceased[x] as an error, then you'd constrain the 'max' to 0.  If you want to express your system capabilities in a standardized way, you'll need to find a way to take what's in your yaml file together with the FHIR definitions to determine the differential.  I'm not aware of anything pre-existing in this space.</p>",
        "id": 183075273,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1575994976
    },
    {
        "content": "<p>I am not aware of any coding the generates a differential from a snapshot. But honestly, what you posted looks like a differential to me</p>",
        "id": 183096321,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576008090
    }
]