[
    {
        "content": "<p>Hi!<br>\nI am new with HAPI FHIR and asking for help in my task.</p>\n<p>I need to pass a list of Observation to the method in my Observation resource provider.<br>\nWhen I have tried to do </p>\n<p>@Create<br>\n public MethodOutcome createObservationResult(@ResourceParam List&lt;Observation&gt; results)    {<br>\n           ...<br>\n}</p>\n<p>I have faced a multiple issues with, such as incorrect resource type, wrong json.<br>\nCould you advise me a correct approach for that task?</p>\n<p>Thank you</p>",
        "id": 157272809,
        "sender_full_name": "Valeriy Shtanko",
        "timestamp": 1548942856
    },
    {
        "content": "<p>You describe your issues in the past tense.  What issue are you facing <em>now</em>?  Also, you might want to raise this on the <a class=\"stream\" data-stream-id=\"179167\" href=\"/#narrow/stream/179167-hapi\">#hapi</a> stream.</p>",
        "id": 157278354,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1548947454
    },
    {
        "content": "<p>Thank you for your answer. Unfortunately, I still fight with that issues.</p>",
        "id": 157278957,
        "sender_full_name": "Valeriy Shtanko",
        "timestamp": 1548947898
    },
    {
        "content": "<p>The portion you've shown isn't going to help much with diagnosing your issue as we can't see the resource type or the JSON</p>",
        "id": 157280575,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1548949282
    },
    {
        "content": "<p>Hi Lloyd<br>\nThank you for your answer.</p>\n<p>Resource type is Observation and as I mentioned above I want to implement method, which accepts list of observations. When I return list of observation from another method HAPI puts it into bundle, so I expect  if I implement method </p>\n<p>@Create<br>\npublic MethodOutcome createObservationResult(@ResourceParam List&lt;Observation&gt; results) {...}</p>\n<p>and will send the JSON (with bundle as payload) I'll get list of observation inside method. <br>\nThe bundle JSON is</p>\n<p>{<br>\n    \"resourceType\": \"Bundle\",<br>\n    \"id\": \"cf288d1c-6828-4a63-a3c1-3d503a1e7759\",<br>\n    \"meta\": {<br>\n        \"lastUpdated\": \"2019-01-31T14:53:33.392+02:00\"<br>\n    },<br>\n    \"type\": \"message\",<br>\n    \"total\": 3,<br>\n    \"link\": [<br>\n        {<br>\n            \"relation\": \"self\",<br>\n            \"url\": \"<a href=\"http://localhost:8089/fhir/Observation\" target=\"_blank\" title=\"http://localhost:8089/fhir/Observation\">http://localhost:8089/fhir/Observation</a>\"<br>\n        }<br>\n    ],<br>\n    \"entry\": [<br>\n        {<br>\n            \"fullUrl\": \"<a href=\"http://localhost:8089/fhir/Observation/333\" target=\"_blank\" title=\"http://localhost:8089/fhir/Observation/333\">http://localhost:8089/fhir/Observation/333</a>\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"Observation\",<br>\n                \"id\": \"333\",<br>\n                \"basedOn\": [<br>\n                    {<br>\n                        \"reference\": \"referral-id\"<br>\n                    }<br>\n                ],<br>\n                \"performer\": [<br>\n                    {<br>\n                        \"reference\": \"referral-id\"<br>\n                    }<br>\n                ],<br>\n                \"component\": [<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"name-of-analysis\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"aaa\"<br>\n                    },<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"result-of-analysis\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"bbb\"<br>\n                    },<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"unit-of-measurement\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"ccc\"<br>\n                    },<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"reference-interval\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"ddd\"<br>\n                    }<br>\n                ]<br>\n            }<br>\n        },<br>\n        {<br>\n            \"fullUrl\": \"<a href=\"http://localhost:8089/fhir/Observation/333\" target=\"_blank\" title=\"http://localhost:8089/fhir/Observation/333\">http://localhost:8089/fhir/Observation/333</a>\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"Observation\",<br>\n                \"id\": \"333\",<br>\n                \"basedOn\": [<br>\n                    {<br>\n                        \"reference\": \"referral-id\"<br>\n                    }<br>\n                ],<br>\n                \"performer\": [<br>\n                    {<br>\n                        \"reference\": \"referral-id\"<br>\n                    }<br>\n                ],<br>\n                \"component\": [<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"name-of-analysis\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"aaa\"<br>\n                    },<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"result-of-analysis\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"bbb\"<br>\n                    },<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"unit-of-measurement\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"ccc\"<br>\n                    },<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"reference-interval\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"ddd\"<br>\n                    }<br>\n                ]<br>\n            }<br>\n        },<br>\n        {<br>\n            \"fullUrl\": \"<a href=\"http://localhost:8089/fhir/Observation/333\" target=\"_blank\" title=\"http://localhost:8089/fhir/Observation/333\">http://localhost:8089/fhir/Observation/333</a>\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"Observation\",<br>\n                \"id\": \"333\",<br>\n                \"basedOn\": [<br>\n                    {<br>\n                        \"reference\": \"referral-id\"<br>\n                    }<br>\n                ],<br>\n                \"performer\": [<br>\n                    {<br>\n                        \"reference\": \"referral-id\"<br>\n                    }<br>\n                ],<br>\n                \"component\": [<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"name-of-analysis\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"aaa\"<br>\n                    },<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"result-of-analysis\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"bbb\"<br>\n                    },<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"unit-of-measurement\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"ccc\"<br>\n                    },<br>\n                    {<br>\n                        \"code\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"code\": \"reference-interval\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"valueString\": \"ddd\"<br>\n                    }<br>\n                ]<br>\n            }<br>\n        }<br>\n    ]<br>\n}</p>\n<p>The endpoint is localhost:8089/fhir/Observation</p>\n<p>I get the error \"Failed to parse request body as JSON resource. Error was: Incorrect resource type found, expected \"Observation\" but found \"Bundle\"\"</p>",
        "id": 157345599,
        "sender_full_name": "Valeriy Shtanko",
        "timestamp": 1549019411
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span></p>",
        "id": 157361776,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549035695
    }
]