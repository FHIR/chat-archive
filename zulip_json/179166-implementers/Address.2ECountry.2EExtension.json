[
    {
        "content": "<div class=\"codehilite\"><pre><span></span>          &lt;country value=&quot;NLD&quot;&gt;\n            &lt;extension url=&quot;http://nictiz.nl/fhir/StructureDefinition/code-specification&quot;&gt;\n              &lt;valueCodeableConcept&gt;\n                &lt;coding&gt;\n                  &lt;system value=&quot;urn:oid:2.16.840.1.113883.2.4.4.16.34&quot;/&gt;\n                  &lt;code value=&quot;6030&quot;/&gt;\n                  &lt;display value=&quot;Nederland&quot;/&gt;\n                &lt;/coding&gt;\n              &lt;/valueCodeableConcept&gt;\n            &lt;/extension&gt;\n          &lt;/country&gt;\n</pre></div>\n\n\n<p>I have been trying for some time now and I still don't have a way to retrieve the <em>CodeableConcept</em> from the country.extension using HAPI. <br>\n<a href=\"https://simplifier.net/NictizSTU3-Zib2017/nl-core-address/~details\" target=\"_blank\" title=\"https://simplifier.net/NictizSTU3-Zib2017/nl-core-address/~details\">Nl-core-address -&gt; details</a> says Address.country.extension is an extension of type <em>CodeableConcept</em>, but I do not know how to use this information effectively. </p>\n<p>I've tried casting the types using the following:</p>\n<div class=\"codehilite\"><pre><span></span>CodeableConcept test =   (CodeableConcept) patientResource.getAddress().get(0).getCountryElement().getExtensionFirstRep()\n</pre></div>\n\n\n<p>Sadly, this dit not work.</p>\n<p>Furthermore, I've looked into </p>\n<div class=\"codehilite\"><pre><span></span>CodeableConcept test = patientResource.getAddress().get(0).getCountryElement().getExtensionFirstRep().castToCodeableConcept(someBase).\n</pre></div>\n\n\n<p>but I do not understand what this Base should be, or what its function exactly is.</p>\n<p>It would be very much appreciated if someone could help me on this, I have been stuck on this problem for longer than I am willing to admit.</p>\n<p>PS: Best wishes for the new year everybody! :)</p>",
        "id": 154178738,
        "sender_full_name": "Yuri Bonanno",
        "timestamp": 1546440651
    },
    {
        "content": "<p>The extension has a type of \"Extension\".  The Extension data type has a polymorphic \"value\" element.  The 'value' is where you'll find your data.  (And best wishes to you as well :))</p>",
        "id": 154189432,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1546451472
    },
    {
        "content": "<blockquote>\n<p>The extension has a type of \"Extension\".  The Extension data type has a polymorphic \"value\" element.  The 'value' is where you'll find your data.  (And best wishes to you as well :))</p>\n</blockquote>\n<p>It works! Thank you!</p>",
        "id": 154226129,
        "sender_full_name": "Yuri Bonanno",
        "timestamp": 1546502350
    }
]