[
    {
        "content": "<p>I have a problem with posting some resources to the FHIR Smile server. I am having trouble with validating <code>SNOMED CT</code> codes on the FHIR Smile server. For instance, let's use <code>AllergyIntolerance</code>. I couldn't validate my own resource, so I tried with an example <code>AllergyIntolerance</code> resource from FHIR documentation (<a href=\"https://www.hl7.org/fhir/allergyintolerance-example.json.html\">https://www.hl7.org/fhir/allergyintolerance-example.json.html</a>). When I try to post it on the FHIR Smile server I got such a response:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;message&quot;: {\n    &quot;response&quot;: {\n      &quot;status&quot;: 422,\n      &quot;data&quot;: {\n        &quot;resourceType&quot;: &quot;OperationOutcome&quot;,\n        &quot;issue&quot;: [\n          {\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: &quot;processing&quot;,\n            &quot;diagnostics&quot;: &quot;Unknown code {http://snomed.info/sct}227493005 for &#39;http://snomed.info/sct#227493005&#39;&quot;,\n            &quot;location&quot;: [\n              &quot;AllergyIntolerance.code.coding[0]&quot;,\n              &quot;Line 1, Col 514&quot;\n            ]\n          },\n          {\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: &quot;processing&quot;,\n            &quot;diagnostics&quot;: &quot;Unknown code {http://snomed.info/sct}39579001 for &#39;http://snomed.info/sct#39579001&#39;&quot;,\n            &quot;location&quot;: [\n              &quot;AllergyIntolerance.reaction[0].manifestation[0].coding[0]&quot;,\n              &quot;Line 1, Col 1149&quot;\n            ]\n          },\n          {\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: &quot;processing&quot;,\n            &quot;diagnostics&quot;: &quot;Unknown code {http://snomed.info/sct}34206005 for &#39;http://snomed.info/sct#34206005&#39;&quot;,\n            &quot;location&quot;: [\n              &quot;AllergyIntolerance.reaction[0].exposureRoute.coding[0]&quot;,\n              &quot;Line 1, Col 1417&quot;\n            ]\n          },\n          {\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: &quot;processing&quot;,\n            &quot;diagnostics&quot;: &quot;Unknown code {http://snomed.info/sct}64305001 for &#39;http://snomed.info/sct#64305001&#39;&quot;,\n            &quot;location&quot;: [\n              &quot;AllergyIntolerance.reaction[1].manifestation[0].coding[0]&quot;,\n              &quot;Line 1, Col 1534&quot;\n            ]\n          }\n        ]\n      }\n    },\n    &quot;config&quot;: {\n      &quot;method&quot;: &quot;post&quot;,\n      &quot;url&quot;: &quot;https://api.dev.zusapi.com/fhir/AllergyIntolerance&quot;,\n      &quot;headers&quot;: {}\n    }\n  },\n  &quot;level&quot;: &quot;error&quot;\n}\n</code></pre></div>\n<p>All errors concern SNOMED CT codes.<br>\nSecond example: <br>\n<code>Condition</code> resource. <code>severity</code> in the <code>Condition</code> resource should be one of these codes (<a href=\"https://www.hl7.org/fhir/valueset-condition-severity.html\">https://www.hl7.org/fhir/valueset-condition-severity.html</a>), these are SNOMED CT codes, but when I try to post a <code>Condition</code> resource with</p>\n<div class=\"codehilite\"><pre><span></span><code>&quot;severity&quot;: {\n    &quot;coding&quot;: [\n      {\n        &quot;system&quot;: &quot;http://snomed.info/sct&quot;,\n        &quot;code&quot;: &quot;24484000&quot;,\n        &quot;display&quot;: &quot;Severe&quot;\n      }\n    ],\n    &quot;text&quot;: &quot;Severe&quot;\n}\n</code></pre></div>\n<p>I got an error:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n            &quot;severity&quot;: &quot;error&quot;,\n            &quot;code&quot;: &quot;processing&quot;,\n            &quot;diagnostics&quot;: &quot;Unknown code {http://snomed.info/sct}24484000 for &#39;http://snomed.info/sct#24484000&#39;&quot;,\n            &quot;location&quot;: [\n              &quot;Condition.severity.coding[0]&quot;,\n              &quot;Line 1, Col 480&quot;\n            ]\n}\n</code></pre></div>\n<p>even that code <code>24484000</code> is in the <code>Condition/DiagnosisSeverity</code> value set.<br>\nI am not sure why these codes fail. Moreover, I found an online validator of codes (<a href=\"https://ontoserver.csiro.au/docs/6/using-validation.html\">https://ontoserver.csiro.au/docs/6/using-validation.html</a>) and I still can't validate the codes from the <code>AllergyIntolerance</code> example or <code>24484000</code> code from <code>Condition.severity</code>. I do not have problems in validating, for example, LOINC codes. Why is that? Am I missing something? I would appreciate some help. Thank you in advance!</p>",
        "id": 257222544,
        "sender_full_name": "Piotr Sokoliński",
        "timestamp": 1634052801
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span></p>",
        "id": 257230485,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1634055694
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"445523\">@Piotr Sokoliński</span> Has SNOMED CT (some edition of it) been loaded on the Smile CDR server?  If not, that's what I would do first.  If enabled, there is built in terminology loading capability that you can use.  If you prefer to keep the terminology on a separate server, you should be able to do that, too.  Your validation seems to be expecting that the terminology is present on the server (that's how it looks to me, anyway).</p>",
        "id": 257256285,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1634065905
    },
    {
        "content": "<p>you might ask this on #hapi, and also, say whether your validation fails in <a href=\"http://validator.fhir.org\">validator.fhir.org</a></p>",
        "id": 257258819,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634066968
    },
    {
        "content": "<p>What's weird is that LOINC doesn't fail in the same way despite also not being loaded</p>",
        "id": 257306544,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1634096783
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> I have a problem with this validator, I get <code>403 Forbidden</code> when I try to validate a resource.  Should I authenticate somehow in order to use it?</p>",
        "id": 257323586,
        "sender_full_name": "Piotr Sokoliński",
        "timestamp": 1634110778
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span></p>",
        "id": 257342644,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634120759
    },
    {
        "content": "<p>I am confused, you said you got a response above? Are you still getting a 403? Can you provide me with the exact steps to replicate? <span class=\"user-mention\" data-user-id=\"445523\">@Piotr Sokoliński</span></p>",
        "id": 257355261,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1634127648
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span>  I am not able to get any kind of response from <a href=\"https://validator.fhir.org/\">validator.fhir.org</a><br>\n<a href=\"/user_uploads/10155/xjiUQ9Jzt8jJMr7aLNwPVBdW/gif.gif\">validation-gif.gif</a> <br>\nNothing happens when I click validate, and as the response I get:<br>\n<a href=\"/user_uploads/10155/Wfmd2SxO-43_zyzZKraAcIcx/Screenshot-2021-10-13-at-14.43.27.png\">Screenshot-2021-10-13-at-14.43.27.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/xjiUQ9Jzt8jJMr7aLNwPVBdW/gif.gif\" title=\"validation-gif.gif\"><img src=\"/user_uploads/10155/xjiUQ9Jzt8jJMr7aLNwPVBdW/gif.gif\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Wfmd2SxO-43_zyzZKraAcIcx/Screenshot-2021-10-13-at-14.43.27.png\" title=\"Screenshot-2021-10-13-at-14.43.27.png\"><img src=\"/user_uploads/10155/Wfmd2SxO-43_zyzZKraAcIcx/Screenshot-2021-10-13-at-14.43.27.png\"></a></div>",
        "id": 257358318,
        "sender_full_name": "Piotr Sokoliński",
        "timestamp": 1634129027
    },
    {
        "content": "<p>well, that's no good</p>",
        "id": 257359771,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1634129657
    },
    {
        "content": "<p>It should be working, I guess?</p>",
        "id": 257377419,
        "sender_full_name": "Piotr Sokoliński",
        "timestamp": 1634136163
    }
]