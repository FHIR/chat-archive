[
    {
        "content": "<p>In ActivityDefinition I understand that dynamicValue can be used to set a 'path' (some data element) to a dynamic value as defined by some (CQL or something else) expression. However, from the context it isn't entirely clear as to where those 'paths' would be.<br>\nI'm guessing that the specified paths would be to the request resource, the request resource as generated during the $apply operation. Correct? What would a typical example be for using a dynamicValue ?</p>",
        "id": 178631222,
        "sender_full_name": "René Spronk",
        "timestamp": 1571641940
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span></p>",
        "id": 178665722,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1571671336
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191372\">@René Spronk</span> , yes, that's correct, the path would be relative to the root of the resource being created (the ActivityDefinition.kind element specifies the resource type). A simple example for using dynamicValue is to set the authoredOn to Now(). More complex examples might be to set the dosage for a medication based on the patient's weight.</p>",
        "id": 178684458,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1571682963
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> Thanks - once one has a CarePlan, and one would wish to \"add\" an instance of an ActivityDefintion to it, it would seem that currently $apply doesn't support this. Does this mean one would have to create a new CarePlan ? And another question: looking at CarePlans and Questionnaires: Q's play a role in determining the outcomes (evaluation), but depending on how the QR is populated they may also trigger new interventions.  Some QRs could be mapped into a CarePlan.. how do you see the role of Q in the context of CarePlans ?</p>",
        "id": 178934204,
        "sender_full_name": "René Spronk",
        "timestamp": 1571908783
    },
    {
        "content": "<p>$apply gives you a theoretical CarePlan that you adjust to be the 'real' one (or merge into an existing real one).  A QR could, in principle, result in any kind of a resource - including CarePlans or even full-blown orders.  So long as the mappings are there, extractions should work.</p>",
        "id": 178946719,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1571920479
    },
    {
        "content": "<p>Hmm - from what I now understand, the CarePlanDefintion is 'constrained for a specific patient' (high level pathway choices) prior to using $apply (which is the time to involve the clinical data of the patient and generate a much more specific set of option/plan/order intent Request resources), and obviously the generated CarePlan may still contain various options, which may or may not lead to actual interventions/requests. The latter choices are during the process of managing the CarePlan resource. <br>\nI haven't seen mention of CarePlans being merged, but that should be possible. I was just wodnering if $apply should have a input parameter for \"CarePlan to be updated' by $apply-ing a certainly activityDefintion to it.</p>",
        "id": 178954431,
        "sender_full_name": "René Spronk",
        "timestamp": 1571925695
    },
    {
        "content": "<p>I can't imagine a practitioner wanting their \"real\" care plan auto- updated by  decision support</p>",
        "id": 178957249,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1571927145
    },
    {
        "content": "<p>The <a href=\"http://hl7.org/fhir/activitydefinition-operation-apply.html\" target=\"_blank\" title=\"http://hl7.org/fhir/activitydefinition-operation-apply.html\">$apply</a> operation for an ActivityDefinition returns Any resource, it's the result of constructing the resource described by the ActivityDefinition. So if your ActivityDefinition creates a MedicationRequest, that would be the result of the Apply.</p>",
        "id": 178984861,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1571943281
    },
    {
        "content": "<p>And PlanDefinition isn't necessarily constrained for a specific patient, that depends how you create it. CarePlan is, but PlanDefinition could be defined based on the characteristics of \"some\" patient with a particular condition, or however you want to construct it.</p>",
        "id": 178984944,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1571943340
    },
    {
        "content": "<p>I would expect that a process that was applying decision support as part of updating a care plan could use questionnaires to gather information required as input to the decision support, which would then use that information as input to the process of creating the proposals from the PlanDefinition/ActivityDefinition. I would think the user would then be presented with the result of that inferencing and decide whether or not to accept/reject/modify the proposed activities.</p>",
        "id": 178985168,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1571943444
    }
]