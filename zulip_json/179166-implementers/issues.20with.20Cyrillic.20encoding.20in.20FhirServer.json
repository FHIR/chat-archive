[
    {
        "content": "<p>Hi, Grahame,</p>\n<p>We do use Cyrillic encoding Windows-1251 in our project (works with FHIR Server (windows) (<a href=\"http://www.healthintersections.com.au/FhirServer\" target=\"_blank\" title=\"http://www.healthintersections.com.au/FhirServer\">http://www.healthintersections.com.au/FhirServer</a>)), but there is a function RemoveAccents located in library\\support\\FHIR.Support.Utilities.pas, which automatically converts string to 20127 encoding, but it makes high bytes look like '?’.</p>\n<p>Can you correct this function so that when using Cyrillic (ru/rus) there is no conversion to the 20127 encoding?</p>",
        "id": 159488071,
        "sender_full_name": "Igor Novikov",
        "timestamp": 1551251533
    },
    {
        "content": "<p>hmm. got some test cases for me?</p>",
        "id": 159680662,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551418856
    },
    {
        "content": "<p>I guess I would be better to use this: <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/winnls/nf-winnls-normalizestring\" target=\"_blank\" title=\"https://docs.microsoft.com/en-us/windows/desktop/api/winnls/nf-winnls-normalizestring\">https://docs.microsoft.com/en-us/windows/desktop/api/winnls/nf-winnls-normalizestring</a></p>",
        "id": 159680835,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551419127
    },
    {
        "content": "<p>go: http://**/r3#upload</p>\n<p>put sample:<br>\n{\"resourceType\":\"Patient\",\"language\":\"ru\",\"identifier\":[{\"use\":\"usual\",\"type\":{\"coding\":[{\"system\":\"http://hl7.org/fhir/v2/0203\",\"code\":\"PT\"}]},\"system\":\"http://mesh.ru/PATIENTS.PATIENTS_ID\",\"value\":\".330052\",\"assigner\":{\"display\":\"ncpMD\"}},{\"system\":\"https://fhir.ncp.ru/NamingSystem/rus-snils\",\"value\":\"024-406-708 20\"}],\"active\":true,\"name\":[{\"use\":\"usual\",\"text\":\"СЕРГЕЕВ В. Н.\",\"family\":\"СЕРГЕЕВ\",\"given\":[\"Валерий\",\"Николаевич\"]}],\"telecom\":[{\"system\":\"phone\",\"value\":\"с.т.7-913-999-77-74; д.т.:260-77-39; с.т.:8952-926-88-87 жена\",\"use\":\"home\",\"rank\":2},{\"system\":\"phone\",\"value\":\"79139997774\",\"use\":\"mobile\",\"rank\":1}],\"gender\":\"male\",\"birthDate\":\"1968-11-27\",\"deceasedBoolean\":false,\"address\":[{\"use\":\"home\",\"type\":\"postal\",\"text\":\" Россия, Новосибирская обл., г. Новосибирск, ул. Гаранина,  д. 22, кв. 23\",\"line\":[\"street Гаранина\",\"home 22\",\"room 23\"],\"city\":\"г. Новосибирск\",\"district\":\"\",\"state\":\"Новосибирская обл\",\"country\":\"RU\"},{\"use\":\"temp\",\"type\":\"postal\",\"text\":\"Новосибирская обл., г. Новосибирск, ул. Гаранина,  д. 22, кв. 23\",\"line\":[\"street Гаранина\",\"home 22\",\"room 23\"],\"city\":\"г. Новосибирск\",\"district\":\"\",\"state\":\"Новосибирская обл\",\"country\":\"RU\"}],\"communication\":[{\"language\":{\"coding\":[{\"system\":\"urn:ietf:bcp:47\",\"code\":\"ru\",\"display\":\"Russian\"}],\"text\":\"Русский\"},\"preferred\":true}],\"managingOrganization\":{\"reference\":\"Organization/b6655adb-c3cf-4a89-a56d-4e27e4e5b924\"}}</p>\n<p>MSSQL: select * from IndexEntries where ResourceKey = &lt;NewID&gt;    in \"Value\"/\"Value2\" see symbols \"?\"  instead of cyrillic (bytes &gt; 127)</p>",
        "id": 159681790,
        "sender_full_name": "Igor Novikov",
        "timestamp": 1551420716
    },
    {
        "content": "<p>what should this look like with accents removed? </p>\n<blockquote>\n<p>Валерий Николаевич СЕРГЕЕВ</p>\n</blockquote>",
        "id": 159703954,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551440457
    },
    {
        "content": "<blockquote>\n<p>Валерии Николаевич СЕРГЕЕВ ?</p>\n</blockquote>",
        "id": 159703975,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551440473
    },
    {
        "content": "<p>is there other cyrillic accent characters?</p>",
        "id": 159703990,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551440494
    },
    {
        "content": "<p>or does the concept not apply?</p>",
        "id": 159703993,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551440499
    },
    {
        "content": "<p>my test cases:</p>",
        "id": 159706037,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551441996
    },
    {
        "content": "<p>Assert.AreEqual('Grahame Grieve', RemoveAccents('Grahame Grieve'));<br>\n  Assert.AreEqual('aaeeiiooouuu AAEEIIOOOUUU', RemoveAccents('aáeéiíoóöuúü AÁEÉIÍOÓÖUÚÜ'));<br>\n  Assert.AreEqual('Валерии Николаевич СЕРГЕЕВ', RemoveAccents('Валерий Николаевич СЕРГЕЕВ'));</p>",
        "id": 159706040,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551441998
    },
    {
        "content": "<p>ok I think it's fixed (and released but i haven't upgraded <a href=\"http://test.fhir.org\" target=\"_blank\" title=\"http://test.fhir.org\">test.fhir.org</a> yet)</p>",
        "id": 159780961,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551507460
    },
    {
        "content": "<p>I checked the new version of the project - it works correctly, thank you ..</p>",
        "id": 159783470,
        "sender_full_name": "Igor Novikov",
        "timestamp": 1551512196
    },
    {
        "content": "<p>Great</p>",
        "id": 159784130,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551513505
    }
]