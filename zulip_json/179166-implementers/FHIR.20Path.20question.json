[
    {
        "content": "<p>Trying to figure out how to get the value of something which is in a collection.  IN my case I am thinking of getting the value of the Observation.component whose code.coding.code is equal to some value. As I play with the syntax using this test site <a href=\"https://hl7.github.io/fhirpath.js/\">https://hl7.github.io/fhirpath.js/</a> <br>\nI can get single expressions to evaluate to true and get values but I cannot figure out the right syntax to get a value conditionally. In a program I could do it in multiple lines but I thought the idea here is that I can specify a single path to get the value I want out of the collection.</p>",
        "id": 268394160,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1642514409
    },
    {
        "content": "<p>Observation.component.where[code.coding.where(code='foo' and system='bar')).value</p>",
        "id": 268400845,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1642517144
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Thanks,  I wasn't going down 'deep enough'. I needed the second 'where'. I tried directly with<br>\nObservation.component.where(code.coding.code='150021').value<br>\nand that just gave me an empty response.</p>",
        "id": 268405702,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1642518998
    },
    {
        "content": "<p>You may need a <code>.exists()</code> on the inner where in HAPI</p>",
        "id": 268919268,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1642808729
    }
]