[
    {
        "content": "<p>Hi,</p>\n<p>What is the difference between 'Profile' and 'Target profile' on type 'Reference' in Forge, and how do i use this correctly? </p>\n<p>If i create a new profile based on the resource 'Location' i can see that 'managingOrganization' is of type 'Reference(Organization)' and has a 'Target profile' -&gt; <a href=\"http://hl7.org/fhir/StructureDefinition/Organization\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/Organization\">http://hl7.org/fhir/StructureDefinition/Organization</a>. The field 'Profile' is by default empty. I get this since this is just a reference to a basic profile on 'Organization'.</p>\n<p>But what is the approach if i want to reference my own profile of 'Organization'? <br>\nMy guess was that i point 'Target profile' to my Organization profile(like <a href=\"http://absoluteUri/myOrganization\" target=\"_blank\" title=\"http://absoluteUri/myOrganization\">http://absoluteUri/myOrganization</a>) and in the 'Profile' field i reference the basic profile for Organization(<a href=\"http://hl7.org/fhir/StructureDefinition/Organization\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/Organization\">http://hl7.org/fhir/StructureDefinition/Organization</a>). However Forge is giving me an Error when i open the profile again sayin \"... The target represent a profile on 'Location' which is incompatible with the element type 'Reference' \", so im obviously doing something wrong. </p>\n<p>If i hoover over 'Target profile' and 'Profile' the help dialog is exactly the same. So what is the difference and when do i use what?</p>",
        "id": 154015618,
        "sender_full_name": "Jakob Lindblad",
        "timestamp": 1541424926
    },
    {
        "content": "<p><code>ElementDefinition.type.targetProfile</code> only applies when <code>ElementDefinition.type.code</code> equals 'Reference'. In that case, the <code>targetProfile</code> property allows you to constrain the <em>target resource</em> of the reference, whereas <code>ElementDefinition.type.profile</code> would constrain the Reference itself - which FHIR allows, but is usually not what you need/want.</p>",
        "id": 154015621,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1541425135
    },
    {
        "content": "<p>Profile is a profile on the \"Reference\" data type itself.  You could use it to mandate that \"display\" is present or to prohibit Reference.identifier</p>",
        "id": 154015622,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1541425150
    },
    {
        "content": "<p>Exactly!</p>",
        "id": 154015623,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1541425169
    },
    {
        "content": "<p>Actually <span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span>, targetProfile is also allowed if the type is Resource.</p>",
        "id": 154015624,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1541425171
    },
    {
        "content": "<p>Today I learned...</p>",
        "id": 154015625,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1541425187
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> could you explain when this applies and what it means?</p>",
        "id": 154015627,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1541425279
    },
    {
        "content": "<p>It would apply for something like Bundle.entry.resource</p>",
        "id": 154015630,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1541425805
    },
    {
        "content": "<p>At least that's my understanding</p>",
        "id": 154015631,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1541425813
    },
    {
        "content": "<p>Or in the parameters resource.</p>",
        "id": 154015781,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1541456386
    },
    {
        "content": "<blockquote>\n<p>Actually @Michel Rutten, targetProfile is also allowed if the type is Resource.</p>\n</blockquote>\n<p>really? why?</p>",
        "id": 154016992,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1541725440
    },
    {
        "content": "<p>Can you just change the type to a specialization when slicing?</p>",
        "id": 154016996,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1541726082
    },
    {
        "content": "<p>no but you'd use profile, not targetProfile</p>",
        "id": 154016998,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1541726413
    },
    {
        "content": "<p>Ok.  Then I stand corrected.  And <span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span> will have to unlearn what I mis-taught him...</p>",
        "id": 154017003,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1541727363
    },
    {
        "content": "<p>Clear, thanks!</p>",
        "id": 154017097,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1541757775
    }
]