[
    {
        "content": "<p>Trying to use the validator. Downloaded the v3.0.1 examples and put them in a examples-json-V3 dir</p>\n<p>java -jar org.hl7.fhir.validation.cli-3.8.0-20190211.175101-5.jar examples-json-V3/observation-example-bloodpressure.json -version 3.0.1</p>\n<p>works and understand the results.</p>\n<p>java -jar org.hl7.fhir.validation.cli-3.8.0-20190211.175101-5.jar examples-json-V3/observation-example-bloodpressure.json -version 3.0.1 -profile <a href=\"http://hl7.org/fhir/StructureDefinition/bp\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/bp\">http://hl7.org/fhir/StructureDefinition/bp</a></p>\n<p>produces the following</p>\n<p><em>FAILURE</em> validating examples-json-V3/observation-example-bloodpressure.json:  error:4 warn:2 info:0<br>\n  Error @ Observation.component[1] (line 78, col6) : Error in discriminator at Observation.component:diastolicbp.code.coding: slicing found<br>\n  Error @ Observation.component[1] (line 78, col6) : Error in discriminator at Observation.component:systolicbp.code.coding: slicing found<br>\n  Error @ Observation.component[2] (line 115, col6) : Error in discriminator at Observation.component:diastolicbp.code.coding: slicing found<br>\n  Error @ Observation.component[2] (line 115, col6) : Error in discriminator at Observation.component:systolicbp.code.coding: slicing found<br>\n  Warning @ Observation.code : The display \"Bood pressure panel with all children optional\" is not a valid display for the code {http://loinc.org}85354-9 - should be one of [\"Blood pressure panel with all children optional\",\"BP pnl w all optional\"]<br>\n  Warning @ Observation.code.coding (line 41, col8) : The display \"Bood pressure panel with all children optional\" is not a valid display for the code {http://loinc.org}85354-9 - should be one of [\"Blood pressure panel with all children optional\",\"BP pnl w all optional\"]</p>\n<p>The bp example instance looks OK. But wondering is the example instance incorrect, is it the profile...</p>\n<p>I get similar results from the HAPI FHIR test server web page, modifying the json to specify bp profile rather than vitalsigns</p>\n<p>The Aegis server, accessing via curl, seems to think the example is OK for the bp profile</p>\n<p>Thanks for your help. -Eric</p>",
        "id": 165022596,
        "sender_full_name": "Eric Mays",
        "timestamp": 1557179856
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"220961\">@Eric Mays</span> , i just documented this validator issue yesterday in <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21472\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=21472\">GF#21472</a>. The first of your examples works because the bp profile is not explicitly mentioned, the second the validator stumbles over the <a href=\"http://hl7.org/fhir/StructureDefinition/bp\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/bp\">http://hl7.org/fhir/StructureDefinition/bp</a> profile.  I added a <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/22\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/22\">pull request</a> for the different testcases here against the validator , which illustrates the problem, but not yet a solution for the validator (except rewrite the bp profile in a way that the validator understands it).</p>",
        "id": 165047174,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1557211268
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> .  I'm just trying to get a set of unit tests together for an implementation of IValidationSupport to validate against a custom profile that uses SNOMED extension concepts. <br>\nHaving issue with heart rate as well both on vitalsigns profile and heartrate profile:<br>\nFHIR Validation tool Version 3.8.0-SNAPSHOT - Built 2019-02-11T12:49:16.829-05:00 - Git 7a8671008476<br>\nArguments: examples-json-V3/observation-example-heart-rate.json -version 3.0.1<br>\n  .. connect to tx server @ <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">http://tx.fhir.org</a><br>\n  .. definitions from hl7.fhir.core#3.0.1<br>\n    (v3.0.1)<br>\n  .. validate [examples-json-V3/observation-example-heart-rate.json]<br>\nTerminology server: Check for supported code systems for <a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">http://loinc.org</a><br>\n<em>FAILURE</em> validating examples-json-V3/observation-example-heart-rate.json:  error:1 warn:0 info:0<br>\n  Error @ Observation (line 1, col2) : If there is no component or related element then either a value[x] or a data absent reason must be present [(component.empty() and related.empty()) implies (dataAbsentReason or value)]</p>",
        "id": 165068866,
        "sender_full_name": "Eric Mays",
        "timestamp": 1557234559
    },
    {
        "content": "<p>Unpacked org.hl7.fhir.validation.cli-3.8.0-20190211.175101-5.jar<br>\nMain is org.hl7.fhir.r4.validation.Validator<br>\nNot seeing this class in the 3.7.0 jar that is the release or in github <a href=\"https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-validation/src/main/java/org/hl7/fhir/r4/validation\" target=\"_blank\" title=\"https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-validation/src/main/java/org/hl7/fhir/r4/validation\">https://github.com/jamesagnew/hapi-fhir/tree/master/hapi-fhir-validation/src/main/java/org/hl7/fhir/r4/validation</a><br>\nCouple other classes in that package e.g. ValidationEngine<br>\nIs that source available?</p>",
        "id": 165071067,
        "sender_full_name": "Eric Mays",
        "timestamp": 1557236229
    },
    {
        "content": "<p>for the validator as you are using in above example  the source is here:  <a href=\"https://github.com/hapifhir/org.hl7.fhir.core\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core\">https://github.com/hapifhir/org.hl7.fhir.core</a> e.g.  <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/tree/master/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/r5/validation\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/tree/master/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/r5/validation\">https://github.com/hapifhir/org.hl7.fhir.core/tree/master/org.hl7.fhir.validation/src/main/java/org/hl7/fhir/r5/validation</a></p>",
        "id": 165083306,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1557243846
    }
]