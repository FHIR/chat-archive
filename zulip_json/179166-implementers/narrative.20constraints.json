[
    {
        "content": "<p>Has anyone considered, either in the base resource or in a profile, constraining the format of the narrative? In particular, I'm thinking about whether ImagingStudy should recommend/require something like \"[modality] [procedure type] [accession]\". This way, a list of imaging studies from multiple sources would have a similar format, and would list nicely. Details of the actual string aside, is this an appropriate thing to do?</p>\n<p>Do we have any expectations for what narratives should looke like? I recognize that Observation and others have such wide use that it is hard to come up with a standard narrative format, but what about for narrower-use resources?</p>",
        "id": 153833798,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1466443750
    },
    {
        "content": "<p>For generated narratives, it really doesn't matter as could be re-generated to conform, however for content that is not, maybe not practical.</p>",
        "id": 153833820,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1466457614
    },
    {
        "content": "<p>Would like to see it at least considered though.</p>",
        "id": 153833821,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1466457638
    },
    {
        "content": "<p>wouldn't middleware that took a structured resource -&gt; text be a better (more flexible/sustainable) solution?</p>",
        "id": 153833824,
        "sender_full_name": "Erich Schulz",
        "timestamp": 1466459538
    },
    {
        "content": "<p>curerntly we have code that generates narratives in several languages, all open source and with permissive licenses. If someone else wanted to package that code into a middleware, or write their own, we think that's a good idea</p>",
        "id": 153833827,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1466461154
    },
    {
        "content": "<p>with regard to the original question: yes, it's been considered, and I've done it for CDA IGs before. HTML is kind of hard to constrain, so people tend to write narrative, but I have done, for instance, there SHALL be a table, there SHALL Be the same number of rows in the table as their are entries in the act as an XPath, But it's really hard to get a useful XPath that's not too restrictive</p>",
        "id": 153833828,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1466461278
    },
    {
        "content": "<p>OK. As I was writing my question, the thought came to me that we could easily generate that text  from the resource elements and ignore the narrative totally, but I wanted to see what the general approach was.</p>",
        "id": 153833829,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1466461466
    },
    {
        "content": "<p>nearly every resource example in the spec has a generated narrative using that code </p>",
        "id": 153833833,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1466461671
    },
    {
        "content": "<p>but in production, you might not be able to do that - that's why there's a status code with the narrative. If it contains additional information not in the data (sometimes) then you can't ignore the narrative </p>",
        "id": 153833834,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1466461712
    },
    {
        "content": "<p>This gets trickier with FluentPath constraints - it doesn't have the same narrative capabilities.</p>",
        "id": 153834728,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1466736599
    },
    {
        "content": "<p>no it has none</p>",
        "id": 153834746,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1466737771
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ,  Where can I find the open source code that generates narratives in several languages. can you point me to it?</p>",
        "id": 185917788,
        "sender_full_name": "Lisa Nelson",
        "timestamp": 1579269613
    },
    {
        "content": "<p>several languages? I'm not sure what you're referring to?</p>",
        "id": 185950404,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579290815
    },
    {
        "content": "<p>From 2016 above:</p>\n<blockquote>\n<p>curerntly we have code that generates narratives in several languages, all open source and with permissive licenses.</p>\n</blockquote>",
        "id": 185951775,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1579291715
    },
    {
        "content": "<p>wooah. thanks. I guess what I was referring to was: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/utils/NarrativeGenerator.java\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/utils/NarrativeGenerator.java\">https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/utils/NarrativeGenerator.java</a> though I'm not exactly sure what I meant by 'multiple langages'</p>",
        "id": 185952908,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579292468
    }
]