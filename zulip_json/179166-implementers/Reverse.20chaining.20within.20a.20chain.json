[
    {
        "content": "<p>Similar questions have been <a href=\"#narrow/stream/179166-implementers/topic/Should.20HealthcareService.20reference.20Practitioner.3F/near/153919469\" title=\"#narrow/stream/179166-implementers/topic/Should.20HealthcareService.20reference.20Practitioner.3F/near/153919469\">asked before</a>, but I can't quite find the answer to this.</p>\n<p>I'd like to express a query of \"find all encounters involving patients who are members of Group 102.\" Is the following valid?</p>\n<div class=\"codehilite\"><pre><span></span>Encounter?patient._has:Group:member:_id=102\n</pre></div>\n\n\n<p>I haven't seen the <code>?param._has</code> pattern documented or used before, so it's not clear to me if this is valid.</p>\n<p>When I tried testing this on <a href=\"https://test.fhir.org\" target=\"_blank\" title=\"https://test.fhir.org\">https://test.fhir.org</a>, I didn't get very far, because my query for \"find Patients who are members of Group 102\" didn't seem to work (I'm probably doing something silly, but I can't figure out what):</p>\n<div class=\"codehilite\"><pre><span></span>$ curl -s -H &quot;Accept: application/fhir+json&quot; &quot;http://test.fhir.org/r4/Patient?_has:Group:member:_id=102&quot;\n</pre></div>\n\n\n<p>This appears to just return <em>all patients</em>.</p>",
        "id": 159080545,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1550765602
    },
    {
        "content": "<p><code>{{BASE_URL}}/Encounter?patient._has:Group:member:_id=102</code> works perfectly fine in Vonk. I agree that this behaviour is not documented anywhere in the specification as far as I know, but I don't see a reason why it should not be allowed, as _has is yet another search parameter valid for all resources.</p>",
        "id": 159086937,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1550769906
    },
    {
        "content": "<p>I haven't got to reverse chaining yet. It's on my todo list</p>",
        "id": 159104934,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1550783654
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span>  (I had a <code>:</code> where I should have written <code>.</code>, now fixed). <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> do you agree this query is consistent with the FHIR spec? (Understood that your server doesn't support it today; that's a different matter.)</p>",
        "id": 159107086,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1550785289
    },
    {
        "content": "<p>Added <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20474\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20474\">Gforge #20474</a> to clarify the behaviour.</p>",
        "id": 159410589,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1551173393
    }
]