[
    {
        "content": "<p>In UK Pathology Lab practice there are a number of test types that are reported in a \"semi quantitive\" form. Generally that means the result is reported as a text value selected from a fixed set of options that are on an ordinal or interval scale. In some cases there is a measured number under this and the result value comes from grouping/clustering the number into (e.g.) a High|Medium|Low group.</p>\n<p>However some results are read directly, with no numeric value involved. An example is a \"dip test\", where a test strip is dipped in the sample (e.g. Urine) and the result is read directly as a colour change or a code becoming visible. A test like this might be reported as a value from the set-</p>\n<div class=\"codehilite\"><pre><span></span><code>  **Negative **| **Trace **|  **+** | **++ **| **+++ **| **++++**\n</code></pre></div>\n\n<p>To understand this the recipient (human or machine) needs to have both the Value and the definition of the scale range.</p>\n<p>I've been looking at how to represent this in a FHIR message, and i've come up with a variety of answers, none of which looks very natural. The options I've considered include-</p>\n<p>1) \"Precoordinating\" every result with the scale information into a big text string<br>\n2) A single unique <em>CodeableConcept</em> for each possible value, from which the receiver can infer the scale (as a ValueSet or SNOMED RefSet)<br>\n3) Stretching the use of multiple Codes within a CodeableConcept to transmit the Value and Scale separately<br>\n4) Stretching (a lot...) the <em>Quantity</em> data type to send the required information</p>\n<p>I would like to know-</p>\n<p>Has anyone met and dealt with this type of data before, and if so how?</p>\n<p>Are there any good rules of thumb on when \"creative\" use of a standard Resource type becomes possible mis-use, and the right thing to do is consider an Extension instead?</p>",
        "id": 226713103,
        "sender_full_name": "Colin E.",
        "timestamp": 1613590547
    },
    {
        "content": "<p>Hi Colin, these look like coded values, that would go in Observation.valueCodeableConcept. When a code goes into an attribute of a resource there is no need to put the definition in the resource too. The definition of the code is a fixed thing and is not communicated in every message, but in the reference value sets and code systems that support the whole application.</p>",
        "id": 226714866,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1613591312
    },
    {
        "content": "<p>There's a coded ordinal representation that allows you to convey a code along with its numeric value.  But that doesn't convey the overall range.  For that, you'd need the valueset drawn from.  Coding <em>does</em> have an extension that allows you to indicate that if you wanted.</p>",
        "id": 226739093,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1613601540
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Representing.20.22semi-quantitive.22.20results/near/226739093\">said</a>:</p>\n<blockquote>\n<p>There's a coded ordinal representation that allows you to convey a code along with its numeric value.  But that doesn't convey the overall range.  For that, you'd need the valueset drawn from.  Coding <em>does</em> have an extension that allows you to indicate that if you wanted.</p>\n</blockquote>\n<blockquote>\n<blockquote>\n<p>There's a coded ordinal representation...<br>\nIs that the ordinalValue extension?</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<blockquote>\n<p>Coding <em>does</em> have an extension that allows you to indicate (the valueset drawn from)<br>\nThat's a key piece I was missing. Can I ask where it is documented? Interested to know if it only supports FHIR ValueSets, or also allows references to SNOMED RefSets.</p>\n</blockquote>\n</blockquote>\n<p>The issue (I think) is that a single term like  \"+++\" could appear in multiple valuesets. I understand some dip tests max out at \"+++\" but others go to \"++++\". If the valuesets cover different overall ranges then you need to know what the range is to (a) label the display properly; (b) interpret the value.</p>",
        "id": 226742662,
        "sender_full_name": "Colin E.",
        "timestamp": 1613603738
    },
    {
        "content": "<p>Then <a href=\"https://build.fhir.org/extension-valueset-reference.html\">https://build.fhir.org/extension-valueset-reference.html</a> is probably what you're looking for.  It would tell you what choices were available when the code was chosen</p>",
        "id": 226746783,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1613606441
    },
    {
        "content": "<p>Thank you, much appreciated. More reading to do...  I see this last one is a FHIR 5 extension. In principle we're sill supposed to be targeting STU3 at this point, but I assume an extension can be \"backported\" to an earlier FHIR release locally if required.</p>",
        "id": 226754216,
        "sender_full_name": "Colin E.",
        "timestamp": 1613612081
    },
    {
        "content": "<p>It existed in STU3 too - <a href=\"http://hl7.org/fhir/STU3/extension-valueset-reference.html\">http://hl7.org/fhir/STU3/extension-valueset-reference.html</a></p>",
        "id": 226755496,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1613613266
    },
    {
        "content": "<p>It might be better to define multiple code systems for the different ranges (even if the individual codes and/or displays look the same) rather than multiple value sets. The context of the code system is always available in the message, so no need for an extension to send a value set - which is less likely to be understood.</p>",
        "id": 226789798,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1613643633
    },
    {
        "content": "<p>Thanks for the suggestion Rik. I need to go away and think about that, and maybe come back to you. I must admit one of the challenges of FHIR is that there are often many ways to achieve something, and quite a few ideas about the best approach.</p>\n<p>However I do appreciate the helpful feedback, it's a lot better than grappling with the docs in silence ;-)</p>",
        "id": 226860299,
        "sender_full_name": "Colin E.",
        "timestamp": 1613674203
    },
    {
        "content": "<p>Yup.  There are frequently multiple ways to skin the cat - and different trade-offs in doing so.  The discussion forum helps create awareness of the options, the tradeoffs, and what others are doing.  At worst, it helps understanding.  At best, it leads to convergence and maybe even updated documentation to guide those who come after.</p>",
        "id": 226873593,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1613679527
    }
]