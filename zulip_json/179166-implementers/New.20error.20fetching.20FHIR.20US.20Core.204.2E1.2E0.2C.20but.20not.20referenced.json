[
    {
        "content": "<p>Hi,<br>\nI'm getting the following error when I run the IG Publisher on the same IG FSH code I run without error on 11/23.  Now I'm getting, but my IG is based on FHIR US Core 3.1.1 and does not reference 4.1.0.  My colleague is able to run it fine, so I have reinstalled a fresh copy of the publisher, rebooted, but get the same problem:</p>\n<p>Processing Conformance Resources                                                 (00:41.0037)<br>\nGenerating Snapshots                                                             (00:41.0237)<br>\nGenerating Narratives                                                            (00:41.0393)<br>\nValidating Conformance Resources                                                 (00:48.0602)<br>\n2021-12-03 20:10:31.059 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.fhir.us.core#4.1.0 from server: <a href=\"http://packages.fhir.org\">http://packages.fhir.org</a> (Server returned HTTP response code: 400 for URL: <a href=\"http://packages.fhir.org/hl7.fhir.us.core/4.1.0\">http://packages.fhir.org/hl7.fhir.us.core/4.1.0</a>)<br>\n2021-12-03 20:10:31.401 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.fhir.us.core#4.1.0 from server: <a href=\"https://packages2.fhir.org/packages\">https://packages2.fhir.org/packages</a> (<a href=\"https://packages2.fhir.org/packages/hl7.fhir.us.core/4.1.0\">https://packages2.fhir.org/packages/hl7.fhir.us.core/4.1.0</a>)<br>\n2021-12-03 20:10:31.842 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.fhir.us.core#4.1.x from server: <a href=\"http://packages.fhir.org\">http://packages.fhir.org</a> (Server returned HTTP response code: 400 for URL: <a href=\"http://packages.fhir.org/hl7.fhir.us.core/4.1.x\">http://packages.fhir.org/hl7.fhir.us.core/4.1.x</a>)<br>\n2021-12-03 20:10:33.413 [main] INFO  o.h.f.u.npm.BasePackageCacheManager [BasePackageCacheManager.java:80] Failed to resolve package hl7.fhir.us.core#4.1.x from server: <a href=\"https://packages2.fhir.org/packages\">https://packages2.fhir.org/packages</a> (<a href=\"https://packages2.fhir.org/packages/hl7.fhir.us.core/4.1.x\">https://packages2.fhir.org/packages/hl7.fhir.us.core/4.1.x</a>)<br>\nPublishing Content Failed: Error fetching package directly (<a href=\"http://hl7.org/fhir/us/core/4.1.0/package.tgz\">http://hl7.org/fhir/us/core/4.1.0/package.tgz</a>), or fetching package list for hl7.fhir.us.core from <a href=\"http://hl7.org/fhir/us/core/package-list.json\">http://hl7.org/fhir/us/core/package-list.json</a>: Unable to fetch: Server returned HTTP response code: 400 for URL: <a href=\"http://hl7.org/fhir/us/core/4.1.0/package.tgz\">http://hl7.org/fhir/us/core/4.1.0/package.tgz</a> (00:53.0054)<br>\n                                                                                 (00:53.0057)<br>\nUse -? to get command line help                                                  (00:53.0058)<br>\n                                                                                 (00:53.0059)<br>\nStack Dump (for debugging):                                                      (00:53.0060)<br>\norg.hl7.fhir.exceptions.FHIRException: Error fetching package directly (<a href=\"http://hl7.org/fhir/us/core/4.1.0/package.tgz\">http://hl7.org/fhir/us/core/4.1.0/package.tgz</a>), or fetching package list for hl7.fhir.us.core from <a href=\"http://hl7.org/fhir/us/core/package-list.json\">http://hl7.org/fhir/us/core/package-list.json</a>: Unable to fetch: Server returned HTTP response code: 400 for URL: <a href=\"http://hl7.org/fhir/us/core/4.1.0/package.tgz\">http://hl7.org/fhir/us/core/4.1.0/package.tgz</a><br>\n    at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.fetchTheOldWay(FilesystemPackageCacheManager.java:722)<br>\n    at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.loadFromPackageServer(FilesystemPackageCacheManager.java:223)<br>\n    at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.loadPackage(FilesystemPackageCacheManager.java:507)<br>\n    at org.hl7.fhir.igtools.publisher.realm.USRealmBusinessRules.fetchLatestUSCore(USRealmBusinessRules.java:176)<br>\n    at org.hl7.fhir.igtools.publisher.realm.USRealmBusinessRules.checkSD(USRealmBusinessRules.java:99)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.checkConformanceResources(Publisher.java:4173)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4102)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:942)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:794)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8942)<br>\nCaused by: org.hl7.fhir.exceptions.FHIRException: Unable to fetch: Server returned HTTP response code: 400 for URL: <a href=\"http://hl7.org/fhir/us/core/4.1.0/package.tgz\">http://hl7.org/fhir/us/core/4.1.0/package.tgz</a><br>\n    at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.fetchFromUrlSpecific(FilesystemPackageCacheManager.java:525)<br>\n    at org.hl7.fhir.utilities.npm.FilesystemPackageCacheManager.fetchTheOldWay(FilesystemPackageCacheManager.java:719)<br>\n    ... 9 more</p>\n<p>Anyone else see this?  Seems like it may be something related to my system.  A cache that needs to be cleared?</p>\n<p>Thanks!<br>\nDave</p>",
        "id": 263673158,
        "sender_full_name": "Dave Hill",
        "timestamp": 1638579981
    },
    {
        "content": "<p>The same error is occurring in the CI build for fhir-pacio-rt - <a href=\"#narrow/stream/179297-committers.2Fnotification\">https://chat.fhir.org/#narrow/stream/179297-committers.2Fnotification</a>.  My colleague is able to build it locally on his local machine:</p>\n<p>Errors: 0, Warnings: 0, Info: 0, Broken Links = 0 (01:20.0653)</p>\n<p>Dave</p>",
        "id": 263678038,
        "sender_full_name": "Dave Hill",
        "timestamp": 1638585503
    },
    {
        "content": "<p>I don't believe that we've posted US Core version 4.1.0</p>",
        "id": 263762716,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638702157
    },
    {
        "content": "<p>i think that's Dave's point - he's not referencing v4.1.0 but the validator looks like it is.</p>",
        "id": 263784183,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1638731839
    },
    {
        "content": "<p>I can't reproduce this.</p>",
        "id": 263918923,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638822046
    },
    {
        "content": "<p>There is also this: <a href=\"#narrow/stream/179252-IG-creation/topic/Is.20this.20an.20IG.20Publisher.20issue.3F\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Is.20this.20an.20IG.20Publisher.20issue.3F</a></p>",
        "id": 263934311,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1638829820
    }
]