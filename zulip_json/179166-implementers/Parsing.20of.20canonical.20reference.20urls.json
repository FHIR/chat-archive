[
    {
        "content": "<p>The <a href=\"https://www.hl7.org/fhir/references.html#canonical-fragments\" target=\"_blank\" title=\"https://www.hl7.org/fhir/references.html#canonical-fragments\">R4 specification</a> gives this example of a canonical URI with fragment:</p>\n<div class=\"codehilite\"><pre><span></span>  &lt;valueSet value=&quot;http://fhir.acme.com/Questionnaire/example|1.0#vs1&quot;/&gt;\n</pre></div>\n\n\n<p>Apparently the version segment (<code>|1.0</code>) should go before the fragment part (<code>#vs1</code>). But what if the version would contain a <code>#</code> character? E.g. if I'd like to version my questionnaire <code>2019#1</code>, <code>2019#2</code>, etc. (a bit of a stretch, but not unthinkable). The url would look like this (without fragment):</p>\n<div class=\"codehilite\"><pre><span></span>http://fhir.acme.com/Questionnaire/example|2019#1\n</pre></div>\n\n\n<p>How can I parse/interpret those kind of urls unambiguously? I can think of multiple solutions:</p>\n<ul>\n<li>disallow usage of <code>#</code> in versions</li>\n<li>require version segment to be percent-encoded</li>\n<li>...</li>\n</ul>\n<p>But I could not find any documentation on how to handle this in the specs. Did I miss something?</p>",
        "id": 171607903,
        "sender_full_name": "Henk-Jan Meijer",
        "timestamp": 1563976555
    },
    {
        "content": "<p>Given that version strings are part of the FHIR API, I guess we need to be stricter around what characters are allowed and define a regex similar to what we've done for <a href=\"http://Resource.id\" target=\"_blank\" title=\"http://Resource.id\">Resource.id</a>.  Can you submit a change request?  We'd need to constrain out (or set an expectation to escape) any #, / and similar characters appearing in the version string.</p>",
        "id": 171626350,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1563989845
    },
    {
        "content": "<p>I cannot (yet) submit a change request (account awaiting approval). Happy to do it as soon as I'm allowed.</p>",
        "id": 171925392,
        "sender_full_name": "Henk-Jan Meijer",
        "timestamp": 1564386579
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195731\">@Henk-Jan Meijer</span> - check your spam folder.  The approval email should have been sent, but you'll need to click the 'activate' link.</p>",
        "id": 171948745,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1564409524
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> thanks, I got the link eventually. Created change request here: <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23011\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23011\">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=23011</a></p>",
        "id": 171952041,
        "sender_full_name": "Henk-Jan Meijer",
        "timestamp": 1564411834
    },
    {
        "content": "<p>thanks</p>",
        "id": 171952708,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1564412212
    }
]