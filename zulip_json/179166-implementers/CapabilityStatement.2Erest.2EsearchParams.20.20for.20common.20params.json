[
    {
        "content": "<p>Can/should CapabilityStatement.rest.searchParam be used to document search params that are common across all resources listed in CapabilityStatement.rest.resources?  For example, _id, _count, _revInclude, _include.  Or should those be duplicated in every single resource listed in CapabilityStatement.rest.resource?</p>\n<p>On the one hand, it is slightly more convenient for client parsers to have everything for single resource in one spot (rest.resource.searchParams).  On the other hand, CapabilityStatements can get very large, and duplicating identical params across all resources just adds to the bloat.</p>",
        "id": 225855226,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1612971965
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 225855316,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1612972005
    },
    {
        "content": "<p>if a parameter is really supported in the very same way, inclusive of modifiers, comparators, etc., accross all resource types, then that's what CapabilityStatement.rest.searchParams is for. Whether that's a SHALL, now that's another question.</p>",
        "id": 225855661,
        "sender_full_name": "René Spronk",
        "timestamp": 1612972112
    },
    {
        "content": "<p>I do it for each resource for expectations in IGs.  But I can see it being done system wide for instances</p>",
        "id": 225869227,
        "sender_full_name": "Eric Haas",
        "timestamp": 1612975669
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  Did US Core have a section somewhere I missed that has expectations for them to be in each resource?</p>",
        "id": 225869558,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1612975748
    },
    {
        "content": "<p>I see that the <a href=\"https://build.fhir.org/ig/HL7/US-Core-R4/CapabilityStatement-us-core-server.html\">US Core Server CapabilityStatement</a> says what params are required for each resource, but it doesn't say which level in  CapabilityStatement those should be documented.</p>",
        "id": 225870611,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1612976106
    },
    {
        "content": "<p>The definition for system level search parameter is \"Search parameters that are supported for searching all resources\". How to interpret this?</p>\n<ul>\n<li>the search parameter that search all resources. eg: <code> GET [base]?[parameters]{&amp;_format=[mime-type]}</code></li>\n<li>the search parameter defined for all resources. The second column in this table <a href=\"https://www.hl7.org/fhir/search.html#Summary\">https://www.hl7.org/fhir/search.html#Summary</a></li>\n<li>the search parameter commonly supported by all resources on this server (as <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> mentioned)</li>\n</ul>",
        "id": 225873383,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1612977186
    },
    {
        "content": "<p>the capabilitystatement list expectation both by system and resource type.  For each resource type there is an expectation listed and for example Patient lists _id:  <a href=\"http://hl7.org/fhir/us/core/CapabilityStatement-us-core-server.html#patient\">http://hl7.org/fhir/us/core/CapabilityStatement-us-core-server.html#patient</a></p>",
        "id": 225884118,
        "sender_full_name": "Eric Haas",
        "timestamp": 1612981449
    },
    {
        "content": "<p>As an implementer this expectation would be met by making the support for _id systemwide</p>",
        "id": 225884200,
        "sender_full_name": "Eric Haas",
        "timestamp": 1612981482
    },
    {
        "content": "<p>US Core does not make system-wide search expectations but a resource type search parameter would be subsumed by that.  I think that is self-evident, but if you think it should be explicit or specific guidance on how to take a CapabilityStatement of type = <code>requirements</code>  (e.g.from an  IG ) and convert it to a type instance.  Like I mention briefly here: <a href=\"https://argonautproject.github.io/patient-lists/CapabilityStatement-server.html\">https://argonautproject.github.io/patient-lists/CapabilityStatement-server.html</a> Then feel free to log a tracker.</p>",
        "id": 225885171,
        "sender_full_name": "Eric Haas",
        "timestamp": 1612981886
    },
    {
        "content": "<p>hmm, I see that we have a lack of clarity in the documentation here <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span> and <span class=\"user-mention\" data-user-id=\"191372\">@René Spronk</span> </p>\n<p><code>rest.resource.searchParams</code> is for search parameters that are supported when the client searches with a type specified. e.g.</p>\n<p><code>GET [base]/?_type=Patient,Practitioner&amp;...</code></p>",
        "id": 225900563,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612988171
    },
    {
        "content": "<p>it's not for search parameters that are supported on all the kinds of resources supported.</p>",
        "id": 225900590,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612988188
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> when you say </p>\n<blockquote>\n<p>rest.resource.searchParams is for search parameters that are supported when the client searches with a type specified.</p>\n</blockquote>\n<p>do you mean <br>\n<strong>rest.searchParams</strong> is for search parameters that are supported when the client searches with a type specified.</p>",
        "id": 225903274,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1612989270
    },
    {
        "content": "<p>duh. I meant, without</p>",
        "id": 225903850,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612989497
    },
    {
        "content": "<p>So it sounds like:</p>\n<ul>\n<li>I should submit a tracker to add clarification that using rest.searchParams is not appropriate for parameters that apply to all resources</li>\n<li>The Inferno Program Edition tests are correct as they are, where they are ignoring rest.searchParams and only checking rest.resource.searchParams for US Core compliance, so I'll close <a href=\"https://github.com/onc-healthit/inferno-program/issues/230\">Issue#230</a></li>\n<li>Epic will need to update our CapabilityStatement to move our params that are common across all resources into rest.resource.searchParams</li>\n</ul>",
        "id": 225907462,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1612991022
    },
    {
        "content": "<p><a href=\"http://jira.hl7.org/browse/FHIR-31051\">FHIR#31051</a> - Clarify the use of CapabilityStatement.rest.searchParams</p>",
        "id": 225908277,
        "sender_full_name": "Cooper Thompson",
        "timestamp": 1612991362
    },
    {
        "content": "<p>I am still confused.  What grahame is saying is that there is currently no way to define that <code>_id</code> applies to all resources? </p>\n<p>But the others that <span class=\"user-mention\" data-user-id=\"191764\">@Cooper Thompson</span>   listed  (<code>_count</code>, <code>_revInclude</code>, <code>_include</code>) are appropriate for <code>CapabilityStatement.rest.searchParam</code>? </p>\n<p>I don't see why <code>_id</code>  is excluded?</p>",
        "id": 225935398,
        "sender_full_name": "Eric Haas",
        "timestamp": 1613004735
    }
]