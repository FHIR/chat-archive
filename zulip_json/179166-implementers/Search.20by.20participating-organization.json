[
    {
        "content": "<p>Hello, </p>\n<p>I am trying to fetch all OrganizationAffiliation resources referring a specific participatingOrganization. The name of the participatingOrganization is - Burr Clinic.  The id for this participating-organization is 721 in the fhir server. So I am using the following query in the HAPI FHIR server - <a href=\"http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation?participating-organization=721\">http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation?participating-organization=721</a>. But it returns no result:<br>\nresourceType\": \"Bundle\",<br>\n    \"id\": \"25cb5bc4-bf90-4aba-a4df-31abe734a7fa\",<br>\n    \"meta\": {<br>\n        \"lastUpdated\": \"2021-02-16T12:43:44.616-08:00\"<br>\n    },<br>\n    \"type\": \"searchset\",<br>\n    \"total\": 0,<br>\n    \"link\": [<br>\n        {<br>\n            \"relation\": \"self\",<br>\n            \"url\": \"<a href=\"http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation?participating-organization=721\">http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation?participating-organization=721</a>\"<br>\n        }<br>\nBut when I use the following query -  <a href=\"http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation?participating-organization=BurrClinic\">http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation?participating-organization=BurrClinic</a> , I get a proper result:<br>\n{<br>\n    \"resourceType\": \"Bundle\",<br>\n    \"id\": \"6822fc60-a8d9-4dfc-a825-2e35376294ce\",<br>\n    \"meta\": {<br>\n        \"lastUpdated\": \"2021-02-16T12:45:28.742-08:00\"<br>\n    },<br>\n    \"type\": \"searchset\",<br>\n    \"total\": 2,<br>\n    \"link\": [<br>\n        {<br>\n            \"relation\": \"self\",<br>\n            \"url\": \"<a href=\"http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation?participating-organization=BurrClinic\">http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation?participating-organization=BurrClinic</a>\"<br>\n        }<br>\n    ],<br>\n    \"entry\": [<br>\n        {<br>\n            \"fullUrl\": \"<a href=\"http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation/701\">http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation/701</a>\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"OrganizationAffiliation\",<br>\n                \"id\": \"701\",<br>\n                \"meta\": {<br>\n                    \"versionId\": \"1\",<br>\n                    \"lastUpdated\": \"2021-02-16T11:40:14.128-08:00\",<br>\n                    \"source\": \"#LKJTnQn5xjp8rENR\",<br>\n                    \"profile\": [<br>\n                        \"<a href=\"http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-OrganizationAffiliation\">http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-OrganizationAffiliation</a>\"<br>\n                    ]<br>\n                },<br>\n                \"language\": \"en-US\",<br>\n                \"text\": {<br>\n                    \"status\": \"generated\",<br>\n                    \"div\": \"&lt;div xml:lang=\\\"en-US\\\" xmlns=\\\"<a href=\"http://www.w3.org/1999/xhtml\\\">http://www.w3.org/1999/xhtml\\</a>\" lang=\\\"en-US\\\"&gt;&lt;p&gt;&lt;b&gt;Generated Narrative&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;active&lt;/b&gt;: true&lt;/p&gt;&lt;p&gt;&lt;b&gt;organization&lt;/b&gt;: &lt;a href=\\\"Organization-Hospital.html\\\"&gt;Generated Summary: language: en-US; id: NPI456; active; &lt;span title=\\\"Codes: {http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrgTypeCS fac}\\\"&gt;Facility&lt;/span&gt;; name: Hartford General Hospital; Phone: (111)-222-3333, https://www.hartfordgeneralhos...&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;participatingOrganization&lt;/b&gt;: &lt;a href=\\\"Organization-BurrClinic.html\\\"&gt;Generated Summary: language: en-US; id: NPI999; active; &lt;span title=\\\"Codes: {http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrgTypeCS fac}\\\"&gt;Facility&lt;/span&gt;; name: Burr Clinic; Phone: (111)-222-3333, https://www.burrclinic.com&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;network&lt;/b&gt;: &lt;a href=\\\"Organization-AcmeofCTStdNet.html\\\"&gt;Generated Summary: language: en-US; active; &lt;span title=\\\"Codes: {http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrgTypeCS ntwk}\\\"&gt;Network&lt;/span&gt;; name: ACME CT Preferred Provider Network&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;code&lt;/b&gt;: &lt;span title=\\\"Codes: {http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrganizationAffiliationRoleCS outpatient}\\\"&gt;Clinic or Outpatient Facility&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;location&lt;/b&gt;: &lt;a href=\\\"Location-HospLoc2.html\\\"&gt;Generated Summary: language: en-US; status: active; name: Hartford Hospital Location 2; &lt;span title=\\\"Codes: {http://terminology.hl7.org/CodeSystem/v3-RoleCode HOSP}\\\"&gt;Hospital&lt;/span&gt;; Phone: (111)-222-3333, https://www.hgh.com&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;healthcareService&lt;/b&gt;: &lt;a href=\\\"HealthcareService-BurrClinicServices.html\\\"&gt;Generated Summary: language: en-US; active; &lt;span title=\\\"Codes: {http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/HealthcareServiceCategoryCS outpat}\\\"&gt;Clinic or Outpatient Facility&lt;/span&gt;; &lt;span title=\\\"Codes: {http://nucc.org/provider-taxonomy 207Q00000X}\\\"&gt;Family Medicine&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;\"<br>\n                },<br>\n                \"active\": true,<br>\n                \"organization\": {<br>\n                    \"reference\": \"Organization/Hospital\"<br>\n                },<br>\n                \"participatingOrganization\": {<br>\n                    \"reference\": \"Organization/BurrClinic\"<br>\n                },<br>\n                \"network\": [<br>\n                    {<br>\n                        \"reference\": \"Organization/AcmeofCTStdNet\"<br>\n                    }<br>\n                ],<br>\n                \"code\": [<br>\n                    {<br>\n                        \"coding\": [<br>\n                            {<br>\n                                \"system\": \"<a href=\"http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrganizationAffiliationRoleCS\">http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrganizationAffiliationRoleCS</a>\",<br>\n                                \"code\": \"outpatient\"<br>\n                            }<br>\n                        ]<br>\n                    }<br>\n                ],<br>\n                \"location\": [<br>\n                    {<br>\n                        \"reference\": \"Location/HospLoc2\"<br>\n                    }<br>\n                ],<br>\n                \"healthcareService\": [<br>\n                    {<br>\n                        \"reference\": \"HealthcareService/BurrClinicServices\"<br>\n                    }<br>\n                ]<br>\n            },<br>\n            \"search\": {<br>\n                \"mode\": \"match\"<br>\n            }<br>\n        },<br>\n        {<br>\n            \"fullUrl\": \"<a href=\"http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation/712\">http://127.0.0.1:12443/fhir-server/R4/OrganizationAffiliation/712</a>\",<br>\n            \"resource\": {<br>\n                \"resourceType\": \"OrganizationAffiliation\",<br>\n                \"id\": \"712\",<br>\n                \"meta\": {<br>\n                    \"versionId\": \"1\",<br>\n                    \"lastUpdated\": \"2021-02-16T11:42:32.036-08:00\",<br>\n                    \"source\": \"#ud4ZnCXKmwTuVtNS\",<br>\n                    \"profile\": [<br>\n                        \"<a href=\"http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-OrganizationAffiliation\">http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-OrganizationAffiliation</a>\"<br>\n                    ]<br>\n                },<br>\n                \"language\": \"en-US\",<br>\n                \"text\": {<br>\n                    \"status\": \"generated\",<br>\n                    \"div\": \"&lt;div xml:lang=\\\"en-US\\\" xmlns=\\\"<a href=\"http://www.w3.org/1999/xhtml\\\">http://www.w3.org/1999/xhtml\\</a>\" lang=\\\"en-US\\\"&gt;&lt;p&gt;&lt;b&gt;Generated Narrative&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;active&lt;/b&gt;: true&lt;/p&gt;&lt;p&gt;&lt;b&gt;organization&lt;/b&gt;: &lt;a href=\\\"Organization-ConnHIE.html\\\"&gt;Generated Summary: language: en-US; active; &lt;span title=\\\"Codes: {http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrgTypeCS atyprv}\\\"&gt;Atypical Provider&lt;/span&gt;; name: Connecticut HIE; Phone: (111)-222-3333, https://www.connhie.com&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;participatingOrganization&lt;/b&gt;: &lt;a href=\\\"Organization-BurrClinic.html\\\"&gt;Generated Summary: language: en-US; id: NPI999; active; &lt;span title=\\\"Codes: {http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrgTypeCS fac}\\\"&gt;Facility&lt;/span&gt;; name: Burr Clinic; Phone: (111)-222-3333, https://www.burrclinic.com&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;code&lt;/b&gt;: &lt;span title=\\\"Codes: {http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrganizationAffiliationRoleCS bt}\\\"&gt;Member Of&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;\"<br>\n                },<br>\n                \"active\": true,<br>\n                \"organization\": {<br>\n                    \"reference\": \"Organization/ConnHIE\"<br>\n                },<br>\n                \"participatingOrganization\": {<br>\n                    \"reference\": \"Organization/BurrClinic\"<br>\n                },<br>\n                \"code\": [<br>\n                    {<br>\n                        \"coding\": [<br>\n                            {<br>\n                                \"system\": \"<a href=\"http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrganizationAffiliationRoleCS\">http://hl7.org/fhir/us/davinci-pdex-plan-net/CodeSystem/OrganizationAffiliationRoleCS</a>\",<br>\n                                \"code\": \"bt\"<br>\n                            }<br>\n                        ]<br>\n                    }<br>\n                ]<br>\n            },<br>\n            \"search\": {<br>\n                \"mode\": \"match\"<br>\n            }<br>\n        }<br>\n    ]<br>\n}<br>\nPlease note that the <a href=\"http://Organization.name\">Organization.name</a> = 'Burr Clinic' and NOT 'BurrClinic'. Wile posting this resource the id used was BurrClinic but the server assigned its own id which was 721. Iam not sure why its not accepting the query when I use id=721. I would be grateful if someone could shed light on this. Thank you in advance.</p>",
        "id": 226574110,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1613508500
    },
    {
        "content": "<p>When you look at the instances, you see this:<br>\n\"participatingOrganization\": {<br>\n\"reference\": \"Organization/BurrClinic\"<br>\n},</p>",
        "id": 226577766,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1613510230
    },
    {
        "content": "<p>That means that the id of the resource being reference by those OrganizationAffiliation records <em>is</em> <code>BurrClinic</code></p>",
        "id": 226577819,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1613510256
    },
    {
        "content": "<p>It's possible that there's a disconnect between the ids of things in the Organization endpoint vs. in the OrganizationAffiliation endpoint - FHIR doesn't guarantee referential integrity.</p>",
        "id": 226577933,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1613510302
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span>  thank you so much !!!</p>",
        "id": 226581024,
        "sender_full_name": "Tushar Nair",
        "timestamp": 1613511707
    }
]