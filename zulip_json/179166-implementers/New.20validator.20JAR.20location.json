[
    {
        "content": "<p>(moved here from announcement stream)</p>\n<p>I have two questions regarding the new download location for the validator JAR:</p>\n<p>1. Is there a way for non-Maven projects to automatically pull the latest release (something we have been doing with Grunt/JS) with this new setup? E.g. is a copy of the latest release also stored with a fixed filename?<br>\n2. Downloading the JAR as described from the new location (e.g. <a href=\"https://oss.sonatype.org/content/repositories/snapshots/ca/uhn/hapi/fhir/org.hl7.fhir.validation.cli/3.7.3-SNAPSHOT/org.hl7.fhir.validation.cli-3.7.3-20190131.214324-4.jar\" target=\"_blank\" title=\"https://oss.sonatype.org/content/repositories/snapshots/ca/uhn/hapi/fhir/org.hl7.fhir.validation.cli/3.7.3-SNAPSHOT/org.hl7.fhir.validation.cli-3.7.3-20190131.214324-4.jar\">this one</a>) and running it gives me the error \"no main manifest attribute, in org.hl7.fhir.validator.jar\". Might it be because the main class is not defined in the MANIFEST.MF file in the JAR (no <code>Main-Class: classname</code> entry)?</p>",
        "id": 157341132,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1549014382
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> I thought this second issue would have been an issue for me if the manifest was missing?</p>",
        "id": 157347266,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1549021558
    },
    {
        "content": "<p>the first issue, we know that this is a need, and we jaben't yet worked out a way. I don't know if any maven guru (if there is such a thing) knows of a way</p>",
        "id": 157347322,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1549021602
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194703\">@Morten Ernebjerg</span> Nexus has a Service API which allows stable Links to the latest Version:<br>\n<a href=\"https://oss.sonatype.org/service/local/artifact/maven/redirect?r=snapshots&amp;g=org.carewebframework&amp;a=org.carewebframework.fhir.validator&amp;v=LATEST&amp;e=jar\" target=\"_blank\" title=\"https://oss.sonatype.org/service/local/artifact/maven/redirect?r=snapshots&amp;g=org.carewebframework&amp;a=org.carewebframework.fhir.validator&amp;v=LATEST&amp;e=jar\">https://oss.sonatype.org/service/local/artifact/maven/redirect?r=snapshots&amp;g=org.carewebframework&amp;a=org.carewebframework.fhir.validator&amp;v=LATEST&amp;e=jar</a></p>\n<p>Docs here: <br>\n<a href=\"https://repository.sonatype.org/nexus-restlet1x-plugin/default/docs/path__artifact_maven_redirect.html\" target=\"_blank\" title=\"https://repository.sonatype.org/nexus-restlet1x-plugin/default/docs/path__artifact_maven_redirect.html\">https://repository.sonatype.org/nexus-restlet1x-plugin/default/docs/path__artifact_maven_redirect.html</a></p>",
        "id": 157349772,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1549024607
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span>  (so there is apparently such a thing as a Maven guru <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span> )</p>",
        "id": 157350247,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1549025099
    },
    {
        "content": "<p>I added this to my pom.xml to pull the new .jar</p>\n<div class=\"codehilite\"><pre><span></span>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;ca.uhn.hapi.fhir&lt;/groupId&gt;\n                                    &lt;artifactId&gt;org.hl7.fhir.validation.cli&lt;/artifactId&gt;\n                                    &lt;classifier&gt;standalone&lt;/classifier&gt;\n                                    &lt;version&gt;3.7.3-SNAPSHOT&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                    &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                    &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\n                                    &lt;destFileName&gt;org.hl7.fhir.validator.jar&lt;/destFileName&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n&lt;/plugin&gt;\n</pre></div>\n\n\n<p>Along with a new repository to pull snapshots</p>\n<div class=\"codehilite\"><pre><span></span>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;oss-snapshot-repository&lt;/id&gt;\n            &lt;name&gt;Public online repository for public SNAPSHOTS&lt;/name&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\n        &lt;/repository&gt;\n&lt;/repositories&gt;\n</pre></div>\n\n\n<p>Now the most updated validator .jar will be in the target directory next to my application .jar so that I have access</p>",
        "id": 157527884,
        "sender_full_name": "John Ravan",
        "timestamp": 1549291915
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span>. I am a little confused about the maven repos (not being a maven guru...). In the link to the latest version you gave, the org is \"carewebframework\". Is that a mirror of the standard HL7 repo (or does one need to craft a new redirect URL)? When I pull the JAR from the latest-link, I seem to get a quite different than when I manually download from the repo listed on <a href=\"http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=Using_the_FHIR_Validator\">the validator wiki page</a>(viz- <a href=\"https://oss.sonatype.org/content/repositories/snapshots/ca/uhn/hapi/fhir/org.hl7.fhir.validation.cli/\" target=\"_blank\" title=\"https://oss.sonatype.org/content/repositories/snapshots/ca/uhn/hapi/fhir/org.hl7.fhir.validation.cli/\">https://oss.sonatype.org/content/repositories/snapshots/ca/uhn/hapi/fhir/org.hl7.fhir.validation.cli/</a>). E.g. if I try to run the following type of command with the file from the latest-link</p>\n<div class=\"codehilite\"><pre><span></span>Java -jar validator/org.hl7.fhir.validation.jar -version 3.0.1 some-resource.xml\n</pre></div>\n\n\n<p>it just prints a man-page</p>\n<div class=\"codehilite\"><pre><span></span>Usage:\n  validate fhir-version encoding-type service-root resource-path\n\nWhere:\n  fhir-version  = DSTU1 | DSTU2\n  encoding-type = XML | JSON\n  service-base  = root URL of FHIR service endpoint.\n  resource-path = path of request resource.\n(...)\nHAPI-FHIR version is 1.3\n</pre></div>\n\n\n<p>If I run the same command with a version pulled by hand from the link from the wiki, I still get the  \"no main manifest attribute\" error mentioned above.</p>",
        "id": 157593170,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1549358508
    },
    {
        "content": "<p>Uh, i don't know where i got these group and artifacts ids. To get what you actually need this would be the right link: <a href=\"https://oss.sonatype.org/service/local/artifact/maven/redirect?r=snapshots&amp;g=ca.uhn.hapi.fhir&amp;a=org.hl7.fhir.validation.cli&amp;v=LATEST&amp;e=jar\" target=\"_blank\" title=\"https://oss.sonatype.org/service/local/artifact/maven/redirect?r=snapshots&amp;g=ca.uhn.hapi.fhir&amp;a=org.hl7.fhir.validation.cli&amp;v=LATEST&amp;e=jar\">https://oss.sonatype.org/service/local/artifact/maven/redirect?r=snapshots&amp;g=ca.uhn.hapi.fhir&amp;a=org.hl7.fhir.validation.cli&amp;v=LATEST&amp;e=jar</a><br>\nThe carewebframework stuff comes from regenstrief and is an outdated FHIR validator from 2016</p>",
        "id": 157593720,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1549359154
    },
    {
        "content": "<p>Thanks! - now it looks like I get the same thing (throws same error...)</p>",
        "id": 157593838,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1549359292
    },
    {
        "content": "<p>i built it locally - works fine, pushing to sonatype in the build process seems not to work currently.</p>",
        "id": 157595811,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1549361799
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 157595815,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1549361803
    },
    {
        "content": "<p><a href=\"https://www.dropbox.com/s/3s2zkq5bmyl3793/org.hl7.fhir.validation.cli-3.7.3-SNAPSHOT.jar?dl=0\" target=\"_blank\" title=\"https://www.dropbox.com/s/3s2zkq5bmyl3793/org.hl7.fhir.validation.cli-3.7.3-SNAPSHOT.jar?dl=0\">https://www.dropbox.com/s/3s2zkq5bmyl3793/org.hl7.fhir.validation.cli-3.7.3-SNAPSHOT.jar?dl=0</a></p>\n<div class=\"message_inline_ref\"><a href=\"https://www.dropbox.com/s/3s2zkq5bmyl3793/org.hl7.fhir.validation.cli-3.7.3-SNAPSHOT.jar?dl=0\" target=\"_blank\" title=\"org.hl7.fhir.validation.cli-3.7.3-SNAPSHOT.jar\"><img src=\"https://www.dropbox.com/static/images/spectrum-icons/generated/content/content-unknown-large.png\"></a><div><div class=\"message_inline_image_title\">org.hl7.fhir.validation.cli-3.7.3-SNAPSHOT.jar</div><desc class=\"message_inline_image_desc\"></desc></div></div>",
        "id": 157596801,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1549363006
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> Ooh, a present - thank you very much, runs like a charm!</p>",
        "id": 157602865,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1549369962
    },
    {
        "content": "<p>fyi <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <br>\nif you need support with the new repo and/or build process i volunteer to help</p>",
        "id": 157610016,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1549377089
    },
    {
        "content": "<p>Latest downloads are working again, thanks for fixing <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 158111545,
        "sender_full_name": "Morten Ernebjerg",
        "timestamp": 1549972512
    },
    {
        "content": "<p>great</p>",
        "id": 158118912,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1549979886
    }
]