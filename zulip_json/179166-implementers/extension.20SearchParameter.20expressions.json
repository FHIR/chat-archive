[
    {
        "content": "<p>This came up on the PlanNet track today:  if you have an extension and you'd like the value to be searchable, which of these is the right expression?<br>\n<code>Type.extension.where(url='extensionUrl')</code> or<br>\n<code>Type.extension.where(url='extensionUrl').value</code></p>",
        "id": 197612439,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487699
    },
    {
        "content": "<p>second</p>",
        "id": 197612555,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589487737
    },
    {
        "content": "<p>our server was expecting the latter, but what we found in IGs (and even base spec) is the former</p>",
        "id": 197612589,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487751
    },
    {
        "content": "<p>where in the base spec and IGs?</p>",
        "id": 197612620,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589487770
    },
    {
        "content": "<p><a href=\"https://www.hl7.org/fhir/patient-profiles.html#search\">https://www.hl7.org/fhir/patient-profiles.html#search</a> mothersMaidenName</p>",
        "id": 197612648,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487788
    },
    {
        "content": "<p>oh wait</p>",
        "id": 197612664,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487798
    },
    {
        "content": "<p>i mayube read that wrong</p>",
        "id": 197612666,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487802
    },
    {
        "content": "<p>here is the one that we ACTAULLY hit</p>",
        "id": 197612674,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487808
    },
    {
        "content": "<p><code>Practitioner.qualification.extension.where(url='http://hl7.org/fhir/uv/vhdir/StructureDefinition/practitioner-qualification').extension.where(url='whereValid')</code></p>",
        "id": 197612687,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487814
    },
    {
        "content": "<p>i tried to find a simpler one for clarity</p>",
        "id": 197612725,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487834
    },
    {
        "content": "<p>I actually like that mothersMaidenName one...it uses the fhirpath <code>extension</code> function</p>",
        "id": 197612819,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487868
    },
    {
        "content": "<p>yes that's a little more concise. Same meaning though</p>",
        "id": 197612911,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589487907
    },
    {
        "content": "<p>ok, so either one would resolve to the Extension and not the Extension.value, right?</p>",
        "id": 197612970,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487936
    },
    {
        "content": "<p>whereas we'd expect it to get all the way to the value</p>",
        "id": 197613071,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589487969
    },
    {
        "content": "<p>yes. We don't really discuss this, except for here:</p>",
        "id": 197613075,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589487972
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/searchparameter.html#srch\">http://hl7.org/fhir/searchparameter.html#srch</a></p>",
        "id": 197613107,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589487987
    },
    {
        "content": "<p>which doesn't help.</p>",
        "id": 197613121,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589487992
    },
    {
        "content": "<p>but I'd say, based on the examples, that you'll have to be able to cope with either</p>",
        "id": 197613137,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589488007
    },
    {
        "content": "<p>i have now patched our server with custom logic that says \"if the expression leads to an Extension and that Extension has a child named value, then index the value instead\"</p>",
        "id": 197613146,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589488011
    },
    {
        "content": "<p>worth opening a jira item for clarification?  or maybe we're the only ones that tripped on this?</p>",
        "id": 197613399,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589488126
    },
    {
        "content": "<p>definitely worth clarifying.</p>",
        "id": 197613466,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589488164
    },
    {
        "content": "<p><a href=\"http://jira.hl7.org/browse/FHIR-27134\">FHIR#27134</a></p>",
        "id": 197618458,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589490561
    },
    {
        "content": "<p>Just to revive this topic, we have also run into this in the Google implementation and we're planning to hack it to accept both with or without <code>.value</code> so we can accept the existing examples. +1 to implementers tripping over this.</p>",
        "id": 206491372,
        "sender_full_name": "Paul Church",
        "timestamp": 1597081987
    }
]