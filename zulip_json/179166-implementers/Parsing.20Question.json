[
    {
        "content": "<p>Greetings.  I am an experienced software engineer with beginners knowledge of FHIR and message structures.  I recently been tasked with converting a set of file extracts so I can load them into a relational DB (i.e. SQL).  I am struggling to understand how to parse these files as I am getting parsing errors.  For example, I am attempting to parse the \"Condition\" entity and I get this error: \"Exception thrown: 'Hl7.Fhir.ElementModel.StructuralTypeException' in Hl7.Fhir.Support.dll<br>\nAdditional information: Type checking the data: Encountered unknown element 'resourceId' at location 'Condition.resourceId[0]' while parsing<br>\n\"</p>\n<p>My environment is .NET and leveraging the R5 Core SDK library.  The data set's documentation indicated as \"These resources are FHIR R5 preview 2 (version 4.4) compliant.  This version may change in future releases. \".  The data is in json representation with a single extract in each folder.  Each folder represents a data entity (condition, patient,  encounter, etc).   A sample of a single line is demonstrated at the end of my message.</p>\n<p>I apologize if this is the wrong group or message board for this type of posting.  If that is the case, please direct me to the appropriate location.  Any help on this would be greatly appreciated.  If I could be directed to a good resource would be equally appreciated.</p>\n<p>Thanks<br>\nGregg</p>\n<hr>\n<p>Release Format<br>\nFHIR and FHIR+ resources are delivered in new line delimited json files (ndjson). Schema files are delivered as a text file that contains a json object.</p>\n<p>FHIR Resources<br>\nFHIR resources have the following top-level keys/values:<br>\n   resourceId – logical id, an extraction of <a href=\"http://resource.id\">resource.id</a><br>\n   resource – FHIR resource content<br>\nFurther information regarding the structure of each resource can be found by referencing the corresponding <a href=\"http://hl7.org\">hl7.org</a> FHIR schema.</p>\n<p>{<br>\n    \"resourceId\": \"{GUID}\",<br>\n    \"resource\": {<br>\n        \"abatementDateTime\": \"{DateTime}\",<br>\n        \"clinicalStatus\": {<br>\n            \"coding\": [<br>\n                {<br>\n                    \"code\": \"{integer}\",<br>\n                    \"display\": \"{condition display}\",<br>\n                    \"system\": \"{systemId}\"<br>\n                }<br>\n            ],<br>\n            \"text\": \"Resolved\"<br>\n        },<br>\n        \"code\": {<br>\n            \"coding\": [<br>\n                {<br>\n                    \"code\": \"{integer}\",<br>\n                    \"display\": \"{condition display}\",<br>\n                    \"system\": \"{systemId}\"<br>\n                }<br>\n            ],<br>\n            \"text\": \"{Symptom Description}\"<br>\n        },<br>\n        \"id\": \"{GUID}\",<br>\n        \"identifier\": [<br>\n            {<br>\n                \"system\": \"{SystemURL},<br>\n                \"type\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"code\": \"{Code Name}\",<br>\n                            \"display\": \"{Code Name}\",<br>\n                            \"system\": \"{SystemURL}\"<br>\n                        }<br>\n                    ],<br>\n                    \"text\": \"{Code Name}\"<br>\n                },<br>\n                \"use\": \"{use}\",<br>\n                \"value\": \"{Integer}\"<br>\n            },<br>\n            {<br>\n                \"system\": \"{System Id},<br>\n                \"type\": {<br>\n                    \"coding\": [<br>\n                        {<br>\n                            \"code\": \"{Code}\",<br>\n                            \"display\": \"{Display}\",<br>\n                            \"system\": \"<a href=\"http://hl7.org/v2/diagnosis-id\">http://hl7.org/v2/diagnosis-id</a>\"<br>\n                        }<br>\n                    ],<br>\n                    \"text\": \"DXID\"<br>\n                },<br>\n                \"use\": \"{use}\",<br>\n                \"value\": \"{Integer}\"<br>\n            }<br>\n        ],<br>\n        \"meta\": {<br>\n            \"lastUpdated\": \"{DateTime}\"<br>\n        },<br>\n        \"onsetDateTime\": \"{DateTime}\",<br>\n        \"resourceType\": \"Condition\",<br>\n        \"subject\": {<br>\n            \"reference\": \"{Guid}\",<br>\n            \"type\": \"Patient\"<br>\n        }<br>\n    }</p>",
        "id": 244613240,
        "sender_full_name": "Gregg Ripley",
        "timestamp": 1625166631
    },
    {
        "content": "<p>ask in <a class=\"stream\" data-stream-id=\"179171\" href=\"/#narrow/stream/179171-dotnet\">#dotnet</a> but I don't think it supports v4.4</p>",
        "id": 244614166,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1625167097
    },
    {
        "content": "<p>The Condition resource is just the \"resource\" object, not the entire JSON, so you should extract and parse only that piece</p>",
        "id": 244619206,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1625169671
    }
]