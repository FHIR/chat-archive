[
    {
        "content": "<p>Hi, </p>\n<p>I have created a transaction-bundle that contains an entry for a provenance resource. The target for this provenance is the transaction bundle itself. I have tried this on <a href=\"http://test.fhir.org/r4\">test.fhir.org/r4</a> and while the transaction response is successfully generated, I cannot seem to find the original transaction bundle. </p>\n<p>I supplied the <a href=\"http://bundle.id\">bundle.id</a> (UUID) the same as the one to be referenced in the provenance.target .</p>\n<p>Does this approach seem right?</p>\n<p>Thanks,</p>\n<p>Joel, <span class=\"user-mention\" data-user-id=\"192545\">@Alex Goel</span></p>",
        "id": 208015138,
        "sender_full_name": "Joel Francis",
        "timestamp": 1598385665
    },
    {
        "content": "<p>There's currently no mechanism for a Bundle.entry to point to the Bundle - the Provenance would need to be sent in an HTTP header.</p>",
        "id": 208016229,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1598386142
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 208016308,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1598386181
    },
    {
        "content": "<p>why not a transaction as discussed here both approaches would seem to work...</p>\n<p><a href=\"#narrow/stream/179166-implementers/topic/Provenance.20with.20target.20.3D.20Bundle\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Provenance.20with.20target.20.3D.20Bundle</a></p>",
        "id": 208019922,
        "sender_full_name": "Eric Haas",
        "timestamp": 1598387847
    },
    {
        "content": "<p>i.e  one entry = the bundle  another the provenance.</p>",
        "id": 208020038,
        "sender_full_name": "Eric Haas",
        "timestamp": 1598387897
    },
    {
        "content": "<p>but header is another option....</p>",
        "id": 208020064,
        "sender_full_name": "Eric Haas",
        "timestamp": 1598387914
    },
    {
        "content": "<p>In your example, you have a transaction for the explicit purpose to execute the $process-message command, and the Provenance.target is the message Bundle entry within the transaction. Can you have a transaction that just posts a transaction?</p>",
        "id": 208027509,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1598391567
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span>     I think the intent is here is to post a transaction to add the bundle provenance.  In my case, I  followed your advice and just added provenance for the messageheader to the bundle.</p>",
        "id": 208040766,
        "sender_full_name": "Eric Haas",
        "timestamp": 1598401505
    },
    {
        "content": "<p>Thanks all. I think we will try the X-provenance header approach.</p>",
        "id": 208093119,
        "sender_full_name": "Joel Francis",
        "timestamp": 1598449798
    },
    {
        "content": "<p>Hi,</p>\n<p>Having tried the X-provenance HTTP header and even after reading the specification, I am unclear on the outcomes. </p>\n<p>I have the custom header with the provenance in JSON format and the Transaction Bundle in the body of the POST. </p>\n<p>I have used  <a href=\"http://test.fhir.org/r4\">test.fhir.org/r4</a> and successfully posted the bundle (having received a transaction response) but there was no sign of the provenance being created in the response unlike the other resources that were successfully created. </p>\n<p>EDIT: we were able to find the provenance but none of the targets were created. I also could not find the X-Provenance support in the server metadata. Are there any servers capable of processing the provenance header???</p>\n<p>Any advice? </p>\n<p>Thank you in advance.</p>",
        "id": 208101443,
        "sender_full_name": "Joel Francis",
        "timestamp": 1598453325
    },
    {
        "content": "<p>can you create a POSTman example of what you are submitting and send it to me? I will debug on the server</p>",
        "id": 208143353,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598473253
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179166-implementers/topic/Transaction.20Bundle.20with.20Provenance/near/208143353\">said</a>:</p>\n<blockquote>\n<p>can you create a POSTman example of what you are submitting and send it to me? I will debug on the server</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  sent via messaging. Thank you</p>",
        "id": 208155347,
        "sender_full_name": "Joel Francis",
        "timestamp": 1598479684
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Do you think we could do the same transaction with a Composition? Another suggestion was to put a Bundle in a Bundle with a Provenance in the parent Bundle pointing to the child Bundle</p>",
        "id": 208840177,
        "sender_full_name": "Alex Goel",
        "timestamp": 1599059813
    },
    {
        "content": "<p>I did resolve this. I will try and get a server upgrade in place today or tomorrow</p>",
        "id": 208881164,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599077676
    }
]