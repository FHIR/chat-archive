[
    {
        "content": "<p>If we are storing a complex extension against a resource what is the correct syntax to search for that resource by the extension. An example of the extension is below</p>\n<div class=\"codehilite\"><pre><span class=\"o\">&lt;</span><span class=\"n\">patient</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;</span><span class=\"n\">extension</span> <span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s\">&quot;http://medview.com.au/fhir/StructureDefinition/patient-hospitalrecord&quot;</span> <span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">extension</span> <span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s\">&quot;http://medview.com.au/fhir/StructureDefinition/patient-unitrecord&quot;</span> <span class=\"o\">&gt;</span>\n      <span class=\"o\">&lt;</span><span class=\"n\">valueString</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">&quot;1234dr5&quot;</span> <span class=\"o\">/&gt;</span>\n    <span class=\"o\">&lt;/</span><span class=\"n\">extension</span><span class=\"o\">&gt;</span>\n    <span class=\"o\">&lt;</span><span class=\"n\">extension</span> <span class=\"n\">url</span><span class=\"o\">=</span><span class=\"s\">&quot;http://medview.com.au/fhir/StructureDefinition/hospital-name&quot;</span> <span class=\"o\">&gt;</span>\n      <span class=\"o\">&lt;</span><span class=\"n\">valueString</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s\">&quot;Austin Hospial&quot;</span> <span class=\"o\">/&gt;</span>\n    <span class=\"o\">&lt;/</span><span class=\"n\">extension</span><span class=\"o\">&gt;</span>\n  <span class=\"o\">&lt;/</span><span class=\"n\">extension</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;/</span><span class=\"n\">patient</span><span class=\"o\">&gt;</span>\n</pre></div>",
        "id": 153840830,
        "sender_full_name": "Paul Barry",
        "timestamp": 1469412448
    },
    {
        "content": "<p>To search by that you need to define a custom search parameter type, attach it to your server's conformance statement which then defines the name to use.<br>\nThen your search will use that.</p>",
        "id": 153840833,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1469412662
    },
    {
        "content": "<p>No sure why you would have that extension on the patient. If anything on an encounter, or the other item that you are referencing.</p>",
        "id": 153840835,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1469412746
    },
    {
        "content": "<p>Have heard of some wanting to do that for long term residential care where they would link to a location resource. (as basically doesn't change in their system)</p>",
        "id": 153840836,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1469412808
    },
    {
        "content": "<p>isn't that just an identifier?</p>",
        "id": 153840842,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469414537
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  yes I'm now thinking it should just be another identifer</p>\n<div class=\"codehilite\"><pre><span></span>        <span class=\"o\">&lt;</span><span class=\"n\">identifier</span><span class=\"o\">&gt;</span>\n          <span class=\"o\">&lt;</span><span class=\"n\">use</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s2\">&quot;secondary&quot;</span> <span class=\"o\">/&gt;</span>\n          <span class=\"o\">&lt;</span><span class=\"n\">extension</span><span class=\"o\">&gt;</span>\n            <span class=\"o\">&lt;</span><span class=\"n\">url</span><span class=\"o\">&gt;</span><span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">medview</span><span class=\"o\">.</span><span class=\"n\">com</span><span class=\"o\">.</span><span class=\"n\">au</span><span class=\"o\">/</span><span class=\"n\">fhir</span><span class=\"o\">/</span><span class=\"n\">StructureDefinition</span><span class=\"o\">/</span><span class=\"n\">hospital</span><span class=\"o\">-</span><span class=\"n\">name</span><span class=\"o\">&lt;/</span><span class=\"n\">url</span><span class=\"o\">&gt;</span>\n            <span class=\"o\">&lt;</span><span class=\"n\">valueString</span><span class=\"o\">&gt;</span><span class=\"n\">AustinHospital</span><span class=\"o\">&lt;/</span><span class=\"n\">valueString</span><span class=\"o\">&gt;</span>\n          <span class=\"o\">&lt;/</span><span class=\"n\">extension</span><span class=\"o\">&gt;</span>\n          <span class=\"o\">&lt;</span><span class=\"n\">extension</span><span class=\"o\">&gt;</span>\n            <span class=\"o\">&lt;</span><span class=\"n\">url</span><span class=\"o\">&gt;</span><span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">medview</span><span class=\"o\">.</span><span class=\"n\">com</span><span class=\"o\">.</span><span class=\"n\">au</span><span class=\"o\">/</span><span class=\"n\">fhir</span><span class=\"o\">/</span><span class=\"n\">StructureDefinition</span><span class=\"o\">/</span><span class=\"n\">hospitalrecord</span><span class=\"o\">-</span><span class=\"n\">createdon</span><span class=\"o\">&lt;/</span><span class=\"n\">url</span><span class=\"o\">&gt;</span>\n            <span class=\"o\">&lt;</span><span class=\"n\">valueDateTime</span><span class=\"o\">&gt;</span><span class=\"mi\">2016</span><span class=\"o\">-</span><span class=\"mo\">07</span><span class=\"o\">-</span><span class=\"mi\">25</span><span class=\"o\">&lt;/</span><span class=\"n\">valueDateTime</span><span class=\"o\">&gt;</span>\n          <span class=\"o\">&lt;/</span><span class=\"n\">extension</span><span class=\"o\">&gt;</span>\n          <span class=\"o\">&lt;</span><span class=\"n\">system</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s2\">&quot;http://medview.com.au/fhir/StructureDefinition/patient-unitrecord&quot;</span> <span class=\"o\">/&gt;</span>\n          <span class=\"o\">&lt;</span><span class=\"n\">value</span> <span class=\"n\">value</span><span class=\"o\">=</span><span class=\"s2\">&quot;23423423&quot;</span> <span class=\"o\">/&gt;</span>\n        <span class=\"o\">&lt;/</span><span class=\"n\">identifier</span><span class=\"o\">&gt;</span>\n</pre></div>\n\n\n<p>Then the search syntax would be </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"p\">[</span><span class=\"n\">base</span><span class=\"p\">]</span><span class=\"o\">/</span><span class=\"n\">Patient</span><span class=\"err\">?</span><span class=\"n\">identifier</span><span class=\"p\">:</span><span class=\"n\">exact</span><span class=\"o\">=</span><span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">medview</span><span class=\"o\">.</span><span class=\"n\">com</span><span class=\"o\">.</span><span class=\"n\">au</span><span class=\"o\">/</span><span class=\"n\">fhir</span><span class=\"o\">/</span><span class=\"n\">StructureDefinition</span><span class=\"o\">/</span><span class=\"n\">patient</span><span class=\"o\">-</span><span class=\"n\">unitrecord</span><span class=\"o\">|</span><span class=\"mi\">23423423</span>\n</pre></div>",
        "id": 153840861,
        "sender_full_name": "Paul Barry",
        "timestamp": 1469419748
    },
    {
        "content": "<p>I don't think you need extensions at all:</p>\n<div class=\"codehilite\"><pre>&lt;identifier&gt;\n  &lt;use value=&quot;secondary&quot;/&gt;\n  &lt;system value=&quot;http://medview.com.au/fhir/StructureDefinition/patient-unitrecord&quot;/&gt;\n  &lt;value value=&quot;23423423&quot;/&gt;\n  &lt;period&gt;\n    &lt;start value=&quot;2016-07-25&quot;/&gt;\n  &lt;/period&gt;\n  &lt;assigner&gt;\n    &lt;display value=&quot;Austin Hospital&quot;/&gt;\n  &lt;/assigner&gt;\n&lt;/identifier&gt;\n</pre></div>",
        "id": 153840866,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469420855
    },
    {
        "content": "<p>Great! Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> </p>",
        "id": 153840870,
        "sender_full_name": "Paul Barry",
        "timestamp": 1469423276
    },
    {
        "content": "<p>Yes, that all looks correct, I thought you were assigning a location to the patient, rather than the Identifier from other systems.</p>",
        "id": 153840871,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1469425124
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> thanks for your help!</p>",
        "id": 153840872,
        "sender_full_name": "Paul Barry",
        "timestamp": 1469426871
    }
]