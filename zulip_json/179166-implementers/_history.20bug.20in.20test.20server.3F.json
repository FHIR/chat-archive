[
    {
        "content": "<p>I may have found a bug in the <a href=\"http://test.fhir.org/r3\" target=\"_blank\" title=\"http://test.fhir.org/r3\">http://test.fhir.org/r3</a> test server related to deletion of resources - they are showing up as POSTs in history when they should be DELETE.  Steps to reproduce:</p>\n<p>POST <a href=\"http://test.fhir.org/r3/Patient\" target=\"_blank\" title=\"http://test.fhir.org/r3/Patient\">http://test.fhir.org/r3/Patient</a> - create a patient<br>\n  PUT <a href=\"http://test.fhir.org/r3/Patient/262510\" target=\"_blank\" title=\"http://test.fhir.org/r3/Patient/262510\">http://test.fhir.org/r3/Patient/262510</a> - update the patient<br>\n  PUT <a href=\"http://test.fhir.org/r3/Patient/262510\" target=\"_blank\" title=\"http://test.fhir.org/r3/Patient/262510\">http://test.fhir.org/r3/Patient/262510</a> - change something, and update the patient again<br>\n  DELETE <a href=\"http://test.fhir.org/r3/Patient/262510\" target=\"_blank\" title=\"http://test.fhir.org/r3/Patient/262510\">http://test.fhir.org/r3/Patient/262510</a> - delete the resource<br>\n  GET <a href=\"http://test.fhir.org/r3/Patient/262510/_history\" target=\"_blank\" title=\"http://test.fhir.org/r3/Patient/262510/_history\">http://test.fhir.org/r3/Patient/262510/_history</a> - get the history</p>\n<p>The top most &lt;entry&gt; is showing a POST and not a DELETE.  Also, the &lt;url&gt; does not have the resource id in the path.</p>\n<p>&lt;entry&gt;<br>\n        &lt;link&gt;<br>\n            &lt;relation value=\"audit\"/&gt;<br>\n            &lt;url value=\"AuditEvent/131883\"/&gt;<br>\n        &lt;/link&gt;<br>\n        &lt;link&gt;<br>\n            &lt;relation value=\"audit\"/&gt;<br>\n            &lt;url value=\"AuditEvent/131883\"/&gt;<br>\n        &lt;/link&gt;<br>\n        &lt;fullUrl value=\"http://test.fhir.org/r3/Patient/262510\"/&gt;<br>\n        &lt;request&gt;<br>\n            &lt;method value=\"POST\"/&gt;<br>\n            &lt;url value=\"http://test.fhir.org/r3/Patient\"/&gt;<br>\n        &lt;/request&gt;<br>\n        &lt;response&gt;<br>\n            &lt;etag value=\"W/4\"/&gt;<br>\n            &lt;lastModified value=\"2017-11-15T02:16:10.Z\"/&gt;<br>\n        &lt;/response&gt;<br>\n    &lt;/entry&gt;</p>",
        "id": 153919602,
        "sender_full_name": "Steve Munini",
        "timestamp": 1510713122
    },
    {
        "content": "<p>thanks for the bug report; fixed next time I upgrade the server</p>",
        "id": 153919609,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1510721893
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> there's a couple more bugs in the above response -- the lastModified time ends with <code>.Z</code> instead of just <code>Z</code> and the constraints for Bundle preclude having a <code>response</code> element for a Bundle of type <code>history</code> as per <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17332\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17332\">GF#17332</a></p>",
        "id": 153968652,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1528803687
    },
    {
        "content": "<p>and a third - <code>response.status</code> is mandatory</p>",
        "id": 153968653,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1528803972
    },
    {
        "content": "<p>thanks. will be fixed next time I update the server</p>",
        "id": 153968824,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1528855049
    }
]