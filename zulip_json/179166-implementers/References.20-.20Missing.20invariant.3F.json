[
    {
        "content": "<p>Looking at the reference definition here:   <a href=\"http://build.fhir.org/references.html\" target=\"_blank\" title=\"http://build.fhir.org/references.html\">http://build.fhir.org/references.html</a> <br>\nIs there an invariant missing to state that there should not be both a \"reference\" and an \"identifier\" ?</p>",
        "id": 153925925,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1513605841
    },
    {
        "content": "<p>why not both? as long as they are identifying the exact same thing...</p>",
        "id": 153925929,
        "sender_full_name": "John Moehrke",
        "timestamp": 1513606090
    },
    {
        "content": "<p>But what if they don't - which one do you go with?</p>",
        "id": 153925938,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1513606992
    },
    {
        "content": "<p>It's totally ok to have both.  Typically if a system understands Reference, it won't pay much attention to identifier, but there may be some downstream systems that can't deal with the reference and will need the identifier</p>",
        "id": 153925970,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513611924
    },
    {
        "content": "<p>It would be an error if the logical business identifier reference and the FHIR resource reference don't resolve to the same artifact though (for whatever business mechanism Reference.identifier is resolvable)</p>",
        "id": 153925971,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513611979
    },
    {
        "content": "<p>actually, this is dicussed:</p>",
        "id": 153925984,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513620689
    },
    {
        "content": "<p>When both an identifier and a literal reference are provided, the literal reference is preferred. Applications processing the resource are allowed - but not required - to check that the identifier matches the literal reference, if they understand how to resolve the logical reference.</p>",
        "id": 153925985,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513620733
    }
]