[
    {
        "content": "<p>Hello all. I posted this in the google group as well but I figured I'll pick your brains here too.</p>\n<p>we are testing HAPI on top of MSSQL in Azure in order to get a benchmark on the performance for large deployment and it seems like we hit a limit. </p>\n<p>Our server has 50K patients so far and 8 000 000 observations total.</p>\n<p>The following query works on the public FHIR server</p>\n<p><a href=\"http://hapi.fhir.org/baseDstu3/Patient?_has:Condition:subject:code=http://snomed.info/ct|73211009\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/Patient?_has:Condition:subject:code=http://snomed.info/ct|73211009\">http://hapi.fhir.org/baseDstu3/Patient?_has:Condition:subject:code=http://snomed.info/ct|73211009</a></p>\n<p>but on ours it errors out like this</p>\n<p>{<br>\n    \"resourceType\": \"OperationOutcome\",<br>\n    \"text\": {<br>\n        \"status\": \"generated\",<br>\n        \"div\": \"&lt;div xmlns=\\\"http://www.w3.org/1999/xhtml\\\"&gt;&lt;h1&gt;Operation Outcome&lt;/h1&gt;&lt;table border=\\\"0\\\"&gt;&lt;tr&gt;&lt;td style=\\\"font-weight: bold;\\\"&gt;ERROR&lt;/td&gt;&lt;td&gt;[]&lt;/td&gt;&lt;td&gt;&lt;pre&gt;The incoming request has too many parameters. The server supports a maximum of 2100 parameters. Reduce the number of parameters and resend the request.&lt;/pre&gt;&lt;/td&gt;\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\n\\t\\t\\t&lt;/tr&gt;\\n\\t\\t&lt;/table&gt;\\n\\t&lt;/div&gt;\"<br>\n    },<br>\n    \"issue\": [<br>\n        {<br>\n            \"severity\": \"error\",<br>\n            \"code\": \"processing\",<br>\n            \"diagnostics\": \"The incoming request has too many parameters. The server supports a maximum of 2100 parameters. Reduce the number of parameters and resend the request.\"<br>\n        }<br>\n    ]<br>\n}</p>\n<p>It looks like it has something to do with the 2100 parameter limit per stored procedure described here</p>\n<p><a href=\"https://docs.microsoft.com/en-us/sql/sql-server/maximum-capacity-specifications-for-sql-server?view=sql-server-2017\" target=\"_blank\" title=\"https://docs.microsoft.com/en-us/sql/sql-server/maximum-capacity-specifications-for-sql-server?view=sql-server-2017\">https://docs.microsoft.com/en-us/sql/sql-server/maximum-capacity-specifications-for-sql-server?view=sql-server-2017</a></p>\n<p>Any thoughts on how to get around it?</p>",
        "id": 157535295,
        "sender_full_name": "Veliyan Georgiev",
        "timestamp": 1549297725
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span></p>",
        "id": 157550901,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1549309563
    }
]