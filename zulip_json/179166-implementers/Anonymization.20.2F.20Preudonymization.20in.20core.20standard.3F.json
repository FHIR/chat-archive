[
    {
        "content": "<p>Anything being considered? <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> ?<br>\nI would love to try and get data for a patient, but because I don't have the right permissions (whatever is the  reason for permission being there or not) I would either get full data, or anonymized data or pseudonymized data.</p>",
        "id": 153910238,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506339256
    },
    {
        "content": "<p>Jose, I blogged on this June 2015... <a href=\"http://healthcaresecprivacy.blogspot.com/2015/06/fhir-does-not-need-deidentifytrue.html\" target=\"_blank\" title=\"http://healthcaresecprivacy.blogspot.com/2015/06/fhir-does-not-need-deidentifytrue.html\">http://healthcaresecprivacy.blogspot.com/2015/06/fhir-does-not-need-deidentifytrue.html</a></p>",
        "id": 153910279,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506343431
    },
    {
        "content": "<p>but recognize that de-identification is not something that can be well-done on a resource-by-resource basis. <a href=\"http://healthcaresecprivacy.blogspot.com/2015/02/is-it-really-possible-to-anonymize-data.html\" target=\"_blank\" title=\"http://healthcaresecprivacy.blogspot.com/2015/02/is-it-really-possible-to-anonymize-data.html\">http://healthcaresecprivacy.blogspot.com/2015/02/is-it-really-possible-to-anonymize-data.html</a></p>",
        "id": 153910280,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506343531
    },
    {
        "content": "<p>Ok. I do not think that anyone can harmonize what \"de-identification\" means at the level of a standard. As you point out, that is not at the standard level, not even at design level. It is at run level.</p>",
        "id": 153910281,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506343589
    },
    {
        "content": "<p>so, no de-identify_true on the request side. that is clear.</p>",
        "id": 153910282,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506343640
    },
    {
        "content": "<p>my wandering was more about: is there any impact on the actual response side?</p>",
        "id": 153910284,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506343668
    },
    {
        "content": "<p>I don't understand your question...</p>",
        "id": 153910285,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506343707
    },
    {
        "content": "<p>any metadata that we can use to say \"well you asked for something, but this flag tells you that you are getting partial data/de-identified dat/no data, so that you can do whatever you want there\"?</p>",
        "id": 153910286,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506343736
    },
    {
        "content": "<p>Of course there is that flag. That is within the security labels. <a href=\"http://build.fhir.org/security-labels.html\" target=\"_blank\" title=\"http://build.fhir.org/security-labels.html\">http://build.fhir.org/security-labels.html</a></p>",
        "id": 153910288,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506343874
    },
    {
        "content": "<p>There are a few to choose from, based on what is actually done  <a href=\"http://build.fhir.org/v3/ObservationValue/cs.html#v3-ObservationValue-ANONYED\" target=\"_blank\" title=\"http://build.fhir.org/v3/ObservationValue/cs.html#v3-ObservationValue-ANONYED\">http://build.fhir.org/v3/ObservationValue/cs.html#v3-ObservationValue-ANONYED</a></p>",
        "id": 153910289,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506343932
    },
    {
        "content": "<p>my example is for GDPR, but a simple one would be : If i want to get my patient's medication, and if some of that medicaiton is some especially sensitive information, say phychiatric drugs. I should not get all the medications at first, right? I should get only the ones that I can get on a normal basis, and perhaps a warning (?) to say \"there is more\" - so that i can break the glass if needed.</p>",
        "id": 153910290,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506343955
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/v3/ObservationValue/cs.html#v3-ObservationValue-PSEUDED\" target=\"_blank\" title=\"http://build.fhir.org/v3/ObservationValue/cs.html#v3-ObservationValue-PSEUDED\">http://build.fhir.org/v3/ObservationValue/cs.html#v3-ObservationValue-PSEUDED</a></p>",
        "id": 153910291,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506343955
    },
    {
        "content": "<p>just like when _summary is asked for <a href=\"http://build.fhir.org/v3/ObservationValue/cs.html#v3-ObservationValue-SUBSETTED\" target=\"_blank\" title=\"http://build.fhir.org/v3/ObservationValue/cs.html#v3-ObservationValue-SUBSETTED\">http://build.fhir.org/v3/ObservationValue/cs.html#v3-ObservationValue-SUBSETTED</a></p>",
        "id": 153910293,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344034
    },
    {
        "content": "<p>OH, you are asking about Break-Glass??? THat is a different workflow</p>",
        "id": 153910294,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344081
    },
    {
        "content": "<p>Well, the first scenario triggers break-glass. Subsetted, anonyed or Pseuded should be good.</p>",
        "id": 153910296,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506344238
    },
    {
        "content": "<p>Break-Glass has many meanings under many different workflows, so it is very hard to write a standard way for it to be done. But generally, one asks for \"N\" Normal confidentiality data, but when one suspects that there is more sensitive information that would be important for safey reasons, then one asks for \"R\" Restricted confidential data.... If you are a privileged user,  the request will be granted. Asking for \"R\" is breaking-glass.</p>",
        "id": 153910297,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344287
    },
    {
        "content": "<p>yep, but for me it is the same machine as above, operating under different rules, right?</p>",
        "id": 153910298,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506344321
    },
    {
        "content": "<p><a href=\"https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html\">https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html</a></p>",
        "id": 153910299,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344333
    },
    {
        "content": "<p>meaning, the machine that gives you the N data can operate with another parameter (can be a security label?) to get restricted data.</p>",
        "id": 153910301,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506344366
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> <a href=\"http://build.fhir.org/security-labels.html#break-the-glass\" target=\"_blank\" title=\"http://build.fhir.org/security-labels.html#break-the-glass\">http://build.fhir.org/security-labels.html#break-the-glass</a></p>",
        "id": 153910302,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1506344409
    },
    {
        "content": "<p>Yes, <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I addressed that surprise text in my blog <a href=\"https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html\">https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html</a> I am not sure that is the right solution, and it is not the work of the security committee.</p>",
        "id": 153910303,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344522
    },
    {
        "content": "<p>where do the security labels go, e.g. in my case of getting medications before breaking the glass? <br>\nIn the bundle for the response? in the patient resource? in the medication resources (which ones, if we are hiding them?)<br>\nOr in the case of an anonymized patient, would I have two patient resources, one for realPatient and another for johnDoe?</p>",
        "id": 153910304,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506344592
    },
    {
        "content": "<p>I have asked that SMART-on-FHIR include additional scopes that allow the declaration of break-glass to be sent to the OAuth decision, not as an override parameter on a request to the resource server...</p>",
        "id": 153910305,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344627
    },
    {
        "content": "<p>but, my conclusion is .. much more work is needed... need people trying this to try a bunch of things ad share their experience so that we can help others.</p>",
        "id": 153910306,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344666
    },
    {
        "content": "<p>Jose, please separate de-identification from break-glass... they are use-cases that do NOT overlap</p>",
        "id": 153910309,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344710
    },
    {
        "content": "<p>secuity labeles go into the Resource meta</p>",
        "id": 153910311,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344730
    },
    {
        "content": "<p>see <a href=\"http://build.fhir.org/security-labels.html#rsl\" target=\"_blank\" title=\"http://build.fhir.org/security-labels.html#rsl\">http://build.fhir.org/security-labels.html#rsl</a></p>",
        "id": 153910312,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344751
    },
    {
        "content": "<p>I thought that seeing something that is anonymized can trigger break-glass scenario... but ok, that is not my focus</p>",
        "id": 153910313,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506344758
    },
    {
        "content": "<p>no.. I can't even understand how that would work</p>",
        "id": 153910314,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344790
    },
    {
        "content": "<p>You ask for medications on Patient X, and I return data that has no patient... and you are then indicated that this s a break-glass opportunity?</p>",
        "id": 153910315,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344830
    },
    {
        "content": "<p>yes, they go in the resource meta - but which resource? I ask for a patient's medication. The system determines i cannot see everything. sends a bundle.</p>",
        "id": 153910316,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506344840
    },
    {
        "content": "<p>So. the solution I wrote in this thread is that you get back only results that have \"N\" as the confidentiality code..</p>",
        "id": 153910317,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344896
    },
    {
        "content": "<p>You then ask for \"R\" confidentiality code and get MORE data</p>",
        "id": 153910319,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344913
    },
    {
        "content": "<p>thus.. you broke glass when you asked for \"R\"</p>",
        "id": 153910320,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344928
    },
    {
        "content": "<p>or another scenario: get all patients with some procedure. Say I don't have consent from them all. Machine can say for this request, and this requester, the response is some anonymized results + some \"normal \" resources</p>",
        "id": 153910321,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506344934
    },
    {
        "content": "<p>How is break-glass applicable to a \"Get all patients with some procedure\"?</p>",
        "id": 153910322,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344967
    },
    {
        "content": "<p>nevermind break-glass, i am steering away from that as you asked :)</p>",
        "id": 153910323,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506344988
    },
    {
        "content": "<p>where is the danger to a patient, if you are not treating A patient?</p>",
        "id": 153910324,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506344990
    },
    {
        "content": "<p>break-glass is a mechanism to override restrictions because there is a safety risk to life</p>",
        "id": 153910325,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345016
    },
    {
        "content": "<p>so, what is your use-case????</p>",
        "id": 153910326,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345056
    },
    {
        "content": "<p>i wanted to know in which resource are the labels - in the bundle, or in the patient?</p>",
        "id": 153910327,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345060
    },
    {
        "content": "<p>as a response to \"get all patients with a procedure\", would I get a) only the \"N\" Stuff without an indication there is more? or b) The N stuff and some John Does in place of the R ones?</p>",
        "id": 153910328,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345127
    },
    {
        "content": "<p>both....   Each resource can have security labels, which is an assessment of the content of that resource... A bundle can have security labels, which is an assessment of the WHOLE content of that bundle.   A bundle might also contain security labels that are specific to the transaction, such as residual-obligations (Do not print, Do not persist, etc).</p>",
        "id": 153910329,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345156
    },
    {
        "content": "<p>ok, so if I have John Doe's, is this the same resource as the original one? Or is it another resource?</p>",
        "id": 153910330,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345210
    },
    {
        "content": "<p>so your last question is a question of POLICY... HL7 does not mandate policy, we enable many reasonable policies</p>",
        "id": 153910331,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345213
    },
    {
        "content": "<p>I presume in your use-case the persona requesting data is a \"Researcher\"... right?</p>",
        "id": 153910334,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345259
    },
    {
        "content": "<p>i am not asking what the machine should do. this is a runtime decision, what to display.</p>",
        "id": 153910335,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345263
    },
    {
        "content": "<p>so we depend on which persona it is?</p>",
        "id": 153910336,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345281
    },
    {
        "content": "<p>security and privacy?</p>",
        "id": 153910337,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345293
    },
    {
        "content": "<p>Yes!</p>",
        "id": 153910338,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345301
    },
    {
        "content": "<p>the random malicious user on the internet, gets no data at all... right?</p>",
        "id": 153910339,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345320
    },
    {
        "content": "<p>No, not for the standard. The standard should not depend on which persona. There is a machine that takes data (including which person or persona) and the standard must support that information.</p>",
        "id": 153910340,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345363
    },
    {
        "content": "<p>The standard enables many policies</p>",
        "id": 153910341,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345389
    },
    {
        "content": "<p>I would expect a standard to support a machine to calculate whatever needs to be sent, regardless of how that calculation is done.</p>",
        "id": 153910342,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345396
    },
    {
        "content": "<p>I don't understand your calculation question</p>",
        "id": 153910343,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345422
    },
    {
        "content": "<p>calculation (sorry) is \"let's see hwat this person can try to access in this context\"</p>",
        "id": 153910345,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345448
    },
    {
        "content": "<p>for example, GDPR is not persona-bound, but purpose-bound.</p>",
        "id": 153910346,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345468
    },
    {
        "content": "<p>calculation = a black box that determines whatever is the possible access, from whatever needed variables.</p>",
        "id": 153910347,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345518
    },
    {
        "content": "<p>so any malicious user can just declare that they have the purpose of surgery, and get all the access they ask for?</p>",
        "id": 153910348,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345534
    },
    {
        "content": "<p>Short answer from GDPR Art 30 compliance - Yes.</p>",
        "id": 153910349,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345573
    },
    {
        "content": "<p>I think you better look again</p>",
        "id": 153910350,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345595
    },
    {
        "content": "<p>of course you have to ensure that only people authorized to do something have the access.</p>",
        "id": 153910351,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345601
    },
    {
        "content": "<p>okay.. .so we are back to athorized peopel</p>",
        "id": 153910352,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345618
    },
    {
        "content": "<p>good</p>",
        "id": 153910353,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345619
    },
    {
        "content": "<p>access control is not what I am talking about.</p>",
        "id": 153910354,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345620
    },
    {
        "content": "<p>yes, i so wrote \"context\" . Can be the person, the persona, the purpose, the time of day.</p>",
        "id": 153910356,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345651
    },
    {
        "content": "<p>then please explain.. because it is what you are asking about in my perspecive</p>",
        "id": 153910357,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345664
    },
    {
        "content": "<p>limiting it to persona is, well, limiting.</p>",
        "id": 153910358,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506345670
    },
    {
        "content": "<p>persona is a general term</p>",
        "id": 153910360,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345685
    },
    {
        "content": "<p>You were asking about a general query \"Any patient with procedure X?\"  I was asking how this was a \"Treatment\" use-case, but it looked like a \"Research\" use-case... so I simply asked that question.</p>",
        "id": 153910364,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345868
    },
    {
        "content": "<p>I would then ask what policy is restricting access? Consent-Policy? Role-Policy? Purpose-Policy? etc...</p>",
        "id": 153910370,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506345946
    },
    {
        "content": "<p>doing a query for Any patient wih procedure X is easy... I am sure you know how to do that... The FHIR specification is clear on 'how' to do this... What seems to be the topic is how access control policy might restrict the results... so I ask about persona</p>",
        "id": 153910372,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506346034
    },
    {
        "content": "<p>I get the securiy labels, thanks.  Now let's put the asking person or persona aside. If I want to ask \"For my purpose, i need everyone that has a diagnosis of 290.3\". Say the database kows that there are 3 people, and one of them -because they are a VIP, or because they did not give consent for studies, cannot be accessed for studies.</p>",
        "id": 153910383,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506346339
    },
    {
        "content": "<p>the database knows Patient1, Patient2, Patient3,  but returns Patient1, Patient2 and JohnDoe. So, is JohnDoe a resource in the database? Or it is just on the response side?</p>",
        "id": 153910384,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506346387
    },
    {
        "content": "<p>and where do the labels reside? would you say \"some of this bundle's resources are anonymized or may be missing\"? Or would the bundle say \"here are all the results\" and each of the resources would say it is anonymized or the real thing?</p>",
        "id": 153910395,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506346590
    },
    {
        "content": "<p>the case of medication is one where there is risk in not sharing the information - if you want to do ICA check,  you should know all the medication.</p>",
        "id": 153910399,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506346702
    },
    {
        "content": "<p>back to break-the-glass - I don't believe that making a new session is a solution here. But I'm happy for the security committee to take ownership of how break the glass is actually done</p>",
        "id": 153910400,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1506346706
    },
    {
        "content": "<p>I think we need a security label of sorts in the request. IMHO, \"break the glass\" seems boolean (either there or not) and I think that we should be able to support \"Purpose for which I am asking for this information\"</p>",
        "id": 153910411,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506347044
    },
    {
        "content": "<p>Jose, Your use-case simply does not look like a Treatment use-case, so it is really hard for me to align it with break-glass. Break-glass is exclusively a Treatment use-case.</p>",
        "id": 153910448,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506350607
    },
    {
        "content": "<p>Your solution (Patient 1, Patient 2, and JohnDoe) doesn't make any logical sense to me in any kind of access. You mention a VIP or someone who didn't give consent... in those cases you simply will not be given the Patient3 data at all. I know of no such system that would try to de-identify a patient, as it is very hard to de-identify a single patient; and a de-identified patient is not appropriate for Treatment cases.</p>",
        "id": 153910450,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506350743
    },
    {
        "content": "<p>Provided you had a Policy such as you are describing, it would be a unique policy. It would not be a common policy. Thus it would be unlikely to rise to the 80% and thus unlikely to be given a standard vocabulary items. However tags can be locally defined. Within the domain that has defined the policy you speak of they could define a Tag that would be used on the Bundle to indicate that some data is de-identified, and another tag that is applied to the data of the JohnDoe patient (all the resources from that JohnDoe patient).</p>",
        "id": 153910451,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351314
    },
    {
        "content": "<p>Not giving consent for that purpose, i mean. I can give consent to many things but not for studies.</p>",
        "id": 153910452,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506351347
    },
    {
        "content": "<p>Why not?</p>",
        "id": 153910453,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351382
    },
    {
        "content": "<p>Note that the confidentiality value \"L\" indicates low risk because the data has been de-identified <a href=\"http://build.fhir.org/v3/Confidentiality/cs.html#v3-Confidentiality-L\" target=\"_blank\" title=\"http://build.fhir.org/v3/Confidentiality/cs.html#v3-Confidentiality-L\">http://build.fhir.org/v3/Confidentiality/cs.html#v3-Confidentiality-L</a></p>",
        "id": 153910454,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351410
    },
    {
        "content": "<p>no, i mean, \"patient did not give consent\" -&gt;,  \" patient did not give consent for a specific purpose\"</p>",
        "id": 153910455,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506351444
    },
    {
        "content": "<p>So, that is why I was asking about Persona... Doctor/Nurse persona --&gt; Treatment... Researcher persona --&gt; Research... Insurance-clerk --&gt; Payment...</p>",
        "id": 153910457,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351512
    },
    {
        "content": "<p>etc...</p>",
        "id": 153910458,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351522
    },
    {
        "content": "<p>PurposeOfUse is a only authorized for given persona.</p>",
        "id": 153910459,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351554
    },
    {
        "content": "<p>but purpose is on the consent resource.</p>",
        "id": 153910461,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506351607
    },
    {
        "content": "<p>as are many things</p>",
        "id": 153910462,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351621
    },
    {
        "content": "<p>should be in the request, right?</p>",
        "id": 153910463,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506351627
    },
    {
        "content": "<p>The user and functional role are part of the OAuth flow... it is up to OAuth to PERMIT or DENY...</p>",
        "id": 153910466,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351674
    },
    {
        "content": "<p>today SMART-on-FHIR does not well represent anything other than Treatment or PatientAccess</p>",
        "id": 153910467,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351704
    },
    {
        "content": "<p>I have submitted many comments on this</p>",
        "id": 153910468,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351717
    },
    {
        "content": "<p>BUT, SMART is just one security layer solution... there are others that one might choose to use... Hence why ask about Access Control system and Policy.</p>",
        "id": 153910469,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506351757
    },
    {
        "content": "<p>let me keep going down the rabbit hole, steering back to medication list: <br>\nMr X has given consent for a specific purpose. not for studies.<br>\nNurse Y asks to get the medication data for Mr X, \"for ICA checking\". System says \"sure, here you go\".<br>\nNurse Y then asks to get the medication data for Mr. X, \"for a study\". System should say \"nope\"</p>",
        "id": 153910470,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506351890
    },
    {
        "content": "<p>does that make sense?</p>",
        "id": 153910471,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506351974
    },
    {
        "content": "<p>Same case, Nurse Y asks to see a patient's medication because Mr. X is in shock. Regardless of any consent, system says \"sure, here it is\".</p>",
        "id": 153910472,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506352066
    },
    {
        "content": "<p>when you use the word \"study\" do you mean \"clinical research\"?   Specifically, a non-Treatment use-case?</p>",
        "id": 153910473,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352086
    },
    {
        "content": "<p>Anything that is not given explicit consent by the patient nor has a valid justification. Can be for clinical or non-clinical reasons.</p>",
        "id": 153910474,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506352139
    },
    {
        "content": "<p>If you can't be specific, I can't help you... We have a well defined concept (standardized) for \"Treatment\", and \"Research\". I don't know what you mean by \"study\". Your use of the word study is not clear to me. Do you mean the Treatment use of the word study, as in an \"Imaging Study\"?</p>",
        "id": 153910475,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352245
    },
    {
        "content": "<p>Billing</p>",
        "id": 153910476,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506352270
    },
    {
        "content": "<p>Okay, billing is also a well defined term \"Payment\" or \"Coverage\"</p>",
        "id": 153910478,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352299
    },
    {
        "content": "<p>see <a href=\"http://build.fhir.org/v3/PurposeOfUse/vs.html\" target=\"_blank\" title=\"http://build.fhir.org/v3/PurposeOfUse/vs.html\">http://build.fhir.org/v3/PurposeOfUse/vs.html</a></p>",
        "id": 153910479,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352362
    },
    {
        "content": "<p>which in a Request for access is an intent scope. I intend only to use the results given for \"Treatment\"...</p>",
        "id": 153910480,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352407
    },
    {
        "content": "<p>Which would be common to include in a Access Control request scope, and you would be given a scope based on your permissions.</p>",
        "id": 153910481,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352456
    },
    {
        "content": "<p>ok i get those codes, but how is the request for access? is it the GET or something that has to be persisted beforehand?</p>",
        "id": 153910482,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506352466
    },
    {
        "content": "<p>in my case, i have 3 requests. the server should have enough information to reply differently on those 3 requests</p>",
        "id": 153910483,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506352494
    },
    {
        "content": "<p>so, what is your security layer?</p>",
        "id": 153910484,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352531
    },
    {
        "content": "<p>is it SMART?</p>",
        "id": 153910485,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352540
    },
    {
        "content": "<p>or something else?</p>",
        "id": 153910486,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352545
    },
    {
        "content": "<p>because what you seek is a question of the Access Control layer, not of FHIR</p>",
        "id": 153910487,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352564
    },
    {
        "content": "<p>Ok that starts providing me an answer to one of my questions. It is on the security layer. I didn't know that you would handle diffferent cases with different access types. I would just throw everything at the FHIR server and expect it to work it out for me.</p>",
        "id": 153910488,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506352651
    },
    {
        "content": "<p>i think that makes life a bit more complicated on my end. I don't know how to expose \"purpose\" when establishing a session.</p>",
        "id": 153910489,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506352762
    },
    {
        "content": "<p>No, we are not building into FHIR core a specific access control model. Even HTML has no access control model. The access control layer is a pluggable layer that can be inserted as necessary for the policy.</p>",
        "id": 153910490,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352784
    },
    {
        "content": "<p>For example, some want to use OAuth; where others already have SAML/XACML; and others are happy with Mutually-Authenticated-TLS. I am sure there will eventually be a Blockchain model. Likely someone will even use http basic Username/Password. And many more in the future.</p>",
        "id": 153910491,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352864
    },
    {
        "content": "<p>not sure about what access control model is that.. I just wanted to see that the server knows who asked for which data for which purpose.</p>",
        "id": 153910492,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506352872
    },
    {
        "content": "<p>SMART-on-FHIR is a security layer that is trying to define some of this. Starting simple.</p>",
        "id": 153910493,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352923
    },
    {
        "content": "<p>instead of who asked for which data  and their purpose is their business.</p>",
        "id": 153910494,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506352927
    },
    {
        "content": "<p>Did you provide these kind of comments to the SMART-on-FHIR ballot?</p>",
        "id": 153910495,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506352954
    },
    {
        "content": "<p>so, my takeout: I do not know how to convey \"purpose of processing\" in a request for data. Perhaps that is for Smart-on-FHIR.<br>\nI also do not know how i would see \"we know that this patient is using 5 medications, but because this person did not provide the right purpose, we'll let him know about 3 of those\".</p>",
        "id": 153910496,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506353066
    },
    {
        "content": "<p>oh and i would have gladly provide comments on the SMART-ON-FHIR if only i had known it existed before today :)</p>",
        "id": 153910497,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506353103
    },
    {
        "content": "<p>i am just checking some aspects in the API that could be helpful for GDPR</p>",
        "id": 153910498,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506353160
    },
    {
        "content": "<p>It was in the September ballot <a href=\"http://www.hl7.org/fhir/smart-app-launch/index.html\" target=\"_blank\" title=\"http://www.hl7.org/fhir/smart-app-launch/index.html\">http://www.hl7.org/fhir/smart-app-launch/index.html</a></p>",
        "id": 153910499,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353341
    },
    {
        "content": "<p>And I think what you are asking for is stepping-stones beyond where they are trying to address today.</p>",
        "id": 153910500,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353362
    },
    {
        "content": "<p>translate stepping-stones?</p>",
        "id": 153910501,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506353385
    },
    {
        "content": "<p>small steps on the pathway to a large journey.</p>",
        "id": 153910502,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353426
    },
    {
        "content": "<p>thanks.</p>",
        "id": 153910503,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506353437
    },
    {
        "content": "<p>today they address only Providers accessing for Treatment, and Patients accessing for their own PatientAccess purpose.</p>",
        "id": 153910504,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353450
    },
    {
        "content": "<p>so today they don't have PurposeOfUse, they don't have Break-Glass, they don't have Research, etc...</p>",
        "id": 153910505,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353474
    },
    {
        "content": "<p>in any case, for me purpose of processing and access control are different beasts.</p>",
        "id": 153910506,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506353484
    },
    {
        "content": "<p>All of that is advanced stuff well beyond first generation of any access control sysstem</p>",
        "id": 153910507,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353490
    },
    {
        "content": "<p>purpose of processing -- you mean PurposeOfUse? If so, this is a critical part of Access Control.</p>",
        "id": 153910508,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353549
    },
    {
        "content": "<p>oh and isn't \"break-the-glass\" another purpose? I don't feel comfortable if it is boolean..but I can't pinpoint why.</p>",
        "id": 153910509,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506353556
    },
    {
        "content": "<p>Yes, break-glass is sometimes implemented using PurposeOfUse - Emergency... but not always</p>",
        "id": 153910510,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353588
    },
    {
        "content": "<p>yes, purpose of processing in GDPR can be \"Purpose of Use\" and \"Purpose of exchange\"</p>",
        "id": 153910511,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506353594
    },
    {
        "content": "<p>again.. Policy</p>",
        "id": 153910512,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353594
    },
    {
        "content": "<p>Again.. I have blogged on that topic <a href=\"https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html\">https://healthcaresecprivacy.blogspot.com/2015/12/break-glass-on-fhir-solution.html</a></p>",
        "id": 153910513,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353652
    },
    {
        "content": "<p>and scopes <a href=\"https://healthcaresecprivacy.blogspot.com/2016/01/fhir-oauth-scope.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2016/01/fhir-oauth-scope.html\">https://healthcaresecprivacy.blogspot.com/2016/01/fhir-oauth-scope.html</a>   and   <a href=\"https://healthcaresecprivacy.blogspot.com/2017/05/fhir-oauth-scope-proposal-using-fhir.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2017/05/fhir-oauth-scope-proposal-using-fhir.html\">https://healthcaresecprivacy.blogspot.com/2017/05/fhir-oauth-scope-proposal-using-fhir.html</a></p>",
        "id": 153910514,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506353787
    },
    {
        "content": "<p>I think we are disregarding the possibility that a resource (e.g. Observation)  may \"contain\"  the \"subject\"  Patient or Person resource. In that case the observation is effectively \"identified\". We need to specify a caveat for resource with contained references to Patient, Person, etc. <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  could you weigh in? Do we need to clarify the statemed \"FHIR resources do not require de-identification\" to  \"FHIR resources do not require de-identification <em>unless</em> the Patient or Person resource is 'contained' in that resource and thus accessible to clients\".</p>",
        "id": 153910806,
        "sender_full_name": "Ioana Singureanu",
        "timestamp": 1506458792
    },
    {
        "content": "<p>Ioana, It is necessary but not sufficient to remove Direct Identifiers. Many failed de-identification efforts are  due to the Indirect Identifiers (aka Quasi Identifiers). These are much harder to deal with.  <a href=\"http://healthcaresecprivacy.blogspot.com/2015/02/is-it-really-possible-to-anonymize-data.html\" target=\"_blank\" title=\"http://healthcaresecprivacy.blogspot.com/2015/02/is-it-really-possible-to-anonymize-data.html\">http://healthcaresecprivacy.blogspot.com/2015/02/is-it-really-possible-to-anonymize-data.html</a></p>",
        "id": 153910814,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506459326
    },
    {
        "content": "<p>Note that Security WG does have a CR asking for something specific to be said on De-Identification. We will provide, but recognize that all that can be done is to show the need for De-Identification, which is a Process.  See my blog topic page for many articles on De-Identification <a href=\"https://healthcaresecprivacy.blogspot.com/p/topics.html#DEID\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/p/topics.html#DEID\">https://healthcaresecprivacy.blogspot.com/p/topics.html#DEID</a></p>",
        "id": 153910816,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506459445
    },
    {
        "content": "<p>See <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10581\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10581\">GF#10581</a> and related <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10580\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10580\">GF#10580</a>... unfinished CR, but glad to receive feedback and recommendations we can consider.</p>",
        "id": 153910817,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506459511
    },
    {
        "content": "<p>\"subject\" can't ever be Person - Person is only for linking.  And you could have an anonymized/pseudonymized Patient instance that was contained (perhaps just specifying gender and birth year, for example).</p>",
        "id": 153910861,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1506483809
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191968\">@Ioana Singureanu</span>  explained elsewhere that she was expressing a hidden risk that might not be detected when one presumes that they can just replace the Subject reference with a pseudonym. That is the previous Subject may have been pointing to a \"Contained\" resource, that one must extract out. A good point!</p>",
        "id": 153910982,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506521081
    },
    {
        "content": "<p>I have also just published an article on Bulk De-Identification  <a href=\"https://healthcaresecprivacy.blogspot.com/2017/09/fhir-and-bulk-de-identification.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2017/09/fhir-and-bulk-de-identification.html\">https://healthcaresecprivacy.blogspot.com/2017/09/fhir-and-bulk-de-identification.html</a></p>",
        "id": 153910983,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506521119
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192087\">@Avinash Shanbhag</span> - John's article talks about the lack of well described use cases - can ONC publish a description of the use cases for bulk data access somwhere?</p>",
        "id": 153911106,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1506550341
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-id=\"192087\">@Avinash Shanbhag</span> - John's article talks about the lack of well described use cases - can ONC publish a description of the use cases for bulk data access somwhere?</p>\n</blockquote>\n<p>Hi Guys - Yes,  for folks that attended the ONC hosted Interoperability Forum in Aug, Dr. Rucker described the use of bulk access.  Briefly, the idea is that Institutions that purchase or provide healthcare for their employees etc; would be able to to use the information (thru appropriate contracts with provider organizations) to manage healthcare more effectively.</p>",
        "id": 153911121,
        "sender_full_name": "Avinash Shanbhag",
        "timestamp": 1506556381
    },
    {
        "content": "<p>Sorry, hit enter too soon. I wanted to end by saying that, yes, we will work to develop a use case to share with FHIR community. It might take some time, so wanted to provide high level thoughts, above.</p>",
        "id": 153911122,
        "sender_full_name": "Avinash Shanbhag",
        "timestamp": 1506556441
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192087\">@Avinash Shanbhag</span>  That use-case has many challenges with current USA privacy law, both Federal and State. It does not address questions of Privacy-Consent, Sensitive Health topics, PurposeOfUse, Role/User authorization management, etc...</p>",
        "id": 153911232,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506603761
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"lloyd@lmckenzie.com\" data-user-id=\"14\">@Lloyd McKenzie</span>, from your comment, would it make sense to have a real patient (for all allowed purposes) and an anonymized patient (for all purposes where identifiable information cannot be seen), with some eventual link between those?</p>",
        "id": 153911635,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506947858
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> There are pseudonymization mechanisms, often used in clinical research where at the end of a study at-risk patients need to be contacted.  The linkage would be done by a trusted-third-party that everyone trusts to not inappropriately expose the linkage. They might use any means they want, as it is an internal responsibility.</p>",
        "id": 153911664,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506948921
    },
    {
        "content": "<p>Indeed, that is what I expect (although there seems to be dome debate on it by the DPAs). The question is: would we then have two patient resources, one being de-identified?</p>",
        "id": 153911668,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506949281
    },
    {
        "content": "<p>and if we do use two patient resources, one identifed, and another de-identified, would a link between them be part of FHIR specification? Or would that be an attribute like an external identifier?</p>",
        "id": 153911672,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506949377
    },
    {
        "content": "<p>but main question is whether we'd have those 2 patient resources or if there are other, more clever ways to do this</p>",
        "id": 153911674,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506949443
    },
    {
        "content": "<p>To be clear, if you have de-identified data; you have a shadow of the data. ALL identifiers are different. not just the .subject element.  There might be careful API that re-writes all these identifiers for specific use-cases... this is what I defined in my service blog <a href=\"https://healthcaresecprivacy.blogspot.com/2017/09/fhir-and-bulk-de-identification.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2017/09/fhir-and-bulk-de-identification.html\">https://healthcaresecprivacy.blogspot.com/2017/09/fhir-and-bulk-de-identification.html</a></p>",
        "id": 153911685,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506949966
    },
    {
        "content": "<p>so there could be a shadow of the patient resource, right?</p>",
        "id": 153911686,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506950038
    },
    {
        "content": "<p>There would be TWO databases!!!</p>",
        "id": 153911688,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506950152
    },
    {
        "content": "<p>ok, then we have different patients and different resources. Of course the next question is: Is there a link between them?<br>\n Whether/How do you break the glass to get from DB2 to DB1. Or how you handle that updates and merges on DB1 would propagate to DB2.</p>",
        "id": 153911689,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506950272
    },
    {
        "content": "<p>Again, you bring up break-glass...... are you using de-identified to TREAT patients?  NOOOOOOO</p>",
        "id": 153911690,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506950307
    },
    {
        "content": "<p>i don't really understand the gap between identified and non-identified data. My question is how do you handle the sync between DB1 and DB2</p>",
        "id": 153911691,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506950365
    },
    {
        "content": "<p>trusted third party</p>",
        "id": 153911692,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506950380
    },
    {
        "content": "<p>like the service I defined in my blog article <a href=\"https://healthcaresecprivacy.blogspot.com/2017/09/fhir-and-bulk-de-identification.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2017/09/fhir-and-bulk-de-identification.html\">https://healthcaresecprivacy.blogspot.com/2017/09/fhir-and-bulk-de-identification.html</a></p>",
        "id": 153911693,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506950398
    },
    {
        "content": "<p>and the resource has what to allow  that? an ID?</p>",
        "id": 153911694,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506950403
    },
    {
        "content": "<p>a pseudo -- ID</p>",
        "id": 153911695,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506950425
    },
    {
        "content": "<p>stands in for any real-ID</p>",
        "id": 153911696,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506950438
    },
    {
        "content": "<p>where the trusted third party is the ONLY one that knows the cross-reference</p>",
        "id": 153911697,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506950455
    },
    {
        "content": "<p>so, de-identified patient 1 resource has an ID and someone knows that this ID actually matches the ID from \"real\" patient 1</p>",
        "id": 153911698,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506950484
    },
    {
        "content": "<p>yes.. the trusted-third-party...</p>",
        "id": 153911699,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506950515
    },
    {
        "content": "<p>i am assuming these IDs are external IDs and nor resource IDs, but doesn't make a difference.</p>",
        "id": 153911700,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506950540
    },
    {
        "content": "<p>well, resource IDs are identifiers and must be replaced with some pseudo identifier so-that they can't be used to identify the patient.</p>",
        "id": 153911701,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506950652
    },
    {
        "content": "<p>Trying to design a complex system in zulip chat is not productive. The science of de-identification is deep, there are many standards and studies in the space. Far more failed projects that didn't do it right...  But also methods that can help automate it. These methods will evolve.  I laid out a systems design that looked at how to use Privacy-By-Design to create a privacy enforcing data lake of FHIR.   <a href=\"https://healthcaresecprivacy.blogspot.com/2016/07/privacy-by-design-data-analytics.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2016/07/privacy-by-design-data-analytics.html\">https://healthcaresecprivacy.blogspot.com/2016/07/privacy-by-design-data-analytics.html</a></p>",
        "id": 153911708,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506950938
    },
    {
        "content": "<p>ok, i am aiming at a de-identified data lake.</p>",
        "id": 153911709,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506951019
    },
    {
        "content": "<p>(in terms of your article)</p>",
        "id": 153911710,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506951041
    },
    {
        "content": "<p>They really don't yet exist... It was one thing I was working on at GE before they laid me off...  I think there are some new efforts... But I will emphasis that this is a 'systems design' question, not a core FHIR model question...</p>",
        "id": 153911713,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506951303
    },
    {
        "content": "<p>my question was whether we'd have 2 patient resources, one in the operational data, another in the de-identified data lake.</p>",
        "id": 153911714,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506951343
    },
    {
        "content": "<p>and if so, where would the link be. Not by whom (don't care about the third party) but which identifier could be used.</p>",
        "id": 153911715,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506951376
    },
    {
        "content": "<p>Again... systems-design question.... Logically you have TWO FULL databases... Neither knows of the other.</p>",
        "id": 153911716,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506951403
    },
    {
        "content": "<p>yep, but i don't care about the db design. I wondered if there would be an attribute in the resources for that.</p>",
        "id": 153911717,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506951436
    },
    {
        "content": "<p>Ola Jose,<br>\nyou would have 2 different patient resources, the identifier of the de-identified resource would be the pseudonym.</p>",
        "id": 153911718,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1506951439
    },
    {
        "content": "<p>the link will be your TTP, they have a list Pseudonym &lt;-&gt; real Identifier</p>",
        "id": 153911719,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1506951474
    },
    {
        "content": "<p>If I am in project ( A ), I better not be able to look at the identifiers (any form of identifier) or extensions in the data  I am given and find anything that I can use to link to project ( B )</p>",
        "id": 153911720,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506951488
    },
    {
        "content": "<p>yes, patrick, that is what I am seeing. It is an external identifier, right?</p>",
        "id": 153911721,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506951495
    },
    {
        "content": "<p>its just the identifier of the resource</p>",
        "id": 153911722,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1506951512
    },
    {
        "content": "<p>i would rather use patient.identifier, and not patient._id</p>",
        "id": 153911723,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506951553
    },
    {
        "content": "<p>If I am in project ( A ), and talk to my friend who is running project ( B ).... we better not be able to identify the same patients</p>",
        "id": 153911724,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506951569
    },
    {
        "content": "<p>Thus ALLLLLLL identifiers of any kind must be changed... Not just the Patient</p>",
        "id": 153911725,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506951611
    },
    {
        "content": "<p>I get it John, we can have different resources for all data.</p>",
        "id": 153911727,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506951661
    },
    {
        "content": "<p>since I wanted strong pseudonymization, i needed toask about the link back to the patient in case that would be needed.</p>",
        "id": 153911728,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506951697
    },
    {
        "content": "<p>I think you are asking 'how does one re-identify the patient given a pseudonym?'   This is an intereaction with the trusted-third-party, where you convince the trusted-third-party that you have justifiable need that is allowed under the terms (policy). Provided it is authorized, then you would be given the real Patient resource that is associated with that pseudomyn.  You might be given bulk access to all the data for that patient, under specific conditions (policy).</p>",
        "id": 153911729,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506951924
    },
    {
        "content": "<p>i thnk using third-party is actually part of the design.</p>",
        "id": 153911730,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506951960
    },
    {
        "content": "<p>Read any academic paper, and you will find that is the general solution.... There are more elegant designs of this trusted-third-party, that make it look less clunky, but it ultimately exists.</p>",
        "id": 153911731,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506952093
    },
    {
        "content": "<p>I can't express all the designs on a zulip chat discussion...</p>",
        "id": 153911732,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506952202
    },
    {
        "content": "<p>Good standards exist, there are companies that will execute these procedures, there are platforms that contain various tools... I have hope that we will define something for FHIR eventually. Like DICOM has achieved. But it takes a level of maturity of the standard, and maturity of the use-cases...   <a href=\"https://healthcaresecprivacy.blogspot.com/p/topics.html#DEID\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/p/topics.html#DEID\">https://healthcaresecprivacy.blogspot.com/p/topics.html#DEID</a></p>",
        "id": 153911734,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506952439
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> reading some academic papers about pseudonymization as proposed by John is a good idea. You can do so many details wrong. And there were a lot o famous cases where pseudonymization was broken due to its bad design.<br>\nIt is not only about the Identifiers of all resources, its also about identifiying data fields which are part of the resource. This is not only the name or adress but could be potentially anything.</p>",
        "id": 153911756,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1506953809
    },
    {
        "content": "<p><a href=\"https://en.wikipedia.org/wiki/K-anonymity\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/K-anonymity\">https://en.wikipedia.org/wiki/K-anonymity</a><br>\nis really important in that context</p>",
        "id": 153911757,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1506953819
    },
    {
        "content": "<p>thanks. Actually this discussion has gone far away from my initial point - which, granted, was an open question.</p>",
        "id": 153911758,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506953901
    },
    {
        "content": "<p>point was: whether we have one patient in the core standard and everything else is out of scope, or if we can consider de-identified resources, and whether the standard handles that.</p>",
        "id": 153911761,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954024
    },
    {
        "content": "<p>i don't think the answer to that should depend on the architecture of the datalake, or the eventual link being by a third party or not.</p>",
        "id": 153911763,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954072
    },
    {
        "content": "<p>and whether that is used for break the glass or not, that is also another question. At least in my mind.</p>",
        "id": 153911765,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954104
    },
    {
        "content": "<p>For GDPR at least, we have to deal with several attributes so that the target group is never less than 5 people</p>",
        "id": 153911770,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954296
    },
    {
        "content": "<p>so yes, we also have to deal with that.</p>",
        "id": 153911771,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954306
    },
    {
        "content": "<p>i was not after a de-identification design</p>",
        "id": 153911772,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954325
    },
    {
        "content": "<p>Well that gets to my initial question... What problem are you trying to solve...</p>",
        "id": 153911776,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506954422
    },
    {
        "content": "<p>a big problem, of which i was wondering if there was anyting in the standard</p>",
        "id": 153911777,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954455
    },
    {
        "content": "<p>meaning, a problem that includes system design, and i did not expose, and a problem that touches many areas, and i could not expose as well.</p>",
        "id": 153911778,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954485
    },
    {
        "content": "<p>When you lead with \"will solution X solve my problem\" and you never expose what the \"problem\" is... all you are going to create is discussion churn...</p>",
        "id": 153911779,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506954546
    },
    {
        "content": "<p>i was focusing on whether our resources could support anonymization or ot, in any way</p>",
        "id": 153911780,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1506954570
    },
    {
        "content": "<p>Yes, the FHIR design methodology does support de-identification. It is not as mature as DICOM, but the essential parts are there. That which is missing is something that will take maturity of the standard to happen first.</p>",
        "id": 153911789,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506955064
    },
    {
        "content": "<p>note, your thread has inspired the security wg to add narrative.. which I will be applying to the current build soon. See <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10581\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10581\">GF#10581</a></p>",
        "id": 153911791,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506955176
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> On issue that this discussion brings up, and which I don't see in the tracker item, is the recognition that the resource ids (not identifiers) are identifiable information. Obscuring/subsetting/redacting  data in the resources is useless if the same resource ids are maintained.</p>",
        "id": 153911838,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1506961779
    },
    {
        "content": "<p>That is a factual statement. Where do you think it should be said?</p>",
        "id": 153911839,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506962296
    },
    {
        "content": "<p>Yes, it is a statement of fact, but one that could be overlooked. From the tracker:<br>\nDiscussion: With the Observation Resource, one would remove the subject element as it is a Direct Identifier. However there are many other Reference elements that can easily be used to navigate back to the Subject; e.g., Observation.context value of Encounter or EpisodeOfCare; or Observation.performer.   <strong>Further, if the client has the Observation id, by presenting different credentials they might be able get a different view on the same resource.</strong></p>",
        "id": 153911841,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1506963037
    },
    {
        "content": "<p>Hmm, don't like it, and it doesn't quite cover the issue.</p>",
        "id": 153911842,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1506963072
    },
    {
        "content": "<p>that CR is just adding a hint at the S&amp;P Module page. It is careful to not indicate that it is comprehensive... thus I am not sure that this is the time or place to get that detailed.</p>",
        "id": 153911843,
        "sender_full_name": "John Moehrke",
        "timestamp": 1506963974
    },
    {
        "content": "<blockquote>\n<p>whether we have one patient in the core standard and everything else is out of scope, or if we can consider de-identified resources, and whether the standard handles that</p>\n</blockquote>",
        "id": 153911961,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1506997996
    },
    {
        "content": "<p>I think I lost track of this because I don't understand this bit.</p>",
        "id": 153911962,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1506998007
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> it was about whether there was any guidance/preference/explicit support for any de-identification approach: iay we need to de-identify Patient 1's data, does this mean that a) the de-identification would be completely out of the standard, or if b) implementers could have a new patient called Anonymous1 and work with that, and use identifiers to make the link to the original patient (in whatever case that would be needed), and if any of these things would trigger any possible changes</p>",
        "id": 153912090,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1507057809
    },
    {
        "content": "<p>ok. well, there are multiple ways to implement it, but I don't think that any of them need support from the spec. The bulk data interface is one placewhere it would be pretty useful to add deidentify=true as a parameter, on the basis that the server could de-identify but maintain longitudinal coherence from query to query, but as John has pointed out, doing de-identification is really hard</p>",
        "id": 153912131,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1507061449
    },
    {
        "content": "<p>Jose, a FHIR Server, as a server of data in FHIR format, could be holding some patient data (Patient, Observation, Medicat...) that are fully clinical quality and identifiable; and also other data that are de-identified; and other data that is purely fabricated as test data.  Is this what you are asking? Are you asking if this is possible? If so, then yes it is.  This is the topic of a Security WG <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10580\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10580\">GF#10580</a> that we would welcome your input to. This is a request to explain 'at least one' way this can be done.</p>",
        "id": 153912166,
        "sender_full_name": "John Moehrke",
        "timestamp": 1507063680
    },
    {
        "content": "<p>No, i just replied to explain my previous question. My initial purpose was to see whether among all these options (which are clear) there would be something in the standard to support the actual implementation.</p>",
        "id": 153912167,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1507063871
    },
    {
        "content": "<p>I do have to consider test data in light of a GDPR implementation and will contribute. But for now I am looking at de-identification for large bits of  data.</p>",
        "id": 153912169,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1507064007
    },
    {
        "content": "<p>I don't know if the topic was in this chat stream, but IMO, data that is de-identified to a point that you cannot re-identify it alone, is effectively anonymized, right? In other words, if you de-identify a patient and give the identification key to someone else, then for you, that patient is anonymized, right?</p>",
        "id": 153912170,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1507064169
    },
    {
        "content": "<p>The security wg has added a bit of a section on De-Identification / Pseudonymization / anonymization.  <a href=\"http://build.fhir.org/secpriv-module.html#deId\" target=\"_blank\" title=\"http://build.fhir.org/secpriv-module.html#deId\">http://build.fhir.org/secpriv-module.html#deId</a></p>",
        "id": 153924633,
        "sender_full_name": "John Moehrke",
        "timestamp": 1513118422
    },
    {
        "content": "<p>that section should mention text narrative and documents</p>",
        "id": 153924639,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513119961
    },
    {
        "content": "<p>good catch. I don' know how I missed that. It is however in ALL of the further standards.. :-)  Can you enter a CR ?</p>",
        "id": 153924644,
        "sender_full_name": "John Moehrke",
        "timestamp": 1513120451
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14312\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14312\">GF#14312</a></p>",
        "id": 153924645,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513120781
    },
    {
        "content": "<p>Very small followup in this older thread. Suppose I want to send an anonymized Procedure, which has a Procedure.subject 1..1. What do I do? Would this do given that \"At least one of reference, identifier and display SHALL be present (unless an extension is provided).\"</p>\n<div class=\"codehilite\"><pre><span></span>&lt;subject&gt;\n    &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor&quot;&gt;\n        &lt;valueCode value=&quot;MSK&quot;/&gt;\n    &lt;/extension&gt;\n&lt;/subject&gt;\n</pre></div>\n\n\n<p>Or would it be better to include &lt;display/&gt; just to make sure you don't trip systems?</p>\n<div class=\"codehilite\"><pre><span></span>&lt;subject&gt;\n    &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor&quot;&gt;\n        &lt;valueCode value=&quot;MSK&quot;/&gt;\n    &lt;/extension&gt;\n    &lt;display value=&quot;masked&quot;/&gt;\n&lt;/subject&gt;\n</pre></div>",
        "id": 153959414,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1526197975
    },
    {
        "content": "<p>The second is better because it provides both a computable representation for those who understand it and something useful for systems that don't recognize the extension.</p>",
        "id": 153959437,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1526199640
    },
    {
        "content": "<p>This is fine if you are masking... If however you are using pseudonymization, then you could put the pseudo identifier in. And since this is a Resource you can put it in as just the identifier. The MSK should also appear in the resource meta to indicate it is not whole.</p>",
        "id": 153959832,
        "sender_full_name": "John Moehrke",
        "timestamp": 1526229292
    },
    {
        "content": "<p>Created in wrong spot.<br>\nRaised new topic here - <a href=\"#narrow/stream/179252-IG-creation/topic/Constraints.20on.20Reference/near/171493449\" title=\"#narrow/stream/179252-IG-creation/topic/Constraints.20on.20Reference/near/171493449\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Constraints.20on.20Reference/near/171493449</a></p>",
        "id": 171492495,
        "sender_full_name": "Vikas Mittal",
        "timestamp": 1563862292
    }
]