[
    {
        "content": "<p><a href=\"http://build.fhir.org/search.html#reference\">http://build.fhir.org/search.html#reference</a> lists three reference search formats:</p>\n<div class=\"codehilite\"><pre><span></span><code>[parameter]=[id] the logical [id] of a resource using a local reference (i.e. a relative reference)\n[parameter]=[type]/[id] the logical [id] of a resource of a specified type using a local reference (i.e. a relative reference), for when the reference can point to different types of resources (e.g. Observation.subject)\n[parameter]=[url] where the [url] is an absolute URL - a reference to a resource by its absolute location, or by it&#39;s canonical URL\n</code></pre></div>\n\n\n<p>SHALL a server support all three formats?</p>",
        "id": 199370898,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1591019205
    },
    {
        "content": "<p>SHALL but WON'T</p>",
        "id": 199371025,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1591019266
    },
    {
        "content": "<p>Why not? Seems like standard reference search.</p>",
        "id": 199377034,
        "sender_full_name": "Paul Church",
        "timestamp": 1591022493
    },
    {
        "content": "<p>Patchy implementation</p>",
        "id": 199382538,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1591025159
    },
    {
        "content": "<p>Having three ways to specify the same thing does not help with that of course</p>",
        "id": 199382626,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1591025181
    },
    {
        "content": "<p>Here is a different search question about how to resolve absolute references (external from the server's URL base).</p>\n<p>Suppose condition resources were on <strong>http://server-a</strong>, and patient resources <strong>http://server-b</strong> .. if I  <code>GET http://server-a/Condition?_include=Condition:subject</code> shall I expect server-a to follow the condition's references, querying server-b, and combine the results? Or is it an expectation that during search, a server only resolves references to resources it manages?</p>",
        "id": 206093111,
        "sender_full_name": "Brian Kaney",
        "timestamp": 1596673358
    },
    {
        "content": "<p>I wouldn't expect a server to call another server on your behalf.</p>\n<p>There is language in _include that suggests that it won't: \"If there is no reference, or no matching resource, the resource cannot be retrieved (e.g. on a different server), then the resource is omitted, and no error is returned.\"</p>",
        "id": 206093586,
        "sender_full_name": "Paul Church",
        "timestamp": 1596673927
    },
    {
        "content": "<p>Ah, I missed the parenthetical example in the docs. Thanks <span class=\"user-mention\" data-user-id=\"197072\">@Paul Church</span>  Maybe this should be called out more directly in the spec?</p>",
        "id": 206093909,
        "sender_full_name": "Brian Kaney",
        "timestamp": 1596674333
    },
    {
        "content": "<p>The spec doesn't really exclude the possibility that the server might recognize and follow <em>some</em> URLs - maybe they're public, or a known entity (e.g. part of the same organization).</p>",
        "id": 206094703,
        "sender_full_name": "Paul Church",
        "timestamp": 1596675209
    },
    {
        "content": "<p>I see. Maybe the server's capability statement (in the search operation section) could specify if it follows external references? Or what base URLs it will consider following?</p>",
        "id": 206095185,
        "sender_full_name": "Brian Kaney",
        "timestamp": 1596675810
    },
    {
        "content": "<p>it is server discretion on this. We haven't been asked about saying something in the capability statement but it seems reasonable - do you want to make a jira task on this?</p>",
        "id": 206095387,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1596676028
    }
]