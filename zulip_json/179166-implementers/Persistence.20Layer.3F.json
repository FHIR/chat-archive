[
    {
        "content": "<p>My team is tasked with implementing <a href=\"https://build.fhir.org/ig/HL7/carin-bb/CapabilityStatement-c4bb.html\">https://build.fhir.org/ig/HL7/carin-bb/CapabilityStatement-c4bb.html</a> for CMS interoperability ruling.<br>\nThe direction that we have taken is building a FHIR facade.<br>\nWe are assuming that we only need to support Read/Search operations outlined in this CapabilityStatement, and not so much Update/Delete operations.</p>\n<p>Our organization <strong>does not have a persistence layer for our fhir data</strong>.  We expose our data internally via microservices.</p>\n<p>Without a persistence layer, how would we support the \"read\" operation?<br>\nDo facades really need a persistence layer?<br>\nShould we attempt to migrate the data that we need into a single DB?</p>",
        "id": 222647596,
        "sender_full_name": "JA",
        "timestamp": 1610573024
    },
    {
        "content": "<p>You need stable ids associated to each FHIR resource you generate. This can be the internal ids of the 'microservices'</p>",
        "id": 222649130,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1610573744
    },
    {
        "content": "<p>Correct, you need to persist the additional FHIR specific data, at least as much is requested in the guide.</p>",
        "id": 222649805,
        "sender_full_name": "Frank Oemig",
        "timestamp": 1610574114
    },
    {
        "content": "<p>We have to make a distinction between a requirement to support the read operation, and a requirement to support long-lived unique identifiers. If one supports the use of temporary ids only, then read as-such will work, but there won't be anything that one could read. From a formal perspective the system would support a read however.<br>\nMicroservices typically don't expose any things such as ids or primary keys. Given that this is a read-only facade, one could try and leverage business identifiers, and use a (hashed version of) these identifiers as your id. If the backend is well managed you wouldn't have any duplicates (records with the same business identifier). If patients have .identifier 123, and Patients are known (in Pdex) to have only 1 resource X, then the id of X can also be based on the patient.identifier. If not, one can used contained resources. One SHOULD attempt to support read in the spirit of how it was intended in FHIR, and use long-lived resource.ids. But if one can't, then one just has the strategy to assign temporary urn:uuids and therefore one renders the read operation (for those resources) quite useless.</p>",
        "id": 222687114,
        "sender_full_name": "René Spronk",
        "timestamp": 1610610281
    },
    {
        "content": "<p>René is correct from a philosophical and core standards perspective, but as far as the CARIN  blue button implementation guide goes, Frank and Michele are correct: you need to support the searches and reads specified in the IG, and following links (via <code>read</code>) needs to work.</p>",
        "id": 222723549,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610634424
    },
    {
        "content": "<p>(I'm not adding anything new to the conversation, but just explaining why you're hearing a couple of different perspectives and how they in fact do not contradict despite surface appearances.)</p>",
        "id": 222723693,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1610634475
    }
]