[
    {
        "content": "<p>Can we get some guidance on how to handle the change in FHIR URIs from FHIR v3 to FHIR R4? </p>\n<p>Ex: CodeSystem URI change - <a href=\"http://hl7.org/fhir/stu3/codesystem-account-status.html\" target=\"_blank\" title=\"http://hl7.org/fhir/stu3/codesystem-account-status.html\">http://hl7.org/fhir/stu3/codesystem-account-status.html</a> VS <a href=\"https://www.hl7.org/fhir/codesystem-account-status.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/codesystem-account-status.html\">https://www.hl7.org/fhir/codesystem-account-status.html</a></p>\n<p>Ex: ValueSet URI change - <a href=\"http://hl7.org/fhir/ValueSet/v3-ActCode\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/v3-ActCode\">http://hl7.org/fhir/ValueSet/v3-ActCode</a>)   VS <a href=\"http://terminology.hl7.org/ValueSet/v3-ActCode\" target=\"_blank\" title=\"http://terminology.hl7.org/ValueSet/v3-ActCode\">http://terminology.hl7.org/ValueSet/v3-ActCode</a> </p>\n<p>(i) How do existing implementations handle the change in URIs? <br>\n(ii) Does a change in the URI signify a change to the ValueSet or CodeSystem and if so how can the delta be determined? Ex DSTU2 to STU3 and using a V3 ValueSet<br>\n(iii) Some of the links such as - <a href=\"http://hl7.org/fhir/ValueSet/v3-ActCode\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/v3-ActCode\">http://hl7.org/fhir/ValueSet/v3-ActCode</a> are not resolveable. Will this be fixed in the future?</p>\n<p><span class=\"user-mention\" data-user-id=\"195325\">@Linda Parisien</span>  <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span></p>",
        "id": 158122524,
        "sender_full_name": "Joel Francis",
        "timestamp": 1549982939
    },
    {
        "content": "<p>The resolution issue should be fixed in the next 6 months or so.  The change implies a change in code system (and some applications may treat it that way), but in fact it just represents a change in canonical URL.  Changing canonical URLs is annoying and not good practice, but it's a decision we decided to make before going normative to align with HL7's shift toward a common terminology model where v2, v3 and FHIR will all be able to draw on the same code systems.  As for how to deal with it, you could use NamingSystem or hard-coded logic to manage the transition, handle it as part of version mapping, or take other approaches.</p>",
        "id": 158129701,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549988190
    },
    {
        "content": "<p>I'm not sure I have much to add to Lloyd's explanation of where we are and why.  As he said, having to do this wasn't great, but it was undoubtedly best to do it before going normative.  Do the suggestions provide a sufficient direction for you to pursue?  If they don't or if you aren't sure, we can certainly discuss the issues further here or in the Vocabulary WG, or wherever needed.</p>",
        "id": 158410259,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1550029509
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  and <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> ,</p>\n<p>I can gather that there is no need to change the URIs for an implementations existing on an older version of FHIR - i.e., if I have a product built using FHIR 1.0.5, I would use those URIs as mentioned in that version of the specification and not upgrade to the R4 changed URIs or have I understood otherwise?</p>\n<p>Another question I have is regarding HL7 codes - can codes get deactivated/retired?</p>\n<p><span class=\"user-mention\" data-user-id=\"195325\">@Linda Parisien</span></p>",
        "id": 158442086,
        "sender_full_name": "Joel Francis",
        "timestamp": 1550066654
    },
    {
        "content": "<p>You should use the URIs that were published in the version of FHIR you're implementinging.  And yes, HL7 codes can be deprecated/retired.</p>",
        "id": 158454093,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1550074861
    },
    {
        "content": "<p>There are different prefixes for Internal vs. External FHIR code systems. Is there guidance on when to use the internal vs. external URIs?</p>",
        "id": 158469706,
        "sender_full_name": "Mary Dobbins",
        "timestamp": 1550086052
    },
    {
        "content": "<p>Can you give an example of an internal vs. an external prefix?</p>",
        "id": 158470885,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1550086951
    },
    {
        "content": "<p>Sure. This is from the Terminologies &gt; Code Systems webpage: <a href=\"http://build.fhir.org/terminologies-systems.html\" target=\"_blank\" title=\"http://build.fhir.org/terminologies-systems.html\">http://build.fhir.org/terminologies-systems.html</a><br>\nThe labels in the grid include Internal (FHIR) and External (FHIR).<br>\nInternal (FHIR) prefix = <a href=\"http://hl7.org/fhir/\" target=\"_blank\" title=\"http://hl7.org/fhir/\">http://hl7.org/fhir/</a><br>\nExternal (FHIR) prefix = http://terminology.hl7â€‹.org/CodeSystem/</p>",
        "id": 158473383,
        "sender_full_name": "Mary Dobbins",
        "timestamp": 1550088996
    },
    {
        "content": "<p>Ah.  The former are code systems that are defined and maintained as part of the FHIR spec and are \"locked\" to a particular version of FHIR.  They apply to things like administrative-gender, status, etc.  External codes are ones that are shared with other product families and that can evolve between releases of FHIR.</p>",
        "id": 158475950,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1550091165
    }
]