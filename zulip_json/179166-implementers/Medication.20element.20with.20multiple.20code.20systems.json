[
    {
        "content": "<p>Hi all, how can an element in the Medication refer to multiple code systems (RxNorm, NDC,SNOMED CT etc)? Thank you</p>",
        "id": 153923119,
        "sender_full_name": "Pranitha Sruthi",
        "timestamp": 1512553678
    },
    {
        "content": "<p>Hi. AFAIK, it can't :) <br>\nAnd AFAIK, It shouldn't (not directly) - that association may be context-sensitive. e.g. a same medication can be in two ATC classes, depending on its use.</p>",
        "id": 153923128,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512557705
    },
    {
        "content": "<p>The work on Catalog is supposed to suport exactly this.</p>",
        "id": 153923129,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512557723
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/entrydefinition.html\" target=\"_blank\" title=\"http://build.fhir.org/entrydefinition.html\">http://build.fhir.org/entrydefinition.html</a> supports additional classifications and identifiers</p>",
        "id": 153923135,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512558166
    },
    {
        "content": "<p>I did not understand. Can you elaborate? What  if the same medication is in two classes?</p>",
        "id": 153923136,
        "sender_full_name": "Pranitha Sruthi",
        "timestamp": 1512558172
    },
    {
        "content": "<p>i mean all of this is WIP.</p>",
        "id": 153923137,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512558201
    },
    {
        "content": "<p>give me an example and I will describe how it works</p>",
        "id": 153923138,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512558219
    },
    {
        "content": "<p>for medication in 2 classes: in a Catalog you can simply add those 2 classes. But depends on the context what you want to do with those.</p>",
        "id": 153923141,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512558437
    },
    {
        "content": "<p>it depends on what you are trying to achieve.</p>",
        "id": 153923142,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512558446
    },
    {
        "content": "<p>if you give an example it is easier. Otherwise it is unclear what is the goal, and we have different discussion threads but we won't resolve any of them.</p>",
        "id": 153923143,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512558527
    },
    {
        "content": "<p>As per our use case, I need an element in the Medication resource which can refer to multiple code systems.  How can I do that? How can I refer a single element to multiple coding systems in a Medication profile?</p>",
        "id": 153923144,
        "sender_full_name": "Pranitha Sruthi",
        "timestamp": 1512558527
    },
    {
        "content": "<p>what are you trying to say? that \"this medication has this RxNorm code, and this GS1 code, and this SNOMED code\"?</p>",
        "id": 153923145,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512558593
    },
    {
        "content": "<p>and it would really help if you bring up one example of a drug, or one example of a use case.</p>",
        "id": 153923146,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512558838
    },
    {
        "content": "<p>I need to create a profile using Medication.  I have to refer an element to multiple coding systems namely RxNorm, NDC,NDF-RT etc. How can I do that?</p>",
        "id": 153923148,
        "sender_full_name": "Pranitha Sruthi",
        "timestamp": 1512559563
    },
    {
        "content": "<p>I really can't see what problem you are trying to solve. What is the profile for? Why \"using Medication\"? and what is \"refer to multiple coding systems?\"</p>",
        "id": 153923150,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512559807
    },
    {
        "content": "<p>Sorry, i am trying to help, by showing that the problem of grouping/classifying medication is not a simple one, and depends on what you are trying to achieve, so it would help if you please share an example.</p>",
        "id": 153923151,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512559924
    },
    {
        "content": "<p>Medication is identified by Medication.code which is a CodeableConcept.  CodeableConcept supports multiple Coding repetitions.  You can send as many codes for the medication with as many code systems and as many levels of granularity as you might wish.</p>",
        "id": 153923219,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1512583116
    },
    {
        "content": "<p>Australian base profiles are heading the way <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  has described; we are looking at describing some of the common ways Australians code medications in our base profiles; including GTIN (GS1) and local Australian Medicines Terminology (SNOMED-CT AU) at multiple granularity levels - <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html</a> - work in progress</p>",
        "id": 153924031,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512907040
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> I assume each of the concepts ( e.g.<br>\n- paracetamol; <br>\n- paracetamol 500 mg; <br>\n- paracetamol 500 mg tablets; <br>\n- doliprane 500; <br>\n- doliprane 500 box of 20) <br>\nwill be associated with a medicationResource, with one code for each of the concepts, right?</p>",
        "id": 153924036,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512912900
    },
    {
        "content": "<p>then you may (or not) need to describe the relations, so that when you are prescribing one thing, you know you can dispense another. will you have that?</p>",
        "id": 153924037,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512913007
    },
    {
        "content": "<p>if so, then i think today we can do this with a codeset and a conceptmap</p>",
        "id": 153924039,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512913197
    },
    {
        "content": "<p>however, in some cases you may need to assign additional characteristics like classifications, other attributes.<br>\nthis is why we are looking at the Catalog + EntryDefinition.</p>",
        "id": 153924040,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512913267
    },
    {
        "content": "<p>if you want, you can see entryDefinition as a straw man or a scaffold, but it has shown us that we need a kind of a pattern when we define things besides when we simply mention them in an order.</p>",
        "id": 153924041,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512913359
    },
    {
        "content": "<p>Also, we are looking at BRR's upcoming medication definitional resources.</p>",
        "id": 153924042,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512913391
    },
    {
        "content": "<p>hopefully all these things play well together.</p>",
        "id": 153924043,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512913418
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>, there certainly is a need to definitionally define the hierarchy of medication concepts.  This won't be done using Catalog or ConceptMap, but rather the new resource that Pharmacy and BR&amp;R are working on that describes medication definitions.  Only that will allow the proper representation of strengths, manufacturer, formulation, packaging and other aspects that the different levels of coding bring into play.  However, that's not the use-case being conveyed here.  There are times where when you're recording a part of the patient's medical record that you want to capture multiple levels of granularity and/or codes from multiple code systems <em>as part of the patient record</em> (not as definitional information).  This is typically because different downstream systems - claims, decision support, etc. - need different codes and those systems don't have access to the definitional information to perform the code translation themselves.  In such a case, multiple codings will be sent as translations within the CodeableConcept.  Typically these translations will be handled by the source system automatically translating the selected code into the needed alternative code systems/granularities.  However, in some cases the user might be involved in picking the appropriate code from each system.  (This latter approach has a higher likelihood of inconsistent codes accidentally being selected.)</p>",
        "id": 153924062,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1512923408
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191337\">@Dion McMurtrie</span>  might be interested in this discussion - he is looking at FHIR medication concepts hierarchies for the Australian Medicines Terminology  (AMT).<br>\n<span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  we are looking to support a platform for prescribing and dispensing to allow one or more of the codings seen commonly; this includes proprietary, common drug databases, nominated national terminology, procurement, and possibly national subsidy coding.  i.e. for us here that means  MIMS, AMT, GTIN, PBS.  We also are looking at multiple granularities using the AMT like you paracetamol list  we have types Medicinal Product Pack, Trade Product Pack, Medicinal Product, Containered Trade Product etc.  We may have more that one level e.g. TPP + MPP for pack level prescribing, this mainly applies to AMT in our case.   To represent the codes for STU3 we use repeating Medication.code.coding  for this and are looking at an extension on Coding to supply a coded 'Medication Type' to identify the granularity level for systems/cases that don't have terminology services to distinguish the type of coding (i.e. multiple AMT codes are all in the <a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">http://snomed.info/sct</a> Coding.system and could not distinguish granularity level without terminology services)  - any other approaches than extension? We really just want to identify a refset that the coding is drawn from within the drug terminology...</p>",
        "id": 153924113,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512934218
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> I agree that sometimes you may want to provide several levels of granularity, other times you don't - that is ok, and of course you can say \"this drug is Doliprane, but you may want to know this is Paracetamol\". Sometimes you may not write any codes at all. From the requirements I am aware of, the way to define the hierarchy should be flexible and context-specific, and I don't think medication has a way to do this. I can bring forth some requirements for medication identification, but i observe they are being met with a combination of the work on Catalog, BRR and Medication, so i trust things are moving in the right direction. BRR is working on IDMP resources, and when we work with IDMP we need to combine the IDMP standard model with the different concepts existing out there. Medication is finally rid of an attibute called \"isBrand\" and is a flatter structure, which allows specifying or defining different concepts. and Catalog allows linking dependencies - of course we can put them in a medicationKnowledge resource, but from my experience with catalogs, this will be plagued with extensions or be a SPL-like mechanism.</p>",
        "id": 153924126,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512944225
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191337\">@Dion McMurtrie</span> <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> i have requested to replace medication.isBrand\" with medication.conceptType - i do not know if this was followed through, or if it is considered to be in code.system.  Technically I am ok with both, but if I look at e.g. SNOMED, it would be much better to have a \"conceptType\", for the reasons you mention. Could be medication.conceptType, or medication.code.conceptType - i hadn't thought of the latter, but i don't see why not.<br>\nAlso, I am looking at this from a perspective where there are many concepts, and they have a polyhierarchical relationship. And there is always one more concept, or clusters...<br>\nThis is why we are procuring a Catalog that is a graph, because the information and relations evolve over time, because of new findings, regulations, best practices, procurement agreements, distribution rules..</p>",
        "id": 153924128,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512945178
    },
    {
        "content": "<p>So, I agree we can use several codes on a medication - but that is just providing additional information and does not define the medication. You cannot risk prescribing dafalgan and charging for doliprane just because they are both Paracetamol.</p>",
        "id": 153924129,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512945333
    },
    {
        "content": "<p>If you just want to explain \"what kind of a product or concept this is\", indeed you just need a ConceptType to look in the local, national, international lists they may have, from substance identification like GINAS to GS1's GTIN.</p>",
        "id": 153924130,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512945573
    },
    {
        "content": "<p>I hope my arguments don't come up as abstract or complicated. I just have to deal with \"scanning a GS1 code and check for equivalents or feed this to the summary or register an adverse event\", and this very practical concern is facing many local simplifications.</p>",
        "id": 153924131,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512945684
    },
    {
        "content": "<p>btw, Gforge 13149 deferred to 13295, and 13295 was approved but I don't see the change .  <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> <span class=\"user-mention\" data-user-id=\"192080\">@John Hatem</span> - shouldn't medication have a ConceptType as discussed?</p>",
        "id": 153924132,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512945928
    },
    {
        "content": "<p>I suspect if several codes are sent, they'd likely be sent on the MedicationRequest/MedicationStatement/MedicationDispense/MedicationAdministration, not the Medication.  You use Medication if you need to specify additional details like ingredients, lot number, etc. at which point sending multiple codes tends to make less sense.</p>",
        "id": 153924147,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1512959584
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  thanks that makes a lot of sense... medication[x] choice is problematic when I want to include form and strength in structured elements as will lead back to  using Medication rather than code alone... but will now be thinking about whether I really need that....</p>",
        "id": 153924148,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512960208
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> I actually requested a change to medication.isBrand too, but I requested a \"brand\" CodeableConcept be added so that if I know the brand name text, or even the code of the brand and its display name it can be added. That can be found at <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13536&amp;start=0\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13536&amp;start=0\">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13536&amp;start=0</a></p>\n<p>The medication.conceptType is useful to know what granularity/level the medication resource instance is representing. The presence/absence of populated elements isn't a good way to determine what level of thing the Medication resource represents. I've added an extension in my AMT Medication resource service which is an extension of the Medication resource itself, but having spoken to <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> last week it sounds like it would be better moved to medication.code.conceptType. I'm yet to prototype that to reconfirm my understanding with <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> </p>\n<p>Examples of what I've done can be found at <a href=\"https://medserve.online\" target=\"_blank\" title=\"https://medserve.online\">https://medserve.online</a> where there's a Postman collection showing some example, and now a browser built on top of it. I'll try and get the examples changed to medication.code.conceptType using extensions and comment back when I've done that.</p>",
        "id": 153924161,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1512966808
    },
    {
        "content": "<p>On the multiple codes for a Medication resource, it does get really confusing (at least for me) when a Medication resource has multiple codings - what does the Medication resource actually mean keeping in mind that these codings (translations really) are likely at different levels of granularity and therefore meaning.</p>\n<p>So I've been inclined in the work that I've done transforming AMT into a catalogue of Medication resources (see <a href=\"https://medserve.online\" target=\"_blank\" title=\"https://medserve.online\">https://medserve.online</a>) I've tried to stick to just the AMT code the Medication resource is representing. Other codes like our PBS subsidy codes or ARTG regulatory codes I've tried to push out. </p>\n<p>For the PBS code I've tried to push that out to a \"subsidy\" extension, which from a catalogue perspective a Medication can have 0 or more subsidies applicable under different rules in different jurisdictions. Similarly for the regulators code (ARTG in Australia) I'm working on a \"regulation\" extension to land that code in along with the data from the regulator relevant to that licence. In both cases I don't believe the PBS code and ARTG codes are actually medication identifiers - one identifies a subsidy and the rules under which it is valid, the other represents a licence to market and sell a medication in a jurisdiction. They can be used as proxies for identifying a medication, but they aren't really medication codes like AMT or MIMS in Australia or RxNorm in the US.</p>\n<p>But <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> you put a good case last week where multiple codings were needed in Medication resource instances, some even from the same code system. Do you still feel this is the case? My inclination in this case is to add something to them to indicate how synonymous they are (or are being asserted to be in this context of use) to the \"primary\" code for the resource.</p>",
        "id": 153924170,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1512968899
    },
    {
        "content": "<p>okay this is where i'm coming from</p>\n<ul>\n<li>MedicationRequest, MedicationDispense, MedicationStatement all have 1..1 medicaiton[x] choice of CodeableConcept or Reference(Medication)</li>\n</ul>",
        "id": 153924172,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512970867
    },
    {
        "content": "<ul>\n<li>if I want structured forms and strength elements i'm going to use Reference(Medication)</li>\n</ul>",
        "id": 153924173,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512970930
    },
    {
        "content": "<p>and I do</p>",
        "id": 153924174,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512970951
    },
    {
        "content": "<ul>\n<li>my drug data source is flat - with a primary code (proprietary) to be selected and mappings to some others (AMT TPP+MPP,, MIMS, GTIN, PBS (in this context))</li>\n</ul>",
        "id": 153924175,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512971068
    },
    {
        "content": "<p>all of these codings have some use for receiving systems</p>",
        "id": 153924176,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512971153
    },
    {
        "content": "<ul>\n<li>not all systems have capability to determine a related concept from one code e.g. MPP from TPP</li>\n</ul>",
        "id": 153924177,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512971285
    },
    {
        "content": "<ul>\n<li>would say for drug data like medserve.online could still use this model - you would have profiles that relate a coding granularity to other elements of the Medication resource being present e.g. package details only make sense for CTPP (BPGC), TPP (BPG) and MPP (UPG);   form details for  BPGC, BPG, BPDSF,  BPDF, UPDF, UPDSF, UPG</li>\n</ul>",
        "id": 153924178,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512972078
    },
    {
        "content": "<p>using these types <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/ValueSet-medication-type.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base/ValueSet-medication-type.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/ValueSet-medication-type.html</a></p>",
        "id": 153924179,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512972114
    },
    {
        "content": "<p>for drug data sources could make it only one granularity level per Medication resource - up to your usecase</p>",
        "id": 153924182,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512972429
    },
    {
        "content": "<p>I also have some drug data sources that want to provide 2 levels only - pack and product - Medication resource representation (not all the possible levels)</p>",
        "id": 153924183,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512972628
    },
    {
        "content": "<p>as for PBS code - we definitely need a place to put the definition of that subsidy; the discussion of PBS as a medicine coding (without context) basically freaked me out... I guess if it happens we'll need to deal with it... in draft <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-medication.html</a> I just added some words Medication PBS coding (ignore item context)</p>",
        "id": 153924184,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512972822
    },
    {
        "content": "<p>for the subsidy - we will need some sort of description of eligibility statement including the PBS code, schedule, prescriber roles and other conditions... anyone have a resource type for that?</p>",
        "id": 153924185,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512973139
    },
    {
        "content": "<p>also think it is worthwhile looking at where to put PBS code in the MedicationRequest, and MedicationDispense instance - i.e. subsidy for this prescribing event - this seems like an Claim or ExplanationOfBenefit</p>",
        "id": 153924187,
        "sender_full_name": "Brett Esler",
        "timestamp": 1512973765
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191337\">@Dion McMurtrie</span> the \"brand\" concept, if I understand well, would work well for defining a product - \"there's dafalgan (brand), and it is a paracetamol\"</p>",
        "id": 153924198,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512980435
    },
    {
        "content": "<p>i think it would hold partially for specifying - you can also say \"i prescribe dafalgan, but be informed this is paracetamol, in case you want to do grouping or substitution\" - this kind of holds, but with pitfalls.</p>",
        "id": 153924199,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512980709
    },
    {
        "content": "<p>I think your \"subsidy\" seems another \"group\" of drugs. in some european countries, there is a code that represents \"all paracetamol 500 mg boxes of 20 tablets, regadless of the brand\". That code is defined by the national authoity, and is used for reimbursement / fraud prevention reasons.</p>",
        "id": 153924200,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512980866
    },
    {
        "content": "<p>We also have ad-hoc clusters of medication - medications that share a common code but there is not really a set of common characteristics. They are clustered in one group because someone decided so.</p>",
        "id": 153924201,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512980923
    },
    {
        "content": "<blockquote>\n<p>In both cases I don't believe the PBS code and ARTG codes are actually medication identifiers - one identifies a subsidy and the rules under which it is valid, the other represents a licence to market and sell a medication in a jurisdiction. They can be used as proxies for identifying a medication, but they aren't really medication codes like AMT or MIMS in Australia or RxNorm in the US.</p>\n</blockquote>\n<p>Agree!</p>",
        "id": 153924205,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512981942
    },
    {
        "content": "<blockquote>\n<p>My inclination in this case is to add something to them to indicate how synonymous they are (or are being asserted to be in this context of use) to the \"primary\" code for the resource.</p>\n</blockquote>\n<p>Yes, and that is what we were looking at from our Catalog profile! :) especially because of the \"in this context of use\". So agree with the notion, and I don't know why it should be in the medication resource or how a medication definitional would fix that.</p>",
        "id": 153924207,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512982231
    },
    {
        "content": "<p>re-posting: This is my idea for a catalog. Each of these boxes is a resource, with its own attributes.<br>\n<a href=\"/user_uploads/10155/qXeKZp8K34RGiviTN15Aa_nC/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/qXeKZp8K34RGiviTN15Aa_nC/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/qXeKZp8K34RGiviTN15Aa_nC/pasted_image.png\"></a></div>",
        "id": 153924209,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512983323
    },
    {
        "content": "<p>Suggestion: Should we have a session around this topic during our next WGM? I have a feeling of \"i've felt this wall against my forehead before\"...</p>",
        "id": 153924210,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1512983431
    },
    {
        "content": "<p>Yes <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> , check out <a href=\"https://medserve.online/fhir/Medication?brand=http://snomed.info/sct|26151000036107\" target=\"_blank\" title=\"https://medserve.online/fhir/Medication?brand=http://snomed.info/sct|26151000036107\">https://medserve.online/fhir/Medication?brand=http://snomed.info/sct|26151000036107</a> as an example of searching by coded brand</p>\n<p>or <a href=\"https://medserve.online/fhir/Medication?brand:text=panadol&amp;brand:text=sinus\" target=\"_blank\" title=\"https://medserve.online/fhir/Medication?brand:text=panadol&amp;brand:text=sinus\">https://medserve.online/fhir/Medication?brand:text=panadol&amp;brand:text=sinus</a> as an example of searching for brand by text (all brands containing \"sinus\")</p>\n<p>As an example the extension I'm using from one of these results looks like this</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"s2\">&quot;url&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;http://medserve.online/fhir/StructureDefinition/brand&quot;</span><span class=\"p\">,</span>\n  <span class=\"s2\">&quot;valueCodeableConcept&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;coding&quot;</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;system&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;http://snomed.info/sct&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;code&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;29451000168102&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;display&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;Panadol Allergy Sinus&quot;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>which is saying that the Medication resource <a href=\"https://medserve.online/fhir/Medication/54036011000036109\" target=\"_blank\" title=\"https://medserve.online/fhir/Medication/54036011000036109\">https://medserve.online/fhir/Medication/54036011000036109</a> which is \"Panadol Allergy Sinus film-coated tablet\" is from the brand \"Panadol Allergy Sinus\" which has the AMT code 29451000168102</p>",
        "id": 153924214,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1512985679
    },
    {
        "content": "<blockquote>\n<p>I think your \"subsidy\" seems another \"group\" of drugs. in some european countries, there is a code that represents \"all paracetamol 500 mg boxes of 20 tablets, regadless of the brand\". That code is defined by the national authoity, and is used for reimbursement / fraud prevention reasons.</p>\n</blockquote>\n<p>So, AMT has only 2 types of codes that are real tangible things - the TPUU which is a branded unitary product like \"Panadol 500mg tablet\" and CTPP which is a branded pack of one or more unitary products or other packages, like \"Panadol 500mg tablet, 24, blister pack\". The other \"levels\" in AMT (of which there are 4) are abstract concepts which subsume one or more of these more tangible things. That allows us to represent \"Panadol 500mg tablet, 24\" which subsumes all the various 24 packs (bottles, blister packs etc), or \"paracetamol 500mg tablet\" which would subsume all the different branded versions of that tablet - take a look at <a href=\"https://browse.medserve.online/Medication/23628011000036109\" target=\"_blank\" title=\"https://browse.medserve.online/Medication/23628011000036109\">https://browse.medserve.online/Medication/23628011000036109</a> which shows there's 311 of them!</p>\n<p>For package products the subsidy is sometimes expressed at the \"Panadol 500mg tablet, 24\" level, i.e. the government doesn't care which type of pack you supply the subsidy is the same for that brand and quantity. Mostly the subsidy code is the same for all the different brands at that level, but sometimes not.</p>\n<p>The point is generating these Medication resources from AMT, I'm generating both abstract things and tangible things, but sometimes someone wants to say one or the other. My real aim to this was to provide an API to access the content and definitions of AMT concepts in an easier way to process.</p>",
        "id": 153924217,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1512986508
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>My inclination in this case is to add something to them to indicate how synonymous they are (or are being asserted to be in this context of use) to the \"primary\" code for the resource.</p>\n</blockquote>\n<p>Yes, and that is what we were looking at from our Catalog profile! :) especially because of the \"in this context of use\". So agree with the notion, and I don't know why it should be in the medication resource or how a medication definitional would fix that.</p>\n</blockquote>\n<p>This one is interesting...coming from generating these resources to render out AMT I more or less viewed it as one code belonged in the coding - the AMT code which this Medication resource represents. I was swayed more by <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span>  wanting a use which was representing a Medication from an existing system's record of a patient, and it had a number of codes tagged against that record, which had intersecting but not equal meaning.</p>\n<p>For my use case I'm not likely to want to provide translations as alternative codings on the Medication resource...but if I did (for example Brett's case) I'd want to indicate (if I knew from the system) how synonymous these other codes are to the \"primary\" code which carries the real meaning of the Medication resource. Something like the values from <a href=\"https://www.hl7.org/fhir/valueset-concept-map-equivalence.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/valueset-concept-map-equivalence.html\">https://www.hl7.org/fhir/valueset-concept-map-equivalence.html</a></p>\n<p>I think <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> had said that there wasn't a need because the receiving system would interpret the codes it understood and have maps to understand how the codes relate. I guess I was hoping to capture what the sending system thought about the relationship between these codes and the Medication's meaning which may be different to my understanding as the receiving system with a map. That difference is all about the context of use of those codes, which only the sending system really knows...or maybe not!</p>",
        "id": 153924219,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1512986911
    },
    {
        "content": "<blockquote>\n<p>re-posting: This is my idea for a catalog. Each of these boxes is a resource, with its own attributes.<br>\n<a href=\"/user_uploads/10155/qXeKZp8K34RGiviTN15Aa_nC/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n</blockquote>\n<p>That's really interesting...if you take a look at <a href=\"https://browse.medserve.online\" target=\"_blank\" title=\"https://browse.medserve.online\">https://browse.medserve.online</a> you'll see something very similar to your diagram happening, but rendering out how this occurs in AMT. For example look at <a href=\"https://browse.medserve.online/Medication/52702011000036107\" target=\"_blank\" title=\"https://browse.medserve.online/Medication/52702011000036107\">https://browse.medserve.online/Medication/52702011000036107</a> although you'll have to navigate around a bit to see the full graph on your diagram. Each box in the browser is a Medication resource representing an AMT concept which deals with the abstraction levels in your diagram and a few more - 6 levels in all.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/qXeKZp8K34RGiviTN15Aa_nC/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/qXeKZp8K34RGiviTN15Aa_nC/pasted_image.png\"></a></div>",
        "id": 153924220,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1512987181
    },
    {
        "content": "<blockquote>\n<p>Suggestion: Should we have a session around this topic during our next WGM? I have a feeling of \"i've felt this wall against my forehead before\"...</p>\n</blockquote>\n<p>Absolutely! I find it hard to describe this in text and probably much easier to talk over. I can probably better explain the levels of abstraction going on here and what it is I'm trying to do more clearly, even talk through some examples which is always useful. When would you like to talk it over?</p>",
        "id": 153924221,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1512987315
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> In your use-case, I think it's fine to send multiple codings in Medication.code</p>",
        "id": 153924267,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513007245
    },
    {
        "content": "<blockquote>\n<blockquote>\n<p>Suggestion: Should we have a session around this topic during our next WGM? I have a feeling of \"i've felt this wall against my forehead before\"...</p>\n</blockquote>\n<p>Absolutely! I find it hard to describe this in text and probably much easier to talk over. I can probably better explain the levels of abstraction going on here and what it is I'm trying to do more clearly, even talk through some examples which is always useful. When would you like to talk it over?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> by the WGM do you mean New Orleans in January or a teleconference?</p>",
        "id": 153924677,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1513147056
    },
    {
        "content": "<p>I meant New Orleans - in my experience this may be a change of perspective in some aspects, so it will be easier to do face to face. We can (should?) prepare in a teleconference.</p>",
        "id": 153924678,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1513149740
    },
    {
        "content": "<p>Unfortunately I don't yet know if I'll get approval to travel for the WGM, but at the moment I think it unlikely. It would be great to talk this over face to face, it is always so much easier.<br>\nFailing that I'd be happy to do web conferences, even if I can call in to the WGM whatever the timezone implications I'd be happy to do that.</p>",
        "id": 153925340,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1513285788
    },
    {
        "content": "<p>I would strongly encourage everyone on this thread to help pharmacy work through the requirements.  We've made some changes to the medication resource but we need your help to make sure we understand your use cases.  We have an active project to look at the requirements for a potential new resource that we have tentatively called \"MedicationKnowledge\" and will be working with the BR&amp;R work group to help define.  Participation our our teleconference would be great too if you can't attend the WGM in New Orleans - we'd love to hear your requirements rather than trying to interpret a GForge tracker item.</p>",
        "id": 153927082,
        "sender_full_name": "Melva Peters",
        "timestamp": 1514402549
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span> the notions we have above are about definition of a product (Catalog), so it would be great to extend that joint discussion to Pharmacy, to expose the requirements.</p>",
        "id": 153927106,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1514452757
    },
    {
        "content": "<p>besides Defining a product, there is the notion of specifying a product like <br>\n\"here's a prescription for Tylenol, but be informed this is Paracetamol in case you need to know it\"  <br>\n(i think this is what <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> is referring to), and in that case, yes, for example that is exactly what the Dutch do:</p>\n<p>&lt;prescribedMedication&gt;<br>\n&lt;MedicationKind&gt;<br>\n&lt;code code=\"30597\" codeSystem=\"2.16.840.1.113883.2.4.4.10\" displayName=\"CHLOORAMFENICOL OOGZALF 10MG/G TUBE 5G\" codeSystemName=\"G-Standaard PRK\"&gt;<br>\n&lt;translation code=\"15822\" codeSystem=\"2.16.840.1.113883.2.4.4.1\" displayName=\"CHLOORAMFENICOL OOGZALF 10MG/G\"<br>\ncodeSystemName=\"G-Standaard GPK\" /&gt;<br>\n&lt;/code&gt;<br>\n&lt;/MedicationKind&gt;</p>",
        "id": 153927107,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1514453098
    },
    {
        "content": "<p>I think Lloyd's suggestion is valid: are the codes in medication itself or in the Prescription / administration...? <br>\nIn the example above, we put the different identifiers in the medication itself (which means \"this medication, in this context, is defined by these two codes\"). Is that the right way?</p>",
        "id": 153927108,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1514453381
    },
    {
        "content": "<p>It's completely legitimate to send multiple codings using different code systems that may identify the concept at different levels of granularity - so what you're doing is totally legal.  The work group is exploring whether there's a more formal way of specifying this, such that the code for the manufactured drug would go in one place, the code for the generic formulation would go in another place, etc.  That way the receiver wouldn't necessarily have to recognize the code system to understand what level of specificity a given code was conveying - and we'd also have consistency with when we're trying to expose the same sort of information from a knowledge-base source.</p>",
        "id": 153927141,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1514471378
    },
    {
        "content": "<p>Right, just a precision from the adjacent discussion so that we move forward<br>\n\"the code for the manufactured drug would go in one place, the code for the generic formulation would go in another place\"<br>\nshould read <br>\n\"the code for one concept or granularity would go in one place, the code for another concept or granularity would go in another place\"</p>",
        "id": 153927143,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1514471595
    },
    {
        "content": "<p>right?<br>\ni mean the a notion of \"manufactured product\" and \"generic formulation\" is not that clear, unambiguous or universal.</p>",
        "id": 153927145,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1514471713
    },
    {
        "content": "<p>(I just trying that we don't go back to medication.isBrand...)</p>",
        "id": 153927146,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1514471820
    },
    {
        "content": "<p>the requirements were exposed to Pharmacy some time ago, and they are more clear now in the Catalog discussions. <span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span> the changes suggested  to Pharmacy implement the requirements. Glad to expose more requirements if that is useful.</p>",
        "id": 153927147,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1514471928
    }
]