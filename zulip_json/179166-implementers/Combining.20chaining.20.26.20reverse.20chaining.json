[
    {
        "content": "<p>Is <code>Observation?patient._has:ResearchSubject:identifier=123</code> legal?  What I want to find is all observations made for a particular study subject.  Studysubject points to Patient and so does Observation.  But I haven't seen an example that confirms this is legal...</p>",
        "id": 153953669,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1524508164
    },
    {
        "content": "<p>I guess this is the same problem as in <a href=\"#narrow/stream/4-implementers/topic/search.3A.20chaining.20_has.20and.20normal.20chained.20parameters\" title=\"#narrow/stream/4-implementers/topic/search.3A.20chaining.20_has.20and.20normal.20chained.20parameters\">https://chat.fhir.org/#narrow/stream/4-implementers/topic/search.3A.20chaining.20_has.20and.20normal.20chained.20parameters</a></p>\n<p>The summary of that discussion was that there is currently no way to combine chaining &amp; reverse chaining if the chaining is at the beginning of the query.<br>\nOr at least this is how it is currently being implemented.</p>",
        "id": 153953678,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1524511110
    },
    {
        "content": "<p>If this isn't possible, then we'd have to get implementations to put a \"researchSubject\" extension on all of the Observations, Procedures and other records that are related to a given ResearchSubject.  And if they don't, we wouldn't find them on queries.  That's not super-desirable.  Alternatively, we'd have to update the Patient to have an extension to point to all associated research subjects, creating a bi-directional association.  That's not so great either.</p>",
        "id": 153953793,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1524537089
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> do you think combining chaining and reverse chaining should be possible?  Is this something where GraphQL is necessary?</p>",
        "id": 153953794,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1524537206
    },
    {
        "content": "<p>The real problem here is the format of the search. It lacks the link from ResearchSubject to Patient. This is the correct format:<br>\n&lt;base&gt;/Observation?patient._has:ResearchSubject:patient:identifier=123</p>",
        "id": 153953816,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1524554836
    },
    {
        "content": "<p>Sorry for the confusion. I just thought, because no one objected the last time, that it would not be possible.<br>\nMaybe such an example should be added to the reverse chaining section?<br>\nThis would also help to align behavior across implementations, for example, Vonk currently returns a result in such a case, AEGIS WildFHIR returns no results and HAPI gives an error stating that the parameter chain is invalid.</p>",
        "id": 153953858,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1524561587
    },
    {
        "content": "<p>Is this thread relevant? <a href=\"#narrow/stream/4-implementers/subject/Being.20RESTFul.20in.20clinical.20research\" title=\"#narrow/stream/4-implementers/subject/Being.20RESTFul.20in.20clinical.20research\">https://chat.fhir.org/#narrow/stream/4-implementers/subject/Being.20RESTFul.20in.20clinical.20research</a></p>",
        "id": 153964647,
        "sender_full_name": "Matthew Koch",
        "timestamp": 1527186482
    }
]