[
    {
        "content": "<p>I've put a few questions here together because I believe they're all related.</p>\n<p>1) I have a handful of activities that I want to assign to a patient. (i.e. take blood pressure reading once a day) What is the best way to do this? Can I assign activities directly somehow? Do I need to put them in a PlanDefinition, apply that and get back a CarePlan? I've also seen a RequestGroup that seems like it could group activities. How does this come in?</p>\n<p>2) I have an activity assigned to a patient that is recurring (i.e. take blood pressure reading once a day). I want to be able to track a patients adherence to that task. I've seen it suggested that this sort of thing should be in an observation. Does anybody have any examples similar to this, or are we in new territory?</p>\n<p>3) I have an activity assigned to a patient  (i.e. take blood pressure reading twice a day). How do I put the requirements in a way so that a I can programmatically determine if the activity has been done? I've tried it this way, but I'm not sure this is the recommended path:\u000b<br>\n        {<br>\n                        \"title\": \"Take Blood Pressure\",<br>\n                        \"subjectCodeableConcept\": {<br>\n                            \"coding\": [<br>\n                                {<br>\n                                    \"system\": \"<a href=\"http://hl7.org/fhir/ValueSet/subject-type\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/subject-type\">http://hl7.org/fhir/ValueSet/subject-type</a>\",<br>\n                                    \"code\": \"Patient\"<br>\n                                }<br>\n                            ]<br>\n                        },<br>\n                        \"input\": [<br>\n                            {<br>\n                                \"type\": \"Observation\",<br>\n                                \"subjectCodeableConcept\": {<br>\n                                    \"coding\": [<br>\n                                        {<br>\n                                            \"system\": \"<a href=\"http://hl7.org/fhir/ValueSet/subject-type\" target=\"_blank\" title=\"http://hl7.org/fhir/ValueSet/subject-type\">http://hl7.org/fhir/ValueSet/subject-type</a>\",<br>\n                                            \"code\": \"Patient\"<br>\n                                        }<br>\n                                    ]<br>\n                                },<br>\n                                \"codeFilter\": [<br>\n                                    {<br>\n                                        \"path\": \"code\",<br>\n                                        \"code\": [<br>\n                                            {<br>\n                                                \"code\": \"85354-9\"<br>\n                                            }<br>\n                                        ]<br>\n                                    }<br>\n                                ]<br>\n                            }<br>\n                        ],<br>\n                        \"timingTiming\": {<br>\n                            \"repeat\": {<br>\n                                \"frequency\": \"2\",<br>\n                                \"period\": 1,<br>\n                                \"periodUnit\": \"d\"<br>\n                            }<br>\n                        },<br>\n                        \"requiredBehavior\": \"must\",<br>\n                        \"participant\": [<br>\n                            {<br>\n                                \"type\": \"device\"<br>\n                            }<br>\n                        ],<br>\n                        \"definitionCanonical\": \"#activitydefinition-bloodpressure\"<br>\n                    }</p>\n<p>Thanks<br>\nMatt</p>",
        "id": 172239655,
        "sender_full_name": "Matt Fraser",
        "timestamp": 1564679261
    },
    {
        "content": "<p>1. PlanDefinition would let you define a generic (non-patient-specific) protocol.  To define what you want a specific patient to do, you'd need to use CarePlan.  To create a specific reminder to do a particular occurrence you could use 'Task' (which the patient could then tick-off when done, or perhaps provide a reason if they didn't do it)<br>\n2. At what granularity do you want to track adherence?  For each scheduled occurrence? As a general statement of overall compliance?  The former could be done using Task.  The latter could be captured as a note in the CarePlan, though Observation could also work<br>\n3. Again it depends whether you're defining a protocol or a specific time-bound plan for a particular patient.  For the former, what you have looks reasonable.</p>",
        "id": 172245002,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1564682933
    },
    {
        "content": "<p>Thanks for the help.   I've come across a couple more complicated scenarios that I'm stuck on how to represent. I'm wondering if I could get some feedback on these (pointers to fields/structures that I ma y have missed are totally fine):</p>\n<p>1) OK, in the scenario that I want the patient to record their blood pressure once a day, I also want to monitor that it's within a certain range (say, 120/80 or below). Would this be a good use for the goal field? Or is there a more appropriate place to put this?</p>\n<p>2) I want a patient to walk more than 3000 steps a day. Would the action be to walk and the 3000 would be represented as above? To me, this seems like a semantically different thing. Is there a place within the action to store this number that I should be using? (if so, I missed it). </p>\n<p>3) In this above case, steps are probably represented in multiple observations (say, hourly summaries), that would need to be added together for a daily value. How would I represent that?</p>\n<p>Thanks<br>\nMatt</p>",
        "id": 173129492,
        "sender_full_name": "Matt Fraser",
        "timestamp": 1565714411
    },
    {
        "content": "<p>I don't see the actions anywhere in the care plan. You can say what the activity should be (e.g. 3000 steps) and link it to a goal (get fitter) but there's no where in the care plan to say what to do if the patient doesn't meet the goals or do the activities</p>",
        "id": 173260642,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1565836654
    },
    {
        "content": "<p>the care plan can be based on a  PlanDefinition, but even there I don't see how you can say what you are trying to say. But I think it should be, so I'm not sure I read it right. (<span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span>?)</p>",
        "id": 173260716,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1565836741
    },
    {
        "content": "<p>You could put the actions in a PlanDefinition, something like this:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;PlanDefinition&gt;\n  &lt;action&gt;\n    &lt;title value=&quot;Record blood pressure&quot;/&gt;\n    &lt;action&gt;\n      &lt;condition&gt;\n        &lt;expression value=&quot;[Observation: BP] O where O.component[0] &lt; 120 and O.component[1] &lt; 80&quot;/&gt;\n      &lt;/condition&gt;\n      &lt;... do something if they are out of range /&gt;\n    &lt;/action&gt;\n  &lt;/action&gt;\n  &lt;action&gt;\n    &lt;title value=&quot;Walk 3000 steps a day&quot;/&gt;\n    &lt;action&gt;\n      &lt;condition&gt;\n        &lt;expression value=&quot;Sum([Observation: StepsPerDay] O return O.value as Integer)&quot;/&gt;\n      &lt;/condition&gt;\n    &lt;/action&gt;\n  &lt;/action&gt;\n&lt;/PlanDefinition&gt;\n</pre></div>",
        "id": 173261416,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1565837625
    },
    {
        "content": "<p>The sub-actions here have the condition that says what to do when it's out of range.</p>",
        "id": 173261538,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1565837796
    },
    {
        "content": "<p>You wouldn't necessarily put these in the PlanDefinition like this though, you could use a goal to state generally the target, and then use separate event-condition-action rules to express what to do if they are out of compliance.</p>",
        "id": 173261878,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1565838440
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"232976\">@Matt Fraser</span> Yes, the target blood pressure range and the steps per day would both be goals (both would be detailRange, the latter would be a lower bound with no upper bound.  In terms of \"adding things together\", you'd be specifying \"steps per day\" as your goal.  The magic by which the various observations of \"steps per time-period\" get broken into 24-hour bins and then summed together isn't defined in the CarePlan (any more than maxDosePerPeriod of 100mg/day explains how to manage an IV infusion that was given from 11pm to 1:30am in enforcing the prescription).  Systems that want to evaluate against the goal need to determine their convention and then manage it (including handling fun nuances like daylight savings time transitions :&gt;)</p>",
        "id": 173677966,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1566322208
    }
]