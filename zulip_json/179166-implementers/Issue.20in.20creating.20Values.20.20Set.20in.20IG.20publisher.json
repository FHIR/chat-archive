[
    {
        "content": "<p>Hi All,<br>\nWe are working on a project where we have published FHIR Implementation Guide for it using IG publisher tool. Now we are trying to include a value set for medicine codes in our IG using SNOMED CT code system. For that, we are using SNOMED CT expression to generate value set.</p>\n<p>We are populating Compose like below,</p>\n<p>&lt;compose&gt;<br>\n        &lt;include&gt;<br>\n        &lt;filter&gt;<br>\n            &lt;system value=\"http://snomed.info/sct\"/&gt;<br>\n             &lt;property value=\"constraint\"/&gt;<br>\n             &lt;op value=\"=\"/&gt;<br>\n             &lt;value value=\"(&lt;&lt;  373873005 |Pharmaceutical / biologic product (product)| : ( 732944001 |Has presentation strength numerator value (attribute)|  = * OR 733724008 |Has concentration strength numerator value (attribute)| = * ))\"/&gt;<br>\n            &lt;/filter&gt;<br>\n        &lt;/include&gt;<br>\n&lt;/compose&gt;</p>\n<p>The expression gives outcome in SNOMED CT Browser but when we are using this expression in IG publisher, we are unable to get expansion for it.</p>\n<p>Can anyone please help to resolve the issue?<br>\nThank You.</p>",
        "id": 210237709,
        "sender_full_name": "Sayali Pophalkar",
        "timestamp": 1600247542
    },
    {
        "content": "<p>I don't think that a SNOMED expression can be used within filter. Have you tried using the expression in compose.include.concept.code ?</p>",
        "id": 210263918,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1600264202
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span></p>",
        "id": 210294109,
        "sender_full_name": "Robert McClure",
        "timestamp": 1600277257
    },
    {
        "content": "<p>The spec supports using an expression constraint in a filter as noted <a href=\"http://hl7.org/fhir/snomedct.html#4.3.1.0.8.3\">here</a> - <strong>if</strong> the server supports the SNOMED ECL, which certainly not all servers do.  But the issue may be that the 'system' element is at the same level as 'filter' under 'include' and occurs before it, like:</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;compose&gt;\n    &lt;include&gt;\n        &lt;system value=&quot;http://snomed.info/sct&quot;/&gt;\n        &lt;filter&gt;\n            &lt;property value=&quot;constraint&quot;/&gt;\n            &lt;op value=&quot;=&quot;/&gt;\n            &lt;value value=&quot;(&lt;&lt; 373873005 |Pharmaceutical / biologic product (product)| : ( 732944001 |Has presentation strength numerator value (attribute)| = * OR 733724008 |Has concentration strength numerator value (attribute)| = * ))&quot;/&gt;\n        &lt;/filter&gt;\n    &lt;/include&gt;\n&lt;/compose&gt;\n</code></pre></div>",
        "id": 210296148,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1600278214
    },
    {
        "content": "<p>Thank You Rob for your reply! I'll check with this. :)</p>",
        "id": 211217985,
        "sender_full_name": "Sayali Pophalkar",
        "timestamp": 1601009042
    }
]