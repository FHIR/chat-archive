[
    {
        "content": "<p>I am trying to wrap my head around the scope of the new Canonical datatype as it relates to the <code>ConceptMap.source[x]</code> field (and others like it).</p>\n<p>Essentially I'm wondering under what circumstances one would use <code>.sourceUri</code>, since I can now put non-URL URIs into the canonical datatype.</p>",
        "id": 153943786,
        "sender_full_name": "James Agnew",
        "timestamp": 1520861089
    },
    {
        "content": "<p>If the source is an actual FHIR ValueSet resource, you would use sourceCanonical, but if the source is a ValueSet, but not a FHIR resource (as in a valueset in the VSAC, identified by an OID), then you would use sourceUri.</p>",
        "id": 153943811,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1520864664
    },
    {
        "content": "<p>My understanding is canonical is always and only used to reference FHIR resources that have a canonical identifier (i.e. a url element).</p>",
        "id": 153943812,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1520864737
    },
    {
        "content": "<p>That's my understanding of the intent as well - that 'canonical' should always point (and should normally resolve) to a FHIR resource.  But I'm also noting that we don't actually say that in the documentation for the 'canonical' data type (<a href=\"http://build.fhir.org/datatypes.html#canonical\" target=\"_blank\" title=\"http://build.fhir.org/datatypes.html#canonical\">http://build.fhir.org/datatypes.html#canonical</a>) or on the 'Canonical URLs' page (<a href=\"http://build.fhir.org/references.html#canonical\" target=\"_blank\" title=\"http://build.fhir.org/references.html#canonical\">http://build.fhir.org/references.html#canonical</a>).</p>",
        "id": 153943818,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1520865867
    },
    {
        "content": "<p>What does it mean a \"FHIR ValueSet resource\"? Is that a ValueSet registered with FHIR or any ValueSet which can be return via FHIR ValueSet endpoint?</p>",
        "id": 153943848,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1520871947
    },
    {
        "content": "<p>If a terminology server returns a VSAC value value from ValueSet endpoint, should that be referenced as sourceUri or sourceCanonical?</p>",
        "id": 153943849,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1520872060
    },
    {
        "content": "<p>Anything experessed in FHIR form.</p>",
        "id": 153943865,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1520874354
    },
    {
        "content": "<p>Can it be generalized as using canonical for resource identified by url, using uri for resource identified by OID/UUID?</p>",
        "id": 153943872,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1520876769
    },
    {
        "content": "<p>Sounds like necessarily that wouldn't be correct, since technically a non-FHIR valueset could be identified by a URL and a FHIR ValueSet could have an OID as an identifier.</p>",
        "id": 153943879,
        "sender_full_name": "James Agnew",
        "timestamp": 1520877407
    },
    {
        "content": "<p>We should definitely clarify this usage in the canonical definition though, assuming that's the intent.</p>",
        "id": 153943880,
        "sender_full_name": "James Agnew",
        "timestamp": 1520877445
    },
    {
        "content": "<p>But you cannot use OID in canonical. Right?<br>\nWhat I mean is identify a ValueSet using OID.</p>",
        "id": 153943888,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1520877944
    },
    {
        "content": "<p>URI encoded OID --&gt; urn:oid:1.1.1.1.1.1     See <a href=\"https://healthcaresecprivacy.blogspot.com/2011/02/creating-and-using-unique-id-uuid-oid.html\" target=\"_blank\" title=\"https://healthcaresecprivacy.blogspot.com/2011/02/creating-and-using-unique-id-uuid-oid.html\">https://healthcaresecprivacy.blogspot.com/2011/02/creating-and-using-unique-id-uuid-oid.html</a></p>",
        "id": 153943889,
        "sender_full_name": "John Moehrke",
        "timestamp": 1520878562
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> I know that can be used for uri. Can it also be used for canonical?</p>",
        "id": 153943890,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1520878641
    },
    {
        "content": "<p>yes</p>",
        "id": 153943929,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1520883420
    },
    {
        "content": "<p>I'm not entirely sure when you'd use sourceCanonical either - we allow a bdining to a non-FHIR value set, for some special cases where there value set is a slippery beast but I don't see how you could concept map them... also, I was working on this on the plane.... we don't really need to allow a choice of URI anymore... we can just require a value set and gin up a value set resource now</p>",
        "id": 153943931,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1520883541
    },
    {
        "content": "<p>Yeah, I've been wondering about some of that.  We should make it as clear and simple as we can.  Do you have some plans?</p>",
        "id": 153943934,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1520883815
    },
    {
        "content": "<p>don't know. it's too late for the draft - so I guess it will be a ballot item that causes substantiative changes</p>",
        "id": 153943938,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1520883968
    },
    {
        "content": "<p>The newly introduced canonical is confusing. But as a non-profiler, I feel there is not much to worry about. I can continue to use urls on where I used before. Then I don't know why there is need for this new data type. Maybe I should re-read the whole thread about canonical.</p>",
        "id": 153943941,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1520884272
    },
    {
        "content": "<p>Can you clarify....does \"we don't really need to allow a choice of URI anymore....\" mean <code>source[x]</code> becomes [source] with type 'Reference' or just back to 'uri'?</p>",
        "id": 153943950,
        "sender_full_name": "Eric Haas",
        "timestamp": 1520885420
    },
    {
        "content": "<p>nah would be just source : canonical</p>",
        "id": 153943951,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1520885849
    },
    {
        "content": "<p>OK that was a bit confusing because you started your comment with \"I'm not entirely sure when you'd use sourceCanonical either ...\"</p>",
        "id": 153943953,
        "sender_full_name": "Eric Haas",
        "timestamp": 1520885908
    },
    {
        "content": "<p>duh, should have been sourceUri</p>",
        "id": 153943954,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1520885958
    },
    {
        "content": "<p>I'm not really sure why you'd ever want to us a URL rather than a URI to reference a ValueSet from ConceptMap.source</p>\n<p>I also worry about a URI like urn:foo|a with a version = x|y and thus a canonical looking like urn:foo|a|x|y and then the need to try every possible split on the | to resolve it.</p>",
        "id": 153944613,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1520988721
    }
]