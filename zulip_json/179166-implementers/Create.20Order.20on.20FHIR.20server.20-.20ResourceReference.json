[
    {
        "content": "<p>Hi guys,</p>\n<p>I am trying to place an Order into the Spark FHIR Server.<br>\nMy input is OrderDTO which has a structure like this:<br>\n{<br>\n\"PatientID\" : \"WD046960A\",<br>\n\"LabDetailsDTO\" : {<br>\n\"LabToken\" : \"Quest\",<br>\n\"LabFacility\" : \"MET\"<br>\n},</p>\n<p>\"OrderingProvider\" : {<br>\n   \"NPI\" : \"2341345025\",<br>\n   \"FirstName\" : \"OPFirstName\",<br>\n   \"LastName\" : \"OPLastName\",<br>\n   \"Address\" : null,<br>\n   \"HomePhoneNoDelimiters\" : \"435-342-1543\"<br>\n},</p>\n<p>\"LabOrders\" : [<br>\n   \"HEPC\",<br>\n   \"HIV\"<br>\n]<br>\n}</p>\n<p>I see the Order Subject / Source / Target - all of them are ResourceReference data types.<br>\nI have the patients in DB, so I am able to form the ResourceReference for the Patient.<br>\nI don't have the Ordering Provider in the DB, how should I handle adding the Ordering Provider to the Order object?</p>\n<p>var fhirOrder = new Order();<br>\n//get the patient resource from DB<br>\nvar q = new SearchParams().Add(\"identifier\", orderDTO.SafeEMRId).OrderBy(\"_lastUpdated\", SortOrder.Descending);<br>\nvar patientSearchEntry = fhirClient.Search&lt;Patient&gt;(q).Entry.Single();<br>\nfhirOrder.Subject = new ResourceReference { Reference = string.Format(\"Patient/{0}\", patientSearchEntry.Resource.Id) };<br>\nfhirOrder.Source = new ResourceReference { }; //??How to add the Ordering provider?</p>\n<p>return fhirOrder;</p>\n<p>Should I create an entry of Ordering Provider in DB and add a reference to it as I did for the subject?<br>\nAny help is greatly appreciated.</p>\n<p>Thanks<br>\nSantosh Jami</p>",
        "id": 153903441,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1503534951
    }
]