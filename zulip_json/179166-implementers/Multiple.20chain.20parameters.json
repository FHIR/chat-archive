[
    {
        "content": "<p>I try to write a query to get all Encounter where have <code>Patient.general-practitioner:Practitioner = {Id1}</code> and <code>Patient.general-practitioner:PractitionerRole = {Id2}</code>, and i try with 2 of this query</p>\n<p>[1] <code>Encounter?patient.general-practitioner:Practitioner.id=001&amp;patient.general-practitioner:PractitionerRole.id=002</code></p>\n<p>[2] <code>Encounter?patient.general-practitioner:Practitioner.id=002&amp;patient.general-practitioner:PractitionerRole.id=002</code></p>\n<p>Data base will like:</p>\n<p>Encounter 1: include Patient has practitioner id = 001 and practitionerRole id = 002<br>\nEncounter 2: include Patient has practitioner id = 002 and practitionerRole id = 002</p>\n<p>Expect:<br>\n[1] will return Encounter 1 and 2<br>\n[2] will return Encounter 1 and 2</p>\n<p>Actual:<br>\n[1] will return only Encounter 1<br>\n[2] will return Encounter 1 and 2</p>\n<p>My server: GCP FHIR</p>\n<p>Do you have any idea what happen ? Although  <a href=\"https://cloud.google.com/healthcare/docs/how-tos/fhir-advanced-search\">gcp docs</a> said <code>If the query has multiple chained parameters, each chain is evaluated separately</code><br>\ncc: <span class=\"user-mention\" data-user-id=\"197072\">@Paul Church</span></p>",
        "id": 203943710,
        "sender_full_name": "Hue Nguyen",
        "timestamp": 1594813126
    },
    {
        "content": "<p>For a reference search you want to do <code>Encounter?patient.general-practitioner=Practitioner/001&amp;patient.general-practitioner=PractitionerRole/002</code>.  Using <code>.id</code> (should be <code>._id</code> I think) is a second level of chaining.</p>\n<p>However this search is maybe not what you want since it is AND. It will only match an encounter E such that E.patient.general-practitioner=Practitioner/001 AND E.patient.general-practitioner=PractitionerRole/002. If you want an OR operation you need to do two searches.</p>",
        "id": 203977747,
        "sender_full_name": "Paul Church",
        "timestamp": 1594830027
    },
    {
        "content": "<p>Unless you do it in a _filter query which enables OR's</p>",
        "id": 203993065,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1594837247
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197072\">@Paul Church</span> i got this, Thank you for reply</p>",
        "id": 204038775,
        "sender_full_name": "Hue Nguyen",
        "timestamp": 1594867323
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> GCP doesn't support <code>filter</code>. So, i think i need make query twice</p>",
        "id": 204038793,
        "sender_full_name": "Hue Nguyen",
        "timestamp": 1594867359
    }
]