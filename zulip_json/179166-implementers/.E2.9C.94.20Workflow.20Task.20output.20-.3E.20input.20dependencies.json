[
    {
        "content": "<p>Hi, thanks for working on FHIR. We're wondering how the spec covers task output -&gt; input dependencies? We are using RequestGroups to define task execution order via action.relatedAction, but it is unclear to us whether and how it can be defined which Task.output is put into the next Task.input.</p>\n<p>One way we see would be to re-use the action.relatedAction for that if the involved actions are all tasks, but that doesn't seem to help with actually mapping a specific task output to another specific task input, potentially including transformation of the output before providing it as input.</p>",
        "id": 262567718,
        "sender_full_name": "Johannes Becker",
        "timestamp": 1637748209
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span></p>",
        "id": 262663638,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1637811152
    },
    {
        "content": "<p>Update:<br>\nWe have seen, that Task.input/output.type seems to be the specified way. We understand the input.type to be a code, that defines which output with the appropriate output.type should be used as input for the related next task. The task dependencies as per relatedAction help with defining when these data transfers happen. Sadly, this functionality does not seem to suffice for our workflow procedure.</p>\n<p>Our data dependency definition requirements are similar to general workflow definitions. For example, there is some tasks T1, T2 and T3.<br>\nT1 outputs type X<br>\nT2 needs input type X<br>\nT3 needs input types A and B<br>\nT1's output X should be put into T2's input X, but also into T3's input A. X, A and B are all the same datatype, they are just used for different purposes.</p>\n<p>We have two ideas to solve the issue and define clear data requirements, with a mapping of specific output types to specified input types:</p>\n<ol>\n<li>A custom (modifier)extension in relatedAction, which defines the data requirements (/mappings).</li>\n<li>A custom (modifier)extension with a StructureMap inside, which performs mapping from one Task resource to another. However, this would only modify an existing target Task resource partly (adding new inputs).</li>\n</ol>\n<p>Did we miss anything in the spec that could help us? How should such a case be handled the best up to the spec?<br>\nHow should such a StructureMap look like to perform such mapping?</p>",
        "id": 263027552,
        "sender_full_name": "Johannes Becker",
        "timestamp": 1638201586
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span></p>",
        "id": 263080951,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638227575
    },
    {
        "content": "<p>You've found the right part of the spec, but Bryn is the best person to help with the detailed usage.</p>",
        "id": 263080985,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638227603
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"459548\">@Johannes Becker</span> , in the R4 PlanDefinition and content, we typically use the <code>id</code> of the input/output elements to coordinate data flow through the actions. In R5, we have formalized this approach with a new <code>relatedData</code> element: <a href=\"https://build.fhir.org/plandefinition-definitions.html#PlanDefinition.action.input.relatedData\">https://build.fhir.org/plandefinition-definitions.html#PlanDefinition.action.input.relatedData</a></p>",
        "id": 263600599,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1638547637
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> Thanks for pointing out the R5 change, that looks like exactly what we need!</p>\n<p>I'm curious, are there workflow-specific FHIR spec meetings that implementers can attend as well? Mostly to follow progress and maybe also to give insights on how our experience with implementing the FHIR Workflow spec progresses if there's interest in that.</p>",
        "id": 263853367,
        "sender_full_name": "Johannes Becker",
        "timestamp": 1638799230
    },
    {
        "content": "<p>There is a regular FHIR workflow project on Mondays at 2 Eastern.  Details here: <a href=\"https://confluence.hl7.org/pages/viewpage.action?pageId=40743450\">https://confluence.hl7.org/pages/viewpage.action?pageId=40743450</a></p>\n<p>It's pretty wide-ranging, but we do touch on PlanDefinition/ActivityDefinition occasionally.</p>",
        "id": 263867395,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638804885
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459548\">Johannes Becker</span> has marked this topic as resolved.</p>",
        "id": 264143931,
        "sender_full_name": "Notification Bot",
        "timestamp": 1638964068
    }
]