[
    {
        "content": "<p>I am going to use FHIR Plain Server to just transform my raw JSON (which is actually a questionnaire) into a FHIR based JSON. I decided to do that, as FHIR Plain Server already has lots of models/classes and functinos to do data transformation. However, when I read the different operations (annotations) of FHIR Plain Server, none of annotaions and functions accept a JSON data. If you understand my goal, then please help me. And if you think that I am in a wrong way please help me; and also if you think that there are a better way to perform this data transformation please guide me.</p>",
        "id": 247197529,
        "sender_full_name": "Mohsen Jafari",
        "timestamp": 1627304055
    },
    {
        "content": "<p>did you look at this?<br>\n<a href=\"https://build.fhir.org/ig/HL7/sdc/extraction.html\">https://build.fhir.org/ig/HL7/sdc/extraction.html</a></p>",
        "id": 247199702,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1627305128
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179166-implementers/topic/Transform.20Raw.20JSON.20into.20FHIR.20JSON.20Using.20FHIR.20Plain.20Server/near/247199702\">said</a>:</p>\n<blockquote>\n<p>did you look at this?<br>\n<a href=\"https://build.fhir.org/ig/HL7/sdc/extraction.html\">https://build.fhir.org/ig/HL7/sdc/extraction.html</a></p>\n</blockquote>\n<p>But this link is not related to my question. I mean I want to transform my own JSON (which somehow includes the information that are related to a questionnaire) into a FHIR based JSON Questionnaire, and is it a correct way to use the HAPI Plain Server to do so?</p>",
        "id": 247200845,
        "sender_full_name": "Mohsen Jafari",
        "timestamp": 1627305718
    },
    {
        "content": "<p>How would happy know how to translate a random json file into any standardized resource? You convert your format into the standard format, after that what you do with it is up to you.</p>",
        "id": 247203236,
        "sender_full_name": "Daniel Venton",
        "timestamp": 1627306707
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"335936\">Daniel Venton</span> <a href=\"#narrow/stream/179166-implementers/topic/Transform.20Raw.20JSON.20into.20FHIR.20JSON.20Using.20FHIR.20Plain.20Server/near/247203236\">said</a>:</p>\n<blockquote>\n<p>How would happy know how to translate a random json file into any standardized resource? You convert your format into the standard format, after that what you do with it is up to you.</p>\n</blockquote>\n<p>Let's show you an example of my goal for clarification. Suppose I declare the following resource provider.</p>\n<p>import org.hl7.fhir.r4.model.Questionnaire;</p>\n<p>@Controller<br>\npublic class QuestionnaireResourceProvider implements IResourceProvider {</p>\n<div class=\"codehilite\"><pre><span></span><code>@Override\npublic Class&lt;? extends IBaseResource&gt; getResourceType() {\n    return Questionnaire.class;\n}\n\npublic Questionnaire transform(String some_json) {\n   // As I know the internal structure of some_json string value, then I can extract the required data for questionnaire in this line\n\n    // Then I can create a FHIR Questionnaire object and populate its properties with the above extracted information\n    Questionnaire q = new Questionnaire();\n\n    // And finally I can return the questionnaire as a FHIR based JSON Questionnaire\n    return q;\n}\n</code></pre></div>\n\n<p>}</p>\n<p>But, my questions:</p>\n<ul>\n<li>Is it a correct way to do so, or is there another specific solution for data transformation?</li>\n<li>If the above solution is a correct way, then what should I put as an annotaion for the above transform() endpoint?</li>\n<li>And any other idea/suggestion?</li>\n</ul>",
        "id": 247204547,
        "sender_full_name": "Mohsen Jafari",
        "timestamp": 1627307377
    },
    {
        "content": "<p>I'd say that you are trying to use HAPI in a manner that HAPI isn't intended for. However, I am not the HAPI expert, you might find something in <a class=\"stream\" data-stream-id=\"179167\" href=\"/#narrow/stream/179167-hapi\">#hapi</a> . It's possible that you could use the <a href=\"https://hapifhir.io/hapi-fhir/docs/server_plain/rest_operations.html#type_create\">https://hapifhir.io/hapi-fhir/docs/server_plain/rest_operations.html#type_create</a> operation, but then you have to check is it an actual FHIR Questionnaire or my custom format or other custom format #42..... If you can even convince hapi to pass in a non-fhir resource to begin with. For that matter you could put a custom string attribute on your now custom fhir server's @Search operation that translates a custom json into a standard resource. (@Search supports POST method).</p>",
        "id": 247207132,
        "sender_full_name": "Daniel Venton",
        "timestamp": 1627308645
    }
]