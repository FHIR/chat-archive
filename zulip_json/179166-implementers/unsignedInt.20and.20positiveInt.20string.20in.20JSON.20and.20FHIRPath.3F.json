[
    {
        "content": "<p>Why are the primitive data types unsignedInt and positiveInt are represented as string rather than number in JSON? In addition to that, why is the FHIRPath type of both values specified as <code>http://hl7.org/fhirpath/System.String</code> in the v4.0.1 StructureDefinitions when <a href=\"https://www.hl7.org/fhir/fhirpath.html\">https://www.hl7.org/fhir/fhirpath.html</a> says that FHIR.integer, FHIR.unsignedInt, FHIR.positiveInt should map to  System.Integer. Mostly the value type FHIR primitive types already matches the conversion table. Except for FHIR.date, but let's stay at the integers here.</p>\n<p>How do other implementers represent  unsignedInt and positiveInt in memory? Would it be any problem to just use a 32-bit signed integer here?</p>",
        "id": 210544182,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1600446650
    },
    {
        "content": "<p>In the spec, it says that unsignedInt and positiveInt are represented as JSON number:</p>\n<p>unsignedInt Any non-negative integer in the range 0..2,147,483,647  xs:nonNegativeInteger   JSON number<br>\npositiveInt Any positive integer in the range 1..2,147,483,647  xs:positiveInteger  JSON number</p>",
        "id": 210544441,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1600446793
    },
    {
        "content": "<p>Alexander: according the the <a href=\"http://hl7.org/fhir/datatypes.html\">datatypes</a> page, the JSON serialization is as a number.  The regex is provided for validation purposes.</p>\n<p>I'll note that in R5, there is now a 64-bit integer, which needs to be serialized as a string in JSON because a <code>number</code> will not guarantee precision.</p>\n<p>In C#, I use <code>uint</code> for unsigned and positive.  In JS/TS I use <code>number</code>.</p>",
        "id": 210544935,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1600447033
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> Ah you are right. At this point, JSON number is given. But here <a href=\"https://www.hl7.org/fhir/json.html#primitive\">https://www.hl7.org/fhir/json.html#primitive</a> only integer and decimal are given and the <a href=\"https://www.hl7.org/fhir/datatypes.html#attachment\">https://www.hl7.org/fhir/datatypes.html#attachment</a> example has the unsingedInt also as string.</p>",
        "id": 210545090,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1600447113
    },
    {
        "content": "<p>In <a href=\"http://jira.hl7.org/browse/FHIR-26937\">FHIR#26937</a> it also sounds like unsignedInt and positiveInt should be represented as strings like integer64. Looks like this should be clarified. </p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;id&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;positiveInt.value&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;path&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;positiveInt.value&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;representation&quot;</span> <span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"s2\">&quot;xmlAttr&quot;</span> <span class=\"p\">],</span>\n  <span class=\"nt\">&quot;short&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;Primitive value for positiveInt&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;definition&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;Primitive value for positiveInt&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;min&quot;</span> <span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;max&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;type&quot;</span> <span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&quot;extension&quot;</span> <span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;url&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;valueUrl&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;positiveInt&quot;</span>\n    <span class=\"p\">},</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;url&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/StructureDefinition/regex&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;valueString&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;[1-9][0-9]*&quot;</span>\n    <span class=\"p\">}</span> <span class=\"p\">],</span>\n    <span class=\"nt\">&quot;code&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhirpath/System.String&quot;</span>\n  <span class=\"p\">}</span> <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n\n<p>Also here, I would replace System.String with System.Integer.</p>",
        "id": 210546523,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1600447886
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 210549027,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1600449182
    },
    {
        "content": "<p>Ahh, I see the confusion.  I believe <span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> was asking that all three be specifically listed, not to imply that they are serialized as strings.<br>\nThe issue was started around \"integer64\" and the other types were tacked on aftwards.<br>\nEdit: If I remember correctly</p>",
        "id": 210549171,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1600449255
    },
    {
        "content": "<blockquote>\n<p>I would replace System.String with System.Integer.</p>\n</blockquote>\n<p>yes. Can you please make a task for this</p>",
        "id": 210571902,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600461060
    },
    {
        "content": "<p>Done it: <a href=\"https://jira.hl7.org/browse/FHIR-28586\">https://jira.hl7.org/browse/FHIR-28586</a></p>",
        "id": 210667588,
        "sender_full_name": "Alexander Kiel",
        "timestamp": 1600609266
    }
]