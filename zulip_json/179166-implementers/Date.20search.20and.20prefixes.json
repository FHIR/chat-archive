[
    {
        "content": "<p>The documentation on prefixes for search values has for prefix \"ge\":<br>\n\"the range above the search value intersects (i.e. overlaps) with the range of the target value, or the range of the search value fully contains the range of the target value\"</p>\n<p>So suppose my repository contains a patient with birthdate=\"2012\".  Then I would expect this search:<br>\n    [base]/Patient?birthdate=ge2012-06<br>\nTo return that patient, because the range of the search value (everything on or after 2012-06-01T00:00:00) intersects the range of the target value (implied range of 2012-01-01T00:00:00 to 2012-12-31T23:59:59).  But suppose I have two \"birthdate\" search values:<br>\n    [base]/Patient?birthdate=ge2012-06&amp;birthdate=le2012-09<br>\nI would expect each of those conditions on its own to return a patient with birthdate=\"2012\", so when they are combined that should also return that patient, right?  But something about that doesn't seem right.  I'm asking for patients with birthdate in a specific range, so is it really right to include a result that is most likely not in that range?  I guess it isn't \"more\" right or wrong than the first case with a single condition.  Any thoughts on this?  Is it just up to the server to decide how to handle this?</p>",
        "id": 153874058,
        "sender_full_name": "Jorge de la Garza",
        "timestamp": 1488303533
    },
    {
        "content": "<p>I would not expect the patient to be returned in any of the searches because we don't know that the answer is true. If the patient's birthdate is \"some time in 2012\", then the answer to the question \"was this patient born on or after June 1st, 2012\" has to be \"I don't know\", which would mean they wouldn't be returned in the search.</p>",
        "id": 153874073,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1488307902
    },
    {
        "content": "<p>search errs the other way: it's better to include than to omit. So you include the patient if it might match. </p>",
        "id": 153874161,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1488334166
    },
    {
        "content": "<p>Does the precision of the search parameter have to be &gt;= the results returned? <br>\nPerhaps a better way to frame my question would be does <code>eq2013-01-14T10:00:00</code> match with <code>2013-01-14</code>?</p>",
        "id": 237704265,
        "sender_full_name": "Aditya Kurkure",
        "timestamp": 1620324793
    },
    {
        "content": "<p>No, it does not match: 2013-01-14 is a 24 hours period, the search parameter is a 1 second period, and equality is defined as 'search period must contains target period'</p>",
        "id": 237708831,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1620326500
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/179166-implementers/topic/Date.20search.20and.20prefixes/near/237708831\">said</a>:</p>\n<blockquote>\n<p>No, it does not match: 2013-01-14 is a 24 hours period, the search parameter is a 1 second period, and equality is defined as 'search period must contains target period'</p>\n</blockquote>\n<p>Thanks. I am still a little confused because the standard specifies that 2013-01-14 could imply all times from 2013-01-14 till 2013-01-15. So that would include 2013-01-14T10:00:00 right?<br>\nPerhaps this could be specified in the standard?</p>",
        "id": 237771396,
        "sender_full_name": "Aditya Kurkure",
        "timestamp": 1620365876
    },
    {
        "content": "<p>The challenge is that 'eq' doesn't mean 'contains'.  You could propose we add a new relationship code for \"interesects with\".</p>",
        "id": 237819807,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620393127
    },
    {
        "content": "<blockquote>\n<p>So that would include 2013-01-14T10:00:00 right</p>\n</blockquote>\n<p>Yes, so searching for eq2013-01-14 would match 2013-01-14T10:00:00 - but not vice-versa<br>\nThe specs have all the details, see the third column of the table at <a href=\"http://hl7.org/fhir/search.html#prefix\">http://hl7.org/fhir/search.html#prefix</a></p>",
        "id": 237823327,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1620394506
    },
    {
        "content": "<p>Ah I see. Thanks <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span>.</p>",
        "id": 237931250,
        "sender_full_name": "Aditya Kurkure",
        "timestamp": 1620455775
    }
]