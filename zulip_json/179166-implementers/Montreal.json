[
    {
        "content": "<p>I have just upgraded my server (<a href=\"http://fhir3.healthintersections.com.au\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au\">http://fhir3.healthintersections.com.au</a>). This upgrade:<br>\n- fixes lots of invariant expressions (thx to Richard Ettema for help on this)<br>\n- fixes bugs in the patient compartment + adds support for the other compartments<br>\n- fixes reported bugs<br>\n- makes the latest definitions for montreal available (if you don't have svn - see <a href=\"http://fhir3.healthintersections.com.au/index.html\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au/index.html\">http://fhir3.healthintersections.com.au/index.html</a>)</p>",
        "id": 153823198,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1461692801
    },
    {
        "content": "<p>Grahame, the yellow box in the top of the <a href=\"http://fhir3.healthintersections.com.au/index.html\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au/index.html\">http://fhir3.healthintersections.com.au/index.html</a> says \"This is the Current officially released version of FHIR, which is DSTU 2\". I believe this should be aligned with <a href=\"http://www.hl7.org/fhir/2016May\" target=\"_blank\" title=\"http://www.hl7.org/fhir/2016May\">http://www.hl7.org/fhir/2016May</a>: \"This is a pre-release of a future version of FHIR (expected to be STU 3) for the 2016 May Montreal Connectathon and the CQF on FHIR Ballot. The current version is DSTU 2.\"</p>",
        "id": 153823206,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1461697643
    },
    {
        "content": "<p>BTW, <a href=\"http://fhir2.healthintersections.com.au/index.html\" target=\"_blank\" title=\"http://fhir2.healthintersections.com.au/index.html\">http://fhir2.healthintersections.com.au/index.html</a> says \"This is the Continuous Integration Build of FHIR (will be incorrect/inconsistent at times)\"</p>",
        "id": 153823207,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1461697680
    },
    {
        "content": "<p>yeah, both of those statements on my servers are wrong. just goes to show that the way i've built those sites is a bit haphazard</p>",
        "id": 153823209,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1461697748
    },
    {
        "content": "<p>I'll see if I can fix that</p>",
        "id": 153823210,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1461697754
    },
    {
        "content": "<p>Where is the schema file for Montreal?  Should I use the current build?</p>",
        "id": 153823975,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462107915
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/2016May/index.html\" target=\"_blank\" title=\"http://hl7.org/fhir/2016May/index.html\">http://hl7.org/fhir/2016May/index.html</a></p>",
        "id": 153823976,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1462109159
    },
    {
        "content": "<p>I tried a PUT to  <a href=\"http://fhir3.healthintersections.com.au/open/Patient\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au/open/Patient\">http://fhir3.healthintersections.com.au/open/Patient</a> which returned an access violation.  works on  <a href=\"http://fhir2.healthintersections.com.au/open/Patient\" target=\"_blank\" title=\"http://fhir2.healthintersections.com.au/open/Patient\">http://fhir2.healthintersections.com.au/open/Patient</a>  so I suspect is not on my end?</p>",
        "id": 153823977,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462109701
    },
    {
        "content": "<p>what did you put? </p>",
        "id": 153823982,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462118331
    },
    {
        "content": "<p><a href=\"http://fhir3.healthintersections.com.au/open/MedicationStatement/dafmed-1001\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au/open/MedicationStatement/dafmed-1001\">http://fhir3.healthintersections.com.au/open/MedicationStatement/dafmed-1001</a></p>",
        "id": 153824030,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462127018
    },
    {
        "content": "<p>Access violation at address 0000000001631CCD in module 'FHIRServer.exe'. Write of address 0000000000000018</p>",
        "id": 153824031,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462127066
    },
    {
        "content": "<p>Also clicking on Eric's link, I can't help noticing</p>\n<blockquote>\n<p>Server Home. | FHIR Â© <a href=\"http://HL7.org\" target=\"_blank\" title=\"http://HL7.org\">HL7.org</a> 2011 - 2013.  |  FHIR Version 1.4.0</p>\n</blockquote>\n<p>(Should probably extend to 2016.)</p>",
        "id": 153824032,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1462128118
    },
    {
        "content": "<p>Eric this hasn't brought me clarity. You PUT a Medication statement to the Patient end-point? </p>",
        "id": 153824036,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462129848
    },
    {
        "content": "<p>Tried several different resources seems to be operator errors so far - I was getting lazy since the DSTU2 version  didn't  require Accept and Content-types in header I skipped them.</p>",
        "id": 153824040,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462130429
    },
    {
        "content": "<p>when I add them in the PUTs work just fine</p>",
        "id": 153824041,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462130459
    },
    {
        "content": "<p>oh? have i changed behaviour on this? That's probably a side effect of adding RDF and JSON-LD support</p>",
        "id": 153824044,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462130564
    },
    {
        "content": "<p>Its not clear to me the difference.  in DSTU2 the resources load without headers but errors when add headers..  in STU3 the opposite is true.  I'm also trying to load condition but getting this error....</p>",
        "id": 153824045,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462130671
    },
    {
        "content": "<p>Error in profile for Condition.onsetDateTime multiple types defined in slice discriminator</p>",
        "id": 153824046,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462130695
    },
    {
        "content": "<p>load --&gt; you mean \"put\" them? </p>",
        "id": 153824047,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462130732
    },
    {
        "content": "<p>Is that a profile error and not an instance error.  i.e. no matter what - it will always error</p>",
        "id": 153824048,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462130735
    },
    {
        "content": "<p>yes PUT</p>",
        "id": 153824049,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462130742
    },
    {
        "content": "<p>so you put XML(?) without a content-type header, and it works on <a href=\"http://fhir2.healthintersections.com.au\" target=\"_blank\" title=\"http://fhir2.healthintersections.com.au\">fhir2.healthintersections.com.au</a>? but not on fhir3? what are you using for a header?</p>",
        "id": 153824050,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462130787
    },
    {
        "content": "<p>PUT <a href=\"http://fhir2.healthintersections.com.au/open/MedicationStatement/dafmed-1001\" target=\"_blank\" title=\"http://fhir2.healthintersections.com.au/open/MedicationStatement/dafmed-1001\">http://fhir2.healthintersections.com.au/open/MedicationStatement/dafmed-1001</a> HTTP/1.1<br>\nUser-Agent: Fiddler<br>\nHost: <a href=\"http://fhir2.healthintersections.com.au\" target=\"_blank\" title=\"http://fhir2.healthintersections.com.au\">fhir2.healthintersections.com.au</a><br>\nContent-Length: 1167</p>",
        "id": 153824051,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462130868
    },
    {
        "content": "<p>PUT <a href=\"http://fhir3.healthintersections.com.au/open/MedicationStatement/dafmed-1001\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au/open/MedicationStatement/dafmed-1001\">http://fhir3.healthintersections.com.au/open/MedicationStatement/dafmed-1001</a> HTTP/1.1<br>\nUser-Agent: Fiddler<br>\nHost: <a href=\"http://fhir3.healthintersections.com.au\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au\">fhir3.healthintersections.com.au</a><br>\nContent-Length: 1167<br>\nContent-type: application/xml+fhir<br>\nAccept: application/xml+fhir</p>",
        "id": 153824052,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462130999
    },
    {
        "content": "<p>These PUTs return a 200,  The opposite returns errros</p>",
        "id": 153824053,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462131045
    },
    {
        "content": "<p>the error on fhir2 indicates I have real problems with the older version; my forked version of the build is not escaping or unescaping something properly, but it shouldn't work without that. weird</p>",
        "id": 153824054,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462131427
    },
    {
        "content": "<p>Re profile error - likely a DAF Tracker already will check.  but fixed by removing the element for now.</p>",
        "id": 153824055,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462131856
    },
    {
        "content": "<p>fixed the other error - will put a new server live soon</p>",
        "id": 153824056,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462131879
    },
    {
        "content": "<p>it was because of RDF</p>",
        "id": 153824057,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462131916
    },
    {
        "content": "<p>Other error?</p>",
        "id": 153824058,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462132036
    },
    {
        "content": "<p>the need for the content-type header</p>",
        "id": 153824059,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462132143
    },
    {
        "content": "<p>which is case sensitive btw</p>",
        "id": 153824060,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462132148
    },
    {
        "content": "<p>Content-Type not Content-type</p>",
        "id": 153824061,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462132161
    },
    {
        "content": "<p>OK  thanks,  I made that change.  Observation is erroring on PUTs.  Fetched a resource from the STU 3 server and when try to PUT get this....</p>",
        "id": 153824062,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462132661
    },
    {
        "content": "<p>\"This does not appear to be a FHIR resource (unknown namespace/name \"<a href=\"http://hl7.org/fhir::Observation\" target=\"_blank\" title=\"http://hl7.org/fhir::Observation\">http://hl7.org/fhir::Observation</a>\") at line 0 col 0\"</p>",
        "id": 153824063,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462132747
    },
    {
        "content": "<p>here is resource...</p>",
        "id": 153824064,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462132767
    },
    {
        "content": "<p>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br>\n&lt;Observation xmlns=\"<a href=\"http://hl7.org/fhir\" target=\"_blank\" title=\"http://hl7.org/fhir\">http://hl7.org/fhir</a>\"&gt;<br>\n    &lt;id value=\"1\"/&gt;...</p>",
        "id": 153824065,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462132771
    },
    {
        "content": "<p>Interestingly get this error in DSTU2...</p>",
        "id": 153824066,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462132860
    },
    {
        "content": "<p>\"Error in component.where(code = $context.code).empty() at 32: Found . expecting a valid token name\"</p>",
        "id": 153824067,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462132868
    },
    {
        "content": "<p>all the observations I tried to put (~30)  in a batch error the same way.</p>",
        "id": 153824068,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462132926
    },
    {
        "content": "<p>hmm works on my local copy</p>",
        "id": 153824069,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462133142
    },
    {
        "content": "<p>I won't be upgrading soon; my connection is too limited to upload the new server</p>",
        "id": 153824070,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462133591
    },
    {
        "content": "<p>I won't be upgrading soon; my connection is too limited to upload the new server</p>",
        "id": 153824071,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462133591
    },
    {
        "content": "<p>np</p>",
        "id": 153824072,
        "sender_full_name": "Eric Haas",
        "timestamp": 1462133617
    },
    {
        "content": "<p>Shouldn't be case sensitive...</p>\n<p><a href=\"http://stackoverflow.com/questions/5258977/are-http-headers-case-sensitive\" target=\"_blank\" title=\"http://stackoverflow.com/questions/5258977/are-http-headers-case-sensitive\">http://stackoverflow.com/questions/5258977/are-http-headers-case-sensitive</a></p>\n<blockquote>\n<p>From RFC 2616 - \"Hypertext Transfer Protocol -- HTTP/1.1\", Section 4.2, \"Message Headers\":</p>\n<blockquote>\n<p>Each header field consists of a name followed by a colon (\":\") and the field value. Field names are case-insensitive.</p>\n</blockquote>\n</blockquote>",
        "id": 153824073,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1462133638
    },
    {
        "content": "<p>oh? ok. that means that my server is right not to be case sensitive after all</p>",
        "id": 153824074,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462133783
    },
    {
        "content": "<p>For header field names, yes.</p>",
        "id": 153824075,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1462133910
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> your fhir3 server metadata is still listing lookup as being defined on ValueSet rather than CodeSystem (as is defined and implemented) --  \"reference\" : \"<a href=\"http://hl7.org/fhir/OperationDefinition/ValueSet-lookup\" target=\"_blank\" title=\"http://hl7.org/fhir/OperationDefinition/ValueSet-lookup\">http://hl7.org/fhir/OperationDefinition/ValueSet-lookup</a>\"</p>",
        "id": 153824703,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1462467610
    },
    {
        "content": "<p>where is this reference?</p>",
        "id": 153824740,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462485708
    },
    {
        "content": "<p>Someone just reported a rather savage bug in the generated schemas for the connectathon. Corrected schemas are posted here: </p>",
        "id": 153824742,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462487305
    },
    {
        "content": "<p>Corrected schemas are available at <a href=\"http://www.healthintersections.com.au/fhir-2016-may-schema.zip\" target=\"_blank\" title=\"http://www.healthintersections.com.au/fhir-2016-may-schema.zip\">http://www.healthintersections.com.au/fhir-2016-may-schema.zip</a></p>",
        "id": 153824743,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462487305
    },
    {
        "content": "<p>That's a fragment of the json returned from <a href=\"http://fhir3.healthintersections.com.au/open/metadata\" target=\"_blank\" title=\"http://fhir3.healthintersections.com.au/open/metadata\">http://fhir3.healthintersections.com.au/open/metadata</a><br>\n         \"operation\" : [<br>\n            // ...<br>\n            {<br>\n               \"name\" : \"lookup\",<br>\n               \"definition\" : {<br>\n                  \"reference\" : \"<a href=\"http://hl7.org/fhir/OperationDefinition/ValueSet-lookup\" target=\"_blank\" title=\"http://hl7.org/fhir/OperationDefinition/ValueSet-lookup\">http://hl7.org/fhir/OperationDefinition/ValueSet-lookup</a>\"<br>\n               }<br>\n            },</p>",
        "id": 153824868,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1462560290
    },
    {
        "content": "<div class=\"codehilite\"><pre>$ curl -s  &#39;http://hooks.fhir.me:8081/cms-price-check/$cds-hook-metadata&#39; | json\n{\n  &quot;resourceType&quot;: &quot;Parameters&quot;,\n  &quot;parameter&quot;: [\n    {\n      &quot;name&quot;: &quot;name&quot;,\n      &quot;valueString&quot;: &quot;CMS Pricing Service&quot;\n    },\n    {\n      &quot;name&quot;: &quot;description&quot;,\n      &quot;valueString&quot;: &quot;Estimate the price of a prescription based on historical pharmacy dispensing data&quot;\n    },\n    {\n      &quot;name&quot;: &quot;activity&quot;,\n      &quot;valueCoding&quot;: {\n        &quot;system&quot;: &quot;http://cds-hooks.smarthealthit.org/activity&quot;,\n        &quot;code&quot;: &quot;medication-prescribe&quot;\n      }\n    },\n    {\n      &quot;name&quot;: &quot;preFetchTemplate&quot;,\n      &quot;valueString&quot;: &quot;Patient/{{Patient.id}}&quot;\n    }\n  ]\n}\n</pre></div>",
        "id": 153824869,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1462560457
    },
    {
        "content": "<p>Note that we're working on a simplified spec (to unveil tomorrow, so it can go head-to-head and cause maximum confusion ;-)) that looks like:</p>\n<div class=\"codehilite\"><pre>$ curl -s  &#39;http://hooks.fhir.me:8082/.well-known/cds-services&#39; | json\n{\n  &quot;services&quot;: [\n    {\n      &quot;name&quot;: &quot;CMS Pricing Service&quot;,\n      &quot;id&quot;: &quot;cms-price-check&quot;,\n      &quot;description&quot;: &quot;Estimate the price of a prescription based on historical pharmacy dispensing data&quot;,\n      &quot;hook&quot;: &quot;medication-prescribe&quot;\n    },\n    {\n      &quot;id&quot;: &quot;patient-hello-world&quot;,\n      &quot;name&quot;: &quot;Patient hello world&quot;,\n      &quot;description&quot;: &quot;Greet patient by name&quot;,\n      &quot;hook&quot;: &quot;patient-view&quot;,\n      &quot;prefetch&quot;: {\n        &quot;patientToGreet&quot;: &quot;Patient/{{Patient.id}}&quot;\n      }\n    }\n  ]\n}\n</pre></div>",
        "id": 153824870,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1462560511
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span>  - thanks, fixed</p>",
        "id": 153824875,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462567874
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> , tomorrow? really?</p>",
        "id": 153824876,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1462567925
    }
]