[
    {
        "content": "<p>In our health system we have a number of coding system that were created in house. The easy path to codify these in FHIR would be to create a code system for each of these source code systems. Ideally we would like to have 1 CodeSystem resource for all of the codes. I think this would be ok if we could guarantee that there is no duplication of a code across the source systems. Use of the Designation field could be a way to differentiate the codes, but I think there is still the issue of doing a lookup or search returning multiple codes or just not working at all. I wonder if anyone has faced this kind of scenario and has any thoughts on how avoid the multitude of code system resources.</p>",
        "id": 228236661,
        "sender_full_name": "Bob Pratt",
        "timestamp": 1614608191
    },
    {
        "content": "<p>Designation is for human display, not for computable differentiation.  You can't count on it being shared.  It's totally fine to dump all your codes in one big code system if they're all unique (and will continue to remain unique as you continue to define new codes).  However, think about how you'll define value sets that will refer to the specific subsets of codes you need.  You may need to put properties on your codes or make them specializations of abstract codes to allow easy filtering with value sets.  When you do a search against CodeSystem you'll always get back the full CodeSystem (with all the codes).  The $lookup operation will only give you the specific code you're seeking.</p>",
        "id": 228240537,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1614609429
    },
    {
        "content": "<p>Would anybody outside of your organization ever need to know your dictionary (code system) definitions? If so then a custom in-house dictionary doesn't help anybody. I'd suggest you convert all of your internal items to standards based valuesets/dictionaries. Big work I know, but pays off in the long run with the complete absence of translation processes.</p>",
        "id": 228444509,
        "sender_full_name": "Daniel Venton",
        "timestamp": 1614704334
    },
    {
        "content": "<p>Thanks for the responses. I have been leaning toward separate code systems . it really makes sense, especially since I cannot guarantee a collision of codes across source systems. However one approach would be to allow these, and designate each appropriately. the $lookup (I think but have not tested) would return both and the consumer could siphon out which one they need in their context based on the designation.  This I suppose could work for building valuesets based on the code system as well. Sounds Clunky though.  Thoughts ?</p>",
        "id": 228674821,
        "sender_full_name": "Bob Pratt",
        "timestamp": 1614808193
    },
    {
        "content": "<p>If you do a $lookup on a code, you can only get back one code - if there were multiple matches, that'd be an error.</p>",
        "id": 228682043,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1614811345
    }
]