[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, I believe a bug has been injected in the IG Publisher. I am trying to use the latest version of the ig publisher on the C-CDA on FHIR project. When I run the latest version of the IG Publisher, I get this error:</p>\n<div class=\"codehilite\"><pre><span></span>Validating Resources                                                             (28.0178sec)\nException in thread &quot;main&quot; java.lang.Error: Can&#39;t do this right now\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.opMemberOf(FHIRPathEngine.java:1453)\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.operate(FHIRPathEngine.java:1146)\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.execute(FHIRPathEngine.java:927)\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.execute(FHIRPathEngine.java:908)\n</pre></div>\n\n\n<p>However, when I run the same IG through a previous version of the IG Publisher, I do not get any errors.</p>\n<p>The error is not descriptive enough to tell me which resource it is having problems processing, or what the problem actually is. Can you take a look at this?</p>\n<p>I am using the files from C-CDA on FHIR IG, located here: <a href=\"https://github.com/HL7/ccda-on-fhir\" target=\"_blank\" title=\"https://github.com/HL7/ccda-on-fhir\">https://github.com/HL7/ccda-on-fhir</a></p>",
        "id": 153896396,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1499459572
    },
    {
        "content": "<p>the answer is not immediately obvious. Nothing has changed down near that code. I will have to debug it, but I can't run right now, and it will probably be 24 hours before I can</p>",
        "id": 153896402,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1499466889
    },
    {
        "content": "<p>FYI is not causing this error for me - just tried the latest publisher.  I think I got this error a while back when playing around with the logical model.</p>",
        "id": 153896404,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499469828
    },
    {
        "content": "<p>the answer is: someone fixed something somewhere else that was stopping this bug from occurring, Now I'll have to fix this bug</p>",
        "id": 153896409,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1499503247
    },
    {
        "content": "<p>well, I will have to implement this unimplemented feature</p>",
        "id": 153896410,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1499503264
    },
    {
        "content": "<p>I think I have implemented it</p>",
        "id": 153896416,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1499523629
    },
    {
        "content": "<p>So, should I try again and see if it works? Is that what you're saying?</p>",
        "id": 153896544,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1499723292
    },
    {
        "content": "<p>yes</p>",
        "id": 153896570,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1499748564
    },
    {
        "content": "<p>updating us-core and got this new error that I have never before seen and can't debug.<br>\n    Validating Resources                                                             (41.0021sec)<br>\n    Exception in thread \"main\" java.lang.Error: Not done yet - resolve Practitioner/practitioner-1 locally<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator$ValidatorHostServices.resolveReference(InstanceValidator.java:196)<br>\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.funcResolve(FHIRPathEngine.java:2458)<br>\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.evaluateFunction(FHIRPathEngine.java:2117)<br>\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.execute(FHIRPathEngine.java:899)<br>\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.execute(FHIRPathEngine.java:913)<br>\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.execute(FHIRPathEngine.java:908)<br>\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.evaluate(FHIRPathEngine.java:381)<br>\n        at org.hl7.fhir.r4.utils.FHIRPathEngine.evaluateToBoolean(FHIRPathEngine.java:439)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.checkInvariants(InstanceValidator.java:3349)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.validateElement(InstanceValidator.java:2981)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.validateElement(InstanceValidator.java:3283)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.start(InstanceValidator.java:2385)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.validateResource(InstanceValidator.java:3450)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.validateContains(InstanceValidator.java:2948)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.validateElement(InstanceValidator.java:3222)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.validateElement(InstanceValidator.java:3283)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.start(InstanceValidator.java:2369)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.validateResource(InstanceValidator.java:3450)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.validate(InstanceValidator.java:642)<br>\n        at org.hl7.fhir.r4.validation.InstanceValidator.validate(InstanceValidator.java:603)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:2157)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:2133)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:358)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:323)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3829)</p>",
        "id": 153896608,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499794959
    },
    {
        "content": "<p>Ironic that you bring this up.. I just posted this: <a href=\"https://chat.fhir.org/#narrow/stream/implementers/subject/references.20to.20samples.20in.20dependencyList\" target=\"_blank\" title=\"https://chat.fhir.org/#narrow/stream/implementers/subject/references.20to.20samples.20in.20dependencyList\">https://chat.fhir.org/#narrow/stream/implementers/subject/references.20to.20samples.20in.20dependencyList</a></p>",
        "id": 153896622,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1499801327
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , FYI, the fix you made seems to work for me. Rick mentioned he wasn't seeing the same results, though... So, he and I are planning to look at it together tomorrow.</p>",
        "id": 153896623,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1499801375
    },
    {
        "content": "<p>This is in US Core which I am applying some technical edits too.</p>",
        "id": 153896629,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499803972
    },
    {
        "content": "<p>I will try and get to this in the next day</p>",
        "id": 153896634,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1499806121
    }
]