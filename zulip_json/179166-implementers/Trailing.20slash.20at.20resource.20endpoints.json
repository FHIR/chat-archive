[
    {
        "content": "<p>Hi all,<br>\nWondering if there has been any general guidance on handling of trailing slashes at a FHIR resource endpoint.<br>\n\"http://[base]/Practitioner/\" -- is this considered:<br>\n1) bad syntax resulting in a 400 (unable to interpret intent of request)<br>\n2) missing resource id (assumes the intent was [base]/Practitioner/134 but id was left off)<br>\n3) 404 (similar to missing resource id)<br>\n4) some other behaviour?</p>",
        "id": 196937834,
        "sender_full_name": "Ken Sinn",
        "timestamp": 1588965059
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 196938301,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588965305
    },
    {
        "content": "<p>I believe the HAPI implementation drops the forward slash and interprets it as \"[base]/Practitioner\" i.e. a request for all resources at the endpoint. <a href=\"http://hapi.fhir.org/baseR4/Patient/\" title=\"http://hapi.fhir.org/baseR4/Patient/\">http://hapi.fhir.org/baseR4/Patient/</a></p>",
        "id": 196939086,
        "sender_full_name": "Ken Sinn",
        "timestamp": 1588965713
    },
    {
        "content": "<p>so does <a href=\"http://test.fhir.org\" title=\"http://test.fhir.org\">test.fhir.org</a></p>",
        "id": 196941347,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588966878
    },
    {
        "content": "<p>and I think it's the least unreasonable behavior</p>",
        "id": 196941374,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588966891
    },
    {
        "content": "<p>Should it be codified as required, or at least preferred behavior?</p>",
        "id": 196943891,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1588968158
    },
    {
        "content": "<p>yes it probably should be clarified</p>",
        "id": 196963036,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588982168
    },
    {
        "content": "<p>Change request anyone? :)</p>",
        "id": 196963062,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588982229
    },
    {
        "content": "<p>I can create the CR. Is the guidance that a trailing forward slash should be dropped, and interpreted as above? Is the guidance that this is a preferred behaviour, rather than a Must?</p>",
        "id": 197148851,
        "sender_full_name": "Ken Sinn",
        "timestamp": 1589205569
    },
    {
        "content": "<p>It's certainly preferred.  I'm not sure we can make it SHALL anymore</p>",
        "id": 197194010,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589225821
    },
    {
        "content": "<p>Are there any conformance rules requiring a server return all Patient resources against an \"<a href=\"http://hapi.fhir.org/baseR4/Patient\">http://hapi.fhir.org/baseR4/Patient</a>\" endpoint (or your insert your favourite resource)? I'm trying to scour through the HTTP and Search pages, and while that's the typical behaviour, i.e. a criteria-less search (as seen on many test servers), we would like to return an HTTP error, due to potential privacy concerns.</p>",
        "id": 197208315,
        "sender_full_name": "Ken Sinn",
        "timestamp": 1589233394
    },
    {
        "content": "<p>No, there is no such rule. Most 'real' servers reject those kind of requests</p>",
        "id": 197208511,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1589233513
    },
    {
        "content": "<p>What is the typical error returned for such requests? 400 Bad request (poor syntax), 403 Forbidden, 405 Method Not Allowed, 422 Unprocessable Entity?</p>",
        "id": 197209625,
        "sender_full_name": "Ken Sinn",
        "timestamp": 1589234172
    },
    {
        "content": "<p>I would recommend 422 - it's a business rule that you don't support a search like that</p>",
        "id": 197222289,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589243015
    },
    {
        "content": "<p>CR created - <a href=\"https://jira.hl7.org/browse/FHIR-27113\">https://jira.hl7.org/browse/FHIR-27113</a><br>\nCould the expected behaviour of \"http://[base]/[resourceType]\" also be clarified, along with the recommendation of \"422\" as noted above for most production implementations? Should this be a separate CR, or appended as a comment to the CR above?</p>",
        "id": 197455143,
        "sender_full_name": "Ken Sinn",
        "timestamp": 1589394121
    }
]