[
    {
        "content": "<p>I've just spent a few days working with translations on string and mark down types. I want to dig up an old thread and see whether this is a good time to progress it or not.</p>",
        "id": 153924418,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513057588
    },
    {
        "content": "<p>currently, a translation on a CodeSystem.description would be represented like this:</p>",
        "id": 153924419,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513057609
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>  <span class=\"nt\">&lt;description</span> <span class=\"na\">value=</span><span class=\"s\">&quot; The gender of a person used for adminstrative purposes (as opposed to clinical gender)&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">&quot;http://hl7.org/fhir/StructureDefinition/translation&quot;</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">&quot;lang&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;valueString</span> <span class=\"na\">value=</span><span class=\"s\">&quot;nl&quot;</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;/extension&gt;</span>\n          <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">&quot;content&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;valueString</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Het geslacht van een persoon bedoeld voor administratieve doeleinden (in tegenstelling tot klinisch geslacht)&quot;</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;/extension&gt;</span>\n        <span class=\"nt\">&lt;/extension&gt;</span>\n  <span class=\"nt\">&lt;/description&gt;</span>\n</pre></div>",
        "id": 153924421,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513057758
    },
    {
        "content": "<p>I promised a little (well, not so little) while ago to bring up the subject of improving this. Specifically, we could say that for <em>this extension</em> (and this one alone), there's a XML and JSON specific way to have a more efficient serialization.</p>",
        "id": 153924422,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513057818
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span> <span class=\"nt\">&lt;description</span>\n    <span class=\"na\">value=</span><span class=\"s\">&quot;The gender of a person used for adminstrative purposes (as opposed to clinical gender)&quot;</span>\n    <span class=\"na\">value:nl=</span><span class=\"s\">&quot;Het geslacht van een persoon bedoeld voor administratieve doeleinden (in tegenstelling tot klinisch geslacht)&quot;</span><span class=\"nt\">/&gt;</span>\n</pre></div>",
        "id": 153924423,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513057852
    },
    {
        "content": "<p>or in Json:</p>",
        "id": 153924424,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513057864
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;description&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;The gender of a person used for adminstrative purposes (as opposed to clinical gender)&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;description:nl&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;Het geslacht van een persoon bedoeld voor administratieve doeleinden (in tegenstelling tot klinisch geslacht)&quot;</span>\n<span class=\"p\">}</span>\n</pre></div>",
        "id": 153924425,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513057904
    },
    {
        "content": "<p>Does this apply for resource and attribute type descriptions only, or also for resource content?</p>",
        "id": 153924426,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1513058067
    },
    {
        "content": "<p>I propose this as a special case. There's several reasons why no other extension could be or should be treated like this. And the way we represent translations has come up consistently for implementers</p>",
        "id": 153924427,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513058069
    },
    {
        "content": "<p>Don't understand the question. As proposed, it applies to the types string, code  and markdown</p>",
        "id": 153924428,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513058120
    },
    {
        "content": "<p>(as the extension does)</p>",
        "id": 153924429,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513058126
    },
    {
        "content": "<p>so we could have something like:<br>\n{<br>\n  \"resourceType\": \"Location\",<br>\n  \"address\": {<br>\n    \"line:nl\": [\"Brusselsesteenweg, 121\"]<br>\n    \"line:fr\": [\"Chaussée de Bruxelles, 121\"]</p>\n<p>?</p>",
        "id": 153924431,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1513058379
    },
    {
        "content": "<p>(i did not understand if this was for supporting translation of the specification, or for supporting multilangual content)</p>",
        "id": 153924432,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1513058543
    },
    {
        "content": "<p>multi-lingual content. So yes, you could have what you have above, though I need to think about arrays. but we've generally held that addresses are not the target audience here</p>",
        "id": 153924440,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513060136
    },
    {
        "content": "<p>ok then it seems to make sense. Is there an assumption that :en is the default language?</p>",
        "id": 153924442,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1513060202
    },
    {
        "content": "<p>or that if your default language is :fr then you can leave all attributes without any reference?</p>",
        "id": 153924445,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1513060277
    },
    {
        "content": "<p>in other words: if default language is fr, do you have</p>\n<div class=\"codehilite\"><pre><span></span>  &quot;description&quot; : &quot;je ne parle pas français&quot;,\n  &quot;description:nl&quot; : &quot;Het geslacht van een persoon bedoeld voor administratieve doeleinden (in tegenstelling tot klinisch geslacht)&quot;\n</pre></div>\n\n\n<p>or </p>\n<div class=\"codehilite\"><pre><span></span>  &quot;description:fr&quot; : &quot;je ne parle pas français&quot;,\n  &quot;description:nl&quot; : &quot;Het geslacht van een persoon bedoeld voor administratieve doeleinden (in tegenstelling tot klinisch geslacht)&quot;\n</pre></div>",
        "id": 153924448,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1513060370
    },
    {
        "content": "<p>in any case i think the concept is useful.</p>",
        "id": 153924449,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1513060410
    },
    {
        "content": "<p>The presumption that the base attribute would have the string expressed in the language of Resource.language (or the environment-presumed default for that attribute)?</p>",
        "id": 153924450,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513060423
    },
    {
        "content": "<p>ah, resource.language. Thanks!</p>",
        "id": 153924451,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1513060476
    },
    {
        "content": "<p>makes sense.</p>",
        "id": 153924452,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1513060562
    },
    {
        "content": "<p>Looks nice, but the proposal seems incompatible with XML syntax?<br>\ni.e. XML deserializer will interpret attribute name \"value:nl\" as namespace = \"value\", attributename = \"nl\"</p>",
        "id": 153924471,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1513076576
    },
    {
        "content": "<p>(and probably complain about missing namespace declaration \"value\")</p>",
        "id": 153924472,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1513076602
    },
    {
        "content": "<p>hmm. yes. have to use a different separator</p>",
        "id": 153924483,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513080489
    },
    {
        "content": "<p>would make sense to use \".\" - so</p>",
        "id": 153924640,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513120101
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;description</span>\n    <span class=\"na\">value=</span><span class=\"s\">&quot;The gender of a person used for adminstrative purposes (as opposed to clinical gender)&quot;</span>\n    <span class=\"na\">value.nl=</span><span class=\"s\">&quot;Het geslacht van een persoon bedoeld voor administratieve doeleinden (in tegenstelling tot klinisch geslacht)&quot;</span><span class=\"nt\">/&gt;</span>\n</pre></div>",
        "id": 153924641,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513120154
    },
    {
        "content": "<p>to see any example of translations at work, see <a href=\"http://build.fhir.org/v3/AdministrativeGender/cs.html\" target=\"_blank\" title=\"http://build.fhir.org/v3/AdministrativeGender/cs.html\">http://build.fhir.org/v3/AdministrativeGender/cs.html</a></p>",
        "id": 153924642,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513120171
    },
    {
        "content": "<p>How would this work with FHIR-path?</p>",
        "id": 153924663,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513140044
    },
    {
        "content": "<p>(I'm thinking the \".\" might cause problems there...)</p>",
        "id": 153924664,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513140056
    },
    {
        "content": "<p>it would be transparent to fhirpath</p>",
        "id": 153924665,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513142144
    },
    {
        "content": "<p>So FHIRPath would grab the extension using the URL the same as any other extension?</p>",
        "id": 153924672,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513144482
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span>?</p>",
        "id": 153924695,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1513160389
    },
    {
        "content": "<p>How is this transparent to FhirPath?  Which \"value\" would a path return if it has two values?  What would CodeSystem.description return?</p>",
        "id": 153924713,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1513165534
    },
    {
        "content": "<p>Is Lloyd saying this would become visible as an extension in the \"logical\" model underlying FhirPath?</p>",
        "id": 153924715,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1513165558
    },
    {
        "content": "<p>If it's just a syntax generator, it'd be no different than the \"_birthdate\" in JSON.  In FHIRPath you'd still need to use the full URL to access the translation - unless we come up with something special in FHIRPath too...</p>",
        "id": 153924750,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513180133
    },
    {
        "content": "<p>yes that's my proposal.</p>",
        "id": 153924842,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513192439
    },
    {
        "content": "<p>same as any other extension or coming up with something special in FHIRPath too?</p>",
        "id": 153924895,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513197908
    },
    {
        "content": "<p>This looks like an extension that does not get wrapped in an extension element. Is that right?</p>",
        "id": 153925082,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1513209412
    },
    {
        "content": "<p>well yes, though a little bit more than just 'not wrapped in an extension element</p>",
        "id": 153925085,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513211637
    },
    {
        "content": "<p>In FHIR the Resource is essentially the atomic unit of communication. To me it sounds more reasonable to then translate a resource as a whole. But being a server dev I'm generally not the client, so I may not understand the use case for this.</p>",
        "id": 153925869,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1513589754
    },
    {
        "content": "<p>it's whether you prospectively or retrospectively translate</p>",
        "id": 153925871,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513590371
    },
    {
        "content": "<p>Should I understand that as:<br>\n- prospectively: POST a Resource including translations of some of the elements in it, vs<br>\n- retrospectively: GET a Resource and have it translated in your favourite language?</p>",
        "id": 153925974,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1513612686
    },
    {
        "content": "<p>prospectively: the resource carries the translations for when you want them <br>\nretrospectively: you ask for the translations from some magic translations when you want them</p>",
        "id": 153925986,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513620797
    },
    {
        "content": "<p>the extension is for the first case</p>",
        "id": 153925987,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513620804
    }
]