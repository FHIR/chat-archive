[
    {
        "content": "<p>1. When validating a whole folder each file should be validated if it is a valid resource. I just tested it and had some tsv(csv) files in the folder and got:</p>\n<div class=\"codehilite\"><pre><span></span>[Fatal Error] :1:1: Content is not allowed in prolog.\n     .. not a resource: ./12345_789_somatic_snv.tsv\nException in thread &quot;main&quot; java.lang.Exception: Unable to find/resolve/read -ig ./12345_789_somatic_snv.tsv\n        at org.hl7.fhir.r5.validation.ValidationEngine.loadIgSource(ValidationEngine.java:446)\n        at org.hl7.fhir.r5.validation.ValidationEngine.loadContent(ValidationEngine.java:780)\n        at org.hl7.fhir.r5.validation.ValidationEngine.validate(ValidationEngine.java:812)\n        at org.hl7.fhir.r5.validation.Validator.main(Validator.java:436)\n</pre></div>\n\n\n<p>2. I also get a stack trace on syntax errors:</p>\n<div class=\"codehilite\"><pre><span></span>Exception in thread &quot;main&quot; org.hl7.fhir.exceptions.FHIRException: Unable to find type Count for element valueCount with path Observation.component.value[x]\n        at org.hl7.fhir.r5.elementmodel.Property.getChildProperties(Property.java:309)\n        at org.hl7.fhir.r5.elementmodel.XmlParser.parseChildren(XmlParser.java:241)\n        at org.hl7.fhir.r5.elementmodel.XmlParser.parseChildren(XmlParser.java:317)\n        at org.hl7.fhir.r5.elementmodel.XmlParser.parseChildren(XmlParser.java:317)\n        at org.hl7.fhir.r5.elementmodel.XmlParser.parse(XmlParser.java:178)\n        at org.hl7.fhir.r5.elementmodel.XmlParser.parse(XmlParser.java:162)\n        at org.hl7.fhir.r5.elementmodel.XmlParser.parse(XmlParser.java:134)\n        at org.hl7.fhir.r5.validation.InstanceValidator.validate(InstanceValidator.java:586)\n        at org.hl7.fhir.r5.validation.ValidationEngine.validate(ValidationEngine.java:902)\n        at org.hl7.fhir.r5.validation.ValidationEngine.validate(ValidationEngine.java:816)\n        at org.hl7.fhir.r5.validation.Validator.main(Validator.java:436)\n</pre></div>\n\n\n<p>it would be better to catch these, report the error and continue with the validation</p>",
        "id": 167945378,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1560345518
    },
    {
        "content": "<p>3.: for every example file  i get: </p>\n<div class=\"codehilite\"><pre><span></span>error: Read off end of file: 4642092 / 2147483596:7\n</pre></div>",
        "id": 167946550,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1560346205
    },
    {
        "content": "<p>the first error is - I try to read unknown files in case they are resources, and the xml library generates that log message internally</p>",
        "id": 167947032,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560346537
    },
    {
        "content": "<p>I don't know what's with the second or third - can I reproduce?</p>",
        "id": 167947123,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1560346573
    },
    {
        "content": "<p>error 1: the validator exits after the stacktrace, would be nice to catch that parser exception <br>\nerror 2: Observation doesn't allow valueCount which was used here<br>\nerror 3: i've attached the example causing the error <a href=\"/user_uploads/10155/iZZVzcju6-mo8GrjCdpc2PGj/NGS_ObsVariant_SNV_12345_009_FGFR1.xml\" target=\"_blank\" title=\"NGS_ObsVariant_SNV_12345_009_FGFR1.xml\">NGS_ObsVariant_SNV_12345_009_FGFR1.xml</a></p>",
        "id": 168394513,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1560860394
    },
    {
        "content": "<p>validated with latest java validator: \"java -jar ~/Downloads/org.hl7.fhir.validator.jar . -version 4.0.0\"</p>",
        "id": 168394586,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1560860466
    },
    {
        "content": "<p>Found another improvable Error message:<br>\n<code>Element 'Observation.component[10].valueCodeableConcept.system': minimum required = 1, but only found 0</code><br>\nHere the profile constrains component.value[x] to Quantity, the validator doesn't recognize the wrong data type.</p>",
        "id": 168404453,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1560867028
    }
]