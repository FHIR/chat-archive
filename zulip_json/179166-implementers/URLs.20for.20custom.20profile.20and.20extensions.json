[
    {
        "content": "<p>I've uploaded a custom profile (based on Basic) and extensions to simplifier, and I am trying to retrieve it using the C# API,</p>\n<p>However when I retrieve it, I only get the properties of Basic and not the extra ones I have defined. Here is the example <a href=\"https://simplifier.net/test230/Citation\" target=\"_blank\" title=\"https://simplifier.net/test230/Citation\">https://simplifier.net/test230/Citation</a> <br>\nA suggestion is that the URLs are wrong.  How are you supposed to define the URL of the extension in this case? I can't find any examples of custom profiles/extensions in simplfier to check against.</p>",
        "id": 153871388,
        "sender_full_name": "Chris Munro",
        "timestamp": 1487088321
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"Chris@hillstechnology.com\">@Chris Hills</span> Munro Have you seen the \"Endpoint\" drop-down menu in the toolbar at the top of the Simplifier resource page? Here you can find private &amp; public endpoint urls that you can use to fetch the resource via the API. If you paste the public endpoint in your browser's url bar, then Simplifier will return the XML version of your resource.</p>",
        "id": 153871394,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1487091451
    },
    {
        "content": "<p>Note: <a href=\"https://simplifier.net/test230/Citation\" target=\"_blank\" title=\"https://simplifier.net/test230/Citation\">https://simplifier.net/test230/Citation</a> is the so-called canonical url of the profile. If you publish the same profile to multiple FHIR servers, then each published instance will have a unique resource id. However all instances share the same canonical url.</p>",
        "id": 153871395,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1487091582
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span> </p>\n<p>Thanks for the reply. </p>\n<p>I'm doing the following using the C# API</p>\n<p>location = new Uri( &lt;endpoint of profile&gt;)<br>\nStructureDefinition stdef = client.Read&lt;StructureDefinition&gt;(location);<br>\nList&lt;ElementDefinition&gt; tmp = stdef.Snapshot.Element.ToList();</p>\n<p>Which works if I use the endpoint \"<a href=\"https://simplifier.net/api/fhir/StructureDefinition/Account\" target=\"_blank\" title=\"https://simplifier.net/api/fhir/StructureDefinition/Account\">https://simplifier.net/api/fhir/StructureDefinition/Account</a>\"</p>\n<p>However, if I build a custom profile in Forge and upload to simplifier, and take the newly created endpoint:<br>\n<a href=\"https://simplifier.net/api/fhir/StructureDefinition/c797cf91-d694-4518-8ef7-31084ca12405\" target=\"_blank\" title=\"https://simplifier.net/api/fhir/StructureDefinition/c797cf91-d694-4518-8ef7-31084ca12405\">https://simplifier.net/api/fhir/StructureDefinition/c797cf91-d694-4518-8ef7-31084ca12405</a></p>\n<p>Then it does not allow me to retrieve the profile, I just get 'object not found'.</p>\n<p>It is not clear to me what the error is in the profile causing this to happen?</p>",
        "id": 153871586,
        "sender_full_name": "Chris Munro",
        "timestamp": 1487166863
    },
    {
        "content": "<p>Your code works fine for me retrievingyour profile, except for the bit where you're trying to access the snapshot. Your profile doesn't have a snapshot component, so that's where I get a NullReferenceException.</p>",
        "id": 153871841,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1487237662
    },
    {
        "content": "<p>It's not obvious but Forge does not build snapshots by default. You have to switch it on in the settings - that might be your issue.</p>",
        "id": 153872327,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1487321585
    },
    {
        "content": "<p>Thanks Mirjam</p>",
        "id": 153872330,
        "sender_full_name": "Chris Munro",
        "timestamp": 1487322736
    },
    {
        "content": "<p>Thanks Richard, yes this isn't obvious</p>",
        "id": 153872335,
        "sender_full_name": "Chris Munro",
        "timestamp": 1487323462
    },
    {
        "content": "<p>I would prefer to integrate a checkbox \"Save snapshot\" into the File Save dialog. However this is complicated because Forge uses the standard Windows common dialog. I know that the Windows API allows an application to customize the standard dialogs via API hooks. However from a .NET WPF application this would require large amounts of hideous interop logic, which isn't really worth it.</p>",
        "id": 153872389,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1487329354
    }
]