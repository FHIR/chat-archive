[
    {
        "content": "<p>Hi, I'm trying to validate an Appointment resource using the R4 base profile. However, I keep getting the error \"Cancelation reason is only used for appointments that have been cancelled, or no-show\", even though the appointments don't deal with cancellations or any of the mentioned statuses.<br>\nLooking at the profiles-resources.xml, I notice that the expression currently is:</p>\n<p>Appointment.cancelationReason.exists() implies (Appointment.status='no-show' or Appointment.status='cancelled')</p>\n<p>should perhaps this have been written as:</p>\n<p>cancelationReason.exists() implies (status='no-show' or status='cancelled')</p>",
        "id": 176454262,
        "sender_full_name": "David Ranvig",
        "timestamp": 1569324667
    },
    {
        "content": "<p>It could be written that way, but thatâ€™s not the source of whatever the problem is, since it has the same meaning. Can you post an example here?</p>",
        "id": 176457438,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1569327405
    },
    {
        "content": "<p>I attached a file containing the resource in question. Trying to validate this resource results in the following warnings and errors:</p>\n<p>[WARNING] Evaluation of FhirPath for constraint 'app-4' failed: Invocation of 'binary.implies' failed: Invocation of 'exists' failed: Invocation of 'builtin.children' failed: Resource type name may only appear at the root of a document (at Bundle.entry[1].resource[0])<br>\n[ERROR] Instance failed constraint app-4 \"Cancelation reason is only used for appointments that have been cancelled, or no-show\" (at Bundle.entry[1].resource[0])</p>\n<p>Currently we're using the .c# .NET Fhir 1.2.0-beta2 packages to do the validation.</p>\n<p><a href=\"/user_uploads/10155/Yttqkcfbj01GlYDvWOjJQqCl/bundle.json\" target=\"_blank\" title=\"bundle.json\">bundle.json</a></p>",
        "id": 176461271,
        "sender_full_name": "David Ranvig",
        "timestamp": 1569330361
    },
    {
        "content": "<p>I noticed that the bundle.json uploaded in the previous comment, contains references to Norwegian profiles as well. The below attached bundle does not reference any other profiles, while still displaying the same validation error.</p>\n<p><a href=\"/user_uploads/10155/RBN1Y7ABdnrUVAgt3cSIt3cj/bundle2.json\" target=\"_blank\" title=\"bundle2.json\">bundle2.json</a></p>",
        "id": 176462356,
        "sender_full_name": "David Ranvig",
        "timestamp": 1569331084
    },
    {
        "content": "<p>I'd switch up  to the dotnet 1.3 validator, there have been some known issues in it. Though not sure this is one of them.</p>",
        "id": 176507751,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1569360232
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"241459\">@David Ranvig</span>  - Hi David, looks like something that's worth reporting to the API issue tracker at <a href=\"https://github.com/FirelyTeam/fhir-net-api/issues\" target=\"_blank\" title=\"https://github.com/FirelyTeam/fhir-net-api/issues\">https://github.com/FirelyTeam/fhir-net-api/issues</a>.</p>",
        "id": 176547162,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1569403195
    },
    {
        "content": "<p>(though yes, we keep on fixing validator bugs, so moving up to the latest is always a good idea)</p>",
        "id": 176547238,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1569403227
    },
    {
        "content": "<p>Lastly - we've a dedicated \"dotnet\" stream that you might want to subscribe to - many of our .net developers hang around there!</p>",
        "id": 176547278,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1569403280
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> Thank you, I have reported the issue with fhir-net-api repository (<a href=\"https://github.com/FirelyTeam/fhir-net-api/issues/1125\" target=\"_blank\" title=\"https://github.com/FirelyTeam/fhir-net-api/issues/1125\">https://github.com/FirelyTeam/fhir-net-api/issues/1125</a>) and subscribed to the dotnet stream :-)</p>",
        "id": 176655697,
        "sender_full_name": "David Ranvig",
        "timestamp": 1569503026
    }
]