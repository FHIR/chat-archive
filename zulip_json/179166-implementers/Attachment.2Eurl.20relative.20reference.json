[
    {
        "content": "<p>Hi all - looking for advice on use of Attachement.url (in a DocumentReference) making a relative reference to a Binary resource all in the same Bundle (in this case a message) - so this is not a ResourceReference so what is the right way to do it...</p>",
        "id": 153819594,
        "sender_full_name": "Brett Esler",
        "timestamp": 1459482599
    },
    {
        "content": "<p>btw did not want to embed the data in the Attachment - wanted to keep a Binary resource</p>",
        "id": 153819595,
        "sender_full_name": "Brett Esler",
        "timestamp": 1459482694
    },
    {
        "content": "<p>Why use a Binary resource in that case, why not just use the content element of the Attachment?</p>",
        "id": 153819596,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1459484011
    },
    {
        "content": "<p>true - sender has a preference .... after some discussion landed on</p>\n<div class=\"codehilite\"><pre>  <span class=\"nt\">&lt;entry&gt;</span>\n     <span class=\"nt\">&lt;fullUrl</span> <span class=\"na\">value=</span><span class=\"s\">&quot;urn:uuid:6380E47C-9C9C-43CD-9206-7AE57C0C7247&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;resource&gt;</span>\n      <span class=\"nt\">&lt;Binary&gt;</span>\n      <span class=\"nt\">&lt;/Binary&gt;</span>\n    <span class=\"nt\">&lt;/resource&gt;</span>\n  <span class=\"nt\">&lt;entry&gt;</span>\n  <span class=\"nt\">&lt;entry&gt;</span>\n     <span class=\"nt\">&lt;fullUrl</span> <span class=\"na\">value=</span><span class=\"s\">&quot;urn:uuid:15EF8B27-9977-4DC0-AF16-4D379907EC72&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;resource&gt;</span>\n      <span class=\"nt\">&lt;DocumentReference&gt;</span>\n        <span class=\"nt\">&lt;content&gt;</span>\n            <span class=\"nt\">&lt;attachment&gt;</span>\n               <span class=\"nt\">&lt;url</span> <span class=\"na\">value=</span><span class=\"s\">&quot;urn:uuid:6380E47C-9C9C-43CD-9206-7AE57C0C7247&quot;</span><span class=\"nt\">/&gt;</span>\n           <span class=\"nt\">&lt;/attachment&gt;</span>\n       <span class=\"nt\">&lt;/content&gt;</span>\n      <span class=\"nt\">&lt;/DocumentReference&gt;</span>\n    <span class=\"nt\">&lt;/resource&gt;</span>\n  <span class=\"nt\">&lt;entry&gt;</span>\n</pre></div>",
        "id": 153819597,
        "sender_full_name": "Brett Esler",
        "timestamp": 1459484458
    },
    {
        "content": "<p>as per description in <a href=\"http://hl7.org/fhir/bundle.html#references\" target=\"_blank\" title=\"http://hl7.org/fhir/bundle.html#references\">http://hl7.org/fhir/bundle.html#references</a></p>",
        "id": 153819598,
        "sender_full_name": "Brett Esler",
        "timestamp": 1459484639
    },
    {
        "content": "<p>The binary content in this instance is a PDF, and some systems enjoy storing the binary content outside the database, and can decide based on size of the content.</p>",
        "id": 153819600,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1459489913
    },
    {
        "content": "<p>The content element of Attachment is evil. I really would like to be able to retrieve the information about the content independent of the retrieving the content. And since Attachment is a datatype, not a referenced resource, if you have a resource with an attachmet (or worse, multiple attachments), you never know when retrieving the resource that you might end downloading multiple megabytes (or gigabytes) of data.</p>",
        "id": 153819651,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1459528942
    },
    {
        "content": "<p>you can ask for a _summary</p>",
        "id": 153819669,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1459572036
    },
    {
        "content": "<p>or profile it out of the datatype.</p>",
        "id": 153819875,
        "sender_full_name": "Eric Haas",
        "timestamp": 1459785790
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> yup, and that's a recent improvement, but if there are multiple Attachments, _summary only gives you the ability to retrieve all or none. If there are multiple Attachments, you can't get one at a time. Hmm, I support combining one _summary fetch, with follow-up use of _elements might solve some problems, but can you use _elements to get the first, second, third repetition of an element separately? <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> yes, can profile, but unless there is some guarantee that all sources (or the server itself) will tag the resources compying with that profiles, and you can thus filter on profile in your fetches, you need to be prepared to encounter non-compliant resources with inline content.</p>",
        "id": 153819889,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1459793181
    },
    {
        "content": "<p>yes. agree. but I don't think we can do something useful about this without losing control of complexity</p>",
        "id": 153820383,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1460062112
    }
]