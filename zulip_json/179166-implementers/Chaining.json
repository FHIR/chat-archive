[
    {
        "content": "<p>Re: <a href=\"http://www.hl7.org/fhir/search.html#chaining\">http://www.hl7.org/fhir/search.html#chaining</a></p>\n<p>In this example GET Patient?general-practitioner.name=Joe&amp;general-practitioner.address-state=MN ; where an '&amp;' is used, the description states 'may return Patients cared for by Joe from CA and Jane from MN: no one practitioner need satisfy both conditions. E.g. the chains are evaluated separately.' ; </p>\n<p>Is this a mistake, shouldnt '&amp;' mean all the criteria's should be met ?</p>",
        "id": 271146293,
        "sender_full_name": "Amy Abraham",
        "timestamp": 1644334892
    },
    {
        "content": "<p>It's not a mistake, the wording is correct.</p>",
        "id": 271148809,
        "sender_full_name": "René Spronk",
        "timestamp": 1644335942
    },
    {
        "content": "<p>All criteria are indeed met - (Patients that have PCP Joe) and (Patients that have a PCP in MN).</p>",
        "id": 271149019,
        "sender_full_name": "René Spronk",
        "timestamp": 1644336012
    },
    {
        "content": "<p>That would be OR-logic, not AND-logic. I guess you need to think of the '&amp;' here as not an AND, rather just a HTTP parameter separator character. I'm not sure though why chains are evaluated with OR-logic. Perhaps to simplify implementations?</p>",
        "id": 271152427,
        "sender_full_name": "Craig McClendon",
        "timestamp": 1644337323
    },
    {
        "content": "<p>It is an AND. Chains are not evaluated with OR logic.</p>",
        "id": 271152539,
        "sender_full_name": "Paul Church",
        "timestamp": 1644337379
    },
    {
        "content": "<p><strong>GET Patient?general-practitioner.name=Joe&amp;general-practitioner.address-state=MN</strong></p>\n<p>In SQL if I have a 'general-practitioner' table with 'name' and 'address-state' columns. </p>\n<p>*SELECT * FROM general-practitioner WHERE name = 'Joe' AND address-state = 'MN'*<br>\nwould not return Jane from MN. </p>\n<p>What am I missing?</p>",
        "id": 271153408,
        "sender_full_name": "Craig McClendon",
        "timestamp": 1644337793
    },
    {
        "content": "<p>We're not selecting from general-practitioner. We're selecting from patient, and each patient might have multiple general-practitioner references. The chain clauses can match different references on the same patient, which satisfies the AND despite not having any single general-practitioner that satisfies both.</p>",
        "id": 271153939,
        "sender_full_name": "Paul Church",
        "timestamp": 1644337990
    },
    {
        "content": "<p>For outgoing references with max cardinality 1 this problem doesn't exist.</p>",
        "id": 271154109,
        "sender_full_name": "Paul Church",
        "timestamp": 1644338050
    },
    {
        "content": "<p>I think this is a language parsing challenge. The sentence \"may return Patients cared for by Joe from CA and Jane from MN\" is indicating that a <em>single</em> patient that has a practitioner 'Joe' in CA <em>and</em> a practitioner 'Jane' from MN would still meet the requirements.</p>\n<p>E.g., the 'and' is applied to the set the root level instead of inside the chain.</p>\n<p>(edit: see: 'garden path sentence' =)</p>",
        "id": 271155051,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1644338474
    },
    {
        "content": "<p>Thanks all</p>",
        "id": 271155492,
        "sender_full_name": "Amy Abraham",
        "timestamp": 1644338661
    },
    {
        "content": "<p>Just to complete the SQL analogy, it works out logically to something similar to this and Paul and Gino are correct. </p>\n<p>*SELECT * FROM Patient pat<br>\nWHERE EXISTS (select * from general_practitioner gp where <a href=\"http://gp.name\">gp.name</a> = 'Joe' and gp.patient_id = <a href=\"http://pat.id\">pat.id</a>)<br>\n  AND EXISTS (select * from general_practitioner gp where gp.state = 'MN' and gp.patient_id = pat.id)*</p>",
        "id": 271157179,
        "sender_full_name": "Craig McClendon",
        "timestamp": 1644339362
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> maybe if you're doing any rewriting in this area we could make it clearer that this caveat applies to repeated outgoing references? This question seems to come up a lot.</p>",
        "id": 271158731,
        "sender_full_name": "Paul Church",
        "timestamp": 1644339993
    },
    {
        "content": "<p>Yep, I added a note.  Hopefully have a completed pass to start reviewing soon, but I discovered the search 'page' is more like the search 'short book'  =)</p>",
        "id": 271160810,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1644340863
    },
    {
        "content": "<p>The reference goes from patient to practitioner, so more like:</p>\n<div class=\"codehilite\"><pre><span></span><code>SELECT * FROM Patient pat\nWHERE EXISTS (select * from practitioner gp where gp.name = &#39;Joe&#39; and gp.id = pat.generalpractitioner_id)\nAND EXISTS (select * from practitioner gp where gp.state = &#39;MN&#39; and gp.id = pat.generalpractitioner_id)\n</code></pre></div>\n<p>(but same idea)</p>",
        "id": 271161811,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1644341245
    },
    {
        "content": "<p>.. so by changing the focus of the search, Practitioner?name=Joe&amp;state=MN&amp;_revinclude=Patient:practitioner (not the correct parameter names, but you get the gist) it'd be a true AND on the Practitioner resource, and it would return the Patients that have Joe-in-MN as their PCP/GP.</p>",
        "id": 271238410,
        "sender_full_name": "René Spronk",
        "timestamp": 1644390492
    },
    {
        "content": "<p>I am getting oauth2 error on epic it was working before but now not working</p>",
        "id": 271241270,
        "sender_full_name": "Krishna Kumar",
        "timestamp": 1644393330
    },
    {
        "content": "<p>I am sending the payload below:</p>\n<div class=\"codehilite\"><pre><span></span><code>FHIR.oauth2.authorize({\n      &#39;client_id&#39;: &#39;f3174bc9-02d2-4637-a612-9166b3b3aa93&#39;,\n      &#39;scope&#39;:  &#39;patient.read, patient.search, observation.read, observation.search&#39;,\n      &#39;redirect_uri&#39;: &#39;http://localhost:3000&#39;,\n    &#39;iss&#39;: &#39;https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4/&#39;\n    })\n</code></pre></div>",
        "id": 271241359,
        "sender_full_name": "Krishna Kumar",
        "timestamp": 1644393402
    },
    {
        "content": "<p>Epic issues are best resolved by reaching out to <a href=\"mailto:open@epic.com\">open@epic.com</a></p>",
        "id": 271289517,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644418485
    }
]