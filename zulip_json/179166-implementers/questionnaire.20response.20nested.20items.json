[
    {
        "content": "<p>we are currently implementing FHIR and one of our main query is to do with Questionnaire Response schema. From my understanding the items in Questionnaire Response needs to be nested to represent how the questionnaire was generated. Is this something that we should follow or can we proceed without having nested items in the questionnaire response? </p>\n<p>Not having nested will make it very easy for the front-end to generate the JSON schema of Questionnaire Response</p>\n<p>Could you please share your thoughts?</p>",
        "id": 169555360,
        "sender_full_name": "Soroush Atarod",
        "timestamp": 1562150114
    },
    {
        "content": "<p>QR must match the structure of the Q.    If you want it flat then I suggest flattening the Q.   The reason is so that QR can be validated against Q</p>",
        "id": 169564576,
        "sender_full_name": "Eric Haas",
        "timestamp": 1562159355
    },
    {
        "content": "<p>Wouldn't the linkId make it clear against which item in the Q the QR item must be validated, regardless of structure...?</p>",
        "id": 169571965,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1562164716
    },
    {
        "content": "<p>nope.. except for the simplest of structure there repeating items that may have repeating itmes</p>",
        "id": 169588122,
        "sender_full_name": "Eric Haas",
        "timestamp": 1562176591
    },
    {
        "content": "<p>I tried to argue this same case last year and realized why it needs to be this way</p>",
        "id": 169588186,
        "sender_full_name": "Eric Haas",
        "timestamp": 1562176636
    },
    {
        "content": "<p>When you have optional questions in repeating groups, you need the linkIds so you know what goes together.</p>",
        "id": 169595804,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1562182565
    },
    {
        "content": "<p>thanks! we are going to have it have in the same level as it is much easier for the front-end to create the questionnaire response JSON. We are implementing FHIR both back-end and front-end in house, and having it on the same level is much more easier.</p>",
        "id": 169641057,
        "sender_full_name": "Soroush Atarod",
        "timestamp": 1562240484
    },
    {
        "content": "<p>Just hope you don't have any tables in your forms.</p>",
        "id": 169687906,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562307788
    },
    {
        "content": "<p>That's not going to be conformant.  The hierarchies are required to match.  From the spec: \"The order of questions within groups, groups within groups and groups within questions is relevant and must be retained for display and capture. The hierarchy items within the Questionnaire SHALL mirror the hierarchy of the corresponding Questionnaire (if any).\"</p>",
        "id": 169711173,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1562335568
    },
    {
        "content": "<p>If you want to claim to be a FHIR implementation, you have to follow the spec <span class=\"user-mention\" data-user-id=\"223913\">@Soroush Atarod</span></p>",
        "id": 169711204,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1562335603
    },
    {
        "content": "<p>Many thanks, we will look into nested items. It is just a matter of how long does will it takes us to implement nested or not. <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 169719828,
        "sender_full_name": "Soroush Atarod",
        "timestamp": 1562343069
    },
    {
        "content": "<p>And whether or not your downstream receivers are able to handle non-compliant instances</p>",
        "id": 169720868,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1562344177
    },
    {
        "content": "<p>I don't think any one here said it was OK to not to mirror the Q hierarchy.  Am I missing something?</p>",
        "id": 169745544,
        "sender_full_name": "Eric Haas",
        "timestamp": 1562376344
    },
    {
        "content": "<p>I think that rule needs to be prominently highlighted right in the first sentence of the  introduction of QR ( and Q)  in the resource narrative.  I voiced this concern prior to R4 and was over-ruled.   This is not obvious to folks new to fhir and Q and QR and as demonstrated here, this is too damn easy too overlook and too important  to be buried in the notes below the structure.  We need to assume folks won't read beyond the structure and a few examples.</p>",
        "id": 169745755,
        "sender_full_name": "Eric Haas",
        "timestamp": 1562376772
    },
    {
        "content": "<p>Agreed.</p>",
        "id": 169747747,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562380339
    },
    {
        "content": "<p>I will make a pull request on both R5 and the SDC guide re-enforcing this. Along with why.</p>",
        "id": 169747763,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1562380384
    }
]