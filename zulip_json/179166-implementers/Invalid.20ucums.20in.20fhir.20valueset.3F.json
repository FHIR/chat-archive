[
    {
        "content": "<p>Hi all,<br>\nThe unit mmol/kg[H20] in <a href=\"https://www.hl7.org/fhir/valueset-ucum-units.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/valueset-ucum-units.html\">https://www.hl7.org/fhir/valueset-ucum-units.html</a> fails to validate on NLM's UCUM parser <a href=\"https://ucum.nlm.nih.gov/ucum-lhc/demo.html\" target=\"_blank\" title=\"https://ucum.nlm.nih.gov/ucum-lhc/demo.html\">https://ucum.nlm.nih.gov/ucum-lhc/demo.html</a>. Is the parser wrong, or is the unit actually invalid?</p>",
        "id": 153990402,
        "sender_full_name": "Devin Craft",
        "timestamp": 1535033660
    },
    {
        "content": "<p>I only know enough about UCUM to be dangerous, but the only place [H2O] appears in the ucum spec is next to a length unit (i.e. m[H2O]).</p>",
        "id": 153990405,
        "sender_full_name": "Devin Craft",
        "timestamp": 1535033894
    },
    {
        "content": "<p>I think I agree, that's invalid, because it's actually <code>H20</code>, not <code>H2O</code></p>",
        "id": 153990421,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1535035373
    },
    {
        "content": "<p>The unit _should_ be <code>mmol/kg[H2O]</code></p>",
        "id": 153990422,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1535035394
    },
    {
        "content": "<blockquote>\n<p>The unit _should_ be <code>mmol/kg[H2O]</code></p>\n</blockquote>\n<p>That unit does not validate either. Note, the typo exists in the FHIR valueset as well, so that probably needs to be fixed. <br>\nThe ucum spec specifies: \"For example 1 m H2O is written as “m[H2O]” in The Unified Code for Units of Measure because the suffix H2O changes the meaning of the unit atom for meter (length) to a unit of pressure.\"</p>",
        "id": 153990423,
        "sender_full_name": "Devin Craft",
        "timestamp": 1535035611
    },
    {
        "content": "<p>My thought is that mmol/kg[H2O] is invalid because the [H2O] is not modifying the meaning of kg. Instead, it should be expressed as mmol/kg{H2O}. Actually, it probably should just be expressed as mmol/kg because the thing that is being measured should be captured elsewhere.</p>",
        "id": 153990426,
        "sender_full_name": "Devin Craft",
        "timestamp": 1535036079
    },
    {
        "content": "<p>Looks right to me, H2O is an annotation in case of \"per kilogram water\", so should be in curly braces.<br>\nI suggest to file a tracker item.</p>",
        "id": 153990430,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1535036917
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191436\">@Stefan Lang</span> . Will do.<br>\nTracker item: <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17719\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17719\">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17719</a></p>",
        "id": 153990431,
        "sender_full_name": "Devin Craft",
        "timestamp": 1535036971
    },
    {
        "content": "<p>To anyone interested, I ran the entire valueset through the NLM's batch validator on the site mentioned above and found 9 total invalid ucum expressions. I've logged another tracker item <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17791\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17791\">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17791</a>.</p>",
        "id": 153992957,
        "sender_full_name": "Devin Craft",
        "timestamp": 1536066633
    },
    {
        "content": "<p>thanks. I'll look at this in a few weeks time - my run into baltimore is full</p>",
        "id": 153993223,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536097984
    },
    {
        "content": "<p>mmol/kg{H2O}</p>",
        "id": 154023586,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544132739
    },
    {
        "content": "<p>The valuset ucum common (<a href=\"http://hl7.org/fhir/valueset-ucum-common.html\" target=\"_blank\" title=\"http://hl7.org/fhir/valueset-ucum-common.html\">http://hl7.org/fhir/valueset-ucum-common.html</a>) have multiple repeating values. For example, there are two occurrences of <code>/[LPF]</code> one which stands for the 'per low power field' and the second which represents 'per LPF'. Additionally, there are two occurrences of [beth'U] both of which stand for Bethesda unit<br>\nAre there any future plans to clean the ucum common valuset?</p>",
        "id": 186320167,
        "sender_full_name": "Glory Kim",
        "timestamp": 1579720527
    },
    {
        "content": "<p>sure . do you want to create task to fix it?</p>",
        "id": 186464652,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579843747
    }
]