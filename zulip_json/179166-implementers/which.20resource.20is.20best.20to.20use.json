[
    {
        "content": "<p>Hi All, There are 98 Episode of care definitions.<br>\n<a href=\"http://www.prometheusanalytics.net/deeper-dive/definitions-readable\" target=\"_blank\" title=\"http://www.prometheusanalytics.net/deeper-dive/definitions-readable\">http://www.prometheusanalytics.net/deeper-dive/definitions-readable</a><br>\nFor example, Episode of care of Asthma includes the following core components<br>\nTrigger codes<br>\nSubTypes<br>\nRelevant Diagnosis<br>\nRelevant Procedures<br>\nRelevant Pharmacy <br>\nSubType Groups.<br>\nWhich resource is best to use to capture all these information?</p>",
        "id": 154017570,
        "sender_full_name": "Lakshmi Thrivarna",
        "timestamp": 1542006277
    },
    {
        "content": "<p>PlanDefinition might be the best fit, but not sure whether it'll be a \"good\" fit.  <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> ?</p>",
        "id": 154017600,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542024821
    },
    {
        "content": "<p>Yes, I think a PlanDefinition is a good fit here, it's effectively describing the set of rules for what constitutes an episode of care. The definitions about relevant diagnoses, procedures, and medications would be specified as CQL expressions that, when evaluated in the context of a specific patient would produce the set of resources that should be associated with the episode of care.</p>",
        "id": 154017702,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1542036495
    },
    {
        "content": "<p>I'm not sure I understand what SubTypes and SubType Groups are, but they feel like categorizations to me, and so I don't see that they would change the basic representation approach.</p>",
        "id": 154017703,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1542036536
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span>  Can you suggest how to implement these EpisodeOfCare Definitions using PlanDefinitions?</p>",
        "id": 154018301,
        "sender_full_name": "Lakshmi Thrivarna",
        "timestamp": 1542172273
    },
    {
        "content": "<p>Is it accurate to say with your data elements that the objective is to say \"if diagnoses that look like this or procedures that look like this or medications that look like this exist in the patient THEN that data should be grouped within an episode of this type\"?</p>",
        "id": 154018335,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542190212
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  Yes, Thank you for reply. We agree with your plan. But how to use it in a practical way using PlanDefinition resource?<br>\nsuppose We have an encounter this encounter will have diagnosis, procedures and medications. These are like triggers codes.<br>\nwe want to connect these encounter to episode of care. This is a actual use case, so how to use it.</p>",
        "id": 154019048,
        "sender_full_name": "Lakshmi Thrivarna",
        "timestamp": 1542353771
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span>, you're probably most qualified to describe this</p>",
        "id": 154019056,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542355781
    },
    {
        "content": "<p>So, just to make sure I understand what this is trying to accomplish, the scenario is that I have a clinical data repository, and I want to be able to create episodes-of-care retroactively by linking events based on criteria, and what we're after is a way to describe that process in the abstract so it can be shared as an \"episode-of-care\" definition. With that as a working description of what we're after, this would look like a Library of CQL defining the content of interest, and a PlanDefinition that brings together the triggering mechanisms, the additional conditions that determine whether the episode-of-care should be created, and actions to link the events that meet the criteria to the newly created episode-of-care.</p>",
        "id": 154020340,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1542840488
    },
    {
        "content": "<p>So, that would look quite a bit like the PlanDefinition resources that we use to describe event-condition-action rules when distributing decision support, <a href=\"http://build.fhir.org/ig/cqframework/opioid-cds/PlanDefinition-opioidcds-04.xml.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/cqframework/opioid-cds/PlanDefinition-opioidcds-04.xml.html\">here</a> for example.</p>",
        "id": 154020341,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1542840589
    },
    {
        "content": "<p>Specifically then, we'd need a root action to create the episode of care, and then sub-actions for each of the kinds of events we wanted to link to the new episode of care and a way to say that that's what we want to do. I'm just spitballin' here, but something like:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;PlanDefinition&gt;\n  &lt;action&gt;\n    &lt;title value=&quot;Create an episode of care to link the related events&quot;/&gt;\n    &lt;trigger&gt;\n      &lt;type value=&quot;named-event&quot;/&gt;\n      &lt;name value=&quot;process-episodes&quot;/&gt;\n    &lt;/trigger&gt;\n    &lt;condition&gt;\n      &lt;kind value=&quot;applicability&quot;/&gt;\n      &lt;expression&gt;\n        &lt;language value=&quot;text/cql&quot;/&gt;\n        &lt;expression value=&quot;ShouldCreateEpisodeOfCare&quot;/&gt;\n      &lt;/expression&gt;\n    &lt;/condition&gt;\n    &lt;definitionCanonical value=&quot;ActivityDefinition/episode-of-care&quot;/&gt;\n    &lt;type value=&quot;create&quot;/&gt;\n\n    &lt;!-- Sub action to link related encounters to the new episode of care --&gt;\n    &lt;action&gt;\n      &lt;title value=&quot;Link related encounters&quot;/&gt;\n      &lt;type value=&quot;update&quot;/&gt;\n      &lt;definitionCanonical&gt;\n        &lt;extension&gt;\n          &lt;url value=&quot;cqf-expression&quot;/&gt;\n          &lt;valueExpression&gt;\n            &lt;language value=&quot;text/cql&quot;/&gt;\n            &lt;expression value=&quot;RelatedEncounters&quot;/&gt;\n          &lt;/valueExpression&gt;\n        &lt;/extension&gt;\n      &lt;/definitionCanonical&gt;\n      &lt;dynamicValue&gt;\n        &lt;language value=&quot;text/cql&quot;/&gt;\n        &lt;path value=&quot;episodeOfCare&quot;/&gt; &lt;!-- This is the path to the episodeOfCare element of the related encounter --&gt;\n        &lt;expression&gt;\n          &lt;language value=&quot;text/cql&quot;/&gt;\n          &lt;expression value=&quot;%parent_target&quot;/&gt; &lt;!-- This assumes the ability to &quot;assign&quot; a reference --&gt;\n        &lt;/expression&gt;\n      &lt;/dynamicValue&gt;\n    &lt;/action&gt;\n  &lt;/action&gt;\n&lt;/PlanDefinition&gt;\n</pre></div>",
        "id": 154020342,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1542841803
    }
]