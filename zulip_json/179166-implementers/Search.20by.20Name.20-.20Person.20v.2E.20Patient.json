[
    {
        "content": "<p>Hello,</p>\n<p>We recently adjusted how we track user identity by migrating our default \"user\" resource from Patient to Person. We had a separate \"first name\" &amp; \"last name\" search on Patient that mapped nicely to the \"given\" and \"family\" search parameters. It looks like these search parameters aren't available on the Person resource, so we'll likely need to add them as custom parameters.</p>\n<p>However, we are curious: was it an intentional omission to not have the \"given\" and \"family\" search parameters on Person as well? Or are there plans to include these parameters in the future?</p>\n<p>Thanks,<br>\nAlex</p>",
        "id": 198004507,
        "sender_full_name": "Alex Gerstein",
        "timestamp": 1589841650
    },
    {
        "content": "<p>Person is not allowed to be an actor - it can't be a performer, subject, or any other kind of participant.  It solely exists as a source of shared demographic information and to act as a link between multiple Patient, RelatedPerson and/or Practitioner resources.</p>",
        "id": 198012671,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589849855
    },
    {
        "content": "<p>(So using it for 'user' wouldn't be terribly appropriate.)</p>",
        "id": 198012729,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589849893
    },
    {
        "content": "<p>We've tried hard to avoid stepping too much into the security space because there are other RESTful standards out there and it's not something that is healthcare-specific.  Where we do explore the space a little bit is in things like AuditEvent, and there we have the choice of Patient, RelatedPerson, Practitioner, PractitionerRole, Device and Organization.</p>",
        "id": 198012789,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589849989
    },
    {
        "content": "<p>We do use Person to map our system users: they can be Practitioner, Patient or neither, so to implement the SMART fhirUser scope that was basically the only possible choice</p>",
        "id": 198063075,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1589893987
    },
    {
        "content": "<p>Users can often also be devices.  Every actor in FHIR is always a Practitioner, Patient or RelatedPerson.  If someone is acting in their professional capacity (even if they're a plumber or elevator technician), that's a Practitioner.</p>",
        "id": 198082981,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589902004
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Search.20by.20Name.20-.20Person.20v.2E.20Patient/near/198082981\">said</a>:</p>\n<blockquote>\n<p>Users can often also be devices.  Every actor in FHIR is always a Practitioner, Patient or RelatedPerson.  If someone is acting in their professional capacity (even if they're a plumber or elevator technician), that's a Practitioner.</p>\n</blockquote>\n<p>I had not noticed that. so Practitioner is intended to support any human actor functional/structural role outside of patient  or relatedPerson.  (where that role is actually declared in PractitionerRole).</p>",
        "id": 198097451,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589908084
    },
    {
        "content": "<p>Although I understand your point and have used Practitioner to model Users in some of my other projects, there are some applications where the \"user\" is not someone acting in a professional capacity, but just a person who is accessing a system.  Their role in the system is dependent on how they log in to the system.  So Jean Duteau is a Person who can access the system as either a Practitioner or a Patient, depending on his login or on what role he chooses when he is logging in.  In that case, I've modeled (like Alex and Michele) Users as Persons who then get tied to a Patient or Practitioner (and even potentially RelatedPerson if used in reports or information capture).</p>",
        "id": 198098037,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1589908339
    },
    {
        "content": "<p>I think that is reasonable. as long as your system never has Person acting without the casting into Patient, Practitioner, or RelatedPerson. These are the three prime structural roles, upon which for Practitioner there are refined structural/functional roles that can be expressed in PractitionerRole resource.</p>",
        "id": 198098943,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589908756
    },
    {
        "content": "<p>Might this be useful to state so boldly somewhere in the FHIR spec? Is this a topic people might look for on the security pages?</p>",
        "id": 198100390,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589909345
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  do you know if this is said this bluntly somewhere in FHIR-I pages?</p>",
        "id": 198100601,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589909435
    },
    {
        "content": "<p>The main gotcha here, which is where we also use Person for SMART to identify \"current user\" is when I am logged in to access all records I can access as a consumer user</p>",
        "id": 198101936,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1589910086
    },
    {
        "content": "<p>I'm acting as 2+ different RelatedPersons and a Patient all in the same context</p>",
        "id": 198101964,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1589910112
    },
    {
        "content": "<p>but the SMART \"user\" is really trying to identify \"person in the real world that is logged in\"</p>",
        "id": 198102099,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1589910190
    },
    {
        "content": "<p>understood. SMART likely should have been more true to the distinction of actors and not used person this way.</p>",
        "id": 198102570,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589910440
    },
    {
        "content": "<p>F#27164</p>",
        "id": 198103257,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589910742
    },
    {
        "content": "<p><a href=\"http://jira.hl7.org/browse/FHIR-27164\">J#27164</a></p>",
        "id": 198103293,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589910759
    },
    {
        "content": "<p>Person is <em>not</em> allowed to do anything.  It's a strict prohibition that's part of the definition of the resource</p>",
        "id": 198108449,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589913295
    },
    {
        "content": "<p><code>Person instances are never directly referenced as actors (authors, subjects, performers, etc.) Individual actors are always identified as either Patient, Practitioner or RelatedPerson, depending on the role of the individual when undertaking the action. Therefore this resource SHALL NOT be referenced by any other clinical or administrative resources. E.g. it can be the focus of an operation or message or included in a Bundle, but cannot be a member of a List or Group, the subject of an Observation, or other similar non-infrastructural usage.</code></p>",
        "id": 198108515,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589913341
    },
    {
        "content": "<p>(From the scope and usage section of the Person resource)</p>",
        "id": 198108529,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589913353
    },
    {
        "content": "<p>If we go back to the v3 space, it's not possible to participate as an Entity, you can only participate as a Role.</p>",
        "id": 198108811,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589913486
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Search.20by.20Name.20-.20Person.20v.2E.20Patient/near/198108449\">said</a>:</p>\n<blockquote>\n<p>Person is <em>not</em> allowed to do anything.  It's a strict prohibition that's part of the definition of the resource</p>\n</blockquote>\n<p>I don't think anyone is trying to assert that a Person is doing anything - but that they are representing the person behind the actor that is doing something.  As Jenni pointed out (and I pointed out), we have a \"user\" who can't do anything without a role but is an actual thing that I want to convey in a FHIR manner - to me that is the Person with their demographic details.  When that Person is looking up their clinical records, they are a Patient.  When they are providing content for their parent or their child, they are a RelatedPerson and when they are creating records about their real-world patients, they are a Practitioner.  So there is a need for a Person resource and there is a valid use case for associating a User (without Role) to a Person.</p>\n<p>This is getting us pretty far afield from the original question:<br>\nPatient and Practitioner define \"given\" and \"family\" search parameters but  Person does not - it only has the name search parameter.</p>\n<p><span class=\"user-mention\" data-user-id=\"197154\">@Alex Gerstein</span> I'm not associated with the Patient Administration WG but this seems like more of an oversight than deliberate.  I can't think of a reason why you explicitly disallow searching for a Person resource by their given or family name.  You should raise an issue about this.</p>",
        "id": 198111497,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1589914777
    },
    {
        "content": "<p>You can't point to Person in AuditEvent or Provenance, so not sure how useful it will be to have them as 'user'</p>",
        "id": 198126189,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589922154
    },
    {
        "content": "<p>When they take an action, you would interpret who they are acting as</p>",
        "id": 198127500,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1589922802
    },
    {
        "content": "<p>There's not really another way I know of to do this</p>",
        "id": 198127519,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1589922813
    },
    {
        "content": "<p>But I agree this is a bit of drift from the original question</p>",
        "id": 198127618,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1589922865
    },
    {
        "content": "<p>In response to the original question, I don't think it was intentional - would be appropriate to submit a change request</p>",
        "id": 198129698,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589923942
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179166-implementers/topic/Search.20by.20Name.20-.20Person.20v.2E.20Patient/near/198126189\">said</a>:</p>\n<blockquote>\n<p>You can't point to Person in AuditEvent or Provenance, so not sure how useful it will be to have them as 'user'</p>\n</blockquote>\n<p>Audit has a secondary method, in that you can put the user-identifier in as an AuditEvent.agent.altId<br>\nAnd really anywhere an agent element is one can use the .identifier in the .reference --&gt; AuditEvent.agent.who.identifier   ... as one can expect that identifier likely is an identifier to be found in a Agent type resource (.identifier).  -- this reasonable if there is consistent use of the .identifier element in these agent resources to hold the user-identifier... which seems to me to be a realistic recommendation that I put into <a href=\"http://jira.hl7.org/browse/FHIR-27164\">J#27164</a></p>",
        "id": 198204926,
        "sender_full_name": "John Moehrke",
        "timestamp": 1589984295
    },
    {
        "content": "<p>If you're using that as a means to point to Person, I still think that falls into the scope of the SHALL NOT.</p>",
        "id": 198213022,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1589987658
    },
    {
        "content": "<p>Just to point out for the original question, I requested the change in <a href=\"http://jira.hl7.org/browse/FHIR-26371\">J#26371</a></p>",
        "id": 198215222,
        "sender_full_name": "Ian Bacher",
        "timestamp": 1589988486
    },
    {
        "content": "<p>I don't consider this as a reference to a user in the AuditEvent/Provenance.<br>\nMy personal view is that there are many ways that user's are modelled, and we can describe how they might be done, and which resources <em>could</em> be appropriate. It won't include any reference stuff, just informative guidance.<br>\nThere are systems that only have practitioners as users, some that cover only patients, some that have modes where either is appropriate (but not both), and others have system accounts, or devices...<br>\nAlso wandering into this issue is the username, what places could it be put, and just as importantly, where should it be put, and NOT put?<br>\n<span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> Is this something that should be covered by the Security Workgroup?</p>",
        "id": 208141783,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1598472462
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> I am not sure what you yet want. The Security WG has indicated to use the .identifier element to hold any identifier known. A username is just an identifier within that user assigning domain.</p>",
        "id": 208214574,
        "sender_full_name": "John Moehrke",
        "timestamp": 1598534134
    }
]