[
    {
        "content": "<p>Anyone know how to construct FHIRPath that returns either<br>\n<code>extension[url = \"some-extension-url\"].valueReference.reference</code><br>\nor<br>\n<code>id</code><br>\nif the extension is not found?</p>",
        "id": 267488636,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1641843340
    },
    {
        "content": "<p>in XPath it might be something like:<br>\n<code>fhir:extension[@url = 'some-extension-url']/fhir:valueReference/fhir:reference/@value | fhir:id/@value</code></p>",
        "id": 267488752,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1641843397
    },
    {
        "content": "<p>actually, this is more like it:</p>\n<div class=\"codehilite\"><pre><span></span><code>if (fhir:extension[@url = &#39;...&#39;]) then fhir:extension[@url = &#39;...&#39;]/fhir:valueReference/fhir:reference/@value else fhir:id/@value\n</code></pre></div>",
        "id": 267489623,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1641843864
    },
    {
        "content": "<p><a href=\"https://sqlonfhir-r4.azurewebsites.net/fhir/Patient/example/$extract?expression=Patient.birthDate.select(iif(extension(%27http://hl7.org/fhir/StructureDefinition/patient-birthTime%27).exists(),%20extension,id))\">https://sqlonfhir-r4.azurewebsites.net/fhir/Patient/example/$extract?expression=Patient.birthDate.select(iif(extension(%27http://hl7.org/fhir/StructureDefinition/patient-birthTime%27).exists(),%20extension,id))</a></p>",
        "id": 267497889,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1641847947
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> this is great. this will get me most of the way there.<br>\nCan you tell me, how did you efficiently test this FHIRPath? With XPath, I would open up OxygenXML and pull up the XPath Builder... but, not sure of a good/efficient way to test FHIRPath like this against a HAPI server\\</p>",
        "id": 267502255,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1641849895
    },
    {
        "content": "<p>HAPI also has a similar operation too.<br>\nJames pointed that out in a topic only in the last few days...<br>\n<a href=\"http://hapi.fhir.org/baseR4/Observation/1574881?_fhirpath=Observation.component.where(code.coding.code%20=%20%278462-4%27).value\">http://hapi.fhir.org/baseR4/Observation/1574881?_fhirpath=Observation.component.where(code.coding.code%20=%20%278462-4%27).value</a></p>",
        "id": 267502550,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1641850027
    },
    {
        "content": "<p>And I also use my fhirpath tester tool which is in the windows app store.</p>",
        "id": 267502579,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1641850044
    },
    {
        "content": "<p>Between the HAPI <code>_fhirpath</code>, the FHIRPath Tester tool, and your example <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>... I got what I needed. Thanks so much!</p>",
        "id": 267593379,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1641913243
    }
]