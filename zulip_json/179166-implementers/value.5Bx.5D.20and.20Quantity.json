[
    {
        "content": "<p>If an element can have multiple types including Quantity (e.g. the extension value:  <a href=\"http://hl7.org/fhir/STU3/extensibility.html#Extension\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/extensibility.html#Extension\">http://hl7.org/fhir/STU3/extensibility.html#Extension</a>) can it also use the sub-types of Quantity (Age, Count etc.) - even if they are not explicitly listed?</p>",
        "id": 153976097,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1531934793
    },
    {
        "content": "<p>In other words is this legal:</p>",
        "id": 153976098,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1531934902
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 153976099,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1531934904
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>    &quot;extension&quot;: [\n      {\n        &quot;url&quot;: &quot;https://bluebutton.cms.gov/resources/variables/prpayamt&quot;,\n        &quot;valueMoney&quot;: {\n          &quot;value&quot;: 0.0,\n          &quot;system&quot;: &quot;urn:iso:std:iso:4217&quot;,\n          &quot;code&quot;: &quot;USD&quot;\n        }\n      },\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>\n</pre></div>",
        "id": 153976100,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1531934907
    },
    {
        "content": "<p>The specs at  <a href=\"http://hl7.org/fhir/STU3/formats.html#choice\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/formats.html#choice\">http://hl7.org/fhir/STU3/formats.html#choice</a> sat 'The table view shows each of these names explicitly.' so I'd say 'no' but I am not sure</p>",
        "id": 153976101,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1531935008
    },
    {
        "content": "<p>Since all subtypes of Quantity are valid Quantities, yes.</p>",
        "id": 153976102,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1531935090
    },
    {
        "content": "<p>...if that's the case maybe the specs should be fixed? Because in that case you can use type names that are not listed explicitly</p>",
        "id": 153976103,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1531935186
    },
    {
        "content": "<p>Ah, I see what you are saying now.  No, you couldn't send 'valueMoney', you would have to send 'valueQuantity'.</p>",
        "id": 153976108,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1531935973
    },
    {
        "content": "<p>Yes, that's what I though...but then I was not sure</p>",
        "id": 153976109,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1531936014
    },
    {
        "content": "<p>i originally read your question as \"can I send a Money in a Quantity slot?\"  so my bad for not reading properly. :)</p>",
        "id": 153976110,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1531936055
    },
    {
        "content": "<p>This is an interesting space because the rules have changed over time.  In R2, Money, Count, etc. were \"profiles\", not real data types.  So the element name would always have been valueQuantity and you could indicate whatever profile you liked.  However, it created pain because things like \"Age\" and \"Duration\" both showed up over the wire as \"Quantity\" - which created confusion, especially if there was a choice between the two of them.  So in R3, they became first order data types.  That means that the element name becomes valueMoney or valueCount.  It also means that they are <em>not</em> substitutable at runtime.  If the allowed type is Quantity, you can't send valueAge.  (Though you could send a Quantity that happens to meet the constraints of age).  In R4, there's an additional change: Money will no longer be derived from Quantity at all.  The objective there is to make Money lighter weight, because right now it's rather unpleasant to work with in the financial resources.</p>",
        "id": 153976115,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1531938282
    },
    {
        "content": "<p>OK, thanks Lloyd</p>",
        "id": 153976123,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1531939791
    }
]