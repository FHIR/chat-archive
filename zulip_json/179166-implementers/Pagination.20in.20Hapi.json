[
    {
        "content": "<p>How to modify pagination implemented in HAPI? <br>\n<span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span>  please help.</p>\n<p>When executed below query-<br>\nGET <a href=\"http://hapi.fhir.org/baseDstu3/Patient?given=Smith&amp;_pretty=true\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/Patient?given=Smith&amp;_pretty=true\">http://hapi.fhir.org/baseDstu3/Patient?given=Smith&amp;_pretty=true</a></p>\n<p>got below as next set of records-</p>\n<p>GET <a href=\"http://hapi.fhir.org/baseDstu3?_getpages=2a636711-3850-4bee-92fe-db61b8eb2cea&amp;_getpagesoffset=20&amp;_count=20&amp;_pretty=true&amp;_bundletype=searchset\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3?_getpages=2a636711-3850-4bee-92fe-db61b8eb2cea&amp;_getpagesoffset=20&amp;_count=20&amp;_pretty=true&amp;_bundletype=searchset\">http://hapi.fhir.org/baseDstu3?_getpages=2a636711-3850-4bee-92fe-db61b8eb2cea&amp;_getpagesoffset=20&amp;_count=20&amp;_pretty=true&amp;_bundletype=searchset</a></p>\n<p>I believe to implement above pagination, HAPI FHIR server should have all the records avaialble at first hand. Also, _getpages and _getpagesoffset are specific parameters defined by HAPI to implement pagination, these are not standard FHIR search parameters, right?</p>\n<p>In my use case, EMR not providing all the records in one go. It provides 10 records at a time and a session id (some unique id at EMR side). Client can use this session id to query EMR specific API to get another 10 records. Now same has to be done using FHIR server. So, the first requirement is to able to pass on session id to client. This id should be part of FHIR JSON (Bundle returning first set of records from EMR). Question is where to put this id in Bundle?</p>\n<p>I am not able to understand how to replace HAPI pagination url with my own. for example-</p>\n<p>replacing below</p>\n<p><a href=\"http://hapi.fhir.org/baseDstu3?_getpages=2a636711-3850-4bee-92fe-db61b8eb2cea&amp;_getpagesoffset=20&amp;_count=20&amp;_pretty=true&amp;_bundletype=searchset\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3?_getpages=2a636711-3850-4bee-92fe-db61b8eb2cea&amp;_getpagesoffset=20&amp;_count=20&amp;_pretty=true&amp;_bundletype=searchset\">http://hapi.fhir.org/baseDstu3?_getpages=2a636711-3850-4bee-92fe-db61b8eb2cea&amp;_getpagesoffset=20&amp;_count=20&amp;_pretty=true&amp;_bundletype=searchset</a></p>\n<p>with</p>\n<p><a href=\"http://hapi.fhir.org/baseDstu3/Patient?sessionId=123444\" target=\"_blank\" title=\"http://hapi.fhir.org/baseDstu3/Patient?sessionId=123444\">http://hapi.fhir.org/baseDstu3/Patient?sessionId=123444</a></p>\n<p>Is it possible in HAPI and if yes how to do that?</p>",
        "id": 161868402,
        "sender_full_name": "Aditya Joshi",
        "timestamp": 1553699210
    },
    {
        "content": "<p>This should work fine.</p>\n<p>What you need to do is create your own implementation of the IPagingProvider interface and have your search methods return a custom IBundleProvider implementation.</p>\n<p>Your bundle provider would incude the page ID for the next page of results, and the IPagingProvider would actually look up that next page. HAPI will then take care of the rest, including creating the URL you show above.</p>",
        "id": 161871412,
        "sender_full_name": "James Agnew",
        "timestamp": 1553700878
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span>  it helped a lot.</p>",
        "id": 161934582,
        "sender_full_name": "Aditya Joshi",
        "timestamp": 1553764168
    }
]