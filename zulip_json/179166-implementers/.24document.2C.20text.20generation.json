[
    {
        "content": "<p>The documentation of the $document operation is silent on whether or not the servers is supposed to generate the human narrative portion of the generated document.<br>\nIt was my assumption that a server which supports $document would generate the human narrative. For example, if we have a section for 'current medications', which is en entry which points to a List resource, it would seem that a textual version of that medication list should be generated server side upon execution of $document. <br>\nIf this was consciously omited in the documentation of $document, i.e. its left up to the server to generate text or not, it would be nice to have this choice documented on the $ document page. But first: is a server supposed to generate narrative when $document is being used?</p>",
        "id": 160096101,
        "sender_full_name": "René Spronk",
        "timestamp": 1551879863
    },
    {
        "content": "<p>Any document should have corresponding narrative text to realize its full value. I think it should be explicitly required.</p>",
        "id": 160099614,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1551882291
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"200498\">@Brendan Keeler</span> That's fine, but who should create it (if it doesn't exist yet) ? The client just prior to using the $document operation, or the server ?</p>",
        "id": 160101355,
        "sender_full_name": "René Spronk",
        "timestamp": 1551883503
    },
    {
        "content": "<p>Vonk's implementation of $document does not generate the narrative if it's not given. We see some use cases where the document is only meant to be an immutable context, however not meant to be \"human-readable\".</p>",
        "id": 160101766,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1551883771
    },
    {
        "content": "<p>Most of the time the document is only created in order to have a bundle which can be digitally signed.</p>",
        "id": 160101897,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1551883855
    },
    {
        "content": "<p>However, the FHIR principle which says that \"complexity should be on the server, not on the client\" would call for functionality on the server to generate the text (if none exists).</p>",
        "id": 160102429,
        "sender_full_name": "René Spronk",
        "timestamp": 1551884206
    },
    {
        "content": "<p>this should not be a requirement of generically $document. But rather would be imposed on the profile of the document being requested. Some profiles will be just a bundling of resources. Servers should not be expected to make something out of nothing, automated like that will produce really ugly and possibly dangerous text. This seems to be a missed parameter in $document, which seems to be more focused on just assembling a graph.</p>",
        "id": 160102933,
        "sender_full_name": "John Moehrke",
        "timestamp": 1551884549
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span> You can create a signed bundle without the overhead of a document.  I think you're abusing the notion of 'document' if the focus isn't human-readability.</p>",
        "id": 160108996,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1551888595
    },
    {
        "content": "<p>I agree that generating the narrative can't be general requirement. In particular, if the server is implementing the $document completely generically by just assembling a graph or the directly referenced resources. However, I would expect that for real documents the server needs to apply a templating mechanism of some kind in order to generate human-readable documents for specific purposes. In that case, the narrative should also be generated.</p>",
        "id": 160109244,
        "sender_full_name": "Johannes Faber",
        "timestamp": 1551888736
    },
    {
        "content": "<p>Well, we use everything that is expected from a document with regard to the requirements for the composition own which $document can be called. Including checking references with a GraphDefinition. The key difference is that the document is attested by a machine and not a human.  In the case that the document will be reviewed, it is, at least in my use case, not important that the reviewer has a human-readable text available.</p>",
        "id": 160110070,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1551889183
    },
    {
        "content": "<p>I agree with <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span>. I think most profiles of the documents should require it. If client provides text, server should do nothing. If client does not, server should create it.</p>",
        "id": 160110300,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1551889311
    },
    {
        "content": "<p>I would totally agree with the statement that if a profile on the document requires a narrative it should be the responsibility of the server to create it. However, that decision should be use case specific.</p>",
        "id": 160110811,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1551889678
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"193430\">Alexander Zautke</span> You can create a signed bundle without the overhead of a document.  I think you're abusing the notion of 'document' if the focus isn't human-readability.</p>\n</blockquote>\n<p>” HL7 characterizes a document by the following properties:</p>\n<ul>\n<li>Persistence – Documents are persistent over time. The content of the document does not change from one moment to another. A document represents information stored at a single instance in time. </li>\n<li>Wholeness - A document is a whole unit of information. Parts of the document may be created or edited separately, or may also be authenticated or legally authenticated, but the entire document is still to be treated as a whole unit. </li>\n<li>Stewardship –A document is maintained over its lifetime by a custodian, either an organization or a person entrusted with its care. </li>\n<li>Context - A clinical document establishes the default context for its contents </li>\n<li>Potential for authentication - A clinical document is an assemblage of information that is intended to be legally authenticated. </li>\n<li>Human readability - A clinical document is human readable</li>\n</ul>\n<p>Yup, human readable is there... but so are other things... and I have heard that humans can read JSON</p>",
        "id": 160111263,
        "sender_full_name": "John Moehrke",
        "timestamp": 1551889959
    },
    {
        "content": "<p><a href=\"https://www.hl7.org/fhir/cda-intro.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/cda-intro.html\">https://www.hl7.org/fhir/cda-intro.html</a></p>",
        "id": 160111287,
        "sender_full_name": "John Moehrke",
        "timestamp": 1551889984
    },
    {
        "content": "<p>Perhaps we can add a bit in there that server generation of the narrative is recommended in the case that the client does not generate it, but implementation/profiling would be the step that strictly requires it?</p>",
        "id": 160111540,
        "sender_full_name": "Brendan Keeler",
        "timestamp": 1551890175
    }
]