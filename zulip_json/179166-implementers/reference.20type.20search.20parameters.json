[
    {
        "content": "<p>Do we have any description of how reference type search parameters work with logical references anywhere? I can't find anything...<br>\nThis paragraph doesn't mention anything relating to logical references:<br>\n<a href=\"http://build.fhir.org/search.html#referenceBehavior\" target=\"_blank\" title=\"http://build.fhir.org/search.html#referenceBehavior\">http://build.fhir.org/search.html#referenceBehavior</a> of reference type search parameters</p>\n<p>I am currently wondering how I'd be able to search e.g. for all Patients with a specific generalPractitioner, assuming that the practitioners are only known/referenced by a national identifier.</p>",
        "id": 153927330,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1514571202
    },
    {
        "content": "<p>I recently had the same question from a Vonk user. My simple solution was to create a custom Token-type searchparameter with an expression extracting the reference.identifier element, and search on that parameter.</p>",
        "id": 153927331,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1514571344
    },
    {
        "content": "<p>Yes, my thought exactly. However I find it a bit strange that the resource-type search parameters target the complex type Reference (e.G. the Patient search parameter \"general-practitioner\" points at Patient.generalPractitioner . But somehow it is implicit that the search only operates on Patient.generalPractitioner.reference.</p>",
        "id": 153927332,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1514571763
    },
    {
        "content": "<p>I  agree that could use clarification. Do you create a CR for that?</p>",
        "id": 153927333,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1514571818
    },
    {
        "content": "<p>BTW: Does the modifier :text do anything with reference types?<br>\nWe say it targets the display portion of a CodableConcept but does it also work on the display portion of a Reference?</p>",
        "id": 153927334,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1514571841
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/search.html#modifiers\" target=\"_blank\" title=\"http://build.fhir.org/search.html#modifiers\">http://build.fhir.org/search.html#modifiers</a></p>",
        "id": 153927335,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1514571851
    },
    {
        "content": "<p>That paragraph only defines :[type] as a valid modifier for reference parameters, not :text.</p>",
        "id": 153927336,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1514571897
    },
    {
        "content": "<p>Right, it says \"for token\" in the description of :text. I missed that.</p>",
        "id": 153927337,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1514571968
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14375\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14375\">GF#14375</a></p>",
        "id": 153927338,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1514572782
    },
    {
        "content": "<p>Great</p>",
        "id": 153927340,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1514572816
    },
    {
        "content": "<p><a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14103\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14103\">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14103</a></p>",
        "id": 153927355,
        "sender_full_name": "Ben Spencer",
        "timestamp": 1514617661
    },
    {
        "content": "<p>This would then only work for those using the reference identifier, and not the practitioner references where the prac instance has that value.<br>\nOr any that are a contained prac instance with that identifier.</p>",
        "id": 153927359,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1514675662
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191450\">@Simone Heckmann</span>  you can use chained searches: <code>generalPractitioner.identifier=xxxx</code></p>",
        "id": 153927459,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1514924069
    },
    {
        "content": "<p>Chaining won't work when the reference doesn't point at another FHIR resource</p>",
        "id": 153927520,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1514987437
    }
]