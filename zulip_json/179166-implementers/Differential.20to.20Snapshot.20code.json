[
    {
        "content": "<p>Does anyone know if there is any open source code available to generate a StructureDefinition snapshot from a differential (and its base differentials)?  (C# preferably)</p>",
        "id": 153814562,
        "sender_full_name": "Jonny Rylands",
        "timestamp": 1457530902
    },
    {
        "content": "<p>Hi Jonny, yes there is code that does that here: <a href=\"https://github.com/ewoutkramer/fhir-net-api/tree/develop/src/Hl7.Fhir.Specification/Specification/Snapshot\" target=\"_blank\" title=\"https://github.com/ewoutkramer/fhir-net-api/tree/develop/src/Hl7.Fhir.Specification/Specification/Snapshot\">https://github.com/ewoutkramer/fhir-net-api/tree/develop/src/Hl7.Fhir.Specification/Specification/Snapshot</a></p>",
        "id": 153814563,
        "sender_full_name": "Marten Smits",
        "timestamp": 1457531083
    },
    {
        "content": "<p>Excellent thanks :-)</p>",
        "id": 153814564,
        "sender_full_name": "Jonny Rylands",
        "timestamp": 1457531111
    },
    {
        "content": "<p>It is still under development I think, but it's come a long way. <span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> knows the current status.</p>",
        "id": 153814565,
        "sender_full_name": "Marten Smits",
        "timestamp": 1457531129
    },
    {
        "content": "<p>Do you use Ewout's Snapshot generator in Forge?</p>",
        "id": 153814567,
        "sender_full_name": "Jonny Rylands",
        "timestamp": 1457534880
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191334\">@Marten Smits</span> <span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> I <em>think</em> there might be a bug in the Snapshot generator - I'm trying to generate a snapshot of an Organization profile.  When the generator looks for the boolean base type for the \"Organization.active\" element, the following line passes in \"Boolean\" to ArtifactResolver:</p>\n<p>var coreType = resolver.GetStructureDefinitionForCoreType(defn.Type[0].Code.ToString());</p>\n<p>The ArtifactResolver can't find the definition for \"Boolean\" because it is defined \"boolean\".</p>\n<p>Apologies if I'm doing something stupid, but it looks like it could be a bug, as other base resources such as \"ContactPoint\", \"Identifier\" as being resolved fine.</p>",
        "id": 153814579,
        "sender_full_name": "Jonny Rylands",
        "timestamp": 1457540288
    },
    {
        "content": "<p>Thanks that is a bug indeed. I'll fix it right away.</p>",
        "id": 153814584,
        "sender_full_name": "Marten Smits",
        "timestamp": 1457541584
    },
    {
        "content": "<p>Great - I'll pull an update when you're done.</p>",
        "id": 153814585,
        "sender_full_name": "Jonny Rylands",
        "timestamp": 1457541830
    },
    {
        "content": "<p>Should be available now</p>",
        "id": 153814586,
        "sender_full_name": "Marten Smits",
        "timestamp": 1457541965
    },
    {
        "content": "<p>is it the master branch in this repo?<br>\n<a href=\"https://github.com/ewoutkramer/fhir-net-api\" target=\"_blank\" title=\"https://github.com/ewoutkramer/fhir-net-api\">https://github.com/ewoutkramer/fhir-net-api</a></p>",
        "id": 153814587,
        "sender_full_name": "Jonny Rylands",
        "timestamp": 1457542028
    },
    {
        "content": "<p>it's in the develop branch</p>",
        "id": 153814588,
        "sender_full_name": "Marten Smits",
        "timestamp": 1457542046
    },
    {
        "content": "<p>ok</p>",
        "id": 153814589,
        "sender_full_name": "Jonny Rylands",
        "timestamp": 1457542071
    },
    {
        "content": "<p>that's working great now thanks :-)</p>",
        "id": 153814590,
        "sender_full_name": "Jonny Rylands",
        "timestamp": 1457542682
    },
    {
        "content": "<p>No problem :-)</p>",
        "id": 153814591,
        "sender_full_name": "Marten Smits",
        "timestamp": 1457542707
    },
    {
        "content": "<p>Jonny - the java reference implementation also does this too, and it's open source. In addition, my server also does this, and it's also open source too</p>",
        "id": 153814640,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1457556168
    },
    {
        "content": "<p>@Jonny, Forge still performs snapshot expansion using custom application logic. So the results might slightly differ from other tools that also perform expansion. We are planning to deprecate the custom Forge expansion logic and leverage the new FHIR API snapshot generation in a future release, in order to have a uniform implementation across different tools.</p>",
        "id": 153814734,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1457605129
    },
    {
        "content": "<p>Ok thanks.</p>",
        "id": 153814741,
        "sender_full_name": "Jonny Rylands",
        "timestamp": 1457606754
    },
    {
        "content": "<p>Yeah. That looks like an incorrect fix for when we updated the model generation to C#: the Type[x].Code went from a string to an enum, and I did a quickfix by putting ToString() there, but that's obviously wrong.  This really should be ModelInfo.FhirTypeToFhirTypeName(defn.Type[0].Code). Can you try that?</p>",
        "id": 153815365,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1457942642
    },
    {
        "content": "<p>Oops, just noticed Marten has already fixed that. Still have to get used to Zulip, sorry ;-)</p>",
        "id": 153815366,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1457944203
    }
]