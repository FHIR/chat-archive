[
    {
        "content": "<p>ok welcome @all. Here's a starting proposal:</p>\n<p>The application is appointment based. if a mobile phone is registed for the patient:</p>\n<p>2 hours before appointment, it sends and SMS to the person saying something like<br>\n\"Due to the COVID-19 pandemic, the clinic no longer has an open patient waiting room.<br>\nWhen you arrive at the clinic, stay in your car and respond to this SMS with the word <br>\n\"arrived\". The wait in your car until you are invited in. If you do not arrive by car,<br>\nthen wait [instructions]\"</p>\n<ul>\n<li>note: for non care arrivals (taxis etc, the clinic needs to figure out least worst <br>\n   instructions whether it's the waiting room, or </li>\n</ul>\n<p>Clinic has a sign on the door something like:</p>\n<p>\"Due to the COVID-19 Pandemic, this clinic has closed it's waiting room. Please wait<br>\nin your car, and SMS \"arrived\" to </p>\n<p>If the patient replies with anything other than \"arrived\", then....?</p>\n<p>Whern the patient replies with \"arrived\" then <br>\nIf:</p>\n<ul>\n<li>the incoming mobile number does not match to a known patient: reply with \"This is not a recognised phone number. Please respond with details about the patient who the appointment is for (name, dob, medicare number) ?<ul>\n<li>if the patient is found, remember the link? </li>\n<li>if the patient is still not found, now what?</li>\n</ul>\n</li>\n<li>the mobile number matches a patient without an appointment: ?</li>\n<li>the mobile number matches an appointment: ?</li>\n</ul>\n<p>Once the clinic manager assigns a room and invites the patient (may need to do this <br>\na little earlier since patient will need to walk further), system sends email with<br>\ntext like:</p>\n<p>\"The doctor is ready for you now. Please come in to room ##\"</p>\n<p>Note: Many patients are brought in by someone else, and so the phone may be <br>\nassociated with a carer not the patient (e.g. perent, partner or son/daughter). </p>\n<p>Todo: how much support does the PMS have for tracking associated mobile phone numbers? </p>\n<ul>\n<li>include a database for the app so it can remember links made ?</li>\n</ul>",
        "id": 191035818,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584562479
    },
    {
        "content": "<p>I guess I should move this into a md file in the repo...</p>",
        "id": 191035871,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584562510
    },
    {
        "content": "<p><a href=\"https://github.com/grahamegrieve/ClinicArrivals/blob/master/documentation.md\" target=\"_blank\" title=\"https://github.com/grahamegrieve/ClinicArrivals/blob/master/documentation.md\">https://github.com/grahamegrieve/ClinicArrivals/blob/master/documentation.md</a></p>",
        "id": 191036883,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584563038
    },
    {
        "content": "<p>Adding <span class=\"user-mention\" data-user-id=\"193519\">@Andy Bond</span></p>",
        "id": 191037601,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584563337
    },
    {
        "content": "<p>Hey all</p>",
        "id": 191037926,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1584563472
    },
    {
        "content": "<p>hi</p>",
        "id": 191037945,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584563487
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193519\">@Andy Bond</span> Brett and I didn't discuss Genie at all. But there'd be no reason why Genie couldn't choose to donate their own implementation of the PMS interface...</p>",
        "id": 191038238,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584563626
    },
    {
        "content": "<p>Read through the desc. I imagine this is better suited to be a web-based service then that hooks into some SMS API, right</p>",
        "id": 191038254,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1584563636
    },
    {
        "content": "<p>sms is the starting point because it ducks all sorts of authentication issues.</p>",
        "id": 191038359,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584563669
    },
    {
        "content": "<p>But then we need communication between what's installed on the desktop (Brett's expertise as I understand). I haven't worked with SMS APIs before, happy to dig into this unless there's a recommendation already</p>",
        "id": 191038445,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1584563738
    },
    {
        "content": "<p>I have. We're going to start with Twilio - it's easy</p>",
        "id": 191038477,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584563758
    },
    {
        "content": "<p>simple json based web calls</p>",
        "id": 191038537,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584563774
    },
    {
        "content": "<p>okay. Got an idea for me to work on?</p>",
        "id": 191038586,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1584563808
    },
    {
        "content": "<p>waiting to hear from <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span></p>",
        "id": 191038691,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584563874
    },
    {
        "content": "<p>I'll check back in tomorrow morning</p>",
        "id": 191038761,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1584563893
    },
    {
        "content": "<p>And I'm waiting to hear from <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> , the above notes are looking good Grahame, nothing too shocking/difficult.</p>",
        "id": 191040394,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584564640
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191333\">@Reuben Daniels</span> added</p>",
        "id": 191041582,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584565260
    },
    {
        "content": "<p>I dropped a message to James and Michael.</p>",
        "id": 191042882,
        "sender_full_name": "Andy Bond",
        "timestamp": 1584565942
    },
    {
        "content": "<p>Have had a chat with Brett, will get a skeleton together tonight tomorrow.<br>\n(already started)</p>",
        "id": 191052026,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584571323
    },
    {
        "content": "<blockquote>\n<p>eems all we really need is the appointments list for the day then do SMS triggers based on changes to status</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> well, doesn't it change through the day? We want more recent information than that?</p>",
        "id": 191072160,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584594083
    },
    {
        "content": "<p>based on feedback from the clinical today... the mobile number is avalable, but there's a consent issue</p>",
        "id": 191072170,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584594118
    },
    {
        "content": "<p>they consent to using the mobile  number for follow ups. <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> can you get that flag?</p>",
        "id": 191072213,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584594139
    },
    {
        "content": "<p>there is a \"Contact via\" in BP which is a preference not a consent; there is a 'do not SMS' in MD which I can provide</p>",
        "id": 191072526,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584594747
    },
    {
        "content": "<p>There is consent under the BPComms system; but that is subscriber based system; need to create an account</p>",
        "id": 191072636,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584594965
    },
    {
        "content": "<p>well, we'll just use the number for now without worrying about that, i think</p>",
        "id": 191072715,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584595141
    },
    {
        "content": "<p>that makes sense... we can honour the MD 'do not SMS' flag I guess... which is part of the patient details...</p>",
        "id": 191072774,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584595209
    },
    {
        "content": "<p>yes if they have that they don't have an SMS for me</p>",
        "id": 191072780,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584595228
    },
    {
        "content": "<p>for the triggers - we would poll; 30-60 seconds and just look for booked-&gt;arrived transition to trigger the come inside message</p>",
        "id": 191072795,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584595312
    },
    {
        "content": "<p>we could send out an info SMS before the appointment to explain what is going on; start of the day + new bookings</p>",
        "id": 191072847,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584595379
    },
    {
        "content": "<p>hang on = \"arrived\" = they are waiting in the car park, right?</p>",
        "id": 191072907,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584595448
    },
    {
        "content": "<p>that doesn't trigger the come inside message</p>",
        "id": 191072911,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584595460
    },
    {
        "content": "<p>problem is we don't have a come inside trigger in the workflow</p>",
        "id": 191072927,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584595503
    },
    {
        "content": "<p>right. that came up in the clinic today</p>",
        "id": 191072932,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584595520
    },
    {
        "content": "<p>we could do arrived if they respond to the SMS outside</p>",
        "id": 191072934,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584595522
    },
    {
        "content": "<p>you mean \"there isn't a step in the PMS for 'go to room X'\" ?</p>",
        "id": 191072938,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584595544
    },
    {
        "content": "<p>there are no room allocations; unless we want to add a label in the app  to link the practitioner and a room</p>",
        "id": 191072979,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584595591
    },
    {
        "content": "<p>rooms aren't a resource</p>",
        "id": 191072980,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584595600
    },
    {
        "content": "<p>in appointments system</p>",
        "id": 191072981,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584595611
    },
    {
        "content": "<p>there is a 'seeing doctor' state</p>",
        "id": 191072990,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584595655
    },
    {
        "content": "<p>can walkthough on a call if that helps...</p>",
        "id": 191073034,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584595699
    },
    {
        "content": "<p>basically was proposin</p>\n<ul>\n<li>get all booked appointments at start of day and SMS patients about entry arrangements</li>\n<li>new bookings for today SMS patient immediately about entry arrangements</li>\n<li>when practice is ready for  patient set appointment to 'arrived' status </li>\n<li>transition to arrived status triggers SMS to patient to come inside (optional room details if we can figure a way to include them)</li>\n<li>patient comes in and does the visit</li>\n<li>appointment transitions to 'fulfilled' and no longer relevant</li>\n</ul>",
        "id": 191073225,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584596042
    },
    {
        "content": "<p>transistion triggers done by slow poll 30-60s - we are talking &lt;250 appointments generally... my search on appointments is a bit crippled...</p>",
        "id": 191073318,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584596172
    },
    {
        "content": "<p>\"when practice is ready for patient\" - what is that? when they're in the car park?</p>",
        "id": 191073322,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584596191
    },
    {
        "content": "<p>30-60x ok</p>",
        "id": 191073325,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584596197
    },
    {
        "content": "<p>doesn't the clinic want confirmation that the patient is outside in the PMS?</p>",
        "id": 191073332,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584596223
    },
    {
        "content": "<p>can't leverage \"arrived\" for the please come to room X message because room X is not tracked, right?</p>",
        "id": 191073337,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584596252
    },
    {
        "content": "<p>they could do.. that would have to be an SMS exchange</p>",
        "id": 191073338,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584596254
    },
    {
        "content": "<p>right that's what we want</p>",
        "id": 191073340,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584596267
    },
    {
        "content": "<p>so sequence changes there:</p>",
        "id": 191073382,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584596283
    },
    {
        "content": "<p>Clinic doesn't want doctor in the corridor if we can avoid id</p>",
        "id": 191073389,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584596299
    },
    {
        "content": "<ul>\n<li>when patient arrives to wait outside; they respond to SMS </li>\n<li>when SMS response is received by app we move to 'arrived' status via API</li>\n</ul>",
        "id": 191073398,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584596346
    },
    {
        "content": "<p>to call patient in we could either require a button press in app - i.e. message the patient to come in</p>",
        "id": 191073451,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584596404
    },
    {
        "content": "<p>or we could mark the patient as 'seeing doctor' in the PMS which triggers the SMS message for patient to come in</p>",
        "id": 191073457,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584596441
    },
    {
        "content": "<p>we could do a manual note to include for each practitioner in the SMS; which could state the room they are in today - manual in the app</p>",
        "id": 191073511,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584596542
    },
    {
        "content": "<p>yes that would be the least work - moving them to 'seeing doctor' sends an SMS that has current room for doctor from running screen</p>",
        "id": 191073578,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584596736
    },
    {
        "content": "<p>yep - and means multiple frontdesk seats works fine</p>",
        "id": 191073620,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584596783
    },
    {
        "content": "<p>so running screen has:</p>\n<ul>\n<li>list of doctors and rooms </li>\n<li>list of patients in the carpark</li>\n<li>list of SMSs received that were not understood with a resolve button</li>\n</ul>",
        "id": 191073625,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584596807
    },
    {
        "content": "<p>has to be client/server now, right? :-(</p>",
        "id": 191073626,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584596816
    },
    {
        "content": "<p>nope - can do all this on a single desktop; copy deploy no admin</p>",
        "id": 191073631,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584596855
    },
    {
        "content": "<p>so the UI on;y runs on one desktop? Still needs a database?</p>",
        "id": 191073671,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584596884
    },
    {
        "content": "<p>need a shared db if we want multiple desktops to handle sharing doctor/room link;  really want a single inbound SMS worker for the arrival to carpark;  we could just stash doctor id - room label in cloud storage nothing sensitive there all my doctor id's are globally unique</p>",
        "id": 191073793,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584597165
    },
    {
        "content": "<p>plan was to be completely hands off except for unkown response on SMS issues</p>",
        "id": 191073865,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584597334
    },
    {
        "content": "<p>just use PMS to control the triggers</p>",
        "id": 191073869,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584597356
    },
    {
        "content": "<p>need a db to survive a crash. We don't need multiple desktops rigth?</p>",
        "id": 191081022,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584605724
    },
    {
        "content": "<p>so it's just continuity on the one desktop</p>",
        "id": 191081051,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584605760
    },
    {
        "content": "<p>one desktop app is easiest; and this will be mostly handsoff; save practitioner to room link to a data file would do it; just reload on restart...</p>",
        "id": 191081704,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584606324
    },
    {
        "content": "<p>we can do file copy; no admin install by download or clickonce launch pretty successfully..</p>",
        "id": 191081794,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584606386
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> any progress - got a framework you can commit? I want to work on the configuration piece</p>",
        "id": 191089507,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584611299
    },
    {
        "content": "<p>Will be committing stuff soon</p>",
        "id": 191116753,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584626519
    },
    {
        "content": "<p>I created some todo's around the SMS messaging area.<br>\nMost specifically in the ReceiveMessages space</p>",
        "id": 191121678,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584628537
    },
    {
        "content": "<p>It's currently just grabbing from Brett's public server while we test and get things running.</p>",
        "id": 191121758,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584628563
    },
    {
        "content": "<p>Settings are in the config file<br>\n<a href=\"https://github.com/grahamegrieve/ClinicArrivals/blob/master/ClinicArrivals/App.config\" target=\"_blank\" title=\"https://github.com/grahamegrieve/ClinicArrivals/blob/master/ClinicArrivals/App.config\">https://github.com/grahamegrieve/ClinicArrivals/blob/master/ClinicArrivals/App.config</a></p>",
        "id": 191121973,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584628665
    },
    {
        "content": "<p>Could put in a page to edit this content.<br>\n(and save it back into the file)</p>",
        "id": 191122054,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584628689
    },
    {
        "content": "<p>Let me know what I can help with tonight.</p>",
        "id": 191133913,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1584633492
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 191170763,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1584649719
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> can you get patient language on the API?</p>",
        "id": 191195165,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584667897
    },
    {
        "content": "<p>ok, I've updated the documentation after discussion with Nathan and Mukesh.</p>",
        "id": 191195787,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584668792
    },
    {
        "content": "<p>I'll take a look</p>",
        "id": 191196045,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584669162
    },
    {
        "content": "<p>If someone wants to grab something, the reading incoming messages from sms needs doing</p>",
        "id": 191196061,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584669214
    },
    {
        "content": "<p>can you read the updated docuemtnation?</p>",
        "id": 191196186,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584669370
    },
    {
        "content": "<p>and can we define an interface for the storage layer?</p>",
        "id": 191196194,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584669406
    },
    {
        "content": "<p>I've pushed a commit with the Interface for the TestSmsMessaging handler</p>",
        "id": 191197759,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584671469
    },
    {
        "content": "<p>cool! - I am still getting myself together re startup credentials; chatted with Grahame and think we should use the in-consult change to trigger the come inside SMS rather than from the app - Grahame documented...</p>",
        "id": 191197817,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584671558
    },
    {
        "content": "<p>Is there a hook you can put in to direct fire back to this code rather than polling?</p>",
        "id": 191197899,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584671693
    },
    {
        "content": "<p>no we poll.</p>",
        "id": 191197904,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584671707
    },
    {
        "content": "<p>every 10 seconds or so</p>",
        "id": 191197906,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584671714
    },
    {
        "content": "<p>Added a config setting for that interval</p>",
        "id": 191197972,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584671796
    },
    {
        "content": "<p>can wrap to make it like an event if you like... define a delegate for an event</p>",
        "id": 191197973,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584671797
    },
    {
        "content": "<p>make what an event?</p>",
        "id": 191197978,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584671810
    },
    {
        "content": "<p>detecting the change in status for one appointment; based on the poll data anyway...</p>",
        "id": 191197997,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584671841
    },
    {
        "content": "<p>same stuff really...</p>",
        "id": 191198052,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584671891
    },
    {
        "content": "<p>I have    public event CalendarEvent OnCalendarChange; on configuration object - public delegate void CalendarEvent(string practitionerId, DateTime dtvalue);</p>",
        "id": 191198147,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584672045
    },
    {
        "content": "<p>hides away some FHIR calls...</p>",
        "id": 191198158,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584672074
    },
    {
        "content": "<p>better to do in the app I think....</p>",
        "id": 191198165,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584672091
    },
    {
        "content": "<p>So I just have a method for that and then register it with your server object when it's created?</p>",
        "id": 191198224,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584672179
    },
    {
        "content": "<p>Might be better to keep the FHIR searches and logic in the app - so potentially could be supported by others; I have some magic in there...</p>",
        "id": 191198328,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584672339
    },
    {
        "content": "<p>If it is just the trigger to indicate a refresh, that's what I was planning to do in there if needed.</p>",
        "id": 191198412,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584672430
    },
    {
        "content": "<p>Can keep to timer for now.</p>",
        "id": 191198419,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584672440
    },
    {
        "content": "<p>how should we handle network errors? Just suppress them?</p>",
        "id": 191208498,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584689177
    },
    {
        "content": "<p>should be not a problem if we have a db server (or cloud db service) But I think we can do this later.</p>",
        "id": 191221577,
        "sender_full_name": "Jiawei",
        "timestamp": 1584698682
    },
    {
        "content": "<p>Log locally is about all, and flag to the UI that it hasn't happened</p>",
        "id": 191229986,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584704018
    },
    {
        "content": "<p>ok. better get an interface for that too...</p>",
        "id": 191230158,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584704106
    },
    {
        "content": "<blockquote>\n<p>System.IO.FileNotFoundException: 'Could not load file or assembly 'Newtonsoft.Json, Version=11.0.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed' or one of its dependencies. The system cannot find the file specified.'</p>\n</blockquote>\n<p>duh. I'm sure this is obvious for a non C# -newbie, I have no idea...</p>",
        "id": 191230208,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584704144
    },
    {
        "content": "<p>Where did you get that, trying to run the app, copying it, or the unit test stuff.</p>",
        "id": 191230612,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584704365
    },
    {
        "content": "<p>I was just about to pull anything down and keep going on cleaning up the front end.<br>\n(and watching the series Pandemic on Netflix)</p>",
        "id": 191230712,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584704421
    },
    {
        "content": "<p>i am nearly up to pushing oridashi start up  library... I am battiling some obsoleted stuff in FHIR .NET client -dropping back to 1.2.0 would not be a show stopper would it?   I will fix my end soon...</p>",
        "id": 191232496,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584705545
    },
    {
        "content": "<p>running the test case. O</p>",
        "id": 191232910,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584705768
    },
    {
        "content": "<p>I'll commit</p>",
        "id": 191232913,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584705771
    },
    {
        "content": "<p>ok I committed. Hopefully I didn't screw things up</p>",
        "id": 191233757,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584706237
    },
    {
        "content": "<p>yeah well, I did. I committed my actual twilio token by mistake in app.config</p>",
        "id": 191235002,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584707021
    },
    {
        "content": "<p>twilio emailed me after about 60 seconds to tell me I'd done it - impressive</p>",
        "id": 191235091,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584707060
    },
    {
        "content": "<p>but we really need do something about where the token lives</p>",
        "id": 191235163,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584707126
    },
    {
        "content": "<p>Brett, if you try the twilio receive test, do you get am assembly error?</p>",
        "id": 191235196,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584707158
    },
    {
        "content": "<p>TwilioTests.cs isn't in the commit?</p>",
        "id": 191237184,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584708320
    },
    {
        "content": "<p>Anything I can work on?</p>",
        "id": 191278767,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1584726900
    },
    {
        "content": "<p>What's ClinicArrrvials.Server?</p>",
        "id": 191285510,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584729742
    },
    {
        "content": "<p>I added TwilioTests.cs</p>",
        "id": 191285528,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584729753
    },
    {
        "content": "<p>@Vadim, I do not know</p>",
        "id": 191285546,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584729759
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191363\">@Vadim Peretokin</span> you could help me figure out why I get this baffling loading error running the tests</p>",
        "id": 191287775,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584730788
    },
    {
        "content": "<p>ClinicArrivals.Server - wrapper around the embedded FHIR server; starts it stops it</p>",
        "id": 191302585,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584738446
    },
    {
        "content": "<p>think json error on tests fixed; just version reference problem methinks - now getting Authentication error for Twillio</p>",
        "id": 191304506,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584739478
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> what should we do with the twilio token? we can't keep it in App.config, since we'll have our own tokens....</p>",
        "id": 191306783,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584740796
    },
    {
        "content": "<p>sms delivery works now; just documenting it</p>",
        "id": 191306800,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584740808
    },
    {
        "content": "<p>I am planning to do a trigger to support 'come inside' message; chatting with <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  this will be triggered on an arrived -&gt; start visit transition for an appointment</p>",
        "id": 191324297,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584758194
    },
    {
        "content": "<p>As in a call to the PMS?</p>",
        "id": 191326036,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584761276
    },
    {
        "content": "<p>other way; when they start visit in PMS from waiting room (arrived) will be trigger to SMS; I am going down the path of adding a Fulfilled list of appointments (new one added to Expected, Waiting) and  a PmsAppointment.ReadyToBeNotifiedToComeInside flag that will be set when this transition occurs; then can write a worker to process fulfilled list of PmsAppointments to see ready to be notified; and then notify by SMS</p>",
        "id": 191326240,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584761623
    },
    {
        "content": "<p>Fulfilled list of appts?</p>",
        "id": 191326481,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584762086
    },
    {
        "content": "<p>Just going to hold them in the model- could show if you like on screen; as they would hold the 'notified' flags ready to notiify; have notified</p>",
        "id": 191326556,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584762224
    },
    {
        "content": "<p>I</p>",
        "id": 191326943,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584763028
    },
    {
        "content": "<p>I'm not sure I follow who's holding what here?</p>",
        "id": 191326947,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584763041
    },
    {
        "content": "<p>I'm merging changes at the moment, then will push and we can chat about it</p>",
        "id": 191327116,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584763392
    },
    {
        "content": "<p>And thanks Brett for the other set of merges to do <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 191327693,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584764618
    },
    {
        "content": "<p>sorry did not mean too...  <span aria-label=\"frown\" class=\"emoji emoji-1f641\" role=\"img\" title=\"frown\">:frown:</span></p>",
        "id": 191327755,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584764703
    },
    {
        "content": "<p>there is an issue with BP database permissions in samples mode preventing update to 'arrived' via API; so have switched to live</p>",
        "id": 191327814,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584764805
    },
    {
        "content": "<p>want some VM's  to review progress ?</p>",
        "id": 191327824,
        "sender_full_name": "Brett Esler",
        "timestamp": 1584764830
    },
    {
        "content": "<p>sounds like a good idea</p>",
        "id": 191327956,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584765118
    },
    {
        "content": "<p>Just pushed my changes...</p>",
        "id": 191328019,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584765152
    },
    {
        "content": "<p>Sorry Brett, some of that last batch I've had to rewind.</p>",
        "id": 191328025,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584765175
    },
    {
        "content": "<p>If you switch from examples to live (or vise versa), then you have to restart the app</p>",
        "id": 191328077,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584765275
    },
    {
        "content": "<p>ok I need a GUID associated with the clinic on install, that's persistent across executions of the application</p>",
        "id": 191334457,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584778392
    },
    {
        "content": "<p>Is that needed across the org, or just the desktop?</p>",
        "id": 191336078,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584781345
    },
    {
        "content": "<p>We can put it into the Settings and <code>Guid.NewGuid()</code> to create it.</p>",
        "id": 191336085,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584781369
    },
    {
        "content": "<p>well, it's one for the org</p>",
        "id": 191336569,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584782383
    },
    {
        "content": "<p>yes agree</p>",
        "id": 191336572,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584782391
    },
    {
        "content": "<p>Would you like the value to be visible on the page for diagnostics?</p>",
        "id": 191337605,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1584784009
    },
    {
        "content": "<p>yeah I think so</p>",
        "id": 191338047,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584784762
    },
    {
        "content": "<p>though it only has use in the video conferencing</p>",
        "id": 191338050,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584784775
    }
]