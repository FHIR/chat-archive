[
    {
        "content": "<p>this page <a href=\"https://www2a.cdc.gov/vaccines/iis/iisstandards/vaccines.asp?rpt=ndc\" target=\"_blank\" title=\"https://www2a.cdc.gov/vaccines/iis/iisstandards/vaccines.asp?rpt=ndc\">https://www2a.cdc.gov/vaccines/iis/iisstandards/vaccines.asp?rpt=ndc</a> lists <code>49281-0392-78</code> as a valid NDC code. But when I look in the NDC source at <a href=\"https://www.fda.gov/drugs/drug-approvals-and-databases/national-drug-code-directory\" target=\"_blank\" title=\"https://www.fda.gov/drugs/drug-approvals-and-databases/national-drug-code-directory\">https://www.fda.gov/drugs/drug-approvals-and-databases/national-drug-code-directory</a>, I don't see 49281-0392-78 as a valid  code?</p>",
        "id": 166768169,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559084416
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> The FDA site is not the most authoritative NDC site. In any case that NDC was last used in 2014 so it's not in use and given we're talking about a flu vaccine those are tossed after a year. THE FDA site only has 2019 FLUZONE content.</p>",
        "id": 166775012,
        "sender_full_name": "Robert McClure",
        "timestamp": 1559092181
    },
    {
        "content": "<p>so where's the authoritative list of NDC codes published?</p>",
        "id": 166775152,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559092420
    },
    {
        "content": "<p>I think the best answer is that there is not a single authoritative list (that's why the drug database vendors spend a lot of time scouring multiple sources to compile their own lists - at least they've certainly been doing that in the past and I expect still are).  I think that the FDA list is probably the best out there for newer and current drugs, but as this points out, it isn't entirely complete.  <span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span> Are you thinking that there is a <strong>more</strong> authoritative (and ideally more complete) list out there?</p>",
        "id": 166853648,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559161545
    },
    {
        "content": "<p>wow. words fail me. This isn't even stated on the FDA site...</p>",
        "id": 166856104,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559163265
    },
    {
        "content": "<p>I don't know how I can manage this....</p>",
        "id": 166856189,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559163329
    },
    {
        "content": "<p>No, I'm sure that it isn't.  And agree, I don't know of any good way to manage this, other than taking the \"best\" list (FDA or whatever is better if we decide that there is a better one) and declare that the included content is a fragment.</p>",
        "id": 166857646,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559164376
    },
    {
        "content": "<p>Theoretically, since 2009, the FDA listing <strong>should</strong> be complete other than the caveat of:</p>\n<blockquote>\n<p>The NDC Directory does not contain all listed drugs. The new version includes the final marketed drugs which listing information were submitted electronically. It does not include animal drugs, blood products, or human drugs that are not in final marketed form, such as Active Pharmaceutical Ingredients(APIs), drugs for further processing, drugs manufactured exclusively for a private label distributor, or drugs that are marketed solely as part of a kit or combination product or inner layer of a multi-level packaged product not marketed individually. For more information about how certain kits or multi-level packaged drugs are addressed in the new NDC Directory, see the NDC Directory Package File definitions document. For the FDA Online Label Repository page and additional resources go to: FDA Online Label Repository </p>\n</blockquote>\n<p>But I'm not sure exactly what all can possibly fall into those exclusions and if otherwise the reality quite yet matches the intent.</p>",
        "id": 166858504,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559165108
    },
    {
        "content": "<p>so why would the US core implementation guide be trying to use NDC codes that are not listed?</p>",
        "id": 166859127,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559165726
    },
    {
        "content": "<p>My guess is that the update process for the CDA crosswalk doesn't purge the older NDC codes on the same schedule as FDA (assuming that it does at all) or probably make any particular attempt to stay in sync with the current FDA NDC listing.</p>",
        "id": 166860661,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559166841
    },
    {
        "content": "<p>past codes...?</p>",
        "id": 166861230,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559167320
    },
    {
        "content": "<p>They used to have a problem with code re-use.  I think that's much less now that the electronic process with SPL has been implemented, but I'm not sure if it's been entirely eliminated?  I don't see any stated policy regarding concept permanence, and I suspect that drugs that are withdrawn from the market may be removed from the list.  Does <span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span> or anyone have more definitive information on the current state of this?</p>",
        "id": 166862312,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559168184
    },
    {
        "content": "<p>right. so even if they don't reuse, they don't publish codes for old products that are still in use for past immunizations, for example</p>",
        "id": 166862934,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559168671
    },
    {
        "content": "<p>apparently so</p>",
        "id": 166862982,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559168719
    },
    {
        "content": "<p>hmm. so as far as I can see, the only evidence for 49281-0392-78 as a code in a CDC excel spreadsheet at <a href=\"https://www2a.cdc.gov/vaccines/iis/iisstandards/downloads/NDC/NDC_Unit_Use.xlsx\" target=\"_blank\" title=\"https://www2a.cdc.gov/vaccines/iis/iisstandards/downloads/NDC/NDC_Unit_Use.xlsx\">https://www2a.cdc.gov/vaccines/iis/iisstandards/downloads/NDC/NDC_Unit_Use.xlsx</a>, which we've amplified a lot. But no other source of NDC codes knows about it.</p>",
        "id": 166863414,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559169087
    },
    {
        "content": "<p>so is it valid?</p>",
        "id": 166863420,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559169092
    },
    {
        "content": "<p>It is an old Fluzone 2013-2014 code. You can look it up in RxNav or the RxNorm API:  <a href=\"https://rxnav.nlm.nih.gov/REST/ndcstatus.json?ndc=49281-0392-78\" target=\"_blank\" title=\"https://rxnav.nlm.nih.gov/REST/ndcstatus.json?ndc=49281-0392-78\">https://rxnav.nlm.nih.gov/REST/ndcstatus.json?ndc=49281-0392-78</a></p>",
        "id": 166867576,
        "sender_full_name": "Patrick McLaughlin (NLM)",
        "timestamp": 1559173646
    },
    {
        "content": "<p>mm thanks. can I get a list anywhere? Should i pull a list out of RxNorm?</p>",
        "id": 166867803,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559173945
    },
    {
        "content": "<p>You can get our best approximation of all active NDCs, based upon the sources in RxNorm, from the RXNSAT file where SAB=RXNORM and ATN=NDC. </p>\n<p><a href=\"https://www.nlm.nih.gov/research/umls/rxnorm/docs/techdoc.html#s6_0\" target=\"_blank\" title=\"https://www.nlm.nih.gov/research/umls/rxnorm/docs/techdoc.html#s6_0\">https://www.nlm.nih.gov/research/umls/rxnorm/docs/techdoc.html#s6_0</a></p>",
        "id": 166867996,
        "sender_full_name": "Patrick McLaughlin (NLM)",
        "timestamp": 1559174230
    },
    {
        "content": "<p>Inactive/historical NDCs can be checked against the API/RxNav. But I don’t think there’s a full list available.</p>",
        "id": 166868164,
        "sender_full_name": "Patrick McLaughlin (NLM)",
        "timestamp": 1559174431
    },
    {
        "content": "<p>so, I cannot know what are valid NDC codes... and I cannot do an expansion on an NDC value set?</p>",
        "id": 166868200,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559174515
    },
    {
        "content": "<p>The closest thing that exists is the normalized set of NDCs in RxNorm.</p>",
        "id": 166868553,
        "sender_full_name": "Patrick McLaughlin (NLM)",
        "timestamp": 1559174900
    },
    {
        "content": "<p>Yes, I was looking at that and was going to suggest the same thing about getting them from RxNorm.</p>",
        "id": 166868606,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559174997
    },
    {
        "content": "<p>Getting a complete and accurate list of the valid NDC codes is still obviously an issue, though (and probably not possible).</p>",
        "id": 166868683,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559175064
    },
    {
        "content": "<p>Sorry - been not in Zulip for a few days but <span class=\"user-mention\" data-user-id=\"194260\">@Patrick McLaughlin (NLM)</span> has described what I understand is <em>the truth of it</em> - RxNorm has the best list, including historical data. I don't think there are many code reuse situations but I say that solely based on the assumption that all the NDC code creators - the manufacturers - care enough to not do this. <strong>FDA does not manage NDC codes.</strong> What does this mean for NDC validation - it means, technically, that you can validate that a code exists (using RxNorm is what you are hearing suggested) but you can not categorically say that a code <em>is not</em> valid. And oh, let's remember there is more then one structure to these beasts.</p>",
        "id": 167201157,
        "sender_full_name": "Robert McClure",
        "timestamp": 1559575609
    },
    {
        "content": "<p>well, that presents an interesting challenge given that the response here is a boolean: <a href=\"http://hl7.org/fhir/codesystem-operation-validate-code.html\" target=\"_blank\" title=\"http://hl7.org/fhir/codesystem-operation-validate-code.html\">http://hl7.org/fhir/codesystem-operation-validate-code.html</a></p>",
        "id": 167245733,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559608835
    },
    {
        "content": "<p>yes, that does pose a challenge<br>\nI don't like it, but since we can't actually invalidate a code (if it's well-formed) then you could possibly return result = true with a message saying something like the code <strong>could</strong> be valid, but that it isn't verifiable against any code that is known to the server</p>",
        "id": 167246811,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559610138
    },
    {
        "content": "<p>And we need to keep in mind the issue about <em>when</em> it was/is valid. By that I mean the situation you encountered - if it matters - that an NDC may be valid as a representation of a drug that was available in the past but is no longer available. Is that an issue?</p>",
        "id": 167308496,
        "sender_full_name": "Robert McClure",
        "timestamp": 1559663799
    },
    {
        "content": "<p>Availability and validity are two different questions.  Available should be a value set based on a code system property.  Some models will only want \"currently dispensible meds\".  Others will be happy to have any medication that was ever available (or might eventually be available).</p>",
        "id": 167310840,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1559665104
    },
    {
        "content": "<p>codes remain valid for use independently of the products being valid</p>",
        "id": 167373332,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559728353
    },
    {
        "content": "<p>IS a \"code from the (possible) future\" the same as an inactive code?  That is, if we know a code is syntactically valid and may be used/defined in the future, can we treat it in a similar manner to an inactive code (for the purposes of validation)?</p>",
        "id": 167430611,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1559769044
    },
    {
        "content": "<p>I’m not sure that it’s possible or wise to do that, as the code could actually be in use but you are just not aware of that (or able to verify it).</p>",
        "id": 167434383,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559772444
    },
    {
        "content": "<p>But that happens already when a code is from a version of the code system that your validator does not yet know about</p>",
        "id": 167442459,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1559782073
    },
    {
        "content": "<p>Yes, that is true.  But you can be sure of the validation if you know and understand the versions.  This seems a bit different, in that there is no comprehensive source and no way to really be sure about the validity of some of the codes.  I may have read your previous comment too superficially, as treating a code as inactive doesn't necessarily mean at all that it is invalid.  But I also note (somewhat disconcertingly) that our documentation for $validate-code (on either ValueSet or CodeSystem) doesn't say anything at all about concept status - it describes how to deal with codes that are 'abstract', but not 'inactive'.</p>",
        "id": 167443344,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1559783353
    },
    {
        "content": "<p>inactive is different to invalid</p>",
        "id": 167454032,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559799954
    },
    {
        "content": "<p>We probably want to provide some guidance around what making a code 'inactive' will result in from a usage perspective and provide some guidance about when that flag is appropriate vs. not.</p>",
        "id": 167477903,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1559825173
    }
]