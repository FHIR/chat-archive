[
    {
        "content": "<p>I ran into a few issues when attempting to validate ICD codes with the java validator in FHIR R4. The major issue appears to be the codesystem url I am using. I am looking for some clarification on the best CodeSystems to use for ICD in the US. In my case, I attempted to validate the following codes with the specified CodeSystems:</p>\n<ul>\n<li>ICD9 diagnosis codes<ul>\n<li>CodeSystem: <a href=\"http://hl7.org/fhir/sid/icd-9-cm\">http://hl7.org/fhir/sid/icd-9-cm</a></li>\n<li>Result: codesystem reported to be in 'fragment' mode so would not validate</li>\n</ul>\n</li>\n<li>ICD10 diagnosis codes <ul>\n<li>CodeSystem: <a href=\"http://hl7.org/fhir/sid/icd-10-cm\">http://hl7.org/fhir/sid/icd-10-cm</a></li>\n<li>Result: Validated fine!</li>\n</ul>\n</li>\n<li>ICD9 procedure codes<ul>\n<li>CodeSystem: <a href=\"http://terminology.hl7.org/CodeSystem/ICD-9CM-procedurecodes\">http://terminology.hl7.org/CodeSystem/ICD-9CM-procedurecodes</a></li>\n<li>Result: CodeSystem was unknown even though it is specified in the hl7.terminology package</li>\n</ul>\n</li>\n<li>ICD10 procedure codes<ul>\n<li>CodeSystem: <a href=\"http://www.cms.gov.Medicare/Coding/ICD10\">http://www.cms.gov.Medicare/Coding/ICD10</a></li>\n<li>Result: CodeSystem was unknown even though it is specified in the hl7.terminology package</li>\n</ul>\n</li>\n</ul>\n<p>What CodeSystems that should be used in each of these four scenarios?</p>",
        "id": 272873179,
        "sender_full_name": "Alex Bennett",
        "timestamp": 1645567588
    },
    {
        "content": "<p>these are the correct URLs. We just don't have full code systems for those code systems in question, due to a combination of availability and licensing issues</p>",
        "id": 273004912,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645647095
    },
    {
        "content": "<p>Hmm interesting. So if I still want to validate these codes, would it be suggested to make my own codesystem/valueset for now? I have a subset of ICD codes in my system so I could generate one.</p>",
        "id": 273014895,
        "sender_full_name": "Alex Bennett",
        "timestamp": 1645652317
    },
    {
        "content": "<p>I guess. we haven't really solved for that situation right now - it's on the todo list</p>",
        "id": 273015130,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645652440
    },
    {
        "content": "<p>Is there a working group pushing this work? Something I could help support?</p>",
        "id": 273016683,
        "sender_full_name": "Alex Bennett",
        "timestamp": 1645653426
    },
    {
        "content": "<p>the structural issue, FMG is working on it. Though it's really just on my task list. the terminology issue - here, I guess</p>",
        "id": 273019648,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645654746
    },
    {
        "content": "<p>Ah okay, thanks for the info!</p>",
        "id": 273020849,
        "sender_full_name": "Alex Bennett",
        "timestamp": 1645655323
    },
    {
        "content": "<p>Can't we improve this situation, at least a little, by changing slightly how the validator handles code system fragments?  If the supplied code is actually included in the available fragment, can't that be validated normally (I think that's no longer happening)?  And then only if the supplied code is outside the fragment there would be a warning that the code is not known in the code system fragment and therefore its validity can't be determined? <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 273028641,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1645660314
    },
    {
        "content": "<p>it is validated normally.</p>",
        "id": 273029345,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645660786
    },
    {
        "content": "<p>so I don't know what that bit is about</p>",
        "id": 273029356,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645660793
    },
    {
        "content": "<p>Good.  I haven't specifically tested that yet myself since we've had the new warning - as long it is validating known codes in the fragment then that's fine.</p>",
        "id": 273030082,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1645661187
    }
]