[
    {
        "content": "<p>The documentation on ValueSet filters where <code>op</code> = <code>regex</code> is incomplete.<br>\nTwo key issues are:</p>\n<ol>\n<li>what flavour of regex?</li>\n<li>are these regex's implicitly \"anchored\"?  More specifically, is it expected that the regex must match the entire value or not?  Looking at the definition of <a href=\"http://hl7.org/fhir/ValueSet/iso3166-1-3\">http://hl7.org/fhir/ValueSet/iso3166-1-3</a>, which is documented as:<blockquote>\n<p>This value set defines the ISO 3166 Part 1 3-letter codes</p>\n</blockquote>\n</li>\n</ol>\n<p>and has the following filter:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code>        <span class=\"nt\">\"include\"</span> <span class=\"p\">:</span> <span class=\"p\">[{</span>\n          <span class=\"nt\">\"system\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"urn:iso:std:iso:3166\"</span><span class=\"p\">,</span>\n          <span class=\"nt\">\"filter\"</span> <span class=\"p\">:</span> <span class=\"p\">[{</span>\n            <span class=\"nt\">\"property\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"code\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"op\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"regex\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"value\"</span> <span class=\"p\">:</span> <span class=\"s2\">\"[A-Z]{3}\"</span>\n          <span class=\"p\">}]</span>\n        <span class=\"p\">}]</span>\n</code></pre></div>\n<p>it would appear so.  i.e., the regex should be interpreted as <code>^[A-Z]{3}$</code></p>\n<p>This then raises the question of what the regex <code>^[A-Z]{3}$</code> should match?  i.e., are the <code>^</code> and <code>$</code> characters to be treated literally or not (hence question 1. what flavour of regex)</p>",
        "id": 227527970,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1614125787
    },
    {
        "content": "<p>yes it should be understood to be anchored. I do not know how to resolve the falvor question</p>",
        "id": 227537764,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614133078
    },
    {
        "content": "<p>In lieu of deciding on a single flavor for everyone, the server could (should) at least declare which flavor it supports?</p>",
        "id": 227538046,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1614133307
    }
]