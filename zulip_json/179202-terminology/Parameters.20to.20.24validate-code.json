[
    {
        "content": "<p>The following parameters defined on $expand should also be defined on $validate-code for CodeSystem and ValueSet (and I have supported them always):</p>\n<ul>\n<li>displayLanguage</li>\n<li>activeOnly</li>\n<li>excludePostCoordinated</li>\n<li>system-version</li>\n<li>check-system-version</li>\n<li>force-system-version</li>\n</ul>\n<p>For display language for both $expand and $validate-code we should document that it overrides the HTTP Accept-Language header, if present.</p>",
        "id": 257949194,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634505289
    },
    {
        "content": "<p>Beyond this, I'd like to add another parameter for $validate-code: default-to-latest-version (or similar). If this is set to true, then the terminology server will use the version specified, if it can, else it will default to the latest version for the system (or edition, to SCT). </p>\n<p>The requirement driving this is that $validate-code is often used for looking up display values (it's simpler and quicker and more ubiquitous than $lookup), and you want the correct version display if you can get it, but not an error if the server can't match the version</p>",
        "id": 257949439,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634505497
    },
    {
        "content": "<p>For clarity, can you confirm that displayLanguage only affects the returned result, and not the success/failure of the validation itself?</p>",
        "id": 257949456,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1634505515
    },
    {
        "content": "<p>well, that's a very good question, but no, I can't confirm that because in my implementation, it does drive the validation of the display</p>",
        "id": 257949582,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634505628
    },
    {
        "content": "<p>My understanding was that <code>$validate-code</code> should only check that the supplied display is a valid display for the code. I've interpreted this as \"regardless of language\"</p>",
        "id": 257952357,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1634508290
    },
    {
        "content": "<p>Assuming that you are referring to input parameters, I'm not sure about the need for a new one for <code>system-version</code> when <code>CodeSystem/$validate-code</code> already has a <code>system</code> parameter and <code>ValueSet/$validate-code</code> a <code>systemVersion</code> parameter. What might I be missing here?</p>",
        "id": 257952468,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1634508392
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span> I give a warning if the display is valid for the code but not in the language specified</p>",
        "id": 257953282,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634509162
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191364\">@Peter Jordan</span> system is the system of the code, and systemVersion  is the version of the system. but system-version is the version to use for a system if the coding doesn't specify a sytemVersion (or a system in a codeableConcept, for example)</p>",
        "id": 257953348,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634509207
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  Is the distinction that you're making between the version of a Code System and that of an individual code within a coding or codeableConcept that's passed?</p>",
        "id": 257954230,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1634510108
    },
    {
        "content": "<p>the distinction between systemVersion and system-version? Those names are unfortunate, but one is the data from the instance, and the other is a configuration setting to override the data in the instance.</p>",
        "id": 257954427,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634510305
    },
    {
        "content": "<p>Thinking this through, if <code>CodeSystem.versionNeeded=false</code>, do these parameters matter?  And, if <code>CodeSystem.versionNeeded=true</code>, then they'd need to be the same otherwise the result must be false?</p>",
        "id": 257954774,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1634510672
    },
    {
        "content": "<p>yes I think they still matter, because they are an expression of operational policy, where as CodeSystem.versionNeeded is a statement about that the operational policy should be - and those are not the same thing</p>",
        "id": 257955267,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634511191
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <br>\nHave Jira tickets been created for these proposed changes? If not, can you please create them for discussion in the Vocabulary WG FHIR Tracker calls?<br>\nThanks</p>",
        "id": 265612674,
        "sender_full_name": "Reuben Daniels",
        "timestamp": 1640032475
    }
]