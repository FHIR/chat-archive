[
    {
        "content": "<p>I am currently receiving an error validating my FHIR example: <code>\"None of the codings provided are in the value set http://hl7.org/fhir/us/shrae/ValueSet/adverse-event-seriousness-value-set\"</code>. I have confirmed that my value set exists with the right term, and that the coding system is specified correctly as identified in <a href=\"http://terminology.hl7.org\">terminology.hl7.org</a>: <a href=\"http://ncithesaurus-stage.nci.nih.gov\">http://ncithesaurus-stage.nci.nih.gov</a>. <br>\n<strong>Question</strong> - is this URL recognized by the IG publisher terminology server <a href=\"http://tx.fhir.org/r4\">tx.fhir.org/r4</a>?<br>\nIf so, any suggestions on what to check?<br>\ncc: <span class=\"user-mention\" data-user-id=\"326020\">@Michelle Casagni</span></p>",
        "id": 235348028,
        "sender_full_name": "May Terry",
        "timestamp": 1618927199
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192302\">@May Terry</span> I don't see any ValueSet objects with that URL in <a href=\"http://tx.fhir.org/r4\">tx.fhir.org/r4</a> when I go to <a href=\"http://tx.fhir.org/r4/ValueSet?url=http://hl7.org/fhir/us/shrae/ValueSet/adverse-event-seriousness-value-set\">http://tx.fhir.org/r4/ValueSet?url=http://hl7.org/fhir/us/shrae/ValueSet/adverse-event-seriousness-value-set</a></p>",
        "id": 235350438,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1618928074
    },
    {
        "content": "<p>hmm...okay. lemme look further into this.</p>",
        "id": 235350989,
        "sender_full_name": "May Terry",
        "timestamp": 1618928287
    },
    {
        "content": "<p>Generally the IG Publisher should load the code systems and value sets that it needs to validate, so they don't necessarily already have to be on the server.</p>",
        "id": 235351023,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1618928300
    },
    {
        "content": "<p>It also looks like 'share' in the url is misspelled (I don't see it with the proper spelling, either - but again that may not matter).</p>",
        "id": 235351381,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1618928453
    },
    {
        "content": "<p>I think the <code>shrae</code> is deliberate, it's part of the SHR for Adverse Events IG I think</p>",
        "id": 235351670,
        "sender_full_name": "Michael O'Keefe",
        "timestamp": 1618928559
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> - yeh, that's not a misspell..it's the path where my fsh project for my IG resides. so basically, my example created in JSON looks like this:</p>\n<div class=\"codehilite\" data-code-language=\"seriousness\"><pre><span></span><code>    \"coding\" : [\n      {\n        \"system\" : \"http://ncithesaurus-stage.nci.nih.gov\",\n        \"code\" : \"C41336\",\n        \"display\" : \"Non-serious Adverse Event\"\n      }\n    ]\n  }\n</code></pre></div>",
        "id": 235351746,
        "sender_full_name": "May Terry",
        "timestamp": 1618928588
    },
    {
        "content": "<p>Well, OK.  I stand corrected.  But it sure looks like a misspelling! :)</p>",
        "id": 235351814,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1618928624
    },
    {
        "content": "<p>so...basically, I'm wondering if <a href=\"http://tx.fhir.org/r4\">tx.fhir.org/r4</a> recognizes the NCIT URL: <a href=\"http://ncithesaurus-stage.nci.nih.gov\">http://ncithesaurus-stage.nci.nih.gov</a>, or if the server has the NCIT terms to validate codes? For example, should I expect a response if I query the server as such:<br>\n<a href=\"http://tx.fhir.org/r4/CodeSystem/$lookup?system=http://ncithesaurus-stage.nci.nih.gov&amp;code=41336\">http://tx.fhir.org/r4/CodeSystem/$lookup?system=http://ncithesaurus-stage.nci.nih.gov&amp;code=41336</a></p>\n<p>In this case, I get an error from the server that says </p>\n<div class=\"codehilite\"><pre><span></span><code>    {\n      &quot;severity&quot; : &quot;error&quot;,\n      &quot;code&quot; : &quot;invalid&quot;,\n      &quot;diagnostics&quot; : &quot;Unable to provide support for code system http://ncithesaurus-stage.nci.nih.gov&quot;\n    }\n</code></pre></div>",
        "id": 235353896,
        "sender_full_name": "May Terry",
        "timestamp": 1618929423
    },
    {
        "content": "<p>I don't believe that <a href=\"http://tx.fhir.org\">tx.fhir.org</a> has any content loaded for NCIT (I don't recall any and I did a quick check).  But if your IG needs and <strong>also provides</strong> that content, then the IG Publisher should still be able to validate it on <a href=\"http://tx.fhir.org\">tx.fhir.org</a>.</p>",
        "id": 235355062,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1618929861
    },
    {
        "content": "<p>I doubt that process can handle the full NCIT contents - but possibly a code system fragment with the content that you need could work.  We can also look at the possibility of loading the NCIT content on <a href=\"http://tx.fhir.org\">tx.fhir.org</a>.  Whatever is done needs to be sure that the licensing is correct (but from NCI I expect that shouldn't be difficult).</p>",
        "id": 235355544,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1618930038
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192302\">@May Terry</span> Are you attempting to use the NCI Thesaurus for the code system? If so, \"<a href=\"http://ncithesaurus-stage.nci.nih.gov\">http://ncithesaurus-stage.nci.nih.gov</a>\" is not the canonical url for that code system. Always look at the <a href=\"https://confluence.hl7.org/display/TA/External+Terminologies+-+Information\">HTA page for external code system information</a>. NCIt is listed and the canonical url is \" <a href=\"http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl\">http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl</a>\" THO has not been updated yet. Not sure if <a href=\"http://tx.fhir.org\">tx.fhir.org</a> has caught up either and who knows what codes are in the tx server.</p>",
        "id": 235356246,
        "sender_full_name": "Robert McClure",
        "timestamp": 1618930298
    },
    {
        "content": "<p>Thanks for the additional clarification, RobM and RobH. So... maybe this brings up another source of confusion. <br>\nSomeone had pointed me to <a href=\"https://terminology.hl7.org\">https://terminology.hl7.org</a> as the source for coding system URLs. And <a href=\"https://terminology.hl7.org/CodeSystem-v3-nciThesaurus.html\">https://terminology.hl7.org/CodeSystem-v3-nciThesaurus.html</a> specifies <a href=\"http://ncithesaurus-stage.nci.nih.gov\">http://ncithesaurus-stage.nci.nih.gov</a> as the Defining URL. So I guess this is not where we should be looking, and instead assume that HTA is the authoritative source? <br>\nOn a related note, there is also <a href=\"https://www.hl7.org/fhir/terminologies-systems.html\">https://www.hl7.org/fhir/terminologies-systems.html</a>, so that is an additional source of confusion on where to look for the right coding system to specify in my examples so it passes validation.</p>",
        "id": 235358982,
        "sender_full_name": "May Terry",
        "timestamp": 1618931074
    },
    {
        "content": "<p>We're working to have everything caught up and in sync, but obviously it is a process and takes some time, and we are in the midst of it so some things will not be completely up to date.  If and when there is a difference, HTA is the authoritative source (but <a href=\"http://tx.fhir.org\">tx.fhir.org</a> or any server may not necessarily be up to date with it at a particular point in time).  Sorry about that! :(</p>",
        "id": 235360072,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1618931330
    },
    {
        "content": "<p>no worries, RobH. Totally understandable. <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span> I just like to get to a root cause. My AdverseEvent IG is not being balloted anytime soon, so it's more about figuring out whether I can just accept the error for now or keep troubleshooting. Thanks again!</p>",
        "id": 235363682,
        "sender_full_name": "May Terry",
        "timestamp": 1618932484
    },
    {
        "content": "<p>Hello <span class=\"user-mention\" data-user-id=\"192302\">@May Terry</span>  We have had a series of discussion with the NCI regarding adoption of a canonical URL for the NCiT.  Where that landed was the NCI selection of the URL as indicated in the HTA record for NCiT here --&gt; <a href=\"https://confluence.hl7.org/display/TA/National+Cancer+Institute+-+Thesaurus\">https://confluence.hl7.org/display/TA/National+Cancer+Institute+-+Thesaurus</a>  being explicitly:  <a href=\"http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl\">http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl</a>   The HTA membership raised concerns regarding the use of the \".owl\" url so what the NCI adopted was a MIME-specific redirect that points inbound HTML transactions to this page --&gt; <a href=\"https://ncit.nci.nih.gov/ncitbrowser/\">https://ncit.nci.nih.gov/ncitbrowser/</a>   The reasoning they provided was that albeit they would like to be good partners with HL7 and cooperate with the requirements for a canonical URL supporting FHIR, there are decades-old legacy NCI technical requirements for persisting the \".owl\" URL.  I hope that information helps...</p>",
        "id": 235404534,
        "sender_full_name": "Davera Gabriel",
        "timestamp": 1618948290
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192302\">@May Terry</span> <a href=\"http://tx.fhir.org\">tx.fhir.org</a> does not support the NIC terminologies. The validator still might be able to validate, but it depends on how the value set is specified. Can I reproduce this?</p>",
        "id": 235412710,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1618951804
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"340004\">@Davera Gabriel</span> , <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , and Rob x2. <br>\nLooks like changing my URL from <a href=\"https://terminology.hl7.org/CodeSystem-v3-nciThesaurus.html\">https://terminology.hl7.org/CodeSystem-v3-nciThesaurus.html</a> (which is referenced on the terminology.hl7/org publication) to <a href=\"http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl\">http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl</a> has now changed the validation of it from severity error to a warning (which is expected since as Grahame mentioned, <a href=\"http://tx.fhir.org\">tx.fhir.org</a> does not support the NCIT). I suppose that while it's not supported, at least the coding system is recognized.<br>\nSo moving forward, if the coding system is not on that HTA confluence page, am I to suspect that I will always get this error?<br>\nOn a related note, should we not rely on the coding system URLs in <a href=\"http://terminology.hl7.org\">terminology.hl7.org</a> given that there are discrepancies like this - <a href=\"https://terminology.hl7.org/CodeSystem-v3-nciThesaurus.html\">https://terminology.hl7.org/CodeSystem-v3-nciThesaurus.html</a> with the HTA page? Should I open a JIRA ticket when I find discrepancies like this?<br>\nThanks again all! This is very helpful for improving my understanding of this process.</p>",
        "id": 235508490,
        "sender_full_name": "May Terry",
        "timestamp": 1619011413
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192302\">@May Terry</span> Yes, the warning is proper given it's recognized but has no concepts. Yes, always start with the HTA page and if you find that THO has something different, please log a JIRA ticket so we can work through the misalignments that we hopefully already know about. Even better if you searched to find if it's already known but please just log a new ticket if you can't find anything. Yes, if the an external code system is not on HTA, you should ask but in fact there are external code systems in tx. <a href=\"http://fhir.org\">fhir.org</a> and in THO that do not have pages at HTA. How would you find that you might ask, we are slowly trying to make this all work better but not completed and far from implemented. If you need a code system you do not see at HTA, please contact them and let them help determine next steps.</p>",
        "id": 235550928,
        "sender_full_name": "Robert McClure",
        "timestamp": 1619026501
    },
    {
        "content": "<p>Thanks for bringin this issue to attention <span class=\"user-mention\" data-user-id=\"192302\">@May Terry</span></p>",
        "id": 249961120,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1629364708
    },
    {
        "content": "<p>Will use  <a href=\"http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl\">http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl</a> in german onco profiles as well</p>",
        "id": 249961138,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1629364726
    }
]