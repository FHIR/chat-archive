[
    {
        "content": "<p>I've added <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17570\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17570\">GF#17570</a> to capture the continuing concern expressed on the Value Set Expansion (VSE) call last week about the \"authoritative source\" for ValueSet resources.  <span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 153979217,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532906874
    },
    {
        "content": "<blockquote>\n<p>Since the interpretation is to be left to implementer discretion, Resource.meta.source can't be used to provide a consistent and reliable indication of the \"authoritative source\" as earlier described</p>\n</blockquote>",
        "id": 153979225,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532908045
    },
    {
        "content": "<p>so I don't follow that. Why does this mean that you can't use that?</p>",
        "id": 153979226,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532908091
    },
    {
        "content": "<p>the publisher sets the source, and then that's the source... so I'm not seeing the problem here</p>",
        "id": 153979227,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532908120
    },
    {
        "content": "<p>is the group claiming that this is not provenance information?</p>",
        "id": 153979228,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532908149
    },
    {
        "content": "<p>or is the group claiming that value sets are somehow very special?</p>",
        "id": 153979229,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532908164
    },
    {
        "content": "<p>No, I don't think so - but they're obviously of particular interest.  The main issue I think is that since the interpretation of meta.source is left to implementer discretion it's not a reliable source for that meaning.</p>",
        "id": 153979232,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532908943
    },
    {
        "content": "<p>I'm not sure why that's true. If you see Resource.meta.source and it has a value, how would you interpret it differently to the \"authoritative source for the value set\"?</p>",
        "id": 153979235,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532909172
    },
    {
        "content": "<p>Well, because it says that it is \"A uri that identifies the source system of the resource\".  I don't think that \"source system\" necessarily and obviously means the same thing as \"authoritative source\"?  That's the basis of the concern.</p>",
        "id": 153979237,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532909308
    },
    {
        "content": "<p>but the authoritative source is clearly 'the source system of the resource'. surely...</p>",
        "id": 153979238,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532909362
    },
    {
        "content": "<p>It doesn't really say that.  It also says \"The source may identify another FHIR server, document, message, database, etc.\"  I think I would be most inclined to think that \"source system\" is \"where I got it from\" - which might not be conveying any idea of the original or current \"authoritative\" source at all (and there can only be one).  If we added language that said that 'source' is actually intended to convey the notion of the current (not necessarilyy the same as the original) \"authoritative\" source (and not to be used for something else), then that would probably be fine.</p>",
        "id": 153979242,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532909824
    },
    {
        "content": "<p>so I think that there' s a perspective problem here. We don't need to say 'this is the only use of the element' in order for that to be a valid use of the element, nor do we need to say 'this is the only use of the element' in order for the value set publishers to use it that way</p>",
        "id": 153979255,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532915395
    },
    {
        "content": "<p>I'm not sure what the story is that shows why using .meta.source is a problem</p>",
        "id": 153979256,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532915438
    },
    {
        "content": "<p>I agree that it's reasonable to have further discussion about that.  If we can state for ValueSet that this is the <strong>only</strong> expected use case for meta.source (it doesn't really matter what it <em>might</em> be used for with other resources), then it should work.  If there is a need to express some additional use of \"source\" as well as the \"authoritative source\" for ValueSet  (I'm not thinking of anything at the moment), then there would still be an issue because you can only have one.</p>",
        "id": 153979259,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532916266
    },
    {
        "content": "<p>so the question isn't 'is that the only use' but whether any other use would be something that a value set author wanted to make as well. that's where I'm not seeing the problem</p>",
        "id": 153979260,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532916321
    },
    {
        "content": "<p>I think that's pretty much what I just said?  As I said, I don't <strong>see</strong> a problem at the moment, either.  Maybe we can assume that there likely isn't one and proceed accordingly.  In that case we would need to document that understanding as the meaning of meta.source when used with ValueSet.</p>",
        "id": 153979262,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532916646
    },
    {
        "content": "<p><a href=\"https://www.youtube.com/watch?v=0D7hFHfLEyk\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=0D7hFHfLEyk\">The quest for the single source of truth</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"0D7hFHfLEyk\" href=\"https://www.youtube.com/watch?v=0D7hFHfLEyk\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=0D7hFHfLEyk\"><img src=\"https://i.ytimg.com/vi/0D7hFHfLEyk/default.jpg\"></a></div>",
        "id": 153979282,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1532921448
    },
    {
        "content": "<p>I guess what to worry about is whether parties decide that they can rewrite the .meta.source and use it as a last hop source rather than preserving it as original source.</p>",
        "id": 153979305,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532932496
    },
    {
        "content": "<p>so we could add language at the general level that while overwriting a stated source is not illegal, systems SHOULD only rewrite the source when they have something to say about the provenance of the resource.</p>",
        "id": 153979306,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532932570
    },
    {
        "content": "<p>Something like that might work.  But there really are three choices (at least) - original source, current \"authoritative\" source, and \"last hop\" source.  It's the second that is the one of interest for this purpose, so the language would have to be pretty specific.  Assuming that the original and current sources had diverged at some point (which is expected to be common), if anyone wanted to use either the original or \"last hop\" source for any reason there wouldn't be a place to put it.</p>",
        "id": 153979343,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532949466
    },
    {
        "content": "<p>so copies taken from before the authoritative source moved would be just wrong - that's just how it is.</p>",
        "id": 153979345,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532949527
    },
    {
        "content": "<p>you could use provenance to track the original source if you really wanted to track it after the authoritative source moves</p>",
        "id": 153979346,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532949553
    },
    {
        "content": "<p>right - on both counts</p>",
        "id": 153979349,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532949610
    },
    {
        "content": "<p>and also provenance for last hop if you really wanted to capture it....</p>",
        "id": 153979350,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532949664
    },
    {
        "content": "<p>agree<br>\nI can come up with some language and we can look at it on the tracker issues call today</p>",
        "id": 153979357,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532951167
    },
    {
        "content": "<p>tl;dr.<br>\nThe point is that resource.meta.source should be about the particular resource in hand, say a valueset resource that is only an expansion. You'd want to know who actually did the expansion and we assume that resource.meta.source should be the local server. We need a different element that has the authoritative source for the value set definition - the CLD - likely the one that could have been used to create that resource expansion. Note that the <a href=\"http://valueset.id\" target=\"_blank\" title=\"http://valueset.id\">valueset.id</a> could easily be some old url that no longer is involved.</p>",
        "id": 153979363,
        "sender_full_name": "Robert McClure",
        "timestamp": 1532952546
    },
    {
        "content": "<p>We could say that if the 'compose' element (the CLD) is present, then meta.source (if populated) is expected to be the current authoritative source for the ValueSet resource (which includes the definition).  The authoritative source for the ValueSet resource would <strong>not</strong> be expected to include a specific expansion, so it wouldn't be stating or implying anything about that.  If an expansion is additionally present (along with 'compose') in a ValueSet resource instance, then additional provenance that tracks the expansion could be included (but would not be required).  The fact that the provenance is related specifically to the 'expansion' element in ValueSet would be specified in Provenance.activity (via the extensible binding or by a specific code for this purpose that could be added to provenance-activity-type).</p>",
        "id": 153979372,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532954792
    },
    {
        "content": "<p>That's at least a straw man from what I can see right now for how this might work.</p>",
        "id": 153979373,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532954976
    },
    {
        "content": "<p>I have often wondered about meta.source. I have read it as meaning the source from which it was received. That might be the original source, but all that is known is that it was received from that source.  That source might have received it from another source. That source might be the author.... Knowing where one received the data is an important piece of knowledge.</p>",
        "id": 153979379,
        "sender_full_name": "John Moehrke",
        "timestamp": 1532957287
    },
    {
        "content": "<p>Actually, I think I would like to revise what I said slightly:</p>\n<blockquote>\n<p>ValueSet meta.source (if populated) is expected to be the current authoritative source for the ValueSet resource (which includes the definition - even if the definition is not present in a particular resource instance). The authoritative source for the ValueSet resource is not stating or implying anything about value set expansions (even if the authoritative source itself publishes a particular expansion, which is not expected). If an expansion is present in a ValueSet resource instance then provenance that tracks the expansion specifically may be included (but is not required). The fact that the provenance is related specifically to ValueSet.expansion is specified in Provenance.activity (via a specific code for this purpose that may be included via the extensible binding or that could be added to provenance-activity-type).</p>\n</blockquote>\n<p>I think that this (or something close to it) is what will be required if we use meta.source for representing the ValueSet authoritative source.</p>",
        "id": 153979381,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532957577
    },
    {
        "content": "<p>My understanding would have been generally the same as yours, John - that it is \"the source from which it was received\".  So if we use it for the ValueSet \"authoritative source\" then we will have to be very specific about stating that (as I attempted above).</p>",
        "id": 153979383,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532957736
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> I'm sorry, but this seems very convoluted and counter-intuitive.  I'm also concerned, as Graham said he was way at the top of this thread, that you're crafting a one-off different approach to the meaning of meta.source for value sets. I also am concerned that a basic, fundamental functionality about the resource itself will require implementation of the provenance resource, something I don't think anyone is really doing yet. </p>\n<p>I do not understand why there is pushback against something that is a core need for value sets and has been in the VSD from day one. Is FHIR valueset going to be conformant with VSD or not?</p>",
        "id": 153979460,
        "sender_full_name": "Robert McClure",
        "timestamp": 1532967359
    },
    {
        "content": "<p>I'm just looking for a way to bring the points of view together.  If this doesn't do it, I'm OK with that - it's part of the discussion.  We already have extensions for valueset-expansionSource and valueset-parameterSource.  I will suggest that we add a standard extension for valueset-authoritativeSource.</p>",
        "id": 153979481,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1532968231
    },
    {
        "content": "<p>I think that the expansion use case is helpful in illustrating the issue</p>",
        "id": 153979505,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532974971
    },
    {
        "content": "<p>OTOH:</p>\n<blockquote>\n<p>I do not understand why there is pushback against something that is a core need for value sets and has been in the VSD from day one. Is FHIR valueset going to be conformant with VSD or not?</p>\n</blockquote>",
        "id": 153979506,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532975064
    },
    {
        "content": "<p>there has been no pushback against the requirement. But value set does not have to have this as a core element to be conformant with VSD.</p>",
        "id": 153979507,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532975127
    },
    {
        "content": "<p>so I went looking at our current extensions to see whether any other resource had anything like this, and ran into the extension <a href=\"http://hl7.org/fhir/StructureDefinition/valueset-sourceReference\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/valueset-sourceReference\">http://hl7.org/fhir/StructureDefinition/valueset-sourceReference</a> which is defined at <a href=\"http://build.fhir.org/extension-valueset-sourcereference.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-valueset-sourcereference.html\">build.fhir.org/extension-valueset-sourcereference.html</a></p>",
        "id": 153979510,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532975359
    },
    {
        "content": "<p>is this the same thing? if it's not, what is it? And isn't the definition at variance with the type?</p>",
        "id": 153979511,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532975379
    },
    {
        "content": "<p>and there's also <a href=\"http://hl7.org/fhir/StructureDefinition/valueset-trusted-expansion\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/valueset-trusted-expansion\">http://hl7.org/fhir/StructureDefinition/valueset-trusted-expansion</a></p>",
        "id": 153979512,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532975460
    },
    {
        "content": "<p>is this different? how?</p>",
        "id": 153979513,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532975483
    },
    {
        "content": "<p>And finally, is there anything about this requirement that is value set specific?</p>",
        "id": 153979514,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1532975553
    },
    {
        "content": "<p>So the VSD has the following for source reference:<br>\nDefinition: reference to prior work used as a basis in authoring of this Value Set<br>\nDescription: This text is intended to act as a citation to work done elsewhere that is not part of the current stewarding process where the referenced source is in some way a basis of the current Value Set Definition.<br>\nUsage Notes: This may refer to other Value Set Definitions, research articles, or other resources. This is not intended to document uses of the Value Set Definition, for this, see  Section 5.2.2.3.7 below. For example, the identifier for a Value Set Definition that was cloned to begin the work on this Value Set Definition, or a pointer to a published article that describes appropriate concepts. There may be multiple source references.<br>\nData Type:  ST<br>\nCardinality:  0..*</p>\n<p>I will say that the usage note statement of \"This may refer to other Value Set Definitions,...\" was not thought to be a reference to the authoritative source for this entire value set definition. This was planned to be information that was critical for crafting the value set definition. I personally see the authoritative source as something quite different: it is the known official source as specified by the official steward, and not a partial basis for the final content, which was the intent of this element. If no one <em>wants</em> the source information as defined, then I would rather we remove this and make a new element because changing the meaning would make this inconsistent with VSD.</p>",
        "id": 153979683,
        "sender_full_name": "Robert McClure",
        "timestamp": 1533044461
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span> Do you agree with adding a valueset-authoritativeSource extension for this?</p>",
        "id": 153979694,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1533045782
    },
    {
        "content": "<p>yes, I am fine with this as an extension</p>",
        "id": 153979696,
        "sender_full_name": "Robert McClure",
        "timestamp": 1533045994
    },
    {
        "content": "<p>Sounds good.  I'll add that as the proposed resolution.</p>",
        "id": 153979698,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1533046139
    },
    {
        "content": "<p>I have also interpreted meta.source as \"where this specific rendering of the resource was generated\", so I'm uncomfortable with it being used to convey what is effectively provenance.<br>\nWhich leads to the question of why the Provenance resource isn't the appropriate approach?</p>",
        "id": 153981466,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1533271997
    },
    {
        "content": "<p>it is</p>",
        "id": 153981472,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533273870
    },
    {
        "content": "<p>but authoritative source isn't actually provenance in the classic sense, if you read the definition carefully. In fact, I think it's badly named</p>",
        "id": 153981473,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533273900
    },
    {
        "content": "<p>We still have to approve it.  What's a better name?</p>",
        "id": 153981769,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1533300689
    },
    {
        "content": "<p>citation?</p>",
        "id": 153981777,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533301338
    },
    {
        "content": "<p>That's likely to be confused with stuff in RelatedArtifact which is used for literature citations</p>",
        "id": 153981809,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1533307114
    },
    {
        "content": "<p>agree with Lloyd</p>",
        "id": 153981810,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1533307162
    },
    {
        "content": "<p>what makes it different from literature citations? </p>\n<blockquote>\n<p>This text is intended to act as a citation to work done elsewhere that is not part of the current stewarding process where the referenced source is in some way a basis of the current Value Set Definition</p>\n</blockquote>",
        "id": 153981892,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533324026
    },
    {
        "content": "<p>If that's what it is, then use the existing element for it.</p>",
        "id": 153981937,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1533327967
    },
    {
        "content": "<p>extension, actually</p>",
        "id": 153981954,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533329016
    },
    {
        "content": "<p>what exising element or extension are you referring to?  I made this one that may work... <a href=\"http://build.fhir.org/extension-event-relatedartifact.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-event-relatedartifact.html\">http://build.fhir.org/extension-event-relatedartifact.html</a></p>",
        "id": 153982108,
        "sender_full_name": "Eric Haas",
        "timestamp": 1533410329
    },
    {
        "content": "<p>oh hmm I thought we had defined one for all resources. maybe we should do that to that one...?</p>",
        "id": 153982117,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533417937
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span> Do you agree with adding a valueset-authoritativeSource extension for this?</p>\n</blockquote>\n<p>+1, would be nice if this could be defined for all resources instead of just valueset specific.</p>",
        "id": 153982694,
        "sender_full_name": "Carol Macumber",
        "timestamp": 1533581861
    },
    {
        "content": "<p>so the definition, the name, and the discussion are all at odds with each other. Not encouraging me to do anything for ValueSet let alone all resources. The definition as it stands matches an element defined on resources like PlanDefinition - we could define an extension for this and bring it into a core element in R5</p>",
        "id": 153982788,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533588240
    }
]