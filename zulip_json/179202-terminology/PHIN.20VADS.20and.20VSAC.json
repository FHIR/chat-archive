[
    {
        "content": "<p>I'm trying to expand PHIN VADS and VSAC value sets, but they aren't working. Here's an example:</p>\n<ul>\n<li><a href=\"https://github.com/dvci/vaccine-credential-ig/blob/2418c3d9c34c95e760abac5f10ea359495810f8b/input/fsh/value_sets.fsh#L119-L126\">.fsh</a></li>\n<li><a href=\"http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/dev/ValueSet-vaccine-credential-vaccine-reaction-value-set.html\">CI build</a></li>\n</ul>\n<p>I'm getting \"No Expansion for this valueset (Unknown Code System)\" for <code>http://phinvads.cdc.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3288</code>, but <a href=\"https://github.com/FHIR/packages/blob/master/packages/us.cdc.phinvads/package/ValueSet-2.16.840.1.114222.4.11.3288.json\">this value set is in the us.cdc.phinvads package</a>.</p>\n<p>I've included <code>us.cdc.phinvads</code> and <code>us.nlm.vsac</code> <a href=\"https://github.com/dvci/vaccine-credential-ig/blob/2418c3d9c34c95e760abac5f10ea359495810f8b/sushi-config.yaml#L16-L22\">as dependencies</a>, which I think I'm supposed to do based on <a href=\"#narrow/stream/179252-IG-creation/topic/Referencing.20PHINVads.20Value.20sets\">this</a>.</p>\n<p>Can anyone see what I'm doing wrong?</p>",
        "id": 230922899,
        "sender_full_name": "Max Masnick",
        "timestamp": 1616095151
    },
    {
        "content": "<p>It looks like I should be using <code>valueset</code> rather than <code>system</code> in my FSH, and FSH generates something like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;ValueSet&quot;,\n  &quot;status&quot;: &quot;active&quot;,\n  &quot;name&quot;: &quot;VaccineCredentialStatusReasonValueSet&quot;,\n  &quot;id&quot;: &quot;vaccine-credential-status-reason-value-set&quot;,\n  &quot;title&quot;: &quot;Status reason value set&quot;,\n  &quot;description&quot;: &quot;Reasons a vaccine was not given&quot;,\n  &quot;version&quot;: &quot;0.2.1&quot;,\n  &quot;url&quot;: &quot;http://hl7.org/fhir/uv/smarthealthcards-vaccination/ValueSet/vaccine-credential-status-reason-value-set&quot;,\n  &quot;compose&quot;: {\n    &quot;include&quot;: [\n      {\n        &quot;valueSet&quot;: [\n          &quot;http://phinvads.cdc.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3380&quot;\n        ]\n      }\n    ]\n  }\n}\n</code></pre></div>\n<p>Even though the individual concepts in the value set are defined in <code>ValueSet-2.16.840.1.114222.4.11.3380.json</code> in <code>us.cdc.phinvads#0.7.0</code>,  it looks like the IG publisher is still trying to go out to the terminology server to expand, yielding <code>No Expansion for this valueset (Unknown Code System)</code></p>",
        "id": 230993970,
        "sender_full_name": "Max Masnick",
        "timestamp": 1616145250
    },
    {
        "content": "<p>So if this is the expected behavior of the IG publisher, is my only issue <a href=\"http://tx.fhir.org\">tx.fhir.org</a> not expanding PHIN VADS and VSAC value sets?</p>",
        "id": 230994808,
        "sender_full_name": "Max Masnick",
        "timestamp": 1616145764
    },
    {
        "content": "<p>Shouldn't</p>\n<div class=\"codehilite\"><pre><span></span><code>* include codes from system http://phinvads.cdc.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3288\n</code></pre></div>\n<p>should be</p>\n<div class=\"codehilite\"><pre><span></span><code>* include codes from valueset http://phinvads.cdc.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3288\n</code></pre></div>",
        "id": 231121253,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1616214992
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191343\">Michael Lawley</span> <a href=\"#narrow/stream/179202-terminology/topic/PHIN.20VADS.20and.20VSAC/near/231121253\">said</a>:</p>\n<blockquote>\n<p>Shouldn't</p>\n<div class=\"codehilite\"><pre><span></span><code>* include codes from system http://phinvads.cdc.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3288\n</code></pre></div>\n<p>should be</p>\n<p><div class=\"codehilite\"><pre><span></span><code>* include codes from valueset http://phinvads.cdc.gov/fhir/ValueSet/2.16.840.1.114222.4.11.3288\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>Yes -- I noted this in my 2nd message, but it doesn't make a difference in that I still can't get a value set with PHIN VADS codes that expands (using <code>tx.fhir.org</code>)</p>",
        "id": 231208698,
        "sender_full_name": "Max Masnick",
        "timestamp": 1616324052
    }
]