[
    {
        "content": "<p>Can anyone please supply an example (preferably XML) of the Body of a POST request made for a Code System $validate-code operation on a Terminology Server by the FHIR Validator? I need to understand what's causing an exception on my server - possibly an unrecognized Parameter Component name - but I can't be sure without seeing the Body and this isn't saved by my server for POSTs.</p>",
        "id": 228549301,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1614757253
    },
    {
        "content": "<p>May be related to <a href=\"#narrow/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server\">https://chat.fhir.org/#narrow/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server</a></p>",
        "id": 228563238,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1614764793
    },
    {
        "content": "<p>I would generally use TcpTrace in front of my server in a case like this.</p>",
        "id": 228652350,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614799742
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/.24validate-code.20requests.20made.20by.20FHIR.20Validator/near/228652350\">said</a>:</p>\n<blockquote>\n<p>I would generally use TcpTrace in front of my server in a case like this.</p>\n</blockquote>\n<p>Not sure if that's possible with an MS Azure App. Certainly the body of POSTs aren't stored and I've added my name to a large petition requesting this as an optional feature (privacy issues are the main pushback). Looks as if I'll have to write some custom debugging code.</p>",
        "id": 228672074,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1614807058
    },
    {
        "content": "<p>ahh azure.... well, use TcpTrace in front of the validator then</p>",
        "id": 228672161,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614807095
    },
    {
        "content": "<p>An example of a POST body, from a request made by the Validator, that causes an exception on Terminz. Interesting use of an Expansion Profile with the International Edition of SNOMED CT - any way to suppress this? However, I'm beginning to think that it's an uphill struggle to do terminology validation with Terminz unless/until the NZ Edition of SNOMED CT is supported.</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;Parameters xmlns=&quot;http://hl7.org/fhir&quot;&gt;\n    &lt;parameter&gt;\n        &lt;name value=&quot;coding&quot;/&gt;\n        &lt;valueCoding&gt;\n            &lt;system value=&quot;http://loinc.org&quot;/&gt;\n            &lt;code value=&quot;59261-8&quot;/&gt;\n            &lt;display value=&quot;Hemoglobin A1c/Hemoglobin.total in Blood by IFCC protocol&quot;/&gt;\n        &lt;/valueCoding&gt;\n    &lt;/parameter&gt;\n    &lt;parameter&gt;\n        &lt;name value=&quot;displayLanguage&quot;/&gt;\n        &lt;valueString value=&quot;en-NZ&quot;/&gt;\n    &lt;/parameter&gt;\n    &lt;parameter&gt;\n        &lt;name value=&quot;profile&quot;/&gt;\n        &lt;resource&gt;\n            &lt;Parameters&gt;\n                &lt;parameter&gt;\n                    &lt;name value=&quot;profile-url&quot;/&gt;\n                    &lt;valueString value=&quot;http://hl7.org/fhir/ExpansionProfile/dc8fd4bc-091a-424a-8a3b-6198ef146891&quot;/&gt;\n                &lt;/parameter&gt;\n                &lt;parameter&gt;\n                    &lt;name value=&quot;system-version&quot;/&gt;\n                    &lt;valueString value=&quot;http://snomed.info/sct|http://snomed.info/sct/900000000000207008&quot;/&gt;\n                &lt;/parameter&gt;\n            &lt;/Parameters&gt;\n        &lt;/resource&gt;\n    &lt;/parameter&gt;\n&lt;/Parameters&gt;\n</code></pre></div>",
        "id": 228711144,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1614829160
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191364\">@Peter Jordan</span> I'm not sure about the use of the ExpansionProfile - I would have assumed we weren't doing that any longer (since R4)?  When you say \"unless/until the NZ Edition of SNOMED CT is supported\", I assume that Terminz obviously supports it.  So you mean support specifically by the Validator, or <a href=\"http://tx.fhir.org\">tx.fhir.org</a> (or what)?  If we have a source available, we certainly can add support for the NZ Edition on <a href=\"http://tx.fhir.org\">tx.fhir.org</a>.</p>",
        "id": 228712005,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1614829860
    },
    {
        "content": "<p>Apologies, Rob - you're right, that shouldn't be a problem when using Terminz, only with <a href=\"http://tx.fhir.org\">tx.fhir.org</a> until/unless that has the NZ Edition! I've removed the relevant comment from my post. However, including  a profile parameter in the $validate-code request which includes the URL of an Expansion Profile isn't in the specification and that's what's creating an exception in Terminz that I will have to code around for the time being.</p>",
        "id": 228714408,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1614831680
    },
    {
        "content": "<p>Can you provide the source (RF2 snapshot) for the NZ Edition, or point me to how I can get it (I haven't looked for that yet)?</p>",
        "id": 228716325,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1614833067
    },
    {
        "content": "<p>I'll check with our NRC. They have moved to the managed release process from SI. Might be worth waiting until the April version as that's built on the 20210131 version of the International Edition.</p>",
        "id": 228717293,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1614833793
    },
    {
        "content": "<p>That sounds like a reasonable plan.</p>",
        "id": 228785751,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1614869774
    },
    {
        "content": "<p>It would be interesting to hear about others' experiences in using the Validator with Terminology Servers other than <a href=\"http://tx.fhir.org\">tx.fhir.org</a> <span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span>  <span class=\"user-mention\" data-user-id=\"192504\">@Fran√ßois Macary</span> .  Aside from the issue reported above, I'm surprised by some of the requests made to Terminz - e.g. why is the $validate-code operation being performed on ValueSet, rather than CodeSystem, when there is no reference to a Profile or IG in the call to the Validator that would determine what Value Set a particular coded element might belong to.?</p>",
        "id": 228834615,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1614885979
    }
]