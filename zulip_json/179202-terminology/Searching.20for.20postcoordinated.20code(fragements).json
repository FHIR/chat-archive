[
    {
        "content": "<p>As the fhir search api doesn't allow for searching parts of a code - dealing with postcoordinated codes is hard. As a result we forbid post-coordination in ICD10-GM in the latest german base IG version.<br>\nImplementers complaint, that the couldn't search for one of the concepts in the postcoordinated codes.</p>",
        "id": 263020117,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1638198443
    },
    {
        "content": "<p>But there are some implementers who want to use/need to use postcoordinated codes (e.g.SnomedCT ones). Is there a best practice or experience on how you still could enable searchability, or search for parts of a postkoordinated code?</p>",
        "id": 263020348,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1638198536
    },
    {
        "content": "<blockquote>\n<p>the fhir search api doesn't allow for searching parts of a code</p>\n</blockquote>\n<p>Doesn't it? where does it say that?</p>",
        "id": 263051997,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638211836
    },
    {
        "content": "<p>I suspect <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span>  is referring to the idea that most codes are represented via a Token search. Token searches by default are \"exact match\" style. There is no modifier on a token search that is a \"contains\". So when the code value is \"A21.1 B32.2 C21.5\" how do you search for all items with \"B32.2\"?</p>",
        "id": 263055937,
        "sender_full_name": "Daniel Venton",
        "timestamp": 1638213850
    },
    {
        "content": "<p>correct <span class=\"user-mention\" data-user-id=\"335936\">@Daniel Venton</span> Thats exactly what i meant</p>",
        "id": 263056081,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1638213926
    },
    {
        "content": "<p>well, there is a mechanism for it. It's indirect, but it has to be to deal with the complexity required here.</p>\n<ul>\n<li>define a value set \"all codes qualified by B32.2\" </li>\n<li>search for all concepts in the value set</li>\n</ul>\n<p>Sure, that requires work to set up - but any server is going to have to work on something like that</p>",
        "id": 263056361,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638214074
    },
    {
        "content": "<p>on a more ad-hoc level, there's :below. </p>\n<ul>\n<li>search for :below \"anything B32.2\"</li>\n</ul>\n<p>This is... obscure... and depends on code system semantics.</p>",
        "id": 263056753,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638214274
    },
    {
        "content": "<p>I think that my server doesn't support either of these anyway, and I very much doubt others do. (well, my server supports value set searches, but I don't think that it supports the ICD-10 logic implied by the question)</p>",
        "id": 263056862,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638214326
    },
    {
        "content": "<p>I did think we had some partial search arrangement on tokens, but it doesn't look like we do</p>",
        "id": 263056899,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638214353
    },
    {
        "content": "<p>and now it is too late to add i'm afraid? It would be very helpful to have :contains on token searches.</p>",
        "id": 263112217,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1638260486
    },
    {
        "content": "<p>no it's not too late to add.</p>",
        "id": 263124189,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638267527
    },
    {
        "content": "<p>at least, not procedurally. It might be a hard to get up though</p>",
        "id": 263125005,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638267979
    },
    {
        "content": "<p><code>:text</code> as a search modifier could allow this to work without changes?</p>",
        "id": 263125433,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1638268244
    },
    {
        "content": "<p>no because that searches the text, not the code</p>",
        "id": 263134828,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638274138
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/Searching.20for.20postcoordinated.20code.28fragements.29/near/263056361\">said</a>:</p>\n<blockquote>\n<p>well, there is a mechanism for it. It's indirect, but it has to be to deal with the complexity required here.</p>\n<ul>\n<li>define a value set \"all codes qualified by B32.2\" </li>\n<li>search for all concepts in the value set</li>\n</ul>\n<p>Sure, that requires work to set up - but any server is going to have to work on something like that</p>\n</blockquote>\n<p>For reference, ICD-11 puts post-coordinated codes in a valueset (and working on getting this exposed as FHIR now).  Flagging for <span class=\"user-mention\" data-user-id=\"193544\">@Jonathan Payne</span>  and <span class=\"user-mention\" data-user-id=\"340886\">@Joe Amlung</span></p>",
        "id": 264335476,
        "sender_full_name": "Carl Leitner",
        "timestamp": 1639070792
    }
]