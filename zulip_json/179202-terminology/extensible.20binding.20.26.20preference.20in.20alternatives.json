[
    {
        "content": "<p>Is there any mechanism for defining a hierarchical list, or just a favorite, for the alternative ValueSet if you are using an extensible binding?<br>\nThe closest i  can think of is slicing Coding and adding constraints to fill out only one slice at a time. But this wouldn't include the preference for the first sliced coding and would be quite complicated.<br>\nBackground: In genomics we have a CodeSystem for gene names which everybody agrees to and uses (HGNC), but there are edge cases of genes which haven't a code assigned to (yet). In this case the gene is coded using NCBI coding.</p>",
        "id": 154004683,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1538493759
    },
    {
        "content": "<p>we do this by slicing</p>",
        "id": 154004722,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1538496595
    },
    {
        "content": "<p>do you have an example? And how do you express the preferred hierarchy between the CodeSystems? E.g.: try CodeSystem_X, if you don't find the code look at CodeSystem_Y, etc...</p>",
        "id": 154004725,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1538496765
    },
    {
        "content": "<p>When the element is bound extensibly to a ValueSet, that ValueSet is the primary one, by the definition of extensible bindings.<br>\nAny other ValueSets in slices would be of equal priority.</p>",
        "id": 154004941,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1538524018
    },
    {
        "content": "<p>Here is something similar used for a profile of STU3 Medication</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">&quot;Medication.code&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Medication.code&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;short</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Coding for the Medicine&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;definition</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Australian coding slices are ...&quot;</span><span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/element&gt;</span>\n<span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">&quot;Medication.code.coding&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Medication.code.coding&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;slicing&gt;</span>\n        <span class=\"nt\">&lt;discriminator&gt;</span>\n            <span class=\"nt\">&lt;type</span> <span class=\"na\">value=</span><span class=\"s\">&quot;value&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;system&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/discriminator&gt;</span>\n        <span class=\"nt\">&lt;discriminator&gt;</span>\n            <span class=\"nt\">&lt;type</span> <span class=\"na\">value=</span><span class=\"s\">&quot;value&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;code&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/discriminator&gt;</span>\n        <span class=\"nt\">&lt;rules</span> <span class=\"na\">value=</span><span class=\"s\">&quot;open&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/slicing&gt;</span>\n<span class=\"nt\">&lt;/element&gt;</span>\n<span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">&quot;Medication.code.coding:pbs&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Medication.code.coding&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;sliceName</span> <span class=\"na\">value=</span><span class=\"s\">&quot;pbs&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;short</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Medication PBS coding (ignore item context)&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;definition</span> <span class=\"na\">value=</span><span class=\"s\">&quot;PBS code from http://pbs.gov.au/code/item. Use of PBS ...&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;binding&gt;</span>\n        <span class=\"nt\">&lt;strength</span> <span class=\"na\">value=</span><span class=\"s\">&quot;required&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;valueSetReference&gt;</span>\n            <span class=\"nt\">&lt;reference</span> <span class=\"na\">value=</span><span class=\"s\">&quot;http://hl7.org.au/fhir/ValueSet/pbs-item&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/valueSetReference&gt;</span>\n    <span class=\"nt\">&lt;/binding&gt;</span>\n<span class=\"nt\">&lt;/element&gt;</span>\n</pre></div>",
        "id": 154004943,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1538524127
    },
    {
        "content": "<p>So, are you saying, if someone uses a an NCBI code which has an equivalent HGNC code, you want them to use HGNC instead. NCBI is only valid if no equivalent HGNC exists? How is a validator supposed to decide this? Will there be a ConceptMap listing the equivalent pairs of code?</p>",
        "id": 154004947,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1538524798
    },
    {
        "content": "<p>this is over the horizon for validators at the present</p>",
        "id": 154005181,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1538567747
    },
    {
        "content": "<p>After discussing the issue with <span class=\"user-mention\" data-user-id=\"191436\">@Stefan Lang</span> we came to the solution that you could make a ValueSet including all NCBI Codes + codes from HGNC for all genes that are missing in NCBI. This ValueSet then has to be updated over time to adapt to genes which were included into NCBI in the meantime and therefore the HGNC code will be removed, the NCBI code added for genes new in NCBI</p>",
        "id": 154005216,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1538571878
    }
]