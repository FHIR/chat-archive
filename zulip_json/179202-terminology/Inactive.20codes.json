[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span> <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> I have to write up how to determine inactive codes for the following US code systems:<br>\n- RxNorm<br>\n- NCI Metatheasuarus<br>\n- CPT<br>\n- NDFRT<br>\n- NDC<br>\n- UNII<br>\n- CVX</p>",
        "id": 153856480,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1478836603
    },
    {
        "content": "<p>Yes.  Some of them will be a bit interesting.  The NDC Directory from FDA doesn't include everything (like older pre-SPL products).  FDB and Multum expend considerable resources trying to compile NDC codes for their respective databases, and it isn't perfect (although gradually getting better).  I expect that we'll need to do comparisons between release files to determine which codes have been made inactive in some cases (like CPT?), as that may not be part of the publication. </p>",
        "id": 153856538,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1478877472
    },
    {
        "content": "<p>are you saying that inactive codes are not in the release files? then that's all we need to say</p>",
        "id": 153856601,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1478896169
    },
    {
        "content": "<p>yes - that's true for some of them<br>\nand I guess you're right - we don't really have to do anything with it beyond that</p>",
        "id": 153856946,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1479184748
    },
    {
        "content": "<p>so to which of them does that apply?</p>",
        "id": 153856952,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1479193390
    },
    {
        "content": "<p>Why does valueset expansion contain the notion of \"inactive\" when CodeSystem.concept does not?  And why is expansion.contains.inactive not marked as a modifier?</p>",
        "id": 153906936,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1505226355
    },
    {
        "content": "<p>Legacy on the first. We need to talk about this</p>",
        "id": 153906953,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505229910
    },
    {
        "content": "<p>Yes, we should talk about this.  Declaring that a concept is \"inactive\" means that (at least theoretically) you can't use it for new data instances, but it doesn't modify the meaning that it originally had (to whatever degree of clarity that was specified).</p>",
        "id": 153907141,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1505251959
    },
    {
        "content": "<p>So if systems throw away the \"inactive\" element, that doesn't change the meaning of the codes inclusion in the value set?  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> do you want a change request or should we have more discussion here first?</p>",
        "id": 153907213,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1505257197
    },
    {
        "content": "<p>it's still in the value set. It still means the same thing. 'inactive' is an instruction about it's use. I lean to it not being a modifier</p>",
        "id": 153907229,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505257791
    },
    {
        "content": "<p>Just a couple of uses cases to consider: firstly the relevant concept has been used in an endpoint system, secondly a user expects to see a concept in a dropdown list, because they've selected it before, but it no longer appears because it's now inactive. In NZ we're beginning to discuss these issues with those planning to implement SNOMED CT and, in primary care, it's never been a concern with the Read Code system that's being replaced. Thus far, it's proving easier to use the term 'deprecated' than inactive. It's very hard to sell the idea that a concept that's in an EHR is inactive.</p>",
        "id": 153907236,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1505258241
    },
    {
        "content": "<p>I presume if inactive codes are included in the expansion (based on the ExpansionProfile) that means they should <em>not</em> be treated as errors when validating - correct?</p>",
        "id": 153907243,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1505259048
    },
    {
        "content": "<p>Should we add \"inactive\" to CodeSystem.concept?</p>",
        "id": 153907244,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1505259163
    },
    {
        "content": "<p>depends on context of validation</p>",
        "id": 153907245,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505259233
    },
    {
        "content": "<p>we chose not to add inactive because CodeSystem has properties</p>",
        "id": 153907246,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505259253
    },
    {
        "content": "<p>The spec allows inactive codes to be included , or excluded, when requesting value set expansions whether or not an Expansion Profile is used. In terms of the Code System resource, it's a property of the code that can be requested via the lookup operation.</p>",
        "id": 153907248,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1505259310
    },
    {
        "content": "<p>It has properties, but how do you know which property means \"inactive\"?  How does a tool take an arbitrary code system and generate an expansion from it if it doesn't know what property means \"inactive\"?</p>",
        "id": 153907288,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1505275598
    },
    {
        "content": "<p>Are we expecting a \"magic\" property name?  (And if so, where is that documented)</p>",
        "id": 153907289,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1505275623
    },
    {
        "content": "<p>For SNOMED CT  <a href=\"http://hl7.org/fhir/snomedct.html\" target=\"_blank\" title=\"http://hl7.org/fhir/snomedct.html\">http://hl7.org/fhir/snomedct.html</a> .  No magic, but it is specific to individual code systems as not all of them permit deactivation/deprecation of codes.</p>",
        "id": 153907292,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1505277069
    },
    {
        "content": "<p>A code system that doesn't support it wouldn't value the property, but it seems like something that should have a standard computable way to express for those that do.</p>",
        "id": 153907402,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1505313872
    },
    {
        "content": "<p>they are all different in this regard</p>",
        "id": 153907484,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505321967
    },
    {
        "content": "<p>They're all different in that there's no way they could populate an active/inactive boolean (regardless of what properties they have)?</p>",
        "id": 153907582,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1505325735
    },
    {
        "content": "<p>don't know. <span class=\"user-mention\" data-user-id=\"191982\">@Ted Klein</span> opinions?</p>",
        "id": 153907587,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505326389
    },
    {
        "content": "<p>I think you can make a binary determination of whether a code is active or inactive in any code system that I know of (or can conceive of), even if the native code system propertyies don't use those terms<br>\nbut there frequently are additional statuses, like deprecated (which would be a subtype of active)</p>",
        "id": 153908038,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1505362369
    },
    {
        "content": "<p>the initial reaction earlier offline was that the existing system url remains and means the same thing, since they're not <em>changing</em> existing codes (they will eventually add more)</p>",
        "id": 153908041,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1505363359
    },
    {
        "content": "<p>ie: from what I understand ndf-rt/1 == med-rt/1</p>",
        "id": 153908042,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1505363391
    },
    {
        "content": "<p>and med-rt will be a superset of ndf-rt</p>",
        "id": 153908043,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1505363402
    },
    {
        "content": "<p>I'm not sure if med-rt is truly a superset, but it could be.  I think I need to see it first to know for sure how they're doing it.</p>",
        "id": 153908083,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1505377139
    },
    {
        "content": "<p>I'd like to add that I had trouble handling \"inactive\" when I was trying to implement a light-weight terminology service in the .NET API. Not being thoroughly versed in the domain, it's certainly possible that the confusion originates from a lack of knowledge on my side, but I did put my questions down in <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13208\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13208\">GF#13208</a> and <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13220\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13220\">GF#13220</a>.  Maybe the resolutions to these items may help others like me to get their heads around this.</p>",
        "id": 153908363,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1505415416
    },
    {
        "content": "<p>Thanks, Ewout.  We can try to prioritize these trackers for discussion and resolution on an upcoming Vocab call (and can invite you to join when they are on the agenda).  We do need to make this clearer and move toward more consistent usage.</p>",
        "id": 153908367,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1505415719
    },
    {
        "content": "<p>I'm looking at <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13208\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13208\">GF#13208</a> which says that we should be specific about how inactive is done in HL7 code systems...</p>",
        "id": 153984569,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533863358
    },
    {
        "content": "<p>well, ok, we should. But currently, it is done by setting the property <a href=\"http://hl7.org/fhir/concept-properties#inactive\" target=\"_blank\" title=\"http://hl7.org/fhir/concept-properties#inactive\">http://hl7.org/fhir/concept-properties#inactive</a> to true. But why? Why not use </p>\n<div class=\"codehilite\"><pre><span></span>http://hl7.org/fhir/concept-properties#status = retired\n</pre></div>",
        "id": 153984570,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533863439
    },
    {
        "content": "<p>as is apparently documented at <a href=\"http://build.fhir.org/codesystem.html#status\" target=\"_blank\" title=\"http://build.fhir.org/codesystem.html#status\">build.fhir.org/codesystem.html#status</a></p>",
        "id": 153984571,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533863462
    },
    {
        "content": "<p>actually.. this is a UTG question, really. <span class=\"user-mention\" data-user-id=\"191944\">@Russ Hamm</span> <span class=\"user-mention\" data-user-id=\"191982\">@Ted Klein</span> - UTG should use the status property... yes?</p>",
        "id": 153984575,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533863714
    },
    {
        "content": "<p>HL7 V3 doesn't use \"inactive\" as a value for status.  I agree that \"status = retired\" is the correct way to do it.  V2 (as of 2.9 uses \"deprecated or inactive\" and \"retired\", as well as \"backwards-compatible use only\".  Using the status property consistently makes sense.</p>",
        "id": 153984587,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1533865935
    },
    {
        "content": "<p>Oh good grief, I thought that WAS how it was being done - a property \"status\" with the primary values Active and Retired.   We also have used this in the past for Deprecated, and Backwards (for the v2 notion of backwards compatibility only).  That having been said, I don't know how we currently deal with different codes for the same concept, where one code is Retired and the other is Active.  This is not a concept status, it is a code status.</p>",
        "id": 153984588,
        "sender_full_name": "Ted Klein",
        "timestamp": 1533865984
    },
    {
        "content": "<p>we don't have that variation anywhere in the FHIR eco-system as far as I know, and the status codes are for the concept. I will update the code to do this consistently.</p>",
        "id": 153984592,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533866579
    },
    {
        "content": "<p>The case of multiple codes (usually two) for a V3 concept came up before, where in FHIR only one of them was being displayed.  I'm not sure what we ended up doing with that.  Usually only one of the codes is active, so it's probably not much (if any) of a problem, but I know that at least in the past there were one or more (but very few) instances where more than one code was active for the same concept - and in those cases dropping the \"extra\" ones doesn't seem to be good.</p>",
        "id": 153984604,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1533867268
    },
    {
        "content": "<p>ok sorted. all consistent now</p>",
        "id": 153984650,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533872788
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191944\">@Russ Hamm</span> it's likely I copied the same confusion into the UTG  code, so please check that we're using status consistently</p>",
        "id": 153984651,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533872818
    }
]