[
    {
        "content": "<p>Hello!</p>\n<p>I'm implementing operation <code>$translate</code> for <code>ConceptMap</code>:</p>\n<p><a href=\"https://www.hl7.org/fhir/conceptmap-operations.html#translate\" target=\"_blank\" title=\"https://www.hl7.org/fhir/conceptmap-operations.html#translate\">https://www.hl7.org/fhir/conceptmap-operations.html#translate</a></p>\n<p>Unfortunately, I don't understand the following input parameters: <code>dependency</code>, <code>dependency.element</code>, and <code>dependency.concept</code>.</p>\n<p>What is the intent of the spec here? What is an example (or two) of how these might be used? What should I be considering when trying to implement this operation with respect to these input parameters?</p>\n<p>If there is additional documentation available that might offer explanation in relatively simple terms, I'd love to read it. : )</p>",
        "id": 153951851,
        "sender_full_name": "Diederik Muylwyk",
        "timestamp": 1523458251
    },
    {
        "content": "<p>there's an example here:</p>",
        "id": 153951857,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1523459917
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/conceptmap-example-specimen-type.html\" target=\"_blank\" title=\"http://build.fhir.org/conceptmap-example-specimen-type.html\">http://build.fhir.org/conceptmap-example-specimen-type.html</a></p>",
        "id": 153951859,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1523459948
    },
    {
        "content": "<p>this shows a mapping where you need information from other elements in order to translate the code correctly</p>",
        "id": 153951860,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1523459977
    },
    {
        "content": "<p>Thanks, Grahame! Will review - and possibly return with more questions.  : )</p>",
        "id": 153951862,
        "sender_full_name": "Diederik Muylwyk",
        "timestamp": 1523460145
    },
    {
        "content": "<p>sure.</p>",
        "id": 153951864,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1523460161
    },
    {
        "content": "<p>Hi, Grahame.</p>\n<p>Using the link you provided, can you identify a line item in that mapping that includes a dependency that is required to properly translate the source concept? This has yet to click for me.</p>\n<p>Under the Destination Concept heading, there are four columns. Would the first column (Code) be the destination concept returned in <code>match.concept</code> and the remaining three columns be the dependencies...?</p>",
        "id": 153951883,
        "sender_full_name": "Diederik Muylwyk",
        "timestamp": 1523461753
    },
    {
        "content": "<p>ah I was careless</p>",
        "id": 153951889,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1523462443
    },
    {
        "content": "<p>this concept map, the codes in table 0487 actually produce multiple codes in different elements. take, for example, the code \"BRSH\". This produces the matching Specimen.code 258415003 (Biopsy sample), and in addition, produces a code in Specimen.collection.method of 439336003 (Brush biopsy). if we reversed the direction of the mapping, then the Brush Biopsy code would be a depedency, not a product</p>",
        "id": 153951892,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1523462649
    },
    {
        "content": "<p>you might argue, looking at this concept map that:</p>\n<p>a/ it's not at all clear that the the snomed code 246380002  implies Specimen.collection.method - and it's not at all clear, though it could be made a little bit non-obscure by at least stating that relationship here: <a href=\"http://build.fhir.org/specimen-mappings.html\" target=\"_blank\" title=\"http://build.fhir.org/specimen-mappings.html\">http://build.fhir.org/specimen-mappings.html</a></p>\n<p>b/ the concept map itself is pretty confusing. And indeed, I think it needs some real work; it's an example that was prepared outside the FHIR project early on and I picked up as a good structural example of using concept map. But it's not a good example concept map</p>",
        "id": 153951896,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1523462782
    },
    {
        "content": "<p>hope that clarifies a little</p>",
        "id": 153951897,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1523462788
    },
    {
        "content": "<p>Okay. That makes a lot more sense to me now. Thanks Grahame!</p>\n<p>To make sure I understand:</p>\n<p>I have the following <code>ConceptMap</code>:</p>\n<p><code>ConceptMap.group.element.code</code> identifies BRSH<br>\n<code>ConceptMap.group.element.target.code</code> identifies 258415003 (Biopsy sample)<br>\n<code>ConceptMap.group.element.target.dependsOn.code</code> identifies 439336003 (Brush biopsy)</p>\n<p>If I want to map from BRSH to Biopsy Sample, my input parameters to operation <code>$translate</code> should identify BRSH in either <code>code</code>, <code>coding</code>, or <code>codeableConcept</code>, <em>and optionally</em> Brush Biopsy could be identified in <code>dependency.concept</code>.</p>\n<p>In the output parameters, I should get a <code>match.concept</code> with Biopsy Sample, and a <code>match.product.concept</code> with Biopsy Brush.</p>\n<p>Is that correct? I feel as though my <code>$translate</code> operation would still turn up the right results but providing the <code>dependency.concept</code> input will narrow the results.</p>",
        "id": 153951902,
        "sender_full_name": "Diederik Muylwyk",
        "timestamp": 1523463640
    }
]