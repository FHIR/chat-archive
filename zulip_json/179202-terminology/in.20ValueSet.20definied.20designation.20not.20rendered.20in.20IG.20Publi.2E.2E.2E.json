[
    {
        "content": "<p>Hi guys, we're trying to publish some of our ValueSets in a first HL7-Austria FHIR-Ballot and i came cross the problem that valueset designations are not beeing rendered by the IG-Publisher. I know that it is allowed to add designations not known in the codesystem. How have other here solved this? I'm happy for any hint.</p>",
        "id": 266148388,
        "sender_full_name": "Nikola Tanjga",
        "timestamp": 1640584233
    },
    {
        "content": "<p>I thought they would be - where's an example?</p>",
        "id": 266196800,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1640632011
    },
    {
        "content": "<p>Here's an example: <a href=\"https://fhir.hl7.at/r4-core-testing-better-valueset-expand-group-design/ValueSet-at-elga-vs-religion.html\">https://fhir.hl7.at/r4-core-testing-better-valueset-expand-group-design/ValueSet-at-elga-vs-religion.html</a><br>\nIt's a testing branch with a valueset where once i added a designation in the CLD and once to the expansion, both time to the second last code (strg+f for \"Konfessionslos\").<br>\nThe fsh file can be found here: <a href=\"https://github.com/HL7Austria/HL7-AT-FHIR-Core-R4/blob/testing-better-valueset-expand-group-design/input/fsh/at-elga-vs-religion.fsh\">https://github.com/HL7Austria/HL7-AT-FHIR-Core-R4/blob/testing-better-valueset-expand-group-design/input/fsh/at-elga-vs-religion.fsh</a></p>",
        "id": 266237489,
        "sender_full_name": "Nikola Tanjga",
        "timestamp": 1640675676
    },
    {
        "content": "<p>umm, I don't see any designations in there?</p>",
        "id": 267020243,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641437855
    },
    {
        "content": "<p>I deleted all other lines and only left the three concepts with their test-designations: <a href=\"https://fhir.hl7.at/r4-core-testing-better-valueset-expand-group-design/ValueSet-at-elga-vs-religion.html\">https://fhir.hl7.at/r4-core-testing-better-valueset-expand-group-design/ValueSet-at-elga-vs-religion.html</a> and the corresponding fsh: <a href=\"https://github.com/HL7Austria/HL7-AT-FHIR-Core-R4/blob/testing-better-valueset-expand-group-design/input/fsh/at-elga-vs-religion.fsh\">https://github.com/HL7Austria/HL7-AT-FHIR-Core-R4/blob/testing-better-valueset-expand-group-design/input/fsh/at-elga-vs-religion.fsh</a><br>\nNow it should be easy to see.</p>",
        "id": 267452231,
        "sender_full_name": "Nikola Tanjga",
        "timestamp": 1641828207
    },
    {
        "content": "<p>Could somebody send us a with the IG Publisher rendered ValueSet including designations? Thank you!</p>",
        "id": 267539827,
        "sender_full_name": "Nikola Tanjga",
        "timestamp": 1641880823
    },
    {
        "content": "<p>You mean something like this? <a href=\"https://build.fhir.org/ig/HL7/sdc/ValueSet-species.html\">https://build.fhir.org/ig/HL7/sdc/ValueSet-species.html</a></p>",
        "id": 267595039,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1641913915
    },
    {
        "content": "<p>Thank you for joining our discussion! Sadly no designations in this valueset (<a href=\"https://build.fhir.org/ig/HL7/sdc/ValueSet-species.xml.html\">https://build.fhir.org/ig/HL7/sdc/ValueSet-species.xml.html</a>) are being defined. This is also only possible, if the concepts are specificly included, not by a property filter. We are really looking desperatly for a IG Publisher rendered ValueSet with designations.</p>",
        "id": 267596173,
        "sender_full_name": "Nikola Tanjga",
        "timestamp": 1641914371
    },
    {
        "content": "<p>as of the release after this one:</p>",
        "id": 267966831,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642131208
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/daXkiyVU8KN3urFslaLk13Uf/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/daXkiyVU8KN3urFslaLk13Uf/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/daXkiyVU8KN3urFslaLk13Uf/image.png\"></a></div>",
        "id": 267966847,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642131229
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"372341\">@Nikola Tanjga</span> this should meet your requirements. Let me know if you think there's further improvements that you would like. (btw, 'mg' is not a FSN, but I assume that's your testing data)</p>",
        "id": 267969252,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642132190
    },
    {
        "content": "<p>btw your expand rules extension is in the wrong place - should be on the compose not the include</p>",
        "id": 267970052,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642133042
    },
    {
        "content": "<p>no. whoops. my mistake</p>",
        "id": 267970081,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642133065
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/in.20ValueSet.20definied.20designation.20not.20rendered.20in.20IG.20Publi.2E.2E.2E/near/267970052\">said</a>:</p>\n<blockquote>\n<p>btw your expand rules extension is in the wrong place - should be on the compose not the include</p>\n</blockquote>\n<p>Thank you for the quick solution! <br>\nTwo questions are left:</p>\n<ul>\n<li>Speaking of expand rules, will the designations additionally be shown in the expansion? Also with the here used hierarchy extension?</li>\n<li>And, we often do have a CLD with \"Include all codes from SomeCodeSystem\" where it does not list all codes in the CLD. Would than the (maybe handmade/extra programmed) expansion show the designations, that are coming from the CodeSystem and are specificly needed in this ValueSet?</li>\n</ul>\n<p>Thank you again for your help!</p>",
        "id": 268803021,
        "sender_full_name": "Nikola Tanjga",
        "timestamp": 1642748585
    },
    {
        "content": "<p>in case #1, the designations should be shown in the expansion yes. <span class=\"user-mention\" data-user-id=\"372341\">@Nikola Tanjga</span> </p>\n<p>in case #2... the designations should be in the expansion, yes</p>",
        "id": 269529146,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643262925
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/in.20ValueSet.20definied.20designation.20not.20rendered.20in.20IG.20Publi.2E.2E.2E/near/269529146\">said</a>:</p>\n<blockquote>\n<p>in case #1, the designations should be shown in the expansion yes. <span class=\"user-mention silent\" data-user-id=\"372341\">Nikola Tanjga</span> </p>\n<p>in case #2... the designations should be in the expansion, yes</p>\n</blockquote>\n<p>Thank you for the answer! <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> </p>\n<p>Then there is somewhere a bug for the designations in the expansions, see <a href=\"https://fhir.hl7.at/r4-core-testing-better-valueset-expand-group-design/ValueSet-at-elga-vs-religion.html\">https://fhir.hl7.at/r4-core-testing-better-valueset-expand-group-design/ValueSet-at-elga-vs-religion.html</a> and it's xml, or maybe i made somewhere a mistake in <a href=\"https://github.com/HL7Austria/HL7-AT-FHIR-Core-R4/blob/testing-better-valueset-expand-group-design/input/fsh/at-elga-vs-religion.fsh\">https://github.com/HL7Austria/HL7-AT-FHIR-Core-R4/blob/testing-better-valueset-expand-group-design/input/fsh/at-elga-vs-religion.fsh</a></p>",
        "id": 269534911,
        "sender_full_name": "Nikola Tanjga",
        "timestamp": 1643268962
    },
    {
        "content": "<p>in fact, no, designations are not populated in expansions by default. You can configure that though. See <a href=\"http://hl7.org/fhir/valueset-operation-expand.html\">http://hl7.org/fhir/valueset-operation-expand.html</a> first, and then you create a json file which is a parameters file that specifies the additional parameters to the $expand operation when the IG publisher calls it, and then use the path-expansion-params parameter (<a href=\"https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters\">https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters</a>) to register the expansion parameters with the IG publisher</p>",
        "id": 269678279,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643336922
    },
    {
        "content": "<p>If we would use the expand-operation like you said, we would lose the hierarchy, because the IG publisher can't build that with the extensions (or is that also possible now?). We are right now creating the expansion beforehand directly in the fsh file. The IG publisher never uses the expand operation in our cases (see my examples above).<br>\nSo, the main question is: is there a way that the IG publisher takes the predefined expansion with its designations and renders them?</p>",
        "id": 270510953,
        "sender_full_name": "Nikola Tanjga",
        "timestamp": 1643874492
    },
    {
        "content": "<p>I thought it builds hierarchically now?</p>",
        "id": 270614704,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643920968
    },
    {
        "content": "<p>I know I programmed that somewhere</p>",
        "id": 270614714,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643920973
    },
    {
        "content": "<p>looking at the value set renderer (org.hl7.fhir.r5.renderers.ValueSetRenderer). it only renders languages from the designations when rendering an expansion. Someone - me when I get a chance - needs to go through and change the code render other designations as well.</p>",
        "id": 270615010,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643921121
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, we are unfortunately depending on the rendering of designations other than these with languages. We tried many workarounds, like one with supplements, but they never fit our needs fully. Btw: do you plan of putting them in the  logical definition or expansion? <br>\nIs there somewhere a timeline or can we help or somehow co-develop?</p>",
        "id": 275341614,
        "sender_full_name": "Nikola Tanjga",
        "timestamp": 1647332730
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/in.20ValueSet.20definied.20designation.20not.20rendered.20in.20IG.20Publi.2E.2E.2E/near/270615010\">said</a>:</p>\n<blockquote>\n<p>looking at the value set renderer (org.hl7.fhir.r5.renderers.ValueSetRenderer). it only renders languages from the designations when rendering an expansion. Someone - me when I get a chance - needs to go through and change the code render other designations as well.</p>\n</blockquote>\n<p>Hi, me again. Asking again, if there is a timeline or can we help or somehow co-develop?</p>",
        "id": 276957737,
        "sender_full_name": "Nikola Tanjga",
        "timestamp": 1648529219
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"372341\">@Nikola Tanjga</span> I'm sure that a pull request to update/fix this would be very welcome.</p>",
        "id": 276982463,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1648548296
    },
    {
        "content": "<p>you could also aim lower and submit a narrative rendering test to test cases, since that would be necessary anyway</p>",
        "id": 277082070,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648601120
    },
    {
        "content": "<p>Pull request created: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/784\">https://github.com/hapifhir/org.hl7.fhir.core/pull/784</a></p>",
        "id": 278291910,
        "sender_full_name": "Gabriel Kleinoscheg",
        "timestamp": 1649418177
    },
    {
        "content": "<p>Please do also consider a related pull request: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/783\">https://github.com/hapifhir/org.hl7.fhir.core/pull/783</a></p>",
        "id": 278291971,
        "sender_full_name": "Gabriel Kleinoscheg",
        "timestamp": 1649418210
    }
]