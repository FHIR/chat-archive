[
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=16490\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=16490\">GF#16490</a> again raises the subject of ExpansionProfile.fixedVersion.versionOverride</p>",
        "id": 153960671,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331139
    },
    {
        "content": "<p>I discussed this with <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> tonight. It's not a new subject: the requirement to do this is real, and arises over time due to version rot. But that doesn't mean that we like it, or it isn't dangerous. It is both of those things.</p>",
        "id": 153960673,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331208
    },
    {
        "content": "<p>And I agree that we haven't widely considered the case in HL7, so it's not surprising that the Value Set Definition project hasn't considered this. I don't, however, agree that it should be removed from FHIR until that project addresses the topic.</p>",
        "id": 153960678,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331286
    },
    {
        "content": "<p>having said that, it's definitely troublesome. Rob and I came up with 4 different possible dispositions for this task; I describe these for dsicussion here in the hope that we can clarify the proposals, dispose the ones that are a waste of time, and save committee time.</p>",
        "id": 153960686,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331434
    },
    {
        "content": "<p>before describing the options, I should point out that this is trial use content, not normative track content.  That makes a difference to how to dispose of the issue</p>",
        "id": 153960687,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331434
    },
    {
        "content": "<p>(1) - decide that the previous discussions of the committee should stand, that we don't like the case, but the warning comment is sufficient, and we will review it's standing after trial use when we have both implementation experience with it, and further consideration from the VSD project</p>",
        "id": 153960689,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331484
    },
    {
        "content": "<p>(2) decide that we'll leave it there, with an explicit note that our analysis of the case is not complete, and we are considering removing it after trial use, but we leave it defined during trial use to gather experience about it's use</p>",
        "id": 153960693,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331551
    },
    {
        "content": "<p>(3) remove it to an extension with an explanation similar to above <br>\n  (3a) - leave it in the code system and make the binding extensible to a value set that doesn't include it (vocab extensibility)<br>\n  (3b) define a FHIR extension for it (fhir extensibility)</p>",
        "id": 153960698,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331650
    },
    {
        "content": "<p>(4) (the radical option): remove ExpansionProfile altogether, and define a parameter format for specifying the fixed version for a code system, and then split the parameters we've defined into the primary common ones (including at least fixed version, language, activeOnly, excludeNotForUI) and also a bag of less common codes (including includeDesignations, includeDefinition, and other stuff out of ExpansionProfile).</p>",
        "id": 153960705,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331850
    },
    {
        "content": "<p>that last option ducks the issue; we just wouldn't define anything about overriding versions. note that operation parameters are even more extensible than anything else - implementers can just define whatever parameter they want</p>",
        "id": 153960706,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331925
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192130\">@Carmela Couderc</span> <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> <span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span> <span class=\"user-mention\" data-user-id=\"191982\">@Ted Klein</span> <span class=\"user-mention\" data-user-id=\"191944\">@Russ Hamm</span> <span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span> <span class=\"user-mention\" data-user-id=\"195036\">@Carol Macumber</span></p>",
        "id": 153960708,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526331954
    },
    {
        "content": "<p>GET [base]/ValueSet/[id]/$expand?version=http://loinc.org|2.56</p>",
        "id": 153961497,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526458047
    },
    {
        "content": "<p>GET [base]/ValueSet/[id]/$expand?force-version=http://loinc.org|2.56</p>",
        "id": 153961498,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526458067
    },
    {
        "content": "<p>And when there are two code systems you want to select the version for?<br>\nGET [base]/ValueSet/[id]/$expand?version=http://loinc.org|2.56&amp;version=http://snomed.info/sct|http://snomed.info/sct/20621000087109/version/20180131</p>",
        "id": 153961788,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1526471347
    },
    {
        "content": "<p>y</p>",
        "id": 153961896,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526478371
    },
    {
        "content": "<p>I think we (Ontoserver) need to pre-adopt support for external selection of code system version specifically for the use-case of choosing a SNOMED CT Edition where the ValueSet hasn't specified anything.  This would align with one of the modes <code>default</code> and <code>check</code> (I anticipate our <code>check</code> would also allow for sensible behaviour for SNOMED Edition-only versions, and probably also semantic versioning for other CodeSystems.)</p>\n<p>I am currently favouring something based on option 4 with <code>fixed-system</code> taking a canonical; I dislike <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> 's examples of <code>version</code> and <code>force-version</code> because it ambiguously suggests that we're talking about the <code>ValueSet</code> version<br>\nI'm also more in favour of keeping the mode in a separate parameter: <code>fixed-system-mode</code></p>",
        "id": 153962936,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1526534880
    },
    {
        "content": "<p>what's mode?</p>",
        "id": 153962969,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526541618
    },
    {
        "content": "<p>oh - we can't keep it in a separate parameter. Consider this:</p>\n<p>$expand?system-version=[uri]|[version]&amp;system-version=[uri]|[version]&amp;mode=override</p>",
        "id": 153962972,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526541685
    },
    {
        "content": "<p>I wondered about that. So you don't want it to override in both cases.</p>\n<p>I presume there is a reason the version can't be fixed (updated) in the ValueSet definition itself?  For example, is the use-case one of transient overriding?</p>",
        "id": 153963091,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1526549075
    },
    {
        "content": "<p>right. you don't have access to fix the underlying value set. Of course that would be a better thing to do</p>",
        "id": 153963100,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526549522
    },
    {
        "content": "<p>So that's a rare case (we hope).  What about the <code>default</code> &amp; <code>check</code> modes? I can see use cases for both but,  the difference is subtle; hard to decide which would be best as <code>system-version</code></p>",
        "id": 153963154,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1526556325
    },
    {
        "content": "<p>system-version &amp; check-system-version, I guess?</p>",
        "id": 153963320,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526574703
    }
]