[
    {
        "content": "<p>Has anyone tried this?  If so, can some attach an example or code snippet?   I'm working on creating and validating examples for a drug formulary IG and am specifying the ATC coding system (<a href=\"http://www.whocc.no/atc\" target=\"_blank\" title=\"http://www.whocc.no/atc\">http://www.whocc.no/atc</a>) where the code is at the level of the therapeutic class and not the ingredient.  e.g.: \"valueCodeableConcept\": { \"coding\": [ {\"code\": \"N02AA\", \"display\": \"Barbituates and derivatives\"}]}.  When I try to validate this through the IG Publisher, I get a null pointer exception.  Naturally, if I remove the coding system, the error disappears.  I see this uri is supported in HL7 FHIR terminology systems list (<a href=\"https://www.hl7.org/fhir/terminologies-systems.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/terminologies-systems.html\">https://www.hl7.org/fhir/terminologies-systems.html</a>).   Any thoughts or ideas on what to try?  Thanks!</p>",
        "id": 165984200,
        "sender_full_name": "May Terry",
        "timestamp": 1558201779
    },
    {
        "content": "<p>Can you post the full null pointer message?</p>",
        "id": 165984361,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558202042
    },
    {
        "content": "<p>\"Error null validating Coding: java.lang.NullPointerException\"</p>",
        "id": 165987140,
        "sender_full_name": "May Terry",
        "timestamp": 1558206659
    },
    {
        "content": "<p>And the stack trace associated with that?</p>",
        "id": 165987561,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558207373
    },
    {
        "content": "<p>this is on my todo list, but a full sample would be useful</p>",
        "id": 165992701,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558216245
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - see attached.  <a href=\"/user_uploads/10155/PdO5LDEb6vxt9ZVBVpX8dnwm/FormularyDrugV1001.json\" target=\"_blank\" title=\"FormularyDrugV1001.json\">FormularyDrugV1001.json</a> This example has an extension with 2 drug classifications - the first one doesn't include system, the second one includes \"system\": \"<a href=\"http://www.whocc.no/atc\" target=\"_blank\" title=\"http://www.whocc.no/atc\">http://www.whocc.no/atc</a>\".   <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> - sorry to ask a noob question but where would I find the stack trace output?   I usually look at an error log in an  output file called qa.html.</p>",
        "id": 165996981,
        "sender_full_name": "May Terry",
        "timestamp": 1558224176
    },
    {
        "content": "<p>If you were building your IG from the command line, what we want is all of the lines that describe the error.</p>",
        "id": 165997041,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558224259
    },
    {
        "content": "<p>thanks.  Attached is a capture of my command line and subsequent output.  <a href=\"/user_uploads/10155/TB6GzEAeja-cmZgfMmSUBScp/usdf_IG_output_20190518.txt\" target=\"_blank\" title=\"usdf_IG_output_20190518.txt\">usdf_IG_output_20190518.txt</a>  also cc'ing <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span>  in case there's any extra logging that I can run to help provide you with more info.</p>",
        "id": 165997315,
        "sender_full_name": "May Terry",
        "timestamp": 1558224792
    },
    {
        "content": "<p>Thanks.  (For your knowledge, there wasn't actually a stack trace in the log</p>",
        "id": 165998075,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1558226166
    },
    {
        "content": "<p>so the validation works ok - can you clear the txcache for the IG and try again?</p>",
        "id": 166061411,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558335123
    },
    {
        "content": "<p>if that's still a problem, can you share the source for the IG?</p>",
        "id": 166061420,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558335141
    }
]