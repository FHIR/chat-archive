[
    {
        "content": "<p>Note that DICOM now is publishing FHIR CodeSystems and ValueSets   See for example <a href=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html\" target=\"_blank\" title=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html\">http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html</a><br>\nso, should fhir.ini be updated to point at the FHIR resources DICOM publishes?</p>",
        "id": 166084551,
        "sender_full_name": "John Moehrke",
        "timestamp": 1558358863
    },
    {
        "content": "<p>it already was, I thought</p>",
        "id": 166084834,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558359096
    },
    {
        "content": "<p>looks to me like fhir.ini is importing the HTML.. but maybe I am just interpreting the error message the build gives</p>",
        "id": 166084998,
        "sender_full_name": "John Moehrke",
        "timestamp": 1558359204
    },
    {
        "content": "<p>well, it's supposed to be happening.... make a task for me to check</p>",
        "id": 166085492,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558359591
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22483\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22483\">GF#22483</a></p>",
        "id": 166087767,
        "sender_full_name": "John Moehrke",
        "timestamp": 1558361229
    },
    {
        "content": "<p>publishing FHIR via ftp: -- new kid @ old school!</p>",
        "id": 166157352,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1558431970
    },
    {
        "content": "<p>Kool... But in my quest to best understand how FHIR canonical uri(url) should be used I want to highlight what DICOM is doing in their FHIR content. So here is the example John pointed to and I'll note that they have defined the url with .html at the end. I suspect, but <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> please correct me if I'm off base here, that we should discourage this sort of uri. In fact I'd think we'd prohibit it as it's confusing. </p>\n<div class=\"codehilite\"><pre><span></span>{\n    &quot;resourceType&quot;:&quot;ValueSet&quot;,\n    &quot;id&quot;:&quot;dicom-cid-29-AcquisitionModality&quot;,\n    &quot;url&quot;:&quot;http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_29.html&quot;,\n    &quot;identifier&quot;:[\n        {\n            &quot;system&quot;:&quot;urn:ietf:rfc:3986&quot;,\n            &quot;value&quot;:&quot;urn:oid:1.2.840.10008.6.1.19&quot;\n        }\n    ],\n    &quot;version&quot;:&quot;20190327&quot;,\n    &quot;name&quot;:&quot;AcquisitionModality&quot;,\n    &quot;status&quot;:&quot;active&quot;,\n    &quot;experimental&quot;:&quot;false&quot;,\n    &quot;date&quot;:&quot;2019-04-25&quot;,\n    &quot;publisher&quot;:&quot;NEMA MITA DICOM&quot;,\n    &quot;description&quot;:&quot;Transitive closure of CID 29 AcquisitionModality&quot;,\n    &quot;copyright&quot;:&quot;Â© 2019 NEMA&quot;,\n    &quot;compose&quot;:{\n</pre></div>\n\n\n<p>I'd also say that it seems that the rest of the url path also makes me worried this is really a current server ID and not really a canonical uri.<br>\nAm I correct and if so, who will contact DICOM to clarify.</p>",
        "id": 166372697,
        "sender_full_name": "Robert McClure",
        "timestamp": 1558626008
    },
    {
        "content": "<p>absolutely agree. they should not be using .html</p>",
        "id": 166391741,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558639691
    },
    {
        "content": "<p>BUT...It is a URI and not a URL, so there's no real technical problem here.</p>",
        "id": 166415409,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1558661171
    },
    {
        "content": "<p>right it's not no-conformant. it's just a bad idea</p>",
        "id": 166418979,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558666837
    },
    {
        "content": "<p>This just highlights that we are not giving useful advice on what a <em>good</em> canonical uri should be. Just look at that uri - it is clear they don't know what it is actually intended to be - <strong>a permanent identifier for the value set</strong>.  As fast as FHIR is running, we have to get ahead of this before this sort of uri becomes imbedded everywhere.</p>",
        "id": 166419659,
        "sender_full_name": "Robert McClure",
        "timestamp": 1558668007
    },
    {
        "content": "<p>actually the advice was given...</p>",
        "id": 166420056,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558668687
    },
    {
        "content": "<p>then perhaps more than advice is needed - seriously.</p>",
        "id": 166420807,
        "sender_full_name": "Robert McClure",
        "timestamp": 1558669886
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> - have you any thoughts about this?</p>",
        "id": 166424659,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558676163
    },
    {
        "content": "<p>Per the ValueSet.url definition: \"the canonical URL that never changes for this value set - it is the same in every copy. The element is named url rather than uri for legacy reasons and to strongly encourage providing a resolvable URL as the identifier whenever possible. Ideally, it should be a literal URL that is the location of the master version of the value set, though this is not always possible\".From DICOM's perspective, the URL with \".html\" is intended to be permanent and never change, and it is resolvable, and also renderable. Further, since the URL is not supposed to change, and hasn't since 2013 (the target, not the FHIR resource that references it) when DICOM started publishing the chunked HTML form of the standard, it would be annoying if FHIR forbade reference to it retrospectively and required it to be changed (which would rather defeat the purpose of the \"never changes\" requirement).</p>",
        "id": 166440642,
        "sender_full_name": "David Clunie",
        "timestamp": 1558694435
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span>'s approach to this IMHO highlights the problem that occurs when we overload the meaning and use of a single model element, particularly one as important as this. I say this with my focus specifically on terminology artifacts which I think have some particularly difficult characteristics such as<br>\n The need to see the content (render via html) and also manipulate the jason/xml content via api (yes I know that is generally useful for other resources but it is <strong>a requirement for value</strong> with terminology<br>\n1. Frequent (although not in this specific case) version changes with a need to access and use prior versions, <br>\n2. Support federation of the resource across many locations. By this I mean understanding that there should be a <em>source of truth</em> location for the resource but that resource may be stored in many other places <strong>and</strong> somehow communicate that when found, that specific instance may not be the defined SOT.<br>\nThere are other issues but I do think we need to decide what is the absolute best way to structure this in the various use cases. So DICOM has decided they want the uri to be the url of the permeant renderable view of the current content version. OK, I can understand that. What I want is the FHIR community to discuss and agree <strong>what is the best approach</strong> for:<br>\n1. a terminology authority that creates content and provides no FHIR access points at all (but might in the future)<br>\n2. a terminology authority that creates content and only will support FHIR resource access?<br>\n3. a terminology authority that creates content, supports access, and also provides a terminology service? <span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> does DICOM provide terminology services now? In the future?<br>\nIt seems his argument is logical: you want the permanent resolvable location and we used the permanent resolvable <em>and</em> renderable url. We certainly have 1000's of those in the spec already, why didn't we do the same thing? What should we encourage others to do: What the FHIR spec currently does or what DICOM did?</p>",
        "id": 166464768,
        "sender_full_name": "Robert McClure",
        "timestamp": 1558712928
    },
    {
        "content": "<p>Is there a problem with the DICOM (DCM) codes in the new terminology release? I am noticing new warnings about valuesets that I am using DICOM codes from.</p>",
        "id": 243395017,
        "sender_full_name": "John Moehrke",
        "timestamp": 1624287533
    },
    {
        "content": "<p>it does not seem to be a general DICOM code problem. I am able to use dicom codes for AuditEvent.type, I am unable to use AuditEvent.agent.type dicom codes</p>",
        "id": 243403458,
        "sender_full_name": "John Moehrke",
        "timestamp": 1624290869
    },
    {
        "content": "<p>what, specifically?</p>",
        "id": 243429483,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1624302929
    },
    {
        "content": "<p>I am getting this warning on all my examples in the MHD on AuditEvent</p>\n<blockquote>\n<p>[Unable to determine whether the provided codes are in the value set <a href=\"http://hl7.org/fhir/ValueSet/participation-role-type\">http://hl7.org/fhir/ValueSet/participation-role-type</a> because the value set or code system is not known to the validator]</p>\n</blockquote>",
        "id": 243431052,
        "sender_full_name": "John Moehrke",
        "timestamp": 1624303754
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html\">http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/qa.html</a></p>",
        "id": 243431130,
        "sender_full_name": "John Moehrke",
        "timestamp": 1624303788
    },
    {
        "content": "<p><a href=\"https://github.com/IHE/ITI.MHD\">https://github.com/IHE/ITI.MHD</a></p>",
        "id": 243431204,
        "sender_full_name": "John Moehrke",
        "timestamp": 1624303811
    },
    {
        "content": "<p>note, it seems to be working now on the build site too. magic</p>",
        "id": 243506348,
        "sender_full_name": "John Moehrke",
        "timestamp": 1624363943
    },
    {
        "content": "<p>Came across this thread today, in the context of bridging DICOM and FHIR...</p>\n<p><span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> Happy to see that DICOM is using FHIR artifacts to distribute CodeSystems, ValueSets, ConceptMaps increasingly.<br>\nFor example: <code>ftp://medical.nema.org/medical/dicom/resources/valuesets/fhir/xml/CID_228.xml</code>.</p>\n<p>Are you guys planning to distribute these as versioned <strong>FHIR NPM packages</strong> via an NPM package server, current <em>and</em> historical versions? (see <code>https://confluence.hl7.org/display/FHIR/NPM+Package+Specification</code>)<br>\nand use via package dependencies (in build pipelines and deployments)</p>\n<p>E.g a package <code>org.nema.dicom#20190327</code>that includes all corresponding DICOM FHIR-artifacts.</p>",
        "id": 254347120,
        "sender_full_name": "David Simons",
        "timestamp": 1632307283
    },
    {
        "content": "<p>sorting this out is on my todo list</p>",
        "id": 254347256,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632307378
    },
    {
        "content": "<p>I am testing several of the DICOM provided Valuesets; however they cannot be consumed out of the box. <br>\nIssue for <span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> : the name of the IGPublisher complains about the names of the files being e.g. CID_4222.json instead of ValueSet-dicom-cid-4222-OphthalmicMacularGridProblem.json. Each CID file needs to be renamed manually. Can the file names be modified at the DICOM level so not each implementor has to modify the files manually? (There are too many CIDs).<br>\nIssue for <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> : the IG Publisher doesn't accept the definition of the ValueSets as   \"experimental\":\"false\", it pops the following validation error: ValueSet.experimental (l15/c28)    error   Error parsing JSON: the primitive value must be a boolean. Is there something wrong in the syntaxis or on the IG Publisher side?  This happens with any of the Value Sets published by DICOM.<br>\n<a href=\"/user_uploads/10155/jw8xYM8sNyZs9PNLQZQ2L-UE/ValueSet-dicom-cid-4222-OphthalmicMacularGridProblem.json\">ValueSet-dicom-cid-4222-OphthalmicMacularGridProblem.json</a></p>",
        "id": 258175070,
        "sender_full_name": "Diana_Ovelgoenne",
        "timestamp": 1634641077
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197447\">@Diana_Ovelgoenne</span>, I suspect the issue with \"experimental\" is that true and false don't need to be quoted -- they're primitives not strings.</p>",
        "id": 258222933,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1634659705
    },
    {
        "content": "<p>Then something more for <span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span>  to get fixed for the ValueSets to be usable <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>\n<p><span class=\"user-mention\" data-user-id=\"197037\">@Jonathan Whitby</span> : Please be aware of this, maybe you can help to move forward the fixing of the CIDs.</p>",
        "id": 258317748,
        "sender_full_name": "Diana_Ovelgoenne",
        "timestamp": 1634710615
    },
    {
        "content": "<p>For the next (2021e) DICOM release of the standard, which you can expect to see later in November 2021, and the value set resources that will be updated at that time, I will use a boolean value for \"experimental\" in the JSON files, as well as change their names to be  ValueSet-keyword.json|xml, e.g., ValueSet-dicom-cid-4222-OphthalmicMacularGridProblem.json. Note that I would not get too committed to specific keywords if I were you, since the code to generate them automatically from the titles of the tables is crude, and though it removes special characters and whitespace, it does not yet capitalize conjunctions, etc.. So this may change in future until DICOM defines official keywords for context groups and persists rather than generates, which we haven't yet done. Very few will change though (e.g., OphthalmicMacularGridProblem won't, MedicationforSmallAnimalAnesthesia et al probably will).</p>",
        "id": 258360259,
        "sender_full_name": "David Clunie",
        "timestamp": 1634734043
    },
    {
        "content": "<p>I'm trying to follow all this, but I can't. <span class=\"user-mention\" data-user-id=\"197447\">@Diana_Ovelgoenne</span> where are you getting that error? how can I reproduce it? <br>\n<span class=\"user-mention\" data-user-id=\"194580\">@David Simons</span> the dicom value sets are not published as an NPM package by DICOM, so we put them in the package <a href=\"http://fhir.tx.support\">fhir.tx.support</a> as a stop gap measure, but these are not maintained as up to date. </p>\n<p><span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> we have gone to npm packages as a way to distribute FHIR content, and pretty much all the tools are converging on this. Can I help DICOM publish the value sets and the code system as an NPM package ?</p>",
        "id": 258483903,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634788646
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I changed the syntax  as Elliot said, and there is no error coming from IG Publisher. All cleaning work needs to be done on the DICOM side for the Value Sets to be used out of the box, thanks anyways.</p>",
        "id": 258498244,
        "sender_full_name": "Diana_Ovelgoenne",
        "timestamp": 1634800586
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/258483903\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"193145\">David Clunie</span> &lt;cut&gt; Can I help DICOM publish the value sets and the code system as an NPM package ?</p>\n</blockquote>\n<p>Glad to review and test - helping bridge DICOM and FHIR. Here's the spec, btw: <a href=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification\">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification</a></p>",
        "id": 258498483,
        "sender_full_name": "David Simons",
        "timestamp": 1634800728
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, you are welcome to re-package whatever you want however you want after each DICOM release of the updated content on our ftp server. There is a public notice of each release (sent to a large mailing list, which you may or may not be on already), but if you like I can try and remember to specifically notify you.</p>",
        "id": 258525596,
        "sender_full_name": "David Clunie",
        "timestamp": 1634814616
    },
    {
        "content": "<p>well, I can do that. I was kind of hoping you could build something into your side <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 258525675,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634814673
    },
    {
        "content": "<p>if I/we create a DICOM package, how would it be identified? </p>\n<p>nema.dicom.fhir  <br>\nfhir.dicom<br>\ndicom.fhir</p>\n<p>? </p>\n<p>And the version... DICOM uses 2021d but I need to use semver. So it would be...? <span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> have you looked at semver for dicom before?</p>",
        "id": 258608138,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634846562
    },
    {
        "content": "<p>and I don't think, after looking in my email, that I'm on the list for notice of new release - how do I get on it?</p>",
        "id": 258608694,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634846755
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193145\">David Clunie</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/258525596\">said</a>:</p>\n<blockquote>\n<p>... after each DICOM release of the updated content on our ftp server....</p>\n</blockquote>\n<p>My hope, for one, would be for DICOM to evolve from ftp based distribution of files, to NPM package distribution (via http), and particularly FHIR NPM packages for the codes and valuesets. I think that is also what Graham is proposing (requesting).</p>\n<p>Note that more and more browsers are dropping ftp:// support, incl. Chrome (<a href=\"https://www.chromestatus.com/feature/6246151319715840\">https://www.chromestatus.com/feature/6246151319715840</a>)</p>",
        "id": 258704859,
        "sender_full_name": "David Simons",
        "timestamp": 1634906100
    },
    {
        "content": "<p>That's why real programmers use the command line, and know where to find an ftp client if they need one :)</p>",
        "id": 258982177,
        "sender_full_name": "David Clunie",
        "timestamp": 1635178227
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/258608138\">said</a>:</p>\n<blockquote>\n<p>if I/we create a DICOM package, how would it be identified? <br>\n...<br>\nAnd the version... DICOM uses 2021d but I need to use semver. So it would be...? <span class=\"user-mention silent\" data-user-id=\"193145\">David Clunie</span> have you looked at semver for dicom before?</p>\n</blockquote>\n<p>DICOM WG 6 should probably consider this, and a request should come from DICOM WG20/HL7, since someone will probably have a preference +/- a reason for their preference. I haven't considered changing how DICOM labels our releases, since the system we have been using works just fine for us, and we don't need to fight religious wars about how our releases are identified, and we don't need to chase every fad.</p>",
        "id": 258982339,
        "sender_full_name": "David Clunie",
        "timestamp": 1635178309
    },
    {
        "content": "<p>I don't think that you should  change how you label your releases, we should just figure out a consistent way to map that into semver, since I won't be the only person to ever ask that question</p>",
        "id": 258999696,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635186060
    },
    {
        "content": "<p>anyway, there are people hanging out for this, so how long till there might be an answer?</p>",
        "id": 258999789,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635186112
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"277357\">@Christopher Lindop</span> <span class=\"user-mention\" data-user-id=\"197037\">@Jonathan Whitby</span> can we initiate a request?</p>",
        "id": 258999950,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635186182
    },
    {
        "content": "<p>that is:</p>\n<ul>\n<li>HL7 would like to package up the dicom codes for release as a FHIR Npm package, for convenience for the FHIR implementers, since that is how all FHIR content is being distributed now.</li>\n<li><span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> has suggested that we do the packaging after each release</li>\n<li>in order to do that, we need to agree on a package name, which will be something like fhir.tx.dicom, dicom.fhir, fhir.dicom, or nema.dicom.fhir. All of those are valid, but it's not clear which is best</li>\n<li>there's a practical concern: what other dicom related npm packages might be released? For this reason, 'fhir' should be part of the name - this is the FHIR package for dicom</li>\n<li>there's a branding concern - if I am packaging it up, should it be fhir.tx.dicom? (my person preference). Or does dicom want to own the name - dicom.fhir or dicom.tx.fhir...</li>\n<li>Also, npm requires each package have a semver assigned (<a href=\"https://semver.org/\">https://semver.org/</a>). so we have to map the dicom versioning to semver in some rational way that is reasonable to users</li>\n</ul>",
        "id": 259000668,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635186542
    },
    {
        "content": "<ul>\n<li>I would leave NEMA out of the package name. They provide the secretariat for DICOM, and it is conceivable (although unlikely) that DICOM could move to another organization. That said, i HL7/ <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> is doing the packaging, I'd suggest Grahame choose whatever package name he prefers.</li>\n<li>The simplest mapping of DICOM releases to semver would be to turn the year into the major version, and release within the year (a, b, c,...) into minor version. This isn't a perfect mapping, but I think is most straightforward. DICOM is \"fully backwards compatible,\" so we could use major version 3 (the current version), and minor version corresponding to release (1996 - 3.1, 1998 - 3.2, 2021a - 3.45, ...) however that means having to go back and figure out what the current minor version would be. <br>\n  Despite the \"fully backwards compatible\" position, DICOM regularly removes terminology, particularly as the terms are adopted into SNOMED, so from a terminology point of view, each release has the potential to be a breaking release. Therefore, we could also consider each release is a major release (maybe 2021a - 20211, 2021b - 20212).<br>\n  DICOM also uses last update date as version for value sets. We could look at that as an option as well (20210515 as major version?).<br>\n  With all those options, I don't think any is particularly better technically than another, and to me, my first option seems the most straightforward.</li>\n</ul>",
        "id": 259014988,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1635193227
    },
    {
        "content": "<p><code>org.nema.medical.dicom.valuesets.fhir|2021.d.0</code> ?!</p>\n<p>if it contains all of <code>ftp://medical.nema.org/medical/dicom/resources/valuesets/fhir/*</code><br>\nso leverage that naming scheme. </p>\n<p>(packaging would not only be done for uploading to <a href=\"http://tx.fhir.org\">tx.fhir.org</a> and <a href=\"http://registry.fhir.org\">registry.fhir.org</a>)</p>\n<p>and correspondingly the <code>http://dicom.nema.org/resources/ontology/DCM</code>codesystem artifacts<br>\n(the latter is the canonical used in the valuesets)</p>",
        "id": 259108422,
        "sender_full_name": "David Simons",
        "timestamp": 1635259977
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> a different question - sorry to keep bothering you about this... does Dicom publish an updated version of the code system underlying most of these value sets? At the moment, we are working off this one, which is not up to date: </p>\n<p><a href=\"https://hl7.org/fhir/codesystem-dicom-dcim.html\">https://hl7.org/fhir/codesystem-dicom-dcim.html</a></p>\n<p>This is the master, right? ftp://medical.nema.org/MEDICAL/Dicom/Resources/Ontology/DCM/dcm.owl</p>",
        "id": 259480807,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635480851
    },
    {
        "content": "<p>well, ok, here's a draft package for comment. <span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> one more thing: you have Ids longer than 64 characters in some of your resources.</p>",
        "id": 259488606,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635490368
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/UAQon5tXWXI2CNnpP9cUgDTF/fhir.dicom2021.3.0.tgz\">fhir.dicom2021.3.0.tgz</a></p>",
        "id": 259488615,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635490379
    },
    {
        "content": "<p>I'm proposing to use a simple versioning system: major = year, then a number for consecutive releases 1.2.3.4, and .0. What I really want is predictable, and not to misuse patch version</p>",
        "id": 259488647,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635490431
    },
    {
        "content": "<p>anyway, if people are happy with this, I'll write up how to produce /release it, and release it into the package system. </p>\n<p>Releasing a new version is pretty simple:</p>\n<ul>\n<li>use an FTP client to make a local copy of ftp://medical.nema.org/MEDICAL/Dicom/Resources</li>\n<li>run the IG publisher with the parameters -dicom-gen -src {folder} -dst {folder} -ver 2021.3.0</li>\n<li>release it like other fhir.xx packages (documented elsewhere, done by the FHIR product manager or delegate)</li>\n</ul>",
        "id": 259488794,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635490570
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/259480807\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"193145\">David Clunie</span> a different question - sorry to keep bothering you about this... does Dicom publish an updated version of the code system underlying most of these value sets? ...</p>\n<p>This is the master, right? ftp://medical.nema.org/MEDICAL/Dicom/Resources/Ontology/DCM/dcm.owl</p>\n</blockquote>\n<p>Yes . Also, within the OWL file there is version information, e.g., \"&lt;owl:versionInfo&gt;2021d_20210910&lt;/owl:versionInfo&gt;\". The same file is also available from the NCBI BioPortal at \"<a href=\"https://bioportal.bioontology.org/ontologies/DCM\">https://bioportal.bioontology.org/ontologies/DCM</a>\".</p>",
        "id": 259502366,
        "sender_full_name": "David Clunie",
        "timestamp": 1635500588
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  BTW. You don't have to retrieve all the individual files via ftp; they are packaged with each release in the higher level directory at \"ftp://medical.nema.org/MEDICAL/Dicom/Resources/valuesets\", e.g., \"DICOM_ValueSets2021d_release_fhir_json_20210910144211.zip\"</p>",
        "id": 259502717,
        "sender_full_name": "David Clunie",
        "timestamp": 1635500825
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span>  FYI, when I release updates to DICOM, I generally append a datetime stamp down to the second, since if I realize later in the same day that I have screwed something up for a release, I pull it back and put out a new one; i.e., the time may matter as well as the day. I haven't been doing that for the DCM OWL file though.</p>",
        "id": 259503090,
        "sender_full_name": "David Clunie",
        "timestamp": 1635501088
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span> DICOM does not \"remove terminology\", rather we flag retired DCM codes as such (you will see that in the OWL file). We do remove codes for concepts from value sets, or replace them, though, if that's what you were referring to, though in general we do try to retain the same \"concept\" even if it is referred to by an updated code. I.e., you might think of our context groups (value sets) as tables of code-independent concepts, which may be identified by different codes over time, if that distinction makes sense. Of course when the scheme one relies on fundamentally changes its concept model, we encounter problems (e.g., see our recent paper on what the Abdomen means in SNOMED: \"<a href=\"https://onlinelibrary.wiley.com/doi/10.1111/joa.13384\">https://onlinelibrary.wiley.com/doi/10.1111/joa.13384</a>\" ).</p>",
        "id": 259504091,
        "sender_full_name": "David Clunie",
        "timestamp": 1635501721
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193145\">David Clunie</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/259503090\">said</a>:</p>\n<blockquote>\n<p>FYI, when I release updates to DICOM, I generally append a datetime stamp down to the second, since if I realize later in the same day that I have screwed something up for a release, I pull it back and put out a new one; i.e., the time may matter as well as the day. I haven't been doing that for the DCM OWL file though.</p>\n</blockquote>\n<p>So, a mapping into semver could be something like 2021.4.20210910144211 (which would match the release above)?</p>\n<p><span class=\"user-mention silent\" data-user-id=\"193145\">David Clunie</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/259504091\">said</a>:</p>\n<blockquote>\n<p>DICOM does not \"remove terminology\", rather we flag retired DCM codes as such (you will see that in the OWL file). We do remove codes for concepts from value sets, or replace them, though, if that's what you were referring to, though in general we do try to retain the same \"concept\" even if it is referred to by an updated code. </p>\n</blockquote>\n<p>Sorry, you're correct, I forgot that we flagged the terms as retired, such as (from <a href=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/chapter_D.html\">DICOM Part 16, Table D-1</a>) but don't actually remove:</p>\n<table>\n<thead>\n<tr>\n<th>Code Value</th>\n<th>Code Meaning</th>\n<th>Definition</th>\n<th>Notes</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>111006</td>\n<td>Breast composition</td>\n<td>Assessment of annotating tissues in breast; generally including fatty, mixed or dense</td>\n<td>Retired. Replaced by (129715009, SCT, \"Breast composition\").</td>\n</tr>\n</tbody>\n</table>",
        "id": 259546264,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1635523525
    },
    {
        "content": "<p>I think it would be super tiresome to put the time in the version, and I'm not going to releasing packages more than once on a day, so it's just <a href=\"http://year.release.date\">year.release.date</a></p>",
        "id": 259564833,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635531921
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195036\">@Carol Macumber</span> <span class=\"user-mention\" data-user-id=\"191333\">@Reuben Daniels</span>  I think we need to capture some of this in the official DICOM pages. Just not sure what</p>",
        "id": 259582101,
        "sender_full_name": "Robert McClure",
        "timestamp": 1635540922
    },
    {
        "content": "<p>Some doco here. <a href=\"https://fhir.org/packages/fhir.dicom/\">https://fhir.org/packages/fhir.dicom/</a>. You can add to that if you want</p>",
        "id": 259590144,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635546135
    },
    {
        "content": "<p>Anyway, this package is released now</p>",
        "id": 259590152,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635546142
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/259590152\">said</a>:</p>\n<blockquote>\n<p>Anyway, this package is released now</p>\n</blockquote>\n<p>Will you list it in \"<a href=\"https://registry.fhir.org/\">https://registry.fhir.org/</a>\" as a normative source, too?  </p>\n<p>Or would that be a DICOM SDO responsibility? (yes, in my view)</p>",
        "id": 259850675,
        "sender_full_name": "David Simons",
        "timestamp": 1635764549
    },
    {
        "content": "<p>it should automatically be in <a href=\"http://registry.fhir.org\">registry.fhir.org</a></p>",
        "id": 259911794,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635796409
    },
    {
        "content": "<p>that's what I meant when I said 'released'</p>",
        "id": 259911821,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635796422
    },
    {
        "content": "<p>but I see that it's not.</p>",
        "id": 259911947,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635796465
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"259036\">@Matthijs van der Wielen</span> ?</p>",
        "id": 259911998,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635796489
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  It seems something is causing an issue with the tool that reads the package feeds. <br>\nThe package.json looks like this when I install it locally: </p>\n<p>{<br>\n  \"tools-version\": 3,<br>\n  \"type\": \"fhir.ig\",<br>\n  \"license\": \"free\",<br>\n  \"author\": \"FHIR Project for DICOM\",<br>\n  \"name\": \"fhir.dicom\",<br>\n  \"url\": \"<a href=\"http://fhir.org/packages/fhir.dicom\">http://fhir.org/packages/fhir.dicom</a>\",<br>\n  \"canonical\": \"<a href=\"http://fhir.org/packages/fhir.dicom\">http://fhir.org/packages/fhir.dicom</a>\",<br>\n  \"version\": \"2021.4.20210910\",<br>\n  \"fhirVersions\": [<br>\n    \"4.0\"<br>\n  ]<br>\n}</p>\n<p>I will look into this a bit more.</p>",
        "id": 259966991,
        "sender_full_name": "Matthijs van der Wielen",
        "timestamp": 1635843072
    },
    {
        "content": "<p>It could be that the tool is tripping over the fhirVersion in the package.</p>",
        "id": 259974461,
        "sender_full_name": "Matthijs van der Wielen",
        "timestamp": 1635847687
    },
    {
        "content": "<p>thanks!</p>\n<p>PS: I still don't like the package name <code>fhir.dicom</code>... recommending <code>org.nema.medical.dicom.valuesets.fhir</code>, given the content originates from <code>ftp://medical.nema.org/medical/dicom/resources/valuesets/fhir/*</code> as authoritive source.</p>",
        "id": 260017214,
        "sender_full_name": "David Simons",
        "timestamp": 1635868842
    },
    {
        "content": "<p>why does it need \"fhir\" in the package name at all?</p>",
        "id": 260019310,
        "sender_full_name": "John Moehrke",
        "timestamp": 1635869649
    },
    {
        "content": "<p>these codes are used well beyond FHIR</p>",
        "id": 260019364,
        "sender_full_name": "John Moehrke",
        "timestamp": 1635869677
    },
    {
        "content": "<p>I think it is helpful (but this should be by rule, not haphazard) to have fhir in the name because it contains fhir-resource formatted content. Not all packages contain fhir resource content, correct?</p>",
        "id": 260032257,
        "sender_full_name": "Robert McClure",
        "timestamp": 1635875083
    },
    {
        "content": "<p>The package name should probably follow the same pattern as for other external code systems packaged by FHIR, and I suggest not including NEMA (who are the current secretariat of DICOM, but that theoretically could change), or an ftp path (which, I pray, will change).</p>",
        "id": 260039430,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1635878378
    },
    {
        "content": "<p>fhir.dicom = the fhir package for dicom. There could (should!) be other npm packages for dicom</p>",
        "id": 260067053,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635892298
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"259036\">@Matthijs van der Wielen</span> that is what the package.json looks like, yes.</p>",
        "id": 260067206,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635892404
    },
    {
        "content": "<p>Note that I am proposing a package name like <code>org.nema.medical.dicom.fhir.r4</code> based on the <code>canonical urls</code> in the ValueSets (and CodeSystem), not on the ftp source alone (though they seem to go hand in hand, as DICOM permalinks)!</p>\n<p>Example</p>\n<div class=\"codehilite\"><pre><span></span><code>{&quot;resourceType&quot;:&quot;ValueSet&quot;,\n&quot;id&quot;:&quot;dicom-cid-12308-UltrasoundShearWaveMeasurements&quot;,\n&quot;url&quot;:&quot;http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_12308.html&quot;,\n...\n</code></pre></div>\n<div class=\"codehilite\"><pre><span></span><code>{&quot;resourceType&quot;:&quot;CodeSystem&quot;,\n&quot;id&quot;:&quot;DCM&quot;,\n&quot;url&quot;:&quot;http://dicom.nema.org/resources/ontology/DCM&quot;,\n</code></pre></div>",
        "id": 260104101,
        "sender_full_name": "David Simons",
        "timestamp": 1635929739
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> The thing that seems to trip up the tooling is the fhirVersions which is 4.0 and not 4.0.0 or 4.0.1. Would it be possible to change the fhirVersions to one of the valid semvers? <br>\nI am aware that fhirVersions is not mandatory according to the package specification on confluence, but that seems to be an ongoing discussion.</p>",
        "id": 260120720,
        "sender_full_name": "Matthijs van der Wielen",
        "timestamp": 1635939367
    },
    {
        "content": "<p>you should really update your tooling to email the feed owner with the details of errors. It'd be much better than where we are currently</p>",
        "id": 260172523,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635962284
    },
    {
        "content": "<p>well, I re-issued the same package</p>",
        "id": 260173795,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635962792
    },
    {
        "content": "<p>should the canonicals not use <code>https://</code> instead of <code>http://</code><br>\n(so here starting with <code>https://fhir.org/packages</code>)<br>\nfrom a security/deprecation perspective?</p>\n<p>alternatively the server should do a rewrite </p>\n<p><a href=\"/user_uploads/10155/6QRmx0kRlcT-smxiZIfQy8TY/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/6QRmx0kRlcT-smxiZIfQy8TY/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/6QRmx0kRlcT-smxiZIfQy8TY/image.png\"></a></div><p><code>&lt;/constructiveFeedback&gt;</code> :)</p>",
        "id": 260808079,
        "sender_full_name": "David Simons",
        "timestamp": 1636469476
    },
    {
        "content": "<p>redirect is on my todo list</p>",
        "id": 260838828,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636482382
    },
    {
        "content": "<p>the fhir core build does not seem to be finding the DICOM codes for AuditEvent like it did before. Did something change in the way I should define my valueSets to pull in dicom codes? <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 261184879,
        "sender_full_name": "John Moehrke",
        "timestamp": 1636665018
    },
    {
        "content": "<p>what's the evidence?</p>",
        "id": 261194644,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636672289
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193145\">David Clunie</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/258360259\">said</a>:</p>\n<blockquote>\n<p>For the next (2021e) DICOM release of the standard, which you can expect to see later in November 2021, and the value set resources that will be updated at that time, I will use a boolean value for \"experimental\" in the JSON files, as well as change their names to be  ValueSet-keyword.json|xml, e.g., ValueSet-dicom-cid-4222-OphthalmicMacularGridProblem.json ...</p>\n</blockquote>\n<p>2021e has been released and contains these changes in the name of the files, etc., as requested.</p>",
        "id": 262439360,
        "sender_full_name": "David Clunie",
        "timestamp": 1637664927
    },
    {
        "content": "<p>good timing. I am working on updating FHIR Core for ImagingStudy and the build is not finding the DICOM codes. I presume that will get fixed in a few days. <br>\nThat said, I am still unsure of the canonical URI to use with any given valueSet. For example with ImagingStudy.series.laterality the current build is binding (example) to </p>\n<div class=\"codehilite\"><pre><span></span><code>        &lt;valueSet value=&quot;http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_244.html&quot;/&gt;\n</code></pre></div>\n<p>are these canonical URI really the .html and from the chtml rendering? Or is there a canonical URI that is independent of the human-rendering-of-dicom-specification?</p>",
        "id": 262456547,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637674873
    },
    {
        "content": "<p>looking at the DICOM published ValueSet (json), the URL I am using in FHIR core ImagingStudy is the right canonical URI.</p>",
        "id": 262479138,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637684997
    },
    {
        "content": "<p>so... It seems we need <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> and/or <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> magjic to get these DICOM codeSystems and valueSets available to the FHIR core build.</p>",
        "id": 262479242,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637685035
    },
    {
        "content": "<p>I am noticing that there is a codesystem-dicom-dcim.xml in the FHIR core build under source/codesystem<br>\nis this right? Or is this getting in the way?</p>",
        "id": 262484064,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637687256
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>&lt;CodeSystem xmlns=&quot;http://hl7.org/fhir&quot;&gt;\n  &lt;id value=&quot;dicom-dcim&quot;/&gt;\n  &lt;url value=&quot;http://dicom.nema.org/resources/ontology/DCM&quot;/&gt;\n  &lt;identifier&gt;\n    &lt;system value=&quot;urn:ietf:rfc:3986&quot;/&gt;\n    &lt;value value=&quot;urn:oid:1.2.840.10008.2.16.4&quot;/&gt;\n  &lt;/identifier&gt;\n  &lt;version value=&quot;01&quot;/&gt;\n  &lt;name value=&quot;DICOM Controlled Terminology Definitions&quot;/&gt;\n  &lt;status value=&quot;active&quot;/&gt;\n  &lt;date value=&quot;2015-04-20&quot;/&gt;\n  &lt;publisher value=&quot;NEMA/DICOM&quot;/&gt;\n...\n</code></pre></div>",
        "id": 262484388,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637687403
    },
    {
        "content": "<p>I can build after removing this xml, reference to html from terminologies-system.html, and fhir.ini explicit build of this codesystem... BUT canonical URI to dicom, are still seen as HTML pages and not calls for a canonical URI of a ValueSet.</p>",
        "id": 262489926,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637689685
    },
    {
        "content": "<p>Note the following ValueSets are used in FHIR core<br>\n      &lt;valueSet value=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_404.html\"/&gt;<br>\n      &lt;valueSet value=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_401.html\"/&gt;<br>\n      &lt;valueSet value=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_403.html\"/&gt;<br>\n      &lt;valueSet value=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_400.html\"/&gt;<br>\n      &lt;valueSet value=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_405.html\"/&gt;<br>\n        &lt;valueSet value=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_7010.html\"/&gt;<br>\n        &lt;valueSet value=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part04/sect_B.5.html#table_B.5-1\"/&gt;<br>\n        &lt;valueSet value=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_33.html\"/&gt;<br>\n        &lt;valueSet value=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_244.html\"/&gt;<br>\n      &lt;valueSet value=\"<a href=\"http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_402.html\">http://dicom.nema.org/medical/dicom/current/output/chtml/part16/sect_CID_402.html</a>\" /&gt;</p>",
        "id": 262502032,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637695708
    },
    {
        "content": "<p>what exactly does 'not finding the dicom codes' mean? What's the specific error message?</p>",
        "id": 262530377,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637711294
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> you described the new release as 2021e, but when I look in the dcm.owl file, I see </p>\n<p><code>    &lt;owl:versionInfo&gt;2021d_20210910&lt;/owl:versionInfo&gt;  </code></p>",
        "id": 262536573,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637716977
    },
    {
        "content": "<p>I look to me like the OWL file wasn't updated, but the files in the valuesets directory have been updated.</p>",
        "id": 262546766,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1637729966
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/262536573\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"193145\">David Clunie</span> you described the new release as 2021e, but when I look in the dcm.owl file, I see </p>\n<p><code>    &lt;owl:versionInfo&gt;2021d_20210910&lt;/owl:versionInfo&gt;  </code></p>\n</blockquote>\n<p>Fixed.</p>",
        "id": 262584630,
        "sender_full_name": "David Clunie",
        "timestamp": 1637758816
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/262489926\">said</a>:</p>\n<blockquote>\n<p>I can build after removing this xml, reference to html from terminologies-system.html, and fhir.ini explicit build of this codesystem... BUT canonical URI to dicom, are still seen as HTML pages and not calls for a canonical URI of a ValueSet.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I did not say code is not found. I said the ValueSet is not.  Every place where a DICOM canonical URI (which has .html at the end) is used; it seems to me that the FHIR core presumes this is just a web page and not a canonical URI to a ValueSet.</p>",
        "id": 262588024,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637760550
    },
    {
        "content": "<p>This is why I posted all of the dicom ValueSets that FHIR core calls for, each of them are not brought into the FHIR core build as a valueSet, but rather as a browser link.</p>",
        "id": 262590022,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637761593
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> updated Dicom package is now published.</p>",
        "id": 262629784,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637781089
    },
    {
        "content": "<blockquote>\n<p>it seems to me that the FHIR core presumes this is just a web page and not a canonical URI to a ValueSet.</p>\n</blockquote>\n<p>not at all. What's' the actual error?</p>",
        "id": 262629808,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637781110
    },
    {
        "content": "<p>there is not a build error. there is just the resulting html publication that does not include ValueSets, but directs a user to the dicom web site.</p>",
        "id": 262629882,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637781152
    },
    {
        "content": "<p>for example on ImagingStudy for laterality<br>\n<a href=\"http://build.fhir.org/imagingstudy-definitions.html#ImagingStudy.series.laterality\">http://build.fhir.org/imagingstudy-definitions.html#ImagingStudy.series.laterality</a></p>",
        "id": 262630015,
        "sender_full_name": "John Moehrke",
        "timestamp": 1637781246
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> any progress on this?</p>",
        "id": 263348681,
        "sender_full_name": "John Moehrke",
        "timestamp": 1638388494
    },
    {
        "content": "<p>hey <span class=\"user-mention\" data-user-id=\"193145\">@David Clunie</span> I just got this:</p>\n<blockquote>\n<p>Dear DICOM Community,</p>\n<p>The 2021e release of the DICOM standard is now available from the NEMA site:</p>\n<p><a href=\"http://www.dicomstandard.org/current/\">http://www.dicomstandard.org/current/</a></p>\n</blockquote>\n<p>This is what I already processed, right?</p>",
        "id": 264611431,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639298086
    },
    {
        "content": "<p>Yes</p>",
        "id": 264619118,
        "sender_full_name": "David Clunie",
        "timestamp": 1639310067
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  How can the 2021e release be used? The fhir.dicom package in packages2 still contains the version 2021d_20210910 (Sept not Nov version).</p>",
        "id": 264821366,
        "sender_full_name": "Diana_Ovelgoenne",
        "timestamp": 1639467479
    },
    {
        "content": "<p>somehow the release process missed updating the critical file, so I just did it by hand - should start working now</p>",
        "id": 265767291,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1640150237
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/259911794\">said</a>:</p>\n<blockquote>\n<p>it should automatically be in <a href=\"http://registry.fhir.org\">registry.fhir.org</a></p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"259036\">@Matthijs van der Wielen</span> <br>\n<a href=\"/user_uploads/10155/Td1WLZ02JKB_JMuzYBYJbGOR/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Td1WLZ02JKB_JMuzYBYJbGOR/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/Td1WLZ02JKB_JMuzYBYJbGOR/image.png\"></a></div><p>For now, I will refer people to &lt;<a href=\"https://fhir.org/packages/fhir.dicom/\">https://fhir.org/packages/fhir.dicom/</a>&gt;</p>",
        "id": 267425551,
        "sender_full_name": "David Simons",
        "timestamp": 1641813349
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194580\">@David Simons</span> I assume the issue is that <a href=\"http://fhir.org/packages/package-feed.xml\">the package feed</a> lists the FHIR version for <code>fhir.dicom</code> as <code>&lt;fhir:version&gt;current&lt;/fhir:version&gt;</code>, which is different from the FHIR version in the <code>package.json</code> and probably generally an invalid version? cc <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 267468104,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1641834241
    },
    {
        "content": "<p>(Yes, we're working on making the output from the package importer public/mailing it)</p>",
        "id": 267470399,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1641835344
    },
    {
        "content": "<p>a small typo <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  (2021 -&gt; 2022) on <a href=\"http://fhir.org/packages/fhir.dicom/\">http://fhir.org/packages/fhir.dicom/</a></p>\n<p>2022.1.20220124: First release for 202<strong>2</strong>a (2022-01-24)</p>",
        "id": 273219636,
        "sender_full_name": "David Simons",
        "timestamp": 1645790212
    },
    {
        "content": "<p>PS: Why is this fhir.dicom managed separately from <code>https://github.com/FHIR/packages/tree/master/packages/fhir.tx.support.r4/package</code> ?<br>\n(under \\packages\\packages\\fhir.dicom now)</p>",
        "id": 273232715,
        "sender_full_name": "David Simons",
        "timestamp": 1645798173
    },
    {
        "content": "<p>because fhir.dicom is generated from the dicom sources, so there's no version control over the content</p>",
        "id": 273278651,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645819783
    },
    {
        "content": "<p>fixed thanks</p>",
        "id": 273582873,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646101290
    },
    {
        "content": "<p>ok, this is what I now see (one release, earlier three)</p>\n<p><a href=\"/user_uploads/10155/6YuuchE4D8MC1ar-HEtEZxKR/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/6YuuchE4D8MC1ar-HEtEZxKR/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/6YuuchE4D8MC1ar-HEtEZxKR/image.png\"></a></div>",
        "id": 274527918,
        "sender_full_name": "David Simons",
        "timestamp": 1646738729
    },
    {
        "content": "<p>And getting a HL7 Validator warning on the ValueSet-all.json</p>\n<div class=\"codehilite\"><pre><span></span><code>     vsd-0: &#39;Name should be usable as an identifier for the module by machine processing applications such as code generation&#39; Rule &#39;Name should be usable as an identifier for the module by machine processing applications such as code generation&#39; Failed\n</code></pre></div>\n<p>Recommending to remove the _space_ in the name on the DCM ValueSet</p>\n<div class=\"codehilite\"><pre><span></span><code>    &lt;url value=&quot;http://dicom.nema.org/resources/ValueSet/all&quot; /&gt;\n    &lt;version value=&quot;2022.1.20220124&quot; /&gt;\n    &lt;name value=&quot;All DICOMTerminologyDefinitions&quot; /&gt;\n    &lt;title value=&quot;All DICOM Controlled Terminology Definitions&quot; /&gt;\n</code></pre></div>",
        "id": 274612822,
        "sender_full_name": "David Simons",
        "timestamp": 1646776383
    },
    {
        "content": "<p>fixed</p>",
        "id": 275328755,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1647318513
    },
    {
        "content": "<p>Additional question: is it worthwhile to include the DICOM tables like <code>https://dicom.nema.org/medical/dicom/current/output/chtml/part16/chapter_L.html#table_L-1</code>? <br>\nAs a ValueSet+ConceptMap?</p>\n<p>E.g. to do a lookup from <code>DICOM Body Part Examined (0018,0015) String =  \"KNEE\"</code> to <code>SNOMED-CT code = 72696002</code> .</p>\n<p>I don't think these are available as DICOM FHIR artifacts, yet, right?</p>",
        "id": 278716548,
        "sender_full_name": "David Simons",
        "timestamp": 1649780478
    }
]