[
    {
        "content": "<p>I don't understand part #2 of the <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13730\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13730\">GF#13730</a>. Why iterate supplements in the value set? is the server supposed to ignore supplements if the value set doesn't use them?</p>",
        "id": 153925417,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513302108
    },
    {
        "content": "<p>I believe I understand the intent of part #2: \"Also add an extension on ValueSet called \"usesSupplement 0..* Reference(CodeSystem)\" with a textual constraint indicating that the referenced CodeSystem must supplement one of the code systems used in defining the value set.\"  The intent, I think is to declare that the the value set is using the specified code system supplements when generating expansions (that part wasn't stated).  A supplement, as defined here, wouldn't have any use other than in a expansion.  So probably that should actually be part of ExpansionProfile (rather than an extension on ValueSet itself)?</p>",
        "id": 153925430,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1513304048
    },
    {
        "content": "<p>well, that ducks my original question: shouldn't the server just use the supplement when it implements the code system? why should the value set have to say something about that?</p>",
        "id": 153925446,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513309326
    },
    {
        "content": "<p>Supplements can add properties and ValueSets can filter based on those properties.  Value Sets can also make use of display names defined by supplements.</p>",
        "id": 153925452,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513312187
    },
    {
        "content": "<p>For example, Canada has a code system extension on LOINC that adds a boolean \"orderable\" flag to the codes.  We then define a value set of Orderable lab codes that include all LOINC codes where that flag is true (plus codes from a supplemental code system).</p>",
        "id": 153925453,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513312248
    },
    {
        "content": "<p>there's 2 different questions here; does value set expansion use code system supplements if the value set doesn't mention them? and can a value set nominate it's dependency on value sets</p>",
        "id": 153925461,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513313868
    },
    {
        "content": "<p>I wouldn't expect value set expansion to make use of code system supplements if the value set doesn't mention them, though I guess that could be handled through expansion configuration.  A value set can certainly indicate its dependency on supplements (I presume that's what you're asking).  The author of the value set would know what supplements were relevant - and an authoring tool would presumably only allow the use of a supplement's properties if the use of the supplement were declared</p>",
        "id": 153925466,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513314623
    },
    {
        "content": "<p>well, I don't see why a value set has to declare that it uses a language pack in order for it to be used in an expansion</p>",
        "id": 153925467,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513314736
    },
    {
        "content": "<p>If the value set includes display names drawn from a supplement, declaring the supplement would be appropriate.  If it uses properties from the expansion, declaring the supplement is essential. If an expansion just wants to use names from a supplement, then that should be in the ExpansionProfile and wouldn't need to be in the ValueSet</p>",
        "id": 153925469,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513314980
    },
    {
        "content": "<p>or it could be in several other places that tell the tx server that you want a language that was provided from the supplement.</p>",
        "id": 153925470,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513315059
    },
    {
        "content": "<p>so I'm still not seeing what the definition associated with the value set list of supplements is - this value set expects you to have this supplement, and you should not process it if you don't. Or, you only use the supplements if the value set says so. From a tx server point of view, I strongly prefer the first</p>",
        "id": 153925471,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513315125
    },
    {
        "content": "<p>Definitely the first</p>",
        "id": 153925476,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513315760
    },
    {
        "content": "<p>Essentially it's saying \"this value set <em>depends</em> on the supplement\" - so good luck understanding it/expanding it if you don't have the supplement</p>",
        "id": 153925477,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1513315815
    },
    {
        "content": "<p>What Lloyd said about \"Supplements can add properties and ValueSets can filter based on those properties\" is a primary example of where the value set <strong>depends</strong> on the supplemement and declaring the supplement would be required, as the supplement is actually used in the value set definition (CLD).</p>",
        "id": 153925538,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1513357182
    },
    {
        "content": "<p>ok I'm fine with that - I just have to write some documentation</p>",
        "id": 153925559,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513368304
    },
    {
        "content": "<p>done</p>",
        "id": 153925566,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1513369027
    },
    {
        "content": "<p>ok, here's a little test code system supplement to help people:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n    <span class=\"nt\">&quot;resourceType&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;CodeSystem&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;id&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;meta&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;versionId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;lastUpdated&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2017-12-28T06:53:07Z&quot;</span>\n    <span class=\"p\">},</span>\n    <span class=\"nt\">&quot;language&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;de&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/bundle-type-de&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;version&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;3.2.0&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;BundleTypeGerman&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;status&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;draft&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;experimental&quot;</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2017-12-21T16:40:38+11:00&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;publisher&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;HL7 (FHIR Project)&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;description&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;German Translations for Bundle Type&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;content&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;supplement&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;supplements&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;reference&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/bundle-type&quot;</span>\n    <span class=\"p\">},</span>\n    <span class=\"nt\">&quot;concept&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;document&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Dokument&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;message&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Nachricht&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;transaction&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Transaktion&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;transaction-response&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Transaktionsantwort&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;batch&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Stapel&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;batch-response&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Batch-Antwort&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;history&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Verlaufsliste&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;searchset&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Suchergebnisse&quot;</span>\n        <span class=\"p\">},</span>\n        <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;collection&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Sammlung&quot;</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre></div>",
        "id": 153927096,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1514444206
    },
    {
        "content": "<p>This makes a difference to this expand operation:</p>",
        "id": 153927097,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1514444218
    },
    {
        "content": "<p>GET [base]/ValueSet/bundle-type/$expand?displayLanguage=de</p>",
        "id": 153927098,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1514444236
    },
    {
        "content": "<p>a couple of questions:</p>",
        "id": 153927114,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1514454013
    },
    {
        "content": "<ul>\n<li>can a supplement change the value of a property? or just add new properties? or new values for properties? </li>\n<li>can a supplement change the heirarchy?</li>\n</ul>",
        "id": 153927115,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1514454072
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191982\">@Ted Klein</span> <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> maybe these are good for discussion in tomorrow's vocab call?</p>",
        "id": 153927117,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1514454096
    },
    {
        "content": "<p>Supplements can't change anything in a code system - including properties and relationships.  All they can do is define new properties, relationships and display names.  (And typically, if defining new relationships it'll be relationships to other code systems, though I suppose you could supplement a code system to define the \"obvious\" hierarchy in a code system that didn't bother to do so.)</p>",
        "id": 153927151,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1514472239
    },
    {
        "content": "<p>new properties = new values on already define properties?</p>",
        "id": 153927183,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1514495943
    },
    {
        "content": "<p>Typically new properties entirely.  New values on properties already defined by the code system would be dicey as you're treading on turf where an update to the base code system could create a conflict with the supplement.  So my leaning would be to say \"no\".  If you had to, the supplement could define a parallel property with a similar meaning.</p>",
        "id": 153927327,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1514565357
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> your example changes the URL for the CodeSystem doesn't it?</p>",
        "id": 153928075,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1515467754
    },
    {
        "content": "<p>the supplement has a URL of it's own, but it adds to the URL that is supplements.</p>",
        "id": 153928076,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1515467875
    },
    {
        "content": "<p>So the supplement's url no longer identifies the code system, but instead identifies the supplement?  Does this apply to all the other similar fields - name, version, status, caseSensitive, compositional, valueSet, etc?</p>",
        "id": 153928077,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1515468217
    },
    {
        "content": "<p>Which URL would be used in the $expand result?</p>",
        "id": 153928078,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1515468344
    },
    {
        "content": "<p>the supplement's URL identifies the supplement. caseSensitive and compositional have no meaning - they can only repeat what the base code system says. same for value set.</p>",
        "id": 153928079,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1515468429
    },
    {
        "content": "<p>the base code system URL would be used in the $expand result</p>",
        "id": 153928080,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1515468440
    },
    {
        "content": "<p>I notice also that the value of supplements.reference does not resolve to a Resource, so it is not a valid reference (<a href=\"http://build.fhir.org/references.html#literal\" target=\"_blank\" title=\"http://build.fhir.org/references.html#literal\">http://build.fhir.org/references.html#literal</a>)</p>",
        "id": 153928081,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1515468748
    },
    {
        "content": "<p>umm, why?</p>",
        "id": 153928087,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1515470837
    },
    {
        "content": "<p>From the above link:</p>\n<blockquote>\n<p>Whether or not the reference is to a FHIR RESTful server, the reference SHALL point to a Resource as defined by this specification</p>\n</blockquote>",
        "id": 153928191,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1515548603
    },
    {
        "content": "<p>The link in your example (<a href=\"http://hl7.org/fhir/bundle-type\" target=\"_blank\" title=\"http://hl7.org/fhir/bundle-type\">http://hl7.org/fhir/bundle-type</a>) resolves to an HTML web page</p>",
        "id": 153928192,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1515548785
    },
    {
        "content": "<p>Hah. Not if you try with the right accept header</p>",
        "id": 153928201,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1515553531
    },
    {
        "content": "<p>Having played with Grahame's example, I was left wondering how one might discover that any given Code System is supplemented by another. It's possible to search for Code Systems that have content mode of 'supplement' and request all the Code Systems that another system supplements, but there doesn't appear to be a property within a Code System resource that indicates that it's referenced by supplements. Might it be useful to add a property, or content mode value, for this use case - or am I missing something.</p>",
        "id": 153928951,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1516059590
    },
    {
        "content": "<p>Code systems generally don't know what supplements exist.  They may not even like the fact that supplements exist.  As with most things in FHIR, we only point one way - from supplement to code system.  That allows you to do all the searching you need.  We don't want bi-directional references</p>",
        "id": 153928974,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1516063830
    },
    {
        "content": "<p>Nice to know that Code Systems have feelings. <span class=\"emoji emoji-2764\" title=\"heart\">:heart:</span></p>",
        "id": 153928979,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1516065132
    },
    {
        "content": "<p>Well, perhaps it's more the feelings of the responsible organization.  But those <em>definitely</em> have feelings and opinions :)</p>",
        "id": 153928981,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1516065454
    },
    {
        "content": "<p>Why do we need CodeSystem.supplements to do translations?  Is it not sufficient to just use the existing ValueSet mechanism?<br>\nThat is, given a ValueSet, A, that picks some codes from the CodeSystem <a href=\"http://hl7.org/fhir/bundle-type\" target=\"_blank\" title=\"http://hl7.org/fhir/bundle-type\">http://hl7.org/fhir/bundle-type</a>, and a ValueSet DE that adds in German display text for each code in <a href=\"http://hl7.org/fhir/bundle-type\" target=\"_blank\" title=\"http://hl7.org/fhir/bundle-type\">http://hl7.org/fhir/bundle-type</a> (ie DE contains the translation), then can I not define a ValueSet A_DE that is the intersection of A and DE and behaves as desired?</p>",
        "id": 153929065,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1516107603
    },
    {
        "content": "<p>You want supplements to do translations because you want the translations to be available in a wide variety of value sets.  You can't define a value set against a value set.</p>",
        "id": 153929110,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1516131876
    },
    {
        "content": "<p>If you do an intersection of two value sets, it's not clear what set of display names you'd end up with.</p>",
        "id": 153929111,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1516131930
    },
    {
        "content": "<p>It probably should be clear, regardless of what happens with supplements</p>",
        "id": 153929177,
        "sender_full_name": "Jim Steel",
        "timestamp": 1516171576
    },
    {
        "content": "<p>Indeed, lack of clarity about how to manage overlapping display/designation information in the face of valueset intersection and exclusion is an issue that needs resolving regardless of supplements.<br>\nIf we do this carefully, then a \"translation ValueSet\" would seem to satisfy the translation use-case obviate the need for supplements to support this.  It would also leave the ValueSet author much more in control of what happens, whereas supplements subvert that control which I find very disconcerting.</p>",
        "id": 153933131,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1517266293
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span> I don't see why you want to use a value set to do this translation stuff unless the translation is specific to the value set use. In that case I'd say we have different concepts in play because the meaning of the concept should be the same independent of the language used to describe it. I'd like to see the examples that prove that is wrong, then think about how to solve that problem.</p>",
        "id": 153934366,
        "sender_full_name": "Robert McClure",
        "timestamp": 1517430704
    },
    {
        "content": "<p>I'm yet to be convinced about the need for supplements, and certainly it is currently very under-specified (I cannot implement it with any chance of being consistent with others).  So, because I believe that the requirement for language packs is apparently satisfiable using existing machinery - ValueSets - I'm pushing to understand what the other use-cases for supplements might be.<br>\nFrom the definition (<a href=\"http://build.fhir.org/codesystem-definitions.html#CodeSystem.supplements\" target=\"_blank\" title=\"http://build.fhir.org/codesystem-definitions.html#CodeSystem.supplements\">http://build.fhir.org/codesystem-definitions.html#CodeSystem.supplements</a>), it would seem to be adding properties.  I don't buy this for things like billing amounts (since they are time-variable and dependent on the context, not properties <em>of</em> the code), but I can envisage people (mis-)using supplements as a mechanism for this.  What are the real use cases?</p>",
        "id": 153934443,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1517442286
    },
    {
        "content": "<p>Canada adds a property a whole bunch (thousands) of LOINC codes indicating that they are \"orderable\".  We define multiple value sets on the basis of that property.</p>",
        "id": 153934455,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1517455301
    },
    {
        "content": "<p>Another use-case off the top of my head: flagging certain drug codes as \"controlled\" in a particular jurisdiction if you don't want the overhead of having a Medication instance for every code</p>",
        "id": 153934456,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1517455511
    },
    {
        "content": "<p>ValueSets doesn't work for Language packs</p>",
        "id": 153934480,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517484792
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> How does this work when your terminology server spans jurisdictions?</p>",
        "id": 153934902,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1517531959
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> What am I missing? Can't you use a new ValueSet to mix in the base ValueSet definition with the translation ValueSet?</p>",
        "id": 153934903,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1517532093
    },
    {
        "content": "<p>a value set defines designations for use with the value set</p>",
        "id": 153934906,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517532500
    },
    {
        "content": "<p>And if ValueSet A is imported / included in ValueSet B, are those designations not also then used by ValueSet B?</p>",
        "id": 153934914,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1517535381
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span> I don't really understand the question.  Your terminology server would host whatever supplements it chooses from whatever jurisdictions choose to post them.  Australia might have a different supplement and propose different orderable codes.  Or they might choose to adopt the Canadian one but define their own value sets.  What's the issue?</p>",
        "id": 153934918,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1517536227
    },
    {
        "content": "<p>I'm running a terminology server that hosts content from multiple jurisdictions.  Canada has a supplement for LOINC for property \"orderable\" and Australia has a different supplement for LOINC also specifying an \"orderable\" property. However, as I understand things, both supplements will affect the LOINC code system and create a mess.</p>",
        "id": 153934921,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1517538620
    },
    {
        "content": "<p>Neither will affect the LOINC code system in any way</p>",
        "id": 153934922,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1517539335
    },
    {
        "content": "<p>Value Sets can be created that leverage one or the other (or maybe both) and filter based on the properties they declare.</p>",
        "id": 153934923,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1517539358
    },
    {
        "content": "<p>So if I have the following ValueSet definition, will its expansions be affected by either or both of the supplements?  I don't see how a ValueSet can opt-in/out of using a given supplement.</p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;resourceType&quot;: &quot;ValueSet&quot;,\n  &quot;url&quot;: &quot;urn:loinc-orderables&quot;,\n  &quot;name&quot;: &quot;LOINC AU Orderables&quot;,\n  &quot;status&quot;: &quot;draft&quot;,\n  &quot;compose&quot;: {\n    &quot;include&quot;: [{\n        &quot;filter&quot;: [{\n            &quot;property&quot;: &quot;orderable&quot;,\n            &quot;op&quot;: &quot;=&quot;,\n            &quot;value&quot;: &quot;true&quot;\n          }],\n        &quot;system&quot;: &quot;http://loinc.org&quot;\n      }]\n  }\n}\n</pre></div>",
        "id": 153934925,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1517545669
    },
    {
        "content": "<p>My understanding is that it's been agreed that we'll add a \"usesSupplement\" element of type Relationship&lt;CodeSystem&gt; 0..*.  I know Grahame has accepted this.  It's essential to allow value sets to be dependent on supplement properties.</p>",
        "id": 153934932,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1517550988
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> , I'm much happier about this approach.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> is this documented anywhere yet?</p>",
        "id": 153935384,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1517872736
    },
    {
        "content": "<p>no. on my list for this week. note, though, that if you define a supplement that defines designations for a language, and then request displays in that language in an expansion (profile) parameter, then the designations should be available, irrespective of whether the value set names the supplement. Also, supplement information should be available when doing $lookup</p>",
        "id": 153935387,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517872965
    },
    {
        "content": "<p>Thanks.  Is there a mechanism for $lookup to indicate the source of its result information in case it comes from a supplement?</p>",
        "id": 153935403,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1517877002
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span> I don't believe we have a mechanism (outside of extension space) to flag information that is being returned from a supplement, but it seems like that may be important to know and we probably should have a way to do it.</p>",
        "id": 153935411,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1517881259
    },
    {
        "content": "<p>I don't know either, and it's something I'll be investigating</p>",
        "id": 153935433,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1517888376
    },
    {
        "content": "<p>I documented fragments and supplements. Once built, see <a href=\"http://build.fhir.org/codesystem.html#fragment\" target=\"_blank\" title=\"http://build.fhir.org/codesystem.html#fragment\">http://build.fhir.org/codesystem.html#fragment</a></p>",
        "id": 153938187,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1518785095
    }
]