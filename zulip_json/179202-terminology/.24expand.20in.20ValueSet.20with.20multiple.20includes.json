[
    {
        "content": "<p>What should the server behaviour be when expanding a ValueSet that has multiple imports, but the server doesn't have access to all the code systems? The issue arose with the Argonaut procedure code ValueSet (<a href=\"http://hl7.org/fhir/us/core/ValueSet/us-core-procedure-code\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/ValueSet/us-core-procedure-code\">http://hl7.org/fhir/us/core/ValueSet/us-core-procedure-code</a>) which has both SNOMED &amp; CPT codes. If the Terminology sever cannot expand CPT, but can expand SNOMED, then currently the whole expansion fails . (with Ontoserver at least)</p>",
        "id": 153973421,
        "sender_full_name": "David Hay",
        "timestamp": 1530732477
    },
    {
        "content": "<p>I think that behavior is correct.</p>",
        "id": 153973426,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1530733492
    },
    {
        "content": "<p>Yes, that would be right.  From $expand documentation (4.8.1.1):</p>\n<blockquote>\n<p>When a server cannot correctly expand a value set because it does not fully understand the code systems (e.g. it has the wrong version, or incomplete definitions) then it SHALL return an error. If the value set itself is unbounded due to the inclusion of post-coordinated value sets (e.g. SNOMED CT, UCUM), then the extension <a href=\"http://hl7.org/fhir/StructureDefinition/valueset-unclosed\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/valueset-unclosed\">http://hl7.org/fhir/StructureDefinition/valueset-unclosed</a> can be used to indicate that the expansion is incomplete</p>\n</blockquote>",
        "id": 153973427,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1530733825
    },
    {
        "content": "<p>it's on my task list to add CPT support. I've resolved the licensing issues (thanks AMA) but haven't done the work yet</p>",
        "id": 153973434,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530734404
    },
    {
        "content": "<p>I had wondered whether the client supplying <code>limitedExpansion=true</code> would allow the server to omit code systems it couldn't process, but 4.8.1.1 seems pretty clear that it can't</p>",
        "id": 153973437,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1530734571
    },
    {
        "content": "<p>and limitedExpansion will be removed.</p>",
        "id": 153973440,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1530734665
    },
    {
        "content": "<blockquote>\n<p>limitedExpansion will be removed</p>\n</blockquote>",
        "id": 153973442,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530734744
    },
    {
        "content": "<p>uh, why?</p>",
        "id": 153973443,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530734747
    },
    {
        "content": "<p><a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=16449&amp;start=0\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=16449&amp;start=0\">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=16449&amp;start=0</a></p>",
        "id": 153973445,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1530734793
    },
    {
        "content": "<p>ah yes thx</p>",
        "id": 153973446,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530734952
    },
    {
        "content": "<p>So does that mean that other server (like Ontoserver) will be able to expand CPT?</p>",
        "id": 153973461,
        "sender_full_name": "David Hay",
        "timestamp": 1530738826
    },
    {
        "content": "<p>I believe that depends on whether the license terms are amenable generally and <span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span>  chooses to implement it?</p>",
        "id": 153973462,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1530739105
    },
    {
        "content": "<p>well, the license terms partly depend on what you're going do with it</p>",
        "id": 153973463,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530739151
    }
]