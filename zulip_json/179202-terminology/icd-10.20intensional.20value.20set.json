[
    {
        "content": "<p>What does it take to get FHIR to support intensional ICD-10 constructs like C37.x - C41.x and  M32.x - M34.x?  Charlson comorbidity index is defined by ranges such as <code>Dementia: F00.x - F03.x, F05.1, G30.x, G31.1</code></p>",
        "id": 249698484,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1629194741
    },
    {
        "content": "<p>hmm. it would take (a) us to agree what the filter is and (b) me to implement it</p>",
        "id": 249698546,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629194767
    },
    {
        "content": "<p>concept under F00-F03</p>",
        "id": 249698987,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1629195123
    },
    {
        "content": "<p>For a code system like ICD-10 I would use a regex filter:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span> <span class=\"s2\">\"ValueSet\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"urn:icd-range-example\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"title\"</span><span class=\"p\">:</span> <span class=\"s2\">\"ICD range\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"ICD_range\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"description\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Charlson comorbidity index is defined by ranges such as Dementia: F00.x - F03.x, F05.1, G30.x, G31.1\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"status\"</span><span class=\"p\">:</span> <span class=\"s2\">\"draft\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"compose\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"include\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">\"filter\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"op\"</span><span class=\"p\">:</span> <span class=\"s2\">\"regex\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"s2\">\"F0[0123][0-9]*\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"property\"</span><span class=\"p\">:</span> <span class=\"s2\">\"concept\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/sid/icd-10\"</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">\"concept\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"F051\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"display\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Delirium superimposed on dementia\"</span>\n          <span class=\"p\">},</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"G311\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"display\"</span><span class=\"p\">:</span> <span class=\"s2\">\"Senile degeneration of brain, not elsewhere classified\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/sid/icd-10\"</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">\"filter\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">\"property\"</span><span class=\"p\">:</span> <span class=\"s2\">\"concept\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"op\"</span><span class=\"p\">:</span> <span class=\"s2\">\"regex\"</span><span class=\"p\">,</span>\n            <span class=\"nt\">\"value\"</span><span class=\"p\">:</span> <span class=\"s2\">\"G30[0-9]*\"</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">\"system\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/sid/icd-10\"</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>",
        "id": 249706636,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1629200908
    }
]