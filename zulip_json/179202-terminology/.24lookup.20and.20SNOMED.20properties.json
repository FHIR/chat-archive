[
    {
        "content": "<p>When returning subproperties as part of a <code>$lookup</code> on a SNOMED CT code, what should the value of <code>property.code</code> be?<br>\nFor example:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"property\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"code\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"?????\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"subproperty\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"code\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"363698007\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"valueCode\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"66754008\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 273016405,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1645653243
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> <span class=\"user-mention\" data-user-id=\"191364\">@Peter Jordan</span> <span class=\"user-mention\" data-user-id=\"192993\">@Peter Williams</span> <span class=\"user-mention\" data-user-id=\"192855\">@Kai Kewley</span> <br>\nThoughts?</p>",
        "id": 273198691,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1645776289
    },
    {
        "content": "<p>370130000    ?</p>",
        "id": 273275979,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1645818299
    },
    {
        "content": "<p>I'm obviously missing something - it doesn't seem to me that <code>\"code\": \"?????\",</code> belongs here?</p>",
        "id": 273282899,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1645821948
    },
    {
        "content": "<p>Apologies, that was a rushed mockup. This is what I should have posted:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"property\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"code\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"????\"</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"subproperty\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"code\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"363698007\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"valueCode\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"66754008\"</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 273293438,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1645828181
    },
    {
        "content": "<p>I was thinking 609096000 |Role group|, but it doesn't exist in older versions of SNOMED CT</p>",
        "id": 273293724,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1645828284
    },
    {
        "content": "<p>Yes, that looks better. :). Do we actually need the 'valueCode' in this case?  Its value doesn't seem to have any particular utility - if it did I expect we would already know what it should be.</p>",
        "id": 273294107,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1645828515
    },
    {
        "content": "<p>Ah, yes, but there is inv-1.</p>",
        "id": 273294215,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1645828578
    },
    {
        "content": "<p>Maybe Peter's suggestion of 370130000 |Property (attribute)| could work?</p>",
        "id": 273294661,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1645828910
    },
    {
        "content": "<p>there should be a code so you know what kind of property this is - in this cases, a snomed group</p>",
        "id": 273303647,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645835097
    },
    {
        "content": "<p>If the property is a Role Group, and the sub-property attribute name-value pairs, where does one place the Role Group value.   BTW 609096000 |Role group|  is approaching it's 9th Birthday - do we have to worry about versions older than that?</p>",
        "id": 273307134,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1645838579
    },
    {
        "content": "<p>The \"value\" of the role group is the collection of subproperties.</p>",
        "id": 273315074,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1645847123
    },
    {
        "content": "<p>We could just assert it for SNOMED on FHIR.  But I have other code systems to worry about (dm+d) that do not have such a named property.  Instead they just have multiple property groups. For example this three-ingredient medication, <code>3408311000001102 | Generic Migraleve Pink tablets |</code>:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code>    <span class=\"nt\">&lt;VPI&gt;</span>\n      <span class=\"nt\">&lt;VPID&gt;</span>3408311000001102<span class=\"nt\">&lt;/VPID&gt;</span>\n      <span class=\"nt\">&lt;ISID&gt;</span>126102009<span class=\"nt\">&lt;/ISID&gt;</span>\n      <span class=\"nt\">&lt;BASIS_STRNTCD&gt;</span>0001<span class=\"nt\">&lt;/BASIS_STRNTCD&gt;</span>\n      <span class=\"nt\">&lt;STRNT_NMRTR_VAL&gt;</span>1<span class=\"nt\">&lt;/STRNT_NMRTR_VAL&gt;</span>\n      <span class=\"nt\">&lt;STRNT_NMRTR_UOMCD&gt;</span>258684004<span class=\"nt\">&lt;/STRNT_NMRTR_UOMCD&gt;</span>\n    <span class=\"nt\">&lt;/VPI&gt;</span>\n    <span class=\"nt\">&lt;VPI&gt;</span>\n      <span class=\"nt\">&lt;VPID&gt;</span>3546911000001102<span class=\"nt\">&lt;/VPID&gt;</span>\n      <span class=\"nt\">&lt;ISID&gt;</span>1956002<span class=\"nt\">&lt;/ISID&gt;</span>\n      <span class=\"nt\">&lt;BASIS_STRNTCD&gt;</span>0001<span class=\"nt\">&lt;/BASIS_STRNTCD&gt;</span>\n      <span class=\"nt\">&lt;STRNT_NMRTR_VAL&gt;</span>6.25<span class=\"nt\">&lt;/STRNT_NMRTR_VAL&gt;</span>\n      <span class=\"nt\">&lt;STRNT_NMRTR_UOMCD&gt;</span>258684004<span class=\"nt\">&lt;/STRNT_NMRTR_UOMCD&gt;</span>\n    <span class=\"nt\">&lt;/VPI&gt;</span>\n    <span class=\"nt\">&lt;VPI&gt;</span>\n      <span class=\"nt\">&lt;VPID&gt;</span>3546911000001102<span class=\"nt\">&lt;/VPID&gt;</span>\n      <span class=\"nt\">&lt;ISID&gt;</span>387517004<span class=\"nt\">&lt;/ISID&gt;</span>\n      <span class=\"nt\">&lt;BASIS_STRNTCD&gt;</span>0001<span class=\"nt\">&lt;/BASIS_STRNTCD&gt;</span>\n      <span class=\"nt\">&lt;STRNT_NMRTR_VAL&gt;</span>500<span class=\"nt\">&lt;/STRNT_NMRTR_VAL&gt;</span>\n      <span class=\"nt\">&lt;STRNT_NMRTR_UOMCD&gt;</span>258684004<span class=\"nt\">&lt;/STRNT_NMRTR_UOMCD&gt;</span>\n    <span class=\"nt\">&lt;/VPI&gt;</span>\n    <span class=\"nt\">&lt;VPI&gt;</span>\n      <span class=\"nt\">&lt;VPID&gt;</span>3546911000001102<span class=\"nt\">&lt;/VPID&gt;</span>\n      <span class=\"nt\">&lt;ISID&gt;</span>261000<span class=\"nt\">&lt;/ISID&gt;</span>\n      <span class=\"nt\">&lt;BASIS_STRNTCD&gt;</span>0001<span class=\"nt\">&lt;/BASIS_STRNTCD&gt;</span>\n      <span class=\"nt\">&lt;STRNT_NMRTR_VAL&gt;</span>8<span class=\"nt\">&lt;/STRNT_NMRTR_VAL&gt;</span>\n      <span class=\"nt\">&lt;STRNT_NMRTR_UOMCD&gt;</span>258684004<span class=\"nt\">&lt;/STRNT_NMRTR_UOMCD&gt;</span>\n    <span class=\"nt\">&lt;/VPI&gt;</span>\n</code></pre></div>",
        "id": 273316752,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1645849393
    },
    {
        "content": "<p>but in each case, you need a code at the property level to say that this property is a grouper for the sub-properties. This is something that will properly be done in the code system definition (though I think it can only be narrative right now)</p>",
        "id": 273584170,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646102594
    },
    {
        "content": "<p>Yes, there is no way for a CodeSystem to define subproperties.  We have two extensions in Ontosever for this purpose. One is boolean-valued and attaches to the <code>CodeSystem.property</code> to indicate that it is a subproperty, and the other (string-valued) attaches to <code>CodeSystem.concept.property</code> to indicate how they group together (i.e., just like SNOMED RF2's role group value, but without the special case handling of 0).</p>",
        "id": 273587400,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1646106158
    },
    {
        "content": "<p>We opted _not_ to add a complex extension to <code>CodeSystem.property</code> that attempted to emulate a <code>CodeSystem.property.subproperty</code> element because we would have no sensible value for <code>CodeSystem.property.type</code> (which is 1..1) and we don't even have a value for <code>CodeSystem.property.code</code> (as per this thread).</p>",
        "id": 273587568,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1646106386
    },
    {
        "content": "<p>perhaps we should consider adding this to the base resource</p>",
        "id": 273590207,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646109357
    },
    {
        "content": "<p>Something like: <code>CodeSystem.property.subproperty</code> (boolean 0..1) and <code>CodeSystem.concept.property.group</code> (string 0..1) ?</p>",
        "id": 273591150,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1646110450
    },
    {
        "content": "<p>And assuming that we can make <code>property.code</code> optional in the <code>$lookup</code> output.</p>",
        "id": 273591211,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1646110524
    },
    {
        "content": "<p>Note, the Extensions I referred to are not yet in production.  If there's appetite to get this into the base CodeSystem resource then I have maybe a two week window to change things and use R5 extension URIs instead so I'm keen to know how others feel.</p>",
        "id": 273606402,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1646124299
    },
    {
        "content": "<p>we won't act that quickly. And you'll have to change whatever you do if we add it to R5</p>",
        "id": 273630445,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646136575
    },
    {
        "content": "<p>I still don't see why we'd make property.code optional</p>",
        "id": 273630471,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646136590
    },
    {
        "content": "<p>No, I didn't expect the actual changes, just what the appetite is and which way the wind is blowing so I can attempt to future-proof things.</p>",
        "id": 273746056,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1646189245
    },
    {
        "content": "<p>Regarding whether <code>property.code</code> should be optional, I think we first need consensus on how subproperty is supposed to work.</p>\n<p>In <a href=\"#narrow/stream/179202-terminology/topic/Inconsistency.20of.20.24lookup.20properties.20from.20various.20servers\">https://chat.fhir.org/#narrow/stream/179202-terminology/topic/Inconsistency.20of.20.24lookup.20properties.20from.20various.20servers</a> I've documented some variations I've seen, but I think a key question is whether the option A or option B approach is on the right track for how nested properties from SNOMED should be handled, or is there an option C?</p>\n<p>Option A:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">[{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"property\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"code\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"363698007\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"value\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"66754008\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"description\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Appendix structure\"</span><span class=\"w\"> </span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"subproperty\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"code\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"relationshipGroup\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"value\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"1\"</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"p\">},</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"property\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"code\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"116676008\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"value\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"409774005\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"description\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Inflammatory morphology\"</span><span class=\"w\"> </span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"subproperty\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"code\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"relationshipGroup\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"value\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"1\"</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"p\">}]</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Option B:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"property\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"code\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"609096000\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"description\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Role group\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"relationshipGroup\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueInteger\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"subproperty\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"code\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"363698007\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"value\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"66754008\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"description\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Appendix structure\"</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"subproperty\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"part\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"code\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"116676008\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"value\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueCode\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"409774005\"</span><span class=\"p\">},</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"description\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Inflammatory morphology\"</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 273747480,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1646190150
    }
]