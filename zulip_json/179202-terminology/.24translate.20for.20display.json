[
    {
        "content": "<p>Hi, I am exploring the fhir mapping language which uses concept map to translate codes from one system to another, the $translate operation seems to work fine for code but it does not pull the display which limits the translation I guess. Is it intentional or is there a work around for this?<br>\n<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> , any help is appreciated!</p>\n<p>My Fhir mapping snippet:<br>\ngroup ProcessVacCC(source src, target tgt) {<br>\n  src.coding as sc  -&gt; tgt.coding  = translate(sc, '<a href=\"http://hl7.org/fhir/ConceptMap/CmapTest\">http://hl7.org/fhir/ConceptMap/CmapTest</a>');<br>\n}</p>\n<p>My ConceptMap <br>\n\"group\": [<br>\n    {<br>\n      \"source\": \"<a href=\"http://fkcfhir.org/fhir/cs/IntCode\">http://fkcfhir.org/fhir/cs/IntCode</a>\",<br>\n      \"target\": \"<a href=\"http://hl7.org/fhir/sid/cvx\">http://hl7.org/fhir/sid/cvx</a>\",<br>\n      \"element\": [<br>\n        {<br>\n          \"code\": \"IMed_Moderna1\",<br>\n          \"display\": \"COVID-19 Vaccine-Moderna (Dose 1 of 2)\",<br>\n          \"target\": [<br>\n            {<br>\n              \"code\": \"207\",<br>\n              \"display\": \"COVID-19, mRNA, LNP-S, PF, 100, mcg/0.5 mL dose\",<br>\n              \"equivalence\": \"equivalent\"<br>\n            }<br>\n          ]<br>\n        }<br>\n      ]</p>\n<p>Expected Output:<br>\n&lt;vaccineCode&gt;<br>\n&lt;coding&gt;<br>\n&lt;system value=\"http://hl7.org/fhir/sid/cvx\"/&gt;<br>\n&lt;code value=\"207\"/&gt;<br>\n&lt;display value=\"COVID-19, mRNA, LNP-S, PF, 100, mcg/0.5 mL dose\"/&gt;<br>\n&lt;/coding&gt;<br>\n&lt;/vaccineCode&gt;</p>\n<p>But only getting (no display being returned by $translate)<br>\n&lt;vaccineCode&gt;<br>\n&lt;coding&gt;<br>\n&lt;system value=\"http://hl7.org/fhir/sid/cvx\"/&gt;<br>\n&lt;code value=\"207\"/&gt;<br>\n&lt;/coding&gt;<br>\n&lt;/vaccineCode&gt;</p>\n<p>My expectation was that since the concept map captures source and target code &amp; display the translate should return display (when provided) that would help in transformations to be complete.</p>",
        "id": 239682736,
        "sender_full_name": "ravi.kuchi",
        "timestamp": 1621559454
    }
]