[
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13232\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13232\">GF#13232</a> proposes to reduce the size of expansions in the spec. The current method is that when the build tool asks for an expansion, it tells the server that it wants up to a 1000 codes. if the server returns an expansion with the correct extension, then the build tool adds a note that the expansion is incomplete. </p>\n<p>the task proposes reducing that number down... to 20. Which is too far. Any opinions here?</p>",
        "id": 153983377,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533675525
    },
    {
        "content": "<p>I assume that this is excluding any that are bound to a code type (required binding), and thus a target for code generators?</p>",
        "id": 153983385,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1533676430
    },
    {
        "content": "<p>there's none of them that are very long. but some are over 20.</p>",
        "id": 153983386,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533676450
    },
    {
        "content": "<p>Its been such a good reference source for many of the v2/v3 lists too, and more of them will be truncated.<br>\nLanguage lists...</p>",
        "id": 153983388,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1533676562
    },
    {
        "content": "<p>Maybe there could be a link to the full list (or up to some limit), if the shorter list on the page is truncated?</p>",
        "id": 153983389,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1533676574
    },
    {
        "content": "<p>if I'm going to generate the full set, i might as well just generate it in the page.</p>",
        "id": 153983393,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533676658
    },
    {
        "content": "<p>here's a list of value sets with more than &gt;100 codes and less than &lt;2000 codes, which is actually the current limit:</p>",
        "id": 153983394,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533676683
    },
    {
        "content": "<p>reason-medication-status-codes  120<br>\nresource-types  142<br>\naudit-entity-type   146<br>\nroute-codes 150<br>\nsecurity-labels 200<br>\ndefined-types   205<br>\nall-types   207<br>\nrelatedperson-relationshiptype  244<br>\nspdx-license    346<br>\ncurrencies  356<br>\nprocedure-not-performed-reason  485<br>\niso3166-1-N 498<br>\niso3166-1-3 498<br>\nmedia-view  552<br>\nmedication-form-codes   704<br>\ndevice-action   888<br>\nreferencerange-appliesto    924<br>\nperformer-role  988<br>\npractitioner-role   1000<br>\nallergyintolerance-code 1000<br>\nservice-type    1192<br>\nnutrient-code   1398<br>\njurisdiction    1552</p>",
        "id": 153983395,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533676692
    },
    {
        "content": "<p>1,000 is better than the 10,000 that it was in DSTU2 right?</p>",
        "id": 153983396,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1533676711
    },
    {
        "content": "<p>not sure. it turns out that there's 2 paths for generating expansion... the internal path is not length limited, and generates one expansion longer than 2000 codes: <a href=\"http://build.fhir.org/valueset-use-context.html\" target=\"_blank\" title=\"http://build.fhir.org/valueset-use-context.html\">http://build.fhir.org/valueset-use-context.html</a></p>",
        "id": 153983398,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533676787
    },
    {
        "content": "<p>.. because the expansion is screwed up. I'll have to investigate that one</p>",
        "id": 153983400,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533676858
    },
    {
        "content": "<p>That's not a huge list of them anyway right?</p>",
        "id": 153983401,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1533676878
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17635\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17635\">GF#17635</a></p>",
        "id": 153983403,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533676984
    },
    {
        "content": "<p>I think 2000 stands up to scrutiny.</p>",
        "id": 153983404,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533677021
    },
    {
        "content": "<p>Truncating the expansion for value sets such as resource-types and security-labels seems disadvantageous.</p>",
        "id": 153983417,
        "sender_full_name": "Joel Schneider",
        "timestamp": 1533678468
    },
    {
        "content": "<p>here's the ones we do truncate:</p>",
        "id": 153983418,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533678499
    },
    {
        "content": "<p>condition-stage-type<br>\nencounter-reason<br>\nsubstance-code<br>\ncondition-code<br>\ncondition-outcome<br>\nquestionnaire-questions<br>\nmedication-as-needed-reason<br>\nreport-codes<br>\nsupply-item<br>\ndiagnostic-based-on-snomed<br>\nprocedure-reason<br>\nmanifestation-or-symptom<br>\nprocedure-code<br>\nobservation-methods<br>\nbody-site<br>\nbodystructure-code<br>\ncondition-stage<br>\nadverse-event-type<br>\nconsent-content-code<br>\nflag-code<br>\nmedication-codes<br>\nclinical-findings<br>\nobservation-codes<br>\ndoc-typecodes<br>\napproach-site-codes<br>\ndevice-kind<br>\nfood-type<br>\nparticipant-role</p>",
        "id": 153983419,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533678500
    },
    {
        "content": "<p>some of them are very large indeed</p>",
        "id": 153983420,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533678506
    },
    {
        "content": "<p>I think it might make sense to truncate to a smaller number than 1000 (or 2000), but 20 is definitely too small - given what I see in the list maybe 250 would be reasonable?  I think that 1000 is more than anyone can really get much out of, but there's not a huge downside to having it that way, either, so I don't care that much about whether we change it (could be not persuasive?).</p>",
        "id": 153983423,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1533679387
    },
    {
        "content": "<p>so that would mean that the following value sets are truncated:</p>",
        "id": 153983425,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533680909
    },
    {
        "content": "<p>v3-AmericanIndianAlaskaNativeLanguages<br>\nv3-ServiceDeliveryLocationRoleType<br>\nv3-ActRelationshipType<br>\nv3-EntityCode<br>\nv2-0003<br>\nv3-ObservationMethod<br>\nv2-0487<br>\nv3-orderableDrugForm<br>\nspdx-license<br>\ncurrencies<br>\nv2-0550<br>\nprocedure-not-performed-reason<br>\niso3166-1-N<br>\niso3166-1-3<br>\nmedia-view<br>\nv3-ActReason<br>\nv3-TribalEntityUS<br>\nmedication-form-codes<br>\nv3-RouteOfAdministration<br>\nv3-RoleCode<br>\ndevice-action<br>\nv3-Race<br>\nreferencerange-appliesto<br>\nperformer-role<br>\npractitioner-role<br>\nallergyintolerance-code<br>\nservice-type<br>\nnutrient-code<br>\nv3-HumanLanguage<br>\njurisdiction</p>",
        "id": 153983426,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533680910
    },
    {
        "content": "<p>at least some of these, this is the only source I know of</p>",
        "id": 153983427,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533680922
    },
    {
        "content": "<p>not - updated list includes v2/v3 codes that I didn't collect stats on originally. trucnated v3/v3 expansions:<br>\nv3-ActCode<br>\nv3-DocumentSectionType<br>\nv3-ObservationType</p>",
        "id": 153983429,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533680994
    },
    {
        "content": "<p>Along the lines of what I said earlier, if it's going to cause more pain to truncate some of these (as appears to be the case) then it would be better to leave it as it is.</p>",
        "id": 153983432,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1533681293
    },
    {
        "content": "<p>so some of those numbers are out by a factor of 2... I had a bad bug in my expansion algorithm</p>",
        "id": 153983610,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533726727
    },
    {
        "content": "<p>ok - should help to fix that, then</p>",
        "id": 153983641,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1533735601
    },
    {
        "content": "<p>based on this discussion  - i can withdraw.  Seems the effort is not worth it and i was only really talking about huge expansions base on intential definitions any way (eg, all of Snomed)</p>",
        "id": 153983725,
        "sender_full_name": "Eric Haas",
        "timestamp": 1533748693
    },
    {
        "content": "<p>ok I updated the task</p>",
        "id": 153983783,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533758698
    },
    {
        "content": "<p>thanks</p>",
        "id": 153983784,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1533758704
    }
]