[
    {
        "content": "<p>Does expansion also apply to extensionally defined valuesets?</p>",
        "id": 242798159,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1623790410
    },
    {
        "content": "<p>I don't think it makes sense (does it?), but I wonder if there is any rule against it</p>",
        "id": 242798476,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1623790560
    },
    {
        "content": "<blockquote>\n<p>Does extension also apply to extensionally defined valuesets</p>\n</blockquote>\n<p>What's 'extension' in that sentence?</p>",
        "id": 242800182,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1623791376
    },
    {
        "content": "<p>Expansion</p>",
        "id": 242801405,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1623791994
    },
    {
        "content": "<p>(sorry, I already took my meds. perhaps i took too much - it's a nice vintage, so the dosage is in metric but I served it imperially <span aria-label=\"silence\" class=\"emoji emoji-1f910\" role=\"img\" title=\"silence\">:silence:</span> )</p>",
        "id": 242801620,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1623792117
    },
    {
        "content": "<p>sure it does. why wouldn't it? </p>\n<p>There are some extension value sets that cannot have a complete expansion</p>",
        "id": 242802718,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1623792764
    },
    {
        "content": "<p>ok,  if they are defined by extension* the $expand operation expands them anyway, I presume<br>\n(*by extension / by extent)</p>",
        "id": 242803117,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1623793019
    },
    {
        "content": "<p>what would be the case for something that cannot have a complete expansion and is defined only extensionally? In that case, the expansion would be the same as the definition, right?</p>",
        "id": 242803347,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1623793186
    },
    {
        "content": "<p>attempts to expand these result in an error, though there is a way to ask for an incomplete expansion and the server may choose to do so, and there's an extension to mark incomplete expansions</p>",
        "id": 242804019,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1623793575
    },
    {
        "content": "<p>meanwhile I checked what the IG publisher does . <br>\nIt does expand those as well (and removes the definition altogether, only keeping the expansion). I guess that is a deliberate choice to leave only expansions, which works well for my purposes.</p>",
        "id": 242804483,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1623793878
    },
    {
        "content": "<p>it certainly should not do that. where are you looking?</p>",
        "id": 242804590,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1623793932
    },
    {
        "content": "<p>Oh you must be looking in the specially prepared expansions set?</p>",
        "id": 242804637,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1623793963
    },
    {
        "content": "<p>yes, that is where I was looking at</p>",
        "id": 242808856,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1623796963
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets/near/242798159\">said</a>:</p>\n<blockquote>\n<p>Does expansion also apply to extensionally defined valuesets?</p>\n</blockquote>\n<p>Perhaps you are just viewing this from an IG perspective?  For ad-hoc requests, filtered expansions of extensional ValueSets  are a commonplace.</p>",
        "id": 242816159,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1623802851
    },
    {
        "content": "<p>Right. I was assuming an all-or-nothing because my valuesets were quite small and specific (and indeed for the IG).</p>",
        "id": 242841819,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1623829949
    },
    {
        "content": "<p>It probably also depends on how you are defining the extension of your ValueSet, i.e. in <code>compose.include.concept</code> or in <code>expansion.contains</code>. Personally I think the former is a much better way of doing it, but I suspect others will disagree.</p>",
        "id": 242954320,
        "sender_full_name": "Jim Steel",
        "timestamp": 1623884622
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191376\">@Jim Steel</span> It is my understanding that nothing should be in an expansion that is not defined as belonging in the compose. If someone feels differently I'd like to hear why and how. I strongly dislike \"naked\" expansion value sets and suggest no one use them. Hopefully for R5 we will provide base profiles similar to the cpg value set profiles that make creation of \"expansion only\" value sets clearer. None-the-less, any expansion only has to have a value set compose avaialble someplace, and follow the rules noted and must declare use of any extension.</p>",
        "id": 242954988,
        "sender_full_name": "Robert McClure",
        "timestamp": 1623885158
    }
]