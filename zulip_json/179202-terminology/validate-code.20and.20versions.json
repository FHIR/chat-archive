[
    {
        "content": "<p>This is a follow-on from <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> 's comment here <a href=\"#narrow/stream/179167-hapi/topic/Using.20ValueSet.2Ecompose.20instead.20of.20ValueSet.2Eexpansion/near/175383132\" title=\"#narrow/stream/179167-hapi/topic/Using.20ValueSet.2Ecompose.20instead.20of.20ValueSet.2Eexpansion/near/175383132\">https://chat.fhir.org/#narrow/stream/179167-hapi/topic/Using.20ValueSet.2Ecompose.20instead.20of.20ValueSet.2Eexpansion/near/175383132</a></p>\n<p>For a CodeSystem where concept permanence holds, how should <code>$validate-code</code> behave in the presence of code system versions?</p>",
        "id": 179773655,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1572833836
    },
    {
        "content": "<p>can you be more specific?</p>",
        "id": 179816812,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1572859334
    },
    {
        "content": "<p>Some examples:</p>\n<ol>\n<li>Coding has version '3', but Tx server only knows about version '5'.</li>\n<li>Coding has version '4', but Tx server only knows about version '2'</li>\n<li>Coding has version '3', but Tx server only knows about versions '4' &amp; '5', code was not defined in version '4', but is in '5'</li>\n<li>Coding has version '4', but Tx server only knows about version '2', display doesn't match the display in '2'</li>\n</ol>",
        "id": 179836004,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1572876508
    },
    {
        "content": "<ol start=\"5\">\n<li>Coding has version '4', but Tx server only knows about version '5', code was made inactive in '5' and 'replaced by' another code, 'B', 'B' is in the ValueSet</li>\n</ol>",
        "id": 179836136,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1572876603
    },
    {
        "content": "<p>Version labels won't necessarily have an order that is known to the terminology server, so cases 1 and 2 are likely to be indistinguishable.</p>",
        "id": 179836615,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1572876961
    },
    {
        "content": "<p>I don't think that we have a formal agreed answer to this question. It would ordinarirly be a question for the steward of the code system. Which is not the scope of your question, I understand. </p>\n<p>Personally, for a code system with concept permanance, I'd us the latest version, and put a warning about that in the validation responses</p>",
        "id": 179867534,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1572896354
    },
    {
        "content": "<p>Hmm, we're a little more conservative; if you specify a version then we go for a match. Otherwise we use the latest (if there's an ordering on the version strings)</p>",
        "id": 179884177,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1572906657
    },
    {
        "content": "<p>I can understand that. but I think in the end it 's a combination of steward and organization that decides</p>",
        "id": 179899508,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1572925753
    }
]