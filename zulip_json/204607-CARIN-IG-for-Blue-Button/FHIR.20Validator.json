[
    {
        "content": "<p>We've started to run our eob's through the FHIR validator jar, and on a lark, I applied the validator to the EOBOutpatientInstitutional1 example json provided with the IG.  The validator returned numerous errors. (see attached <a href=\"/user_uploads/10155/FCA5KXBRBLq2taTCpUve8JCo/carin-op-output-1.html\">carin-op-output-1.html</a> ).<br>\nShould we expect the examples to pass validation or are the examples to be accepted as more general guides?</p>",
        "id": 219207436,
        "sender_full_name": "jason chow",
        "timestamp": 1607435099
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"330020\">@jason chow</span> <br>\nThe examples should and do pass validation -- see <a href=\"http://hl7.org/fhir/us/carin-bb/qa.html#C__temp_hl7.fhir.us.carin-bb_1.0.0-milestone_input_examples_ExplanationOfBenefit-EOBOutpatientInstitutional1\">http://hl7.org/fhir/us/carin-bb/qa.html#C__temp_hl7.fhir.us.carin-bb_1.0.0-milestone_input_examples_ExplanationOfBenefit-EOBOutpatientInstitutional1</a>. </p>\n<p>The two errors are known issues with terminology resolution.   All of the remaining errors were reviewed by the FMG along with my excuses.</p>\n<p>I think you have something else going on with your validation attempts.</p>",
        "id": 219251165,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1607455954
    },
    {
        "content": "<p>Are you using the latest validator? <a href=\"https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator\">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator</a></p>\n<p>The validator gives you line number, should be somewhat clear if the issues are valid or not.</p>",
        "id": 219354355,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1607528823
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"246928\">@josh lamb</span> <br>\nYes.  Current version.<br>\nWhat is throwing me for a loop is using the ExplanationOfBenefit-EOBOutpatientInstitutional1.json example (downloaded from the IG's examples) and feeding it to the validator with the uri for the outpatient profile produces 25 errors. (output <a href=\"/user_uploads/10155/JnIkziGDyClPzyhLepbOcAXT/carin-eob-outpatient-validation.html\">carin-eob-outpatient-validation.html</a> attached)<br>\nWhile it does include line and column numbers, when the error message says:<br>\n\"Error @ ExplanationOfBenefit (line 1, col2) : ExplanationOfBenefit.diagnosis: minimum required = 1, but only found 0 (from <a href=\"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Outpatient-Institutional\">http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Outpatient-Institutional</a>)\"<br>\nI can't deduce what the problem is; because, line 1 col2 is the newline after the opening curly bracket.<br>\nWhat's even more confusing is that the profile json does indeed have a diagnosis property with a principal diagnosis element in it.</p>\n<p>example command:<br>\njava -jar validator_cli.jar ExplanationOfBenefit-EOBOutpatientInstitutional1.json -version 1.0.0 -ig <a href=\"http://build.fhir.org/ig/HL7/carin-bb\">http://build.fhir.org/ig/HL7/carin-bb</a> -profile <a href=\"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Outpatient-Institutional\">http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-ExplanationOfBenefit-Outpatient-Institutional</a> -html-output carin-eob-outpatient-validation.html</p>",
        "id": 219478347,
        "sender_full_name": "jason chow",
        "timestamp": 1607610360
    },
    {
        "content": "<p>Not that it should make much difference, but:  the IG is published, so I'm not sure you need the -ig, and if you do need the -ig, it should point to the published location -- <a href=\"http://hl7.org/fhir/us/carin-bb/STU1/\">http://hl7.org/fhir/us/carin-bb/STU1/</a> or <a href=\"http://hl7.org/fhir/us/carin-bb\">http://hl7.org/fhir/us/carin-bb</a> .   I don't think you need to specify the -profile.   The documentation says it is preferable to pull in the set of profiles using the -ig flag (as necessary).</p>",
        "id": 219481444,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1607611629
    },
    {
        "content": "<p>Hi Jason,</p>\n<p>Something else may be going on. My validation results are different than yours. </p>\n<p>Here is the command I am running (latest validator): <br>\njava -jar validator_cli.jar ......\\OutpatientEOB.json -ig <a href=\"http://hl7.org/fhir/us/carin-bb/\">http://hl7.org/fhir/us/carin-bb/</a> -output Result.json</p>\n<p>Here is the output I receive: <br>\n<a href=\"/user_uploads/10155/AKfy_Bs3AThtgwdAIldGW6nA/Results.json\">Results.json</a> </p>\n<p>There are validation issues, but they are specific to the terminologies. The validator is having issues resolving some of the codes we use in CARIN IG.</p>",
        "id": 219481865,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1607611804
    },
    {
        "content": "<p>The error's in Josh's output are precisely those found validating the examples as part of the IG.   They are expected given the current capabilities of the terminology services.</p>",
        "id": 219482297,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1607612029
    },
    {
        "content": "<p>Thanks for helping me out.<br>\nUsing that command i got the same result.  <br>\nWhere did you pull the URI for the IG from?  I didn't see an obvious URI for the published profile on the profile main page or the published profiles page.  Did you copy the link address of the latest profile?</p>",
        "id": 219486784,
        "sender_full_name": "jason chow",
        "timestamp": 1607613849
    },
    {
        "content": "<p>Others may be more sophisticated, but I just visit the website for the IG I want to validate against, and remove the \"index.html\" portion. So for CARIN IG the STU1 version is available here: <a href=\"http://hl7.org/fhir/us/carin-bb/index.html\">http://hl7.org/fhir/us/carin-bb/index.html</a></p>",
        "id": 219488133,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1607614327
    },
    {
        "content": "<p>I see.  I was grabbing the continuous build rather than the published version.</p>",
        "id": 219493533,
        "sender_full_name": "jason chow",
        "timestamp": 1607616474
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"330020\">@jason chow</span> - the canonical URL for this IG is <a href=\"http://hl7.org/fhir/us/carin-bb\">http://hl7.org/fhir/us/carin-bb</a> .   Using that gets you the most recent <em>published</em> version.  Until recently, this was the STU balloted version.  When the IG was published it because the STU1.   Each publication event has a fixed URL that is immutable over time.   <br>\n<a href=\"http://hl7.org/fhir/us/carin-bb/STU1\">http://hl7.org/fhir/us/carin-bb/STU1</a> will forever reference the version that was initially published as STU1.    <a href=\"http://hl7.org/fhir/us/carin-bb/2020Feb/\">http://hl7.org/fhir/us/carin-bb/2020Feb/</a> will forever reference the balloted version of the IG.</p>",
        "id": 219512430,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1607624306
    },
    {
        "content": "<p>Thanks Saul.  I see if you go to the <a href=\"http://fhir.org\">fhir.org</a> guide registry the link to the CARIN for BB link points to the canonical URL.</p>",
        "id": 219513776,
        "sender_full_name": "jason chow",
        "timestamp": 1607624911
    }
]