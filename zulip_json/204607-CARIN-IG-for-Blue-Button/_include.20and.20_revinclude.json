[
    {
        "content": "<p>It does not seem <em>_include</em> and <em>_revinclude</em> are implemented. Do they?<br>\nE.g., simple search: <br>\n<em>[base]/Patient?_id=&lt;...&gt;&amp;_revinclude=Coverage:beneficiary</em><br>\n<em>[base]/Patient?_id=&lt;...&gt;&amp;_revinclude:iterate=Coverage:patient</em><br>\nreturn only the Patient resource. Am I missing something?</p>",
        "id": 211370651,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1601141429
    },
    {
        "content": "<p>[Base]/ExplanationOfBenefit?Patient=Patient/123&amp;_include=...</p>\n<p>The entry point will be EOB. Search is defined within context of EOB too.</p>",
        "id": 211410940,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1601204543
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246928\">josh lamb</span> <a href=\"#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/_include.20and.20_revinclude/near/211410940\">said</a>:</p>\n<blockquote>\n<p>[Base]/ExplanationOfBenefit?Patient=Patient/123&amp;_include=...</p>\n<p>The entry point will be EOB. Search is defined within context of EOB too.</p>\n</blockquote>\n<p>The EOB as the entry point does not make a big sense due to pagination. Since the order is not defined, the Patient resource may be the last entry in the Bundle requiring to retrieve all bundles.</p>",
        "id": 212108268,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1601661762
    },
    {
        "content": "<p>Included resources are on each page</p>",
        "id": 212109510,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1601662498
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/_include.20and.20_revinclude/near/212109510\">said</a>:</p>\n<blockquote>\n<p>Included resources are on each page</p>\n</blockquote>\n<p>Is there or what is the sandbox URL to try? My experience tells that _(rev)include does not work.</p>",
        "id": 212110236,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1601662902
    },
    {
        "content": "<p>You can try ours: <a href=\"https://fhir.careevolution.com/Master.Adapter1.WebClient/fhir\">https://fhir.careevolution.com/Master.Adapter1.WebClient/fhir</a> - pretty sure includes work there</p>",
        "id": 212110829,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1601663247
    },
    {
        "content": "<p>(and yes, in my experience _include is rarely supported, so our client does not use it at all)</p>",
        "id": 212111022,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1601663360
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span> what does your experience say about the prevalence of support for forward/reverse chaining?</p>",
        "id": 212111465,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1601663604
    },
    {
        "content": "<p>None of the server we connect to support chaining.</p>",
        "id": 212111912,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1601663858
    },
    {
        "content": "<p>So, we scratch our heads and think deep thoughts about how clients will use include/revinclude and chaining to build wonderful queries and build these requirements into capability statements, but in practice these are unsupported.   Fascinating and demoralizing.   Thx.</p>",
        "id": 212118803,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1601667402
    },
    {
        "content": "<p>I tried to point out this in the past with limited success</p>",
        "id": 212120017,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1601668048
    },
    {
        "content": "<p>Are there other FHIR search features that are rarely supported?</p>",
        "id": 212121310,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1601668757
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/_include.20and.20_revinclude/near/212109510\">said</a>:</p>\n<blockquote>\n<p>Included resources are on each page</p>\n</blockquote>\n<p>Btw, this is not obvious. Where does this rule come from?<br>\n_(rev)include may affect the totalResults but I don't remember I've ever seen that it should/shall be present in every Bundle page.</p>",
        "id": 212121581,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1601668862
    },
    {
        "content": "<p>I don't think it's as bad as that. Google Cloud would like to sell you a managed FHIR service that supports include/revinclude and forward/reverse chaining. We also have some competitors with similar functionality. Build solid conformance tests, keep the regulatory pressure on, and everyone will get on the same page eventually whether they build or buy.</p>",
        "id": 212121625,
        "sender_full_name": "Paul Church",
        "timestamp": 1601668882
    },
    {
        "content": "<p>Also we forgot to ask around about what features are rarely supported so we ended up implementing some pretty obscure stuff. <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span></p>",
        "id": 212121736,
        "sender_full_name": "Paul Church",
        "timestamp": 1601668925
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> : see the (excellent) Cerner server documentation at <a href=\"https://fhir.cerner.com/millennium/r4/\">https://fhir.cerner.com/millennium/r4/</a> to get an idea of what a typical server implements</p>",
        "id": 212122021,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1601669072
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192195\">@Shamil</span> : comes from <a href=\"http://hl7.org/fhir/search.html#include\">http://hl7.org/fhir/search.html#include</a>: 'When search results are paged, each page of search results should include the matching includes for the resources in each page, so that each page stands alone as a coherent package.'</p>",
        "id": 212122324,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1601669222
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197072\">@Paul Church</span> oh yes, there are server that support more functionality, but they do not contain any data - or you need to put the data _into_ them to begin with. The server that are interesting to connect to are the one that sits on top of existing data: EHR vendors, CMS, VA, payers (hopefully)</p>",
        "id": 212122693,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1601669395
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191912\">Michele Mottini</span> <a href=\"#narrow/stream/204607-CARIN-IG.20for.20Blue.20Button.C2.AE/topic/_include.20and.20_revinclude/near/212122324\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"192195\">Shamil</span> : comes from <a href=\"http://hl7.org/fhir/search.html#include\">http://hl7.org/fhir/search.html#include</a>: 'When search results are paged, each page of search results should include the matching includes for the resources in each page, so that each page stands alone as a coherent package.'</p>\n</blockquote>\n<p>Got it.</p>",
        "id": 212122771,
        "sender_full_name": "Shamil Nizamov",
        "timestamp": 1601669424
    },
    {
        "content": "<blockquote>\n<p>So, we scratch our heads and think deep thoughts about how clients will use include/revinclude and chaining to build wonderful queries and build these requirements into capability statements, but in practice these are unsupported. Fascinating and demoralizing. Thx.</p>\n</blockquote>\n<p>I mean, lack of support is one issue (and the most important). But client sophistication is another; it makes sense to start on the low end of the complexity scale for a bunch of reasons.</p>",
        "id": 212124025,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1601670067
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> , <span class=\"user-mention\" data-user-id=\"246928\">@Josh Lamb</span>  - For C4BB-EOB is \"_include=*\" invalid syntax to include all supported resources?  I recently noticed within the C4BB Capability statement it's represented as:<br>\nExplanationOfBenefit:* - GET [base]/ExplanationOfBenefit?[parameter=value]&amp;_include=ExplanationOfBenefit:*</p>\n<p>cc: <span class=\"user-mention\" data-user-id=\"217850\">@Kate Dech</span> , <span class=\"user-mention\" data-user-id=\"270256\">@Bapi Behera</span></p>",
        "id": 225883530,
        "sender_full_name": "Mona O",
        "timestamp": 1612981197
    },
    {
        "content": "<p>Yes, <code>_include=*</code> is not valid FHIR: 'Both _include and _revinclude use the wild card \"*\" for the _search parameter name_' (from <a href=\"http://hl7.org/fhir/search.html#include\">http://hl7.org/fhir/search.html#include</a>)</p>",
        "id": 225885221,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1612981908
    },
    {
        "content": "<p>To add on to what Michele states here, _include and _revinclude has 3 parts. The first two are required and are 1) the the name of the source resource and 2) the search parameter. The 3rd, which is optional, is a resource type in case the client only wants references of a certain type returned in the event that the reference may have more than one type.<br>\nThis means for the C4BB EOB, the proper syntax is \"...&amp;_include=ExplanationOfBenefit:*\" to get all referenced resources the matching EOBs refer to.</p>",
        "id": 225890696,
        "sender_full_name": "Corey Spears",
        "timestamp": 1612983954
    },
    {
        "content": "<p>Support for include * is required. ExplanationOfBenefit:*</p>",
        "id": 225986977,
        "sender_full_name": "Josh Lamb",
        "timestamp": 1613049120
    }
]