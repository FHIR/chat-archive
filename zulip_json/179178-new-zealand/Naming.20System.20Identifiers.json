[
    {
        "content": "<p>Regarding the Naming System Identifiers for NZ National Health Index (NHI) and Health Provider Index (HPI) Numbers, the current proposal is still to use the following...</p>\n<p>NHI (patient)...<code>http://nhi.health.nz</code><br>\nHPI-CPN (common practitioner number)...<code>http://hpi-cpn.health.nz</code><br>\nHPI-FAC (healthcare facility identifier)...<code>http://hpi-fac.health.nz</code><br>\nHPI-ORG (healthcare organization number)...<code>http://hpi-org.health.nz</code></p>\n<p>Since these were first mooted, about a year ago, we have had no significant pushback and it's getting close to the time when we need to ballot their use among HL7 NZ members and seek approval from HISO. I met with the Health Identity Team yesterday and they appeared to be happy with them.</p>",
        "id": 153885409,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1492736464
    },
    {
        "content": "<p>Thanks Peter - Let's propose these to HISO next month. Any more? (since we're on a roll...)</p>",
        "id": 153885410,
        "sender_full_name": "David Hay",
        "timestamp": 1492737240
    },
    {
        "content": "<p>Can't think of any more Naming System Identifiers that we need asap - but do you have any candidates for urgently-required extensions to the patient resource, notably patient-ethnicity, patient-iwi and patient-hapu?  Following the process suggested in your recent Blog entry, it might be that another domain has already created one for ethnicity, but Hapu and Iwi are probably unique to NZ.</p>",
        "id": 153885413,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1492738312
    },
    {
        "content": "<p>good idea - I'll ask around. We may as well to hapu/iwi since we'll need that at some point. And same for ethnicity I guess...</p>",
        "id": 153885414,
        "sender_full_name": "David Hay",
        "timestamp": 1492739404
    },
    {
        "content": "<p>At first glance, the proposed identifier URIs look different to conventions used elsewhere.</p>\n<p>For many other identifiers defined by an entity, the domain represents the entity and the path the type of identifier. For example, HL7 International uses <a href=\"http://hl7.org\" target=\"_blank\" title=\"http://hl7.org\">http://hl7.org</a> as the domain for all identifiers.</p>\n<p>With that in mind an alternative might look like:</p>\n<p><a href=\"http://health.nz/fhir/nhi\" target=\"_blank\" title=\"http://health.nz/fhir/nhi\">http://health.nz/fhir/nhi</a><br>\n<a href=\"http://health.nz/fhir/hpi-cpn\" target=\"_blank\" title=\"http://health.nz/fhir/hpi-cpn\">http://health.nz/fhir/hpi-cpn</a><br>\n<a href=\"http://health.nz/fhir/hpi-fac\" target=\"_blank\" title=\"http://health.nz/fhir/hpi-fac\">http://health.nz/fhir/hpi-fac</a><br>\n<a href=\"http://health.nz/fhir/hpi-org\" target=\"_blank\" title=\"http://health.nz/fhir/hpi-org\">http://health.nz/fhir/hpi-org</a></p>\n<p>Potentially even using /hpi/ as a path parameter to identify that these identifiers are part of the HPI.</p>\n<p><a href=\"http://health.nz/fhir/nhi\" target=\"_blank\" title=\"http://health.nz/fhir/nhi\">http://health.nz/fhir/nhi</a><br>\n<a href=\"http://health.nz/fhir/hpi/cpn\" target=\"_blank\" title=\"http://health.nz/fhir/hpi/cpn\">http://health.nz/fhir/hpi/cpn</a><br>\n<a href=\"http://health.nz/fhir/hpi/fac\" target=\"_blank\" title=\"http://health.nz/fhir/hpi/fac\">http://health.nz/fhir/hpi/fac</a><br>\n<a href=\"http://health.nz/fhir/hpi/org\" target=\"_blank\" title=\"http://health.nz/fhir/hpi/org\">http://health.nz/fhir/hpi/org</a></p>\n<p><a href=\"http://health.nz\" target=\"_blank\" title=\"http://health.nz\">health.nz</a> is the base domain owned by the MoH according to <a href=\"https://www.dnc.org.nz/health-nz\" target=\"_blank\" title=\"https://www.dnc.org.nz/health-nz\">https://www.dnc.org.nz/health-nz</a>, so perhaps <a href=\"http://hiso.health.nz\" target=\"_blank\" title=\"http://hiso.health.nz\">hiso.health.nz</a> would be a better domain.</p>\n<p><a href=\"http://hiso.health.nz/fhir/nhi\" target=\"_blank\" title=\"http://hiso.health.nz/fhir/nhi\">http://hiso.health.nz/fhir/nhi</a><br>\n<a href=\"http://hiso.health.nz/fhir/hpi/cpn\" target=\"_blank\" title=\"http://hiso.health.nz/fhir/hpi/cpn\">http://hiso.health.nz/fhir/hpi/cpn</a><br>\n<a href=\"http://hiso.health.nz/fhir/hpi/fac\" target=\"_blank\" title=\"http://hiso.health.nz/fhir/hpi/fac\">http://hiso.health.nz/fhir/hpi/fac</a><br>\n<a href=\"http://hiso.health.nz/fhir/hpi/org\" target=\"_blank\" title=\"http://hiso.health.nz/fhir/hpi/org\">http://hiso.health.nz/fhir/hpi/org</a></p>\n<p>The URIs proposed above feel more similar to identifiers defined by other entities.</p>",
        "id": 153885675,
        "sender_full_name": "David Teirney",
        "timestamp": 1492999687
    },
    {
        "content": "<p>Using <a href=\"http://health.nz/fhir\" target=\"_blank\" title=\"http://health.nz/fhir\">health.nz/fhir</a> is really not a good idea, because that may well be the FHIR server endpoint for the Ministry so employing it for naming system identifiers will cause no end of issues and confusion.  I would also prefer not to use a pseudo-HISO domain as, beyond NHI and HPI identifiers,  HL7NZ is more likely to be the custodian of these (as with OIDs). Not sure about any conventions, but I see no reason to place the word fhir in Naming System Identifiers which live independently of FHIR (ditto Code System Identifiers).</p>",
        "id": 153885682,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1493007485
    },
    {
        "content": "<p>Some HL7 defined identifiers are defined on <a href=\"https://www.hl7.org/fhir/identifier-registry.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/identifier-registry.html\">https://www.hl7.org/fhir/identifier-registry.html</a>.</p>\n<p>If HL7 NZ is going to be the custodian (including the associated OID), is the following more appropriate?</p>\n<p><a href=\"http://hl7.org.nz/fhir/nhi\" target=\"_blank\" title=\"http://hl7.org.nz/fhir/nhi\">http://hl7.org.nz/fhir/nhi</a><br>\n<a href=\"http://hl7.org.nz/fhir/hpi/cpn\" target=\"_blank\" title=\"http://hl7.org.nz/fhir/hpi/cpn\">http://hl7.org.nz/fhir/hpi/cpn</a><br>\n<a href=\"http://hl7.org.nz/fhir/hpi/fac\" target=\"_blank\" title=\"http://hl7.org.nz/fhir/hpi/fac\">http://hl7.org.nz/fhir/hpi/fac</a><br>\n<a href=\"http://hl7.org.nz/fhir/hpi/org\" target=\"_blank\" title=\"http://hl7.org.nz/fhir/hpi/org\">http://hl7.org.nz/fhir/hpi/org</a></p>\n<p>Agree that if these URIs will be used outside of FHIR then not appropriate to include /fhir/.</p>\n<p>As someone that's had to use some system URIs, it's very useful to be able to go to that URL and find information about it. Are there plans to support that as well?</p>",
        "id": 153885692,
        "sender_full_name": "David Teirney",
        "timestamp": 1493021521
    },
    {
        "content": "<p>I should have explained that better, but HL7NZ is more likely to be the custodian of the registry, not the identifiers themselves. The URIs should reflect the organisation that maintains the Identifier type, code system, etc. <a href=\"http://hl7.org.nz/fhir\" target=\"_blank\" title=\"http://hl7.org.nz/fhir\">hl7.org.nz/fhir</a> is also problematic as that will probably be the HL7NZ FHIR server endpoint. Using resolvable URLs as identifiers is worth discussing, although it should be noted that many of the major code system identifiers are not resolvable - e.g. <a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">http://snomed.info/sct</a>. </p>",
        "id": 153885823,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1493066663
    },
    {
        "content": "<p>perhaps the url could resolve to the NamingSystem resource that describes it eg <a href=\"http://hl7.org.nz/fhir/NamingSystem/nhi\" target=\"_blank\" title=\"http://hl7.org.nz/fhir/NamingSystem/nhi\">http://hl7.org.nz/fhir/NamingSystem/nhi</a>...</p>",
        "id": 153885826,
        "sender_full_name": "David Hay",
        "timestamp": 1493068019
    },
    {
        "content": "<p>That's an interesting idea, but might depend on whether the Health Identity team would accept that. They might want a Naming System Identifier for NHI and HPI that's not specific to FHIR. My preference is still to have a <a href=\"http://health.nz\" target=\"_blank\" title=\"http://health.nz\">health.nz</a> component... </p>\n<p>now wondering if they should start with <a href=\"http://health.govt.nz\" target=\"_blank\" title=\"http://health.govt.nz\">health.govt.nz</a>, e.g. <a href=\"http://health.govt.nz/nhi\" target=\"_blank\" title=\"http://health.govt.nz/nhi\">http://health.govt.nz/nhi</a> ?  That may be more consistent with proposed NZ Code System uris, e.g. <a href=\"http://health.govt.nz/ethnicity-codes-level-1\" target=\"_blank\" title=\"http://health.govt.nz/ethnicity-codes-level-1\">http://health.govt.nz/ethnicity-codes-level-1</a></p>",
        "id": 153885852,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1493074769
    },
    {
        "content": "<p>Still not totally convinced about having FHIR in the Naming System Identifiers for NHI and HPI...unless the aim is for them to point to FHIR Naming Resources on a Ministry FHIR Server.  Iâ€™m now thinking of...<br>\n<a href=\"http://health.govt.nz/nhi\" target=\"_blank\" title=\"http://health.govt.nz/nhi\">http://health.govt.nz/nhi</a><br>\n<a href=\"http://health.govt.nz/hpi-cpn\" target=\"_blank\" title=\"http://health.govt.nz/hpi-cpn\">http://health.govt.nz/hpi-cpn</a><br>\n<a href=\"http://health.govt.nz/hpi-fac\" target=\"_blank\" title=\"http://health.govt.nz/hpi-fac\">http://health.govt.nz/hpi-fac</a><br>\n<a href=\"http://health.govt.nz/hpi-org\" target=\"_blank\" title=\"http://health.govt.nz/hpi-org\">http://health.govt.nz/hpi-org</a></p>",
        "id": 153886027,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1493156041
    },
    {
        "content": "<p>Have to agree with <span class=\"user-mention\" data-user-id=\"191364\">@Peter Jordan</span> 's unease about including fhir in teh URIs, unless FHIR is an intrinsic part of the identity of the thing being identified</p>",
        "id": 153888553,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1494281722
    },
    {
        "content": "<p>What's the difference between the different HPIs? if someone says to me that they have 'an hpi', what's the system URL?</p>",
        "id": 153896573,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1499756483
    },
    {
        "content": "<p>They are for the different types of resource<br>\nPatient nhi<br>\nPractitioner hpi-cpn<br>\nLocation hpi-fac<br>\nOrganization hpi-org</p>",
        "id": 153896652,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1499812596
    },
    {
        "content": "<p>k ta</p>",
        "id": 153896717,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1499855281
    },
    {
        "content": "<p>Candidate Naming System URLs are a few posts back on this Stream. HL7NZ is planning to ballot them later this year.</p>",
        "id": 153896977,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1500092921
    },
    {
        "content": "<p>My quest to seek approval for these candidate identifiers continues...</p>\n<p>NHI: <a href=\"http://health.govt.nz/nhi\" target=\"_blank\" title=\"http://health.govt.nz/nhi\">http://health.govt.nz/nhi</a><br>\nHPI Common Practitioner Number: <a href=\"http://health.govt.nz/hpi-cpn\" target=\"_blank\" title=\"http://health.govt.nz/hpi-cpn\">http://health.govt.nz/hpi-cpn</a><br>\nHPI Facility ID: <a href=\"http://health.govt.nz/hpi-fac\" target=\"_blank\" title=\"http://health.govt.nz/hpi-fac\">http://health.govt.nz/hpi-fac</a><br>\nHPI Organisation ID: <a href=\"http://health.govt.nz/hpi-org\" target=\"_blank\" title=\"http://health.govt.nz/hpi-org\">http://health.govt.nz/hpi-org</a></p>\n<p>Plus some candidate URIs for NZ-specific Code Systems...</p>\n<p>NZ Medicines Terminology: <a href=\"http://nzmt.org.nz\" target=\"_blank\" title=\"http://nzmt.org.nz\">http://nzmt.org.nz</a><br>\nNZ Ethnicity Level 1: <a href=\"http://health.govt.nz/ethnicity-codes-level-1\" target=\"_blank\" title=\"http://health.govt.nz/ethnicity-codes-level-1\">http://health.govt.nz/ethnicity-codes-level-1</a><br>\nNZ Ethnicity Level 2: <a href=\"http://health.govt.nz/ethnicity-codes-level-2\" target=\"_blank\" title=\"http://health.govt.nz/ethnicity-codes-level-2\">http://health.govt.nz/ethnicity-codes-level-2</a><br>\nNZ Ethnicity Level 3: <a href=\"http://health.govt.nz/ethnicity-codes-level-3\" target=\"_blank\" title=\"http://health.govt.nz/ethnicity-codes-level-3\">http://health.govt.nz/ethnicity-codes-level-3</a><br>\nNZ Ethnicity Level 4: <a href=\"http://health.govt.nz/ethnicity-codes-level-4\" target=\"_blank\" title=\"http://health.govt.nz/ethnicity-codes-level-4\">http://health.govt.nz/ethnicity-codes-level-4</a></p>\n<p>The Facility, Organisation and Code System identifiers are in use on [Terminz] (<a href=\"http://its.patientsfirst.org.nz/RestService.svc/Terminz\" target=\"_blank\" title=\"http://its.patientsfirst.org.nz/RestService.svc/Terminz\">http://its.patientsfirst.org.nz/RestService.svc/Terminz</a>). I'll continue to proceed on the basis that it's easier to seek forgiveness than permission!</p>",
        "id": 153922458,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1512084135
    },
    {
        "content": "<p>Thanks Peter, these look good. Better than the earlier idea that included /fhir.</p>",
        "id": 153922467,
        "sender_full_name": "Graeme Hibbert",
        "timestamp": 1512089147
    },
    {
        "content": "<blockquote>\n<p>My quest to seek approval for these candidate identifiers continues...</p>\n<p>NHI: <a href=\"http://health.govt.nz/nhi\" target=\"_blank\" title=\"http://health.govt.nz/nhi\">http://health.govt.nz/nhi</a><br>\nHPI Common Practitioner Number: <a href=\"http://health.govt.nz/hpi-cpn\" target=\"_blank\" title=\"http://health.govt.nz/hpi-cpn\">http://health.govt.nz/hpi-cpn</a><br>\nHPI Facility ID: <a href=\"http://health.govt.nz/hpi-fac\" target=\"_blank\" title=\"http://health.govt.nz/hpi-fac\">http://health.govt.nz/hpi-fac</a><br>\nHPI Organisation ID: <a href=\"http://health.govt.nz/hpi-org\" target=\"_blank\" title=\"http://health.govt.nz/hpi-org\">http://health.govt.nz/hpi-org</a></p>\n<p>Plus some candidate URIs for NZ-specific Code Systems...</p>\n<p>NZ Medicines Terminology: <a href=\"http://nzmt.org.nz\" target=\"_blank\" title=\"http://nzmt.org.nz\">http://nzmt.org.nz</a><br>\nNZ Ethnicity Level 1: <a href=\"http://health.govt.nz/ethnicity-codes-level-1\" target=\"_blank\" title=\"http://health.govt.nz/ethnicity-codes-level-1\">http://health.govt.nz/ethnicity-codes-level-1</a><br>\nNZ Ethnicity Level 2: <a href=\"http://health.govt.nz/ethnicity-codes-level-2\" target=\"_blank\" title=\"http://health.govt.nz/ethnicity-codes-level-2\">http://health.govt.nz/ethnicity-codes-level-2</a><br>\nNZ Ethnicity Level 3: <a href=\"http://health.govt.nz/ethnicity-codes-level-3\" target=\"_blank\" title=\"http://health.govt.nz/ethnicity-codes-level-3\">http://health.govt.nz/ethnicity-codes-level-3</a><br>\nNZ Ethnicity Level 4: <a href=\"http://health.govt.nz/ethnicity-codes-level-4\" target=\"_blank\" title=\"http://health.govt.nz/ethnicity-codes-level-4\">http://health.govt.nz/ethnicity-codes-level-4</a></p>\n<p>The Facility, Organisation and Code System identifiers are in use on [Terminz] (<a href=\"http://its.patientsfirst.org.nz/RestService.svc/Terminz\" target=\"_blank\" title=\"http://its.patientsfirst.org.nz/RestService.svc/Terminz\">http://its.patientsfirst.org.nz/RestService.svc/Terminz</a>). I'll continue to proceed on the basis that it's easier to seek forgiveness than permission!</p>\n</blockquote>\n<p><a href=\"http://health.govt.nz\" target=\"_blank\" title=\"http://health.govt.nz\">health.govt.nz</a> is the MOH corporate domain whereas <a href=\"http://health.nz\" target=\"_blank\" title=\"http://health.nz\">health.nz</a> is the moderated domain for web services; so Iâ€™d suggest the latter more suited</p>\n<p>Second suggestion is to distinguish that these are namespace identifiers by including a subdomain along the lines of <a href=\"http://ns.health.nz\" target=\"_blank\" title=\"http://ns.health.nz\">ns.health.nz</a></p>\n<p><a href=\"http://ns.health.nz/nhi\" target=\"_blank\" title=\"http://ns.health.nz/nhi\">ns.health.nz/nhi</a> or <a href=\"http://ns.health.nz/nhi-number\" target=\"_blank\" title=\"http://ns.health.nz/nhi-number\">ns.health.nz/nhi-number</a></p>\n<p>Actual service endpoints may look something like <a href=\"http://api.health.nz/\" target=\"_blank\" title=\"http://api.health.nz/\">api.health.nz/</a></p>",
        "id": 153922651,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1512169039
    },
    {
        "content": "<p>OK with <a href=\"http://health.nz\" target=\"_blank\" title=\"http://health.nz\">health.nz</a>, rather than <a href=\"http://health.govt.nz\" target=\"_blank\" title=\"http://health.govt.nz\">health.govt.nz</a> - although the reasoning is dubious, i.e. conflating identifier URIs with web service endpoint addresses. My point remains that these identifiers are not necessarily for the exclusive use in FHIR resources.</p>\n<p>Not at all convinced of the need for a subdomain to indicate that they are namespaces or the -number suffix. I've not seen any other examples of this and it isn't done for code systems. </p>\n<p>Service endpoints - that's another discussion, although this a case where it might be worth denoting that they are FHIR APIs - e.g. <a href=\"http://health.nz/FHIR\" target=\"_blank\" title=\"http://health.nz/FHIR\">health.nz/FHIR</a>.</p>",
        "id": 153922655,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1512173191
    },
    {
        "content": "<p>I proposed an \"ns\" subdomain because I believe naming system URIs need to be clearly identifiable as such. Others have used \"fhir\" or \"value-set\" subdomains or URI components to do more or less the same in their schemes. In this way <a href=\"http://ns.health.nz/nhi-number\" target=\"_blank\" title=\"http://ns.health.nz/nhi-number\">ns.health.nz/nhi-number</a> is fairly clearly about the NHI number namespace whereas <a href=\"http://health.nz/nhi-number\" target=\"_blank\" title=\"http://health.nz/nhi-number\">health.nz/nhi-number</a> is more ambiguous. We also need to think about whether the URIs should be resolvable. What have Aus, UK, US done?</p>",
        "id": 153922865,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1512438579
    },
    {
        "content": "<p>see <a href=\"http://hl7.org/fhir/identifier-registry.html\" target=\"_blank\" title=\"http://hl7.org/fhir/identifier-registry.html\">http://hl7.org/fhir/identifier-registry.html</a> in the spec. AFAIK they don't generally resolve...</p>",
        "id": 153922866,
        "sender_full_name": "David Hay",
        "timestamp": 1512438991
    },
    {
        "content": "<p>Readable information about Naming System Identifiers and Code Systems can be placed in ('human friendly') properties of the relevant terminology resource, such as NamingSystem.description and CodeSystem. title. I think that it would be a mistake to attempt to do this via the URI. From an implementation perspective, the 'ns' prefix on the domain name serves no purpose whatsoever.  Incidentally, there is no DNS entry for <a href=\"http://health.nz\" target=\"_blank\" title=\"http://health.nz\">health.nz</a>, whereas there is one for <a href=\"http://health.govt.nz\" target=\"_blank\" title=\"http://health.govt.nz\">health.govt.nz</a>. Therefore my quest for the identifiers I've been proposing for the past year continues!</p>",
        "id": 153922913,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1512461510
    },
    {
        "content": "<p>The latest version of Terminz contains NamingSystem resources containing the 9 identifier and code system uris proposed above.... <a href=\"http://its.patientsfirst.org.nz/RestService.svc/Terminz/NamingSystem\" target=\"_blank\" title=\"http://its.patientsfirst.org.nz/RestService.svc/Terminz/NamingSystem\">http://its.patientsfirst.org.nz/RestService.svc/Terminz/NamingSystem</a> will return a bundle containing all 9. It's also possible to filter searches by kind (e.d. NamingSystem?kind=identifier or NamingSystem?kind=code system) AND effectively map 'old school' OIDs (e.g. those used in GP2GP) to uris by requesting the NamingSystem where a particular oid is one of the identifier values (e.g. NamingSystem?value=2.16.840.1.113883.2.18.2 for the NHI).</p>",
        "id": 153929548,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1516328863
    },
    {
        "content": "<p>But it's very useful <em>for people</em> if they do.  IMO it shouldn't matter for machines because they are URIdentifiers and not URLocations</p>",
        "id": 153945609,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1521259760
    },
    {
        "content": "<p>NZ government wants to establish namespace identifiers for national health identifiers and code systems. Intention is to use the <a href=\"http://digital.health.nz\" target=\"_blank\" title=\"http://digital.health.nz\">digital.health.nz</a> domain.</p>\n<p>As an example of the sort of thing we imagine, see this from Australia: <a href=\"http://ns.electronichealth.net.au/id/medicare-number\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/id/medicare-number\">http://ns.electronichealth.net.au/id/medicare-number</a> - the defined namespace identifier for Medicare numbers in Australia </p>\n<p>And this from UK: <a href=\"https://fhir.nhs.uk/Id/nhs-number\" target=\"_blank\" title=\"https://fhir.nhs.uk/Id/nhs-number\">https://fhir.nhs.uk/Id/nhs-number</a> - the namespace identifier for NHS numbers </p>\n<p>Of course, this is about supporting FHIR implementation but there may be other uses too.</p>\n<p>The FHIR spec seems to recommend that such links should be resolvable. And, for example, <a href=\"http://ns.electronichealth.net.au/id/medicare-number\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/id/medicare-number\">http://ns.electronichealth.net.au/id/medicare-number</a> resolves to a web page with human readable info.</p>\n<p>A similar scheme in NZ would look something like: <a href=\"http://ns.digital.health.nz/id/nhi-number\" target=\"_blank\" title=\"http://ns.digital.health.nz/id/nhi-number\">http://ns.digital.health.nz/id/nhi-number</a> </p>\n<p>Variations on this theme include: </p>\n<p><a href=\"http://ns.digital.health.nz/id/nhi-number-1\" target=\"_blank\" title=\"http://ns.digital.health.nz/id/nhi-number-1\">http://ns.digital.health.nz/id/nhi-number-1</a> <br>\n<a href=\"http://ns.digital.health.nz/code-system/nhi-number-1\" target=\"_blank\" title=\"http://ns.digital.health.nz/code-system/nhi-number-1\">http://ns.digital.health.nz/code-system/nhi-number-1</a> <br>\n<a href=\"http://standards.digital.health.nz/ns/nhi-number-1\" target=\"_blank\" title=\"http://standards.digital.health.nz/ns/nhi-number-1\">http://standards.digital.health.nz/ns/nhi-number-1</a> <br>\n<a href=\"http://standards.digital.health.nz/id/nhi-number-1\" target=\"_blank\" title=\"http://standards.digital.health.nz/id/nhi-number-1\">http://standards.digital.health.nz/id/nhi-number-1</a> <br>\n<a href=\"http://standards.digital.health.nz/code-system/nhi-number-1\" target=\"_blank\" title=\"http://standards.digital.health.nz/code-system/nhi-number-1\">http://standards.digital.health.nz/code-system/nhi-number-1</a> </p>\n<p>In any case, it would seem that good namespace identifiers should be: </p>\n<ul>\n<li>resolvable (and not likely to conflict with a real API endpoint) </li>\n<li>self-describing (ie obviously about a namespace or naming system or code system) </li>\n<li>versioned</li>\n<li>using the official ecosystem domain (we may also end up using code systems with URIs in other government domains, such as <a href=\"http://data.govt.nz\" target=\"_blank\" title=\"http://data.govt.nz\">data.govt.nz</a>)</li>\n</ul>",
        "id": 153947794,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1522036322
    },
    {
        "content": "<ul>\n<li>\"resolvable (and not likely to conflict with a real API endpoint)\": we would refer to an API end-point directly on the expectation that if it was just a browser (accept = text/html) then you'd get a description page</li>\n<li>\"versioned\" - umm maybe. but why? identifier spaces are not usually versioned..</li>\n</ul>",
        "id": 153947796,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522036443
    },
    {
        "content": "<p>\"New Zealand government\" - so this is a cabinet recommendation? Yeah right, as the Kiwis say! I could live with <a href=\"http://digital.health.nz/nhi\" target=\"_blank\" title=\"http://digital.health.nz/nhi\">http://digital.health.nz/nhi</a> (on reflection, I don't like the versioning suffix - increasing the number of digits won't change the fact that it's an NHI number) .  Otherwise, the candidates above remind me of the alternatives in the flag referendum in terms of attempting to select the best from a bad bunch. Personal opinions only of course, I would love to see the views of the FHIR implementation community in NZ, outside of the Cabinet Office and Molesworth St! :)</p>",
        "id": 153947832,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1522049776
    },
    {
        "content": "<p>Sounds like we don't need the version number - so let's turn it around and say instead 'without a version number'<br>\nRe Grahame's first point - yes, content negotiation makes is possible to serve a web page describing  the API.<br>\nBut we still want to be able to distinguish namespace URIs  from API endpoints. by their structure.</p>",
        "id": 153948204,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1522092425
    },
    {
        "content": "<p>We are having a similar discussion in Canada. We plan to have all our URIs resolvable and fully defined using a NamingSystem resource at some point. So far, we've agreed on the following guidelines:</p>\n<p>URI guidelines<br>\n1. Base url for common public identifiers: <a href=\"https://fhir.infoway-inforoute.ca/NamingSystem\" target=\"_blank\" title=\"https://fhir.infoway-inforoute.ca/NamingSystem\">https://fhir.infoway-inforoute.ca/NamingSystem</a><br>\n2. Ids should be all all-lower-case-hyphen-separated<br>\n3. Ids should avoid abbreviations to improve readability and support unambiguous understanding of terms (whenever is possible and makes sense)<br>\n4. Ids that are scoped by province/territory should be prefixed with the ca (for Canada) &amp; province/territory code - e.g. \"ca-ab-some-codes\" or \"ca-ab-some-id\"<br>\n5. Ids that are national in scope should be prefixed with \"ca-\" - e.g. \"ca-some-id\"<br>\n6. Words that make up the identifier should start from the general type and then get more specific.  E.g. \"ca-on-license-driver\" rather than \"ca-on-driver-license\"<br>\n6a. Words should be consistent across identifiers when possible.  I.e. Try to use \"patient-health-number\" if everyone else is using \"patient-health-number\"<br>\n7. Words should be expressed in the primary language of the province/territory that manages them<br>\n8. Words should not use accented characters<br>\n9. Use descriptions from <a href=\"http://hl7.org/oid\" target=\"_blank\" title=\"http://hl7.org/oid\">hl7.org/oid</a> where available when we map URIs to the existing OIDs<br>\n10. Acceptable abbreviations: ca (for Canada), jurisdictional codes (e.g. ab, on, bc), id (for identifier)</p>",
        "id": 153948205,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1522093060
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194931\">@Alastair Kenworthy</span> - yes, it's ok for them to be different, and ok for you to make a rule that they should be - I was just being clear about content negotiation.</p>",
        "id": 153948212,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522095415
    },
    {
        "content": "<p>I also favour the use of NamingSystem resources. Still not convinced about the need to make the URIs resolvable. I see a stronger case for this where the NamingSystem.kind is CodeSystem - although the classic example of a non-resolvable CodeSystem URI is <a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">http://snomed.info/sct</a> (interested to know if this is viewed as a positive or negative). Part of my concern around making NZ identifiers resolvable is the fact that, in terms of stability, our Health IT governance landscape matches our physical environment!</p>",
        "id": 153948224,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1522098537
    },
    {
        "content": "<p>I expect that <a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">snomed.info/sct</a> will resolve one day</p>",
        "id": 153948225,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522099175
    },
    {
        "content": "<p>One of the benefits of having URIs of identifier systems resolvable in NamingSystem is an ability to use FHIR API to get definition, contact information, etc. about a concept represented by a URI. Another benefit is an ability to map URIs to OIDs and to other URIs (in case different projects create duplicate URIs, one can be marked as a preferred) using repetitions of uniqueId. Also it's easy to extract URIs needed for your use case, e.g. get all URIs of a patient identifier type in my jurisdiction.</p>",
        "id": 153948251,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1522106305
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191393\">@Igor Sirkovich</span> IMHO, those are all benefits of creating NamingSystem Resources and storing them in a central location - such as a National Terminology Server. A much more robust solution than scattering information about Identifiers among a bunch of Web Pages. For an example see... <a href=\"http://its.patientsfirst.org.nz/RestService.svc/Terminz/NamingSystem\" target=\"_blank\" title=\"http://its.patientsfirst.org.nz/RestService.svc/Terminz/NamingSystem\">http://its.patientsfirst.org.nz/RestService.svc/Terminz/NamingSystem</a></p>",
        "id": 153948261,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1522111298
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> When you say 'resolve', do you mean that the result of the url call would be a NamingSystem resource? ie that entering <a href=\"http://snomed.info/sct\" target=\"_blank\" title=\"http://snomed.info/sct\">snomed.info/sct</a> would result in a NamingSystem resource? (Assuming that the accept header was set to application/fhir+{xml/json} ?</p>",
        "id": 153948289,
        "sender_full_name": "David Hay",
        "timestamp": 1522116680
    },
    {
        "content": "<p>well, I expect that will return a web page. I'm not holding my breath for a naming system or a code system resource but it's possible one day</p>",
        "id": 153948307,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522121539
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191393\">@Igor Sirkovich</span> I like your naming rules, which are similar to ISO/IEC 11179 we use in NZ for creating names</p>",
        "id": 153948324,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1522143693
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191364\">@Peter Jordan</span> Great to have those machine-readable resources, yes. But also fine to have the URIs resolve to human readable web pages. Because they're at that one address they can hardly be said to be scattered</p>",
        "id": 153948325,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1522144721
    },
    {
        "content": "<p>You might also find helpful the FHIR URI Strategy document authored by <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> : <a href=\"https://docs.google.com/document/d/1ClF3XpIrE2FiIDG7K7VD3pPjOPx3T950Sfi1Ip8ORcU\" target=\"_blank\" title=\"https://docs.google.com/document/d/1ClF3XpIrE2FiIDG7K7VD3pPjOPx3T950Sfi1Ip8ORcU\">https://docs.google.com/document/d/1ClF3XpIrE2FiIDG7K7VD3pPjOPx3T950Sfi1Ip8ORcU</a></p>",
        "id": 153948397,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1522161167
    },
    {
        "content": "<p>That's good read - some useful recommendations in there</p>",
        "id": 153948472,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1522174239
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194931\">@Alastair Kenworthy</span> the one web address point only applies to the NHI and (possibly) HPI - not all NZ Code Systems and Identifiers - but ultimately the decision on whether <a href=\"http://digital.health.nz\" target=\"_blank\" title=\"http://digital.health.nz\">digital.health.nz</a> endpoints are resolvable, and continuing to ensure that they are, is down to the domain owner. Either way, I'm happy to implement <a href=\"http://digital.health.nz/nhi\" target=\"_blank\" title=\"http://digital.health.nz/nhi\">http://digital.health.nz/nhi</a>, <a href=\"http://digital.health.nz/hpi-cpn\" target=\"_blank\" title=\"http://digital.health.nz/hpi-cpn\">http://digital.health.nz/hpi-cpn</a>, etc. as the new candidate identifiers.</p>",
        "id": 153948506,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1522178326
    },
    {
        "content": "<p>In terms of URI resolvability, I think the key thing is the expectation you set.  Yes, it's useful if it can resolve to machine-readable content, but if that becomes an expectation / contract, then you'll get software that expects and relies on that resolvability. I would be wary of this as it introduces a maintenance burden and leads to potentially brittle systems.</p>",
        "id": 153948534,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1522183925
    },
    {
        "content": "<p>So, to summarise and following the other international examples (particularly Australia but also UK and Canada) and considering the above points on resolvability and versioning, the proposed scheme is now something like:</p>\n<p><a href=\"http://ns.digital.health.nz/id/nhi-number\" target=\"_blank\" title=\"http://ns.digital.health.nz/id/nhi-number\">http://ns.digital.health.nz/id/nhi-number</a> <br>\n<a href=\"http://ns.digital.health.nz/naming-system/nhi-number\" target=\"_blank\" title=\"http://ns.digital.health.nz/naming-system/nhi-number\">http://ns.digital.health.nz/naming-system/nhi-number</a><br>\n<a href=\"http://standards.digital.health.nz/ns/nhi-number\" target=\"_blank\" title=\"http://standards.digital.health.nz/ns/nhi-number\">http://standards.digital.health.nz/ns/nhi-number</a><br>\n<a href=\"http://standards.digital.health.nz/id/nhi-number\" target=\"_blank\" title=\"http://standards.digital.health.nz/id/nhi-number\">http://standards.digital.health.nz/id/nhi-number</a><br>\n<a href=\"http://standards.digital.health.nz/naming-system/nhi-number\" target=\"_blank\" title=\"http://standards.digital.health.nz/naming-system/nhi-number\">http://standards.digital.health.nz/naming-system/nhi-number</a></p>\n<p>Our namespace identifiers are then: <br>\n- self-describing (ie obviously about a namespace, naming system or code system)<br>\n- based on ISO/IEC 11179 rules for element names<br>\n- not including a version number<br>\n- preferably resolvable through content negotiation to a NamingSystem resource and also descriptive web pages<br>\n- using the official ecosystem domain (we may also end up using code systems with URIs in other government domains, such as <a href=\"http://data.govt.nz\" target=\"_blank\" title=\"http://data.govt.nz\">data.govt.nz</a>)</p>\n<p><a href=\"http://digital.health.nz/nhi\" target=\"_blank\" title=\"http://digital.health.nz/nhi\">http://digital.health.nz/nhi</a> is a little non-specific and misses some of these things</p>",
        "id": 153948616,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1522195336
    },
    {
        "content": "<p>Don't like the ns (does it denote namespace or naming system??) or standards prefixes on the domain names.  <br>\nThe -number suffixed to nhi confuses the concept of a naming system (in this case the National Health Index) with an instance of that system (an individual NHI number). <br>\nHow about <a href=\"http://digital.health.nz/naming-system/nhi\" target=\"_blank\" title=\"http://digital.health.nz/naming-system/nhi\">http://digital.health.nz/naming-system/nhi</a></p>",
        "id": 153948621,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1522198901
    },
    {
        "content": "<p>If we were to copy what infoway is doing, we'd have:</p>\n<p>https//fhir.digital.health.nz/NamingSystem/nhi </p>\n<p>going back to the idea of resolvability...</p>",
        "id": 153948763,
        "sender_full_name": "David Hay",
        "timestamp": 1522258884
    },
    {
        "content": "<p>Interesting - advice to affilates from HL7 international is that 'fhir' cannot be used in domain names registered by non-HL7 organizations. Maybe infoway is such an organisation?</p>",
        "id": 153948796,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1522267875
    },
    {
        "content": "<p>that advice is not correct. where did you get that?</p>",
        "id": 153948797,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522267932
    },
    {
        "content": "<p>Mark McDougall - but would be grateful to hear any official change to that advice.</p>",
        "id": 153948798,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1522267997
    },
    {
        "content": "<p>The correct advice is that the use of \"fhir\" in a domain name by a non-HL7 affiliate is a use of the trademark , and requires written permission from HL7. Such organizations can apply for permission here: <a href=\"http://www.fhir.org/product-license\" target=\"_blank\" title=\"http://www.fhir.org/product-license\">http://www.fhir.org/product-license</a></p>",
        "id": 153948799,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522268009
    },
    {
        "content": "<p>the official policy is here: <a href=\"http://wiki.hl7.org/index.php?title=FHIR_Trademark_Policy\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=FHIR_Trademark_Policy\">http://wiki.hl7.org/index.php?title=FHIR_Trademark_Policy</a></p>",
        "id": 153948800,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522268079
    },
    {
        "content": "<p>Thanks for that. I'll also update the relevant International Council Wiki Page accordingly.</p>",
        "id": 153948801,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1522268122
    },
    {
        "content": "<p>... infoway do not have such written permission</p>",
        "id": 153948802,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522268218
    },
    {
        "content": "<p>It's also been mooted (many posts) above that it's not best practice to place 'fhir' anywhere in the URI of a Naming System that isn't specific to FHIR (e.g. the NZ NHI).</p>",
        "id": 153948803,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1522268686
    },
    {
        "content": "<p>so, in the event that NZ did use this url, we'd need permission also?</p>",
        "id": 153948804,
        "sender_full_name": "David Hay",
        "timestamp": 1522268699
    },
    {
        "content": "<p>yes. Wouldn't be a problem though</p>",
        "id": 153948805,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522268742
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Infoway is an affiliate of HL7. Do they need to ask a permission to use \"fhir\" in their sub-domain name? Also eHealth Ontario is a non-direct affiliate via Infoway. I'm wondering if they need a permission to use \"fhir\" in their URL path, e.g. \"<a href=\"https://ehealthontario.ca/API/FHIR/NamingSystem\" target=\"_blank\" title=\"https://ehealthontario.ca/API/FHIR/NamingSystem\">https://ehealthontario.ca/API/FHIR/NamingSystem</a>\"</p>",
        "id": 153948809,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1522269264
    },
    {
        "content": "<p>I didn't realise infoway itself was an affiliate. I'm not sure about 'non-direct affiliates' - whatever that means</p>",
        "id": 153948810,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522269373
    },
    {
        "content": "<p>how do you read the policy? Is it linked to a formal project for HL7 canada?</p>",
        "id": 153948811,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522269402
    },
    {
        "content": "<p>My understanding is that HL7 Canada under Canada Health Infoway is a Canadian affiliate of HL7 International  and that all HL7 Canada members (e.g. eHealth Ontario) are eligible for all benefits of HL7 membership, e.g. use of all HL7 standards, SNOMED CT, etc.</p>",
        "id": 153948816,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1522269822
    },
    {
        "content": "<p>I'm going to talk to Infoway / HL7 Canada to clarify this</p>",
        "id": 153948820,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1522269979
    },
    {
        "content": "<p>As I read things, no one needs to seek permission (or forgiveness) for using FHIR in a URL path - only a domain name. Is that correct?  If not...'Ann Arbor, we have a problem'.</p>",
        "id": 153948837,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1522273119
    },
    {
        "content": "<p>I think so</p>",
        "id": 153948839,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522273170
    },
    {
        "content": "<p>We close to agreement on the Identifier urls yet? My last proposal was <a href=\"https://fhir.digital.health.nz/NamingSystem/nhi\" target=\"_blank\" title=\"https://fhir.digital.health.nz/NamingSystem/nhi\">https://fhir.digital.health.nz/NamingSystem/nhi</a>  which would resolve...</p>",
        "id": 153951930,
        "sender_full_name": "David Hay",
        "timestamp": 1523476413
    },
    {
        "content": "<p>I'm not happy with fhir being part of the domain name, particular as NHI is not a FHIR-specific identifier. Otherwise, that's now the candidate identifier I'll be putting up on Terminz this weekend for the NZ community to look at.</p>",
        "id": 153951937,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1523481513
    },
    {
        "content": "<p>but it will resolve to a NamingSystem resource (if the accept header is appropriately set). And nothing stops it being used outside of FHIR - though not sure where that would be...</p>",
        "id": 153951938,
        "sender_full_name": "David Hay",
        "timestamp": 1523483118
    },
    {
        "content": "<p>If the aim is for this url to resolve to a NamingSystem resource, my personal preference would be for <a href=\"https://digital.health.nz/fhir/NamingSystem/nhi\" target=\"_blank\" title=\"https://digital.health.nz/fhir/NamingSystem/nhi\">https://digital.health.nz/fhir/NamingSystem/nhi</a>  However, questions remain as to when either url might be available and how stable they will be  (given the constant changes I've had to make to links to MoH urls over recent years). IMHO, decoupling the identfier url and the resource location would be a prudent design decision - I don't see why the relevant NamingSystem resource couldn't be held on multiple servers, just as other terminology <br>\n resources are held in multiple locations. It's also possible that this decoupling might increase the chances of the identifier being immutable?</p>",
        "id": 153951941,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1523484634
    },
    {
        "content": "<p>The intention is that the URL for the NamingSystem would resolve - because that's useful.  If the maintaining organization changes, hopefully the domain would be maintained with a redirect.  The Naming system URL should certainly be treated as immutable once established.</p>",
        "id": 153952136,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1523565693
    },
    {
        "content": "<p>Thanks Lloyd. The remaining question is whether the (immutable) Naming System URL should resolve to an instance of the relevant Naming System resource - or something else, such as a Web Page?</p>",
        "id": 153952141,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1523567562
    },
    {
        "content": "<p>In Canada, we went with resolving to the NamingSystem because it can in turn point to one (or more) relevant web pages and be updated as those pages change.  The web pages of the identifiers and code systems of interest change semi-regularly and are managed by people and processes that don't really care about (or often even know about) FHIR or interoperability standards and interfaces.  On the other hand, the repository of NamingSystems would almost certainly be maintained by an organization that does know and care about those things.</p>",
        "id": 153952152,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1523571990
    },
    {
        "content": "<p>Thanks again, Lloyd. That certainly mirrors the NZ experience with web pages. Which organization is likely to maintain the repository of NamingSystem resources in Canada?</p>",
        "id": 153952157,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1523572356
    },
    {
        "content": "<p>Canada Health Infoway</p>",
        "id": 153952159,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1523572420
    },
    {
        "content": "<p>Even if they go poof at some point, that function (and the domain name that it's managed under) would presumably be transferred</p>",
        "id": 153952160,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1523572452
    },
    {
        "content": "<p>And they'd at least recognize the importance of the transition.</p>",
        "id": 153952161,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1523572465
    },
    {
        "content": "<p>and we can still use the accept header to return a web page rather than a NamingSystem...</p>",
        "id": 153952183,
        "sender_full_name": "David Hay",
        "timestamp": 1523585286
    },
    {
        "content": "<blockquote>\n<p>If the aim is for this url to resolve to a NamingSystem resource, my personal preference would be for <a href=\"https://digital.health.nz/fhir/NamingSystem/nhi\" target=\"_blank\" title=\"https://digital.health.nz/fhir/NamingSystem/nhi\">https://digital.health.nz/fhir/NamingSystem/nhi</a>  However, questions remain as to when either url might be available and how stable they will be  (given the constant changes I've had to make to links to MoH urls over recent years). </p>\n</blockquote>\n<p>FWIW I now manage the dns for <a href=\"http://digital.health.nz\" target=\"_blank\" title=\"http://digital.health.nz\">digital.health.nz</a> so can setup A / CNAME records as required under the <a href=\"http://digital.health.nz\" target=\"_blank\" title=\"http://digital.health.nz\">digital.health.nz</a> domain if we have agreement on URLs for name space identifiers for NHI, HPI etc</p>\n<p>(prob worth mentioning that the top level of <a href=\"https://digital.health.nz\" target=\"_blank\" title=\"https://digital.health.nz\">https://digital.health.nz</a> hosts the digital health strategy site and that hosting is provided by an outside party so there maybe more work- but not impossible- at the ministry end in terms of resolving to a URL hosted at the top level i.e. <a href=\"https://digital.health.nz/fhir/naming-system\" target=\"_blank\" title=\"https://digital.health.nz/fhir/naming-system\">https://digital.health.nz/fhir/naming-system</a>... vs a subdomain like <a href=\"https://fhir.digital.health.nz/naming-system/\" target=\"_blank\" title=\"https://fhir.digital.health.nz/naming-system/\">https://fhir.digital.health.nz/naming-system/</a>...)</p>",
        "id": 153953313,
        "sender_full_name": "Daniel Thomson",
        "timestamp": 1524190410
    },
    {
        "content": "<p>Do you have a preference for the url patterns to use for the NamingSystems?</p>",
        "id": 153953314,
        "sender_full_name": "David Hay",
        "timestamp": 1524190853
    },
    {
        "content": "<p>No strong preference at this point- they're all going to work probably! Following Aus / UK / Canada patterns seems sensible as will contribute to recognizing the kind of thing the URI is. </p>\n<p><a href=\"https://standards.digital.health.nz/naming-system/nhi-number\" target=\"_blank\" title=\"https://standards.digital.health.nz/naming-system/nhi-number\">https://standards.digital.health.nz/naming-system/nhi-number</a> seems the most human readable/descriptive of the options if that's a consideration (it's a general nz digital health standard, it's a naming system, it's the nhi)</p>",
        "id": 153953318,
        "sender_full_name": "Daniel Thomson",
        "timestamp": 1524192677
    },
    {
        "content": "<p>IMHO, human readability isn't a requirement. I'd also consider the standards prefix on the domain name to be redundant unless it makes it easier to resolve. Thereafter /fhir/NamingSystem/nhi would make more sense if the aim is to resolve to a NamingSystem resource. The -number suffix is also misleading as we are dealing with a naming system (i.e. the National Health Index) NOT an instance of that system.</p>",
        "id": 153953320,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1524198827
    },
    {
        "content": "<p>Human readability is sort of the whole point :)  In FHIR, we want the instances to be easy for humans to read because it makes development, and more important, debugging easier.  Using abbreviations is fine if they're ones that everyone who might be developing code will understand, but I'd recommend avoiding making things obscure just to save a few characters.  (And don't forget that lots of development is now often out-of-country, so think about what would be intuitive outside of New Zealand too).</p>",
        "id": 153953341,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1524229268
    },
    {
        "content": "<p>Each to their own, but identifiers (URLs, or otherwise) aren't my usual bed-time reading. :)  Machines do tend to like them, regardless of length, providing they take you somewhere. The longer the length, the more painful they are for many humans - hence <a href=\"http://bit.ly\" target=\"_blank\" title=\"http://bit.ly\">bit.ly</a> abbreviations. </p>\n<p>Ironically, in terms of making this identifier readable and recognisable outside of NZ, no one has suggested expanding the 'nhi' acronym and even 'National Health Index' doesn't tell you that it's a patient identifier. So maybe the task of human readability is best delegated to a NamingSystem resource (or Web Page)?</p>",
        "id": 153953448,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1524255175
    },
    {
        "content": "<p>I think Lloyds point is that <em>http://hl7.org/fhir/sid/us-medicare</em>  is easier to deal with than <em>2.16.840.1.113883.4.3.2</em> when trying to debug a problem...</p>",
        "id": 153953483,
        "sender_full_name": "David Hay",
        "timestamp": 1524280255
    },
    {
        "content": "<p>True, but that's rather like saying that ASCII is easier to read than hexadecimal :)</p>",
        "id": 153953485,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1524289718
    },
    {
        "content": "<p>I'm also saying that if you're going through the effort of changing from OIDs to URIs to improve readability for developers, <em>http://hl7.org/fhir/sid/us-medicare-patient</em> is better than <em>http://hl7.org/fhir/sid/usm</em></p>",
        "id": 153953488,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1524321521
    },
    {
        "content": "<p>In terms of readability, both of those last 2 examples are equally opaque to this developer as I don't know what a 'sid' is - and that illustrates my point about expanding 'nhi' if the NZ identifier is to be readable by developers outside of NZ.  As for OIDs, the longer this thread goes on, the more those ugly ducklings are beginning to look like swans.</p>",
        "id": 153953490,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1524342490
    },
    {
        "content": "<p>I'll only add that I keep seeing the confusion of URLs and URIs and have come to the conclusion that using URIs that look syntactically like FHIR URLs (in this case, anything of the form [base]/NamingSystem/[id] is likely to lead implementers to assume that it's a FHIR URL and not an arbitrary URI.</p>",
        "id": 153956844,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1525733112
    },
    {
        "content": "<p>The preference is to have URIs that <em>are</em> URLs so they can be resolved by implementers seeking additional information.  It's not mandatory, but it's certainly good practice.</p>",
        "id": 153956845,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1525733230
    },
    {
        "content": "<p>And I would entirely agree with having URIs resolvable, just not mis-interpretable.  People don't read documentation, but they do pattern-match.  If they see a URI that looks like a FHIR URL, they tend to assume (and write code etc) with that assumption.  Hence I would use something like <a href=\"https://digital.health.nz/naming-system/nhi\" target=\"_blank\" title=\"https://digital.health.nz/naming-system/nhi\">https://digital.health.nz/naming-system/nhi</a> over <a href=\"https://digital.health.nz/fhir/NamingSystem/nhi\" target=\"_blank\" title=\"https://digital.health.nz/fhir/NamingSystem/nhi\">https://digital.health.nz/fhir/NamingSystem/nhi</a> where the difference is arbitrary, but deliberate.</p>",
        "id": 153956846,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1525733476
    },
    {
        "content": "<p>Well, in Canada our objective is for NamingSystem to be resolvable as a FHIR resource - so it can be retrieved and parsed by software for things like automatic translation between OIDs and URIs.</p>",
        "id": 153956848,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1525733744
    },
    {
        "content": "<p>So that choice of URL was deliberate to align with FHIR resource URL conventions.</p>",
        "id": 153956849,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1525733767
    },
    {
        "content": "<p>And is there an SLA / implied contract that it will always be resolvable?</p>",
        "id": 153956850,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1525733950
    },
    {
        "content": "<p>No more than there is with the FHIR value sets - which follow the same pattern.  It's not not expected to be the primary source targeted by runtime systems, but it's a fallback they can hit and cache the results if they see something they haven't seen before.</p>",
        "id": 153956858,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1525742679
    },
    {
        "content": "<p>I also need URIs for the ISO country and language code systems. <br>\nNZ uses ISO 3166-1 alpha-2 country codes (<a href=\"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\">https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2</a>) and ISO 639-2 language codes (<a href=\"https://en.wikipedia.org/wiki/ISO_639-2\" target=\"_blank\" title=\"https://en.wikipedia.org/wiki/ISO_639-2\">https://en.wikipedia.org/wiki/ISO_639-2</a>) (we need Niuean and some others not in \"-1\"). It  looks like the convention is to use urn:iso:std:iso:3166 as the identifier for this country code system - although not distinguishing the alpha-2, alpha-3 and numeric variants - and urn:ietf:bcp:47 as the identifier for the language tag code system encapsulating ISO 639-2 (<a href=\"https://www.hl7.org/fhir/terminologies-systems.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/terminologies-systems.html\">https://www.hl7.org/fhir/terminologies-systems.html</a>). Is this what people are doing?</p>",
        "id": 153963385,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1526625120
    },
    {
        "content": "<p>If your code system is listed on the <a href=\"http://build.fhir.org/terminologies-systems.html\" target=\"_blank\" title=\"http://build.fhir.org/terminologies-systems.html\">FHIR terminologies page</a> and you claim to be conformant with that version of FHIR, then it's not merely convention - it's a requirement of the standard.  So <code>urn:iso:std:iso:3166</code> for country codes and <code>urn:ietf:bcp:47</code> for language is the correct answer.</p>",
        "id": 153963390,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1526626951
    },
    {
        "content": "<p>Is anyone creating NamingSystem resources to declare the existence of code systems in addition to creating the CodeSystem resources themselves? The practice seems to be to create a NamingSystem resource for each identifier system and a CodeSystem resource for each code system. Is this enough? The documentation doesn't make it perfectly clear what's required - in various places:<br>\nA NamingSystem resource is a curated namespace ...<br>\nThe NamingSystem resource identifies the existence of a code system or identifier system ...<br>\nThe CodeSystem resource defines the content of a code system ...<br>\nThe CodeSystem resource is used to declare the existence of a code system ...</p>",
        "id": 153967018,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1528195909
    },
    {
        "content": "<p>CodeSystem doesn't give you the canonical OID or the v2 code system string.  If you don't need those things, then NamingSystem isn't really buying you anything.</p>",
        "id": 153967049,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1528207498
    },
    {
        "content": "<p>I've created NamingSystem resources to allow the main Code System OIDs used in NZ CDA instances, notably GP2GP and NZePS, to be mapped to FHIR CodeSystem URIs. However, the purpose of a NamingSystem resource clearly isn't to declare the existence of a FHIR Code System resource.</p>",
        "id": 153967149,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1528227415
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> and <span class=\"user-mention\" data-user-id=\"191364\">@Peter Jordan</span>, that helps<br>\n\"The NamingSystem resource identifies the existence of a code or identifier system\" - ie correct interpretation of \"identifies\" seems to be \"points to\" rather than \"declares\"</p>",
        "id": 153967173,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1528231850
    },
    {
        "content": "<p>For identifier systems, NamingSystem is really all you have.  I'd expect the NamingSystem to include things like rules for normalizing identifiers (e.g. strip all punctuation, use lower-case, retain leading zeros).  For CodeSystem, much of the guidance around usage will typically be found in the CodeSystem resource, though it's not wrong to duplicate the same sort of information in NamingSystem.  The <em>contents</em> will only live in CodeSystem though.</p>",
        "id": 153967174,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1528232029
    },
    {
        "content": "<p>The NZ Ministry of Health has now created a URL and home page for 'Digital Health Standards' ( <a href=\"https://standards.digital.health.nz\" target=\"_blank\" title=\"https://standards.digital.health.nz\">https://standards.digital.health.nz</a>) and the following 'Identifier Namespaces'.</p>\n<p>NHI Number: <a href=\"https://standards.digital.health.nz/id/nhi\" target=\"_blank\" title=\"https://standards.digital.health.nz/id/nhi\">https://standards.digital.health.nz/id/nhi</a><br>\nHPI Person Identifier: <a href=\"https://standards.digital.health.nz/id/hpi-person\" target=\"_blank\" title=\"https://standards.digital.health.nz/id/hpi-person\">https://standards.digital.health.nz/id/hpi-person</a><br>\nHPI Organisation Identifier: <a href=\"https://standards.digital.health.nz/id/hpi-organisation\" target=\"_blank\" title=\"https://standards.digital.health.nz/id/hpi-organisation\">https://standards.digital.health.nz/id/hpi-organisation</a><br>\nHPI Facility Identifier: <a href=\"https://standards.digital.health.nz/id/hpi-facility\" target=\"_blank\" title=\"https://standards.digital.health.nz/id/hpi-facility\">https://standards.digital.health.nz/id/hpi-facility</a></p>\n<p>These seem reasonable to me, and they'll be in the next release of Terminz. I'm quite not so thrilled with the code system ones as they might be confused with URLs for CodeSystem resources. Anyway, the 'process' by which we landed here was, shall I say, 'interesting'. :)</p>",
        "id": 153972284,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1530154925
    },
    {
        "content": "<p>Following up on this thread, in the spreadsheet published at <a href=\"https://www.health.govt.nz/nz-health-statistics/data-references/code-tables/common-code-tables/facility-code-table\" target=\"_blank\" title=\"https://www.health.govt.nz/nz-health-statistics/data-references/code-tables/common-code-tables/facility-code-table\">https://www.health.govt.nz/nz-health-statistics/data-references/code-tables/common-code-tables/facility-code-table</a>, I see the HPI Organisation Identifier in Column J, and I see the HPI Facility Identifier in Column C. My question: there is also a Health Facility Code in Column B. I don't see an Identifier Namespace for that code... should there be one? Is that Health Facility Code still in active use?</p>",
        "id": 167358774,
        "sender_full_name": "John Carter",
        "timestamp": 1559711359
    },
    {
        "content": "<p>I'm sure that there are still legacy systems that use that Code, but the advice on that page relating to the HPI Facility ID is WAY out of date <span class=\"user-mention\" data-user-id=\"223359\">@Anne Goodwin</span> -  most systems now use the HPI Facility ID (e.g. NZePS). To be honest, I don't even bother to expose the Facility Code in directory services as lots of Facilities in the published list don't have one. Therefore, I don't believe that we need an Identifier Namespace for it - do you agree <span class=\"user-mention\" data-user-id=\"194931\">@Alastair Kenworthy</span> ?</p>",
        "id": 167361378,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1559715626
    },
    {
        "content": "<p>We really need to remove all use of the facility code, so let's not honour it with a namespace identifier because it will only encourage continued use</p>",
        "id": 167361844,
        "sender_full_name": "Alastair Kenworthy",
        "timestamp": 1559716347
    },
    {
        "content": "<p>And if you don't specify it, you'll end up with different representations of it if it is in use.<br>\nYou could include a best practice invariant to discourage its use instead.</p>",
        "id": 167372338,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1559727412
    },
    {
        "content": "<p>It's also worth taking into account the fact that we've never created an OID for the Facility Code.</p>",
        "id": 167427728,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1559766718
    },
    {
        "content": "<p>so to be clear:</p>\n<ul>\n<li>The primary Organization identifier is the HPI Org Id (there are others defined like nzbn (nz business numbers)</li>\n<li>The primary Location identifier is the HPI Facility code (should that be HPI facility Id)</li>\n</ul>\n<p>The 'facility code' that John is referrring to is deprecated...  That right? Do we want to add any clarification notes to the model? (which will eventually wind up in the IG) - if so let me know either here or via email and I'll update the model...</p>",
        "id": 167430594,
        "sender_full_name": "David Hay",
        "timestamp": 1559769026
    },
    {
        "content": "<p>The primary location identifier in NZ is the HPI Facility ID.  I'd completely ignore the (deprecated) HPI Facility Code.</p>",
        "id": 167449387,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1559792523
    },
    {
        "content": "<p>Thanks all, very helpful!</p>",
        "id": 167527436,
        "sender_full_name": "John Carter",
        "timestamp": 1559858877
    },
    {
        "content": "<p>So now - over a year since the <a href=\"http://standards.digital.health.nz\">standards.digital.health.nz</a>  Web Page was created and a Naming System Identifier for the NHI  of <a href=\"https://standards.digital.health.nz/id/nhi\">https://standards.digital.health.nz/id/nhi</a> published - we are are seeing <a href=\"https://standards.digital.health.nz/ns/nhi-id\">https://standards.digital.health.nz/ns/nhi-id</a> as that identifier in a proposed FHIR IG for the NHI. Too bad for any implementations already using the published identifier and others shown on that Web Page. <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span> </p>\n<p>Top-down Control 1 FHIR Community Process 0</p>",
        "id": 204270340,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1595027955
    },
    {
        "content": "<p>As someone who's still repeatedly getting befuddled by HL7's processes-and-nots, I must ask, is there a protocol for letting others (top and bottom) know that such a thing has happened?  </p>\n<p>Is it possible to speak (here or elsewhere) to the authors of that IG?</p>",
        "id": 204275685,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1595033951
    },
    {
        "content": "<p>It was determined by the national governmental standards authority</p>",
        "id": 204276808,
        "sender_full_name": "David Hay",
        "timestamp": 1595035540
    },
    {
        "content": "<p>TTBOMK, there is no record of who authorised this change to a published - and implemented - naming system identifier, or why the change was made. Certainly, there has been no community engagement. I could say a lot more, but probably shouldn't on a public forum. <span aria-label=\"angry\" class=\"emoji emoji-1f620\" role=\"img\" title=\"angry\">:angry:</span></p>",
        "id": 204331712,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1595131356
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191321\">David Hay</span> <a href=\"#narrow/stream/179178-new-zealand/topic/Naming.20System.20Identifiers/near/204276808\">said</a>:</p>\n<blockquote>\n<p>It was determined by the national governmental standards authority</p>\n</blockquote>\n<p>Well it seems silly that citizens working on IT standards weren't involved!  I'd expect the health minister would be able to figure out who was involved... otoh I don't have a clue how important it is, vs just plain being annoying.</p>",
        "id": 204362166,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1595180753
    },
    {
        "content": "<p>It's a little below ministerial level <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span> . Health Sector Governance wise, NZ is in a transitional state as the recently-published recommendations  of the <a href=\"https://systemreview.health.govt.nz/\">Health &amp; Disability Sector Review</a> proposed the break-up of the Ministry of Health, with all implementation concerns being passed to a new Crown Entity provisionally titled \"Health NZ\".  With this in mind - not to mention the COVID-19 response and an upcoming General Election - it's really hard to see why an Organisation that is tasked to operate at a policy level should be concerned with FHIR Implementation Details.</p>",
        "id": 204369645,
        "sender_full_name": "Peter Jordan",
        "timestamp": 1595190744
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191321\">David Hay</span> <a href=\"#narrow/stream/179178-new-zealand/topic/Naming.20System.20Identifiers/near/204276808\">said</a>:</p>\n<blockquote>\n<p>It was determined by the national governmental standards authority</p>\n</blockquote>\n<p>Great, so a bottom up system of data interoperability standards (FHIR) is being influenced in New Zealand by a top-down system of \"informing\" the community what the standards are. (Even if \"only\" Identifiers in this case, what is the next thing NZ might be 'informed\" about? This does not engender confidence to commit to doing FHIR implementations in NZ. Could get very expensive - and retroactively expensive, the worst kind.  <span class=\"user-mention\" data-user-id=\"194480\">@Mark Braunstein</span> sorry to drag you into NZ matters, but this is related to what we were talking about today regarding Provenance of data.</p>",
        "id": 204648717,
        "sender_full_name": "Hamish MacDonald",
        "timestamp": 1595412499
    },
    {
        "content": "<p>Dumb question: has anyone tried contacting the \"offending\" authority?  Perhaps they didn't realize this work's already underway, and/or perhaps they could be encouraged to rethink it, for the sake of leveraging work that's already being done by developers, vs adding work.  </p>\n<p>The ideal outcome of course would be if they ended up joining (or at least monitoring) the work!</p>",
        "id": 204654956,
        "sender_full_name": "Dave deBronkart",
        "timestamp": 1595418200
    }
]