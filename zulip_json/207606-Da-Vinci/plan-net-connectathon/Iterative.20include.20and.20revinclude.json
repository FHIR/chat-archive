[
    {
        "content": "<p>Scenario 5a is a doosey:  <code>{{url}}/Practitioner?identifier=1230782571&amp;_revinclude=PractitionerRole:practitioner&amp;_include=PractitionerRole:organization</code></p>",
        "id": 197621298,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589492050
    },
    {
        "content": "<p>Our server rejects that with </p>\n<div class=\"codehilite\"><pre><span></span><code>{\n    &quot;resourceType&quot;: &quot;OperationOutcome&quot;,\n    &quot;id&quot;: &quot;ac-1e-23-d8-de0de6ae-b3c4-45e9-910e-4cef9a025264&quot;,\n    &quot;issue&quot;: [\n        {\n            &quot;severity&quot;: &quot;fatal&quot;,\n            &quot;code&quot;: &quot;invalid&quot;,\n            &quot;details&quot;: {\n                &quot;text&quot;: &quot;The join resource type must match the resource type being searched.&quot;\n            },\n            &quot;expression&quot;: [\n                &quot;&lt;empty&gt;&quot;\n            ]\n        }\n    ]\n}\n</code></pre></div>",
        "id": 197621330,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589492087
    },
    {
        "content": "<p>and I think its right</p>",
        "id": 197621341,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589492096
    },
    {
        "content": "<p>I <em>think</em> that query is trying to say \"_revinclude practitionerRoles for this practitioner and then include all the organizations referenced from those practitionerRoles\"</p>",
        "id": 197621424,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589492152
    },
    {
        "content": "<p>but per <a href=\"https://www.hl7.org/fhir/search.html#include\">https://www.hl7.org/fhir/search.html#include</a> I think it would need an <code>iterate</code> modifier to do that</p>",
        "id": 197621508,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589492177
    },
    {
        "content": "<blockquote>\n<p>The inclusion process can be iterative, if (and only if) the modifier :iterate is included. For example, this search returns all Medication Request resources and their prescribing Practitioner Resources for the matching Medication Dispense resources:</p>\n</blockquote>\n<div class=\"codehilite\"><pre><span></span><code>GET [base]/MedicationDispense?_include=MedicationDispense:prescription\n    &amp;_include:iterate=MedicationRequest:performer&amp;criteria...\n</code></pre></div>",
        "id": 197621527,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589492189
    },
    {
        "content": "<p>I'd imagine the query could be re-written to avoid this...let me know if you'd like me to try my hand at that</p>",
        "id": 197621588,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589492226
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"225612\">@Stephen MacVicar</span></p>",
        "id": 197626533,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1589495422
    }
]