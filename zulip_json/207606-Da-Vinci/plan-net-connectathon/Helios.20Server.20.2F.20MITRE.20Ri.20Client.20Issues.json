[
    {
        "content": "<p>I successfully connected.   Initial queries of counts of various resource types is VERY slow.  It takes 2-3 minutes to perform.<br>\nThe result is:<br>\n<a href=\"/user_uploads/10155/9UDL5WxfMXSeIUVNKFcMqzvJ/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/9UDL5WxfMXSeIUVNKFcMqzvJ/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/9UDL5WxfMXSeIUVNKFcMqzvJ/image.png\"></a></div><p>In the MITRE sample data set there should be:<br>\n  158 HealthcareServices<br>\nBut otherwise counts are correct.   Is this the latest version of the sample data code?</p>",
        "id": 209718663,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1599777746
    },
    {
        "content": "<p>I get an error message trying to use the PHarmacy search:</p>\n<div class=\"codehilite\"><pre><span></span><code>D, [2020-09-10T18:42:49.182921 #86287] DEBUG -- : GET - Request: {&quot;method&quot;:&quot;get&quot;,&quot;headers&quot;:{&quot;User-Agent&quot;:&quot;Ruby FHIR Client&quot;,&quot;Accept-Charset&quot;:&quot;utf-8&quot;,&quot;Accept&quot;:&quot;application/fhir+json&quot;,&quot;Accept-Encoding&quot;:&quot;identity&quot;,&quot;Authorization&quot;:&quot;Basic ZmhpcnVzZXI6Y2hhbmdlLXBhc3N3b3Jk\\n&quot;},&quot;url&quot;:&quot;http://r4-dev.heliossoftware.com/fhir/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000\\u0026_has:OrganizationAffiliation:location:role=pharmacy\\u0026_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location\\u0026_revinclude=OrganizationAffiliation:location&quot;,&quot;password&quot;:null,&quot;user&quot;:null,&quot;uri&quot;:&quot;http://r4-dev.heliossoftware.com/fhir/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000\\u0026_has:OrganizationAffiliation:location:role=pharmacy\\u0026_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location\\u0026_revinclude=OrganizationAffiliation:location&quot;,&quot;cookie_jar&quot;:[],&quot;payload&quot;:null,&quot;block_response&quot;:null,&quot;raw_response&quot;:false,&quot;ssl_opts&quot;:{&quot;verify_ssl&quot;:0},&quot;tf&quot;:null,&quot;max_redirects&quot;:10,&quot;processed_headers&quot;:{&quot;Accept&quot;:&quot;application/fhir+json&quot;,&quot;Accept-Encoding&quot;:&quot;identity&quot;,&quot;User-Agent&quot;:&quot;Ruby FHIR Client&quot;,&quot;Accept-Charset&quot;:&quot;utf-8&quot;,&quot;Authorization&quot;:&quot;Basic ZmhpcnVzZXI6Y2hhbmdlLXBhc3N3b3Jk\\n&quot;},&quot;args&quot;:{&quot;method&quot;:&quot;get&quot;,&quot;url&quot;:&quot;http://r4-dev.heliossoftware.com/fhir/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000\\u0026_has:OrganizationAffiliation:location:role=pharmacy\\u0026_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location\\u0026_revinclude=OrganizationAffiliation:location&quot;,&quot;headers&quot;:{&quot;User-Agent&quot;:&quot;Ruby FHIR Client&quot;,&quot;Accept-Charset&quot;:&quot;utf-8&quot;,&quot;Accept&quot;:&quot;application/fhir+json&quot;,&quot;Accept-Encoding&quot;:&quot;identity&quot;,&quot;Authorization&quot;:&quot;Basic ZmhpcnVzZXI6Y2hhbmdlLXBhc3N3b3Jk\\n&quot;}},&quot;before_execution_proc&quot;:null}, Response: {\n  &quot;resourceType&quot; : &quot;OperationOutcome&quot;,\n  &quot;issue&quot; : [ {\n    &quot;severity&quot; : &quot;error&quot;,\n    &quot;code&quot; : &quot;exception&quot;,\n    &quot;diagnostics&quot; : &quot;Line 1, char 5: mismatched input &#39;OrganizationAffiliation&#39; expecting {&#39;not-in&#39;, &#39;exact&#39;, &#39;contains&#39;, &#39;of-type&#39;, &#39;below&#39;, &#39;text&#39;, &#39;in&#39;, &#39;above&#39;, &#39;not&#39;}\\nLine 1, char 91: mismatched input &#39;OrganizationAffiliation&#39; expecting {&#39;not-in&#39;, &#39;exact&#39;, &#39;contains&#39;, &#39;of-type&#39;, &#39;below&#39;, &#39;text&#39;, &#39;in&#39;, &#39;above&#39;, &#39;not&#39;}\\n\\ncom.heliossoftware.hfs.search.parse.QueryTreeParser.parse(QueryTreeParser.java:56)\\nProxyb2115520_852e_46ab_9355_266baa0626f8.parse(Unknown Source)\\ncom.heliossoftware.hfs.fhir.resources.api.AbstractFHIRResourceEndpoint.parseQuery(AbstractFHIRResourceEndpoint.java:407)\\ncom.heliossoftware.hfs.fhir.resources.api.AbstractFHIRResourceEndpoint.queryMany(AbstractFHIRResourceEndpoint.java:106)\\njdk.internal.reflect.GeneratedMethodAccessor557.invoke(Unknown Source)\\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\\norg.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:179)\\norg.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\\norg.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:201)\\norg.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:104)\\norg.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)\\norg.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96)\\norg.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)\\norg.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)\\norg.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)\\norg.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:234)\\norg.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:208)\\norg.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:160)\\norg.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:216)\\norg.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)\\norg.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:225)\\njavax.servlet.http.HttpServlet.service(HttpServlet.java:687)\\norg.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:276)\\norg.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:760)\\norg.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)\\norg.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:226)\\norg.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\norg.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\\norg.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:71)\\norg.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\\norg.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:536)\\norg.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\norg.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\\norg.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1592)\\norg.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\\norg.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1296)\\norg.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:298)\\norg.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\\norg.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)\\norg.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1562)\\norg.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\\norg.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1211)\\norg.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\\norg.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:80)\\norg.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\norg.eclipse.jetty.server.Server.handle(Server.java:500)\\norg.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:386)\\norg.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:562)\\norg.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:378)\\norg.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)\\norg.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\\norg.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\\norg.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)\\norg.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\\norg.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\\norg.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\\norg.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\\norg.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)\\norg.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\\norg.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\\njava.base/java.lang.Thread.run(Thread.java:834)\\n&quot;\n  } ```\n</code></pre></div>",
        "id": 209718803,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1599777852
    },
    {
        "content": "<p>Thanks Saul, we will have a closer look.  We have 158 in the database, will investigate why you are only seeing 138.  That query is not yet available, but may be tomorrow.  Thanks again.</p>",
        "id": 209718965,
        "sender_full_name": "Steve Munini",
        "timestamp": 1599778018
    },
    {
        "content": "<p>This is the query that fails:<br>\n<a href=\"http://r4-dev.heliossoftware.com/fhir/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000&amp;_has:OrganizationAffiliation:location:role=pharmacy&amp;_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location&amp;_revinclude=OrganizationAffiliation:location\">http://r4-dev.heliossoftware.com/fhir/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000&amp;_has:OrganizationAffiliation:location:role=pharmacy&amp;_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location&amp;_revinclude=OrganizationAffiliation:location</a></p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;OperationOutcome&quot;,\n  &quot;issue&quot;: [\n    {\n      &quot;severity&quot;: &quot;error&quot;,\n      &quot;code&quot;: &quot;exception&quot;,\n      &quot;diagnostics&quot;: &quot;Line 1, char 5: mismatched input &#39;OrganizationAffiliation&#39; expecting {&#39;not-in&#39;, &#39;exact&#39;, &#39;contains&#39;, &#39;of-type&#39;, &#39;below&#39;, &#39;text&#39;, &#39;in&#39;, &#39;above&#39;, &#39;not&#39;}\\nLine 1, char 91: mismatched input &#39;OrganizationAffiliation&#39; expecting {&#39;not-in&#39;, &#39;exact&#39;, &#39;contains&#39;, &#39;of-type&#39;, &#39;below&#39;, &#39;text&#39;, &#39;in&#39;, &#39;above&#39;, &#39;not&#39;}\\n\\ncom.heliossoftware.hfs.search.parse.QueryTreeParser.parse(QueryTreeParser.java:56)\\nProxyb2115520_852e_46ab_9355_266baa0626f8.parse(Unknown Source)\\ncom.heliossoftware.hfs.fhir.resources.api.AbstractFHIRResourceEndpoint.parseQuery(AbstractFHIRResourceEndpoint.java:407)\\ncom.heliossoftware.hfs.fhir.resources.api.AbstractFHIRResourceEndpoint.queryMany(AbstractFHIRResourceEndpoint.java:106)\\njdk.internal.reflect.GeneratedMethodAccessor557.invoke(Unknown Source)\\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\\norg.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:179)\\norg.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\\norg.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:201)\\norg.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:104)\\norg.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)\\norg.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96)\\norg.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)\\norg.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)\\norg.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)\\norg.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:234)\\norg.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:208)\\norg.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:160)\\norg.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:216)\\norg.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)\\norg.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:225)\\njavax.servlet.http.HttpServlet.service(HttpServlet.java:687)\\norg.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:276)\\norg.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:760)\\norg.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)\\norg.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:226)\\norg.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\norg.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\\norg.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:71)\\norg.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\\norg.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:536)\\norg.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\norg.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\\norg.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1592)\\norg.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\\norg.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1296)\\norg.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:298)\\norg.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\\norg.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)\\norg.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1562)\\norg.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\\norg.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1211)\\norg.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\\norg.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:80)\\norg.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\norg.eclipse.jetty.server.Server.handle(Server.java:500)\\norg.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:386)\\norg.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:562)\\norg.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:378)\\norg.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:270)\\norg.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\\norg.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\\norg.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)\\norg.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\\norg.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\\norg.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\\norg.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\\norg.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:388)\\norg.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\\norg.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\\njava.base/java.lang.Thread.run(Thread.java:834)\\n&quot;\n    }\n  ]\n}```\n</code></pre></div>",
        "id": 209719683,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1599778614
    }
]