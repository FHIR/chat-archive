[
    {
        "content": "<p>Got into a deep discussion around semantics of provider taxonomy vs specialty with our subject matter experts today.  We have provider taxonomy codes that we're trying to map into the fields on a PractitionerRole resource.<br>\nI recommended we map those into the PractitionerRole.specialty element, but there was some concern over the term \"specialty\".<br>\nApparently, \"specialty\" is only one of the 3 components that goes into the NUCC taxonomy code.</p>\n<p>Can someone confirm whether PractitionerRole.specialty is the proper field for mapping the entire taxonomy code?</p>",
        "id": 191257450,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1584717919
    },
    {
        "content": "<p>The US Core PractitionerRole has an Extensible binding to <a href=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html\">https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html</a> ...is that the full set of NUCC codes or just a subset?<br>\nUPDATE:  I was looking at the wrong one before (<a href=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html\">https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html</a> vs <a href=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html\">https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html</a>) ... now I see the specialty one contains all NUCC provider-taxonomy codes, so I think it answers my question</p>",
        "id": 191257645,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1584717981
    },
    {
        "content": "<p>is there an existing mapping from a specialty code (<a href=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html\">https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html</a>) to the corresponding \"role\" code (<a href=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html\">https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html</a> )...is it safe to just zero-out the specialty digits (chars 5-9) or we need a real mapping?</p>",
        "id": 191272207,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1584723921
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191676\">@Lee Surprenant</span> These Role and Speciality value sets are a bit of a mess and there is some work occurring for the Provider Directory project that is part of Da Vinci that is tackling this within that context. We're meeting next week and may have more clarity after that - noting that this is not US Core doing the work, it's is a project that is expected to be conformant, but may end up with reasons to request a variance. I really can't say anything more than that because it's still under discussion. Bottom line is I'd wait on mapping. I'd be very interested in what you currently have locally for these. Can you PM me, or comment here?</p>",
        "id": 191301055,
        "sender_full_name": "Robert McClure",
        "timestamp": 1584737659
    },
    {
        "content": "<p>Thanks Robert, thats really good to know.  We're doing a mapping exercise now and it seems like the source system has a \"Provider Taxonomy\" field and a local-system-specific provider \"type\" code .  So now we're trying to decide which one we use to populate the \"PractitionerRole.code\" value (which is required by US Core and has an Extensible binding to this subset of NUCC codes).<br>\n<span class=\"user-mention\" data-user-id=\"274690\">@Kim M DeMars</span> is there any sample data we can share with Robert here (or privately in DM)?</p>",
        "id": 191303860,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1584739137
    },
    {
        "content": "<p>did some work on this for VHDIR and here is a discussion: </p>\n<p><a href=\"#narrow/stream/179175-argonaut/topic/NUCC.20provider.20taxonomy\" title=\"#narrow/stream/179175-argonaut/topic/NUCC.20provider.20taxonomy\">https://chat.fhir.org/#narrow/stream/179175-argonaut/topic/NUCC.20provider.20taxonomy</a></p>\n<p><span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span>  I think the VHDIR work is being used by Da Vinci... hopefully they can reuse some of these hash tables too.</p>",
        "id": 191307516,
        "sender_full_name": "Eric Haas",
        "timestamp": 1584741188
    },
    {
        "content": "<p>Examples of \"Provider Types (from Client specific data)03   Extended Care Facility<br>\n05  Home Health Agency<br>\n08  Clinic<br>\n09  Advance Practice Nurse<br>\n12  Special Services<br>\n14  Podiatrist<br>\n15  Chiropractor<br>\n17  Therapist<br>\n18  Optometrist<br>\n19  Optician<br>\n22  Local Health Department<br>\n24  Pharmacy<br>\n25  DME/Medical Supply Dealer<br>\n26  Transportation Provider<br>\n27  Dentist<br>\n28  Laboratory<br>\n29  Radiology<br>\n31  Physician<br>\n32  Nurse Midwife</p>\n<p>Goal would be to be able to take the provider taxonomy and to ingest first the entire taxonomy and then to parse it into the 3 levels - level 1 provider type, level 2 provider classification and level 3 provider specialty.  Then we have standardization and if needed can map client specific data elements to the standard.</p>",
        "id": 191486073,
        "sender_full_name": "Kim M DeMars",
        "timestamp": 1584975989
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191503\">@Robert McClure</span> is that what you were looking for?   ^</p>\n<p>To be clear, I think our decision point is whether to <br>\nA. try mapping these custom/local role codes (which may differ from 1 deployment to the next) to the NUCC ones listed at <a href=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html\">https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html</a> ; or<br>\nB. try mapping the full NUCC taxonomy codes into the higher-level codes listed at <a href=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html\">https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html</a> ; or<br>\nC. not use this valueset for PractitionerRole.code</p>\n<p>I was hoping there would be some easy way to do option B</p>",
        "id": 191515727,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1584987721
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I see the snippet from your mapping from NUCC taxonomy code to NUCC role codes at <a href=\"#narrow/stream/179175-argonaut/topic/NUCC.20provider.20taxonomy/near/157290544\" title=\"#narrow/stream/179175-argonaut/topic/NUCC.20provider.20taxonomy/near/157290544\">https://chat.fhir.org/#narrow/stream/179175-argonaut/topic/NUCC.20provider.20taxonomy/near/157290544</a> ...are the full mappings published somewhere?  If not, are you willing to share that full python dictionary?</p>",
        "id": 191516424,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1584988047
    },
    {
        "content": "<p>lemme find them...</p>",
        "id": 191527180,
        "sender_full_name": "Eric Haas",
        "timestamp": 1584993140
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/VhDir/blob/master/notes_and_tools/example-generation/nucc_maps.py\" target=\"_blank\" title=\"https://github.com/HL7/VhDir/blob/master/notes_and_tools/example-generation/nucc_maps.py\">https://github.com/HL7/VhDir/blob/master/notes_and_tools/example-generation/nucc_maps.py</a></p>",
        "id": 191528999,
        "sender_full_name": "Eric Haas",
        "timestamp": 1584993940
    },
    {
        "content": "<p>I can turn them into csv or other formats if you need, even a concept mapping.</p>",
        "id": 191529138,
        "sender_full_name": "Eric Haas",
        "timestamp": 1584993999
    },
    {
        "content": "<p>In prep for FHIR Connectathon 24, I noticed that the test data for the PDEX Plan-Net track is using the full taxonomy code instead of using the zeroed out values from the valueset.</p>",
        "id": 197299849,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589299911
    },
    {
        "content": "<p>I'm thinking I'll open that as an issue at <a href=\"https://github.com/HL7-DaVinci/pdex-plan-net-sample-data\">https://github.com/HL7-DaVinci/pdex-plan-net-sample-data</a> but I found it pretty interesting given the discussion above</p>",
        "id": 197299999,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589299989
    },
    {
        "content": "<p>cc: <span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> re: PDex Plan-Net sample data.</p>",
        "id": 197300246,
        "sender_full_name": "May Terry",
        "timestamp": 1589300109
    },
    {
        "content": "<p>oh, actually, i guess the latest Provider Directory IG no longer includes an extensible binding to that subset of NUCC codes...so maybe its not an issue</p>",
        "id": 197301142,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589300536
    },
    {
        "content": "<p>I was still looking at the snapshot at <a href=\"http://hl7.org/fhir/us/davinci-pdex-plan-net/2020Feb/StructureDefinition-plannet-PractitionerRole.html\">http://hl7.org/fhir/us/davinci-pdex-plan-net/2020Feb/StructureDefinition-plannet-PractitionerRole.html</a></p>",
        "id": 197301215,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589300585
    },
    {
        "content": "<p>What do you mean by \" zeroed out values from the valueset.\"?</p>",
        "id": 197303854,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1589301818
    },
    {
        "content": "<p>BTW:  The Reference implementation still reflects the Ballotted IG, not the CI Build IG.</p>",
        "id": 197303958,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1589301853
    },
    {
        "content": "<p>I mean the difference between <a href=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html\">https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html</a> and <a href=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html\">https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-specialty.html</a></p>",
        "id": 197305392,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589302503
    },
    {
        "content": "<p>in the balloted version of plan-net, PractitionerRole.code has an extensible binding to <a href=\"https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html\">https://www.hl7.org/fhir/us/core/ValueSet-us-core-provider-role.html</a> which is the subset of NUCC codes that includes <code>type</code> and <code>classification</code> but not <code>specialty</code></p>",
        "id": 197305824,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589302699
    },
    {
        "content": "<p>whereas the sample data includes full taxonomy codes (which include <code>specialty</code>)</p>",
        "id": 197305867,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589302721
    },
    {
        "content": "<p>so in the sample data where it has:<br>\n<code>  \"code\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"http://nucc.org/provider-taxonomy\",\n          \"code\": \"363LA2200X\",\n          \"display\": \"Adult Health\"\n        }\n      ],\n      \"text\": \"Adult Health\"\n    }\n  ],\n  \"specialty\": [\n    {\n      \"coding\": [\n        {\n          \"system\": \"http://nucc.org/provider-taxonomy\",\n          \"code\": \"363LA2200X\",\n          \"display\": \"Adult Health\"\n        }\n      ],\n      \"text\": \"Adult Health\"\n    }\n  ],</code><br>\nI was expecting the code to be 363L00000X (Nurse Practitioner)</p>",
        "id": 197306121,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589302830
    },
    {
        "content": "<p>anyway, I doubt its worth \"fixing\" since that latest version of the spec removes that binding</p>",
        "id": 197306200,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589302879
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191676\">@Lee Surprenant</span> I'm working on some of this with <span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> and I'm a bit confused by what you are saying. Can you explain what you mean by type, classification, specialty? NUCC PT does not have subsets designated as \"type, classification, specialty.\"</p>",
        "id": 197418266,
        "sender_full_name": "Robert McClure",
        "timestamp": 1589379177
    },
    {
        "content": "<p>disclosure:  i'm not a real subject-matter-expert on NUCC...I'm just translating what our business analyst <span class=\"user-mention\" data-user-id=\"274690\">@Kim M DeMars</span> was telling me.<br>\nNUCC codes are hierarhical and composed of three components:  type is the first 3 chars, classification is the next 1, then specialty is 5, then X.  or something close to that</p>",
        "id": 197437632,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589386864
    },
    {
        "content": "<p>so the code <code>363LA2200X</code> would be the full taxonomy code...its fully specified and most specific and everyone agrees its a good fit for PractitionerRole.specialty</p>",
        "id": 197438170,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589387099
    },
    {
        "content": "<p>the question is what to do for PractitionerRole.code</p>",
        "id": 197438205,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589387114
    },
    {
        "content": "<p>in the balloted version, there was a valueset of NUCC codes which seems to roughly translate to \"higher-level\" NUCC codes which include the first 4 chars (type and classification), usually followed by 5 zeroes (no specialty)</p>",
        "id": 197438304,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589387162
    },
    {
        "content": "<p>and in the generated sample data, the PractitionerRoles.code values are not members of that valueset</p>",
        "id": 197439155,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1589387510
    }
]