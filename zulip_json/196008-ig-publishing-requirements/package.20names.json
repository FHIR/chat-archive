[
    {
        "content": "<p>Package name for affiliates is <code>hl7.fhir.realm.code</code><br>\nWhat should the package name for other orgs like openHIE?</p>",
        "id": 272997092,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645643381
    },
    {
        "content": "<p>i recall a discussion before where I pointed out the IHE pattern, and <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> said he was going to add that pattern. I guess from my experience today with go-publish that that IHE pattern is not yet in the tooling.</p>",
        "id": 272998469,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645644064
    },
    {
        "content": "<p>right. what should the pattern be? for OHIE, IHE, WHO, ?</p>",
        "id": 272998531,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645644106
    },
    {
        "content": "<p>any recommendations?</p>",
        "id": 272998764,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645644208
    },
    {
        "content": "<p><code>&lt;org&gt;.fhir.&lt;domain&gt;.&lt;id&gt;</code> ?</p>",
        "id": 272999501,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645644538
    },
    {
        "content": "<p>no all IGs will be fhir</p>",
        "id": 273002298,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645645896
    },
    {
        "content": "<p>and an IG might have FHIR in it, and other standards too.</p>",
        "id": 273002347,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645645922
    },
    {
        "content": "<p>not clear why the id needs to be replicated after org and domain, since id tends to already include the org and domain.</p>",
        "id": 273002524,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645645994
    },
    {
        "content": "<p>id include org and domain?</p>",
        "id": 273002582,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645646020
    },
    {
        "content": "<p>what I mean by &lt;id&gt;, in IHE would be mhd</p>",
        "id": 273002672,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645646059
    },
    {
        "content": "<p>in ihe case. yes. our id has a pattern of \"IHE\".&lt;domain&gt;.&lt;ig name&gt;</p>",
        "id": 273002708,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645646076
    },
    {
        "content": "<p>ok clearer: <code>&lt;org&gt;.fhir.&lt;domain&gt;.&lt;code&gt;</code> (for the FHIR IGs)</p>",
        "id": 273002721,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645646084
    },
    {
        "content": "<p>like: hl7.fhir.dk.core</p>",
        "id": 273002834,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646135
    },
    {
        "content": "<p>I still don't think \".fhir\" should be a mandatory part of it</p>",
        "id": 273002933,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645646174
    },
    {
        "content": "<p>it aint mandatory ... but if its a FHIR IG, it should be there</p>",
        "id": 273002974,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646198
    },
    {
        "content": "<p>Jose is showing it as mandatory</p>",
        "id": 273003002,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645646211
    },
    {
        "content": "<p>well ... it should be mandatory for FHIR IG's</p>",
        "id": 273003057,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646239
    },
    {
        "content": "<p>hl7.cda.something.somethingelse should be valid for non-fhir</p>",
        "id": 273003091,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646257
    },
    {
        "content": "<p>but that just aint a FHIR IG</p>",
        "id": 273003116,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646269
    },
    {
        "content": "<p>what would you have for IHE? ihe.iti.mhd? how would you distinguish the FHIR package from the non-FHIR package</p>",
        "id": 273003137,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645646277
    },
    {
        "content": "<p>ihe.fhir.iti.mhd would be my sugggestion ... for a IHE IG based on FHIR</p>",
        "id": 273003267,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646328
    },
    {
        "content": "<p>I’d disagree. Most organizations aren’t going to publish anything but a FHIR IG. It’s fine to omit. If your really care, the type element in package.json will tel you.</p>",
        "id": 273003277,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1645646332
    },
    {
        "content": "<p>naming is important</p>",
        "id": 273003321,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646347
    },
    {
        "content": "<p>you should also care</p>",
        "id": 273003372,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646369
    },
    {
        "content": "<p>I couldn't find it before but this is a continuation of the discussion in <a href=\"#narrow/stream/179252-IG-creation/topic/NPM.20package.20name\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/NPM.20package.20name</a></p>",
        "id": 273003609,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645646457
    },
    {
        "content": "<p>the current structure is hl7.fhir.&lt;realm&gt;.&lt;code&gt; - for hl7 and affiliates</p>",
        "id": 273003828,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645646581
    },
    {
        "content": "<p>I guess that is at least something we can/should agree on</p>",
        "id": 273003887,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646607
    },
    {
        "content": "<p>yes</p>",
        "id": 273003917,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645646623
    },
    {
        "content": "<p>I guess we can iterate from there if we need to</p>",
        "id": 273003945,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645646641
    },
    {
        "content": "<p>now - anyone else could follow along with that naming scheme ... or invent their own to cause confusion for all others</p>",
        "id": 273004030,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646670
    },
    {
        "content": "<p><span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 273004051,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645646682
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/196008-ig-publishing.20requirements/topic/package.20names/near/273003137\">said</a>:</p>\n<blockquote>\n<p>what would you have for IHE? ihe.iti.mhd? how would you distinguish the FHIR package from the non-FHIR package</p>\n</blockquote>\n<p>mhd is not a good example, as the name itself says it is fhir... But lets discuss an abstract model with a fhir implementation and a cda implementation. I might suggest that the abstract one would be &lt;org&gt;.&lt;domain&gt;.&lt;name&gt;, and the fhir one would be &lt;org&gt;.&lt;domain&gt;.&lt;name&gt;.fhir, and the cda one would be &lt;org&gt;.&lt;domain&gt;.&lt;name&gt;.cda. Putting this fhir vs cda inbetween the org and domain is not logical at all.</p>",
        "id": 273005405,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645647326
    },
    {
        "content": "<p>hl7 can choose that. I don't want to impose any pattern. I don't see any reason to impose a pattern. I do see a reason to have the publisher know the patterns for the &lt;org&gt; using the publisher.</p>",
        "id": 273005581,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645647400
    },
    {
        "content": "<p>IHE has a long standing pattern like this... with PDQ and PIX... had a pattern going with XD* but consensus agreed that MHD should break that pattern.</p>",
        "id": 273005793,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645647490
    },
    {
        "content": "<p>but the .fhir. doesn't mean the technology, it means the type of package</p>",
        "id": 273006498,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645647839
    },
    {
        "content": "<p>I don't know about the long standing pattern. Besides HL7, the official IG publications are relatively recent. If that influences our package naming convention, I think now is the time.</p>",
        "id": 273006959,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645648071
    },
    {
        "content": "<p>ihe can choose what to do for their own packages. I have advised IHE to think ahead and consider the possibility that they'll publish npm packages for non-fhir use, but they've decided to go for simpler and just use ihe.iti.mhd. That's fine</p>",
        "id": 273027452,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645659434
    },
    {
        "content": "<p>the IHE naming rules provider is here:</p>",
        "id": 273027545,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645659488
    },
    {
        "content": "<p>org.hl7.fhir.igtools.publisher.utils.WebSiteLayoutRulesProviders.IHENamingRulesProvider</p>",
        "id": 273027551,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645659495
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>  // IHE case differs, but not predictably, so we can&#39;t check case. \n  // canonical is https://profiles.ihe.net/${domain}/${profile} - see https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/IG.20Release.20Publication.20procedure/near/268010908\n</code></pre></div>",
        "id": 273027573,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645659515
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> is this no longer true?</p>",
        "id": 273027588,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645659534
    },
    {
        "content": "<p>I have moved to lowercase all id values. but the canonical paths would still have uppercase in them. I did not understand that canonicals also had to be all lowercase</p>",
        "id": 273030299,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645661359
    },
    {
        "content": "<p>no they don't have to be - the check is case insensitive, so I don't understand your problem - the code checks that the canonical URL is <a href=\"https://profiles.ihe.net/ITI/MHD\">https://profiles.ihe.net/ITI/MHD</a> (case insensitively). So what's the problem?</p>",
        "id": 273031113,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645662002
    },
    {
        "content": "<p>the error says it was not \"<a href=\"http://profiles.ihe.net/fhir/mhd\">http://profiles.ihe.net/fhir/mhd</a>\"  note it is looking for 'fhir', not \"iti\"</p>",
        "id": 273034044,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645664176
    },
    {
        "content": "<p>correction</p>\n<div class=\"codehilite\"><pre><span></span><code>ERROR @ parameters: canonical URL of http://profiles.ihe.net/ITI/MHD does not match the required canonical of https://profiles.ihe.net/mhd/fhir (src = Publisher)\n</code></pre></div>",
        "id": 273035133,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645664961
    },
    {
        "content": "<p>so it is telling me the required canonical is ... \"mhd/fhir\"</p>",
        "id": 273035226,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645665004
    },
    {
        "content": "<p>hmm what's the package id?</p>",
        "id": 273039279,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645669148
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> it seems the package names don't match<br>\nihe.ITI.MHD<br>\nor ihe.mhd.fhir?<br>\n(the first one is what is in the code and reporting to the zulip discussion; but the IHE package that is currently in MHD is the latter)</p>",
        "id": 273052423,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645684261
    },
    {
        "content": "<p>my proposal to fix:<br>\nihe package names should be lowercase and in the format ihe.fhir.&lt;domain&gt;.&lt;id&gt;</p>",
        "id": 273052491,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645684330
    },
    {
        "content": "<p>in fact, <br>\n&lt;org&gt; package names should be lowercase and in the format &lt;org&gt;.fhir.&lt;domain&gt;.&lt;id&gt;</p>",
        "id": 273052514,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645684358
    },
    {
        "content": "<p>I like that pattern, but IHE don't need to follow it</p>",
        "id": 273070379,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645698043
    },
    {
        "content": "<p>right, but IHE needs to have one pattern</p>",
        "id": 273070993,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645698391
    },
    {
        "content": "<p>the package name can NOT have a period. They must start with an uppercase character.</p>",
        "id": 273079540,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645703937
    },
    {
        "content": "<p>so it can't be the same as the id, and it can't be lowercase.</p>",
        "id": 273079607,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645704002
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>id: ihe.mhd.fhir\ncanonical: http://profiles.ihe.net/ITI/MHD\nname: IHE_MHD\n</code></pre></div>",
        "id": 273079757,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645704070
    },
    {
        "content": "<p>This id is historic, and I don't want to change it.  It is close to the current IHE recommended pattern, it was lowercase from the beginning. This name is historic and I don't want to change it. It is also close to the IHE recommended pattern. IHE is changing other IGs id (PIXm, and PDQm) because of this newly declared demand that id values be all lowercase. When will these hidden rules stop? Why is the very last step of publication imposing rules that were never declared and never even warned about during QA?  I don't blame, I just ask about process. Specifically process where zulip discussions are declaring that someone elses pattern is wrong.</p>",
        "id": 273080596,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645704647
    },
    {
        "content": "<p>If we have these patterns we want to impose... then have them enforced from the beginning, not change over time and change at random.</p>",
        "id": 273080675,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645704711
    },
    {
        "content": "<p>the case thing... not documenting that was an oversight on my part. Other than that... the pattern is fine.</p>",
        "id": 273082334,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645705722
    },
    {
        "content": "<p>so, on the original question (what organizations such as OpenHIE can use as a pattern):</p>",
        "id": 273090781,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645710465
    },
    {
        "content": "<p><code>&lt;org&gt;.fhir.&lt;domain&gt;.&lt;id&gt;</code> seems robust(?)</p>",
        "id": 273090938,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645710544
    },
    {
        "content": "<p>it seems that I was confused. the IHE pattern is <code>ihe.&lt;domain&gt;.&lt;code&gt;</code><br>\nthe thing above, <code>ihe.mhd.fhir</code> is an exception, it is not the rule. So the publisher should support <code>ihe.&lt;domain&gt;.&lt;code&gt;</code> (as it is now, I guess)</p>",
        "id": 273140568,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645732215
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> can you confirm?</p>",
        "id": 273140597,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645732229
    },
    {
        "content": "<p>could be. But IHE might prefer &lt;org&gt;.&lt;domain&gt;.&lt;id&gt;.&lt;format&gt; so ihe.iti.mhd.fhir. I did it the other way for HL7 for organizational reasons.</p>",
        "id": 273140611,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645732235
    },
    {
        "content": "<p>yes</p>",
        "id": 273140663,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645732260
    },
    {
        "content": "<p>but the trailing .fhir might be optional.</p>",
        "id": 273140679,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645732269
    },
    {
        "content": "<p>I'll see how that works out with profiles that will include GS1 and FHIR for example. I don't think a suffix is needed. and I do think the .fhir. is the type of publication (i.e. not a PDF), not the format of the specification. But I will discuss that in a coming IHE call</p>",
        "id": 273142330,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645733039
    },
    {
        "content": "<p>the IG publisher is not limited to FHIR specifications. I think even you are using it for logical models, and I think it is being used for CDA and v2 soon.</p>",
        "id": 273142954,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645733349
    },
    {
        "content": "<p>not going to get a package for a pdf - the packages are inherently supporting collateral. You might have an xml package that contains schemas etc, or you might have a javascript package that has a reference implementation</p>",
        "id": 273142961,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645733354
    },
    {
        "content": "<p>I would not make a package for pdf, the point is that the .fhir. there explains that type of package it is.</p>",
        "id": 273143192,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645733472
    },
    {
        "content": "<p>but as long as we only publish that kind of package we're good.</p>",
        "id": 273143215,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645733486
    },
    {
        "content": "<p>indeed a javascript or other package is interesting - and that is not a suffix IMO</p>",
        "id": 273143269,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645733518
    },
    {
        "content": "<p>well, say there was one for mhd, what would the package id be?</p>",
        "id": 273143440,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645733619
    },
    {
        "content": "<p>though interesting -for fhir it would be something like hl7.fhir.us.core.js</p>",
        "id": 273143466,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645733638
    },
    {
        "content": "<p>I read this as \"an <strong>hl7</strong>-issued package, with <strong>FHIR</strong>-related content, applicable to the <strong>US</strong>, called <strong>core</strong>, and with some javascript things in it\"</p>",
        "id": 273144238,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645733853
    },
    {
        "content": "<p>(this is academic and subjective but I think the .js would fit best next to the FHIR than at the end)</p>",
        "id": 273144497,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645733922
    },
    {
        "content": "<p>I think I'll bring this up when we have some standards mixed in an ig</p>",
        "id": 273144564,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645733979
    },
    {
        "content": "<p>On <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> 's original question, except for some \"well-known\" international organizations we should probably encourage reverse domain name for the <code>&lt;org&gt;</code> part to prevent clashes.</p>",
        "id": 273174586,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1645753465
    }
]