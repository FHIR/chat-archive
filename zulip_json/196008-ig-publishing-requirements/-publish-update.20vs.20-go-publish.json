[
    {
        "content": "<p>what is the difference between the ig builder <code>-publish-update</code> vs <code>-go-publish</code>? <br>\nI am noticing that <a href=\"https://confluence.hl7.org/display/FHIR/HL7+Process+for+Publishing+a+FHIR+IG\">https://confluence.hl7.org/display/FHIR/HL7+Process+for+Publishing+a+FHIR+IG</a> now uses <code>-go-publish</code>, yet when I first created the IHE equivalent process <code>-publish-update</code> was the last step. Which should I use?</p>",
        "id": 267574847,
        "sender_full_name": "John Moehrke",
        "timestamp": 1641904742
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> I'm trying to get the \"quick procedure\" fixed/adapted to the go-publish option</p>",
        "id": 267846149,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1642067783
    },
    {
        "content": "<p>what is the meaning of -publish-update vs -go-publish?</p>",
        "id": 267864989,
        "sender_full_name": "John Moehrke",
        "timestamp": 1642078842
    },
    {
        "content": "<p>I don't know what -publish-update is for any more. -go-publish is the only one I support. Have you looked at the documentation I wrote for it?</p>",
        "id": 267918420,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642102181
    },
    {
        "content": "<p>I can switch to -go-publish.   where is this documentation that I should read&gt;?</p>",
        "id": 269161190,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643053039
    },
    {
        "content": "<p>Probably here: <a href=\"https://confluence.hl7.org/pages/viewpage.action?pageId=81027536#MaintainingaFHIRIGPublication-Runningthebuild\">https://confluence.hl7.org/pages/viewpage.action?pageId=81027536#MaintainingaFHIRIGPublication-Runningthebuild</a></p>",
        "id": 269175378,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643059696
    },
    {
        "content": "<p>yup, have been referring to that.</p>",
        "id": 269177048,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643060585
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - I'm seeing errors running <code>go-publish</code>:</p>\n<div class=\"codehilite\"><pre><span></span><code>onGenerate:\nException generating page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/ncludes/menu.xml for _includes/ncludes/menu.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/ncludes/menu.xml (No such file or directory) (00:27.0157)\nException generating xslt page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/index.xml for _includes/content/index.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/index.xml (No such file or directory) (00:27.0183)\nException generating xslt page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/downloads.xml for _includes/content/downloads.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/downloads.xml (No such file or directory) (00:27.0198)\nException generating xslt page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/background.xml for _includes/content/background.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/background.xml (No such file or directory) (00:27.0215)\nException generating page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/spec.md for _includes/content/spec.md in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/spec.md (No such file or directory) (00:27.0219)\nException generating xslt page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/changes.xml for _includes/content/changes.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/changes.xml (No such file or directory) (00:27.0234)\nException generating page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/p/pages/_includes/artifacts.xml for p/pages/_includes/artifacts.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/p/pages/_includes/artifacts.xml (No such file or directory) (00:27.0238)\nGenerating Summary Outputs                                                       (00:27.0242)\nPublishing Content Failed: Template based HTML file index.html is missing source file index.xml (00:29.0534)\n</code></pre></div>",
        "id": 269183777,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643064463
    },
    {
        "content": "<p>And here's another:</p>\n<div class=\"codehilite\"><pre><span></span><code>ig-release % java -jar publisher.jar -go-publish -source hl7.fhir.dk.core -destination web-root -registry ig-registry/fhir-ig-list.json -history ig-history\nException publishing: Cannot invoke &quot;String.equals(Object)&quot; because the return value of &quot;org.hl7.fhir.utilities.json.JSONUtil.str(com.google.gson.JsonObject, String)&quot; is null\njava.lang.NullPointerException: Cannot invoke &quot;String.equals(Object)&quot; because the return value of &quot;org.hl7.fhir.utilities.json.JSONUtil.str(com.google.gson.JsonObject, String)&quot; is null\n    at org.hl7.fhir.igtools.publisher.utils.PublicationProcess.publishInner(PublicationProcess.java:140)\n    at org.hl7.fhir.igtools.publisher.utils.PublicationProcess.publish(PublicationProcess.java:61)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8851)\nFull log in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/publication-process.log\n</code></pre></div>",
        "id": 269185250,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643065307
    },
    {
        "content": "<p>I have trouble with go-publish not recognizing my destination {root}. Is it because go-publish presumes there is a /uv folder in that destination?</p>",
        "id": 269260927,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643119591
    },
    {
        "content": "<p>Note, I had previously built IHE process off of this confluence that uses publish-update <a href=\"https://confluence.hl7.org/pages/viewpage.action?pageId=104580055\">https://confluence.hl7.org/pages/viewpage.action?pageId=104580055</a></p>",
        "id": 269263731,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643120780
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> this really seems like your IG or your setup</p>",
        "id": 269279025,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1643126781
    },
    {
        "content": "<p>the go-publish is working fine - <em>almost</em></p>",
        "id": 269279632,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1643127039
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> are you running on windows?</p>",
        "id": 269310387,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643138926
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191427\">Jens Villadsen</span> <a href=\"#narrow/stream/196008-ig-publishing.20requirements/topic/-publish-update.20vs.20-go-publish/near/269183777\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> - I'm seeing errors running <code>go-publish</code>:</p>\n<p><div class=\"codehilite\"><pre><span></span><code>onGenerate:\nException generating page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/ncludes/menu.xml for _includes/ncludes/menu.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/ncludes/menu.xml (No such file or directory) (00:27.0157)\nException generating xslt page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/index.xml for _includes/content/index.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/index.xml (No such file or directory) (00:27.0183)\nException generating xslt page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/downloads.xml for _includes/content/downloads.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/downloads.xml (No such file or directory) (00:27.0198)\nException generating xslt page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/background.xml for _includes/content/background.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/background.xml (No such file or directory) (00:27.0215)\nException generating page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/spec.md for _includes/content/spec.md in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/spec.md (No such file or directory) (00:27.0219)\nException generating xslt page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/changes.xml for _includes/content/changes.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/_includes/content/changes.xml (No such file or directory) (00:27.0234)\nException generating page /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/p/pages/_includes/artifacts.xml for p/pages/_includes/artifacts.xml in /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages: /var/folders/6w/8shtbtss7yjcm2_y9yv2x1hh0000gn/T/hl7.fhir.be.core#0.0.1/temp/pages/p/pages/_includes/artifacts.xml (No such file or directory) (00:27.0238)\nGenerating Summary Outputs                                                       (00:27.0242)\nPublishing Content Failed: Template based HTML file index.html is missing source file index.xml (00:29.0534)\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>I was hit by this error on two different mac's. Has the go-publish been tested on macOS?</p>",
        "id": 269310568,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643139002
    },
    {
        "content": "<p>does this happen also when running _genonce?</p>",
        "id": 269310729,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1643139057
    },
    {
        "content": "<p>it happens when running <code>java -jar publisher.jar -go-publish  ...</code></p>",
        "id": 269312462,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643139817
    },
    {
        "content": "<p>As can be seen, the temp folder has changed - which could very well be the reason. The temp folder used to be in the working dir - at least in 1.1.94 I believe - which is not the case as far as I can tell</p>",
        "id": 269312628,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643139885
    },
    {
        "content": "<p>hmmm ... explicitly stating another temp directory made it work</p>",
        "id": 269314445,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643140487
    },
    {
        "content": "<p>There was some note a few weeks ago about Mac and temp folders</p>",
        "id": 269318900,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1643142407
    },
    {
        "content": "<p>It's the Mac curse.. :)</p>",
        "id": 269319202,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1643142538
    },
    {
        "content": "<p>so if it a curse on mac, why not default to a designated temp folder always?</p>",
        "id": 269319418,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1643142608
    },
    {
        "content": "<p>I was joking about the Mac curse (or was I? Perhaps the Mac curse is much deeper than a temp folder ...)</p>",
        "id": 269319896,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1643142835
    },
    {
        "content": "<p>I use windows, yes.. but I am not getting anywhere with go-publish</p>",
        "id": 269319902,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643142837
    },
    {
        "content": "<p>I have, for now, gone back to publish-updates</p>",
        "id": 269319980,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643142873
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> we can get it to work for ihe in a call - but I would prefer to wait for the fix of the bug I think I found</p>",
        "id": 269320427,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1643143101
    },
    {
        "content": "<p>Next time IHE does formal pub will be end of February.  So we have time.</p>",
        "id": 269350291,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643159728
    },
    {
        "content": "<p>Still wonder what's wrong with what I'm using today?</p>",
        "id": 269350315,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643159756
    },
    {
        "content": "<p>it's some bug I've not figured out on the mac - the default temp folder is mis-reported somewhere somehow, so you have to specify your own temp folder. I've never understood why you get those failures, but you do. A path length thing? Something weird for sure.</p>",
        "id": 269521053,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643253827
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  <a href=\"https://github.com/HL7/fhir-ig-publisher/issues/380\">https://github.com/HL7/fhir-ig-publisher/issues/380</a> I think this needs to be fixed (I can't see how this would work)</p>",
        "id": 269553553,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1643280198
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I've been digging into an issue that neither me or <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> understand. We see that packages that depend on eg. DK Core seem to have the wrong Web base. As can be seen on eg. <a href=\"/user_uploads/10155/It69AMzI-_h1L7ToHGqZB8sI/image.png\">image.png</a> - all references in the MedCom core that points to the DK Core has the <code>/ImplementationGuide/hl7.fhir.dk.core</code> as part of the reference which is wrong - eg. <a href=\"https://hl7.dk/fhir/core/ImplementationGuide/hl7.fhir.dk.core/1.1.0/StructureDefinition-dk-core-patient.html\">https://hl7.dk/fhir/core/ImplementationGuide/hl7.fhir.dk.core/1.1.0/StructureDefinition-dk-core-patient.html</a> should have been <a href=\"https://hl7.dk/fhir/core/1.1.0/StructureDefinition-dk-core-patient.html\">https://hl7.dk/fhir/core/1.1.0/StructureDefinition-dk-core-patient.html</a>. As far as both me and <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> can tell, this is something that happens within the publisher as the string (/ImplementationGuide/hl7.fhir.dk.core) cannot be found within the outcome generated by sushi.</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/It69AMzI-_h1L7ToHGqZB8sI/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/It69AMzI-_h1L7ToHGqZB8sI/image.png\"></a></div>",
        "id": 271428129,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644498645
    },
    {
        "content": "<p>This is one of those \"I scratch your back and you scratch mine\", as this bug needs to be sorted out for the affiliates to be able to successfully publish their own IG's.</p>",
        "id": 271620278,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644605310
    },
    {
        "content": "<p>Just also to say - this is not a DK specific issue. This is a general issue</p>",
        "id": 271620409,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644605368
    },
    {
        "content": "<p>We really could need an extra set of <span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span> on this matter <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 271893993,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644875259
    },
    {
        "content": "<p>it's on my todo list. It blew out last week because the transition to osx was way more traumatic than I imagined</p>",
        "id": 271895418,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644875992
    },
    {
        "content": "<p>I'll try to remember to send you some <span aria-label=\"candy\" class=\"emoji emoji-1f36c\" role=\"img\" title=\"candy\">:candy:</span>  next christmas so that you can sweeten up the endeavours you end up taking once in a while</p>",
        "id": 271897550,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644877022
    },
    {
        "content": "<p>If we could have this sorted out within a month I would be very grateful</p>",
        "id": 271959818,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644924241
    },
    {
        "content": "<p><span aria-label=\"eyes\" class=\"emoji emoji-1f440\" role=\"img\" title=\"eyes\">:eyes:</span></p>",
        "id": 272733823,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645476613
    },
    {
        "content": "<p>I am in need THIS week. It doesn't seem that -publish-update is fully working anymore, like it seemed to do in the past.</p>",
        "id": 272737726,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645479729
    },
    {
        "content": "<p>for example -publish-update does not seem to update the ig-registry/fhir-ig-list.json that I indicate for it to update.</p>",
        "id": 272737756,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645479764
    },
    {
        "content": "<p>what is the proper way to use -go-publish? I tried to guess based on a message in this stream above, but that blewup looking in my destination folder for a zip</p>",
        "id": 272738161,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645480125
    },
    {
        "content": "<p>Belgium is about to release soon too</p>",
        "id": 272765025,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645511610
    },
    {
        "content": "<p>I can make a workaround for the missing part (the dist-hist folder copy), but since Belgium needs also another thing to be fixed to release, it would be nice to get this all sorted out.</p>",
        "id": 272765095,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645511678
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> can we move this a bit further up on your todo-list?</p>",
        "id": 272822114,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645545101
    },
    {
        "content": "<p>I am trying to use -go-publish, but can't quite figure out all the parameters. Can someone provide an example of use of -go-publish that works with a typical IG?</p>",
        "id": 272977882,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645635737
    },
    {
        "content": "<p>specifically, i am not sure what to put in for history</p>",
        "id": 272977917,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645635755
    },
    {
        "content": "<p>it also seems to be looking for ig-build-zips, and I have no idea where that is</p>",
        "id": 272978360,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645635949
    },
    {
        "content": "<p><a href=\"https://github.com/costateixeira/ig-release\">https://github.com/costateixeira/ig-release</a></p>",
        "id": 272978596,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645636034
    },
    {
        "content": "<p>I am convinced that there is an issue with the xxx-hist folders</p>",
        "id": 272978660,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645636069
    },
    {
        "content": "<p>so the destination directory should be empty? (Previous procedure had me copy the history template there, then the output of a build, and the ini files.</p>",
        "id": 272978904,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645636167
    },
    {
        "content": "<p>yes, that changed. when I publish an IG now I create the destination directory and a copy of the package-list.json <em>without</em> the new version about to be published (ci-build entry only)</p>",
        "id": 272979103,
        "sender_full_name": "Lynn Laakso",
        "timestamp": 1645636241
    },
    {
        "content": "<p>does that destination folder have the old version sub-folders?</p>",
        "id": 272979284,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645636315
    },
    {
        "content": "<p>meaning.. the destination folder is empty except for the package-list.json?</p>",
        "id": 272979408,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645636355
    },
    {
        "content": "<p>that's how I do it, as with a new IG there are no \"old version sub-folders\"</p>",
        "id": 272979453,
        "sender_full_name": "Lynn Laakso",
        "timestamp": 1645636376
    },
    {
        "content": "<p>hmm, Ill give it atry</p>",
        "id": 272979517,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645636406
    },
    {
        "content": "<p>did this new procedure get written somewhere? I keep finding the old one (which mostly works for me).</p>",
        "id": 272979581,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645636434
    },
    {
        "content": "<p>I use <a href=\"https://confluence.hl7.org/display/FHIR/HL7+Process+for+Publishing+a+FHIR+IG\">https://confluence.hl7.org/display/FHIR/HL7+Process+for+Publishing+a+FHIR+IG</a></p>",
        "id": 272979658,
        "sender_full_name": "Lynn Laakso",
        "timestamp": 1645636456
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193599\">Lynn Laakso</span> <a href=\"#narrow/stream/196008-ig-publishing.20requirements/topic/-publish-update.20vs.20-go-publish/near/272979453\">said</a>:</p>\n<blockquote>\n<p>that's how I do it, as with a new IG there are no \"old version sub-folders\"</p>\n</blockquote>\n<p>but, what about when this is a new release of something that has been published?</p>",
        "id": 272981085,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645636998
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> the repo I sent contains the setup that is explained in the wiki page that Grahame wrote (at least as far as I can understand it). I don't recall well, but I think there was no issue with adding versions</p>",
        "id": 272981836,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645637270
    },
    {
        "content": "<p>It may be obvious to you, but it is not to me. sorry. I have read that page multiple times. Even when I follow it, I get errors that things are missing</p>",
        "id": 272982856,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645637601
    },
    {
        "content": "<p>I think I understand now that the destination folder should be a full copy of the current web site content, all publications.   (In IHE this is in a github repo, so not a problem). right?</p>",
        "id": 272983452,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645637842
    },
    {
        "content": "<p>in the repo, run the command line there</p>",
        "id": 272984194,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645638095
    },
    {
        "content": "<p>sorry this is just for debugging, it's not for documenting.</p>",
        "id": 272984337,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645638123
    },
    {
        "content": "<p>You asked for an example, that is one</p>",
        "id": 272984379,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645638140
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/196008-ig-publishing.20requirements/topic/-publish-update.20vs.20-go-publish/near/272983452\">said</a>:</p>\n<blockquote>\n<p>I think I understand now that the destination folder should be a full copy of the current web site content, all publications.   (In IHE this is in a github repo, so not a problem). right?</p>\n</blockquote>\n<p>if IHE is capturing all the content from all IGs built (i.e. the <code>output</code> folder), then it should be fine, same as FTP.</p>",
        "id": 272984557,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645638224
    },
    {
        "content": "<p>of course, a different repo from the IG itself.</p>",
        "id": 272984702,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645638247
    },
    {
        "content": "<p>that is also how I see it working. the github for \"website\" is only edited by updating to add a new release</p>",
        "id": 272984877,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645638308
    },
    {
        "content": "<p>will continue to try.  (I ran into a roadblock as the IG I was working on was PDQm which is going through a change of id from uppercase to lowercase and the -go-publish does not like that). So will not try with MHD which does not have that problem.</p>",
        "id": 272985478,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645638524
    },
    {
        "content": "<p>so I do still put the MHD publish.ini in the root of the website folder? Eventhough that folder is common to all publications? Why is go-publish not looking for that in the source?</p>",
        "id": 272985609,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645638577
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/196008-ig-publishing.20requirements/topic/-publish-update.20vs.20-go-publish/near/272984379\">said</a>:</p>\n<blockquote>\n<p>You asked for an example, that is one</p>\n</blockquote>\n<p>it did help a bit, but I still had to make assumptions about the various paths... and go-publish seems to want absolute paths, it didn't seem to traverse relative paths (specifically paths with ../ or ./).</p>",
        "id": 272985945,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645638670
    },
    {
        "content": "<p>It seems -publish-update is more reliable and more clear.  go-publish seems fragile and imposing publication folder expectations.</p>",
        "id": 272986921,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645639025
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/196008-ig-publishing.20requirements/topic/-publish-update.20vs.20-go-publish/near/272985609\">said</a>:</p>\n<blockquote>\n<p>so I do still put the MHD publish.ini in the root of the website folder? Eventhough that folder is common to all publications? Why is go-publish not looking for that in the source?</p>\n</blockquote>\n<p>no, you push the IHE publish.ini</p>",
        "id": 272988163,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645639451
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/196008-ig-publishing.20requirements/topic/-publish-update.20vs.20-go-publish/near/272986921\">said</a>:</p>\n<blockquote>\n<p>It seems -publish-update is more reliable and more clear.  go-publish seems fragile and imposing publication folder expectations.</p>\n</blockquote>\n<p>I don't think so. I'm 1 or 2 issues away from having a more thorough example.</p>",
        "id": 272988329,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645639516
    },
    {
        "content": "<p>what do you mean push?</p>",
        "id": 272988543,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645639586
    },
    {
        "content": "<p>in the repo I sent, the webroot is the publication folder. It will contain the content that is in <a href=\"http://ihe.net/profiles\">ihe.net/profiles</a> (?)</p>",
        "id": 272989480,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645639935
    },
    {
        "content": "<p>in there, and only there, you have the publish.ini</p>",
        "id": 272989528,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645639961
    },
    {
        "content": "<p>to be clear, -publish-update is not supported. -go-publish is the right way to do it. And it is more reliable and robust precisely because it is complaining that not everything lines up how it thinks it should.</p>",
        "id": 273027248,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645659302
    },
    {
        "content": "<p>I am willing to change. I just reporting here the struggles I have had with using it. If it does not work and there is no way for me to understand how to make it work; then it is not working.</p>",
        "id": 273030396,
        "sender_full_name": "John Moehrke",
        "timestamp": 1645661420
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> going back to the problem with dk.core references, the problem is in the dk.core package:</p>",
        "id": 273030887,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645661803
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"hl7.fhir.dk.core\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"canonical\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"http://hl7.dk/fhir/core\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">\"url\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"http://hl7.dk/fhir/core/ImplementationGuide/hl7.fhir.dk.core/1.1.0\"</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>here, the package is saying that the web URL for the package is at <a href=\"http://hl7.dk/fhir/core/ImplementationGuide/hl7.fhir.dk.core/1.1.0\">http://hl7.dk/fhir/core/ImplementationGuide/hl7.fhir.dk.core/1.1.0</a>, so all the references are made relative to that</p>",
        "id": 273030940,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645661862
    },
    {
        "content": "<p>That suffix is added by the Publisher AFAIK</p>",
        "id": 273054203,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645686295
    },
    {
        "content": "<p>And it shouldnt</p>",
        "id": 273054216,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645686307
    },
    {
        "content": "<p>I think it's the implementationguide</p>",
        "id": 273054463,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645686577
    },
    {
        "content": "<p>in which case, I think I mislead you, <span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span></p>",
        "id": 273054472,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645686596
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> so where is it typed?</p>",
        "id": 273054563,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645686682
    },
    {
        "content": "<p>I think it was in the IG itself as per discussions on sushi-yaml and url vs canonical</p>",
        "id": 273054585,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645686718
    },
    {
        "content": "<p>i just fixed the dk code in my test repo, the issue seems to be gone</p>",
        "id": 273054629,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645686739
    },
    {
        "content": "<p>URL for the commit?</p>",
        "id": 273054914,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645687023
    },
    {
        "content": "<p><a href=\"https://github.com/costateixeira/ig-release\">https://github.com/costateixeira/ig-release</a></p>",
        "id": 273055013,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645687118
    },
    {
        "content": "<p>I don't follow. There isn't any of the commits on <a href=\"https://github.com/costateixeira/ig-release/commits/main\">https://github.com/costateixeira/ig-release/commits/main</a> that refers to the DK core part</p>",
        "id": 273055629,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645687813
    },
    {
        "content": "<p>it was ok before. so my local commit was just undoing a wrong commit.</p>",
        "id": 273056204,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645688437
    },
    {
        "content": "<p>if you run the publish now, do you get the error? I didn't</p>",
        "id": 273056215,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645688465
    },
    {
        "content": "<p>Could you add a readme that states how to run?</p>",
        "id": 273072220,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1645699130
    },
    {
        "content": "<p>just run the publishdk.cmd</p>",
        "id": 273074986,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1645700797
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> is the problem with the canonical url mismatch solved for you?</p>",
        "id": 275336598,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1647328351
    }
]