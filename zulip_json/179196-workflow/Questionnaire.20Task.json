[
    {
        "content": "<p>Is there an example how a Task generated for a user to take a Questionnaire? For example how would a Questionnaire ID would be reference. </p>\n<p>We were thinking something along the lines of: </p>\n<p>{<br>\n  \"resourceType\": \"Task\",<br>\n  \"status\": \"ready\",<br>\n  \"intent\": \"proposal\",<br>\n  \"priority\": \"routine\",<br>\n  \"description\": \"free text here - could use for actual UI display, e.g.: Start your assessment\",<br>\n  \"input\": [{<br>\n      \"type\": {<br>\n        \"text\": \"questionnaireId\"<br>\n      },<br>\n      \"valueString\": \"asdf-1234-fdsa\"<br>\n    }<br>\n  ]<br>\n}</p>",
        "id": 242753217,
        "sender_full_name": "milton mitjans",
        "timestamp": 1623771665
    },
    {
        "content": "<p>here is an example based on how we did this in <a href=\"http://build.fhir.org/ig/HL7/davinci-ecdx/specification.html#task-based-approach\">Da Vinci CDEX</a>  <em>CI build</em></p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"nt\">resourceType</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Task</span>\n<span class=\"nt\">status</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">ready</span>\n<span class=\"nt\">intent</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">proposal</span>\n<span class=\"nt\">code</span><span class=\"p\">:</span>\n  <span class=\"nt\">text</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Tasks for Patient X</span>\n<span class=\"nt\">for</span><span class=\"p\">:</span>\n  <span class=\"nt\">reference</span><span class=\"p\">:</span> <span class=\"s\">'http://example.org/fhir/Patient/cdex-example-patient'</span>\n<span class=\"nt\">authoredOn</span><span class=\"p\">:</span> <span class=\"s\">'2020-10-26T02:58:55.179Z'</span>\n<span class=\"nt\">lastModified</span><span class=\"p\">:</span> <span class=\"s\">'2020-10-26T02:58:55.179Z'</span>\n<span class=\"nt\">requester</span><span class=\"p\">:</span>\n  <span class=\"nt\">reference</span><span class=\"p\">:</span> <span class=\"s\">'http://example.org/fhir/Organization/cdex-example-payer'</span>\n<span class=\"nt\">owner</span><span class=\"p\">:</span>\n  <span class=\"nt\">reference</span><span class=\"p\">:</span> <span class=\"s\">'http://example.org/fhir/Organization/cdex-example-provider'</span>\n<span class=\"nt\">reasonCode</span><span class=\"p\">:</span>\n  <span class=\"nt\">text</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">My Reason Here ...</span>\n<span class=\"nt\">input</span><span class=\"p\">:</span>  <span class=\"c1\"># &lt;&lt;&lt;&lt;&lt;&lt;&lt; Use input to reference the Questionnaire</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">type</span><span class=\"p\">:</span>\n      <span class=\"nt\">coding</span><span class=\"p\">:</span>\n        <span class=\"p p-Indicator\">-</span> <span class=\"nt\">system</span><span class=\"p\">:</span> <span class=\"s\">'http://example.org/fhir/CodeSystem/input-type'</span>\n          <span class=\"nt\">code</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">patient-inputs</span>\n    <span class=\"nt\">valuereference</span><span class=\"p\">:</span>\n      <span class=\"nt\">reference</span><span class=\"p\">:</span> <span class=\"s\">'http://example.org/fhir/Questionnaire/my-q'</span>  <span class=\"c1\"># &lt;&lt;&lt;&lt;&lt;&lt;&lt;  Questionnaire referenced here</span>\n</code></pre></div>",
        "id": 242773764,
        "sender_full_name": "Eric Haas",
        "timestamp": 1623780009
    },
    {
        "content": "<p>The CDex approach aligns with the profile defined in the SDC IG for how to do this: <a href=\"http://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-task.html\">http://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-task.html</a></p>",
        "id": 243733447,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1624498967
    },
    {
        "content": "<p>Note that this example is provider-centric, in that it's a task owned by the provider. The original question in this thread was a task for a user to take the questionnaire, rather than for a user to get their patient to fill out a questionnaire.</p>\n<p>It would be good to have a code at some level indicating \"I want somebody to fill out this questionnaire\"; in the example above, I think this is implicit. It's clear there is some task for the patient and it involves a questionnaire but you could imagine things like \"please review this questionnaire and make sure the questions are readable\" or \"please translate this questionnaire into your native language\". It would be nice for the semantics of \"please complete\" to surface either at the task code or the input type level.</p>",
        "id": 243792502,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1624544168
    },
    {
        "content": "<p>Isn't a Task.code of \"complete-questionnaire\" (with appropriate definition) sufficient?</p>",
        "id": 243822115,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1624557026
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> The example should be updated to align with the SDC profile</p>",
        "id": 243822210,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1624557087
    },
    {
        "content": "<p>complete-questionnaire is fine; I was responding to the example of \"Tasks for Patient X\" and \"patient-inputs\"</p>",
        "id": 243844743,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1624567898
    },
    {
        "content": "<p>those valueset are unbound,  I just threw this example together to give an example how to use task.  I was not even aware there was an SDC Task profile</p>",
        "id": 243846822,
        "sender_full_name": "Eric Haas",
        "timestamp": 1624568842
    },
    {
        "content": "<p>If an Observation was generated by the result of a QuestionnaireResponse; could we include the observation data within the task response?</p>\n<p>The Use Case is like this: <br>\nThe user answers the questionnaire<br>\nThe user gets a Recommendation that is mapped to an observation</p>\n<p>When user logs into a Web Portal the UI Client calls the Task Endpoint. The Task would contain the completed questionnaire and <strong>Possibly</strong> the Observation Data. This way the UI Client doesn't need to call 2 endpoints to show the \"Recommendation\". <br>\nMaybe an $expand or $populate operation?</p>",
        "id": 243939508,
        "sender_full_name": "milton mitjans",
        "timestamp": 1624638692
    },
    {
        "content": "<p>It sort of depends on the scope of the Task.  If the creation of the Observations was part of the scope of the Task, then yes I'd expect them to be listed as Outputs.  Key question to ask yourself is \"when in the process would the Task be marked as 'complete'?\" - generally you wouldn't add outputs after that.</p>",
        "id": 243978150,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1624660237
    }
]