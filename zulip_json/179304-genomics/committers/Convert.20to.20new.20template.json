[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> posted the following on <a class=\"stream\" data-stream-id=\"179294\" href=\"/#narrow/stream/179294-committers.2Fannounce\">#committers/announce</a>  :</p>\n<p><a href=\"#narrow/stream/179294-committers.2Fannounce/topic/Mandatory.20use.20of.20HL7.20standard.20template\">https://chat.fhir.org/#narrow/stream/179294-committers.2Fannounce/topic/Mandatory.20use.20of.20HL7.20standard.20template</a></p>\n<blockquote>\n<p>Lloyd McKenzie<br>\nOn our call last week, the FMG approved a policy requiring that FHIR implementation guides going to ballot in the January 2020 cycle or being published after the start of the January cycle SHALL use either the HL7 FHIR standard template or one otherwise approved by the FMG (e.g. the Da Vinci template). Any exception requires FMG approval - which should be sought well in advance. If you have any questions, please raise them on the #committers or #IG creation stream.</p>\n</blockquote>\n<p>What to see if anyone has looked into what it would take for us to switch over to the new template?  <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> any thoughts?</p>",
        "id": 205967318,
        "sender_full_name": "Kevin Power",
        "timestamp": 1596579113
    },
    {
        "content": "<p>Won't be hard.  A couple hours effort, mainly moving files to the appropriately named folder.  You can look at <a href=\"http://github.com/fhir/sample-ig\">http://github.com/fhir/sample-ig</a> to see the layout.</p>",
        "id": 205974687,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1596585004
    },
    {
        "content": "<p>I will take a look , thanks</p>",
        "id": 205977971,
        "sender_full_name": "Kevin Power",
        "timestamp": 1596588558
    },
    {
        "content": "<p>OK, played around with this some last night and tweaked a few more things today, and we now have a branch with the new template implemented:</p>\n<p><a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/switch_structdefs/index.html\">http://build.fhir.org/ig/HL7/genomics-reporting/branches/switch_structdefs/index.html</a></p>\n<p>Feedback welcome.</p>",
        "id": 206075466,
        "sender_full_name": "Kevin Power",
        "timestamp": 1596660136
    },
    {
        "content": "<p>And yes, this is the same branch I used to switch over to StructureDefinitions.</p>",
        "id": 206075700,
        "sender_full_name": "Kevin Power",
        "timestamp": 1596660287
    },
    {
        "content": "<p>I'm not a huge fan of the fade-in-from-white on every page load but it looks great in the template! Glad the appendices still work</p>",
        "id": 206078393,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1596661629
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"196553\">Jamie Jones</span> <a href=\"#narrow/stream/179304-genomics.2Fcommitters/topic/Convert.20to.20new.20template/near/206078393\">said</a>:</p>\n<blockquote>\n<p>I'm not a huge fan of the fade-in-from-white on every page load </p>\n</blockquote>\n<p>I concur. I thought I was passing out when I first saw it.</p>\n<blockquote>\n<p>Glad the appendices still work</p>\n</blockquote>\n<p>The extra stuff in the menu took some tweaking for sure, but I think it is worth it.</p>",
        "id": 206078742,
        "sender_full_name": "Kevin Power",
        "timestamp": 1596661840
    },
    {
        "content": "<p>One change that I should point out to everyone. Before this change, our profile pages were accessible like this:</p>\n<p><a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/variant.html\">http://build.fhir.org/ig/HL7/genomics-reporting/variant.html</a> - note the <code>variant.html</code></p>\n<p>It seems the new template changes something about the build process such that the pages are now prefixed with <code>StructureDefinition-</code> like this:</p>\n<p><a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/branches/switch_structdefs/StructureDefinition-variant.html\">http://build.fhir.org/ig/HL7/genomics-reporting/branches/switch_structdefs/StructureDefinition-variant.html</a> - note the <code>StructureDefinition-variant.html</code></p>\n<p>The canonical URL didn't change, it really does seem to be just the html page name that changed.  Anyone concerned with that?  I am not, but if others are, perhaps there is a way to adjust it back to how we did it before?</p>",
        "id": 206081604,
        "sender_full_name": "Kevin Power",
        "timestamp": 1596663561
    },
    {
        "content": "<p>I don't mind</p>",
        "id": 206082358,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1596664039
    },
    {
        "content": "<p>Feedback on fade-from-white on the <a class=\"stream\" data-stream-id=\"179252\" href=\"/#narrow/stream/179252-IG-creation\">#IG creation</a> stream.  It's new and easy enough to yank if people don't want it</p>",
        "id": 206085836,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1596666595
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> , awesome.<br>\n<span aria-label=\"construction worker\" class=\"emoji emoji-1f477\" role=\"img\" title=\"construction worker\">:construction_worker:</span></p>",
        "id": 206121177,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1596706867
    },
    {
        "content": "<p>Are we ready to merge the PR?</p>",
        "id": 206128423,
        "sender_full_name": "Kevin Power",
        "timestamp": 1596713022
    },
    {
        "content": "<p>Looked accurate to me</p>",
        "id": 206133395,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1596716801
    },
    {
        "content": "<p>PR merged.</p>",
        "id": 206135224,
        "sender_full_name": "Kevin Power",
        "timestamp": 1596717861
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196553\">@Jamie Jones</span> <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> It looks like the narrative portions of $find-subject-variants aren't rendering any more, maybe because of conversion to new template? Let me know if you want some help investigating.</p>",
        "id": 206477632,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1597074988
    },
    {
        "content": "<p>Great catch Bob, if you'd like to view the updated file structure it is hopefully an easy fix-- some of the url formats changed when moving to the template. If you get stuck I can take a look as well, let me know</p>",
        "id": 206477997,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1597075188
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> - With the new template, where should the artifact 'intro' and 'notes' files go (what folder), and how should they be named?  I tried reviewing the <a href=\"http://build.fhir.org/ig/FHIR/ig-guidance/best-practice.html#pages-and-organization\">guidance</a> but didn't see specifics like naming and folder location?</p>",
        "id": 206480472,
        "sender_full_name": "Kevin Power",
        "timestamp": 1597076372
    },
    {
        "content": "<p>The potential 'page' folder names supported by the template are:</p>\n<p>pages (for the markdown or XHTML page content)<br>\npagecontent (same purpose as pages - use whichever name you prefer)<br>\nâ€‹resource-docs (intended for -intro and -notes files -see below for more details.<br>\nimages (for jpg, png and other image files - or any binary content that should be copied to the published website.</p>",
        "id": 206485477,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1597078936
    },
    {
        "content": "<p>OK <span class=\"user-mention\" data-user-id=\"191451\">@Patrick Werner</span> , nice. Looks like you found that <a href=\"http://build.fhir.org/ig/FHIR/ig-guidance/using-templates.html\">here</a> - however, when I click the 'see below' link, I get a 404? </p>\n<p>Anyway, maybe that gives the folder?  The files for the operation were in the 'pagecontent' folder, but they are not being pulled in, so perhaps it is a file naming problem?</p>",
        "id": 206486017,
        "sender_full_name": "Kevin Power",
        "timestamp": 1597079222
    },
    {
        "content": "<p>and it is a file naming.  With the new way we are doing it, and having the 'type of resource' prefixing the files now, I needed to add 'operationdefinition-' to the beginning of these files as well.  They pulled in from the 'pagecontents' folder just fine.</p>\n<p>But, given the guidance above, I will try putting them into a folder called 'resource-docs'</p>",
        "id": 206486195,
        "sender_full_name": "Kevin Power",
        "timestamp": 1597079337
    },
    {
        "content": "<p>sorry, was in a hurry. Yes the link to see below is broken, but the content still there. I'm assuming the ig publisher only scans for intros and notes in resource-docs folders.</p>",
        "id": 206487108,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1597079845
    },
    {
        "content": "<p>Actually, no.  I renamed the files to include 'operationdefinition-' to start the name, like 'operationdefinition-find-subject-variants-intro.xml', put them in the 'pages' folder, and the extra content pulled in just fine.  </p>\n<p>I created a folder for 'resource-docs' and put the appropriately named files in that folder, and it didn't work.</p>\n<p>Put them back into the 'pages' folder, and it worked just fine again.</p>\n<p>It is possible I did something wrong with the 'resource-docs' folder, but I don't have time to troubleshoot further.  I will push up a fix shortly.</p>",
        "id": 206489143,
        "sender_full_name": "Kevin Power",
        "timestamp": 1597080906
    },
    {
        "content": "<p>thank you!</p>",
        "id": 206490010,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1597081286
    },
    {
        "content": "<p>Welp, no idea why, but the operation 'intro' page did pull in after the cloud build, but it worked fine for me locally?  Interesting, the same fix I applied did work for intro and notes we have for 'region-studied' and 'variant'</p>\n<p>From cloud build:<br>\n<a href=\"/user_uploads/10155/ibggMMji_0J0y8yd5HT3kXae/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ibggMMji_0J0y8yd5HT3kXae/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/ibggMMji_0J0y8yd5HT3kXae/image.png\"></a></div><p>Local build:<br>\n<a href=\"/user_uploads/10155/wJ8OQKgCMvgJxH-3Y9VItqHj/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/wJ8OQKgCMvgJxH-3Y9VItqHj/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/wJ8OQKgCMvgJxH-3Y9VItqHj/image.png\"></a></div><p>One last try, I noticed a 'case' difference in the file names, will try to make that consistent and see what happens, but won't have time to try much else.</p>",
        "id": 206492669,
        "sender_full_name": "Kevin Power",
        "timestamp": 1597082663
    },
    {
        "content": "<p>And luckily that worked, so I think we should be all good now.  <span class=\"user-mention\" data-user-id=\"193751\">@Bob Dolin</span> you wanna confirm?</p>",
        "id": 206494480,
        "sender_full_name": "Kevin Power",
        "timestamp": 1597083739
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span> Thanks very much, it looks just right.</p>",
        "id": 206494716,
        "sender_full_name": "Bob Dolin",
        "timestamp": 1597083860
    },
    {
        "content": "<p>Great work! Glad to see those descriptions rendering again on variant and region-studied! I'll be looking at proposing some updates to them based on tomorrow's votes as well :)</p>",
        "id": 206497167,
        "sender_full_name": "Jamie Jones",
        "timestamp": 1597085021
    },
    {
        "content": "<p>The block vote isn't tomorrow, it is next Tuesday.  I didn't get the block out in time to vote this week.</p>",
        "id": 206497302,
        "sender_full_name": "Kevin Power",
        "timestamp": 1597085071
    },
    {
        "content": "<p>Sorry for the slow response - was on vacation for a bit.  The filenames for the -intro and -notes are [artifacttype]-[id]-[suffix].[extension] where artifact type is the artifact in lower case (e.g. <code>valueset</code>), the id is the resource id, the suffix is 'intro' for introduction and 'notes' for notes.  The extension is either <code>md</code> or <code>xml</code> depending on whether it's markdown or xhtml.  The location can either be pages or pagecontent (with other pages) or if you like them to be separate, you can also stick them in a folder called <code>intro-notes</code>, though that last one isn't documented yet.  If anyone has time to submit a pull request to update the 'guidance' IG with this info, that'd be awesome...</p>",
        "id": 207786183,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1598208722
    },
    {
        "content": "<p>Not sure what is going on, but I tried the naming as all lowercase, put them into <code>intro-notes</code> and it built and worked great locally.  However, the cloud build didn't find the intro and note files.  I am trying a couple of other things.</p>",
        "id": 207794862,
        "sender_full_name": "Kevin Power",
        "timestamp": 1598222861
    },
    {
        "content": "<p>Got it fixed finally, and PR for the guidance IG update:<br>\n<a href=\"https://github.com/FHIR/ig-guidance/pull/8\">https://github.com/FHIR/ig-guidance/pull/8</a>. (<span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> - are you the one to review?)</p>",
        "id": 207797371,
        "sender_full_name": "Kevin Power",
        "timestamp": 1598226873
    }
]