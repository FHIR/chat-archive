[
    {
        "content": "<p>Next discussion around the test suite: Many of the tests seem to make assumptions about the order of items in unions. The spec says: <a href=\"http://hl7.org/fhirpath/N1/#union-collections\">http://hl7.org/fhirpath/N1/#union-collections</a> \"There is no expectation of order in the resulting collection.\".  Am I right in assuming that a test case like '(0 | 1 | 2).tail() = 1 | 2' therefore has no guarantee of passing, because (0 | 1 | 2) might be [2, 1, 0]? My implementation of union is actually reversing the order of the union and thus the test suite breaks on about a dozen tests or so...</p>",
        "id": 267322928,
        "sender_full_name": "Tilo Christ",
        "timestamp": 1641685038
    },
    {
        "content": "<p>Probably correct, the other implementations return input order I believe (at least JS and dotnet anyway)</p>",
        "id": 267338345,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1641707666
    },
    {
        "content": "<p>And also the same for <code>take(1)</code> and <code>skip(1)</code> which are order dependant.</p>",
        "id": 278255135,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1649391121
    }
]