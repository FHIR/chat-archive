[
    {
        "content": "<p>For a Questionnaire, I wrote a FHRIPath expression to do a BMI calculation, and the result was \"22.142901142866\".  Does FHIRPath provide some facility for rounding a Decimal to some number of decimal places, or for converting it to an integer (which could be used to accomplish the same thing)?</p>",
        "id": 153999956,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1537973067
    },
    {
        "content": "<p>.toInteger()</p>",
        "id": 153999962,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1537973299
    },
    {
        "content": "<p>Actually, no, that doesn't allow decimal to integer.</p>",
        "id": 153999963,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1537973418
    },
    {
        "content": "<p>So div</p>",
        "id": 153999964,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1537973421
    },
    {
        "content": "<p>Wouldn't div truncate rather than round?</p>",
        "id": 153999967,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1537973807
    },
    {
        "content": "<p>Why doesn't toInteger accept a decimal?</p>",
        "id": 153999968,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1537973838
    },
    {
        "content": "<p>Yes, rounding would have to be accounted for if you wanted a round instead of a truncate.</p>",
        "id": 153999969,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1537974186
    },
    {
        "content": "<p>Because there are multiple ways to change a decimal into an integer, so convert doesn't assume which one you want.</p>",
        "id": 153999970,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1537974225
    },
    {
        "content": "<p>Okay, I guess I could do:  \"((long FHIRPath expression) + 0.5) div 1\" to get a rounded integer value.   It is not an obvious approach, though it should work.  Maybe a \"round()\" function could be added?</p>",
        "id": 153999972,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1537974474
    },
    {
        "content": "<p>It actually starts looking more complicated if you want to round not to an integer to but to fewer decimal places:</p>\n<div class=\"codehilite\"><pre><span></span> (((long FHIRPath expression)*10 + 0.5) div 1)/10\n</pre></div>\n\n\n<p>to get 1 decimal place, as opposed to something like </p>\n<div class=\"codehilite\"><pre><span></span>(long FHIRPath expression).round(1)\n</pre></div>",
        "id": 153999973,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1537974655
    },
    {
        "content": "<p>Note that div and mod support decimals, not just integers.</p>",
        "id": 153999981,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1537975156
    },
    {
        "content": "<p><a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18501\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18501\">GF#18501</a></p>",
        "id": 154000571,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1538081666
    },
    {
        "content": "<p>We have a demo of fhirpath.js in Columbia room in 5 min - join us!</p>",
        "id": 154003223,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1538330160
    },
    {
        "content": "<p><a href=\"https://lhncbc.github.io/fhirpath.js/\" target=\"_blank\" title=\"https://lhncbc.github.io/fhirpath.js/\">https://lhncbc.github.io/fhirpath.js/</a></p>",
        "id": 154003226,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1538330229
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> would you like to join us?</p>",
        "id": 154003228,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1538330309
    },
    {
        "content": "<p>Hey -- sorry to have missed it!</p>",
        "id": 154003507,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1538342022
    }
]