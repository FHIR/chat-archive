[
    {
        "content": "<p>It seems clear from the examples that the return value of aggregate is $total, but I don't see that explicitly stated here: <a href=\"http://hl7.org/fhirpath/#aggregateaggregator-expression-init-value-value\">http://hl7.org/fhirpath/#aggregateaggregator-expression-init-value-value</a></p>",
        "id": 199437493,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1591056032
    },
    {
        "content": "<p><a href=\"http://jira.hl7.org/browse/FHIR-27764\">J#27764</a></p>",
        "id": 199613271,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1591187774
    },
    {
        "content": "<p>Yes, should definitely be clarified, thank you for submitting that</p>",
        "id": 199694314,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1591230963
    },
    {
        "content": "<p>Who's implemented this?<br>\nIt's not in the .net fhirpath implementation (I will be adding it there), and I can't seem to get it to work in the fhirpath.js<br>\nSo I'm wondering if it's a user problem...</p>",
        "id": 250707503,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1629941573
    },
    {
        "content": "<p>And while I'm implementing this, the spec doesn't specify what data type that is, decimal or integer?</p>",
        "id": 250708154,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1629942162
    },
    {
        "content": "<p>implemented what?</p>",
        "id": 250711434,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629945517
    },
    {
        "content": "<p>Sorry, the <code>value.aggregate($this + $total, 0)</code> implementation.</p>",
        "id": 250719652,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1629952201
    },
    {
        "content": "<p>Or does it just derive it from the type of the <code>value</code> and hence if it was a string, that would just contatenate them all</p>",
        "id": 250719735,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1629952253
    },
    {
        "content": "<p>Effectively becoming an implementation for something like <code>name.given.join(', ')</code><br>\n<code>name.given.aggregate(iff($total.exists(), $total &amp; ', ' &amp; $this, $this))</code></p>",
        "id": 250719802,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1629952316
    },
    {
        "content": "<p>Nevermind, version issues here... got the fhirpath.js doing things right.</p>",
        "id": 250724183,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1629955588
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191367\">Brian Postlethwaite</span> <a href=\"#narrow/stream/179266-fhirpath/topic/Return.20value.20of.20aggregate.3F/near/250708154\">said</a>:</p>\n<blockquote>\n<p>And while I'm implementing this, the spec doesn't specify what data type that is, decimal or integer?</p>\n</blockquote>\n<p>It seems this function is indeed polymorphic, Brian - and could work on strings, ints, dates, etc.  This is going to be nightmarish to implement in our .NET FP engine I think.</p>",
        "id": 250906023,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1630056723
    }
]