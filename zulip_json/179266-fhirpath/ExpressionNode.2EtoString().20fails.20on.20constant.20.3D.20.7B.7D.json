[
    {
        "content": "<p>This case in ExpressionNode.toString() doesn't handle the case when node is the constant representing the  empty list (which should print {})</p>\n<div class=\"codehilite\"><pre><span></span><code>    case Constant:\n      if (constant instanceof StringType)\n      b.append(&quot;&#39;&quot;+Utilities.escapeJson(constant.primitiveValue())+&quot;&#39;&quot;);\n      else if (constant instanceof Quantity) {\n        Quantity q = (Quantity) constant;\n    b.append(Utilities.escapeJson(q.getValue().toPlainString()));\n    b.append(&quot; &#39;&quot;);\n    b.append(Utilities.escapeJson(q.getUnit()));\n    b.append(&quot;&#39;&quot;);\n      } else if (constant.primitiveValue() != null)\n        b.append(Utilities.escapeJson(constant.primitiveValue()));\n      else \n    b.append(Utilities.escapeJson(constant.toString()));\n        break;\n</code></pre></div>\n\n<p>The code should start with:<br>\n    if (constant == null) {<br>\n       b.append(\"{}\");<br>\n   } else ...</p>\n<p>See <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/issues/499\">https://github.com/hapifhir/org.hl7.fhir.core/issues/499</a></p>",
        "id": 239198034,
        "sender_full_name": "Keith Boone",
        "timestamp": 1621313627
    }
]