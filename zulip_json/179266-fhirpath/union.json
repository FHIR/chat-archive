[
    {
        "content": "<p>The spec for union (5.4.1) says, \"Merge the two collections into a single collection, eliminating any duplicate values....\"  Does that mean that the resulting collection has no duplicates, or only that no duplicates were introduced by the union?  For, instance if collection \"a\" contains duplicates already, say [1, 1, 2], and collection b is [2, 3] , and I do \"a | b\", will the result be [1, 1, 2, 3] or [1, 2, 3]?</p>",
        "id": 153993885,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1536252373
    },
    {
        "content": "<p>[1, 2, 3] is the only way I can read it.</p>",
        "id": 153993887,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536252429
    },
    {
        "content": "<p>Is there a test case that covers this situation?</p>",
        "id": 153993888,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536252435
    },
    {
        "content": "<p>My code agrees with [1, 2, 3], but it would not be difficult to implement the other way, and it is not clear to me which interpretation is best.  I added <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17812\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17812\">GF#17812</a>.</p>",
        "id": 153994041,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1536261621
    },
    {
        "content": "<p>there should be a test case - have you looked at the test cases?</p>",
        "id": 153994106,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536271302
    },
    {
        "content": "<p>In the \"testUnion\" group in <a href=\"https://github.com/hl7-fhir/fhir-svn/blob/master/tests/resources/tests-fhir-r4.xml\" target=\"_blank\" title=\"https://github.com/hl7-fhir/fhir-svn/blob/master/tests/resources/tests-fhir-r4.xml\">https://github.com/hl7-fhir/fhir-svn/blob/master/tests/resources/tests-fhir-r4.xml</a>, I do not see a test case that covers this situation.</p>",
        "id": 153994108,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1536271911
    },
    {
        "content": "<p>1.combine(1).union(2).count() = 2</p>",
        "id": 153994109,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536272257
    },
    {
        "content": "<p>Yes, good.  I was ignoring the tests with \"combine\" for some reason.  That covers it.  So, then union removes all duplicates.</p>",
        "id": 153994110,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1536272357
    },
    {
        "content": "<p>yes</p>",
        "id": 153994115,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536273687
    }
]