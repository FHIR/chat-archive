[
    {
        "content": "<p>I am having difficulty validating a resource with the C# API against profile I created with Forge.</p>\n<p>Here's the error I'm encountering:</p>\n<p>[ERROR] Unable to resolve reference to profile '<a href=\"http://hl7.org/fhir/StructureDefinition/Patient\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/Patient\">http://hl7.org/fhir/StructureDefinition/Patient</a>' (at Patient)</p>\n<p>Any guidance would be appreciated.</p>\n<p>Here's the relevant excerpt from my code:</p>\n<p>var myProfiles = new CachedResolver(new MultiResolver(<br>\n      new DirectorySource(@\"\\\\mySharedDrive\\StructureDefinitions\")));</p>\n<p>var patientProfile = myProfiles.FindStructureDefinition(@\"<a href=\"http://example.org/fhir/StructureDefinition/CustomPatientProfile\" target=\"_blank\" title=\"http://example.org/fhir/StructureDefinition/CustomPatientProfile\">http://example.org/fhir/StructureDefinition/CustomPatientProfile</a>\");</p>\n<p>Patient patientResource = ...</p>\n<p>var validator = new Validator();<br>\nvar outcome = validator.Validate(patientResource, patientProfile);</p>",
        "id": 178225747,
        "sender_full_name": "Kirt Noel",
        "timestamp": 1571167322
    },
    {
        "content": "<p>It can possibly mean that the directory where the zip gets extracted to is corrupted - find and delete it</p>",
        "id": 178225898,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1571167366
    },
    {
        "content": "<p>I don't have the name of the folder offhand, but I've seen this error before, and that was the fix.</p>",
        "id": 178225913,
        "sender_full_name": "Vadim Peretokin",
        "timestamp": 1571167381
    },
    {
        "content": "<p>I simply saved the profile into a directory without zipping it.  As such, I didn't invoke:   ZipSource.CreateValidationSource()<br>\nIn iterating with the debugger it seems the profile was loaded from the directory and it subsequently populated the patientProfile variable cited above.</p>",
        "id": 178226415,
        "sender_full_name": "Kirt Noel",
        "timestamp": 1571167621
    },
    {
        "content": "<p>Hi Kirt,</p>\n<p>It cannot find the  basic Fhir resource Patient. In your resolver structure I miss the zip file with all the standard Fhir resources. When you use the following resolver structure , the validator should be able to find the standard Patient resource:</p>\n<div class=\"codehilite\"><pre><span></span>var myProfiles = new CachedResolver(new MultiResolver(new DirectorySource(@&quot;\\\\mySharedDrive\\StructureDefinitions&quot;), ZipSource.CreateValidationSource()));\n</pre></div>",
        "id": 178263392,
        "sender_full_name": "Marco Visser",
        "timestamp": 1571208488
    },
    {
        "content": "<p>Hello Marco.</p>\n<p>You correctly identified the problem.  Indeed, the folder did not have a copy of the specification.zip in it.  Upon placing it there, the error was corrected and the validator was able to resolve both the specification and my Patient profile.</p>\n<p>Thank-you!</p>",
        "id": 178281435,
        "sender_full_name": "Kirt Noel",
        "timestamp": 1571227237
    }
]