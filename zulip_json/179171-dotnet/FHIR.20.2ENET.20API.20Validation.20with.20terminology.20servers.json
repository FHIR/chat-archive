[
    {
        "content": "<p>We currently have a platform where we use VONK facades to facilitate our FHIR APIs in both STU3 and R4. The endpoints are mainly read-only or used for update internally. When we expose these externally we will want to use the .NET FHIR API to validate content based on profiles that we inject into the resources.</p>\n<p>As we are using both STU3 and R4, is it the case that we will require both an STU3 and R4 terminology server, or can we intercept terminology server calls so that we can just use an R4 server? <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span></p>",
        "id": 188640187,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1582208065
    },
    {
        "content": "<p>Good question <span class=\"user-mention\" data-user-id=\"191362\">@Richard Kavanagh</span>. I'll ask <span class=\"user-mention\" data-user-id=\"191347\">@Mirjam Baltus</span> to get back to you on this!</p>",
        "id": 188645983,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1582211457
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191362\">@Richard Kavanagh</span>: Are you asking about the internal terminology functionality of Vonk, or planning to integrate an external service?</p>",
        "id": 188652981,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1582215762
    },
    {
        "content": "<p>I guess it is not actually Vonk related. If we use the FHIR .NET API for validation then we can pass in a URL of a terminology server. If we have code for validating STU3 and also code for R4, then my question is do we need an STU3 and R4 URL for the terminology server? I am assuming we do.</p>\n<p>When the validation process is called, is there any way to intercept the calls to the terminology server?</p>",
        "id": 188653730,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1582216336
    },
    {
        "content": "<p>I don't think that you can intercept the calls from the API to the terminology server that occur during the validation process. But it might be possible to point the validator to the right terminology server before validation starts. On the other hand, the question then really is whether the calls and input/output data to the terminology server is different for STU3 and R4.</p>",
        "id": 188654363,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1582216801
    },
    {
        "content": "<p>The code in the dotnet validator takes a terminology interface in its settings.<br>\nSo if you're in the code layer, you can swap implementations.</p>",
        "id": 188675719,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1582231473
    },
    {
        "content": "<p>In my server I have settings that will do either the local sqlonfhir term server implementation (v simple), the partial one that Ewout added (port from Java), or to use an external terminology service.</p>",
        "id": 188675805,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1582231550
    },
    {
        "content": "<p>So you could do something similar to the external term service, and make it call the R4 terminology service for both.</p>",
        "id": 188675890,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1582231592
    },
    {
        "content": "<p>I could probably share that part of my code, as it's a very small part of the interface.</p>",
        "id": 188675922,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1582231620
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>  if you re able to share that would be great</p>",
        "id": 188734376,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1582294442
    },
    {
        "content": "<p>We are currently implementing a feature that will let you route terminology operations to one or more external terminology servers.<br>\nAfter that we also want to use this to plug external terminology server(s) into the validator. Having 1 for both STU3 and R4 may be possible, but requires bridging the differences in the definition of $validate-code between STU3 and R4. Those differences seem to be small so I'll put it on the list to look into that.</p>",
        "id": 189668067,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1583308102
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191362\">@Richard Kavanagh</span> , I'm the new product owner for the Vonk FHIR server and going through our backlog I came across an issue created based on this discussion. Can you tell me if your problem is resolved or not? Thanks.</p>",
        "id": 211584751,
        "sender_full_name": "Frank Olthuijsen",
        "timestamp": 1601360712
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"306151\">@Frank Olthuijsen</span>  - I have messaged you.</p>",
        "id": 211586435,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1601362645
    },
    {
        "content": "<p>I did not receive anything yet. Did you sent it to <a href=\"mailto:frank@fire.ly\">frank@fire.ly</a> or by some other means?</p>",
        "id": 211622494,
        "sender_full_name": "Frank Olthuijsen",
        "timestamp": 1601387160
    },
    {
        "content": "<p>:-) got side tracked - email on its way.</p>",
        "id": 211644077,
        "sender_full_name": "Richard Kavanagh",
        "timestamp": 1601395865
    }
]