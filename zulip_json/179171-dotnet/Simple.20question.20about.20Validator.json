[
    {
        "content": "<p>This is the first time I try to use Validator class to do  a client side validation. My use case is very simple. I need to validate a ValueSet resource using base profile in a integration test. Here is the code section:</p>\n<div class=\"codehilite\"><pre><span></span>  var validator = new Validator();\n  var outcome = validator.Validate(vs);\n</pre></div>\n\n\n<p>where vs is the ValueSet instance. <br>\nThe outcome shows failed. The message is </p>\n<div class=\"codehilite\"><pre><span></span>{Text=&quot;Unable to resolve reference to profile &#39;http://hl7.org/fhir/StructureDefinition/ValueSet&#39;&quot;}\n</pre></div>\n\n\n<p>Did I miss something?</p>",
        "id": 153928344,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1515622542
    },
    {
        "content": "<p>Ah. Figured out. I need to add definition zip into the Validator.</p>\n<div class=\"codehilite\"><pre><span></span>            var setting = new ValidationSettings\n            {\n                ResourceResolver = new ZipSource(&quot;definitions.xml.zip&quot;)\n            };\n            var validator = new Validator(setting);\n            var outcome = validator.Validate(vs);\n</pre></div>",
        "id": 153928350,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1515623843
    },
    {
        "content": "<p>I am sorry about that, but yes.  This used to be an out-of-the-box experience, but the new NuGet will install dependencies (specification.zip) in the global NuGet cache - and although the project correctly references it, it won't be copied into the /bin directory of your application - and the validator won't find it unless you explicitly copy it into your project and reference it (as you do here).  By the way definition.xml.zip is fine, but the specification.zip that's in the distribution might even be better - we do technical corrections on the fhirpath statements - which won't be in the definition.xml.zip on the fhir website.</p>",
        "id": 153928390,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1515661647
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> Where can I download specification.zip? I don't see it on the fhir download page (<a href=\"http://build.fhir.org/downloads.html\" target=\"_blank\" title=\"http://build.fhir.org/downloads.html\">http://build.fhir.org/downloads.html</a>)</p>",
        "id": 153928437,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1515686206
    },
    {
        "content": "<p>The specification.zip file is included in the Hl7.Fhir.STU3.Specification library NuGet package. However as Ewout mentions, NuGet now installs this dependency in the global NuGet cache. For example:<br>\n%UserProfile%\\.nuget\\packages\\hl7.fhir.specification.stu3\\0.94.0-beta2\\contentFiles\\any\\any</p>",
        "id": 153928439,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1515686299
    },
    {
        "content": "<p>Yes, a bit hard....   I'll try to find a better answer next week...</p>",
        "id": 153928448,
        "sender_full_name": "Ewout Kramer",
        "timestamp": 1515691899
    }
]