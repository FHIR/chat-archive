[
    {
        "content": "<p>Hi guys,</p>\n<p>I am trying to place an Order into the Spark FHIR Server.<br>\nMy input is OrderDTO which has a structure like this:<br>\n{<br>\n     \"PatientID\" : \"WD046960A\",<br>\n     \"LabDetailsDTO\" : {<br>\n        \"LabToken\" : \"Quest\",<br>\n        \"LabFacility\" : \"MET\"<br>\n     },</p>\n<div class=\"codehilite\"><pre><span></span>&quot;OrderingProvider&quot; : {\n   &quot;NPI&quot; : &quot;2341345025&quot;,\n   &quot;FirstName&quot; : &quot;OPFirstName&quot;,\n   &quot;LastName&quot; : &quot;OPLastName&quot;,\n   &quot;Address&quot; : null,\n   &quot;HomePhoneNoDelimiters&quot; : &quot;435-342-1543&quot;\n},\n\n&quot;LabOrders&quot; : [\n   &quot;HEPC&quot;,\n   &quot;HIV&quot;\n]\n</pre></div>\n\n\n<p>}</p>\n<p>I see the Order Subject / Source / Target  - all of them are ResourceReference data types.<br>\nI have the patients in DB, so I am able to form the ResourceReference for the Patient.<br>\nI don't have the Ordering Provider in the DB, how should I handle adding the Ordering Provider to the Order object?</p>\n<p>var fhirOrder = new Order();<br>\n //get the patient resource from DB<br>\n var q = new SearchParams().Add(\"identifier\", orderDTO.SafeEMRId).OrderBy(\"_lastUpdated\", SortOrder.Descending);<br>\n var patientSearchEntry = fhirClient.Search&lt;Patient&gt;(q).Entry.Single();<br>\n fhirOrder.Subject = new ResourceReference { Reference = string.Format(\"Patient/{0}\", patientSearchEntry.Resource.Id) };<br>\n fhirOrder.Source = new ResourceReference { }; //??How to add the Ordering provider?</p>\n<p>return fhirOrder;</p>\n<p>Should I create an entry of Ordering Provider in DB and add a reference to it as I did for the subject?<br>\nAny help is greatly appreciated.</p>\n<p>Thanks<br>\nSantosh Jami</p>",
        "id": 153903440,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1503534747
    }
]