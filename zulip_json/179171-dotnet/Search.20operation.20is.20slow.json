[
    {
        "content": "<p>I am using standard Search operation, with Fhir Client.I am doing the search on the \"identifier\". I see the search operation is very slow, takes approx 3-4 seconds. There are around 100 resources on the server, so very less load as well. Here is my search:</p>\n<p>var searchParams = new SearchParams().Add(\"identifier\", encounterId)<br>\n                                              .OrderBy(\"_lastUpdated\", SortOrder.Descending);<br>\nvar encounterSearchEntry = fhirClient.Search&lt;Encounter&gt;(searchParams).Entry.FirstOrDefault();</p>\n<p>Thoughts on this?  I am using DSTU2 / Spark</p>",
        "id": 153911418,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1506635918
    },
    {
        "content": "<p>When I do .Read / .Update operation, it is very quick. So, is it standard that .Search() takes long time or any changes needs to be done to address this. Also the Encounter that I am trying to retrieve, I do have the logical Id to this as I created this entry.</p>",
        "id": 153911428,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1506640436
    },
    {
        "content": "<p>Sounds like a server issue, not a fhir client issue.<br>\nMany of the other reference implementations are not that slow.</p>",
        "id": 153911579,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1506910348
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"194167\">@Santosh Jami</span>, please be aware that we originally developed Spark server as a reference implementation to test the FHIR spec. The Spark implementation has not been optimized for performance.<br>\nWe no longer actively maintain nor support Spark server. Spark server is obsolete and superceded by our new Vonk FHIR server, which has been specifically developed for production use, with improved reliability and performance. For example, Vonk server supports dynamic runtime configuration of search parameters with automatic (re-)indexing, for optimal search performance.</p>",
        "id": 153911679,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1506949606
    },
    {
        "content": "<p>Sure <span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span> I will evaluate Vonk server, and hope I would see improved performance for search queries as you suggested.</p>",
        "id": 153911826,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1506960177
    },
    {
        "content": "<blockquote>\n<p>Sounds like a server issue, not a fhir client issue.<br>\nMany of the other reference implementations are not that slow.</p>\n</blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>  Increased server resources didn't make a difference. Do we need to do any indexing on mongodb?</p>",
        "id": 153912086,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1507054899
    },
    {
        "content": "<p>That is very likely. Because Spark was not intended for production loads, database indexes have not been optimized.</p>",
        "id": 153912100,
        "sender_full_name": "Christiaan Knaap",
        "timestamp": 1507058826
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191757\">@Christiaan Knaap</span> . That's what <span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span>  also mentioned.</p>",
        "id": 153912303,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1507131877
    }
]