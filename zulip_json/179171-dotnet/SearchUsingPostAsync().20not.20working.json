[
    {
        "content": "<p>Hey everyone. I am very new to FHIR, and I sincerely hope this is the correct place to post this;<br>\nI am currently trying to query a FHIR server using the FhirClient. Im having issues getting the SearchUsingPostAsync() method to work. Regardless of what parameter i include in the body, it doesnt affect the search result:<br>\nDoes anyone know the 100% correct way to add content in the body for this method? I've looked and googled everywhere but I can't seem to find the correct solution</p>\n<p>Thanks in advance to whoever takes his or hers time to answer this, as it would be a lifesaver!</p>",
        "id": 224310518,
        "sender_full_name": "Henrik Jacobsen Nytun",
        "timestamp": 1611831434
    },
    {
        "content": "<p>Could you also share your search code? Does the server respond with a Bundle, or does the request result in an error?</p>",
        "id": 224312159,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1611832456
    },
    {
        "content": "<p>I have tried this successfully:</p>\n<div class=\"codehilite\" data-code-language=\"C#\"><pre><span></span><code>  <span class=\"kt\">var</span> <span class=\"n\">q</span> <span class=\"p\">=</span> <span class=\"k\">new</span> <span class=\"n\">SearchParams</span><span class=\"p\">(</span><span class=\"s\">\"_elements\"</span><span class=\"p\">,</span> <span class=\"s\">\"identifier,name,extension,gender,addresss,birthDate\"</span><span class=\"p\">);</span>\n  <span class=\"kt\">var</span> <span class=\"n\">c</span> <span class=\"p\">=</span> <span class=\"k\">new</span> <span class=\"n\">FhirClient</span><span class=\"p\">(</span><span class=\"s\">\"https://vonk.fire.ly/R4\"</span><span class=\"p\">);</span>\n  <span class=\"kt\">var</span> <span class=\"n\">result</span> <span class=\"p\">=</span> <span class=\"k\">await</span> <span class=\"n\">c</span><span class=\"p\">.</span><span class=\"n\">SearchUsingPostAsync</span><span class=\"p\">&lt;</span><span class=\"n\">Patient</span><span class=\"p\">&gt;(</span><span class=\"n\">q</span><span class=\"p\">);</span>\n</code></pre></div>",
        "id": 224313190,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1611833151
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/kgen9x5ZAU3OQUonEDSU-AcY/bilde.png\">bilde.png</a> <br>\n<a href=\"/user_uploads/10155/DNNE20r1zjaZcgwShmHzc-G-/bilde.png\">bilde.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/kgen9x5ZAU3OQUonEDSU-AcY/bilde.png\" title=\"bilde.png\"><img src=\"/user_uploads/10155/kgen9x5ZAU3OQUonEDSU-AcY/bilde.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/DNNE20r1zjaZcgwShmHzc-G-/bilde.png\" title=\"bilde.png\"><img src=\"/user_uploads/10155/DNNE20r1zjaZcgwShmHzc-G-/bilde.png\"></a></div>",
        "id": 224313324,
        "sender_full_name": "Henrik Jacobsen Nytun",
        "timestamp": 1611833216
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 224314166,
        "sender_full_name": "Henrik Jacobsen Nytun",
        "timestamp": 1611833760
    },
    {
        "content": "<p>We're also getting a bundle out, and we're searching for a person with an Identifier provided, hoping to get 1 person out, however, we are getting 10 non relevant persons out, meaning the body content hasnt been correctly read</p>",
        "id": 224314277,
        "sender_full_name": "Henrik Jacobsen Nytun",
        "timestamp": 1611833830
    },
    {
        "content": "<p>I have tried this both on Vonk and Hapi, and those servers do respond correctly. It would seem that the server you use does not support the search with POST. Maybe you could try the request with Postman, to verify that the issue isn't in the SDK?</p>",
        "id": 224321925,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1611838938
    },
    {
        "content": "<p>When you made it work, are you using the exact same Fhir-client version? If that is not the case we might need to switch it to communicate properly with our server</p>",
        "id": 224324774,
        "sender_full_name": "Henrik Jacobsen Nytun",
        "timestamp": 1611840386
    },
    {
        "content": "<p>Yes, I am using the 2.0.3 version of the SDK. The only difference is that I do not have any handlers set for the client. I am also in contact with <span class=\"user-mention\" data-user-id=\"384852\">@PÃ¥l Alm Andersen</span>, to see if we can figure this out.</p>",
        "id": 224325284,
        "sender_full_name": "Mirjam Baltus",
        "timestamp": 1611840673
    }
]