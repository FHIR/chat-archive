[
    {
        "content": "<p>I have a .NetCore API Service that is using the Hl7.Fhir.Stu3 nuget.  In the Controller, I have a simple post method :<br>\npublic async Task&lt;IActionResult&gt; AuditEvent([FromBody]AuditEvent auditEvent) , and I am hitting it with a Postman Post request, with the body being a copy of  <a href=\"https://www.hl7.org/fhir/auditevent-example.json.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/auditevent-example.json.html\">https://www.hl7.org/fhir/auditevent-example.json.html</a>.</p>\n<p>The output, clearly from AuditEvent validation, is <br>\n{<br>\n    \"errors\": {<br>\n        \"RecordedElement\": [<br>\n            \"Element with min. cardinality 1 cannot be null\"<br>\n        ],<br>\n        \"Text.StatusElement\": [<br>\n            \"Element with min. cardinality 1 cannot be null\"<br>\n        ],<br>\n        \"Agent[0].RequestorElement\": [<br>\n            \"Element with min. cardinality 1 cannot be null\"<br>\n        ],<br>\n        \"Agent[1].RequestorElement\": [<br>\n            \"Element with min. cardinality 1 cannot be null\"<br>\n        ]<br>\n    },<br>\n    \"isValid\": false<br>\n}</p>",
        "id": 153955715,
        "sender_full_name": "Larry Richardson",
        "timestamp": 1525361040
    },
    {
        "content": "<p>#noob alert on this, its my first Fhir interface, but I have plenty of experience in interfaces and JSON .Looking for a way to create the JSON that will comply with the AuditEvent validation.</p>",
        "id": 153955716,
        "sender_full_name": "Larry Richardson",
        "timestamp": 1525361137
    },
    {
        "content": "<p>The goal here is to stand up a AuditEvent service that will be used by a Fhir interface, and some other internal interfaces, to create a central store for auditing.</p>\n<p>I have checked that the same JSON against <a href=\"http://vonk.fire.ly/AuditEvent/$validate\" target=\"_blank\" title=\"http://vonk.fire.ly/AuditEvent/$validate\">http://vonk.fire.ly/AuditEvent/$validate</a>  does seem to work.</p>\n<p>Edit: Put some simple code up on <a href=\"https://github.com/looyvillelarry/Fhir.Audit\" target=\"_blank\" title=\"https://github.com/looyvillelarry/Fhir.Audit\">https://github.com/looyvillelarry/Fhir.Audit</a></p>",
        "id": 153955717,
        "sender_full_name": "Larry Richardson",
        "timestamp": 1525361402
    },
    {
        "content": "<p>Your issue is that the default json serializers don't work with the fhir models, as the default serializers have no way of handling extensions (and other reasons)<br>\nYou might want to have a look at another project that I have that does this<br>\n<a href=\"https://github.com/brianpos/FhirFederator/tree/master/Hl7.Fhir.NetCoreApi\" target=\"_blank\" title=\"https://github.com/brianpos/FhirFederator/tree/master/Hl7.Fhir.NetCoreApi\">https://github.com/brianpos/FhirFederator/tree/master/Hl7.Fhir.NetCoreApi</a><br>\nBit stale now as I've refactored it lots internally since then, but you can at least see the filters and formatters and style of generic controller that I use.</p>",
        "id": 153955822,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1525385064
    },
    {
        "content": "<p>Thanks so much Brian. That was the piece I was missing!</p>",
        "id": 153955981,
        "sender_full_name": "Larry Richardson",
        "timestamp": 1525452859
    }
]