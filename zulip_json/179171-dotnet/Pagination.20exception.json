[
    {
        "content": "<p>I am using Spark / DSTU2<br>\nI am trying to retrive all the Patients in the server. Here us what I am doing:</p>\n<p>FhirClient client = new FhirClient(testEndpoint);      <br>\nBundle patientSearchBundle = client.Search&lt;Patient&gt;();            //This works fine, I get 20 entries<br>\nvar newBundle = client.Continue(patientSearchBundle);            // this throws an exception</p>\n<p>When I point with the same code to the reference servers, it works fine: <br>\n<a href=\"http://spark-dstu2.furore.com/fhir/Patient\" target=\"_blank\" title=\"http://spark-dstu2.furore.com/fhir/Patient\">http://spark-dstu2.furore.com/fhir/Patient</a><br>\n<a href=\"http://spark.furore.com/fhir/_snapshot?id=c8d30c4b-b737-421b-a115-548b54aab55b&amp;start=20\" target=\"_blank\" title=\"http://spark.furore.com/fhir/_snapshot?id=c8d30c4b-b737-421b-a115-548b54aab55b&amp;start=20\">http://spark.furore.com/fhir/_snapshot?id=c8d30c4b-b737-421b-a115-548b54aab55b&amp;start=20</a></p>\n<p>When I point to my local server, the exception happens:<br>\n\"Operation was unsuccessful, and returned status InternalServerError. OperationOutcome: Overall result: FAILURE (1 errors and 0 warnings)\\r\\n\\r\\n[ERROR] (no details)(further diagnostics: Endpoint returned a body with contentType 'text/html', while a valid FHIR xml/json body type was expected. Is this a FHIR endpoint?)\\r\\n\"</p>\n<p><a href=\"http://localhost:8091/fhir/Patient\" target=\"_blank\" title=\"http://localhost:8091/fhir/Patient\">http://localhost:8091/fhir/Patient</a>                 //this is good<br>\n<a href=\"http://localhost:8091/spark/fhir/_snapshot?id=798e7ba1-5059-42de-913a-22ce9c501369&amp;start=20\" target=\"_blank\" title=\"http://localhost:8091/spark/fhir/_snapshot?id=798e7ba1-5059-42de-913a-22ce9c501369&amp;start=20\">http://localhost:8091/spark/fhir/_snapshot?id=798e7ba1-5059-42de-913a-22ce9c501369&amp;start=20</a><br>\n--this throws an error.</p>\n<p>Server Error in '/' Application.</p>\n<p>Value cannot be null.<br>\nParameter name: typeRequested</p>\n<p>Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. </p>\n<p>Exception Details: System.ArgumentNullException: Value cannot be null.<br>\nParameter name: typeRequested</p>\n<p>Source Error: </p>\n<p>Line 25:             try<br>\nLine 26:             {<br>\nLine 27:                 result = (IController)(_container.Resolve(controllerType));<br>\nLine 28:             }<br>\nLine 29:             catch (ResolutionFailedException)</p>\n<p>Source File: C:\\Users\\SANTOSH\\Source\\Repos\\spark-master\\spark-master\\src\\Spark\\App_Start\\UnityControllerFactory.cs    Line: 27</p>",
        "id": 153912620,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1507213315
    },
    {
        "content": "<p>As I am not seeing any exceptions against the Spark reference server, and am getting errors on my local server, it seems both might have different versions. Spark reference server has the code from master branch of: <a href=\"https://github.com/furore-fhir/spark/\" target=\"_blank\" title=\"https://github.com/furore-fhir/spark/\">https://github.com/furore-fhir/spark/</a>? Can someone please confirm?</p>",
        "id": 153912658,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1507224602
    },
    {
        "content": "<p>I hosted my Spark from dstu2/master branch instead of master branch. It fixed the issue. I decided to start migration to Vonk earlier than planned :)</p>",
        "id": 153912857,
        "sender_full_name": "Santosh Jami",
        "timestamp": 1507312411
    }
]