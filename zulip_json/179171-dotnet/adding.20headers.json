[
    {
        "content": "<p>how do you add headers to the fhir client?</p>",
        "id": 153896959,
        "sender_full_name": "Mat Coolidge ",
        "timestamp": 1500056144
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191384\">@Mat Coolidge </span>,  you can add an  OnBeforeRequest handler to the FHIRClient, like in the following sample:</p>\n<div class=\"codehilite\"><pre><span></span>    private static void AddHeaders(object ClientObject, BeforeRequestEventArgs BREA)\n    {\n        BREA.RawRequest.Headers.Add(&quot;Authorization&quot;, &quot;Basic &quot; + Convert.ToBase64String(Encoding.UTF8.GetBytes(&quot;username:password&quot;)));\n        BREA.RawRequest.Headers.Add(&quot;X-Your-header&quot;, &quot;xyz&quot;);\n    }\n\n    static void Main(string[] args)\n    {\n        FhirClient client = new FhirClient(FHIRBase);\n        client.OnBeforeRequest += AddHeaders;\n\n        // Your code\n    }\n</pre></div>",
        "id": 153897026,
        "sender_full_name": "Theo Stolker",
        "timestamp": 1500275231
    },
    {
        "content": "<p>Here is my solution:</p>",
        "id": 153897466,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1500561554
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>        var client = new FhirClient(serviceUrl)\n        {\n            PreferredFormat = ResourceFormat.Json\n        };\n            client.OnBeforeRequest +=\n                (sender, e) =&gt; { e.RawRequest.Headers.Add(&quot;Authorization&quot;, token); };\n</pre></div>",
        "id": 153897467,
        "sender_full_name": "Yunwei Wang",
        "timestamp": 1500561577
    },
    {
        "content": "<p>Yup, that's right.</p>",
        "id": 153897840,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1500868357
    }
]