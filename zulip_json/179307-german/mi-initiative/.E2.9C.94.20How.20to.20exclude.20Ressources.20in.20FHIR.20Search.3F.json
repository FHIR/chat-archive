[
    {
        "content": "<p>I want to exclude specific Patients with a diagnosis linked by _has:<br>\n[base]/Patient?_has:Condition:patient:code=G20.0&amp;_has:Condition:patient:code:not=E70.0</p>\n<p>This should give me all patients with diagnosis-code G20.0, which do NOT have a diagnosis of E70.0, BUT :not doesnâ€™t work with referenced resources via _has. <br>\nDoes anyone have an idea how to solve this? How to exclude specific resources. I know i could search for both terms independently and subtract the results but that is not a good solution. Thanks in advance.</p>",
        "id": 257220178,
        "sender_full_name": "Raphael",
        "timestamp": 1634051922
    },
    {
        "content": "<p>Unfortunately, this is a limitation (well intentional!) of the FHIR Search API. See <a href=\"#narrow/stream/179166-implementers/topic/Negating.20Reverse.20Chaining\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Negating.20Reverse.20Chaining</a></p>",
        "id": 257225323,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1634053823
    },
    {
        "content": "<p>I guess you could define your own custom search parameter which indexes everything except E70.0 and then do an exists check, but it's getting really ugly</p>",
        "id": 257225595,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1634053925
    },
    {
        "content": "<p>Ok not the answer i hoped for but still. Thank you!</p>",
        "id": 257341950,
        "sender_full_name": "Raphael",
        "timestamp": 1634120362
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"450425\">Raphael</span> has marked this topic as resolved.</p>",
        "id": 257341952,
        "sender_full_name": "Notification Bot",
        "timestamp": 1634120364
    }
]