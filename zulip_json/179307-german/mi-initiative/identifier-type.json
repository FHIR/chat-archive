[
    {
        "content": "<p>Für die Validierung unserer FHIR-Transformationen möchten wir gerne z.B. für Procedures Stichprobentests durchführen. Dies beinhaltet z.B. zu einer expliziten, im KIS dokumentierten, Prozedur die entsprechende FHIR-Ressource auf dem FHIR-Server zu prüfen. <br>\nProblem: die einzelnen Prozeduren haben keinen Identifier (zumindest nicht auf HL7-Ebene). <br>\nLösung: Um genau die benötigte Ressource anzusprechen und zur Nachvollziehbarkeit möchten wir gerne entsprechende Identifier für die FHIR-Ressourcen vergeben, welche an jeder Stelle des Datenflusses (Quelle, Komm-Server, etc.) mit den zu diesem Zeitpunkt verfügbaren Daten generiert werden können. Bisheriger Plan hierfür ist sowas, wie: <br>\n          &lt;Encounter-ID&gt;_&lt;Procedure Code&gt;_&lt;Zeitstempel der Prozedur&gt; </p>\n<p>Unsere Frage: <br>\nWelchen identifier.type sollen wir hier vergeben? Das im Basisprofil angegebene ValueSet <a href=\"http://hl7.org/fhir/valueset-identifier-type.html\">http://hl7.org/fhir/valueset-identifier-type.html</a> enthält leider bisher nichts passendes, ist jedoch extensible. Gibt es für unseren Anwendungsfall schon irgendeinen Konsens für einen zu verwendeten Code? Oder sollen wir uns irgendwas eigenes ausdenken? </p>\n<p>Vielen Dank im Voraus! :) <br>\nChristoph</p>",
        "id": 238763499,
        "sender_full_name": "Christoph Müller",
        "timestamp": 1620997729
    },
    {
        "content": "<p>Das ganze klingt für mich als wärst du auf der Suche nach einer Provenance-Ressource. Dort könntest du die Procedure als target angeben und den Zeitstempel als Provenance.recorded. Den Encounter könnte man unter entity angeben.</p>",
        "id": 238765691,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1620998694
    },
    {
        "content": "<p>HL7 V2 sollte eigentlich in PR1-19 eine Procedure-ID liefern können</p>",
        "id": 238766688,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1620999104
    },
    {
        "content": "<p>Ich verstehe den Wunsch nach einer ID, damit könnte man zumindest im V2-&gt;FHIR-Datenstrom einfach mit conditional Updates arbeiten.<br>\nRückfrage: Warum wäre der Type an der Stelle wichtig? Hättet ihr nicht ein hart-codiertes System á là <a href=\"http://mein-Krankenhaus.de/fhir/sid/prozeduren\">http://mein-Krankenhaus.de/fhir/sid/prozeduren</a> anhand dem ihr den korrekten Identifier selektieren könntet...?</p>",
        "id": 238767044,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1620999238
    },
    {
        "content": "<p>Bislang ist Procedure.identifier noch nicht mal must-support, da Info im Kümmererteam bislang war, dass die Identifier in v2 so gut wie nicht verfügbar sind.</p>",
        "id": 238768046,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1620999620
    },
    {
        "content": "<p>Das Problem mit dem Wiederfinden einer Ressource nach einer ETL-Transformation ist, denke ich mal, nicht nur begrenzt auf die Procedure. In der Provenance-Ressource könnte ich dann auch genauer dokumentieren welcher Durchlauf der Transformation das war, welche Quelle verwendet wurde, etc.</p>",
        "id": 238768361,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1620999747
    },
    {
        "content": "<p>Das Problem der Re-Identifikation löst Provenance aber auch nicht. Da muss ich immer noch die Kombi Fall+Code+Zeitpunkt testen um herauszufinden, ob es sich um eine neue Prozedur oder das update einer bekannten handelt...</p>",
        "id": 238768808,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1620999913
    },
    {
        "content": "<p>Eine Kombi von Suchparametern + ein include auf das target könnte in einer Abfrage gehen. Sie Suchparameter sind nicht so umfangreich, man müsste hier noch weitere eigene definieren, z.B. um auf occurred[X] suchen zu können</p>",
        "id": 238770031,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1621000346
    },
    {
        "content": "<p>Das Verfahren bricht halt, sobald in einem Update der Zeitpunkt oder der einer Prozedur geändert wird.<br>\nWer's ganz sauber lösen will, müsste das Prä-V2.3 (?) Snapshot verfahren emulieren und bei jeder BAR-Nachricht alle Prozeduren zum Fall löschen und durch die vorhandenen ersetzen. <br>\nWelcome to my <a href=\"https://www.youtube.com/watch?v=XarbeHUmWNU\">TED-Talk</a> <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"XarbeHUmWNU\" href=\"https://www.youtube.com/watch?v=XarbeHUmWNU\"><img src=\"https://uploads.zulipusercontent.net/7a4297ca7982e9ea63780727a5d1345567b08e7a/68747470733a2f2f692e7974696d672e636f6d2f76692f586172626548556d574e552f64656661756c742e6a7067\"></a></div>",
        "id": 238770106,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1621000386
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191450\">Simone Heckmann</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/identifier-type/near/238767044\">said</a>:</p>\n<blockquote>\n<p>Ich verstehe den Wunsch nach einer ID, damit könnte man zumindest im V2-&gt;FHIR-Datenstrom einfach mit conditional Updates arbeiten.<br>\nRückfrage: Warum wäre der Type an der Stelle wichtig? Hättet ihr nicht ein hart-codiertes System á là <a href=\"http://mein-Krankenhaus.de/fhir/sid/prozeduren\">http://mein-Krankenhaus.de/fhir/sid/prozeduren</a> anhand dem ihr den korrekten Identifier selektieren könntet...?</p>\n</blockquote>\n<p>Da habe ich wohl den Wald vor lauter Bäumen nicht gesehen. Peinlich... <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span>  Danke für die schnelle Hilfe! :) </p>\n<p>Der Fall Procedure oben war auch nur ein Beispiel, das Problem tritt auch an anderer Stelle auf, ist aber auch mit obigem abgegolten. Bzgl. der Provenance sehe ich die von Simone genannten Probleme ähnlich - dennoch sollten wir wohl hier und da Gebrauch von der Ressource machen.</p>",
        "id": 239040987,
        "sender_full_name": "Christoph Müller",
        "timestamp": 1621233960
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193430\">Alexander Zautke</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/identifier-type/near/238768046\">said</a>:</p>\n<blockquote>\n<p>Bislang ist Procedure.identifier noch nicht mal must-support, da Info im Kümmererteam bislang war, dass die Identifier in v2 so gut wie nicht verfügbar sind.</p>\n</blockquote>\n<p>Genau, ganz viele Items in v2 kommen ohne identifier. Wo jedoch eine Idenfikation einer Ressource nicht über den identifier einer übergeordneten Ressource ist - wie z.B. im Falle einer Lab-Observation über fillerNumber als identifier des Diagnostic Reports und den Code des Laborwertes - wollen wir selbst identifier vergeben. Der Typ selbst ist dabei für uns gar nicht wichtig, weil wir den identifier nur zur Reidentifizierung einer Ressource nutzen. Identifier.system ist hier genau passend. :)</p>",
        "id": 239042012,
        "sender_full_name": "Christoph Müller",
        "timestamp": 1621234781
    }
]