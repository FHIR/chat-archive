[
    {
        "content": "<p><a href=\"https://simplifier.net/medizininformatikinitiative-modulmedikation/medication-duplicate-3/~issues/535\" title=\"https://simplifier.net/medizininformatikinitiative-modulmedikation/medication-duplicate-3/~issues/535\">https://simplifier.net/medizininformatikinitiative-modulmedikation/medication-duplicate-3/~issues/535</a><br>\nHallo <span class=\"user-mention\" data-user-id=\"213583\">@André Sander</span>, danke für den Kommentar zur Frage, wie man zwei Wirkstoffe verknüpft, wenn man den allgemeinen Wirkstoff und ein Derivat hat. Der Vorschlag wäre eine Extension an Medication.ingredient, die entweder eine Referenz auf Substance oder eine andere Medication enthalten kann und zusätzlich ein valueUri, um auf ein ingredient-Element innerhalb einer Ressource zu verweisen. Den Wirkstofftyp (allgemein|präzise) haben wir bislang am Coding aufgehangen, Wirkstoffrelation muss mMn an ingredient, weil man sonst die strength nicht zuordnen kann. In dem Bisoprolol-Bsp. hätte man dann eine Medication mit zwei ingredients. Erscheint mir noch nicht ideal. Also Input willkommen. Extension und Profil liegen hier in der Sandbox: <a href=\"https://simplifier.net/testMedikation\" title=\"https://simplifier.net/testMedikation\">https://simplifier.net/testMedikation</a>.</p>",
        "id": 195169225,
        "sender_full_name": "Julian Sass",
        "timestamp": 1587723596
    },
    {
        "content": "<p>Und hier eine Instanz, die gegen das Profil validiert:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;resourceType&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Medication&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;meta&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&quot;profile&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"s2\">&quot;https://www.medizininformatik-initiative.de/fhir/core/StructureDefinition/MedicationTest&quot;</span>\n    <span class=\"p\">],</span>\n    <span class=\"nt\">&quot;versionId&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;619dd850-a796-4d10-8002-014efdf68b78&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;lastUpdated&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2020-04-24T09:37:35.374+00:00&quot;</span>\n  <span class=\"p\">},</span>\n  <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2344034&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;BISOPROLOL 10 mg AAA-Pharma Filmtabletten&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://fhir.de/CodeSystem/ifa/pzn&quot;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">},</span>\n  <span class=\"nt\">&quot;form&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;10221000&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Filmtablette&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://standardterms.edqm.eu&quot;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">},</span>\n  <span class=\"nt\">&quot;ingredient&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;id&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;ing1&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;isActive&quot;</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;itemCodeableConcept&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n              <span class=\"p\">{</span>\n                <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://www.medizininformatik-initiative.de/fhir/core/StructureDefinition/wirkstofftyp&quot;</span><span class=\"p\">,</span>\n                <span class=\"nt\">&quot;valueCoding&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                  <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;PIN&quot;</span><span class=\"p\">,</span>\n                  <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;precise ingredient&quot;</span><span class=\"p\">,</span>\n                  <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://www.medizininformatik-initiative.de/fhir/core/CodeSystem/Wirkstofftyp&quot;</span>\n                <span class=\"p\">}</span>\n              <span class=\"p\">}</span>\n            <span class=\"p\">],</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;104344-23-2&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;BISOPROLOL FUMARATE&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;urn:oid:2.16.840.1.113883.6.61&quot;</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">&quot;strength&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;denominator&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;10219000&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://standardterms.edqm.eu&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Tablet&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"mi\">1</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">&quot;numerator&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;mg&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://unitsofmeasure.org&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;milligram&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"mi\">10</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">},</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;elementUri&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;valueUri&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;#ing1&quot;</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">],</span>\n          <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://www.medizininformatik-initiative.de/fhir/core/StructureDefinition/wirkstoffrelation&quot;</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">],</span>\n      <span class=\"nt\">&quot;id&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;ing2&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;isActive&quot;</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;itemCodeableConcept&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n              <span class=\"p\">{</span>\n                <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://www.medizininformatik-initiative.de/fhir/core/StructureDefinition/wirkstofftyp&quot;</span><span class=\"p\">,</span>\n                <span class=\"nt\">&quot;valueCoding&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n                  <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;IN&quot;</span><span class=\"p\">,</span>\n                  <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;ingredient&quot;</span><span class=\"p\">,</span>\n                  <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://www.medizininformatik-initiative.de/fhir/core/CodeSystem/Wirkstofftyp&quot;</span>\n                <span class=\"p\">}</span>\n              <span class=\"p\">}</span>\n            <span class=\"p\">],</span>\n            <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;66722-44-9&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;display&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;BISOPROLOL&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;urn:oid:2.16.840.1.113883.6.61&quot;</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">},</span>\n      <span class=\"nt\">&quot;strength&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;denominator&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;10219000&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://standardterms.edqm.eu&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Tablet&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"mi\">1</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">&quot;numerator&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;mg&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://unitsofmeasure.org&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;unit&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;milligram&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;value&quot;</span><span class=\"p\">:</span> <span class=\"mf\">8.49</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">],</span>\n  <span class=\"nt\">&quot;status&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;active&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;id&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;cc3ea02c-7feb-4e3a-b699-286af1ab6968&quot;</span>\n<span class=\"p\">}</span>\n</pre></div>",
        "id": 195169506,
        "sender_full_name": "Julian Sass",
        "timestamp": 1587723773
    },
    {
        "content": "<p>Evtl. habe ich den Issue falsch verstanden, aber man könnte doch die Abbildung des gleichen Wirkstoffes in verschiedenen Klassifikationen darüber lösen multiple Codings in ingedient zu verwenden.</p>",
        "id": 195172409,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1587725803
    },
    {
        "content": "<p>Ja dachte ich auch erst, deswegen hatten wir die Wirkstofftyp-Extension direkt am Coding. Aber bei dem Beispiel \"10mg Bisoprolol hemifumarat\" -&gt; \"8,49mg Bisoprolol\" brauchst du zweimal strength. Und es sind semantisch nicht zwei Codings für das selbe CodeableConcept, oder?</p>",
        "id": 195174798,
        "sender_full_name": "Julian Sass",
        "timestamp": 1587727617
    }
]