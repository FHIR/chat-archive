[
    {
        "content": "<p>Hallo zusammen, ich verstehe nicht ganz, warum das Setzen von <code>name.given</code> und <code>name.family</code> nicht funktioniert.</p>\n<p>Ich habe es auf verschiedene Weisen probiert, immer mit dem selben Ergebnis:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"s2\">&quot;name&quot;</span><span class=\"err\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;use&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;official&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;_family&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n                <span class=\"p\">{</span>\n                    <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;</span><span class=\"p\">,</span>\n                    <span class=\"nt\">&quot;valueCode&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;unsupported&quot;</span>\n                <span class=\"p\">}</span>\n            <span class=\"p\">]</span>\n        <span class=\"p\">},</span>\n        <span class=\"nt\">&quot;given&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"kc\">null</span>\n        <span class=\"p\">],</span>\n        <span class=\"nt\">&quot;_given&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n                <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n                    <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;valueCode&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;unsupported&quot;</span>\n<span class=\"err\">...</span>\n</code></pre></div>\n\n\n<p>Aktuell versuche ich es auf diese Weise:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kd\">var</span> <span class=\"n\">absentName</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">HumanName</span><span class=\"p\">();</span>\n<span class=\"n\">absentName</span><span class=\"p\">.</span><span class=\"na\">setUse</span><span class=\"p\">(</span><span class=\"n\">NameUse</span><span class=\"p\">.</span><span class=\"na\">OFFICIAL</span><span class=\"p\">);</span>\n<span class=\"n\">absentName</span>\n    <span class=\"p\">.</span><span class=\"na\">getFamilyElement</span><span class=\"p\">()</span>\n    <span class=\"p\">.</span><span class=\"na\">addExtension</span><span class=\"p\">(</span>\n        <span class=\"n\">fhirProps</span><span class=\"p\">.</span><span class=\"na\">getExtensions</span><span class=\"p\">().</span><span class=\"na\">getDataAbsentReason</span><span class=\"p\">(),</span> <span class=\"k\">new</span> <span class=\"n\">CodeType</span><span class=\"p\">(</span><span class=\"s\">&quot;unsupported&quot;</span><span class=\"p\">));</span>\n<span class=\"n\">absentName</span>\n    <span class=\"p\">.</span><span class=\"na\">addGivenElement</span><span class=\"p\">()</span>\n    <span class=\"p\">.</span><span class=\"na\">addExtension</span><span class=\"p\">(</span>\n        <span class=\"n\">fhirProps</span><span class=\"p\">.</span><span class=\"na\">getExtensions</span><span class=\"p\">().</span><span class=\"na\">getDataAbsentReason</span><span class=\"p\">(),</span> <span class=\"k\">new</span> <span class=\"n\">CodeType</span><span class=\"p\">(</span><span class=\"s\">&quot;unsupported&quot;</span><span class=\"p\">));</span>\n<span class=\"n\">patient</span><span class=\"p\">.</span><span class=\"na\">addName</span><span class=\"p\">(</span><span class=\"n\">absentName</span><span class=\"p\">);</span>\n</code></pre></div>\n\n\n<p>Aber es entstehen immer diese seltsamen <code>_family</code>- und <code>_given</code>-Felder. Außerdem ist <code>given == null</code>.<br>\nHat jemand einen Tipp für mich?</p>",
        "id": 209308086,
        "sender_full_name": "Marvin Kampf",
        "timestamp": 1599493098
    },
    {
        "content": "<p><code>given</code> und <code>family</code> sind primitive Typen, die Extension wird entsprechend der Spezifikation für JSON im Fall mit <code>_given</code> und <code>_family</code> dargestellt: <a href=\"https://www.hl7.org/fhir/json.html#primitive\">https://www.hl7.org/fhir/json.html#primitive</a> </p>\n<p>Laut der Spezifikation sollte <code>\"family\": null</code> nicht gerendert werden. Vermutlich wird <code>\"given\": [null]</code> gerendert, weil es sich bei Patient.name.given um ein Array handelt und sich die Extension auf das erste Element bezieht.</p>",
        "id": 209378462,
        "sender_full_name": "Johannes Oehm",
        "timestamp": 1599567896
    },
    {
        "content": "<p>wurde auch im internationalen Chat besprochen: <a href=\"#narrow/stream/179167-hapi/topic/Setting.20name.2Egiven.20and.20.2Efamily\">https://chat.fhir.org/#narrow/stream/179167-hapi/topic/Setting.20name.2Egiven.20and.20.2Efamily</a></p>",
        "id": 209378600,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1599567976
    },
    {
        "content": "<p>und resolved...</p>",
        "id": 209380275,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1599569013
    }
]