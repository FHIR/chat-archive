[
    {
        "content": "<p>Seit Version 1.0.1 vom Encounter der MII scheint Encounter.class nicht mehr mit einer Extension \"data-absent-reason\" befüllt werden zu können. In Version 1.0.0 wird das akzeptiert. Woran liegt das? Ist das Absicht oder ein Bug?</p>",
        "id": 253734340,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1631881901
    },
    {
        "content": "<p>Ohne inhaltlich Ahnung vom Profil zu haben würde ich einen Bug vermuten. Die \"data-absent-reason\" Extension sollte man eigentlich immer verwenden können. Was ist denn die konkrete Fehlermeldung?</p>",
        "id": 253736018,
        "sender_full_name": "Noemi Deppenwiese",
        "timestamp": 1631882737
    },
    {
        "content": "<p>Die Fehlermeldung ist:</p>\n<div class=\"codehilite\"><pre><span></span><code>CodeInvalid : No code found in Coding with a required binding.\nEncounter.class[0]\n</code></pre></div>\n<p>Im Encounter steht für Encounter.class:</p>\n<div class=\"codehilite\"><pre><span></span><code>                &quot;_class&quot;: {\n                    &quot;extension&quot;: [\n                        {\n                            &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;,\n                            &quot;valueCode&quot;: &quot;unknown&quot;\n                        }\n                    ]\n                },\n</code></pre></div>",
        "id": 254158710,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1632203373
    },
    {
        "content": "<p>noch eine ganz blöde Frage, bevor ich anfange hier den Fehler nachzubauen, nutzt du die 1.0.1 Version oder die build Version aus Simplifier raus? (da gibt es auch zur Zeit minimale Unterschiede wie es aussieht)</p>",
        "id": 254159082,
        "sender_full_name": "Andrea Essenwanger",
        "timestamp": 1632203745
    },
    {
        "content": "<p>Ein etwas blöde Antwort: Ich bin mir nicht sicher... Ich klicke in der Profilansicht im Simplifier oben rechts auf \"Validation\" und dann auf \"Validate Against\". Ist das dann die Build-Version? Wenn ich meinen Kollegen richtig verstanden habe, hat er aber auch andere Varianten probiert. Vielleicht mag er sich noch dazu äußern <span class=\"user-mention\" data-user-id=\"441366\">@Julian Brandes</span>...</p>",
        "id": 254159525,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1632204129
    },
    {
        "content": "<p>dann probiere ich selber etwas rum, der Grund weswegen ich frage, ist weil die build Version ein required Binding auf EncounterClassDE hat, während die Binding Strength bei den Packages auf extensible ist. Da meine ich irgendwo gelesen zu haben, dass es in solchen Fällen nicht möglich ist die data-absent-reason Extension zu nutzen, weil hier ja nur die Codes aus dem gebindeten VS erwartet werden. Aber sicher bin ich mir (noch) nicht. Ich mach mich dazu schlau und melde mich dann im Laufe des Tages hier wieder! (falls es iwer hier schon besser weiß, dann gerne korrigieren/ergänzen <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span> )</p>",
        "id": 254164278,
        "sender_full_name": "Andrea Essenwanger",
        "timestamp": 1632208152
    },
    {
        "content": "<p>Ist korrekt <span class=\"user-mention\" data-user-id=\"196447\">@Andrea Essenwanger</span>. Wenn Encounter.class vorher extensible war, hat das mit der Extension funktioniert. In der build Version auf Simplifier hat Encounter.class ein required binding, deswegen geht data-absent-reason in dem Fall nicht mehr.</p>",
        "id": 254168617,
        "sender_full_name": "Julian Sass",
        "timestamp": 1632210836
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196447\">@Andrea Essenwanger</span> Korrekt, in der Version 1.0.1 war das Binding extensible. Man bekommt vom Java Validator hier nur eine Warning, falls man kein Code aus dem gebundenen ValueSet wählt. In der aktuellen Version ist dies nun ein required Binding. Man muss einen Code aus dem ValueSet auswählen. Der \"Trick\" über die data-absent-reason-Extension funktioniert nicht mehr.</p>",
        "id": 254168660,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1632210846
    },
    {
        "content": "<p>Haha, <span class=\"user-mention\" data-user-id=\"194952\">@Julian Sass</span>. Danke, warst schneller <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span></p>",
        "id": 254168692,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1632210872
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"194952\">@Julian Sass</span> <span class=\"user-mention\" data-user-id=\"193430\">@Alexander Zautke</span>  danke euch! (wollte schon fragen ob ihr euch abgesprochen habt <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span> )</p>",
        "id": 254168737,
        "sender_full_name": "Andrea Essenwanger",
        "timestamp": 1632210916
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"256468\">@Abel Stolz</span> In welchen Fällen kennt ihr denn die Klasse des Encounters nicht?</p>",
        "id": 254168752,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1632210928
    },
    {
        "content": "<p>Ich antworte mal anstelle von @Abel Stolz: In diesem konkreten Fall geht es um die VerFHIRung von ORU-Nachrichten. Aus lokalen Modellierungsgründen brauchen wir aus dieser Quelle eine funktionierende Encounter-Ressource. Aus dieser Quelle kann jedoch u.a. \"class\" nicht befüllt werden.</p>",
        "id": 254177102,
        "sender_full_name": "Julian Brandes",
        "timestamp": 1632215905
    },
    {
        "content": "<p>So ganz verstehe ich das noch nicht. Ihr habt also ein PV.1 Segment in eurer Nachricht die als Encounter abgebildet soll und dieses Segment enthält keine Patient Class?</p>",
        "id": 254187285,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1632221558
    },
    {
        "content": "<p>Und ein weiterer Fall: Wie man aus §21-Daten Encounter.class gewinnen soll, ist mir auch nicht klar. Wenn das hier jemand beantworten kann... Um so besser!</p>",
        "id": 254187361,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1632221609
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193430\">Alexander Zautke</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/254187285\">said</a>:</p>\n<blockquote>\n<p>So ganz verstehe ich das noch nicht. Ihr habt also ein PV.1 Segment in eurer Nachricht die als Encounter abgebildet soll und dieses Segment enthält keine Patient Class?</p>\n</blockquote>\n<p>Genau. PV1-2 ist leer.</p>",
        "id": 254187459,
        "sender_full_name": "Julian Brandes",
        "timestamp": 1632221653
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"256468\">Abel Stolz</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/254187361\">said</a>:</p>\n<blockquote>\n<p>Und ein weiterer Fall: Wie man aus §21-Daten Encounter.class gewinnen soll, ist mir auch nicht klar. Wenn das hier jemand beantworten kann... Um so besser!</p>\n</blockquote>\n<p>Kann man hier nicht einfach immer IMP (inpatient encounter) als default setzten? Falls man sich auch den PIA Entgeldbereich anschaut muss man uU nochmal eine tiefergehende Unterscheidung machen, aber zumindest im DRG Bereich sollte das doch passen? Evtl. kann man sich auch noch das Aufnahme- und Entlassdatum anschauen.</p>",
        "id": 254188373,
        "sender_full_name": "Noemi Deppenwiese",
        "timestamp": 1632222125
    },
    {
        "content": "<p>Wenn jemand die Fragezeichen durch Ausrufezeichen ersetzt, bin ich ja schon fast zufrieden. Dann nehme ich bei DRG überall \"IMP\" an.<br>\nEs bleibt das Problem mit den PIA-Daten. Außerdem: Natürlich kann man sich Aufnahme- und Entlassdatum anschauen, aber als derjenige, der das dann programmieren muss, graut es mir vor lauter so Bastellösungen. Das wird irgendwann sehr unübersichtlich und fehleranfällig...</p>",
        "id": 254189203,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1632222610
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"441366\">Julian Brandes</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/254187459\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"193430\">Alexander Zautke</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/254187285\">said</a>:</p>\n<blockquote>\n<p>So ganz verstehe ich das noch nicht. Ihr habt also ein PV.1 Segment in eurer Nachricht die als Encounter abgebildet soll und dieses Segment enthält keine Patient Class?</p>\n</blockquote>\n<p>Genau. PV1-2 ist leer.</p>\n</blockquote>\n<p>Ist das in v2 kein Pflichtfeld? Sorry, wenn es eine blöde Frage ist, kenn mich mit v2-System nicht so aus.</p>",
        "id": 254199716,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1632227923
    },
    {
        "content": "<p>Unser PDMS verschickt leider HL7v2-Nachrichten, die an diversen Stellen \"illegal\" sind. Manchmal werden die auch von heute auf morgen unter der Hand geändert. Ich befürchte, in der Praxis nehmen es viele Systeme nicht so genau, was Pflicht ist und was freiwillig...</p>",
        "id": 254206783,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1632231009
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193430\">Alexander Zautke</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/254199716\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"441366\">Julian Brandes</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/254187459\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"193430\">Alexander Zautke</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/254187285\">said</a>:</p>\n<blockquote>\n<p>So ganz verstehe ich das noch nicht. Ihr habt also ein PV.1 Segment in eurer Nachricht die als Encounter abgebildet soll und dieses Segment enthält keine Patient Class?</p>\n</blockquote>\n<p>Genau. PV1-2 ist leer.</p>\n</blockquote>\n<p>Ist das in v2 kein Pflichtfeld? Sorry, wenn es eine blöde Frage ist, kenn mich mit v2-System nicht so aus.</p>\n</blockquote>\n<p>Er hat \"V2\" und \"Pflichtfeld\" in einem Satz genannt. Lustig! <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span>  (sorry, konnte mich nicht zurückhalten)</p>",
        "id": 254209331,
        "sender_full_name": "Detlef Kraska",
        "timestamp": 1632232078
    },
    {
        "content": "<p>Umso wichtiger, dass es in FHIR ein korrektes Pflichtfeld wird, ich wäre auch dafür den Weg von <span class=\"user-mention\" data-user-id=\"221444\">@Noemi Deppenwiese</span> zu verfolgen und zu schauen ob man den Kontext nicht ableiten kann.</p>",
        "id": 254209870,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1632232314
    },
    {
        "content": "<p>Wenn es generellen Consent dazu gibt, können wir gerne Best-Practices in den IG übernehmen</p>",
        "id": 254209977,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1632232342
    },
    {
        "content": "<p>Ich vermute, bei uns wird es auf folgendes herauslaufen: Wir benutzen die Extension \"data-absent-reason\", obwohl sie nicht KDS-konform ist. Dann hoffen wir, dass die entsprechenden Encounters schnell genug von besseren Encounters (d.h. aus einer verlässlicheren Datenquelle) überschrieben werden, dass es bei den meisten nicht mehr auffällt. Dann hätten wir vermutlich einen kleine Anzahl nicht KDS-konforme Encounter. Ich denke, das ist aus pragmatischer Sicht verschmerzbar und realistisch umsetzbar.</p>",
        "id": 254216808,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1632234731
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"256468\">Abel Stolz</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/254189203\">said</a>:</p>\n<blockquote>\n<p>Wenn jemand die Fragezeichen durch Ausrufezeichen ersetzt, bin ich ja schon fast zufrieden. Dann nehme ich bei DRG überall \"IMP\" an.<br>\nEs bleibt das Problem mit den PIA-Daten. Außerdem: Natürlich kann man sich Aufnahme- und Entlassdatum anschauen, aber als derjenige, der das dann programmieren muss, graut es mir vor lauter so Bastellösungen. Das wird irgendwann sehr unübersichtlich und fehleranfällig...</p>\n</blockquote>\n<p>Ich denke das Problem kommt daher, dass der Sender der ORUs nicht \"source of truth\" für Encounter-Daten ist, sondern nur ein Subsystem, das mit den ADT-Daten Flüsterpost spielt.<br>\nKorrekt wäre hier ein Lookup im Primärsystem anhand der Fallnummer im PV1-19, um die Fallart zu ermitteln. Aber \"lookups\" in V2 sind halt sone Sache :D</p>",
        "id": 254587030,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632423684
    },
    {
        "content": "<p>Wennn das Primärsystem ISiK Stufe 1 implementiert hat, wird's leichter :D</p>",
        "id": 254587108,
        "sender_full_name": "Simone Heckmann",
        "timestamp": 1632423718
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191450\">Simone Heckmann</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/254587108\">said</a>:</p>\n<blockquote>\n<p>Wennn das Primärsystem ISiK Stufe 1 implementiert hat, wird's leichter :D</p>\n</blockquote>\n<p>Das lässt sich ja rausfinden. Mal angenommen das ist der Fall, dann könnten wir uns eventuell die Fallart in Zukunft liefern lassen. Für unsere bisherigen, archivierten Daten fällt diese Lösung allerdings aus...</p>",
        "id": 254655925,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1632463606
    },
    {
        "content": "<p>Ein Anschlussfrage zu dem Thema habe ich noch.<br>\nIch habe oben folgenden FHIR-Schnipsel gepostet:</p>\n<div class=\"codehilite\"><pre><span></span><code>                &quot;_class&quot;: {\n                    &quot;extension&quot;: [\n                        {\n                            &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;,\n                            &quot;valueCode&quot;: &quot;unknown&quot;\n                        }\n                    ]\n                },\n</code></pre></div>\n<p>Ist das überhaupt syntaktisch korrekt? Die Frage betrifft den Unterstrich vor <code>class</code>. Müsste es eventuell</p>\n<div class=\"codehilite\"><pre><span></span><code>                &quot;class&quot;: {\n                    &quot;extension&quot;: [\n                        {\n                            &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;,\n                            &quot;valueCode&quot;: &quot;unknown&quot;\n                        }\n                    ]\n                },\n</code></pre></div>\n<p>heißen, weil Encounter.class kein primitiver Wert ist? Validiert wird beides...</p>",
        "id": 255724574,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1633085482
    },
    {
        "content": "<p>Im Java Validator sollte es nicht validieren, Simplifier ist hier ein wenig relaxter....</p>",
        "id": 255725811,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1633086139
    },
    {
        "content": "<p><a href=\"https://www.hl7.org/fhir/element.html#json\">https://www.hl7.org/fhir/element.html#json</a></p>",
        "id": 255727176,
        "sender_full_name": "Kutaiba Saleh",
        "timestamp": 1633086858
    },
    {
        "content": "<p>Danke, ein Missverständnis weniger... :-)</p>",
        "id": 255730322,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1633088687
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193430\">Alexander Zautke</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/255725811\">said</a>:</p>\n<blockquote>\n<p>Im Java Validator sollte es nicht validieren, Simplifier ist hier ein wenig relaxter....</p>\n</blockquote>\n<p>Um ganz sicher zu gehen: Was ist \"es\"? Das Beispiel mit Unterstrich oder das Beispiel ohne Unterstrich?</p>",
        "id": 255730556,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1633088839
    },
    {
        "content": "<p>Nur Extensions für primitive Werte sollten den Unterstrich haben.</p>",
        "id": 255731309,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1633089242
    },
    {
        "content": "<p>\"FHIR elements with primitive data types are represented in two parts:</p>\n<p>A JSON property with the name of the element, which has a JSON type of number, boolean, or string<br>\na JSON property with _ prepended to the name of the element, which, if present, contains the value's id and/or extensions\"</p>",
        "id": 255731503,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1633089333
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"193430\">Alexander Zautke</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/255731503\">said</a>:</p>\n<blockquote>\n<p>A JSON property with the name of the element, which has a JSON type of number, boolean, or string<br>\na JSON property with _ prepended to the name of the element, which, if present, contains the value's id and/or extensions\"</p>\n</blockquote>\n<p>Und diese beiden Sätze sind mit einem logischen \"oder\" verknüpft, richtig? Man muss also nicht die Variante mit und gleich zeitig die Variante ohne Unterstrich benutzen, sondern eins von beidem reicht?</p>",
        "id": 255731916,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1633089531
    },
    {
        "content": "<p>Nein ein logisches \"und\". Die Extension kommt in das Element mit Unterstrich. Wenn das eigentliche Element einen Wert hat, dann in das Element ohne Unterstrich.</p>",
        "id": 255748265,
        "sender_full_name": "Alexander Zautke",
        "timestamp": 1633096754
    },
    {
        "content": "<p>Das ist ein logisches \"oder\" - \"element\" und \"_element\" können einzeln vorkommen oder auch beide.<br>\n(es ist kein logisches \"entweder/oder\" / XOR) <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 255956101,
        "sender_full_name": "Stefan Lang",
        "timestamp": 1633272246
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191436\">Stefan Lang</span> <a href=\"#narrow/stream/179307-german.2Fmi-initiative/topic/.5BFALL.5D.20Fehler.20in.201.2E0.2E1.20Encounter.2Eclass.3F/near/255956101\">said</a>:</p>\n<blockquote>\n<p>Das ist ein logisches \"oder\" - \"element\" und \"_element\" können einzeln vorkommen oder auch beide.<br>\n(es ist kein logisches \"entweder/oder\" / XOR) <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>\n</blockquote>\n<p>Vielen Dank für die erschöpfende und klare Antwort!</p>",
        "id": 256011613,
        "sender_full_name": "Abel Stolz",
        "timestamp": 1633328458
    }
]