[
    {
        "content": "<p>Just a heads up that we will be having a Subscription track again this connectathon. I already have it set up to cover the newer R5 features and the patch back proposal. Are there other topics people would like to see?</p>",
        "id": 204495530,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1595286554
    },
    {
        "content": "<p>Hey Jenni! We're hoping to participate in the Sept FHIR Subscriptions track to evaluate Carequality's use of the r4 backport. Still planning on an orientation calls? <span class=\"user-mention\" data-user-id=\"224405\">@Spencer LaGesse</span></p>",
        "id": 208144426,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1598473804
    },
    {
        "content": "<p>Yes, I'll be putting together the new template slides and getting a time set very soon :) (look for announcement before end of week)</p>",
        "id": 208153563,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1598478569
    },
    {
        "content": "<p>The connectathon prep meeting will be Tuesday, Sept 1st from 13:00-14:00 America/Central. Details and an ics can be found on the track page: <a href=\"https://confluence.hl7.org/display/FHIR/2020-09+Subscriptions+Track\">https://confluence.hl7.org/display/FHIR/2020-09+Subscriptions+Track</a></p>",
        "id": 208252274,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1598550737
    },
    {
        "content": "<p>Hey all - the recording is now uploaded out on the track's confluence page for those that missed it! Keep in mind that there's a general <a href=\"https://attendee.gotowebinar.com/register/5452205892424332300\">Connectathon prep session</a> today at 4PM Eastern time/3PM Central which will go over Whova and other general info</p>",
        "id": 208731870,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1598986705
    },
    {
        "content": "<p>Remember to fill out the survey, so we know who will be involved with the track (and time zones!) in order to plan our kickoff and checkin times: <a href=\"https://www.surveymonkey.com/r/6R3LFFM\">https://www.surveymonkey.com/r/6R3LFFM</a></p>",
        "id": 208731967,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1598986764
    },
    {
        "content": "<p>And finally: the big question</p>",
        "id": 208731991,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1598986779
    },
    {
        "content": "<p>If you're bringing a client app to test (or server), are you planning on focusing on R5? Backport to R4? WebSockets? It may help determine what implementers focus on prior to the connectathon!</p>",
        "id": 208732120,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1598986822
    },
    {
        "content": "<p>Right now, participants seem to be focusing on the backport this time around (based on the small group that was able to make the call)</p>",
        "id": 208732214,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1598986864
    },
    {
        "content": "<p>I'm planning on bringing at least an R4 backport client that does rest-hook only.</p>",
        "id": 208881110,
        "sender_full_name": "Spencer LaGesse",
        "timestamp": 1599077649
    },
    {
        "content": "<p>Hey all, I'm hoping to get a conversation started around the SubscriptionTopic List Operation that's part of the R5 Backport IG:</p>\n<p><a href=\"http://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/OperationDefinition-Backport-subscriptiontopic-list.html\">http://build.fhir.org/ig/HL7/fhir-subscription-backport-ig/OperationDefinition-Backport-subscriptiontopic-list.html</a></p>\n<p><span class=\"user-mention\" data-user-id=\"191356\">@Jenni Syed</span> mentioned that she thought topic search wasn't going to be available in a patch back, but I see that the Argo test client is using for R4 workflows:</p>\n<p><a href=\"https://subscriptions.argo.run/\">https://subscriptions.argo.run/</a></p>\n<p><a href=\"https://github.com/microsoft-healthcare-madison/argonaut-subscription-client-ui/blob/0bb402e51d8c5a90c89b854a227a0ae86cfa24c0/src/util/TopicHelper.ts#L33\">https://github.com/microsoft-healthcare-madison/argonaut-subscription-client-ui/blob/0bb402e51d8c5a90c89b854a227a0ae86cfa24c0/src/util/TopicHelper.ts#L33</a></p>",
        "id": 209411259,
        "sender_full_name": "Avery Allen",
        "timestamp": 1599582570
    },
    {
        "content": "<p>cc <span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span>  - I didn't realize we ended up patching back more than \"minimum viable\" and wasn't sure when/why etc :)</p>",
        "id": 209428634,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599591285
    },
    {
        "content": "<p>I think the goal is still \"minimum viable\", <span class=\"user-mention\" data-user-id=\"191356\">@Jenni Syed</span> ... it just depends on who is defining <em>that</em>  :-).</p>\n<p>The scope still isn't set in stone - I haven't received any feedback one way or the other.  If people feel it's too large/small, I'm happy to update it.</p>",
        "id": 209432616,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599593229
    },
    {
        "content": "<p>I've merged a lot of your work into the Carequality IG, as soon as we meet to review, I'll give you feedback.</p>",
        "id": 209432817,
        "sender_full_name": "David Pyke",
        "timestamp": 1599593334
    },
    {
        "content": "<p>I think we originally thought topic could just be an agreed upon known URL for R4 and that the choice of moving to R4 came with functional sacrifices :)</p>",
        "id": 209433700,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599593791
    },
    {
        "content": "<p>Based on: <br>\n\"It is ok to target to specific use case needs<br>\nLimit to RestHook and email (public health and ADT notifications, DaVinci needs fit here)<br>\nThe SubscriptionTopic agreement can be out of band - not dynamic as R5 allows today.<br>\nlimit to id-only and empty\"</p>\n<p>From May 15th summary: <a href=\"#narrow/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F/near/197758822\">https://chat.fhir.org/#narrow/stream/179229-subscriptions/topic/any.20work.20backporting.20r5.20subscriptions.20to.20r4.3F/near/197758822</a></p>",
        "id": 209434109,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599594009
    },
    {
        "content": "<p>I have serious hesitation taking it to a \"fully functional R5 on R4\" since that makes implementing it pretty hard</p>",
        "id": 209434259,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599594096
    },
    {
        "content": "<p>I agree, trying to move all the functionality in doesn't make a lot of sense.  Right now there is nothing about topics beyond listing them (e.g., you can't even get an actual representation of them).</p>",
        "id": 209436974,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599595478
    },
    {
        "content": "<p>For those of you attending... quick vote:</p>",
        "id": 209539214,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599671127
    },
    {
        "content": "<p>/poll When should we kick off tomorrow?<br>\n9AM ET<br>\n10AM ET</p>",
        "id": 209539263,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599671155
    },
    {
        "content": "<p>9 AM seems mean if we have people on Pacific time...</p>",
        "id": 209539355,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599671187
    },
    {
        "content": "<p>either is mean ;-)</p>",
        "id": 209541605,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599672208
    },
    {
        "content": "<p>Hey, no Aussies said they were participating on here <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span></p>",
        "id": 209541742,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599672257
    },
    {
        "content": "<p>Also, isn't it like 3AM there right now?? Goodness</p>",
        "id": 209541860,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599672312
    },
    {
        "content": "<p>(also, if we do have international participation on this track, just let me know time zones and I'm fine with doing 2 kickoffs - would be cool if we could do 1 \"wrap up\")</p>",
        "id": 209542069,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599672384
    },
    {
        "content": "<p>Grahame doesn't do clocks.  He hasn't slept since 2012</p>",
        "id": 209542101,
        "sender_full_name": "David Pyke",
        "timestamp": 1599672397
    },
    {
        "content": "<p>I am moving my sleep forward several hours for the connectathon. but don't try and find a time that suits me. I'll just keep up as I can</p>",
        "id": 209542747,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599672673
    },
    {
        "content": "<p>So far the winner for the kick off is 10AM ET (I'll still start the call at 9AM ET for those of you who are on)</p>",
        "id": 209569384,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599685977
    },
    {
        "content": "<p>I have a question about this track - what's the expectation around SubscriptionTopic? That we jsut announce fixed ones in advance? or that participants should be able to find topics by search?</p>",
        "id": 209579982,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599693271
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> the track recommends the use of <a href=\"http://build.fhir.org\">build.fhir.org</a>, but there is a connectathon stable snapshot at <a href=\"http://hl7.org/fhir/2020Sep\">http://hl7.org/fhir/2020Sep</a> - have you made any changes to the <a href=\"http://build.fhir.org\">build.fhir.org</a> since I published the snapshot?</p>",
        "id": 209580380,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599693554
    },
    {
        "content": "<p>Another question for Gino. Quoting from <a href=\"http://build.fhir.org\">build.fhir.org</a>:</p>\n<blockquote>\n<p>TODO<br>\nUpdates to \"Managing Subscriptions and Errors\"</p>\n<ul>\n<li>Discuss error codes (Extensible Codeable Concept)</li>\n<li>Define basic error codes here</li>\n<li>Need to discuss eventCount and error detection (insert appropriate examples/workflows)</li>\n<li>Updates to \"Tracking Subscription Notifications\" SHOULD define what the AuditEvent looks like</li>\n</ul>\n</blockquote>\n<p>and also</p>\n<blockquote>\n<p>If the notification fails, the server SHOULD set the status to error and mark the error in the resource</p>\n</blockquote>\n<p>Is there any arrangements about this for the connectathon?</p>",
        "id": 209586905,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599699943
    },
    {
        "content": "<p>No, there haven't been any changes.  Likely just copy pasta.</p>",
        "id": 209587509,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599700843
    },
    {
        "content": "<p>I don't think there's anything specific on those topics (<span class=\"user-mention\" data-user-id=\"191356\">@Jenni Syed</span> ?).  Several of those items are from early-on in the redesign process, so we need to evaluate if the are actually tasks (and if they are, do them).</p>",
        "id": 209587605,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599700983
    },
    {
        "content": "<p>copy pasta sounds better for sure</p>",
        "id": 209587660,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599701043
    },
    {
        "content": "<p>The scenarios do call out a requirement for servers to support search on topics for the r5 version</p>",
        "id": 209588307,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599702099
    },
    {
        "content": "<p>However, based on original interest, I suspect people will dig far more into the patch back to r4 rather than getting into the detailed questions listed above for r5</p>",
        "id": 209588365,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599702177
    },
    {
        "content": "<p>hmm. maybe I'll change my focus</p>",
        "id": 209588379,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599702236
    },
    {
        "content": "<p>What should happen to criteria in the backport to R4? the IG appears to be silent about this</p>",
        "id": 209589490,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599703676
    },
    {
        "content": "<p>In the backport, <code>Subscription.criteria</code> serves as a replacement for the R5 <code>Subscription.filterBy</code> component.</p>",
        "id": 209589844,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599704198
    },
    {
        "content": "<p>So having text like <code>Encounter?patient=Patient/123</code> would be logical (assuming the topic allowed that filter)</p>",
        "id": 209589858,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599704236
    },
    {
        "content": "<p>I'm glad I asked. <code>Encounter?patient=Patient/123</code> is not equivalent to Subscription.filterBy because of the presence of <code>Encounter?</code></p>",
        "id": 209590017,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599704435
    },
    {
        "content": "<p>I'm not 100% sure why I ended up with that (can't find the right keywords for zulip search).  I believe it was to make them 'fit' better with R4.  I'm certainly not tied to that syntax.</p>",
        "id": 209590561,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599705312
    },
    {
        "content": "<p>it's very relevant for me right now, because I'm grappling with the fact that my implementation is based around a subscription being for a single resource. The fact that a topic can be for multiple resource types is challenging me. And one of the manifestations of that challenge is that the R subscription has filter parameters but for which of the types?</p>",
        "id": 209590638,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599705429
    },
    {
        "content": "<p>that relates to the use of criteria, obviously</p>",
        "id": 209590641,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599705444
    },
    {
        "content": "<p>Ah, that was it - <code>SubscriptionTopic.resourceTrigger.resourceType</code> is <code>0..*</code>.  So, I used that syntax: <code>{resourceType}?{searchParamName}{searchModifier}={value}</code>.</p>",
        "id": 209590773,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599705621
    },
    {
        "content": "<p>That makes the requested subscription look like:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;resourceType&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Subscription&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;end&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2020-09-10T03:41:05.458Z&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;reason&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Client Testing&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;channel&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&quot;endpoint&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;https://client.subscriptions.argo.run/Endpoints/bbf5131c-8a0a-452f-946c-032c632ac2a9&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;payload&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;application/fhir+json&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;_payload&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/us/subscriptions-backport/StructureDefinition/backport-payload-content&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;valueCode&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;id-only&quot;</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">]</span>\n    <span class=\"p\">},</span>\n    <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;rest-hook&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/us/subscriptions-backport/StructureDefinition/backport-heartbeat-period&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;valueUnsignedInt&quot;</span><span class=\"p\">:</span> <span class=\"mi\">60</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">},</span>\n  <span class=\"nt\">&quot;status&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;requested&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;criteria&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Encounter?patient=Patient/39917&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/us/subscriptions-backport/StructureDefinition/backport-topic-canonical&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;valueCanonical&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://argonautproject.org/encounters-ig/SubscriptionTopic/encounter-start&quot;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</code></pre></div>",
        "id": 209590805,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599705713
    },
    {
        "content": "<p>If you are working on your server, the implementation at <a href=\"https://subscription.argo.run\">subscription.argo.run</a> has the backport (as it is currently) implemented.</p>",
        "id": 209590873,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599705822
    },
    {
        "content": "<p>thanks but that doesn't explain for me what criteria looks like if the topic has more than one type. Can the subscription only be for one type?</p>",
        "id": 209591241,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599706364
    },
    {
        "content": "<p>Right now I believe that's a limitation.  I'd be happy to add a syntax for it - comma separated like other 'multi-value' fields?  Otherwise, we need to load in some text for the field and add another extension.  I don't know that I have a strong preference one way or the other.</p>",
        "id": 209591302,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599706486
    },
    {
        "content": "<p>yeah I don't know. I think there's use cases for multiple different resource types.... so i think we need to solve if. both in R4 and R5.</p>",
        "id": 209591531,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599706911
    },
    {
        "content": "<p>we could define an extension for R4, but then we'd be left with a useless element hanging arount. Or we could say that it just lists the resource types, and resource specific search criteria are in extensions. or we could just invent a hick syntax and stuff it all inside criteria.</p>\n<p>All roughly equally meh</p>",
        "id": 209591597,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599707014
    },
    {
        "content": "<p>In R5 it should be simple, since <code>Subscription.filterBy</code> is <code>0..*</code>, all we need to do is add <code>resourceType</code> to that component.</p>",
        "id": 209591646,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599707054
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code><span class=\"s2\">&quot;criteria&quot;</span> <span class=\"err\">:</span> <span class=\"s2\">&quot;Encounter?param=value | EpisodeOfCare?param=value&quot;</span><span class=\"err\">,</span>\n</code></pre></div>",
        "id": 209591651,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599707072
    },
    {
        "content": "<p>Ugh.  Either <code>|</code> or <code>,</code> is going to be a pain to parse, since those are both valid in the values themselves.</p>",
        "id": 209591685,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599707138
    },
    {
        "content": "<p>spaces...</p>",
        "id": 209591826,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599707326
    },
    {
        "content": "<p>For single resource type, <code>criteria</code> feels optimal... maybe leave the <code>{resourceType}?{searchParamName}{searchModifier}={value}</code> syntax, and add an extension on <code>criteria</code> for additional ones:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"s2\">&quot;criteria&quot;</span><span class=\"err\">:</span> <span class=\"s2\">&quot;Encounter?patient=Patient/39917&quot;</span><span class=\"err\">,</span>\n<span class=\"s2\">&quot;_criteria&quot;</span><span class=\"err\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;extension&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/us/subscriptions-backport/StructureDefinition/backport-additional-criteria&quot;</span><span class=\"p\">,</span>\n          <span class=\"nt\">&quot;valueString&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Observation?patient=Patient/39917&quot;</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">]</span>\n    <span class=\"p\">}</span>\n</code></pre></div>",
        "id": 209591838,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599707360
    },
    {
        "content": "<p>that's a 4th option which is meh. Which one goes in the root criteria?</p>",
        "id": 209591856,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599707396
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179229-subscriptions/topic/Sept.202020.20Virtual.20Connectathon/near/209591826\">said</a>:</p>\n<blockquote>\n<p>spaces...</p>\n</blockquote>\n<p>I instinctively ignore whitespace  ;-).  But, that could work</p>",
        "id": 209591910,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599707424
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179229-subscriptions/topic/Sept.202020.20Virtual.20Connectathon/near/209591856\">said</a>:</p>\n<blockquote>\n<p>that's a 4th option which is meh. Which one goes in the root criteria?</p>\n</blockquote>\n<p>Whichever - there's no order implied by the triggers, so it shouldn't matter.</p>",
        "id": 209591928,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599707469
    },
    {
        "content": "<p>well, I dislike all of them roughly equally. Do you have a strong preference?</p>",
        "id": 209592015,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599707566
    },
    {
        "content": "<p>I'm in the same boat - they all feel a little clunky, but serviceable.</p>",
        "id": 209592039,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599707635
    },
    {
        "content": "<p>Need to add resource type to SubscriptionType.canFilterBy too</p>",
        "id": 209592296,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599707979
    },
    {
        "content": "<p>what goes in SubscriptionTopic.resourceTrigger.queryCriteria.current etc? is that more search parameters?</p>",
        "id": 209592453,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599708169
    },
    {
        "content": "<p>Yes it is.  It may be clearer to change <code>resourceType</code> to <code>0..1</code> and make <code>resourceTrigger</code> <code>0..*</code>, so each trigger is only for a single resource.</p>",
        "id": 209592521,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599708271
    },
    {
        "content": "<p>ah it is. so then, search parameter names go in </p>\n<ul>\n<li>SubscriptionTopic.resourceTrigger.queryCriteria.*</li>\n<li>SubscriptionTopic.canFilterBy.searchParamName</li>\n<li>Subscription.filterBy</li>\n</ul>",
        "id": 209592525,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599708278
    },
    {
        "content": "<blockquote>\n<p>may be clearer to change resourceType to 0..1 and make resourceTrigger 0..*</p>\n</blockquote>\n<p>Clearer, definitely. But not necessarily nicer. For a server like mine, totally FHIR based, that'd be sweet. But if you are fitting this onto an internal storage trigger system, it ciuld be unfortunate. I thought that was explicitly why we make it 0..*</p>",
        "id": 209592556,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599708359
    },
    {
        "content": "<p>How are the two different, other than parsing logic?</p>",
        "id": 209592672,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599708522
    },
    {
        "content": "<p>oh. whoops. I didn't finish reading the sentence.</p>",
        "id": 209592829,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599708736
    },
    {
        "content": "<p>I agree with that, and to move canFilterBy under resourceTrigger</p>",
        "id": 209592838,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599708748
    },
    {
        "content": "<p>I can get behind that</p>",
        "id": 209592845,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599708778
    },
    {
        "content": "<p>anyway, back to search parameter names, I'm wondering whether there's use cases for these search parameters to appear in the search:</p>\n<ul>\n<li>_id - yes</li>\n<li>_lastUpdated - ?</li>\n<li>_tag - yes</li>\n<li>_profile - yes</li>\n<li>_security - yes</li>\n<li>_text - ?</li>\n<li>_content - no?</li>\n<li>_list - yes ( <span aria-label=\"frown\" class=\"emoji emoji-1f641\" role=\"img\" title=\"frown\">:frown:</span> )</li>\n<li>_has - no (hoping...)</li>\n<li>_type - no (because of the rest of this discussion...)</li>\n<li>_filter - no (hoping)</li>\n</ul>\n<p>I'm interested in people's opinions here....</p>",
        "id": 209592856,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599708801
    },
    {
        "content": "<p>and have we talked about chaining on search parameters?</p>",
        "id": 209592871,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599708828
    },
    {
        "content": "<p>We've talked about chaining, I believe the general feel was to disallow it.  I have a note to reference FhirPath Simple and find similar restrictions on they query parameters.</p>",
        "id": 209592941,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599708906
    },
    {
        "content": "<p>I certainly like not chaining; it's a big integrity issue.</p>",
        "id": 209593116,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599709114
    },
    {
        "content": "<p>referencing FHIRPath simple won't work though</p>",
        "id": 209593119,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599709127
    },
    {
        "content": "<p>Yeah, it's still a little wide.  It's still on my list because it's annoying to sort through.</p>",
        "id": 209593551,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599709766
    },
    {
        "content": "<p>But, I've finished everything else I was planning on doing tonight so I'm going to get some sleep.  Have a good night!</p>",
        "id": 209593673,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599709948
    },
    {
        "content": "<p>In previous discussions about chaining we concluded that this would be allowed in the syntax but individual servers would decide where to support it, as in search.</p>",
        "id": 209639101,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1599744689
    },
    {
        "content": "<p>Many of the people I've talked with feel the computational load for search and FHIRPath based topics is too high to be supported.  Many are expecting to have thousands or tens of thousands of subscriptions simultaneously and want to maintain a reasonable response time (&lt;5 minutes).</p>",
        "id": 209639862,
        "sender_full_name": "David Pyke",
        "timestamp": 1599744857
    },
    {
        "content": "<p>I am going to break discussions out into separate Zulip topics :-)</p>",
        "id": 209640356,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1599745050
    },
    {
        "content": "<p>As long as it's 0..1/* and can be specified via the CapabilityStatement what is supported, it's fine.</p>",
        "id": 209640500,
        "sender_full_name": "David Pyke",
        "timestamp": 1599745101
    },
    {
        "content": "<p>Topics Josh kicked off that we'll be discussing: <a href=\"#narrow/stream/179229-subscriptions/topic/Fhirpath.20triggers\">https://chat.fhir.org/#narrow/stream/179229-subscriptions/topic/Fhirpath.20triggers</a></p>",
        "id": 209642555,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599745450
    },
    {
        "content": "<p><a href=\"#narrow/stream/179229-subscriptions/topic/Modeling.20resource.20triggers\">https://chat.fhir.org/#narrow/stream/179229-subscriptions/topic/Modeling.20resource.20triggers</a></p>",
        "id": 209642597,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599745477
    },
    {
        "content": "<p>FYI: a (rough) walkthrough of using the test implementation (<a href=\"https://subscriptions.argo.run\">subscriptions.argo.run</a>) is available on <a href=\"https://www.youtube.com/watch?v=FiGOZWwtYnk\">YouTube</a>.  A note a forgot to make in the video - all FHIR calls are done in the browser, so you can load the page and still work with a local server.</p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"FiGOZWwtYnk\" href=\"https://www.youtube.com/watch?v=FiGOZWwtYnk\"><img src=\"https://i.ytimg.com/vi/FiGOZWwtYnk/default.jpg\"></a></div><p>Cheers!</p>",
        "id": 209643062,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599745648
    },
    {
        "content": "<p>Here's info on how to use Cerner's R4/R5 Subscription server:</p>\n<p><a href=\"https://github.com/averyallen/wgm_notes/tree/sept_2020\">https://github.com/averyallen/wgm_notes/tree/sept_2020</a></p>",
        "id": 209650499,
        "sender_full_name": "Avery Allen",
        "timestamp": 1599747280
    },
    {
        "content": "<p>/poll What time should we do a sync this afternoon?<br>\n3:00 ET<br>\n4:00 ET<br>\n5:00 ET</p>",
        "id": 209656821,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599749285
    },
    {
        "content": "<p>DevDays presentation, let's build by Gino: <a href=\"https://www.devdays.com/wp-content/uploads/2019/12/Gino-Canessa-Lets-Build-Subscriptions-_-DevDays-2019-Amsterdam.pdf\">https://www.devdays.com/wp-content/uploads/2019/12/Gino-Canessa-Lets-Build-Subscriptions-_-DevDays-2019-Amsterdam.pdf</a></p>",
        "id": 209667981,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599753362
    },
    {
        "content": "<p>Subscriptions presentation by Gino: <a href=\"https://www.devdays.com/wp-content/uploads/2019/12/Gino-Canessa-Subscriptions-_-DevDays-2019-Amsterdam.pdf\">https://www.devdays.com/wp-content/uploads/2019/12/Gino-Canessa-Subscriptions-_-DevDays-2019-Amsterdam.pdf</a></p>",
        "id": 209668059,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599753378
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191356\">@Jenni Syed</span>  Those are both the same link, I think maybe you accidentally pasted the same one? The presentation video is missing I think</p>",
        "id": 209668558,
        "sender_full_name": "Cary",
        "timestamp": 1599753570
    },
    {
        "content": "<p>As a note, I also keep the link <a href=\"https://aka.ms/devdays-gino\">aka.ms/devdays-gino</a> up to date with presentations from DevDays (it's a link to a OneDrive folder with PowerPoints in it, for anyone who has VPN/access issues).</p>",
        "id": 209668831,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599753672
    },
    {
        "content": "<p>Those are the 2 links (one has \"let's build\" in the tilte, the other doesn't)...</p>",
        "id": 209669942,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599754161
    },
    {
        "content": "<p>Maybe it didn't have the video part published...</p>",
        "id": 209669958,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599754169
    },
    {
        "content": "<p>Ah sorry, my bad, okay thanks</p>",
        "id": 209670086,
        "sender_full_name": "Cary",
        "timestamp": 1599754205
    },
    {
        "content": "<p>wait, there are videos in another part... just a sec</p>",
        "id": 209670106,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599754216
    },
    {
        "content": "<p><a href=\"https://youtu.be/XybJ1WTuh_o\">https://youtu.be/XybJ1WTuh_o</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"XybJ1WTuh_o\" href=\"https://youtu.be/XybJ1WTuh_o\"><img src=\"https://i.ytimg.com/vi/XybJ1WTuh_o/default.jpg\"></a></div>",
        "id": 209670213,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599754270
    },
    {
        "content": "<p><a href=\"https://www.devdays.com/events/devdays-europe-2019/\">https://www.devdays.com/events/devdays-europe-2019/</a> Is where I'm finding all these :)</p>",
        "id": 209670271,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599754300
    },
    {
        "content": "<p>This is mine from the US DevDays: <a href=\"https://www.youtube.com/watch?v=tnWxOI_wtk4\">https://www.youtube.com/watch?v=tnWxOI_wtk4</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"tnWxOI_wtk4\" href=\"https://www.youtube.com/watch?v=tnWxOI_wtk4\"><img src=\"https://i.ytimg.com/vi/tnWxOI_wtk4/default.jpg\"></a></div>",
        "id": 209670409,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599754352
    },
    {
        "content": "<p>Yay! Thank you very much!</p>",
        "id": 209670548,
        "sender_full_name": "Cary",
        "timestamp": 1599754424
    },
    {
        "content": "<p>BTW - I'm stepping away from the call for some food :)</p>",
        "id": 209671214,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599754711
    },
    {
        "content": "<p>It looks like 5 ET is the winner for our wrap up today!</p>",
        "id": 209676108,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599756779
    },
    {
        "content": "<p>FYI: I have to step away from the zoom session for another meeting</p>",
        "id": 209693251,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599764391
    },
    {
        "content": "<p>Another topic needing feedback from the call this morning: <a href=\"#narrow/stream/179229-subscriptions/topic/Accuracy.2Fatomicity.20of.20eventsSinceSubscriptionStart\">https://chat.fhir.org/#narrow/stream/179229-subscriptions/topic/Accuracy.2Fatomicity.20of.20eventsSinceSubscriptionStart</a></p>",
        "id": 209705880,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599770332
    },
    {
        "content": "<p>Reminder that we have our wrap up for the day in 15 minutes!</p>",
        "id": 209706791,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599770787
    },
    {
        "content": "<p>what's the link?</p>",
        "id": 209708322,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599771575
    },
    {
        "content": "<p>It's just on the normal whova track</p>",
        "id": 209708426,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599771608
    },
    {
        "content": "<p>no special breakout</p>",
        "id": 209708432,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599771612
    },
    {
        "content": "<p>I've been warned not to post zoom links here... :D</p>",
        "id": 209708498,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599771649
    },
    {
        "content": "<p><a href=\"https://whova.com/portal/webapp/hlfhi_202009/Agenda/1212542\">https://whova.com/portal/webapp/hlfhi_202009/Agenda/1212542</a></p>",
        "id": 209708628,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1599771712
    },
    {
        "content": "<p>I've been slowly building up a report out, feel free to correct where I forgot/couldn't find/got your name and/or company wrong (or PM me if you can't edit or don't want to). I built this primarily via Zoom participants + registration in ConMan or in Zulip: <a href=\"https://confluence.hl7.org/display/FHIR/2020-09+Subscriptions+Track#id-202009SubscriptionsTrack-Participants\">https://confluence.hl7.org/display/FHIR/2020-09+Subscriptions+Track#id-202009SubscriptionsTrack-Participants</a></p>",
        "id": 209716112,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599775845
    },
    {
        "content": "<p>Reminder that we'll kick off again tomorrow at 10AM ET</p>",
        "id": 209716132,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599775857
    },
    {
        "content": "<p>Kicking off in 3 minutes!</p>",
        "id": 209783771,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599832657
    },
    {
        "content": "<p>I've updated the report out section of the confluence page with information from last night and this morning. I'm hoping to keep this up to date. As always, if you want something changed/updated you can feel free to edit or PM me and let me know what you want updated.</p>",
        "id": 209789851,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599835633
    },
    {
        "content": "<p>On that same thread... I propose a quick synch up today at 3 ET. If you have a client, and want to do a quick demo of what you achieved, we can do that informally at that time</p>",
        "id": 209790027,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599835725
    },
    {
        "content": "<p>/poll Does 3 ET work as a quick status check today?<br>\nYes<br>\nNope</p>",
        "id": 209790124,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599835775
    },
    {
        "content": "<p>Also, if you want to demo your server, we can do that as well!</p>",
        "id": 209790225,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599835816
    },
    {
        "content": "<p>hey <span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span> a reference like this: <a href=\"http://argonautproject.org/encounters-ig/SubscriptionTopic/encounter-start\">http://argonautproject.org/encounters-ig/SubscriptionTopic/encounter-start</a> - does it actually exist? do we have any actual topics for the connectathon?</p>",
        "id": 209801960,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599841027
    },
    {
        "content": "<p>Yes, that was the format used for the canonical URL.  It defined in the Argonaut Encounter IG (not a \"full published HL7 IG\") that lives on <a href=\"https://github.com/argonautproject/subscriptions/blob/master/encounters-ig.md\">GitHub</a>.  The resource definitions are linked in the doc as well: <a href=\"https://github.com/argonautproject/subscriptions/blob/master/canonical/subscriptiontopic-encounter-start.json\">encounter-start</a> and <a href=\"https://github.com/argonautproject/subscriptions/blob/master/canonical/subscriptiontopic-encounter-end.json\">encounter-end</a></p>",
        "id": 209802327,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599841196
    },
    {
        "content": "<p>This was posted in Whova by <span class=\"user-mention\" data-user-id=\"337067\">@Silas Johnson</span>  and I'm moving it here: </p>\n<ol>\n<li>Best practices/solutions for handling when the FHIR Subscription hook is down. - Caching/queueing request etc.</li>\n<li>Is any one using The \"Smart-On-FHIR\" profile for OAuth and is it ready for primetime?</li>\n<li>If the rest hook rejects the payload (e.g., validation errors), is there any plans for notifications regarding these kind of events?</li>\n</ol>",
        "id": 209803968,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599841966
    },
    {
        "content": "<p>hmm #1 looks like the same as #3 ?</p>",
        "id": 209804028,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599842017
    },
    {
        "content": "<p>For issue 2: I assume in the context of Subcriptions? Most servers live in the wild use this already today. <span class=\"user-mention\" data-user-id=\"301310\">@Avery Allen</span>  did we put auth on top of Subscription create so that <span class=\"user-mention\" data-user-id=\"337067\">@Silas Johnson</span> can try it out?</p>",
        "id": 209804098,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599842042
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191356\">Jenni Syed</span> <a href=\"#narrow/stream/179229-subscriptions/topic/Sept.202020.20Virtual.20Connectathon/near/209804098\">said</a>:</p>\n<blockquote>\n<p>For issue 2: I assume in the context of Subcriptions? Most servers live in the wild use this already today. <span class=\"user-mention silent\" data-user-id=\"301310\">Avery Allen</span>  did we put auth on top of Subscription create so that <span class=\"user-mention silent\" data-user-id=\"337067\">Silas Johnson</span> can try it out?</p>\n</blockquote>\n<p>We have not done that, but I can look into getting it set up.</p>",
        "id": 209804341,
        "sender_full_name": "Avery Allen",
        "timestamp": 1599842172
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>   yeah, I'm not sure. Would need <span class=\"user-mention\" data-user-id=\"337067\">@Silas Johnson</span>  to confirm. The SubscriptionStatus resource provides error state information as well as a count of notificatioons that the server thinks were sent. The application can query this from the operation to get what the FHIR server thinks the current state is: <a href=\"http://build.fhir.org/subscriptionstatus.html#query-status\">http://build.fhir.org/subscriptionstatus.html#query-status</a></p>",
        "id": 209804366,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599842189
    },
    {
        "content": "<p>There's also a heartbeat described in the spec so that the client can detect connectivity issues</p>",
        "id": 209804383,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599842205
    },
    {
        "content": "<p>re: 1.: Currently, the spec says:</p>\n<blockquote>\n<p>The server may retry the notification a fixed number of times and/or refer errors to its own alert logs. If the notification fails, the server SHOULD set the status to error and mark the error in the resource. If the notification succeeds, the server SHOULD update the status to active and may remove any error codes. If a subscription fails consistently a server may choose set the subscription status to off and stop trying to send notifications.</p>\n<p>Errors a server wishes to make accessible to clients are stored in Subscription.error. Servers should provide a mechanism for clearing errors (e.g., when resetting a Subscription.status back to requested after an error). Since Subscription.error represents server errors, a server SHOULD NOT allow clients to add errors.</p>\n</blockquote>\n<p>I don't know if we can go as far as saying that a server should queue the requests (that goes into the reliable delivery territory).</p>",
        "id": 209805698,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599842870
    },
    {
        "content": "<p>it's hard to process that language since 'error' has been removed</p>",
        "id": 209806036,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599843067
    },
    {
        "content": "<p>Yep, but I have to quote what's there instead of what's updated in my head  :-)</p>",
        "id": 209806099,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1599843118
    },
    {
        "content": "<p>Is there a way for a client to get a list of missed notifications?</p>",
        "id": 209806261,
        "sender_full_name": "Spencer LaGesse",
        "timestamp": 1599843215
    },
    {
        "content": "<p>None built in (though we've discussed how defining a specific operation for this could help, there hasn't been much interest in developing this idea). Instead, for now we just have the idea that on specific topics, there are \"catch-up queries\" a client may be able to run (e.g., for an admissions topic, clients can catch up on missed messages or recover from errors by querying for recent encounters).</p>",
        "id": 209806421,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1599843298
    },
    {
        "content": "<p>There are a list of errors</p>",
        "id": 209810496,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599845259
    },
    {
        "content": "<p>in the status side</p>",
        "id": 209810515,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599845267
    },
    {
        "content": "<p>but yes, catch up queries is the approach once you've detected something wrong</p>",
        "id": 209810590,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599845287
    },
    {
        "content": "<p>Reminder, we have our afternoon sync in 25 minutes!</p>",
        "id": 209818528,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599849330
    },
    {
        "content": "<p>What about a way to detect duplicate notifications? I'm not seeing any good way to differentiate between duplicate notifications and multiple legitimate notifications for the same resource.</p>",
        "id": 209821190,
        "sender_full_name": "Spencer LaGesse",
        "timestamp": 1599850730
    },
    {
        "content": "<p>The version on the resource, if you're looking for changes, would be one way</p>",
        "id": 209821386,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599850830
    },
    {
        "content": "<p>some client apps actually \"batch up\" notifications b/c they don't want to process back to back if multiple changes happen (there are processes that could trigger this... also if you watch something that is fed in by a machine the alert notification is pretty heavy)</p>",
        "id": 209821477,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1599850890
    }
]