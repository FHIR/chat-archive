[
    {
        "content": "<p>Here is an example of a websockets subscription 'ping' with only the 'ping':<br>\n(The subscription is for all Observations from a patient)</p>\n<p><code>Got signaled by FHIR server websocket of an upload!\nPing number 0. Perform a GET request to URL http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/\nPerform a GET request to URL http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/Observation?_profile=http://hl7.org/fhir/uv/phd/StructureDefinition/PhdNumericObservation&amp;_lastUpdated=gt2019-08-07T07:23:40\nPage 1 Number of resources on this page = 4 search done from self link = http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/Observation?_lastUpdated=gt2019-08-07T07%3A23%3A40&amp;_profile=http%3A%2F%2Fhl7.org%2Ffhir%2Fuv%2Fphd%2FStructureDefinition%2FPhdNumericObservation\nPing number 0. Have 4 Observation resources in list\nPage 1 Number of resources on this page = 1 search done from self link = http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/Patient?_id=4\nPatient:\n   Name: Sisansarah Piggy\n   Birthdate: Tue Nov 10 00:00:00 EST 1992\n   Health Care Organizational Identifier: urn:oid:1.2.3.4.5.6.7.8.10\n   Patient identifier: sisansarahId\n   Identifier code: MR\n   Identifier code system: http://terminology.hl7.org/CodeSystem/v2-0203\nGot signaled by FHIR server websocket of an upload!\nPing number 1. Perform a GET request to URL http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/\nPerform a GET request to URL http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/Observation?_profile=http://hl7.org/fhir/uv/phd/StructureDefinition/PhdNumericObservation&amp;_lastUpdated=gt2019-08-07T07:23:40\nPage 1 Number of resources on this page = 1 search done from self link = http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/Device?_id=22\nDevice:\n   Device Type: null\n   Specialization: Pulse Oximeter version 1\n   Manufacturer Name: Nonin_Medical_Inc.\n   Model Number: Model 3230\n   Serial Number: 501900083\n   Firmware version: r2.1\n   Software version: r1.5 9.7\n   Hardware version: r1.0\n   Continua version: 6.0\n   Certified device types:\n       specialization: Pulse Oximeter\n       transport: 4\n   Device is regulated\n   Time Synchronization: No time synchronization\n   Time capabilities: real time clock supported\n   Time capabilities: setting the time supported\nObservation:\n   Measurement type: Battery level\n   Time stamp: 2019-08-07T07:24:03.487-04:00\n   Value: 80%\nObservation:\n   Measurement type: Blood 0â‚‚\n   Time stamp: 2019-08-07T07:24:15-04:00\n   Value: 97.0%\n   Additional Info: Stable mean\nObservation:\n   Measurement type: Pulse rate\n   Time stamp: 2019-08-07T07:24:15-04:00\n   Value: 45.0{beat}/min\n   Additional Info: Stable mean\nObservation:\n   Measurement type: Pulse Amplitude Quality\n   Time stamp: 2019-08-07T07:24:15-04:00\n   Value: 1.79%\n   Additional Info: Stable mean\nPage 1 Number of resources on this page = 4 search done from self link = http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/Observation?_lastUpdated=gt2019-08-07T07%3A23%3A40&amp;_profile=http%3A%2F%2Fhl7.org%2Ffhir%2Fuv%2Fphd%2FStructureDefinition%2FPhdNumericObservation\nPing number 1. Have 4 Observation resources in list\nGot signaled by FHIR server websocket of an upload!\nPing number 2. Perform a GET request to URL http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/\nPerform a GET request to URL http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/Observation?_profile=http://hl7.org/fhir/uv/phd/StructureDefinition/PhdNumericObservation&amp;_lastUpdated=gt2019-08-07T07:23:41\nPage 1 Number of resources on this page = 4 search done from self link = http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/Observation?_lastUpdated=gt2019-08-07T07%3A23%3A41&amp;_profile=http%3A%2F%2Fhl7.org%2Ffhir%2Fuv%2Fphd%2FStructureDefinition%2FPhdNumericObservation\nPing number 2. Have 4 Observation resources in list\nGot signaled by FHIR server websocket of an upload!\nPing number 3. Perform a GET request to URL http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/\nPerform a GET request to URL http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/Observation?_profile=http://hl7.org/fhir/uv/phd/StructureDefinition/PhdNumericObservation&amp;_lastUpdated=gt2019-08-07T07:23:41\nPage 1 Number of resources on this page = 4 search done from self link = http://hapi.ehealthinnovation.org:8080/hapi-fhir-jpaserver/fhir/Observation?_lastUpdated=gt2019-08-07T07%3A23%3A41&amp;_profile=http%3A%2F%2Fhl7.org%2Ffhir%2Fuv%2Fphd%2FStructureDefinition%2FPhdNumericObservation\nPing number 3. Have 4 Observation resources in list</code></p>\n<p>The problem here is that four observations were uploaded and I get a ping for each one. However, I do not know which one. So I have to do a GET request for all observations for this patient that arrived at a time later than time T. Each time I get four Observations which I have to check to see if I have already decoded it, Of course, I decoded all four from the first ping, the other four pings just wasted bandwidth.</p>\n<p>If I have gotten the logical id of the resource that caused the ping, I could have done a single GET for that one resource; no Bundle; no Bundle parsing, and no duplicate checking.</p>",
        "id": 172671482,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1565179650
    },
    {
        "content": "<p>Hi Brian, we've been doing work with this on the Argonaut Subscriptions project.  In particular, the ability to set the payload type for all channels (<code>empty</code>, <code>id-only</code>, or <code>full-resource</code>).  In your case you would likely want <code>id-only</code>, which would give notifications with the ID of the resource in question.</p>",
        "id": 172681429,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1565187294
    }
]