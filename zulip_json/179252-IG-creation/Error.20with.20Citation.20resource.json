[
    {
        "content": "<p>I've the following error when I try to profile the Citation resource</p>\n<p>java.lang.Exception: Error generating snapshot for C:\\Users\\giorg\\OneDrive\\github\\fhir-forfair-4b\\input\\profiles\\StructureDefinition-Citation-uv-f4f(Citation-uv-f4f): Cannot find or generate snapshot for base definition (<a href=\"http://hl7.org/fhir/StructureDefinition/Citation\">http://hl7.org/fhir/StructureDefinition/Citation</a> from </p>\n<p>FHIR version is set to \"4.5.0\"</p>\n<p>I have this error even if I make a very trivial profile </p>\n<div class=\"codehilite\"><pre><span></span><code>Profile:  CitationF4F\nParent:   Citation\nId:       Citation-uv-f4f\nTitle:    &quot;Citation (FHIR for FAIR)&quot;\nDescription: &quot;This profile defines how to use the Citation resource to convey metadata information for a FAIR dataset by using HL7 FHIR&quot;\n* identifier MS\n</code></pre></div>",
        "id": 227594917,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1614172183
    },
    {
        "content": "<p>suggestions ?</p>",
        "id": 227644374,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1614189887
    },
    {
        "content": "<p>Quick thought - try cleaning out your .class files and see if that helps?</p>",
        "id": 227664405,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1614197758
    },
    {
        "content": "<p>now you don't do that anymore. class files are now irrelevant. It'll be something to do with packages and versions</p>",
        "id": 227664813,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614197909
    },
    {
        "content": "<p>OK.  Good to know we don't need to consider the .class files any longer - I don't recall hearing anything about that.  Agree it then makes sense to look at packages and versions.</p>",
        "id": 227677746,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1614202820
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource/near/227664813\">said</a>:</p>\n<blockquote>\n<p>now you don't do that anymore. class files are now irrelevant. It'll be something to do with packages and versions</p>\n</blockquote>\n<p>Basically what do you suggest me to do? :-)</p>",
        "id": 227729356,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1614238826
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  have you any suggestion for me on this point ?</p>",
        "id": 228258526,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1614615538
    },
    {
        "content": "<p>oh - I meant ot ask - how do I reproduce this?</p>",
        "id": 228308203,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614633653
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Error.20with.20Citation.20resource/near/228308203\">said</a>:</p>\n<blockquote>\n<p>oh - I meant ot ask - how do I reproduce this?</p>\n</blockquote>\n<p><a href=\"https://github.com/HL7/fhir-forfair\">https://github.com/HL7/fhir-forfair</a>. <br>\nThanks a lot</p>",
        "id": 228484520,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1614718767
    },
    {
        "content": "<p>I don't know if it can help..  but  creating a Citation instance, instead of a profile based on the Citation, the error that is returned is the following</p>",
        "id": 228589823,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1614777877
    },
    {
        "content": "<p>Exception in thread \"main\" java.lang.Error: The resource type \"Citation\" does not implement the property \"publisher\"<br>\n        at org.hl7.fhir.r5.model.Citation.getPublisher(Citation.java:11392)<br>\n        at org.hl7.fhir.igtools.renderers.StatusRenderer.readOwner(StatusRenderer.java:121)<br>\n        at org.hl7.fhir.igtools.renderers.StatusRenderer.analyse(StatusRenderer.java:62)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.genStatus(Publisher.java:7402)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.saveDirectResourceOutputs(Publisher.java:7165)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:6651)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:4906)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:888)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:732)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8417)</p>",
        "id": 228589840,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1614777887
    },
    {
        "content": "<p>so that github repo generates without error for me</p>",
        "id": 228654659,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614800548
    },
    {
        "content": "<p>so the stack was very useful. fixed next release</p>",
        "id": 228655057,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614800717
    },
    {
        "content": "<p>Thank you so much Grahame !</p>",
        "id": 228732407,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1614845668
    },
    {
        "content": "<p>The Citation profile now works (thanks :-) ), but if I add an example as the following..</p>\n<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;Citation&quot;,\n  &quot;id&quot;: &quot;10.1038-s41597-021-00811-3&quot;,\n  &quot;identifier&quot;: [\n    {\n      &quot;system&quot;: &quot;https://doi.org&quot;,\n      &quot;value&quot;: &quot;10.13026/c4n5-3b04&quot;\n    }\n  ],\n  &quot;name&quot;: &quot;NInFEA&quot;,\n  &quot;title&quot;: &quot;A non-invasive multimodal foetal ECG-doppler dataset for antenatal cardiology research&quot;,\n  &quot;status&quot;: &quot;active&quot;\n}\n</code></pre></div>",
        "id": 229618533,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615364003
    },
    {
        "content": "<p>the following error is returned </p>\n<div class=\"codehilite\"><pre><span></span><code>Generating Summary Outputs                                                       (01:58.0066)\nPublishing Content Failed: Cannot invoke &quot;String.compareTo(String)&quot; because the return value of &quot;org.hl7.fhir.r5.model.CanonicalResource.getUrl()&quot; is null (02:16.0464)\n&lt;..&gt;\nStack Dump (for debugging):                                                      (02:16.0473)\njava.lang.NullPointerException: Cannot invoke &quot;String.compareTo(String)&quot; because the return value of &quot;org.hl7.fhir.r5.model.CanonicalResource.getUrl()&quot; is null\n        at org.hl7.fhir.r5.utils.ResourceSorters$CanonicalResourceSortByUrl.compare(ResourceSorters.java:13)\n        at org.hl7.fhir.r5.utils.ResourceSorters$CanonicalResourceSortByUrl.compare(ResourceSorters.java:9)\n        at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\n        at java.base/java.util.TimSort.sort(TimSort.java:220)\n        at java.base/java.util.Arrays.sort(Arrays.java:1306)\n        at java.base/java.util.ArrayList.sort(ArrayList.java:1721)\n        at java.base/java.util.Collections.sort(Collections.java:179)\n        at org.hl7.fhir.igtools.publisher.Publisher.generateCanonicalSummary(Publisher.java:5871)\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSummaryOutputs(Publisher.java:5657)\n        at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:4916)\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:888)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:732)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8424)\n</code></pre></div>",
        "id": 229618782,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615364133
    },
    {
        "content": "<p>any suggestion on where I should look at ?</p>",
        "id": 229618810,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615364162
    },
    {
        "content": "<p>something doesn't have a canonical URL?</p>",
        "id": 232483511,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1617132569
    }
]