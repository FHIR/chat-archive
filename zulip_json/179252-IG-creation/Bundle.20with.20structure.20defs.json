[
    {
        "content": "<p>From the IG publisher documentation I understand that it is possible to put structure definitions in one(1) bundle. But if I just create a bundle with structure definitions and run the publisher, it doesnot seem to work. The error is \"Publishing Content Failed: No snapshot found\".</p>",
        "id": 195277579,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1587808333
    },
    {
        "content": "<p>you need to register it as a bundle to treat as a source of independent resources that get processed, rather than just another bundle of stuff. Do this using the bundle extension</p>",
        "id": 195281724,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587815824
    },
    {
        "content": "<p>How do we do that? (Register as a bundle)</p>",
        "id": 195285659,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587822344
    },
    {
        "content": "<p>use the extension <a href=\"http://hl7.org/fhir/StructureDefinition/igpublisher-bundle\" title=\"http://hl7.org/fhir/StructureDefinition/igpublisher-bundle\">http://hl7.org/fhir/StructureDefinition/igpublisher-bundle</a>, instead of registering it as a normal resource</p>",
        "id": 195299974,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587844266
    },
    {
        "content": "<p>where is the extension defined? i cannot find it</p>",
        "id": 195301849,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587846983
    },
    {
        "content": "<p>it's probably not formally defined</p>",
        "id": 195301937,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587847129
    },
    {
        "content": "<p>what is the context of the extension?</p>",
        "id": 195302409,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587847830
    },
    {
        "content": "<p>(where do I put it? directly under definition? or in the resource?)</p>",
        "id": 195302430,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587847910
    },
    {
        "content": "<p>and what is the value? a boolean to say it is a special resource, or the bundle id?</p>",
        "id": 195302603,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587848163
    },
    {
        "content": "<p>I can experiment and add it to the documentation</p>",
        "id": 195302607,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587848184
    },
    {
        "content": "<p>you can see it being used in the test ig included in the ig publisher itself</p>",
        "id": 195302858,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587848641
    },
    {
        "content": "<p>ok</p>",
        "id": 195303062,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587848985
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>  <span class=\"s2\">&quot;resourceType&quot;</span> <span class=\"err\">:</span> <span class=\"s2\">&quot;ImplementationGuide&quot;</span><span class=\"err\">,</span>\n  <span class=\"s2\">&quot;id&quot;</span> <span class=\"err\">:</span> <span class=\"s2\">&quot;test-ig&quot;</span><span class=\"err\">,</span>\n  <span class=\"s2\">&quot;extension&quot;</span> <span class=\"err\">:</span> <span class=\"p\">[{</span>\n    <span class=\"nt\">&quot;url&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/StructureDefinition/igpublisher-bundle&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;valueString&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;test-ig-bnd&quot;</span>\n  <span class=\"p\">},</span>\n<span class=\"err\">...</span>\n  <span class=\"s2\">&quot;definition&quot;</span> <span class=\"err\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">&quot;resource&quot;</span> <span class=\"p\">:</span> <span class=\"p\">[{</span>\n      <span class=\"nt\">&quot;reference&quot;</span> <span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;reference&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;ValueSet/test-ig-bnd1&quot;</span>\n      <span class=\"p\">},</span>\n</pre></div>",
        "id": 195303269,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587849344
    },
    {
        "content": "<p>this?</p>",
        "id": 195303271,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587849347
    },
    {
        "content": "<p>yes</p>",
        "id": 195303324,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587849406
    },
    {
        "content": "<p>only the extension on top is needed, i guess?</p>",
        "id": 195303341,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587849464
    },
    {
        "content": "<p>not sure what you mean?</p>",
        "id": 195303398,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587849529
    },
    {
        "content": "<p>i mean for the IG to pick up the bundle.</p>",
        "id": 195303415,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587849575
    },
    {
        "content": "<p>the definition part that contains the valueset test-ig-bnd1 is not needed, right?</p>",
        "id": 195303472,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587849604
    },
    {
        "content": "<p>so if I do this, it will pick up the bundle and add all the resources in it:</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"s2\">&quot;resourceType&quot;</span> <span class=\"err\">:</span> <span class=\"s2\">&quot;ImplementationGuide&quot;</span><span class=\"err\">,</span>\n  <span class=\"s2\">&quot;id&quot;</span> <span class=\"err\">:</span> <span class=\"s2\">&quot;test-ig&quot;</span><span class=\"err\">,</span>\n  <span class=\"s2\">&quot;extension&quot;</span> <span class=\"err\">:</span> <span class=\"p\">[{</span>\n    <span class=\"nt\">&quot;url&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/StructureDefinition/igpublisher-bundle&quot;</span><span class=\"p\">,</span>\n    <span class=\"nt\">&quot;valueString&quot;</span> <span class=\"p\">:</span> <span class=\"s2\">&quot;test-ig-bnd&quot;</span>\n  <span class=\"p\">}</span>\n</pre></div>",
        "id": 195303498,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587849669
    },
    {
        "content": "<p>or do i need to add the bundled resources in definition.resource as well?</p>",
        "id": 195303507,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587849702
    },
    {
        "content": "<p>I'm not sure</p>",
        "id": 195303553,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587849740
    },
    {
        "content": "<p>i will test. thanks.  should i create a structdef for the extension to add to the build?</p>",
        "id": 195303630,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587849906
    },
    {
        "content": "<p>i'm not sure. Either that or move it to the /tools space, which will one day get it's own IG</p>",
        "id": 195303965,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587850558
    },
    {
        "content": "<p>So do I say it right that the valueString of the extension is the id of the bundle with the structuredefs in it?</p>",
        "id": 195326665,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1587893922
    },
    {
        "content": "<p>yes</p>",
        "id": 195326991,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587894479
    },
    {
        "content": "<p>I just tried adding the bundle with that reference, got an npe - <span class=\"user-mention\" data-user-id=\"191421\">@Michael van der Zel</span> if you try will you let us know?</p>",
        "id": 195331680,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587902648
    },
    {
        "content": "<p>Hmm. Also NullPointer  at org.hl7.fhir.igtools.publisher.Publisher.loadBundle(Publisher.java:3255)</p>",
        "id": 195332663,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1587904343
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191421\">Michael van der Zel</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Bundle.20with.20structure.20defs/near/195332663\" title=\"#narrow/stream/179252-IG-creation/topic/Bundle.20with.20structure.20defs/near/195332663\">said</a>:</p>\n<blockquote>\n<p>Hmm. Also NullPointer  at org.hl7.fhir.igtools.publisher.Publisher.loadBundle(Publisher.java:3255)</p>\n</blockquote>\n<p>Any idea what is wrong here?</p>",
        "id": 195572947,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588084524
    },
    {
        "content": "<p>try again with the latest version and tell me what link you get it on - 3255 is not the right line, and a code review gives me no ideas</p>",
        "id": 195653371,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588127631
    },
    {
        "content": "<p>unless you have a bundle with an entry with no resource</p>",
        "id": 195653419,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588127656
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>java.lang.NullPointerException\n        at org.hl7.fhir.igtools.publisher.Publisher.loadBundle(Publisher.java:3258)\n        at org.hl7.fhir.igtools.publisher.Publisher.loadBundles(Publisher.java:3211)\n        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2800)\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:814)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:680)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:7145)\nPress any key to continue . . .\n</code></pre></div>",
        "id": 195656566,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588131695
    },
    {
        "content": "<p>for me that's nowhere near LoadBundle - can you resolve what line that is?</p>",
        "id": 195656620,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588131747
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>  res.setUserData(&quot;loaded.resource&quot;, r);\n</code></pre></div>",
        "id": 195656698,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588131909
    },
    {
        "content": "<p>near the end of loadBundle:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">...</span>\n      <span class=\"n\">res</span><span class=\"p\">.</span><span class=\"na\">setUserData</span><span class=\"p\">(</span><span class=\"s\">&quot;loaded.resource&quot;</span><span class=\"p\">,</span> <span class=\"n\">r</span><span class=\"p\">);</span>\n      <span class=\"n\">r</span><span class=\"p\">.</span><span class=\"na\">setResEntry</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n    <span class=\"k\">return</span> <span class=\"n\">changed</span> <span class=\"o\">||</span> <span class=\"n\">needToBuild</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n</code></pre></div>",
        "id": 195656777,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588131982
    },
    {
        "content": "<p>oh no sorry</p>",
        "id": 195656794,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588131993
    },
    {
        "content": "<p>nevermind</p>",
        "id": 195656801,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588131996
    },
    {
        "content": "<p>pls let me check again</p>",
        "id": 195656819,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588132003
    },
    {
        "content": "<p>ok just to make clear if I understood correctly: you ask what line that is because your code has changed since, correct?</p>",
        "id": 195657382,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588132536
    },
    {
        "content": "<p>I looked at the code in the history at the time of the release I have and this is what's there:</p>",
        "id": 195657434,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588132575
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">res</span><span class=\"p\">.</span><span class=\"na\">hasDescription</span><span class=\"p\">())</span>\n          <span class=\"n\">res</span><span class=\"p\">.</span><span class=\"na\">setDescription</span><span class=\"p\">(((</span><span class=\"n\">CanonicalResource</span><span class=\"p\">)</span><span class=\"n\">r</span><span class=\"p\">.</span><span class=\"na\">getResource</span><span class=\"p\">()).</span><span class=\"na\">getDescription</span><span class=\"p\">().</span><span class=\"na\">trim</span><span class=\"p\">());</span>\n        <span class=\"n\">res</span><span class=\"p\">.</span><span class=\"na\">setReference</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"n\">Reference</span><span class=\"p\">().</span><span class=\"na\">setReference</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">.</span><span class=\"na\">getElement</span><span class=\"p\">().</span><span class=\"na\">fhirType</span><span class=\"p\">()</span><span class=\"o\">+</span><span class=\"s\">&quot;/&quot;</span><span class=\"o\">+</span><span class=\"n\">r</span><span class=\"p\">.</span><span class=\"na\">getId</span><span class=\"p\">()));</span>\n      <span class=\"p\">}</span>\n</code></pre></div>",
        "id": 195657441,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588132584
    },
    {
        "content": "<p>(if the resource has no description, set it (from where?)</p>",
        "id": 195657512,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588132637
    },
    {
        "content": "<p>looks like that should have an extra check for r.getresource not having a description. I've added that to the master code</p>",
        "id": 195657561,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588132675
    },
    {
        "content": "<p>what is r here (so that i can see if that fixes it)?</p>",
        "id": 195657655,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588132762
    },
    {
        "content": "<p>the bundle? or an entry in the bundle?</p>",
        "id": 195657659,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588132776
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>    if (!res.hasDescription() &amp;&amp; ((CanonicalResource)r.getResource()).hasDescription())\n      res.setDescription(((CanonicalResource)r.getResource()).getDescription().trim());\n</code></pre></div>",
        "id": 195657664,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588132784
    },
    {
        "content": "<p>where is the description missing? in my bundle both entries have a description.</p>",
        "id": 195658159,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588133207
    },
    {
        "content": "<p>That was my thought to. Does the bundle need a description?</p>",
        "id": 195666150,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588142347
    },
    {
        "content": "<p>no the the bundle. It's pulling each resource out and making a description for it.</p>",
        "id": 195672540,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588146775
    },
    {
        "content": "<p>should be fixed now</p>",
        "id": 195672547,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588146778
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  The github project &lt;<a href=\"https://github.com/FHIR/latest-ig-publisher\" title=\"https://github.com/FHIR/latest-ig-publisher\">https://github.com/FHIR/latest-ig-publisher</a>&gt; has no jars???</p>",
        "id": 195672916,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588146990
    },
    {
        "content": "<p>no. I have had to move them - see <a href=\"https://fhir.github.io/latest-ig-publisher/\" title=\"https://fhir.github.io/latest-ig-publisher/\">https://fhir.github.io/latest-ig-publisher/</a></p>",
        "id": 195673113,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588147082
    },
    {
        "content": "<p>Sorry. Still npe:</p>\n<div class=\"codehilite\"><pre><span></span><code>``` at org.hl7.fhir.igtools.publisher.Publisher.loadBundle(Publisher.java:3333)\n``` at org.hl7.fhir.igtools.publisher.Publisher.loadBundles(Publisher.java:3281)\n</code></pre></div>",
        "id": 195673649,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588147330
    },
    {
        "content": "<p>if (!res.hasDescription() &amp;&amp; ((CanonicalResource)r.getResource()).hasDescription()) {</p>",
        "id": 195673882,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588147464
    },
    {
        "content": "<p>what have you got in this bundle?</p>",
        "id": 195673891,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588147477
    },
    {
        "content": "<p>Specifically, what types of resources?</p>",
        "id": 195673928,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588147513
    },
    {
        "content": "<p>Evidently you have something that is not a CanonicalResource.</p>",
        "id": 195673957,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588147540
    },
    {
        "content": "<p>Just StrutureDefinitions.</p>",
        "id": 195674029,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588147573
    },
    {
        "content": "<p>weird.</p>",
        "id": 195674054,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588147593
    },
    {
        "content": "<p>i have this</p>\n<div class=\"codehilite\"><pre><span></span><code>  &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/igpublisher-bundle&quot;&gt;\n  &lt;valueString value=&quot;test-ig-bnd&quot;/&gt;\n  &lt;/extension&gt;\n</code></pre></div>",
        "id": 195674625,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588147986
    },
    {
        "content": "<p>This works as of v1.0.85</p>",
        "id": 195700558,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588163431
    },
    {
        "content": "<p>thank you!</p>",
        "id": 195700575,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588163436
    },
    {
        "content": "<p>I get another exception now: java.lang.Exception: No snapshot found on <a href=\"http://hl7.org/ehrs/StructureDefinition/Section-OV\" title=\"http://hl7.org/ehrs/StructureDefinition/Section-OV\">http://hl7.org/ehrs/StructureDefinition/Section-OV</a><br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:4172)</p>",
        "id": 195747981,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588183430
    },
    {
        "content": "<p>can i reproduce?</p>",
        "id": 195748383,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588183624
    },
    {
        "content": "<p>Ah. I got it. I expected the folders to still being auto processed. Now I had to add the profiles explicitly in the ImplementationGuide.json and now it almost works. Now have no index.html generated ...</p>",
        "id": 195748933,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588183895
    },
    {
        "content": "<p>My mistake. I moved the ig from xml to json and forgot the index page.</p>",
        "id": 195749313,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588184084
    },
    {
        "content": "<p>The resulting ig now also has a \"Other\" section with the Bundle in there. Can I remove that somehow? And for some reason it uses @name instead of @title to render. So the Artifact index and TOC are now \"ugly\" computer friendly names and I expect the human friendly title to be used there.</p>",
        "id": 195753495,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588186166
    },
    {
        "content": "<p>I think we need to address this in the template.<br>\n<span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> should i create an issue in the template to decide how to handle bundles?</p>",
        "id": 195755305,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588186993
    },
    {
        "content": "<p>And in this case not just Bundles, but specifically the entries of the Bundle as if it were separate files.</p>",
        "id": 195768800,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588193831
    },
    {
        "content": "<p>Yes, that</p>",
        "id": 195770409,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588194565
    },
    {
        "content": "<p>You can assign a grouping to the Bundle yourself in the IG if you know it contains profiles or extensions or something.  (If it's a mixed bag of various stuff, you may need to define a distinct grouping).  All of that said, do we want the Bundle to get propagated to output as a Bundle or propagated to the output as a collection of artifacts?  I suspect what's wanted is the latter.  In that case, we want the Bundle to point to the IG as an input, but not as an output - sort of similar to how we deal with spreadsheets.  However, there's no extension yet to flag a Bundle that we want split apart.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, thoughts?</p>",
        "id": 195782858,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588202900
    },
    {
        "content": "<p>The extension <a href=\"http://hl7.org/fhir/StructureDefinition/igpublisher-bundle\" title=\"http://hl7.org/fhir/StructureDefinition/igpublisher-bundle\">http://hl7.org/fhir/StructureDefinition/igpublisher-bundle</a> which has a type of id marks a bundle to be split out and process as individual pieces, rather than just an example bundle</p>",
        "id": 195783049,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588203066
    },
    {
        "content": "<p>So you put the extension at the root of the IG and reference the id of the bundle to split?  And after load that bundle won't be listed anymore, the extension will be gone and you'll have references to the structures from within the Bundle - is that accurate?</p>",
        "id": 195783178,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588203150
    },
    {
        "content": "<p>Is that extension documented anywhere?</p>",
        "id": 195783190,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588203158
    },
    {
        "content": "<blockquote>\n<p>And after load that bundle won't be listed anymore, the extension will be gone and you'll have references to the structures from within the Bundle - is that accurate?</p>\n</blockquote>\n<p>no. The individual resources will be pulled out but the bundle itself will also remain, I think</p>",
        "id": 195783343,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588203247
    },
    {
        "content": "<p>right, the bundle also stays there<br>\n<a href=\"/user_uploads/10155/Avaa4zh_fHQ448OqvbnPxsDt/image.png\" title=\"image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Avaa4zh_fHQ448OqvbnPxsDt/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/Avaa4zh_fHQ448OqvbnPxsDt/image.png\"></a></div>",
        "id": 195798616,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588222670
    },
    {
        "content": "<p>Yes. I have the same result as the image of Jose. The full path looks ugly. It would make sense to remove that bundle after spitting, as Lloyd says.</p>",
        "id": 195804885,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588230739
    },
    {
        "content": "<p>Why would we want the Bundle to stay?</p>",
        "id": 195843569,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588255611
    },
    {
        "content": "<p>Why would someone looking at the IG care that the source was in a Bundle rather than individual files?</p>",
        "id": 195843604,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588255631
    },
    {
        "content": "<p>well, I'd consider making it go away, but before I would consider that, I'd have to search to see if anyone is using it anywhere, and whether that would matter. Does anyone want to do that?</p>",
        "id": 195910954,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588286237
    },
    {
        "content": "<p>Searching across public Github (including HL7 projects), only place it's found is within the IG-Publisher itself.  (Git search is pretty amazing - I'm impressed :&gt;)</p>",
        "id": 195912926,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588287660
    },
    {
        "content": "<p>ok. so I can't make the bundle go away - because that's where QA errors are reported against.</p>",
        "id": 195912986,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588287715
    },
    {
        "content": "<p>I could stop it from rendering but that would mean I couldn't point to it from the qa page</p>",
        "id": 195913075,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588287766
    },
    {
        "content": "<p>yuck.  We can't get the QA errors to report against the published structure definitions?  (Presumably if the Bundle itself is invalid, the publisher would just die?)</p>",
        "id": 195913135,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588287815
    },
    {
        "content": "<p>no because they are reported against the source file</p>",
        "id": 195913204,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588287844
    },
    {
        "content": "<p>I've been reflecting on this</p>",
        "id": 195927212,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588301788
    },
    {
        "content": "<p>I'm not going to stop publishing the bundle. It's for the template to not link to it if it's a referenced bundle. At the discretion of the author</p>",
        "id": 195927221,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588301825
    },
    {
        "content": "<p>So basically the template can just strip Bundles that aren't marked as examples?  (on the premise that the only other use is that they're bundles of input resources)</p>",
        "id": 195927584,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588302346
    },
    {
        "content": "<p>I could add a parameter to the template to have it not do that, but I think that would be the appropriate default behavior.</p>",
        "id": 195927634,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588302388
    },
    {
        "content": "<p>As a rule, someone looking at a published IG should have no insight into how the source material was organized/packaged.</p>",
        "id": 195927639,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588302423
    },
    {
        "content": "<p>(and changing the approach to managing the input shouldn't impact the publication)</p>",
        "id": 195927644,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1588302444
    },
    {
        "content": "<p>Maybe we can put the source material in a zip? That would help too.</p>",
        "id": 196043477,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1588412539
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Bundle.20with.20structure.20defs/near/195927584\" title=\"#narrow/stream/179252-IG-creation/topic/Bundle.20with.20structure.20defs/near/195927584\">said</a>:</p>\n<blockquote>\n<p>So basically the template can just strip Bundles that aren't marked as examples?  (on the premise that the only other use is that they're bundles of input resources)</p>\n</blockquote>\n<p>they can be history as well</p>",
        "id": 196047999,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588420045
    }
]