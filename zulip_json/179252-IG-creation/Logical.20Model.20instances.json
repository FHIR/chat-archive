[
    {
        "content": "<p>The underlying validation infrastructure allows for a instances of logical models. That is, define a entirely new logical model, and then, following standard FHIR serialization rules, you can make an instance for that.</p>",
        "id": 193508708,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586466085
    },
    {
        "content": "<p>now, I have a request to allow you to include those instances in an IG.</p>",
        "id": 193508727,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586466097
    },
    {
        "content": "<p>The IG publisher doesn't allow you to do this right now.</p>",
        "id": 193508817,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586466128
    },
    {
        "content": "<p>first issue (no doubt there will be many):  ImplementationGuide.definition.resource is for resources, not other things. So how do you include them in an IG?</p>",
        "id": 193508875,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586466159
    },
    {
        "content": "<p>This may be a basic question, but what is a Logical Model instance? Something that looks as a Resource instance, but isn't? Or does it refer to the definition, like <a href=\"http://build.fhir.org/request.html\" title=\"http://build.fhir.org/request.html\">http://build.fhir.org/request.html</a> ?</p>",
        "id": 193509921,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1586466728
    },
    {
        "content": "<p>For example if a functional analyst defines that one of our examples will be<br>\n\"Prescription <strong>1</strong>, for patient <strong>123</strong>, prescribed by <strong>Dr. ABC</strong>, due to <strong>bacterial infection</strong>, for <strong>drug XYZ</strong>,  <strong>2 times a day for 7 days</strong>.</p>",
        "id": 193510718,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586467209
    },
    {
        "content": "<p>if we have a logical model of our concept of prescription, the logical model instance would contain the values in bold.</p>",
        "id": 193510759,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586467238
    },
    {
        "content": "<p>this model will be implemented in FHIR but also in other standards, it helps having an example not in an implemented format.</p>",
        "id": 193510847,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586467310
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span> here's a logical model: <a href=\"http://hl7.org.au/fhir/rcpa/colorectal.html#table\" title=\"http://hl7.org.au/fhir/rcpa/colorectal.html#table\">http://hl7.org.au/fhir/rcpa/colorectal.html#table</a></p>\n<p>And there's an instance based on that logical model: <a href=\"http://hl7.org.au/fhir/rcpa/Colorectal-Colorectal-genexample-1.json.html\" title=\"http://hl7.org.au/fhir/rcpa/Colorectal-Colorectal-genexample-1.json.html\">http://hl7.org.au/fhir/rcpa/Colorectal-Colorectal-genexample-1.json.html</a></p>\n<p>As a logical model, it it's not a resource that exists and is used with the RESTful api or messages or documents. But it can still exist as a json or xml (or something else; there's logical models for v2)</p>",
        "id": 193511127,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586467455
    },
    {
        "content": "<p>Thanks, that helps. The first thing that jumps at me is that the instance starts with <code>\"resourceType\" : \"Colorectal\"</code>. How does one distinguish between a logical model instance and a resource instance? Or is that not important/necessary?</p>",
        "id": 193513296,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1586468691
    },
    {
        "content": "<p>is the  colorectal logical model generated by the spreadsheet definition? i'm having a similar feature request as I would like to add CDA documents as an example for the cda logical model, but the id element of CDA makes it further complicated (id is often an uuid, for an ig i would prefer a different name for the example instead of the uuid)</p>",
        "id": 193514451,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1586469450
    },
    {
        "content": "<blockquote>\n<p>The first thing that jumps at me is that the instance starts with \"resourceType\" : \"Colorectal\"</p>\n</blockquote>\n<p>yes that's a good question. I don't think that's actually right - at a minimum it would have to be the full URL for the structure definition, but it could be some some other way. but simply  \"resourceType\" : \"Colorectal\" is wrong</p>",
        "id": 193515290,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586469852
    },
    {
        "content": "<blockquote>\n<p>I would like to add CDA documents as an example for the cda logical model, but the id element of CDA makes it further complicated</p>\n</blockquote>\n<p>the file name doesn't have to match the uuid</p>",
        "id": 193515372,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586469905
    },
    {
        "content": "<p>I have another point. I could not get the Logical Model to validate unless I specified \"Resource\" as its base-class.  Does that make it a resource? And what did I do wrong here?<br>\nStructureDefinition.type is 1..1, the valueset is FHIRDefinedType, but it is Extensible and it is defined as \"Either a resource or datatype, including logical model types\"? So why does the validator give a fail here?</p>",
        "id": 193543424,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1586502477
    },
    {
        "content": "<p>Ok. The validator doesnot fail.. It is a Warning.</p>",
        "id": 193544319,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1586503496
    },
    {
        "content": "<p>This means that you have included an instance of a LM in the IG, defining the LM as a specialization of a Resource and not of an Element ?</p>",
        "id": 193548222,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1586507254
    },
    {
        "content": "<p>Yes. I looked at Element but that is a datatype. That did not feel the right base type for the LM.</p>",
        "id": 193557244,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1586515246
    },
    {
        "content": "<p>(nevermind)</p>",
        "id": 193557585,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586515567
    },
    {
        "content": "<p>from here<br>\n<a href=\"http://build.fhir.org/types.html\" title=\"http://build.fhir.org/types.html\">http://build.fhir.org/types.html</a></p>",
        "id": 193558248,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586516309
    },
    {
        "content": "<p>I see that Base (...) type is used in Logical Models that don't have or want id/extension.<br>\n<a href=\"http://build.fhir.org/types.html#Base\" title=\"http://build.fhir.org/types.html#Base\">http://build.fhir.org/types.html#Base</a><br>\n(I read this as I should use Base or Element for LMs?)</p>",
        "id": 193558298,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586516360
    },
    {
        "content": "<p>also, the 2 links to Logical Models in that page only link to the same page - does this mean we are not supposed to have a Logical Models page in the spec?</p>",
        "id": 193558459,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1586516474
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> I missed that. Thanks.</p>",
        "id": 194400492,
        "sender_full_name": "Michael van der Zel",
        "timestamp": 1587106374
    },
    {
        "content": "<p>On Logical Model instances:</p>",
        "id": 195244097,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587762108
    },
    {
        "content": "<p>Could an instance of a logical model be added to the IG as <br>\na) an instance of a custom resource<br>\nb) a StructureDefinition where each elementdefinition only has the elementdefinition.path and the example value?</p>",
        "id": 195244351,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587762249
    },
    {
        "content": "<p>b) would look strange. I don't know how a) would look like</p>",
        "id": 195244375,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1587762267
    },
    {
        "content": "<p>I don't think we want to support custom resources in the publisher?</p>",
        "id": 195250145,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1587766032
    },
    {
        "content": "<blockquote>\n<p>also, the 2 links to Logical Models in that page only link to the same page - does this mean we are not supposed to have a Logical Models page in the spec?</p>\n</blockquote>\n<p><a href=\"http://build.fhir.org/types.html\">http://build.fhir.org/types.html</a> point 3. Logical models points to itself. Should we have something about logical models in the core spec? I think so.<br>\nI'm happy to contribute with some work</p>",
        "id": 207115784,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597650839
    },
    {
        "content": "<p>Additional information on logical models would be helpful. I'm trying to create one, and finding the documentation, ah, lacking.</p>",
        "id": 207156247,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1597677375
    },
    {
        "content": "<p>Back to this: any idea on what a Logical Model instance would look like?</p>",
        "id": 217384684,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1605868650
    },
    {
        "content": "<p>Where can I find an example that works? All my experiments fail</p>",
        "id": 230833078,
        "sender_full_name": "Frank Oemig",
        "timestamp": 1616059196
    },
    {
        "content": "<p>An example of a Logical Model? we have a few.<br>\nOr examples of instances? - that we don't have because we don't know what that is \"an instance of a LM\")</p>",
        "id": 230851700,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1616069314
    },
    {
        "content": "<p>Generating LMs work, but instances not. I suppose that depends on the unknown structure. Is there a way to generate arbitrary XML or JSON as is?</p>",
        "id": 231274436,
        "sender_full_name": "Frank Oemig",
        "timestamp": 1616400520
    },
    {
        "content": "<p>I don't know what an instance is: a LM is an abstract definition of a data structure. We haven't landed on what an instance of that is - i presume because one can only instanciate physical specifications, not abstract ones.</p>",
        "id": 231282911,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1616405809
    },
    {
        "content": "<p>We could go around that by \"opening an exception\" for LMs and allow to create examples as with any other; or stick to using the ElementDefinition.example element in the same definition. Or other...</p>",
        "id": 231283142,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1616405959
    },
    {
        "content": "<p>A LM describes a hierarchy of elements. It is only abstract if it is not complete. I do not see why you cannot instantiate one? So we have a LM for CDA, and multiple ones for v2...</p>",
        "id": 231286635,
        "sender_full_name": "Frank Oemig",
        "timestamp": 1616407915
    },
    {
        "content": "<p>The logical models for v2 or CDA doesn't have an automated correlation with how the instances are supposed to look.  That doesn't mean you couldn't write code that could parse and serialize them, but it doesn't come \"out of the box\" like FHIR parsing and serialization do.</p>",
        "id": 231305955,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1616418253
    },
    {
        "content": "<p>Correct. But here I simply would like to get XML and/or JSON examples shown nicely formatted. Currently it takes me a lot of work to get them integrated into a page, but most probably I am doing something wrong...</p>",
        "id": 231324018,
        "sender_full_name": "Frank Oemig",
        "timestamp": 1616425135
    }
]