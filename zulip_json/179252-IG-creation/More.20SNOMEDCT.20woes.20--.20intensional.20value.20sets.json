[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span>  Take a look at <a href=\"http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/ValueSet-mcode-cancer-staging-system-vs.html\">http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/ValueSet-mcode-cancer-staging-system-vs.html</a></p>\n<p>It is built from one intensional statement:<br>\nInclude codes from <a href=\"http://snomed.info/sct\">http://snomed.info/sct</a> where concept is-a 254292007 (Tumor staging)</p>\n<p>SCT#254292007 has a child:<br>\n<a href=\"https://dailybuild.ihtsdotools.org/?perspective=full&amp;conceptId1=897275008&amp;edition=MAIN&amp;release=&amp;languages=en\">897275008</a> | American Joint Commission on Cancer, Cancer Staging Manual, 8th edition neoplasm staging system (tumor staging) |</p>\n<p>It is not included in the above value set, leading to other QA errors in mCODE.</p>",
        "id": 258109948,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1634595699
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> Maybe something changed since you posted?  I see the 897275008 |American Joint Commission on Cancer, Cancer Staging Manual, 8th edition neoplasm staging system (tumor staging)| code in the expansion of the mcode-cancer-staging-system-vs value set in the IG page that you linked to.</p>",
        "id": 258315648,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1634708766
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> hmmmmâ€¦still getting Qa errors relating to that code.</p>",
        "id": 258354581,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1634731305
    },
    {
        "content": "<p>I see it there now if I build it locally. Wait for the new version coming out tomorrow and try again</p>",
        "id": 258494853,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634798182
    },
    {
        "content": "<p>Still getting this on the master branch:<br>\nError parsing response message: This does not appear to be a FHIR resource (wrong namespace '') (@ /) for '<a href=\"http://snomed.info/sct#897275008\">http://snomed.info/sct#897275008</a>'</p>",
        "id": 258616695,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1634850076
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span>   Indeed al of the errors of the form 'Error parsing response message' are gone.</p>\n<p>However, now I'm back to having errors relating to codes that are in the July 2021 release of SNOMED considered missing because they are missing from the March 2021 release of SNOMED.  If we could get past that, I think my bundle gets a clear bill of health.</p>\n<p>Unable to find code 1156506007 in <a href=\"http://snomed.info/sct\">http://snomed.info/sct</a> (version <a href=\"http://snomed.info/sct/731000124108/version/20210301\">http://snomed.info/sct/731000124108/version/20210301</a>); The code \"1156506007\" is not valid in the system <a href=\"http://snomed.info/sct\">http://snomed.info/sct</a>; The code provided (<a href=\"http://snomed.info/sct#1156506007\">http://snomed.info/sct#1156506007</a>) is not valid in the value set 'All codes known to the system' (from <a href=\"http://tx.fhir.org/r4\">http://tx.fhir.org/r4</a>) for '<a href=\"http://snomed.info/sct#1156506007\">http://snomed.info/sct#1156506007</a>'</p>",
        "id": 258752853,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1634927201
    },
    {
        "content": "<p>Reference this <a href=\"http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/pendingsctcodes/qa.html#_scratch_ig-build-temp-H124TA_repo_fsh-generated_resources_Bundle-mcode-patient-bundle-jenny-m\">build/qa.html</a></p>",
        "id": 258752945,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1634927244
    },
    {
        "content": "<p>Here is the <a href=\"https://browser.ihtsdotools.org/?perspective=full&amp;conceptId1=1156506007&amp;edition=MAIN/2021-07-31&amp;release=&amp;languages=en\">link</a> to one of the missing concepts in the July SNOMED build.</p>",
        "id": 258753163,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1634927320
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  </p>\n<ul>\n<li>Good news:   Major progress.  All of my QA issues are wrapped up, except those relating to 3 SNOMEDCT codes</li>\n<li>Bad news:  SNOMEDCT: <a href=\"http://snomed.info/sct#1156506007\">1156506007</a> and <a href=\"http://snomed.info/sct#1156530009\">1156530009</a>. <a href=\"http://snomed.info/sct#1149099005\">1149099005</a>-- The code \"&lt;code&gt;\" is not valid in the system <a href=\"http://snomed.info/sct\">http://snomed.info/sct</a></li>\n</ul>\n<p>Reference:  <a href=\"http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/pendingsctcodes/qa.html\">http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/pendingsctcodes/qa.html</a></p>",
        "id": 258993383,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1635183222
    },
    {
        "content": "<p>I'll look at these, <span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span>.</p>",
        "id": 258993603,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1635183307
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span>  It's looking for these codes in the 20210301 version of the US Edition, which no longer exists on <a href=\"http://tx.fhir.org\">tx.fhir.org</a> (it's now the latest which is 20210901).  So the question is, where is the 20210301 version string coming from?  You may want to clear your cache, if you haven't, to be sure there is no issue there.  And see if you are specifying 20210301 anywhere in the IG.  If not, then I think I know where to look and likely how to fix it.</p>",
        "id": 258997511,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1635185072
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span>  <br>\nThese errors are from the CI build.  They have nothing to do with my local configuration.<br>\nWhy is it looking at the US edition?  These codes are all in the international edition from July 2021.<br>\nThe only reference to SNOMEDCT in the IG is us of the officially sanctioned codesystem -- <a href=\"http://snomed.info/sct\">http://snomed.info/sct</a> -- without a version.<br>\nThis refers to the most recent published international snomed edition, right?</p>",
        "id": 259007107,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1635189577
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  Here is the missing code response from <a href=\"http://tx.fhir.org\">tx.fhir.org</a>:   <a href=\"https://tx.fhir.org/r4/CodeSystem/$lookup?system=http://snomed.info/sct&amp;code=1149099005\">https://tx.fhir.org/r4/CodeSystem/$lookup?system=http://snomed.info/sct&amp;code=1149099005</a>.  It claims that the code is not present in the 2210731 version.</p>\n<p><a href=\"/user_uploads/10155/q0MtIEsHG-W_S5FMHiz8G5oc/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/q0MtIEsHG-W_S5FMHiz8G5oc/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/q0MtIEsHG-W_S5FMHiz8G5oc/image.png\"></a></div><p>Here is the code in the 0731 build of SNOMED: <a href=\"https://browser.ihtsdotools.org/?perspective=full&amp;conceptId1=1149099005&amp;edition=MAIN/2021-07-31&amp;release=&amp;languages=en\">https://browser.ihtsdotools.org/?perspective=full&amp;conceptId1=1149099005&amp;edition=MAIN/2021-07-31&amp;release=&amp;languages=en</a></p>",
        "id": 259011330,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1635191698
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span>  Yes, this is obviously still wrong.  I think the SNOMED CT International Edition 20210731 version import will need to be re-done.  I can do that later this evening.</p>",
        "id": 259025294,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1635198648
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> If you don't specify a version for SNOMED CT then you have not specified any particular Edition.  If you want to tie things to a specific Edition, then you need to specify a version.  In the case of the International Edition the version would be <code>http://snomed.info/sct/900000000000207008</code>, which should be interpreted as the latest known version of that Edition.</p>",
        "id": 259062783,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1635234800
    },
    {
        "content": "<p>Agree, <span class=\"user-mention\" data-user-id=\"191343\">@Michael Lawley</span>.  But I don't think that's Saul's issue?  The code <code>1149099005</code> isn't being found on <a href=\"http://tx.fhir.org\">tx.fhir.org</a> for SNOMED CT version <code>http://snomed.info/sct/900000000000207008/version/20210731</code>, even though it's clearly an active concept in that version of the edition.  The lookup message is:</p>\n<div class=\"codehilite\"><pre><span></span><code>Unable to find code 1149099005 in http://snomed.info/sct version http://snomed.info/sct/900000000000207008/version/20210731\n</code></pre></div>\n<p>The same query works fine on Ontoserver.  I'm going to work on that now.</p>",
        "id": 259085090,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1635249397
    },
    {
        "content": "<p>so the first thing is that the IG is a US IG, so it is published based on the US version of snomed. That's a policy decision made by snomed, not us. Second, that's enforced in the IG configuration, and reflected in the call made by the IG publisher:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code><span class=\"nt\">&lt;Parameters</span> <span class=\"na\">xmlns=</span><span class=\"s\">\"http://hl7.org/fhir\"</span><span class=\"nt\">&gt;</span>\n...\n  <span class=\"nt\">&lt;parameter&gt;</span>\n    <span class=\"nt\">&lt;name</span> <span class=\"na\">value=</span><span class=\"s\">\"profile\"</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;resource&gt;</span>\n      <span class=\"nt\">&lt;Parameters&gt;</span>\n        <span class=\"nt\">&lt;id</span> <span class=\"na\">value=</span><span class=\"s\">\"exp-params\"</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;parameter&gt;</span>\n          <span class=\"nt\">&lt;name</span> <span class=\"na\">value=</span><span class=\"s\">\"system-version\"</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;valueUri</span> <span class=\"na\">value=</span><span class=\"s\">\"http://snomed.info/sct|http://snomed.info/sct/731000124108\"</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/parameter&gt;</span>\n      <span class=\"nt\">&lt;/Parameters&gt;</span>\n    <span class=\"nt\">&lt;/resource&gt;</span>\n  <span class=\"nt\">&lt;/parameter&gt;</span>\n<span class=\"nt\">&lt;/Parameters&gt;</span>\n</code></pre></div>",
        "id": 259164020,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635283667
    },
    {
        "content": "<p>so the question that matters is, is the code in the US distribution, and I don't see that it is.</p>",
        "id": 259164151,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635283725
    },
    {
        "content": "<p>Yes, it's in the US Edition.  I'm working on getting this fixed.</p>",
        "id": 259164318,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1635283813
    },
    {
        "content": "<p>where? i don't see it in the RF2 distribution</p>",
        "id": 259166137,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635284822
    },
    {
        "content": "<p>We have a fair number of new codes that haven't made their way into the US distribution yet (sadly, there is a lag).</p>",
        "id": 259166452,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1635285002
    },
    {
        "content": "<p>I'm getting it from the US Edition RF2 distribution in <code>sct2_Concept_Snapshot_US1000124_20210901.txt</code>.  There's a single active row for the <code>1149099005</code> concept.</p>",
        "id": 259166570,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1635285048
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I've re-imported and updated the US Edition on <a href=\"http://tx.fhir.org\">tx.fhir.org</a>, and this now works correctly when the US edition is specified.  It is <strong>not</strong>, however, working (for 1149099005, at least) in the International Edition, where it also should be working.  I'll do the same fix there.</p>",
        "id": 259171777,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1635287730
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"215604\">@Saul Kravitz</span> The \"missing codes\" issue with the International Edition is also now fixed.</p>",
        "id": 259190166,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1635306701
    },
    {
        "content": "<p>Let us know if that does fix the issue for you - or if you're seeing anything else (terminology server related).</p>",
        "id": 259190224,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1635306761
    },
    {
        "content": "<p>All is well.  Thanks <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span>  and <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> .</p>",
        "id": 259458822,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1635458991
    }
]