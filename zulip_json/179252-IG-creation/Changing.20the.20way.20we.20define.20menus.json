[
    {
        "content": "<p>After some discussions and struggling with the way we define IG menus, here's a first idea for a possible change:</p>",
        "id": 188682925,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582235971
    },
    {
        "content": "<p>Instead of defining the menu in an external XML (or an external yaml <span aria-label=\"wink\" class=\"emoji emoji-1f609\" role=\"img\" title=\"wink\">:wink:</span>  ) could we add something to the IG itself?</p>",
        "id": 188683059,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582236045
    },
    {
        "content": "<p>Something similar to what we do with the pages:</p>",
        "id": 188683096,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582236066
    },
    {
        "content": "<p>having a recursive element (/extension) in the IG, which would add to the standard menu items.</p>",
        "id": 188683308,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582236185
    },
    {
        "content": "<p>Something like</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;ImplementationGuide&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n<span class=\"err\">...</span>\n    <span class=\"nt\">&quot;definition&quot;</span><span class=\"p\">:</span> <span class=\"err\">...</span><span class=\"p\">,</span>\n<span class=\"err\">...</span>\n    <span class=\"nt\">&quot;menuItems&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;menuItem&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"nt\">&quot;label&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;My New menu item&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;somepage.html&quot;</span><span class=\"p\">,</span>\n        <span class=\"nt\">&quot;menuItems&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;label&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;My Sub Menu&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;subpage1.html&quot;</span>\n          <span class=\"p\">},</span>\n          <span class=\"p\">{</span>\n            <span class=\"nt\">&quot;label&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Sub Menu 2&quot;</span><span class=\"p\">,</span>\n            <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;subpage2.html&quot;</span>\n          <span class=\"p\">}</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>",
        "id": 188684203,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582236645
    },
    {
        "content": "<p>where menuItems could be a standard extension as well</p>",
        "id": 188684256,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582236694
    },
    {
        "content": "<p>This example would add one menu item to the top bar</p>",
        "id": 188684446,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582236825
    },
    {
        "content": "<p>and two submenus under that one</p>",
        "id": 188684459,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582236836
    },
    {
        "content": "<p>the template still determines the other menu items</p>",
        "id": 188684518,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582236859
    },
    {
        "content": "<p>This only allows to add menu items to the template</p>",
        "id": 188684531,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582236870
    },
    {
        "content": "<p>for those who are changing their menus in the menu.xml, how does this sound?</p>",
        "id": 188684602,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1582236921
    },
    {
        "content": "<p>Looks good to me. Would we be able to have nested sub-menus like:<br>\n<a href=\"/user_uploads/10155/j0BENFJCbnAXHZJAPAzYw2I-/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/j0BENFJCbnAXHZJAPAzYw2I-/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/j0BENFJCbnAXHZJAPAzYw2I-/pasted_image.png\"></a></div>",
        "id": 188685873,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1582237755
    },
    {
        "content": "<p>Right now, the javascript libraries we use don't allow more than two levels, but we wouldn't want the publisher to restrict to that.  If we're going to include this in core for the IG (mixed feelings on whether that's appropriate), it'd be nice to be able to point to a page by it's id attribute and thus grab the label and URL from there - so there's only one place in the IG where that's maintained.  We'd still need label + URL for external links.  Also, the url should be optional if you have child menu items (our current javascript doesn't allow a parent item to have its own link)</p>",
        "id": 188689835,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582240997
    },
    {
        "content": "<p>I'd rather not extend the IG for this. I think we could do it as a parameters resource</p>",
        "id": 188691586,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582242639
    },
    {
        "content": "<p>Referenced by an extension?</p>",
        "id": 188699625,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582253580
    },
    {
        "content": "<p>Frankly I'd prefer custom XML over that from an authoring perspective</p>",
        "id": 188699637,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582253613
    },
    {
        "content": "<p>referenced from a parameter</p>",
        "id": 188701027,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582255894
    },
    {
        "content": "<p>&lt;Parameters&gt;<br>\n  &lt;parameter&gt;<br>\n    &lt;name value=\"label\"/&gt;<br>\n    &lt;valueString value=\"some menu item\"/&gt;<br>\n  &lt;/parameter&gt;<br>\n  &lt;parameter&gt;<br>\n    &lt;name value=\"uri\"/&gt;<br>\n    &lt;valueUri value=\"somepage.html\"/&gt;<br>\n  &lt;/parameter&gt;<br>\n  &lt;parameter&gt;<br>\n    &lt;name value=\"nestedItem\"/&gt;<br>\n    &lt;part&gt;<br>\n      &lt;name value=\"label\"/&gt;<br>\n      &lt;valueString value=\"some sub-menu item\"/&gt;<br>\n    &lt;/part&gt;<br>\n    &lt;part&gt;<br>\n      &lt;name value=\"uri\"/&gt;<br>\n      &lt;valueUri value=\"somesubpage.html\"/&gt;<br>\n    &lt;/part&gt;<br>\n  &lt;/parameter&gt;<br>\n&lt;/Parameters&gt;</p>",
        "id": 188701339,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582256345
    },
    {
        "content": "<p>or</p>",
        "id": 188701342,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582256348
    },
    {
        "content": "<p>&lt;Menu&gt;<br>\n  &lt;item label=\"some menu item\" uri=\"somepage.html\"&gt;<br>\n    &lt;item label=\"some sub-menu item\" uri==\"somesubpage.html\"/&gt;<br>\n  &lt;/item&gt;<br>\n&lt;/Menu&gt;</p>",
        "id": 188701386,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582256411
    },
    {
        "content": "<p>From an authoring perspective, I think custom XML wins</p>",
        "id": 188701394,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582256435
    },
    {
        "content": "<p>(or json - though I do like schema validation checking :&gt;)</p>",
        "id": 188701399,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582256460
    },
    {
        "content": "<p>I'm not necessarily arguing for parameters, but if we allowed <code>code</code> to be dynamic, you could do something like:</p>\n<div class=\"codehilite\"><pre><span></span>&quot;parameters&quot;: [{\n  &quot;code&quot;: &quot;menu:Home&quot;,\n  &quot;value&quot;: &quot;index.html&quot;\n},{\n  &quot;code&quot;: &quot;menu:Menu Item&quot;,\n  &quot;value&quot;: &quot;&quot;\n},{\n  &quot;code&quot;: &quot;menu:Menu Item.Nested Item&quot;,\n  &quot;value&quot;: &quot;nested.html&quot;\n},{\n  &quot;code&quot;: &quot;menu:Menu Item.Nested Item 2&quot;,\n  &quot;value&quot;: &quot;nested2.html&quot;\n},{\n  &quot;code&quot;: &quot;menu:History&quot;,\n  &quot;value&quot;: &quot;history.html&quot;\n}]\n</pre></div>\n\n\n<p>I'm not sure I love it.  Just throwing it out there.</p>",
        "id": 188701737,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1582257026
    },
    {
        "content": "<p>I vaguely recall that we agreed to a change request that <a href=\"http://Parameters.name\" target=\"_blank\" title=\"http://Parameters.name\">Parameters.name</a> needs to be \"code-friendly\" - i.e. no whitespace, etc.</p>",
        "id": 188702073,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1582257603
    },
    {
        "content": "<p>Ah.  OK.  Well then I guess that would make that approach infeasible.  It makes sense though, as I was surprised to see that a field called <code>code</code> had type <code>string</code>!</p>",
        "id": 188735917,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1582295430
    }
]