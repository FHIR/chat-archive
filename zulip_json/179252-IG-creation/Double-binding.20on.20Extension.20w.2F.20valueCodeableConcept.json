[
    {
        "content": "<p>In the mCODE IG, we have an <code>obf-SpecimenType-extension</code> that has a CodeableConcept value bound to <code>v2 Specimen Type</code> value set w/ <code>example</code> strength.<br>\n<a href=\"/user_uploads/10155/fS9r2TzqY2OPDjVAD-7URTsf/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/fS9r2TzqY2OPDjVAD-7URTsf/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/fS9r2TzqY2OPDjVAD-7URTsf/pasted_image.png\"></a></div><p>In our <code>GenomicReport</code> profile, we include this extension, <em>but</em> we override the value set in the extension with a new one (<code>GeneticSpecimenTypeVS</code> w/ <code>extensible</code> binding). This is done by expanding the <code>obf-SpecimenType-extension</code> inline in the profile and overwriting the <code>binding</code>.</p>\n<p>When the IG Publisher renders that profile page, however, it renders both the old value set (from the original extension definition) <em>and</em> the new value set (applied in the profile):<br>\n<a href=\"/user_uploads/10155/ESj_h8PqHE7VdMUDrYOq1nGC/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ESj_h8PqHE7VdMUDrYOq1nGC/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/ESj_h8PqHE7VdMUDrYOq1nGC/pasted_image.png\"></a></div><p>This doesn't seem right.</p>\n<p>One interesting tidbit is that for a short period, the IG Publisher apparently did not work this way, as this is a screen shot from the <a href=\"http://build.fhir.org\" target=\"_blank\" title=\"http://build.fhir.org\">build.fhir.org</a>, which was built on Aug 2:<br>\n<a href=\"/user_uploads/10155/V16bAdyOjMZmxiTpRWA9vBWC/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/V16bAdyOjMZmxiTpRWA9vBWC/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/V16bAdyOjMZmxiTpRWA9vBWC/pasted_image.png\"></a></div><p>But the previous screen shots (w/ double-bindings) are from the latest build IG Publisher jar.</p>",
        "id": 177166344,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1570033380
    },
    {
        "content": "<p>The bindings are declared at two different levels I think?  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 177182107,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1570043371
    },
    {
        "content": "<p>In the StructureDefinition JSON files, the binding is on the <code>valueCodeableConcept</code> element in both cases (the original extension and the profile).  E.g.:<br>\nFrom obf-SpecimenType-extension extension:</p>\n<div class=\"codehilite\"><pre><span></span>      {\n        &quot;id&quot; : &quot;Extension.valueCodeableConcept&quot;,\n        &quot;path&quot; : &quot;Extension.valueCodeableConcept&quot;,\n        // snipping out irrelevant stuff\n        &quot;type&quot; : [\n          {\n            &quot;code&quot; : &quot;CodeableConcept&quot;\n          }\n        ],\n        // snipping out irrelevant stuff\n        &quot;binding&quot; : {\n          &quot;strength&quot; : &quot;example&quot;,\n          &quot;valueSet&quot; : &quot;http://terminology.hl7.org/ValueSet/v2-0487&quot;\n        }\n      }\n</pre></div>\n\n\n<p>From onco-core-GenomicsReport profile:</p>\n<div class=\"codehilite\"><pre><span></span>      {\n        &quot;id&quot; : &quot;DiagnosticReport.extension:specimentype.valueCodeableConcept&quot;,\n        &quot;path&quot; : &quot;DiagnosticReport.extension.valueCodeableConcept&quot;,\n        // snipping out irrelevant stuff\n        &quot;type&quot; : [\n          {\n            &quot;code&quot; : &quot;CodeableConcept&quot;\n          }\n        ],\n        // snipping out irrelevant stuff\n        &quot;binding&quot; : {\n          &quot;strength&quot; : &quot;extensible&quot;,\n          &quot;valueSet&quot; : &quot;http://hl7.org/fhir/us/mcode/ValueSet/onco-core-GeneticSpecimenTypeVS&quot;\n        }\n      }\n</pre></div>",
        "id": 177190279,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1570048734
    },
    {
        "content": "<p>Just checking in on this.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> -- any idea what might be going on here?</p>",
        "id": 177528784,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1570461190
    },
    {
        "content": "<p>still on my todo list. I'm running behind</p>",
        "id": 177528870,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1570461235
    },
    {
        "content": "<p>OK.  NP.  I just wanted to be sure it wasn't falling through the cracks.  Would it be helpful for me to create a tracker?</p>",
        "id": 177530215,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1570461973
    },
    {
        "content": "<p>I don't think it will help right now.</p>",
        "id": 177573195,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1570493582
    },
    {
        "content": "<p>Is this still a problem <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> ?</p>",
        "id": 178440252,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1571368927
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> -- I <em>suspect</em> it is, but I haven't tried with a new build for a little while, so we'll try w/ the latest publisher to confirm.</p>",
        "id": 178475901,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1571406932
    },
    {
        "content": "<p>Good news.  This doesn't seem to be an issue anymore with the extension rendering in the latest IG Publisher jar.  Thanks, <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>!</p>",
        "id": 178498517,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1571422627
    },
    {
        "content": "<p>great thanks</p>",
        "id": 178500602,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1571424428
    }
]