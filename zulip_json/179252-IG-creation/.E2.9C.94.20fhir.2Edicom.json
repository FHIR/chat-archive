[
    {
        "content": "<p>We have an error in the QA report, related to a specific value set : <a href=\"https://build.fhir.org/ig/HL7/fhir-radiation-dose-summary-ig/qa.html#_scratch_ig-build-temp-ZCSFVI_repo_fsh-generated_resources_ValueSet-isotope-rds-vs\">https://build.fhir.org/ig/HL7/fhir-radiation-dose-summary-ig/qa.html#_scratch_ig-build-temp-ZCSFVI_repo_fsh-generated_resources_ValueSet-isotope-rds-vs</a> <br>\n<a href=\"/user_uploads/10155/tckOX8OEpBV8LZ9ZXYYDulS3/image.png\">image.png</a> <br>\nThe error spread to the generated html page by the publisher : <a href=\"https://build.fhir.org/ig/HL7/fhir-radiation-dose-summary-ig/ValueSet-isotope-rds-vs.html\">https://build.fhir.org/ig/HL7/fhir-radiation-dose-summary-ig/ValueSet-isotope-rds-vs.html</a><br>\n<a href=\"/user_uploads/10155/R5bvFKWpnh9MvXpyuLaEl6zA/image.png\">image.png</a><br>\nFrom our discussion with the FHIR IG QA Review, this is because the IG is missing a dependency to a package \"fhir.dicom\".<br>\nHowever, when I access to the <a href=\"https://registry.fhir.org/\">https://registry.fhir.org/</a> and search for the keyword \"dicom\", I cannot find any package that can be a dicom based package. Trying to add manually a dependency to \"fhir.dicom\" in the sushi-config.yaml creates a compilation error : <br>\n<a href=\"/user_uploads/10155/FktKnZmn3t1tkevAglBiN9uE/image.png\">image.png</a> <br>\nCould you please provides me guidance on how to fix this issue ?</p>",
        "id": 262137492,
        "sender_full_name": "Abderrazek Boufahja",
        "timestamp": 1637359968
    },
    {
        "content": "<p><del>a) It's a semantic thing but you don't have errors in your QA file, you have warnings.  terminology warnings are expected, especially if you are referencing external terminologies, because FHIR <a href=\"http://tx.fhir.org\">tx.fhir.org</a> can't possibly contain every external terminology out there.</del><br>\n<del>b) The error didn't spread to the value set page, it's a notification that the <a href=\"http://dicom.nema.org\">dicom.nema.org</a> code system URL is unknown to the publisher so it can't provide an expansion.  You can remove that note if you define your value set differently.  Take a look at a value set that I have defined where the codes will never be available because the owning organization requires you to pay for them:  <a href=\"http://hl7.org/fhir/us/icsr-ae-reporting/2021Sep/ValueSet-ISBTBloodProductCodeVS.html\">http://hl7.org/fhir/us/icsr-ae-reporting/2021Sep/ValueSet-ISBTBloodProductCodeVS.html</a> </del><br>\n<del>c) I'll note that you have other value sets that use the DICOM code system and those work just fine, so I wonder if NEMA is actually exposing the value sets you are trying to import?</del><br>\n<del>d) I am pretty sure there is no FHIR DICOM IG.  <span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span> can you confirm or deny?</del></p>",
        "id": 262138382,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1637360335
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> <a href=\"#narrow/stream/179252-IG-creation/topic/fhir.2Edicom/near/262138382\">said</a>:</p>\n<blockquote>\n<p>c) I am pretty sure there is no FHIR DICOM IG.  <span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> can you confirm or deny?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  created a <a href=\"#narrow/stream/179202-terminology/topic/DICOM.20providing.20FHIR.20CodeSystems.20and.20ValueSets/near/260067053\">package</a> with the DICOM valuesets, so it should work if you add a dependency, but I haven't tried it myself.</p>",
        "id": 262139123,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1637360697
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> wrong on a-d (you got 100%!)</p>",
        "id": 262139412,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637360831
    },
    {
        "content": "<p>there is a fhir.dicom package, and it should be referenced here, and if it was, the warning would go away.</p>",
        "id": 262139470,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637360867
    },
    {
        "content": "<p>there's two problems here</p>",
        "id": 262139495,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637360880
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191335\">@Martijn Harthoorn</span> who should I ask about why fhir.dicom is not in <a href=\"http://packages.fhir.org\">packages.fhir.org</a>? </p>\n<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> sushi is not finding fhir.dicom, presumably because it's not listed in <a href=\"http://packages.fhir.org\">packages.fhir.org</a>? (it is on <a href=\"http://packages2.fhir.org\">packages2.fhir.org</a>)</p>",
        "id": 262139647,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637360961
    },
    {
        "content": "<p>i've gone and put strikethrough on everything, but I'm not sure i'm wrong on everything.  he does only have two warnings in his qa file and it isn't an error in the generated page, just a note that the code system is unknown.  and he does have other value sets that use the DICOM code system and they are expanding just fine: <a href=\"https://build.fhir.org/ig/HL7/fhir-radiation-dose-summary-ig/ValueSet-component-radiation-dose-summary-vs.json.html\">https://build.fhir.org/ig/HL7/fhir-radiation-dose-summary-ig/ValueSet-component-radiation-dose-summary-vs.json.html</a></p>\n<p>But next time, I'll just ping Elliot and let him answer. :)</p>",
        "id": 262139821,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1637361057
    },
    {
        "content": "<p>yes true you weren't 100% wrong.</p>",
        "id": 262139933,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637361116
    },
    {
        "content": "<p>they are just warnings but in this case, they tell you that there's definitional errors, since dicom doesn't refer to srt anymore.</p>",
        "id": 262140018,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637361144
    },
    {
        "content": "<p>I was able to get past the sushi errors by manually downloading the package located at <a href=\"http://packages2.fhir.org/packages/fhir.dicom/2021.4.20210910\">http://packages2.fhir.org/packages/fhir.dicom/2021.4.20210910</a> and manually putting it in my local cache.  With the following in my sushi-config:</p>\n<div class=\"codehilite\"><pre><span></span><code>dependencies:\n  hl7.fhir.uv.ips: 1.0.0\n  fhir.dicom:\n    uri: http://fhir.org/packages/fhir.dicom\n    version: 2021.4.20210910\n</code></pre></div>\n<p>I got a successful SUSHI build.  I then ran the publisher on it and it generated semi-successfully*.  That doesn't help with the CI build since you can't muck with the package cache there.</p>\n<ul>\n<li>I get different warnings then are visible on the CI build.</li>\n</ul>",
        "id": 262141643,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1637362112
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> in my local QA, I get <code>Error from server: Unable to provide support for code system http://ncit.nci.nih.gov</code> which is different but similar.  Just a FYI</p>",
        "id": 262141872,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1637362255
    },
    {
        "content": "<p>You can also put it in your cache by running the validator on any random content and passing the parameter -ig fhir.dicom. No need to do it manually if you donâ€™t want to</p>",
        "id": 262149247,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637367454
    },
    {
        "content": "<p>And yes, need to fix it structurally to get it to work on the ci-build (or sushi could also try the back up package manager)</p>",
        "id": 262149326,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637367496
    },
    {
        "content": "<p>I added the the package fhir.dicom in dependency and in the cache of my machine, and removed all the \"suppress warning\" related to dicom valuesets, and it seems working ! I have however a new error related to the code system : \"Error from server: Unable to provide support for code system <a href=\"http://ncit.nci.nih.gov\">http://ncit.nci.nih.gov</a>\". I guess, it is because this code system is referenced in the value sets from fhir.dicom: <br>\n<a href=\"/user_uploads/10155/uz313VdQ7clADUKmV5fK3Lzd/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/uz313VdQ7clADUKmV5fK3Lzd/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/uz313VdQ7clADUKmV5fK3Lzd/image.png\"></a></div><p>I still have in the IG, in the value set generated, the message: \"No Expansion for this valueset (Unknown Code System)\"<br>\n<a href=\"/user_uploads/10155/tlogtEvWtZoz9hmbhwu0Si2E/image.png\">image.png</a><br>\nHow could we tell the publisher to \"not generate the expansion for this specific value set\" ? </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/tlogtEvWtZoz9hmbhwu0Si2E/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/tlogtEvWtZoz9hmbhwu0Si2E/image.png\"></a></div><p>Still, I cannot commit the changes to the CI-Build for the possible reasons <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> mentioned.</p>",
        "id": 262305859,
        "sender_full_name": "Abderrazek Boufahja",
        "timestamp": 1637579750
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/fhir.2Edicom/near/262139647\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191469\">Chris Moesel</span> sushi is not finding fhir.dicom, presumably because it's not listed in <a href=\"http://packages.fhir.org\">packages.fhir.org</a>? (it is on <a href=\"http://packages2.fhir.org\">packages2.fhir.org</a>)</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> -- you got it right.  SUSHI only looks for FHIR R4B and FHIR R5 builds at <a href=\"http://packages2.fhir.org\">packages2.fhir.org</a>.  I thought those were the only things that would be on packages2 but not on regular packages.  What determines if something is available on packages2 vs packages?</p>",
        "id": 262334652,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1637595230
    },
    {
        "content": "<p>Should we just check packages2 for <em>anything</em> we can't find in packages?</p>",
        "id": 262338553,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1637596862
    },
    {
        "content": "<p>I do. Some packages don't get accepted on <a href=\"http://packages.fhir.org\">packages.fhir.org</a> and they don't do anything about that, so it's unpredictable. there'll be something about the fhir.dicom package that they don't like. </p>\n<p>So yes, I always check on packages2 if it doesn't exist on <a href=\"http://packages.fhir.org\">packages.fhir.org</a></p>",
        "id": 262360313,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637606427
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> , as we are working for balloting the IG in January, is it possible to have this improvement in sushi soon ? ( Sorry I don't know your process for fixes and improvements, and how it is updated for the ci-build of FHIR IGs).</p>",
        "id": 262424646,
        "sender_full_name": "Abderrazek Boufahja",
        "timestamp": 1637655684
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"253132\">@Abderrazek Boufahja</span> -- we're going into a U.S. holiday this week, but we'll try to put out a release with this fix in it next week.  Is that early enough for your team?</p>",
        "id": 262453062,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1637673215
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> , from the meetings with HL7, I understood that the final content deadline is for the end of next week, and the final review from the WGs is for the second of December. I think if we have the fix beginning next week, it will be great.</p>",
        "id": 262455057,
        "sender_full_name": "Abderrazek Boufahja",
        "timestamp": 1637674182
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , there is a whole bunch of packages, that currently has version \"current\"</p>",
        "id": 262597886,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1637765296
    },
    {
        "content": "<p>fhir.dicom-2021.4.20210910 is one of them.</p>",
        "id": 262597891,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1637765302
    },
    {
        "content": "<p>Our import tool rejects these as not having a valid semver version.</p>",
        "id": 262598544,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1637765608
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191335\">@Martijn Harthoorn</span> this is what I see:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">\"tools-version\"</span><span class=\"p\">:</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"s2\">\"fhir.ig\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"license\"</span><span class=\"p\">:</span> <span class=\"s2\">\"free\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"author\"</span><span class=\"p\">:</span> <span class=\"s2\">\"FHIR Project for DICOM\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"name\"</span><span class=\"p\">:</span> <span class=\"s2\">\"fhir.dicom\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://fhir.org/packages/fhir.dicom\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"canonical\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://fhir.org/packages/fhir.dicom\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"version\"</span><span class=\"p\">:</span> <span class=\"s2\">\"2021.4.20210910\"</span><span class=\"p\">,</span>\n  <span class=\"nt\">\"fhirVersions\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"s2\">\"4.0.1\"</span>\n  <span class=\"p\">],</span>\n  <span class=\"nt\">\"dependencies\"</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"nt\">\"hl7.fhir.r4.core\"</span><span class=\"p\">:</span> <span class=\"s2\">\"4.0.1\"</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>",
        "id": 262623709,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637777707
    },
    {
        "content": "<p>and how would a package owner know that you've rejected the package?</p>",
        "id": 262623746,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637777728
    },
    {
        "content": "<p>and what other packages have <code>current</code>?</p>",
        "id": 262623770,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637777744
    },
    {
        "content": "<p>I will see if I can dump the log in some public place, so that there is always a place to check.</p>",
        "id": 262677778,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1637829012
    },
    {
        "content": "<p>Btw, the value \"fhir.ig\" is not valid for \"type\".</p>",
        "id": 262678160,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1637829302
    },
    {
        "content": "<p>no well, we just agreed to a list of valid types and now I have to actually do that, but I haven't yet</p>",
        "id": 262681195,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637831065
    },
    {
        "content": "<p>Same here. Just a note.</p>",
        "id": 262683384,
        "sender_full_name": "Martijn Harthoorn",
        "timestamp": 1637832454
    },
    {
        "content": "<p>Following the improvement on sushi tool to support <a href=\"http://packages2.fhir.org\">packages2.fhir.org</a>, the dependency to fhir.dicom is working now. Thanks all for your help.</p>",
        "id": 263400368,
        "sender_full_name": "Abderrazek Boufahja",
        "timestamp": 1638429088
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"253132\">Abderrazek Boufahja</span> has marked this topic as resolved.</p>",
        "id": 263556477,
        "sender_full_name": "Notification Bot",
        "timestamp": 1638525383
    }
]