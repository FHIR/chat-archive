[
    {
        "content": "<p>Getting this error on the QI-Core continuous build, as well as locally. I've pulled the latest publisher and cleared my local cache, but still get this same error. Anyone else seeing this?</p>",
        "id": 188654267,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1582216705
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>java.io.IOException: Input is not in the .gz format\n        at org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream.init(GzipCompressorInputStream.java:193)\n        at org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream.&lt;init&gt;(GzipCompressorInputStream.java:167)\n        at org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream.&lt;init&gt;(GzipCompressorInputStream.java:131)\n        at org.hl7.fhir.utilities.cache.NpmPackage.readStream(NpmPackage.java:274)\n        at org.hl7.fhir.utilities.cache.NpmPackage.fromPackage(NpmPackage.java:269)\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.addPackageToCache(PackageCacheManager.java:431)\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.loadPackage(PackageCacheManager.java:576)\n        at org.hl7.fhir.igtools.publisher.Publisher.resolveDependency(Publisher.java:2455)\n        at org.hl7.fhir.igtools.publisher.Publisher.loadIg(Publisher.java:2414)\n        at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1861)\n        at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1210)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:661)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6934)\n</pre></div>",
        "id": 188654304,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1582216732
    },
    {
        "content": "<p>I bet it's your http cache</p>",
        "id": 188674274,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582230319
    },
    {
        "content": "<p>hm no- the ci build too? I'll investigate</p>",
        "id": 188674299,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582230340
    },
    {
        "content": "<p>So I even tried going back to the previous version of the publisher that used to work, and it's getting the same error. Seems to happen when it tries to unpack the US Core package.</p>",
        "id": 188760995,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1582310131
    },
    {
        "content": "<p>So, going back to 1.0.37-SNAPSHOT I can successfully build locally.</p>",
        "id": 188765567,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1582313133
    },
    {
        "content": "<p>it works for me with current code, and on the ci-build?</p>",
        "id": 188766481,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582313719
    },
    {
        "content": "<p>I just kicked the ci-build and got the same error, and running 1.0.65-SNAPSHOT locally I get the error.</p>",
        "id": 188769173,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1582315531
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> this build Bryn is talking about failed: <a href=\"http://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/failure/build.log\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/failure/build.log\">http://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/failure/build.log</a>. But <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\" target=\"_blank\" title=\"https://fhir.github.io/auto-ig-builder/builds.html\">https://fhir.github.io/auto-ig-builder/builds.html</a> still shows it as successful?</p>",
        "id": 188769508,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582315717
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> the log shows something weird:</p>",
        "id": 188769568,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582315772
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>Installing hl7.fhir.us.core.r4validator#3.1.0 to the package cache\n  Fetching:Publishing Content Failed: Input is not in the .gz format                        (00:18.0824)\n</pre></div>",
        "id": 188769637,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582315806
    },
    {
        "content": "<p>my local log shows something different:</p>",
        "id": 188769653,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582315815
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>Installing hl7.fhir.us.core#3.1.0 to the package cache\n</pre></div>",
        "id": 188769669,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582315820
    },
    {
        "content": "<p>what do you get locally?</p>",
        "id": 188769687,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582315837
    },
    {
        "content": "<blockquote>\n<p>But <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\" target=\"_blank\" title=\"https://fhir.github.io/auto-ig-builder/builds.html\">https://fhir.github.io/auto-ig-builder/builds.html</a> still shows it as successful?</p>\n</blockquote>\n<p>Thanks -- jush <a href=\"https://github.com/FHIR/auto-ig-builder/commit/1ddf9f435791d819aa2514f624438d787b96a03c\" target=\"_blank\" title=\"https://github.com/FHIR/auto-ig-builder/commit/1ddf9f435791d819aa2514f624438d787b96a03c\">pushed a fix</a> for this. (The successful run's qa was taking precedence when it shouldn't have.)</p>",
        "id": 188770557,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1582316418
    },
    {
        "content": "<p>Yeah, my local build shows the same as the CI build:</p>\n<div class=\"codehilite\"><pre><span></span>Load Package hl7.fhir.xver-extensions#0.0.1\nInstalling hl7.fhir.us.core.r4validator#3.1.0 to the package cache\n  Fetching:Publishing Content Failed: Input is not in the .gz format\n</pre></div>",
        "id": 188773099,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1582318361
    },
    {
        "content": "<p>I don't understand this at all</p>",
        "id": 188773297,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582318525
    },
    {
        "content": "<p>Yeah, it's definitely strange. I thought it might be some strange characters in the dependencylist, so I removed that, built, got the expected error about missing US Core required dependencies, then re-keyed the dependency manually in the ig.json and got the same error.</p>",
        "id": 188773931,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1582318908
    },
    {
        "content": "<p>It's something in the package subsystem but I can't think why I can't reproduce it</p>",
        "id": 188774079,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582319001
    },
    {
        "content": "<p>Just had a mac user try it and he's getting the same error as well, same log output (hl7.fhir.us.core.r4validator#3.1.0).</p>",
        "id": 188777638,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1582321486
    },
    {
        "content": "<p>Whatever you did with 1.0.66 fixed it. Thanks Grahame!</p>",
        "id": 188780768,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1582324153
    },
    {
        "content": "<p>interesting. I did not expect that to fix it</p>",
        "id": 188780866,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582324220
    },
    {
        "content": "<p>i am getting this error now to when I try to load the latest QI Core.</p>\n<div class=\"codehilite\"><pre><span></span>Installing hl7.fhir.us.qicore#4.0.0 to the package cache\n  Fetching:Publishing Content Failed: Input is not in the .gz format                        (00:35.0874)\n</pre></div>",
        "id": 191686668,
        "sender_full_name": "Eric Haas",
        "timestamp": 1585093312
    },
    {
        "content": "<p>was there ever a fix for this?</p>",
        "id": 191686727,
        "sender_full_name": "Eric Haas",
        "timestamp": 1585093333
    },
    {
        "content": "<p>as a workaround I manually loaded the package locally.</p>",
        "id": 191686796,
        "sender_full_name": "Eric Haas",
        "timestamp": 1585093403
    },
    {
        "content": "<p>also now on my local build the qicore links all resolve to: <code>about:blank#blocked</code></p>",
        "id": 191693912,
        "sender_full_name": "Eric Haas",
        "timestamp": 1585100605
    },
    {
        "content": "<p>the autobuilder is also failing with the following error for the <a href=\"https://github.com/HL7/davinci-deqm\" title=\"https://github.com/HL7/davinci-deqm\">DEQM CI Build</a> with the dependency to the newly published QI Core 4.0.0.</p>\n<div class=\"codehilite\"><pre><span></span>Installing hl7.fhir.us.qicore#4.0.0 to the package cache\n  Fetching:Publishing Content Failed: Input is not in the .gz format                        (00:19.0340)\n</pre></div>",
        "id": 192068810,
        "sender_full_name": "Eric Haas",
        "timestamp": 1585337331
    },
    {
        "content": "<p>fixed next release</p>",
        "id": 192194688,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585516657
    }
]