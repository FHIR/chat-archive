[
    {
        "content": "<p>MY QA report tells me \"Snomed: The IG does not specify the US edition of SNOMED CT version in the parameters (<a href=\"http://snomed.info/sct/731000124108\">http://snomed.info/sct/731000124108</a>)\"</p>\n<p>We don't have any codesystems or valuesets.  Where would I specify it?  (I'm using fsh/sushi)</p>",
        "id": 269475597,
        "sender_full_name": "David Pyke",
        "timestamp": 1643228341
    },
    {
        "content": "<p>Do you make use of any SNOMED codes in any examples?</p>",
        "id": 269476998,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1643228949
    },
    {
        "content": "<p>Yep, in an Encounter.  I'll update that.</p>",
        "id": 269477296,
        "sender_full_name": "David Pyke",
        "timestamp": 1643229063
    },
    {
        "content": "<p>I'm feeling dumb today.  It doesn't like <a href=\"http://snomed.info/sct/731000124108\">http://snomed.info/sct/731000124108</a> as a system URI... what do I use?</p>",
        "id": 269478743,
        "sender_full_name": "David Pyke",
        "timestamp": 1643229660
    },
    {
        "content": "<p>The system URL must always be \"<a href=\"http://snomed.info/sct\">http://snomed.info/sct</a>\".  You need to include a Parameters instance in your IG that indicates the release of SNOMED to use</p>",
        "id": 269504072,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1643243024
    },
    {
        "content": "<p>Okay, which Parameter shows that one?  I've never done this before</p>",
        "id": 269572002,
        "sender_full_name": "David Pyke",
        "timestamp": 1643290544
    },
    {
        "content": "<p>Can anyone point me to an IG that specifies this so I can copy?  I can't find anything in USCore that does it</p>",
        "id": 269596426,
        "sender_full_name": "David Pyke",
        "timestamp": 1643300206
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/fhir-icsr-ae-reporting\">https://github.com/HL7/fhir-icsr-ae-reporting</a></p>",
        "id": 269598693,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1643301197
    },
    {
        "content": "<p>Where do I look?</p>",
        "id": 269598766,
        "sender_full_name": "David Pyke",
        "timestamp": 1643301230
    },
    {
        "content": "<p>Nevermind, found it!</p>",
        "id": 269598863,
        "sender_full_name": "David Pyke",
        "timestamp": 1643301252
    },
    {
        "content": "<p>The exp-params.json file in the root</p>",
        "id": 269598940,
        "sender_full_name": "David Pyke",
        "timestamp": 1643301288
    },
    {
        "content": "<p>what is an exp-params.json file?</p>",
        "id": 269599320,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643301432
    },
    {
        "content": "<p>It's an instance of the Parameters resource in json format</p>",
        "id": 269599410,
        "sender_full_name": "David Pyke",
        "timestamp": 1643301471
    },
    {
        "content": "<p>in the root?</p>",
        "id": 269599528,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643301509
    },
    {
        "content": "<p>the set of input files to the build is getting out of hand</p>",
        "id": 269599588,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643301538
    },
    {
        "content": "<p>Can I put any build parameters in here?</p>",
        "id": 269599612,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1643301546
    },
    {
        "content": "<p>You can put it in the root but need a link to it in the parameters in sushi-config</p>\n<div class=\"codehilite\"><pre><span></span><code>parameters:\n       path-expansion-params: &#39;../../exp-params.json&#39;\n</code></pre></div>",
        "id": 269600707,
        "sender_full_name": "David Pyke",
        "timestamp": 1643301977
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Specifying.20SCT.20US.20edition/near/269599612\">said</a>:</p>\n<blockquote>\n<p>Can I put any build parameters in here?</p>\n</blockquote>\n<p>Apparently not -- this is just for the terminology \"expansion\" parameters.</p>",
        "id": 269601284,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1643302223
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Specifying.20SCT.20US.20edition/near/269599588\">said</a>:</p>\n<blockquote>\n<p>the set of input files to the build is getting out of hand</p>\n</blockquote>\n<p>I state again</p>",
        "id": 269603309,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643302965
    },
    {
        "content": "<p>There's probably a way to include this directly in sushi-config or the IG resource directly.</p>",
        "id": 269603726,
        "sender_full_name": "David Pyke",
        "timestamp": 1643303128
    },
    {
        "content": "<p>that would be a bit more controlled.. yes.</p>",
        "id": 269603881,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643303175
    },
    {
        "content": "<p>and then it could be documented as an IG publisher parameter</p>",
        "id": 269604464,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643303406
    },
    {
        "content": "<p>Running it though a build, the fsh-generated IG resource just has the path that is in sushi-config.  The final IG resource has it as an extension (using the IG-parameter extension) under the definitions section.  </p>\n<p>So, no, you can't just put it in the sushi-config but you can put it in the IG resource<br>\n      {<br>\n        \"extension\": [<br>\n          {<br>\n            \"url\": \"code\",<br>\n            \"valueString\": \"system-version\"<br>\n          },<br>\n          {<br>\n            \"url\": \"value\",<br>\n            \"valueString\": \"<a href=\"http://snomed.info/sct|http://snomed.info/sct/731000124108\">http://snomed.info/sct|http://snomed.info/sct/731000124108</a>\"<br>\n          }<br>\n        ],</p>",
        "id": 269605907,
        "sender_full_name": "David Pyke",
        "timestamp": 1643303964
    },
    {
        "content": "<p>you can put ig extension parameters in your sushi-config</p>",
        "id": 269611972,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643306317
    },
    {
        "content": "<p>in theory.. last time I tried it didn't work.</p>",
        "id": 269612009,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643306333
    },
    {
        "content": "<p>No, it didn't work for me, either.  So I started a thread in the shorthand stream</p>",
        "id": 269612099,
        "sender_full_name": "David Pyke",
        "timestamp": 1643306363
    },
    {
        "content": "<p>so... <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ... can we get this capability as an IG publisher parameter rather than this one-off root folder json file?</p>",
        "id": 269622318,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643310626
    },
    {
        "content": "<p>or better, an IG parameter</p>",
        "id": 269622398,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643310665
    },
    {
        "content": "<p>Wouldn't it be better if sushi or the other (lesser) tools could just create the extension necessary?</p>",
        "id": 269622477,
        "sender_full_name": "David Pyke",
        "timestamp": 1643310709
    },
    {
        "content": "<p>sushi can manage IG publisher parameters and IG parameters.. so sushi support would happen automatically if either of those were used.</p>",
        "id": 269622602,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643310757
    },
    {
        "content": "<p>this capability is needed by IGs that are vegan too</p>",
        "id": 269622682,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643310794
    },
    {
        "content": "<p>But it's an ig-parameters extension already, so it can be manually added.  Are you asking it to be added to the core IG resource?</p>",
        "id": 269622710,
        "sender_full_name": "David Pyke",
        "timestamp": 1643310812
    },
    {
        "content": "<p>okay, what you are saying is that the solution is in hand if we can just get sushi to work with ig-parameter extensions... which is needed to be fixed anyway. okay.</p>",
        "id": 269622886,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643310881
    },
    {
        "content": "<p>yep!</p>",
        "id": 269622906,
        "sender_full_name": "David Pyke",
        "timestamp": 1643310892
    },
    {
        "content": "<p>just don't like json file solution</p>",
        "id": 269622955,
        "sender_full_name": "John Moehrke",
        "timestamp": 1643310918
    },
    {
        "content": "<p>Nope, that's less than optimal but it's a good stopgap until sushi can be modded to handle that parameter (now that it's needed for all SNOMED use in the US)</p>",
        "id": 269623097,
        "sender_full_name": "David Pyke",
        "timestamp": 1643310968
    },
    {
        "content": "<blockquote>\n<p>can we get this capability as an IG publisher parameter rather than this one-off root folder json file?</p>\n</blockquote>\n<p>no. that would be a retrograde step and I don't understand why you think that would be a good idea.</p>",
        "id": 269624038,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643311406
    },
    {
        "content": "<p>It's not necessarily just a single parameter.  There could, in principle, be a whole lot of terminology configuration information that might be relevant to a particular IG.</p>",
        "id": 269632257,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1643314953
    },
    {
        "content": "<p>Can these be documented somewhere so that people know how to configure it all (and save people like me from having to start threads like these)</p>",
        "id": 269633415,
        "sender_full_name": "David Pyke",
        "timestamp": 1643315530
    },
    {
        "content": "<p>It's not clear to me:  Is the Parameters JSON file <em>necessary</em> or is the extension on <code>ImplementationGuide.parameters</code> sufficient?  I think someone said the publisher just ends up sticking that data into the IG JSON anyway (as that extension) -- so I'm trying to figure out what is actually necessary.</p>",
        "id": 269633533,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1643315609
    },
    {
        "content": "<p>The file is just a way to get the template/publisher/fairy godmother to create the extension</p>",
        "id": 269633645,
        "sender_full_name": "David Pyke",
        "timestamp": 1643315648
    },
    {
        "content": "<p>All that is necessary seems to be that if the jurisdiction is US, then the extension is created saying that SNOMED-US is to be used</p>",
        "id": 269633719,
        "sender_full_name": "David Pyke",
        "timestamp": 1643315690
    },
    {
        "content": "<p>And that's only if there's a SNOMED reference somewhere in the IG</p>",
        "id": 269633781,
        "sender_full_name": "David Pyke",
        "timestamp": 1643315722
    },
    {
        "content": "<p>I assume this parameter is needed for any jurisdiction that has a regionalized SNOMED</p>",
        "id": 269634299,
        "sender_full_name": "David Pyke",
        "timestamp": 1643315984
    },
    {
        "content": "<p>Well, we can make sure that if someone puts an extension in the parameters in sushi-config.yaml that it gets carried over then.  As for whether you should be skipping the Parameters JSON file or not, I'll let the community sort that out. ;-)</p>",
        "id": 269634593,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1643316119
    },
    {
        "content": "<blockquote>\n<p>Can these be documented somewhere</p>\n</blockquote>\n<p>the $expand operation documents the parameters</p>",
        "id": 269638009,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643317603
    },
    {
        "content": "<p>I meant for IG creation.  If we're now to add parameters to the IG (via whatever mechanism), it would be useful for this to be added to the IG creation documentation</p>",
        "id": 269638162,
        "sender_full_name": "David Pyke",
        "timestamp": 1643317675
    },
    {
        "content": "<p>no, I don't follow. This is all documented. What do you think is not documented?</p>",
        "id": 269638492,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643317827
    },
    {
        "content": "<p>This all started with my qa report having \"Snomed: The IG does not specify the US edition of SNOMED CT version in the parameters (<a href=\"http://snomed.info/sct/731000124108\">http://snomed.info/sct/731000124108</a>)\"<br>\nWhere is how to resolve that QA issue documented?</p>",
        "id": 269638583,
        "sender_full_name": "David Pyke",
        "timestamp": 1643317882
    },
    {
        "content": "<p>(or the steps to prevent it, either one)</p>",
        "id": 269638784,
        "sender_full_name": "David Pyke",
        "timestamp": 1643317986
    },
    {
        "content": "<p>What is the resolution to this QA issue?</p>",
        "id": 271731189,
        "sender_full_name": "AbdulMalik Shakir",
        "timestamp": 1644734593
    },
    {
        "content": "<p>Are you declaring your SNOMED version Parameters instance in your IG (look at US-Core to see how)</p>",
        "id": 271752076,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644767591
    },
    {
        "content": "<p>You get an exp-params.json file like the one here: <a href=\"https://github.com/HL7/fhir-icsr-ae-reporting\">https://github.com/HL7/fhir-icsr-ae-reporting</a></p>\n<p>You can put it in the root but need a link to it in the parameters in sushi-config</p>\n<div class=\"codehilite\"><pre><span></span><code>parameters:\n       path-expansion-params: &#39;../../exp-params.json&#39;\n</code></pre></div>",
        "id": 271830170,
        "sender_full_name": "David Pyke",
        "timestamp": 1644847581
    }
]