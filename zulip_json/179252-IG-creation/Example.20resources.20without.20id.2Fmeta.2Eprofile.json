[
    {
        "content": "<p>For the SHC Vaccination IG, we instruct implementers to not include <code>Resource.id</code>, <code>Resource.meta</code>, and <code>Resource.text</code> in resources. Does anyone know how to include examples without these elements using the IG publisher?</p>\n<p>Our concern is that implementers will be confused if our examples contain elements that we <a href=\"http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/reorganize/profiles.html#data-minimization\">explicity say should not be included</a> due to payload size constraints.</p>",
        "id": 245366614,
        "sender_full_name": "Max Masnick",
        "timestamp": 1625775596
    },
    {
        "content": "<p>We have a request in for a means to suppress adding 'text' (presumably an extension).  I don't think it's been actioned yet.  In the meantime, what we've done is add this for narrative:</p>\n<div class=\"codehilite\"><pre><span></span><code>&quot;text&quot;: {\n    &quot;status&quot;: &quot;empty&quot;,\n    &quot;div&quot;: &quot;&lt;div xmlns=\\&quot;http://www.w3.org/1999/xhtml\\&quot;&gt;&lt;p&gt;This resource is not supposed to have a &#39;text&#39; element at all.  One is included here only for publishing purposes.  When tooling supports, it will be removed entirely.  In conformant instances, the text element must be omitted entirely.&lt;/p&gt;&lt;/div&gt;&quot;\n  },\n</code></pre></div>\n<p>I guess you could do something similar with id:<br>\n<code>\"id\": \"this-id-should-be-omitted\"</code></p>",
        "id": 245378449,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1625782192
    },
    {
        "content": "<p>Though if your examples blow your payload constraints, that's not gonna help...</p>",
        "id": 245378508,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1625782214
    },
    {
        "content": "<p>Thanks Lloyd!</p>\n<p>What we're doing for now is linking out to GitHub for the examples -- you can see this in action if you click the Examples tab on <a href=\"http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/reorganize/StructureDefinition-shc-covid19-laboratory-result-observation-dm.html\">http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/reorganize/StructureDefinition-shc-covid19-laboratory-result-observation-dm.html</a></p>\n<p>This approach is a bit of a hack, but it does get us what we need to avoid confusion for implementers.</p>\n<p>I'd like to bring the examples back into the normal IG publisher workflow, but I believe this would require changes to both SUSHI and the IG publisher -- which I'm not necessarily advocating since our IG is an edge case in this regard. (I do think it would be generally good to be able to suppress <code>Resource.text</code> though, so glad to hear that's on your radar.)</p>",
        "id": 245427052,
        "sender_full_name": "Max Masnick",
        "timestamp": 1625827304
    },
    {
        "content": "<p>did you profile those elements out to see where it breaks?</p>",
        "id": 245430407,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1625829782
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Example.20resources.20without.20id.2Fmeta.2Eprofile/near/245430407\">said</a>:</p>\n<blockquote>\n<p>did you profile those elements out to see where it breaks?</p>\n</blockquote>\n<p>Not sure what you mean by this. If you're interested in looking at it, I can set up a sample branch.</p>",
        "id": 245436826,
        "sender_full_name": "Max Masnick",
        "timestamp": 1625834198
    },
    {
        "content": "<p>It's not a profile issue.  The publisher <em>requires</em> examples to have ids because it can't resolve links to them otherwise.  But Max doesn't want them to show up in the rendered version.  The publisher also automatically injects narrative where it's missing.  Max doesn't want that for certain examples.</p>",
        "id": 245444706,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1625838200
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"322501\">@Max Masnick</span> can you submit a Git issue against the publisher?</p>",
        "id": 245444740,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1625838230
    },
    {
        "content": "<p>Sure, thanks!</p>",
        "id": 245444858,
        "sender_full_name": "Max Masnick",
        "timestamp": 1625838283
    },
    {
        "content": "<p>Logged as <a href=\"https://github.com/HL7/fhir-ig-publisher/issues/293\">https://github.com/HL7/fhir-ig-publisher/issues/293</a></p>",
        "id": 245447997,
        "sender_full_name": "Max Masnick",
        "timestamp": 1625839719
    },
    {
        "content": "<p>I don't understand this issue. Firstly, the IGpublisher is never going to handle resources that don't have IDs</p>",
        "id": 245881469,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1626207619
    },
    {
        "content": "<p>If that task is asking to change that, then I'm afraid that's not going to happen. Otherwise, I don't know what the task is actually asking for</p>",
        "id": 245881509,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1626207655
    },
    {
        "content": "<p>The <em>source</em> is going to have ids.  But the request is that the rendered examples don't include the id element.   I.e. when you look at the XML, JSON, etc., the id would have been stripped.</p>",
        "id": 245897591,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1626215239
    },
    {
        "content": "<p>That should, presumably, be possible.  We might need to put the id back in for the package - or strip examples without ids from the publication package.</p>",
        "id": 245897626,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1626215273
    },
    {
        "content": "<p>Thanks Lloyd, that's exactly what we're asking for -- we want a page like <a href=\"https://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/Patient-cancer-patient-adam-everyman.json.html\">this</a> in a built IG to not include <code>id</code>, <code>text</code>, etc. in the JSON.</p>\n<p>(That example is from mCODE, not the SMART Health Card IG because the SHC IG doesn't have example pages now to avoid confusion around this issue.)</p>",
        "id": 246725827,
        "sender_full_name": "Max Masnick",
        "timestamp": 1626877046
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> the problem we're trying to solve for is implementer confusion: if we say in the IG \"don't populate <code>Resource.text</code>\" but all our examples have <code>Resource.text</code>, that's potentially very confusing.</p>\n<p>Our work-around for now is to link to files on GitHub instead of using the normal IG example pages, which isn't a great experience but at least isn't confusing. We would like to be able to use the example pages generated by the IG publisher instead, if there's a way to work around this.</p>",
        "id": 246726135,
        "sender_full_name": "Max Masnick",
        "timestamp": 1626877176
    }
]