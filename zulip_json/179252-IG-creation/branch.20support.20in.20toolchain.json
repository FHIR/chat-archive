[
    {
        "content": "<p>The <a href=\"https://github.com/FHIR/auto-ig-builder\" target=\"_blank\" title=\"https://github.com/FHIR/auto-ig-builder\">https://github.com/FHIR/auto-ig-builder</a> states that branches are supported. Yet, I can't see any other branch than master on <a href=\"http://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/\">http://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/</a> - is that a bug?</p>",
        "id": 191687452,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585093883
    },
    {
        "content": "<p>Seems like a but, let's see.</p>",
        "id": 191687875,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585094212
    },
    {
        "content": "<p>To clarify, I don't see any successful builds on any branch -- is this a working IG?</p>",
        "id": 191687912,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585094253
    },
    {
        "content": "<p>Content at <a href=\"https://github.com/hl7dk/dk-medcom-core-r4\" target=\"_blank\" title=\"https://github.com/hl7dk/dk-medcom-core-r4\">https://github.com/hl7dk/dk-medcom-core-r4</a> appears missing.</p>",
        "id": 191687924,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585094261
    },
    {
        "content": "<p>look at <a href=\"https://github.com/hl7dk/dk-medcom-core-r4/tree/feature/ig-compatible\" target=\"_blank\" title=\"https://github.com/hl7dk/dk-medcom-core-r4/tree/feature/ig-compatible\">https://github.com/hl7dk/dk-medcom-core-r4/tree/feature/ig-compatible</a></p>",
        "id": 191687952,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585094282
    },
    {
        "content": "<p>that branch contains a bug in the igpublisher that I need to flag to <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 191688014,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585094321
    },
    {
        "content": "<p>Thanks, that helps -- I'm not sure what the issue is, but let's revisit when the IG publisher is back up.</p>",
        "id": 191688052,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585094345
    },
    {
        "content": "<p>but in order to do so .... <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> I need the toolchain to work on branches</p>",
        "id": 191688065,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585094364
    },
    {
        "content": "<p>is it down?</p>",
        "id": 191688070,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585094370
    },
    {
        "content": "<p>No builds are currently working (See <a class=\"stream-topic\" data-stream-id=\"179252\" href=\"/#narrow/stream/179252-IG-creation/topic/Error.3A.20unable.20to.20resolve.20package.20id.20hl7.2Efhir.2Epubpack\">#IG creation &gt; Error: unable to resolve package id hl7.fhir.pubpack</a> )</p>",
        "id": 191688166,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585094417
    },
    {
        "content": "<p>k</p>",
        "id": 191688258,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585094509
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/n5WIHom7CPfQJpmc-BGSV8iz/image.png\" target=\"_blank\" title=\"image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/n5WIHom7CPfQJpmc-BGSV8iz/image.png\" target=\"_blank\" title=\"image.png\"><img src=\"/user_uploads/10155/n5WIHom7CPfQJpmc-BGSV8iz/image.png\"></a></div>",
        "id": 191688261,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585094516
    },
    {
        "content": "<p>In the meantime, can I ask you to give me admin permissions on this repo for a few day? I'd like to debug webhook settings, etc.</p>",
        "id": 191688383,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585094605
    },
    {
        "content": "<p>as long as you only fiddle with webhooks</p>",
        "id": 191688482,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585094663
    },
    {
        "content": "<p>You got it.</p>",
        "id": 191688491,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585094672
    },
    {
        "content": "<p>done</p>",
        "id": 191688537,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585094724
    },
    {
        "content": "<p>Perfect. And OK, I see the issue: <code>/</code> in the branch names isn't supported right now. I can fix, but if you want something right away, just rename the branch to <code>feature-</code> instead of <code>feature/</code></p>",
        "id": 191688666,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585094857
    },
    {
        "content": "<p>(The issue is that branches feed into file system layout on the <a href=\"http://build.fhir.org\" target=\"_blank\" title=\"http://build.fhir.org\">build.fhir.org</a> side, so the \"best case\" fix would be mapping <code>/</code> to <code>-</code> or something during the publication process; this creates confusion because it means branch names aren't transparently converted to URLs... so I'm inclined to just prohibit branches with <code>/</code> from the auto-build... but open to suggestions.)</p>",
        "id": 191689110,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585095332
    },
    {
        "content": "<p>That is okay with me</p>",
        "id": 191703824,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585116189
    },
    {
        "content": "<p>Just be sure to document it somewhere</p>",
        "id": 191703834,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585116211
    },
    {
        "content": "<p>What about the other branches?</p>",
        "id": 191703913,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585116324
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> - branch is now deleted</p>",
        "id": 191720177,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585129564
    },
    {
        "content": "<p>and nothing works .... <span aria-label=\"worried\" class=\"emoji emoji-1f61f\" role=\"img\" title=\"worried\">:worried:</span></p>",
        "id": 191739987,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585141243
    },
    {
        "content": "<p>So IGs are building again now in general, so that's a start :-)</p>",
        "id": 191749467,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145151
    },
    {
        "content": "<p>Looking at <a href=\"https://github.com/hl7dk/dk-medcom-core-r4/tree/version_0.8\" title=\"https://github.com/hl7dk/dk-medcom-core-r4/tree/version_0.8\">https://github.com/hl7dk/dk-medcom-core-r4/tree/version_0.8</a> -- I expect this is the only branch that <em>might</em> work, yes?</p>",
        "id": 191749552,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145176
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/\" title=\"http://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/\">http://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/</a> shows the logs</p>",
        "id": 191749619,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145210
    },
    {
        "content": "<p>(I re-sent the last github webhook notification just to make sure I could watch all the steps happening.)</p>",
        "id": 191749744,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145263
    },
    {
        "content": "<p>Those logs are currently <a href=\"http://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/version_0.8/failure/build.log\" title=\"http://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/version_0.8/failure/build.log\">showing a reason for failure</a> that <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> might understand, but <span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> should I assume this branch builds for you locally?</p>\n<div class=\"codehilite\"><pre><span></span>java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)\n    at java.base/java.util.Objects.checkIndex(Objects.java:373)\n    at java.base/java.util.ArrayList.get(ArrayList.java:426)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.getComparer(ProfileUtilities.java:4591)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.sortElements(ProfileUtilities.java:4577)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.sortElements(ProfileUtilities.java:4579)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.sortDifferential(ProfileUtilities.java:4516)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:3934)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:3902)\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3335)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:806)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:667)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6932)\n</pre></div>",
        "id": 191749906,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145319
    },
    {
        "content": "<p>nop ... it does not build locally</p>",
        "id": 191750284,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145468
    },
    {
        "content": "<p>thats the point</p>",
        "id": 191750292,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145472
    },
    {
        "content": "<p>Oh -- OK. I think I misunderstood your question ;-)</p>",
        "id": 191750338,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145489
    },
    {
        "content": "<p>I was just trying to make sure your branches were auto-published (which they are -- as long as they don't have <code>/</code> in their name).</p>",
        "id": 191750399,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145511
    },
    {
        "content": "<p>yep</p>",
        "id": 191750413,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145519
    },
    {
        "content": "<p>Will need Grahame to comment on why the build itself is failing.</p>",
        "id": 191750457,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145523
    },
    {
        "content": "<p>that was also an issue</p>",
        "id": 191750460,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145524
    },
    {
        "content": "<p>so one down, one to go ;)</p>",
        "id": 191750512,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145541
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - your turn ;)</p>",
        "id": 191750592,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145575
    },
    {
        "content": "<p>does  <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\" title=\"https://fhir.github.io/auto-ig-builder/builds.html\">https://fhir.github.io/auto-ig-builder/builds.html</a> only show master branches?</p>",
        "id": 191750718,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145635
    },
    {
        "content": "<p>and the version column might give me a hint that something is wrong as the version is 'null'</p>",
        "id": 191750819,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145672
    },
    {
        "content": "<p>Yes, the summary is master branches only.</p>",
        "id": 191750836,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145681
    },
    {
        "content": "<p>Your master branch doens't currently have content, so I wouldn't try to read too much into how that summary is populated.</p>",
        "id": 191750867,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145702
    },
    {
        "content": "<p>why not a line for each branch for each project?</p>",
        "id": 191750890,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145712
    },
    {
        "content": "<p>Would be a welcome improvement -- originally the whole toolchain only supported master branches.</p>",
        "id": 191750917,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145729
    },
    {
        "content": "<p>just as jenkins ;)</p>",
        "id": 191750922,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145731
    },
    {
        "content": "<p>I've set up some of the infrastructure so now the summary view <em>should</em> have access to all the data it needs to show details for all branches.</p>",
        "id": 191750959,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145755
    },
    {
        "content": "<p>But this hasn't been a priority for me yet; would love help putting this together if you're game!</p>",
        "id": 191751024,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145771
    },
    {
        "content": "<p>It'd be easy to start from scratch on the summary view using any JS framework of your choice. It just fetches static content from the build server and summarizes / displays it in tabluar form.</p>",
        "id": 191751123,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585145825
    },
    {
        "content": "<p>sure - Im just a bit busy atm.</p>",
        "id": 191751515,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585145991
    },
    {
        "content": "<p>with 3 kids at home (thx COVID19) and me and my wife being full time employees does not leave much time to spare</p>",
        "id": 191752058,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585146206
    },
    {
        "content": "<p>Yeah, it's a pretty tough time for \"nice to have\" feature development. Hopefully the lack of branch-builds on the dashboard won't stop you from using branches; you'll still get notifications in <a class=\"stream\" data-stream-id=\"179297\" href=\"/#narrow/stream/179297-committers.2Fnotification\">#committers/notification</a> when branch builds finish, even if they aren't included on the dashboard. You can set up an \"alert word\" in Zulip for the name of your project to make sure you don't miss these.</p>",
        "id": 191758497,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585148608
    },
    {
        "content": "<p>See <a href=\"#settings/alert-words\" title=\"#settings/alert-words\">https://chat.fhir.org/#settings/alert-words</a></p>",
        "id": 191758555,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585148629
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> I'm not sure, reading this thread, whether there's still a problem here or not, and how I would reproduce it</p>",
        "id": 191803061,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585166269
    },
    {
        "content": "<p>There is still a problem</p>",
        "id": 191803191,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585166311
    },
    {
        "content": "<p><a href=\"https://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/version_0.8/failure/build.log\" title=\"https://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/version_0.8/failure/build.log\">https://build.fhir.org/ig/hl7dk/dk-medcom-core-r4/branches/version_0.8/failure/build.log</a></p>",
        "id": 191803557,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585166456
    },
    {
        "content": "<p>Check out the 0.8 branch</p>",
        "id": 191803593,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585166475
    },
    {
        "content": "<p>And run the publisher</p>",
        "id": 191803627,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585166493
    },
    {
        "content": "<p>That reproduces the bug</p>",
        "id": 191803806,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585166571
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 191804491,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585166917
    },
    {
        "content": "<p>the log doesn't say anything about what file has caused the issue</p>",
        "id": 191809849,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585169804
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> the bug is here: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/200f14922221520f13c123397cd4cf4b1b18fc6c/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L4591\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/200f14922221520f13c123397cd4cf4b1b18fc6c/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L4591\">https://github.com/hapifhir/org.hl7.fhir.core/blob/200f14922221520f13c123397cd4cf4b1b18fc6c/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L4591</a> - one of the index accesses are out of bounds</p>",
        "id": 191815656,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585173178
    },
    {
        "content": "<p>one of your types has no code?</p>",
        "id": 191815794,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585173278
    },
    {
        "content": "<p>cant say - if thats what the code says?</p>",
        "id": 191815876,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585173349
    },
    {
        "content": "<p>in this particular project I'm not the author of the profiles ... I just help setting up the pipelines and aid in some general guidelines</p>",
        "id": 191815966,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585173394
    },
    {
        "content": "<p>If I'd known which file that caused the issue, I would have corrected it myself</p>",
        "id": 191816016,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585173433
    },
    {
        "content": "<p>I'll work on it tomorrow</p>",
        "id": 191816031,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585173453
    },
    {
        "content": "<p>but from the log, I sort of have no clue</p>",
        "id": 191816032,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585173453
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> how does the tooling handle that I've changed the URLS of the repo? Because I've just done that for two IG's.</p>",
        "id": 191857201,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585214617
    },
    {
        "content": "<p>and now I don't see any updates on the IG builds anymore</p>",
        "id": 191864737,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585218755
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> nevermind ... I found that removing the webhook and setting it up again solved the problem</p>",
        "id": 191874471,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585224694
    },
    {
        "content": "<p>Glad you figured this out! (Yeah, the initial webhook setup has you embed repo details. This could be improved, but as far as I know this is the first time it has come up.)</p>",
        "id": 191885943,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585230256
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - any news on getting some more debug info on the bug?</p>",
        "id": 191944262,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585254535
    },
    {
        "content": "<p>(the current log is located at <a href=\"https://build.fhir.org/ig/hl7dk/dk-medcom/branches/version_0.8/failure/build.log\" title=\"https://build.fhir.org/ig/hl7dk/dk-medcom/branches/version_0.8/failure/build.log\">https://build.fhir.org/ig/hl7dk/dk-medcom/branches/version_0.8/failure/build.log</a>)</p>",
        "id": 191946490,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585255605
    },
    {
        "content": "<p>Looking at this is scheduled sometime today if I can find time (supporting a go live on a covid-19 related integration)</p>",
        "id": 191947082,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585255892
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <a href=\"https://github.com/HL7/fhir-ig-publisher/pull/66\" title=\"https://github.com/HL7/fhir-ig-publisher/pull/66\">https://github.com/HL7/fhir-ig-publisher/pull/66</a></p>",
        "id": 191958088,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585262387
    },
    {
        "content": "<p>ProfileUtilities has issues on sorting differential it appears</p>",
        "id": 191958161,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585262413
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> IG is now merged to master with a bit more logging. I've checked out org.hl7.fhir.core and reproduced the bug that my PR sort of circumvents in the publisher. Build log can be found at <a href=\"http://build.fhir.org/ig/hl7dk/dk-medcom/failure/build.log\" title=\"http://build.fhir.org/ig/hl7dk/dk-medcom/failure/build.log\">http://build.fhir.org/ig/hl7dk/dk-medcom/failure/build.log</a></p>",
        "id": 192072036,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585339122
    },
    {
        "content": "<p>And the problem is in line <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/200f14922221520f13c123397cd4cf4b1b18fc6c/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L4588\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/200f14922221520f13c123397cd4cf4b1b18fc6c/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L4588\">https://github.com/hapifhir/org.hl7.fhir.core/blob/200f14922221520f13c123397cd4cf4b1b18fc6c/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L4588</a> - and not as previous stated in L4591</p>",
        "id": 192114272,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585387377
    },
    {
        "content": "<p>I didn't get any error there? how to reproduce?</p>",
        "id": 192117874,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585393532
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/hl7dk/dk-medcom/failure/build.log\" title=\"http://build.fhir.org/ig/hl7dk/dk-medcom/failure/build.log\">http://build.fhir.org/ig/hl7dk/dk-medcom/failure/build.log</a></p>",
        "id": 192118146,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585393983
    },
    {
        "content": "<p>git clone <a href=\"https://github.com/hl7dk/dk-medcom\" title=\"https://github.com/hl7dk/dk-medcom\">https://github.com/hl7dk/dk-medcom</a></p>",
        "id": 192118151,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585394005
    },
    {
        "content": "<p>The PR is here: <a href=\"https://github.com/HL7/fhir-ig-publisher/pull/66\" title=\"https://github.com/HL7/fhir-ig-publisher/pull/66\">https://github.com/HL7/fhir-ig-publisher/pull/66</a></p>",
        "id": 192118192,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585394050
    },
    {
        "content": "<p>Before it crashes, I can see through debugging that the error list contains the following message: <code>StructureDefinition profile http://medcom.dk/fhir/StructureDefinition/medcom-hospital-notification-message: Differential contains path Bundle.entry which is not found in the base</code></p>",
        "id": 192118256,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585394163
    },
    {
        "content": "<p>And that is probably correct - so may I suggest that the list of detected errors are dumped to the console before exiting?</p>",
        "id": 192118277,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585394224
    },
    {
        "content": "<p>regarding the line number - I debugged it on the org.hl7.fhir.core on commit <code>5097ab9a8b1ec62e49f01e17e37a41ea536366ba</code> which changed the line numbers a bit. The error is indeed on the statement <code>ElementDefinition ed = cmp.snapshot.get(child.getBaseIndex());</code>as cmp.snapshot.get is empty</p>",
        "id": 192118396,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585394460
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> let me know if you have issues reproducing it.</p>",
        "id": 192118417,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585394491
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 192160064,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585464919
    },
    {
        "content": "<p>sorry, I was having a life</p>",
        "id": 192165045,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585473863
    },
    {
        "content": "<p>so it builds fine for me. Is there a branch that fails?</p>",
        "id": 192189706,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585509605
    },
    {
        "content": "<p>builds fine now - ...</p>",
        "id": 192191083,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585511556
    },
    {
        "content": "<p>but there was an error in the profiles that caused the publisher to not behave all great</p>",
        "id": 192191095,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585511589
    },
    {
        "content": "<p>looking at the PR... I'm not going to approve something that simply suppresses errors</p>",
        "id": 192192394,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585513356
    },
    {
        "content": "<p>you prefer crash and burn in this case?</p>",
        "id": 192308091,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585597648
    },
    {
        "content": "<p>it doesn't crash and burn right now, right? I tink I'd rather crash and burn, yes, than hide problems</p>",
        "id": 192309405,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585598210
    },
    {
        "content": "<p>so currently it actually hides the problem ...</p>",
        "id": 192309454,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585598239
    },
    {
        "content": "<p>I'll change the PR in a moment</p>",
        "id": 192309474,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585598252
    },
    {
        "content": "<p>as the error list is swallowed</p>",
        "id": 192309517,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585598280
    },
    {
        "content": "<p>check the PR now</p>",
        "id": 192311896,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585599472
    },
    {
        "content": "<p>and run it against <a href=\"https://github.com/hl7dk/dk-medcom\" title=\"https://github.com/hl7dk/dk-medcom\">https://github.com/hl7dk/dk-medcom</a> with SHA f2360b6731648b0b1d283040bd028e444296a013</p>",
        "id": 192312272,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585599704
    },
    {
        "content": "<p>that proves the bug - and shows that the PR improves the error message</p>",
        "id": 192313303,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585600251
    }
]