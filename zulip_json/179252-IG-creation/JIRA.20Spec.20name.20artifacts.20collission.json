[
    {
        "content": "<p>When we generate the JIRA spec with publisher, we get a file that does not successfully build in HL7/JIRA-Spec-Artifacts because the validation step fails because of 3 duplicate keys in the generated XML.</p>\n<blockquote>\n<p>Duplicate unique value [C4DIC Extended Contact Type] declared for identity constraint \"artifact-name-unique\" of element \"specification\".<br>\nDuplicate unique value [C4DIC Extended Copay Type] declared for identity constraint \"artifact-name-unique\" of element \"specification\".<br>\nDuplicate unique value [C4DIC Extended Coverage Class] declared for identity constraint \"artifact-name-unique\" of element \"specification\".</p>\n</blockquote>\n<p>Here is a direct link to this error in the build: <a href=\"https://github.com/HL7/JIRA-Spec-Artifacts/runs/4015537366?check_suite_focus=true\">https://github.com/HL7/JIRA-Spec-Artifacts/runs/4015537366?check_suite_focus=true</a></p>\n<p>We fixed this manually by changing the outputted XML (merged in this PR <a href=\"https://github.com/HL7/JIRA-Spec-Artifacts/pull/317\">https://github.com/HL7/JIRA-Spec-Artifacts/pull/317</a>) but obviously it is preferable to get this to work so there is no warning.</p>\n<p>Our IG: <a href=\"https://github.com/HL7/carin-digital-insurance-card\">https://github.com/HL7/carin-digital-insurance-card</a></p>\n<p>This is the unaltered XML that is currently generated, which makes the above error (FHIR-us-carin-dic.xml): <a href=\"https://github.com/jdjkelly/JIRA-Spec-Artifacts/blob/10867518fa30d10851c1fa140ac17c58da1f0385/xml/FHIR-us-carin-dic.xml\">https://github.com/jdjkelly/JIRA-Spec-Artifacts/blob/10867518fa30d10851c1fa140ac17c58da1f0385/xml/FHIR-us-carin-dic.xml</a></p>\n<p>This is the altered XML we submitted (altering the names of the 3 codesets and valuesets have unique names in this case): <a href=\"https://github.com/jdjkelly/JIRA-Spec-Artifacts/blob/669abc283c26534d3ad25397a729984c35106f15/xml/FHIR-us-carin-dic.xml\">https://github.com/jdjkelly/JIRA-Spec-Artifacts/blob/669abc283c26534d3ad25397a729984c35106f15/xml/FHIR-us-carin-dic.xml</a></p>\n<p>Here is the FSH for the profiles that seem to be generating the name collissions: <a href=\"https://github.com/HL7/carin-digital-insurance-card/blob/master/input/fsh/CoverageProfile.fsh\">https://github.com/HL7/carin-digital-insurance-card/blob/master/input/fsh/CoverageProfile.fsh</a></p>\n<p>Thanks for any insight anyone may have! cc <span class=\"user-mention\" data-user-id=\"260046\">@Cille Kissel Watkins</span> <span class=\"user-mention\" data-user-id=\"191529\">@Corey Spears</span></p>",
        "id": 260171050,
        "sender_full_name": "Joshua Kelly",
        "timestamp": 1635961633
    },
    {
        "content": "<p>You can see  a direct diff of the changes we submitted manually to the XML here: <a href=\"https://github.com/HL7/JIRA-Spec-Artifacts/pull/317/commits/669abc283c26534d3ad25397a729984c35106f15\">https://github.com/HL7/JIRA-Spec-Artifacts/pull/317/commits/669abc283c26534d3ad25397a729984c35106f15</a></p>",
        "id": 260171232,
        "sender_full_name": "Joshua Kelly",
        "timestamp": 1635961710
    },
    {
        "content": "<p>your value sets and code systems have the same name.  You need to change the names so that they are unique - add \"value set\" or \"VS\" or something to distinguish the code system from the value set</p>",
        "id": 260171475,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1635961836
    },
    {
        "content": "<p>it's not the profiles but the CodeSystems.fsh and the ValueSets.fsh that have artifacts with the same name.</p>",
        "id": 260171963,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1635962050
    },
    {
        "content": "<p>Jean is correct. This is something that the CARIN BlueButton IG decided to do as well. I am not sure why as it was before my engagement, but it does require manual modification of the generated jira file every time. I would recommend changing the names (Title) in the source fsh file instead.</p>",
        "id": 260193257,
        "sender_full_name": "Corey Spears",
        "timestamp": 1635971373
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> and <span class=\"user-mention\" data-user-id=\"191529\">@Corey Spears</span> , you've unblocked us.</p>\n<p>I've made an appropriate change and we are discussing as a group now (<a href=\"https://github.com/HL7/carin-digital-insurance-card/pull/22\">https://github.com/HL7/carin-digital-insurance-card/pull/22</a>).</p>\n<p>Thanks again!</p>",
        "id": 260194938,
        "sender_full_name": "Joshua Kelly",
        "timestamp": 1635972209
    }
]