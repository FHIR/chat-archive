[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ,  <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>   both <span class=\"user-mention\" data-user-id=\"191913\">@Kevin Power</span>  and I are get this <a href=\"http://build.fhir.org/ig/HL7/US-Core-R4/build.log\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/US-Core-R4/build.log\">build error</a>  using the ig-autobuilder.</p>",
        "id": 154016213,
        "sender_full_name": "Eric Haas",
        "timestamp": 1541609597
    },
    {
        "content": "<p>I don't think its on our end but looks like a package error.   BTW my ig is building fine locally</p>",
        "id": 154016214,
        "sender_full_name": "Eric Haas",
        "timestamp": 1541609643
    },
    {
        "content": "<p>I can concur that the genomics-reporting IG builds fine locally for me as well, even with getting the most recent IG publisher.</p>",
        "id": 154016224,
        "sender_full_name": "Kevin Power",
        "timestamp": 1541609842
    },
    {
        "content": "<blockquote>\n<p>Profile DocumentSectionLibrary (<a href=\"http://hl7.org/fhir/StructureDefinition/example-section-library\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/example-section-library\">http://hl7.org/fhir/StructureDefinition/example-section-library</a>) base <a href=\"http://hl7.org/fhir/StructureDefinition/Composition\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/Composition\">http://hl7.org/fhir/StructureDefinition/Composition</a> could not be resolved</p>\n</blockquote>",
        "id": 154017050,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1541745931
    },
    {
        "content": "<p>I'm not understanding this problem, that's for sure.</p>",
        "id": 154017051,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1541745939
    },
    {
        "content": "<p>oh. interesting... order of loading issue?</p>",
        "id": 154017052,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1541746021
    },
    {
        "content": "<p>maybe unix vs windows?</p>",
        "id": 154017053,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1541746056
    },
    {
        "content": "<p>My local build is on a Mac (that works)</p>",
        "id": 154017114,
        "sender_full_name": "Kevin Power",
        "timestamp": 1541766939
    },
    {
        "content": "<p>ok thx</p>",
        "id": 154017252,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1541795067
    },
    {
        "content": "<p>OSX  too</p>",
        "id": 154017262,
        "sender_full_name": "Eric Haas",
        "timestamp": 1541795347
    },
    {
        "content": "<p>strange why it's only a problem on the auto-builder. I will try and work on it today some time</p>",
        "id": 154017276,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1541795861
    },
    {
        "content": "<p>My money is on a case issue</p>",
        "id": 154017302,
        "sender_full_name": "Eric Haas",
        "timestamp": 1541798070
    },
    {
        "content": "<p>We're seeing the same error on the IPS auto build, and it's working ok locally for both <span class=\"user-mention\" data-user-id=\"191415\">@Giorgio Cangioli</span> and me</p>",
        "id": 154017351,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1541837083
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - Looks like you posted a fix for this?  The build does get further, but now I see this error:</p>\n<blockquote>\n<p>process profile: task-rec-followup                                               (26.0554sec)<br>\nPublishing Content Failed: No snapshot found on <a href=\"http://hl7.org/test/StructureDefinition/example-composition\" target=\"_blank\" title=\"http://hl7.org/test/StructureDefinition/example-composition\">http://hl7.org/test/StructureDefinition/example-composition</a> (27.0950sec)<br>\n                                                                                 (27.0950sec)<br>\nUse -? to get command line help                                                  (27.0950sec)<br>\n                                                                                 (27.0950sec)<br>\nStack Dump (for debugging):                                                      (27.0950sec)<br>\njava.lang.Exception: No snapshot found on <a href=\"http://hl7.org/test/StructureDefinition/example-composition\" target=\"_blank\" title=\"http://hl7.org/test/StructureDefinition/example-composition\">http://hl7.org/test/StructureDefinition/example-composition</a><br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:2590)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:2165)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:586)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:526)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4925)<br>\nException in thread \"main\" java.lang.NullPointerException<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4935)</p>\n</blockquote>",
        "id": 154017683,
        "sender_full_name": "Kevin Power",
        "timestamp": 1542034881
    },
    {
        "content": "<p>I will add that in my local build (which still completes), I started seeing this error for all of the profiles we have in our IG.</p>",
        "id": 154017684,
        "sender_full_name": "Kevin Power",
        "timestamp": 1542035029
    },
    {
        "content": "<p>obs-base    error   obs-base: missing Snapshot at Genetic Observation Common Properties.Genetic Observation Common Properties<br>\nobs-base    error   obs-base: A snapshot is required</p>",
        "id": 154017685,
        "sender_full_name": "Kevin Power",
        "timestamp": 1542035035
    },
    {
        "content": "<p>well, I guess we can say that  my fix has improved things in an entirely negative fashion</p>",
        "id": 154017705,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1542036876
    },
    {
        "content": "<p>yes, I guess we can say that :)</p>",
        "id": 154017707,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1542037035
    },
    {
        "content": "<p>Well, on the positive side, it makes it further in the process? <span class=\"emoji emoji-1f603\" title=\"smiley\">:smiley:</span></p>",
        "id": 154017736,
        "sender_full_name": "Kevin Power",
        "timestamp": 1542039009
    },
    {
        "content": "<p>After latest IG Publisher push, it still see successful build locally, but know see this error in the cloud build:</p>\n<blockquote>\n<p>process profile: specimen                                                        (25.0574sec)<br>\nprocess profile: task-med-chg                                                    (25.0574sec)<br>\nprocess profile: task-rec-followup                                               (25.0574sec)<br>\nPublishing Content Failed: No snapshot found on <a href=\"http://hl7.org/fhir/StructureDefinition/example-section-library\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/example-section-library\">http://hl7.org/fhir/StructureDefinition/example-section-library</a> (26.0725sec)<br>\n                                                                                 (26.0725sec)<br>\nUse -? to get command line help                                                  (26.0725sec)<br>\n                                                                                 (26.0725sec)<br>\nStack Dump (for debugging):                                                      (26.0725sec)<br>\njava.lang.Exception: No snapshot found on <a href=\"http://hl7.org/fhir/StructureDefinition/example-section-library\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/example-section-library\">http://hl7.org/fhir/StructureDefinition/example-section-library</a><br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:2590)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:2165)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:586)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:526)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4925)<br>\nException in thread \"main\" java.lang.NullPointerException<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4935)</p>\n</blockquote>",
        "id": 154017809,
        "sender_full_name": "Kevin Power",
        "timestamp": 1542049878
    },
    {
        "content": "<p>I see the same thing. This is the same error I had last week. Build fine at home.</p>",
        "id": 154017847,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1542062921
    },
    {
        "content": "<p>yes, same</p>",
        "id": 154017868,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1542071745
    },
    {
        "content": "<p>Should be fixed by Lloydâ€™s merge of my last commit</p>",
        "id": 154017870,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1542073584
    },
    {
        "content": "<p>so it's not fixed. I'm a bit mystified. The build can generate the snapshots for these structure definitions that a a problem, and the build can generate IGs from scratch that work.... but the auto-ig-builder can't.... I can't figure it out</p>",
        "id": 154017901,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1542101261
    },
    {
        "content": "<p>Yes, that seems odd.</p>",
        "id": 154017902,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1542101447
    },
    {
        "content": "<p>Success!!  The last change seems to have fixed things. The genomics reporting IG now builds!  Many thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 154017958,
        "sender_full_name": "Kevin Power",
        "timestamp": 1542112132
    },
    {
        "content": "<p>i had the same issue with ig-autobuilder and local build. now both run trough but i get identical error messages in my defined structure definitions or extensions: <a href=\"http://build.fhir.org/ig/hl7ch/ch-core/qa.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7ch/ch-core/qa.html\">A snapshot is required</a> , I see this message also in the other igs build. Is this related or is there are parameter somewhere that you have explicitly turn on snapshot generation during ig build?</p>",
        "id": 154018031,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1542121610
    },
    {
        "content": "<p>It should be fixed now as long as you have the latest version</p>",
        "id": 154018074,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1542130272
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I rechecked today my ig setup. I get the the <a href=\"http://build.fhir.org/ig/hl7ch/ch-core/qa.html#_scratch_ig-build-temp-Z7K99N_repo_resources_structuredefinition_ch-core-humanname\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7ch/ch-core/qa.html#_scratch_ig-build-temp-Z7K99N_repo_resources_structuredefinition_ch-core-humanname\">error: A snapshot is required</a> with the current igpublisher and if I use igpublisher built on my machine. What I noticed is that in the igpublisher code org/hl7/fhir/igtools/publisher/Publisher.java generateSnapshots() is called after checkConformanceResources() where the error is generated. I was the assumption that I have not to provide the snapshot for the profile, but that the igpublisher generates the snaphshot during ig build (minimizing possible mistakes). If I switch the functions the error disappears. Should I submit a gforge ticket?</p>",
        "id": 154020715,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1543154367
    },
    {
        "content": "<p>yes you should submit a ticket. I deferred generation of the snapshot to deal with load order issues, but it still should be generated</p>",
        "id": 154021876,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1543527933
    }
]