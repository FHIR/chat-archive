[
    {
        "content": "<p>I have an Observation profile where I need to constrain the set of allowed coded values (valueCodeableConcept) based on the code. One set of <a href=\"http://Observation.codes\">Observation.codes</a> would have one set of possible values and another set of codes would have a different set of possible values. <br>\nI can think of a couple of possible ways to address this:</p>\n<ul>\n<li>Different profiles</li>\n<li>Invariants</li>\n</ul>\n<p>Besides the fact that a set of <a href=\"http://Observation.codes\">Observation.codes</a> have the same set of types of values, there is not really anything about them that would logically group them, which is why I don't like the profile option (Not to mention a possible undesirable increase in the number of profiles). Any other better ways to handle this than variants that provide rules on a bunch of codes?</p>",
        "id": 263611973,
        "sender_full_name": "Corey Spears",
        "timestamp": 1638552788
    },
    {
        "content": "<p>We've talked about incorporating ObservationDefinition into validator capabilities.  However, that's probably a lot heavier than just using invariants.  The invariants would be pretty simple if you have valuesets for both the .code and the .valueCodeableConcept.</p>",
        "id": 263616101,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638554671
    },
    {
        "content": "<p>I don't know.  It seems that ObservationDefinition would likely be more visible and easily accessible and understandable.</p>",
        "id": 263812076,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1638770969
    }
]