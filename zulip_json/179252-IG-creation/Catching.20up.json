[
    {
        "content": "<p>I'm home this week, trying to catch up on IG  publisher issues. I've fallen a long way behind after nearly 4 weeks on the road.. can people let me know what a blocking issues for HL7 publications coming up - thanks</p>",
        "id": 159865903,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551648877
    },
    {
        "content": "<p>Here are mine for Argo Questionnaire:</p>\n<p><a href=\"#narrow/stream/179252-IG-creation/topic/bad.20link.20to.20profile.20page.20anchor/near/159473948\" title=\"#narrow/stream/179252-IG-creation/topic/bad.20link.20to.20profile.20page.20anchor/near/159473948\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/bad.20link.20to.20profile.20page.20anchor/near/159473948</a></p>\n<p>(Not  a priority - Creating a task): <a href=\"#narrow/stream/179252-IG-creation/topic/no.20trailing.20'.2F'.20for.20.7B.7Bsite.2Edata.2Efhir.2E.5Bdependency.5D.7D.7D/near/159454308\" title=\"#narrow/stream/179252-IG-creation/topic/no.20trailing.20'.2F'.20for.20.7B.7Bsite.2Edata.2Efhir.2E.5Bdependency.5D.7D.7D/near/159454308\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/no.20trailing.20'.2F'.20for.20.7B.7Bsite.2Edata.2Efhir.2E.5Bdependency.5D.7D.7D/near/159454308</a></p>\n<p><a href=\"#narrow/stream/179252-IG-creation/topic/qa.20errors.20for.20Q.20and.20QR.20examples/near/158641687\" title=\"#narrow/stream/179252-IG-creation/topic/qa.20errors.20for.20Q.20and.20QR.20examples/near/158641687\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/qa.20errors.20for.20Q.20and.20QR.20examples/near/158641687</a></p>\n<p><a href=\"#narrow/stream/179252-IG-creation/topic/more.20qa.20errors.20for.20contained.20patients/near/158662002\" title=\"#narrow/stream/179252-IG-creation/topic/more.20qa.20errors.20for.20contained.20patients/near/158662002\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/more.20qa.20errors.20for.20contained.20patients/near/158662002</a></p>\n<p><a href=\"#narrow/stream/179252-IG-creation/topic/another.20qa.20error.20for.20QR/near/158642559\" title=\"#narrow/stream/179252-IG-creation/topic/another.20qa.20error.20for.20QR/near/158642559\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/another.20qa.20error.20for.20QR/near/158642559</a></p>",
        "id": 159870967,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551657721
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I am closing <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18331\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18331\">GF#18331</a> - it doesn't have enough information for me to know what to do with it. You can bring it back to life if you can provide more information</p>",
        "id": 159873724,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551662109
    },
    {
        "content": "<p>I can't figure out whether <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17684\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17684\">GF#17684</a> is a problem still or not. (actually, whether it was really a problem)</p>",
        "id": 159874141,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551662922
    },
    {
        "content": "<p>and I think that <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17282\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17282\">GF#17282</a> is not a problem</p>",
        "id": 159874206,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551663018
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191682\">@Richard Townley-O'Neill</span> - which IG is <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14091\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14091\">GF#14091</a> about?</p>",
        "id": 159874604,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551663776
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>  has done a deep dive into <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18331\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18331\">GF#18331</a> and may be able to  shed more light onto it.<br>\n  i am reluctant to recreate the issue until am sure i know how to recover</p>",
        "id": 159874748,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551664010
    },
    {
        "content": "<p>I agree that <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17684\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17684\">GF#17684</a> may not be a separate problem from <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18331\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18331\">GF#18331</a>.  So I would close it and can revisit if crops up after figure out the other issues.</p>",
        "id": 159874833,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551664180
    },
    {
        "content": "<p>well, please close it. You can withdraw it but I get in trouble from the Lloyd police if I do</p>",
        "id": 159874889,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551664226
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17684\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17684\">GF#17684</a>  wtihdrawn.   I don't think <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17282\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17282\">GF#17282</a> is an issue either although I'm not totally clear what Rob is asking.</p>",
        "id": 159874986,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551664397
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14091\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=14091\">GF#14091</a> was from a local IG that we used for learning, until we abandoned it last year.<br>\nThe problem seems to have gone in the last year. <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> <br>\nNothing to do but close the issue.</p>",
        "id": 159884370,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1551671254
    },
    {
        "content": "<p>ok thx</p>",
        "id": 159884563,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551671610
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> do you have a test case for <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20017\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20017\">GF#20017</a> ?</p>",
        "id": 159888957,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551678483
    },
    {
        "content": "<p>US Core  Procedure</p>\n<p><a href=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-procedure.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-procedure.html\">http://hl7.org/fhir/us/core/StructureDefinition-us-core-procedure.html</a></p>",
        "id": 159889471,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551679439
    },
    {
        "content": "<p>also  same for US Core R4</p>",
        "id": 159889515,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551679458
    },
    {
        "content": "<p>Procedure.code</p>",
        "id": 159889522,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551679480
    },
    {
        "content": "<p>almost forgot the most pressing issue is lack of narrative pages for examples in r4 igs.</p>\n<p>1. the  files referenced by <code>{% include {{[type]}}-{{[name]}}.xhtml %}</code> are all empty so the narrative is not showing up (for example <a href=\"http://build.fhir.org/ig/HL7/VhDir/Practitioner-practitioner1.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/VhDir/Practitioner-practitioner1.html\">here</a>.)  The text is present in the resources though as can be seen <a href=\"http://build.fhir.org/ig/HL7/VhDir/Practitioner-practitioner1.xml.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/VhDir/Practitioner-practitioner1.xml.html\">here</a>.</p>",
        "id": 159890491,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551681092
    },
    {
        "content": "<p>working on that now</p>",
        "id": 159890634,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551681342
    },
    {
        "content": "<p>I don't understand this:</p>\n<blockquote>\n<p>The codes SHALL be taken from US Core Procedure Codes; other codes may be used where these codes are not suitable<br>\nMax Binding: US Core Procedure Codes</p>\n</blockquote>",
        "id": 159891275,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551682391
    },
    {
        "content": "<p>Max Binding means nothing if you have a required binding</p>",
        "id": 159891278,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551682401
    },
    {
        "content": "<p>max and min bindings will render now.</p>",
        "id": 159891287,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551682440
    },
    {
        "content": "<blockquote>\n<p>the files referenced by {% include {{[type]}}-{{[name]}}.xhtml %} are all empty</p>\n</blockquote>\n<p>Now that I'm actually at it, how do you reproduce this?</p>",
        "id": 159891712,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551683094
    },
    {
        "content": "<p>I'm not finding empty files anywhere.</p>",
        "id": 159891729,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551683123
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> next release of IG publisher will include the capability to specify a liquid template</p>\n<ul>\n<li>add path \"liquid\" (in the \"paths\" object)  which points to a folder  (in ig.json)</li>\n<li>contains [x].liquid where x is a resource type (case insensitive) </li>\n<li>any narrative generated for a resource of the type will use the liquid template </li>\n</ul>\n<p>I'll document it once it settles down</p>",
        "id": 159905255,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551698849
    },
    {
        "content": "<p>What It means is you can have text only for essentially a required binding.   The min max binding is pretty obscure stuff by the way, (especially since is an extension off of elementdefinition) I don't think more than a 1/2 dozen people could explain it and that is a problem.   Discussd with <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span>  and i think should get more exposure on the terminology page.</p>",
        "id": 159917559,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551709749
    },
    {
        "content": "<p>great on liquid   i'll check it out.</p>",
        "id": 159917830,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551709966
    },
    {
        "content": "<blockquote>\n<p>What It means is you can have text only for essentially a required binding</p>\n</blockquote>\n<p>I didn't follow this. You're saying that you were trying to make this allowed? or disallowed?</p>",
        "id": 159942076,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551727517
    },
    {
        "content": "<p>What I believe that Eric is saying (as I recall our discussion) is that with a required binding on a CodeableConcept element you must have at least one Coding - using CodeableConcept.text alone in the data type instance isn't allowed.  But by using min and max value sets you can essentially get the behavior of a required binding in regard to the codes while still allowing CodeableConcept.text alone as a valid instance of the data type.  I can see why you might want to do that (whether it's absolutely necessary or desirable to have it or not, I'm not entirely sure) - but if we think we need to support this it would certainly be good to figure out a more straightforward way to be able to specify it.</p>",
        "id": 159952183,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1551734716
    },
    {
        "content": "<p>but what I was drawing attention to was a required binding with a max value set... which doesn't make sense as a combination</p>",
        "id": 159952357,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551734829
    },
    {
        "content": "<p>Yes, I can't see how that makes sense.</p>",
        "id": 159952456,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1551734892
    },
    {
        "content": "<p>ok Liquid stuff is released</p>",
        "id": 159954921,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551736782
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I haven't reproduced <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19744\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19744\">GF#19744</a> ?</p>",
        "id": 159956098,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551737606
    },
    {
        "content": "<p>Ok I'll take another look at my igs.</p>",
        "id": 159957917,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551739123
    },
    {
        "content": "<p>Ok I'll take another look at my end</p>",
        "id": 159957981,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551739193
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20369\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20369\">GF#20369</a> can be closed now?</p>",
        "id": 159960471,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551741178
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191682\">@Richard Townley-O'Neill</span> can you check <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20333\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20333\">GF#20333</a> with the latest iG publisher, thanks</p>",
        "id": 159960520,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551741237
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19297\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19297\">GF#19297</a> - the implementation guide ig should be the NPM package name + version, and the publisher should impose this, yes? <span class=\"user-mention\" data-user-id=\"191407\">@Rick Geimer</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span></p>",
        "id": 159960627,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551741334
    },
    {
        "content": "<p>Yes - <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20369\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20369\">GF#20369</a> can be closed.</p>",
        "id": 159961089,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1551741739
    },
    {
        "content": "<p>re  @Eric Haas I haven't reproduced <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19744\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19744\">GF#19744</a> ?</p>\n<p>Can you take a look at US Core R4.  <a href=\"https://build.fhir.org/ig/HL7/US-Core-R4/all-examples.html\" target=\"_blank\" title=\"https://build.fhir.org/ig/HL7/US-Core-R4/all-examples.html\">https://build.fhir.org/ig/HL7/US-Core-R4/all-examples.html</a></p>\n<p>Most of these example don't have narratives pages but Bundles do and its not coming from the source file.</p>\n<p>if you look at the xml and json you see the narratives in there but the hmtl file is empty.  I  can not figure out why.  In ig json,  I configured  ex.html template just for example files.    I am not sure where to look?</p>",
        "id": 159961112,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551741772
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19297\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19297\">GF#19297</a> - yes fine by me</p>",
        "id": 159961264,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551741955
    },
    {
        "content": "<p>I sampled about half the resources in all-examples, and didn't find any without narrative pages ?</p>",
        "id": 159965229,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551745733
    },
    {
        "content": "<p>oh interesting. it builds diferently in the ci server than for me</p>",
        "id": 159965386,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551745863
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> is there any way I can see the contents of the temp folder on the build process server?</p>",
        "id": 159965493,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551745957
    },
    {
        "content": "<p>19297 - that makes for sort of an ugly id, but ok I guess.  How do we separate the packagename and version?</p>",
        "id": 159965808,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1551746282
    },
    {
        "content": "<p>Also, I'm not sure we should impose that on non-HL7 IGs.</p>",
        "id": 159965855,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1551746315
    },
    {
        "content": "<p>dash. I guess. doesn't really matter. other choice is dot</p>",
        "id": 159965856,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551746315
    },
    {
        "content": "<p>We're using dots within NPM and version, so I guess dash is best</p>",
        "id": 159965873,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1551746343
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> - got any example for <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18112\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18112\">GF#18112</a>? I can't reproduce the problem?</p>",
        "id": 159966929,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551747483
    },
    {
        "content": "<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> is there any way I can see the contents of the temp folder on the build process server?</p>\n</blockquote>\n<p>Does this refer to the systemwide temp directory, or something java manages?</p>",
        "id": 159968008,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551748696
    },
    {
        "content": "<p>I can give you access to ssh into the build server if it helps!</p>",
        "id": 159968020,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551748722
    },
    {
        "content": "<p>yes I think I need that this time. but does the build process clear out the build once it's finished?</p>",
        "id": 159968035,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551748757
    },
    {
        "content": "<p>Oh wait, for IG builds: this all occurs in docker.</p>",
        "id": 159968049,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551748785
    },
    {
        "content": "<p>You should be able to reproduce the whole thing locally</p>",
        "id": 159968056,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551748796
    },
    {
        "content": "<p>oh? how?</p>",
        "id": 159968100,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551748805
    },
    {
        "content": "<p><a href=\"https://github.com/hl7-fhir/auto-ig-builder/tree/master/images/ig-build\" target=\"_blank\" title=\"https://github.com/hl7-fhir/auto-ig-builder/tree/master/images/ig-build\">https://github.com/hl7-fhir/auto-ig-builder/tree/master/images/ig-build</a> has a Dockerfile that's the same configuration we use in our cluster</p>",
        "id": 159968124,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551748881
    },
    {
        "content": "<p>Let's see...</p>",
        "id": 159968125,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551748884
    },
    {
        "content": "<p>Do you have docker working locally?</p>",
        "id": 159968195,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551748948
    },
    {
        "content": "<p>I did once.</p>",
        "id": 159968493,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551749389
    },
    {
        "content": "<p>I'll have a go shortly</p>",
        "id": 159968495,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551749399
    },
    {
        "content": "<p>re: <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18112\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18112\">GF#18112</a></p>\n<p><a href=\"https://healthedata1.github.io/IG-Template2/#variables\" target=\"_blank\" title=\"https://healthedata1.github.io/IG-Template2/#variables\">https://healthedata1.github.io/IG-Template2/#variables</a></p>\n<p><code>{{site.data.fhir.path}}</code>  is OK because now has the '/' appended  to it.  </p>\n<p><code>{{site.data.fhir.uscore}</code>  is  <a href=\"http://hl7.org/fhir/us/core-r4\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core-r4\">http://hl7.org/fhir/us/core-r4</a>  but  the home page is  <a href=\"https://build.fhir.org/ig/HL7/US-Core-R4/index.html\" target=\"_blank\" title=\"https://build.fhir.org/ig/HL7/US-Core-R4/index.html\">https://build.fhir.org/ig/HL7/US-Core-R4/index.html</a>  missing package list?</p>\n<p><code>{{site.data.fhir.canonical}}</code>  I'm not sure why I wanted this anymore so can ignore that.</p>",
        "id": 159968735,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551749648
    },
    {
        "content": "<p>Okay. Building that with <code>docker build -t igdebug .</code> and then running with <code>docker run -e IG_ORG=mygithuborg -e IG_REPO=mygithubrepo igdebug</code></p>",
        "id": 159968780,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551749727
    },
    {
        "content": "<p>... should build locally just as we do in the cluster</p>",
        "id": 159968830,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551749764
    },
    {
        "content": "<p>(igdebug is an arbitrary name that you can change based on what you want to type/remember; and the GitHub variables should be whatever repo you want to build)</p>",
        "id": 159968860,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551749839
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191682\">@Richard Townley-O'Neill</span> have you get an example for <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17401\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17401\">GF#17401</a>?</p>",
        "id": 159973829,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551757328
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> now that I have docker running (battle with windows about the system path), when I run the build command I get:</p>",
        "id": 159974706,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551758678
    },
    {
        "content": "<p>The command '/bin/sh -c gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB &amp;&amp;     curl -L <a href=\"http://get.rvm.io\" target=\"_blank\" title=\"http://get.rvm.io\">get.rvm.io</a> | bash -s stable  &amp;&amp;     rvm install 2.5.1 &amp;&amp;     gem install jekyll jekyll-asciidoc' returned a non-zero code: 2</p>",
        "id": 159974725,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551758714
    },
    {
        "content": "<p>The dollar sign was representing the prompt -- skip that character.</p>",
        "id": 159974902,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551758983
    },
    {
        "content": "<p>I don't know if this is relevant - immediately before hand:</p>",
        "id": 159975045,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551759215
    },
    {
        "content": "<p>gpgkeys: key 409B6B1796C275462A1703113804BB82D39DC0E3 can't be retrieved<br>\ngpg: no valid OpenPGP data found.<br>\ngpg: Total number processed: 0<br>\ngpgkeys: key 7D2BAF1CF37B13E2069D6956105BD0E739499BDB can't be retrieved</p>",
        "id": 159975046,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551759215
    },
    {
        "content": "<p>Yeah, I see the same -- testing a fix.</p>",
        "id": 159975109,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551759309
    },
    {
        "content": "<p>(need to point to a new server to fetch that public key for the rvm install)</p>",
        "id": 159975171,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551759380
    },
    {
        "content": "<p>Okay, you can <code>git pull</code> and run the build command again -- should work now. I'll share some better commands for debugging your ig publisher run too, once it builds.</p>",
        "id": 159975577,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551759967
    },
    {
        "content": "<p>Hmm, I see the way we're cleaning up is going to make it harder for you to poke around at the temp files after the process fails.</p>",
        "id": 159975652,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551760120
    },
    {
        "content": "<p>for the moment, before building can you comment out <code>images/ig-build/builder/builder.py#L81</code> (i.e., the line that says<code>shutil.rmtree(temp_dir)</code>) ?</p>",
        "id": 159975668,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551760154
    },
    {
        "content": "<p>Then you can enter into a shell via</p>\n<p><code>docker run --rm -it  --entrypoint bash igdebug</code></p>",
        "id": 159975673,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551760182
    },
    {
        "content": "<p>and from there you can do a build like </p>\n<p><code>IG_ORG=test-igs IG_REPO=simple python -m builder.builder</code></p>",
        "id": 159975731,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551760221
    },
    {
        "content": "<p>Then you can explore the temporary files at <code>/scratch</code> (e.g. <code>find /scratch</code> within the running container, after the publish fails).</p>",
        "id": 159975833,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551760393
    },
    {
        "content": "<p>(Note: when the builder runs, you should expect to see the python process fail with a message about not being able to get zulip credentials; that's fine, since we don't want this exploration to result in automated zulip messages anyway.)</p>",
        "id": 159975921,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551760508
    },
    {
        "content": "<p>(Also: a nice feature for me to add would be a debugging flag/mode to this image's builder script, to disable cleanup, zulip messages, and the push to <a href=\"http://build.fhir.org\" target=\"_blank\" title=\"http://build.fhir.org\">build.fhir.org</a>. This is the first time we've needed to do this kind of debugging, and it brings a lot of clarity ;-))</p>",
        "id": 159976085,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551760764
    },
    {
        "content": "<p>bash: $: command not found</p>",
        "id": 159976153,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551760861
    },
    {
        "content": "<p>running $ IG_ORG=test-igs IG_REPO=simple python -m builder.builder</p>",
        "id": 159976163,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551760867
    },
    {
        "content": "<p>Skip the dollar sign (just me representing the prompt)</p>",
        "id": 159976308,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551761104
    },
    {
        "content": "<p>ok thx</p>",
        "id": 159976360,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551761165
    },
    {
        "content": "<p>scratch is empty</p>",
        "id": 159977490,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551762777
    },
    {
        "content": "<p>Re: <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17401\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=17401\">GF#17401</a><br>\nHow about <a href=\"http://hl7.org/fhir/STU3/document-example-dischargesummary.html\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/document-example-dischargesummary.html\">http://hl7.org/fhir/STU3/document-example-dischargesummary.html</a></p>",
        "id": 159977793,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1551763181
    },
    {
        "content": "<p>or <a href=\"http://hl7.org/fhir/R4/document-example-dischargesummary.html\" target=\"_blank\" title=\"http://hl7.org/fhir/R4/document-example-dischargesummary.html\">http://hl7.org/fhir/R4/document-example-dischargesummary.html</a></p>",
        "id": 159977848,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1551763218
    },
    {
        "content": "<p>Previously posted in the wrong conversation.<br>\n<a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20333\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20333\">GF#20333</a> can be closed.</p>",
        "id": 159977949,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1551763401
    },
    {
        "content": "<p>Did the build process generate any output to the terminal? And can you confirm that you commented out the cleanup step before doin docker build?</p>",
        "id": 159977953,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551763415
    },
    {
        "content": "<p>I commented out the clean up. with #, yes?</p>",
        "id": 159978107,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551763634
    },
    {
        "content": "<p>it prodused expected output including 2 error messages for upload and zulip</p>",
        "id": 159978116,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551763656
    },
    {
        "content": "<p>Commented out cleanup with <code>#</code> and then ran <code>docker build -t igdebug .</code> <em>after that</em>, yes? And still seeing empty scratch? What repo and org did you pass? Maybe show me the full command you entered?</p>",
        "id": 160010616,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551798634
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>True 0\nBuild succeeded\nCopying logfile\npublishing\nPublish HL7/US-Core-R4 to CI build from /scratch/ig-build-temp-82NOJE/repo/output\nssh: Could not resolve hostname ci-build-service.fhir.svc.cluster.local: Name or service not known\ntar: -: Wrote only 4096 of 10240 bytes\ntar: Error is not recoverable: exiting now\npublished\nroot@7cdea77535ef:/app# cd /scratch\nroot@7cdea77535ef:/scratch# ls\nig-build-temp-82NOJE\nroot@7cdea77535ef:/scratch#\n</pre></div>",
        "id": 160025009,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551809120
    },
    {
        "content": "<p>OK -- looks like there's a directory there in scratch (<code>/scratch/ig-build-temp-82NOJE</code>). What does it contain?</p>",
        "id": 160026751,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1551810405
    },
    {
        "content": "<p><code>build.log  publisher.jar  repo</code></p>",
        "id": 160026805,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551810450
    },
    {
        "content": "<p>and repo has everything I need - thanks</p>",
        "id": 160028409,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551811360
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I can't reproduce the problem anywhere</p>",
        "id": 160031450,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551813330
    },
    {
        "content": "<p>which one?</p>",
        "id": 160035355,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551816230
    },
    {
        "content": "<p>missing narrative</p>",
        "id": 160035762,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551816487
    },
    {
        "content": "<p>did you run US Core R4?  if so can I see it?</p>",
        "id": 160036996,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551817507
    },
    {
        "content": "<p>sure check current build</p>",
        "id": 160037084,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551817572
    },
    {
        "content": "<p>??? is a mystery then....I'll try on a different platform</p>",
        "id": 160038216,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551818577
    },
    {
        "content": "<p>thanks for looking at it</p>",
        "id": 160038328,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551818651
    },
    {
        "content": "<p>oh it was real, but whatever it was seems to have gone away</p>",
        "id": 160039075,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551819225
    },
    {
        "content": "<p><span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 160039847,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551819799
    },
    {
        "content": "<p>btw Argo-Questionnaire and Clinical Notes on the docket very soon.</p>",
        "id": 160039965,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551819868
    },
    {
        "content": "<p>My turn to add (second write of this ... I hate Zulip sometimes - click wrong and you lose it)<br>\nI get this warning slicing on a binding<br>\nThis element does not match any known slice for the profile <a href=\"http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice\" target=\"_blank\" title=\"http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice\">http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice</a><br>\nStructure def is fine</p>\n<p>I also get this error (very old) slicing on an effective[x]:<br>\nProfile <a href=\"http://hl7.org/fhir/uv/phd/StructureDefinition/PhdCoincidentTimeStampObservation\" target=\"_blank\" title=\"http://hl7.org/fhir/uv/phd/StructureDefinition/PhdCoincidentTimeStampObservation\">http://hl7.org/fhir/uv/phd/StructureDefinition/PhdCoincidentTimeStampObservation</a>, Element matches more than one slice - , wallClockTime</p>",
        "id": 160094251,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1551878450
    },
    {
        "content": "<p>Any chance that some of the build info, eg:</p>\n<div class=\"codehilite\"><pre><span></span>#Created by build system. Do not modify\n#Mon Mar 04 15:33:25 AEDT 2019\norgfhir.buildnumber=88c145a00cf9f2d265fb0817ba302260bd0b6f0f\nname=org.hl7.fhir.utilities\norgfhir.timestamp=2019-03-04T15\\:33\\:25.178+11\\:00\norgfhir.version=3.7.9-SNAPSHOT\n</pre></div>\n\n\n<p>could end up in the manifest - or could the igpub be published to maven so that there's a chance to figure out the version?</p>",
        "id": 160095105,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551879145
    },
    {
        "content": "<p>what manifest?</p>",
        "id": 160125278,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551899666
    },
    {
        "content": "<p>The manifest in the jar</p>",
        "id": 160138184,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551909226
    },
    {
        "content": "<p><a href=\"https://en.m.wikipedia.org/wiki/JAR_(file_format)#manifest\" target=\"_blank\" title=\"https://en.m.wikipedia.org/wiki/JAR_(file_format)#manifest\">https://en.m.wikipedia.org/wiki/JAR_(file_format)#manifest</a></p>",
        "id": 160138440,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551909373
    },
    {
        "content": "<p>I'm planning to move the igpublisher through maven but after ballot opens, so there's no pressure on the publication system</p>",
        "id": 160151713,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551915340
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  Any idea on how to solve these issues?<br>\nslice on value set binding:<br>\nThis element does not match any known slice for the profile <a href=\"http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice\" target=\"_blank\" title=\"http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice\">http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice</a><br>\n slice on effective[x]:<br>\nProfile <a href=\"http://hl7.org/fhir/uv/phd/StructureDefinition/PhdCoincidentTimeStampObservation\" target=\"_blank\" title=\"http://hl7.org/fhir/uv/phd/StructureDefinition/PhdCoincidentTimeStampObservation\">http://hl7.org/fhir/uv/phd/StructureDefinition/PhdCoincidentTimeStampObservation</a>, Element matches more than one slice - , wallClockTime</p>",
        "id": 160338664,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1552090209
    }
]