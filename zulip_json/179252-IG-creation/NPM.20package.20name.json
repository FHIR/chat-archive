[
    {
        "content": "<p>Is there any guidance on naming FHIR NPM packages for non-HL7 implementation guides?<br>\nThe best I have found is <a href=\"http://wiki.hl7.org/index.php?title=FHIR_NPM_Package_Spec#Package_name\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=FHIR_NPM_Package_Spec#Package_name\">http://wiki.hl7.org/index.php?title=FHIR_NPM_Package_Spec#Package_name</a><br>\nOur namespace for URIs is \"<a href=\"http://ns.electronichealth.net.au\" target=\"_blank\" title=\"http://ns.electronichealth.net.au\">ns.electronichealth.net.au</a>\" which when used in to name a FHIR R4 package for event summaries gives something like \"ns.electronichealth.net.au.ci.fhir.4.0.eventsummary\".<br>\nIs that good practice? If not, what would be good practice?</p>",
        "id": 171048866,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1563339126
    },
    {
        "content": "<p>no. that would be wrong. I would recommend</p>",
        "id": 171075061,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1563368104
    },
    {
        "content": "<p><a href=\"http://au.electronichealth.xxx\" target=\"_blank\" title=\"http://au.electronichealth.xxx\">au.electronichealth.xxx</a> where xxx is the package name e.g. au.electronichealth.eventsummary</p>",
        "id": 171075118,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1563368156
    },
    {
        "content": "<p>or even be shorter: au.adha.eventsummary</p>",
        "id": 171075180,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1563368173
    },
    {
        "content": "<p>Are there any guidelines for package naming?</p>",
        "id": 264420016,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1639127861
    },
    {
        "content": "<p>If an affiliate wants to create national packages, some issued by the federal government, should there be any structure?</p>",
        "id": 264420197,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1639127965
    },
    {
        "content": "<p>if org is the organization, should the package be<br>\nfhir.be.org.package? <br>\nhl7.fhir.be.org.package? <br>\nbe.fhir.org.package? <br>\nbe.org.fhir.package?<br>\n...</p>",
        "id": 264420415,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1639128107
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"395755\">@Jean-Michel Polfliet</span> <span class=\"user-mention\" data-user-id=\"441371\">@Bart Decuypere</span></p>",
        "id": 264420497,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1639128134
    },
    {
        "content": "<p>we followed the pattern that we do the inverse of the domain and then add the canonical: e.g.ig is ch-core and cannoncial is <a href=\"http://fhir.ch/ig/ch-core/\">http://fhir.ch/ig/ch-core/</a> we call the package ch.fhir.ig.ch-core</p>",
        "id": 264424477,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1639130284
    },
    {
        "content": "<p>My thought was to leave anything starting with fhir or hl7 to HL7 and affiliates. I don't know what the value of fhir in the middle of the name is; is there a chance that's it's not a fhir package? Then, like <span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> , follow approximate reverse domain name for country and organization, and the last part or two is project and package: <a href=\"http://ca.infoway.vc.ps\">ca.infoway.vc.ps</a>.</p>",
        "id": 264425002,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1639130554
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179252-IG-creation/topic/NPM.20package.20name/near/264420016\">said</a>:</p>\n<blockquote>\n<p>Are there any guidelines for package naming?</p>\n</blockquote>\n<p><a href=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagename\">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagename</a></p>",
        "id": 264425265,
        "sender_full_name": "Michaela Ziegler",
        "timestamp": 1639130724
    },
    {
        "content": "<p>Those guidelines are slightly confusing. \"The first part...the second part...\" and then an example of a 4 part name.</p>",
        "id": 264425928,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1639131106
    },
    {
        "content": "<p>hl7 will publish non-FHIR packages</p>",
        "id": 264426720,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639131592
    },
    {
        "content": "<p><a href=\"http://hl7.cda.xxx\">hl7.cda.xxx</a></p>",
        "id": 264426732,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639131598
    },
    {
        "content": "<p>for instance</p>",
        "id": 264426734,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639131600
    },
    {
        "content": "<p>so the pattern for HL7 is hl7.{product}.{name} or hl7.{realm}.{product}.{name}</p>",
        "id": 264426848,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639131640
    },
    {
        "content": "<p>if the product is published by HL7 affiliates, I prefer that the package name follow that pattern: hl7.{realm}.{product}.{name} but I recognise that some affiliates are publishing with other names, as Oliver above. And Oliver is right about the general pattern - it's safe to be guided by the domain name (in reverse)</p>",
        "id": 264426953,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639131718
    },
    {
        "content": "<p>ok, some anatomy:</p>\n<p>ch. &lt;-- ok, top level is country<br>\nfhir. &lt;--  ok<br>\nig. &lt;-- would there be anything else besides an ig if it's FHIR ? perhaps, but what?<br>\nch-core &lt;-- IG's id</p>",
        "id": 264429137,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1639133041
    },
    {
        "content": "<p>For discussion, how would this be?</p>\n<p><strong>ch</strong>. &lt;-- ok, top level is country<br>\n<strong>fhir.</strong> &lt;-- ok<br>\n<strong>hl7</strong> &lt;-- who is publishing this - can be hl7, or fgov, or...<br>\n<strong>ig.</strong> &lt;-- would there be anything else besides an ig if it's FHIR ? perhaps, but what?<br>\n<strong>ch-core</strong> &lt;-- IG's id</p>",
        "id": 264429310,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1639133141
    },
    {
        "content": "<p>I don't think it matters whether it's an IG or not. I use <code>core</code> for the {name} but no one else is going to be publishing core. And things other than IGs... I just use the name, it's not important at that level whether it's an IG, as long as I can ensure names don't clash (I can in the hl7 space)</p>",
        "id": 264429473,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639133221
    },
    {
        "content": "<p>I think it makes sense for authority to come before the product. So <code>ch.hl7.fhir.ch-core</code>.  (though of course <code>hl7.ch.fhir.ch-core</code> I like even more)</p>",
        "id": 264429633,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639133315
    },
    {
        "content": "<p>but the key point is, whoever comes first sets the rules for what follows.</p>",
        "id": 264429651,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639133331
    },
    {
        "content": "<p>so fhir is not the type of content but the publishing org?</p>",
        "id": 264430095,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1639133609
    },
    {
        "content": "<p>it's the focus of package.</p>",
        "id": 264430219,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639133700
    },
    {
        "content": "<p>e.g. the HL7 cda packages will actually contain FHIR resources, but the point of the package is to support cda use and implementation</p>",
        "id": 264430259,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639133722
    },
    {
        "content": "<p>logical models and profiles etc for CDA (or CCDA, etc)</p>",
        "id": 264430295,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639133742
    },
    {
        "content": "<p>sorry for making confusion with fhir in the name, we as a hl7 swiss affiliate reservered <a href=\"http://fhir.ch\">fhir.ch</a>  and put all our implementation guides there, thats why we also included it in the package name :-)</p>",
        "id": 264432116,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1639134765
    },
    {
        "content": "<p>no confusion, and you're allowed to do that</p>",
        "id": 264432270,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639134899
    },
    {
        "content": "<p>IHE has not yet touched on realm. But we are following the general with ihe.{domain}.{product}<br>\nA few historic misteps that will live forever.<br>\nI would expect to append the realm. but have not thought deeply</p>",
        "id": 264439373,
        "sender_full_name": "John Moehrke",
        "timestamp": 1639139157
    },
    {
        "content": "<p>personal projects.. I have been similarly following this pattern, mostly by accident starting with johnmoehrke.{product}</p>",
        "id": 264439527,
        "sender_full_name": "John Moehrke",
        "timestamp": 1639139235
    },
    {
        "content": "<p>so, I might have learned that the package name should be all lowercase?</p>",
        "id": 264711721,
        "sender_full_name": "John Moehrke",
        "timestamp": 1639405106
    },
    {
        "content": "<p>Yeah.  Unfortunately, non-lowercase package names have also caused some issues in tooling, as discussed <a href=\"#narrow/stream/179166-implementers/topic/Error.20loading.20package.20in.20java.20validator\">here</a>.  We actually tried to make SUSHI handle it better, but it seems that our \"fix\" just introduced a new and different bug related to mixed-case packages (<a href=\"#narrow/stream/215610-shorthand/topic/Sushi.20problem.20with.20IHE.2EITI.2EPIXm.20uppercase.20package.20naming\">here</a>).</p>",
        "id": 264713371,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1639405761
    },
    {
        "content": "<p>so, is there a declaration that package names should/shall be lowercase?</p>",
        "id": 265201809,
        "sender_full_name": "John Moehrke",
        "timestamp": 1639680818
    },
    {
        "content": "<p>Yes.  From the <a href=\"https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagename\">NPM Package Specification</a> (emphasis mine):</p>\n<blockquote>\n<p>Each package has a canonical name (a globally unique identifier). A package name consists of two or more namespaces separated by a dot. <strong>Each namespace starts with a lowercase alphabet character followed by zero-or-more lowercase alphanumeric characters or dashes</strong>.</p>\n</blockquote>",
        "id": 265215487,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1639686827
    },
    {
        "content": "<p>I suppose it does not use the <code>SHALL</code> keyword, but it seems to just state it as undeniable fact.</p>",
        "id": 265215677,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1639686913
    },
    {
        "content": "<p>would be good to reflect this in the FHIR spec. I didn't know better, there was no mention, there was no warning. I don't use caps all the time, but I do use them with acronyms.. and that is all I did in my package names</p>",
        "id": 265224847,
        "sender_full_name": "John Moehrke",
        "timestamp": 1639691562
    },
    {
        "content": "<p>not a fan of forced lowercase</p>",
        "id": 265224874,
        "sender_full_name": "John Moehrke",
        "timestamp": 1639691579
    },
    {
        "content": "<p>where in the FHIR spec?</p>",
        "id": 265234661,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639697252
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/179252-IG-creation/topic/NPM.20package.20name/near/265224847\">said</a>:</p>\n<blockquote>\n<p>would be good to reflect this in the FHIR spec. I didn't know better, there was no mention, there was no warning. I don't use caps all the time, but I do use them with acronyms.. and that is all I did in my package names</p>\n</blockquote>\n<p><a href=\"/user_uploads/10155/02N-IRZo1LIyThlvgbWYKjcM/5y6iv6.jpg\">5y6iv6.jpg</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/02N-IRZo1LIyThlvgbWYKjcM/5y6iv6.jpg\" title=\"5y6iv6.jpg\"><img src=\"/user_uploads/10155/02N-IRZo1LIyThlvgbWYKjcM/5y6iv6.jpg\"></a></div>",
        "id": 265234964,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1639697451
    },
    {
        "content": "<p>so, what are the things I should worry about when changing from uppercase to lowercase? Is there something I need to do to invalidate the old? Is there something I need to worry about things breaking? I understand there is lots of magic tied to names, and I am doing the IHE publications.</p>",
        "id": 265292029,
        "sender_full_name": "John Moehrke",
        "timestamp": 1639745957
    },
    {
        "content": "<p>I tried a local build of my just-created and only-ci-built MHDS of yesterday. Changing the id from uppercase \"IHE.ITI.MHDS\" to lowercase \"ihe.iti.mhds\"; but now a local build gets a IG NPM exception.</p>\n<div class=\"codehilite\"><pre><span></span><code>Exception in thread &quot;main&quot; java.lang.Error: Case mismatch of file C:\\Users\\johnm\\.fhir\\packages\\ihe.iti.mhds#dev: found IHE.ITI.MHDS#dev\n</code></pre></div>\n<p>I have deleted the user  ./.fhir cache; and now it builds locally... so warning, this step is needed.<br>\nThis was only an IG that had only been ci-built; not formally published.</p>",
        "id": 265302160,
        "sender_full_name": "John Moehrke",
        "timestamp": 1639751355
    }
]