[
    {
        "content": "<p>I am having some problems getting the fhir publisher to complete.<br>\nI just returned from my Covid vacation and had to reload my computer; I reinstalled ruby, jekyll, IG Publisher etc.</p>\n<p>I tried to run publisher on a project that worked previously and it hangs on</p>\n<p>Jekyll: Generating. </p>\n<p>I do get an error that publisher can't find a JIRA file.<br>\n [get] Error opening connection java.io.FileNotFoundException: <a href=\"https://github.com/HL7/JIRA-Spec-Artifacts/raw/master/xml/FHIR-us-breast-radiology.xml\">https://github.com/HL7/JIRA-Spec-Artifacts/raw/master/xml/FHIR-us-breast-radiology.xml</a><br>\nWould that cause jekyll to hang? <br>\nAny ideas?</p>\n<p>[From log file]</p>\n<p>onGenerate.jira.setup:<br>\n     ....<br>\n      [get] Error opening connection java.io.FileNotFoundException: <a href=\"https://github.com/HL7/JIRA-Spec-Artifacts/raw/master/xml/FHIR-us-breast-radiology.xml\">https://github.com/HL7/JIRA-Spec-Artifacts/raw/master/xml/FHIR-us-breast-radiology.xml</a><br>\n      [get] Error opening connection java.io.FileNotFoundException: <a href=\"https://github.com/HL7/JIRA-Spec-Artifacts/raw/master/xml/FHIR-us-breast-radiology.xml\">https://github.com/HL7/JIRA-Spec-Artifacts/raw/master/xml/FHIR-us-breast-radiology.xml</a><br>\n      [get] Error opening connection java.io.FileNotFoundException: <a href=\"https://github.com/HL7/JIRA-Spec-Artifacts/raw/master/xml/FHIR-us-breast-radiology.xml\">https://github.com/HL7/JIRA-Spec-Artifacts/raw/master/xml/FHIR-us-breast-radiology.xml</a><br>\n      [get] Can't get <a href=\"https://github.com/HL7/JIRA-Spec-Artifacts/raw/master/xml/FHIR-us-breast-radiology.xml\">https://github.com/HL7/JIRA-Spec-Artifacts/raw/master/xml/FHIR-us-breast-radiology.xml</a> to C:\\Development\\HL7\\BreastRadiologyProfilesV3\\Projects\\build\\input-cache\\jiraspec.xml</p>\n<p>onGenerate.jira.generate:<br>\nonGenerate.jira.check:<br>\nonGenerate.jira.skip-offline:<br>\nonGenerate.jira.skip-missing:<br>\nonGenerate.jira:<br>\nonGenerate.extend:<br>\nonGenerate:<br>\nGenerating Summary Outputs                                                       (02:53.0372)<br>\nSending Usage Stats to Server                                                    (02:59.0050)</p>\n<h2>Memory (MB): Use = 4804, Free = 1771, Total = 6576, Max =7259</h2>\n<p>Reclaiming memory...</p>\n<h2>Memory (MB): Use = 3252, Free = 2997, Total = 6250, Max =7259</h2>\n<p>Jekyll: Source: C:/Development/HL7/BreastRadiologyProfilesV3/Projects/build/temp/pages (03:09.0775)<br>\nJekyll: Generating...                                                            (03:09.0776)<br>\n  [ <strong>Hangs here indefinately </strong>]</p>\n<p><a href=\"/user_uploads/10155/TgYxLFo8z3Cy4-bnZ20L6rGV/fhir-ig-publisher-tmp.log\">fhir-ig-publisher-tmp.log</a></p>",
        "id": 228452045,
        "sender_full_name": "Kurt Allen",
        "timestamp": 1614706705
    },
    {
        "content": "<p>That file doesn't exist in that repo.  You'll need to update your code to point to the correct file.  likely <a href=\"https://github.com/HL7/JIRA-Spec-Artifacts/blob/master/xml/FHIR-us-breastcancerradiology.xml\">https://github.com/HL7/JIRA-Spec-Artifacts/blob/master/xml/FHIR-us-breastcancerradiology.xml</a></p>",
        "id": 228454365,
        "sender_full_name": "David Pyke",
        "timestamp": 1614707453
    },
    {
        "content": "<p>Thx <span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span> <br>\nI had previously (October, 2019) pushed FHIR-us-breast-radiology.xml to JIRA-Spec-Artifacts\\xml, but it appears to have gone AWOL. I guess I will have to track down what happened there...</p>\n<p>I was also surprised at the error message, as it references a directory in GitHub that doesn't exist (JIRA-Spec-Artifacts/raw/master/xml) - hopefully that is only the error message.</p>",
        "id": 228459053,
        "sender_full_name": "Kurt Allen",
        "timestamp": 1614709174
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192611\">@Kurt Allen</span> before you go and try and fix it, please reach out to <span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span> and <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> .  We had to do a lot of cleanup to your project as you had multiple JIRA artifact files and multiple JIRA project names.</p>",
        "id": 228461376,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1614709998
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192611\">@Kurt Allen</span> please contact me before you do anything so we can help you get the correct content in place</p>",
        "id": 228464290,
        "sender_full_name": "Melva Peters",
        "timestamp": 1614711030
    },
    {
        "content": "<p>Note that, while addressing the Jira file issue is important, it's unlikely related to the hanging.  Jekyll doesn't use the Jira file at all, so there's something else going on there...</p>",
        "id": 228465432,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1614711470
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Any suggestions on debugging this?<br>\n<span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span> I will contact you offline.</p>",
        "id": 228468179,
        "sender_full_name": "Kurt Allen",
        "timestamp": 1614712497
    },
    {
        "content": "<p>Jekyll is a third-party process.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> has a bit of experience debugging with it.  How long have you left it to run?  What's your memory and processor doing?  It might be you're memory bound and it's just really slow?</p>",
        "id": 228470863,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1614713540
    },
    {
        "content": "<p>You could monitor the output folder and see what files exist and what the last file successfully created is</p>",
        "id": 228470932,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1614713582
    },
    {
        "content": "<p>yes. my immediate take is that Jekyll can't start, and for some reason, the system process that launched it is showing an error you can't see and not terminating. So debugging this is around getting the start conditions for ruby and jekyll all sorted.</p>",
        "id": 228472931,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614714326
    },
    {
        "content": "<p>at the point it is humg, you can run jekyll yourself from the command line on the temp folder</p>",
        "id": 228472970,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614714342
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>   I let it run for an hour, and in the past it only took 5-10  minutes. <br>\nWhen it gets to the 'Jekyll: Generating ...' system cpu goes to 0, memory at 6694.3 mb (48%). <br>\nWindows task monitor shows ruby started as a sub process of the command shell, but no Jekyll. <br>\nI don't think it is a memory issue</p>\n<p>When I look at the build/output directory, it is empty. There is a folder called .jekyll-cache under temp that is only a couple kb long, so I agree that Jekyll is probably not starting.<br>\nI can run jekyll -v and get a valid response so I know that Jekyll is installed.<br>\nWhen go into the temp dir and try running 'jekyll -s pages build\" I get<br>\nfatal: 'jekyll build' could not be found ...</p>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> What is the command line to run Jekyll? Is it jekyll -s pages build' or 'jekyll -s pages compose'?</p>\n<p>I just reinstalled everything after a clean os reinstall, so I am wondering if there is a problem with the newest versions of ruby/jekyll et all?<br>\nThese are the versions:<br>\nruby 2.7.2<br>\njekyll 4.2</p>\n<p>Many thanks for your time!</p>",
        "id": 228501407,
        "sender_full_name": "Kurt Allen",
        "timestamp": 1614725456
    },
    {
        "content": "<p>When running Jekyll, the working directory is the temp dir, and the command is </p>\n<p><code>jekyll build --destination {{output}}</code></p>\n<p>where output is the folder the generated content is going into. </p>\n<p>on windows, the command is prefixed with <code>cmd /C </code></p>",
        "id": 228503005,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614726158
    },
    {
        "content": "<blockquote>\n<p>'jekyll build' could not be found ...</p>\n</blockquote>\n<p>That's what I would expect from what you described. Jekyll isn't getting started. System path issue?</p>",
        "id": 228503084,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614726197
    },
    {
        "content": "<p>I had to use the modified command line:<br>\njekyll build --source pages --destination c:\\temp\\xxyyz</p>\n<p>This gave me the error<br>\njekyll-4.2.0/lib/jekyll/tags/include.rb:219:in `locate_include_file': Could not locate the included file 'menu.xml' in any of [\"C:/Development/HL7/BreastRadiologyProfilesV3/Projects/build/temp/pages/_includes\"]. Ensure it exists in one of those directories and, if it is a symlink, does not point outside your site source. (IOError)</p>\n<p>This looks like a FSH  integration issue. I upgraded to the latest version of FSH and it changed the output directory structure. I will need to track down what I did wrong.</p>\n<p>Is there a reason that publisher can not output an error message like this from Jekyll?</p>\n<p>Many thanks for the pointers.</p>",
        "id": 228523085,
        "sender_full_name": "Kurt Allen",
        "timestamp": 1614737609
    },
    {
        "content": "<blockquote>\n<p>Is there a reason that publisher can not output an error message like this from Jekyll?</p>\n</blockquote>\n<p>I certainly expect that it would; this is a normal kind of error to be displayed. The publisher part is simple: output anything unexpected to the log, and wait for the process to finish.</p>",
        "id": 228528833,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614741847
    },
    {
        "content": "<p>I've seen something like this before.  The best I could figure out then is that the Jekyll process never finishes because it's waiting for some include or other file to be generated.  I wish there was a way to figure out what file it's looking for because I'm having the same problem right now.</p>",
        "id": 242080202,
        "sender_full_name": "Keith Boone",
        "timestamp": 1623251096
    },
    {
        "content": "<p>I too had this Jekyll hanging issue, but did not see any errors in output. The only way to figure out was by debugging through the IG Generator Java project. More info on that in this <a href=\"#narrow/stream/215610-shorthand/topic/Debugging.20IG.20generation\">thread</a></p>",
        "id": 243878279,
        "sender_full_name": "Janaka Peiris",
        "timestamp": 1624600432
    }
]