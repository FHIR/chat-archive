[
    {
        "content": "<p>New error:</p>\n<div class=\"codehilite\"><pre><span></span>Value is &#39;http://hl7.org/fhir/us/bser/StructureDefinition/BSeR-EarlyChildhoodNutritionFeedbackObservation&#39; but must be &#39;http://hl7.org/fhir/us/bser/StructureDefinition/BSeR-EarlyChildhoodNutritionObservation&#39;\n</pre></div>\n\n\n<p>Getting the above error in my example - this example is supposed to be \"BSeR-EarlyChildhoodNutritionFeedbackObservation\" but it's telling me it should be for a different profile.</p>\n<p>I have two examples for this profile - they both have the same code and very similar values, but only one is erroring.</p>\n<p>I'm also getting </p>\n<div class=\"codehilite\"><pre><span></span>The type of element valueCodeableConcept is not known, which is illegal. Valid types at this point are string, boolean\n</pre></div>\n\n\n<p>on the same example. That's because it thinks it should conform to the other profile which only allows string and boolen for the value.</p>",
        "id": 185881694,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579227302
    },
    {
        "content": "<p>is this one what's in gihtub?</p>",
        "id": 185881840,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579227591
    },
    {
        "content": "<p>It is in github - though github is a super old copy. I'm running locally right now because I'm trying to get the new template working.</p>\n<p>But the example hasn't changed: <a href=\"https://github.com/HL7/bser/blob/master/source/resources/observation/observation-BSeR-NutritionFeedbackObs-2-eve-everywoman.xml\" target=\"_blank\" title=\"https://github.com/HL7/bser/blob/master/source/resources/observation/observation-BSeR-NutritionFeedbackObs-2-eve-everywoman.xml\">https://github.com/HL7/bser/blob/master/source/resources/observation/observation-BSeR-NutritionFeedbackObs-2-eve-everywoman.xml</a> </p>\n<p>This is the other one that isn't failing: <a href=\"https://github.com/HL7/bser/blob/master/source/resources/observation/observation-BSeR-NutritionFeedbackObs-1-eve-everywoman.xml\" target=\"_blank\" title=\"https://github.com/HL7/bser/blob/master/source/resources/observation/observation-BSeR-NutritionFeedbackObs-1-eve-everywoman.xml\">https://github.com/HL7/bser/blob/master/source/resources/observation/observation-BSeR-NutritionFeedbackObs-1-eve-everywoman.xml</a></p>\n<p>I'll rebuild the IG as it is in Git and see if it gets the same error.</p>",
        "id": 185881966,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579227760
    },
    {
        "content": "<p>I guess I should really just bite the bullet and switch totally over to the new template for that IG.</p>",
        "id": 185881991,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579227834
    },
    {
        "content": "<p>what is in github doesn't build: You must nominate a template - consult the IG Publisher documentation</p>",
        "id": 185882928,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579229266
    },
    {
        "content": "<p>Yeah, I broke it all when I just deleted everything and tried to move over to the new template. There is a template nominated. I'll get back to you when I get it building again.</p>",
        "id": 185883141,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579229532
    },
    {
        "content": "<p>And that's why:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;name value=&quot;observation-BSeR-NutritionFeedbackObs-2-eve-everywoman&quot;/&gt;\n &lt;exampleCanonical value=&quot;http://hl7.org/fhir/us/bser/StructureDefinition/BSeR-EarlyChildhoodNutritionObservation&quot;/&gt;\n</pre></div>\n\n\n<p>Totally my fault... Guess I shoulda checked that first instead of assuming it was your fault <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> !</p>",
        "id": 185883480,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579230029
    },
    {
        "content": "<p>I was hoping that would be the case</p>",
        "id": 185883695,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579230312
    },
    {
        "content": "<p>that's probably something that wasn't checked before</p>",
        "id": 185883698,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579230321
    },
    {
        "content": "<p>Nope, it definitely wasn't. In my defense the profile names in this IG are REALLY hard to tell apart!! And so long...</p>",
        "id": 185883761,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579230393
    },
    {
        "content": "<p>Did you fix the issue with the bundle slicing? Don't seem to be seeing those errors anymore... Does that mean I can try removing my meta.profile hack?</p>",
        "id": 185883779,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579230461
    },
    {
        "content": "<p>Actually maybe the budle slicing issues just went away because I just overwrote my test files in git that I was using to force the error...</p>",
        "id": 185883922,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579230665
    },
    {
        "content": "<p>I haven't fixed all issues with bundle slicing but I fixed some</p>",
        "id": 185883939,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579230708
    },
    {
        "content": "<p>you shouldn't need meta.profile now</p>",
        "id": 185883943,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579230718
    },
    {
        "content": "<p>Ok will test now.</p>",
        "id": 185883985,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579230726
    },
    {
        "content": "<p>So the discriminator should be type/resource?</p>",
        "id": 185883992,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579230747
    },
    {
        "content": "<p>the test case looks like this:</p>\n<div class=\"codehilite\"><pre><span></span>        <span class=\"nt\">&lt;element&gt;</span>\n            <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Bundle.entry&quot;</span> <span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;slicing&gt;</span>\n                <span class=\"nt\">&lt;discriminator&gt;</span>\n                    <span class=\"nt\">&lt;type</span> <span class=\"na\">value=</span><span class=\"s\">&quot;profile&quot;</span> <span class=\"nt\">/&gt;</span>\n                    <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;$this.resource&quot;</span> <span class=\"nt\">/&gt;</span>\n                <span class=\"nt\">&lt;/discriminator&gt;</span>\n                <span class=\"nt\">&lt;ordered</span> <span class=\"na\">value=</span><span class=\"s\">&quot;false&quot;</span><span class=\"nt\">/&gt;</span>\n                <span class=\"nt\">&lt;rules</span> <span class=\"na\">value=</span><span class=\"s\">&quot;closed&quot;</span> <span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;/slicing&gt;</span>\n        <span class=\"nt\">&lt;/element&gt;</span>\n</pre></div>",
        "id": 185884011,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579230793
    },
    {
        "content": "<p>tx</p>",
        "id": 185884013,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579230801
    },
    {
        "content": "<p>but it's simpler and quicker to differentiate by type <em>if you can</em></p>",
        "id": 185884018,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579230817
    },
    {
        "content": "<p>Ok</p>",
        "id": 185884024,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579230839
    },
    {
        "content": "<p>Looks like that is working now - cool - thanks!</p>",
        "id": 185884313,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579231227
    }
]