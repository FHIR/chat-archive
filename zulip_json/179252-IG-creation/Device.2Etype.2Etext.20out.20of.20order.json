[
    {
        "content": "<p>5:20 AM<br>\nOh man, typed something wrong and lost all my text. I hate web apps.</p>\n<p>The PHD IG has been sitting for more than a year after being balloted and accepted. Publishing back then just never got done as covid took over. In any case to finally move forward on that the IG had to be updated to the new publisher. It was an easy task since the original IG used Lloyd's framework and the new publisher was essentially the same thing with a few shifts of directories. There was no need to change any content.</p>\n<p>However, the QA gives new errors that were not present previously, most of which I dont understand. This is one of them - and there are many of the same type of errors reported:</p>\n<p>StructureDefinition.where(url = '<a href=\"http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice\">http://hl7.org/fhir/uv/phd/StructureDefinition/PhdDevice</a>') error The element Device.type.text is out of order (and maybe others after it)</p>\n<p>As far as I can tell the text element is exactly where it should be - the Device.type is a CodeableConcept. So what is this error, how do I fix it, and why does it occur?</p>",
        "id": 223622830,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1611310339
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 223623632,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1611310816
    },
    {
        "content": "<p>usually the out of order error means just that, in xml (<a href=\"https://www.hl7.org/fhir/xml.html\">https://www.hl7.org/fhir/xml.html</a>) elements are expected to be in the order that the spec defines them in, so Device.type being a codableConcept means that its two child elements, coding and text, are expected to be in that order (i.e. not text and then coding) <a href=\"/user_uploads/10155/0NLdUjPNDrk-UyLB3VP2wWWq/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/0NLdUjPNDrk-UyLB3VP2wWWq/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/0NLdUjPNDrk-UyLB3VP2wWWq/image.png\"></a></div>",
        "id": 223650341,
        "sender_full_name": "ryan moehrke",
        "timestamp": 1611326982
    },
    {
        "content": "<p>If you were typing and accidentally hit escape, your text will be saved in Zulip as a draft - just click on the 'drafts' link.  (Just a note for the future <span class=\"user-mention\" data-user-id=\"192228\">@Brian Reinhold</span> )</p>",
        "id": 223652271,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1611327784
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"237342\">ryan moehrke</span> I have JSON and not xml but the text IS in the correct place, yet I get the error everywhere I have a CodeableConcept and a text element. For example, this one</p>\n<div class=\"codehilite\"><pre><span></span><code>    &quot;type&quot;: {\n        &quot;coding&quot;: [\n            {\n                &quot;system&quot;: &quot;urn:iso:std:iso:11073:10101&quot;,\n                &quot;code&quot;: &quot;65573&quot;\n            }\n        ],\n        &quot;text&quot;: &quot;MDC_MOC_VMS_MDS_SIMP&quot;\n    },\n</code></pre></div>",
        "id": 223655294,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1611329068
    },
    {
        "content": "<p>actually, looking at your error, is the 'out of order' error on an <em>instance</em> of the Device resource? or the StructureDefinition resource for the PhdDevice profile itself?</p>",
        "id": 223657721,
        "sender_full_name": "ryan moehrke",
        "timestamp": 1611330122
    },
    {
        "content": "<p>@_**ryan moehrke <br>\nIts actually on a structure definition. However, it looks fine to me. Its like all the other codeable concepts that I do not touch (at least in the resolved displays). I don't know how to display that here.</p>",
        "id": 223661020,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1611331518
    },
    {
        "content": "<p>Do you have a snapshot in your structuredefinition? If everything looks correct in your differential and you have a snapshot, try deleting the snapshot.</p>",
        "id": 223698806,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1611348973
    },
    {
        "content": "<p>The other thing to mention is that that error is quite often a red herring - your missing or out of order issue will likely be before the element that it is telling you about.</p>",
        "id": 223700865,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1611349919
    },
    {
        "content": "<p>But I think it's this in the StructureDefinition:<br>\n<a href=\"/user_uploads/10155/NxJs_JeZNdSaaK_d05CNGFnp/image.png\">image.png</a> <br>\nDevice.type.text needs to be after Device.type.coding</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/NxJs_JeZNdSaaK_d05CNGFnp/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/NxJs_JeZNdSaaK_d05CNGFnp/image.png\"></a></div>",
        "id": 223704268,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1611351563
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191918\">Sarah Gaunt</span> <br>\nIt IS after the Device.type.coding</p>",
        "id": 223713410,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1611356588
    },
    {
        "content": "<p>But when I looked at the file in Git, it wasn't. Maybe I'm looking in the wrong place? This is the file I was looking at: <a href=\"https://github.com/HL7/PHD/blob/master/input/resources/PhdDevice.xml\">https://github.com/HL7/PHD/blob/master/input/resources/PhdDevice.xml</a></p>",
        "id": 223714016,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1611357003
    },
    {
        "content": "<p>Line 241</p>",
        "id": 223714085,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1611357033
    },
    {
        "content": "<p>It looks like it's correct in the example you posted above, but it's the structuredefinition that is wrong.</p>",
        "id": 223714225,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1611357133
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191918\">Sarah Gaunt</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Device.2Etype.2Etext.20out.20of.20order/near/223714225\">said</a>:</p>\n<blockquote>\n<p>It looks like it's correct in the example you posted above, but it's the structuredefinition that is wrong.</p>\n</blockquote>\n<p>It IS is the wrong place. I wonder why? I coded the gateway long before I ever made the structure definition. I find that all my structure definition text elements are in the wrong place though they are correct in all actual code implementations that generate resources from PHDs.</p>",
        "id": 223877975,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1611570283
    }
]