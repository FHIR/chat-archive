[
    {
        "content": "<p>So Lynn has asked me to fix one thing in our IG which is to \"indicate the ballot in the header\". Currently it says \"CI Build\" (because it's the CI build!). I looked at one of the DaVinci IGs (last commit <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> ) and noticed that even though that IG is also the CI build it has \"Release 0.1.0 STU1 Ballot\". <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I looked at your code in the header and you have:</p>\n<div class=\"codehilite\"><pre><span></span>        {% if {{site.build}} == &quot;ci&quot; %}\n        CI Build\n        {% elsif {{site.build}} == &quot;ballot&quot; %}\n        (Release {{ site.data.fhir.ig.version }} {{site.ballot}} Ballot)\n        {% elsif {{site.build}} == &quot;commentballot&quot; %}\n        (Release {{ site.data.fhir.ig.version }} {{site.ballot}} Ballot for Comment)\n        {% else %}\n        (Release {{ site.data.fhir.ig.version }} )\n        {% endif %}\n</pre></div>\n\n\n<p>1. Where does site.build get set? I can see \"status\" in package-list.json, but site.build looks slightly different.<br>\n2. Shouldn't what is output in the header be variable depending on where the IG is published? Like it should not output Ballot when it is still the CI build?<br>\nThe code I have in my header is (probably an old version of your framework <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> ):</p>\n<div class=\"codehilite\"><pre><span></span>      {% if {{site.data.fhir.ig.status}} == &#39;draft&#39; %}\n      &lt;strong&gt;{{site.data.fhir.ig.title}} Implementation Guide CI Build&lt;/strong&gt;\n      {% else %}\n      &lt;strong&gt;{{site.data.fhir.ig.title}} Implementation Guide Release {{site.data.fhir.ig.version}}&lt;/strong&gt;\n      {% endif %}\n</pre></div>\n\n\n<p>Which seems like it might be using the status from package-list.json (though maybe should be \"ci-build\" instead of \"draft)? And should change depending on where it is publsihed?</p>",
        "id": 172081484,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1564525230
    },
    {
        "content": "<p>my contention generally is that the CI build is prepared explicitly for a particular publication. the fact that it's CI build or whatever is in the gold publication status box that the infrastructure maintains. The header should state the intent clearly - I don't want it to say \"CI Build\" when in fact that document is \"Acme Implementation Guide, Ballot #1\"</p>",
        "id": 172081784,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1564525510
    },
    {
        "content": "<p>Ah ok, got it thanks!</p>",
        "id": 172081902,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1564525635
    },
    {
        "content": "<p>all the site variables are in the  .config.yml file. ( Everything you need<br>\nthat ig-publisher forgot.)   if you go to my template repo:<br>\n<a href=\"https://github.com/Healthedata1/IG-Template2\" target=\"_blank\" title=\"https://github.com/Healthedata1/IG-Template2\">https://github.com/Healthedata1/IG-Template2</a><br>\nin the /framework directory you will see the config.yml file.  The DaVinci<br>\nAlerts repo has is too and can see what values I have there.</p>\n<p>Eric</p>\n<p>Eric M Haas, DVM, MS<br>\nHealth eData Inc<br>\n1183 Mountain View Circle, Napa, CA 94558</p>",
        "id": 172081930,
        "sender_full_name": "Eric Haas",
        "timestamp": 1564525666
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> !</p>",
        "id": 172081985,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1564525687
    }
]