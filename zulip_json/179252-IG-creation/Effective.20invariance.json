[
    {
        "content": "<p>I'm not sure where to ask about this error.....<br>\nWhy is the invariance for effectiveDateTime only precise to the day for <a href=\"http://hl7.org/fhir/StructureDefinition/vitalsigns\">http://hl7.org/fhir/StructureDefinition/vitalsigns</a>?  It should be precise to at least the hour and minute.  I'm getting this error with my examples....</p>\n<div class=\"codehilite\"><pre><span></span><code>vs-1: &#39;if Observation.effective[x] is dateTime and has a value then that value shall be precise to the day&#39; Rule &#39;if Observation.effective[x] is dateTime and has a value then that value shall be precise to the day&#39; Failed\n</code></pre></div>\n<p>my example is (which is effectivePeriod BTW)....</p>\n<div class=\"codehilite\"><pre><span></span><code>  &lt;effectivePeriod&gt;\n    &lt;start value=&quot;2019-10-16T12:12:29-09:00&quot;/&gt;\n    &lt;end value=&quot;2019-10-16T12:42:29-09:00&quot;/&gt;\n  &lt;/effectivePeriod&gt;\n</code></pre></div>\n<p>Here's the invariance from the spec....</p>\n<div class=\"codehilite\"><pre><span></span><code>vs-1    Observation.effective[x]    if Observation.effective[x] is dateTime and has a value then that value shall be precise to the day\nExpression : ($this as dateTime).toString().length() &gt;= 8\n</code></pre></div>\n<p>The invariance doesn't make sense.  Vital signs are very often taken many times a day.  Why restrict effectiveDateTime to the day only?</p>",
        "id": 264744393,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1639417891
    },
    {
        "content": "<p>the invariant is wrong, but not in the way you're thinking. the length of the data is &gt;= 8, not = 8. The problem is that you're not using a dateTime. The invariant should be </p>\n<p><code>($this is dateTime) implies ($this as dateTime).toString().length() &gt;= 8</code></p>",
        "id": 264747985,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639419287
    },
    {
        "content": "<p>do you really need a period? And <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> this looks like a pretty serious issue with R4</p>",
        "id": 264748049,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639419314
    },
    {
        "content": "<p>Yes, I need a period.  This is for an average blood pressure over a non-standard time (so not 24 hours).</p>",
        "id": 264749893,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1639420099
    },
    {
        "content": "<p>well, kind of screwed for now. I'm not sure what the options are. I guess FMG would approve publication with that error</p>",
        "id": 264750370,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639420344
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191411\">@Nathan Davis</span>, can you submit a change request?</p>",
        "id": 264752948,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1639421615
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Can do.  Should this be created for the FHIR Core specification?</p>",
        "id": 264756552,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1639423325
    },
    {
        "content": "<p>yes</p>",
        "id": 264756843,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639423455
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  Done.  Jira ID is <a href=\"http://jira.hl7.org/browse/FHIR-34463\">FHIR-34463</a></p>",
        "id": 264757473,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1639423737
    },
    {
        "content": "<p>What we did in us core is put an <a href=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-pulse-oximetry.html#mandatory-and-must-support-data-elements\">STU Note</a> for this  type of issue.  May need to push OO to get this into R4B.  (I assigned the tracker to them and updated to triaged)</p>",
        "id": 264771193,
        "sender_full_name": "Eric Haas",
        "timestamp": 1639430276
    }
]