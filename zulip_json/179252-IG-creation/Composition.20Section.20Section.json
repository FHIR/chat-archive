[
    {
        "content": "<p>Does anyone have a functioning example of a composition in which a composition.section includes a sub-section (i.e., composition.section.section? How are elements and entries of the subsection specified in the structure definition?</p>",
        "id": 258466808,
        "sender_full_name": "AbdulMalik Shakir",
        "timestamp": 1634776146
    },
    {
        "content": "<p>Do you mean a profile that includes sub-sections?  Or an actual instance example?  I have both: Example instance -   <a href=\"/user_uploads/10155/XH0kCEdq4Qy84GhLrBiOx6vV/Composition-SampleSPLDocument.json\">Composition-SampleSPLDocument.json</a>   Profile - <a href=\"http://build.fhir.org/ig/HL7/fhir-spl/branches/main/StructureDefinition-ProductSubmissionDocument.html\">http://build.fhir.org/ig/HL7/fhir-spl/branches/main/StructureDefinition-ProductSubmissionDocument.html</a></p>",
        "id": 258489937,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1634793991
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> is it not possible to place constraints on the subsections allowed in a section. At first, I wondered how the elements of the subsection were exposed in a profile structure definition. Looking at your example I see that the elements of the subsection are all of the elements of section, but I don't see how those elements are contained. Am I missing something?</p>",
        "id": 258836340,
        "sender_full_name": "AbdulMalik Shakir",
        "timestamp": 1635013351
    },
    {
        "content": "<p>it is possible - you just keep walking into the sub-section structure</p>",
        "id": 258836927,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635014367
    },
    {
        "content": "<p>You'll need to define slicing within a slice.  I.e. you slice the base section.  Then, within that, you'll slice the sub-section.</p>",
        "id": 258839620,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1635018650
    },
    {
        "content": "<p>I just added some constraints on the sub-section in one of my section slices and it looks like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>      {\n        &quot;id&quot;: &quot;Composition.section:OtherSections.text&quot;,\n        &quot;path&quot;: &quot;Composition.section.text&quot;,\n        &quot;min&quot;: 1\n      },\n      {\n        &quot;id&quot;: &quot;Composition.section:OtherSections.entry&quot;,\n        &quot;path&quot;: &quot;Composition.section.entry&quot;,\n        &quot;max&quot;: &quot;0&quot;\n      },\n      {\n        &quot;id&quot;: &quot;Composition.section:OtherSections.section&quot;,\n        &quot;path&quot;: &quot;Composition.section.section&quot;,\n        &quot;type&quot;: [\n          {\n            &quot;code&quot;: &quot;BackboneElement&quot;\n          }\n        ]\n      },\n      {\n        &quot;id&quot;: &quot;Composition.section:OtherSections.section.text&quot;,\n        &quot;path&quot;: &quot;Composition.section.section.text&quot;,\n        &quot;min&quot;: 1\n      },\n      {\n        &quot;id&quot;: &quot;Composition.section:OtherSections.section.entry&quot;,\n        &quot;path&quot;: &quot;Composition.section.section.entry&quot;,\n        &quot;min&quot;: 1,\n        &quot;max&quot;: &quot;1&quot;\n      }\n</code></pre></div>",
        "id": 258859461,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1635051356
    },
    {
        "content": "<p>Thanks all. I see how to do this manually, I guest that the limitation I was seeing was in TOF only. <span class=\"user-mention\" data-user-id=\"191407\">@Rick Geimer</span> ?</p>",
        "id": 258914386,
        "sender_full_name": "AbdulMalik Shakir",
        "timestamp": 1635134205
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"196402\">@AbdulMalik Shakir</span> , don't you want do just slice sections by title, and slice by profile within a section with a given title, rather than have a hierarchy of sections?<br>\nSomething like this (two sections, and only one profile defined per section just as an illustration) -- <a href=\"http://build.fhir.org/ig/saulakravitz/vrdr/branches/FSHversion/StructureDefinition-VRDR-Death-Certificate.html\">http://build.fhir.org/ig/saulakravitz/vrdr/branches/FSHversion/StructureDefinition-VRDR-Death-Certificate.html</a></p>",
        "id": 259052455,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1635224491
    },
    {
        "content": "<p>Title is a human-readable value and is totally unconstrained.  Slicing on it is generally not a good idea.  (Any change to capitalization, spacing, spelling, etc. will cause the slicing rules to not work).  Much better to slice by section.code which is computable and can be constrained.</p>",
        "id": 259094726,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1635254502
    }
]