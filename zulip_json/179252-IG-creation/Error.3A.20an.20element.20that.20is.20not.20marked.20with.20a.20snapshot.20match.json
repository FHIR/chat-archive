[
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> </p>\n<p>I am getting these errors when I run the IG Publisher on the practitioner profile derived from the hl7au. (<a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-practitioner.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-practitioner.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-practitioner.html</a>)</p>\n<p>It seems this error has relation to the following commit \" <a href=\"https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e\" target=\"_blank\" title=\"https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e\">https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e</a> ” “AHPRA qualifier” done in the repository.</p>\n<p>I had a brief email discussion with <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> too. </p>\n<p><strong>The errors are</strong>: </p>\n<p>process res: practitioner-dh-base                                                (34.0715sec)<br>\nError in snapshot generation: Differential for <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> with id: Practitioner.address.issuer has an element that is not marked with a snapshot match<br>\nPublishing Content Failed: Exception loading <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a>: Snapshot for <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.address.issuer (34.0804sec)<br>\n                                                                                 (34.0804sec)<br>\nUse -? to get command line help                                                  (34.0804sec)<br>\n                                                                                 (34.0805sec)<br>\nStack Dump (for debugging):                                                      (34.0805sec)<br>\njava.lang.Exception: Exception loading <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a>: Snapshot for <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.address.issuer<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2188)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:1854)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:495)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:459)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4393)<br>\nCaused by: org.hl7.fhir.exceptions.DefinitionException: Snapshot for <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.address.issuer<br>\n        at org.hl7.fhir.r4.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:394)<br>\n        at org.hl7.fhir.r4.context.SimpleWorkerContext.seeMetadataResource(SimpleWorkerContext.java:513)<br>\n        at org.hl7.fhir.r4.context.BaseWorkerContext.cacheResource(BaseWorkerContext.java:188)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2186)<br>\n        ... 4 more<br>\nException in thread \"main\" java.lang.NullPointerException</p>\n<p><strong>And</strong></p>\n<p>process res: practitioner-dh-base                                                (37.0786sec)<br>\nError in snapshot generation: Differential for <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> with id: Practitioner.qualification.identifier has an element that is not marked with a snapshot match<br>\nPublishing Content Failed: Exception loading <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a>: Snapshot for <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.qualification.identifier (37.0884sec)<br>\n                                                                                 (37.0884sec)<br>\nUse -? to get command line help                                                  (37.0884sec)<br>\n                                                                                 (37.0884sec)<br>\nStack Dump (for debugging):                                                      (37.0884sec)<br>\njava.lang.Exception: Exception loading <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a>: Snapshot for <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.qualification.identifier<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2188)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:1854)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:495)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:459)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4393)<br>\nCaused by: org.hl7.fhir.exceptions.DefinitionException: Snapshot for <a href=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\" target=\"_blank\" title=\"http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base\">http://ns.electronichealth.net.au/ci/fhir/StructureDefinition/practitioner-dh-base</a> does not contain an element that matches an existing differential element that has id: Practitioner.qualification.identifier<br>\n        at org.hl7.fhir.r4.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:394)<br>\n        at org.hl7.fhir.r4.context.SimpleWorkerContext.seeMetadataResource(SimpleWorkerContext.java:513)<br>\n        at org.hl7.fhir.r4.context.BaseWorkerContext.cacheResource(BaseWorkerContext.java:188)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2186)<br>\n        ... 4 more<br>\nException in thread \"main\" java.lang.NullPointerException<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4403)</p>\n<p><strong>I am attaching the two practitioner profiles in two different repositories we are using to run the IG Publisher</strong>.<br>\n<a href=\"/user_uploads/10155/kphG0UBCMd7NfCoWGimyZzLu/practitioner-dh-base.xml\" target=\"_blank\" title=\"practitioner-dh-base.xml\">practitioner-dh-base.xml</a><br>\n<a href=\"/user_uploads/10155/As0aPe1NIJ3gRKINgVeR74aj/practitioner-dh-base.xml\" target=\"_blank\" title=\"practitioner-dh-base.xml\">practitioner-dh-base.xml</a></p>\n<p>Please suggest.</p>",
        "id": 153959960,
        "sender_full_name": "Vikas Mittal",
        "timestamp": 1526280449
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 153959968,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1526280819
    },
    {
        "content": "<p>I don't immediately recognise the problem</p>",
        "id": 153959973,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526281576
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> . Sorry for the delay in my response. <br>\nHi <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> may I request you to add your comments on this issue. <br>\nAlthough I will try to add more information below if that can help in understanding the issue. </p>\n<p>So the issue is as below:</p>\n<p>1) We at the Agency created a derived profile called \"practitioner-dh-base\" which is derived from the hl7au practitioner profile. <br>\n2) Till then the IG Publisher was running fine on our derived profile. <br>\n3) Then the following commit in relation to the \"AHPRA qualifier\" \"<a href=\"https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e\" target=\"_blank\" title=\"https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e\">https://github.com/hl7au/au-fhir-base/commit/847317302bbae1b8fb63eda386f8089d3e83ea1e</a>\" was made in hl7au repository<br>\n4) After that the IG Publisher started giving the error. <br>\n5) The error I got is there in my previous post/message. <br>\n6) Also the files (derived practitioner profile) which I used to run the IG Publisher are attached here<br>\n<a href=\"user_uploads/10155/kphG0UBCMd7NfCoWGimyZzLu/practitioner-dh-base.xml\" target=\"_blank\" title=\"user_uploads/10155/kphG0UBCMd7NfCoWGimyZzLu/practitioner-dh-base.xml\">https://chat.fhir.org/user_uploads/10155/kphG0UBCMd7NfCoWGimyZzLu/practitioner-dh-base.xml</a><br>\n<a href=\"user_uploads/10155/As0aPe1NIJ3gRKINgVeR74aj/practitioner-dh-base.xml\" target=\"_blank\" title=\"user_uploads/10155/As0aPe1NIJ3gRKINgVeR74aj/practitioner-dh-base.xml\">https://chat.fhir.org/user_uploads/10155/As0aPe1NIJ3gRKINgVeR74aj/practitioner-dh-base.xml</a></p>\n<p>Please let me know if there is any more information that I need to add so that this issue can be resolved. </p>\n<p>Thanks heaps.<br>\nVikas</p>",
        "id": 153963826,
        "sender_full_name": "Vikas Mittal",
        "timestamp": 1526881157
    },
    {
        "content": "<p>The first issue is because you've got the following:<br>\n<code>    &lt;element id=\"Practitioner.address\"&gt;\n      &lt;path value=\"Practitioner.address\" /&gt;\n      &lt;type&gt;\n        &lt;code value=\"Address\" /&gt;\n        &lt;profile value=\"http://hl7.org.au/fhir/StructureDefinition/au-address\" /&gt;\n      &lt;/type&gt;\n    &lt;/element&gt;\n    &lt;element id=\"Practitioner.qualification.issuer\"&gt;</code></p>\n<p>You need a <code>Practitioner.qualification</code> element before you list <code>Practitioner.qualification.issuer</code> (or at least you do for certain versions of the igpublisher.  I have no clue what's going wrong in the second case though.</p>",
        "id": 153963840,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1526909311
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <br>\nYou are right,  the file must have the \"Practitioner.qualification\" before \"Practitioner.qualification.issuer\". <br>\nBut the other file already has that code and still gives the error. <br>\n<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> or <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> can you suggest something further in relation to this?</p>",
        "id": 153963968,
        "sender_full_name": "Vikas Mittal",
        "timestamp": 1526946458
    },
    {
        "content": "<p>it's on my task list - maybe tomorrow....</p>",
        "id": 153963971,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1526946519
    },
    {
        "content": "<p>Sure. Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>.</p>",
        "id": 153963974,
        "sender_full_name": "Vikas Mittal",
        "timestamp": 1526946547
    }
]