[
    {
        "content": "<p>I'm creating a new implementation guide with the latest templates and I get an error when it tries to resolve package hl7.fhir.pubpack:</p>\n<div class=\"codehilite\"><pre><span></span>Run time = Monday, March 23, 2020 at 2:38:37 p.m. Mountain Daylight Time (2020-03-23T14:38:37-06:00)\nPackage Cache: /Users/jeanduteau/.fhir/packages                                  (00:00.0593)\nLoad Template from hl7.fhir.template#0.1.0                                       (00:01.0361)\nInstalling hl7.fhir.template#0.1.0 to the package cache\n  Fetching:\n  Installing:  done.\n Load Template from hl7.base.template#0.1.0                                      (01:19.0400)\nInstalling hl7.base.template#0.1.0 to the package cache\n  Fetching:\n  Installing:  done.\n  Load Template from fhir.base.template#0.1.0                                    (02:36.0224)\nInstalling fhir.base.template#0.1.0 to the package cache\n  Fetching:.\n  Installing: . done.\n\nonLoad.findSpreadsheets:\n\nonLoad.updateIg:\n     [xslt] Processing /Users/jeanduteau/Documents/DDIWork/IBM BEST/datastandards/build/template/onLoad-ig-working.xml to /Users/jeanduteau/Documents/DDIWork/IBM BEST/datastandards/build/template/onLoad-ig-updated.xml\n     [xslt] Loading stylesheet /Users/jeanduteau/Documents/DDIWork/IBM BEST/datastandards/build/template/scripts/onLoad.xslt\n\nonLoad.extend:\n\nonLoad:\nRoot directory: /Users/jeanduteau/Documents/DDIWork/IBM BEST/datastandards/build (03:55.0430)\nCore Package hl7.fhir.r4.core#4.0.1\nInstalling hl7.fhir.r4.core#4.0.1 to the package cache\n  Fetching:....................................................................................................\n  Installing: .................................................................................................... done.\nTerminology Cache is at /Users/jeanduteau/Documents/DDIWork/IBM BEST/datastandards/build/input-cache/txcache. 0 files in cache (04:07.0327)\nConnect to Terminology Server at http://tx.fhir.org                              (04:07.0334)\nPublishing Content Failed: Unable to resolve package id hl7.fhir.pubpack         (05:24.0285)\n                                                                                 (05:24.0285)\nUse -? to get command line help                                                  (05:24.0286)\n                                                                                 (05:24.0286)\nStack Dump (for debugging):                                                      (05:24.0286)\norg.hl7.fhir.exceptions.FHIRException: Unable to resolve package id hl7.fhir.pubpack\n    at org.hl7.fhir.utilities.cache.PackageCacheManager.fetchTheOldWay(PackageCacheManager.java:772)\n    at org.hl7.fhir.utilities.cache.PackageCacheManager.loadFromPackageServer(PackageCacheManager.java:335)\n    at org.hl7.fhir.utilities.cache.PackageCacheManager.loadPackage(PackageCacheManager.java:601)\n    at org.hl7.fhir.igtools.publisher.Publisher.loadPubPack(Publisher.java:1986)\n    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1503)\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1206)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:661)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6932)\n</pre></div>\n\n\n<p>I suspect that I'm missing something but I'm not sure what.</p>",
        "id": 191534466,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1584996641
    },
    {
        "content": "<p>I see that this has been raised before on March 12th.  But I don't see any answers to those previous raised issues.</p>",
        "id": 191535769,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1584997214
    },
    {
        "content": "<p>I'm getting this same error</p>\n<p>Connect to Terminology Server at <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">http://tx.fhir.org</a>                              (01:29.0262)<br>\nPublishing Content Failed: Unable to resolve package id hl7.fhir.pubpack         (02:34.0549)<br>\n                                                                                 (02:34.0550)<br>\nUse -? to get command line help                                                  (02:34.0550)<br>\n                                                                                 (02:34.0550)<br>\nStack Dump (for debugging):                                                      (02:34.0550)<br>\norg.hl7.fhir.exceptions.FHIRException: Unable to resolve package id hl7.fhir.pubpack<br>\n    at org.hl7.fhir.utilities.cache.PackageCacheManager.fetchTheOldWay(PackageCacheManager.java:772)<br>\n    at org.hl7.fhir.utilities.cache.PackageCacheManager.loadFromPackageServer(PackageCacheManager.java:335)<br>\n    at org.hl7.fhir.utilities.cache.PackageCacheManager.loadPackage(PackageCacheManager.java:601)</p>",
        "id": 191537019,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1584997835
    },
    {
        "content": "<p>yeah, it's not just me! :)  Now if only we knew what the problem was...</p>",
        "id": 191537259,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1584997942
    },
    {
        "content": "<p>seems like it's in the publisher. Using the latest version?</p>",
        "id": 191538026,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584998336
    },
    {
        "content": "<p>the problem is that the package server is down. Working on it</p>",
        "id": 191538750,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584998728
    },
    {
        "content": "<p>thanks</p>",
        "id": 191538787,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1584998746
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Error.3A.20unable.20to.20resolve.20package.20id.20hl7.2Efhir.2Epubpack/near/191538026\" title=\"#narrow/stream/179252-IG-creation/topic/Error.3A.20unable.20to.20resolve.20package.20id.20hl7.2Efhir.2Epubpack/near/191538026\">said</a>:</p>\n<blockquote>\n<p>seems like it's in the publisher. Using the latest version?</p>\n</blockquote>\n<p>yes, all of us with this issue were using the latest</p>",
        "id": 191538819,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1584998760
    },
    {
        "content": "<p>sorry, I couldn't reproduce here. anyway, the issue is found.</p>",
        "id": 191538920,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1584998795
    },
    {
        "content": "<p>Interestingly enough, my local build works from a clean folder with just input and necessary parts on Windoze, but ig-builder is reporting failure.  Could this be a Windows/Unix thing maybe?</p>",
        "id": 191546039,
        "sender_full_name": "Keith Boone",
        "timestamp": 1585002800
    },
    {
        "content": "<p>no it's a cache thing</p>",
        "id": 191550076,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585005323
    },
    {
        "content": "<p>I am still getting the error</p>",
        "id": 191560553,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1585015622
    },
    {
        "content": "<p>sigh. the problem is on the HL7 web server</p>",
        "id": 191562354,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585018336
    },
    {
        "content": "<p>have to wait for <span class=\"user-mention\" data-user-id=\"193461\">@David Johnson</span> to look at it</p>",
        "id": 191562366,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585018353
    },
    {
        "content": "<p>Is this still a problem?  I'm receiving <a href=\"http://www.hl7.org/fhir/package-feed.xml?20200324134258.483+1100\" target=\"_blank\" title=\"http://www.hl7.org/fhir/package-feed.xml?20200324134258.483+1100\">http://www.hl7.org/fhir/package-feed.xml?20200324134258.483+1100</a> data back from that URL</p>",
        "id": 191592827,
        "sender_full_name": "David Johnson",
        "timestamp": 1585047068
    },
    {
        "content": "<p>I just got</p>\n<blockquote>\n<p>$ pubN ig-dphr.json<br>\nFHIR IG Publisher Version 1.0.72-SNAPSHOT (Git# d821ec623d45). Built 2020-03-17T15:45:17.164+11:00 (7 days old)<br>\nDetected Java version: 1.8.0_181 from C:\\Program Files\\Java\\jre1.8.0_181 on amd64 (64bit). 3625MB available<br>\nParameters: -ig ig-dphr.json<br>\ndir = C:\\work\\git\\au-fhir-childhealth, path = C:\\Users\\richardtownleyoneill\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\local\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\richardtownleyoneill\\bin;C:\\Python27;C:\\Python27\\Scripts;C:\\Ruby25-x64\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files\\Calibre2;C:\\Program Files\\Git\\cmd;C:\\Program Files\\TortoiseGit\\bin;C:\\WINDOWS\\System32\\OpenSSH;C:\\Users\\richardtownleyoneill\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Git\\usr\\bin\\vendor_perl;C:\\Program Files\\Git\\usr\\bin\\core_perl<br>\nRun time = Tuesday, 24 March 2020 11:53:43 PM AEST (2020-03-24T23:53:43+10:00)<br>\nPackage Cache: C:\\Users\\richardtownleyoneill\\.fhir\\packages                      (00:00.0200)<br>\nLoad Configuration from C:\\work\\git\\au-fhir-childhealth\\ig-dphr.json             (00:00.0239)<br>\nRoot directory: C:\\work\\git\\au-fhir-childhealth                                  (00:00.0296)<br>\nTerminology Cache is at C:\\work\\git\\au-fhir-childhealth\\txCache. 1 files in cache (00:00.0332)<br>\nCore Package hl7.fhir.r3.core#3.0.2<br>\nLoad Terminology Cache from C:\\work\\git\\au-fhir-childhealth\\txCache              (00:21.0406)<br>\nConnect to Terminology Server at <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">http://tx.fhir.org</a>                              (00:21.0411)<br>\nPublishing Content Failed: Unable to resolve package id hl7.fhir.pubpack         (00:31.0655)<br>\n                                                                                 (00:31.0655)<br>\nUse -? to get command line help                                                  (00:31.0656)<br>\n                                                                                 (00:31.0656)<br>\nStack Dump (for debugging):                                                      (00:31.0656)<br>\norg.hl7.fhir.exceptions.FHIRException: Unable to resolve package id hl7.fhir.pubpack<br>\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.fetchTheOldWay(PackageCacheManager.java:772)<br>\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.loadFromPackageServer(PackageCacheManager.java:335)<br>\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.loadPackage(PackageCacheManager.java:601)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.loadPubPack(Publisher.java:1986)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1830)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1210)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:661)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6932)</p>\n</blockquote>",
        "id": 191612229,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1585058117
    },
    {
        "content": "<p>:(</p>",
        "id": 191612280,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1585058145
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193461\">@David Johnson</span></p>",
        "id": 191613844,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1585058759
    },
    {
        "content": "<p>from what url?</p>",
        "id": 191614280,
        "sender_full_name": "David Johnson",
        "timestamp": 1585058960
    },
    {
        "content": "<p>I'm reviewing this: <a href=\"https://airbrake.io/blog/http-errors/406-not-acceptable\" target=\"_blank\" title=\"https://airbrake.io/blog/http-errors/406-not-acceptable\">https://airbrake.io/blog/http-errors/406-not-acceptable</a> to be as much help with this as possible.</p>",
        "id": 191624241,
        "sender_full_name": "David Johnson",
        "timestamp": 1585062786
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193461\">@David Johnson</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  Yes there is data coming back from that feed but it doesn't contain any information about this hl7.fhir.pubpack.  So it might not be the server itself, but the data on it.  I just traced the code and none of the three servers that it looks for to find this NPM package has info about it.</p>",
        "id": 191631776,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585065514
    },
    {
        "content": "<p>We are looking at whether the Accept option should be sent to the server.</p>",
        "id": 191632436,
        "sender_full_name": "David Johnson",
        "timestamp": 1585065738
    },
    {
        "content": "<p>I can assign only one mime type per extension.  If the xml  mime type is text/xml and the client declares they Accept application/xml, the server will respond that it cannot deliver that Accept request.</p>",
        "id": 191632507,
        "sender_full_name": "David Johnson",
        "timestamp": 1585065776
    },
    {
        "content": "<p>hmm, while I understand that, it seems to me that we are getting the file back but it doesn't actually have the info about the package we're looking for.  where the code is throwing the error, i'm pretty sure that it would throw a different error if it wasn't getting anything back from the server.<br>\nBut it's not my code so I may not be understanding it correctly.</p>",
        "id": 191632848,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585065919
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"193461\">@David Johnson</span> is there a fix or a workaround for this?  I am supposed to produce an IGuide and I'm stuck on this error.  Can I go back to an earlier version of the igpublisher or is it still going to look for this pubpack?</p>",
        "id": 191663333,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585079472
    },
    {
        "content": "<p>no. there's no fix. it's a collapse of the supporting infrastructure. I'm expect to have a fix out in the next few hours</p>",
        "id": 191663752,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585079702
    },
    {
        "content": "<p>Just to follow up: is this still a known issue (i.e., all builds are expected to be broken)?</p>",
        "id": 191679273,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585087794
    },
    {
        "content": "<p>should be fixed now</p>",
        "id": 191679571,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585088037
    },
    {
        "content": "<p>I saw an issue a few minutes ago (e.g., <a href=\"https://build.fhir.org/ig/HL7/fhir-order-catalog/branches/master/failure/build.log\" target=\"_blank\" title=\"https://build.fhir.org/ig/HL7/fhir-order-catalog/branches/master/failure/build.log\">https://build.fhir.org/ig/HL7/fhir-order-catalog/branches/master/failure/build.log</a>)</p>",
        "id": 191679856,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585088206
    },
    {
        "content": "<p>Was this <em>just</em> fixed?</p>",
        "id": 191679862,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585088211
    },
    {
        "content": "<p>(Still seeing it now, actually.)</p>",
        "id": 191680008,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1585088333
    },
    {
        "content": "<p>confirm: mine's still broken</p>",
        "id": 191680139,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1585088406
    },
    {
        "content": "<p>I'm monitoring this topic in the event there is any change necessary on the web server.</p>",
        "id": 191683069,
        "sender_full_name": "David Johnson",
        "timestamp": 1585090487
    },
    {
        "content": "<p><span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span> </p>\n<blockquote>\n<p>$ pubN ig-dphr.json<br>\nFHIR IG Publisher Version 1.0.72-SNAPSHOT (Git# d821ec623d45). Built 2020-03-17T15:45:17.164+11:00 (7 days old)<br>\nDetected Java version: 1.8.0_181 from C:\\Program Files\\Java\\jre1.8.0_181 on amd64 (64bit). 3625MB available<br>\nParameters: -ig ig-dphr.json<br>\ndir = C:\\work\\git\\au-fhir-childhealth, path = C:\\Users\\richardtownleyoneill\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\local\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Users\\richardtownleyoneill\\bin;C:\\Python27;C:\\Python27\\Scripts;C:\\Ruby25-x64\\bin;C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files\\Calibre2;C:\\Program Files\\Git\\cmd;C:\\Program Files\\TortoiseGit\\bin;C:\\WINDOWS\\System32\\OpenSSH;C:\\Users\\richardtownleyoneill\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Git\\usr\\bin\\vendor_perl;C:\\Program Files\\Git\\usr\\bin\\core_perl<br>\nRun time = Wednesday, 25 March 2020 9:35:36 AM AEST (2020-03-25T09:35:36+10:00)<br>\nPackage Cache: C:\\Users\\richardtownleyoneill\\.fhir\\packages                      (00:00.0109)<br>\nLoad Configuration from C:\\work\\git\\au-fhir-childhealth\\ig-dphr.json             (00:00.0122)<br>\nRoot directory: C:\\work\\git\\au-fhir-childhealth                                  (00:00.0143)<br>\nTerminology Cache is at C:\\work\\git\\au-fhir-childhealth\\txCache. 1 files in cache (00:00.0161)<br>\nCore Package hl7.fhir.r3.core#3.0.2<br>\nLoad Terminology Cache from C:\\work\\git\\au-fhir-childhealth\\txCache              (00:09.0878)<br>\nConnect to Terminology Server at <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">http://tx.fhir.org</a>                              (00:09.0882)<br>\nPublishing Content Failed: Unable to resolve package id hl7.fhir.pubpack         (00:16.0010)<br>\n                                                                                 (00:16.0010)<br>\nUse -? to get command line help                                                  (00:16.0010)<br>\n                                                                                 (00:16.0010)<br>\nStack Dump (for debugging):                                                      (00:16.0011)<br>\norg.hl7.fhir.exceptions.FHIRException: Unable to resolve package id hl7.fhir.pubpack<br>\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.fetchTheOldWay(PackageCacheManager.java:772)<br>\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.loadFromPackageServer(PackageCacheManager.java:335)<br>\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.loadPackage(PackageCacheManager.java:601)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.loadPubPack(Publisher.java:1986)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1830)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1210)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:661)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6932)</p>\n</blockquote>",
        "id": 191686276,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1585093022
    },
    {
        "content": "<p>Broken for me too (Genomics Reporting)</p>",
        "id": 191686766,
        "sender_full_name": "Kevin Power",
        "timestamp": 1585093367
    },
    {
        "content": "<p>Broken for  me as well.</p>",
        "id": 191686955,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1585093516
    },
    {
        "content": "<p>Still broken for me<br>\n<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> See CI Build. All IGs failing. Only template commits seem to be succeeding.</p>",
        "id": 191693551,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1585100120
    },
    {
        "content": "<p>And for me...</p>",
        "id": 191730428,
        "sender_full_name": "Keith Boone",
        "timestamp": 1585135085
    },
    {
        "content": "<p>Has this been fixed yet?</p>",
        "id": 191757606,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1585148265
    },
    {
        "content": "<p>yes</p>",
        "id": 191759871,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1585149084
    },
    {
        "content": "<p>my apologies for this. A cached value somewhere was hiding an magnitude of sins, and the list of things I had to fix to get it right seemed never-ending. I finally got everything building again, but now I have a lot of wreckage to sort out (hacks to get everything building...)</p>",
        "id": 191802583,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585166044
    },
    {
        "content": "<p>i hate to report but the error is back :(</p>",
        "id": 191811691,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585170723
    },
    {
        "content": "<p>mine is building ok still</p>",
        "id": 191812749,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1585171312
    },
    {
        "content": "<p>hmm, it now works, so just a blip</p>",
        "id": 191813378,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585171665
    },
    {
        "content": "<p>Working fine <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 191831464,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1585186040
    }
]