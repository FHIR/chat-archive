[
    {
        "content": "<p>Oh no ...</p>\n<div class=\"codehilite\"><pre><span></span><code>onLoad:\nRoot directory: /Users/jvi/gravitate-health                                      (00:05.0988)\nCore Package hl7.fhir.r5.core#current\nTerminology Cache is at /Users/jvi/gravitate-health/input-cache/txcache. 1 files in cache (00:12.0020)\nConnect to Terminology Server at http://tx.fhir.org                              (00:12.0022)\nLoad Package hl7.fhir.pubpack#0.0.9\nLoad Package hl7.fhir.xver-extensions#0.0.8\nLoad Package hl7.terminology.r5#3.0.0\nInitialization complete                                                          (00:14.0158)\nFetch http://hl7.eu/fhir/ig/gravitate-health/package-list.json for version check (00:14.0160)\nLoad Content                                                                     (00:14.0234)\nloadPrePages from FetchedFile[/Users/jvi/gravitate-health/fsh-generated/includes] as /Users/jvi/gravitate-health/fsh-generated/includes\nloadPrePages from FetchedFile[/Users/jvi/gravitate-health/input/pagecontent] as /Users/jvi/gravitate-health/input/pagecontent\nProcessing Conformance Resources                                                 (00:15.0152)\nGenerating Snapshots                                                             (00:15.0189)\nGenerating Narratives                                                            (00:15.0231)\nException in thread &quot;main&quot; java.lang.Error: Now what? (BackboneElement)\n    at org.hl7.fhir.r5.renderers.utils.ElementWrappers$ResourceWrapperMetaElement.getNameFromResource(ElementWrappers.java:176)\n    at org.hl7.fhir.r5.renderers.ResourceRenderer.renderReference(ResourceRenderer.java:205)\n    at org.hl7.fhir.r5.renderers.ResourceRenderer.renderReference(ResourceRenderer.java:175)\n    at org.hl7.fhir.r5.renderers.ProfileDrivenRenderer.renderLeaf(ProfileDrivenRenderer.java:406)\n    at org.hl7.fhir.r5.renderers.ProfileDrivenRenderer.generateElementByProfile(ProfileDrivenRenderer.java:724)\n    at org.hl7.fhir.r5.renderers.ProfileDrivenRenderer.generateByProfile(ProfileDrivenRenderer.java:680)\n    at org.hl7.fhir.r5.renderers.ProfileDrivenRenderer.render(ProfileDrivenRenderer.java:120)\n    at org.hl7.fhir.r5.renderers.ResourceRenderer.render(ResourceRenderer.java:86)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:1306)\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4096)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:944)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:795)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8975)\n</code></pre></div>",
        "id": 266730694,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641240196
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 266730715,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641240206
    },
    {
        "content": "<p>how to reproduce?</p>",
        "id": 266862802,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641330106
    },
    {
        "content": "<p>build the IG at <a href=\"https://github.com/hl7-eu/gravitate-health\">https://github.com/hl7-eu/gravitate-health</a> and it will show up using _genonce</p>",
        "id": 266912110,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641373766
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 266912117,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641373776
    },
    {
        "content": "<p>It would be REALLY appreciated if this could be fixed ahead of the cthon next week as we rely on the IG to document our examples</p>",
        "id": 266975951,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641409251
    },
    {
        "content": "<p>As well as load them to a test instance</p>",
        "id": 266976000,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641409267
    },
    {
        "content": "<p>It would help getting feedback to the 5.0.0 snapshot</p>",
        "id": 266976073,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641409299
    },
    {
        "content": "<p>I  can't run this IG? - Sushi failure around r5</p>",
        "id": 267013182,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641429829
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> -- what are you referring to?  There was a SUSHI bug related to XHTML that affected this project (it switched <code>&lt;br/&gt;</code> to <code>&lt;br&gt;</code>).  If that's what you're referring to, then it is fixed in the release I put out about 5 minutes ago.</p>\n<p>OR - if you have 5.0.0-snapshot1 in your FHIR cache but SUSHI isn't finding it or says it is an unsupported version, then you're probably running an older version of SUSHI.  Please update your SUSHI to 2.2.6 (<code>npm install -g fsh-sushi</code>).</p>\n<p>OR - if you don't have 5.0.0-snapshot1 in your FHIR cache then you're bumping into the expired certificate on the packages server.  You can either find another way to get it into your cache and then run SUSHI again, or you can use the temporary workaround documented <a href=\"#narrow/stream/215610-shorthand/topic/R5.20support/near/266722279\">here</a>.</p>\n<p>When I checkout gravitate-health and run _genonce (with SUSHI 2.2.6 installed and 5.0.0-snapshot1 in my FHIR cache), I am able to reproduce the <code>Now what?</code> error documented above.</p>",
        "id": 267014388,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1641430904
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>Sushi: error The element or path you referenced does not exist: package.package  (00:01.0997)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\04-medicinalproductdefinition\\vpi-04-medicinalproductdefinition-01.fsh (00:01.0998)\nSushi: Line: 19                                                                  (00:01.0998)\nSushi: error The element or path you referenced does not exist: subject          (00:02.0042)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\05-packagedproductdefinition\\vpi-05-packagedproductdefinition-01.fsh (00:02.0042)\nSushi: Line: 38                                                                  (00:02.0043)\nSushi: error The element or path you referenced does not exist: subject          (00:02.0072)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\06-administrableproductdefinition\\vpi-06-administrableproductdefinition-01.fsh (00:02.0073)\nSushi: Line: 22                                                                  (00:02.0073)\nSushi: error Element AdministrableProductDefinition.status has minimum cardinality 1 but occurs 0 time(s). (00:02.0074)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\06-administrableproductdefinition\\vpi-06-administrableproductdefinition-01.fsh (00:02.0075)\nSushi: Line: 1 - 22                                                              (00:02.0075)\nSushi: error Cannot assign Reference value: Reference(Ingredient/cfsb1640607635665). Value does not match element type: CodeableConcept (00:02.0098)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\07-manufactureditemdefinition\\vpi-07-manufactureditemdefinition-Humalog-01.fsh (00:02.0099)\nSushi: Line: 20                                                                  (00:02.0099)\nSushi: error Cannot assign Reference value: Reference(Ingredient/cfsb1640780048702). Value does not match element type: CodeableConcept (00:02.0099)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\07-manufactureditemdefinition\\vpi-07-manufactureditemdefinition-Humalog-01.fsh (00:02.0100)\nSushi: Line: 23                                                                  (00:02.0101)\nSushi: error Cannot assign Reference value: Reference(Ingredient/cfsb1640780419325). Value does not match element type: CodeableConcept (00:02.0101)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\07-manufactureditemdefinition\\vpi-07-manufactureditemdefinition-Humalog-01.fsh (00:02.0101)\nSushi: Line: 26                                                                  (00:02.0102)\nSushi: error Cannot assign Reference value: Reference(Ingredient/cfsb1640780546710). Value does not match element type: CodeableConcept (00:02.0102)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\07-manufactureditemdefinition\\vpi-07-manufactureditemdefinition-Humalog-01.fsh (00:02.0102)\nSushi: Line: 29                                                                  (00:02.0103)\nSushi: error Cannot assign Reference value: Reference(Ingredient/cfsb1640780625902). Value does not match element type: CodeableConcept (00:02.0103)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\07-manufactureditemdefinition\\vpi-07-manufactureditemdefinition-Humalog-01.fsh (00:02.0103)\nSushi: Line: 32                                                                  (00:02.0104)\nSushi: error Cannot assign Reference value: Reference(Ingredient/cfsb1640780743829). Value does not match element type: CodeableConcept (00:02.0104)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\07-manufactureditemdefinition\\vpi-07-manufactureditemdefinition-Humalog-01.fsh (00:02.0105)\nSushi: Line: 35                                                                  (00:02.0105)\nSushi: error Cannot assign Reference value: Reference(Ingredient/cfsb1640780784213). Value does not match element type: CodeableConcept (00:02.0105)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\07-manufactureditemdefinition\\vpi-07-manufactureditemdefinition-Humalog-01.fsh (00:02.0106)\nSushi: Line: 38                                                                  (00:02.0106)\nSushi: error Cannot assign Reference value: Reference(Ingredient/cfsb1640780830373). Value does not match element type: CodeableConcept (00:02.0107)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\07-manufactureditemdefinition\\vpi-07-manufactureditemdefinition-Humalog-01.fsh (00:02.0107)\nSushi: Line: 41                                                                  (00:02.0107)\nSushi: error Element ManufacturedItemDefinition.status has minimum cardinality 1 but occurs 0 time(s). (00:02.0108)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\07-manufactureditemdefinition\\vpi-07-manufactureditemdefinition-Humalog-01.fsh (00:02.0108)\nSushi: Line: 1 - 41                                                              (00:02.0108)\nSushi: error Cannot assign Reference value: Reference(Organization/cfsb1641381635293). Value does not match element type: BackboneElement (00:02.0123)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\08-ingredient\\ingredient-01.fsh (00:02.0124)\nSushi: Line: 22                                                                  (00:02.0124)\nSushi: error Element Ingredient.status has minimum cardinality 1 but occurs 0 time(s). (00:02.0129)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\08-ingredient\\ingredient-01.fsh (00:02.0129)\nSushi: Line: 1 - 22                                                              (00:02.0130)\nSushi: error Cannot assign Reference value: Reference(Organization/cfsb1640870328895). Value does not match element type: BackboneElement (00:02.0140)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\08-ingredient\\ingredient-02.fsh (00:02.0140)\nSushi: Line: 17                                                                  (00:02.0140)\nSushi: error Element Ingredient.status has minimum cardinality 1 but occurs 0 time(s). (00:02.0141)\nSushi: File: c:\\temp\\fhir-igs\\hl7-eu-gravitate-health#master\\input\\fsh\\Humalog-profile-instances-en\\08-ingredient\\ingredient-02.fsh (00:02.0141)\n</code></pre></div>\n<p>etc</p>",
        "id": 267014531,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641431036
    },
    {
        "content": "<p>Hmm... I'm not seeing that at all.  And the gravitate-health folks have never mentioned that to me either.  Can you check that you're using SUSHI 2.2.6 (it's the first line SUSHI logs)?</p>\n<p>It looks like it's actually using R4 (or at least not the latest R5) when processing that IG.  If you are using SUSHI 2.2.6 and still see that then can you check that the <code>sushi-config.yaml</code> file specifies 5.0.0-snapshot1?  The only thing I can think is that something prevented Git from updating the IG's sushi-config.yaml.</p>\n<p>Or... is there any way that the 5.0.0-snapshot1 in your cache might actually <em>not</em> be 5.0.0-snapshot1?</p>\n<p>I'm stumped.</p>",
        "id": 267015026,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1641431473
    },
    {
        "content": "<p>y 2.2.6</p>",
        "id": 267016294,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641432850
    },
    {
        "content": "<p>cleared my caches out</p>",
        "id": 267016451,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641433051
    },
    {
        "content": "<p>Sushi: error Failed to load hl7.fhir.r5.core#5.0.0-snapshot1: The package hl7.fhir.r5.core#5.0.0-snapshot1 could not be loaded locally or from the FHIR package registry. (00:03.0996)</p>",
        "id": 267016452,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641433052
    },
    {
        "content": "<p>set the flag, and then run again, and that's what I get</p>",
        "id": 267016546,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641433191
    },
    {
        "content": "<p>Ill have a look ASAP.</p>",
        "id": 267030521,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641451455
    },
    {
        "content": "<p>We've never tried it with sushi 2.2.6</p>",
        "id": 267030570,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641451558
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"465218\">@Francesco Cremonesi</span></p>",
        "id": 267030653,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641451639
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"408801\">@Craig Anderson</span></p>",
        "id": 267030658,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641451655
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - its back to broken again ... have a look at <a href=\"#narrow/stream/179297-committers.2Fnotification/topic/ig-build/near/267044841\">https://chat.fhir.org/#narrow/stream/179297-committers.2Fnotification/topic/ig-build/near/267044841</a></p>",
        "id": 267045467,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641464793
    },
    {
        "content": "<p>We had some bad FSH files - they are now removed so you should be able to debug it</p>",
        "id": 267054184,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641471370
    },
    {
        "content": "<p>fixed next release</p>",
        "id": 267107643,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641499650
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> will the correction go into any public branches so that I can build the fixed version myself as time is a sparse resource</p>",
        "id": 267159832,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641541490
    },
    {
        "content": "<p>And when is next release?</p>",
        "id": 267207917,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641572202
    },
    {
        "content": "<p>monday, I think</p>",
        "id": 267240309,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641588085
    },
    {
        "content": "<p>Just in time cthon - I hope</p>",
        "id": 267286144,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641633723
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> let me know if the fix hits the road today - we really would like to have the IG ready for Connectathon start</p>",
        "id": 267411110,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641805593
    },
    {
        "content": "<p>sorry. I meant to get to this today but my daughter got covid so that blew my plans</p>",
        "id": 267412971,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641806741
    },
    {
        "content": "<p>this PR is the code you need: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/709\">https://github.com/hapifhir/org.hl7.fhir.core/pull/709</a></p>",
        "id": 267413456,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641806979
    },
    {
        "content": "<p>Best wishes for your daughter. Thx a bunch - I'll give it a go</p>",
        "id": 267413641,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641807050
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> .... well ...</p>",
        "id": 267416029,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641808156
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.0:compile (java-compile) on project org.hl7.fhir.r5: Compilation failure: Compilation failure:\n[ERROR] /Users/jvi/org.hl7.fhir.core/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/utils/ResourceUtilities.java:[67,17] error: cannot find symbol\n[ERROR]   symbol:   class JurisdictionLocales\n[ERROR]   location: class ResourceUtilities\n[ERROR] /Users/jvi/org.hl7.fhir.core/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/utils/ResourceUtilities.java:[67,46] error: cannot find symbol\n[ERROR]   symbol:   class JurisdictionLocales\n[ERROR]   location: class ResourceUtilities\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n</code></pre></div>",
        "id": 267416042,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641808167
    },
    {
        "content": "<p>I think you missed a file ...</p>",
        "id": 267416070,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641808181
    },
    {
        "content": "<p>for some reason, git no longer prompts me to add new files.</p>",
        "id": 267416193,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641808240
    },
    {
        "content": "<p>try again</p>",
        "id": 267416199,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641808246
    },
    {
        "content": "<p>I must admit - this is my first remote pair programming exercise I've done with a 10 hour time zone difference</p>",
        "id": 267416365,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641808344
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>[INFO] org.hl7.fhir.convertors ............................ FAILURE [ 24.106 s]\n[INFO] org.hl7.fhir.validation ............................ SKIPPED\n[INFO] org.hl7.fhir.validation.cli ........................ SKIPPED\n[INFO] org.hl7.fhir.report ................................ SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  01:44 min\n[INFO] Finished at: 2022-01-10T10:52:52+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:animal-sniffer-maven-plugin:1.18:check (check-java-api) on project org.hl7.fhir.convertors: Failed to check signatures: /Users/jvi/org.hl7.fhir.core/org.hl7.fhir.convertors/target/classes/org/hl7/fhir/convertors/misc/searchparam/SearchParameterProcessor.class (Operation not permitted) -&gt; [Help 1]\n</code></pre></div>\n<p>Should I try to bypass that?</p>",
        "id": 267417317,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641808891
    },
    {
        "content": "<p>I don't know. what failed?</p>",
        "id": 267423254,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641812181
    },
    {
        "content": "<p>I'm seriously unready for the connectathon - covid disaster here is now my family problem, and I'm still trying to deal with publishing R4B and R5</p>",
        "id": 267423329,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641812217
    },
    {
        "content": "<p>It's the use of <code>animal-sniffer-maven-plugin</code> that causes the problem</p>",
        "id": 267423914,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641812466
    },
    {
        "content": "<p>in combination with the bundle packaging</p>",
        "id": 267423944,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641812478
    },
    {
        "content": "<p>I don't have a clue what that is</p>",
        "id": 267423999,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641812504
    },
    {
        "content": "<p>but why did convertors fail?</p>",
        "id": 267424020,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641812517
    },
    {
        "content": "<p>does it compile locally for you?</p>",
        "id": 267424085,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641812535
    },
    {
        "content": "<p><code>Failed to check signatures: /Users/jvi/org.hl7.fhir.core/org.hl7.fhir.convertors/target/classes/org/hl7/fhir/convertors/misc/searchparam/SearchParameterProcessor.class (Operation not permitted)</code></p>",
        "id": 267424095,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641812541
    },
    {
        "content": "<p>sure it compiles for me</p>",
        "id": 267424158,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641812587
    },
    {
        "content": "<p>hmmm ... okay ... that must be my pain then</p>",
        "id": 267426731,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641814060
    },
    {
        "content": "<p>and there's no snapshot build of it that contains your fix, right?</p>",
        "id": 267426870,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641814128
    },
    {
        "content": "<p>not yet</p>",
        "id": 267427086,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641814252
    },
    {
        "content": "<p>crap ... And I just found that the latest snapshot from HAPI (HAPI FHIR version 5.7.0-PRE8-SNAPSHOT - ping <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> ) does not support 5.0.0-snapshot1 as it does not know <code>ClinicalUseDefinition</code></p>",
        "id": 267427455,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641814465
    },
    {
        "content": "<p>Wait ... there was a never snapshot of HAPI FHIR ... so far so good. Still the need the fix in core though so that I can run the publisher</p>",
        "id": 267427982,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641814832
    },
    {
        "content": "<p>well, I don't see how I can get a new publisher out in this timeline. I had hoped to but my day went to hell</p>",
        "id": 267429735,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641816026
    },
    {
        "content": "<p>maybe <span class=\"user-mention\" data-user-id=\"453078\">@David Otasek</span> will have time</p>",
        "id": 267429754,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641816032
    },
    {
        "content": "<p>sure ... all I need is a snapshot build of core - then I hopefully can build the publisher myself</p>",
        "id": 267429832,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641816086
    },
    {
        "content": "<p>well, this one I just commited should build the snapshot</p>",
        "id": 267430056,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641816232
    },
    {
        "content": "<p>Meanwhile - <span class=\"user-mention\" data-user-id=\"453078\">@David Otasek</span> - this doesn't look good in the PRE9-SNAPSHOT</p>\n<div class=\"codehilite\"><pre><span></span><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Values of types &quot;BOOLEAN&quot; and &quot;INTEGER&quot; are not comparable; SQL statement:\nselect search0_.pid as col_0_0_ from hfj_search search0_ where search0_.created&lt;? and (search0_.expiry_or_null is null or search0_.expiry_or_null&lt;?) and (search0_.search_deleted is null or search0_.search_deleted=0) limit ? [90110-204]\n</code></pre></div>",
        "id": 267432780,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641818208
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> </p>\n<div class=\"codehilite\"><pre><span></span><code>Unhandled Exception: java.lang.NullPointerException: Cannot invoke &quot;org.hl7.fhir.r5.elementmodel.Element$SpecialElement.toHuman()&quot; because &quot;special&quot; is null (00:57.0704)\nPublishing Content Failed: Cannot invoke &quot;org.hl7.fhir.r5.elementmodel.Element$SpecialElement.toHuman()&quot; because &quot;special&quot; is null (00:57.0706)\n</code></pre></div>\n<p>This came up using my local build</p>",
        "id": 267433401,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641818585
    },
    {
        "content": "<p><a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/709/files#diff-171b0dd7f64aa0a91b909e9575a10feacbaff16f38e1ee52e37733c271295b32\">https://github.com/hapifhir/org.hl7.fhir.core/pull/709/files#diff-171b0dd7f64aa0a91b909e9575a10feacbaff16f38e1ee52e37733c271295b32</a></p>",
        "id": 267433575,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641818698
    },
    {
        "content": "<p>I'll clean my cache and rebuild then</p>",
        "id": 267433632,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641818739
    },
    {
        "content": "<p>snapshot version should be <code>5.6.22-SNAPSHOT</code> right?</p>",
        "id": 267433831,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641818850
    },
    {
        "content": "<p>yes</p>",
        "id": 267434777,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641819351
    },
    {
        "content": "<p>my PR doesn't build because of some maven release issue with the test cases. presumably this will resolve in time. I'm going to sleep - <span class=\"user-mention\" data-user-id=\"453078\">@David Otasek</span> might ping it in an hour or so. I think it should work - all tests pass for me locally</p>",
        "id": 267434893,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641819394
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/fhir-ig-publisher/pull/368\">https://github.com/HL7/fhir-ig-publisher/pull/368</a> needs oking if we're going to do a full release</p>",
        "id": 267435006,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641819462
    },
    {
        "content": "<p>Okay - thats for the effort. I do see that the snapshot that I resolve dates back to november though.</p>",
        "id": 267435048,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641819474
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span>  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I'm taking a look now. Just pinged the build on the pipeline, and I'm going to try to build myself locally.</p>",
        "id": 267443740,
        "sender_full_name": "David Otasek",
        "timestamp": 1641824122
    },
    {
        "content": "<p>Regarding building the core package - that is a OS thing, I think. My colleague using windows had no issues. I'm on a mac and that didn't work.</p>",
        "id": 267443886,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641824178
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> I'm also on a mac. I'm pulling Grahame's PR and rebuilding.</p>",
        "id": 267444250,
        "sender_full_name": "David Otasek",
        "timestamp": 1641824341
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> to be clear, the issue is that we need both of Grahames PRs, on core, and on ig-publisher to build and be merged?</p>",
        "id": 267444947,
        "sender_full_name": "David Otasek",
        "timestamp": 1641824730
    },
    {
        "content": "<p>ideally, yes</p>",
        "id": 267445005,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641824762
    },
    {
        "content": "<p>I got version of core built by my  colleague  and I built the publisher myself - so I'll currently survive</p>",
        "id": 267445098,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641824811
    },
    {
        "content": "<p>but for all others that wan't to be able to build IG's with 5.0.0-snapshot1 - they will need the core to be pulished as well as the publisher</p>",
        "id": 267445157,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641824852
    },
    {
        "content": "<p>OK. I'm looking into it. The PR initially failed because of an intermittent issue, but now it's definitely failing on a timezone issue. I bet it would build fine if I was in Australia/Sydney. Looking into a fix.</p>",
        "id": 267451191,
        "sender_full_name": "David Otasek",
        "timestamp": 1641827686
    },
    {
        "content": "<p>I'm still tracing the root cause of this; Grahame's test correctly sets the time zone for the context, but somehow, its doesn't seem to be correctly reflected in the renderer on my build.</p>\n<p>I can continue to try to fix it, and hope I find the answer in time, or I can do the wrong thing and put a workaround in the test case that ignores the date. I don't like the latter, but if having the build is a bigger priority, I'll do it.</p>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span>  what do you think is the lesser of evils here?</p>",
        "id": 267466964,
        "sender_full_name": "David Otasek",
        "timestamp": 1641833833
    },
    {
        "content": "<p>I disabled the tests entirely and it still failed for me</p>",
        "id": 267468919,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641834600
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span>  where does it fail for you?</p>",
        "id": 267469159,
        "sender_full_name": "David Otasek",
        "timestamp": 1641834695
    },
    {
        "content": "<p>While waiting for advise from Grahame you could look at the Jpa Starter that fails when using H2 dialect.</p>",
        "id": 267469188,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641834712
    },
    {
        "content": "<p>Core failed with <code>Failed to check signatures: /Users/jvi/org.hl7.fhir.core/org.hl7.fhir.convertors/target/classes/org/hl7/fhir/convertors/misc/searchparam/SearchParameterProcessor.class (Operation not permitted)</code></p>",
        "id": 267469395,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641834814
    },
    {
        "content": "<p>During animal-sniffer for R5</p>",
        "id": 267469655,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641834928
    },
    {
        "content": "<p>I get no animal-sniffer failure for R5. What parameters are you running the build with?</p>\n<p>As for the Jpa Starter failure, I'm not familiar with that at all. Is this what you're referring to: <a href=\"#narrow/stream/179166-implementers/topic/Validating.20QI.20Core/near/265199635\">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Validating.20QI.20Core/near/265199635</a></p>",
        "id": 267472318,
        "sender_full_name": "David Otasek",
        "timestamp": 1641836215
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"453078\">@David Otasek</span> -&gt; HAPI dialect bug: <a href=\"#narrow/stream/179252-IG-creation/topic/R5/near/267432780\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/R5/near/267432780</a></p>",
        "id": 267483497,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641841070
    },
    {
        "content": "<p>Regarding parameters for core: I just did <code>mvn -Dmaven.test.skip install</code></p>",
        "id": 267483684,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641841145
    },
    {
        "content": "<p>I would probably suggest a docker image for the future for building it ... In that way we can also control timezones and whatever environment variables</p>",
        "id": 267483875,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641841210
    },
    {
        "content": "<p>no we want the tests to run and pass in multiple timezones</p>",
        "id": 267484726,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641841571
    },
    {
        "content": "<p>sure ... so instrument multiple docker images</p>",
        "id": 267484771,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641841594
    },
    {
        "content": "<p>that test failure was a code fail. It's just that I was too tired to think it through</p>",
        "id": 267484800,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641841605
    },
    {
        "content": "<p>fully understandable</p>",
        "id": 267484844,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641841627
    },
    {
        "content": "<p>FYI -  I succeeded in a local build -&gt; IG on 5.0.0-snapshot1 -&gt; <a href=\"https://hl7-eu.github.io/gravitate-health/\">https://hl7-eu.github.io/gravitate-health/</a></p>",
        "id": 267485017,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641841690
    },
    {
        "content": "<p>Do I get a medal or something <span aria-label=\"rolling on the floor laughing\" class=\"emoji emoji-1f923\" role=\"img\" title=\"rolling on the floor laughing\">:rolling_on_the_floor_laughing:</span> ?</p>",
        "id": 267485770,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641842041
    },
    {
        "content": "<p>(I've been through bugs in sushi, igpublisher, cert expiration, org.hl7.fhir.core, OS bugs and what not - all during the holidays)</p>",
        "id": 267486042,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641842155
    },
    {
        "content": "<p>(but then again - credits goes to the community for putting up with me and my complaining and their fixing )</p>",
        "id": 267487248,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641842680
    },
    {
        "content": "<p>I suggest we make it a race next time a snapshot build is planned to see who gets there first in terms of functional IG!</p>",
        "id": 267487365,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641842724
    },
    {
        "content": "<p>I'm wildly not in favor of that</p>",
        "id": 267487418,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1641842752
    },
    {
        "content": "<div class=\"message_inline_image\"><a href=\"https://media.giphy.com/media/dC9DTdqPmRnlS/giphy.gif\"><img src=\"https://uploads.zulipusercontent.net/59f00c5380276278c30599a18de8310a477ac469/68747470733a2f2f6d656469612e67697068792e636f6d2f6d656469612f64433944546471506d526e6c532f67697068792e676966\"></a></div>",
        "id": 267488201,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641843097
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/8exvXImqzuNPyETTxhBPTWrK/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/8exvXImqzuNPyETTxhBPTWrK/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/8exvXImqzuNPyETTxhBPTWrK/image.png\"></a></div>",
        "id": 267488388,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641843198
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span aria-label=\"point up\" class=\"emoji emoji-1f446\" role=\"img\" title=\"point up\">:point_up:</span>ship fast, ship often</p>",
        "id": 267488530,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1641843268
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191427\">Jens Villadsen</span> has marked this topic as resolved.</p>",
        "id": 267494312,
        "sender_full_name": "Notification Bot",
        "timestamp": 1641846069
    }
]