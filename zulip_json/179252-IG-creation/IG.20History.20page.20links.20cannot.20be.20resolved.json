[
    {
        "content": "<p>IG began getting these four build errors regarding the History pages (xml, json, ttyl, Narrative Content), any thoughts on what could be causing these?</p>\n<div class=\"codehilite\"><pre><span></span><code>ImplementationGuide-hl7.fhir.us.dentalreferral.history.html#/html/body/div/div/div/div/div/ul/li/a at Line 123, column 6|The link &#39;ImplementationGuide-hl7.fhir.us.dentalreferral.html&#39; for &quot;Narrative Content&quot; cannot be resolved\nImplementationGuide-hl7.fhir.us.dentalreferral.history.html#/html/body/div/div/div/div/div/ul/li/a at Line 129, column 8|The link &#39;ImplementationGuide-hl7.fhir.us.dentalreferral.xml.html&#39; for &quot;XML&quot; cannot be resolved\nImplementationGuide-hl7.fhir.us.dentalreferral.history.html#/html/body/div/div/div/div/div/ul/li/a at Line 136, column 8|The link &#39;ImplementationGuide-hl7.fhir.us.dentalreferral.json.html&#39; for &quot;JSON&quot; cannot be resolved\nImplementationGuide-hl7.fhir.us.dentalreferral.history.html#/html/body/div/div/div/div/div/ul/li/a at Line 143, column 8|The link &#39;ImplementationGuide-hl7.fhir.us.dentalreferral.ttl.html&#39; for &quot;TTL&quot; cannot be resolved\n</code></pre></div>",
        "id": 204151638,
        "sender_full_name": "David deRoode",
        "timestamp": 1594938728
    },
    {
        "content": "<p>They just popped for me as well...</p>",
        "id": 204160732,
        "sender_full_name": "Eric Haas",
        "timestamp": 1594946590
    },
    {
        "content": "<p>looks like a template error.. I'll check it out</p>",
        "id": 204161452,
        "sender_full_name": "Eric Haas",
        "timestamp": 1594947450
    },
    {
        "content": "<p>This <a href=\"https://github.com/HL7/ig-template-base/pull/110\">PR</a> hides the IG resource's HX file but does not fix the extension which are still causing build errors.  The changes to the config.json file to basically consolidate the extension hx into the profile hx template may only be implemented by the ig-publisher tooling or maybe script?  I don't know... can you check it out @Lloyd and or @Grahame</p>",
        "id": 204165239,
        "sender_full_name": "Eric Haas",
        "timestamp": 1594952759
    },
    {
        "content": "<p>Example of build errors for DEQM: <a href=\"https://build.fhir.org/ig/HL7/davinci-deqm/qa.html\">https://build.fhir.org/ig/HL7/davinci-deqm/qa.html</a></p>",
        "id": 204165369,
        "sender_full_name": "Eric Haas",
        "timestamp": 1594952919
    },
    {
        "content": "<p>When I build this locally with the base template (including latest changes) I don't get those errors</p>",
        "id": 204173256,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594965667
    },
    {
        "content": "<p>I'm getting a lot of these errors as well - there seem to be history fragments generated for all extensions - and they don't have any entries so they all get these errors...</p>\n<p>using the latest publisher...</p>\n<p>Any way to turn the history off? Or do there need to be provenance entries for each extension...</p>",
        "id": 204174353,
        "sender_full_name": "David Hay",
        "timestamp": 1594967280
    },
    {
        "content": "<p>can you point to the errors you're getting, <span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> ?</p>",
        "id": 204174607,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594967674
    },
    {
        "content": "<p>you do not need to do anything - if something fails it's the template that is not OK</p>",
        "id": 204174624,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594967697
    },
    {
        "content": "<p>here you go: <a href=\"http://build.fhir.org/ig/HL7NZ/nhi/branches/master/index.html\">http://build.fhir.org/ig/HL7NZ/nhi/branches/master/index.html</a></p>",
        "id": 204175948,
        "sender_full_name": "David Hay",
        "timestamp": 1594969317
    },
    {
        "content": "<p>Thanks for looking at this!</p>",
        "id": 204176036,
        "sender_full_name": "David Hay",
        "timestamp": 1594969389
    },
    {
        "content": "<p>in a few hours I'll check this. thanks</p>",
        "id": 204180383,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594973093
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> I get those too with my IHE template using IG.</p>",
        "id": 204194917,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594985045
    },
    {
        "content": "<p>I figure I must have accidentally turned on something for history but not fully turned it on. I don't know what I did wrong, don't know what I should have done. <a href=\"https://github.com/IHE/FormatCode\">https://github.com/IHE/FormatCode</a></p>",
        "id": 204194981,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594985111
    },
    {
        "content": "<p>I\"m getting it to, using a derivative of fhir.base.template.</p>",
        "id": 204199105,
        "sender_full_name": "David Pyke",
        "timestamp": 1594988601
    },
    {
        "content": "<p>All IGs will suffer from the same. I think i found the issue</p>",
        "id": 204208119,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594993974
    },
    {
        "content": "<p>It's in the base template so all templates will suffer from the same</p>",
        "id": 204208165,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594994001
    },
    {
        "content": "<p>suffering in a group is far less painful than suffering alone. I really appreciate your expertise, heal us doctor.</p>",
        "id": 204209866,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594994869
    },
    {
        "content": "<p>what Medication will you prescribe (MedicationRequest)? -- a little humor for a friday --</p>",
        "id": 204210067,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594994974
    },
    {
        "content": "<p>i'd tried to describe that but Dosage does not have enough fields to describe that.</p>",
        "id": 204211415,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594995701
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/179252-IG-creation/topic/IG.20History.20page.20links.20cannot.20be.20resolved/near/204209866\">said</a>:</p>\n<blockquote>\n<p>suffering in a group is far less painful than suffering alone</p>\n</blockquote>\n<p>I know, that is why I let the group suffer <span aria-label=\"smiling devil\" class=\"emoji emoji-1f608\" role=\"img\" title=\"smiling devil\">:smiling_devil:</span></p>",
        "id": 204211559,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594995782
    },
    {
        "content": "<p>I'm doing the \"therapeutic proof\", not sure the term in English. making a fix to see if i got the diagnostic right</p>",
        "id": 204211868,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594995925
    },
    {
        "content": "<p>I'll be ready for the Procedure to address the Condition</p>",
        "id": 204213774,
        "sender_full_name": "David Pyke",
        "timestamp": 1594996823
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179252-IG-creation/topic/IG.20History.20page.20links.20cannot.20be.20resolved/near/204211868\">said</a>:</p>\n<blockquote>\n<p>I'm doing the \"therapeutic proof\", not sure the term in English. making a fix to see if i got the diagnostic right</p>\n</blockquote>\n<p>is it a double -blind study?</p>",
        "id": 204214637,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594997242
    },
    {
        "content": "<p>not really</p>",
        "id": 204214805,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594997342
    },
    {
        "content": "<p>well include <span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span> and I and you will have two blind (ignorant) guys helping out</p>",
        "id": 204214901,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594997400
    },
    {
        "content": "<p>if you are looking for the differential:<br>\nI think the nav-tabs is causing an issue because xxx.history.html is the name of the fragment AND the name of the output file</p>",
        "id": 204214963,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594997408
    },
    {
        "content": "<p>the nav-tabs was introduced by <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I think, and he started the debugging, so I am proceeding and seeing what is happening based on his issue report</p>",
        "id": 204215124,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594997500
    },
    {
        "content": "<p>i'm changing the config json to use xxx.base-history and not xxx.history</p>",
        "id": 204215520,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594997685
    },
    {
        "content": "<p>I'm definitely not sure this s the issue, but it allows me to look for the issue</p>",
        "id": 204217304,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594998484
    },
    {
        "content": "<p>@Jose did you look at my PR:  <a href=\"https://github.com/HL7/ig-template-base/pull/110\">https://github.com/HL7/ig-template-base/pull/110</a></p>",
        "id": 204217584,
        "sender_full_name": "Eric Haas",
        "timestamp": 1594998624
    },
    {
        "content": "<p>yes</p>",
        "id": 204217647,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594998656
    },
    {
        "content": "<p>i am now tracing back my steps to see which step is the one that fixed the issue (if I fixed it)</p>",
        "id": 204217720,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594998691
    },
    {
        "content": "<p>history frags are being automatically  generated for all the artificacts by default and the only issue remaining with the tabs is that extensions are creating using the wrong template and I don't know why.</p>",
        "id": 204218375,
        "sender_full_name": "Eric Haas",
        "timestamp": 1594998972
    },
    {
        "content": "<p>yes, but the fragment has the same name as the final file - i don't know if that breaks it, but it sure doesn't help debugging. in a few minutes I shold be able to diff the things I have (i got it to 0 errors in NZ profile)</p>",
        "id": 204218749,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594999144
    },
    {
        "content": "<p>also there was a missing line in the config.json</p>",
        "id": 204218799,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594999173
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>  &quot;template-format&quot;: &quot;&quot;,\n</code></pre></div>\n\n\n<p>inside StructureDefinition (the profile, not the extension). I think this gave me a few issues with the xxx-.json.html and xxx.xml.html...</p>",
        "id": 204218959,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594999239
    },
    {
        "content": "<p>I just did a build and the implementation guide history error went away but the extension structure def history error remains</p>",
        "id": 204219680,
        "sender_full_name": "David Pyke",
        "timestamp": 1594999615
    },
    {
        "content": "<p>certainly see the history on conformance resource generated pages where there are Provenance.   But isn't there still a need for history of changes at the IG level? If not, then I am fine with that going away.</p>",
        "id": 204219700,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594999626
    },
    {
        "content": "<p>or has history of changes at the IG level moved to a Provenance based method?</p>",
        "id": 204219953,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594999748
    },
    {
        "content": "<p>I think the templates are correct and the generated fragments all exist.  I'm not sure about the magic behind matching what is in the config.json to the proper template and that is where I think the issue is.  <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 204221806,
        "sender_full_name": "Eric Haas",
        "timestamp": 1595000610
    },
    {
        "content": "<p>i have a config.json that fixed my issue, but it also includes some other changes, i will try to pinpoint which one helps.</p>",
        "id": 204222100,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595000742
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I think your issue in the PR is because of the missing line in the config.json</p>",
        "id": 204222439,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595000816
    },
    {
        "content": "<p>without that line, it still tries to create another template-format.html thing, but it shouldn't because it already creates the xml and the json explicitly</p>",
        "id": 204222668,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595000923
    },
    {
        "content": "<p>this is the change: <br>\n<a href=\"/user_uploads/10155/3ud16cxs3IlJOQhz1ndbpJii/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/3ud16cxs3IlJOQhz1ndbpJii/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/3ud16cxs3IlJOQhz1ndbpJii/image.png\"></a></div>",
        "id": 204222682,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595000931
    },
    {
        "content": "<p>thats odd because that is a new line and does not involve the templates for extensions</p>",
        "id": 204222810,
        "sender_full_name": "Eric Haas",
        "timestamp": 1595000994
    },
    {
        "content": "<p>that is what I am trying to see if my changes help fix this or at least understand.</p>",
        "id": 204223105,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595001109
    },
    {
        "content": "<p>want to check a new config.json? It includes some other stuff but then we can trim down</p>",
        "id": 204223252,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595001150
    },
    {
        "content": "<p>or <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> <span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span>  does the offer for help debugging still stand? i'd appreciate a confirmation that this may be a step forward in fixing this</p>",
        "id": 204223320,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595001177
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/BNF8ajz65bqCFGjoHcixCKwc/config.json\">config.json</a></p>",
        "id": 204223542,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595001253
    },
    {
        "content": "<p>this is what I have now</p>",
        "id": 204223560,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595001258
    },
    {
        "content": "<p>@Jose chrome blocked it   I'll just add that line and try it now.</p>",
        "id": 204224251,
        "sender_full_name": "Eric Haas",
        "timestamp": 1595001527
    },
    {
        "content": "<p>it's several lines, but yes please start with that</p>",
        "id": 204224276,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595001542
    },
    {
        "content": "<p>in chrome you can sill get the file:</p>",
        "id": 204224322,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595001561
    },
    {
        "content": "<p>instead of clicking on the file on the bottom left notification, on the right part of that notification there is a \"show All\" (or CTRL +J)</p>",
        "id": 204224469,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595001622
    },
    {
        "content": "<p>there you have \"keep unsafe file\"</p>",
        "id": 204224486,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595001630
    },
    {
        "content": "<p>but I am just realizing that this may not be it - i think this config did not have the lines that create the other history pages (Which is where the issue was )</p>",
        "id": 204225028,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595001848
    },
    {
        "content": "<p>I will note that the problem has gone away... so something magical has happened.</p>",
        "id": 204226357,
        "sender_full_name": "John Moehrke",
        "timestamp": 1595002460
    },
    {
        "content": "<p>which is actually more scary</p>",
        "id": 204226591,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595002567
    },
    {
        "content": "<p>because I don't see any changes in the code since 12 hours ago</p>",
        "id": 204226642,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595002596
    },
    {
        "content": "<p>yup, I can't confirm that it was failing 12 hours ago</p>",
        "id": 204227233,
        "sender_full_name": "John Moehrke",
        "timestamp": 1595002865
    },
    {
        "content": "<p>adding in the line</p>\n<p><code>      \"template-format\": \"\",</code> to the config.json made all the hx page tab links for profiles break as well so will remove from both SD and SD:extension and see..</p>",
        "id": 204227711,
        "sender_full_name": "Eric Haas",
        "timestamp": 1595003124
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  removing that line from both SD and SD:Extension in config.json fixed the tab link error issue.. BUT I did not check for any other side effects and I gotta go...</p>",
        "id": 204228357,
        "sender_full_name": "Eric Haas",
        "timestamp": 1595003468
    },
    {
        "content": "<p>thanks, i'll continue</p>",
        "id": 204228502,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595003535
    },
    {
        "content": "<p>I think I fixed it</p>",
        "id": 204233340,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595006265
    },
    {
        "content": "<p>Anyone want to test the fix? Should have a local template and history, ideally for different types of assets</p>",
        "id": 204233703,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595006442
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> PR created. I think it's fixed but please see if you spot anything</p>",
        "id": 204235876,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595007684
    },
    {
        "content": "<p>(wanted to submit this before dinner time to avoid memory losses)</p>",
        "id": 204235908,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595007708
    },
    {
        "content": "<p>Whatever was just pushed to the base template fixed the issue for me</p>",
        "id": 204245780,
        "sender_full_name": "David Pyke",
        "timestamp": 1595012584
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span>  is it on the ci build?</p>",
        "id": 204245976,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595012693
    },
    {
        "content": "<p>Yep.</p>",
        "id": 204246053,
        "sender_full_name": "David Pyke",
        "timestamp": 1595012742
    },
    {
        "content": "<p>link?</p>",
        "id": 204246071,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595012750
    },
    {
        "content": "<p>file:///home/loftwyr/FHIR/CEQSubscription/output/qa.html</p>",
        "id": 204246131,
        "sender_full_name": "David Pyke",
        "timestamp": 1595012763
    },
    {
        "content": "<p>Hold on, let me push it to the autobuilder</p>",
        "id": 204246169,
        "sender_full_name": "David Pyke",
        "timestamp": 1595012783
    },
    {
        "content": "<p>that link does not resolve from here :)</p>",
        "id": 204246172,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595012785
    },
    {
        "content": "<p>Yeah, my brain hurts.</p>",
        "id": 204246193,
        "sender_full_name": "David Pyke",
        "timestamp": 1595012801
    },
    {
        "content": "<p>Pushed, give it a minute.  <a href=\"https://build.fhir.org/ig/DavidPyke/CEQSubscription/qa.html\">https://build.fhir.org/ig/DavidPyke/CEQSubscription/qa.html</a></p>",
        "id": 204246489,
        "sender_full_name": "David Pyke",
        "timestamp": 1595012913
    },
    {
        "content": "<p>ok and before you had history errors, right?</p>",
        "id": 204247640,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595013542
    },
    {
        "content": "<p>Yep.  For an extension and for the IG resource itself</p>",
        "id": 204248707,
        "sender_full_name": "David Pyke",
        "timestamp": 1595014210
    },
    {
        "content": "<p>All fixed for me too! Thanks <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> ...</p>",
        "id": 204251689,
        "sender_full_name": "David Hay",
        "timestamp": 1595016092
    },
    {
        "content": "<p>Also fixed for me.  Thanks!</p>",
        "id": 204270909,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1595028597
    }
]