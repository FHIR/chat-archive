[
    {
        "content": "<p>Is there a way that I can indicate to the publisher that a set of codes won't be found?  I have created a rather large value set that takes from a code system that the terminology server doesn't know about and it added 14 minutes to the generation:<br>\nTerminology server: Check for supported code systems for <a href=\"http://loinc.org\" title=\"http://loinc.org\">http://loinc.org</a>        (00:27.0401)<br>\nGenerating Narratives                                                            (07:03.0246)<br>\n...<br>\nGenerating Outputs in /Users/jeanduteau/Documents/DDIWork/IBM-BEST/datastandards/output (07:04.0093)<br>\n...a bunch of onGenerate messages and it sits for another 6-1/2 minutes on the last onGenerate: step...<br>\nGenerating Summary Outputs                                                       (14:30.0602)</p>\n<p>I'm not sure what exactly is taking so long but it started happening when I added in this big value set.</p>",
        "id": 195350258,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587931470
    },
    {
        "content": "<p>it should cache the response and it shouldn't be a problem. Can I reproduce this?</p>",
        "id": 195350413,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587931730
    },
    {
        "content": "<p>let me see if I can push the bad value set into a public project</p>",
        "id": 195350951,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587932496
    },
    {
        "content": "<p>check <a href=\"http://github.com/HL7/fhir-med-list-guidance\" title=\"http://github.com/HL7/fhir-med-list-guidance\">github.com/HL7/fhir-med-list-guidance</a></p>",
        "id": 195352383,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587934726
    },
    {
        "content": "<p>This went from 32 seconds to 16 minutes by adding those two value sets. And it doesn't decrease on subsequent runs.</p>",
        "id": 195352396,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587934771
    },
    {
        "content": "<p>ok I'll look at it</p>",
        "id": 195352461,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1587934820
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> In IPS we found that the problem with the large extensionally defined value sets seems to be when the publisher enumerates all of the value set definition concepts on the page.  So for all of the value sets in IPS with large extensional definitions (&gt;200 concepts) we use this text for the definition ('cld'):</p>\n<div class=\"codehilite\"><pre><span></span>    &lt;text&gt;\n        &lt;status value=&quot;additional&quot;/&gt;\n        &lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n            &lt;div id=&quot;cld&quot;&gt;&lt;p&gt;This value set has a large enumerated (extensional) definition.  See &quot;Definition&quot; in the table above for the definition description.  The full definition is available in the resource instance (see links in &quot;Source Resource&quot; in the table above).&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/text&gt;\n</pre></div>\n\n\n<p>Grahame added this recently because of our report of this issue, and it drastically reduces our build times for these value sets.  You might give it a try.</p>",
        "id": 195364914,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1587953471
    },
    {
        "content": "<p>That's exactly what I have, so I'll try adding that.  Thanks.</p>",
        "id": 195366149,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587954830
    },
    {
        "content": "<p>Yes, that totally helped!  It turned it back to a minute of processing time from 15.</p>",
        "id": 195366501,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1587955231
    },
    {
        "content": "<p>Great!  Glad it worked for you.</p>",
        "id": 195366524,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1587955313
    }
]