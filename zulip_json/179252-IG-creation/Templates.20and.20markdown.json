[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> how do the templates process markdown?</p>",
        "id": 208896266,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599085568
    },
    {
        "content": "<p>They were using a liquid command, but I believe Eric made changes because it was causing him grief</p>",
        "id": 208898673,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1599087199
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> created this:</p>\n<p><a href=\"https://github.com/hapifhir/org.hl7.fhir.core/issues/310\">https://github.com/hapifhir/org.hl7.fhir.core/issues/310</a></p>\n<p>but it turns out that the IG publisher doesn't do anything with those 2 fields; it's the template that builds the html in question, so it's the template that needs to process them as markdown</p>",
        "id": 208899128,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599087557
    },
    {
        "content": "<p>FHIR-28140 shows a screenshot of the artifacts table which I have not touched.  The other one only shows up in the SD narrative I believe.</p>",
        "id": 208905406,
        "sender_full_name": "Eric Haas",
        "timestamp": 1599091845
    },
    {
        "content": "<p>So, how do we update the template to process those two fields as markdown?? <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 208972434,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1599142139
    },
    {
        "content": "<p>this field is all Lloyds handiwork ...</p>\n<div class=\"message_inline_image\"><a href=\"https://jira.hl7.org/secure/attachment/16684/screenshot-1.png\"><img src=\"https://jira.hl7.org/secure/attachment/16684/screenshot-1.png\"></a></div>",
        "id": 208972858,
        "sender_full_name": "Eric Haas",
        "timestamp": 1599142313
    },
    {
        "content": "<p>ok... <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> ?</p>",
        "id": 208973106,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1599142418
    },
    {
        "content": "<p>this one I presumed was the ig-publisher since that is in the SD narrative</p>\n<div class=\"message_inline_image\"><a href=\"https://jira.hl7.org/secure/attachment/16682/screenshot-1.png\"><img src=\"https://jira.hl7.org/secure/attachment/16682/screenshot-1.png\"></a></div>",
        "id": 208973164,
        "sender_full_name": "Eric Haas",
        "timestamp": 1599142441
    },
    {
        "content": "<p>I'll be looking at templates again post-WGM</p>",
        "id": 208973674,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1599142630
    },
    {
        "content": "<p>can't we <code>|markdownify</code> the entire content in the layout?</p>",
        "id": 208975542,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1599143355
    },
    {
        "content": "<p>actually the first one looked like the artifact summary but  I am wrong it is not.  @sean where is the rendered output and source for this?</p>",
        "id": 208978803,
        "sender_full_name": "Eric Haas",
        "timestamp": 1599144534
    },
    {
        "content": "<p>I was thinking markdown=\"1\" in the generated artifacts.</p>",
        "id": 208979358,
        "sender_full_name": "Eric Haas",
        "timestamp": 1599144775
    },
    {
        "content": "<p>We don't want to markdownify content that isn't explicitly expected to be markdown - that causes nasty side-effects</p>",
        "id": 208980804,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1599145361
    },
    {
        "content": "<p>We want to invoke markdownify on those specific elements that should be converted (and are required to be markdown).  Where things get a bit messy is where stuff wasn't markdown in R4 but is in R5.  Simplest is to make it markdown regardless of version, but that could cause rendering issues with older IGs</p>",
        "id": 208981009,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1599145434
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> yes that bit comes from the IG publisher. I apparently missed and  clicked on the same task twice. <span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> now that I look in the code, I'm not so sure about the wisdom of making the constraint.human into markdown - it gets used in a lot of contexts where html is not in the picture. It would be better to leave it as a plain string for use in those contexts and provide a markdown variant in an extension (we have a markdown extension)</p>",
        "id": 209024356,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599164335
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I'll defer to your suggestion. I'm happy to use an extension instead, I just need to know what the extension is; maybe an example of how to render that field as markdown</p>",
        "id": 209025424,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1599164949
    },
    {
        "content": "<p><code>http://hl7.org/fhir/StructureDefinition/rendering-markdown</code></p>\n<p>so </p>\n<div class=\"codehilite\"><pre><span></span><code>      <span class=\"nt\">&lt;constraint&gt;</span>\n        <span class=\"nt\">&lt;key</span> <span class=\"na\">value=</span><span class=\"s\">&quot;act-er-1&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;severity</span> <span class=\"na\">value=</span><span class=\"s\">&quot;error&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;human</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Only one of observation, regionOfInterest, observationMedia, substanceAdministration, supply, procedure, encounter, organizer, and act&quot;</span><span class=\"nt\">&gt;</span>\n       <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">&quot;&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;valueMarkdown</span> <span class=\"na\">value=</span><span class=\"s\">&quot;**Only one** of (```observation, regionOfInterest, observationMedia, substanceAdministration, supply, procedure, encounter, organizer, act```)&quot;</span><span class=\"nt\">/&gt;</span>\n       <span class=\"nt\">&lt;/extension&gt;</span>\n       <span class=\"nt\">&lt;/human&gt;</span>\n        <span class=\"nt\">&lt;expression</span> <span class=\"na\">value=</span><span class=\"s\">&quot;(observation | regionOfInterest | observationMedia | substanceAdministration | supply | procedure | encounter | organizer | act).count() = 1&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;source</span> <span class=\"na\">value=</span><span class=\"s\">&quot;&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/constraint&gt;</span>\n</code></pre></div>",
        "id": 209025817,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599165144
    }
]