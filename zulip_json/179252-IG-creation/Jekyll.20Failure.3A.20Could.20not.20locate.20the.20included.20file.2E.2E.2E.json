[
    {
        "content": "<p>SDC IG has a Questionnaire example that has a contained Bundle with id=\"PrePopQuery\". This is causing the build exception below.  Is this not allowed? </p>\n<p>Here's the excerpt from the Questionnaire example:</p>\n<div class=\"codehilite\"><pre><span></span><code>  &quot;resourceType&quot;: &quot;Questionnaire&quot;,\n  &quot;id&quot;: &quot;questionnaire-sdc-test-fhirpath-prepop-source-query&quot;,\n  &quot;contained&quot;: [\n    {\n      &quot;resourceType&quot;: &quot;Bundle&quot;,\n      &quot;id&quot;: &quot;PrePopQuery&quot;,\n      &quot;type&quot;: &quot;batch&quot;,\n      &quot;entry&quot;: [\n        {\n          &quot;fullUrl&quot;: &quot;urn:uuid:88f151c0-a954-468a-88bd-5ae15c08e059&quot;,\n          &quot;request&quot;: {\n            &quot;method&quot;: &quot;GET&quot;,\n            &quot;url&quot;: &quot;Condition?patient={{%LaunchPatient.id}}&amp;active=true&quot;\n          }\n        },\n        {\n          &quot;fullUrl&quot;: &quot;urn:uuid:88f151c0-a954-468a-88bd-5ae15c08e060&quot;,\n          &quot;request&quot;: {\n            &quot;method&quot;: &quot;GET&quot;,\n            &quot;url&quot;: &quot;MedicationStatement?patient={{%LaunchPatient.id}}&amp;active=true&quot;\n          }\n        }\n      ]\n    }\n  ],\n</code></pre></div>\n\n\n<p>And here's the build error:</p>\n<div class=\"codehilite\"><pre><span></span><code>onGenerate:\nGenerating Summary Outputs                                                       (00:47.0052)\nSending Usage Stats to Server                                                    (00:47.0397)\nJekyll: Source: /scratch/ig-build-temp-I283R8/repo/temp/pages                    (00:47.0788)\nJekyll: Generating...                                                            (00:47.0790)\nJekyll has failed. Complete output from running Jekyll: \u001b[31m  Liquid Exception: Could not locate the included file &#39;Bundle-PrePopQuery-html.xhtml&#39; in any of [&quot;/scratch/ig-build-temp-I283R8/repo/temp/pages/_includes&quot;]. Ensure it exists in one of those directories and, if it is a symlink, does not point outside  (00:48.0029)\nNote: Check that Jekyll is installed correctly                                   (00:48.0029)\nPublishing Content Failed: Process exited with an error: 1 (Exit value: 1)       (00:48.0030)\n                                                                                 (00:48.0030)\nUse -? to get command line help                                                  (00:48.0030)\n                                                                                 (00:48.0030)\nStack Dump (for debugging):                                                      (00:48.0030)\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:153)\n    at org.hl7.fhir.igtools.publisher.Publisher.runJekyll(Publisher.java:5371)\n    at org.hl7.fhir.igtools.publisher.Publisher.runTool(Publisher.java:5277)\n    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:4744)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:859)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:708)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:7815)\n</code></pre></div>",
        "id": 204166561,
        "sender_full_name": "Joee Garcia",
        "timestamp": 1594955089
    },
    {
        "content": "<p>that should be fine. Makes me think that there's an earlier error in the log you haven't shown</p>",
        "id": 204167900,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1594957420
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  Why would there be a separate HTML file for a contained resource within an example?  I don't think the templates support producing that?</p>",
        "id": 204169807,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594960304
    },
    {
        "content": "<p>the templates do support it, and I do it so I can get the right template for the contained resource.</p>",
        "id": 204172544,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1594964630
    },
    {
        "content": "<p>It seems like there's a technical problem then - how does the 'template' know to generate an entry for the page in the ToC?  How does section numbering work?  Have you tested that this works with the current template?</p>",
        "id": 204218174,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594998889
    },
    {
        "content": "<p>yes I tested it in the sample IG</p>",
        "id": 204259601,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595020221
    },
    {
        "content": "<p>I didn't check section numbering though</p>",
        "id": 204259628,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595020241
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  Here's the full build log: <a href=\"http://build.fhir.org/ig/HL7/sdc/branches/master/failure/build.log\">http://build.fhir.org/ig/HL7/sdc/branches/master/failure/build.log</a> <br>\nAside from an error in generating the QuestionnaireResponse snapshot, I don't see any error related to this.</p>",
        "id": 204274113,
        "sender_full_name": "Joee Garcia",
        "timestamp": 1595031809
    },
    {
        "content": "<p>i think this must be a problem with the template somehow. It\\ shouldn't be looking for Bundle-PrePopQuery-html.xhtml - it should be looking for Bundle-questionnaire-sdc-test-fhirpath-prepop-source-query_PrePopQuery-html.xhtml</p>",
        "id": 204631444,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595395556
    },
    {
        "content": "<p>The include is found in the file Bundle-questionnaire-sdc-test-fhirpath-prepop-source-query_PrePopQuery.html, which is correct</p>",
        "id": 204631658,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595395903
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 204631661,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595395912
    }
]