[
    {
        "content": "<p>As promised at the original training, the IG template has been revamped a bit to no longer put as many parameters into the ig.ini.  They have been moved to the implementation guide proper.  The sample-ig has been updated to follow the new approach, so it may be easiest to just look at it.  However, I'll summarize the changes here:</p>\n<ul>\n<li>license and version now go in the corresponding 'core' elements in the IG</li>\n<li>fhirspec gets dropped (we don't need it as a parameter anymore)</li>\n<li>copyrightyear becomes a parameter with code \"copyrightyear\"</li>\n<li>ballotstatus becomes a parameter with code \"releaselabel\"</li>\n<li>the various 'exclude' values become parameters with a code of the same name</li>\n</ul>",
        "id": 186228170,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579641217
    },
    {
        "content": "<p>If you have questions, holler</p>",
        "id": 186228179,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579641224
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  So did this _just_ change? i.e. if an IG published properly yesterday it won't publish properly today?</p>\n<p>Is this why I'm getting this crash: <a href=\"http://build.fhir.org/ig/HL7/bser/branches/master/build.log\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/bser/branches/master/build.log\">http://build.fhir.org/ig/HL7/bser/branches/master/build.log</a></p>",
        "id": 186235770,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579646222
    },
    {
        "content": "<p>Is it possible to roll this back and schedule the roll out? Remember some folks have built this into tooling, and those tools break unexpectedly when there are surprises like this without the chance to test first. <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 186236438,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1579646775
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> Please review Lloyd's message above, this will require changes to Trifolia on FHIR</p>",
        "id": 186236902,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1579647126
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191918\">@Sarah Gaunt</span> Confirming that I am seeing the same error in other IGs using the new template.</p>",
        "id": 186237121,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1579647316
    },
    {
        "content": "<p>Not only tooling, but we are on FMG agenda tomorrow to get publication approval for the BSeR IG. Now it doesn't even build and I'll have to spend even more time on it to get it working for tomorrow. And +1 about the testing - highly likely that it won't work for me and I'll spend the day debugging.</p>",
        "id": 186237421,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579647552
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191918\">@Sarah Gaunt</span> are you using the newest template?</p>",
        "id": 186237941,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579647943
    },
    {
        "content": "<p>(trying to debug, so need to make sure where this comes from)</p>",
        "id": 186238019,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579647978
    },
    {
        "content": "<p>Using whatever the CI build uses - not sure whether I have control over which version it uses? Or do I? If I can point to an old version, I'll use that!</p>",
        "id": 186238077,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579648037
    },
    {
        "content": "<p>you can chose the templates, but from your file structure I thought you were not using the IG publisher template. (<a href=\"https://github.com/HL7/ig-template-fhir\" target=\"_blank\" title=\"https://github.com/HL7/ig-template-fhir\">https://github.com/HL7/ig-template-fhir</a> or similar)</p>",
        "id": 186238497,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579648437
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191918\">@Sarah Gaunt</span> can you add this to your IG.xml?</p>",
        "id": 186238876,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579648750
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>        <span class=\"nt\">&lt;parameter&gt;</span>\n            <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;releaselabel&quot;</span><span class=\"nt\">/&gt;</span>\n            <span class=\"nt\">&lt;value</span> <span class=\"na\">value=</span><span class=\"s\">&quot;CI build&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/parameter&gt;</span>\n</pre></div>\n\n\n<p>just before the &lt;/definition&gt; at the end</p>",
        "id": 186238894,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579648781
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191407\">@Rick Geimer</span> Yes, I can roll it back if need be. It got accelerated to allow Grahame to do some testing, but that's now done.</p>",
        "id": 186239114,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579648984
    },
    {
        "content": "<p>Please let me know when you're ready for the change.</p>",
        "id": 186239122,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579648997
    },
    {
        "content": "<p>Yes, I can add all the parameters that Lloyd has updated, I just don't really want to at this late stage in the game. What I'd really like to do woudl be to point to the previous version of the template so that my build doesn't crash. At least just until the end of the week!</p>",
        "id": 186239136,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579649011
    },
    {
        "content": "<p>I think that would be a good idea. <span class=\"user-mention\" data-user-id=\"191918\">@Sarah Gaunt</span> are you ready for the roll back?</p>",
        "id": 186239140,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1579649018
    },
    {
        "content": "<p>Yes!</p>",
        "id": 186239148,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579649027
    },
    {
        "content": "<p>well if Lloyd rolls back then it's fixed</p>",
        "id": 186239149,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579649029
    },
    {
        "content": "<p>Hopefully not too many people made the changes already though... Wont' that then cause them to crash?</p>",
        "id": 186239208,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579649057
    },
    {
        "content": "<p>It's been 2 hours. I doubt anyone else noticed :)</p>",
        "id": 186239219,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1579649083
    },
    {
        "content": "<p>A regular day I'd have made the changes already and forgotten about them! HA!</p>",
        "id": 186239237,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579649111
    },
    {
        "content": "<p>I don't think the change broke my IG build...but I certainly have not made the changes yet.</p>",
        "id": 186239268,
        "sender_full_name": "John Moehrke",
        "timestamp": 1579649155
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> Please chime in and let Lloyd know how much time you need to test. I'm guessing a day or two.</p>",
        "id": 186239317,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1579649167
    },
    {
        "content": "<p>Thanks Lloyd. Much appreciated during crunch times like this.</p>",
        "id": 186239339,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1579649192
    },
    {
        "content": "<p>MUCH appreciated!!!</p>",
        "id": 186239358,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579649205
    },
    {
        "content": "<p>For those of us who have already made the changes (in UTG and making them in SNOMED right now) can we keep them, in anticipation of them being rolled out - without needing to roll back again now?</p>",
        "id": 186239360,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579649206
    },
    {
        "content": "<p>See!? <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> is on the ball...</p>",
        "id": 186239388,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579649241
    },
    {
        "content": "<p>Keeping them in the IG won't hurt anything</p>",
        "id": 186239413,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579649270
    },
    {
        "content": "<p>yes, but I would prefer not to have to roll back to have to have the old parameters, too<br>\nideally it would be best for it to work both ways, for now</p>",
        "id": 186239492,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579649332
    },
    {
        "content": "<p>Rollback should now be effective</p>",
        "id": 186239542,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579649373
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span>, let me know when you're spitting stuff out into the IG in addition to the ini file.  Then I can shift the template.  Then you can stop spitting stuff out into the ini</p>",
        "id": 186239753,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579649518
    },
    {
        "content": "<p>BSeR still crashing: <a href=\"http://build.fhir.org/ig/HL7/bser/branches/master/build.log\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/bser/branches/master/build.log\">http://build.fhir.org/ig/HL7/bser/branches/master/build.log</a><br>\n<span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> any ideas?</p>",
        "id": 186240951,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579650461
    },
    {
        "content": "<p>The SNOMED IG is building, but there are a lot of XML related errors similar to this:</p>\n<div class=\"codehilite\"><pre><span></span>onGenerate:\nError on line 1 column 1\n  SXXP0003: Error reported by XML parser: Content is not allowed in prolog.\n</pre></div>\n\n\n<p>and a new untracked file: ongenerate-validation-igqa.json</p>",
        "id": 186241532,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579650968
    },
    {
        "content": "<p>Guessing the rollback was incomplete</p>",
        "id": 186242212,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1579651563
    },
    {
        "content": "<p>Yup.</p>",
        "id": 186242252,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579651611
    },
    {
        "content": "<p>Rolling back with Git isn't working as I expected it to, so I've opted to roll forward to the old version :)  Try again...</p>",
        "id": 186244637,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579654021
    },
    {
        "content": "<p>BSeR didn't crash...<br>\nThink it's working - thanks!</p>",
        "id": 186247024,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579656512
    },
    {
        "content": "<p>The SNOMED IG looks better now.  Thanks!</p>",
        "id": 186250729,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579661058
    },
    {
        "content": "<p>But it still has some weird errors like these:</p>\n<div class=\"codehilite\"><pre><span></span>== /Users/rhausam/git-repo/snomed-ig/input/snomed-ig.xml ==\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[0].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[1].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[2].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[3].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[4].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[5].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[6].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[7].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[8].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[9].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[10].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[11].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[12].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[13].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[14].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[15].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[16].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\nERROR: ImplementationGuide/hl7.fhir.uv.snomed: ImplementationGuide.definition.extension[17].url: URL value &#39;http://hl7.org/fhir/tools/StructureDefinition/ig-parameter&#39; does not resolve\n</pre></div>",
        "id": 186251096,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579661678
    },
    {
        "content": "<p>That's a validator change, not a template change</p>",
        "id": 186251115,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579661731
    },
    {
        "content": "<p>Well, I guess you're off the hook, then. :)</p>",
        "id": 186251161,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579661793
    },
    {
        "content": "<p>Only kind of.  The change came about from a complaint I made, so at least some of the culpability is still mine.  (<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> may say most of it :&gt;)</p>",
        "id": 186251188,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579661849
    },
    {
        "content": "<p>On an apparently related matter (I think), what should we do with the 'ongenerate-validation-igqa.json' that I'm now seeing show up in the root directory of the IG.  Check it in, or somehow either you or I make it move or go away (hoping it's the latter)?</p>",
        "id": 186251424,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579662163
    },
    {
        "content": "<p>I will  make it go away</p>",
        "id": 186251434,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579662191
    },
    {
        "content": "<p>thank you!</p>",
        "id": 186251440,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579662204
    },
    {
        "content": "<p>If you delete, it should stay away.  Part of the new template.</p>",
        "id": 186251446,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579662219
    },
    {
        "content": "<p>ok - yes, I assumed it was</p>",
        "id": 186251456,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579662240
    },
    {
        "content": "<p>I can't reproduce this problem</p>",
        "id": 186253992,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1579666036
    },
    {
        "content": "<p>I'll try again and see if it's still the case.</p>",
        "id": 186254673,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579667118
    },
    {
        "content": "<p>I'm getting same errors (<a href=\"http://build.fhir.org/ig/HL7/bser/branches/master/qa.html#_scratch_ig-build-temp-ZYWNFQ_repo_input_bser\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/bser/branches/master/qa.html#_scratch_ig-build-temp-ZYWNFQ_repo_input_bser\">http://build.fhir.org/ig/HL7/bser/branches/master/qa.html#_scratch_ig-build-temp-ZYWNFQ_repo_input_bser</a>) - they seem to have replaced some other errors we were getting before - these ones: <a href=\"#narrow/stream/179252-IG-creation/topic/Invalid.20IG.20Parameters.20generated.20by.20IG.20Publisher\" title=\"#narrow/stream/179252-IG-creation/topic/Invalid.20IG.20Parameters.20generated.20by.20IG.20Publisher\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Invalid.20IG.20Parameters.20generated.20by.20IG.20Publisher</a></p>\n<p>Maybe just coincidence that those are gone and these have appeared...</p>",
        "id": 186254679,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1579667152
    },
    {
        "content": "<p>I'm still getting those errors on the <a href=\"https://github.com/IHTSDO/snomed-ig\" target=\"_blank\" title=\"https://github.com/IHTSDO/snomed-ig\">snomed-ig</a> new-template branch with 1.0.47-SNAPSHOT.</p>",
        "id": 186255388,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1579668281
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>   Is there a roll out schedule for future? I am fuzzy on the enhancement timelines, QA, etc.</p>",
        "id": 186308354,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1579713264
    },
    {
        "content": "<p>I was under the impression template are still optional and draft.   But <span class=\"user-mention\" data-user-id=\"191410\">@Brett Marquard</span>  bring up a good point.  Need:</p>\n<ol>\n<li>a more formal roadmap</li>\n<li>a more formal way to update the templates since it seems to be disruptive... since now we have ig-pub updates <em>and</em> template updates</li>\n</ol>",
        "id": 186309784,
        "sender_full_name": "Eric Haas",
        "timestamp": 1579714241
    },
    {
        "content": "<p>When this next release gets pushed out, I think the key functionality will be there and working.  Still need more documentation and we need to document how to migrate stuff that used Eric's framework to the template and verify that everything works.  As soon as that's done, we'll presumably set timelines by which HL7 publishers will need to migrate (potentially making exceptions for Simplifier-authored IGs assuming they can publish something that's substantially similar).  After that, I expect the template will continue to evolve (perhaps even radically) in terms of appearance as everyone's enhancement efforts are focused on a single approach.  I'm somewhat hopeful that the inputs won't need to change too much though going forward.</p>",
        "id": 186315100,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579717639
    },
    {
        "content": "<p>We should have formal releases for both</p>",
        "id": 186315174,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579717676
    },
    {
        "content": "<p>For the ig pub and for templates. This should allow us to use any stable release we want. And if we want to use the dev version, we can also do that</p>",
        "id": 186315499,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579717828
    },
    {
        "content": "<p>We have the notion of release versions for templates, but we haven't worked out how that will behave with inheritance.</p>",
        "id": 186315623,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579717911
    },
    {
        "content": "<p>Also, I don't think we've incorporated support for referencing specific versions in the tools yet.</p>",
        "id": 186315691,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579717932
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> I believe we may be able to lock one specific release of the template to a specific release of the publisher, right?</p>",
        "id": 186315716,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579717946
    },
    {
        "content": "<p>Simple question - If there's an update to the base template, should we also need to update the HL7, FHIR and Da Vinci templates to get them to adopt the new version?</p>",
        "id": 186315763,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579717976
    },
    {
        "content": "<p>\"may be able to\" as in - could we write code that could make that happen?  Almost certainly.  I just don't think it's there yet.</p>",
        "id": 186315809,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579718000
    },
    {
        "content": "<p>We could do this:  when we make a n+1 release of the base template, this may propagate to the n+1 release of the HL7 template, but the n version of the HL7 template still stays on the n version of the base template</p>",
        "id": 186316249,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579718222
    },
    {
        "content": "<p>Right - but that means that everyone must then update their IG to point to the correct template - so it's a bunch more maintenance effort for everyone.  Presumably the expectation would be that to publish you need to always be on the latest and greatest.  My preference would be that specifying version would only be done if there's a need to downgrade for some reason.  Otherwise there will be a significant delay before issues with the newest template are identified.</p>",
        "id": 186317764,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579719101
    },
    {
        "content": "<p>Or everyone is on \"Dev\" until they need to freeze, and the freeze propagates upstream..?</p>",
        "id": 186321349,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1579721187
    },
    {
        "content": "<p>Not sure how freeze could propagate upstream.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> may have some ideas</p>",
        "id": 186321471,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579721254
    },
    {
        "content": "<p>Re:</p>\n<blockquote>\n<p>copyrightyear becomes a parameter with code \"copyrightyear\"<br>\nballotstatus becomes a parameter with code \"releaselabel\"<br>\nthe various 'exclude' values become parameters with a code of the same name</p>\n</blockquote>\n<p>assuming</p>\n<ul>\n<li>copyrightyear = string?</li>\n<li>releaselabel = set of codes or string  - I am assuming codes = choice of ci|ballot|commentballot|version<ul>\n<li>also I think need a separate parameter for ballot:    #STU version of IG needed for publishing HL7 guides</li>\n</ul>\n</li>\n<li>the various exclude = value should be boolean not yes/no</li>\n</ul>",
        "id": 186324757,
        "sender_full_name": "Eric Haas",
        "timestamp": 1579723233
    },
    {
        "content": "<p>also a parameter for changelink = e.g  <a href=\"https://github.com/Healthedata1/IG-Template2/issues\" target=\"_blank\" title=\"https://github.com/Healthedata1/IG-Template2/issues\">https://github.com/Healthedata1/IG-Template2/issues</a>  or <a href=\"http://hl7.org/fhir-issues\" target=\"_blank\" title=\"http://hl7.org/fhir-issues\">http://hl7.org/fhir-issues</a>  for hl7 guides</p>",
        "id": 186324985,
        "sender_full_name": "Eric Haas",
        "timestamp": 1579723323
    },
    {
        "content": "<ul>\n<li>hl7_ig: #  'true'  if HL7 ig</li>\n</ul>\n<p>here other params to consider:</p>\n<p>showMappings: false  # 'true' if want to display mappings tab'<br>\nshowDefs: false  # 'true' if want to display Definitions tab'<br>\nshowExamples: false  # 'true' if want to display Examples tab -currently no template for it'<br>\nshowPsuedoJson: true # 'true' if want to display Psuedo JSON profile view'<br>\nshowPsuedoXML: true # 'true' if want to display Psuedo JSON profile view'<br>\nshowIntro:  # 'true' if want to display Custom Introduction in profile view'<br>\nshowQuickStart:  # 'true' if want to display QuickStarts in profile view'<br>\nshowDevView: # 'true' if only want to display summary view in profile view'<br>\ndefault_profile_view: 1  # choice of 0|1|2|3 for summary|differential|full|all views in profile</p>",
        "id": 186325421,
        "sender_full_name": "Eric Haas",
        "timestamp": 1579723516
    },
    {
        "content": "<p>copyright year is a string.  release status is also a string</p>",
        "id": 186326286,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579724094
    },
    {
        "content": "<p>Change link isn't variable for HL7 FHIR publications - it's built into the HL7 FHIR template</p>",
        "id": 186326332,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579724125
    },
    {
        "content": "<p>I used this:</p>\n<p>build: ci  # choice of ci|ballot|commentballot|version</p>",
        "id": 186326351,
        "sender_full_name": "Eric Haas",
        "timestamp": 1579724141
    },
    {
        "content": "<p>which is used in title generation mostly</p>",
        "id": 186326414,
        "sender_full_name": "Eric Haas",
        "timestamp": 1579724171
    },
    {
        "content": "<p>The parameters you've listed aren't supported by the template yet - and I think some of them allow more variability than we'd want in the HL7 IGs</p>",
        "id": 186326422,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579724173
    },
    {
        "content": "<p>release label is indeed used in title generation, but sometimes you want to say things like \"STU release 2, 2nd ballot\" or something like that - doesn't lend itself to formal coding.</p>",
        "id": 186326461,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579724212
    },
    {
        "content": "<p>Even though I hate the whole stu thing, if left to string, it  will lead to variability in titles which I think should be normalized for HL7</p>",
        "id": 186326626,
        "sender_full_name": "Eric Haas",
        "timestamp": 1579724336
    },
    {
        "content": "<p>In other words, I think that titles need to be nailed down...</p>",
        "id": 186326835,
        "sender_full_name": "Eric Haas",
        "timestamp": 1579724511
    },
    {
        "content": "<p>If we can come up with a value set that's agreeable for all of HL7 or even just  FHIR, we could look at constraining.  However, the  notion is also used by non HL7 IGS and we can't standardize those.  So data type needs to stay string</p>",
        "id": 186327631,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579725010
    },
    {
        "content": "<p>Well ...we say  we want to restrict variability ....</p>",
        "id": 186337215,
        "sender_full_name": "Eric Haas",
        "timestamp": 1579731588
    },
    {
        "content": "<p>Right - and I'm open to doing that for HL7 IGS if we can agree on a valueset.   But we can't do it outside of HL7 where our ballot statuses aren't relevant?</p>",
        "id": 186342145,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579735247
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Any objection to putting a link to the new template  IG Guidance documentation (<a href=\"http://build.fhir.org/ig/FHIR/ig-guidance/branches/master/index.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/FHIR/ig-guidance/branches/master/index.html\">http://build.fhir.org/ig/FHIR/ig-guidance/branches/master/index.html</a>) on the Confluence IG Publisher page (<a href=\"https://confluence.hl7.org/pages/viewpage.action?pageId=35718627#IGPublisherDocumentation-PublishingImplementationGuides\" target=\"_blank\" title=\"https://confluence.hl7.org/pages/viewpage.action?pageId=35718627#IGPublisherDocumentation-PublishingImplementationGuides\">https://confluence.hl7.org/pages/viewpage.action?pageId=35718627#IGPublisherDocumentation-PublishingImplementationGuides</a>)?</p>",
        "id": 186438682,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1579815462
    },
    {
        "content": "<p>Nope :)</p>",
        "id": 186448152,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579822539
    },
    {
        "content": "<blockquote>\n<p>copyrightyear becomes a parameter with code \"copyrightyear\"<br>\nballotstatus becomes a parameter with code \"releaselabel\"</p>\n</blockquote>\n<p>Did this get rolled back out again?  All of a sudden, my IGs are failing to build because these parameters aren't present.  I assumed we'd get a warning before they went live again.  The weird thing is, I have colleagues who build w/ the same publisher and don't seem to run into these errors (even on IGs without the params).</p>\n<p>Also, I couldn't help but notice that those param codes aren't actually valid in R4, as <code>parameter.code</code> is bound to a <code>required</code> valueset without those codes.  What's the plan for that with R4?</p>",
        "id": 186945430,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1580345848
    },
    {
        "content": "<p>we're mid-way through fixing that for R4 - they should be going into extensions in R4 now. If they're not you have an old version of the publisher</p>",
        "id": 186946703,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580347122
    },
    {
        "content": "<p>the code that's changed is in the template, not the iG publisher</p>",
        "id": 186946713,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580347139
    },
    {
        "content": "<p>The new template went live about 24 hours ago now.</p>",
        "id": 186946935,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1580347424
    },
    {
        "content": "<p>I spent the day getting this fixed in the Breast Radiology IG. <br>\nThe c# toolkit doesn't yet support the new values. Dont know about HAPI.<br>\nI don't think you use either, so you are probably golden.</p>",
        "id": 186947405,
        "sender_full_name": "Kurt Allen",
        "timestamp": 1580347820
    },
    {
        "content": "<blockquote>\n<p>we're mid-way through fixing that for R4 - they should be going into extensions in R4 now. </p>\n</blockquote>\n<p>So for an IG that uses the template though, the error says to put them in <code>parameter.code</code> and <code>parameter.value</code> (not extensions).  So does the template expect/require that I am providing an R5 ImplementationGuide JSON even for R4 IGs?  Is that the idea?  Or if I use an R4 one with the extensions, the publisher will do magic to make the template happy?</p>",
        "id": 186947644,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1580348132
    },
    {
        "content": "<p>Yes - the expectation is that the IG will be authored in R5 regardless of what version the IG is for.  (It may be that older versions with the appropriate extensions will still work, but that hasn't been tested.)</p>",
        "id": 186948738,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580349529
    },
    {
        "content": "<blockquote>\n<p>older versions with the appropriate extensions will still work</p>\n</blockquote>\n<p>yes they will</p>",
        "id": 186949095,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580350022
    },
    {
        "content": "<p>I'm sorry, but that's really stupid.  R5 is barely in pre-release, and by definition, not a quality-assured release. Keep the tools on R4 until R5 has been fully vetted.</p>",
        "id": 186949105,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1580350028
    },
    {
        "content": "<p>It seems that the publisher or the template (not sure which is responsible) is no longer finding images that we put in the pagecontent folder.  Is there something special we're supposed to do now to be able to reference user-provided images from our markdown pages?  This worked yesterday as far as I can remember.</p>",
        "id": 186949666,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1580350779
    },
    {
        "content": "<p>Images should go in the \"images\" folder.  The content of that folder is copied directly to the output folder.  Content in pageContent is pre-processed and is handled as \"include\" files by Jekyll</p>",
        "id": 186949719,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580350841
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>.  It seems like I'm somehow missing some of these important changes that are being made and being caught unaware.  Am I not plugged into the right place?  Is there a better process for me to keep up?</p>",
        "id": 186949811,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1580350993
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> , please stop making non-backward compatible changes and dropping them on our heads without due warning, without pre-announcement, and without quality processes. It's very unfair to the community of IG authors.</p>",
        "id": 186949836,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1580351042
    },
    {
        "content": "<p>I'm sorry I'm not as diplomatic as <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span></p>",
        "id": 186949880,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1580351064
    },
    {
        "content": "<p>The \"non-backward compatible change\" in this case was a bug fix - images should never have been placed in that folder and documentation was quite clear about where images should go in the sample-ig and in the ig-guidance IG where documentation on the template is provided.  What was happening with the previous template version is that everything in page content (including .md and .xml files) were being copied directly to the output folder.  I'm sorry that the change caused issues for you, but those changes would need to have been made regardless.  We're not currently in the middle of a publication cycle and the correction is very simple.</p>",
        "id": 186950383,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580351841
    },
    {
        "content": "<p>Is that this issue? </p>\n<div class=\"codehilite\"><pre><span></span> [xslt] Loading stylesheet /Users/kevinmayfield/Development/kevinmayfield/FHIR-R4-Core-IG-Prototype/template/scripts/onGenerate.genJson.xslt\n</pre></div>\n\n\n<p>IG must include a definition parameter with a code of 'releaselabel'.  Value can be 'CI build' or some other status.</p>",
        "id": 187198689,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1580636990
    },
    {
        "content": "<p>That is one of the ramifications of the new template release, yes.</p>",
        "id": 187199364,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580638256
    },
    {
        "content": "<p>Resolved: The parameters are in the ImplementationGuide resource (I was trying to add them to the ig.ini)</p>",
        "id": 187199365,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1580638259
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Validating <a href=\"https://github.com/FHIR/sample-ig/blob/master/input/myig.xml\">the IG resource from the Sample-IG project</a> in the FHIR .NET validator gives four errors: <a href=\"https://simplifier.net/snippet/wardweistra/13/$validate\">https://simplifier.net/snippet/wardweistra/13/$validate</a></p>\n<div class=\"codehilite\"><pre><span></span><code>CodeInvalid : Code &#39;copyrightyear&#39; from system &#39;&#39; does not exist in valueset &#39;http://hl7.org/fhir/ValueSet/guide-parameter-code&#39;\nCodeInvalid : Code &#39;releaselabel&#39; from system &#39;&#39; does not exist in valueset &#39;http://hl7.org/fhir/ValueSet/guide-parameter-code&#39;\nCodeInvalid : Code &#39;find-other-resources&#39; from system &#39;&#39; does not exist in valueset &#39;http://hl7.org/fhir/ValueSet/guide-parameter-code&#39;\nCodeInvalid : Code &#39;path-binary&#39; from system &#39;&#39; does not exist in valueset &#39;http://hl7.org/fhir/ValueSet/guide-parameter-code&#39;\n</code></pre></div>\n\n\n<p>These parameters indeed don't seem to be allowed by the CodeSystem: <a href=\"https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/files/82122\">https://simplifier.net/packages/hl7.fhir.r4.core/4.0.1/files/82122</a></p>",
        "id": 197758094,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1589580560
    },
    {
        "content": "<p>I've asked this question before.  I believe the answer is that technically the IG Publisher now runs off the R5 ImplementationGuide (regardless of the FHIR version of your IG).  In the R5 IG, <code>parameter.code</code> is no longer bound to any valueset.  So when we use an R4 ImplementationGuide, the publisher actually translates it to R5.</p>",
        "id": 197758337,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589580733
    },
    {
        "content": "<p>umm. I believe that the r4 ig is correct. Which IG resource are we talking about?</p>",
        "id": 197758404,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589580797
    },
    {
        "content": "<p>I think he's referring to these parameters -- which according to R4 ImplementationGuide resource are invalid because they aren't in the required <code>GuideParameterCode</code> value set:</p>\n<div class=\"codehilite\"><pre><span></span><code>    <span class=\"nt\">&lt;parameter&gt;</span>\n      <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;copyrightyear&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;value</span> <span class=\"na\">value=</span><span class=\"s\">&quot;2019+&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/parameter&gt;</span>\n    <span class=\"c\">&lt;!-- releaselabel should be the ballot status for HL7-published IGs. --&gt;</span>\n    <span class=\"nt\">&lt;parameter&gt;</span>\n      <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;releaselabel&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;value</span> <span class=\"na\">value=</span><span class=\"s\">&quot;CI Build&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/parameter&gt;</span>\n</code></pre></div>\n\n\n<p><a href=\"https://github.com/FHIR/sample-ig/blob/master/input/myig.xml#L113-L121\">https://github.com/FHIR/sample-ig/blob/master/input/myig.xml#L113-L121</a></p>",
        "id": 197758646,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589580973
    },
    {
        "content": "<p>they are not supposed to appear like that in the R4 output</p>",
        "id": 197759274,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589581539
    },
    {
        "content": "<p>I suspect that <span class=\"user-mention\" data-user-id=\"203235\">@Ward Weistra</span> was validating against the input ImplementationGuide resource, assuming that it was R4.  There is a little comment hidden in the middle of the file (above <code>fhirVersion</code>) that says this though:</p>\n<blockquote>\n<p>&lt;!-- This is whatever FHIR version(s) the IG artifacts are targeting (not the version of this file, which should always be 'current release') --&gt;</p>\n</blockquote>\n<p>I just ran the publisher on the sample-ig and confirmed that the R4 version of ImplementationGuide that it <em>produces</em> (i.e., the <em>output</em> one, not the <em>input</em> one) does not have those values in parameters anymore (it moves them to extensions under <code>definition</code>).</p>",
        "id": 197760142,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589582190
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> You are correct. I was just trying to find that output one.</p>",
        "id": 197760317,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1589582346
    },
    {
        "content": "<p>So, it's just the input IG resource that is already at R5, following the current release.</p>",
        "id": 197760480,
        "sender_full_name": "Ward Weistra",
        "timestamp": 1589582521
    },
    {
        "content": "<p>I <em>think</em> that if you want to use a valid R4 ImplementationGuide as your input IG, you can.  You just need to use those extensions for the parameters that aren't supported.  But it may be easier just to use current build as long as its structure remains somewhat stable. (Although I might be wrong about this -- so may be worth double-checking).</p>",
        "id": 197760571,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589582583
    },
    {
        "content": "<p>SUSHI may actually be doing some of this wrong -- in that I think we were looking at the R4 ImplementationGuide structure when we wrote the code that exports the ImplementationGuide (even though we use those technically invalid parameter names for R4).  I guess as long as the <em>structure</em> of IG didn't change too much from R4 to current (R5) we're probably OK.  But I should definitely check!</p>",
        "id": 197760693,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589582714
    },
    {
        "content": "<p>the input IG loader will accept the parameters in either place - the parameters, or the conformant location. For R3 IG, you must use extensions liberally.</p>",
        "id": 197760901,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1589582885
    },
    {
        "content": "<p>BTW -- just checked and it doesn't look like there are any <em>structural</em> changes in ImplementationGuide from R4 to R5 (yet).  Phew!</p>",
        "id": 197761269,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1589583206
    }
]