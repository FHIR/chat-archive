[
    {
        "content": "<p>What's the recommended approach to profiling an Observation to record patient age? I can't use the Age data type in Observation.valueAge, and can't profile Observation.valueQuantity to be restricted to Age values. The only option I can see is to recreate the age-1 invariants in my profile, which doesn't seem very robust (I'd at least want to be able to apply the existing invariant to my value, rather than rewrite it). </p>\n<p>I did read over <a href=\"#narrow/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age/near/200728868\">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/Narrow.20Quantity.20to.20Duration.20and.20Age/near/200728868</a> -- lots of discussion of problems with Age, but not really any solutions.</p>",
        "id": 205770326,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1596443204
    },
    {
        "content": "<p>yes that's your only choice</p>",
        "id": 205786542,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1596456940
    },
    {
        "content": "<p>OK. Too bad.</p>",
        "id": 205803971,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1596466731
    },
    {
        "content": "<p>are you looking for a vocabulary of age ranges? The IHE ADX did define that...</p>",
        "id": 205810304,
        "sender_full_name": "John Moehrke",
        "timestamp": 1596469501
    },
    {
        "content": "<p>No, I was looking for a way to say that an Observation value must be an age. The Age data type restricts Quantity to positive values, and the units to UCUM time measurements. But there is no easy way use Age in an Observation value. </p>\n<p>It's ok, I've basically copied the Age restrictions on Quantity to my profile. It's not particularly robust, but it is, apparently, what is possible.</p>",
        "id": 205826131,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1596477563
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192302\">@May Terry</span> was asking me a similar question in relation to a Genomics profile that she is trying to recreate using FSH.  If you look at the <a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/StructureDefinition-variant.html\">Variant Profile</a> it constrains <code>component.valueQuantity</code> to a <code>Count</code> (in the <code>copy-number</code> slice):</p>\n<div class=\"codehilite\"><pre><span></span><code>&quot;type&quot; : [\n  {\n    &quot;code&quot; : &quot;Quantity&quot;,\n    &quot;profile&quot; : [\n      &quot;http://hl7.org/fhir/StructureDefinition/Count&quot;\n    ]\n  }\n]\n</code></pre></div>\n\n\n<p>It was my understanding, based on this conversation and previous conversations that this is not legal because <code>Count</code> is a <code>specialization</code>, not a <code>constraint</code>.  I just want to ensure that my understanding was correct and that I'm not missing something here.  Because it certainly <em>looks</em> like it's working in this profile.<br>\n<a href=\"/user_uploads/10155/I-HP9rtpVb2KmaJOcM7ooPbm/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/I-HP9rtpVb2KmaJOcM7ooPbm/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/I-HP9rtpVb2KmaJOcM7ooPbm/image.png\"></a></div>",
        "id": 212763604,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602201220
    },
    {
        "content": "<p>I think it is incorrect.</p>",
        "id": 212781854,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1602216893
    },
    {
        "content": "<p>just because it renders ok... there should be an error in qa.html</p>",
        "id": 212781861,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1602216908
    },
    {
        "content": "<p>OK, thank you for the confirmation.  I just wanted to be sure I had not misunderstood.  I checked the <a href=\"http://build.fhir.org/ig/HL7/genomics-reporting/qa.html#_scratch_ig-build-temp-MV9RK7_repo_input_resources_StructureDefinition-variant\">qa.html</a> and as far as I can tell, no error was emitted.</p>",
        "id": 212828383,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1602251656
    },
    {
        "content": "<p>it will be an error from now on</p>",
        "id": 213231666,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1602633044
    }
]