[
    {
        "content": "<p>Our IG is in a constant state of error up on <a href=\"http://build.fhir.org\" target=\"_blank\" title=\"http://build.fhir.org\">build.fhir.org</a> and I think it may have something to do with the new version of the IG publisher as it has be happening for the last couple of  weeks. </p>\n<p>It seems to happen when the publisher installs to the local package cache and then tries to read from it. The first read from hl7.fhir.core#3.0.1 works fine, but a subsequent read from hl7.fhir.au.base#current fails</p>\n<div class=\"codehilite\"><pre><span></span>Installing hl7.fhir.au.base#current to the package cache\n  Fetching:Publishing Content Failed: null                                                  (31.0415sec)\n                                                                                 (31.0415sec)\nUse -? to get command line help                                                  (31.0415sec)\n                                                                                 (31.0415sec)\nStack Dump (for debugging):                                                      (31.0415sec)\njava.lang.NullPointerException\n    at java.base/java.io.FilterInputStream.markSupported(FilterInputStream.java:242)\n    at org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream.&lt;init&gt;(GzipCompressorInputStream.java:160)\n</pre></div>\n\n\n<p>see <a href=\"http://build.fhir.org/ig/aehrc/primary-care-data-technical/build.log\" target=\"_blank\" title=\"http://build.fhir.org/ig/aehrc/primary-care-data-technical/build.log\">http://build.fhir.org/ig/aehrc/primary-care-data-technical/build.log</a> for full details</p>\n<p>I managed to reproduce this locally with the latest jar by first clearing out the .fhir/packages directory and toggling the auto-ig-builder switch to trigger use of the .fhir/packages directory. It runs fine if it doesn't attempt to use the .fhir/packages directory.</p>",
        "id": 167435807,
        "sender_full_name": "Deanne Ukovich",
        "timestamp": 1559774376
    },
    {
        "content": "<p>Some further information, when I reinstated my old .fhir/packages directory locally, I made the error go away. This suggests to me that the fetch of hl7.fhir.au.base#current has worked previously, but is now no longer working for some reason.</p>",
        "id": 167532450,
        "sender_full_name": "Deanne Ukovich",
        "timestamp": 1559864044
    },
    {
        "content": "<p>I'm hearing this might be due to AU base moving <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span></p>",
        "id": 167534981,
        "sender_full_name": "Jim Steel",
        "timestamp": 1559867139
    },
    {
        "content": "<p>hi folks - apologies this should have been announced - to reference package-list.json in your project - in your ig.json file set dependencies like<br>\n\"dependencyList\": [ <br>\n    {<br>\n       \"name\" : \"aubase\",<br>\n       \"location\" : \"<a href=\"http://hl7.org.au/fhir/base\" target=\"_blank\" title=\"http://hl7.org.au/fhir/base\">http://hl7.org.au/fhir/base</a>\",<br>\n         \"version\" : \"current\"<br>\n    }<br>\n  ],</p>",
        "id": 167538305,
        "sender_full_name": "Brett Esler",
        "timestamp": 1559871772
    },
    {
        "content": "<p>for the current build</p>",
        "id": 167538307,
        "sender_full_name": "Brett Esler",
        "timestamp": 1559871780
    },
    {
        "content": "<p>or specific version as per <a href=\"http://hl7.org.au/fhir/base/history.shtml\" target=\"_blank\" title=\"http://hl7.org.au/fhir/base/history.shtml\">http://hl7.org.au/fhir/base/history.shtml</a></p>",
        "id": 167538326,
        "sender_full_name": "Brett Esler",
        "timestamp": 1559871830
    },
    {
        "content": "<p>e.g AU Base 1 release<br>\n\"dependencyList\": [ <br>\n{<br>\n\"name\" : \"aubase\",<br>\n\"location\" : \"<a href=\"http://hl7.org.au/fhir/base\" target=\"_blank\" title=\"http://hl7.org.au/fhir/base\">http://hl7.org.au/fhir/base</a>\",<br>\n\"version\" : \"1.0.2\"<br>\n}<br>\n],</p>",
        "id": 167538386,
        "sender_full_name": "Brett Esler",
        "timestamp": 1559871895
    },
    {
        "content": "<p>Thanks Brett, this has resolved the problem above.</p>",
        "id": 167540548,
        "sender_full_name": "Deanne Ukovich",
        "timestamp": 1559874486
    },
    {
        "content": "<p>cool - the package-list.json now drives the history view automatically thanks to <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  so can see all of the versioned packages available there</p>",
        "id": 167545826,
        "sender_full_name": "Brett Esler",
        "timestamp": 1559881293
    },
    {
        "content": "<p>Do we need the package id in there too?</p>",
        "id": 167552573,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1559890042
    },
    {
        "content": "<p>don;t think so if you set location.. <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  what does package id do for us?</p>",
        "id": 167552664,
        "sender_full_name": "Brett Esler",
        "timestamp": 1559890143
    },
    {
        "content": "<p>package is enough - I convert the canonical location to a package id internally anyway</p>",
        "id": 167555442,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1559893716
    }
]