[
    {
        "content": "<p>I've added all the script updating and other updates to the <a href=\"http://_updatePublisher.sh\">_updatePublisher.sh</a> script.  Anyone want to help test?</p>",
        "id": 204810950,
        "sender_full_name": "David Pyke",
        "timestamp": 1595517362
    },
    {
        "content": "<p>Linux and Mac testers wanted!</p>",
        "id": 204811028,
        "sender_full_name": "David Pyke",
        "timestamp": 1595517399
    },
    {
        "content": "<p>Anyone?  Anyone?  Beuller?</p>",
        "id": 204819705,
        "sender_full_name": "David Pyke",
        "timestamp": 1595521421
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  ?</p>",
        "id": 204828078,
        "sender_full_name": "David Pyke",
        "timestamp": 1595525669
    },
    {
        "content": "<p>I'm interested in trying it out on the Mac (and I could on Linux, too).</p>",
        "id": 204840002,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1595530919
    },
    {
        "content": "<p>Great! Thank you!  I'll send it to your email</p>",
        "id": 204842395,
        "sender_full_name": "David Pyke",
        "timestamp": 1595532051
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span>  I just tried it on the Mac and this is what I'm getting:</p>\n<div class=\"codehilite\"><pre><span></span><code>RHausamMacbookPro:fhir-order-catalog rhausam$ sh _updatePublisher.sh\nChecking internet connection\nping: invalid option -- 4\nusage: ping [-AaDdfnoQqRrv] [-c count] [-G sweepmaxsize]\n            [-g sweepminsize] [-h sweepincrsize] [-i wait]\n            [-l preload] [-M mask | time] [-m ttl] [-p pattern]\n            [-S src_addr] [-s packetsize] [-t timeout][-W waittime]\n            [-z tos] host\n       ping [-AaDdfLnoQqRrv] [-c count] [-I iface] [-i wait]\n            [-l preload] [-M mask | time] [-m ttl] [-p pattern] [-S src_addr]\n            [-s packetsize] [-T ttl] [-t timeout] [-W waittime]\n            [-z tos] mcast-group\nApple specific options (to be specified before mcast-group or host like all options)\n            -b boundif           # bind the socket to the interface\n            -k traffic_class     # set traffic class socket option\n            -K net_service_type  # set traffic class socket options\n            -apple-connect       # call connect(2) in the socket\n            -apple-time          # display current time\nOffline (or the terminology server is down), unable to update.  Exiting\n</code></pre></div>",
        "id": 204861160,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1595543745
    },
    {
        "content": "<p>I guess the mac version of ping doesn't support forcing things to IPv4.  I'll delete that parameter, it's not really needed, anyway.</p>",
        "id": 204862201,
        "sender_full_name": "David Pyke",
        "timestamp": 1595544649
    },
    {
        "content": "<p>If you want, just delete that parameter and try again or I'll send you a revised one.</p>",
        "id": 204862486,
        "sender_full_name": "David Pyke",
        "timestamp": 1595544847
    },
    {
        "content": "<p>Looks like the Mac ping also doesn't support '-w'.  After deleting both of those parameters it worked fine for updating the publisher and the scripts.</p>",
        "id": 204863881,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1595545822
    },
    {
        "content": "<p>Great!  Thank you!  Mac uses -W.  I wonder if I can find an easy way to determine if it's on a mac from within a script.</p>",
        "id": 204864229,
        "sender_full_name": "David Pyke",
        "timestamp": 1595546214
    },
    {
        "content": "<p>-W and -w aren't exactly the same, but maybe it won't matter with a single ping, anyway.</p>",
        "id": 204864330,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1595546326
    },
    {
        "content": "<p>Not sure about detecting the Mac.  Probably there is a way?  But I haven't ever looked at that.</p>",
        "id": 204864443,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1595546410
    },
    {
        "content": "<p>I think I'm just going to have it a basic ping -c1 and leave it at that.  We don't need fancy stuff for an on-line test</p>",
        "id": 204865066,
        "sender_full_name": "David Pyke",
        "timestamp": 1595547095
    },
    {
        "content": "<p>Are you checking the exit code to determine success? If not,  ping on IPv6, produces different output from IPv4, and the test will incorrectly fail.</p>",
        "id": 204866552,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1595548454
    },
    {
        "content": "<p>Yes, we are.</p>",
        "id": 204919808,
        "sender_full_name": "David Pyke",
        "timestamp": 1595599875
    },
    {
        "content": "<p>The Windows script (still) uses ping because curl is not available out of the box. But on *nix machines perhaps you can use curl instead of ping to see if online</p>",
        "id": 204921714,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595600747
    },
    {
        "content": "<p>Ping works fine on linux/mac.  If the exit code is other than 0, that means there's a problem and I exit the script.</p>",
        "id": 204922136,
        "sender_full_name": "David Pyke",
        "timestamp": 1595600926
    },
    {
        "content": "<p>Ok</p>",
        "id": 204922169,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595600945
    },
    {
        "content": "<p>Sorry I'm late to the party, but I'm on OSX and would be happy to help test this.</p>",
        "id": 204948261,
        "sender_full_name": "Carl Anderson",
        "timestamp": 1595614000
    }
]