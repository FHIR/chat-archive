[
    {
        "content": "<p>So I literally changed one letter in a slice definition in a StructureDefintion and now have a bunch of errors in the IG. Pretty sure that the errors aren't from my spelling error change.  Two days ago there were 0 errors, now there are 14:</p>\n<p><a href=\"/user_uploads/10155/c8qvwdcONAvL01ZJm5NhS-kd/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/c8qvwdcONAvL01ZJm5NhS-kd/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/c8qvwdcONAvL01ZJm5NhS-kd/image.png\"></a></div><p>Before I go down a deep rabbit-hole - are the following errors really errors with the IG or is there a possibility they are artifacts of the new publisher:</p>\n<p><a href=\"/user_uploads/10155/XVbi2Spo785oBtt7Q0TCY--i/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/XVbi2Spo785oBtt7Q0TCY--i/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/XVbi2Spo785oBtt7Q0TCY--i/image.png\"></a></div>",
        "id": 265250300,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1639712159
    },
    {
        "content": "<p>certainly looks like I did something wrong</p>",
        "id": 265250346,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639712198
    },
    {
        "content": "<p>how do I reproduce?</p>",
        "id": 265250355,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639712207
    },
    {
        "content": "<p>It's eCR: <a href=\"https://github.com/HL7/case-reporting/tree/master\">https://github.com/HL7/case-reporting/tree/master</a></p>",
        "id": 265250378,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1639712258
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/HL7/case-reporting/branches/master/qa.html\">http://build.fhir.org/ig/HL7/case-reporting/branches/master/qa.html</a></p>",
        "id": 265250423,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1639712284
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> any idea about these errors. <span class=\"user-mention\" data-user-id=\"197497\">@Adam Stevenson</span> has had a look and doesn't think they are issues with the IG.</p>",
        "id": 265849747,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1640205251
    },
    {
        "content": "<p>should be gone with the latest version of the IG publisher (from a couple of hours ago)</p>",
        "id": 265875985,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1640224886
    },
    {
        "content": "<p>Genius! Thanks - just checked and errors gone... <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 265877877,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1640227606
    },
    {
        "content": "<p>Hello, <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>, after a build we noticed these links (below in bold) are broken. It appears the *.html files were not created. </p>\n<p>These links can be found on <a href=\"http://build.fhir.org/ig/HL7/davinci-dtr/StructureDefinition-dtr-sdc-questionnaire-definitions.html#l1521\">http://build.fhir.org/ig/HL7/davinci-dtr/StructureDefinition-dtr-sdc-questionnaire-definitions.html#l1521</a> </p>\n<p>We are using the latest publisher. <strong>Is this a publisher issue?</strong> </p>\n<p>** <a href=\"http://build.fhir.org/ig/HL7/davinci-dtr/OperationDefinition-Questionnaire-assemble.html\">http://build.fhir.org/ig/HL7/davinci-dtr/OperationDefinition-Questionnaire-assemble.html</a><br>\n<a href=\"http://build.fhir.org/ig/HL7/davinci-dtr/StructureDefinition-sdc-questionnaire-subQuestionnaire.html\">http://build.fhir.org/ig/HL7/davinci-dtr/StructureDefinition-sdc-questionnaire-subQuestionnaire.html</a><br>\n<a href=\"http://build.fhir.org/ig/HL7/davinci-dtr/extraction.html**\">http://build.fhir.org/ig/HL7/davinci-dtr/extraction.html**</a></p>",
        "id": 271457875,
        "sender_full_name": "Larry Decelles",
        "timestamp": 1644511223
    },
    {
        "content": "<p>To provide a little more context, I think that the DTR profile is inheriting these element definitions from the SDC profile it is based on (and in one case the SDC extension it uses).  The inherited definitions have <em>relative</em> links to pages that only exist in the SDC IG.  Ideally, these links would be converted to absolute links to the SDC pages during snapshot generation.</p>",
        "id": 271461613,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1644512721
    },
    {
        "content": "<p>indeed that's supposed to happen</p>",
        "id": 271483351,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644521900
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> there's two problems here. The first is that the path for the item link is fictional. I don't know why that is, but it's a code issue. The other is that the IG prublisher expects that there'll be a definitions page for Questionnaires, which it's trying to link to. But there isn't</p>",
        "id": 271528216,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644551373
    },
    {
        "content": "<p>Why is it expecting a definitions page for Questionnaires?  It wasn't for SDC - at least not several days ago...<br>\nWhen you say it's a code issue, do you mean publisher or template?</p>",
        "id": 271528467,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644551622
    },
    {
        "content": "<p>actually, I'm wrong. This is just a straight state error in the IG publisher. But the rendering for the QR is the resource narrative. This is nearly the same, but not quite, as the rendering for the questionnaire response, which links to the questionnaire correctly.</p>",
        "id": 271528571,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644551714
    },
    {
        "content": "<p>so the template is wrong here - there's a fragment prepared for the QR that should be used in preference to the resource narrative</p>",
        "id": 271528596,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644551746
    },
    {
        "content": "<p>there was another error in the code to do with definitions - mislead me</p>",
        "id": 271528824,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644551935
    },
    {
        "content": "<p>The narrative for the Questionnaire should be displayed - it might not always be your auto-generated narrative.  Enhancing the template to support the new Questionnaire rendering capabilities is on my list, but I don't want to mess with it until the initial set of template changes (and SDC and ballots) are out the door.</p>",
        "id": 271530088,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644553115
    },
    {
        "content": "<p>hmm it might be, that's true. but the generic generated narrative can never be contextualised to the IG like a IG generated narrative can be</p>",
        "id": 271530416,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644553452
    },
    {
        "content": "<p>I'm not really following what you're saying.  My point is, that even when we update the template, the template will include a tab that includes the narrative.  And if the narrative happens to be the generic generated narrative, that'll need to work and not cause broken links...</p>",
        "id": 271607497,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644599737
    },
    {
        "content": "<p>right. but it also won't be as well linked into the IG because the generated narrative is general purpose - suitable for the many people who load the examples into their servers. In the case of QuestionnaireResponse, I can link all the questionnaire items from the response to the questionnaire. But the link is IG specific - where the IG put the questionnaire in the HTML. I can generate it with or without the links, and do.</p>",
        "id": 271623748,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644606893
    },
    {
        "content": "<p>but I guess the other resources include links like that and no one has ever complained</p>",
        "id": 271623778,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644606907
    }
]