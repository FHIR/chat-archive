[
    {
        "content": "<p>With some new terminology services holding specific IG related CodeSystems and ValueSets being available to me (non core)- if I wish to bind to a ValueSet directly held in a terminology server in profiles and build in IG builder will that make sense?  I can certainly reference another IG containing the ValueSet and IG builder will resolve an  link will navigate as expected.  Can I reference valuesets directly?   e.g <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-indigenous-status-1\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-indigenous-status-1\">https://healthterminologies.gov.au/fhir/ValueSet/australian-indigenous-status-1</a></p>",
        "id": 153955642,
        "sender_full_name": "Brett Esler",
        "timestamp": 1525343937
    },
    {
        "content": "<p>do you want to publish them as part of the IG and just source them directly? Or just reference them directly without any publishing for them?</p>",
        "id": 153955868,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1525399935
    },
    {
        "content": "<p>I think you want to just reference them from the IG and then when you follow the link to them you get a rendering which describes the ValueSet and lets you look at the expansion (like the link you provided). The aim is for those ValueSet urls to provide the ability to reference specific versions of the ValueSet or \"latest\" where that makes more sense for the binding to track latest.<br>\nOr am I misunderstanding? (there's a good chance of that!)</p>",
        "id": 153955881,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1525404701
    },
    {
        "content": "<p>well, this is tricky. Is the TS link version specific?</p>",
        "id": 153955886,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1525405363
    },
    {
        "content": "<p>and what's the link for the browser ? not the same as the restful link?</p>",
        "id": 153955887,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1525405401
    },
    {
        "content": "<p>the links can be version specific or a link that is the \"latest\" version, so it can be referenced either way. the response is based on the accept header - if you ask for HTML you get a rendering (try the link <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> put in) but if you put in FHIR JSON or XML accept header you get a FHIR REST response</p>",
        "id": 153955888,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1525405501
    },
    {
        "content": "<p>I think it needs to be a version specific reference, so that old versions of the IG say what they originally said</p>",
        "id": 153955889,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1525405547
    },
    {
        "content": "<p>that particular link is tracking the 1.x major version of that ValueSet, so it will point to 1.1, or 1.2 or whatever is the latest...but we can reference 1.1 precisely...or just absolute latest</p>",
        "id": 153955890,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1525405580
    },
    {
        "content": "<p>that's the idea, that IGs can express what is important, pin to a specific version, a major version (and tolerate minor updates) or just absolute latest, whatever makes sense in the context of that binding. The aim is that if the underlying VS changes in ways that aren't significant to the binding the IG can track the major version and not have to up rev each time something small happens...but it does require care be taken about what a \"major\" and \"minor\" changes are</p>",
        "id": 153955893,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1525405765
    },
    {
        "content": "<p>probably intended that most common binding will be to major version</p>",
        "id": 153955894,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1525405842
    },
    {
        "content": "<p>Version specific makes sense; I would like to reference valuesets but not publish them (in some places); currently get the link appearing in the IG as url and resolves ok to the external HTML... so think this is correct as far as this discussion goes - so I should not assume the ValueSet definition is resolved and the display title like explicit ValueSets defined in the IG correct? e.g.</p>",
        "id": 153955900,
        "sender_full_name": "Brett Esler",
        "timestamp": 1525406838
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/KW6F4zYCuUJKnA1FJu1WaE3E/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/KW6F4zYCuUJKnA1FJu1WaE3E/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/KW6F4zYCuUJKnA1FJu1WaE3E/pasted_image.png\"></a></div>",
        "id": 153955901,
        "sender_full_name": "Brett Esler",
        "timestamp": 1525406844
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191337\">@Dion McMurtrie</span>  what would the version specfic  url be for NCTS  valuesets?</p>",
        "id": 153955902,
        "sender_full_name": "Brett Esler",
        "timestamp": 1525406922
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span>  That binding URL should be the canonical version, <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/anzsco-1\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/anzsco-1\">https://healthterminologies.gov.au/fhir/ValueSet/anzsco-1</a>.</p>",
        "id": 153955905,
        "sender_full_name": "John Grimes",
        "timestamp": 1525410536
    },
    {
        "content": "<p>OK <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> I've tracked this down and warmed up my memory...I was probably misleading...and like all of these things it is a bit complicated and there's trade-offs</p>\n<p>This all had to do with a requirement of our CI team (IMO sensible) for stable references for bindings so that minor VS changes don't cause unnecessary IG version churn. But...there is only one “url” field in the resource which is really an identifier, and again I think sensibly, CI want the reference to be that value. We’ve chosen to make those resolvable (which is good).</p>\n<p>To meet these criteria we chose to make the url major version specific, not minor version specific. So for example <br>\n<a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1</a><br>\n<a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2</a></p>\n<p>Those the 2 urls are for versions 1.0.0 and 2.0.0 of the ValueSet. Had there been a 1.0.1 <em>business version</em> published it would have had the same \"url\" element value as the 1.0.0 version (the above url), and <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1</a> would return the 1.0.1 version once published.</p>\n<p>That allows for the stability of the binding for the IG with the ability to modify the ValueSet in \"minor\" ways if needed. I’m not sure exactly what rules we’ve created for the minor and patch versions – <span class=\"user-mention\" data-user-id=\"192027\">@Liam Barnes</span> is there any definition yet?</p>\n<p>But for instance patch versions might be corrections to spelling errors in some of the resource’s fields, like the description. A minor version change might include addition of a new code (although this may depend on the ValueSet’s purpose, its definition, and underlying code systems - <span class=\"user-mention\" data-user-id=\"192027\">@Liam Barnes</span>  can you confirm the rules here).</p>\n<p>Now we <em>could</em> (but currently don't) make available a URL that returns version 1.0.0 and another that returns 1.0.1, i.e.</p>\n<p><a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status-1.0.0\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status-1.0.0\">https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status-1.0.0</a><br>\n<a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status-1.0.1\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status-1.0.1\">https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status-1.0.1</a></p>\n<p>But those wouldn’t be the value of the “url” element of the resource (really an identifier) which is <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1</a> both 1.0.0 and 1.0.1 would have this as their “url” field value. Basically that \"url\" identifier can only have one value, hence the need for a decision and trade off.</p>\n<p>If IGs want to bind to the specific version (i.e. 1.0.1 rather than 1.x.x) <em>and</em> they need to do that by referencing the “url” element value of the ValueSet resource, then we’d have to change what we’ve done. But it is a trade off, because then you’ve got no way to reference 1.x.x using it's \"url\" element value which was the original requirement to avoid unnecessary churn in IG versions.</p>\n<p>We <em>could</em> (but currently don't) also make a URL that resolves to the latest version of the ValueSet</p>\n<p><a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status\">https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status</a><br>\nor maybe better to be explicit<br>\n<a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status-latest\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status-latest\">https://api.healthterminologies.gov.au/integration/v2/fhir/ValueSet/australian-indigenous-status-latest</a></p>\n<p>But I’m not sure of the use case for that (which is why we haven't done it), but there may be one.</p>\n<p>I hope that clarifies what we've done and why. I guess the questions now are</p>\n<ul>\n<li>do we want the \"url\" element to be version specific, or track \"major\" version as our CI team requested (and is currently implemented)? Their use case of having more stable binding points to reduce IG version churn makes sense to me, it is looser coupling.</li>\n</ul>\n<p>and then related but not wholly dependent </p>\n<ul>\n<li>do we want resolvable URLs for version specific (e.g. 1.0.0) versions of the ValueSets (regardless of whether that is chosen to be the \"url\" element value)?</li>\n<li>do we want resolvable URLs for latest major versions (e.g. 1.x.x) of the ValueSets (regardless of whether that is chosen to be the \"url\" element value)?</li>\n<li>do we want resolvable URLs for the \"latest\" version of ValueSets across all versions?</li>\n</ul>\n<p>Sorry...I said it was complicated and there's a few trade-offs involved...</p>\n<p>Finally a last thought (sorry this has turned into an essay). Say we have versions 1.0.0, 1.0.1 and 2.0.0 of the australian-indigenous-status ValueSet. </p>\n<p>We could publish (maybe not all of these are useful?)</p>\n<ul>\n<li><a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1</a><ul>\n<li>version 1.0.1 of the ValueSet</li>\n<li>\"url\" value of <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1</a></li>\n</ul>\n</li>\n<li><a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.0\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.0\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.0</a><ul>\n<li>version 1.0.0 of the ValueSet</li>\n<li>\"url\" value of <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.0\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.0\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.0</a></li>\n</ul>\n</li>\n<li><a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.1\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.1\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.1</a><ul>\n<li>version 1.0.1 of the ValueSet</li>\n<li>\"url\" value of <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.1\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.1\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-1.0.1</a></li>\n</ul>\n</li>\n<li><a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2</a><ul>\n<li>version 2.0.0 of the ValueSet</li>\n<li>\"url\" value of <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2</a></li>\n</ul>\n</li>\n<li><a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2.0.0\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2.0.0\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2.0.0</a><ul>\n<li>version 2.0.0 of the ValueSet</li>\n<li>\"url\" value of <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2.0.0\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2.0.0\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-2.0.0</a></li>\n</ul>\n</li>\n<li><a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-latest\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-latest\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-latest</a><ul>\n<li>version 2.0.0 of the ValueSet</li>\n<li>\"url\" value of <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-latest\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-latest\">https://healthterminologies.gov.au/fhir/ValueSet/australian-states-territories-latest</a></li>\n</ul>\n</li>\n</ul>\n<p>I've not thought that fully through, and perhaps it is really perverting the \"url\" identifier, but maybe that gives people the options they want? We want to make it easy for those defining IGs to reference the degree of specificity they want.</p>\n<p>What are your thoughts?</p>",
        "id": 153955907,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1525412550
    },
    {
        "content": "<p>OK, another update...sorry for the confusion, <span class=\"user-mention\" data-user-id=\"192027\">@Liam Barnes</span> can probably answer this better than I can.</p>\n<p>I think we do provide URLs for historical versions of the ValueSets when they are no longer the one referenced by the major version URL. So for example we have<br>\n<a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1\">https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1</a><br>\nwhich resolves to version 1.1.0 and has a \"url\" element of <a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1\">https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1</a></p>\n<p>and we also have <a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1.0.0\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1.0.0\">https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1.0.0</a><br>\nwhich resolves to version 1.0.0 and has a \"url\" element of <a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1\">https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1</a></p>\n<p>We just don't have a resolvable URL for <a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1.1.0\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1.1.0\">https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1.1.0</a> because it is currently resolvable at <a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1\">https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1</a> - but we could add <a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1.1.0\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1.1.0\">https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1.1.0</a> as well.</p>\n<p>Still, the \"url\" element value for all of these resources is <a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1\">https://api.healthterminologies.gov.au/integration/v2/fhir/CodeSystem/australian-states-territories-1</a> which doesn't match these URLs being resolved if that is an issue.</p>",
        "id": 153955908,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1525413134
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191342\">@John Grimes</span>  and <span class=\"user-mention\" data-user-id=\"191337\">@Dion McMurtrie</span>  - I think we should have the version specific URL resolvable for the current version also - otherwise would have to change the reference if you wanted the specific version and it was no longer the latest...</p>",
        "id": 153955916,
        "sender_full_name": "Brett Esler",
        "timestamp": 1525414417
    },
    {
        "content": "<p>OK, that makes sense. Do you think it is an issue that the URL wouldn't be the \"url\" element value of the resource? That doesn't seem to be a problem to me...but then I may be missing something</p>",
        "id": 153955917,
        "sender_full_name": "Dion McMurtrie",
        "timestamp": 1525414585
    },
    {
        "content": "<p>I might be missing something but is one of the issues here that the reference is a logical reference (i.e. using valueSet.url) rather than a direct reference?</p>",
        "id": 153955918,
        "sender_full_name": "Danielle Tavares",
        "timestamp": 1525414974
    },
    {
        "content": "<p>it can also be a direct reference</p>",
        "id": 153956084,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1525491983
    },
    {
        "content": "<p>which is clearly what's needed in this case.</p>",
        "id": 153956085,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1525492001
    },
    {
        "content": "<p>but now I'm not sure what the exact request is</p>",
        "id": 153956086,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1525492016
    },
    {
        "content": "<p>Most of everything you've described Dion is accurate, however most of our logical urls begin with <a href=\"https://heathterminologies.gov.au/fhir\" target=\"_blank\" title=\"https://heathterminologies.gov.au/fhir\">https://heathterminologies.gov.au/fhir</a> NOT <a href=\"https://api.healthterminologies.gov.au/integration/v2/fhir\" target=\"_blank\" title=\"https://api.healthterminologies.gov.au/integration/v2/fhir\">https://api.healthterminologies.gov.au/integration/v2/fhir</a></p>\n<p>As far as editorial rules go for version increments, again you've got this correct. </p>\n<ul>\n<li>Patch version increments when there is an \"insignificant\" change e.g. typo change to that does not affect codes/display values, update resource description</li>\n<li>Minor version is incremented when there is a significant non-breaking change e.g. addition of a new concept, inactivation of a concept, change to a display that doesn't change the meaning of the concept, etc. </li>\n<li>Major version incremented when there is a significant breaking change e.g. any change that means concept permanence isn't maintained (removal of a code, description change altering the meaning of a concept). Where possible and in our control we will always try to maintain concept permanence.</li>\n</ul>",
        "id": 153956854,
        "sender_full_name": "Liam Barnes",
        "timestamp": 1525739153
    },
    {
        "content": "<p>It just occurred to me that I should have made those editorial rule examples more about value sets than code systems, but the same principles apply. A minor version increment may occur if there are additional members included or those members are inactivated in the code system. A major version increment would occur if a member is removed.</p>",
        "id": 153956885,
        "sender_full_name": "Liam Barnes",
        "timestamp": 1525758670
    }
]