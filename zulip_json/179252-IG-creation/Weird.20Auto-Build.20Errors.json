[
    {
        "content": "<p>Autobuild is failing on the <code>prerelease2</code> branch of <code>fhir-mCODE-ig</code>.  The basic error is:</p>\n<div class=\"codehilite\"><pre><span></span>java.lang.Exception: Error Reading JSON Config file at /scratch/ig-build-temp-1MLAZ8/repo: /scratch/ig-build-temp-1MLAZ8/repo (Is a directory)\n    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1599)\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1178)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:657)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6893)\nCaused by: java.io.FileNotFoundException: /scratch/ig-build-temp-1MLAZ8/repo (Is a directory)\n    at java.base/java.io.FileInputStream.open0(Native Method)\n    at java.base/java.io.FileInputStream.open(FileInputStream.java:213)\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:155)\n    at org.hl7.fhir.utilities.TextFile.fileToString(TextFile.java:166)\n    at org.hl7.fhir.utilities.json.JsonTrackingParser.parseJsonFile(JsonTrackingParser.java:362)\n    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1597)\n    ... 3 more\n</pre></div>\n\n\n<p>Any ideas?<br>\nSource code: <a href=\"https://github.com/HL7/fhir-mCODE-ig/tree/prerelease2\" target=\"_blank\" title=\"https://github.com/HL7/fhir-mCODE-ig/tree/prerelease2\">https://github.com/HL7/fhir-mCODE-ig/tree/prerelease2</a><br>\nBuild log: <a href=\"http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/prerelease2/build.log\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/prerelease2/build.log\">http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/prerelease2/build.log</a></p>",
        "id": 186950674,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1580352282
    },
    {
        "content": "<p>It's not finding an ini file (required for the new template) and so it's looking for an ig.json file and not finding one.</p>",
        "id": 186951021,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580352793
    },
    {
        "content": "<p>And looking at your source, it appears the ini file is indeed missing.</p>",
        "id": 186951036,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580352838
    },
    {
        "content": "<p>Note that the change to the template doesn't remove the need for the ini - still needs to point to the IG and the template and indicate if you're willing to provide feedback.  It's just all of the other parameters that have moved.</p>",
        "id": 186951087,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580352879
    },
    {
        "content": "<p>Doh.  My fault.  I copied parts of the SDC IG <code>.gitignore</code> since they are also on the template and it looks like it gitignored ig.ini.  Oops.</p>",
        "id": 186951094,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1580352901
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Any particular reason why usage-stats-opt-out is in the ini file rather than the IG?</p>",
        "id": 186951109,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580352931
    },
    {
        "content": "<p>Actually, no, I take that back.  SDC doesn't have it in their .gitignore.  That must have been in there from our master branch which wasn't using the new template-based publisher.  Sorry for the confusion and thanks for the tip.</p>",
        "id": 186951233,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1580353089
    },
    {
        "content": "<p>I'll change the logic so it spits out a slightly nicer error message in a future version of the publisher.</p>",
        "id": 186951245,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580353157
    },
    {
        "content": "<blockquote>\n<p>usage-stats-opt-out</p>\n</blockquote>",
        "id": 186954833,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580359294
    },
    {
        "content": "<p>I'm not sure</p>",
        "id": 186954834,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580359304
    },
    {
        "content": "<p>Why am I getting these errors?  And how do I fix them?  </p>\n<div class=\"codehilite\"><pre><span></span><code>Sushi: error Skipping Extension: an Extension named CertaintyOfPresence already exists. (00:00.0878)\nSushi: File: /scratch/ig-build-temp-GM075P/repo/input/fsh/COVID19Symptoms.fsh    (00:00.0878)\nSushi: Line: 11 - 16                                                             (00:00.0878)\nSushi: error Skipping Extension: an Extension named CertaintyOfAbsence already exists. (00:00.0879)\nSushi: File: /scratch/ig-build-temp-GM075P/repo/input/fsh/COVID19Symptoms.fsh    (00:00.0879)\nSushi: Line: 27 - 32                                                             (00:00.0880)\n</code></pre></div>\n<p>The build works just fine locally.</p>",
        "id": 250690402,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1629929673
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 250690472,
        "sender_full_name": "Melva Peters",
        "timestamp": 1629929714
    },
    {
        "content": "<p>This is probably better answered on the <a class=\"stream\" data-stream-id=\"215610\" href=\"/#narrow/stream/215610-shorthand\">#shorthand</a> stream.</p>",
        "id": 250690509,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1629929749
    },
    {
        "content": "<p>why don't you just use the output from the published specification?</p>",
        "id": 250691486,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629930274
    },
    {
        "content": "<p>I don't really understand why you need to feed a snapshot in, but if you're going to do that, use the right one, which is the one that the publisher generates, not something else</p>",
        "id": 250691537,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629930306
    },
    {
        "content": "<p>it's because you have the extension defined in COVID19Diagnosis and COVID19Symptoms</p>",
        "id": 250691587,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1629930333
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> i think your two messages were meant for my topic and not this one</p>",
        "id": 250691668,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1629930365
    },
    {
        "content": "<p>oops. <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> yes you're right</p>",
        "id": 250691692,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629930373
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191411\">@Nathan Davis</span> -- As Elliott suggested, <a class=\"stream\" data-stream-id=\"215610\" href=\"/#narrow/stream/215610-shorthand\">#shorthand</a> is a better place for that question (for future reference), but... I can answer you here.  You're receiving those errors because you have defined the same extension multiple times in your IG.  For example:</p>\n<ul>\n<li><code>CertaintyOfPresence</code> is defined in <a href=\"https://github.com/HL7/fhir-COVID19Library-ig/blob/56462d00c4d89d6aaed869d3515258aefd2f49eb/input/fsh/COVID19Symptoms.fsh#L11-L16\">COVID19Symptoms.fsh</a> and then again in <a href=\"https://github.com/HL7/fhir-COVID19Library-ig/blob/56462d00c4d89d6aaed869d3515258aefd2f49eb/input/fsh/COVID19Diagnosis.fsh#L32-L37\">COVID19Diagnosis.fsh</a>.</li>\n</ul>\n<p>It's a similar story for <code>CertaintyOfAbsense</code>.</p>",
        "id": 250691746,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1629930408
    },
    {
        "content": "<p>Oops.  I see <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> beat me to the punch.  But <em>I</em> included links. ;-)</p>",
        "id": 250691847,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1629930482
    },
    {
        "content": "<p>Weird that I don't see the error when I build locally.   Thanks!</p>",
        "id": 250693731,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1629931755
    },
    {
        "content": "<p>Weird that I don't see the error when I build locally.   Thanks!</p>",
        "id": 250698045,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1629934623
    },
    {
        "content": "<p>this is brand new sushi</p>",
        "id": 250702359,
        "sender_full_name": "John Moehrke",
        "timestamp": 1629937538
    },
    {
        "content": "<p>this afternoon</p>",
        "id": 250702363,
        "sender_full_name": "John Moehrke",
        "timestamp": 1629937543
    },
    {
        "content": "<p>don't eat that old sushi</p>",
        "id": 250702371,
        "sender_full_name": "John Moehrke",
        "timestamp": 1629937549
    }
]