[
    {
        "content": "<p>We are including logical models in our IG.  When we run the IG publisher, we get a bunch of similar errors that I <em>think</em> happen when an element declare's a logical model's URL as its <code>type.code</code>.  For example, if we have a logical model that declares an element's <code>type</code> like this:</p>\n<div class=\"codehilite\"><pre><span></span>&quot;type&quot;: [\n  {\n    &quot;code&quot;: &quot;http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model&quot;\n  }\n ],\n</pre></div>\n\n\n<p>Then we get an error like this in the IG Publisher qa.html:</p>\n<blockquote>\n<p><strong>Path</strong>: <a href=\"http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model\" target=\"_blank\" title=\"http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model\">http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model</a>  <br>\n<strong>Severity</strong>: Error<br>\n<strong>Message</strong>: The reference <a href=\"http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model\" target=\"_blank\" title=\"http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model\">http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model</a> could not be resolved</p>\n</blockquote>\n<p>If we instead declare the type as a reference, e.g.:</p>\n<div class=\"codehilite\"><pre><span></span>&quot;type&quot;: [\n  {\n    &quot;code&quot;: &quot;Reference&quot;,\n    &quot;targetProfile&quot;: &quot;http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model&quot;\n  }\n ],\n</pre></div>\n\n\n<p>... then the publisher does <em>not</em> produce an error.</p>\n<p>But... we don't want a reference, so we really need to declare the logical model URL as the <code>type.code</code>.</p>",
        "id": 153947760,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522014191
    },
    {
        "content": "<p>BTW -- please let me know if I should be putting these in GForge instead (or in addition).</p>",
        "id": 153947761,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522015779
    },
    {
        "content": "<p>hmm how can I reproduce this?</p>",
        "id": 153947807,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522045401
    },
    {
        "content": "<p>I think it's better to describe things here. We can discuss them and turn them into tasks when it's clear exactly what the task shoud be</p>",
        "id": 153947809,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522045425
    },
    {
        "content": "<p>As for reproducing... my IG reproduces it lots of times: <a href=\"http://build.fhir.org/ig/HL7/us-breastcancer/qa.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/us-breastcancer/qa.html\">http://build.fhir.org/ig/HL7/us-breastcancer/qa.html</a></p>\n<p>One example is <code>http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model</code>.  It is used in two models, each of which specifies it as the <code>code.type</code> of a <code>stageSuffix</code> element:</p>\n<ul>\n<li><code>http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-BreastCancerNCategory-model</code> (<a href=\"http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-oncology-BreastCancerNCategory-model.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-oncology-BreastCancerNCategory-model.html\">here</a>)</li>\n<li><code>http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-BreastCancerTCategory-model</code>(<a href=\"http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-oncology-BreastCancerTCategory-model.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-oncology-BreastCancerTCategory-model.html\">here</a>)</li>\n</ul>\n<p>As noted above, the result is:</p>\n<blockquote>\n<p><strong>Path</strong>: <a href=\"http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model\" target=\"_blank\" title=\"http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model\">http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model</a>  <br>\n<strong>Severity</strong>: Error<br>\n<strong>Message</strong>: The reference <a href=\"http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model\" target=\"_blank\" title=\"http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model\">http://hl7.org/fhir/us/breastcancer/StructureDefinition/oncology-StageSuffix-model</a> could not be resolved</p>\n</blockquote>",
        "id": 153948273,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522113721
    },
    {
        "content": "<p>My IG source is here: <a href=\"https://github.com/HL7/us-breastcancer\" target=\"_blank\" title=\"https://github.com/HL7/us-breastcancer\">https://github.com/HL7/us-breastcancer</a></p>\n<p>Or if you have your own favorite IG that has logical models, add an element to one of them that specifies another logic model as the <code>code.type</code> (not a reference).  That should do it.</p>",
        "id": 153948274,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522113830
    },
    {
        "content": "<p>ok, well, make a task for this one. I'll try to get to it in the nexts 48 hours</p>",
        "id": 153948278,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522114691
    },
    {
        "content": "<p>Is there anything I can do to make it easier on you?  I know you have a <em>lot</em> on your plate.</p>",
        "id": 153948282,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522115170
    },
    {
        "content": "<p>Task URL: <a href=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15830\" target=\"_blank\" title=\"https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15830\">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15830</a></p>",
        "id": 153948292,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522116862
    },
    {
        "content": "<p>setting up the case. But I've set it up now</p>",
        "id": 153948346,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522153320
    },
    {
        "content": "<p>Awesome.  Thank you!</p>",
        "id": 153948360,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522155560
    },
    {
        "content": "<p>so I think I found and fixed it but I don't have time to check - got to sleep. Committed so you can look at it. I'll be back in 6 hours</p>",
        "id": 153948365,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522156555
    },
    {
        "content": "<p>I'll check it out.  Rest well!</p>",
        "id": 153948368,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522156727
    },
    {
        "content": "<p>FYI -- the last two FHIR builds have failed due to an issue with <a href=\"http://bintray.com\" target=\"_blank\" title=\"http://bintray.com\">bintray.com</a>, so I'm not currently able to test this (and suspect I'd run into the same issue if trying to build locally).</p>",
        "id": 153948421,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522163548
    },
    {
        "content": "<p>We've just got a successful run of the FHIR build and I followed that up with a run of our IG.  I'm glad to report that your fix worked!  I no longer see the errors about resolving the logical model URLs!  Thank you!</p>",
        "id": 153948503,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522178014
    },
    {
        "content": "<p>great</p>",
        "id": 153948505,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522178201
    }
]