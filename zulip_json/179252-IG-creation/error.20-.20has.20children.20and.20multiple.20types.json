[
    {
        "content": "<p>I'm getting an error from the IG Publisher:<br>\nObservation.valueQuantity has children (Observation.valueQuantity.value) and multiple types (Quantity, CodeableConcept, string, boolean, Range, Ratio, SampledData, Attachment, time, dateTime, Period) in profile BloodPressureObservation.valueQuantity</p>",
        "id": 153985958,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534199632
    },
    {
        "content": "<p>Any idea how to fix this?</p>",
        "id": 153985959,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534199636
    },
    {
        "content": "<p>I've tried restricting the &lt;type&gt; on valueQuantity to just \"Quantity\"</p>",
        "id": 153985960,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534199646
    },
    {
        "content": "<p>but that didn't help</p>",
        "id": 153985961,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534199648
    },
    {
        "content": "<p>I think you need to first slice on type, then constrain your slice.</p>",
        "id": 153985970,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534200621
    },
    {
        "content": "<p>this is what I have</p>",
        "id": 153985974,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534200704
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>&lt;element id=&quot;value[x]&quot;&gt;\n  &lt;path value=&quot;Observation.value[x]&quot;/&gt;\n  &lt;slicing&gt;\n    &lt;discriminator&gt;\n      &lt;type value=&quot;value&quot;/&gt;\n      &lt;path value=&quot;@type&quot;/&gt;\n    &lt;/discriminator&gt;\n    &lt;rules value=&quot;open&quot;/&gt;\n  &lt;/slicing&gt;\n  &lt;short value=&quot;value[x]&quot;/&gt;\n  &lt;definition\n    value=&quot;SHALL contain exactly one [1..1] value[x], where value[x] is (CONF:4383-273)&quot;/&gt;\n  &lt;min value=&quot;1&quot;/&gt;\n  &lt;max value=&quot;1&quot;/&gt;\n&lt;/element&gt;\n&lt;element id=&quot;value[x].valueQuantity:quantity&quot;&gt;\n  &lt;path value=&quot;Observation.valueQuantity&quot;/&gt;\n  &lt;sliceName value=&quot;quantity&quot; /&gt;\n  &lt;short value=&quot;valueQuantity&quot;/&gt;\n  &lt;definition value=&quot;valueQuantity (CONF:4383-274)&quot;/&gt;\n  &lt;type&gt;\n    &lt;code value=&quot;Quantity&quot; /&gt;\n  &lt;/type&gt;\n&lt;/element&gt;\n&lt;element id=&quot;value[x].valueQuantity:quantity.value&quot;&gt;\n  &lt;path value=&quot;Observation.valueQuantity.value&quot;/&gt;\n  &lt;sliceName value=&quot;quantity&quot; /&gt;\n  &lt;short value=&quot;value&quot;/&gt;\n  &lt;definition value=&quot;SHALL contain exactly one [1..1] value (CONF:4383-281).&quot;/&gt;\n  &lt;min value=&quot;1&quot;/&gt;\n  &lt;max value=&quot;1&quot;/&gt;\n&lt;/element&gt;\n&lt;element id=&quot;value[x].valueQuantity:quantity.unit&quot;&gt;\n  &lt;sliceName value=&quot;quantity&quot; /&gt;\n  &lt;path value=&quot;Observation.valueQuantity.unit&quot;/&gt;\n  &lt;short value=&quot;unit&quot;/&gt;\n  &lt;definition value=&quot;SHALL contain exactly one [1..1] unit (CONF:4383-282).&quot;/&gt;\n  &lt;min value=&quot;1&quot;/&gt;\n  &lt;max value=&quot;1&quot;/&gt;\n&lt;/element&gt;\n</pre></div>",
        "id": 153985975,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534200707
    },
    {
        "content": "<p>still gives that error...</p>",
        "id": 153985976,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534200721
    },
    {
        "content": "<p>regardless of whether I put &lt;type&gt; on value[x] or value[x].valueQuantity</p>",
        "id": 153985978,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534200780
    },
    {
        "content": "<p>Why are you slicing by value?</p>",
        "id": 153985979,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534200812
    },
    {
        "content": "<p>oh.. i see what you mean</p>",
        "id": 153985981,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534200832
    },
    {
        "content": "<p>ok, good point. I'll try to change that</p>",
        "id": 153985983,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534200837
    },
    {
        "content": "<p>ok. changed it to slice by \"type\" with path \"$this\"</p>",
        "id": 153985990,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534201058
    },
    {
        "content": "<p>same error</p>",
        "id": 153985991,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534201060
    },
    {
        "content": "<p>I keep trying different variations, and nothing is working... =/</p>",
        "id": 153985995,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534201276
    },
    {
        "content": "<p>just trying to figure out how to require .value and .unit on a valueQuantity in an Observation...</p>",
        "id": 153985996,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534201313
    },
    {
        "content": "<p>What happens in the vital signs profiles?</p>",
        "id": 153985997,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534201437
    },
    {
        "content": "<p>I do not think you are able to slice by anything other that value in the spreadsheets.</p>",
        "id": 153986039,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534204809
    },
    {
        "content": "<p>You can slice by anything in the spreadsheets.  Just append .@type, .@pattern, etc. to your discriminator</p>",
        "id": 153986040,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534205064
    },
    {
        "content": "<p>is this sorted?</p>",
        "id": 153986224,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534226533
    },
    {
        "content": "<p>I believe this is a bug in the older version of the ig publisher that I was using... now I'm getting different errors, having downloaded the latest ig publisher</p>",
        "id": 153986547,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534283332
    },
    {
        "content": "<p>will confirm once I know for sure</p>",
        "id": 153986548,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1534283337
    }
]