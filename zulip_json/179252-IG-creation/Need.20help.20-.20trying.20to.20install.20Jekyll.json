[
    {
        "content": "<p>As part of my effort to learn FSH, I need to install the FHIR IG publisher.  <br>\nAccording to <a href=\"https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation#IGPublisherDocumentation-UsingFHIRIGPublisher\">https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation#IGPublisherDocumentation-UsingFHIRIGPublisher</a>, in order to do that, I need to install Jekyll.</p>\n<p>I have downloaded the publisher.jar.  </p>\n<p>I have gone to the Windows instructions to install Jekyll for Windows (<a href=\"http://jekyll-windows.juthilo.com/\">http://jekyll-windows.juthilo.com/</a>).<br>\nI have completed step 1, which is downloading and installing Ruby v2.0.0, then downloading and installing the Ruby DevKit that begins with DevKit-mingw64.</p>\n<p>I am stuck on step 2 which is installing the Jekyll Gem.  The instructions say to open a command line and enter the command \"gem install jekyll\".  When I do that, I get the following error:</p>\n<p>ERROR:  Could not find a valid gem 'jekyll' (&gt;= 0), here is why:<br>\n          Unable to download data from <a href=\"https://rubygems.org/\">https://rubygems.org/</a> - SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: tlsv1 alert protocol version (<a href=\"https://rubygems.org/latest_specs.4.8.gz\">https://rubygems.org/latest_specs.4.8.gz</a>)</p>\n<p>Step 2 has a note that says v2.4 (from 2014) is the latest version at the time of writing which is compatible with Windows.</p>\n<p>I went to <a href=\"http://rubygems.org\">rubygems.org</a> and downloaded version 2.4, dropped it in the RubyDevKit directory and tried again to run the command.  I received the following error:<br>\nERROR:  While executing gem ... (Gem::DependencyError)<br>\n    Unable to resolve dependencies: jekyll requires liquid (~&gt; 2.6.1), kramdown (~&gt; 1.3), mercenary (~&gt; 0.3.3), safe_yaml (~&gt; 1.0), colorator (~&gt; 0.1), pygments.rb (~&gt; 0.6.0), redcarpet (~&gt; 3.1), toml (~&gt; 0.1.0), jekyll-paginate (~&gt; 1.0), jekyll-gist (~&gt; 1.0), jekyll-coffeescript (~&gt; 1.0), jekyll-sass-converter (~&gt; 1.0), jekyll-watch (~&gt; 1.1), classifier-reborn (~&gt; 2.0)</p>\n<p>Can anyone help me to troubleshoot the Jekyll install?</p>",
        "id": 262630384,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637781516
    },
    {
        "content": "<blockquote>\n<p>Could not find a valid gem 'jekyll' (&gt;= 0), here is why:<br>\nUnable to download data from <a href=\"https://rubygems.org/\">https://rubygems.org/</a> - SSL_connect returned=1 errno=0 state=SSLv2/v3 read server hello A: tlsv1 alert protocol version (<a href=\"https://rubygems.org/latest_specs.4.8.gz\">https://rubygems.org/latest_specs.4.8.gz</a>)</p>\n</blockquote>\n<p>That's the important one, and we won't be able to help with that here, I think.</p>",
        "id": 262630805,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637781823
    },
    {
        "content": "<p>do you have a network agent somewhere blocking that site?</p>",
        "id": 262630827,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637781840
    },
    {
        "content": "<p>I don't think so.  I was able to navigate to it directly from the same computer</p>",
        "id": 262631044,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637781973
    },
    {
        "content": "<p>but the problem is reproducible?</p>",
        "id": 262631646,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637782347
    },
    {
        "content": "<p>Yes.  I got the same error message a couple of times.</p>",
        "id": 262631731,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637782408
    },
    {
        "content": "<p>In the meantime, I have gone through the Jekyll installation instructions at <a href=\"https://jekyllrb.com/docs/installation/windows/\">https://jekyllrb.com/docs/installation/windows/</a>.    This installed the following:</p>\n<p>Ruby 3.0.2p107<br>\nJekyll 4.2.1</p>",
        "id": 262631840,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637782465
    },
    {
        "content": "<p>I haven't got to the point of attempting to publish anything so I don't actually know if the newer version of Jekyll works with the IG Publisher.  DO you know if it does?</p>",
        "id": 262632255,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637782699
    },
    {
        "content": "<p>It looks like Jekyll is for creating websites.  <br>\nHow does Jekyll interact with the IG Publisher?  <br>\nIs there any sort of education around setting up and using the IG Publisher/Jekyll?</p>\n<p>I must admit that I am pretty lost here.</p>",
        "id": 262634697,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637784237
    },
    {
        "content": "<p>the IG-publisher prepares a set of files for Jekyll to process. Because an IG is effectively a web site.</p>",
        "id": 262635005,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637784448
    },
    {
        "content": "<p>I think we're feeling pretty lost too - we just use Jekyll, and if the install fails... I guess you have to ask on a Jekyll support forum</p>",
        "id": 262635087,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637784486
    },
    {
        "content": "<p>so basically, If I have Jekyll installed successfully, then I create a new directory for my site (IG), I drop the output of the IG Publisher in that directory, and then I build and serve it with Jekyll?</p>",
        "id": 262635322,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637784657
    },
    {
        "content": "<p>well, you can, but you don't need to - the IG output doesn't assume you're running a web server (some web sites do) and you can just load it by double clicking the files in explorer (we all do that). The IG publisher will use Jekyll internally - you don't need to do anything with it other than have it installed</p>",
        "id": 262635443,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637784734
    },
    {
        "content": "<p>OK.  So I am not actually going to use Jekyll - only install it.</p>\n<p>Would you be able to send me a sample that I could run through IG Publisher in order to verify that the newer version of Jekyll works with IG Publisher.  I don't have anything yet, as I am just starting to learn FSH.  I am trying to get the environment fully set up before I really get into it.</p>",
        "id": 262635695,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637784926
    },
    {
        "content": "<p>Some time ago I had a portable Jekyll install - i.e. no install</p>",
        "id": 262635715,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1637784950
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"340591\">@Joan Harper</span>  I'm running into a seemingly similar issue related to ssl when trying to install Jekyll on my new MITRE Macbook Pro.  I think it's blocked by the VPN.  You may have a similar issue?  The IG build process definitely does use Jekyll.</p>",
        "id": 262635726,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1637784960
    },
    {
        "content": "<p>I can recover the scripts for that portable Jekyll if you want <span class=\"user-mention\" data-user-id=\"340591\">@Joan Harper</span></p>",
        "id": 262635798,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1637784983
    },
    {
        "content": "<p>I can let you know how I manage to solve it on my end.  Or you can try Jose's option.</p>",
        "id": 262635839,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1637785016
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> I was able to install the newer version without any issues.  I just don't have anything that I can use to validate if the newer version works.</p>",
        "id": 262635857,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637785028
    },
    {
        "content": "<p>we use <a href=\"https://github.com/FHIR/sample-ig\">https://github.com/FHIR/sample-ig</a></p>",
        "id": 262635865,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637785036
    },
    {
        "content": "<p>for sample testing</p>",
        "id": 262635874,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637785042
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> That would be appreciated.</p>",
        "id": 262635909,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637785079
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> to use that sample, what would I do to run it through the IG publisher?</p>",
        "id": 262635989,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637785115
    },
    {
        "content": "<p>see <a href=\"https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation#IGPublisherDocumentation-UsingFHIRIGPublisher\">https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation#IGPublisherDocumentation-UsingFHIRIGPublisher</a> - run it and point it at the folder that you put your local clone of that github repo in</p>",
        "id": 262636253,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637785265
    },
    {
        "content": "<p><a href=\"https://gist.github.com/costateixeira/a427cb57b90d4cbddb6ef957b0ed64ec\">https://gist.github.com/costateixeira/a427cb57b90d4cbddb6ef957b0ed64ec</a></p>",
        "id": 262636626,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1637785482
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> .<br>\nNow I need to figure out how to make a local clone of a github repository.</p>\n<p>I'm beginning to understand why everyone wants to use Simplifier instead of IG Publisher.</p>",
        "id": 262636639,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637785491
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>    Thanks.  I will try that if the newer version of Jekyll does not work.</p>",
        "id": 262636768,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637785568
    },
    {
        "content": "<p>The link above is portable Jekyll. Basically it was a temporary solution so it requires an adaptation to the script as per instructions</p>",
        "id": 262636791,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1637785581
    },
    {
        "content": "<p>unfortunately, the simplifier mantainers have never done the work to make it possible for HL7 to publish IGs edited in simplifier. So we're stuck with what we have, which does require a set of technical skills around git, yes.</p>",
        "id": 262636843,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637785616
    },
    {
        "content": "<p>installing Jekyll is usually straightforward though</p>",
        "id": 262636871,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637785634
    },
    {
        "content": "<p>for now, you need a basic git tutorial</p>",
        "id": 262636903,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637785661
    },
    {
        "content": "<p>I don't know if anyone has any recommendations for the last worst one of those</p>",
        "id": 262636975,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637785688
    },
    {
        "content": "<p>I also don't know why you are looking at ruby 2.0.0... I think Jekyll requires 2.6 or so</p>",
        "id": 262636984,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1637785693
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>   The instructions that the Confluence page links to are at <a href=\"http://jekyll-windows.juthilo.com/1-ruby-and-devkit/\">http://jekyll-windows.juthilo.com/1-ruby-and-devkit/</a>.  On that page, it has a screenshot of setting up using Ruby 2.0.0-p481-x64.  Then for the DevKit, it says that for Ruby 2.0.0, the file name will begin with DevKit-mingw64.  <br>\nOn Step 2, it said the latest version of Jekyll at the time of writing is v2.4.0</p>\n<p>I was following the instructions on that website.  It's quite possible that the links on the Confluence page are out of date?</p>",
        "id": 262637976,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637786416
    },
    {
        "content": "<p>that page it points to is out of date. Does anyone know of a more recent page?</p>",
        "id": 262639429,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637787405
    },
    {
        "content": "<p>no. we should just reference <a href=\"https://jekyllrb.com/docs/installation/windows/\">https://jekyllrb.com/docs/installation/windows/</a></p>",
        "id": 262639613,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637787512
    },
    {
        "content": "<p>The Confluence page seems to be partially out of date. Probably the easiest way to get started would be:</p>\n<ol>\n<li>Install Java SDK</li>\n<li>Install the <a href=\"https://jekyllrb.com/docs/installation/windows/\">latest stable Ruby and Jeckyl</a></li>\n<li>Install <a href=\"https://gitforwindows.org/\">Git for Windows</a></li>\n<li>From the Bash shell that comes with Git for Windows <code>git clone  git@github.com:FHIR/sample-ig.git</code></li>\n<li>reference the <a href=\"https://build.fhir.org/ig/FHIR/ig-guidance/using-templates.html\">IG Guidance</a>, and the Confluence page on how to use _updatePublisher[.bat or .sh] and _genonce[.bat or .sh]</li>\n</ol>",
        "id": 262640204,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1637787817
    },
    {
        "content": "<p>would you like to add that to the confluence page?</p>",
        "id": 262640712,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637788125
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I cloned the git repository but I still have questions.</p>\n<p>1) which file should I choose?  Earlier you said to point to the folder but the 'choose' seems to want a file name.<br>\n2) the window that I see when opening the publisher.jar file only has one window, not a left side and right side as shown in the screenshot.  It also doesn't have the version number showing at the bottom like the screenshot.<br>\n3) where would I expect to see the output from the execute operation, and what format should I expect that output to be in?</p>\n<p>This is what I see when I open the publisher.jar</p>\n<p><a href=\"/user_uploads/10155/3DH27ETJUNCYEu3492ps_wjI/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/3DH27ETJUNCYEu3492ps_wjI/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/3DH27ETJUNCYEu3492ps_wjI/image.png\"></a></div>",
        "id": 262643032,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637789849
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"340591\">@Joan Harper</span> The fastest way to see output of the sample IG is to navigate to the top folder of the cloned git repository, and there run <code>_updatePublisher.bat</code> (answer yes to all prompts) and then run <code>_genonce.bat</code>.  if everything works as expected, you will have the IG in the <code>output</code> folder, where you can open <code>index.html</code> in a browser to see the result of the publisher.</p>",
        "id": 262647242,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1637792944
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span> Thank you so much.  <br>\nI was able to verify that the example IG builds correctly and look at the index.html in the browser.</p>",
        "id": 262717850,
        "sender_full_name": "Joan Harper",
        "timestamp": 1637853549
    },
    {
        "content": "<p>I added a <a href=\"https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation#IGPublisherDocumentation-QuickStart\">Quick Start section</a> on the Confluence Page based on this discussion.</p>",
        "id": 262829949,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1637955865
    }
]