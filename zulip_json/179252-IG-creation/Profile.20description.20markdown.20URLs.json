[
    {
        "content": "<p>I have added to the Profile description markdown links to pages in my IG.  I did this with relative page html urls <code> profile is used in [foo bar transaction](foobar.html)</code> This works fine on the Artifacts page, but when viewing the description within the Profile rendering, it \"assumes\" that the link was to the FHIR specification. I also get a build warning coming from that profile rendering page.</p>",
        "id": 258576085,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634833600
    },
    {
        "content": "<p>This is a bug that did not exist in the IG builder / template back in June. My build in June worked as expected, but today throws errors and somehow assumes the links are to FHIR R4.</p>",
        "id": 258740060,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634921739
    },
    {
        "content": "<p>Here is the example using the IHE PDQm ci build <a href=\"https://build.fhir.org/ig/IHE/ITI.PDQm/branches/main/artifacts.html\">https://build.fhir.org/ig/IHE/ITI.PDQm/branches/main/artifacts.html</a></p>",
        "id": 258741556,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634922332
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/3UaE5nOeqMTY7s5Wf8Izo_9i/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/3UaE5nOeqMTY7s5Wf8Izo_9i/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/3UaE5nOeqMTY7s5Wf8Izo_9i/image.png\"></a></div>",
        "id": 258741598,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634922348
    },
    {
        "content": "<p>that works as a relative link within the IG.  -- on the artifacts page</p>",
        "id": 258741689,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634922377
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/9ww2bB7RnJz9M6Ne906Sf4jd/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/9ww2bB7RnJz9M6Ne906Sf4jd/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/9ww2bB7RnJz9M6Ne906Sf4jd/image.png\"></a></div>",
        "id": 258741806,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634922436
    },
    {
        "content": "<p>that, on the profile render page, does not act as a relative URL. It presumes the link was a relative to the FHIR R4 spec.</p>",
        "id": 258741907,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634922476
    },
    {
        "content": "<p>I don't think this current behavior of the IG build, to presume a relative URL should be to the FHIR version declared in the IG, is understandable but not proper.  If I really wanted to link to a specific version of the FHIR core, I would use a full url. But there is no alternative but to use relative URLs for links within the IG.</p>",
        "id": 258745913,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634924192
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 258750103,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1634925968
    },
    {
        "content": "<p>I don't understand this. is the link wrong? or just that it's flagged as external?</p>",
        "id": 258753985,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1634927703
    },
    {
        "content": "<p>the first is good. the second has been changed to <a href=\"http://hl7.org/fhir/R4/ITI-78.html\">http://hl7.org/fhir/R4/ITI-78.html</a></p>",
        "id": 258756023,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634928598
    },
    {
        "content": "<p>on the artifacts page it properly handled it as a relative url to pages inside the IG.</p>",
        "id": 258756117,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634928622
    },
    {
        "content": "<p>but on the profile page, it got rendered as if it was refering to a resource on the FHIR R4 spec.</p>",
        "id": 258756169,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634928642
    },
    {
        "content": "<p><a href=\"https://build.fhir.org/ig/IHE/ITI.PDQm/branches/main/StructureDefinition-IHE.PDQm.Query.Audit.Consumer.html\">https://build.fhir.org/ig/IHE/ITI.PDQm/branches/main/StructureDefinition-IHE.PDQm.Query.Audit.Consumer.html</a></p>",
        "id": 258756240,
        "sender_full_name": "John Moehrke",
        "timestamp": 1634928667
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> any chance to get this fixed this or next week? IHE is needing to publish three IGs that use this markdown feature.</p>",
        "id": 258951361,
        "sender_full_name": "John Moehrke",
        "timestamp": 1635164905
    },
    {
        "content": "<p>now about this one?   in a profile (might also be an instant) description with markdown, I need relative links within my IG.<br>\nnow github issue <a href=\"https://github.com/HL7/fhir-ig-publisher/issues/328\">https://github.com/HL7/fhir-ig-publisher/issues/328</a></p>",
        "id": 259019304,
        "sender_full_name": "John Moehrke",
        "timestamp": 1635195340
    },
    {
        "content": "<p>fixed next release</p>",
        "id": 259173963,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635289287
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> might that new release be available today? (Im working on the publication today)</p>",
        "id": 259512670,
        "sender_full_name": "John Moehrke",
        "timestamp": 1635508040
    },
    {
        "content": "<p>honestly... I don't like your chances. QA processes look like they'll take all day</p>",
        "id": 259513215,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635508420
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> I don't even know why the Ci-build failed on my PR that includes the changes John wants</p>",
        "id": 259513277,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635508443
    },
    {
        "content": "<p><a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/634\">https://github.com/hapifhir/org.hl7.fhir.core/pull/634</a></p>",
        "id": 259513299,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635508455
    },
    {
        "content": "<p>taking care of this with David this afternoon</p>",
        "id": 259563770,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635531342
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"453078\">@David Otasek</span></p>",
        "id": 259569356,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635534192
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I'm getting the same test failure locally on my machine:</p>",
        "id": 259570332,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635534721
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"----\"><pre><span></span><code>** Core:\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/home/mark/.m2/repository/org/slf4j/slf4j-simple/1.7.28/slf4j-simple-1.7.28.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/mark/.m2/repository/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.SimpleLoggerFactory]\n   ..Detect format for code-wrong-display.xml\nStart Validating (14055 to set up)\nTimes (ms): overall = 151, tx = 139, sd = 0, load = 176, fpe = 3\nERROR: Basic.code.coding[0]: Version 'http://snomed.info/sct/731000124108/version/20210301' of the code system 'http://snomed.info/sct' is not known (encountered paired with code = '132037003'). ValidVersions = [http://snomed.info/sct/20611000087101/version/20210331,http://snomed.info/sct/32506021000036107/version/20210630,http://snomed.info/sct/731000124108/version/20210901,http://snomed.info/sct/900000000000207008/version/20190731,http://snomed.info/sct/900000000000207008/version/20200131,http://snomed.info/sct/900000000000207008/version/20200731,http://snomed.info/sct/900000000000207008/version/20210731]; The code provided (http://snomed.info/sct#132037003) is not valid in the value set 'All codes known to the system' (from http://tx.fhir.org/r4) for 'http://snomed.info/sct#132037003'\n\njava.lang.AssertionError: Test code-wrong-display: Expected 0 errors, but found 1.\nExpected :0\nActual   :1\n&lt;Click to see difference&gt;\n\n\n    at org.junit.Assert.fail(Assert.java:89)\n    at org.junit.Assert.failNotEquals(Assert.java:835)\n    at org.junit.Assert.assertEquals(Assert.java:647)\n    at org.hl7.fhir.validation.tests.ValidationTests.checkOutcomes(ValidationTests.java:421)\n    at org.hl7.fhir.validation.tests.ValidationTests.test(ValidationTests.java:256)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n</code></pre></div>",
        "id": 259570380,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635534728
    },
    {
        "content": "<p>I suppose it helps if I actually push the change</p>",
        "id": 259570512,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635534816
    },
    {
        "content": "<p>It's my old friend Pineywood-pig</p>",
        "id": 259570594,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635534845
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;name&quot;: &quot;code-wrong-display&quot;,\n  &quot;file&quot;: &quot;code-wrong-display.xml&quot;,\n  &quot;tx-dependent&quot;: true,\n  &quot;java&quot;: {\n    &quot;errorCount&quot;: 0,\n    &quot;warningCount&quot;: 1,\n    &quot;output&quot;: [\n      &quot;WARNING: Basic.code.coding[0]: The display \\&quot;Pineywoods pig breed. Not.\\&quot; is not a valid display for the code {http://snomed.info/sct}132037003 - should be one of [\\&quot;Pineywoods pig\\&quot;,\\&quot;Pineywoods pig breed (organism)\\&quot;,\\&quot;Pineywoods pig breed\\&quot;]&quot;\n    ]\n  }\n},\n</code></pre></div>",
        "id": 259570600,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635534846
    },
    {
        "content": "<p>Okay, let me know when this is good to go, and I'll re-run the tests</p>",
        "id": 259570734,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635534930
    },
    {
        "content": "<p>well, it should be good to as soon as sonatype has done it's thing, right?</p>",
        "id": 259571656,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1635535395
    },
    {
        "content": "<p>Yeah, working on it now</p>",
        "id": 259572842,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635536007
    },
    {
        "content": "<p>I merged your change in along with another for SmileCDR, and the release is running</p>",
        "id": 259582317,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635541038
    },
    {
        "content": "<p>Releases are complete</p>",
        "id": 259697406,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635551015
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span></p>",
        "id": 259697412,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1635551025
    },
    {
        "content": "<p>Thanks</p>",
        "id": 259698309,
        "sender_full_name": "John Moehrke",
        "timestamp": 1635551936
    },
    {
        "content": "<p>I confirm it is working properly now.</p>",
        "id": 259852683,
        "sender_full_name": "John Moehrke",
        "timestamp": 1635766036
    }
]