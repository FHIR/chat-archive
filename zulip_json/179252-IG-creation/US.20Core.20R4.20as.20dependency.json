[
    {
        "content": "<p>What's the proper way to list US Core R4 as a dependency in <code>ig.json</code>? I've found multiple answers on Zulip and it looks like the approach has changed over time -- but it's not clear where it landed.  I've tried every variation I found here but can't figure it out.  Do I have to also build US Core R4 locally for it to work?  Or should it work without having to actually build US Core R4 on my machine?</p>",
        "id": 165574404,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1557786001
    },
    {
        "content": "<p>Here is what I use for the latest current R4, and it works</p>\n<p>\"dependencyList\": [<br>\n    {<br>\n      \"package\": \"hl7.fhir.us.core\",<br>\n      \"version\": \"current\",<br>\n      \"name\": \"uscore\",<br>\n      \"location\": \"<a href=\"http://hl7.org/fhir/us/core\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core\">http://hl7.org/fhir/us/core</a>\"<br>\n    }</p>",
        "id": 165578672,
        "sender_full_name": "Eric Haas",
        "timestamp": 1557790229
    },
    {
        "content": "<p>I get <br>\n\"Load core (<a href=\"http://hl7.org/fhir/us/core\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core\">http://hl7.org/fhir/us/core</a>) from hl7.fhir.us.core#current            (35.0568sec)<br>\n  [java] Version mismatch. This IG is version 4.0.0, while the IG 'core' is from version 3.0.1 (will try to run anyway) (35.0570sec)\"</p>",
        "id": 165582682,
        "sender_full_name": "David Pyke",
        "timestamp": 1557794556
    },
    {
        "content": "<p>us.core is the STU3 version.  You need to point to us.core.r4 for the R4 stuff</p>",
        "id": 165582912,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1557794873
    },
    {
        "content": "<p>Like this?<br>\n  &lt;dependsOn&gt;<br>\n    &lt;uri value=\"http://hl7.org/fhir/us/core\"/&gt;<br>\n    &lt;packageId value=\"hl7.fhir.us.core.r4\" /&gt;<br>\n    &lt;version value=\"current\" /&gt;<br>\n  &lt;/dependsOn&gt;<br>\nNo change?</p>",
        "id": 165583509,
        "sender_full_name": "David Pyke",
        "timestamp": 1557795674
    },
    {
        "content": "<p>y</p>",
        "id": 165583759,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1557796012
    },
    {
        "content": "<p>THen there must be something wrong because the generated ig-new shows:<br>\n  &lt;dependsOn id=\"core\"&gt;<br>\n    &lt;uri value=\"http://hl7.org/fhir/us/core\"/&gt;<br>\n    &lt;packageId value=\"hl7.fhir.us.core\"/&gt;<br>\n    &lt;version value=\"current\"/&gt;<br>\n  &lt;/dependsOn&gt;</p>",
        "id": 165583948,
        "sender_full_name": "David Pyke",
        "timestamp": 1557796248
    },
    {
        "content": "<p>sigh.  y.  Need a change to the template - which I've made in one of my IGs.  Just need to dig and figure out which...</p>",
        "id": 165584056,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1557796415
    },
    {
        "content": "<p>Wonderful, I've been driving myself mad with this since Thursday.</p>",
        "id": 165584113,
        "sender_full_name": "David Pyke",
        "timestamp": 1557796449
    },
    {
        "content": "<p>File provided via email.  (Can't check it in yet because I'm hitting other build issues.)</p>",
        "id": 165586498,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1557800020
    },
    {
        "content": "<p>what's this about?</p>",
        "id": 165591127,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1557806624
    },
    {
        "content": "<p>My template was inferring the NPM url with an algorithm that worked most of the time, but not in this case.  (Because at the time I wrote it, there was no way to pass in the package id.)  Needed to fix the transform.</p>",
        "id": 165591489,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1557807098
    },
    {
        "content": "<p>Bingo!  This did the trick:</p>\n<div class=\"codehilite\"><pre><span></span>&quot;dependencyList&quot;: [\n    {\n      &quot;package&quot;: &quot;hl7.fhir.us.core.r4&quot;,\n      &quot;version&quot;: &quot;current&quot;,\n      &quot;name&quot;: &quot;uscore&quot;,\n      &quot;location&quot;: &quot;http://hl7.org/fhir/us/core&quot;\n    }\n  ],\n</pre></div>\n\n\n<p>Thanks!</p>",
        "id": 165660820,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1557866981
    },
    {
        "content": "<p>I still can't get this to work. No matter what when I generate an IG the links keep pointing back to the STU3 version of US Core. </p>\n<p>Can someone please post the exact values that go in the ImplementationGuide resource and in ig.json that actually work for US Core R4?</p>",
        "id": 166869818,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1559176593
    },
    {
        "content": "<p>In my ig resource I have:<br>\n  &lt;dependsOn&gt;<br>\n    &lt;uri value=\"http://hl7.org/fhir/us/core/\"/&gt;<br>\n    &lt;packageId value=\"hl7.fhir.us.core.r4\"/&gt;<br>\n    &lt;version value=\"current\"/&gt;<br>\n  &lt;/dependsOn&gt;</p>",
        "id": 166870257,
        "sender_full_name": "David Pyke",
        "timestamp": 1559177167
    },
    {
        "content": "<p>In my ig.json I have<br>\n  \"dependencyList\": [<br>\n    {<br>\n      \"name\" : \"ig\",<br>\n      \"version\" : \"current\",<br>\n      \"package\" : \"hl7.fhir.us.core.r4\"}<br>\n  ],</p>",
        "id": 166870269,
        "sender_full_name": "David Pyke",
        "timestamp": 1559177209
    },
    {
        "content": "<p>hi<br>\nto build a r4 based IG , i used the existing template and had to modified the source code of the ig. details there: <a href=\"https://github.com/HL7/cdmh/issues/1\" target=\"_blank\" title=\"https://github.com/HL7/cdmh/issues/1\">https://github.com/HL7/cdmh/issues/1</a></p>",
        "id": 168947864,
        "sender_full_name": "natus",
        "timestamp": 1561475823
    }
]