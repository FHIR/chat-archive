[
    {
        "content": "<p>For the IG publisher I need to create Structure Definitions for profiles by encoding xml. Is there a way to use IG publisher to validate that I created the structure definition correctly with setting up an entire guide and referencing the structure definition in some page? Kind of a minimal IG implementation containing only a structure definition or a single page with  containing a structure definition</p>",
        "id": 153994907,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536526293
    },
    {
        "content": "<p>yes. but someone emailed me to say it's not working. I'm going to test it otday</p>",
        "id": 153994909,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536526367
    },
    {
        "content": "<blockquote>\n<p>yes. but someone emailed me to say it's not working. I'm going to test it otday</p>\n</blockquote>\n<p>Okay, good to know. I need to work on my SDs and I am kind of a noob at it working at the xml level.</p>",
        "id": 153994911,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536526428
    },
    {
        "content": "<p>ok so you just run the latest IGPublisher, and instead of -ig xxx pointing at an IG.json file, you use -source [folder] -output [folder] where the first folder is where your profiles are, and the second folder is where any generated html views are put</p>",
        "id": 153995036,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536536767
    },
    {
        "content": "<blockquote>\n<p>ok so you just run the latest IGPublisher, and instead of -ig xxx pointing at an IG.json file, you use -source [folder] -output [folder] where the first folder is where your profiles are, and the second folder is where any generated html views are put</p>\n</blockquote>\n<p>Command lines are always a challenge; one misunderstanding of syntax and you are done.</p>\n<p>In the directory where I have the jar file I have created a resources and output directory. The resources directory contains the structure definition.</p>\n<p>I type from the command line  one of these</p>\n<p>E:\\Ruby25-x64\\IG_Publisher&gt;igpublisher.jar -resources -output</p>\n<p>E:\\Ruby25-x64\\IG_Publisher&gt;igpublisher.jar -source [resources] -output</p>\n<p>E:\\Ruby25-x64\\IG_Publisher&gt;igpublisher.jar -source [resources] -destination [output]</p>\n<p>and nothing happens. The output directory is always empty.</p>\n<p>Do you mean create a new ig.json file and put the respective commands in there? I will give that a try and see what happens<br>\nOr perhaps the control file?</p>",
        "id": 153995175,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536569155
    },
    {
        "content": "<p>what version of the IG publisher are you using?</p>",
        "id": 153995215,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536585882
    },
    {
        "content": "<blockquote>\n<p>what version of the IG publisher are you using?</p>\n</blockquote>\n<p>I downloaded it from the current build but not today. I just downloaded another one a few minutes ago and am going to try that. Otherwise, how can I tell the version (from the application)?</p>\n<p>Is this the correct command?</p>\n<p>org.hl7.fhir.igpublisher.jar -source [resources] -destination [output]</p>",
        "id": 153995219,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536585991
    },
    {
        "content": "<p>you need to have java installed and add java -jar before to execute the ig publisher: java -Xms3550m -Xmx3550m -jar org.hl7.fhir.igpublisher.jar ...</p>",
        "id": 153995220,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1536586770
    },
    {
        "content": "<p>first line in the log is :</p>",
        "id": 153995222,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536586846
    },
    {
        "content": "<blockquote>\n<p>you need to have java installed and add java -jar before to execute the ig publisher: java -Xms3550m -Xmx3550m -jar org.hl7.fhir.igpublisher.jar ...</p>\n</blockquote>\n<p>I have a JDK installed and have been able to build IG guides with other completed projects. The infrastructure is there.</p>",
        "id": 153995223,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536586849
    },
    {
        "content": "<p>FHIR Implementation Guide Publisher (vXX, gen-code v3.6.0-14947) @ Monday, 10 September 2018 11:40:14 PM</p>",
        "id": 153995224,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536586854
    },
    {
        "content": "<p>what's the XX?</p>",
        "id": 153995225,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536586861
    },
    {
        "content": "<blockquote>\n<p>FHIR Implementation Guide Publisher (vXX, gen-code v3.6.0-14947) @ Monday, 10 September 2018 11:40:14 PM</p>\n</blockquote>\n<p>These are the first lines in the log when I build a finished IG (I just downloaded the current one). Prior to the download I could not build the finished project but got an error which I am guessing was a version inconsistency.</p>\n<p>Okay, on the command line I get the version 3.6.0-d4d5de9f</p>\n<p>Now I get this with the just downloaded version:</p>\n<p>E:\\Ruby25-x64\\IG_Publisher\\PHD-IG&gt;java -jar org.hl7.fhir.igpublisher.jar -source [resources] -destination [output]<br>\nFHIR Implementation Guide Publisher (v3.6.0-d4d5de9f, gen-code v3.6.0-14947) @ Monday, September 10, 2018 9:55:47 AM<br>\nDetected Java version: 1.8.0_144 from C:\\Program Files\\Java\\jre1.8.0_144 on amd64 (64bit). 3618MB available<br>\n[E:\\Ruby25-x64\\IG_Publisher\\PHD-IG] -source [resources] -destination [output]<br>\nPackage Cache: C:\\Users\\brian\\.fhir\\packages<br>\nUsing inbuilt IG template in [resources]                                         (00.0006sec)<br>\nRoot directory: C:\\Users\\brian\\AppData\\Local\\Temp\\fhir-ig-scratch                (00.0215sec)<br>\nTerminology Cache is at C:\\Users\\brian\\fhircache. 8 files in cache               (00.0220sec)<br>\nContacting Build Server...                                                       (00.0220sec)<br>\n ... done                                                                        (01.0023sec)<br>\nChecking hl7.fhir.core-current currency                                          (01.0031sec)<br>\n   ...  ok: is 1, must be 1                                                      (01.0031sec)<br>\nLoad hl7.fhir.core-current package from C:\\Users\\brian\\.fhir\\packages\\hl7.fhir.core#current (01.0032sec)<br>\nLoad Terminology Cache from C:\\Users\\brian\\fhircache                             (06.0409sec)<br>\nConnect to Terminology Server at <a href=\"http://tx.fhir.org/r4\" target=\"_blank\" title=\"http://tx.fhir.org/r4\">http://tx.fhir.org/r4</a>                           (06.0416sec)<br>\n-tx cache miss: Connect to <a href=\"http://tx.fhir.org/r4\" target=\"_blank\" title=\"http://tx.fhir.org/r4\">http://tx.fhir.org/r4</a><br>\nInitialization complete                                                          (07.0480sec)<br>\nLoad Content                                                                     (07.0481sec)<br>\nPublishing Content Failed: null                                                  (07.0598sec)<br>\n                                                                                 (07.0598sec)<br>\nUse -? to get command line help                                                  (07.0598sec)<br>\n                                                                                 (07.0598sec)<br>\nStack Dump (for debugging):                                                      (07.0598sec)<br>\njava.lang.NullPointerException<br>\n        at org.hl7.fhir.igtools.publisher.SimpleFetcher.scan(SimpleFetcher.java:216)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.loadResources(Publisher.java:1954)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:1677)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:545)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:503)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4865)<br>\nException in thread \"main\" java.lang.NullPointerException<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4875)</p>\n<p>Could the null pointer exception be caused by the fact these resources only exist locally? But in the structure definition I have<br>\n&lt;url value=\"<a href=\"http://hl7.org/fhir/StructureDefinition/PhdPatient\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/PhdPatient\">http://hl7.org/fhir/StructureDefinition/PhdPatient</a>\" /&gt;</p>\n<p>and that does not yet exist at the given location... though the plan is that it will when all done.</p>\n<p>I have more information. I get the same error when I put in a structure definition that I know is good; I can publish an IG guide and this structure definition is part of it. So there is something wrong I am doing trying to work with a single resource. Most likely the command line.</p>\n<p>And it must be really late for you down under.</p>",
        "id": 153995226,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536587077
    },
    {
        "content": "<p>bug - looks like you specified a non-existent folder for -source</p>",
        "id": 153995436,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536606601
    },
    {
        "content": "<p>I updated the code to not fail  - should be available in about 60min. but... looks like you passed the literal \"[resources]\" not the actual folder where the resources are</p>",
        "id": 153995445,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536606818
    },
    {
        "content": "<p>if you want a notification of when it's available, watch this topic:</p>",
        "id": 153995453,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536606970
    },
    {
        "content": "<p><a href=\"#narrow/stream/142-committers.2Fnotification/subject/FHIR.20Build.20Status\" title=\"#narrow/stream/142-committers.2Fnotification/subject/FHIR.20Build.20Status\">https://chat.fhir.org/#narrow/stream/142-committers.2Fnotification/subject/FHIR.20Build.20Status</a></p>",
        "id": 153995455,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536606981
    },
    {
        "content": "<blockquote>\n<p>I updated the code to not fail  - should be available in about 60min. but... looks like you passed the literal \"[resources]\" not the actual folder where the resources are</p>\n</blockquote>\n<p>the actual names of my folders are<br>\nPHD-IG<br>\n----resources<br>\n----pages<br>\n----output<br>\n----qa<br>\n----temp<br>\n----txCache<br>\n----template<br>\n----historypage<br>\n----examples</p>\n<p>They are all empty except for a structure definition in the 'resources' folder</p>",
        "id": 153995456,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536607011
    },
    {
        "content": "<p>try passing in the absolute folder names then</p>",
        "id": 153995460,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536607055
    },
    {
        "content": "<blockquote>\n<p>try passing in the absolute folder names then</p>\n</blockquote>\n<p>Okay, gave it a whirl. Still get the same null pointer exception at<br>\nat org.hl7.fhir.igtools.publisher.SimpleFetcher.scan(SimpleFetcher.java:216)</p>\n<p>command line is<br>\njava -jar org.hl7.fhir.igpublisher.jar -source [E:\\Ruby25-x64\\IG_Publisher\\PHD-IG\\resources] -destination [output]</p>\n<p>I didnt put a full path to output ....</p>",
        "id": 153995475,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536607307
    },
    {
        "content": "<p>take out the []</p>",
        "id": 153995476,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536607331
    },
    {
        "content": "<blockquote>\n<p>take out the []</p>\n</blockquote>\n<p>That was it. Now I get an error but its an error on my structure definition.  THAT I expect. I will try a structure definition I know is valid</p>\n<p>The valid structure worked but the output does not let me view it as I hoped.<br>\n I am going to try and make a minimal IG that has one markdown page containing one Structure definition<br>\nThat should do the trick</p>",
        "id": 153995482,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536607495
    },
    {
        "content": "<p>why didn't the view work?</p>",
        "id": 153995507,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536609531
    },
    {
        "content": "<blockquote>\n<p>why didn't the view work?</p>\n</blockquote>\n<p>I got a whole bunch of files generated in the output directory. When I looked at the index.html it had the usual headers and menus but they all gave 404 errors. I wanted to be able to view the structure like on the FHIR web site in the Resoruce Context structure.</p>\n<p>I know that can be done from within a finished guide so now I am trying a minimal IG guide. One page one structure definition. Trying to set up the ig.json and IGImplementationGuild.xml files for this to work. Still not familiar enough with the options but its coming. Come a ways in two days for never having worked with it before.</p>\n<p>At least I know my PhdDevice structure definition is good (not finished all the differentials yet) but what is done so far must be okay.</p>",
        "id": 153995520,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536609816
    }
]