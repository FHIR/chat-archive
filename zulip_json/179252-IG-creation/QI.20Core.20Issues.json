[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> I've just said that QI Core is a go, but I'm not really thrilled with this:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code> <span class=\"nt\">&lt;vaccineCode&gt;</span>\n    <span class=\"nt\">&lt;extension</span>\n               <span class=\"na\">url=</span><span class=\"s\">\"http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-notDoneValueSet\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;valueCanonical</span>\n                      <span class=\"na\">value=</span><span class=\"s\">\"http://cts.nlm.nih.gov/fhir-r3/ValueSet/2.16.840.1.113883.3.464.1003.196.11.1220\"</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/extension&gt;</span>\n    <span class=\"nt\">&lt;text</span> <span class=\"na\">value=</span><span class=\"s\">\"Influenza, seasonal, injectable, preservative free\"</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/vaccineCode&gt;</span>\n</code></pre></div>",
        "id": 267958292,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642125122
    },
    {
        "content": "<p>the problem is that the text doesn't match the extension both structurally and detail</p>",
        "id": 267958355,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642125157
    },
    {
        "content": "<p>the text is the concept, but the concept is not a concept, it's a value set. And the text is for the first concept in the value set, not the set of things the value set describes.</p>",
        "id": 267958528,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642125349
    },
    {
        "content": "<p>and so the rendering of the concept in the IG publisher, and any other system, isn't a correct statement of what's going on, and I don't think it's clinically safe</p>",
        "id": 267958599,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642125394
    },
    {
        "content": "<p>and nor did the IG explain to me in any meaningfully way how I would use that extension to say something clinically meaningful, and nor did I find resolving the value set reference in the example at all straight forward</p>",
        "id": 267958649,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642125462
    },
    {
        "content": "<p>but we need to get this thing done. Can the committee take this up as a future work item and make sure that's clearly implementable in a safe way in the future?</p>",
        "id": 267958711,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1642125495
    },
    {
        "content": "<p>I've logged a tracker for this, happy to take it up: <a href=\"https://jira.hl7.org/browse/FHIR-35802\">https://jira.hl7.org/browse/FHIR-35802</a></p>",
        "id": 267961885,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1642129017
    },
    {
        "content": "<p>CQI has been working on improving these examples and have some proposed updates, starting with the description of the examples in the negation profile: <a href=\"https://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/StructureDefinition-qicore-immunizationnotdone.html#examples\">https://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/StructureDefinition-qicore-immunizationnotdone.html#examples</a></p>",
        "id": 273258418,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1645810009
    },
    {
        "content": "<p>We're proposing that when the notDoneValueSet extension is used, the text of the concept must include \"Not done value set: \" and then the name of the value set referenced by the extension:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code><span class=\"nt\">&lt;vaccineCode&gt;</span>\n    <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">\"http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-notDoneValueSet\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;valueCanonical</span> <span class=\"na\">value=</span><span class=\"s\">\"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1254\"</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/extension&gt;</span>\n    <span class=\"nt\">&lt;text</span> <span class=\"na\">value=</span><span class=\"s\">\"Not Done Value Set: Influenza vaccine\"</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/vaccineCode&gt;</span>\n</code></pre></div>",
        "id": 273258705,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1645810145
    },
    {
        "content": "<p>The link to the value set doesn't render in the narrative though, so it's still not possible to browse to the value set from the narrative.</p>",
        "id": 273259042,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1645810292
    },
    {
        "content": "<p>In addition, we added a link from each negation profile back to the \"negation in QI Core\" topic on the home page, and extended guidance for authors and implementers using these profiles: <a href=\"https://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/index.html#negation-in-qi-core\">https://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/index.html#negation-in-qi-core</a></p>",
        "id": 273259326,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1645810433
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , do these changes address your concerns?</p>",
        "id": 273259478,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1645810485
    },
    {
        "content": "<p>mostly, yes. I'm thinking about this bit though:</p>\n<blockquote>\n<p>The link to the value set doesn't render in the narrative though</p>\n</blockquote>",
        "id": 273276218,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645818433
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> if the Extension definition adds a display label, then we can display it</p>",
        "id": 273278231,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645819536
    },
    {
        "content": "<p>So using the <code>display</code> extension in R4:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code>  <span class=\"nt\">&lt;vaccineCode&gt;</span>\n    <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">\"http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-notDoneValueSet\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;valueCanonical</span> <span class=\"na\">value=</span><span class=\"s\">\"http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.526.3.1254\"</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">\"http://hl7.org/fhir/StructureDefinition/display\"</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;valueString</span> <span class=\"na\">value=</span><span class=\"s\">\"Influenza vaccine\"</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/extension&gt;</span>\n      <span class=\"nt\">&lt;/valueCanonical&gt;</span>\n    <span class=\"nt\">&lt;/extension&gt;</span>\n    <span class=\"nt\">&lt;text</span> <span class=\"na\">value=</span><span class=\"s\">\"Not Done Value Set: Influenza vaccine\"</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;/vaccineCode&gt;</span>\n</code></pre></div>",
        "id": 273285622,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1645823632
    },
    {
        "content": "<p>no the label should be on the ElementDefinition in the extension definition itself</p>",
        "id": 273286103,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1645823960
    },
    {
        "content": "<p>Ah, I see, so I put it here: <a href=\"https://github.com/HL7/fhir-qi-core/blob/master/input/resources/structuredefinition-qicore-notDoneValueSet.xml#L65\">https://github.com/HL7/fhir-qi-core/blob/master/input/resources/structuredefinition-qicore-notDoneValueSet.xml#L65</a></p>",
        "id": 273292301,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1645827576
    },
    {
        "content": "<p>next release:</p>",
        "id": 273580958,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646099463
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/7zu-pbubDdQ13K0o_SQnZdxD/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/7zu-pbubDdQ13K0o_SQnZdxD/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/7zu-pbubDdQ13K0o_SQnZdxD/image.png\"></a></div>",
        "id": 273580963,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646099465
    },
    {
        "content": "<p>Fantastic, thanks Grahame!</p>",
        "id": 273833435,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1646238281
    },
    {
        "content": "<p>Minor issue, but the US Core comparison isn't version-specific:</p>",
        "id": 273833516,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1646238310
    },
    {
        "content": "<p><a href=\"https://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/qa.html#QICoreRelatedPerson\">https://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/qa.html#QICoreRelatedPerson</a></p>",
        "id": 273833523,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1646238312
    },
    {
        "content": "<p>We're getting warnings that we're not deriving from USCoreRelatedPerson and USCoreServiceRequest, but those profiles don't exist in the version of USCore we're targeting (3.1.1).</p>",
        "id": 273833583,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1646238339
    },
    {
        "content": "<p>well, I'm not sure when I'll get to that, but it won't be a problem for FMG</p>",
        "id": 273871823,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646252943
    },
    {
        "content": "<p>no, in fact, that's deliberate. We deliberately compare to the latest for that test, since that's about policy and direction. If it turns out that the profile in question didn't exist in your dependency, then you review the differences, and US realm can ask to review the diferences.</p>",
        "id": 273902382,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646267495
    },
    {
        "content": "<p>That makes sense and when we update to the next version we will be deriving from the new profiles.</p>",
        "id": 274266314,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1646516267
    }
]