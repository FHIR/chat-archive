[
    {
        "content": "<p>(deleted)</p>",
        "id": 153964782,
        "sender_full_name": "Eric Haas",
        "timestamp": 1527216977
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 153964783,
        "sender_full_name": "Eric Haas",
        "timestamp": 1527217080
    },
    {
        "content": "<p>I'm getting this qa error for my extensions a very recent version 3.4.0 build as well a link errors which are new since I didn't change anything but the version.</p>\n<div class=\"codehilite\"><pre><span></span>Path    Severity    Message\ntemplate-basic2 error   template-basic2: Unable to find Extension &#39;http://www.fhir.org/guides/test3/StructureDefinition/template-blah&#39; referenced at http://www.fhir.org/guides/test3/StructureDefinition/template-basic2 differential Basic.extension (Simple_Extension)\n</pre></div>\n\n\n<p>This occurs for all extension leading to 1500 bad links which oddly will go away after a build refresh using the -watch option.</p>",
        "id": 153965122,
        "sender_full_name": "Eric Haas",
        "timestamp": 1527526575
    },
    {
        "content": "<p>hmm. maybe not checking for the errors in the -watch.</p>",
        "id": 153965131,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527541434
    },
    {
        "content": "<p>I can not find a reason for the underlying error</p>",
        "id": 153965135,
        "sender_full_name": "Eric Haas",
        "timestamp": 1527544666
    },
    {
        "content": "<p>Which is my main focus of the this stream</p>",
        "id": 153965238,
        "sender_full_name": "Eric Haas",
        "timestamp": 1527614894
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> -- were you ever able to resolve this?  I'm getting a similar error using the latest build of the publisher jar.  The same source worked fine with the v3.3 jar.<br>\n<a href=\"/user_uploads/10155/AZx_HxbLhj5BqDRl83-r1p-e/qa-extension-error.png\" target=\"_blank\" title=\"qa-extension-error.png\">qa-extension-error.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/AZx_HxbLhj5BqDRl83-r1p-e/qa-extension-error.png\" target=\"_blank\" title=\"qa-extension-error.png\"><img src=\"/user_uploads/10155/AZx_HxbLhj5BqDRl83-r1p-e/qa-extension-error.png\"></a></div>",
        "id": 153975196,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1531510045
    },
    {
        "content": "<p>But... when I browse the IG web pages, everything seems fine (that extension is correctly linked from the profile reporting the error).</p>",
        "id": 153975197,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1531510105
    },
    {
        "content": "<p>No,  I can't find an error on my end.  I'm waiting for a follow-up from <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  on whether is an ig-pub issue .</p>",
        "id": 153975233,
        "sender_full_name": "Eric Haas",
        "timestamp": 1531555736
    },
    {
        "content": "<p>We're getting similar \"Unable to find Extension\" errors in the IPS IG.</p>",
        "id": 153975259,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1531571756
    },
    {
        "content": "<p>umm I don't know what's changed here. Can I reproduce this?</p>",
        "id": 153975318,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1531700600
    },
    {
        "content": "<p>here is my test IG:  <a href=\"https://healthedata1.github.io/IG-Template2/qa.html\" target=\"_blank\" title=\"https://healthedata1.github.io/IG-Template2/qa.html\">https://healthedata1.github.io/IG-Template2/qa.html</a>  from this repo:  <a href=\"https://github.com/Healthedata1/IG-Template2\" target=\"_blank\" title=\"https://github.com/Healthedata1/IG-Template2\">https://github.com/Healthedata1/IG-Template2</a> </p>\n<p>it shows up there see qa.html:  <a href=\"https://healthedata1.github.io/IG-Template2/qa.html\" target=\"_blank\" title=\"https://healthedata1.github.io/IG-Template2/qa.html\">https://healthedata1.github.io/IG-Template2/qa.html</a></p>\n<p>It shows up whether I use spreadsheets or Forge.</p>",
        "id": 153975498,
        "sender_full_name": "Eric Haas",
        "timestamp": 1531760659
    },
    {
        "content": "<p>version 3.0.1 or 3.4.0 in the latest publisher</p>",
        "id": 153975499,
        "sender_full_name": "Eric Haas",
        "timestamp": 1531760706
    },
    {
        "content": "<p>Here is an example from the US Breast Cancer IG... HumanNameProfile adds a PreferredFlag extension.  IG publisher complains it cannot find the extension, yet the HumanNameProfile documentation page looks fine (and properly links to the extension).</p>\n<p>HumanNameProfile JSON: <a href=\"http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-shr-core-HumanName.json.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-shr-core-HumanName.json.html\">http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-shr-core-HumanName.json.html</a><br>\nPreferredFlag JSON: <a href=\"http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-cimi-element-PreferredFlag-extension.json.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-cimi-element-PreferredFlag-extension.json.html\">http://build.fhir.org/ig/HL7/us-breastcancer/StructureDefinition-cimi-element-PreferredFlag-extension.json.html</a><br>\nQA errors: <a href=\"http://build.fhir.org/ig/HL7/us-breastcancer/qa.html#_scratch_ig-build-temp-L1C73T_repo_resources_structuredefinition-shr-core-HumanName\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/us-breastcancer/qa.html#_scratch_ig-build-temp-L1C73T_repo_resources_structuredefinition-shr-core-HumanName\">http://build.fhir.org/ig/HL7/us-breastcancer/qa.html#_scratch_ig-build-temp-L1C73T_repo_resources_structuredefinition-shr-core-HumanName</a></p>",
        "id": 153977353,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1532368896
    },
    {
        "content": "<p>does anybody else have qa issues with extension like this?</p>",
        "id": 153986137,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534215386
    },
    {
        "content": "<p>We <em>still</em> do (in BreastCancer and ODH IGs).  I actually have a decent number of extensions, so those QA errors make my IGs look pretty naughty.</p>",
        "id": 153986154,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1534215961
    },
    {
        "content": "<p>ok that was a loading order issue - the extensions hadn't been loaded at the point the validator was looking for them</p>",
        "id": 153986191,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534221844
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>.  I can confirm that all of those errors disappeared from my IG with the new publisher!</p>",
        "id": 153986298,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1534250427
    },
    {
        "content": "<p>ty grahame,  I never would have figured that out!</p>",
        "id": 153986325,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534255746
    },
    {
        "content": "<p>mmm ....my errors are still present?</p>",
        "id": 153986469,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534274675
    },
    {
        "content": "<p>see   <a href=\"#narrow/stream/9-committers/subject/ig-build/near/175969\" title=\"#narrow/stream/9-committers/subject/ig-build/near/175969\">https://chat.fhir.org/#narrow/stream/9-committers/subject/ig-build/near/175969</a></p>",
        "id": 153986472,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534274752
    },
    {
        "content": "<p>what is </p>\n<div class=\"codehilite\"><pre><span></span>http://hl7.org/fhir/tooling/StructureDefinition/r4ModifierReason\n</pre></div>",
        "id": 153986481,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534276905
    },
    {
        "content": "<p>I have an extension marked as a modifier and that pops up.  I'm using spreadsheets so I thought you added it to the parser.</p>",
        "id": 153986490,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534277387
    },
    {
        "content": "<p>I'm not familiar with that extension, so it's not surprising to me that the validator isn't either?</p>",
        "id": 153986491,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534277436
    },
    {
        "content": "<p>but that one I at least understand... I am still get the extension link error it sounded l like you fixed the order of resources issue above. ( at least for Chris)   These extension live in the same spreadsheet as the resources they extend...</p>",
        "id": 153986494,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534277559
    },
    {
        "content": "<p>I only see that one extension not found....</p>",
        "id": 153986495,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534277585
    },
    {
        "content": "<p>I'm sorry,  the issue for are the bad links for these:</p>\n<ul>\n<li>StructureDefinition-measurereport-deqm.html#MeasureReport.evaluatedResources.extension.valueReference' </li>\n<li>StructureDefinition-measurereport-deqm.html#MeasureReport.evaluatedResources.extension.</li>\n<li>StructureDefinition-practitioner-deqm.html#Practitioner.extension.valueCodeableConcept'</li>\n<li>'StructureDefinition-practitioner-deqm.html#Practitioner.identifier.extension'</li>\n<li>StructureDefinition-organization-deqm.html#Organization.identifier.extension'</li>\n<li>StructureDefinition-subscription-deqm.html#Subscription.extension.valueCode' </li>\n</ul>\n<p>assuming from  the definitions file and all these elements  all have been profiled ( slice or in one case an extension)</p>",
        "id": 153986504,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534278282
    },
    {
        "content": "<p>VHDIR has about 3000 bad links due to a bug:  The IG publisher is adding a value[x] to extension with a context on the Identifier datatype.   I looked the extension closely and there are no errors there.   I mocked up an example here since is much easier to wade through it all.  </p>\n<p><a href=\"https://healthedata1.github.io/IG-Template2/StructureDefinition-template-basic.html\" target=\"_blank\" title=\"https://healthedata1.github.io/IG-Template2/StructureDefinition-template-basic.html\">https://healthedata1.github.io/IG-Template2/StructureDefinition-template-basic.html</a>  check out the snap shot...</p>",
        "id": 153986576,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534287997
    },
    {
        "content": "<p>the extension is lifted from VhDir and can be viewed here:  <a href=\"https://healthedata1.github.io/IG-Template2/StructureDefinition-extension-identifier-status.html\" target=\"_blank\" title=\"https://healthedata1.github.io/IG-Template2/StructureDefinition-extension-identifier-status.html\">https://healthedata1.github.io/IG-Template2/StructureDefinition-extension-identifier-status.html</a></p>",
        "id": 153986577,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534288113
    },
    {
        "content": "<p>Thanks so much for digging into this one Eric, I wouldn't have been able to find it.</p>",
        "id": 153986579,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1534288158
    },
    {
        "content": "<p>adding it where?</p>",
        "id": 153986583,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534289309
    },
    {
        "content": "<p>that will get us down to &lt;100 i hope</p>",
        "id": 153986585,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534289817
    },
    {
        "content": "<p>if you look at the link above at the shapshot rendering you will see a bunch of active links to all the value[x] choices  for the extension off of Indentifier.</p>",
        "id": 153986587,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534289915
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/oeIBKoJNeHmkbQkeuAWcxBo5/Screen-Shot-2018-08-14-at-4.39.15-PM.png\" target=\"_blank\" title=\"Screen-Shot-2018-08-14-at-4.39.15-PM.png\">Screen-Shot-2018-08-14-at-4.39.15-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/oeIBKoJNeHmkbQkeuAWcxBo5/Screen-Shot-2018-08-14-at-4.39.15-PM.png\" target=\"_blank\" title=\"Screen-Shot-2018-08-14-at-4.39.15-PM.png\"><img src=\"/user_uploads/10155/oeIBKoJNeHmkbQkeuAWcxBo5/Screen-Shot-2018-08-14-at-4.39.15-PM.png\"></a></div>",
        "id": 153986588,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534289975
    },
    {
        "content": "<p>well, I see what I expect to see and I don't know what you think is wrong</p>",
        "id": 153986589,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534289979
    },
    {
        "content": "<p>why is there a value[x] for this extension?</p>",
        "id": 153986590,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534290009
    },
    {
        "content": "<p>the other extensions don't render this way</p>",
        "id": 153986591,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534290046
    },
    {
        "content": "<p>oh. I was looking for broken links...</p>",
        "id": 153986592,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534290066
    },
    {
        "content": "<p>each one of those value{x} links will creates a broken link error in qa.html</p>",
        "id": 153986594,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534290124
    },
    {
        "content": "<p>the links look ok to me</p>",
        "id": 153986596,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534290158
    },
    {
        "content": "<p>the number of qa link errors  jump by about a 100 when I added that extension.</p>",
        "id": 153986597,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534290253
    },
    {
        "content": "<p>for example:  </p>\n<p>The link 'StructureDefinition-template-basic.html#Basic.identifier.extension.valueId' for \"valueId\" cannot be resolved (valid targets: [page-content-wrapper, mandatory-data-elements-and-terminology, tbl-snap-inner, <a href=\"http://Basic.identifier.extension.id\" target=\"_blank\" title=\"http://Basic.identifier.extension.id\">Basic.identifier.extension.id</a>, Basic.implicitRules, <a href=\"http://Basic.id\" target=\"_blank\" title=\"http://Basic.id\">Basic.id</a>, all-tbl-diff, Basic.code.coding, <a href=\"http://Basic.code.coding.id\" target=\"_blank\" title=\"http://Basic.code.coding.id\">Basic.code.coding.id</a>, tabs-summ, tbl-summ, stripe, segment-footer, Basic.code.coding.system, Basic.modifierExtension, <a href=\"http://Basic.identifier.id\" target=\"_blank\" title=\"http://Basic.identifier.id\">Basic.identifier.id</a>, all-tbl-snap-inner, segment-header, Basic.code.coding.display, Basic.created, profile, tabs-diff, all-tbl-summ, tbl-diff, Basic.extension, Basic.identifier.use, all-json-inner, Basic.text, all-tbl-summ-inner, examples, tabs-json, tabs-all, back-to-top, Basic.identifier.value, Basic.code.text, tbl-diff-inner, segment-navbar, Basic.identifier.extension.value_x_, Basic.identifier.assigner, Basic.code.coding.version, Basic, Basic.identifier.extension, Basic.subject, tabs, Basic.author, segment-post-footer, Basic.language, json-inner, all-tbl-snap, Basic.identifier.system, search, Basic.identifier.type, Basic.code, downloads, Basic.code.coding.code, json, tabs-snap, introduction, <a href=\"http://Basic.code.id\" target=\"_blank\" title=\"http://Basic.code.id\">Basic.code.id</a>, tbl-snap, summary, scope-and-usage, Basic.contained, Basic.identifier.period, all-tbl-diff2-inner, Basic.identifier, Basic.meta, Basic.code.coding.userSelected, all-tbl-diff-inner, project-status, Basic.identifier.extension.url, all-json])</p>",
        "id": 153986599,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534290326
    },
    {
        "content": "<p>the broken links are in the json template</p>",
        "id": 153986600,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534290410
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>the snapshot generator is the problem here - it's walking into the extension, and getting it wrong when it does. But why is it walking into the extension? it should just reference it. Here's the relevant bit of the diff:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">&quot;Basic.identifier&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Basic.identifier&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;min</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;max</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;type&gt;</span>\n        <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Identifier&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/type&gt;</span>\n      <span class=\"nt\">&lt;mustSupport</span> <span class=\"na\">value=</span><span class=\"s\">&quot;true&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;isModifier</span> <span class=\"na\">value=</span><span class=\"s\">&quot;false&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/element&gt;</span>\n    <span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">&quot;Basic.identifier.extension:foo&quot;</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Basic.identifier.extension&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;sliceName</span> <span class=\"na\">value=</span><span class=\"s\">&quot;foo&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;min</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;max</span> <span class=\"na\">value=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;type&gt;</span>\n        <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;Extension&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;profile</span>\n                 <span class=\"na\">value=</span><span class=\"s\">&quot;http://www.fhir.org/guides/test3/StructureDefinition/extension-identifier-status&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/type&gt;</span>\n      <span class=\"nt\">&lt;mustSupport</span> <span class=\"na\">value=</span><span class=\"s\">&quot;true&quot;</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;isModifier</span> <span class=\"na\">value=</span><span class=\"s\">&quot;false&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/element&gt;</span>\n</pre></div>",
        "id": 153986601,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534290485
    },
    {
        "content": "<p>I don't think it should walk into the extension here...</p>",
        "id": 153986602,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534290511
    },
    {
        "content": "<p>I think I discovered the broken link issue.  had right version,  but the specification path was wrong.  :-/</p>",
        "id": 153986603,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534290781
    },
    {
        "content": "<p>any way I still don't think we need to look at value[x] in snapshot.</p>",
        "id": 153986605,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534290816
    },
    {
        "content": "<p>It has to walk into it to get the URL - the URL can't be determined by the profile URL</p>",
        "id": 153986606,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534290875
    },
    {
        "content": "<p>never mind that did not fix the link errors I'm getting</p>",
        "id": 153986607,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534290963
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> , is this also causing it not to pick up that its constrained to just the code type?<br>\n(and therefore showing all the types)</p>",
        "id": 153986608,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1534290969
    },
    {
        "content": "<p>no that did not fix anything</p>",
        "id": 153986609,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534291243
    },
    {
        "content": "<p>Maybe its myframework?    -  should I throw this on a different framework and try it?</p>",
        "id": 153986611,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534291347
    },
    {
        "content": "<p>What does \" the broken links are in the json template\"  mean exactly?</p>",
        "id": 153986612,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534291552
    },
    {
        "content": "<p>I'm also wondering why the snapshot is showing all the types, when it was constrained to only code?</p>",
        "id": 153986614,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1534292121
    },
    {
        "content": "<p>i'm taking a break from this for a bit at least we have identified the issue</p>",
        "id": 153986620,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534293049
    },
    {
        "content": "<blockquote>\n<p>It has to walk into it to get the URL - the URL can't be determined by the profile URL</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> I don't know what you mean</p>",
        "id": 153986641,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534296569
    },
    {
        "content": "<p>In order to render the URL for an extension, you have to walk into the extension.  The profile URL is not necessarily the URL for the extension - because it could be that the original extension was profiled.</p>",
        "id": 153986645,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534296845
    },
    {
        "content": "<p>that doesn't explain why the snapshot generator walks into the extension</p>",
        "id": 153986647,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534296978
    },
    {
        "content": "<p>I presume so the URL is in the snapshot for rendering</p>",
        "id": 153986649,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534297094
    },
    {
        "content": "<p>can render anyway. if that's the only reason, it's not enough</p>",
        "id": 153986650,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534297217
    },
    {
        "content": "<p>I'm hypothesizing.  I don't actually remember.  If we're going to remove it, we need to ensure that resources that reference profiled extensions still render correctly.</p>",
        "id": 153986651,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534297423
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> - can you remove sliceName from the root of the extension in the definition please, and see if it makes any difference</p>",
        "id": 153986652,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534297893
    },
    {
        "content": "<p>and I know it's nothing to do with what I am investigating, but it doesn't make sense to have an extension with type code and an example binding</p>",
        "id": 153986654,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534297995
    },
    {
        "content": "<p>and where's the source for this test thing?</p>",
        "id": 153986657,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534298953
    },
    {
        "content": "<p>I copied Eric's definitions into the snapshot tests, and it doesn't walk into the extension in the snapshot.... so why does it do that in the IG? (Eric, does your source have an erroneous snapshot in it?)</p>",
        "id": 153986660,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534299428
    },
    {
        "content": "<p>so, rendering:</p>",
        "id": 153986680,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534302697
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/7y_sHlahqxIpnXF8TQ3HPYjD/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/7y_sHlahqxIpnXF8TQ3HPYjD/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/7y_sHlahqxIpnXF8TQ3HPYjD/pasted_image.png\"></a></div>",
        "id": 153986681,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534302811
    },
    {
        "content": "<p>this URL at this point: we understand this to to be the presentation of the URL for the extension, right? what should the rendering be if the reference is to a profile on the extension?</p>",
        "id": 153986682,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534302874
    },
    {
        "content": "<p>Sorry, had to rebuild a couple of IGs to see</p>",
        "id": 153986690,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534304508
    },
    {
        "content": "<p>Turns out it wasn't the URL - it was the other stuff: the data type and the binding</p>",
        "id": 153986691,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534304567
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/ocSrNRVMlO6a7IFQUn7Aw5Bw/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ocSrNRVMlO6a7IFQUn7Aw5Bw/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/ocSrNRVMlO6a7IFQUn7Aw5Bw/pasted_image.png\"></a></div>",
        "id": 153986692,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534304569
    },
    {
        "content": "<p>The data type of the base extension was CodeableConcept and the base binding wasn't  extensible.</p>",
        "id": 153986694,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534304616
    },
    {
        "content": "<p>what is this in regard to?</p>",
        "id": 153986721,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534305880
    },
    {
        "content": "<p>I have just committed a change to render profiled extensions differently</p>",
        "id": 153986722,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534305892
    },
    {
        "content": "<p>any IG authors who have one of these should regenerate and look at the rendering</p>",
        "id": 153986724,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534305910
    },
    {
        "content": "<p>Seems ok to me</p>",
        "id": 153986741,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534307097
    },
    {
        "content": "<p>that'll be because the build failed and you didn't get a new IG publisher</p>",
        "id": 153986756,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534310538
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I believe that the IG publisher is good on this now, but I suspect that you're still having problems... please check and let me know</p>",
        "id": 153986817,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534330930
    },
    {
        "content": "<p>Rebuilt with the update.  And I can live with the change.</p>",
        "id": 153986932,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534345384
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> </p>\n<ul>\n<li>I made the change to make code required  - (will let the VhDIR team know about that)</li>\n<li>updated and ran against the latest build</li>\n<li>as you predicted I am still having the same issue.</li>\n<li>I am looking at my snapshot source</li>\n</ul>",
        "id": 153986944,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534345762
    },
    {
        "content": "<p><a href=\"https://github.com/Healthedata1/IG-Template2\" target=\"_blank\" title=\"https://github.com/Healthedata1/IG-Template2\">https://github.com/Healthedata1/IG-Template2</a>  is the source repro</p>",
        "id": 153986958,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534346542
    },
    {
        "content": "<p>Also now I have errors because the spreadsheet parser is adding a slice name to the extension root. </p>\n<p>'StructureDefinition/extension-blah: StructureDefinition    error   No slice name on root [(snapshot | differential).element.all(path.contains('.').not() implies sliceName.empty())]'</p>",
        "id": 153986980,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534350387
    },
    {
        "content": "<p>so what is happening is extension.extension is getting expanded in the snapshot and we don't want that.  ( At least I don't)</p>",
        "id": 153986982,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534350871
    },
    {
        "content": "<p>I'm working on fixing that one</p>",
        "id": 153987044,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534358305
    },
    {
        "content": "<p>which one ?  extension.extension or spreadsheet parser?</p>",
        "id": 153987067,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534362646
    },
    {
        "content": "<p>and thanks</p>",
        "id": 153987069,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534362656
    },
    {
        "content": "<p>extension having slice name on extension root - should now be fixed</p>",
        "id": 153987096,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1534365324
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>   what about extension.extension showing up in snapshot.  Its killing us over here  | - P</p>",
        "id": 153987220,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534377543
    },
    {
        "content": "<p>so does this fix the broken links ?</p>",
        "id": 153987232,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534377923
    },
    {
        "content": "<p>which fix?  the one that lloyd did?  nope.   </p>\n<p>I'm hoping to at least erase most of the link errors without the extension.extension.   did you fix it?</p>",
        "id": 153987287,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534384391
    },
    {
        "content": "<p>fix what? the snapshot generator works correctly for me... so I don't know why it's not for you. Did you check the source to see if the source walks into the extension?</p>",
        "id": 153987296,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534385017
    },
    {
        "content": "<p>OK I will create a new extension.  And see what happens.</p>",
        "id": 153987299,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534385235
    },
    {
        "content": "<p>OK I admit the links errors are because my templates include the build generated  JSON views.  So I have reluctantly removed that view....   BUT there is still an extension.extension in the rendering of the snapshot under the datatype but not when the context is resource .... and ... it lists all the value types.  I don't think it my source since is happening when I use spreadsheets or use the build generated xml.</p>",
        "id": 153987421,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534400038
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/bCrpvoDEZJxnDUHbpz_DwlXx/Screen-Shot-2018-08-15-at-11.15.43-PM.png\" target=\"_blank\" title=\"Screen-Shot-2018-08-15-at-11.15.43-PM.png\">Screen-Shot-2018-08-15-at-11.15.43-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/bCrpvoDEZJxnDUHbpz_DwlXx/Screen-Shot-2018-08-15-at-11.15.43-PM.png\" target=\"_blank\" title=\"Screen-Shot-2018-08-15-at-11.15.43-PM.png\"><img src=\"/user_uploads/10155/bCrpvoDEZJxnDUHbpz_DwlXx/Screen-Shot-2018-08-15-at-11.15.43-PM.png\"></a></div>",
        "id": 153987422,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534400402
    },
    {
        "content": "<p>I may have found something <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> , just trying it out now.<br>\nI believe it may have something to do with how we've defined the complex extensions is different to the ones that are defined in the spec.</p>",
        "id": 153987425,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1534400585
    },
    {
        "content": "<p>This may mean you can keep the json view</p>",
        "id": 153987426,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1534400606
    },
    {
        "content": "<p>I'm comparing how this one is defined to what we've done, and they are different.<br>\n<a href=\"http://build.fhir.org/extension-patient-citizenship.xml.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-patient-citizenship.xml.html\">http://build.fhir.org/extension-patient-citizenship.xml.html</a></p>",
        "id": 153987428,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1534400682
    },
    {
        "content": "<p>OK</p>",
        "id": 153987437,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534401149
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span>  but  the status-identifier- extension is not complex</p>",
        "id": 153987439,
        "sender_full_name": "Eric Haas",
        "timestamp": 1534401325
    },
    {
        "content": "<p>the json view is not the problem - it's a symptom. The problem is that the extension is wrong in the snapshot - and I can't reproduce it in the snapshot tests</p>",
        "id": 153987440,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534401811
    },
    {
        "content": "<p>I agree, this is something else.</p>",
        "id": 153987447,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1534404055
    },
    {
        "content": "<p>I'll keep hunting tonight too.</p>",
        "id": 153987448,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1534404063
    }
]