[
    {
        "content": "<p>In a couple of resources e.g. Composition<br>\nyou have nested sections. E.g. section is nested with section below.</p>\n<p><a href=\"/user_uploads/10155/iUfAS7nvKw1nEUUfBk-GDcdK/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/iUfAS7nvKw1nEUUfBk-GDcdK/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/iUfAS7nvKw1nEUUfBk-GDcdK/image.png\"></a></div>",
        "id": 255224573,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1632838908
    },
    {
        "content": "<p>Can these sections be profiled. Forge is allowing them to be profiled (see below) which causes HL7 (and HAPI) validation to fail. </p>\n<p><a href=\"/user_uploads/10155/jgG-q0nnh3GAMRh_uepE5Kpf/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/jgG-q0nnh3GAMRh_uepE5Kpf/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/jgG-q0nnh3GAMRh_uepE5Kpf/image.png\"></a></div><p>Is this an issue in forge?</p>",
        "id": 255225108,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1632839071
    },
    {
        "content": "<p>It should be possible to profile them...  What validation issues are you getting?</p>",
        "id": 255225394,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1632839167
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/oSTv3ms6GTO9_r-QWbDzE_hW/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/oSTv3ms6GTO9_r-QWbDzE_hW/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/oSTv3ms6GTO9_r-QWbDzE_hW/image.png\"></a></div>",
        "id": 255225576,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1632839243
    },
    {
        "content": "<p>Process Note: Unable to generate snapshot for UK Core Composition: Composition.section.section has no children (Composition.section.section.code) and no types in profile UK Core Composition<br>\norg.hl7.fhir.exceptions.DefinitionException: Composition.section.section has no children (Composition.section.section.code) and no types in profile UK Core Composition</p>",
        "id": 255225627,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1632839262
    },
    {
        "content": "<p>latest HL7 command line validation and also HAPI FHIR Validation 5.5.1</p>",
        "id": 255225726,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1632839284
    },
    {
        "content": "<p>Are you able to post the profile?</p>",
        "id": 255226915,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1632839710
    },
    {
        "content": "<p>This should be public <a href=\"https://simplifier.net/hl7fhirukcorer4/ukcorecomposition\">https://simplifier.net/hl7fhirukcorer4/ukcorecomposition</a></p>",
        "id": 255235261,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1632842631
    },
    {
        "content": "<p>^That's one of them</p>",
        "id": 255235278,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1632842638
    },
    {
        "content": "<p>I don't see anything obviously wrong.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 255239205,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1632844018
    },
    {
        "content": "<p>fixed next release</p>",
        "id": 255345432,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632894415
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>. I ran into the same issue, so I wanted to ask: Can you tell me when the problem might be solved? So just that I know, nothing more...</p>",
        "id": 260252702,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1636022515
    },
    {
        "content": "<p>whatever I thought was fixed was released weeks ago, so if you still have a problem, it's not on the 'yet to be released' list</p>",
        "id": 260253084,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636022738
    },
    {
        "content": "<p>Thanks for your quick reply.</p>",
        "id": 260253839,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1636023210
    },
    {
        "content": "<p>I started using fsh and sushi two weeks ago, so I am somewhat of a newbie in this part. Right now I updated scripts etc. with _updatePublisher.bat and ran it again, and it failed.<br>\nI also used the publisher.jar from github and copied it into the sushi file system and it also failed. My error message I entered  <a href=\"#narrow/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh\">here</a>.</p>",
        "id": 260254363,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1636023545
    },
    {
        "content": "<p>I'm sorry to trouble you.</p>",
        "id": 260254477,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1636023605
    },
    {
        "content": "<p>I'd have to debug that - can I reproduce it?</p>",
        "id": 260260975,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636028154
    },
    {
        "content": "<p>Please wait a few second, I will create a composition which should work without any other profiles of mine.</p>",
        "id": 260261199,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1636028292
    },
    {
        "content": "<p>This profile here is another version of our profile. It should produce the same error:  <a href=\"https://simplifier.net/mareikestestwiese/ewoundsummaryreduced\">https://simplifier.net/mareikestestwiese/ewoundsummaryreduced</a></p>",
        "id": 260262221,
        "sender_full_name": "Mareike Przysucha",
        "timestamp": 1636028890
    },
    {
        "content": "<p>Hi everyone, I am having the same error regarding nested profiles sections. The IG creator returns error.</p>\n<p>\"Caused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section has no children (Composition.section.section.section) and no types in profile Medication View profile 2.section.section\"</p>\n<p>Any solution? IG Pub 1.1.112<br>\nThanks!</p>",
        "id": 276635726,
        "sender_full_name": "João Almeida",
        "timestamp": 1648222144
    },
    {
        "content": "<p>IG 1.1.113 returns the same error ... (tested just to make sure)</p>",
        "id": 276636397,
        "sender_full_name": "João Almeida",
        "timestamp": 1648222392
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F/near/260260975\">said</a>:</p>\n<blockquote>\n<p>I'd have to debug that - can I reproduce it?</p>\n</blockquote>\n<p>Hi Grahame, This profile here seems to trigger the error:<br>\n<a href=\"https://github.com/joofio/obs-cdss-fhir/blob/8213ba8e5d1f5c06542ce8723198355bd466ded4/input/fsh/profiles.fsh#L22\">https://github.com/joofio/obs-cdss-fhir/blob/8213ba8e5d1f5c06542ce8723198355bd466ded4/input/fsh/profiles.fsh#L22</a></p>",
        "id": 276867733,
        "sender_full_name": "João Almeida",
        "timestamp": 1648471828
    },
    {
        "content": "<p>I get Jekyll has failed. Complete output from running Jekyll: \u001b[31m  Liquid Exception: Could not locate the included file 'menu.xml' in any of [\"/Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes\"]. Ensure it exists in one of those directories and, if it is a symlink, does not point outside your site so (00:31.0836)<br>\n ?</p>",
        "id": 276960083,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648532097
    },
    {
        "content": "<p>normally this error comes when the xml file fails some transformation or checking in the xslts</p>",
        "id": 276964883,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1648537090
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"195726\">@João Almeida</span> could there be an issue with that file (e.g. malformed xml/html, unfinished tags)?</p>",
        "id": 276964917,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1648537135
    },
    {
        "content": "<p>Thanks for the replies.<br>\n<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  that error comes up during what build time? using my sushi.yaml (that has a menu), it does not require menu.xml (jekyll and genonce run ok in my computer and github actions). Maybe I am running something old?</p>\n<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  maybe that is the issue, but everything runs ok without the profile with nested section. When I add it, the problems start.</p>",
        "id": 276974168,
        "sender_full_name": "João Almeida",
        "timestamp": 1648543332
    },
    {
        "content": "<p>I don't know why I had that problem, but I did. That repo in that branch?</p>",
        "id": 276977334,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648545175
    },
    {
        "content": "<p>I cloned the repo clean. _updatePublisher and then _genonce and ran  ok.<br>\nThe GH Action without the profile also ran ok (<a href=\"https://github.com/joofio/obs-cdss-fhir/actions/runs/2057359022\">https://github.com/joofio/obs-cdss-fhir/actions/runs/2057359022</a>)<br>\nAdding the profile, returns the section error...<br>\nWhat can I do to troubleshoot this?</p>",
        "id": 276983511,
        "sender_full_name": "João Almeida",
        "timestamp": 1648548929
    },
    {
        "content": "<p>I have no idea. This is reproducible for me - I have no _menu.xml file. <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> where is it supposed to come from?</p>",
        "id": 276988384,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648551972
    },
    {
        "content": "<p>The error seems (from my basic java knowledge) to come from here.<br>\n<a href=\"https://github.com/HL7/fhir-ig-publisher/blob/84aeae9a7280bff71221c405df7d03033793621a/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/Publisher.java#L5458\">https://github.com/HL7/fhir-ig-publisher/blob/84aeae9a7280bff71221c405df7d03033793621a/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/Publisher.java#L5458</a></p>\n<p>This comes from:<br>\n<a href=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/7c6e7b278a6401dcf1567bdb0f5a61e465ce2b07/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L602\">https://github.com/hapifhir/org.hl7.fhir.core/blob/7c6e7b278a6401dcf1567bdb0f5a61e465ce2b07/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L602</a></p>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I will add the menu.xml for your usage.</p>",
        "id": 276988659,
        "sender_full_name": "João Almeida",
        "timestamp": 1648552143
    },
    {
        "content": "<p>already added menu.xml so your code should work (or at least that message should go away). Nevertheless it is strange that mine does not require menu.xml and yours does.</p>",
        "id": 276989238,
        "sender_full_name": "João Almeida",
        "timestamp": 1648552546
    },
    {
        "content": "<p>well it builds now</p>",
        "id": 276989714,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648552822
    },
    {
        "content": "<p>what am I looking for?</p>",
        "id": 276989740,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648552841
    },
    {
        "content": "<p>in my local build and github actions returns the following:</p>\n<div class=\"codehilite\"><pre><span></span><code>java.lang.Exception: Error generating snapshot for /github/workspace/fsh-generated/resources/StructureDefinition-nestedcomposition(nestedcomposition): Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /github/workspace/fsh-generated/resources/StructureDefinition-nestedcomposition\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5405)\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4667)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1005)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10010)\nCaused by: org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /github/workspace/fsh-generated/resources/StructureDefinition-nestedcomposition\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5458)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5403)\n    ... 4 more\nCaused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section has no children (Composition.section.section.section) and no types in profile Medication nested.section.section\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.getTypeForElement(ProfileUtilities.java:1955)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1518)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1304)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:669)\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5453)\n    ... 5 more\n</code></pre></div>\n<p><a href=\"https://github.com/joofio/obs-cdss-fhir/runs/5735882928?check_suite_focus=true#step:7:109\">https://github.com/joofio/obs-cdss-fhir/runs/5735882928?check_suite_focus=true#step:7:109</a></p>",
        "id": 276989967,
        "sender_full_name": "João Almeida",
        "timestamp": 1648552977
    },
    {
        "content": "<p>in the log?</p>",
        "id": 276990188,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648553106
    },
    {
        "content": "<p>I'm not seeing that. main branch?</p>",
        "id": 276990198,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648553116
    },
    {
        "content": "<p>yes in the log, main branch</p>",
        "id": 276990307,
        "sender_full_name": "João Almeida",
        "timestamp": 1648553179
    },
    {
        "content": "<p>FHIR IG Publisher Version 1.1.113 (Git# 36472c045b0c). Built 2022-03-18T05:50:01.31Z (11 days old)</p>",
        "id": 276990701,
        "sender_full_name": "João Almeida",
        "timestamp": 1648553411
    },
    {
        "content": "<p>weird</p>",
        "id": 276991318,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648553747
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>FHIR IG Publisher Version (unknown) (Git# null). Built null (?vu-duration?)\nDetected Java version: 1.8.0_321 from /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home on Mac OS X/x86_64 (64bit). 14564MB available\ndir = /Users/grahamegrieve/work/ig-pub/org.hl7.fhir.publisher.core, path = /usr/bin:/bin:/usr/sbin:/sbin\nParameters: -ig /Users/grahamegrieve/temp/igs/obs-cdss-fhir\nStart Clock @ Tuesday, 29 March 2022 10:17:27 PM AEDT (2022-03-29T22:17:27+11:00)\n\nAPI keys loaded from /Users/grahamegrieve/fhir-api-keys.ini                      (00:00.0016)\nPackage Cache: /Users/grahamegrieve/.fhir/packages                               (00:00.0022)\nRun Sushi on /Users/grahamegrieve/temp/igs/obs-cdss-fhir                         (00:00.0029)\nLoad Template from hl7.be.fhir.template#current                                  (00:00.0796)\n Load Template from fhir.base.template#current                                   (00:04.0048)\n\nonLoad.findSpreadsheets:\n\nonLoad.updateIg:\n     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onLoad-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onLoad-ig-updated.xml\n     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onLoad.xslt\n\nonLoad.extend:\n\nonLoad:\nRoot directory: /Users/grahamegrieve/temp/igs/obs-cdss-fhir                      (00:05.0791)\nCore Package hl7.fhir.r4.core#4.0.1\nTerminology Cache is at /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/txcache. 5 files in cache (00:12.0090)\nConnect to Terminology Server at http://tx.fhir.org                              (00:12.0094)\nLoad Package hl7.fhir.pubpack#0.0.9\nLoad Package hl7.fhir.xver-extensions#0.0.11\nLoad Package hl7.terminology.r4#3.1.0\nInitialization complete                                                          (00:14.0159)\nFetch http://xxsomewhere.org/fhir/myig/package-list.json for version check       (00:14.0162)\nLoad Content                                                                     (00:14.0197)\nTranslating CQL source                                                           (00:14.0327)\nTranslating CQL source in folder /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/cql (00:14.0327)\nloadPrePages from FetchedFile[/Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/includes] as /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/includes\nloadPrePages from FetchedFile[/Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/pagecontent] as /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/pagecontent\nProcessing Conformance Resources                                                 (00:14.0370)\nGenerating Snapshots                                                             (00:14.0405)\nPropagating status                                                               (00:14.0405)\nGenerating Narratives                                                            (00:14.0406)\nValidating Conformance Resources                                                 (00:14.0462)\nValidating Resources                                                             (00:19.0172)\nProcessing Provenance Records                                                    (00:19.0174)\nGenerating Outputs in /Users/grahamegrieve/temp/igs/obs-cdss-fhir/output         (00:19.0175)\n\nonGenerate.checkVersions:\n     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/versions.txt\n     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.getVersions.xslt\n\nonGenerate.r5-schemas:\n      [get] Getting: http://build.fhir.org/fhir-single.xsd\n      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R5/fhir-single.xsd\n      [get] Not modified - so not downloaded\n      [get] Getting: http://build.fhir.org/fhir-xhtml.xsd\n      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R5/fhir-xhtml.xsd\n      [get] Not modified - so not downloaded\n      [get] Getting: http://build.fhir.org/xml.xsd\n      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R5/xml.xsd\n      [get] Not modified - so not downloaded\n      [get] Getting: http://build.fhir.org/xmldsig-core-schema.xsd\n      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R5/xmldsig-core-schema.xsd\n      [get] Not modified - so not downloaded\n\nonGenerate.r4-schemas:\n      [get] Getting: http://hl7.org/fhir/R4/fhir-single.xsd\n      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R4/fhir-single.xsd\n      [get] Not modified - so not downloaded\n      [get] Getting: http://hl7.org/fhir/R4/fhir-xhtml.xsd\n      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R4/fhir-xhtml.xsd\n      [get] Not modified - so not downloaded\n      [get] Getting: http://hl7.org/fhir/R4/xml.xsd\n      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R4/xml.xsd\n      [get] Not modified - so not downloaded\n      [get] Getting: http://hl7.org/fhir/R4/xmldsig-core-schema.xsd\n      [get] To: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input-cache/schemas/R4/xmldsig-core-schema.xsd\n      [get] Not modified - so not downloaded\n\nonGenerate.r3-schemas:\n\nonGenerate.r2b-schemas:\n\nonGenerate.r2-schemas:\n\nonGenerate.schemas:\n\nonGenerate.data:\n     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_data/artifacts.json\n     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.data.xslt\n\nonGenerate.setup:\n\nonGenerate.infoFile:\n     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_data/info.json\n     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.genJson.xslt\n\nonGenerate.processIncludes:\n     [copy] Copying 19 files to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes\n\nonGenerate.processIg:\n     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.1.xml\n     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.group.xslt\n     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.1.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-updated.xml\n     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.final.xslt\n\nonGenerate.igQa:\n     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-updated.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/ongenerate-validation-igqa.json\n     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/onGenerate.qa.xslt\n\nonGenerate.artifactList:\n     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-updated.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes/artifacts.xml\n     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/createArtifactSummary.xslt\n\ncheck-plantumlfiles:\n\nonGenerate.plantUml.ig:\n\nonGenerate.plantUml.template:\n\nonGenerate.plantUml:\n\nonGenerate.copyDataFiles:\n     [copy] Copying 1 file to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_data\n\nprepareDiagramSource:\n     [xslt] Transforming into /Users/grahamegrieve/temp/igs/obs-cdss-fhir/input/images-source\n\nrenderDiagram:\n     [java] No diagram found\n\ncreateIGyaml:\n     [xslt] Processing /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/onGenerate-ig-working.xml to /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/application.yaml\n     [xslt] Loading stylesheet /Users/grahamegrieve/temp/igs/obs-cdss-fhir/template/scripts/hapi-yaml.xslt\n\ncreateExampleScenarioPage:\n     [xslt] Transforming into /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes\n     [xslt] Transforming into /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes\n     [xslt] Transforming into /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages/_includes\n\nonGenerate.extend:\n\nonGenerate:\nGenerating Summary Outputs                                                       (00:28.0809)\nSending Usage Stats to Server                                                    (00:29.0882)\n## Memory (MB): Use = 1579, Free = 840, Total = 2420, Max =14564\nReclaiming memory...\n## Memory (MB): Use = 438, Free = 2604, Total = 3043, Max =14564\nRun jekyll: jekyll build --destination &quot;/Users/grahamegrieve/temp/igs/obs-cdss-fhir/output&quot; (in folder /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages) (00:30.0614)\nJekyll: Source: /Users/grahamegrieve/temp/igs/obs-cdss-fhir/temp/pages           (00:30.0881)\nJekyll: Generating...                                                            (00:30.0882)\nJekyll: done in 0.131 seconds.                                                   (00:31.0013)\nInstalling OBSCDSS.fhir.uv.myig#dev to the package cache\n  Fetching:\n  Installing:  done.\nChecking Output HTML                                                             (00:31.0253)\nfound 521 files                                                                  (00:31.0261)\n........................................\n........................................\n  ... 521 html files, 0 pages invalid xhtml (0%)                                 (00:31.0588)\n  ... 81 links, 4 broken links (4%)                                              (00:31.0591)\nBuild final .zip                                                                 (00:31.0591)\n</code></pre></div>",
        "id": 276991334,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1648553761
    },
    {
        "content": "<p>will try with other java version and return feedback</p>",
        "id": 276991684,
        "sender_full_name": "João Almeida",
        "timestamp": 1648553912
    },
    {
        "content": "<p>this is with java 1.8 </p>\n<div class=\"codehilite\"><pre><span></span><code>Checking internet connection...\nOnline\n\nFHIR IG Publisher Version 1.1.113 (Git# 36472c045b0c). Built 2022-03-18T05:50:01.31Z (11 days old)\nDetected Java version: 1.8.0_292 from /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre on Mac OS X/x86_64 (64bit). 3641MB available\ndir = /Users/joaoalmeida/Desktop/obs-cdss-fhir, path = /Users/joaoalmeida/.jenv/versions/1.8/bin:/opt/homebrew/Cellar/jenv/0.5.4/libexec/libexec:/usr/local/opt/ruby/bin:/usr/local/lib/ruby/gems/3.0.0/bin:/Users/joaoalmeida/.rbenv/shims:/opt/homebrew/opt/libpq/bin:/opt/homebrew/opt/node@14/bin:/Users/joaoalmeida/.jenv/shims:/Users/joaoalmeida/.jenv/bin:/opt/homebrew/Caskroom/miniforge/base/bin:/opt/homebrew/Caskroom/miniforge/base/condabin:/opt/local/bin:/opt/local/sbin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin\nParameters: -ig .\nStart Clock @ Terça-feira, 29 de Março de 2022 12H39m WEST (2022-03-29T12:39:24+01:00)\n\nAPI keys loaded from /Users/joaoalmeida/fhir-api-keys.ini                        (00:00.0023)\nPackage Cache: /Users/joaoalmeida/.fhir/packages                                 (00:00.0027)\nRun Sushi on /Users/joaoalmeida/Desktop/obs-cdss-fhir                            (00:00.0037)\nSushi: npx: installed 933 in 4.609s                                              (00:04.0830)\nSushi: info  Running SUSHI v2.3.0 (implements FHIR Shorthand specification v1.2.0) (00:05.0050)\nSushi: info  Arguments:                                                          (00:05.0051)\nSushi: info    --out /Users/joaoalmeida/Desktop/obs-cdss-fhir                    (00:05.0051)\nSushi: info    /Users/joaoalmeida/Desktop/obs-cdss-fhir                          (00:05.0052)\nSushi: info  Using configuration file: /Users/joaoalmeida/Desktop/obs-cdss-fhir/sushi-config.yaml (00:05.0054)\nSushi: info  Importing FSH text...                                               (00:05.0057)\nSushi: info  Preprocessed 1 documents with 0 aliases.                            (00:05.0083)\nSushi: info  Imported 2 definitions and 0 instances.                             (00:05.0085)\nSushi: info  Checking local cache for hl7.fhir.r4.core#4.0.1...                  (00:05.0086)\nSushi: info  Found hl7.fhir.r4.core#4.0.1 in local cache.                        (00:05.0734)\nSushi: info  Loaded package hl7.fhir.r4.core#4.0.1                               (00:05.0735)\nSushi: info  Converting FSH to FHIR resources...                                 (00:05.0766)\nSushi: info  Converted 2 FHIR StructureDefinitions.                              (00:05.0882)\nSushi: info  Exporting FHIR resources as JSON...                                 (00:05.0883)\nSushi: info  Exported 2 FHIR resources as JSON.                                  (00:05.0890)\nSushi: info  Assembling Implementation Guide sources...                          (00:05.0891)\nSushi: info  Generated ImplementationGuide-obs.cdss.ig.example.json              (00:05.0894)\nSushi: info  Assembled Implementation Guide sources; ready for IG Publisher.     (00:05.0896)\nSushi:                                                                           (00:05.0896)\nSushi: ========================= SUSHI RESULTS ===========================       (00:05.0897)\nSushi: |  -------------------------------------------------------------  |       (00:05.0897)\nSushi: | |    Profiles   |  Extensions  |   Logicals   |   Resources   | |       (00:05.0898)\nSushi: | |-------------------------------------------------------------| |       (00:05.0898)\nSushi: | |       2       |      0       |      0       |       0       | |       (00:05.0899)\nSushi: |  -------------------------------------------------------------  |       (00:05.0899)\nSushi: |  -------------------------------------------------------------  |       (00:05.0901)\nSushi: | |      ValueSets     |    CodeSystems    |     Instances      | |       (00:05.0901)\nSushi: | |-------------------------------------------------------------| |       (00:05.0902)\nSushi: | |         0          |         0         |         0          | |       (00:05.0903)\nSushi: |  -------------------------------------------------------------  |       (00:05.0903)\nSushi: |                                                                 |       (00:05.0904)\nSushi: ===================================================================       (00:05.0904)\nSushi: | FSHing for compliments? Super job!     0 Errors      0 Warnings |       (00:05.0904)\nSushi: ===================================================================       (00:05.0904)\nLoad Template from hl7.be.fhir.template#current                                  (00:07.0926)\n Load Template from fhir.base.template#current                                   (00:10.0957)\n\nonLoad.findSpreadsheets:\n\nonLoad.updateIg:\n     [xslt] Processing /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/onLoad-ig-working.xml to /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/onLoad-ig-updated.xml\n     [xslt] Loading stylesheet /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/scripts/onLoad.xslt\n\nonLoad.extend:\n\nonLoad:\nRoot directory: /Users/joaoalmeida/Desktop/obs-cdss-fhir                         (00:13.0791)\nCore Package hl7.fhir.r4.core#4.0.1\nTerminology Cache is at /Users/joaoalmeida/Desktop/obs-cdss-fhir/input-cache/txcache. 5 files in cache (00:20.0097)\nConnect to Terminology Server at http://tx.fhir.org                              (00:20.0102)\nLoad Package hl7.fhir.pubpack#0.0.9\nLoad Package hl7.fhir.xver-extensions#0.0.11\nLoad Package hl7.terminology.r4#3.1.0\nInitialization complete                                                          (00:21.0974)\nFetch http://xxsomewhere.org/fhir/myig/package-list.json for version check       (00:21.0979)\nLoad Content                                                                     (00:22.0121)\nTranslating CQL source                                                           (00:22.0253)\nTranslating CQL source in folder /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/cql (00:22.0254)\nloadPrePages from FetchedFile[/Users/joaoalmeida/Desktop/obs-cdss-fhir/input/includes] as /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/includes\nloadPrePages from FetchedFile[/Users/joaoalmeida/Desktop/obs-cdss-fhir/input/pagecontent] as /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/pagecontent\nProcessing Conformance Resources                                                 (00:22.0395)\nGenerating Snapshots                                                             (00:22.0597)\nPublishing Content Failed: Error generating snapshot for /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition(nestedcomposition): Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition (00:22.0785)\n                                                                                 (00:22.0787)\nUse -? to get command line help                                                  (00:22.0788)\n                                                                                 (00:22.0788)\nStack Dump (for debugging):                                                      (00:22.0788)\njava.lang.Exception: Error generating snapshot for /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition(nestedcomposition): Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5405)\n        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4667)\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1005)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10010)\nCaused by: org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5458)\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5403)\n        ... 4 more\nCaused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section has no children (Composition.section.section.section) and no types in profile Medication nested.section.section\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.getTypeForElement(ProfileUtilities.java:1955)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1518)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1304)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:669)\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5453)\n        ... 5 more\n</code></pre></div>",
        "id": 276992133,
        "sender_full_name": "João Almeida",
        "timestamp": 1648554157
    },
    {
        "content": "<p>could it be the IGPublisher? I can try and build from source</p>",
        "id": 276992166,
        "sender_full_name": "João Almeida",
        "timestamp": 1648554180
    },
    {
        "content": "<p>built from source (org.hl7.fhir.publisher.cli) and returns the same error:</p>\n<div class=\"codehilite\"><pre><span></span><code>FHIR IG Publisher Version 1.1.114-SNAPSHOT (Git# 84aeae9a7280). Built 2022-03-29T12:46:44.706+01:00 (5 mins old)\nDetected Java version: 1.8.0_292 from /Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/jre on Mac OS X/x86_64 (64bit). 3641MB available\ndir = /Users/joaoalmeida/Desktop/fhir-ig-publisher/org.hl7.fhir.publisher.cli, path = /Users/joaoalmeida/.jenv/versions/1.8/bin:/opt/homebrew/Cellar/jenv/0.5.4/libexec/libexec:/usr/local/opt/ruby/bin:/usr/local/lib/ruby/gems/3.0.0/bin:/Users/joaoalmeida/.rbenv/shims:/opt/homebrew/opt/libpq/bin:/opt/homebrew/opt/node@14/bin:/Users/joaoalmeida/.jenv/shims:/Users/joaoalmeida/.jenv/bin:/opt/homebrew/Caskroom/miniforge/base/bin:/opt/homebrew/Caskroom/miniforge/base/condabin:/opt/local/bin:/opt/local/sbin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin\nParameters: -ig /Users/joaoalmeida/Desktop/obs-cdss-fhir\nStart Clock @ Terça-feira, 29 de Março de 2022 12H52m WEST (2022-03-29T12:52:25+01:00)\n\nAPI keys loaded from /Users/joaoalmeida/fhir-api-keys.ini                        (00:00.0021)\nPackage Cache: /Users/joaoalmeida/.fhir/packages                                 (00:00.0024)\nRun Sushi on /Users/joaoalmeida/Desktop/obs-cdss-fhir                            (00:00.0034)\nSushi: npx: installed 933 in 4.221s                                              (00:04.0376)\nSushi: info  Running SUSHI v2.3.0 (implements FHIR Shorthand specification v1.2.0) (00:04.0589)\nSushi: info  Arguments:                                                          (00:04.0590)\nSushi: info    --out /Users/joaoalmeida/Desktop/obs-cdss-fhir                    (00:04.0590)\nSushi: info    /Users/joaoalmeida/Desktop/obs-cdss-fhir                          (00:04.0591)\nSushi: info  Using configuration file: /Users/joaoalmeida/Desktop/obs-cdss-fhir/sushi-config.yaml (00:04.0593)\nSushi: info  Importing FSH text...                                               (00:04.0595)\nSushi: info  Preprocessed 1 documents with 0 aliases.                            (00:04.0622)\nSushi: info  Imported 2 definitions and 0 instances.                             (00:04.0624)\nSushi: info  Checking local cache for hl7.fhir.r4.core#4.0.1...                  (00:04.0624)\nSushi: info  Found hl7.fhir.r4.core#4.0.1 in local cache.                        (00:05.0326)\nSushi: info  Loaded package hl7.fhir.r4.core#4.0.1                               (00:05.0326)\nSushi: info  Converting FSH to FHIR resources...                                 (00:05.0355)\nSushi: info  Converted 2 FHIR StructureDefinitions.                              (00:05.0469)\nSushi: info  Exporting FHIR resources as JSON...                                 (00:05.0469)\nSushi: info  Exported 2 FHIR resources as JSON.                                  (00:05.0476)\nSushi: info  Assembling Implementation Guide sources...                          (00:05.0477)\nSushi: info  Generated ImplementationGuide-obs.cdss.ig.example.json              (00:05.0480)\nSushi: info  Assembled Implementation Guide sources; ready for IG Publisher.     (00:05.0480)\nSushi:                                                                           (00:05.0481)\nSushi: ========================= SUSHI RESULTS ===========================       (00:05.0482)\nSushi: |  -------------------------------------------------------------  |       (00:05.0482)\nSushi: | |    Profiles   |  Extensions  |   Logicals   |   Resources   | |       (00:05.0483)\nSushi: | |-------------------------------------------------------------| |       (00:05.0483)\nSushi: | |       2       |      0       |      0       |       0       | |       (00:05.0485)\nSushi: |  -------------------------------------------------------------  |       (00:05.0485)\nSushi: |  -------------------------------------------------------------  |       (00:05.0487)\nSushi: | |      ValueSets     |    CodeSystems    |     Instances      | |       (00:05.0488)\nSushi: | |-------------------------------------------------------------| |       (00:05.0488)\nSushi: | |         0          |         0         |         0          | |       (00:05.0489)\nSushi: |  -------------------------------------------------------------  |       (00:05.0489)\nSushi: |                                                                 |       (00:05.0489)\nSushi: ===================================================================       (00:05.0490)\nSushi: | FSHing for compliments? Super job!     0 Errors      0 Warnings |       (00:05.0490)\nSushi: ===================================================================       (00:05.0491)\nLoad Template from hl7.be.fhir.template#current                                  (00:07.0459)\n Load Template from fhir.base.template#current                                   (00:09.0908)\n\nonLoad.findSpreadsheets:\n\nonLoad.updateIg:\n     [xslt] Processing /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/onLoad-ig-working.xml to /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/onLoad-ig-updated.xml\n     [xslt] Loading stylesheet /Users/joaoalmeida/Desktop/obs-cdss-fhir/template/scripts/onLoad.xslt\n\nonLoad.extend:\n\nonLoad:\nRoot directory: /Users/joaoalmeida/Desktop/obs-cdss-fhir                         (00:12.0842)\nCore Package hl7.fhir.r4.core#4.0.1\nTerminology Cache is at /Users/joaoalmeida/Desktop/obs-cdss-fhir/input-cache/txcache. 5 files in cache (00:18.0798)\nConnect to Terminology Server at http://tx.fhir.org                              (00:18.0804)\nLoad Package hl7.fhir.pubpack#0.0.9\nLoad Package hl7.fhir.xver-extensions#0.0.11\nLoad Package hl7.terminology.r4#3.1.0\nInitialization complete                                                          (00:20.0418)\nFetch http://xxsomewhere.org/fhir/myig/package-list.json for version check       (00:20.0423)\nLoad Content                                                                     (00:20.0429)\nTranslating CQL source                                                           (00:20.0558)\nTranslating CQL source in folder /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/cql (00:20.0560)\nloadPrePages from FetchedFile[/Users/joaoalmeida/Desktop/obs-cdss-fhir/input/includes] as /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/includes\nloadPrePages from FetchedFile[/Users/joaoalmeida/Desktop/obs-cdss-fhir/input/pagecontent] as /Users/joaoalmeida/Desktop/obs-cdss-fhir/input/pagecontent\nProcessing Conformance Resources                                                 (00:20.0707)\nGenerating Snapshots                                                             (00:20.0870)\nPublishing Content Failed: Error generating snapshot for /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition(nestedcomposition): Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition (00:21.0023)\n                                                                                 (00:21.0024)\nUse -? to get command line help                                                  (00:21.0025)\n                                                                                 (00:21.0025)\nStack Dump (for debugging):                                                      (00:21.0025)\njava.lang.Exception: Error generating snapshot for /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition(nestedcomposition): Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5405)\n        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4667)\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:1005)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:856)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:10010)\nCaused by: org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for http://hl7.org/fhir/us/example/StructureDefinition/nestedcomposition in /Users/joaoalmeida/Desktop/obs-cdss-fhir/fsh-generated/resources/StructureDefinition-nestedcomposition\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5458)\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:5403)\n        ... 4 more\nCaused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section has no children (Composition.section.section.section) and no types in profile Medication nested.section.section\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.getTypeForElement(ProfileUtilities.java:1955)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1518)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1304)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1548)\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:669)\n        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:5453)\n        ... 5 more\n</code></pre></div>",
        "id": 276993331,
        "sender_full_name": "João Almeida",
        "timestamp": 1648554814
    },
    {
        "content": "<p>Conversation has moved past this point, but for the record, menu.xml is not generated.  It's a source file that must be put in the input/includes folder for the base template to work.  (There's discussion about moving to a mechanism that would allow the file to be generated, but we're not there yet.)</p>",
        "id": 277022404,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1648567844
    },
    {
        "content": "<p>sushi config does generate menu.xml.</p>",
        "id": 277106654,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1648626992
    },
    {
        "content": "<p>Having the menu.xml or not, both versions (with the latest ig publisher) return the same error :/</p>",
        "id": 277157656,
        "sender_full_name": "João Almeida",
        "timestamp": 1648652221
    },
    {
        "content": "<p>Where are you putting the menu.xml file?</p>",
        "id": 277172885,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1648658602
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> -- looking at <a href=\"https://github.com/joofio/obs-cdss-fhir/tree/main/input/includes\">his repo</a>, it is at <code>input/includes/menu.xml</code>. </p>\n<p>For the record, if there is a menu defined in <code>sushi-config.yaml</code>, it will be generated to <code>fsh-generated/input/menu.xml</code>.  The base template was updated quite a while ago to also look in this location.</p>",
        "id": 277195355,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1648668873
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191469\">Chris Moesel</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F/near/277195355\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> -- looking at <a href=\"https://github.com/joofio/obs-cdss-fhir/tree/main/input/includes\">his repo</a>, it is at <code>input/includes/menu.xml</code>. </p>\n<p>For the record, if there is a menu defined in <code>sushi-config.yaml</code>, it will be generated to <code>fsh-generated/input/menu.xml</code>.  The base template was updated quite a while ago to also look in this location.</p>\n</blockquote>\n<p>I added the file for <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  usage.<br>\nBut before, as <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span>  said, I was using the sushi-config.yaml that is not commented out.</p>",
        "id": 277200170,
        "sender_full_name": "João Almeida",
        "timestamp": 1648671917
    },
    {
        "content": "<p>built validator from source and same error appears:</p>\n<div class=\"codehilite\"><pre><span></span><code>Caused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section has no children (Composition.section.section.section) and no types in profile composition nested.section.section\n</code></pre></div>\n<p>command:</p>\n<div class=\"codehilite\"><pre><span></span><code> java -jar org.hl7.fhir.publisher.cli/target/org.hl7.fhir.publisher.cli-1.1.115-SNAPSHOT.jar  -ig &lt;path-for-ig&gt;\n</code></pre></div>\n<p>built with java 11</p>",
        "id": 277727255,
        "sender_full_name": "João Almeida",
        "timestamp": 1649077302
    },
    {
        "content": "<p>been trying to debug this issue and it feels that it comes from the hapi core lib. In here:<br>\n<a href=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/76411218acf695e64f292501fe265bf4334542db/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L1971\">https://github.com/hapifhir/org.hl7.fhir.core/blob/76411218acf695e64f292501fe265bf4334542db/org.hl7.fhir.r5/src/main/java/org/hl7/fhir/r5/conformance/ProfileUtilities.java#L1971</a></p>\n<div class=\"codehilite\"><pre><span></span><code> &quot;System.out.println(indent+&quot; - &quot;+cpath+&quot;: base = &quot;+baseCursor+&quot; (&quot;+descED(base.getElement(),baseCursor)+&quot;) to &quot;+baseLimit+&quot; (&quot;+descED(base.getElement(),baseLimit)+&quot;), diff = &quot;+diffCursor+&quot; (&quot;+descED(differential.getElement(),diffCursor)+&quot;) to &quot;+diffLimit+&quot; (&quot;+descED(differential.getElement(),diffLimit)+&quot;) &quot;+\n      &quot;(slicingDone = &quot;+slicingDone+&quot;) (diffpath= &quot;+(differential.getElement().size() &gt; diffCursor ? differential.getElement().get(diffCursor).getPath() : &quot;n/a&quot;)+&quot;)&quot;);\n</code></pre></div>\n<p>prints</p>\n<div class=\"codehilite\"><pre><span></span><code>- Composition.section.section.section: base = 53 (Composition.section.section) to 53 (Composition.section.section), diff = 9 (Composition.section:section1.section:subsection.section) to 12 (Composition.section:section1.section:subsection.section:subsubsection.entry) (slicingDone = false) (diffpath= Composition.section.section.section)\n</code></pre></div>\n<p>\"outcome\" = Composition.section.section<br>\n\"outcome.getType().size()\"= 0</p>",
        "id": 278049900,
        "sender_full_name": "João Almeida",
        "timestamp": 1649262371
    }
]