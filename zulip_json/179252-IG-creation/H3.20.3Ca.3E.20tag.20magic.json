[
    {
        "content": "<p>Hello - running into an issue with my index.xml - It seems there's some magic that inserts an &lt;a&gt; tag around &lt;h3&gt; tags, but it's not behaving quite right for me, causing the entire contents of &lt;p&gt; tags after the &lt;h3&gt; tags to be encased in the &lt;a&gt; tag as well.  This means all the contents of the section are blue and highlightable.  Any idea what could cause that?</p>",
        "id": 268622419,
        "sender_full_name": "Nick George",
        "timestamp": 1642637090
    },
    {
        "content": "<p>Our first h3 tag renders correctly: <a href=\"/user_uploads/10155/UpazBeGjE9_J_bbjr3rruLJn/Screen-Shot-2022-01-19-at-4.05.34-PM.png\">Screen-Shot-2022-01-19-at-4.05.34-PM.png</a> <br>\nbut subsequent ones do not: <br>\n<a href=\"/user_uploads/10155/wM0BLGNQnFLPjRAAATf4nEf8/Screen-Shot-2022-01-19-at-4.06.16-PM.png\">Screen-Shot-2022-01-19-at-4.06.16-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/UpazBeGjE9_J_bbjr3rruLJn/Screen-Shot-2022-01-19-at-4.05.34-PM.png\" title=\"Screen-Shot-2022-01-19-at-4.05.34-PM.png\"><img src=\"/user_uploads/10155/UpazBeGjE9_J_bbjr3rruLJn/Screen-Shot-2022-01-19-at-4.05.34-PM.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/wM0BLGNQnFLPjRAAATf4nEf8/Screen-Shot-2022-01-19-at-4.06.16-PM.png\" title=\"Screen-Shot-2022-01-19-at-4.06.16-PM.png\"><img src=\"/user_uploads/10155/wM0BLGNQnFLPjRAAATf4nEf8/Screen-Shot-2022-01-19-at-4.06.16-PM.png\"></a></div>",
        "id": 268622575,
        "sender_full_name": "Nick George",
        "timestamp": 1642637193
    },
    {
        "content": "<p>is your IG source in markdown or xml?</p>",
        "id": 268622652,
        "sender_full_name": "John Moehrke",
        "timestamp": 1642637250
    },
    {
        "content": "<p>xml</p>",
        "id": 268622667,
        "sender_full_name": "Nick George",
        "timestamp": 1642637267
    },
    {
        "content": "<p>could you share your github? more eyes are often helpful.</p>",
        "id": 268622762,
        "sender_full_name": "John Moehrke",
        "timestamp": 1642637319
    },
    {
        "content": "<p>sorry not public yet (working towards that!)</p>",
        "id": 268622779,
        "sender_full_name": "Nick George",
        "timestamp": 1642637338
    },
    {
        "content": "<p>but would be happy to switch to markdown... is that just a question of replacing html/pagecontents/index.xml with html/pagecontents/index.md?</p>",
        "id": 268622791,
        "sender_full_name": "Nick George",
        "timestamp": 1642637351
    },
    {
        "content": "<p>mostly, yes. and using markdown rather than xml</p>",
        "id": 268622815,
        "sender_full_name": "John Moehrke",
        "timestamp": 1642637377
    },
    {
        "content": "<p>ok, and I don't have to change anything else to tell it to use the index.md rather than index.xml?</p>",
        "id": 268622836,
        "sender_full_name": "Nick George",
        "timestamp": 1642637400
    },
    {
        "content": "<p>I'll try that and see if that works better for the headers</p>",
        "id": 268622882,
        "sender_full_name": "Nick George",
        "timestamp": 1642637411
    },
    {
        "content": "<p>not going to say it will fix the problem. but these things tend to be things that hide from the original author, but a second set of eyes sees it. pair-programming</p>",
        "id": 268622910,
        "sender_full_name": "John Moehrke",
        "timestamp": 1642637434
    },
    {
        "content": "<p>well, it seems to be an issue with some processing that gets done by the publisher on top of the exiting xml</p>",
        "id": 268622986,
        "sender_full_name": "Nick George",
        "timestamp": 1642637509
    },
    {
        "content": "<p>I wonder if there are certain structures of content sections that we're expected to be following to make the renderer happy</p>",
        "id": 268623044,
        "sender_full_name": "Nick George",
        "timestamp": 1642637529
    },
    {
        "content": "<p>hmm seeing <code>Template based HTML file index.html is missing source file index.xml</code></p>",
        "id": 268623143,
        "sender_full_name": "Nick George",
        "timestamp": 1642637607
    },
    {
        "content": "<p>You shouldn't need to change from using XHTML.  I've seen anchor tags inserted if there's a validation error, but those usually use UUIDs, not sequential numbers unless something has changed.  And even there, the anchors shouldn't <em>wrap</em> anything.  What template is your IG using?</p>",
        "id": 268632996,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1642646058
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196561\">@Nick George</span> if you have you ig resource as xml or json you should replace the <code>html</code> with the  <code>markdown</code> in page.generation</p>\n<div class=\"codehilite\"><pre><span></span><code>    &quot;page&quot;: {\n      &quot;nameUrl&quot;: &quot;index.html&quot;,\n      &quot;title&quot;: &quot;Main Page&quot;,\n      &quot;generation&quot;: &quot;html&quot;,\n</code></pre></div>\n<div class=\"codehilite\"><pre><span></span><code>    &quot;page&quot;: {\n      &quot;nameUrl&quot;: &quot;index.html&quot;,\n      &quot;title&quot;: &quot;Main Page&quot;,\n      &quot;generation&quot;: &quot;markdown&quot;,\n</code></pre></div>",
        "id": 268648482,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1642660840
    },
    {
        "content": "<p>as for the tag - why are you adding an &lt;a&gt; tag on the h3 tag? If I understand correctly, the template will create the links around any heading tag from h1 to h6.<br>\nBesides, there is an annoying issue where this works well</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;a name=&quot;summary&quot;&gt; &lt;/a&gt;\n&lt;h3 id=&quot;summary&quot;&gt;Summary&lt;/h3&gt;\n</code></pre></div>\n<p>but this messes up the text</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;a name=&quot;summary&quot;&gt;&lt;/a&gt;\n&lt;h3 id=&quot;summary&quot;&gt;Summary&lt;/h3&gt;\n</code></pre></div>\n<p>(note the missing space before closing the &lt;/a&gt;. If that is not there, the following text will be a hyperlink</p>",
        "id": 268648984,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1642661271
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> all out of the-box defaults for templates...<code>fhir.base.template</code>.  Ran through some html sanitizers that seem to be ok with it</p>",
        "id": 268725968,
        "sender_full_name": "Nick George",
        "timestamp": 1642698982
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> I'm not adding an &lt;a&gt; tag, the publisher is</p>",
        "id": 268726010,
        "sender_full_name": "Nick George",
        "timestamp": 1642699004
    },
    {
        "content": "<p>Just to close the loop here - converting to markdown has worked easily and is easier to read in source anyway, so just doing that.  Dunno what was going on with the xml version.</p>",
        "id": 268731962,
        "sender_full_name": "Nick George",
        "timestamp": 1642701463
    },
    {
        "content": "<p>Sorry we did not find the issue - but without looking at the code it's really hard</p>",
        "id": 268733393,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1642702017
    },
    {
        "content": "<p>yeah for sure</p>",
        "id": 268733916,
        "sender_full_name": "Nick George",
        "timestamp": 1642702235
    },
    {
        "content": "<p>thanks for your help!</p>",
        "id": 268733947,
        "sender_full_name": "Nick George",
        "timestamp": 1642702250
    },
    {
        "content": "<p>Actually, it may be that you should list your content as \"xml\" rather than \"html\".  The former is for XHTML.  The latter is for pure html.</p>",
        "id": 268750626,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1642709545
    }
]