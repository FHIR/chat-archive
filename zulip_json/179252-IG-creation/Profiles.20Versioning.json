[
    {
        "content": "<p>I always have seen that the version of the IG gets propagated to the version of the individual profiles. However from the structure definition it is saying that the version should be a timestamp or something arbitrary given manually.<br>\nI would like to read your insights on best practice, shall the profile version match the one of the IG, yes or no and why?<br>\nThanks <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 268709981,
        "sender_full_name": "Diana_Ovelgoenne",
        "timestamp": 1642692782
    },
    {
        "content": "<p>my opinion: there are good reasons to have an individual artifact having a specific version, but if you have no good reason then replicating the IG version in the artifact is a reasonable practice. (Note early IGs will tend to just peg them all together, but once you get high in the maturity it is best to revise only what is necessary to revise. Thus a reader can know that you just updated the IG because of a specific change so that they can determine how they react)... so it is a maturity thing more than anything.</p>",
        "id": 268715109,
        "sender_full_name": "John Moehrke",
        "timestamp": 1642694671
    },
    {
        "content": "<p>By default, the publisher applies the IG version to all resources, unless you use the parameter apply-version=false.  And if you do that, you need to make sure you give everything a version yourself. (Personally, I’d like an apply-version=if-missing option.)</p>",
        "id": 268732440,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1642701631
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Profiles.20Versioning/near/268732440\">said</a>:</p>\n<blockquote>\n<p>(Personally, I’d like an apply-version=if-missing option.)</p>\n</blockquote>\n<p>I think this makes sense and it would be handy. Should apply-version override explicit versions?</p>",
        "id": 268733247,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1642701958
    },
    {
        "content": "<p>All the apply-* currently override. It makes sense to me to only apply if missing, but that would break existing behaviour.</p>",
        "id": 268733967,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1642702260
    },
    {
        "content": "<p>so it would be nice to have a new code added to \"apply-version\". Rather than just true/false... \"maybe\"?</p>",
        "id": 268734327,
        "sender_full_name": "John Moehrke",
        "timestamp": 1642702405
    },
    {
        "content": "<p>apply-version = \"fix it if I made a mistake\"</p>",
        "id": 268734586,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1642702517
    },
    {
        "content": "<p>ah, leverage the clairvoyance of the IG publisher... good plan.</p>",
        "id": 268734867,
        "sender_full_name": "John Moehrke",
        "timestamp": 1642702667
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span> that is my question: should we look into changing the behaviour of the parameter? Or it's best to propose a new parameter and let the discussion flow from there?</p>",
        "id": 268741562,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1642705421
    },
    {
        "content": "<p>I think it's worth proposing a change, but my expectation is that is a new value for the parameters of \"if-absent\" is a safer option than changing the meaning of \"true\"</p>",
        "id": 268743706,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1642706419
    },
    {
        "content": "<p>Worth adding a tracker item to the publisher</p>",
        "id": 268750766,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1642709632
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/fhir-ig-publisher/issues/377\">https://github.com/HL7/fhir-ig-publisher/issues/377</a></p>",
        "id": 268768972,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1642718699
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Profiles.20Versioning/near/268732440\">said</a>:</p>\n<blockquote>\n<p>By default, the publisher applies the IG version to all resources, unless you use the parameter apply-version=false.  And if you do that, you need to make sure you give everything a version yourself. (Personally, I’d like an apply-version=if-missing option.)</p>\n</blockquote>\n<p>do I put the parameter at the igi.ini or where exactly? I've done some experiments but still the version taken is the one of the IG and not the profile's. thanks!</p>",
        "id": 271826943,
        "sender_full_name": "Diana_Ovelgoenne",
        "timestamp": 1644846125
    },
    {
        "content": "<p>The parameter is in your IG resource, at definition.parameter. Take a look at  <a href=\"https://github.com/ElliotSilver/ca-baseline/blob/master/input/cabaseline.xml\">https://github.com/ElliotSilver/ca-baseline/blob/master/input/cabaseline.xml</a> and you'll see  a few other parameters (copyrightyear, etc.) although this one doesn't have apply-version in it.</p>",
        "id": 271866898,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1644862838
    },
    {
        "content": "<p>So... I'm tracking this and wondering if SUSHI is too \"helpful\" here or if it's maybe doing what people want...</p>\n<p>If you manually set <code>^version</code> on a profile, SUSHI uses that version, but if you <em>don't</em> then SUSHI automatically applies the IG version when it generates the profile.  So you always get the \"use-the-IG-version-unless-I-specify-something-else\" behavior in SUSHI.  But this also means it's impossible to generate a profile w/ <em>no version</em> in SUSHI (i.e., <code>version</code> always has some value in SUSHI-generated profiles).</p>",
        "id": 271874301,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1644866117
    },
    {
        "content": "<p>It's probably best if the \"auto-version-stamping\" is left to the publisher (same with auto-population of publisher, date, etc.)</p>",
        "id": 271893352,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644874909
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>.  I've filed this as <a href=\"https://github.com/FHIR/sushi/issues/1022\">SUSHI #1022</a>.</p>",
        "id": 271901736,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1644879479
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191469\">Chris Moesel</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Profiles.20Versioning/near/271874301\">said</a>:</p>\n<blockquote>\n<p>So... I'm tracking this and wondering if SUSHI is too \"helpful\" here or if it's maybe doing what people want...</p>\n<p>If you manually set <code>^version</code> on a profile, SUSHI uses that version, but if you <em>don't</em> then SUSHI automatically applies the IG version when it generates the profile.  So you always get the \"use-the-IG-version-unless-I-specify-something-else\" behavior in SUSHI.  But this also means it's impossible to generate a profile w/ <em>no version</em> in SUSHI (i.e., <code>version</code> always has some value in SUSHI-generated profiles).</p>\n</blockquote>\n<p>I am using SUSHI and the  <code>^version</code> isn't getting applied, but the one from the IG.</p>\n<p><span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span>  Ig publisher is running together with sushi so i don't have control on the content of the IG resource, this would be created every time I do a _genonce, so when do I write the parameter in? I don't think it helps to change  afterwards.  <br>\n<span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span>  I still believe it would be good to define it from the sushi side as that is where we have more control of what we want to do with our IG. I saw that the Structure Definitions fsh-generated by SUSHI contain the Profile Version, but this gets lost when running the ig publisher</p>",
        "id": 271936368,
        "sender_full_name": "Diana_Ovelgoenne",
        "timestamp": 1644910798
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"197447\">@Diana_Ovelgoenne</span> -- I think SUSHI is writing in the version you specified in <code>^version</code> (<a href=\"https://fshschool.org/FSHOnline/#/share/3gS1fis\">example</a>), but I suspect the IG Publisher is then overwriting it.</p>\n<p>You can set IG parameters in your <code>sushi-config.yaml</code> file.  For example:</p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"nt\">parameters</span><span class=\"p\">:</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"nt\">apply-version</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"l l-Scalar l-Scalar-Plain\">false</span><span class=\"w\"></span>\n</code></pre></div>\n<p>When I added the parameter as above, the version I specified using <code>^version</code> came through correctly after publishing.</p>\n<p>For future reference, all of the available properties in <code>sushi-config.yaml</code> are documented here: <a href=\"https://fshschool.org/docs/sushi/configuration/#full-configuration\">https://fshschool.org/docs/sushi/configuration/#full-configuration</a></p>",
        "id": 271976832,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1644933545
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span>  it worked <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 271978330,
        "sender_full_name": "Diana_Ovelgoenne",
        "timestamp": 1644934116
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"197447\">Diana_Ovelgoenne</span> has marked this topic as resolved.</p>",
        "id": 271978371,
        "sender_full_name": "Notification Bot",
        "timestamp": 1644934132
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> has marked this topic as unresolved.</p>",
        "id": 271990761,
        "sender_full_name": "Notification Bot",
        "timestamp": 1644939123
    },
    {
        "content": "<p>Note that <em>not</em> applying version to everything is risky.  It means that you have to track everything that changes and manually update the versions of things and update versioned references.</p>",
        "id": 271990862,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1644939165
    }
]