[
    {
        "content": "<p>getting this error  for an example instance in US Core (which has a vsac dependency) for an <a href=\"http://example.org\">example.org</a> reference.</p>\n<div class=\"codehilite\"><pre><span></span><code>output/Location-hospital.html#/html/body/div/div/div/div/div/div/p/a at Line 218, column 274    error   The link &#39;http://fhir.org/packages/us.nlm.vsac/http://example.org/fhir/Organization/holy-healthcare/expansion&#39; for &quot;Holy Healthcare&quot; cannot be resolved\n</code></pre></div>\n<p>here is the example:</p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"nt\">resourceType</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Location</span>\n<span class=\"nt\">id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">hospital</span>\n<span class=\"nt\">meta</span><span class=\"p\">:</span>\n  <span class=\"nt\">extension</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"s\">'http://hl7.org/fhir/StructureDefinition/instance-name'</span>\n      <span class=\"nt\">valueString</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Hospital Location</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"s\">'http://hl7.org/fhir/StructureDefinition/instance-description'</span>\n      <span class=\"nt\">valueMarkdown</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">This is an example hospital location for the *US Core Location Profile*.</span>\n  <span class=\"nt\">profile</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"s\">'http://hl7.org/fhir/us/core/StructureDefinition/us-core-location'</span>\n<span class=\"nt\">status</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">active</span>\n<span class=\"nt\">name</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Holy Family Hospital</span>\n<span class=\"nt\">telecom</span><span class=\"p\">:</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">system</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">phone</span>\n    <span class=\"nt\">value</span><span class=\"p\">:</span> <span class=\"s\">'9786870156'</span>\n<span class=\"nt\">address</span><span class=\"p\">:</span>\n  <span class=\"nt\">line</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"l l-Scalar l-Scalar-Plain\">70 EAST STREET</span>\n  <span class=\"nt\">city</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">METHUEN</span>\n  <span class=\"nt\">state</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">MA</span>\n  <span class=\"nt\">postalCode</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">01844</span>\n  <span class=\"nt\">country</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">US</span>\n<span class=\"c1\"># ===================  SOURCE OF ERROR =================</span>\n<span class=\"nt\">managingOrganization</span><span class=\"p\">:</span>\n  <span class=\"nt\">reference</span><span class=\"p\">:</span> <span class=\"s\">'http://example.org/fhir/Organization/holy-healthcare'</span>  <span class=\"c1\"># &lt;&lt;&lt;&lt;&lt;&lt; this  is the reference using 'example.org'</span>\n  <span class=\"nt\">display</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Holy Healthcare</span>\n<span class=\"c1\"># =======================================================</span>\n</code></pre></div>\n<p>is there something I am doing wrong here or is this some weird quirk of the publisher?</p>",
        "id": 260719937,
        "sender_full_name": "Eric Haas",
        "timestamp": 1636406098
    },
    {
        "content": "<p>how would I reproduce this?</p>",
        "id": 260754950,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636435122
    },
    {
        "content": "<p>I was able to reproduce in my test build...</p>\n<ol>\n<li>added this example</li>\n</ol>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"p\">{</span><span class=\"nt\">\"resourceType\"</span><span class=\"p\">:</span><span class=\"s2\">\"Location\"</span><span class=\"p\">,</span><span class=\"nt\">\"id\"</span><span class=\"p\">:</span><span class=\"s2\">\"hospital\"</span><span class=\"p\">,</span><span class=\"nt\">\"meta\"</span><span class=\"p\">:{</span><span class=\"nt\">\"extension\"</span><span class=\"p\">:[{</span><span class=\"nt\">\"url\"</span><span class=\"p\">:</span><span class=\"s2\">\"http://hl7.org/fhir/StructureDefinition/instance-name\"</span><span class=\"p\">,</span><span class=\"nt\">\"valueString\"</span><span class=\"p\">:</span><span class=\"s2\">\"Hospital Location\"</span><span class=\"p\">},{</span><span class=\"nt\">\"url\"</span><span class=\"p\">:</span><span class=\"s2\">\"http://hl7.org/fhir/StructureDefinition/instance-description\"</span><span class=\"p\">,</span><span class=\"nt\">\"valueMarkdown\"</span><span class=\"p\">:</span><span class=\"s2\">\"This is an example hospital location for the *US Core Location Profile*.\"</span><span class=\"p\">}],</span><span class=\"nt\">\"profile\"</span><span class=\"p\">:[</span><span class=\"s2\">\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-location\"</span><span class=\"p\">]},</span><span class=\"nt\">\"status\"</span><span class=\"p\">:</span><span class=\"s2\">\"active\"</span><span class=\"p\">,</span><span class=\"nt\">\"name\"</span><span class=\"p\">:</span><span class=\"s2\">\"Holy Family Hospital\"</span><span class=\"p\">,</span><span class=\"nt\">\"telecom\"</span><span class=\"p\">:[{</span><span class=\"nt\">\"system\"</span><span class=\"p\">:</span><span class=\"s2\">\"phone\"</span><span class=\"p\">,</span><span class=\"nt\">\"value\"</span><span class=\"p\">:</span><span class=\"s2\">\"9786870156\"</span><span class=\"p\">}],</span><span class=\"nt\">\"address\"</span><span class=\"p\">:{</span><span class=\"nt\">\"line\"</span><span class=\"p\">:[</span><span class=\"s2\">\"70 EAST STREET\"</span><span class=\"p\">],</span><span class=\"nt\">\"city\"</span><span class=\"p\">:</span><span class=\"s2\">\"METHUEN\"</span><span class=\"p\">,</span><span class=\"nt\">\"state\"</span><span class=\"p\">:</span><span class=\"s2\">\"MA\"</span><span class=\"p\">,</span><span class=\"nt\">\"postalCode\"</span><span class=\"p\">:</span><span class=\"s2\">\"01844\"</span><span class=\"p\">,</span><span class=\"nt\">\"country\"</span><span class=\"p\">:</span><span class=\"s2\">\"US\"</span><span class=\"p\">},</span><span class=\"nt\">\"managingOrganization\"</span><span class=\"p\">:{</span><span class=\"nt\">\"reference\"</span><span class=\"p\">:</span><span class=\"s2\">\"http://example.org/fhir/Organization/holy-healthcare\"</span><span class=\"p\">,</span><span class=\"nt\">\"display\"</span><span class=\"p\">:</span><span class=\"s2\">\"Holy Healthcare\"</span><span class=\"p\">}}</span>\n</code></pre></div>\n<p>and  2) these dependencies to the IG resource:</p>\n<p>\"dependsOn\": [<br>\n    {<br>\n      \"packageId\": \"hl7.fhir.us.core\",<br>\n      \"version\": \"4.0.0\",<br>\n      \"uri\": \"<a href=\"http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core\">http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core</a>\",<br>\n      \"id\": \"hl7_fhir_us_core\"<br>\n    },<br>\n    {<br>\n      \"id\": \"vsac\",<br>\n      \"packageId\": \"us.nlm.vsac\",<br>\n      \"uri\": \"<a href=\"http://fhir.org/packages/us.nlm.vsac/ImplementationGuide/us.nlm.vsac\">http://fhir.org/packages/us.nlm.vsac/ImplementationGuide/us.nlm.vsac</a>\",<br>\n      \"version\": \"0.3.0\"<br>\n    }<br>\n  ],</p>",
        "id": 260837259,
        "sender_full_name": "Eric Haas",
        "timestamp": 1636481715
    },
    {
        "content": "<p>added a second example to verify and every link with <code> \"reference\": \"http://example.org/fhir/....</code> causes this error</p>",
        "id": 260838684,
        "sender_full_name": "Eric Haas",
        "timestamp": 1636482332
    },
    {
        "content": "<p>do you want to commit to a branch so I can test?</p>",
        "id": 260852560,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636488092
    },
    {
        "content": "<p>branch here: <a href=\"https://github.com/Healthedata1/Sushi-Sandbox/tree/20211109_test\">https://github.com/Healthedata1/Sushi-Sandbox/tree/20211109_test</a></p>\n<p>this is a strictly local testing build and input in <code>input</code> (you can ignore the yml) and <code>fsh-generated</code>  outputs to <code>docs</code> for gitpages and no webhook to CI build.   It uses sushi to create the menu and ig resource.</p>",
        "id": 260860563,
        "sender_full_name": "Eric Haas",
        "timestamp": 1636491698
    },
    {
        "content": "<p>I can't run that:</p>",
        "id": 260887911,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636507512
    },
    {
        "content": "<p>Sushi: error Unable to determine path context for rule indented 1 space(s). Rules must be indented in multiples of 2 space(s). (00:00.0677)</p>",
        "id": 260887913,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636507513
    },
    {
        "content": "<p>Sushi: File: C:\\work\\org.hl7.fhir.igs\\Sushi-Sandbox\\input\\fsh\\my-profiles.fsh    (00:00.0678)<br>\nSushi: Line: 38                                                                  (00:00.0678)</p>",
        "id": 260887929,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636507532
    },
    {
        "content": "<p>ok it runs without sushi now</p>",
        "id": 260890617,
        "sender_full_name": "Eric Haas",
        "timestamp": 1636509957
    },
    {
        "content": "<p>Publishing Content Failed: Error loading template /Users/ehaas/Documents/FHIR/ig-template-base: Unable to load template from /Users/ehaas/Documents/FHIR/ig-template-base cannot find template. Use a github URL, a local directory, or #[folder] for a contained template (00:00.0775)</p>",
        "id": 260941917,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636515470
    },
    {
        "content": "<p>ok sorry ... updated </p>\n<p>template = fhir.base.template#current</p>",
        "id": 260952513,
        "sender_full_name": "Eric Haas",
        "timestamp": 1636527763
    },
    {
        "content": "<p>fixed next release</p>",
        "id": 261058942,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636580522
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> After the fix, we are still getting this QA message for an example instance in our IG (which has a vsac dependency):<br>\n<a href=\"/user_uploads/10155/shkI7HwWv_z3Rqn-CjW98BdH/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/shkI7HwWv_z3Rqn-CjW98BdH/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/shkI7HwWv_z3Rqn-CjW98BdH/image.png\"></a></div><p>Component[0] and Component [1] in the example (below) meet the criteria. I think the issue is access to vsac to validate the code:</p>\n<p>\"component\": [<br>\n    {<br>\n      \"code\": {<br>\n        \"coding\": [<br>\n          {<br>\n            \"system\": \"<a href=\"http://loinc.org\">http://loinc.org</a>\",<br>\n            \"code\": \"72826-1\",<br>\n            \"display\": \"Race OMB.1997\"<br>\n          }<br>\n        ]<br>\n      },<br>\n      \"valueCodeableConcept\": {<br>\n        \"coding\": [<br>\n          {<br>\n            \"system\": \"urn:oid:2.16.840.1.113883.6.238\",<br>\n            \"code\": \"1002-5\",<br>\n            \"display\": \"American Indian or Alaska Native\"<br>\n          }<br>\n        ]<br>\n      }<br>\n    },<br>\n      {<br>\n      \"code\": {<br>\n        \"coding\": [<br>\n          {<br>\n            \"system\": \"<a href=\"http://loinc.org\">http://loinc.org</a>\",<br>\n            \"code\": \"72826-1\",<br>\n            \"display\": \"Race OMB.1997\"<br>\n          }<br>\n        ]<br>\n      },<br>\n      \"valueCodeableConcept\": {<br>\n        \"coding\": [<br>\n          {<br>\n            \"system\": \"urn:oid:2.16.840.1.113883.6.238\",<br>\n            \"code\": \"2106-3\",<br>\n            \"display\": \"White\"<br>\n          }<br>\n        ]<br>\n      }<br>\n    },</p>",
        "id": 261561084,
        "sender_full_name": "Monique van Berkum",
        "timestamp": 1637011339
    },
    {
        "content": "<p>I don't believe that's related to the fix</p>",
        "id": 261561214,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637011409
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> It was present before the fix, but we hoped it would resolve after the fix. Was that an incorrect assumption.</p>",
        "id": 261562116,
        "sender_full_name": "Monique van Berkum",
        "timestamp": 1637011868
    },
    {
        "content": "<p>Do you prefer that I suppress the message or leave it as a reminder that this needs fixing?</p>",
        "id": 261566779,
        "sender_full_name": "Monique van Berkum",
        "timestamp": 1637014085
    },
    {
        "content": "<p>I don't need a reminder generally - fixing vsac is definitely on my todo list</p>",
        "id": 261567794,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637014550
    },
    {
        "content": "<p>so it's up to you</p>",
        "id": 261567801,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637014555
    }
]