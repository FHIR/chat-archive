[
    {
        "content": "<p>We (<span class=\"user-mention\" data-user-id=\"197497\">@Adam Stevenson</span> , <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> ) are getting the following error: <code>Library.relatedArtifact:sliceComputableLibrary: minimum required = 1, but only found 0 (from http://hl7.org/fhir/us/ecr/StructureDefinition/us-ph-supplemental-library)</code></p>\n<p>This is the profile: <a href=\"http://build.fhir.org/ig/HL7/case-reporting/branches/master/StructureDefinition-us-ph-supplemental-library.html\">http://build.fhir.org/ig/HL7/case-reporting/branches/master/StructureDefinition-us-ph-supplemental-library.html</a>). (Git: <a href=\"https://github.com/HL7/case-reporting/blob/master/input/resources/structuredefinition/us-ph-supplemental-library.xml\">https://github.com/HL7/case-reporting/blob/master/input/resources/structuredefinition/us-ph-supplemental-library.xml</a>)</p>\n<p>The example in question definitely contains all 3 required slices: <a href=\"https://github.com/HL7/case-reporting/blob/master/input/resources/library/library-us-ph-supplemental-library-example.xml\">https://github.com/HL7/case-reporting/blob/master/input/resources/library/library-us-ph-supplemental-library-example.xml</a>:</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;relatedArtifact&gt;\n        &lt;type value=&quot;composed-of&quot;/&gt;\n        &lt;resource value=&quot;http://aphl.org/fhir/ecr/Library/RuleFilters&quot;/&gt;\n    &lt;/relatedArtifact&gt;\n    &lt;relatedArtifact&gt;\n        &lt;type value=&quot;composed-of&quot;/&gt;\n        &lt;resource value=&quot;http://hl7.org/fhir/us/ecr/Library/library-us-ph-supplemental-valueset-library-example&quot;/&gt;\n    &lt;/relatedArtifact&gt;\n    &lt;relatedArtifact&gt;\n        &lt;type value=&quot;composed-of&quot;/&gt;\n        &lt;resource value=&quot;http://hl7.org/fhir/us/ecr/ValueSet/valueset-us-ph-supplemental-valueset-example&quot;/&gt;\n    &lt;/relatedArtifact&gt;\n</code></pre></div>\n<p>I can't see anything wrong with the slicing in the profile or with the example...</p>",
        "id": 261748780,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1637131460
    },
    {
        "content": "<p><del>Might be a targetProfile vs profile issue... Testing now.</del> Wasn't that!</p>",
        "id": 261749042,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1637131862
    },
    {
        "content": "<p>Can a Library satisfy both slices relatedArtifact:sliceComputableLibrary and relatedArtifact:sliceSupplementalValueSetLibrary ? That might cause a problem. But I'd expect it to be a different error.</p>",
        "id": 261749565,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1637132455
    },
    {
        "content": "<p>Possibly (will check) but yeah, would expect to get my favourite \"multiple matching slices\" error if that were the case...</p>",
        "id": 261749698,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1637132630
    },
    {
        "content": "<p>And no, I don't think a Library could match both.</p>",
        "id": 261749826,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1637132763
    },
    {
        "content": "<p>Actually - I think it might be because of the error we are getting on RuleFilters.xml: \"Canonical URL '<a href=\"http://hl7.org/fhir/Library/FHIRHelpers|4.0.1\">http://hl7.org/fhir/Library/FHIRHelpers|4.0.1</a>' does not resolve\" and FHIRHelpers.xml: \"Canonical URL '<a href=\"http://hl7.org/fhir/Library/FHIR-ModelInfo|4.0.1\">http://hl7.org/fhir/Library/FHIR-ModelInfo|4.0.1</a>' does not resolve\"<br>\nWe have a known issue for that on the front page of the IG: <a href=\"https://jira.hl7.org/browse/FHIR-30477\">https://jira.hl7.org/browse/FHIR-30477</a></p>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> would you be able to confirm this is indeed the issue - we are coming to FMG tomorrow for publication approval and will need an exemption for this error, if the above is indeed the cause.</p>",
        "id": 261750242,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1637133279
    },
    {
        "content": "<p>If it can't find the profile, then it can't test if the instance is valid against the profile</p>",
        "id": 261807453,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1637165813
    },
    {
        "content": "<p>Looks like the error I mentioned about the FHIRHelpers has been resolved, so I guess that is not the issue...</p>",
        "id": 261855706,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1637186130
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197497\">@Adam Stevenson</span> fixed the issue! I'll let <span class=\"user-mention\" data-user-id=\"193599\">@Lynn Laakso</span> and <span class=\"user-mention\" data-user-id=\"191759\">@Melva Peters</span> know when I send them the final IG (i.e. when I've done the Jira spec file...)</p>",
        "id": 261869906,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1637194585
    },
    {
        "content": "<p>what was the fix?</p>",
        "id": 261870627,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637195203
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"197497\">@Adam Stevenson</span> can probably explain...<br>\nHis commit messages are: </p>\n<ul>\n<li>Removed FHIRHelpers and FHIR-ModelInfo Libraries and 'known issues' header</li>\n<li>Fixed triggering-valueset profile slicing; update chlamydia example valueset</li>\n<li>Fixed RuleFilters Library url to resolve slicing error</li>\n</ul>\n<p>I haven't had a chance to look at the changes properly yet.</p>",
        "id": 261871802,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1637196073
    },
    {
        "content": "<p>The solution for the library example's relatedArtifact not satisfying the slice was to change the referenced Library's url base to match the IG's canonical base.</p>",
        "id": 261874283,
        "sender_full_name": "Adam Stevenson",
        "timestamp": 1637198017
    }
]