[
    {
        "content": "<p>So I want to use a Range item as a pattern as follows:<br>\n    {<br>\n        \"id\": \"Observation.component:observedCount.value[x]:observedCount/range\",<br>\n        \"path\": \"Observation.component.value[x]\",<br>\n        \"sliceName\": \"observedCount/range\",<br>\n        ...<br>\n        \"patternRange\": {<br>\n          \"low\": {<br>\n            \"system\": \"<a href=\"http://unitsofmeasure.org\" target=\"_blank\" title=\"http://unitsofmeasure.org\">http://unitsofmeasure.org</a>\",<br>\n            \"code\": \"tot\"<br>\n          },<br>\n          \"high\": {<br>\n            \"system\": \"<a href=\"http://unitsofmeasure.org\" target=\"_blank\" title=\"http://unitsofmeasure.org\">http://unitsofmeasure.org</a>\",<br>\n            \"code\": \"tot\"<br>\n          }<br>\n        },<br>\n        ...<br>\n    }</p>\n<p>I intentionally do not set values for the high and low range, because I am only intending to constrain the system and code values.</p>\n<p>When I run the IG publisher, I get the following (non fatal) errors.</p>\n<p>StructureDefinition/AbnormalityCyst: StructureDefinition.snapshot.element[75].pattern.ofType(Range) error   <br>\nrng-2: If present, low SHALL have a lower value than high [low.empty() or high.empty() or (low &lt;= high)]<br>\nStructureDefinition/AbnormalityCyst: StructureDefinition.snapshot.element[113].pattern.ofType(Range)    <br>\nerror   rng-2: If present, low SHALL have a lower value than high [low.empty() or high.empty() or (low &lt;= high)]</p>\n<p>Obviously the rule is that the low value should be greater than the high value and since neither are set that is not true,<br>\nthough it is also not false (kinda a quantum mechanics kind of thing :-)).</p>\n<p>Should the rule be changed to ignore unset values in patterns?</p>\n<p>The same problem occurs with Quantity.</p>",
        "id": 185623991,
        "sender_full_name": "Kurt Allen",
        "timestamp": 1579026338
    },
    {
        "content": "<p>There could be situations where the low or high value are expressed with an extension (e.g. because it's a formula rather than a fixed value), so this would be a problem there too.  I'd be in favor of revising the invariant to say low.value.empty() or high.value.empty() instead, which would address this issue.</p>",
        "id": 185624430,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1579026599
    }
]