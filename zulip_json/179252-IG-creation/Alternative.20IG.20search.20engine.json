[
    {
        "content": "<p>Hi. In the past I experimented with a built-in search engine in the IGs. This would allow offline searching and not rely on Google (which has its downsides because we woudn't be feeding the algorithm that often). <br>\nThe idea would be to have a search box in every IG page and when we search, we'd have a results page like this:<br>\n<a href=\"/user_uploads/10155/no5ZuGBIrZ_r_qfZIdOV2ZzT/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/no5ZuGBIrZ_r_qfZIdOV2ZzT/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/no5ZuGBIrZ_r_qfZIdOV2ZzT/image.png\"></a></div>",
        "id": 238157999,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620659335
    },
    {
        "content": "<p>Thoughts?</p>",
        "id": 238158054,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620659358
    },
    {
        "content": "<p>seems like super hard work to me. Search is hard to do well</p>",
        "id": 238204102,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620677421
    },
    {
        "content": "<p>ok, so before that:</p>",
        "id": 238302597,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620738155
    },
    {
        "content": "<p>currently we have the searchform that allows us to do a DDG / Google search.</p>",
        "id": 238302659,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620738182
    },
    {
        "content": "<p>I'm thinking that we could toggle that feature on/off. If we have in our template config something like </p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"nn\">---</span>\n<span class=\"nt\">search</span><span class=\"p\">:</span>\n  <span class=\"nt\">engine</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">ddg</span>\n  <span class=\"nt\">enabled</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">true</span>\n</code></pre></div>\n<p>then the ig authors can choose (if the template allows them to choose of course)</p>",
        "id": 238302958,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620738281
    },
    {
        "content": "<p>which means that in the future someone may implement a <code>engine: internal</code> option (which I think would be possible with a bit of JS knowledge and a bit of time).</p>",
        "id": 238303531,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620738510
    },
    {
        "content": "<p>maybe, but that part is not done when the IG is generated - it's done by the publication tooling, and the search template deals with that</p>",
        "id": 238465757,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620822954
    },
    {
        "content": "<p>My experiment stumbled upon saving the index to the file system (which is not something you want to do on the build server...)</p>",
        "id": 238477995,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620827936
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> if you're interested in implementing search with JS, look at <a href=\"https://fusejs.io\">https://fusejs.io</a> -- allows you to construct a JSON object, and then do realtime fuzzy searching through it locally in the browser</p>",
        "id": 238741113,
        "sender_full_name": "Max Masnick",
        "timestamp": 1620984902
    }
]