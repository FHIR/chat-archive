[
    {
        "content": "<p>We got schematron build errors in our IG. We discussed with Lloyd that this should be the template issue.<br>\nThe link 'StructureDefinition-SDOHCC-Observation-FoodInsecurity-1.sch' for \"Schematron\" cannot be resolved<br>\nPlease help. Thank you. <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 195200412,
        "sender_full_name": "Cheng Liu",
        "timestamp": 1587740437
    },
    {
        "content": "<p>On my list to chase</p>",
        "id": 195220133,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1587749216
    },
    {
        "content": "<p>Has this issue been addressed? I think I'm seeing the same problem with my IG.</p>",
        "id": 207493778,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1597906369
    },
    {
        "content": "<p>whst is the issue that you're having, <span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span> ?</p>",
        "id": 207508202,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597919244
    },
    {
        "content": "<p>your IG builds ok and has the links to the schematrons for profiles</p>",
        "id": 207508219,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597919267
    },
    {
        "content": "<p>I just checked in the latest (<a href=\"#narrow/stream/179297-committers.2Fnotification/topic/ig-build/near/207534718\">https://chat.fhir.org/#narrow/stream/179297-committers.2Fnotification/topic/ig-build/near/207534718</a>). The report I was getting looks similar to the automated build report.</p>",
        "id": 207535249,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1597937113
    },
    {
        "content": "<p>so looking at this, you shouldn't use fhir.base.template as your template - it's abstract. You need to make a new template that inherits from that and does a few things. I don't know if <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> or <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> has documentation about this</p>",
        "id": 207602108,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597988603
    },
    {
        "content": "<p>documentation about making a new template?</p>",
        "id": 207602252,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597988810
    },
    {
        "content": "<p>or is there an issue that logical models don't have schematrons but should have?</p>",
        "id": 207602257,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597988837
    },
    {
        "content": "<p>for making a template, old documentation was started here:<br>\n<a href=\"http://build.fhir.org/ig/FHIR/ig-guidance/template.html\">http://build.fhir.org/ig/FHIR/ig-guidance/template.html</a><br>\n(yep, we need to improve this a lot)</p>",
        "id": 207602311,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597988915
    },
    {
        "content": "<p>the IHE template does the basics - changing colors, adding logos, changing the footer a bit</p>",
        "id": 207602328,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597988969
    },
    {
        "content": "<p>Ah, thanks.</p>\n<p>Customizing the template is on my todo-list, but  I didn't expect to need to deal with that for a bit. I'll take a look at the documentation. It would be nice if there was a warning generated when you tried to use an abstract template.</p>",
        "id": 207602689,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1597989498
    },
    {
        "content": "<p>I agree that an abstract template should make a warning about that</p>",
        "id": 207603553,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597990964
    },
    {
        "content": "<p>umm, how do we know that fhir.base.template is abstract?  The documentation says \"Base IG template managed by HL7 but usable by anyone (no logos).\"  I don't see it saying that it is abstract anywhere.</p>",
        "id": 207603916,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597991609
    },
    {
        "content": "<p>i don't know what is an abstract template</p>",
        "id": 207603976,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597991660
    },
    {
        "content": "<p>Lloyd said so. Hassle him to make the documentation better</p>",
        "id": 207603980,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597991665
    },
    {
        "content": "<p>if needed we can put a big warning label</p>",
        "id": 207603983,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597991670
    },
    {
        "content": "<p>or we can make it a warning in the build process.</p>",
        "id": 207603990,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597991692
    },
    {
        "content": "<p>so there is no template that IG authors who are not creating HL7 guides can use then</p>",
        "id": 207603997,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597991707
    },
    {
        "content": "<p>I can add a message in the console like \"Warning: you are using the base template which is abstract...\"</p>",
        "id": 207604005,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597991735
    },
    {
        "content": "<p>(but do people look at warnings in the console?)</p>",
        "id": 207604012,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597991749
    },
    {
        "content": "<p>organizations can make their own that derive from the base fhir template. I don't know how Lloyd designed it to work for some random person who doesn't have an organizational affiliation</p>",
        "id": 207604056,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597991789
    },
    {
        "content": "<p>I think the local template is the (only) answer for that, right?</p>",
        "id": 207604071,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597991839
    },
    {
        "content": "<p>We can make the base template say in each page \"if you can see this, you must change the template\".</p>",
        "id": 207604076,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597991854
    },
    {
        "content": "<p>I think we want a better answer than a local template</p>",
        "id": 207604122,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597991891
    },
    {
        "content": "<p>okay, back to the error - I just switched the template to use hl7.fhir.template and I still get the same schematron error</p>",
        "id": 207604223,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597992037
    },
    {
        "content": "<p>it seems that a schematron file is not created for logical models, no matter what the template is</p>",
        "id": 207604230,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597992060
    },
    {
        "content": "<p>Yes, i can confirm that any of the three available templates produce the same error:<br>\nThe link 'StructureDefinition-LabelerLogicalModel.sch' for \"Schematron\" cannot be resolved</p>",
        "id": 207604337,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597992186
    },
    {
        "content": "<p>yes. should a logical model generate a schematron?</p>",
        "id": 207604431,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597992266
    },
    {
        "content": "<p>There was an earlier conversation about this where Grahame implied that some logical models could have instances and thus should have schematron:  <a href=\"#narrow/stream/179252-IG-creation/topic/Logical.20Model.20page.20layout\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Logical.20Model.20page.20layout</a></p>",
        "id": 207604521,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597992395
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Schematron.20build.20error/near/207603997\">said</a>:</p>\n<blockquote>\n<p>so there is no template that IG authors who are not creating HL7 guides can use then</p>\n</blockquote>\n<p>I'm noticing this about several aspects of IG authoring. Many things are based on the assumption that you are writing an HL7 IG.</p>",
        "id": 207604690,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1597992605
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Schematron.20build.20error/near/207604690\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Schematron.20build.20error/near/207603997\">said</a>:</p>\n<blockquote>\n<p>so there is no template that IG authors who are not creating HL7 guides can use then</p>\n</blockquote>\n<p>I'm noticing this about several aspects of IG authoring. Many things are based on the assumption that you are writing an HL7 IG.</p>\n</blockquote>\n<p>Well, I'm not entirely sure I believe Grahame's assertion.  I have used the fhir.base.template for a number of my IGuides and had zero problems.  And the issue that we have having - logical models not generating schematrons - doesn't seem to have anything to do with the template.</p>",
        "id": 207604715,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597992684
    },
    {
        "content": "<p>all templates have the same issue</p>",
        "id": 207604794,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597992766
    },
    {
        "content": "<p>(unless one of the templates adds the feature, which you just tested, i think)</p>",
        "id": 207604808,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597992799
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Schematron.20build.20error/near/207604521\">said</a>:</p>\n<blockquote>\n<p>There was an earlier conversation about this where Grahame implied that some logical models could have instances and thus should have schematron:  <a href=\"#narrow/stream/179252-IG-creation/topic/Logical.20Model.20page.20layout\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Logical.20Model.20page.20layout</a></p>\n</blockquote>\n<p>Yes, i'm interested in instances. But did we have a conclusion on what an instance would look like?</p>",
        "id": 207604874,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597992891
    },
    {
        "content": "<p>I can chase why the LMs don't produce schematrons, but I want to make sure it is supported.</p>",
        "id": 207604912,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597992956
    },
    {
        "content": "<p>Grahame was pointing out the use of the base template, but I don't think that remark was related to the schematron issue</p>",
        "id": 207604968,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597992991
    },
    {
        "content": "<p>My interpretation was Grahame's comment was related to the schematron issue. I was also unaware of the concept of abstract templates. <br>\nBut regardless of whether the schematron issue is related to use of a particular template, my position still stands: too much about IG creation makes the assumption that  you are writing an HL7 IG. In an attempt to create a non-abstract template, I just started looking at what I needed to do, and ran smack into several steps requiring the FHIR Product Director's blessing, which should only be necessary if I want to publish my template through HL7.<br>\nIt is also on my to-do list to figure out how to do an IG auto-build that goes somewhere other than <a href=\"http://build.fhir.org\">build.fhir.org</a>.</p>",
        "id": 207605481,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1597993637
    },
    {
        "content": "<p>I don't think that assumption is there. IHE for example makes use of the base template.</p>",
        "id": 207605926,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597994176
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Schematron.20build.20error/near/207605481\">said</a>:</p>\n<blockquote>\n<p>I just started looking at what I needed to do, and ran smack into several steps requiring the FHIR Product Director's blessing, which should only be necessary if I want to publish my template through HL7.</p>\n</blockquote>\n<p>you mean publish your template thtough HL7? Or publish your IG through HL7?</p>",
        "id": 207605966,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597994241
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Schematron.20build.20error/near/207605481\">said</a>:</p>\n<blockquote>\n<p>It is also on my to-do list to figure out how to do an IG auto-build that goes somewhere other than <a href=\"http://build.fhir.org\">build.fhir.org</a>.</p>\n</blockquote>\n<p>I also expressed that wish, but note that an ig build is not a publication build. For example if we want to publish on <a href=\"http://ihe.net\">ihe.net</a>, this is not the same as having the ci build publishing to <a href=\"http://ihe.net\">ihe.net</a>. There are a few steps in between</p>",
        "id": 207606038,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597994332
    },
    {
        "content": "<p>For what you quote, I meant publish the template through HL7. However, in the end, I'm interested in publishing the IG outside the HL7 ecosystem.</p>",
        "id": 207606059,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1597994371
    },
    {
        "content": "<p>you can publish it where ever you want.</p>",
        "id": 207606184,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597994488
    },
    {
        "content": "<blockquote>\n<p>In an attempt to create a non-abstract template, I just started looking at what I needed to do, and ran smack into several steps requiring the FHIR Product Director's blessing</p>\n</blockquote>\n<p>you only need my involvement for a template if you want active content. And that's for security reasons. </p>\n<p>You also need to talk to me about package names - that's to ensure uniqueness. </p>\n<p>I'm not aware of any other reason, or any other restrictions</p>",
        "id": 207606269,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597994566
    },
    {
        "content": "<p>Package names, and becoming a trusted source are the two I saw.</p>",
        "id": 207606363,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1597994709
    },
    {
        "content": "<p>right, those 2 things.</p>",
        "id": 207606423,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597994770
    },
    {
        "content": "<p>people are also free to maintain their own ci-build infrastructure too</p>",
        "id": 207606441,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597994787
    },
    {
        "content": "<p>but I wouldn't. <a href=\"http://build.fhir.org\">build.fhir.org</a> is not publishing.  Lots of IGs are published on non <a href=\"http://hl7.org\">hl7.org</a> websites</p>",
        "id": 207606471,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597994839
    },
    {
        "content": "<p>back to the schematron issue - I will have to investigate generating schematrons for logical models, but man there's challenges there</p>",
        "id": 207606488,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597994873
    },
    {
        "content": "<p>OK, argree <a href=\"http://build.fhir.org\">build.fhir.org</a> isn't publishing. But does HL7 have any issue hosting the build infrastructure for non-HL7 IGs?</p>",
        "id": 207606546,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1597994925
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Schematron.20build.20error/near/207606488\">said</a>:</p>\n<blockquote>\n<p>back to the schematron issue - I will have to investigate generating schematrons for logical models, but man there's challenges there</p>\n</blockquote>\n<p>I agree and I don't think that we have a use case for a schematron from a logical model.  The easier solution might be to remove the schematron link from the base template.</p>",
        "id": 207606574,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1597994981
    },
    {
        "content": "<p>what about data types and extensions?</p>",
        "id": 207607726,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597996053
    },
    {
        "content": "<p>do they get schematrons?</p>",
        "id": 207607729,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597996061
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Schematron.20build.20error/near/207606546\">said</a>:</p>\n<blockquote>\n<p>OK, argree <a href=\"http://build.fhir.org\">build.fhir.org</a> isn't publishing. But does HL7 have any issue hosting the build infrastructure for non-HL7 IGs?</p>\n</blockquote>\n<p>No, it's hosting many other non-hl7 igs</p>",
        "id": 207607790,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597996098
    },
    {
        "content": "<p>right. Deliberate policy to allow that</p>",
        "id": 207608534,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597996785
    },
    {
        "content": "<p>I'm happy if the template stops producing a link for a file that I don't k now how to produce ;-)</p>",
        "id": 207608587,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597996811
    },
    {
        "content": "<p>I'm already doing it. I just have the question: for extensions, do we keep schematron? and for data types?</p>",
        "id": 207608629,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597996862
    },
    {
        "content": "<p>I presume yes, but want to be sure</p>",
        "id": 207608640,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597996868
    },
    {
        "content": "<p>do we generate schematrons now?</p>",
        "id": 207608671,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1597996913
    },
    {
        "content": "<p>i never cared about them, but something was being generated</p>",
        "id": 207608746,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597996958
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/FHIR/sample-ig/StructureDefinition-myObservation.html\">http://build.fhir.org/ig/FHIR/sample-ig/StructureDefinition-myObservation.html</a></p>",
        "id": 207608791,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1597997013
    },
    {
        "content": "<p>fhir.base.template is <em>not</em> abstract.  It <em>can</em> be used directly by any non-HL7 IGs.  All HL7 IGs should use an appropriate specialized template.</p>",
        "id": 207790416,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1598215370
    },
    {
        "content": "<p>I thought that implementers need to use something else for colors and images?</p>",
        "id": 207791636,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1598217134
    },
    {
        "content": "<p>The base colors are not HL7 colors</p>",
        "id": 207792485,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1598218493
    },
    {
        "content": "<p>They're also not terribly pretty...</p>",
        "id": 207792489,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1598218504
    },
    {
        "content": "<p>(not suggesting that HL7's colors <em>are</em> pretty :) )</p>",
        "id": 207792494,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1598218518
    },
    {
        "content": "<p>I'm resurrecting this topic because I still have the errors in my guide:</p>\n<div class=\"codehilite\"><pre><span></span><code>The link &#39;StructureDefinition-EstablishmentRegistrationLogicalModel.sch&#39; for &quot;Schematron&quot; cannot be resolved\n</code></pre></div>\n<p>It seemed like there might have been a fix referenced earlier in this thread, but it doesn't seem to have been pushed out in the template?</p>",
        "id": 218871547,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1607105879
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> , thanks for brining this up -- I was wondering about it earlier today too.</p>",
        "id": 218874120,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1607107049
    },
    {
        "content": "<p>it's the last three errors in my iGuide, so I'd love to have them fixed. :)</p>",
        "id": 218874176,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1607107082
    },
    {
        "content": "<p>I don't understand why you're getting that in your IGs, but I'm not getting it in mine?</p>",
        "id": 218881061,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1607110517
    },
    {
        "content": "<p>Do you have logical models in your IGs?</p>",
        "id": 218885163,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1607112627
    },
    {
        "content": "<p>That would be why...</p>",
        "id": 218908874,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1607129186
    },
    {
        "content": "<p>New year and I thought I'd raise this topic again so that we can get a fix.  Can someone tell me what needs to be fixed and I can pitch in and do it?  I'm assuming that we don't want schematrons produced for logical models (doesn't seem to make sense for how they appear to be used), so can we get the logical model HTML to not have a link to them?</p>",
        "id": 221562897,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1609785680
    },
    {
        "content": "<p>I think I saw a PR for this</p>",
        "id": 221563236,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1609785840
    },
    {
        "content": "<p>wrong. I saw two :)</p>",
        "id": 221563332,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1609785883
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span> 'your PR  is more recent than mine, is it still working correctly? <br>\nMine has  also status tables which I don't remember if they were already added elsewhere</p>",
        "id": 221563883,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1609786166
    },
    {
        "content": "<p>I thought I had separate PR, but guess not. The first (december 7) commit is only the change needed to skip schematron for LMs. The second set of commits is to generate references to contained resources from containing resources and vice-versa.</p>",
        "id": 221564956,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1609786654
    },
    {
        "content": "<p>OK, cleaned up the PR so that it only has the skip schematron change. <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> , is there anything that needs to happen for this to go in?</p>",
        "id": 221569604,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1609788888
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/ig-template-base/pull/134\">https://github.com/HL7/ig-template-base/pull/134</a><br>\nseems ok to merge</p>",
        "id": 221573616,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1609790717
    },
    {
        "content": "<p>Merged</p>",
        "id": 221589619,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1609799118
    },
    {
        "content": "<p>Thank you.</p>",
        "id": 221589740,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1609799176
    },
    {
        "content": "<p>Sorry this took so long.</p>",
        "id": 221589929,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1609799281
    },
    {
        "content": "<p>No problem.</p>",
        "id": 221590716,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1609799735
    }
]