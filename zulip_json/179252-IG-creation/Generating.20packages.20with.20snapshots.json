[
    {
        "content": "<p>I have a situation where two projects are being developed in parallel. both having a CI build by auto-ig-publisher. One of the projects use the other as a package reference. As that project uses SUSHI it requires the package to contain snaphots, but the auto-ig-publisher does not seem support that. When I check the package in my local cache, it doesn't contain snapshots</p>\n<p>Is there a way to fix that? I would like to avoid publishing the referenced project as more than a CI build at the current stage.</p>",
        "id": 210982880,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1600856102
    },
    {
        "content": "<p>the packages generated by the IG publisher always contain snapshots, so I don't understand your question</p>",
        "id": 210983431,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600856416
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Generating.20packages.20with.20snapshots/near/210983431\">said</a>:</p>\n<blockquote>\n<p>the packages generated by the IG publisher always contain snapshots, so I don't understand your question</p>\n</blockquote>\n<p>Maybe the issue relates to the way I reference it in FHIR Shorthand? (if so I can bring the discussion to the shorthand stream)<br>\nWhen I do like this in config.yaml:<br>\ndependencies:<br>\n  hl7.fhir.myproject:<br>\n    uri: <a href=\"https://build.fhir.org/ig/tmh-mjolner/myproject/branches/some-branch\">https://build.fhir.org/ig/tmh-mjolner/myproject/branches/some-branch</a><br>\n    version: 0.1.0<br>\n... it generates a local cache of the package and it within that I can't find any snapshots. SUSHI complains with the following error: \"Structure Definition &lt;xxx&gt; is missing snapshot. Snapshot is required for import.\"</p>\n<p>Shouldn't that be possible?</p>",
        "id": 210987507,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1600859648
    },
    {
        "content": "<blockquote>\n<p>it generates</p>\n</blockquote>\n<p>What generates?</p>",
        "id": 210987814,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600859930
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Generating.20packages.20with.20snapshots/near/210987814\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>it generates</p>\n</blockquote>\n<p>What generates?</p>\n</blockquote>\n<p>Well generates is probably not the right word, sorry.<br>\nIt happens when running sushi. I says<br>\n...<br>\n-Downloading package hl7.fhir.myproject#0.1.0<br>\n-Loaded package hl7.fhir.myproject#0.1.0<br>\n...</p>\n<p>the download part creates a local package folder cache in my user folder</p>\n<p>A bit further down the output from sushi it complains about the missing snapshot</p>",
        "id": 210989567,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1600861171
    },
    {
        "content": "<p>I don't know what hl7.fhir.myproject is, but you shouldn't be using it anywa y</p>",
        "id": 210989914,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600861391
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Generating.20packages.20with.20snapshots/near/210989914\">said</a>:</p>\n<blockquote>\n<p>I don't know what hl7.fhir.myproject is, but you shouldn't be using it anywa y</p>\n</blockquote>\n<p>That's  not the real name - it's the other project that is being developed in parallel</p>",
        "id": 210990100,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1600861488
    },
    {
        "content": "<p>well, I can't see any evidence that it's ever been built on the ci-build, or that it's in a package server</p>",
        "id": 210990287,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600861621
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Generating.20packages.20with.20snapshots/near/210990287\">said</a>:</p>\n<blockquote>\n<p>well, I can't see any evidence that it's ever been built on the ci-build, or that it's in a package server</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"240678\">Torben M. Hagensen</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Generating.20packages.20with.20snapshots/near/210990100\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Generating.20packages.20with.20snapshots/near/210989914\">said</a>:</p>\n<blockquote>\n<p>I don't know what hl7.fhir.myproject is, but you shouldn't be using it anywa y</p>\n</blockquote>\n<p>That's  not the real name - it's the other project that is being developed in parallel</p>\n</blockquote>\n<p>I basically just want to be able to develop on two projects in parallel and have the one use the CI build of the other as package<br>\n2 seconds - I'll give you the real names</p>",
        "id": 210990421,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1600861712
    },
    {
        "content": "<p>if that's not it's real name, give me the real name on the ci-build and I can have a look</p>",
        "id": 210990422,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600861713
    },
    {
        "content": "<blockquote>\n<p>I basically just want to be able to develop on two projects in parallel and have the one use the CI build of the other as package</p>\n</blockquote>\n<p>You can but you have to use the special version <code>current</code> in your dependency which means to get whatever the CI build last built</p>",
        "id": 210990490,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600861784
    },
    {
        "content": "<p>Referenced project: <a href=\"https://build.fhir.org/ig/hl7dk/dk-core/\">https://build.fhir.org/ig/hl7dk/dk-core/</a><br>\nReferring project: <a href=\"https://build.fhir.org/ig/hl7dk/dk-medcom/branches/new-care-communication-profile\">https://build.fhir.org/ig/hl7dk/dk-medcom/branches/new-care-communication-profile</a> (currently fails)</p>",
        "id": 210990626,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1600861895
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Generating.20packages.20with.20snapshots/near/210990490\">said</a>:</p>\n<blockquote>\n<blockquote>\n<p>I basically just want to be able to develop on two projects in parallel and have the one use the CI build of the other as package</p>\n</blockquote>\n<p>You can but you have to use the special version <code>current</code> in your dependency which means to get whatever the CI build last built</p>\n</blockquote>\n<p>Didn't seem to work in FHIR Shorthand (maybe I did it wrong)</p>",
        "id": 210990757,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1600861982
    },
    {
        "content": "<p>the profiles in <a href=\"https://build.fhir.org/ig/hl7dk/dk-core/package.tgz\">https://build.fhir.org/ig/hl7dk/dk-core/package.tgz</a> have snapshots, as they should.</p>",
        "id": 210990759,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600861983
    },
    {
        "content": "<p>so the question appears to be something to do with sushi</p>",
        "id": 210990768,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600861995
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Generating.20packages.20with.20snapshots/near/210990759\">said</a>:</p>\n<blockquote>\n<p>the profiles in <a href=\"https://build.fhir.org/ig/hl7dk/dk-core/package.tgz\">https://build.fhir.org/ig/hl7dk/dk-core/package.tgz</a> have snapshots, as they should.</p>\n</blockquote>\n<p>Yes, I have also seen that, but the download mad by sushi does not seem to?</p>",
        "id": 210990870,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1600862064
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Generating.20packages.20with.20snapshots/near/210990768\">said</a>:</p>\n<blockquote>\n<p>so the question appears to be something to do with sushi</p>\n</blockquote>\n<p>I will ask on the shorthand stream - hope some sushi shark can help</p>\n<p>Thanks a lot for the help. Now it has some weight stating that it must be a sushi issue ;-)</p>",
        "id": 210991228,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1600862355
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"240678\">Torben M. Hagensen</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Generating.20packages.20with.20snapshots/near/210991228\">said</a>:</p>\n<blockquote>\n<p>Thanks a lot for the help. Now it has some weight stating that it must be a sushi issue ;-)</p>\n</blockquote>\n<p>Just want to let you known that the problem is solved.<br>\nI was not using sushi correctly. Declaring the dependency correctly as this:<br>\n  hl7.fhir.dk-core: current<br>\nin config.yaml solved the problem</p>\n<p>Thanks again for the help</p>",
        "id": 211095729,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1600931180
    }
]