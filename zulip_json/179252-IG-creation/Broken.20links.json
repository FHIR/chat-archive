[
    {
        "content": "<p>In SDC, I'm still getting a bunch of broken link messages based on narrative references that definitely resolve and look totally correct as far as I can tell.  For example:<br>\n<code>The link 'http://hl7.org/fhir/R4/QuestionnaireResponse.html' for \"QuestionnaireResponse\" cannot be resolved</code></p>\n<p>I'm also seeing this (for no good reason I can figure out):<br>\n<code>The link 'StructureDefinition-sdc-questionnaire-search.html/StructureDefinition-sdc-questionnaire-subQuestionnaire.html' for \"sub-questionnaire\" cannot be resolved</code></p>\n<p>Finally, I'm having extra pages being created for contained value sets and other resources where there are no XML/JSON/TTL pages being generated for them - and I'm not sure why...</p>",
        "id": 261438603,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636924395
    },
    {
        "content": "<blockquote>\n<p>The link '<a href=\"http://hl7.org/fhir/R4/QuestionnaireResponse.html\">http://hl7.org/fhir/R4/QuestionnaireResponse.html</a>' for \"QuestionnaireResponse\" cannot be resolved</p>\n</blockquote>\n<p>that's a case error</p>",
        "id": 261447391,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636936976
    },
    {
        "content": "<p>and you generated it or something</p>",
        "id": 261447475,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636937110
    },
    {
        "content": "<p>the other two issues are template problems - to do with contained resources</p>",
        "id": 261448198,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636938135
    },
    {
        "content": "<p>they get their own page, so they get a typed page, but there's no source to reference</p>",
        "id": 261448202,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636938147
    },
    {
        "content": "<p>I don't think it's a template problem - or at least not anything the templates can do anything about...  There's no entries for these pages in artifacts.json or pages.json or anything else that the templates could use to figure out \"what kind of template should apply here?\".  They also don't get included in the ToC, get breadcrumbs, get section numbers or anything else.</p>",
        "id": 261451469,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636943651
    },
    {
        "content": "<p>The templates drive off the metadata in the JSON files.  What entry should be in the config.json to indicate the template to use for these 'contained' resources?  Also, why <em>wouldn't</em> we break out the XML/JSON/TTL for them?  Just seeing the narrative isn't that helpful.  What a lot of people are going to want to do is go see the raw structure.  Ideally in the template we'd have a link that said \"contained content extracted from xxx\" with a hyperlink to the base resource.  However, to make that work, we need to know it's contained and have the relevant metadata available in a data file.</p>",
        "id": 261451738,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636944134
    },
    {
        "content": "<p>On the first part, I folded to lower-case - still including the .html.  I now get this:<br>\n<code>The link 'http://hl7.org/fhir/R4/questionnaireresponse' for \"QuestionnaireResponse\" cannot be resolved</code></p>",
        "id": 261452626,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636945488
    },
    {
        "content": "<p>Which is particularly weird given that the narrative in the CapabilityStatement says <code>http://hl7.org/fhir/R4/questionnaireresponse.html</code></p>",
        "id": 261452640,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636945521
    },
    {
        "content": "<p>well, you could try actually adding the .html bit</p>",
        "id": 261453522,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636946928
    },
    {
        "content": "<p>the template can produce pages for these - and used to.</p>",
        "id": 261453527,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636946945
    },
    {
        "content": "<p>when I added the code generation for that.</p>",
        "id": 261453531,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636946956
    },
    {
        "content": "<p>and if you want to link to source, link to the source in the xml/json that actually contains it</p>",
        "id": 261453539,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636946974
    },
    {
        "content": "<p>I <em>did</em> add the .html bit.  It's there in the source.  It's not in the output page.  I don't know why...</p>",
        "id": 261454687,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636948697
    },
    {
        "content": "<p>in the resource source:</p>",
        "id": 261454701,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636948728
    },
    {
        "content": "<blockquote>\n<div class=\"codehilite\"><pre><span></span><code>    &lt;a href=&quot;{{site.data.fhir.path}}questionnaireresponse&quot;&gt;QuestionnaireResponse&lt;/a&gt;\n</code></pre></div>\n\n</blockquote>",
        "id": 261454702,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636948732
    },
    {
        "content": "<p>input\\resources\\capabilitystatement-sdc-form-archiver.xml</p>",
        "id": 261454704,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636948742
    },
    {
        "content": "<p>I haven't pushed the change that has the .html.  I will now.</p>",
        "id": 261454709,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636948754
    },
    {
        "content": "<p>Now pushed.</p>",
        "id": 261454917,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636948974
    },
    {
        "content": "<p>I'm happy for the template to produce pages for these.  But the publisher needs to create links for them in the pages.json file and there needs to be something in the config.json in the template that allows the template to set rules for what layout should be used for these 'contained' files.</p>\n<p>I disagree that pointing to the 'owning' resource is a terribly useful thing to do.  If I'm looking at a 'contained' resource that's one of 10+, the last thing I want to see when I click on the 'XML' or 'JSON' tab is to be jumped back to the root of the parent resource.  That's not helpful from a navigation process, nor does it allow them to see what they want to see.</p>",
        "id": 261455051,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636949160
    },
    {
        "content": "<p>well, I don't know how entries for resources get into pages.json. it looks to me like it's generated straight off the IG resource, though I see that the template can change that part of the resource</p>",
        "id": 261458299,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636953541
    },
    {
        "content": "<p>and I don't see anything different in config.json. I'm not sure how that can be, because it clearly needs something to manage the different source reference</p>",
        "id": 261458817,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636954304
    },
    {
        "content": "<blockquote>\n<p>is to be jumped back to the root of the parent resource</p>\n</blockquote>\n<p>Why would we do that when we could go straight to the contained resource  (container.xml.html#{{id}})?</p>",
        "id": 261458826,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636954320
    },
    {
        "content": "<blockquote>\n<p>Now pushed.</p>\n</blockquote>\n<p>Doesn't look any different to me</p>",
        "id": 261459063,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636954565
    },
    {
        "content": "<p>I think this is something I was poking at almost a year ago and finally gave up on trying to do a fix. See <a href=\"https://github.com/HL7/fhir-ig-publisher/issues/228\">https://github.com/HL7/fhir-ig-publisher/issues/228</a>.</p>",
        "id": 261461222,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1636956808
    },
    {
        "content": "<p>Ah.  Didn't know we had ids.  There's still the problem of jumping to a completely different 'resource' - so we couldn't use tabs.  And people would have to use the back arrow to navigate back to the narrative.  But I guess that's semi-manageable.</p>\n<p>Right now, pages is driven by the pages in the IG, which are in turn driven by the list of artifacts available in the IG after it sucks in resources.  How do I find out what the 'contained' resources are - and what they're going to be called so I can create the relevant pages for those?</p>",
        "id": 261462600,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636958587
    },
    {
        "content": "<p>As for the SDC references, I realized that we were looking at two different sets of links.  I've now addressed that problem.</p>",
        "id": 261462634,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636958629
    },
    {
        "content": "<p>you have to iterate them, and they'll be called whatever you define the pattern is, based on their id</p>",
        "id": 261464060,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636960180
    },
    {
        "content": "<p>It's not super-efficient for the templates to try to process every model.  Can we define an extension you can spit out in the IG on the resource entries that indicates the resource type, id and (if available) the title and description of each of the contained resources?  As well as adding them into the artifacts.json file?</p>",
        "id": 261507678,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1636988330
    },
    {
        "content": "<p>ok <code>http://hl7.org/fhir/tools/StructureDefinition/contained-resource-information</code></p>",
        "id": 261588616,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637028060
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code>      <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">\"http://hl7.org/fhir/tools/StructureDefinition/contained-resource-information\"</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">\"type\"</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;valueCode</span> <span class=\"na\">value=</span><span class=\"s\">\"ValueSet\"</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/extension&gt;</span>\n        <span class=\"nt\">&lt;extension</span> <span class=\"na\">url=</span><span class=\"s\">\"id\"</span><span class=\"nt\">&gt;</span>\n          <span class=\"nt\">&lt;valueId</span> <span class=\"na\">value=</span><span class=\"s\">\"LL2821-8\"</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/extension&gt;</span>\n      <span class=\"nt\">&lt;/extension&gt;</span>\n</code></pre></div>",
        "id": 261589685,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637029033
    },
    {
        "content": "<p>And title and description if they exist? :)</p>",
        "id": 261590159,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1637029551
    },
    {
        "content": "<p>ok</p>",
        "id": 261591850,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637031286
    },
    {
        "content": "<p>I am having a few broken links in the CapabilitySTatements</p>\n<p>IG: <a href=\"https://github.com/HL7/fhir-health-care-surveys-reporting-ig\">https://github.com/HL7/fhir-health-care-surveys-reporting-ig</a> </p>\n<p>Broken Links are being reported when I refer to external IGs and their resources. </p>\n<p>For e.g : {{site.data.fhir.ver.subscriptionsIg}}/OperationDefinition-backport-subscriptiontopic-list.html</p>\n<p>The same links work on Pages (*.md). Is there something special about Capability STatements where the above variables do not work. By the way, the variable {{site.data.fhir.path}} variable works.</p>",
        "id": 261702717,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1637094760
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Any thoughts on the broken links to External IGs in CapabilityStatements posted above ?</p>",
        "id": 261745636,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1637127324
    },
    {
        "content": "<p>still on my todo list</p>",
        "id": 261745647,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637127347
    },
    {
        "content": "<p><span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span></p>",
        "id": 261745752,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1637127475
    },
    {
        "content": "<p>I have no idea. It all looks like it should work to me, but it's a jekyll thing.</p>",
        "id": 261873674,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637197535
    },
    {
        "content": "<p>however... the replacement won't happen in the actual instances, that go in the package - so I recommend against trying to do this</p>",
        "id": 261873742,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637197568
    },
    {
        "content": "<p>I know it's duplicative, but you should just put the whole URL in the resource narrative</p>",
        "id": 261873755,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637197583
    }
]