[
    {
        "content": "<p>Hi (I posted this question on the shorthand stream and was advised to post it here)</p>\n<p>The webhook \"auto-ig-builder\" on my GitHub project fails with the following message (snippet from build.log) but works when I run _genonce locally.<br>\nDoes anyone have an idea what goes wrong? My profiles are fhirVersion: 4.0.1, but it seems to run som r5 code.</p>\n<p>...<br>\nonGenerate:<br>\nException in thread \"main\" java.lang.Error: Wrong node type<br>\nat org.hl7.fhir.utilities.xhtml.XhtmlNode.addComment(XhtmlNode.java:210)<br>\nat org.hl7.fhir.r5.renderers.DataRenderer.makeExceptionXhtml(DataRenderer.java:1028)<br>\nat org.hl7.fhir.r5.renderers.BundleRenderer.render(BundleRenderer.java:298)<br>\nat org.hl7.fhir.igtools.publisher.Publisher.getXhtml(Publisher.java:7532)<br>\nat org.hl7.fhir.igtools.publisher.Publisher.saveDirectResourceOutputs(Publisher.java:7023)<br>\nat org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:6485)<br>\nat org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:4790)<br>\nat org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:848)<br>\nat org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:694)<br>\nat org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8041)</p>",
        "id": 209393858,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1599575355
    },
    {
        "content": "<p>the IG publisher internally is all R5 code; this is nothing to do with the version that you're working with</p>",
        "id": 209442365,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599598118
    },
    {
        "content": "<p>this is a bug in the IGPublisher that I just fixed.</p>",
        "id": 209442537,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599598204
    },
    {
        "content": "<p>the cause of the difference to local is that you're probably running something earlier than 1.1.17 locally</p>",
        "id": 209442591,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599598236
    },
    {
        "content": "<p>the actual underlying issue is that something in one of your bundles is failing to render.</p>",
        "id": 209442768,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599598327
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Error.20from.20auto-ig-builder/near/209442768\">said</a>:</p>\n<blockquote>\n<p>the actual underlying issue is that something in one of your bundles is failing to render.</p>\n</blockquote>\n<p>Thanks, I will chase the issues in my bundles</p>",
        "id": 209475416,
        "sender_full_name": "Torben M. Hagensen",
        "timestamp": 1599632483
    },
    {
        "content": "<p>should be right now anyway</p>",
        "id": 209490003,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599644269
    },
    {
        "content": "<p>continuing on this matter: <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, I believe there's a conversion bug. The builder complains on the attribute 'copyright' on NamingSystem: se <a href=\"https://build.fhir.org/ig/hl7dk/dk-core/branches/master/failure/build.log\">https://build.fhir.org/ig/hl7dk/dk-core/branches/master/failure/build.log</a></p>",
        "id": 209542906,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1599672735
    },
    {
        "content": "<p>and AFAIK, NamingSystem is not a canonical resource in R4</p>",
        "id": 209543181,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1599672864
    },
    {
        "content": "<p>thanks. the problem is that NamingSystem doesn't implement Copyright in R5. Fixed next release</p>",
        "id": 209543674,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599673078
    },
    {
        "content": "<p>as expected - thx</p>",
        "id": 209544914,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1599673649
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> whats the ETA?</p>",
        "id": 209630773,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1599741009
    },
    {
        "content": "<p>probably immediately after the connectathon</p>",
        "id": 209670777,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1599754524
    },
    {
        "content": "<p>Has that time arrived yet <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 210032224,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1600102102
    },
    {
        "content": "<p>I'm chasing down a few bugs and then I'm releasing. Hopefully in the next 8-10 hours</p>",
        "id": 210032479,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600102258
    },
    {
        "content": "<p>okay - thx - crossing fingers</p>",
        "id": 210032598,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1600102325
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/I6hmMw1zW9JFp4TNdbLd7_r_/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/I6hmMw1zW9JFp4TNdbLd7_r_/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/I6hmMw1zW9JFp4TNdbLd7_r_/image.png\"></a></div>",
        "id": 210242261,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1600251119
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ahem ....</p>",
        "id": 210242308,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1600251129
    },
    {
        "content": "<p>my other IG that I work on that runs on DSTU3 is sort of complaining ...</p>",
        "id": 210242397,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1600251193
    },
    {
        "content": "<p>Running on <code>FHIR IG Publisher Version 1.1.23 (Git# e6f38af2bf3c). Built 2020-09-16T05:37:51.166Z (4 hours old)</code></p>",
        "id": 210242464,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1600251239
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> I'm having the same issue with NamingSystem since my upgrade from 1.1.20 to 1.1.23</p>",
        "id": 210248497,
        "sender_full_name": "Etienne Cantineau",
        "timestamp": 1600255812
    },
    {
        "content": "<p>damn that should not be happening with 1.1.23</p>",
        "id": 210250653,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600257455
    },
    {
        "content": "<p>well it did</p>",
        "id": 210250663,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1600257464
    },
    {
        "content": "<p>should be fixed in 1.1.24</p>",
        "id": 210329442,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1600296518
    },
    {
        "content": "<p>You might also wanna check eg. <a href=\"https://build.fhir.org/ig/hl7dk/dk-core/branches/master/build.log\">https://build.fhir.org/ig/hl7dk/dk-core/branches/master/build.log</a> - I can see there are other errors as well - on Implementation Guide</p>",
        "id": 210356284,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1600327959
    },
    {
        "content": "<p>that runs on R4</p>",
        "id": 210356296,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1600327975
    }
]