[
    {
        "content": "<p>Trying to build the IPS IG with Publisher 1.1.0, the build is hanging without any errors or warnings:</p>\n<div class=\"codehilite\"><pre><span></span><code>RHausamMacbookPro:fhir-ips rhausam$ ./_genonce.sh\nChecking internet connection...\nOnline\n\nFHIR IG Publisher Version 1.1.0 (Git# e654d867a231). Built 2020-07-01T02:23:14.763Z (12 hours old)\nFile log: /var/folders/vv/4dq6q1157n3b62yb7cxyr6br0000gn/T/fhir-ig-publisher-tmp.log\nDetected Java version: 14.0.1 from /Library/Java/JavaVirtualMachines/adoptopenjdk-14.jdk/Contents/Home on x86_64 (64bit). 4096MB available\nParameters: -ig ig.ini\n\ndir = /Users/rhausam/git-repo/fhir-ips, path = /usr/local/Cellar/pyenv-virtualenv/1.1.5/shims:/Users/rhausam/.pyenv/shims:/Library/Frameworks/Python.framework/Versions/2.7/bin:/usr/local/opt/bison/bin:/usr/local/opt/ruby/bin:/opt/local/bin:/opt/local/sbin:/Users/rhausam/google-cloud-sdk/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/VMware Fusion.app/Contents/Public:/usr/local/MacGPG2/bin:/usr/local/share/dotnet:/opt/X11/bin:~/.dotnet/tools:/usr/local/git/bin:/opt/apache-maven-3.6.2/bin:/usr/local/ant/bin\n\nRun time = Wednesday, July 1, 2020 at 9:59:53 AM Central Daylight Time (2020-07-01T09:59:53-05:00)\nPackage Cache: /Users/rhausam/.fhir/packages                                     (00:00.0072)\nLoad Template from hl7.fhir.template                                             (00:01.0028)\n Load Template from hl7.base.template#current                                    (00:03.0717)\n  Load Template from fhir.base.template#current                                  (00:03.0821)\n\nonLoad.findSpreadsheets:\n\nonLoad.updateIg:\n     [xslt] Processing /Users/rhausam/git-repo/fhir-ips/template/onLoad-ig-working.xml to /Users/rhausam/git-repo/fhir-ips/template/onLoad-ig-updated.xml\n     [xslt] Loading stylesheet /Users/rhausam/git-repo/fhir-ips/template/scripts/onLoad.xslt\n\nonLoad.extend:\n\nonLoad:\nRoot directory: /Users/rhausam/git-repo/fhir-ips                                 (00:07.0920)\nCore Package hl7.fhir.r4.core#4.0.1\nTerminology Cache is at /Users/rhausam/git-repo/fhir-ips/input-cache/txcache. 7 files in cache (00:17.0203)\nConnect to Terminology Server at http://tx.fhir.org                              (00:20.0236)\nLoad Package hl7.fhir.pubpack#0.0.6\nLoad Package hl7.fhir.xver-extensions#0.0.4\nInitialization complete                                                          (00:22.0506)\nLoad Content                                                                     (00:22.0507)\nTranslating CQL source                                                           (00:22.0596)\nTranslating CQL source in folder /Users/rhausam/git-repo/fhir-ips/input/cql      (00:22.0597)\nProcessing Conformance Resources                                                 (00:29.0747)\nTerminology server: Check for supported code systems for http://unstats.un.org/unsd/methods/m49/m49.htm (00:33.0693)\n</code></pre></div>\n\n\n<p>It appears to hang at the terminology server validation.  But the <a href=\"http://tx.fhir.org\">tx.fhir.org</a> server itself is up, and restarting it didn't make a difference.</p>",
        "id": 202595823,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1593623188
    },
    {
        "content": "<p>The tx server is able to expand the <a href=\"http://hl7.org/fhir/ValueSet/jurisdiction\">http://hl7.org/fhir/ValueSet/jurisdiction</a> value set (where the <a href=\"http://unstats.un.org/unsd/methods/m49/m49.htm\">http://unstats.un.org/unsd/methods/m49/m49.htm</a> code system is used) without a problem.  So I'm not seeing an obvious reason so far why the publisher isn't getting any further with the build.</p>",
        "id": 202596935,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1593623810
    },
    {
        "content": "<p>it won't be that - that's just the last thing it did.</p>",
        "id": 202618161,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1593634198
    },
    {
        "content": "<p>How long did you give it?</p>",
        "id": 202618212,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1593634204
    },
    {
        "content": "<p>at least 30 minutes</p>",
        "id": 202618245,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1593634222
    },
    {
        "content": "<p>the next step is to look to see what it was attempting to do next</p>",
        "id": 202618444,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1593634325
    },
    {
        "content": "<p>Actually, I just looked at my last attempt - and it turns out that it did complete. :)  I'll check to see how long that step really took (it was a long time).</p>",
        "id": 202618946,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1593634587
    },
    {
        "content": "<p>Well, this is really interesting! - sort of :(  It turns out that from the last step that I showed above, to the next step of <code>Generating Narratives</code> - it took a total of 3 hours, 6 minutes and 7 seconds. :( <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>?</p>",
        "id": 202620021,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1593635231
    },
    {
        "content": "<p>it probably won't take that long next time, and if it doesn't, a diff on the txcache will tell you what happened</p>",
        "id": 202620080,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1593635272
    },
    {
        "content": "<p>OK, I'm sure you're right about that, regarding subsequent builds.  I'm pretty sure that I'm as aware as probably anyone that building the txcache can take a long time.  But, as I recall, it normally gives output for each terminology artifact that it processes.  Without that and with no response at all for over 3 hours, how would anyone expect that it was doing its normal job and would actually complete (or have any idea when that would happen)?</p>",
        "id": 202620836,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1593635719
    },
    {
        "content": "<p>I'm not sure. Does txCache tell you anything?</p>",
        "id": 202621438,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1593636035
    },
    {
        "content": "<p>I'll look.  The second build was 5 min and 39 sec. total.</p>",
        "id": 202622070,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1593636415
    },
    {
        "content": "<p>The txcache looks pretty unremarkable to me.  The snomed cache is 20.2 MB, which is pretty big - but I don't recall if that's any bigger than usual, or why that would be a problem.</p>",
        "id": 202623798,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1593637431
    },
    {
        "content": "<p>you can do a diff?</p>",
        "id": 202625554,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1593638419
    }
]