[
    {
        "content": "<p>Is there a way to get the structureDefinition mapping from an IG to be rendered first? For example I am working on an IG on DocumentReference, and have a mapping coming from my IG that I want to be shown before all the mapping from the FHIR core.</p>",
        "id": 238467180,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620823620
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  is there a way to do this? Is this something I should create an IG jira ticket for?</p>",
        "id": 238516591,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620842025
    },
    {
        "content": "<p>I would also be happy to have my IG not include the mappings from FHIR core</p>",
        "id": 238516716,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620842062
    },
    {
        "content": "<p>The tab can be done. I was thinking of adding this to the IG's parameters (which tab to show before), and then possibly (?) reordering the tabs (or removing the unwanted tabs).</p>",
        "id": 238516907,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620842163
    },
    {
        "content": "<p>we can change the IHE template (easier), and/or we can add this feature in the IHE IG (later)</p>",
        "id": 238517053,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620842220
    },
    {
        "content": "<p>it would be nice to have... I would be happy to try it out in IHE</p>",
        "id": 238517961,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620842562
    },
    {
        "content": "<p>seems <span class=\"user-mention\" data-user-id=\"191380\">@Elliot Silver</span> is also expressing interest beyond IHE.. so it might be useful elsewhere too</p>",
        "id": 238518050,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620842596
    },
    {
        "content": "<p>I think there's a way to turn off mappings that you don't want, but don't remember off the top of my hear how...</p>",
        "id": 238523357,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620844676
    },
    {
        "content": "<p>oh, that would be great.</p>",
        "id": 238528722,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620846748
    },
    {
        "content": "<p>anyone know this secret? <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> ?</p>",
        "id": 238529066,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620846914
    },
    {
        "content": "<p>I've dug through the code and the places I'd have exected the functionality to be, it isn't.  I can't even find issues requesting it, though I'm pretty sure it was talked about at some point.</p>",
        "id": 238532654,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620848625
    },
    {
        "content": "<p>I only know how to turn off the tab.  I don't recall tinkering with the mapping order</p>\n<p>the mapping template has this line:</p>\n<div class=\"codehilite\" data-code-language=\"liquid\"><pre><span></span><code><span class=\"p\">{%</span><span class=\"nt\">include</span><span class=\"w\"> </span>{{[type]}}-{{[id]}}-maps.xhtml<span class=\"p\">%}</span>\n</code></pre></div>\n<p>which means it is created by the publsher and I don't a see a standard parameter to fix.  You could create your own table an  display it in the intro /notes or in the narrative section.</p>",
        "id": 238535759,
        "sender_full_name": "Eric Haas",
        "timestamp": 1620849899
    },
    {
        "content": "<p>changing this in the template is possible. but it will mean change quite a few files, which is why I was thinking of parametrizing it: in that case we only have to write the code once and it become easy for the templates to change it</p>",
        "id": 238539339,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620851387
    },
    {
        "content": "<p>yes please. I am here to be your test and prototype</p>",
        "id": 238546425,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620854366
    },
    {
        "content": "<p>I'd expect it to change in the publisher, not the template...</p>",
        "id": 238549276,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620855859
    },
    {
        "content": "<p>\"changing this\" : the tab order / suppression</p>",
        "id": 238556177,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620860156
    },
    {
        "content": "<p>mappings I have no clue</p>",
        "id": 238556182,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620860161
    },
    {
        "content": "<p>I think this needs work in the IG publisher, and I have'n't done it.</p>",
        "id": 238570011,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620870866
    },
    {
        "content": "<p>should I record a jira ticket, github issue, or just wish upon a shooting star?</p>",
        "id": 238570087,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620870946
    },
    {
        "content": "<p>that'd be a github issue</p>",
        "id": 238571998,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620872645
    },
    {
        "content": "<p>done <a href=\"https://github.com/HL7/fhir-ig-publisher/issues/260\">https://github.com/HL7/fhir-ig-publisher/issues/260</a></p>",
        "id": 238623145,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620913635
    },
    {
        "content": "<p>Just put your mapping somewhere else and suppress the mapping tabs and call it a day  who looks at those default mappings anyway .. I dont</p>",
        "id": 238633516,
        "sender_full_name": "Eric Haas",
        "timestamp": 1620918176
    },
    {
        "content": "<p>Newcomers will - and what we generate should be useful and relevant.  Also we want consistency across igs</p>",
        "id": 238639579,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620920816
    },
    {
        "content": "<p>(FWIW, just re-read and I think i misread the OP or mixed different topics - the changes in the template would only be about which tab would be seen first, but I don't think this is the topic we're discussing. Sorry for confusing. Shouldn't reply at dinner time...)</p>",
        "id": 238641123,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620921539
    },
    {
        "content": "<p>I started to file this as a comment on the Jira ticket, but it probably deserves a bit of discussion first.</p>\n<p>Yes, Jose, this is about ordering (or suppression) of mappings within the mappings tab, not which tab opens by default.</p>\n<p>My feeling is that the ordering/suppression of  is similar to the snapshot vs differential display of the structure. Sometimes I am focused on what the new mappings are; sometimes I want to know all the mappings.</p>\n<p>If I have an implementation of Patient, I have already reviewed the Patient-level mappings and decided which were relevant for my use. When I add support for CA Baseline Patient, I will be more interested in what the new mappings are. I feel it is unlikely that previously ignored Patient-level mappings will affect my profile implementation. </p>\n<p>If nothing else, being able to order, or changing the default order of mappings to include the most recently defined mappings first (i.e., sorting parent resource mappings lower) would be helpful.</p>\n<p>Thinking wider, why don't we have snapshot vs differential for other views? Perhaps I'd like to see only new/modified element definitions, not repeats of parent resource definitions.</p>",
        "id": 238643162,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1620922329
    },
    {
        "content": "<p>I added a github issue   <a href=\"https://github.com/HL7/ig-template-base/issues/155\">https://github.com/HL7/ig-template-base/issues/155</a></p>",
        "id": 238645485,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620923468
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> <a href=\"#narrow/stream/179252-IG-creation/topic/mapping.20from.20IG.20listed.20first/near/238643162\">said</a>:</p>\n<blockquote>\n<p>Thinking wider, why don't we have snapshot vs differential for other views? Perhaps I'd like to see only new/modified element definitions, not repeats of parent resource definitions.</p>\n</blockquote>\n<p>Are you suggesting that our rendered Diff should not be only between base resource and current profile, but possibly also between current-1 and current, or current and last validated, or current and version X?</p>",
        "id": 238645809,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620923628
    },
    {
        "content": "<p>I don't know we'd want to drive it purely from what's in the differential.  You might inherit things from a parent profile you still want exposed - or even from the base resource.  What I <em>don't</em> get is having different requirements per profile within an IG.</p>",
        "id": 238645926,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620923668
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191380\">Elliot Silver</span> <a href=\"#narrow/stream/179252-IG-creation/topic/mapping.20from.20IG.20listed.20first/near/238643162\">said</a>:</p>\n<blockquote>\n<p>If nothing else, being able to order, or changing the default order of mappings to include the most recently defined mappings first (i.e., sorting parent resource mappings lower) would be helpful.</p>\n</blockquote>\n<p>there seems to be an assumption there - most recent are the children, or all the children are done after all parents are done. How reliable is it?</p>",
        "id": 238646041,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620923742
    },
    {
        "content": "<p>Elliot's description made me think of a Diff tab with a dropdown (Diff to what? - base profile, previous version...)</p>",
        "id": 238646192,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620923805
    },
    {
        "content": "<p>(which I don't know if it's sensible or feasible)</p>",
        "id": 238646227,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620923829
    },
    {
        "content": "<p>My main goal is to give an IG author a way to make the mapping defined in that IG to be more prominent.</p>",
        "id": 238646276,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620923859
    },
    {
        "content": "<p>diff is not a priority (although diff in the SD is... just not diff in the mapping)</p>",
        "id": 238646310,
        "sender_full_name": "John Moehrke",
        "timestamp": 1620923877
    },
    {
        "content": "<p>Right, and I think that makes sense</p>",
        "id": 238648208,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1620924776
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179252-IG-creation/topic/mapping.20from.20IG.20listed.20first/near/238645809\">said</a>:</p>\n<blockquote>\n<p>Are you suggesting that our rendered Diff should not be only between base resource and current profile, but possibly also between current-1 and current, or current and last validated, or current and version X?</p>\n</blockquote>\n<p>No, I'm thinking only between current profile and base resource.</p>\n<p>Differences between builds, or between release 1 and 2 of a profile is a whole other issue.</p>\n<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179252-IG-creation/topic/mapping.20from.20IG.20listed.20first/near/238646041\">said</a>:</p>\n<blockquote>\n<p>there seems to be an assumption there - most recent are the children, or all the children are done after all parents are done. How reliable is it?</p>\n</blockquote>\n<p>My use of \"recent\" meant most derived, i.e. not from a parent, rather than any notion of time, although in general, I would expect more derived profiles are predominantly done after parents.</p>\n<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179252-IG-creation/topic/mapping.20from.20IG.20listed.20first/near/238645926\">said</a>:</p>\n<blockquote>\n<p>I don't know we'd want to drive it purely from what's in the differential.  You might inherit things from a parent profile you still want exposed - or even from the base resource.  What I <em>don't</em> get is having different requirements per profile within an IG.</p>\n</blockquote>\n<p>No, I didn't mean drive it from the differential, I meant that just as we have use for snapshots and differentials for the structure, I see it as entirely plausible to have a \"show me all\" and \"show me profile content only\" view on both mappings and definitions. </p>\n<p>I agree, a per-IG setting seems sufficient, unless every profile includes all options, just like the structure tab lets you swap between differential and snapshot.</p>\n<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/179252-IG-creation/topic/mapping.20from.20IG.20listed.20first/near/238646310\">said</a>:</p>\n<blockquote>\n<p>My main goal is to give an IG author a way to make the mapping defined in that IG to be more prominent.</p>\n<p>diff is not a priority (although diff in the SD is... just not diff in the mapping)</p>\n</blockquote>\n<p>Agree. I'm not suggesting showing changes to existing mappings, just showing profile-defined maps first, before base structure maps.</p>",
        "id": 238648215,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1620924782
    },
    {
        "content": "<p>My intention is that we'll have a \"data dictionary\" view with tabs just like the full profile view has tabs.  The differential view would show <em>only</em> what's changed by the differential - so that would show you new/different mappings.  I think the mappings tab should just show what's relevant to implementers of that IG - suppressing and re-ordering, but doing it the same across all profiles.  However, if we stick it in the config, I guess it could vary for logical models vs. extensions vs. regular profiles.</p>",
        "id": 238649583,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620925376
    },
    {
        "content": "<p>I'd like to see an IG page that shows all the mappings defined in that IG. Might not be something everybody wants though - I had planned to just write a script to pull all the mappings out and create a page (or ask <span class=\"user-mention\" data-user-id=\"191505\">@Sean McIlvenna</span> to put it in Trifolia at some point). But if enough people wanted it maybe it could be automatically created...</p>",
        "id": 238695514,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1620947974
    },
    {
        "content": "<p>So columns for profile, element path, target spec, mapping text?</p>",
        "id": 238697083,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620949184
    },
    {
        "content": "<p>Do you want that rendered or as a CSV for Excel?</p>",
        "id": 238697094,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620949199
    },
    {
        "content": "<p>Yes! <br>\nBoth... (you didn't think you could ask a question like that and NOT get a \"both\" answer, right?!)</p>",
        "id": 238697221,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1620949278
    },
    {
        "content": "<p>Is that actually what you were referring to with the \"data dictionary\" view? It would be all profiles in the IG?</p>",
        "id": 238697503,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1620949485
    },
    {
        "content": "<p>I'm trying to figure out why someone would want the HTML page if they had the ability to grab the Excel</p>",
        "id": 238697513,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620949494
    },
    {
        "content": "<p>No - data dictionary would be on a per profile basis.  It's what the definition page is now</p>",
        "id": 238697558,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620949520
    },
    {
        "content": "<p>Honestly, I'd be happy with either. I think not having to download something and being able to see it right there rendered in the IG is good. Like we have mappings to fields on the Birth and Death certificates - they are really things that need to be in the IG, you wouldn't necessarily want to download them to Excel. But it would be great to see them all in one place.</p>",
        "id": 238697718,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1620949651
    },
    {
        "content": "<p>I suspect that seeing all the artifacts listed in alphabetic order by name or id with no ability to sort or filter would be more frustrating than useful.  I can't imagine it being helpful except as a download.  Can you submit an issue against the publisher for this?  It should be relatively straight-forward to produce.</p>",
        "id": 238708891,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1620958937
    },
    {
        "content": "<p>Okie dokie...</p>",
        "id": 238711072,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1620960810
    },
    {
        "content": "<p>ok well,to get things going, the next IG publisher will produce a new fragment <code>StructureDefinition-{id}-maps-diff.xhtml</code> which will be the same as <code>StructureDefinition-{id}-maps.xhtml</code> but only have what's in the diff. I don't think that this will solve the problem, but I want some feedback on this from IG authors before investing more time</p>",
        "id": 238712014,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1620961496
    }
]