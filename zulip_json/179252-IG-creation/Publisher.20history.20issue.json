[
    {
        "content": "<p>Latest version of the Publisher integrated with the ci Build (v1.1.2) is no longer processing history records linked through the Provenance bundles in UTG to NamingSystem resources - seems to be ok for CodeSystem resources.   All NamingSystem resources now triggering errors in the form of:  NamingSystem-AS4E.html#/html/body/div/div/div/div/div/ul/li/a at Line 143, column 4 error   The link 'NamingSystem-AS4E.history.html' for \"History\" cannot be resolved<br>\nNamingSystem-AS4E.json.html#/html/body/div/div/div/div/div/ul/li/a at Line 144, column 4    error   The link 'NamingSystem-AS4E.history.html' for \"History\" cannot be resolved<br>\nNamingSystem-AS4E.ttl.html#/html/body/div/div/div/div/div/ul/li/a at Line 144, column 4 error   The link 'NamingSystem-AS4E.history.html' for \"History\" cannot be resolved<br>\nNamingSystem-AS4E.xml.html#/html/body/div/div/div/div/div/ul/li/a at Line 144, column 4 error   The link 'NamingSystem-AS4E.history.html' for \"History\" cannot be resolved</p>",
        "id": 203782030,
        "sender_full_name": "Ted Klein",
        "timestamp": 1594681431
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> this looks like a template issue to me</p>",
        "id": 203786676,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1594685675
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> can you investigate?</p>",
        "id": 203791976,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594691850
    },
    {
        "content": "<p>I will check this later today</p>",
        "id": 203810408,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594715894
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191982\">@Ted Klein</span> for pointing this is only on NamingSystem - that helps</p>",
        "id": 203810656,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594716098
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  I have the same error with an instance target. It also breaks the display of the tab menu  (the one with narrative content/xml/json/ttl)</p>",
        "id": 203816588,
        "sender_full_name": "Etienne Cantineau",
        "timestamp": 1594721192
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"243697\">@Etienne Cantineau</span> source?</p>",
        "id": 203819266,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594723541
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> <a href=\"https://build.fhir.org/ig/ec-ehealth/Build-source/Practitioner-practitioner1.html\">https://build.fhir.org/ig/ec-ehealth/Build-source/Practitioner-practitioner1.html</a></p>",
        "id": 203819464,
        "sender_full_name": "Etienne Cantineau",
        "timestamp": 1594723727
    },
    {
        "content": "<p>Good news: I think these are the same issue</p>",
        "id": 203860812,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594747046
    },
    {
        "content": "<p>Good news #2: I think I already fixed something similar</p>",
        "id": 203860839,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594747063
    },
    {
        "content": "<p>Bad news: I really don't remember how ... <br>\nI'm checking and will get back when i have something</p>",
        "id": 203860955,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594747100
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> PR created. Tested with Etienne's IG, it works. UTG is still building but I have no reason to think it won't</p>",
        "id": 203863165,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594748168
    },
    {
        "content": "<p>I'm having the same issue:</p>\n<p><a href=\"http://build.fhir.org/ig/HL7/ccda-on-fhir-r4/qa.html\">http://build.fhir.org/ig/HL7/ccda-on-fhir-r4/qa.html</a><br>\nImplementationGuide-hl7.fhir.us.ccda.history.html#/html/body/div/div/div/div/div/ul/li/a at Line 123, column 6 error The link 'ImplementationGuide-hl7.fhir.us.ccda.html' for \"Narrative Content\" cannot be resolved</p>\n<p>These \".history.html\" files are showing up, but are only linked to from qa.html, and have bad links in each of their XML, JSON. and TTL tabs.</p>",
        "id": 203915514,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1594786884
    },
    {
        "content": "<p>this is a different issue. the other was that history was not being generated. this is that history files contain bad links.</p>",
        "id": 203919771,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594793295
    },
    {
        "content": "<p>just checked and I need to add some debugging tags to the template, because this is harder to track.</p>",
        "id": 203920420,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594794301
    },
    {
        "content": "<p>I'm checking this. these pages are not supposed to exist, so we need to see why they are being generated.</p>",
        "id": 203920492,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594794467
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"243697\">@Etienne Cantineau</span> does this work now?</p>",
        "id": 203940180,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594810612
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191982\">@Ted Klein</span> I ran into an Out of Memory error while building UTG. Do you want to see if it is fixed please?</p>",
        "id": 203944536,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594813708
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> No i still have the problem</p>",
        "id": 203945227,
        "sender_full_name": "Etienne Cantineau",
        "timestamp": 1594814118
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"243697\">@Etienne Cantineau</span> i have it working ok. <br>\n<a href=\"/user_uploads/10155/1WeaCm6YOoDMxxyVSOvkdVwp/image.png\">image.png</a> <br>\nOne thing I noticed in your setup: your Provenance resource - is that supposed to be an example of Provenance, or is it supposed to convey history of changes to the example Practitioner1?</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/1WeaCm6YOoDMxxyVSOvkdVwp/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/1WeaCm6YOoDMxxyVSOvkdVwp/image.png\"></a></div>",
        "id": 203951073,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594817764
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> It's an example of Provenance, not an history element.</p>",
        "id": 203952218,
        "sender_full_name": "Etienne Cantineau",
        "timestamp": 1594818284
    },
    {
        "content": "<p>Ah ok. So that is one open issue. We need to do some changes, but your IG is correct. And I do not know if there is a workaround.</p>",
        "id": 203952857,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594818614
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> here's one example of a Provenance instance that is not history</p>",
        "id": 203952917,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594818657
    },
    {
        "content": "<p>Grahame, I think we can only consider <code>\"history\": true</code> if the Provenance resource is effectively in a Bundle of type History, which is not this case.</p>",
        "id": 203953711,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594819130
    },
    {
        "content": "<p>I have to run my ci build locally with max memory settings in the java command or it runs out of memory.  I use:  java -Xmx16G -Xss1G -jar /Users/tedklein/documents/tedhl7/vocabulary/projects/utg/FHIR_tool_stuff/org.hl7.fhir.publisher.jar -ig ig.ini for my commend; anything smaller than 16G memory or 1G stack and it blows up.</p>",
        "id": 203998320,
        "sender_full_name": "Ted Klein",
        "timestamp": 1594839738
    },
    {
        "content": "<p>So the issue is \"how do we allow overriding the memory settings for a single IG without overriding them generally and still using the standard .bat files.  <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> thoughts?</p>",
        "id": 203998520,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594839835
    },
    {
        "content": "<p>Only this:<br>\n<a href=\"https://stackoverflow.com/questions/25608260/call-java-from-batch-file-how-to-split-jvm-and-main-method-parameters\">https://stackoverflow.com/questions/25608260/call-java-from-batch-file-how-to-split-jvm-and-main-method-parameters</a><br>\nhave a jvm_args parameter in the batch file which is normally empty, but if the user does <code>genonce.bat -jvm\"XYZ\"</code> the batch would intercept the text between quotes and put this as options instead of parameters.</p>",
        "id": 204001033,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594841084
    },
    {
        "content": "<p>(hope this is not urgent because does not sound like easy or fun)</p>",
        "id": 204001224,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594841194
    },
    {
        "content": "<p>I have not encountered this need, but is this a common thing?</p>",
        "id": 204005456,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594843345
    },
    {
        "content": "<p>Primarily just UTG, I think</p>",
        "id": 204016249,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594848954
    },
    {
        "content": "<blockquote>\n<p>I think we can only consider \"history\": true if the Provenance resource is effectively in a Bundle of type History</p>\n</blockquote>\n<p>well.. that wasn't a rule that we made. Why should it be a rule?</p>",
        "id": 204046327,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1594876895
    },
    {
        "content": "<p>I think the rule should be that it's history if the Provenance refers to one of the artifacts in the spec and isn't flagged by the IG as being an example.  (We could have examples in the spec that also have example provenances.)</p>",
        "id": 204046714,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1594877366
    },
    {
        "content": "<p>I think this could work. if it's about one of the artifacts in the spec AND is not example (exampleBoolean OR exampleCanonical == false).</p>",
        "id": 204048399,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594879411
    },
    {
        "content": "<p>I think that's the rules I already use</p>",
        "id": 204048897,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1594879947
    },
    {
        "content": "<p>Etienne's repo has exampleCanonical=true<br>\n<a href=\"https://github.com/ec-ehealth/Build-source/blob/master/input/ImplementationGuide-BeCoreImplementationGuide.json#L447\">https://github.com/ec-ehealth/Build-source/blob/master/input/ImplementationGuide-BeCoreImplementationGuide.json#L447</a><br>\nand the resources.json still says history=true for the provenance's target resource</p>",
        "id": 204049481,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594880711
    },
    {
        "content": "<p>should I create an issue?</p>",
        "id": 204049496,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594880737
    },
    {
        "content": "<p>yes</p>",
        "id": 204051046,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1594882282
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/fhir-ig-publisher/issues/134\">https://github.com/HL7/fhir-ig-publisher/issues/134</a><br>\n(i went through the code to see if I could do something but I don't think I can, sorry)</p>",
        "id": 204055411,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594886361
    },
    {
        "content": "<p>it looks like this in config.json:</p>\n<p>109      \"ext-history\": \"{{[type]}}-{{[id]}}.ext.history.html\"</p>\n<p>should be :</p>\n<p>109      \"ext-history\": \"{{[type]}}-{{[id]}}.profile.history.html\"</p>\n<p>I have not tried out the history option and all my igs have it false.  how<br>\ndo you turn it on?</p>\n<p>Eric M Haas, DVM, MS<br>\nHealth eData Inc<br>\n35 Crescent Avenue, Sausalito, CA 94965</p>",
        "id": 204150411,
        "sender_full_name": "Eric Haas",
        "timestamp": 1594937866
    },
    {
        "content": "<p>see <a href=\"#narrow/stream/179252-IG-creation/topic/IG.20History.20page.20links.20cannot.20be.20resolved/near/204165239\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/IG.20History.20page.20links.20cannot.20be.20resolved/near/204165239</a></p>",
        "id": 204166188,
        "sender_full_name": "Eric Haas",
        "timestamp": 1594954346
    },
    {
        "content": "<p>everything is now profile-history (no separate layouts for extension history)</p>",
        "id": 204173603,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594966189
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> to enable history, you just have to have a history of changes. Add a bundle of Provenances that point to the resource for which you want to enable changes:</p>",
        "id": 204173738,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594966334
    },
    {
        "content": "<p>see the sample IG, input/history/h1.json, change that (or add a new one) with references to your profile/extension in the target:<br>\n<a href=\"https://github.com/FHIR/sample-ig/blob/master/input/history/h1.json#L11\">https://github.com/FHIR/sample-ig/blob/master/input/history/h1.json#L11</a></p>",
        "id": 204173767,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1594966419
    }
]