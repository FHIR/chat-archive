[
    {
        "content": "<p>Do FHIR Documents generate narrative out of the box?</p>",
        "id": 264079082,
        "sender_full_name": "Eric Haas",
        "timestamp": 1638914340
    },
    {
        "content": "<p>I have a signed document with no errors recorded by Herr Validator and no narrative. I am assuming there is something wrong with my example but wanted to check what the IG pub does with documents first.</p>",
        "id": 264079532,
        "sender_full_name": "Eric Haas",
        "timestamp": 1638914502
    },
    {
        "content": "<p>I'm not sure</p>",
        "id": 264085636,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638917695
    },
    {
        "content": "<p>OK.... after looking further into this, I am pleased to report the publisher does indeed produce the generated narrative ( yay!) but for some reason it does not show up in the Narrative content page for the example.   to whit....</p>\n<p>This no-errors-per-validator example  from Da Vinci CDex:</p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"nt\">resourceType</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Bundle</span>\n<span class=\"nt\">id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">cdex-electronic-sig-example</span>\n<span class=\"nt\">meta</span><span class=\"p\">:</span>\n  <span class=\"nt\">extension</span><span class=\"p\">:</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"s\">'http://hl7.org/fhir/StructureDefinition/instance-name'</span>\n      <span class=\"nt\">valueString</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">CDEX Electronic Signature Example</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"s\">'http://hl7.org/fhir/StructureDefinition/instance-description'</span>\n      <span class=\"nt\">valueMarkdown</span><span class=\"p\">:</span> <span class=\"p p-Indicator\">&gt;-</span>\n        <span class=\"no\">Electronic signature example showing how a image file can be use to sign</span>\n        <span class=\"no\">a document Bundle.  The CDEX use case would be the target resource in</span>\n        <span class=\"no\">response to a Task-based request where an electronic signature was</span>\n        <span class=\"no\">required.  If no signature was required, the response would typically be</span>\n        <span class=\"no\">in the form of an individual resource.</span>\n  <span class=\"nt\">lastUpdated</span><span class=\"p\">:</span> <span class=\"s\">'2021-10-25T20:16:29-07:00'</span>\n<span class=\"nt\">identifier</span><span class=\"p\">:</span>\n  <span class=\"nt\">system</span><span class=\"p\">:</span> <span class=\"s\">'urn:ietf:rfc:3986'</span>\n  <span class=\"nt\">value</span><span class=\"p\">:</span> <span class=\"s\">'urn:uuid:c173535e-135e-48e3-ab64-38bacc68dba8'</span>\n<span class=\"nt\">type</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">document</span>\n<span class=\"nt\">timestamp</span><span class=\"p\">:</span> <span class=\"s\">'2021-10-25T20:16:29-07:00'</span>\n<span class=\"nt\">entry</span><span class=\"p\">:</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">fullUrl</span><span class=\"p\">:</span> <span class=\"s\">'urn:uuid:17a80a8d-4cf1-4deb-a1fd-2db1130e5f76'</span>\n    <span class=\"nt\">resource</span><span class=\"p\">:</span>\n      <span class=\"nt\">resourceType</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Composition</span>\n      <span class=\"nt\">id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">17a80a8d-4cf1-4deb-a1fd-2db1130e5f76</span>\n<span class=\"c1\"># ===============GENERATED NARRATIVE ====================</span>\n      <span class=\"nt\">text</span><span class=\"p\">:</span>\n        <span class=\"nt\">status</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">generated</span>\n        <span class=\"nt\">div</span><span class=\"p\">:</span> <span class=\"p p-Indicator\">&gt;-</span>\n          <span class=\"no\">&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;p&gt;&lt;b&gt;Generated</span>\n          <span class=\"no\">Narrative&lt;/b&gt;&lt;/p&gt;&lt;div style=\"display: inline-block; background-color:</span>\n          <span class=\"no\">#d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4;</span>\n          <span class=\"no\">border-radius: 5px; line-height: 60%\"&gt;&lt;p style=\"margin-bottom:</span>\n          <span class=\"no\">0px\"&gt;Resource \"17a80a8d-4cf1-4deb-a1fd-2db1130e5f76\"</span>\n          <span class=\"no\">&lt;/p&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;status&lt;/b&gt;: final&lt;/p&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt;: Medical records</span>\n          <span class=\"no\">&lt;span style=\"background: LightGoldenRodYellow; margin: 4px; border:</span>\n          <span class=\"no\">1px solid khaki\"&gt; (&lt;a</span>\n          <span class=\"no\">href=\"https://loinc.org/\"&gt;LOINC&lt;/a&gt;#11503-0)&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;encounter&lt;/b&gt;:</span>\n          <span class=\"no\">&lt;a href=\"#Encounter_5ce5c83a-000f-47d2-941c-039358cc9112\"&gt;See above</span>\n          <span class=\"no\">(urn:uuid:5ce5c83a-000f-47d2-941c-039358cc9112: Example</span>\n          <span class=\"no\">Encounter)&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;date&lt;/b&gt;:</span>\n          <span class=\"no\">2021-10-25T20:16:29-07:00&lt;/p&gt;&lt;p&gt;&lt;b&gt;author&lt;/b&gt;: &lt;a</span>\n          <span class=\"no\">href=\"#Practitioner_0820c16d-91de-4dfa-a3a6-f140a516a9bc\"&gt;See above</span>\n          <span class=\"no\">(urn:uuid:0820c16d-91de-4dfa-a3a6-f140a516a9bc: Example</span>\n          <span class=\"no\">Practitioner)&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;title&lt;/b&gt;: Active</span>\n          <span class=\"no\">Conditions&lt;/p&gt;&lt;h3&gt;Attesters&lt;/h3&gt;&lt;table</span>\n          <span class=\"no\">class=\"grid\"&gt;&lt;tr&gt;&lt;td&gt;-&lt;/td&gt;&lt;td&gt;&lt;b&gt;Mode&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;Time&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;Party&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;*&lt;/td&gt;&lt;td&gt;legal&lt;/td&gt;&lt;td&gt;2021-10-25T20:16:29-07:00&lt;/td&gt;&lt;td&gt;&lt;a</span>\n          <span class=\"no\">href=\"#Practitioner_0820c16d-91de-4dfa-a3a6-f140a516a9bc\"&gt;See above</span>\n          <span class=\"no\">(urn:uuid:0820c16d-91de-4dfa-a3a6-f140a516a9bc: Example</span>\n          <span class=\"no\">Practitioner)&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;</span>\n<span class=\"c1\"># ===============END GENERATED NARRATIVE ====================</span>\n      <span class=\"nt\">status</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">final</span>\n<span class=\"c1\"># ...etc....</span>\n</code></pre></div>\n<p>and here is the published output:</p>\n<p><a href=\"/user_uploads/10155/XE1PambfvBhrJ0cBuCXuzvgw/image.png\">image.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/XE1PambfvBhrJ0cBuCXuzvgw/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/XE1PambfvBhrJ0cBuCXuzvgw/image.png\"></a></div><p>Shall I make a github issue and a test case?</p>",
        "id": 264191900,
        "sender_full_name": "Eric Haas",
        "timestamp": 1638985337
    },
    {
        "content": "<p>yes please</p>",
        "id": 264193654,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638986089
    }
]