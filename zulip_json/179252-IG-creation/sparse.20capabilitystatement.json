[
    {
        "content": "<p>The capabiltystatement template/\"generated narrative\" seems really sparse when using the IG Publisher. For instance, no OperationDefinitions are listed pr. default in the resulting HTML</p>",
        "id": 159292153,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551042053
    },
    {
        "content": "<p>yes the generated narrative is pretty primitive.  I have very recently made a Jinja2 template for STU3 Igs that looks like US Core (which is done by hand) and and works with the Python FHIR client.  Here is an <a href=\"https://argonautproject.github.io/questionnaire/CapabilityStatement-argo-questionnaire-provider-ehr.html\" target=\"_blank\" title=\"https://argonautproject.github.io/questionnaire/CapabilityStatement-argo-questionnaire-provider-ehr.html\">example</a>.  Lloyd has an xlst stylesheet that give a more complete narrative too.</p>",
        "id": 159306093,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551058666
    },
    {
        "content": "<p>where's <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>'s stylesheet?</p>",
        "id": 159319536,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551081477
    },
    {
        "content": "<p>Where's the template/code located for the current generation?</p>",
        "id": 159340049,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551104234
    },
    {
        "content": "<p>I Yes curre you need to make your own narrative currently.  I have a ninja template Iâ€™ve worked on for my most recent iG. Which looks like US Core. And Lloyd has a xlst too</p>",
        "id": 159346360,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551109114
    },
    {
        "content": "<p>The XSLT is checked into the source folder for CapabilityStatement.  You can find it here: <a href=\"https://github.com/HL7/fhir/blob/master/source/capabilitystatement/capabilitystatementNarrative.xslt\" target=\"_blank\" title=\"https://github.com/HL7/fhir/blob/master/source/capabilitystatement/capabilitystatementNarrative.xslt\">https://github.com/HL7/fhir/blob/master/source/capabilitystatement/capabilitystatementNarrative.xslt</a></p>",
        "id": 159350041,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1551111737
    },
    {
        "content": "<p>the intention is to use Liquid templates for narrative generation in cases like this</p>",
        "id": 159862406,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551643108
    },
    {
        "content": "<p>And while we are at it  -why are PATCH updates listed as \"Updates\", whereas PUT is listed as \"Update\". Why not just call PATCH updates \"Patch\" or something?</p>",
        "id": 159863933,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551645665
    },
    {
        "content": "<blockquote>\n<p>And while we are at it  -why are PATCH updates listed as \"Updates\", whereas PUT is listed as \"Update\". Why not just call PATCH updates \"Patch\" or something?</p>\n</blockquote>\n<p>umm? where?</p>",
        "id": 159864300,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551646242
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> thats the default rendering of capability statements when run through the IGpub</p>",
        "id": 159864366,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551646427
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/p2eZwu1RpeA3VovmsSWpdY7T/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/p2eZwu1RpeA3VovmsSWpdY7T/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/p2eZwu1RpeA3VovmsSWpdY7T/pasted_image.png\"></a></div>",
        "id": 159864412,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551646469
    },
    {
        "content": "<p>ok so the bit that confused me is the idea that patches are listed as updates. the code ignore patch altogether</p>",
        "id": 159864758,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551647063
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/QnRQxlIXb8Ek1TtVg3LGIbSO/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/QnRQxlIXb8Ek1TtVg3LGIbSO/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/QnRQxlIXb8Ek1TtVg3LGIbSO/pasted_image.png\"></a></div>",
        "id": 159864775,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551647123
    },
    {
        "content": "<p>I dont think it does ...</p>",
        "id": 159864776,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551647133
    },
    {
        "content": "<p>me, I'm just looking at the code....</p>",
        "id": 159864781,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551647144
    },
    {
        "content": "<p>maybe it does something different than the actual code...</p>",
        "id": 159864784,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551647156
    },
    {
        "content": "<p>wt*?</p>",
        "id": 159864827,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551647175
    },
    {
        "content": "<p>the code ignores patch altogether</p>",
        "id": 159864838,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551647218
    },
    {
        "content": "<p>so where does the \"Updates\" come from? Because its produced for the exposed resources that only supports patch</p>",
        "id": 159864856,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551647273
    },
    {
        "content": "<p>if the resource supports History at the instance level</p>",
        "id": 159864903,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551647302
    },
    {
        "content": "<p>then what?</p>",
        "id": 159864918,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551647360
    },
    {
        "content": "<p>that's where \"Updates\" comes from</p>",
        "id": 159864990,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551647441
    },
    {
        "content": "<p>that explains</p>",
        "id": 159865077,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551647605
    },
    {
        "content": "<p>I haven't thought of a better word for it</p>",
        "id": 159865079,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551647628
    },
    {
        "content": "<p>but does that mean that history is the same as updates?</p>",
        "id": 159865117,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551647643
    },
    {
        "content": "<p>\"Updates\" is what the narrative generator creates for the history-instance operation</p>",
        "id": 159865158,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551647745
    },
    {
        "content": "<p>and \"History\" is created for ... ?</p>",
        "id": 159865201,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551647776
    },
    {
        "content": "<p>history-type</p>",
        "id": 159865225,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551647853
    },
    {
        "content": "<p>got it ...</p>",
        "id": 159865347,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648047
    },
    {
        "content": "<p>that's not a great arrangement, but nothing better leaps out at me</p>",
        "id": 159865356,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551648068
    },
    {
        "content": "<p>whats history-type used for?</p>",
        "id": 159865365,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648109
    },
    {
        "content": "<p>that's the most common - get a list of changes for this type of resource</p>",
        "id": 159865413,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551648153
    },
    {
        "content": "<p>where as history-instance is getting a list of changes for a single resource instance</p>",
        "id": 159865422,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551648179
    },
    {
        "content": "<p>history -instance use I get ... that seems legit</p>",
        "id": 159865488,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648296
    },
    {
        "content": "<p>history-type however ...</p>",
        "id": 159865502,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648308
    },
    {
        "content": "<p>I don't get? you got an example?</p>",
        "id": 159865507,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648344
    },
    {
        "content": "<p>history-instance: GET [base]/[type]/[id]/_history{?[parameters]&amp;_format=[mime-type]}<br>\nhistory-type:   GET [base]/[type]/_history{?[parameters]&amp;_format=[mime-type]}<br>\nhistory-system:   GET [base]/_history{?[parameters]&amp;_format=[mime-type]}</p>",
        "id": 159865631,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551648506
    },
    {
        "content": "<p>thats what the doc says</p>",
        "id": 159865634,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648526
    },
    {
        "content": "<p>so I'm not clear on the question.</p>",
        "id": 159865644,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551648546
    },
    {
        "content": "<p>wow .... history on type level</p>",
        "id": 159865648,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648559
    },
    {
        "content": "<p>as in across all instances of that type?</p>",
        "id": 159865654,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648576
    },
    {
        "content": "<p>yes. that's what we mostly use</p>",
        "id": 159865665,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551648590
    },
    {
        "content": "<p>hmm ... okay I get it now ... - I guess that almost mandates some filtering for a clinical use case</p>",
        "id": 159865754,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648685
    },
    {
        "content": "<p>there's no filtering except by date. And implicitly by access right</p>",
        "id": 159865762,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551648717
    },
    {
        "content": "<p>ok ... makes sense</p>",
        "id": 159865841,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648814
    },
    {
        "content": "<p>back to the wording \"Updates\" and \"History\" ...</p>",
        "id": 159865918,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648929
    },
    {
        "content": "<p>\"History\" makes sense</p>",
        "id": 159865922,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648938
    },
    {
        "content": "<p>\"Updates\" ... not so much ...</p>",
        "id": 159865928,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648950
    },
    {
        "content": "<p>and the code might wanna treat PATCH as update ... thats my suggestion</p>",
        "id": 159865984,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551648988
    },
    {
        "content": "<p>well, I've already added a \"Patch\" column in my code here.</p>",
        "id": 159866006,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551649049
    },
    {
        "content": "<p>what's ETA for that hitting the latest downloadable build?</p>",
        "id": 159866060,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649110
    },
    {
        "content": "<p>sometime today</p>",
        "id": 159866062,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551649134
    },
    {
        "content": "<p>what about calling \"History\" for \"History Type\" and \"Updates \" for \"History Instance\"</p>",
        "id": 159866125,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649205
    },
    {
        "content": "<p>'cause thats what it is, right?</p>",
        "id": 159866133,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649219
    },
    {
        "content": "<p>That's what it now, yes</p>",
        "id": 159866143,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551649255
    },
    {
        "content": "<p>Then I'll suggest that renaming ...</p>",
        "id": 159866155,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649279
    },
    {
        "content": "<p>instead of introducing \"new terminology\"</p>",
        "id": 159866159,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649296
    },
    {
        "content": "<p>which renaming?</p>",
        "id": 159866164,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551649309
    },
    {
        "content": "<blockquote>\n<p>what about calling \"History\" for \"History Type\" and \"Updates \" for \"History Instance\"</p>\n</blockquote>",
        "id": 159866206,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649325
    },
    {
        "content": "<p>or I-History and T-History</p>",
        "id": 159866258,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649446
    },
    {
        "content": "<p>I think you are proposing to change the headers to History Type and History Instances. I didn't do that because of width concerns</p>",
        "id": 159866259,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551649448
    },
    {
        "content": "<p>If you can call it \"V-Read\", then \"T-History\" would fit the bill as I see it</p>",
        "id": 159866280,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649540
    },
    {
        "content": "<p>I'm interested in opinions from other people before making this change</p>",
        "id": 159866331,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551649598
    },
    {
        "content": "<p>sure - has anyone questioned the wording before?</p>",
        "id": 159866400,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649706
    },
    {
        "content": "<p>no you're the first. It's been in my server for 5 years. (I checked)</p>",
        "id": 159866406,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551649738
    },
    {
        "content": "<p>so its crystal clear to everyone that \"updates\" is on instance level and \"history\" is type level? and no one has ever asked for PATCH before?</p>",
        "id": 159866470,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649826
    },
    {
        "content": "<p>I don't know about crystal clear but no one has ever asked before, no</p>",
        "id": 159866484,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551649868
    },
    {
        "content": "<p>#feelinglikeafirstmover</p>",
        "id": 159866487,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551649906
    },
    {
        "content": "<p>well - lets hope other opinionated people sees this ;)</p>",
        "id": 159866548,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551650041
    },
    {
        "content": "<p>most of the people on this stream are opinionated. ;-)</p>",
        "id": 159866651,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551650224
    },
    {
        "content": "<p>Let the opinions unfold</p>",
        "id": 159866658,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551650269
    },
    {
        "content": "<p>I'm not a fan of V-Read or T-History.  I'd like the names to make sense to someone who doesn't know FHIR.  So that if they see a capability statement you have *some *idea what the server does.</p>",
        "id": 159868372,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1551653249
    },
    {
        "content": "<blockquote>\n<p>the intention is to use Liquid templates for narrative generation in cases like this</p>\n</blockquote>\n<p>I don't know how to use liquid + ig.pub to do this.   Which I why I am  currently using Jinja2 with Python , between Jinja and liquid the template syntax themselves are very similar but how do I grab a resource element's value in the Ig pub?  ..   for example  where r is is the resource<br>\nhow I extract the title for <code>{{r.title}}</code>?</p>",
        "id": 159870420,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551656675
    },
    {
        "content": "<p>I was never a fan of this table and abandoned it.  I always have to go back read the spec for these interactions every time btw .   I would like to add definitions as hovers or links in future renderings.</p>",
        "id": 159870561,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551656952
    },
    {
        "content": "<p>liquid spec: <a href=\"http://wiki.hl7.org/index.php?title=FHIR_Liquid_Profile\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=FHIR_Liquid_Profile\">http://wiki.hl7.org/index.php?title=FHIR_Liquid_Profile</a></p>",
        "id": 159870879,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551657599
    },
    {
        "content": "<p>add fly overs. I'll commit so we can see my changes</p>",
        "id": 159871073,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551657887
    },
    {
        "content": "<p>where do the liquid templates for narratives live?</p>",
        "id": 159871210,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551658111
    },
    {
        "content": "<p>apparently I have not implemented this yet</p>",
        "id": 159871478,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551658567
    },
    {
        "content": "<blockquote>\n<p>I'm not a fan of V-Read or T-History.  I'd like the names to make sense to someone who doesn't know FHIR.  So that if they see a capability statement you have *some *idea what the server does.</p>\n</blockquote>\n<p>Well, how about adding the table from the top section from <a href=\"https://www.hl7.org/fhir/http.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/http.html\">https://www.hl7.org/fhir/http.html</a> to the generated site or add parts of it? IMHO, the current wording is confusing</p>",
        "id": 159894118,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551686569
    },
    {
        "content": "<p>I should make them hyperlinks, I suppose. But what do you make of the changes I already made?</p>",
        "id": 159896616,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551689899
    },
    {
        "content": "<p>The rearranging and patch? works for me</p>",
        "id": 159896824,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1551690206
    },
    {
        "content": "<p>great</p>",
        "id": 159900057,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1551693820
    }
]