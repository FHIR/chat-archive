[
    {
        "content": "<p>Does anyone have a special representation of a StructureMap in their Implementation Guide?  I have a bunch of guides that have mappings from existing standards to FHIR and I'm trying to determine the best way to include those mappings in the guide.  I can obviously drop an Excel spreadsheet or a PDF/image from a mapping tool, but I'd really like to document the mappings in a StructureMap.  But I'd only do that if there was a nice-looking representation of a StructureMap.</p>",
        "id": 204447387,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595264252
    },
    {
        "content": "<p>How would this look like?</p>",
        "id": 204448040,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595264595
    },
    {
        "content": "<p>I was thinking something like this:<br>\n<a href=\"http://build.fhir.org/ig/HL7/v2-to-fhir/ConceptMap-message-adt-a01-to-bundle.html\">http://build.fhir.org/ig/HL7/v2-to-fhir/ConceptMap-message-adt-a01-to-bundle.html</a></p>",
        "id": 204448186,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595264669
    },
    {
        "content": "<p>but i'm not adverse to any representation besides the raw resource instance</p>",
        "id": 204448238,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595264706
    },
    {
        "content": "<p>I was kind of hoping for a nice graphic representation Ã  la mapforce.. but a table is a good way.</p>",
        "id": 204450514,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595265845
    },
    {
        "content": "<p>yes.  we are looking at using MapForce for our project to use as a graphical representation.  it would be great if MapForce could natively spit out a StructureMap, but that isn't going to happen shortly. :)  That was what I referred to as the PDF/image from our mapping tool above.</p>",
        "id": 204450729,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595265959
    },
    {
        "content": "<p>We <em>could</em> do some xslt in the template, but seems cleaner to do it in the java code.  (Pinging <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> and <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> to confirm).</p>",
        "id": 204452827,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595267120
    },
    {
        "content": "<p>Does MapForce output some sort of XML etc that could be converted to a StructureMap?</p>",
        "id": 204462235,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1595271848
    },
    {
        "content": "<p>that's a concept map, not a structure map.</p>",
        "id": 204462996,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595272179
    },
    {
        "content": "<p>I don't know what a mapforce representation looks like?</p>",
        "id": 204463077,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595272204
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Representation.20of.20StructureMap.20in.20IGuides.3F/near/204462996\">said</a>:</p>\n<blockquote>\n<p>that's a concept map, not a structure map.</p>\n</blockquote>\n<p>Yes, I know, which is why I said \"something <em>like</em> this\"</p>",
        "id": 204463131,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595272236
    },
    {
        "content": "<p>I'm not sure what you're asking for then.</p>",
        "id": 204463191,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595272272
    },
    {
        "content": "<p>you can document them as a concept map and get that rendering. Or you can document them as a structure map and not get that, since I don't know how I'd produce a table that reasonably captures the complexity of a structure map</p>",
        "id": 204463251,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595272314
    },
    {
        "content": "<p>or you can do both... they do different things</p>",
        "id": 204463453,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595272410
    },
    {
        "content": "<p>Okay thanks, I'm hearing that  you don't have an idea of how to present a StructureMap in a format other than a resource instance.  I'm wondering if anyone else has.</p>",
        "id": 204463650,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595272504
    },
    {
        "content": "<p>well, I automatically generate it as a map language statement, which is the best way to look at it</p>",
        "id": 204463725,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595272541
    },
    {
        "content": "<p>what is a \"map language statement\"?  Do you have an example that I can see?</p>",
        "id": 204463824,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595272575
    },
    {
        "content": "<p>the representation used here: <a href=\"http://hl7.org/fhir/codesystem-version-maps.html\">http://hl7.org/fhir/codesystem-version-maps.html</a></p>",
        "id": 204464007,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595272661
    },
    {
        "content": "<p>hmm that should be the standard representation anyway now that I think about it</p>",
        "id": 204464093,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595272690
    },
    {
        "content": "<p>okay, that just takes me back full-circle to my FHIR Mapping Language source files that create StructureMap instances. :)</p>",
        "id": 204464329,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595272842
    },
    {
        "content": "<p>thanks, but I'm looking to see if someone has done something more intuitive than map language statements.</p>",
        "id": 204464395,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595272878
    },
    {
        "content": "<p>yes. I'm always willing to consider additional representations if they (a) are faithful to the intent of the resource and (b) are possible to produce</p>",
        "id": 204464409,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595272885
    },
    {
        "content": "<p>the problem is that what structuremap does it not intuitive.</p>",
        "id": 204464617,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595272990
    },
    {
        "content": "<p>just to share:<br>\nwhen I think of a (basic) structuremap, I imagine this kind of visualization (pretty similar to MapForce)<br>\n<a href=\"https://apis.guru/graphql-voyager/\">https://apis.guru/graphql-voyager/</a></p>",
        "id": 204469031,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1595275277
    },
    {
        "content": "<p>yes, something like that (maybe not so complex)</p>",
        "id": 204469067,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595275304
    },
    {
        "content": "<p>not so complex? for a mapping statement, it has to be way more complicated</p>",
        "id": 204470969,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595276376
    },
    {
        "content": "<p>Most mappings are of the type \"this element in this structure maps to this element in that structure\".  So having a simple graphical representation of that would be a good thing.  I recognize that more complex mappings would need consideration of how to represent in a graphical way, but that might be done by notes on the mapping association.</p>",
        "id": 204471311,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595276559
    },
    {
        "content": "<p>but I can't write code against <em>most</em></p>",
        "id": 204471673,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595276749
    },
    {
        "content": "<p>right, thus my further statement that this representation would need to determine how best to do complex mappings</p>",
        "id": 204472019,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595276935
    },
    {
        "content": "<p>I admit to not knowing what this achieves. The link Jose provided above leaves me cold. How is it useful?</p>",
        "id": 204472314,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595277067
    },
    {
        "content": "<p>i suspect that you just aren't the audience for the graphical representation view.</p>",
        "id": 204472393,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595277108
    },
    {
        "content": "<p>perhaps not. I don't like views that provide false sense of security by hiding information</p>",
        "id": 204472475,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595277133
    },
    {
        "content": "<p>We could do several things with the existing representation, such as embedding links that allow you to find the targets of explicit and implicit group links, and using styling to make it easier to read</p>",
        "id": 204472534,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595277163
    },
    {
        "content": "<p>A lot of maps would look ok in a tabular form, I suppose. So for the ones that do, you can choose that your IG show that format. There a human in the loop, so it doesn't matter if the display cannot handle every case.</p>",
        "id": 204474509,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1595278321
    },
    {
        "content": "<p>the rendering doesn't even need to be part of the main IG tooling at first. It could generate HTML and be spliced in. Could be project specific at the start. I would be interested to see a dummy MapForce file and see if it could be turned into a StructureMap and then to an HTML that looks like the ConceptMap display.</p>",
        "id": 204474786,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1595278486
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> I have a few ideas here. I'll try and get an example in place over the weekend</p>",
        "id": 204785700,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595504545
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> did you happen to find time over the weekend to rig something up?  Our team is looking at using an external mapping tool or ETL tool to graphically represent the mappings and then use those for the transformations and I would really like the mappings to be represented as StructureMaps and ConceptMaps but it's a tough sell to maintain two separate mappings.</p>",
        "id": 205139259,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595867675
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span>  Have you got an example of a conceptmap and/or structureMap that you'd like to visualize?  Was wondering if the library I use for references between resources in clinFHIR could be useful...</p>",
        "id": 205148010,
        "sender_full_name": "David Hay",
        "timestamp": 1595872519
    },
    {
        "content": "<p>i haven't made one, but I could quickly put something together</p>",
        "id": 205148037,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595872539
    },
    {
        "content": "<p>I was imagining something where each element being mapped would be an 'object' with lines between them representing the mappings. Could get quite messy though, so not too sure if it would help...   Was thinking something like the bundle visualizer - eg: <a href=\"http://clinfhir.com/bundleVisualizer.html?id=aupc-compositionComplete&amp;server=http:%2F%2Fhome.clinfhir.com:8054%2FbaseR4%2F\">http://clinfhir.com/bundleVisualizer.html?id=aupc-compositionComplete&amp;server=http:%2F%2Fhome.clinfhir.com:8054%2FbaseR4%2F</a></p>",
        "id": 205149050,
        "sender_full_name": "David Hay",
        "timestamp": 1595873104
    },
    {
        "content": "<p>(This is a sample document so the 'objects' are all resources, but gives the idea...)</p>",
        "id": 205149158,
        "sender_full_name": "David Hay",
        "timestamp": 1595873162
    },
    {
        "content": "<p>no I didn't get to it - too many other things to look at. sorry</p>",
        "id": 205155672,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595876585
    }
]