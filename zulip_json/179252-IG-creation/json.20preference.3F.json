[
    {
        "content": "<p>It seems like the IG pub has a preference for json ...</p>\n<div class=\"codehilite\"><pre><span></span>Load Content                                                                     (11.0715sec)\nPublishing Content Failed: Unable to determine type for  /Users/jvi/Documents/fut-core/resources/structuredefinition/ITCompetenceLevel: Not a JSON Object: null (12.0139sec)\n                                                                                 (12.0139sec)\nUse -? to get command line help                                                  (12.0139sec)\n                                                                                 (12.0139sec)\nStack Dump (for debugging):                                                      (12.0139sec)\njava.lang.Exception: Unable to determine type for  /Users/jvi/Documents/fut-core/resources/structuredefinition/ITCompetenceLevel: Not a JSON Object: null\n    at org.hl7.fhir.igtools.publisher.Publisher.loadAsElementModel(Publisher.java:2405)\n    at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:1789)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:583)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:527)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4936)\nCaused by: java.lang.IllegalStateException: Not a JSON Object: null\n    at com.google.gson.JsonElement.getAsJsonObject(JsonElement.java:90)\n    at org.hl7.fhir.r4.formats.JsonParser.parseStructureDefinitionProperties(JsonParser.java:23579)\n    at org.hl7.fhir.r4.formats.JsonParser.parseStructureDefinition(JsonParser.java:23478)\n    at org.hl7.fhir.r4.formats.JsonParser.parseResource(JsonParser.java:27655)\n    at org.hl7.fhir.r4.formats.JsonParserBase.parse(JsonParserBase.java:92)\n    at org.hl7.fhir.r4.formats.ParserBase.parse(ParserBase.java:58)\n    at org.hl7.fhir.r4.elementmodel.ObjectConverter.convert(ObjectConverter.java:90)\n    at org.hl7.fhir.igtools.publisher.Publisher.loadAsElementModel(Publisher.java:2398)\n    ... 4 more\nException in thread &quot;main&quot; java.lang.NullPointerException\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4946)\n</pre></div>\n\n\n<ul>\n<li>is there an easy fix to this - or should I convert all my extensions to json (I've already done it with a single one and that worked)</li>\n</ul>",
        "id": 157258914,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1548927433
    },
    {
        "content": "<p>strange, i have no problems defining them in xml (e.g. <a href=\"https://github.com/hl7ch/ch-core/blob/master/resources/structuredefinition/ch-ext-ech-10-line.xml\" target=\"_blank\" title=\"https://github.com/hl7ch/ch-core/blob/master/resources/structuredefinition/ch-ext-ech-10-line.xml\">https://github.com/hl7ch/ch-core/blob/master/resources/structuredefinition/ch-ext-ech-10-line.xml</a>)</p>",
        "id": 157261652,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1548930429
    },
    {
        "content": "<p>The really strange part is that I used your project as starting point (<span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> )</p>",
        "id": 157261674,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1548930475
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> - btw - would you happen to know of a service that generates a narrative?</p>",
        "id": 157261779,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1548930584
    },
    {
        "content": "<p>the iG Publisher will generate narrative</p>",
        "id": 157262477,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548931365
    },
    {
        "content": "<p>the error means that you have a problem with your json format - probably  a wrong version issue. Note that the IG publisher is reading at as R4 but the location of the problem suggests that you're using R3</p>",
        "id": 157262674,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548931522
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ok, that makes sense. I'm using R3, and that is probably the reason why. Are there flags available to force it to R3 or is it published for different versions? </p>\n<p>(Its still a bit weird that is works when I convert the files to json though.)</p>",
        "id": 157265665,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1548934755
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - could the R3/R4 issue also be the case that I don't see any narrative being generated on my resources?</p>",
        "id": 157265869,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1548934981
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> - ... one more for the grinder:</p>\n<div class=\"codehilite\"><pre><span></span>Watching for changes on a 5sec cycle\nPublishing Content Failed: Can&#39;t have an exampleFor unless the file has exactly one resource\n\nUse -? to get command line help\n\nStack Dump (for debugging):\njava.lang.Exception: Can&#39;t have an exampleFor unless the file has exactly one resource\n    at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:1792)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:538)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4936)\nException in thread &quot;main&quot; java.lang.NullPointerException\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4946)\n</pre></div>",
        "id": 157266688,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1548936040
    },
    {
        "content": "<p>the narrative thing is not linked to version</p>",
        "id": 157268051,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548937659
    },
    {
        "content": "<p>you delcare the version you are using</p>",
        "id": 157268052,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548937665
    },
    {
        "content": "<p>what version have you said?</p>",
        "id": 157268058,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548937678
    },
    {
        "content": "<p>xml and json behave differently across versions because of how things reflect into the serialization</p>",
        "id": 157268107,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548937715
    },
    {
        "content": "<p>you can't have an example for a bundle. the tool can</p>",
        "id": 157268121,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548937742
    },
    {
        "content": "<p>'t figure out what it's an example for</p>",
        "id": 157268133,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1548937754
    },
    {
        "content": "<p>So ... after having dug into it I've found a way through that sort of works. I'l continue to make my profiles as R3 but serialize them as json. If they are expresssed in json I can continue to have my IG expressed in R4. That seem to work and makes it a bit easier to go to r4 when that time arrives ... this spring</p>",
        "id": 157270728,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1548940790
    }
]