[
    {
        "content": "<p>In my ig.xml, I have the following:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;page&gt;\n        &lt;source value=&quot;index.html&quot; /&gt;\n        &lt;title value=&quot;Breast Cancer Interoperability&quot; /&gt;\n        &lt;kind value=&quot;page&quot; /&gt;\n&lt;/page&gt;\n</pre></div>\n\n\n<p>Despite that, I receive the following error reported by the IG publisher:</p>\n<blockquote>\n<p><strong>Path</strong>: ImplementationGuide/1: ImplementationGuide.page<br>\n<strong>Severity</strong>: error<br>\n<strong>Message</strong>: Profile <a href=\"http://hl7.org/fhir/StructureDefinition/ImplementationGuide\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/ImplementationGuide\">http://hl7.org/fhir/StructureDefinition/ImplementationGuide</a>, Element 'ImplementationGuide.page.kind': minimum required = 1, but only found 0</p>\n</blockquote>\n<p>I found a recent git commit (<a href=\"https://github.com/hl7-fhir/fhir-svn/commit/5dac06227a32b40f48765f4e813e9cf1a64616fe\" target=\"_blank\" title=\"https://github.com/hl7-fhir/fhir-svn/commit/5dac06227a32b40f48765f4e813e9cf1a64616fe\">5dac06227a32b40f48765f4e813e9cf1a64616fe</a>) saying this is fixed, but my Auto-Build from this morning still contained this error.</p>",
        "id": 153947762,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522016114
    },
    {
        "content": "<p>Lloyd's fix probably wouldn't have fixed that</p>",
        "id": 153947787,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522035297
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> tying to make sense of your changes here:</p>\n<p>going from R3 to R4:</p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">src</span><span class=\"o\">.</span><span class=\"na\">hasKind</span><span class=\"o\">())</span>\n      <span class=\"k\">if</span> <span class=\"o\">(!</span><span class=\"n\">src</span><span class=\"o\">.</span><span class=\"na\">getKind</span><span class=\"o\">().</span><span class=\"na\">equals</span><span class=\"o\">(</span><span class=\"n\">org</span><span class=\"o\">.</span><span class=\"na\">hl7</span><span class=\"o\">.</span><span class=\"na\">fhir</span><span class=\"o\">.</span><span class=\"na\">dstu3</span><span class=\"o\">.</span><span class=\"na\">model</span><span class=\"o\">.</span><span class=\"na\">ImplementationGuide</span><span class=\"o\">.</span><span class=\"na\">GuidePageKind</span><span class=\"o\">.</span><span class=\"na\">PAGE</span><span class=\"o\">))</span>\n        <span class=\"n\">tgt</span><span class=\"o\">.</span><span class=\"na\">addExtension</span><span class=\"o\">(</span><span class=\"n\">org</span><span class=\"o\">.</span><span class=\"na\">hl7</span><span class=\"o\">.</span><span class=\"na\">fhir</span><span class=\"o\">.</span><span class=\"na\">r4</span><span class=\"o\">.</span><span class=\"na\">utils</span><span class=\"o\">.</span><span class=\"na\">ToolingExtensions</span><span class=\"o\">.</span><span class=\"na\">EXT_GENERATED_PAGE</span><span class=\"o\">,</span> <span class=\"k\">new</span> <span class=\"n\">org</span><span class=\"o\">.</span><span class=\"na\">hl7</span><span class=\"o\">.</span><span class=\"na\">fhir</span><span class=\"o\">.</span><span class=\"na\">r4</span><span class=\"o\">.</span><span class=\"na\">model</span><span class=\"o\">.</span><span class=\"na\">BooleanType</span><span class=\"o\">(</span><span class=\"kc\">true</span><span class=\"o\">));</span>\n</pre></div>\n\n\n<p>going from R4 to R3:</p>\n<div class=\"codehilite\"><pre><span></span>   <span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">src</span><span class=\"o\">.</span><span class=\"na\">hasExtension</span><span class=\"o\">(</span><span class=\"n\">org</span><span class=\"o\">.</span><span class=\"na\">hl7</span><span class=\"o\">.</span><span class=\"na\">fhir</span><span class=\"o\">.</span><span class=\"na\">r4</span><span class=\"o\">.</span><span class=\"na\">utils</span><span class=\"o\">.</span><span class=\"na\">ToolingExtensions</span><span class=\"o\">.</span><span class=\"na\">EXT_GENERATED_PAGE</span><span class=\"o\">)</span>\n    <span class=\"o\">&amp;&amp;</span> <span class=\"n\">src</span><span class=\"o\">.</span><span class=\"na\">getExtensionString</span><span class=\"o\">(</span><span class=\"n\">org</span><span class=\"o\">.</span><span class=\"na\">hl7</span><span class=\"o\">.</span><span class=\"na\">fhir</span><span class=\"o\">.</span><span class=\"na\">r4</span><span class=\"o\">.</span><span class=\"na\">utils</span><span class=\"o\">.</span><span class=\"na\">ToolingExtensions</span><span class=\"o\">.</span><span class=\"na\">EXT_GENERATED_PAGE</span><span class=\"o\">).</span><span class=\"na\">equals</span><span class=\"o\">(</span><span class=\"s\">&quot;true&quot;</span><span class=\"o\">))</span>\n      <span class=\"n\">tgt</span><span class=\"o\">.</span><span class=\"na\">setKind</span><span class=\"o\">(</span><span class=\"n\">org</span><span class=\"o\">.</span><span class=\"na\">hl7</span><span class=\"o\">.</span><span class=\"na\">fhir</span><span class=\"o\">.</span><span class=\"na\">dstu3</span><span class=\"o\">.</span><span class=\"na\">model</span><span class=\"o\">.</span><span class=\"na\">ImplementationGuide</span><span class=\"o\">.</span><span class=\"na\">GuidePageKind</span><span class=\"o\">.</span><span class=\"na\">PAGE</span><span class=\"o\">);</span>\n</pre></div>",
        "id": 153947788,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522035477
    },
    {
        "content": "<p>I read that as:<br>\n kind = page round trips to no kind (see Chris' error)<br>\n kind != page round trips to kind = page</p>",
        "id": 153947789,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522035517
    },
    {
        "content": "<p>I've made a fix to this</p>",
        "id": 153947806,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522045387
    },
    {
        "content": "<p>btw, Lloyd, I want to make a substantiative change to fix this one</p>",
        "id": 153947810,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522045653
    },
    {
        "content": "<p>before ballot</p>",
        "id": 153947811,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522045661
    },
    {
        "content": "<p>The \"generate page\" extension sayd \"This is not a PAGE kind - it's something else that's generated\".  So if kind=page, no extension.  If kind was anything else, then you get the extension.  Code from R4-&gt;R3 is wrong.  Challenge there is we don't have information on what to set kind to if it shouldn't be PAGE.</p>",
        "id": 153948022,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1522074217
    },
    {
        "content": "<p>something other than page, I think, is all that matters, based on the code of the IG publisher</p>",
        "id": 153948184,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1522090824
    },
    {
        "content": "<p>Thanks for the fix, <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>.  This message is confirming that I've re-run the build and that error has gone away.</p>",
        "id": 153948259,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1522110886
    }
]