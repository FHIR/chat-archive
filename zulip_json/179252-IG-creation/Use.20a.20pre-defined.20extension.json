[
    {
        "content": "<p>I am trying to use a pre-defined HL7 extension for the Observation resource defined here<br>\n<a href=\"http://build.fhir.org/extension-observation-gatewaydevice.html\" target=\"_blank\" title=\"http://build.fhir.org/extension-observation-gatewaydevice.html\">http://build.fhir.org/extension-observation-gatewaydevice.html</a></p>\n<p>But I am not quite sure how to include it in my structure definition differential. I think it should look like this:</p>\n<div class=\"codehilite\"><pre><span></span>    &lt;element id=&quot;Observation.extension&quot;&gt;\n      &lt;path value=&quot;Observation.extension&quot; /&gt;\n      &lt;short value=&quot;Extension for the PHG&quot; /&gt;\n      &lt;min value=&quot;0&quot;/&gt;\n      &lt;max value=&quot;1&quot;/&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.extension.url&quot;&gt;\n      &lt;path value=&quot;Observation.extension.url&quot; /&gt;\n      &lt;short value=&quot;Url indicating this is the gateway device extension&quot; /&gt;\n      &lt;fixedUri value=&quot;http://hl7.org/fhir/StructureDefinition/observation-gatewayDevice&quot; /&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.extension.value[x]&quot;&gt;\n      &lt;path value=&quot;Observation.extension.valueReference&quot; /&gt;\n      &lt;short value=&quot;Reference to the Personal Health Gateway (PHG) Device&quot; /&gt;\n      &lt;min value=&quot;1&quot; /&gt;\n      &lt;type&gt;\n        &lt;code value=&quot;Reference&quot; /&gt;\n      &lt;/type&gt;\n    &lt;/element&gt;\n</pre></div>\n\n\n<p>But I am not sure. I am getting errors in the build of the guide but removing this part doesn't solve the error so I can't tell if this is correct. I am confused by the use of the element 'gatewayDevce' in the definition versus the classic definition of extension value[x].</p>",
        "id": 154011747,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540372368
    },
    {
        "content": "<p>Define an element with a path of \"Observation.extension\" with a slice name and specify the type as Extension with a targetProfile of your extension URL.  That's all you need to do.  (Though you might want to assert constraints on cardinality and/or flag it as mustSupport.)</p>",
        "id": 154012064,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540439137
    }
]