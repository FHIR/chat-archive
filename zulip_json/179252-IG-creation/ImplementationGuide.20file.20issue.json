[
    {
        "content": "<p>For current build, is there an issue with the ImplementationGuide and the IG Publisher? </p>\n<p>I've updated my ImplementationGuide to validate against the schema and schematron (matches example on ImplementationGuide Resource page also). Specifically, and among other things, (changed from STU3) added &lt;definition&gt; element around &lt;package&gt; and &lt;resource&gt;. </p>\n<p>If I leave the &lt;definition&gt; element and the &lt;resource&gt; element in the file the IG Publisher crashes with <br>\n<code>Error : Unknown Content definition @  START_TAG seen ...&lt;/jurisdiction&gt;\\r\\n  &lt;definition&gt;... @16:15\n   org.hl7.fhir.r4.formats.XmlParserBase.unknownContent(XmlParserBase.java:269)\n   org.hl7.fhir.r4.formats.XmlParser.parseImplementationGuide(XmlParser.java:10698)\n   org.hl7.fhir.r4.formats.XmlParser.parseResource(XmlParser.java:21485)\n   org.hl7.fhir.r4.formats.XmlParserBase.parse(XmlParserBase.java:104)\n   org.hl7.fhir.r4.formats.XmlParserBase.parse(XmlParserBase.java:88)\n   org.hl7.fhir.r4.formats.ParserBase.parse(ParserBase.java:58)\n   org.hl7.fhir.igtools.publisher.Publisher.parse(Publisher.java:2221)\n   org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:1347)\n   org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:380)\n   org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:354)\n   org.hl7.fhir.igtools.ui.IGPublisherFrame$BackgroundPublisherTask.doInBackground(IGPublisherFrame.java:250)\n   org.hl7.fhir.igtools.ui.IGPublisherFrame$BackgroundPublisherTask.doInBackground(IGPublisherFrame.java:239)\n   javax.swing.SwingWorker$1.call(Unknown Source)\n   java.util.concurrent.FutureTask.run(Unknown Source)\n   javax.swing.SwingWorker.run(Unknown Source)\n   java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n   java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n   java.lang.Thread.run(Unknown Source)</code> </p>\n<p>If I take the &lt;definition&gt; element and the &lt;resource&gt; element (no longer a valid file) out it runs through.</p>",
        "id": 153946412,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1521545693
    },
    {
        "content": "<p>When it runs through, though, it obviously creates no resource pages and gives me the following error on the QA page: <code>/f:ImplementationGuide error   Undefined element 'package'</code></p>",
        "id": 153946413,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1521545856
    },
    {
        "content": "<p>Really hoping this is user error and I'm missing something super-obvious! <br>\nHeaded to bed, will check back in the morning...</p>",
        "id": 153946414,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1521545899
    },
    {
        "content": "<p>umm implementation guide is special. The IG publisher, irrespective of what version you specify, is using R3 implementation guide</p>",
        "id": 153946440,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521550128
    },
    {
        "content": "<p>is that the problem here?</p>",
        "id": 153946441,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521550151
    },
    {
        "content": "<p>That probably is the problem. So even if you are publishing a current build IG you the ImplementationGuide resource is R3? Ok will try that and see if it works.</p>",
        "id": 153946636,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1521568899
    },
    {
        "content": "<p>Did I miss this in the documentation somewhere?</p>",
        "id": 153946638,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1521570597
    },
    {
        "content": "<p>no it's not documented. It's a decision I made under pressure about 3 days ago</p>",
        "id": 153946642,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521572214
    },
    {
        "content": "<p>Ok thanks, trying with rolled back version...</p>",
        "id": 153946643,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1521572336
    }
]