[
    {
        "content": "<p>The Spreadsheet parser is generating two two types.  e.g.,</p>\n<div class=\"codehilite\"><pre><span></span> &lt;element id=&quot;Observation.category&quot;&gt;\n      &lt;path value=&quot;Observation.category&quot;/&gt;\n      &lt;min value=&quot;1&quot;/&gt;\n      &lt;max value=&quot;1&quot;/&gt;\n      &lt;type&gt;\n        &lt;code value=&quot;CodeableConcept&quot;/&gt;\n      &lt;/type&gt;\n      &lt;type&gt;\n        &lt;code value=&quot;CodeableConcept&quot;/&gt;\n      &lt;/type&gt;\n      &lt;mustSupport value=&quot;false&quot;/&gt;\n      &lt;isModifier value=&quot;false&quot;/&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.category.coding&quot;&gt;\n      &lt;path value=&quot;Observation.category.coding&quot;/&gt;\n      &lt;min value=&quot;1&quot;/&gt;\n      &lt;max value=&quot;1&quot;/&gt;\n      &lt;type&gt;\n        &lt;code value=&quot;Coding&quot;/&gt;\n      &lt;/type&gt;\n      &lt;type&gt;\n        &lt;code value=&quot;Coding&quot;/&gt;\n      &lt;/type&gt;\n      &lt;mustSupport value=&quot;false&quot;/&gt;\n      &lt;isModifier value=&quot;false&quot;/&gt;\n    &lt;/element&gt;\n</pre></div>",
        "id": 153940868,
        "sender_full_name": "Eric Haas",
        "timestamp": 1519708788
    },
    {
        "content": "<p>Good news is the validator is complaining about this.</p>",
        "id": 153940869,
        "sender_full_name": "Eric Haas",
        "timestamp": 1519708850
    },
    {
        "content": "<p>sorry I missed this. I think I'll need to fix it</p>",
        "id": 153946234,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521483227
    },
    {
        "content": "<p>does this happen for the current us-core?</p>",
        "id": 153946241,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521483812
    },
    {
        "content": "<p>as in, what is committed now?</p>",
        "id": 153946242,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521483818
    },
    {
        "content": "<p>nope</p>",
        "id": 153946277,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521493605
    },
    {
        "content": "<p>Is there any easy way for me to reproduce?</p>",
        "id": 153946290,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521500138
    },
    {
        "content": "<p>I can't get SD to even generate to show you with the latest ig-pub here is the error:</p>\n<div class=\"codehilite\"><pre><span></span>Initialization complete                                                          (21.0355sec)\nLoad Content                                                                     (21.0355sec)\nload /Users/ehaas/Documents/FHIR/IG-Template2/source/resources/template-profile-spreadsheet.xml (21.0691sec)\nException in thread &quot;main&quot; java.lang.Error: Not the right type for ElementDefinition.binding.valueSet[x]: Reference\n    at org.hl7.fhir.r4.model.ElementDefinition$ElementDefinitionBindingComponent.setValueSet(ElementDefinition.java:3466)\n    at org.hl7.fhir.igtools.spreadsheets.IgSpreadsheetParser.readBindings(IgSpreadsheetParser.java:497)\n    at org.hl7.fhir.igtools.spreadsheets.IgSpreadsheetParser.loadBindings(IgSpreadsheetParser.java:431)\n    at org.hl7.fhir.igtools.spreadsheets.IgSpreadsheetParser.parse(IgSpreadsheetParser.java:165)\n    at org.hl7.fhir.igtools.publisher.Publisher.loadSpreadsheet(Publisher.java:1604)\n    at org.hl7.fhir.igtools.publisher.Publisher.loadSpreadsheets(Publisher.java:1589)\n    at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:1362)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:380)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:354)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4152)\n</pre></div>",
        "id": 153946311,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521508717
    },
    {
        "content": "<p>The above error is when I try to use a spreadsheet,  I am able to run US-Core as xml files.  But not able to use the definitions file that it generates.  here is the error when I try to use the latest definitions file from US-Core...</p>",
        "id": 153946312,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521508834
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>Local Validation Pack from cache location /Users/ehaas/Documents/FHIR/IG-Template2/generated_output/txCache/validation-3.0.1.zip using version 3.0.1 (00.0443sec)\nDefinitions 3.0.1-11917                                                          (18.0748sec)\nLoad Terminology Cache from /Users/ehaas/Documents/FHIR/IG-Template2/generated_output/txCache (18.0754sec)\nConnect to Terminology Server at http://tx.fhir.org/r4                           (18.0757sec)\nLoad uscore (http://build.fhir.org/ig/HL7/US-Core/) from dependencies/uscore     (20.0699sec)\nException in thread &quot;main&quot; java.lang.Error: Not the right type for ElementDefinition.binding.valueSet[x]: Reference\n    at org.hl7.fhir.r4.model.ElementDefinition$ElementDefinitionBindingComponent.setValueSet(ElementDefinition.java:3466)\n    at org.hl7.fhir.r4.formats.JsonParser.parseElementDefinitionElementDefinitionBindingComponentProperties(JsonParser.java:1739)\n    at org.hl7.fhir.r4.formats.JsonParser.parseElementDefinitionElementDefinitionBindingComponent(JsonParser.java:1723)\n    at org.hl7.fhir.r4.formats.JsonParser.parseElementDefinitionProperties(JsonParser.java:1526)\n    at org.hl7.fhir.r4.formats.JsonParser.parseElementDefinition(JsonParser.java:1363)\n    at org.hl7.fhir.r4.formats.JsonParser.parseStructureDefinitionStructureDefinitionSnapshotComponentProperties(JsonParser.java:20735)\n    at org.hl7.fhir.r4.formats.JsonParser.parseStructureDefinitionStructureDefinitionSnapshotComponent(JsonParser.java:20726)\n    at org.hl7.fhir.r4.formats.JsonParser.parseStructureDefinitionProperties(JsonParser.java:20675)\n    at org.hl7.fhir.r4.formats.JsonParser.parseStructureDefinition(JsonParser.java:20543)\n    at org.hl7.fhir.r4.formats.JsonParser.parseResource(JsonParser.java:24564)\n    at org.hl7.fhir.r4.formats.JsonParserBase.parse(JsonParserBase.java:90)\n    at org.hl7.fhir.igtools.publisher.Publisher.loadIg(Publisher.java:1151)\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:869)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:352)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4152)\n</pre></div>",
        "id": 153946313,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521509063
    },
    {
        "content": "<p>hmm. let me look into that</p>",
        "id": 153946321,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521509572
    },
    {
        "content": "<p>The prior ig-pub generated a definitions.file that I was able to use.</p>",
        "id": 153946322,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521509644
    },
    {
        "content": "<p>hm.. how are you running that?</p>",
        "id": 153946323,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521509692
    },
    {
        "content": "<p>and I'm not married to spreadsheets anymore so isn't a big deal if they are dead.</p>",
        "id": 153946325,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521509729
    },
    {
        "content": "<p>I think Lloyd still is</p>",
        "id": 153946327,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521509770
    },
    {
        "content": "<p>converted the spreadsheets to xml and ran it.</p>",
        "id": 153946328,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521509770
    },
    {
        "content": "<p>for the last version of ig-pub</p>",
        "id": 153946329,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521509792
    },
    {
        "content": "<p>so I just updated from github and built - and it builds ok</p>",
        "id": 153946332,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521510264
    },
    {
        "content": "<p>What builds OK?  US-Core?</p>",
        "id": 153946334,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521510585
    },
    {
        "content": "<p>yes.</p>",
        "id": 153946335,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521510590
    },
    {
        "content": "<p>can you send me a defnitions file?</p>",
        "id": 153946336,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521510666
    },
    {
        "content": "<p>Fetch Validation Pack from <a href=\"http://hl7.org/fhir/STU3/igpack.zip\" target=\"_blank\" title=\"http://hl7.org/fhir/STU3/igpack.zip\">http://hl7.org/fhir/STU3/igpack.zip</a>                   (00.0382sec)</p>",
        "id": 153946337,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521510729
    },
    {
        "content": "<p>that's where it's loading from</p>",
        "id": 153946338,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521510740
    },
    {
        "content": "<p>the US Core defintions file from your ig-build</p>",
        "id": 153946339,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521510773
    },
    {
        "content": "<p>umm?</p>",
        "id": 153946340,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521510853
    },
    {
        "content": "<p>And the SD files in the build had a single type for each element?</p>",
        "id": 153946341,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521510935
    },
    {
        "content": "<p>don't know. I just built of what's current.</p>",
        "id": 153946342,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521510947
    },
    {
        "content": "<p>where would  look to be sure it's not generating duplicate types?</p>",
        "id": 153946343,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521510967
    },
    {
        "content": "<p>The Git repo is spreadsheets and when I ran the ig-pub the generated SD had two types for each element.  Should show up in qa.html if it does.</p>",
        "id": 153946344,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521511027
    },
    {
        "content": "<p>I am signing off for now will look more into it tomorrow.</p>",
        "id": 153946345,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521511205
    },
    {
        "content": "<p>ok I think i fixed that...</p>",
        "id": 153946354,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521514840
    },
    {
        "content": "<p>no. grrr</p>",
        "id": 153946358,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521516606
    },
    {
        "content": "<p>now really fixed!</p>",
        "id": 153946435,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521549157
    }
]