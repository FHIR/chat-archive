[
    {
        "content": "<p>I'm trying to (locally) build an IG, and I'm getting a lot of reports like <code>No value set found at Medication.form (url = 'https://healthterminologies.gov.au/fhir/ValueSet/medication-form-1')</code>, despite the ValueSet being present on the terminology server that I'm specifying using <code>-tx</code>. How is the publisher determining whether a tx server has a ValueSet? Not using /ValueSet?url=XX or /ValueSet/$expand?url=XX ?</p>",
        "id": 182517051,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575424065
    },
    {
        "content": "<p>I don't think that error comes from the terminology server</p>",
        "id": 182517157,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575424272
    },
    {
        "content": "<p>No, I had assumed it was the publisher reporting a problem with the terminology server</p>",
        "id": 182517168,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575424300
    },
    {
        "content": "<p>But I'm not sure what that might be</p>",
        "id": 182521855,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575430337
    },
    {
        "content": "<p>Is the IG publisher tool looking for something about ValueSets in the terminology capabilities statement?</p>",
        "id": 182614656,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575504759
    },
    {
        "content": "<p>it's trying to render the profile. The profile refers to the value set, but the IG publisher has no knowledge of where to point the value set reference to</p>",
        "id": 182615012,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575505099
    },
    {
        "content": "<p>Looking at my tx server logs, it also only seems to be performing <code>CodeSystem/$validate-code</code> checks. No <code>ValueSet?url=</code>or <code>ValueSet/$validate-code</code> (or a lot fewer than I would expect)</p>",
        "id": 182615280,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575505413
    },
    {
        "content": "<p>did you clear the txCache before looking at your log?</p>",
        "id": 182615304,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575505442
    },
    {
        "content": "<p>I'm running with <code>-resetTx</code>, does that do the same thing?</p>",
        "id": 182615598,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575505704
    },
    {
        "content": "<p>y</p>",
        "id": 182615602,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575505713
    },
    {
        "content": "<p>then yes</p>",
        "id": 182615606,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575505718
    },
    {
        "content": "<p>It might be that some of the command-line \"missing ValueSets\" messages might be due to \"missing\" ValueSet urls in the ig.json (the ADHA ValueSet urls do resolve for a human, but not quite properly for a program that expects to resolve to JSON/XML)</p>",
        "id": 182615846,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575505981
    },
    {
        "content": "<p>when you refer to a value set in a profile, you need to not only make it available via a terminology server, you also need to make it available as a published artifact, so that it can be rendered properly. That means, published in an IG that is registered as a dependency</p>",
        "id": 182615937,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575506045
    },
    {
        "content": "<p>Yeah, that's very desirable. Not the case at present for a lot of these national terminology artifacts</p>",
        "id": 182615962,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575506085
    },
    {
        "content": "<p>then you get that note, but it otherwise publishes</p>",
        "id": 182615975,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575506102
    },
    {
        "content": "<p>Yep. I'll turn my attention to the validation errors. I'm still getting a lot of \"ValueSet <a href=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-medication-1\" target=\"_blank\" title=\"https://healthterminologies.gov.au/fhir/ValueSet/australian-medication-1\">https://healthterminologies.gov.au/fhir/ValueSet/australian-medication-1</a> not found by validator\" in the qa.html despite the ValueSet being in the tx server</p>",
        "id": 182616144,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575506290
    },
    {
        "content": "<p>it's following the same logic - trying to find the value sets in the dependencies</p>",
        "id": 182617870,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575507934
    },
    {
        "content": "<p>So there's no way to have them from outside a dependency? That's pretty limiting when using authoritative third-party terminology out of the control of the IG author</p>",
        "id": 182618470,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575508560
    },
    {
        "content": "<p>I'll think about it. It's not a small upgrade...</p>",
        "id": 182619196,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575509253
    },
    {
        "content": "<p>Sure</p>",
        "id": 182619201,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575509273
    },
    {
        "content": "<p>I mean, we might have levers to make/help ADHA build a package as an additional delivery mechanism for their terminology resources, but I feel like it will become a really difficult additional sell when we're trying to convince other terminology sources that they should produce FHIR versions of their artifacts. Its hard enough convincing them to produce a CodeSystem resource</p>",
        "id": 182619382,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575509405
    },
    {
        "content": "<p>CoeSystems we are much more flexible about</p>",
        "id": 182619401,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575509431
    },
    {
        "content": "<p>Potato, potato</p>",
        "id": 182619406,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575509440
    },
    {
        "content": "<p>but how would it work if you don't have FHIR Value set?</p>",
        "id": 182619411,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575509448
    },
    {
        "content": "<p>;)</p>",
        "id": 182619412,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575509448
    },
    {
        "content": "<p>As in, nothing either at the resolved URL, nothing in the IG itself, nothing in the tx server?</p>",
        "id": 182619446,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575509494
    },
    {
        "content": "<p>well, if you have it in the tx server, you have it as a fhir resource...</p>",
        "id": 182619498,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575509536
    },
    {
        "content": "<p>Yes, that's my current situation</p>",
        "id": 182619532,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575509610
    },
    {
        "content": "<p>with regard to validation... I can re-org the code internally to deal with only having the value set on the tx server. But for publication... I need to know the html location for human consumption</p>",
        "id": 182619630,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575509718
    },
    {
        "content": "<p>Yep, that seems reasonable</p>",
        "id": 182619642,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575509741
    },
    {
        "content": "<p>As a next step</p>",
        "id": 182619690,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575509766
    },
    {
        "content": "<p>so we'd somehow need to figure out how the renderer figures out the html location for a a value set it holds. It might not be the literal URL...</p>",
        "id": 182619703,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575509810
    },
    {
        "content": "<p>On a related note, just while I'm debugging stuff, does the resolution of these terminology resources by URL follow 301 redirects?</p>",
        "id": 182619826,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575509982
    },
    {
        "content": "<p>I don't know. It would depend on how the http client is configured</p>",
        "id": 182619992,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575510139
    },
    {
        "content": "<p>and I don't remember</p>",
        "id": 182619997,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575510144
    },
    {
        "content": "<p>I've just been looking at the healthterminologies ValueSet URLs that the publisher is complaining about, and they do actually resolve, but only by following the 301s</p>",
        "id": 182620024,
        "sender_full_name": "Jim Steel",
        "timestamp": 1575510186
    },
    {
        "content": "<p>well, when we try to resolve them, I'll keep that in mind</p>",
        "id": 182620114,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575510264
    },
    {
        "content": "<p>Would it work to have the ValueSet in the tx server point at a location for human consumption (or something in the IG itself)?</p>",
        "id": 182625719,
        "sender_full_name": "Michael Lawley",
        "timestamp": 1575518459
    },
    {
        "content": "<p>that could work (Won't now)/ But how would the IG publisher know?</p>",
        "id": 182627830,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575521554
    }
]