[
    {
        "content": "<p>I cannot not find any examples on the FHIR web site how to syntactically setup slicing using a pattern. This seems like a way to slice on a value set when one value set has one set of codes and the other has another set of codes, but both value sets come from the same code system. But I do not how to further setup a slicing when I indicate &lt;type value=\"pattern\" /&gt;. I guess this is very rarely used.</p>\n<p>So far this is the best I have found:</p>\n<p><a href=\"https://www.hl7.org/fhir/structuredefinition-example-composition.xml.html\" target=\"_blank\" title=\"https://www.hl7.org/fhir/structuredefinition-example-composition.xml.html\">https://www.hl7.org/fhir/structuredefinition-example-composition.xml.html</a><br>\n<code>      &lt;patternCodeableConcept&gt; \n        &lt;coding&gt; \n          &lt;system value=\"http://loinc.org\"/&gt; \n          &lt;code value=\"18776-5\"/&gt; \n          &lt;display value=\"Plan of treatment (narrative)\"/&gt; \n        &lt;/coding&gt; \n      &lt;/patternCodeableConcept&gt; </code></p>\n<p>However its not clear to me what my options are. Can I use a value set somehow since the value set identifies the list of codes? It would be a pain to copy all of those codes into this list and then remember to update it when the value set gets updated.</p>",
        "id": 159282648,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1551027032
    },
    {
        "content": "<p>slice on pattern is used a lot.   And the example is how is typically used.   pattern is like fixed for a complex datatype.  If you want to use a value set then slice by valueset?</p>",
        "id": 159306323,
        "sender_full_name": "Eric Haas",
        "timestamp": 1551059056
    },
    {
        "content": "<blockquote>\n<p>slice on pattern is used a lot.   And the example is how is typically used.   pattern is like fixed for a complex datatype.  If you want to use a value set then slice by valueset?</p>\n</blockquote>\n<p>I DO want to slice on a value set. Can you tell me how to do that?</p>",
        "id": 159328157,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1551091602
    },
    {
        "content": "<p>Pattern doesn't let you slice by value set.  Pattern lets you say \"the complex type I'm slicing on should match this pattern\" - where the pattern is a set of fixed values for some of the elements.  None of them can be expressed with a valueset.  If you want to sliced with a value set, you have to slice by value.</p>",
        "id": 159349617,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1551111464
    },
    {
        "content": "<p>Regarding the example pattern above, I'd also add that profilers should be careful about including the <code>display</code> in a <code>patternCodeableConcept</code>.  If you do use <code>display</code>, the profile requires the instance data to contain that exact display value.  If you only care that it includes the necessary <code>system</code> and <code>code</code> (regardless of <code>display</code>), you should leave <code>display</code> out of the pattern.</p>",
        "id": 160006191,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1551795618
    }
]