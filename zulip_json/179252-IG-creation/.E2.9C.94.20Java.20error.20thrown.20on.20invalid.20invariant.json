[
    {
        "content": "<p>I have an extension that has a value of type Date.  When I create an example that includes this extension, I get the following Java error that stops the publisher:</p>\n<div class=\"codehilite\"><pre><span></span><code>Unhandled Exception: org.hl7.fhir.exceptions.FHIRException: Problem processing expression not(this.exists()) or this.length() == 10 in profile http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-diagnosisRecordedDate path Bundle.entry[0].resource.ofType(Claim).diagnosis[0].extension[0].value.ofType(date): Error @1, 2: The function &quot;not&quot; requires 0 parameters (00:45.0067)\n...\n...\nStack Dump (for debugging):                                                      (00:45.0081)\norg.hl7.fhir.exceptions.FHIRException: Problem processing expression not(this.exists()) or this.length() == 10 in profile http://hl7.org/fhir/us/davinci-pas/StructureDefinition/extension-diagnosisRecordedDate path Bundle.entry[0].resource.ofType(Claim).diagnosis[0].extension[0].value.ofType(date): Error @1, 2: The function &quot;not&quot; requires 0 parameters\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkInvariant(InstanceValidator.java:5186)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkInvariants(InstanceValidator.java:5135)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkInvariants(InstanceValidator.java:5005)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkChildByDefinition(InstanceValidator.java:4627)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkChild(InstanceValidator.java:4513)\n    at org.hl7.fhir.validation.instance.InstanceValidator.validateElement(InstanceValidator.java:4465)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkExtension(InstanceValidator.java:1658)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkChildByDefinition(InstanceValidator.java:4664)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkChild(InstanceValidator.java:4513)\n    at org.hl7.fhir.validation.instance.InstanceValidator.validateElement(InstanceValidator.java:4465)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkChildByDefinition(InstanceValidator.java:4686)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkChild(InstanceValidator.java:4513)\n    at org.hl7.fhir.validation.instance.InstanceValidator.validateElement(InstanceValidator.java:4465)\n    at org.hl7.fhir.validation.instance.InstanceValidator.startInner(InstanceValidator.java:4180)\n    at org.hl7.fhir.validation.instance.InstanceValidator.start(InstanceValidator.java:4043)\n    at org.hl7.fhir.validation.instance.InstanceValidator.validateResource(InstanceValidator.java:5280)\n    at org.hl7.fhir.validation.instance.InstanceValidator.validateContains(InstanceValidator.java:4350)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkChildByDefinition(InstanceValidator.java:4669)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkChild(InstanceValidator.java:4513)\n    at org.hl7.fhir.validation.instance.InstanceValidator.validateElement(InstanceValidator.java:4465)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkChildByDefinition(InstanceValidator.java:4686)\n    at org.hl7.fhir.validation.instance.InstanceValidator.checkChild(InstanceValidator.java:4513)\n    at org.hl7.fhir.validation.instance.InstanceValidator.validateElement(InstanceValidator.java:4465)\n    at org.hl7.fhir.validation.instance.InstanceValidator.startInner(InstanceValidator.java:4180)\n    at org.hl7.fhir.validation.instance.InstanceValidator.start(InstanceValidator.java:4043)\n    at org.hl7.fhir.validation.instance.InstanceValidator.validateResource(InstanceValidator.java:5280)\n    at org.hl7.fhir.validation.instance.InstanceValidator.validate(InstanceValidator.java:751)\n    at org.hl7.fhir.validation.instance.InstanceValidator.validate(InstanceValidator.java:730)\n    at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:5071)\n    at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:4931)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:907)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:755)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8777)\n</code></pre></div>\n<p>This isn't my invariant, I'm assuming that it is inherited from somewhere but I can't actually see where.</p>\n<p>For now, I'm going to remove the date from my example to get around this error.</p>",
        "id": 261988664,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1637268619
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> has marked this topic as resolved.</p>",
        "id": 261995300,
        "sender_full_name": "Notification Bot",
        "timestamp": 1637271831
    },
    {
        "content": "<p>nothing to see here - it was my invariant</p>",
        "id": 261995366,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1637271848
    },
    {
        "content": "<p>So it was your internet connection all along?</p>",
        "id": 261995655,
        "sender_full_name": "David Pyke",
        "timestamp": 1637272009
    },
    {
        "content": "<p>different problem :)</p>",
        "id": 261995708,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1637272045
    },
    {
        "content": "<p>PEBCAK?</p>",
        "id": 261995825,
        "sender_full_name": "David Pyke",
        "timestamp": 1637272102
    },
    {
        "content": "<p>yep - basically a bad memory.  \"Who wrote this bad invariant?!?\"  \"And why is just being detected now?!?\" \"Oh look, here is the invariant in my FSH file.\"  \"Nothing to see here!\"</p>",
        "id": 261995838,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1637272110
    }
]