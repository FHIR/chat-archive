[
    {
        "content": "<p>I am defining a value set that is comprised of all the codes in a code system that is already defined but does not have a URI - it only has an OID.  The definition is \"Include all codes defined in urn:oid:2.16.840.1.113883.3.989.2.1.1.9\" and, as expected, there is no expansion because the publishing tooling can't look up that code system.  I'm fine with all of that.</p>\n<p>However, it throws an error in the QA report when I would have thought that should be a warning - much like the warnings in examples when the code system URI is unknown.</p>",
        "id": 192428963,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585678679
    },
    {
        "content": "<p>Grahame wants a test case for this.  I haven't had time yet to prepare one.  Feel free :)</p>",
        "id": 192430926,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585679536
    },
    {
        "content": "<p>Okay, how do I create/send him the test case details?</p>",
        "id": 192431577,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585679833
    },
    {
        "content": "<p>Repository is here: <a href=\"https://github.com/FHIR/fhir-test-cases.git\" title=\"https://github.com/FHIR/fhir-test-cases.git\">https://github.com/FHIR/fhir-test-cases.git</a>.  Validator tests go in the validator folder.  Take a look at the manifest file for examples of how tests are defined</p>",
        "id": 192432772,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585680428
    },
    {
        "content": "<p>Okay, I can do that.  But is this something that we <em>don't</em> want to be an error?</p>",
        "id": 192433332,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585680711
    },
    {
        "content": "<p>Yes.  It should only be a warning</p>",
        "id": 192435696,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585681843
    },
    {
        "content": "<p>I don't understand this. if you're giving it a URL (<code>urn:oid:2.16.840.1.113883.3.989.2.1.1.9</code>) then give it the URL</p>",
        "id": 192445936,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585686962
    },
    {
        "content": "<p>i am giving it a url.  and the QA page reports an error</p>",
        "id": 192446074,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687026
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>  &quot;resourceType&quot;: &quot;ValueSet&quot;,\n  &quot;status&quot;: &quot;active&quot;,\n  &quot;name&quot;: &quot;PatientAgeGroupVS&quot;,\n  &quot;id&quot;: &quot;PatientAgeGroupVS&quot;,\n  &quot;title&quot;: &quot;Patient Age Group&quot;,\n  &quot;description&quot;: &quot;Codes that represent a patient&#39;s age group&quot;,\n  &quot;version&quot;: &quot;0.1.0&quot;,\n  &quot;url&quot;: &quot;http://ibm.com/fhir/fda/icsr/ValueSet/PatientAgeGroupVS&quot;,\n  &quot;compose&quot;: {\n    &quot;include&quot;: [\n      {\n        &quot;system&quot;: &quot;urn:oid:2.16.840.1.113883.3.989.2.1.1.9&quot;\n      }\n    ]\n  }\n}\n</pre></div>",
        "id": 192446128,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687068
    },
    {
        "content": "<p>and the error is that <code>urn:oid:2.16.840.1.113883.3.989.2.1.1.9</code> isn't found?</p>",
        "id": 192446236,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585687111
    },
    {
        "content": "<p>Sort of:<br>\nError from server: Unable to provide support for code system urn:oid:2.16.840.1.113883.3.989.2.1.1.9</p>",
        "id": 192446302,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687146
    },
    {
        "content": "<p>which I think should be a warning and not an error?</p>",
        "id": 192446372,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687186
    },
    {
        "content": "<p>no it needs to be an error. but why don't you define the code system properly?</p>",
        "id": 192446649,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585687317
    },
    {
        "content": "<p>the code system is defined properly.  it's an external code system that uses the OID as its identifier</p>",
        "id": 192446715,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687339
    },
    {
        "content": "<p>so there's no code system resource?</p>",
        "id": 192446939,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585687447
    },
    {
        "content": "<p>i didn't create a code system resource as it is external</p>",
        "id": 192446984,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687486
    },
    {
        "content": "<p>i suppose I could</p>",
        "id": 192447033,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687504
    },
    {
        "content": "<p>then of course the terminology server can't expand the code system and has to return an error</p>",
        "id": 192447051,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585687514
    },
    {
        "content": "<p>but you should, yes, unless licensing terms make it impossible</p>",
        "id": 192447084,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585687528
    },
    {
        "content": "<p>i understand that the terminology server returns an error.  but i don't think that the publisher validation step should raise that as an error on the qa page, but rather a warning</p>",
        "id": 192447125,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687557
    },
    {
        "content": "<p>I don't follow why this should magically be not an error when it's an error</p>",
        "id": 192447462,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585687721
    },
    {
        "content": "<p>why do you think it is an error for my implementation guide?  I know that the terminology server can't support this code system URI but that isn't a problem for my guide.</p>",
        "id": 192447681,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687814
    },
    {
        "content": "<p>that just screams warning to me.</p>",
        "id": 192447773,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687864
    },
    {
        "content": "<p>\"hey, I don't know about this code system.  are you sure you have it right?\"</p>",
        "id": 192447839,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585687903
    },
    {
        "content": "<p>Why would you define an external code system in your IG?  The code system exists.  The terminology server doesn't know about it.  That's <em>not</em> an error situation.  There are thousands of code systems that the terminology server will never know about.</p>",
        "id": 192448374,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585688185
    },
    {
        "content": "<p>To my mind, it's inappropriate to define an external code system within an IG that isn't specific to that IG.</p>",
        "id": 192448441,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585688236
    },
    {
        "content": "<p>someone needs to define it somewhere. there is a place to define these things so the terminology server knows about them</p>",
        "id": 192449079,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585688562
    },
    {
        "content": "<p>do I define this as an actual CodeSystem resource?  or just as a NamingSystem resource?</p>",
        "id": 192449235,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585688641
    },
    {
        "content": "<p>since I don't want to duplicate all of the codes in this resource.</p>",
        "id": 192449345,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1585688681
    },
    {
        "content": "<p>No one needs to define it as a FHIR resource.  We might <em>like</em> them to, but there's no requirement that it happens.  It is not an error to point to things the terminology server knows nothing about.</p>",
        "id": 192453156,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585690639
    },
    {
        "content": "<p>We might choose to have a policy that, for HL7 Int'l-published IGs, there's a requirement for FMG or Vocab or some other approval to point to a terminology that isn't hosted on the HL7 terminology server.  But for the world at large, it'll be common to point to terminologies where the IG isn't defining/maintaining the source (and can't/won't) and the maintainer of the source can't/won't stick it in HL7's terminology server.</p>",
        "id": 192453316,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1585690753
    }
]