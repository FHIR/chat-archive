[
    {
        "content": "<p>OK I tested out <code>ElementDefinition.slicing.description</code>  and I got a validation error for an example and incorrect rendering for the SD.   So I assume it has not been implemented yet?</p>",
        "id": 262849687,
        "sender_full_name": "Eric Haas",
        "timestamp": 1637981715
    },
    {
        "content": "<p>what's to implement?</p>",
        "id": 262857321,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1637993885
    },
    {
        "content": "<ul>\n<li>Here is the slicing definition:</li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"c1\"># .....</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">id</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">DiagnosticReport.category</span>\n      <span class=\"nt\">path</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">DiagnosticReport.category</span>\n      <span class=\"nt\">slicing</span><span class=\"p\">:</span>\n        <span class=\"c1\"># discriminator:</span>\n        <span class=\"c1\">#   - type: pattern</span>\n        <span class=\"c1\">#     path: $this</span>\n        <span class=\"nt\">description</span><span class=\"p\">:</span> <span class=\"p p-Indicator\">&gt;-</span>   <span class=\"c1\">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; description for slice</span>\n          <span class=\"no\">A required or extensible binding with a Value Set that enumerates the list of possible codes in the value set.</span>\n        <span class=\"nt\">rules</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">open</span>\n      <span class=\"nt\">min</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">1</span>\n      <span class=\"nt\">mustSupport</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">true</span>\n    <span class=\"p p-Indicator\">-</span> <span class=\"nt\">id</span><span class=\"p\">:</span> <span class=\"s\">'DiagnosticReport.category:us-core'</span>\n      <span class=\"nt\">path</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">DiagnosticReport.category</span>\n      <span class=\"nt\">sliceName</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">us-core</span>\n      <span class=\"nt\">min</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">1</span>\n      <span class=\"nt\">mustSupport</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">true</span>\n      <span class=\"nt\">binding</span><span class=\"p\">:</span>\n        <span class=\"nt\">strength</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">extensible</span>\n        <span class=\"nt\">valueSet</span><span class=\"p\">:</span> <span class=\"s\">'http://hl7.org/fhir/us/core/ValueSet/us-core-diagnosticreport-category'</span>\n<span class=\"c1\"># .....</span>\n</code></pre></div>\n<ul>\n<li>The validator produced zero errors.</li>\n<li>\n<p>For the rendering, I expected the description to be reproduced in the detailed description and the table views.<br>\n However, it looks like this:</p>\n<p><a href=\"/user_uploads/10155/_xB57Hoewg7sA6WD21-_-FoG/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/_xB57Hoewg7sA6WD21-_-FoG/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/_xB57Hoewg7sA6WD21-_-FoG/image.png\"></a></div></li>\n<li>\n<p>Since a description is not machine readable I expected no errors, maybe a warning or more likely an informational message that it cannot be validated. However, these are a the errors produced for an example:   </p>\n<p><a href=\"/user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png\"></a></div></li>\n</ul>",
        "id": 262899275,
        "sender_full_name": "Eric Haas",
        "timestamp": 1638056909
    },
    {
        "content": "<p>This is a really bad path forward.  You're defining slicing rules that can't be tested electronically (by the validator or by anyone else).  So what's the point?</p>",
        "id": 262934095,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638113052
    },
    {
        "content": "<p>well, since you you've define a slice with a minimum cardinality of 0, the validator is telling you didn't find a match.</p>",
        "id": 262950940,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638137085
    },
    {
        "content": "<p>but it would be good if the renderer presented it properly</p>",
        "id": 262950944,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638137098
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179252-IG-creation/topic/.60ElementDefinition.2Eslicing.2Edescription.60/near/262934095\">said</a>:</p>\n<blockquote>\n<p>This is a really bad path forward.  You're defining slicing rules that can't be tested electronically (by the validator or by anyone else).  So what's the point?</p>\n</blockquote>\n<p>that is not the point.   The point here is If the base defines an element in ElementDefinition then the expectation is that the ig-publisher would render and validate it according to the definition and not produce and error if an element is present in the example instances.</p>",
        "id": 263029495,
        "sender_full_name": "Eric Haas",
        "timestamp": 1638202314
    },
    {
        "content": "<p>I think it should present it correctly, yes, and it's on my list to address that. But I don't know how I'd improve the validation</p>",
        "id": 263050525,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1638211224
    },
    {
        "content": "<p>If slicing just has a description, then there's no validation that <em>can</em> happen - other than \"slicing is happening here, no clue if any of the rules are being followed because the rules aren't expressed computably\".  And frankly, it's not possible to write computer code that could do what the description says.</p>",
        "id": 263072979,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1638223058
    },
    {
        "content": "<p>back to the validation issue I found for this example instance :</p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code><span class=\"c1\">#...</span>\n<span class=\"nt\">status</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">final</span>\n<span class=\"nt\">category</span><span class=\"p\">:</span>   <span class=\"c1\">#&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span>\n  <span class=\"p p-Indicator\">-</span> <span class=\"nt\">coding</span><span class=\"p\">:</span>\n      <span class=\"p p-Indicator\">-</span> <span class=\"nt\">system</span><span class=\"p\">:</span> <span class=\"s\">'http://loinc.org'</span>\n        <span class=\"nt\">code</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">LP29684-5</span>\n        <span class=\"nt\">display</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Radiology</span>\n    <span class=\"nt\">text</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">Radiology</span>\n<span class=\"nt\">code</span><span class=\"p\">:</span>\n<span class=\"c1\">#...</span>\n</code></pre></div>\n<p>The error on category states that there is no category when there is one.  I think that is an incorrect Error.</p>\n<p><a href=\"user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png\">https://chat.fhir.org/user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png\" title=\"https://chat.fhir.org/user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png\"><img src=\"user_uploads/10155/R1Gc5a7hAugUIncf8in-JyVG/image.png\"></a></div>",
        "id": 263084541,
        "sender_full_name": "Eric Haas",
        "timestamp": 1638230302
    }
]