[
    {
        "content": "<p>I am having a problem 'linking' my example files to my IG. In order to get it to work I had to do the following in the IG</p>\n<div class=\"codehilite\"><pre><span></span>&lt;resource&gt;\n      &lt;reference&gt;\n        &lt;reference value=&quot;Bundle/1540337338319&quot;/&gt;\n      &lt;/reference&gt;\n      &lt;name value=&quot;Example upload from Pulse Oximeter&quot;/&gt;\n      &lt;description value=&quot;Example contains an unknown patient, the PHG and PHD Device resources, Battery Level, Oxygen Saturation, and Pulse Rate Numeric Observations, and a Coincident Time Stamp Observation. The example is packaged into a transaction Bundle.&quot; /&gt;\n      &lt;exampleBoolean value=&quot;true&quot;/&gt;\n      &lt;groupingId value=&quot;hl7.fhir.uv.phd&quot; /&gt;\n    &lt;/resource&gt;\n</pre></div>\n\n\n<p>and, the worst, I had to re-name my example file to 1540337338319.json.  The 1540337338319 was the logical id of the Bundle resource contained in the file. </p>\n<p>What I wanted to do was to keep the name of the file as NoninPulseOx.json as that is the device where the data originated from. I suppose the other alternative is to rename the logical id to NoninPulseOx.json?  Is there a way I can work around this so I can have human-friendly file names and maintain reasonable logical ids?</p>\n<p><strong>I guess what I do not understand is why the reference value is not the relative path to the file.</strong></p>",
        "id": 154017689,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1542035634
    },
    {
        "content": "<p>use the second - use the id NoninPulseOx for the resource</p>",
        "id": 154017706,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1542036938
    },
    {
        "content": "<p>Filenames need to correspond to the resource ids - that's how the IGPublisher locates them.</p>",
        "id": 154017738,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542042353
    },
    {
        "content": "<p>... or use source parameter in the ig.json file</p>\n<p>for example</p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"err\">},</span>\n    <span class=\"s2\">&quot;Encounter/example-1&quot;</span><span class=\"err\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;base&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Encounter-example-1.html&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;source&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;encounter-example-1.xml&quot;</span>\n    <span class=\"p\">}</span><span class=\"err\">,</span>\n    <span class=\"s2\">&quot;ValueSet/argonaut-clinical-note-type&quot;</span><span class=\"err\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;base&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;ValueSet-argonaut-clinical-note-type.html&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;source&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;ValueSet-argonaut-clinical-note-type.xml&quot;</span>\n    <span class=\"p\">}</span><span class=\"err\">,</span>\n    <span class=\"s2\">&quot;StructureDefinition/argo-diagnosticreport&quot;</span><span class=\"err\">:</span> <span class=\"p\">{</span>\n      <span class=\"nt\">&quot;base&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;StructureDefinition-argo-diagnosticreport.html&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;defns&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;StructureDefinition-argo-diagnosticreport-definitions.html&quot;</span><span class=\"p\">,</span>\n      <span class=\"nt\">&quot;source&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;structuredefinition-argo-diagnosticreport.xml&quot;</span>\n    <span class=\"p\">}</span><span class=\"err\">,</span>\n</pre></div>",
        "id": 154017766,
        "sender_full_name": "Eric Haas",
        "timestamp": 1542045104
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>   I tried the following in ig.json</p>\n<div class=\"codehilite\"><pre><span></span>{\n    &quot;Observation/NumericNaN&quot;:\n    {\n        &quot;base&quot;: &quot;NumericNaN.html&quot;,\n        &quot;source&quot;: &quot;src/examples/NumericNaN.json&quot;\n    }\n},\n{\n  &quot;redirect&quot;: &quot;src-generated/PhdImplementationGuide.json&quot;,\n  &quot;comments&quot;: &quot;The IG-configuration file is generated from the IG xml file in src using framework/xslt/igToConfig.xslt.  It should never be edited directly&quot;\n}\n</pre></div>\n\n\n<p>and in the ImplementationGuide.xml</p>\n<div class=\"codehilite\"><pre><span></span>    &lt;resource&gt;\n      &lt;reference&gt;\n        &lt;reference value=&quot;Observation/1.0.0.42&quot;/&gt;\n      &lt;/reference&gt;\n      &lt;name value=&quot;Not a number example&quot;/&gt;\n      &lt;description value=&quot;Example is an upload of an SpO2 value from a pulse oximeter where the sensor was unable to make the measurement and reported a NaN (Not-a-Number).&quot; /&gt;\n      &lt;exampleBoolean value=&quot;true&quot;/&gt;\n      &lt;groupingId value=&quot;hl7.fhir.uv.phd&quot; /&gt;\n    &lt;/resource&gt;\n</pre></div>\n\n\n<p>However, I get the usual error in the build </p>\n<div class=\"codehilite\"><pre><span></span>     [java] Load Content                                                                     (16.0938sec)\n     [java] java.lang.Exception: Unable to find the source file for Observation/1.0.0.42: not specified, so tried observation-1.0.0.42.xml, 1.0.0.42.observation.xml, observation-1.0.0.42.json, observation/1.0.0.42.xml, observation/1.0.0.42.json, 1.0.0.42.xml, and 1.0.0.42.json in dirs [E:\\Ruby25-x64\\IG_Publisher\\PHD\\src-generated\\resources, E:\\Ruby25-x64\\IG_Publisher\\PHD\\src-generated\\resources, E:\\Ruby25-x64\\IG_Publisher\\PHD\\src\\resources, E:\\Ruby25-x64\\IG_Publisher\\PHD\\src\\vocabulary, E:\\Ruby25-x64\\IG_Publisher\\PHD\\src\\examples]\n</pre></div>\n\n\n<p>This may be because I am using Lloyd's Framework and there is no way to override the pre-assumed names.</p>",
        "id": 154018252,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1542153469
    },
    {
        "content": "<p>the example should be in both structures:</p>\n<p>ig.json</p>\n<div class=\"codehilite\"><pre><span></span>{\n    &quot;Observation/1.0.0.42&quot;:\n    {\n        &quot;base&quot;: &quot;/1.0.0.42.html&quot;,\n        &quot;source&quot;: &quot;1.0.0.42.json&quot; //which folder to look in is define by the  ig.json parameter path.resources below...\n...\n  &quot;paths&quot;: {\n    ...\n    &quot;resources&quot;: [\n      &quot;src/resources&quot;,\n      &quot;src/examples&quot;\n    ]\n  },\n\n    }\n}\n</pre></div>\n\n\n<p>ImplementationGuide - ( which could be in xml or json)</p>\n<div class=\"codehilite\"><pre><span></span>      &lt;resource&gt;\n      &lt;reference&gt;\n        &lt;reference value=&quot;Observation/1.0.0.42&quot;/&gt;\n      &lt;/reference&gt;\n      &lt;name value=&quot;Not a number example&quot;/&gt;\n      &lt;description value=&quot;Example is an upload of an SpO2 value from a pulse oximeter where the sensor was unable to make the measurement and reported a NaN (Not-a-Number).&quot; /&gt;\n      &lt;exampleBoolean value=&quot;true&quot;/&gt;\n      &lt;groupingId value=&quot;hl7.fhir.uv.phd&quot; /&gt;\n    &lt;/resource&gt;\n</pre></div>",
        "id": 154018257,
        "sender_full_name": "Eric Haas",
        "timestamp": 1542154125
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  what if the real file name is NumericNaN.json which contains an Observation which happens to have a logical id of 1.0.0.42? The file is located in src/examples. I did place something in the ig.json and implementation guide but I got the error that the file could not be found. If I massage the name so its the same as the id, then it will work (without the need for any entry in ig.json).</p>\n<p>I get a validation error I do not understand but that's a different story.</p>",
        "id": 154018258,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1542154420
    },
    {
        "content": "<p>the file name does not need to match the id</p>\n<p>here is what you want:</p>\n<p>ig.json</p>\n<div class=\"codehilite\"><pre><span></span>{\n    &quot;Observation/1.0.0.42&quot;:\n    {\n        &quot;base&quot;: &quot;1.0.0.42.html&quot;, //  or whatever you want to call it\n        &quot;source&quot;: &quot;MyFileName.json&quot; //which folder to look in is define by the  ig.json parameter path.resources below...\n...\n  &quot;paths&quot;: {\n    ...\n    &quot;resources&quot;: [\n      &quot;src/resources&quot;,\n      &quot;src/examples&quot;\n    ]\n  },\n\n    }\n}\n</pre></div>\n\n\n<p>ImplementationGuide - ( which could be in xml or json)</p>\n<div class=\"codehilite\"><pre><span></span>      &lt;resource&gt;\n      &lt;reference&gt;\n        &lt;reference value=&quot;Observation/1.0.0.42&quot;/&gt;\n      &lt;/reference&gt;\n      &lt;name value=&quot;Not a number example&quot;/&gt;\n      &lt;description value=&quot;Example is an upload of an SpO2 value from a pulse oximeter where the sensor was unable to make the measurement and reported a NaN (Not-a-Number).&quot; /&gt;\n      &lt;exampleBoolean value=&quot;true&quot;/&gt;\n      &lt;groupingId value=&quot;hl7.fhir.uv.phd&quot; /&gt;\n    &lt;/resource&gt;\n</pre></div>",
        "id": 154018260,
        "sender_full_name": "Eric Haas",
        "timestamp": 1542154575
    },
    {
        "content": "<p>if that does not work it could be that lloyd's frameswork is strict about file naming.</p>",
        "id": 154018261,
        "sender_full_name": "Eric Haas",
        "timestamp": 1542154678
    },
    {
        "content": "<blockquote>\n<p>if that does not work it could be that lloyd's frameswork is strict about file naming.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  I think I have to come to that conclusion. No matter how I try the build says it cant find it and it is looking for a certain name.</p>",
        "id": 154018267,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1542155799
    },
    {
        "content": "<p>Lloyd's framework is indeed strict about file naming.  The ig.json file is generated from the implementation guide and it requires that the file names be based on the id.</p>",
        "id": 154018318,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542184882
    },
    {
        "content": "<blockquote>\n<p>Lloyd's framework is indeed strict about file naming.  The ig.json file is generated from the implementation guide and it requires that the file names be based on the id.</p>\n</blockquote>\n<p>Yea, I have kind of come to that conclusion. So the best compromise is to make the id some friendly name that one can use for the file that tells the user basically what the file contains.</p>",
        "id": 154018350,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1542192870
    },
    {
        "content": "<p>yes</p>",
        "id": 154018352,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542192893
    },
    {
        "content": "<p>And if you like, embed a comment in the example noting that real-world ids probably won't be that friendly...</p>",
        "id": 154018353,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542192916
    },
    {
        "content": "<blockquote>\n<p>And if you like, embed a comment in the example noting that real-world ids probably won't be that friendly...</p>\n</blockquote>\n<p>Is there a way to embed a comment in a json example that the IG publisher will accept?</p>",
        "id": 154018359,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1542193004
    },
    {
        "content": "<p>Nope</p>",
        "id": 154018360,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542193163
    },
    {
        "content": "<p>That's a JSON syntax limitation - we use off-the-shelf JSON parsers and comments aren't allowed in the JSON syntax.  We've asked and it's been confirmed that \"no comments\" is an intentional \"feature\".</p>",
        "id": 154018362,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1542193215
    },
    {
        "content": "<blockquote>\n<p>That's a JSON syntax limitation - we use off-the-shelf JSON parsers and comments aren't allowed in the JSON syntax.  We've asked and it's been confirmed that \"no comments\" is an intentional \"feature\".</p>\n</blockquote>\n<p>Yes I know. Until the JSON powers-that-be come to agreement on comments only those parsers that define a means of adding comments can support such. Good luck using the JSON anywhere else!</p>",
        "id": 154018364,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1542193332
    }
]