[
    {
        "content": "<p>For those who want to test plantuml in markdown, this may work (it's alpha, not fully tested, not sure if it's legal, it may depend on the version of plantuml that is in the CI build):</p>",
        "id": 219495772,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1607617249
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"233842\">@Michaela Ziegler</span> <span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span></p>",
        "id": 219495812,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1607617261
    },
    {
        "content": "<p>You can just wrap the include in an html div. If you want, you can try that solution and do some testing for me :)<br>\n&lt;div&gt;<br>\n{% include usecase1.svg %}<br>\n&lt;/div&gt;</p>",
        "id": 219495958,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1607617320
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179252-IG-creation/topic/PlantUML.20in.20markdown/near/219495958\">said</a>:</p>\n<blockquote>\n<p>You can just wrap the include in an html div. If you want, you can try that solution and do some testing for me <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span><br>\n&lt;div&gt;<br>\n{% include usecase1.svg %}<br>\n&lt;/div&gt;</p>\n</blockquote>\n<p>that works  <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> (not with the template we use of course)</p>",
        "id": 219501027,
        "sender_full_name": "Michaela Ziegler",
        "timestamp": 1607619250
    },
    {
        "content": "<p>You don't need to wrap it in a &lt;div&gt; if you're using Markdown.  This works just fine:</p>\n<div class=\"codehilite\"><pre><span></span><code># Establishment Registration UML Diagram\nThe following UML diagram shows the data elements for an Establishment Registration operation.  More details about the data elements can be found in the definition tables below.\n\nEach request has a set of elements that identify the request:\n* operation ID\n* operation date/time\n* request ID\n* request version\n\nIt then has the information about the Registrant, i.e the organization that is registering the establishments, and then one-to-many sets of Establishment information along with an optional US Agent and Importer (if the Establishment is not located in the US) and a set of Business Operations for the Establishment.\n\n{% include EstablishmentRegistrationLogicalModel.svg %}\n</code></pre></div>",
        "id": 219503499,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1607620320
    },
    {
        "content": "<p>That one didn't work for me</p>",
        "id": 219503652,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1607620385
    },
    {
        "content": "<p>What is necessary to convert the plantuml file in image source to the output directory?</p>",
        "id": 225671089,
        "sender_full_name": "Frank Oemig",
        "timestamp": 1612867794
    },
    {
        "content": "<p>Plantuml output is not stored as a file - it is currently just a SVG which gets embedded in the html</p>",
        "id": 225675614,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612870621
    },
    {
        "content": "<p>Why do you want the plantuml in your output?</p>",
        "id": 225701155,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1612882543
    },
    {
        "content": "<p>the IG builder will automatically convert some plantuml (must be .plantuml extension) to SVG graphics in the output. Not all forms of plantuml work. You just need to call for the svg in your markdown or html and magic happens. If you fail to do that, then the svg disappears. So (a) make sure you have the right kind of plantuml text file, with .plantuml extension, in the images-source folder; and (b) call for the filename with svg extension in your markdown or html.</p>",
        "id": 225710299,
        "sender_full_name": "John Moehrke",
        "timestamp": 1612885950
    },
    {
        "content": "<p>no error, warning, or info is thrown if the plantuml is not the right kind for it to render, nor a warning if you don't call for the svg and thus it is removed.</p>",
        "id": 225710430,
        "sender_full_name": "John Moehrke",
        "timestamp": 1612886019
    },
    {
        "content": "<p>Note that the SVG will actually contain the source plantUml as an embedded comment</p>",
        "id": 225715737,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1612887948
    },
    {
        "content": "<p>I want to use the drawing functionality to visualize and explain on some pages.<br>\nI have placed the file in image source and referenced the svg in MD. But nothing happens, and I cannot figure out why.<br>\nCan there be something wrong with the plantuml dialect? I have used a given simple example.</p>",
        "id": 225731399,
        "sender_full_name": "Frank Oemig",
        "timestamp": 1612893905
    },
    {
        "content": "<p>what style of plantuml are you using? Can you provide the link or code here?</p>",
        "id": 225731631,
        "sender_full_name": "John Moehrke",
        "timestamp": 1612893997
    },
    {
        "content": "<p>it only works with sequence diagrams</p>",
        "id": 225731668,
        "sender_full_name": "John Moehrke",
        "timestamp": 1612894013
    },
    {
        "content": "<p>Ah, ok. Will verify my example. My intend was to use it for class diagrams.</p>",
        "id": 225734576,
        "sender_full_name": "Frank Oemig",
        "timestamp": 1612895260
    },
    {
        "content": "<p>it doesn't work for class diagrams because plantuml needs graphviz for that.  i have some class diagrams in my SPL implementation guide but I generate the images before running the publisher and put the generated images in the images folder.</p>",
        "id": 225734806,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612895356
    },
    {
        "content": "<p>Thx, that is what I have done before as well. My hope was that this miracle helps me here too.</p>",
        "id": 225735380,
        "sender_full_name": "Frank Oemig",
        "timestamp": 1612895552
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> Is there a chance of having graphviz added to the build machines so that plantuml class diagrams could be auto-generated by the publisher?</p>",
        "id": 225735581,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612895616
    },
    {
        "content": "<p>Is it just a question of adding a dependency, or is there code to be written too?</p>",
        "id": 225736874,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1612896118
    },
    {
        "content": "<p>just a dependency</p>",
        "id": 225736952,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612896130
    },
    {
        "content": "<p>Can you propose an edit to <a href=\"https://github.com/FHIR/auto-ig-builder/blob/master/images/ig-build/Dockerfile#L4\">this line</a> if there's an apt package available?</p>",
        "id": 225737467,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1612896316
    },
    {
        "content": "<p>RUN apt-get update &amp;&amp; apt-get -y install python3 python3-pip gosu openssl wget graphviz<br>\n(there is an apt package available)</p>\n<p>pull request created with the change</p>",
        "id": 225737810,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612896433
    },
    {
        "content": "<p>I think we have resisted as this might be easy on the server.. but this now adds yet-another thing that us authors need to add to our machines.</p>",
        "id": 225745276,
        "sender_full_name": "John Moehrke",
        "timestamp": 1612899560
    },
    {
        "content": "<p>I want the feature, but for now I just generate the SVG using plantuml web site, and save it in my images folder.</p>",
        "id": 225745325,
        "sender_full_name": "John Moehrke",
        "timestamp": 1612899590
    },
    {
        "content": "<p>much smaller pain, than installing yet-another tool on everyones desktop</p>",
        "id": 225745412,
        "sender_full_name": "John Moehrke",
        "timestamp": 1612899616
    },
    {
        "content": "<p>sure, but I already have plantuml and graphviz installed on my machine.  if you don't want to do that, you can keep doing what you are doing - generate the images outside of the publisher.</p>",
        "id": 225745578,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612899689
    },
    {
        "content": "<p>You can add an environment variable to _genonce.bat setting GRAPHVIZ_DOT to dot.exe. Then class diagram generation works.<br>\nThanks for all your help</p>",
        "id": 225748835,
        "sender_full_name": "Frank Oemig",
        "timestamp": 1612901010
    },
    {
        "content": "<p>it will work locally but it won't work on the build platform because graphviz isn't available (at least not yet)</p>",
        "id": 225754429,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612903467
    },
    {
        "content": "<p>Thanks for the PR; merged and pushing the updated image to our build system.</p>",
        "id": 225759075,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1612905517
    },
    {
        "content": "<p>Done. FYI <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> if you want to test this out.</p>",
        "id": 225760304,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1612906010
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/179252-IG-creation/topic/PlantUML.20in.20markdown/near/225710299\">said</a>:</p>\n<blockquote>\n<p>the IG builder will automatically convert some plantuml (must be .plantuml extension) to SVG graphics in the output. Not all forms of plantuml work. You just need to call for the svg in your markdown or html and magic happens. If you fail to do that, then the svg disappears. So (a) make sure you have the right kind of plantuml text file, with .plantuml extension, in the images-source folder; and (b) call for the filename with svg extension in your markdown or html.</p>\n</blockquote>\n<p>hmm, with Josh adding graphviz as a dependency on the build machine, I want to move my files into the build queue.  but I must be missing something.  Here's what I have which I think matches what John said:<br>\na) four xx.plantuml files in input/images-sources folder<br>\nb) four xx-intro.md files in input/intro-notes folder that has a link to the xxx.svg file</p>\n<p>But I'm not getting the PlantUML to be called.</p>",
        "id": 225761418,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612906460
    },
    {
        "content": "<p>your markdown needs to pull in the svg</p>\n<div class=\"codehilite\"><pre><span></span><code>&lt;div&gt;\n{%include xx.svg%}\n&lt;/div&gt;\n</code></pre></div>",
        "id": 225767718,
        "sender_full_name": "John Moehrke",
        "timestamp": 1612909880
    },
    {
        "content": "<p>okay, i'll try that.  thx</p>",
        "id": 225767752,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612909902
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> works locally and in the build environment!  thanks a lot!</p>",
        "id": 225769862,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612911200
    },
    {
        "content": "<p>sorry, I was traveling, I missed this thread and only saw the commit on email</p>",
        "id": 225772686,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612913003
    },
    {
        "content": "<p>catching up now: I guess it doesn't harm to have graphviz, but most diagrams can render fine by adding this in the diagram<br>\n!pragma graphviz_dot smetana</p>",
        "id": 225772790,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612913049
    },
    {
        "content": "<p><a href=\"https://plantuml.com/smetana02\">https://plantuml.com/smetana02</a></p>",
        "id": 225772800,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612913056
    },
    {
        "content": "<p>graphviz license is Common Public License, I think. <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> is that kosher?</p>",
        "id": 225773101,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612913245
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/179252-IG-creation/topic/PlantUML.20in.20markdown/near/225745325\">said</a>:</p>\n<blockquote>\n<p>I want the feature, but for now I just generate the SVG using plantuml web site, and save it in my images folder.</p>\n</blockquote>\n<p>Sorry John for not documenting the workaround (use the smetana directive in your diagrams).</p>",
        "id": 225773130,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612913270
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191404\">John Moehrke</span> <a href=\"#narrow/stream/179252-IG-creation/topic/PlantUML.20in.20markdown/near/225745412\">said</a>:</p>\n<blockquote>\n<p>much smaller pain, than installing yet-another tool on everyones desktop</p>\n</blockquote>\n<p>This I agree, so I will try to use the smetana directive whenever possible</p>",
        "id": 225773205,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612913298
    },
    {
        "content": "<p>i'm not stuck on using graphviz.  if this alternate method works for the diagrams that we need and we don't need graphviz, then I'm fine with marking up my files as needed.</p>",
        "id": 225775372,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612914662
    },
    {
        "content": "<p>i was only offering it for those who wanted to do class files</p>",
        "id": 225775431,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1612914700
    },
    {
        "content": "<p>I'm pretty sure the Eclipse license is fine, but I'm not an expert.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 225777110,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1612915812
    },
    {
        "content": "<p><a href=\"https://graphviz.org/license/\">https://graphviz.org/license/</a></p>",
        "id": 225777308,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612915955
    },
    {
        "content": "<p>sure. but something you register with the OS, and hook into Jekyll, anything but full GPL is ok</p>",
        "id": 225778668,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1612916805
    },
    {
        "content": "<p>Great. I'll add this to the things to document</p>",
        "id": 225800704,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612940720
    },
    {
        "content": "<p>This=install graphviz or use the alternative</p>",
        "id": 225800736,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1612940762
    }
]