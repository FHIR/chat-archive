[
    {
        "content": "<p>Hello,<br>\nWhen I run the latest publisher on the <a href=\"https://github.com/HL7/davinci-atr\" target=\"_blank\" title=\"https://github.com/HL7/davinci-atr\">https://github.com/HL7/davinci-atr</a> IG, I get an error pointing to a config.json missing file. <br>\nIf this file is required, should it not download it automatically everytime because we only reference the template, but do not change it..</p>\n<p>Any ideas on what may be happening ? The error is listed below.</p>\n<p>Load Template from hl7.fhir.template                                             (00:05.0205)<br>\nPublishing Content Failed: /Users/nbashyam/git/davinci-atr/template/config.json (No such file or directory) (00:05.0766)<br>\n                                                                                 (00:05.0767)<br>\nUse -? to get command line help                                                  (00:05.0767)<br>\n                                                                                 (00:05.0767)<br>\nStack Dump (for debugging):                                                      (00:05.0767)<br>\njava.io.FileNotFoundException: /Users/nbashyam/git/davinci-atr/template/config.json (No such file or directory)<br>\n    at java.io.FileInputStream.open0(Native Method)<br>\n    at java.io.FileInputStream.open(FileInputStream.java:195)<br>\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)<br>\n    at org.hl7.fhir.utilities.TextFile.fileToString(TextFile.java:166)<br>\n    at org.hl7.fhir.utilities.json.JsonTrackingParser.parseJsonFile(JsonTrackingParser.java:362)<br>\n    at org.hl7.fhir.igtools.templates.Template.&lt;init&gt;(Template.java:108)<br>\n    at org.hl7.fhir.igtools.templates.TemplateManager.loadTemplate(TemplateManager.java:77)<br>\n    at org.hl7.fhir.igtools.templates.TemplateManager.loadTemplate(TemplateManager.java:55)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1215)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1159)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:650)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6637)</p>",
        "id": 182596275,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1575491837
    },
    {
        "content": "<p>I'll have a look shortly.</p>",
        "id": 182597342,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575492460
    },
    {
        "content": "<p>It's downloading the base template but not the HL7 one - and is wiping the template folder instead.  Digging into why/how</p>",
        "id": 182607344,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1575498843
    },
    {
        "content": "<p>nah that will be my error, I think. You have a file in the root of the package... now illegal</p>",
        "id": 182607392,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575498876
    },
    {
        "content": "<p>I thought you said there'd be no impact on the IG Templates from that change?</p>",
        "id": 182609470,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1575500284
    },
    {
        "content": "<p>well, there's been a looong string of changes I hadn't imagined</p>",
        "id": 182610451,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575501045
    },
    {
        "content": "<p>ok try again</p>",
        "id": 182620670,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575510937
    },
    {
        "content": "<p>I'm also getting this.</p>",
        "id": 182633781,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575530022
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>Stack Dump (for debugging):                                                      (00:04.0228)\njava.io.FileNotFoundException: C:\\ImplementationGuides\\be-core\\template\\config.json (The system cannot find the file specified)\n        at java.io.FileInputStream.open0(Native Method)\n        at java.io.FileInputStream.open(Unknown Source)\n        at java.io.FileInputStream.&lt;init&gt;(Unknown Source)\n        at org.hl7.fhir.utilities.TextFile.fileToString(TextFile.java:166)\n        at org.hl7.fhir.utilities.json.JsonTrackingParser.parseJsonFile(JsonTrackingParser.java:362)\n        at org.hl7.fhir.igtools.templates.Template.&lt;init&gt;(Template.java:109)\n        at org.hl7.fhir.igtools.templates.TemplateManager.loadTemplate(TemplateManager.java:77)\n        at org.hl7.fhir.igtools.templates.TemplateManager.loadTemplate(TemplateManager.java:55)\n        at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1217)\n        at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1159)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:650)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6642)\n</pre></div>",
        "id": 182633787,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575530031
    },
    {
        "content": "<p>where are you getting this? local? or ci-build?</p>",
        "id": 182633836,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575530055
    },
    {
        "content": "<p>local</p>",
        "id": 182633841,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575530066
    },
    {
        "content": "<p>what happens if you delete everything in your package cache?</p>",
        "id": 182633848,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575530088
    },
    {
        "content": "<p>I'm clutching at straws here... I can 't reproduce this, but the ci-build is totally broken</p>",
        "id": 182633864,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575530109
    },
    {
        "content": "<p>ok i deleted everything</p>",
        "id": 182634010,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575530303
    },
    {
        "content": "<p>publisher is now getting all new packages</p>",
        "id": 182634012,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575530313
    },
    {
        "content": "<p>ok, so it seems to be broken on my \"old\" problem, Exception in thread \"main\" java.lang.Error: type on first differential element!</p>",
        "id": 182634030,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575530350
    },
    {
        "content": "<p>I'm going to try with the sample IG but I bet it works now</p>",
        "id": 182634045,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575530372
    },
    {
        "content": "<p>yep, now it works</p>",
        "id": 182634276,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575530715
    },
    {
        "content": "<p>good</p>",
        "id": 182634294,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575530735
    },
    {
        "content": "<p>ok I also fixed my template accordingly, also works. thanks</p>",
        "id": 182636244,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575532813
    },
    {
        "content": "<p>Update publisher this morning and got this. Deleted template and temp folders no difference.<br>\nCI build seems to be working</p>",
        "id": 182637928,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1575534454
    },
    {
        "content": "<p>Yep, CI build test was successful.</p>",
        "id": 182638014,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1575534539
    },
    {
        "content": "<p>You have to delete your local fhir package cache</p>",
        "id": 182640943,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575537475
    },
    {
        "content": "<p>Not the template and temp folders, but the user cache</p>",
        "id": 182641054,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1575537547
    },
    {
        "content": "<p>Same Error (missing config.json in template folder) here, and unfortunately deleting the .fhir folder did not fix it...</p>",
        "id": 182641307,
        "sender_full_name": "Noemi Deppenwiese",
        "timestamp": 1575537769
    },
    {
        "content": "<p>you also need the latest code. The problem is that some version of the IG publisher copied the content into the cache incorrectly</p>",
        "id": 182641591,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575538060
    },
    {
        "content": "<p>I used the updatePublisher script to get the latest version... It says \"FHIR IG Publisher Version 1.0.13-SNAPSHOT - Built 2019-12-05T18:14:08.782+11:00 - Git 3919442fe493\"</p>",
        "id": 182641775,
        "sender_full_name": "Noemi Deppenwiese",
        "timestamp": 1575538205
    },
    {
        "content": "<p>ok what's your log?</p>",
        "id": 182642144,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575538557
    },
    {
        "content": "<p>Removing .fhir (in my user directory) folder fixed for me</p>",
        "id": 182642192,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1575538576
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>Load Template from C:\\Users\\deppenni\\MII\\miracum-ig\\miracumTemplate              (00:02.0286)\nLoad Package from C:\\Users\\deppenni\\MII\\miracum-ig\\miracumTemplate\n  see C:\\Users\\deppenni\\MII\\miracum-ig\\miracumTemplate\\package as package\nDebug Dump of Package for &#39;template&#39;. Path = null\n  npm = org.miracum.template#0.0.1, canonical = null\n  folders = 1\n    package (C:\\Users\\deppenni\\MII\\miracum-ig\\miracumTemplate\\package) | true | 0 | 0\nPublishing Content Failed: C:\\Users\\deppenni\\MII\\miracum-ig\\template\\config.json (Das System kann die angegebene Datei nicht finden) (00:02.0314)\n                                                                                 (00:02.0314)\nUse -? to get command line help                                                  (00:02.0314)\n                                                                                 (00:02.0315)\nStack Dump (for debugging):                                                      (00:02.0315)\njava.io.FileNotFoundException: C:\\Users\\deppenni\\MII\\miracum-ig\\template\\config.json (Das System kann die angegebene Datei nicht finden)\n        at java.io.FileInputStream.open0(Native Method)\n        at java.io.FileInputStream.open(FileInputStream.java:195)\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n        at org.hl7.fhir.utilities.TextFile.fileToString(TextFile.java:166)\n        at org.hl7.fhir.utilities.json.JsonTrackingParser.parseJsonFile(JsonTrackingParser.java:362)\n        at org.hl7.fhir.igtools.templates.Template.&lt;init&gt;(Template.java:109)\n        at org.hl7.fhir.igtools.templates.TemplateManager.loadTemplate(TemplateManager.java:77)\n        at org.hl7.fhir.igtools.templates.TemplateManager.loadTemplate(TemplateManager.java:55)\n        at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1217)\n        at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1159)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:650)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6642)\n</pre></div>",
        "id": 182642234,
        "sender_full_name": "Noemi Deppenwiese",
        "timestamp": 1575538643
    },
    {
        "content": "<p>well, in your case the problem template is in C:\\Users\\deppenni\\MII\\miracum-ig\\template not your .fhir directory. I'm not sure what that is</p>",
        "id": 182642443,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575538832
    },
    {
        "content": "<p>I'm trying to use a custom template located under miracum-ig\\miracumTemplate\\. The publisher does not find the config.json in the  miracum-ig\\template folder. I assume this folder should contain the base template (in my case \"fhir.base.template\":\"0.0.1\")</p>",
        "id": 182642637,
        "sender_full_name": "Noemi Deppenwiese",
        "timestamp": 1575538993
    },
    {
        "content": "<p>But /template only contains an empty package folder.</p>",
        "id": 182642675,
        "sender_full_name": "Noemi Deppenwiese",
        "timestamp": 1575539031
    },
    {
        "content": "<p>well, it contains whatever you put in there?</p>",
        "id": 182642927,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575539246
    },
    {
        "content": "<p>I assumed the Publisher would automatically resolve the dependencies my template declares? And since it is based on fhir.base.template, this would be downloaded into the template folder?</p>",
        "id": 182643126,
        "sender_full_name": "Noemi Deppenwiese",
        "timestamp": 1575539429
    },
    {
        "content": "<p>hmm maybe that should happen</p>",
        "id": 182643249,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575539540
    },
    {
        "content": "<p>With the latest publisher and removing the .fhir package and retrying it works. <br>\nThanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 182692851,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1575573393
    }
]