[
    {
        "content": "<p>I have come across an issue with rendering component elements when I have an Observation that inherits a BaseObservation. The rendering is done fine in the BaseObservation. </p>\n<p>The component element is sliced in the BaseObservation. Then in each slice, the component.code.coding element is sliced. In the Observation, additional components are defined following the slicing in the BaseObservation. Then, in each defined component in the Observation, the component.code.coding element is once again sliced. It is the latter which does NOT get rendered in the Observation, but DOES get rendered in the BaseObservation. All I get in the observation is code 1..1 CodeableConcept.  The value[x] rendering is fine in both cases.</p>\n<p>Here is my slicing definition in the BaseObservation</p>\n<div class=\"codehilite\"><pre><span></span>    &lt;!-- COMPONENT --&gt;\n    &lt;element id=&quot;Observation.component&quot;&gt;\n      &lt;path value=&quot;Observation.component&quot; /&gt;\n      &lt;slicing&gt;\n        &lt;discriminator&gt;\n          &lt;type value=&quot;value&quot; /&gt;\n          &lt;path value=&quot;code.coding.code&quot; /&gt;\n        &lt;/discriminator&gt;\n        &lt;rules value=&quot;open&quot; /&gt;\n      &lt;/slicing&gt;\n    &lt;/element&gt;\n</pre></div>\n\n\n<p>And here is the first component slice defined in the BaseObservation and the slicing on the coding element:</p>\n<div class=\"codehilite\"><pre><span></span>    &lt;!-- SUPPLEMENTAL TYPES COMPONENT --&gt;\n    &lt;element id=&quot;Observation.component:supplementalTypesComponent&quot;&gt;\n      &lt;path value=&quot;Observation.component&quot; /&gt;\n      &lt;sliceName value=&quot;supplementalTypesComponent&quot; /&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.component:supplementalTypesComponent.code.coding&quot;&gt;\n      &lt;path value=&quot;Observation.component.code.coding&quot; /&gt;\n      &lt;slicing&gt;\n        &lt;discriminator&gt;\n          &lt;type value=&quot;value&quot; /&gt;\n          &lt;path value=&quot;system&quot; /&gt;\n        &lt;/discriminator&gt;\n        &lt;rules value=&quot;open&quot; /&gt;\n      &lt;/slicing&gt;\n      &lt;min value=&quot;1&quot; /&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.component:supplementalTypesComponent.code.coding:MDCType&quot;&gt;\n      &lt;path value=&quot;Observation.component.code.coding&quot; /&gt;\n      &lt;sliceName value=&quot;MDCType&quot; /&gt;\n      &lt;min value=&quot;1&quot; /&gt;\n      &lt;max value=&quot;1&quot; /&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.component:supplementalTypesComponent.code.coding:MDCType.system&quot;&gt;\n      &lt;path value=&quot;Observation.component.code.coding.system&quot; /&gt;\n      &lt;min value=&quot;1&quot; /&gt;\n      &lt;fixedUri value=&quot;urn:iso:std:iso:11073:10101&quot; /&gt;\n    &lt;/element&gt;\n</pre></div>\n\n\n<p>This is rendered fine. (I do have the coding.code element as well but removed it for brevity.)</p>\n<p>Now in my Observation an additional component element is as follows</p>\n<div class=\"codehilite\"><pre><span></span>    &lt;!-- ACCURACY COMPONENT --&gt;\n    &lt;element id=&quot;Observation.component:accuracyComponent&quot;&gt;\n      &lt;path value=&quot;Observation.component&quot; /&gt;\n      &lt;sliceName value=&quot;accuracyComponent&quot; /&gt;\n      &lt;max value=&quot;1&quot; /&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.component:accuracyComponent.code.coding&quot;&gt;\n      &lt;path value=&quot;Observation.component.code.coding&quot; /&gt;\n      &lt;slicing&gt;\n        &lt;discriminator&gt;\n          &lt;type value=&quot;value&quot; /&gt;\n          &lt;path value=&quot;system&quot; /&gt;\n        &lt;/discriminator&gt;\n        &lt;rules value=&quot;open&quot; /&gt;\n      &lt;/slicing&gt;\n      &lt;min value=&quot;1&quot; /&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.component:accuracyComponent.code.coding:MDCType&quot;&gt;\n      &lt;path value=&quot;Observation.component.code.coding&quot; /&gt;\n      &lt;sliceName value=&quot;MDCType&quot; /&gt;\n      &lt;min value=&quot;1&quot; /&gt;\n      &lt;max value=&quot;1&quot; /&gt;\n    &lt;/element&gt;\n    &lt;element id=&quot;Observation.component:accuracyComponent.code.coding:MDCType.system&quot;&gt;\n      &lt;path value=&quot;Observation.component.code.coding.system&quot; /&gt;\n      &lt;min value=&quot;1&quot; /&gt;\n      &lt;fixedUri value=&quot;urn:iso:std:iso:11073:10101&quot; /&gt;\n    &lt;/element&gt;\n</pre></div>\n\n\n<p>(I do have the coding.code element as well but removed it for brevity.)<br>\nThe Observation component does get rendered but not the slicing on the component.code.coding<br>\nAll I get is </p>\n<p>component.code       1..1         CodeableConcept.</p>\n<p>No slicing. I've searched for typos, compared elements between the two files and I cannot find anything wrong. Not to say that there isn't. After a while looking at all that xml just makes one spin!</p>",
        "id": 153997585,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1537270893
    },
    {
        "content": "<p>You may be hitting an issue because you haven't defined Observation.component:accuracyComponent.code.  The tools don't handle \"sparse\" differentials well.</p>",
        "id": 153997618,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1537283007
    },
    {
        "content": "<blockquote>\n<p>You may be hitting an issue because you haven't defined Observation.component:accuracyComponent.code.  The tools don't handle \"sparse\" differentials well.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  I have defined the code. Its in the next element after the system (in both the Base and one that inherits). I noted that in the text below the struct definition sections. The next element (that I had omitted) is</p>\n<div class=\"codehilite\"><pre><span></span>&lt;element id=&quot;Observation.component:accuracyComponent.code.coding:MDCType.code&quot;&gt;\n      &lt;path value=&quot;Observation.component.code.coding.code&quot; /&gt;\n      &lt;definition value=&quot;The code for the Accuracy attribute is 67914&quot; /&gt;\n      &lt;min value=&quot;1&quot; /&gt;\n      &lt;fixedCode value=&quot;67914&quot; /&gt;\n      &lt;binding&gt;\n        &lt;strength value=&quot;required&quot;/&gt;\n        &lt;valueSet value=&quot;http://hl7.org/fhir/uv/pocd/ValueSet/11073MDC-object&quot;/&gt;\n      &lt;/binding&gt;\n    &lt;/element&gt;\n</pre></div>",
        "id": 153997624,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1537284297
    },
    {
        "content": "<p>I'm not seeing an element with the id Observation.component:accuracyComponent.code</p>",
        "id": 153997626,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1537284576
    }
]