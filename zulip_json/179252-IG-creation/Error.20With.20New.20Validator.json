[
    {
        "content": "<p><strong> Moving the queryfrom Announcement </strong></p>\n<p>Anyone facing issues with \" Unexpected element display\" and \"Unexpected element text\" ? the new validator started giving me these errors. Example: I can see these errors for Patient.contact[0].relationship[0] in AU Patient resource<br>\n@Grahame Grieve any suggestion?</p>",
        "id": 182713953,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575586822
    },
    {
        "content": "<p>what version is this?</p>",
        "id": 182714010,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575586893
    },
    {
        "content": "<p>v1.0.13-SNAPSHOT</p>",
        "id": 182714111,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575587023
    },
    {
        "content": "<p>I can see a new version arrived.. Let me take that one and check</p>",
        "id": 182714167,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575587058
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I've used the version v1.0.14-SNAPSHOT and still see the error . FHIR version used is 3.0.2</p>",
        "id": 182714907,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575587825
    },
    {
        "content": "<p>so how to reproduce ?</p>",
        "id": 182715458,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575588444
    },
    {
        "content": "<p>I've used a sample Patient having Contact relationship information. I'm getting this error. <a href=\"https://github.com/hl7au/au-fhir-childhealth/blob/master/examples/ncdhc-patient-baby-example.json\" target=\"_blank\" title=\"https://github.com/hl7au/au-fhir-childhealth/blob/master/examples/ncdhc-patient-baby-example.json\">https://github.com/hl7au/au-fhir-childhealth/blob/master/examples/ncdhc-patient-baby-example.json</a> </p>\n<p>It sounds like some  issues with multiple (*) CodableConcept element referenced on an element. </p>\n<p>would this help? pls let me know if you need any further details.</p>",
        "id": 182715940,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575588911
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , did you have a chance to look at it. Please let me know if you need any further details from my side.<br>\n<a href=\"/user_uploads/10155/ZR29dHf6FbPLj-ArSLITJkrv/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/ZR29dHf6FbPLj-ArSLITJkrv/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/ZR29dHf6FbPLj-ArSLITJkrv/pasted_image.png\"></a></div>",
        "id": 182912347,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575844898
    },
    {
        "content": "<p>I've improved the error message. As of the next release, it will say:</p>",
        "id": 182916512,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575852599
    },
    {
        "content": "<p>The element %name appears in the instance but it is not allowed according to the fixed value</p>",
        "id": 182916559,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575852625
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , does this mean that the instance shall not have any 'display' or/and 'text' for a CodableConcept? sorry if I missed anything which was discussed and standardized already.</p>",
        "id": 182917445,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575854273
    },
    {
        "content": "<p>it's what you defined in your fixed value</p>",
        "id": 182917565,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575854503
    },
    {
        "content": "<p>Which is why it's generally a bad idea to define fixed values for elements - patterns are generally better.</p>",
        "id": 182919233,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1575857415
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> . In the profile, we have 'system' and 'code' as fixed but didn't fix the 'display'. We have 'text' as fixed as well and the instance text matches with the text in profile.</p>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> , absolutely agreed. We have a plan to gradually move to pattern for our profiles.</p>",
        "id": 182919639,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575858221
    },
    {
        "content": "<p>if you didn't fix display, you fixed it to not be present</p>",
        "id": 182919861,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575858665
    },
    {
        "content": "<p>got it :)<br>\nThanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 182919863,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575858705
    },
    {
        "content": "<p>well, I've tried following what is going on your profile... but it's complex. if you think the validation is wrong, narrow it down to a simple example</p>",
        "id": 182920965,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575860752
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  not sure if there is something wrong in my profile and sample.  This is how I've fixed the \"text\" for Patient.Contact (sliced)  as mother and provided the same in the sample but still the validator is complaining:</p>\n<p>Prifle:<br>\n<a href=\"/user_uploads/10155/VKKPy-0CVmKg3GN3x5GO1Dmp/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/VKKPy-0CVmKg3GN3x5GO1Dmp/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/VKKPy-0CVmKg3GN3x5GO1Dmp/pasted_image.png\"></a></div><p>Sample: <a href=\"/user_uploads/10155/YHaQw-9O8BBWZoGeg_9Weblu/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/YHaQw-9O8BBWZoGeg_9Weblu/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/YHaQw-9O8BBWZoGeg_9Weblu/pasted_image.png\"></a></div><p>Also, I'm a bit confused about why the validator is not allowing an instance to support more information. For an example, I could find in the in my profile, I don't have display as \"fixed\" but the default FHIR profile supports display. If the instance is sending that data, what's wrong with it?  the instance is just sending additional data here.</p>",
        "id": 182922191,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575862983
    },
    {
        "content": "<p>if you say that the fixed value doesn't have a display, then the instance cannot include a display</p>",
        "id": 182927283,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575872098
    },
    {
        "content": "<p>if you want to allow extra things then you need to use a pattern not a fixed value</p>",
        "id": 182927293,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575872119
    },
    {
        "content": "<p>if you think that the validator is wrong, make a concise test case that shows the problem</p>",
        "id": 182927296,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575872135
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193760\">@Shovan Roy</span>  With, for example, fixedCodeableConcept, everything omitted is prohibited. With patternCodeableConcept, everything omitted is optional and unconstrained.</p>",
        "id": 182928381,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1575873950
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , <span class=\"user-mention\" data-user-id=\"191682\">@Richard Townley-O'Neill</span> . I've  changed the profile to use pattern and it's working now.  Though I've noticed that with Pattern, the validator is not performing terminology validation. For an example, I've included system and code as a part of the pattern. In my instance, I'm using a display which is not relevant to the code used. The validator is not complaining anything about it. I guess it used to do in earlier veresion with fixed code.</p>",
        "id": 183022936,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575945822
    },
    {
        "content": "<p>well feel free to work me up an example. because I think it will validate</p>",
        "id": 183023564,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575946602
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , I've attached the profile I'm using and a sample to that profile. I've used the wrong display and didn't see any validation error:<br>\n<a href=\"/user_uploads/10155/eWb4uR1a5Qh62IQ2__Nl_Nbb/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/eWb4uR1a5Qh62IQ2__Nl_Nbb/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/eWb4uR1a5Qh62IQ2__Nl_Nbb/pasted_image.png\"></a></div><p><a href=\"/user_uploads/10155/7kYFtLxEZEnoVoPdSBOTOt3X/structuredefinition-ncdhc-patient-baby.json\" target=\"_blank\" title=\"structuredefinition-ncdhc-patient-baby.json\">structuredefinition-ncdhc-patient-baby.json</a> <br>\n<a href=\"/user_uploads/10155/GAC9og6SRhVEDv2B-VkCVjiY/ncdhc-patient-baby-example.json\" target=\"_blank\" title=\"ncdhc-patient-baby-example.json\">ncdhc-patient-baby-example.json</a></p>",
        "id": 183024699,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575948289
    },
    {
        "content": "<p>ok there was a problem there, thanks. It'll be fixed next release - you'll get a warning about the display being wrong</p>",
        "id": 183029434,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575954208
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 183040803,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1575968480
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , the error with validator is back again with the new version (v1.0.21-SNAPSHOT), any suggestion ? Here is the Stack Dump (for debugging):<br>\norg.hl7.fhir.exceptions.FHIRException: Problem processing expression (%resource.kind = #39;.logical#39;. or element.first().path = %resource.type) and element.tail().all(path.startsWith(%resource.snapshot.element.first().path&amp;'.')) in profile <a href=\"http://hl7.org/fhir/StructureDefinition/StructureDefinition\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/StructureDefinition\">http://hl7.org/fhir/StructureDefinition/StructureDefinition</a> path StructureDefinition.snapshot: Error in ?? at 1, 3: Found # expecting a token name</p>",
        "id": 183510806,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1576455299
    },
    {
        "content": "<p>what FHIR version are you using?</p>",
        "id": 183516046,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576465260
    },
    {
        "content": "<p>STU3 (3.0.2)</p>",
        "id": 183516060,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1576465311
    },
    {
        "content": "<p>I can't reproduce easily... can you tell me how you get this?</p>",
        "id": 183516238,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576465629
    },
    {
        "content": "<p>I'm attaching the profile, ig.xml and ig.json.  If I run the build, I'm getting this error. Not able to identify what's wrong since this was working with IG validator version v1.0.18 <a href=\"/user_uploads/10155/bt8HsNEaFg8psNVeehdqcqtn/ig.xml\" target=\"_blank\" title=\"ig.xml\">ig.xml</a> -SNAPSHOT <a href=\"/user_uploads/10155/QPr9lheGY0IY9E3FIgAV4TlL/ig.json\" target=\"_blank\" title=\"ig.json\">ig.json</a> <a href=\"/user_uploads/10155/h-okMVPjF8vAxuKqsoueZyXK/structuredefinition-ncdhc-patient-baby.json\" target=\"_blank\" title=\"structuredefinition-ncdhc-patient-baby.json\">structuredefinition-ncdhc-patient-baby.json</a></p>",
        "id": 183516367,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1576465893
    },
    {
        "content": "<p>that doesn't really help me. 1.0.18 is the publisher not the validator, right? so how are you actually executing this?</p>",
        "id": 183516424,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576465978
    },
    {
        "content": "<p>sorry, my bad. I'm using the publisher v1.0.21-SNAPSHOT. It  worked with publisher v1.0.18-SNAPSHOT</p>",
        "id": 183516480,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1576466055
    },
    {
        "content": "<p>and what is 'it' exactly? I haven't figured out how to reproduce this yet.</p>",
        "id": 183516505,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576466151
    },
    {
        "content": "<p>the whole publication. when I run the publication build locally,  it is failing with the error :<br>\nStack Dump (for debugging):                                                      (00:13.0574)<br>\norg.hl7.fhir.exceptions.FHIRException: Problem processing expression (%resource.kind = #39;.logical#39;. or element.first().path = %resource.type) and element.tail().all(path.startsWith(%resource.snapshot.element.first().path&amp;'.')) in profile <a href=\"http://hl7.org/fhir/StructureDefinition/StructureDefinition\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/StructureDefinition\">http://hl7.org/fhir/StructureDefinition/StructureDefinition</a> path StructureDefinition.snapshot: Error in ?? at 1, 3: Found # expecting a token name<br>\n        at org.hl7.fhir.r5.validation.InstanceValidator.checkInvariant(InstanceValidator.java:4867)<br>\n        at org.hl7.fhir.r5.validation.InstanceValidator.checkInvariants(InstanceValidator.java:4852)<br>\n        at org.hl7.fhir.r5.validation.InstanceValidator.checkInvariants(InstanceValidator.java:4743)<br>\n        at org.hl7.fhir.r5.validation.InstanceValidator.checkChild(InstanceValidator.java:4410)<br>\n        at org.hl7.fhir.r5.validation.InstanceValidator.validateElement(InstanceValidator.java:4327)<br>\n        at org.hl7.fhir.r5.validation.InstanceValidator.start(InstanceValidator.java:3235)<br>\n        at org.hl7.fhir.r5.validation.InstanceValidator.validateResource(InstanceValidator.java:4984)<br>\n        at org.hl7.fhir.r5.validation.InstanceValidator.validate(InstanceValidator.java:850)<br>\n        at org.hl7.fhir.r5.validation.InstanceValidator.validate(InstanceValidator.java:810)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:4003)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:3240)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3221)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:769)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:656)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6661)</p>",
        "id": 183516557,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1576466218
    },
    {
        "content": "<p>is this building an IG that is in github? I still can't reproduce this, nor find any cause for it? </p>\n<p>but you could try clearing your package cache? (unlikely, but I have no clue here)</p>",
        "id": 183516719,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576466468
    },
    {
        "content": "<p>the IG is not in GitHUB. It's in the local, I tried clearing the cache, but no luck. At this moment the IG has only one profiile which I sent you.</p>",
        "id": 183517087,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1576467166
    },
    {
        "content": "<p>just send me the whole IG directly then</p>",
        "id": 183517094,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576467191
    },
    {
        "content": "<p>sure.. here is the file: <a href=\"https://github.com/hl7au/au-fhir-childhealth/blob/master/au-fhir-childhealth.zip\" target=\"_blank\" title=\"https://github.com/hl7au/au-fhir-childhealth/blob/master/au-fhir-childhealth.zip\">https://github.com/hl7au/au-fhir-childhealth/blob/master/au-fhir-childhealth.zip</a></p>",
        "id": 183517336,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1576467684
    },
    {
        "content": "<p>I mean the full IG</p>",
        "id": 183517338,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1576467695
    },
    {
        "content": "<p>that built fine for me...</p>",
        "id": 183517810,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576468659
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>FHIR IG Publisher Version 1.0.21-SNAPSHOT (Git# 1236b34fe651). Built 2019-12-16T07:48:17.787+11:00 (7 hours old)\nDetected Java version: 1.8.0_211 from C:\\Program Files\\Java\\jre1.8.0_211 on amd64 (64bit). 7223MB available\nParameters: -ig C:\\work\\org.hl7.fhir.igs\\au-fhir-childhealth\ndir = C:\\work\\org.hl7.fhir\\fhir-ig-publisher\\org.hl7.fhir.publisher.cli, path = C:/Program Files/Java/jdk-11.0.2/bin/server;C:/Program Files/Java/jdk-11.0.2/bin;C:\\tools\\Rtools\\bin;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Program Files\\Docker\\Docker\\Resources\\bin;C:\\Program Files (x86)\\Embarcadero\\Studio\\20.0\\bin;C:\\Users\\Public\\Documents\\Embarcadero\\Studio\\20.0\\Bpl;C:\\Program Files (x86)\\Embarcadero\\Studio\\20.0\\bin64;C:\\Users\\Public\\Documents\\Embarcadero\\Studio\\20.0\\Bpl\\Win64;C:\\PROGRA~2\\Borland\\Delphi5\\Projects\\Bpl;C:\\PROGRA~2\\Borland\\Delphi5\\Bin;C:\\Program Files\\Java\\jdk-11.0.2\\bin;C:\\tools\\ant\\bin;C:\\tools\\apache-maven-3.6.0\\bin;C:\\Program Files\\Git\\bin;C:\\tools\\Ruby\\bin;C:\\Windows\\System32;C:\\Program Files (x86)\\Windows Kits\\10\\Windows Performance Toolkit\\;C:\\Program Files\\dotnet\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\FinalBuilder 8;C:\\Program Files\\TortoiseGit\\bin;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Users\\Public\\Documents\\Embarcadero\\Studio\\20.0\\Bpl;C:\\tools\\python3\\Scripts\\;C:\\tools\\python3\\;C:\\Tools\\Ruby\\bin;%USERPROFILE%\\AppData\\Local\\Microsoft\\WindowsApps;;C:\\Users\\graha\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\tools\\eclipse-2019-06\\eclipse;\nRun time = Monday, 16 December 2019 2:55:35 PM AEDT (2019-12-16T14:55:35+11:00)\nPackage Cache: C:\\Users\\graha\\.fhir\\packages                                     (00:00.0018)\nLoad Configuration from C:\\work\\org.hl7.fhir.igs\\au-fhir-childhealth\\ig.json     (00:00.0027)\nContacting Build Server...                                                       (00:00.0049)\n ... done                                                                        (00:05.0260)\nRoot directory: C:\\work\\org.hl7.fhir.igs\\au-fhir-childhealth                     (00:05.0262)\nTerminology Cache is at C:\\work\\org.hl7.fhir.igs\\au-fhir-childhealth\\txCache. 1 files in cache (00:05.0274)\nCore Package hl7.fhir.r3.core#3.0.2\nLoad Terminology Cache from C:\\work\\org.hl7.fhir.igs\\au-fhir-childhealth\\txCache (00:11.0300)\nConnect to Terminology Server at http://tx.fhir.org                              (00:11.0303)\nInstalling hl7.fhir.pubpack#0.0.3 to the package cache\n  Fetching:.......\n  Installing: ....... done.\nLoad Package hl7.fhir.pubpack#0.0.3\nInstalling hl7.fhir.au.base#1.1.0 to the package cache\n  Fetching:.....\n  Installing: ..... done.\nLoad aubase (http://hl7.org.au/fhir) from hl7.fhir.au.base#1.1.0                 (00:28.0615)\nLoad Content                                                                     (00:29.0805)\nProcessing Conformance Resources                                                 (00:30.0522)\nGenerating Narratives                                                            (00:31.0860)\nValidating Resources                                                             (00:31.0860)\nGenerating Outputs in C:\\work\\org.hl7.fhir.igs\\au-fhir-childhealth\\output        (00:31.0861)\nNo value set found at Patient.communication.language (url = &#39;https://healthterminologies.gov.au/fhir/ValueSet/common-languages-australia-2&#39;)\nGenerating Summary Outputs                                                       (00:37.0149)\nSending Usage Stats to Server                                                    (00:47.0676)\nJekyll: Source: C:/work/org.hl7.fhir.igs/au-fhir-childhealth/temp                (00:52.0614)\nJekyll: Generating...                                                            (00:52.0614)\nJekyll: done in 3.698 seconds.                                                   (00:56.0312)\nInstalling hl7.fhir.au.ncdhc#dev to the package cache\n  Fetching:\n  Installing:  done.\nChecking Output HTML                                                             (00:57.0028)\nfound 452 files                                                                  (00:57.0069)\n  ... 452 html files, 0 pages invalid xhtml (0%)                                 (01:03.0537)\n  ... 38988 links, 28 broken links (0%)                                          (01:03.0538)\nBuild final .zip                                                                 (01:03.0538)\nFinal .zip built                                                                 (01:04.0456)\nFinished. 00:33.0934. Validation output in C:\\work\\org.hl7.fhir.igs\\au-fhir-childhealth\\output\\qa.html\nErrors: 18  Warnings: 0  Info: 0 (01:07.0722)\nDone                                                                             (01:07.0725)\n</pre></div>",
        "id": 183517850,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576468694
    },
    {
        "content": "<p>Let me try restarting my computer. That’s the only option I didn’t try :)</p>",
        "id": 183517942,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1576468904
    },
    {
        "content": "<p>still no luck. but sounds like it's a problem with my local setup. I'll keep digging. thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 183518301,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1576469601
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I'm getting the following error with the new version of publisher. the source file is located at:<a href=\"https://github.com/hl7au/au-fhir-childhealth/blob/master/resources/structuredefinition-ncdhc-observation-hearing-screen.json\" target=\"_blank\" title=\"https://github.com/hl7au/au-fhir-childhealth/blob/master/resources/structuredefinition-ncdhc-observation-hearing-screen.json\">https://github.com/hl7au/au-fhir-childhealth/blob/master/resources/structuredefinition-ncdhc-observation-hearing-screen.json</a> : <br>\nMay I request you to suggest what's going wrong in the profile?</p>\n<p>org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for <a href=\"http://hl7.org.au/fhir/ch/v1/StructureDefinition/ncdhc-observation-hearing-screen\" target=\"_blank\" title=\"http://hl7.org.au/fhir/ch/v1/StructureDefinition/ncdhc-observation-hearing-screen\">http://hl7.org.au/fhir/ch/v1/StructureDefinition/ncdhc-observation-hearing-screen</a> in /scratch/ig-build-temp-1H3WPS/repo/resources/structuredefinition-ncdhc-observation-hearing-screen<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:3882)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:3834)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3271)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:774)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:661)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6738)<br>\nCaused by: org.hl7.fhir.exceptions.FHIRException: Unexpected condition in differential: type-slice.type-list.size() == 10 and implicit slice name does not contain a valid type (''?) at Observation.effectiveDateTime/effectiveDateTime<br>\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.determineFixedType(ProfileUtilities.java:1445)<br>\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1200)<br>\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:508)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:3880)<br>\n    ... 5 more</p>",
        "id": 185560388,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1578969944
    },
    {
        "content": "<p>obviously related to a change I made this morning.</p>",
        "id": 185560455,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1578970025
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  :)<br>\nassuming something to be fixed in the IG publisher..or it requires any change at my end ?</p>",
        "id": 185560589,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1578970256
    },
    {
        "content": "<p>I'm investigating</p>",
        "id": 185560655,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1578970324
    },
    {
        "content": "<p>ok bug in my code.</p>",
        "id": 185562066,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1578972547
    },
    {
        "content": "<p>the issue is fixed now.. thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 185565367,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1578977576
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I'm getting some broken links error and not able to identify what fix is required. My apology if this was discussed before and I missed that. </p>\n<p>Here are some errors from my IG : <a href=\"https://github.com/hl7au/au-fhir-childhealth\" target=\"_blank\" title=\"https://github.com/hl7au/au-fhir-childhealth\">https://github.com/hl7au/au-fhir-childhealth</a><br>\nQA Page: <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/qa.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/qa.html\">http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/qa.html</a></p>\n<p>The link 'versions.html#maturity' for \"Maturity\" cannot be resolved<br>\nThe link 'StructureDefinition-ncdhc-observation-hearing-check-definitions.html#Observation.component.code.coding' for \"coding\" cannot be resolved (valid targets: 145 targets)<br>\nhe link 'StructureDefinition-ncdhc-composition-view-birth-definitions.html#Composition.section.code.coding' for \"coding\" cannot be resolved (valid targets: 205 targets)</p>",
        "id": 186059139,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1579472103
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , I'm able to fix this one. There was an issue in my profile. The code was duplicated . however still struggling with SCNOMED AU codes. <a href=\"#narrow/stream/179173-australia/topic/SNOMED.20CT.20AU.20Code.20issues\" title=\"#narrow/stream/179173-australia/topic/SNOMED.20CT.20AU.20Code.20issues\">https://chat.fhir.org/#narrow/stream/179173-australia/topic/SNOMED.20CT.20AU.20Code.20issues</a></p>",
        "id": 186073179,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1579495185
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I'm still getting Exception in thread \"main\" java.lang.NullPointerException<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6914) Error with publisher v1.0.55.</p>\n<p>It was working fine with org.hl7.fhir.publisher.jar v1.0.53</p>",
        "id": 187187208,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1580612617
    },
    {
        "content": "<p>this is child health?</p>",
        "id": 187187250,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580612650
    },
    {
        "content": "<p>Yes, building at my local</p>",
        "id": 187187256,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1580612693
    },
    {
        "content": "<p>with the new version of IG publisher, I'm getting \"The package 'hl7.fhir.au.primarycare#1.1.1' is not known to the package server ('<a href=\"http://packages.fhir.org\" target=\"_blank\" title=\"http://packages.fhir.org\">http://packages.fhir.org</a>') \" Error. I can see the ig-new.json and ig-new.xml is being updated with the following:<br>\n\"dependsOn\" : [{<br>\n    \"id\" : \"aubase\",<br>\n    \"uri\" : \"<a href=\"http://hl7.org.au/fhir\" target=\"_blank\" title=\"http://hl7.org.au/fhir\">http://hl7.org.au/fhir</a>\",<br>\n    \"packageId\" : \"hl7.fhir.au.primarycare\",<br>\n    \"version\" : \"1.1.1\"<br>\n  }]</p>\n<p>are you doing anything <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span>  .. Looping in <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 188509834,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1582077383
    },
    {
        "content": "<p>hmm I specifically tested this - so it should work. Let me investigate</p>",
        "id": 188509903,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582077501
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> this is a case in point associated with the problem with the canonical URL :-(</p>",
        "id": 188511291,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582079702
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"193760\">@Shovan Roy</span> the problem here actually lies in the situation with the Australian packages.</p>",
        "id": 188511573,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582080213
    },
    {
        "content": "<p>and the way the web server is set up</p>",
        "id": 188511621,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582080248
    },
    {
        "content": "<p>I'm working on it - will take a few hours</p>",
        "id": 188511630,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582080257
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I'll continue with the publisher version v1.0.64 while you are working on the AU Packages setup.</p>",
        "id": 188511752,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1582080439
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , I was wondering if you got a chance to look at this issue.?</p>",
        "id": 188680734,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1582234592
    },
    {
        "content": "<p>still working on it.</p>",
        "id": 188680807,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582234651
    },
    {
        "content": "<p>We (ie Agency) were having the same error, but this is now fixed via the latest IGP v1.0.66<br>\nThanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>\n<p><strong>Edit: err - sort of</strong> ...<br>\nWe have a STU3 IG that has a <a href=\"https://github.com/AuDigitalHealth/ci-fhir-stu3/blob/master/ig-sharedmedicineslist-1.json#L32-L35\" target=\"_blank\" title=\"https://github.com/AuDigitalHealth/ci-fhir-stu3/blob/master/ig-sharedmedicineslist-1.json#L32-L35\">dependency on HL7 AU aubase 1.1.1</a> - this runs against IGP 1.0.66</p>\n<p>However, we have other STU3 IGs that <a href=\"https://github.com/AuDigitalHealth/ci-fhir-stu3/blob/master/ig-eventsummary-1.json#L32-L35\" target=\"_blank\" title=\"https://github.com/AuDigitalHealth/ci-fhir-stu3/blob/master/ig-eventsummary-1.json#L32-L35\">dependency on HL7 AU aubase current-stu3</a> - these fail with the error message:</p>\n<div class=\"codehilite\"><pre><span></span>org.hl7.fhir.exceptions.FHIRException:\nThe package &#39;hl7.fhir.au.base#current-stu3&#39; is not known to the package server (&#39;http://packages.fhir.org&#39;)\n</pre></div>\n\n\n<p>So, maybe the AU packages set up is still being worked on??</p>",
        "id": 188887374,
        "sender_full_name": "Rob Eastwood",
        "timestamp": 1582497415
    },
    {
        "content": "<p>v1.0.66 worked for me as well.. Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 188887677,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1582497994
    },
    {
        "content": "<p>hmm. current-stu3 can't work.</p>",
        "id": 188887798,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582498271
    },
    {
        "content": "<p>OK - does that mean that we need to pick one of STU3 packages shown in the <a href=\"http://hl7.org.au/fhir/package-feed.xml\" target=\"_blank\" title=\"http://hl7.org.au/fhir/package-feed.xml\">HL7 Australia FHIR Packages</a> feed? Like 1.1.1</p>",
        "id": 188888419,
        "sender_full_name": "Rob Eastwood",
        "timestamp": 1582499385
    },
    {
        "content": "<p>that should work in terms of the IG publisher, yes</p>",
        "id": 188889739,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582501844
    },
    {
        "content": "<p>for observers from outside Australia: this is a challenge given the way the current infrastructure works. There's only one 'current', for any package, the latest build of the master branch in github. And there's only one github repository for a given package</p>\n<p>So you can depend either on a published version, or the current master</p>",
        "id": 188890729,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582503580
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , I'm facing the following error (Publishing Content Failed: Unable to resolve package id hl7.fhir.pubpack)since this morning, any suggestion?</p>\n<p>Details:<br>\nPackage Cache: C:\\Users\\60166876\\.fhir\\packages                                  (00:00.0008)<br>\nLoad Configuration from C:\\Users\\60166876\\git\\au-fhir-childhealth\\ig.json        (00:00.0025)<br>\nRoot directory: C:\\Users\\60166876\\git\\au-fhir-childhealth                        (00:00.0049)<br>\nTerminology Cache is at C:\\Users\\60166876\\git\\au-fhir-childhealth\\txCache. 0 files in cache (00:00.0062)<br>\nCore Package hl7.fhir.r3.core#3.0.2<br>\nLoad Terminology Cache from C:\\Users\\60166876\\git\\au-fhir-childhealth\\txCache    (00:31.0275)<br>\nConnect to Terminology Server at <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">http://tx.fhir.org</a>                              (00:31.0277)<br>\nPublishing Content Failed: Unable to resolve package id hl7.fhir.pubpack         (00:54.0436)<br>\n                                                                                 (00:54.0437)<br>\nUse -? to get command line help                                                  (00:54.0438)<br>\n                                                                                 (00:54.0439)<br>\nStack Dump (for debugging):                                                      (00:54.0440)<br>\norg.hl7.fhir.exceptions.FHIRException: Unable to resolve package id hl7.fhir.pubpack<br>\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.fetchTheOldWay(PackageCacheManager.java:757)<br>\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.loadFromPackageServer(PackageCacheManager.java:335)<br>\n        at org.hl7.fhir.utilities.cache.PackageCacheManager.loadPackage(PackageCacheManager.java:586)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.loadPubPack(Publisher.java:1987)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1830)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1209)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:660)<br>\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6933)</p>",
        "id": 190449291,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1584049722
    },
    {
        "content": "<p>working on it now</p>",
        "id": 190449311,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584049742
    },
    {
        "content": "<p>give it about 5 min</p>",
        "id": 190449355,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1584049775
    },
    {
        "content": "<p>Started working.. thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 190452328,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1584051914
    },
    {
        "content": "<p>I'm facing the same error. AU Child Health IG is broken due to this .. looping in <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> and <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> for suggestions.</p>\n<p>here is the stack dump:<br>\nStack Dump (for debugging):                                                      (00:13.0538)<br>\norg.hl7.fhir.exceptions.FHIRException: The package 'hl7.fhir.au.base#1.1.1' is not known to the package server ('<a href=\"http://packages.fhir.org\" title=\"http://packages.fhir.org\">http://packages.fhir.org</a>')<br>\n    at org.hl7.fhir.utilities.cache.PackageCacheManager.loadFromPackageServer(PackageCacheManager.java:337)<br>\n    at org.hl7.fhir.utilities.cache.PackageCacheManager.loadPackage(PackageCacheManager.java:601)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.resolveDependency(Publisher.java:2453)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadIg(Publisher.java:2412)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1860)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1210)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:661)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6932)</p>",
        "id": 191815340,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1585172963
    },
    {
        "content": "<p>will look at it tomorrow</p>",
        "id": 191815755,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585173248
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  have you got a chance to look at this? I can see <a href=\"http://packages.fhir.org\" title=\"http://packages.fhir.org\">http://packages.fhir.org</a>  doesn't include hl7.fhir.au.base#1.1.1</p>",
        "id": 191959978,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1585263773
    },
    {
        "content": "<p>it's on my list.</p>",
        "id": 191961231,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585264853
    },
    {
        "content": "<p>i think this should be fixed now</p>",
        "id": 191992634,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585301374
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> .. I'll try and let you know..</p>",
        "id": 191994353,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1585302446
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> .. still facing the same issue. <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/failure/build.log\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/failure/build.log\">http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/failure/build.log</a></p>\n<p>rg.hl7.fhir.exceptions.FHIRException: The package 'hl7.fhir.au.base#1.1.1' is not known to the package server ('<a href=\"http://packages.fhir.org\" title=\"http://packages.fhir.org\">http://packages.fhir.org</a>')<br>\n    at org.hl7.fhir.utilities.cache.PackageCacheManager.loadFromPackageServer(PackageCacheManager.java:337)<br>\n    at org.hl7.fhir.utilities.cache.PackageCacheManager.loadPackage(PackageCacheManager.java:601)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.resolveDependency(Publisher.java:2525)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadIg(Publisher.java:2484)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1932)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1215)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:662)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:7004)</p>",
        "id": 192001138,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1585306321
    },
    {
        "content": "<p>it probably helps if I upload the fix. Wait a couple of hours and try again</p>",
        "id": 192005150,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585308937
    },
    {
        "content": "<p>Hi Grahme, <br>\nCan you let us know when the fix has been applied?  Our folks are just waiting to complete, hopefully, a build we can lock in for an IG.</p>\n<p>Thanks!</p>",
        "id": 192042507,
        "sender_full_name": "Scott Gordon",
        "timestamp": 1585326114
    },
    {
        "content": "<p>This is working now .. thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span><br>\n<span class=\"user-mention\" data-user-id=\"240016\">@Scott Gordon</span>  fyi..this is working for me.</p>",
        "id": 192193839,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1585515478
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I'm facing the following problem with the new IG Publisher. Any suggestion ?  This was working before. More details can be found at:<a href=\"http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/failure/build.log\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/failure/build.log\">http://build.fhir.org/ig/hl7au/au-fhir-childhealth/branches/master/failure/build.log</a><br>\n<a href=\"/user_uploads/10155/IlFWMaMlnbRcwzZnJpvu3gD7/image.png\" title=\"image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/IlFWMaMlnbRcwzZnJpvu3gD7/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/IlFWMaMlnbRcwzZnJpvu3gD7/image.png\"></a></div>",
        "id": 195915844,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1588289906
    },
    {
        "content": "<p>works for me - so I guess fixed next release</p>",
        "id": 195918763,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588292500
    },
    {
        "content": "<p>thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 195918791,
        "sender_full_name": "Shovan Roy",
        "timestamp": 1588292522
    }
]