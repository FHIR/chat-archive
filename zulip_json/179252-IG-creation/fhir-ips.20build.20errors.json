[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Giving you a heads up before you start your day.  I'm still working through various errors and I just pushed my latest updates.  The auto-build still fails, but I have a fix that allows my local build to succeed by handling some null pointer errors that I was receiving from ProfileValidator.validate().  I had to start going into that so I could figure out what the actual error was (the trapped exception wasn't very localized or helpful for that).  I added a couple of if..else wrappers to handle the nulls - and I'm logging data to the console, which isn't elegant but is easy:</p>\n<div class=\"codehilite\"><pre><span></span>            for (TypeRefComponent type : snapElement.getType()) {\n              if (type != null ) {\n                if (type.getCode() != null) {\n                  if (type.getCode().equals(&quot;http://hl7.org/fhir/Reference&quot;) || type.getCode().equals(&quot;http://hl7.org/fhir/canonical&quot;)) {\n                    warning(errors, IssueType.BUSINESSRULE, diffElement.getId(), type.hasAggregation(), &quot;Elements with type Reference or canonical should declare aggregation&quot;);\n                  }\n                }\n                else {\n                  System.out.println(&quot;diffElement.getId() == &quot; + diffElement.getId() +\n                  &quot;; type == &quot; + type + &quot;; type.getCode() == null&quot;);\n                }\n              }\n              else {\n                System.out.println(&quot;diffElement.getId() == &quot; + diffElement.getId() + &quot;; type == null&quot;);\n              }\n            }\n</pre></div>\n\n\n<p>And when I build this is now what I'm getting:</p>\n<div class=\"codehilite\"><pre><span></span>Processing Conformance Resources                                                 (31.0618sec)\nprocess type: NamingSystem                                                       (31.0618sec)\nprocess type: CodeSystem                                                         (31.0618sec)\nprocess res: absent-unknown-uv-ips                                               (31.0618sec)\nprocess type: ValueSet                                                           (31.0660sec)\nprocess res: absent-or-unknown-allergies-uv-ips                                  (31.0660sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-allergies-uv-ips - overriding from 2017-03-29T00:00:00 to 0.1.0\nprocess res: absent-or-unknown-devices-uv-ips                                    (31.0670sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-devices-uv-ips - overriding from 2018-01-27T22:19:47 to 0.1.0\nprocess res: absent-or-unknown-immunization-uv-ips                               (31.0679sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-immunization-uv-ips - overriding from 2017-05-24T00:00:00 to 0.1.0\nprocess res: pcid-uv-ips                                                         (31.0685sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-pcid-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0\nprocess res: mpid-uv-ips                                                         (31.0693sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-mpid-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0\nprocess res: phpid-lvl1-uv-ips                                                   (31.0700sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-phpid-lvl1-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0\nprocess res: phpid-lvl2-uv-ips                                                   (31.0706sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-phpid-lvl2-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0\nprocess res: phpid-lvl3-uv-ips                                                   (31.0712sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-phpid-lvl3-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0\nprocess res: phpid-lvl4-uv-ips                                                   (31.0719sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-phpid-lvl4-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0\nprocess res: imaging-txtobs-code-uv-ips                                          (31.0728sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-imaging-txtobs-code-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0\nprocess res: imaging-linear-measure-code-uv-ips                                  (31.0737sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-imaging-linear-measure-code-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0\nprocess res: imaging-volume-measure-code-uv-ips                                  (31.0752sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-imaging-volume-measure-code-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0\nprocess res: imaging-area-measure-code-uv-ips                                    (31.0758sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-imaging-area-measure-code-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0\nprocess res: specimen-type-uv-ips                                                (31.0764sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-specimen-type-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0\nprocess res: specimen-collection-method-uv-ips                                   (31.0792sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-specimen-collection-method-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0\nprocess res: absent-or-unknown-medication-uv-ips                                 (31.0800sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-medication-uv-ips - overriding from 2017-04-01T00:00:00 to 0.1.0\nprocess res: absent-or-unknown-procedures-uv-ips                                 (31.0808sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-procedures-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0\nprocess res: absent-or-unknown-problems-uv-ips                                   (31.0815sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-absent-or-unknown-problems-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0\nprocess res: allergy-intolerance-substance-condition-uv-ips                      (31.0824sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-allergy-intolerance-substance-condition-uv-ips - overriding from 2018-03-20T16:38:39 to 0.1.0\nprocess res: allergy-reaction-uv-ips                                             (31.0829sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-allergy-reaction-uv-ips - overriding from 2017-02-23T00:00:00 to 0.1.0\nprocess res: condition-severity-uv-ips                                           (31.0845sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-condition-severity-uv-ips - overriding from 2017-04-07T00:00:00 to 0.1.0\nprocess res: core-problem-list-disorders-uv-ips                                  (31.0851sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-core-problem-list-disorders-uv-ips - overriding from 2017-02-01T00:00:00 to 0.1.0\nprocess res: current-smoking-status-uv-ips                                       (32.0568sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-current-smoking-status-uv-ips - overriding from 2017-12-14T09:33:20 to 0.1.0\nprocess res: edd-method-uv-ips                                                   (32.0584sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-edd-method-uv-ips - overriding from 2017-04-13T00:00:00 to 0.1.0\nprocess res: healthcare-professional-roles-uv-ips                                (32.0588sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-healthcare-professional-roles-uv-ips - overriding from 2017-06-21T00:00:00 to 0.1.0\nprocess res: imaging-observations-uv-ips                                         (32.0596sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-imaging-observations-uv-ips - overriding from 2017-05-23T00:00:00 to 0.1.0\nprocess res: laboratory-and-vital-signs-observations                             (32.0601sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-laboratory-and-vital-signs-observations - overriding from 2017-05-23T00:00:00 to 0.1.0\nprocess res: laboratory-tests-and-panels-uv-ips                                  (32.0610sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-laboratory-tests-and-panels-uv-ips - overriding from 2018-03-20T15:32:30 to 0.1.0\nprocess res: lab-result-coded-value-uv-ips                                       (32.0618sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-lab-result-coded-value-uv-ips - overriding from 2017-05-31T00:00:00 to 0.1.0\nprocess res: medical-devices-uv-ips                                              (32.0626sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-medical-devices-uv-ips - overriding from 2018-02-16T00:00:00 to 0.1.0\nprocess res: medicine-active-substances-uv-ips                                   (32.0631sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-medicine-active-substances-uv-ips - overriding from 2017-05-03T00:00:00 to 0.1.0\nprocess res: medicine-doseform                                                   (32.0634sec)\nBusiness version mismatch in /Users/rhausam/git-repo/fhir-ips/resources/valueset-medicine-doseform - overriding fr\n</pre></div>",
        "id": 153989217,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534699195
    },
    {
        "content": "<p>You can see that the extensions are causing the issues with the null type code.  That's probably correctable and I'll dig into that further, but it still might be useful to actually trap this error (and do the logging properly).</p>",
        "id": 153989218,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534699366
    },
    {
        "content": "<p>And on the other error, after changing the discriminator path from reference:resolve() to resolve() alone I'm now getting a number of errors like this with the example Bundle:</p>\n<div class=\"codehilite\"><pre><span></span>Problem evaluating slicing expression for element in profile http://hl7.org/fhir/uv/ips/StructureDefinition/composition-uv-ips path Bundle.entry[1].resource.section[1].entry (fhirPath = true and resolve().conformsTo(&#39;http://hl7.org/fhir/uv/ips/StructureDefinition/condition-uv-ips&#39;)): null\n</pre></div>\n\n\n<p>It's the caught exception message itself in InstanceValidator.sliceMatches() that's 'null', which seems a little odd, but that's what it is.  I'm still looking at this, too.</p>",
        "id": 153989219,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534700073
    },
    {
        "content": "<p>I don't see history notes for IPS?</p>",
        "id": 153989329,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534723408
    },
    {
        "content": "<p>guess I need to do that</p>",
        "id": 153989335,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534725170
    },
    {
        "content": "<p>yes please</p>",
        "id": 153989338,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534725283
    },
    {
        "content": "<p>ok - remind me where the thread is on this?<br>\nI looked at it some before, but I'm not managing to find it now</p>",
        "id": 153989342,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534726026
    },
    {
        "content": "<p>thread on what?</p>",
        "id": 153989344,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534726146
    },
    {
        "content": "<p>wherever it was explained what's needed for the history</p>",
        "id": 153989346,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534726218
    },
    {
        "content": "<p><a href=\"#narrow/stream/9-committers/subject/Ballot.20Freeze/near/178357\" title=\"#narrow/stream/9-committers/subject/Ballot.20Freeze/near/178357\">https://chat.fhir.org/#narrow/stream/9-committers/subject/Ballot.20Freeze/near/178357</a></p>",
        "id": 153989352,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534726432
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> I am still not aware of change notes for IPS</p>",
        "id": 153989566,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534781914
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 153989570,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534782387
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> is this version 0.2.0?</p>",
        "id": 153989721,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534819713
    },
    {
        "content": "<p>and LIVD is 0.1.0?</p>",
        "id": 153989722,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534819803
    },
    {
        "content": "<p>I assume that would be the case, if we increment minor version for each ballot cycle.  The May ballot was STU3, but I assume that won't  affect this.</p>",
        "id": 153989740,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534823544
    },
    {
        "content": "<p>I would still like to get the \"Problem evaluating slicing expression for element in profile\" errors (and the others) fixed.</p>",
        "id": 153989745,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534824018
    },
    {
        "content": "<p>I did start poking around the code, as that message itself is pretty generic.  But the FHIRPathEngine.evaluateToBoolean method inside InstanceValidator.sliceMatches I'm finding a bit hard to fathom exactly how it's supposed to be working, and figuring out what the error is indicating should actually be done - either with the example instance data or if it's a bug how the code should be fixed.</p>",
        "id": 153989748,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534824612
    },
    {
        "content": "<p>yes you don't want to take it on. I already declined to take it on this cycle.</p>",
        "id": 153989751,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534826008
    },
    {
        "content": "<p>ok</p>",
        "id": 153989752,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1534826025
    }
]