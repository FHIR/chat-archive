[
    {
        "content": "<p>The following <code>menu.xml</code> (generated by SUSHI) will insert an extra, unwanted menu item in a dropdown:</p>\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code><span class=\"nt\">&lt;ul</span> <span class=\"na\">xmlns=</span><span class=\"s\">\"http://www.w3.org/1999/xhtml\"</span> <span class=\"na\">class=</span><span class=\"s\">\"nav navbar-nav\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;li&gt;</span>\n    <span class=\"nt\">&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"index.html\"</span><span class=\"nt\">&gt;</span>Home<span class=\"nt\">&lt;/a&gt;</span>\n  <span class=\"nt\">&lt;/li&gt;</span>\n  <span class=\"nt\">&lt;li&gt;</span>\n    <span class=\"nt\">&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"artifacts.html\"</span><span class=\"nt\">&gt;</span>Artifacts<span class=\"nt\">&lt;/a&gt;</span>\n  <span class=\"nt\">&lt;/li&gt;</span>\n  <span class=\"nt\">&lt;li</span> <span class=\"na\">class=</span><span class=\"s\">\"dropdown\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;a</span> <span class=\"na\">data-toggle=</span><span class=\"s\">\"dropdown\"</span> <span class=\"na\">href=</span><span class=\"s\">\"#\"</span> <span class=\"na\">class=</span><span class=\"s\">\"dropdown-toggle\"</span><span class=\"nt\">&gt;</span>Dropdown\n      <span class=\"nt\">&lt;b</span> <span class=\"na\">class=</span><span class=\"s\">\"caret\"</span><span class=\"nt\">&gt;&lt;/b&gt;</span>\n    <span class=\"nt\">&lt;/a&gt;</span>\n    <span class=\"nt\">&lt;ul</span> <span class=\"na\">class=</span><span class=\"s\">\"dropdown-menu\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;li&gt;</span>\n        <span class=\"nt\">&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"index.html#1\"</span><span class=\"nt\">&gt;</span>Index with anchor<span class=\"nt\">&lt;/a&gt;</span>\n      <span class=\"nt\">&lt;/li&gt;</span>\n      <span class=\"nt\">&lt;li&gt;</span>\n        <span class=\"nt\">&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"artifacts.html\"</span><span class=\"nt\">&gt;</span>Artifacts<span class=\"nt\">&lt;/a&gt;</span>\n      <span class=\"nt\">&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;/ul&gt;</span>\n  <span class=\"nt\">&lt;/li&gt;</span>\n<span class=\"nt\">&lt;/ul&gt;</span>\n</code></pre></div>\n<p><a href=\"/user_uploads/10155/EbdlWwOh2VAoNt16MzgE4x9Q/Screen-Shot-2021-01-05-at-6.32.55-PM.png\">Screen-Shot-2021-01-05-at-6.32.55-PM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/EbdlWwOh2VAoNt16MzgE4x9Q/Screen-Shot-2021-01-05-at-6.32.55-PM.png\" title=\"Screen-Shot-2021-01-05-at-6.32.55-PM.png\"><img src=\"/user_uploads/10155/EbdlWwOh2VAoNt16MzgE4x9Q/Screen-Shot-2021-01-05-at-6.32.55-PM.png\"></a></div><p>This appears to be due to the anchor (<code>#1</code>) in the first menu item. Removing this fixes the problem:</p>\n<p><a href=\"/user_uploads/10155/hIoll92Vz96YG7t6xqcLI2-A/Screen-Shot-2021-01-05-at-6.33.41-PM.png\">Screen-Shot-2021-01-05-at-6.33.41-PM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/hIoll92Vz96YG7t6xqcLI2-A/Screen-Shot-2021-01-05-at-6.33.41-PM.png\" title=\"Screen-Shot-2021-01-05-at-6.33.41-PM.png\"><img src=\"/user_uploads/10155/hIoll92Vz96YG7t6xqcLI2-A/Screen-Shot-2021-01-05-at-6.33.41-PM.png\"></a></div><p><a href=\"/user_uploads/10155/CsASpNZe-QP6Lq42jhvlgZQ8/sample_project.zip\">Here's a sample project</a> (.zip) to reproduce the issue. I modified <code>sushi-config.yaml</code> to add/remove the anchor from the link in order to take these screenshots.</p>",
        "id": 221717714,
        "sender_full_name": "Max Masnick",
        "timestamp": 1609890538
    },
    {
        "content": "<p>that's not actually the problem. The IG publisher will insert an &lt;a name=\"{guid}\"&gt; &lt;/a&gt; anywhere it finds a broken link, so it can refer to it from qa.html. That isn't visible, except in the menus where it causes this effect. it'll disappear when the link isn't a broken link</p>",
        "id": 221720489,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1609892677
    },
    {
        "content": "<p>Ah, thank you! I didn't realize that some anchor names are added in via JavaScript (like <code>&lt;h3 id=\"structures-resource-profiles\"&gt;</code>) rather than being part of the raw HTML file generated by the IG Publisher. These _looked_ like valid links when viewing the page in a browser, but from the Publisher's perspective they are not.</p>",
        "id": 221751777,
        "sender_full_name": "Max Masnick",
        "timestamp": 1609928595
    }
]