[
    {
        "content": "<p>So I have the following in a Questionnaire:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;item&gt;\n      &lt;linkId value=&quot;disposition-date&quot; /&gt;\n      &lt;text value=&quot;Disposition date if discharged, transferred, or expired&quot; /&gt;\n      &lt;type value=&quot;date&quot; /&gt;\n      &lt;enableWhen&gt;\n        &lt;question value=&quot;infant-disposition&quot; /&gt;\n        &lt;answerCoding&gt;\n          &lt;system value=&quot;http://snomed.info/sct&quot; /&gt;\n          &lt;code value=&quot;183665006&quot; /&gt;\n        &lt;/answerCoding&gt;\n      &lt;/enableWhen&gt;\n      &lt;enableWhen&gt;\n        &lt;question value=&quot;infant-disposition&quot; /&gt;\n        &lt;answerCoding&gt;\n          &lt;system value=&quot;http://snomed.info/sct&quot; /&gt;\n          &lt;code value=&quot;266751003&quot; /&gt;\n        &lt;/answerCoding&gt;\n      &lt;/enableWhen&gt;\n      &lt;enableWhen&gt;\n        &lt;question value=&quot;infant-disposition&quot; /&gt;\n        &lt;answerCoding&gt;\n          &lt;system value=&quot;http://snomed.info/sct&quot; /&gt;\n          &lt;code value=&quot;371828006&quot; /&gt;\n        &lt;/answerCoding&gt;\n      &lt;/enableWhen&gt;\n      &lt;required value=&quot;false&quot; /&gt;\n      &lt;repeats value=&quot;false&quot; /&gt;\n    &lt;/item&gt;\n</pre></div>\n\n\n<p>Then I have the following in the QuestionnaireResponse:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;item&gt;\n            &lt;linkId value=&quot;infant-disposition&quot;/&gt;\n            &lt;text value=&quot;Disposition of infant&quot;/&gt;\n            &lt;answer&gt;\n                &lt;valueCoding&gt;\n                    &lt;system value=&quot;http://snomed.info/sct&quot;/&gt;\n                    &lt;code value=&quot;266751003&quot;/&gt;\n                    &lt;display value=&quot;Transferred from department (finding)&quot;/&gt;\n                &lt;/valueCoding&gt;\n            &lt;/answer&gt;\n        &lt;/item&gt;\n        &lt;item&gt;\n            &lt;linkId value=&quot;disposition-date&quot;/&gt;\n            &lt;text value=&quot;Disposition date if discharged, transferred, or expired&quot;/&gt;\n            &lt;answer&gt;\n                &lt;valueDate value=&quot;2019-01-02&quot;/&gt;\n            &lt;/answer&gt;\n        &lt;/item&gt;\n</pre></div>\n\n\n<p>The value in infant-disposition is one of the enableWhen answers, but I get this error from the IG Publisher:<br>\n<code>QuestionnaireResponse/hai-questionnaireResponse-los-denom: QuestionnaireResponse.item  error   Item has answer, even though it is not enabled disposition-date</code></p>",
        "id": 160848202,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1552627119
    },
    {
        "content": "<p>can you make an test case - that is, a simple questionnaire/questionnaire response that shows this problem, so I can add it to the test cases for the validator?</p>",
        "id": 160848290,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1552627234
    },
    {
        "content": "<p>In fact, the only other place I have an enableWhen, it also errors with the IG publisher:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;item&gt;\n            &lt;linkId value=&quot;los-contributed-to-death&quot;/&gt;\n            &lt;text value=&quot;Infection contributed to death&quot;/&gt;\n            &lt;type value=&quot;boolean&quot;/&gt;\n            &lt;enableWhen&gt;\n                &lt;question value=&quot;died&quot;/&gt;\n                &lt;answerBoolean value=&quot;true&quot;/&gt;\n            &lt;/enableWhen&gt;\n            &lt;required value=&quot;true&quot;/&gt;\n            &lt;repeats value=&quot;false&quot;/&gt;\n        &lt;/item&gt;\n</pre></div>\n\n\n<p>QuestionnaireResponse:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;item&gt;\n            &lt;linkId value=&quot;died&quot;/&gt;\n            &lt;text value=&quot;Died&quot;/&gt;\n            &lt;answer&gt;\n                &lt;valueBoolean value=&quot;true&quot;/&gt;\n            &lt;/answer&gt;\n        &lt;/item&gt;\n        &lt;item&gt;\n            &lt;linkId value=&quot;los-contributed-to-death&quot;/&gt;\n            &lt;text value=&quot;Infection contributed to death&quot;/&gt;\n            &lt;answer&gt;\n                &lt;valueBoolean value=&quot;false&quot;/&gt;\n            &lt;/answer&gt;\n        &lt;/item&gt;\n</pre></div>\n\n\n<p>Also errors.</p>",
        "id": 160848367,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1552627344
    },
    {
        "content": "<p>Yes, will create test case...</p>",
        "id": 160848384,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1552627377
    },
    {
        "content": "<p>BTW - this is R3</p>",
        "id": 160849098,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1552628493
    },
    {
        "content": "<p>Emailed test instances to you <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 160849357,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1552628940
    },
    {
        "content": "<p>hmm works fine in the validator</p>",
        "id": 160852381,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1552633866
    },
    {
        "content": "<p>Hmmm, I wonder if the issues I'm having have anything to do with the fact that the SNOMED code isn't being validated...</p>",
        "id": 161022629,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1552869939
    },
    {
        "content": "<p>I think I'll just comment out those answers from the QuestionnaireResponses for now, just so I have a (almost - still will have the SNOMED code issue) clean build.</p>",
        "id": 161022785,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1552870202
    },
    {
        "content": "<p>Oh just saw this - I guess there IS an issue? <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20550\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20550\">http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20550</a></p>",
        "id": 161023220,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1552870991
    },
    {
        "content": "<p>yes there is an issue.</p>",
        "id": 161026173,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1552876218
    }
]