[
    {
        "content": "<p>When I build the IG (using Lloyd's build system) I no longer get anything under the 'Artifacts' header. Previously I did. However, all the 'Artifacts' are still listed in the table of contents. What has changed and what do I need to do to get them back? Can I delete the Artifacts header (it used to be required)?</p>",
        "id": 154011784,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540380886
    },
    {
        "content": "<p>You're going to need to update to a newer version of the framework - it's changed to reflect changes in ImplementationGuide.  You can grab the current version from the GenomicsReporting, SDC or CRD IGs</p>",
        "id": 154012066,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540439247
    },
    {
        "content": "<blockquote>\n<p>You're going to need to update to a newer version of the framework - it's changed to reflect changes in ImplementationGuide.  You can grab the current version from the GenomicsReporting, SDC or CRD IGs</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  Doing so gives me this error right at the very end.</p>\n<div class=\"codehilite\"><pre><span></span> Installing null#dev to the package cache\n     [java] java.io.IOException: Attempt to import a mis-identified package null\n     [java]     at org.hl7.fhir.utilities.cache.PackageCacheManager.addPackageToCache(PackageCacheManager.java:284)\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:2884)\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:597)\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:526)\n</pre></div>",
        "id": 154012304,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540509646
    },
    {
        "content": "<p>That looks exciting...  Try wiping your temp and your src-generated folder.  If that doesn't work, try wiping your [user]/.fhir/packages folder.  If that still doesn't work, I'm afraid you're going to need to poke Grahame...</p>",
        "id": 154012307,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540510323
    },
    {
        "content": "<blockquote>\n<p>That looks exciting...  Try wiping your temp and your src-generated folder.  If that doesn't work, try wiping your [user]/.fhir/packages folder.  If that still doesn't work, I'm afraid you're going to need to poke Grahame...</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  Same error on all above attempts ... <br>\n<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Any ideas?</p>\n<p>I guess I can revert back to what I had before updating the Framework. I may not have gotten the Artifacts, but I was able to build the rest of the IG.</p>",
        "id": 154012309,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540511234
    },
    {
        "content": "<p>I don't understand the problem, but it sounds like a framework one. We really need to get rid of the framework...</p>",
        "id": 154012414,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540560489
    },
    {
        "content": "<blockquote>\n<p>I don't understand the problem, but it sounds like a framework one. We really need to get rid of the framework...</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I don't understand the problem either and am not sure where to start looking.</p>",
        "id": 154012469,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540562515
    },
    {
        "content": "<p>I just ran genomics-reporting and SDC with the newest version of the IGPublisher and they both worked fine.  (CRD has an issue related to a change to Coverage.)</p>",
        "id": 154012509,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540564515
    },
    {
        "content": "<p>The Coverage change is going to require an update to the Java files again.</p>",
        "id": 154012520,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540564928
    },
    {
        "content": "<p>I will do this once I get home</p>",
        "id": 154012523,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540565010
    },
    {
        "content": "<p>or maybe I should wait until the end of this week, and only burn time updating the java files once</p>",
        "id": 154012525,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540565032
    },
    {
        "content": "<blockquote>\n<p>The Coverage change is going to require an update to the Java files again.</p>\n</blockquote>\n<p>I am trying to build with the old framework and see if that builds with the current ig publisher. I am not expecting to get artifacts<br>\n---&gt; result; it builds. 5 min 57 sec.  Guide looks as it should but missing artifacts under the artifacts header.</p>\n<p>Now I will update the framework and see what happens</p>\n<p>bummer - failure. Same error; right at the end</p>\n<div class=\"codehilite\"><pre><span></span>     [java] Jekyll: Generating...                                                            (00:03:45.0551sec)\n     [java] Jekyll: done in 21.297 seconds.                                                  (00:04:06.0873sec)\n     [java] Installing null#dev to the package cache\n     [java]   Fetching:.|Publishing Content Failed: Attempt to import a mis-identified package null       (00:04:07.0619sec)\n     [java]                                                                                  (00:04:07.0619sec)\n     [java] Use -? to get command line help                                                  (00:04:07.0619sec)\n     [java]                                                                                  (00:04:07.0619sec)\n     [java] Stack Dump (for debugging):                                                      (00:04:07.0619sec)\n     [java] java.io.IOException: Attempt to import a mis-identified package null\n     [java]     at org.hl7.fhir.utilities.cache.PackageCacheManager.addPackageToCache(PackageCacheManager.java:284)\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:2884)\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:597)\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:526)\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4925)\n     [java] Exception in thread &quot;main&quot; java.lang.NullPointerException\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4935)\n     [java] Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n</pre></div>",
        "id": 154012528,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540565047
    },
    {
        "content": "<p>Do you have a bad package name somewhere?</p>",
        "id": 154012584,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540566739
    },
    {
        "content": "<blockquote>\n<p>Do you have a bad package name somewhere?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> not sure what is considered a 'package'. I did make the name change in the ImplementationGuide resource so 'package' is now 'grouping' and 'groupingId'. I can't think of what else might be a package.</p>",
        "id": 154012616,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540568419
    },
    {
        "content": "<p>In your ig, what's the NPM name?</p>",
        "id": 154012617,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540568530
    },
    {
        "content": "<blockquote>\n<p>In your ig, what's the NPM name?</p>\n</blockquote>\n<p>Not sure what that is. There is no such element in the IG resource. My groupingId is 'hl7.fhir.uv.phd'.</p>",
        "id": 154012618,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540568939
    },
    {
        "content": "<p>ImplementationGuide.packageId = what?</p>",
        "id": 154012620,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540569385
    },
    {
        "content": "<p>I think he's saying that he changed that tag to groupingID, which wouldn't be correct.</p>",
        "id": 154012621,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540569443
    },
    {
        "content": "<blockquote>\n<p>ImplementationGuide.packageId = what?</p>\n</blockquote>\n<p>That does not exist anymore. It has been replaced by groupingId.</p>",
        "id": 154012622,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540569449
    },
    {
        "content": "<p>no, packageId is still there</p>",
        "id": 154012623,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540569467
    },
    {
        "content": "<p>as \"NPM Package name for IG\"</p>",
        "id": 154012624,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540569489
    },
    {
        "content": "<blockquote>\n<p>as \"NPM Package name for IG\"</p>\n</blockquote>\n<p>Miscommunication. I am talking about the package id that used to be for the definition (pages and resources)<br>\nI have never used the packageId element standalone. But looking at the current IG I see it is required. A change I did not catch.</p>\n<p>Is that arbitrary or must it also be related to the Id?</p>",
        "id": 154012625,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540569710
    },
    {
        "content": "<p>ImplementationGuide.packageId is where you need to have 'hl7.fhir.uv.phd'.</p>",
        "id": 154012626,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540569856
    },
    {
        "content": "<p>It needs to be the npm package id for your IG - as assigned by Grahame.  If he hasn't done that yet, you can guess.  As an example, the genomics reporting one is hl7.fhir.uv.genomics-reporting</p>",
        "id": 154012627,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540569874
    },
    {
        "content": "<blockquote>\n<p>ImplementationGuide.packageId is where you need to have 'hl7.fhir.uv.phd'.</p>\n</blockquote>\n<p>I also use that for grouping (now a separate entry). Is that okay?</p>",
        "id": 154012628,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540569912
    },
    {
        "content": "<p>grouping is generally a human-friendly name.  It'll show up in your artifact index.</p>",
        "id": 154012629,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540569960
    },
    {
        "content": "<p>I have groupings for \"profiles\", \"Extensions\", \"Terminology\", etc.</p>",
        "id": 154012630,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540569981
    },
    {
        "content": "<p>There isn't a 'grouping' or 'groupingId' at the resource root level - they're in 'definition'.</p>",
        "id": 154012631,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540570045
    },
    {
        "content": "<blockquote>\n<p>I have groupings for \"profiles\", \"Extensions\", \"Terminology\", etc.</p>\n</blockquote>\n<p>Okay, once I see the artificats I can then change them accordingly</p>",
        "id": 154012632,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540570056
    },
    {
        "content": "<blockquote>\n<p>There isn't a 'grouping' or 'groupingId' at the resource root level - they're in 'definition'.</p>\n</blockquote>\n<p>Yes, that's all I have ever used. I never had a packageId. if it was required, it did not affect the build. But I guess now it does with the new framework.</p>",
        "id": 154012634,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540570127
    },
    {
        "content": "<p>It's been something we've had to have for a while now (prior to the change to 'grouping').  But maybe the build wasn't complaining enough before.</p>",
        "id": 154012635,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540570194
    },
    {
        "content": "<p>And I don't think you would have been putting 'hl7.fhir.uv.phd' inside your 'definition', right?</p>",
        "id": 154012636,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540570291
    },
    {
        "content": "<blockquote>\n<p>And I don't think you would have been putting 'hl7.fhir.uv.phd' inside your 'definition', right?</p>\n</blockquote>\n<p>It's just an identifier so I have. Was using it when it was called package. It did not affect anything, But I was not getting artifacts anymore.</p>",
        "id": 154012637,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540570441
    },
    {
        "content": "<p>Well hopefully changing that fixes it.</p>",
        "id": 154012638,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540570498
    },
    {
        "content": "<p>\"package\" got renamed to grouping.  As well, packageId got added.  You need to do both changes.</p>",
        "id": 154012639,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540570617
    },
    {
        "content": "<blockquote>\n<p>Well hopefully changing that fixes it.</p>\n</blockquote>\n<p>Having the packageId solves the problem. I did not have it originally since it was not required. It was (0..1) I didn't catch that requirement change; just the grouping change. And Now I get artifacts. I am still using hl7.fhir.uv.phd for the groupingId and I do not see any ill affects in the Artifacts....yet</p>",
        "id": 154012640,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540570709
    },
    {
        "content": "<p>Hmm.  Oddly enough, after all of this discussion, I've just now discovered that the Artifacts for the LIVD IG (using Lloyd's framework) are now missing from the page.  They were always there before, and I've always had the 'packageId' populated (as &lt;packageId value=\"hl7.fhir.uv.livd\"/&gt;) in the IG resource (livd.xml).  I'm doing further investigation.</p>",
        "id": 154012643,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540571788
    },
    {
        "content": "<blockquote>\n<p>Hmm.  Oddly enough, after all of this discussion, I've just now discovered that the Artifacts for the LIVD IG (using Lloyd's framework) are now missing from the page.  They were always there before, and I've always had the 'packageId' populated (as &lt;packageId value=\"hl7.fhir.uv.livd\"/&gt;) in the IG resource (livd.xml).  I'm doing further investigation.</p>\n</blockquote>\n<p>You need to update to his latest Framework<br>\nI copied the one from his genomes IG. That solved the problem.<br>\nThe pacakgeId was not the reason for no Artifacts; it was the reason I could not build after updating the Frameworks</p>",
        "id": 154012644,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540571857
    },
    {
        "content": "<p>Right.  He said that before and I was just contemplating how best to do that.  I'm assuming it's just a clean replacement? - if so then it shouldn't be a problem.</p>",
        "id": 154012645,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540571967
    },
    {
        "content": "<blockquote>\n<p>Right.  He said that before and I was just contemplating how best to do that.  I'm assuming it's just a clean replacement? - if so then it shouldn't be a problem.</p>\n</blockquote>\n<p>that's all I did. Copy and paste overwriting everything that was already there.</p>",
        "id": 154012646,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540572005
    },
    {
        "content": "<p>However, I don't necessarily want to do a wholesale replacement, as I'd like, if possible, to have the changes tracked in Git.  I'm wondering if there is a less drastic approach to updating the framework.  <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>?</p>",
        "id": 154012647,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540572105
    },
    {
        "content": "<blockquote>\n<p>However, I don't necessarily want to do a wholesale replacement, as I'd like, if possible, to have the changes tracked in Git.  I'm wondering if there is a less drastic approach to updating the framework.  <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>?</p>\n</blockquote>\n<p>That's why I did a copy and replace. I could see all the changes in git from what it was. <br>\n... even if those changes are beyond anything I will really ever look at. The idea is that I do not have to touch it; I only need to handle the material that I need to author.</p>",
        "id": 154012651,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540572157
    },
    {
        "content": "<p>Delete the Framework folder and replace it with the new Framework folder.  A copy has the risk of leaving something hanging around that shouldn't be there.</p>",
        "id": 154012652,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540572274
    },
    {
        "content": "<p>OK.  Will do that, then.</p>",
        "id": 154012653,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540572309
    },
    {
        "content": "<blockquote>\n<p>Delete the Framework folder and replace it with the new Framework folder.  A copy has the risk of leaving something hanging around that shouldn't be there.</p>\n</blockquote>\n<p>oohhh....</p>\n<p>There is a single new file <br>\nframework/config/_config.yml<br>\neverything else is a modification of what was there</p>",
        "id": 154012654,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540572313
    },
    {
        "content": "<p>Presumably the repo for CRD is davinci-crd?  I've cloned that one already and will update it.</p>",
        "id": 154012655,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540572558
    },
    {
        "content": "<blockquote>\n<p>Presumably the repo for CRD is davinci-crd?  I've cloned that one already and will update it.</p>\n</blockquote>\n<p>Hopefully they are all the same. I am using genomics-reporting</p>",
        "id": 154012656,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540572606
    },
    {
        "content": "<p>Sounds like that should be fine.  I just wanted to check with <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> that I have the \"CRD\" that he meant.</p>",
        "id": 154012657,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540572730
    },
    {
        "content": "<p>So what's happening for you now?</p>",
        "id": 154012660,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540572839
    },
    {
        "content": "<blockquote>\n<p>So what's happening for you now?</p>\n</blockquote>\n<p>For me everything is now rosy.</p>",
        "id": 154012661,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540572922
    },
    {
        "content": "<p>I'm just trying out the build with the updated framework from davinci-crd.  I'll let you know in a moment.</p>",
        "id": 154012662,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540572953
    },
    {
        "content": "<p>Still Fetching... :(</p>",
        "id": 154012663,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540572972
    },
    {
        "content": "<blockquote>\n<p>Still Fetching... :(</p>\n</blockquote>\n<p>set the tool versio to 3 in the package.json in .fhir and avoid that long fetching everytime.</p>",
        "id": 154012664,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540573029
    },
    {
        "content": "<p>I haven't done that because of Grahame's warning about the main build.</p>",
        "id": 154012665,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540573086
    },
    {
        "content": "<p>I can now confirm that my artifacts are back, though! :)</p>",
        "id": 154012666,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540573122
    },
    {
        "content": "<p>I'm not sure why the IG title is showing as \"LOINC â€“ IVD Test Code (LIVD) Mapping 0.1.0 - ${ballotstatus}\", though.  That's not great.</p>",
        "id": 154012669,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540573191
    },
    {
        "content": "<blockquote>\n<p>I haven't done that because of Grahame's warning about the main build.</p>\n</blockquote>\n<p>In the end I can see that but while you are trying to get something to work who wants to wait so long?</p>",
        "id": 154012670,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540573208
    },
    {
        "content": "<p>makes sense</p>",
        "id": 154012671,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540573235
    },
    {
        "content": "<p>thoughts on the title, <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>?</p>",
        "id": 154012672,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540573250
    },
    {
        "content": "<blockquote>\n<p>thoughts on the title, <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>?</p>\n</blockquote>\n<p>Do you mean the title of the IG in the top row? Mine appears to be okay.<br>\nI know there was a bug once where there was hard-coded reference to genome IG in the frameworks and I had to edit that. But it has been corrected in the genomes IG project at least</p>",
        "id": 154012675,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540573374
    },
    {
        "content": "<p>There's properties.txt file - make sure you're setting the same properties as the IG you copied the framework from</p>",
        "id": 154012676,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540573389
    }
]