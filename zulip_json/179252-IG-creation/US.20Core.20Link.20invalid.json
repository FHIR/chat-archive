[
    {
        "content": "<p>Hello<br>\nI have a dependency on US Core and the dependency is working when i create profiles and such. However whenever I refer to US Core using the following Link it comes up as Invalid in the QA Report, Any idea on what may be going on ? </p>\n<p>The link '<a href=\"http://hl7.org/fhir/us/core/STU3\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/STU3\">http://hl7.org/fhir/us/core/STU3</a>' for \"US Core - R4 version\" cannot be resolved<br>\nShould i use the complete URI as present in the Dependencies below to avoid the error ? </p>\n<p>Any thoughts would be appreciated .. </p>\n<p>&lt;dependsOn&gt;<br>\n    &lt;uri value=\"http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core\"/&gt;<br>\n    &lt;packageId value=\"hl7.fhir.us.core\"/&gt;<br>\n    &lt;version value=\"3.1.0\"/&gt;<br>\n  &lt;/dependsOn&gt;</p>",
        "id": 183583317,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1576525501
    },
    {
        "content": "<p>I would have expected:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;dependsOn&gt;</span>\n  <span class=\"nt\">&lt;uri</span> <span class=\"na\">value=</span><span class=\"s\">&quot;http://hl7.org/fhir/us/core&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;packageId</span> <span class=\"na\">value=</span><span class=\"s\">&quot;hl7.fhir.us.core&quot;</span><span class=\"nt\">/&gt;</span>\n  <span class=\"nt\">&lt;version</span> <span class=\"na\">value=</span><span class=\"s\">&quot;3.1.0&quot;</span><span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/dependsOn&gt;</span>\n</pre></div>",
        "id": 183584019,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576525972
    },
    {
        "content": "<p>If I use the above dependency as suggested, I get an Exception as below</p>\n<p>org.hl7.fhir.exceptions.FHIRException: Unable to understand IG url: <a href=\"http://hl7.org/fhir/us/core\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core\">http://hl7.org/fhir/us/core</a><br>\n    at org.hl7.fhir.igtools.publisher.Publisher.determineCanonical(Publisher.java:1540)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadIg(Publisher.java:2213)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1475)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1168)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:650)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6661)</p>\n<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  had provided the above dependency solution which works..but my absolute links  <br>\n'<a href=\"http://hl7.org/fhir/us/core/STU3\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/STU3\">http://hl7.org/fhir/us/core/STU3</a>'  show up as Error in the build log but the link itself resolves.</p>",
        "id": 183614832,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1576553978
    },
    {
        "content": "<p>ahh. technically, you depend on the IG resource itself, so your reference needs to be : <a href=\"http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core\">http://hl7.org/fhir/us/core/ImplementationGuide/hl7.fhir.us.core</a></p>",
        "id": 183615470,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576554862
    },
    {
        "content": "<p>So that works and the links when i navigate on the Browser works.<br>\nFor e.g when I derive from the US Core Patient, it is recognized and the profile renders. </p>\n<p>However the build QA output has the following error: <br>\nThe link '<a href=\"http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-patient.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-patient.html\">http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-patient.html</a>' for \"USCorePatientProfile\" cannot be resolved</p>\n<p>There are many errors like this all of which point back to USCore, which it says it does not recognize, cannot resolve etc. </p>\n<p>Trying to figure out what the tool does not like ..</p>",
        "id": 183615577,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1576555073
    },
    {
        "content": "<p>which IG is this? I'm about to go out but I'll have a look later tonight</p>",
        "id": 183615623,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576555101
    },
    {
        "content": "<p>QA Output : <a href=\"http://build.fhir.org/ig/HL7/davinci-atr/branches/master/qa.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/davinci-atr/branches/master/qa.html\">http://build.fhir.org/ig/HL7/davinci-atr/branches/master/qa.html</a> <br>\nGitHub Location: <a href=\"https://github.com/hl7/davinci-atr\" target=\"_blank\" title=\"https://github.com/hl7/davinci-atr\">https://github.com/hl7/davinci-atr</a> </p>\n<p>Everything is checked in, by the way I am using the new templates, dont know if that matters. <br>\nThe dependency is present in davinci-atr.xml</p>",
        "id": 183615662,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1576555198
    },
    {
        "content": "<p>I have US Core dependency for Da Vinci Notifications using the old ig.json approach:</p>\n<div class=\"codehilite\"><pre><span></span>  &quot;dependencyList&quot;: [\n    {\n      &quot;name&quot;: &quot;uscore&quot;,\n      &quot;package&quot;: &quot;hl7.fhir.us.core&quot;,\n      &quot;version&quot;: &quot;3.1.0&quot;,\n      &quot;location&quot;: &quot;http://hl7.org/fhir/us/core&quot;\n    },\n    {\n      &quot;name&quot;: &quot;hrex&quot;,\n      &quot;package&quot;: &quot;hl7.fhir.us.davinci-hrex&quot;,\n      &quot;version&quot;: &quot;0.1.0&quot;,\n      &quot;location&quot;: &quot;http://hl7.org/fhir/us/davinci-hrex&quot;\n    }\n  ],\n</pre></div>\n\n\n<p>which corresponds to the Implementation Guide resource as :</p>\n<div class=\"codehilite\"><pre><span></span>  &lt;!-- insert dependency --&gt;\n  &lt;dependsOn id=&quot;hrex&quot;&gt;\n    &lt;!-- 0..* Another Implementation guide this depends on --&gt;\n    &lt;uri value=&quot;http://hl7.org/fhir/us/davinci-hrex&quot;&gt;\n      &lt;!-- 1..1 canonical(ImplementationGuide) Identity of the IG that this depends on --&gt;\n    &lt;/uri&gt;\n    &lt;packageId value=&quot;hl7.fhir.us.davinci-hrex&quot;/&gt;\n    &lt;!-- 0..1 NPM Package name for IG this depends on --&gt;\n    &lt;version value=&quot;0.1.0&quot;/&gt;&lt;!-- 0..1 Version of the IG --&gt;&lt;/dependsOn&gt;\n  &lt;dependsOn id=&quot;uscore&quot;&gt;\n    &lt;!-- 0..* Another Implementation guide this depends on --&gt;\n    &lt;uri value=&quot;http://hl7.org/fhir/us/core&quot;&gt;\n      &lt;!-- 1..1 canonical(ImplementationGuide) Identity of the IG that this depends on --&gt;\n    &lt;/uri&gt;\n    &lt;packageId value=&quot;hl7.fhir.us.core&quot;/&gt;\n    &lt;!-- 0..1 NPM Package name for IG this depends on --&gt;\n    &lt;version value=&quot;3.1.0&quot;/&gt;&lt;!-- 0..1 Version of the IG --&gt;&lt;/dependsOn&gt;\n</pre></div>",
        "id": 183652747,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576592906
    },
    {
        "content": "<p>last time I checked this worked for  me..,</p>",
        "id": 183652805,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576592951
    },
    {
        "content": "<p>The dependencies work, but the Build has unresolved link errors but they all resolve.</p>",
        "id": 183653116,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1576593156
    },
    {
        "content": "<p>no errors for me, let me clone yours and run and see.....</p>",
        "id": 183653476,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576593393
    },
    {
        "content": "<p>If I use the Id maybe it will go away... I could use {{site.data.fhir.uscore}}/index.html ..correct ?</p>",
        "id": 183653589,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1576593465
    },
    {
        "content": "<p>After I used the id now that eliminated a whole bunch of errors. I will check in that fix and get the errors reduced before i address the next batch. I will have to do the same in profile of profiles i think..where i see the same issues with uscore references.</p>",
        "id": 183654942,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1576594301
    },
    {
        "content": "<p>Here is what I get with the templates build...</p>\n<div class=\"codehilite\"><pre><span></span>Error checking links for hl7.fhir.us.core#3.0.0: null\nError checking links for hl7.fhir.us.core#3.1.0: null\n  ... 638 html files, 0 pages invalid xhtml (0%)                                 (02:22.0534)\n  ... 201906 links, 375 broken links (0%)\n</pre></div>",
        "id": 183664221,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576599773
    },
    {
        "content": "<p>this is before I made any changes.</p>",
        "id": 183664342,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576599838
    },
    {
        "content": "<p>ooops on the above IG resource,  I need to update the uris to IGs.</p>",
        "id": 183665461,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576600451
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 183665759,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576600615
    },
    {
        "content": "<p>I don't have a clue.. I have yet to wrangle and tame the templates approach... sorry.</p>",
        "id": 183671037,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576603933
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192017\">@Nagesh Bashyam</span> I am still debugging to make sure this kind of thing has a clear answer.. but which are you trying to refer to? STU3 or STU3.1? Because that's the immediate source of your problems</p>",
        "id": 183688486,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576614810
    },
    {
        "content": "<p>3.1<br>\nThe dependency has only 3.1.0 in it..<br>\nHow does 3.0 come into picutre ?</p>",
        "id": 183690513,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1576616113
    },
    {
        "content": "<p>the build reports an error that it can't find 3.0.0 ( see above )</p>",
        "id": 183694708,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576618794
    },
    {
        "content": "<blockquote>\n<p>How does 3.0 come into picutre ?</p>\n</blockquote>\n<p>In the menu, you have hard coded links to 3.0.0 not 3.1.0</p>",
        "id": 183706845,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576628607
    },
    {
        "content": "<p>ok so I will update your source, and the IG publisher, leaving you to fix:</p>\n<ul>\n<li>you have broken links in the narrative</li>\n<li>you are adding a link to a downloadable schematron, but the path in the link is wrong</li>\n</ul>",
        "id": 183707209,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576628976
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , the change is awesome ..almost all of the US Core bad links are resolved. <br>\nI will work on the rest, there are few that are because of the new template which will get resolved soon.</p>",
        "id": 183719182,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1576642984
    }
]