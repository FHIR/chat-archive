[
    {
        "content": "<p>Is the template-based approach to IG publishing documented anywhere (aside from the <a href=\"https://github.com/FHIR/sample-ig\" target=\"_blank\" title=\"https://github.com/FHIR/sample-ig\">sample-ig</a>)?  As far as I can tell, the docs on wiki/confluence still seem to apply to the old (non-template) approach.</p>",
        "id": 182504338,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1575412443
    },
    {
        "content": "<p>Lloyd keep promising that the documentation will be done soon</p>",
        "id": 182504809,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575412756
    },
    {
        "content": "<p>Soon = hopefully by end of this month at current rate :(</p>",
        "id": 182517758,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1575425006
    },
    {
        "content": "<p>I'm trying to determine when is best to start working on exporting IGs in SUSHI (the FHIR Shorthand compiler).  <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> -- do you think that the sample-ig is a good enough representation for me to use to infer the correct approach?  Or should I wait for docs?  Do you expect many changes in the format of the source/config for a template-based IG?</p>",
        "id": 182518184,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1575425564
    },
    {
        "content": "<p>There will be some changes, but they should be minor and well communicated.  If you're comfortable looking at the Sample-IG and or SDC and inferring, you should be fine.  You can also look at what documentation <em>does</em> exist in the ig-guidance implementation guide.</p>",
        "id": 182518709,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1575426172
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> -- I didn't even <em>know</em> about the <a href=\"https://build.fhir.org/ig/FHIR/ig-guidance/index.html\" target=\"_blank\" title=\"https://build.fhir.org/ig/FHIR/ig-guidance/index.html\">ig-guidance IG</a>!  Even if it's not complete, that's a lot more than I had a few hours ago.  Thanks!</p>",
        "id": 182519610,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1575427327
    },
    {
        "content": "<p>I pretty new to IG and found the sample-IG good enough. The initial UK IG used sample-IG as a base.</p>",
        "id": 182546262,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1575458155
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> That link is 404. Where is the ig-guidance IG really located?</p>",
        "id": 182605576,
        "sender_full_name": "Mark Kramer",
        "timestamp": 1575497634
    },
    {
        "content": "<p>Ugh.  That link totally worked last night.  And now the <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\" target=\"_blank\" title=\"https://fhir.github.io/auto-ig-builder/builds.html\">FHIR IG Builds</a> page doesn't even list the guidance-ig anymore.  <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>?</p>",
        "id": 182606308,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1575498139
    },
    {
        "content": "<p>the last build failed because of some template reference issue</p>",
        "id": 182606574,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575498311
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> failed IGs are falling off the IG page again</p>",
        "id": 182606601,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575498336
    },
    {
        "content": "<p>also, after a few seconds, the page crashes chrome...</p>",
        "id": 182606718,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575498419
    },
    {
        "content": "<p>that's pretty cool</p>",
        "id": 182606730,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575498429
    },
    {
        "content": "<p>Hmm, failing IGs fall off the page -- is that new since this afternoon? Re: crash, oh fun! Won't be able to look at this right away, but will take a look tomorrow (unless it's causing big problems for someone).</p>",
        "id": 182606880,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575498539
    },
    {
        "content": "<p>I don't think it's new -  I've been meaning to say something for a while</p>",
        "id": 182606933,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575498581
    },
    {
        "content": "<p>OK, re: the new crashing behavior: <a href=\"https://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/build.log\" target=\"_blank\" title=\"https://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/build.log\">https://build.fhir.org/ig/HL7/fhir-qi-core/branches/master/build.log</a> is, um, 16Gb. (!!)</p>",
        "id": 182616973,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575507092
    },
    {
        "content": "<p>How does <code>fhir-qi-core</code> generate a sixteen gig log file?</p>",
        "id": 182616985,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575507108
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 182617043,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575507128
    },
    {
        "content": "<p>For now I've truncated the file (but hopefully left enough for you to debug; you can probably re-run the build to regenerate the huge log ;-))</p>",
        "id": 182617488,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575507536
    },
    {
        "content": "<p>Re: debugging failed builds, some are showing up, like:<br>\n<a href=\"/user_uploads/10155/7lpY48GsKjQ3_FQSZ2hKoTss/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/7lpY48GsKjQ3_FQSZ2hKoTss/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/7lpY48GsKjQ3_FQSZ2hKoTss/pasted_image.png\"></a></div><p>... can you point me toward one you expect to see that's missing?</p>",
        "id": 182617626,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575507666
    },
    {
        "content": "<p>y. this one built and failed:</p>",
        "id": 182617756,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575507826
    },
    {
        "content": "<p><a href=\"https://github.com/FHIR/ig-guidance\" target=\"_blank\" title=\"https://github.com/FHIR/ig-guidance\">https://github.com/FHIR/ig-guidance</a></p>",
        "id": 182617808,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575507859
    },
    {
        "content": "<p>there was a bug that lead to repeated stack dumps that were then ignored. It's fixed now</p>",
        "id": 182617826,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575507890
    },
    {
        "content": "<p>(for the big log file)</p>",
        "id": 182617829,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575507897
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> -- in all the samples (and SDC), the ImplementationGuide instance is always XML.  Is this required, or should a JSON instance of ImplementationGuide work as well?</p>",
        "id": 182624834,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1575517126
    },
    {
        "content": "<p>JSON will work just fine (for the IF or anything else, though for examples only XML lets you include comments, which is often useful.</p>",
        "id": 182625098,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1575517537
    },
    {
        "content": "<p>So that failed build is showing up, But the time of the failure is not being correctly determined, so it shows up towards the end of the list. I can look into that (probably it results from any small change to the format of the date in the build log).</p>",
        "id": 182628800,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575523123
    },
    {
        "content": "<p>I don't see it at the end of the list?</p>",
        "id": 182628867,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575523206
    },
    {
        "content": "<p>It looks like it has since succeeded.  I see ig-guidance in the list now.  But I definitely did not see it at all last time I checked last night (end of the list or otherwise).</p>",
        "id": 182661840,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1575554834
    },
    {
        "content": "<p>OK -- sorry for the confusion.  We're still seeing some failures but not all. I've tried re-building one that has been long-term failing, and that failure <em>does</em> show up:</p>\n<p><a href=\"/user_uploads/10155/Ajxq7Io3AmcnS4bkaqT4swUf/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Ajxq7Io3AmcnS4bkaqT4swUf/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/Ajxq7Io3AmcnS4bkaqT4swUf/pasted_image.png\"></a></div>",
        "id": 182686428,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575569490
    },
    {
        "content": "<p>If someone notices a failure that <em>doesn't</em> appear in the list, it'd be great if you could save the build.log from the failure so we can evaluate it (I'm guessing there's something that breaks the date-extraction regex).</p>",
        "id": 182686513,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575569523
    },
    {
        "content": "<p>hl7 / bser failed recently, and appears in the list but down the bottom with no date? is that what you are looking for?</p>",
        "id": 182686824,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575569725
    },
    {
        "content": "<p>Yes, thanks!</p>",
        "id": 182686835,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575569734
    },
    {
        "content": "<p>Updated the date regex to fix. BTW the commit that broke it was: </p>\n<p><a href=\"https://github.com/HL7/fhir-ig-publisher/commit/d76c9212e1e2e0870dbb232fa4f1146114486983#diff-8ba944eececf281bdf40b620083d2e9eL6310-L6316\" target=\"_blank\" title=\"https://github.com/HL7/fhir-ig-publisher/commit/d76c9212e1e2e0870dbb232fa4f1146114486983#diff-8ba944eececf281bdf40b620083d2e9eL6310-L6316\">https://github.com/HL7/fhir-ig-publisher/commit/d76c9212e1e2e0870dbb232fa4f1146114486983#diff-8ba944eececf281bdf40b620083d2e9eL6310-L6316</a></p>\n<p>... I'm relying on the details of how the publisher tool represents failure times in the build.log, so I'm sensitive to changes in this format.</p>",
        "id": 182688868,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575571030
    },
    {
        "content": "<p>ok sorry about that. which particular change broke it?</p>",
        "id": 182689074,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575571162
    },
    {
        "content": "<p>The block I highlighted: taking <code>@ </code> out of the parens, so dates went from <code>(@ 2019...</code> to <code>(2019...</code>.</p>",
        "id": 182689388,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575571374
    },
    {
        "content": "<p>Obviously it'd be good to have some kind of structured log format :)</p>",
        "id": 182689487,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575571430
    },
    {
        "content": "<p>I thought we already did  - something produced for your code to process</p>",
        "id": 182690544,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575572040
    },
    {
        "content": "<p>I'm thinking of qa.json</p>",
        "id": 182690670,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575572100
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;url&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/uv/howto/ImplementationGuide/hl7.fhir.uv.howto&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;HowToCreateIGs&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;package-id&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;hl7.fhir.uv.howto&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Thu, 05 Dec, 2019 17:51:00 +1100&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;errs&quot;</span><span class=\"p\">:</span> <span class=\"mi\">30</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;warnings&quot;</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;hints&quot;</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;version&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;4.0.1&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;tool&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;4.1.0 (3)&quot;</span>\n<span class=\"p\">}</span>\n</pre></div>",
        "id": 182690691,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575572110
    },
    {
        "content": "<p>I grab data from qa.json when available -- but I guess in some failure scenarios it's not, so I also grab data from build logs.</p>",
        "id": 182702718,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575579396
    },
    {
        "content": "<p>I'll make sure qa.json is always produced</p>",
        "id": 182703352,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575579689
    },
    {
        "content": "<p>it wasn't bring produced if the run fails. It almost always will be now</p>",
        "id": 182708962,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575582838
    },
    {
        "content": "<p>That's great, thanks!</p>",
        "id": 182714542,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1575587441
    },
    {
        "content": "<p>it will have <code>\"exception\" : \"[message]\"</code> if the run didn't finish</p>",
        "id": 182714673,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575587555
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> would it be possible for <code>qa.json</code> to contain the summary table and errors table in some form? I'm looking for a more machine parseable format than <code>qa.html</code> or <code>qa.txt</code> so that my Python validation script  can easily extract the non-build errors. </p>\n<p>Maybe something like</p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;url&quot;: &quot;http://fhir.kids-first.io/ImplementationGuide/kidsfirst.fhir-0.1.0&quot;,\n  &quot;name&quot;: &quot;KidsFirst&quot;,\n  &quot;package-id&quot;: &quot;kidsfirst.fhir&quot;,\n  &quot;ig-ver&quot;: &quot;0.1.0&quot;,\n  &quot;date&quot;: &quot;Wed, 04 Dec, 2019 22:47:12 -0500&quot;,\n  &quot;errs&quot;: 0,\n  &quot;warnings&quot;: 0,\n  &quot;hints&quot;: 0,\n  &quot;version&quot;: &quot;4.0.1&quot;,\n  &quot;tool&quot;: &quot;4.1.0 (3)&quot;,\n  &quot;summary&quot;: {\n      &quot;build&quot;: {\n          &quot;error&quot;: 0,\n          &quot;info&quot;: 0,\n          &quot;warning&quot;: 1\n      },\n      &quot;path/to/resources/Patient&quot;: {\n          &quot;error&quot;: 0,\n          &quot;info&quot;: 0,\n          &quot;warning&quot;: 1\n      },\n      &quot;path/to/examples/Patient&quot;:{\n          &quot;error&quot;: 1,\n          &quot;info&quot;: 0,\n          &quot;warning&quot;: 1\n      }\n  },\n...\n}\n</pre></div>\n\n\n<p>Thanks!</p>",
        "id": 182817459,
        "sender_full_name": "Natasha Singh",
        "timestamp": 1575677166
    },
    {
        "content": "<p>you'd be looking for qa.xml</p>",
        "id": 182820213,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575680423
    }
]