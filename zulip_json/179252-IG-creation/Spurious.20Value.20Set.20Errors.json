[
    {
        "content": "<p>I'm getting spurious errors on values from locally defined valuesets.<br>\nSee <a href=\"http://build.fhir.org/ig/HL7/vrdr/branches/master/qa.html\">http://build.fhir.org/ig/HL7/vrdr/branches/master/qa.html</a> <br>\nAll 6 errors reported are, IMHO, bogus.</p>\n<p>Compare <a href=\"http://build.fhir.org/ig/HL7/vrdr/branches/master/Location-DeathLocation-Example2.json.html\">DeathLocation-Example2</a> (<a href=\"http://build.fhir.org/ig/HL7/vrdr/branches/master/qa.html#_scratch_ig-build-temp-FZ4KVS_repo_fsh-generated_resources_Location-DeathLocation-Example2\">3 errors</a>) and <a href=\"http://build.fhir.org/ig/HL7/vrdr/branches/master/Location-DeathLocation-Example1.json.html\">DeathLocation-Example1</a> <a href=\"http://build.fhir.org/ig/HL7/vrdr/branches/master/qa.html#_scratch_ig-build-temp-FZ4KVS_repo_fsh-generated_resources_Location-DeathLocation-Example1\">0 errors</a>.</p>\n<p>The error complains that \"NY\" is not a member of a value set that it is clearly a member of.<br>\nThe instance with no error is happy with \"MA\" from the same value set.</p>\n<p>The reference to the JurisdictionVS in each case is assigning a code to a value from a valueset that is valid.</p>",
        "id": 274885644,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1646941404
    },
    {
        "content": "<p>have you cleared the terminology cache?</p>",
        "id": 274886161,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646941650
    },
    {
        "content": "<p>sorry....didn't try that....<br>\nHow?</p>\n<p>as usual:  thx for the quick response.</p>",
        "id": 274887684,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1646942430
    },
    {
        "content": "<p>delete all the files in the folder</p>",
        "id": 274887836,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646942513
    },
    {
        "content": "<p>I cleared out input-cache/txcache  and reran locally.   <strong>No change.</strong><br>\ninput-cache/txcache isn't commited to github, so I'm getting a clean start when the CI build runs, right?</p>",
        "id": 274891811,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1646944706
    },
    {
        "content": "<p>yes</p>",
        "id": 274891831,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646944718
    },
    {
        "content": "<p>So, consistent behavior on local and CI builds with clean caches.</p>",
        "id": 274892374,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1646945030
    },
    {
        "content": "<p>One of the errors has gone away..... (the one related to NY).</p>\n<p>The error relating to the valueCode in an extension remains.<br>\n<strong>This is valid:</strong></p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"nt\">\"address\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nt\">\"city\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Queens\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nt\">\"state\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"NY\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"nt\">\"_state\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"nt\">\"extension\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"nt\">\"url\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"http://hl7.org/fhir/us/vrdr/StructureDefinition/Location-Jurisdiction-Id\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"err\">**</span><span class=\"nt\">\"valueCode\"</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"YC\"</span><span class=\"err\">**</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"p\">]</span><span class=\"w\"></span>\n</code></pre></div>",
        "id": 274895273,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1646946614
    },
    {
        "content": "<p>this is because the value set depends on a value set that has excludes, and the code that infers the system based on the value set definition does not handle excludes. Because the logic gets really complicated... and who does that?</p>",
        "id": 274905965,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646951957
    },
    {
        "content": "<p>fixed next release. Now I'm just ignoring excludes</p>",
        "id": 274910479,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1646954644
    },
    {
        "content": "<p>Thx... sorry for being such a boundary-pusher....</p>",
        "id": 274911195,
        "sender_full_name": "Saul Kravitz",
        "timestamp": 1646955190
    }
]