[
    {
        "content": "<p>Once again I am having issues with the publisher downloading an incorrect version of package.json into the cache. THis causes a re-download every build. The fix is simple, navigate to the file and manually edit the version from 2 to 3. This solves the problem!</p>",
        "id": 154011769,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540378723
    },
    {
        "content": "<p>you have a caching problem, I think. but let me check - which package is this?</p>",
        "id": 154011772,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540379919
    },
    {
        "content": "<p>I'm apparently seeing the same thing,  It's re-downloading the package each time.</p>",
        "id": 154011786,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540381486
    },
    {
        "content": "<p>hl7.fhir.core-current</p>",
        "id": 154011787,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540381566
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>Fetch hl7.fhir.core-current package from http://build.fhir.org/package.tgz       (08.0247sec)\nInstalling hl7.fhir.core#current to the package cache\n  Fetching:............................................................................................................\n  ......................................................................................................................\n  ...................................................................................|\n  Analysing.............................................................................................................\n  ......................................................................................................................\n  .................................................. done.\nChecking hl7.fhir.core-current currency                                          (00:01:37.0890sec)\nUpdating hl7.fhir.core-3.6.0 package from source (too old - is 2, must be 3      (00:01:37.0891sec)\nFetch hl7.fhir.core-current package from http://build.fhir.org/package.tgz       (00:01:37.0891sec)\nInstalling hl7.fhir.core#current to the package cache\n  Fetching:............................................................................................................\n  ......................................................................................................................\n  ...................................................................................|\n  Analysing.............................................................................................................\n  ......................................................................................................................\n  .................................................. done.\nLoad hl7.fhir.core-current package from /Users/rhausam/.fhir/packages/hl7.fhir.core#current (00:03:16.0570sec)\n</pre></div>",
        "id": 154011790,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540381843
    },
    {
        "content": "<blockquote>\n<p>you have a caching problem, I think. but let me check - which package is this?</p>\n</blockquote>\n<p>Package downloaded is 2 but it needs to be 3<br>\nSo I just edited it to 3 in the cache and it solves the re-download issue. I had the same issue when going from 1 to 2. Editing the package solved that as well. Eventually it got fixed though.</p>",
        "id": 154011791,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540381898
    },
    {
        "content": "<p>yes</p>",
        "id": 154011792,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540381918
    },
    {
        "content": "<p>It also looks like it's always re-fetching every time I run the validator.  It's obviously doing it across the board, and it adds a considerable amount of time.  I'll go ahead and try Brian's workaround for now and hopefully we can fix this soon.</p>",
        "id": 154011863,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540391731
    },
    {
        "content": "<blockquote>\n<p>It also looks like it's always re-fetching every time I run the validator.  It's obviously doing it across the board, and it adds a considerable amount of time.  I'll go ahead and try Brian's workaround for now and hopefully we can fix this soon.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span>  its located here C:\\Users\\xxxx\\.fhir\\packages\\hl7.fhir.core#current\\package\\package.json if you are on windows. Just edit the </p>\n<div class=\"codehilite\"><pre><span></span>&quot;tools-version&quot;: 3,\n</pre></div>\n\n\n<p>as shown.</p>",
        "id": 154011869,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540391950
    },
    {
        "content": "<p>it's a challenge for me; as far as I can tell I have built the correct version of the package and put it on the server; the server is serving up a different version - caching on the server, I suppose.</p>",
        "id": 154011891,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540393671
    },
    {
        "content": "<p>if you make this hack, you'll be unable to build the main build...</p>",
        "id": 154011892,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540393723
    },
    {
        "content": "<blockquote>\n<p>if you make this hack, you'll be unable to build the main build...</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> What do you mean by 'main build'? I am just building an IG. For the moment that is local.</p>",
        "id": 154011893,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540393820
    },
    {
        "content": "<p>building an IG is not the main build</p>",
        "id": 154011894,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540393875
    },
    {
        "content": "<blockquote>\n<p>building an IG is not the main build</p>\n</blockquote>\n<p>I assumed that. Making this hack just cuts the build time down by quite a bit.</p>",
        "id": 154011895,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540393922
    },
    {
        "content": "<p>The main build also failed for me due to similar errors in running the AllGuidesTests.</p>",
        "id": 154011921,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540397982
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> you're a better web hacker than me.... I'm pretty sure that this is a caching problem.... is there any way to solve it?</p>",
        "id": 154012090,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540454293
    },
    {
        "content": "<p>The main build isn't failing for me now - not quite sure why it did that one time.  But the IG Publisher and the validator are still fetching each time.</p>",
        "id": 154012123,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540474928
    },
    {
        "content": "<p>Can you help me understand what file (full URL) is being cached? Are you saying this is true of <a href=\"http://build.fhir.org/package.tgz\" target=\"_blank\" title=\"http://build.fhir.org/package.tgz\">http://build.fhir.org/package.tgz</a> ? And that it's the server doing the caching?</p>",
        "id": 154012223,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540488360
    },
    {
        "content": "<p>If I do </p>\n<div class=\"codehilite\"><pre><span></span>$ curl --head  http://build.fhir.org/package.tgz\nHTTP/1.1 200 OK\nServer: nginx/1.15.2\nDate: Thu, 25 Oct 2018 17:27:22 GMT\nContent-Type: application/octet-stream\nContent-Length: 25245955\nLast-Modified: Thu, 25 Oct 2018 15:24:56 GMT\nConnection: keep-alive\nETag: &quot;5bd1e048-1813903&quot;\nExpires: Thu, 25 Oct 2018 17:32:22 GMT\nCache-Control: max-age=300\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: GET, POST, OPTIONS\nAccess-Control-Allow-Headers: DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type\nVary: Accept\nAccept-Ranges: bytes\n</pre></div>\n\n\n<p>... I see a max-age and an expiration time. That would never cause the server to send old versions of the file though. I want to make sure I'm digging into the right question here before I go farther...</p>",
        "id": 154012224,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540488518
    },
    {
        "content": "<p>This is what's going on (each time) from the log:</p>\n<div class=\"codehilite\"><pre><span></span>Fetch hl7.fhir.core-current package from http://build.fhir.org/package.tgz       (04.0378sec)\nInstalling hl7.fhir.core#current to the package cache\n  Fetching:............................................................................................................\n  ......................................................................................................................\n  ...................................................................................|\n  Analysing.............................................................................................................\n  ......................................................................................................................\n  .................................................. done.\nChecking hl7.fhir.core-current currency                                          (00:01:11.0542sec)\nUpdating hl7.fhir.core-3.6.0 package from source (too old - is 2, must be 3      (00:01:11.0542sec)\nFetch hl7.fhir.core-current package from http://build.fhir.org/package.tgz       (00:01:11.0543sec)\nInstalling hl7.fhir.core#current to the package cache\n  Fetching:............................................................................................................\n  ......................................................................................................................\n  ...................................................................................|\n  Analysing.............................................................................................................\n  ......................................................................................................................\n  .................................................. done.\nLoad hl7.fhir.core-current package from /Users/rhausam/.fhir/packages/hl7.fhir.core#current (00:02:28.0185sec)\n</pre></div>\n\n\n<p>I can try to do some further digging into the details.</p>",
        "id": 154012247,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540493131
    },
    {
        "content": "<p>Sometimes when I look at .fhir/packages/ I've seen it as hl7.fhir.core#current (as it is for me now), but earlier it was hl7.fhir.core#3.6.0, but I haven't seen both.  I'm not completely sure what it's supposed to be, but I don't think the directory name should be changing for what should be the same content.</p>",
        "id": 154012250,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540493422
    },
    {
        "content": "<p>After running the IG Publisher for the IPS IG just now the hl7.fhir.core#current package has disappeared from the local cache in .fhir/packages/  (and there is no hl7.fhir.core#3.6.0 package, either).  I am still running the main build at the same time, though (but it's in the testing phase), so I can't be certain that there is no interaction with that.  It does seem to me like it wouldn't be expected behavior, though.</p>",
        "id": 154012266,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540495584
    },
    {
        "content": "<p>Can someone clue me in (or point me to the docs) on how <code>.fhir</code> works? What is it used for, who populates it, how does it to get updated, Etc.</p>",
        "id": 154012273,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540497033
    },
    {
        "content": "<p>.fhir is the local cache for NPM files.  Both the IGPublisher and the Validator will use it.  When they need a particular version of FHIR or an IG, they'll check the cache.  If they find it, they'll use it.  Otherwise they'll grab the remote one.  I think they also check to see if the cache is up to date.</p>",
        "id": 154012290,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540499587
    },
    {
        "content": "<p>So...is the issue that people are finding the wrong file from the local .fhir cache folder, or that the webcserver is hosting the wrong version of a file?</p>",
        "id": 154012303,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540509572
    },
    {
        "content": "<blockquote>\n<p>So...is the issue that people are finding the wrong file from the local .fhir cache folder, or that the webcserver is hosting the wrong version of a file?</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> What is the case is that every download loads the version 2 into the cache. Don't know if it is wrong on the server. However, everything else seems ok since it works. To avoid the download every build, I hand edit the version to 3 in the .fhir cache. Not the best but it DOES save a great deal of time!</p>",
        "id": 154012305,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540509805
    },
    {
        "content": "<p>the pacakage.tgz that the build creates has /package/package.json  tools-version= 3</p>",
        "id": 154012411,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540560411
    },
    {
        "content": "<p>the file that some poeple are downloading from the http link to it has /package/package.json tools-version= 2</p>",
        "id": 154012412,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540560440
    },
    {
        "content": "<p>It's what the igpublisher and the validator jars are downloading.  They're both doing it each time, even though the cached copy is already there, and they're also not doing the same thing (the igpublisher caches hl7.fhir.core#current and the validator removes that and caches hl7.fhir.core#3.6.0 - and vice versa).</p>",
        "id": 154012428,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540561185
    },
    {
        "content": "<p>which one they download depends on how you invoke them, but they both clear both out until your cacing problem is resolved</p>",
        "id": 154012432,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540561287
    },
    {
        "content": "<p>So what exactly would be \"my caching problem\"?  I'm invoking them the same way as I always have and I didn't have any problem with this in the past.  For the publisher I've tried invoking them with both Lloyd's framework script and also directly (i.e. <code>java -jar /Users/rhausam/git-repo/fhir/publish/org.hl7.fhir.igpublisher.jar -ig ig.json</code>) and I get the same behavior.  And if I remove the cached copy the problem comes back in the same way.  I'm not seeing anything else that is obvious to do, and unless I've overlooked it I haven't seen any clear suggestions in the thread on how to fix it (other than Brian's \"hack\").  Should I do something else?</p>",
        "id": 154012448,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540562052
    },
    {
        "content": "<p>the caching problem is somewhere in the http stack</p>",
        "id": 154012450,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540562102
    },
    {
        "content": "<p>client or server</p>",
        "id": 154012451,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540562105
    },
    {
        "content": "<p>and I'm at a loss.</p>",
        "id": 154012452,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540562111
    },
    {
        "content": "<p>OK, right.  Whatever it is we haven't figured it out yet.  And I think it's everyone's problem.</p>",
        "id": 154012455,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540562150
    },
    {
        "content": "<blockquote>\n<p>the caching problem is somewhere in the http stack</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span> I had the same problem going from one to 2. Eventually it got resolved; i could delete the cache and the downloaded package had the correct version in it. Not very helpful because I don't know specifically when it happened. I think I discovered it worked when I started from scratch on a new system.</p>",
        "id": 154012464,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1540562378
    },
    {
        "content": "<p>ok I've committed a change which is a fairly brutal override of any upstream caching. (add ?nocache={instant} to every request from the local cache manager</p>",
        "id": 154012590,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540566911
    },
    {
        "content": "<p>it will be ready to merge after I have boarded my flight, so can one of you merge the PR if it passes, and then test?</p>",
        "id": 154012591,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540566937
    },
    {
        "content": "<p>PR 151</p>",
        "id": 154012592,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540566950
    },
    {
        "content": "<p>Merge and then test when you're on a flight sounds risky...</p>",
        "id": 154012613,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540567713
    },
    {
        "content": "<p>Is there a way to un-merge if it causes problems?</p>",
        "id": 154012614,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540567738
    },
    {
        "content": "<p>We can revert the commit (creates a new commit that reverses the changes) - but hopefully that won't be necessary.</p>",
        "id": 154012619,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540569172
    },
    {
        "content": "<p>Ok, I've done the merge</p>",
        "id": 154012668,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540573183
    },
    {
        "content": "<p>did it fix anything?</p>",
        "id": 154012828,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540626543
    },
    {
        "content": "<p>I don't think so.  IG Publisher (v3.6.0-9ef639a3, gen-code v3.6.0 / 3) is still fetching the core-current package, twice, each time I run it.  It must be something else.</p>",
        "id": 154012840,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540629561
    },
    {
        "content": "<p>Same for me</p>",
        "id": 154012858,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1540651936
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> I'm at a loss here; the file I'm getting generated - and that must be generated for the build to succeed - is not what is being downloaded, and I don't know of a more comprehensive way to bust any caches. is it not updating on the build server? can you look directly in package.tgz at /package/package.json and tell us what is in tools-version?</p>",
        "id": 154012865,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540659042
    },
    {
        "content": "<p>I think I need to sit down with someone who understands how the system is supposed to work, so I can help investigate. Right now I don't really understand what the issue is or how things are supposed to be working.</p>",
        "id": 154012874,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540660185
    },
    {
        "content": "<p>Everyone sees the same content at <a href=\"http://build.fhir.org/\" target=\"_blank\" title=\"http://build.fhir.org/\">http://build.fhir.org/</a> that I do, right? Is there a problem with this content?</p>",
        "id": 154012877,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540660220
    },
    {
        "content": "<p>yes there is</p>",
        "id": 154012880,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540660291
    },
    {
        "content": "<p>if you download <a href=\"http://build.fhir.org/package.tgz\" target=\"_blank\" title=\"http://build.fhir.org/package.tgz\">http://build.fhir.org/package.tgz</a>, you'll get a different file to what you'll get if you build locally.</p>",
        "id": 154012881,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540660335
    },
    {
        "content": "<p>somewhere... something is broken... but I can't figure out what because I can't access the actual copies of the file past my local build</p>",
        "id": 154012882,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540660372
    },
    {
        "content": "<p>more info: </p>\n<p>the build generates the file package.tgz. One of the files in there is package/package.json. There's a json file inside that that will have a property 'tools-version' set to \"3\" per the constant here: <a href=\"https://github.com/HL7/fhir/blob/master/implementations/java/org.hl7.fhir.utilities/src/org/hl7/fhir/utilities/cache/ToolsVersion.java\" target=\"_blank\" title=\"https://github.com/HL7/fhir/blob/master/implementations/java/org.hl7.fhir.utilities/src/org/hl7/fhir/utilities/cache/ToolsVersion.java\">https://github.com/HL7/fhir/blob/master/implementations/java/org.hl7.fhir.utilities/src/org/hl7/fhir/utilities/cache/ToolsVersion.java</a></p>",
        "id": 154012883,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540660727
    },
    {
        "content": "<p>if you run it locally, the value in your package.tgz will be 3</p>",
        "id": 154012884,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540660743
    },
    {
        "content": "<p>So package.tgz contains another package.tgz?</p>",
        "id": 154012885,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540660768
    },
    {
        "content": "<p>if you download what purports to be outcome of the current build for package.tgz,you'll get the value 2</p>",
        "id": 154012886,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540660776
    },
    {
        "content": "<p>sorry  typo - should be package/package.json inside package.tgz</p>",
        "id": 154012887,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540660810
    },
    {
        "content": "<p>ahh, yes. And that's \"2\".</p>",
        "id": 154012888,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540660828
    },
    {
        "content": "<p>It says inside that json file:</p>\n<blockquote>\n<p>\"description\": \"FHIR Core package - the NPM package that contains all the definitions for the base FHIR specification(built 20181026225400)\"</p>\n</blockquote>",
        "id": 154012889,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540660839
    },
    {
        "content": "<p>Does that look correct (i.e., up to date)?</p>",
        "id": 154012890,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540660863
    },
    {
        "content": "<p>no? comparing with the build notifications, it doesn't seen to match (would be different by being start/end of the build)</p>",
        "id": 154012891,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540660945
    },
    {
        "content": "<p>Here are the args we build with on the CI server:</p>\n<div class=\"codehilite\"><pre><span></span>NAME=&quot;Continuous Integration Build&quot;\nSVNREV=$(git rev-parse --short HEAD)\n\nantBuild (){\n  ant -Dargs=&quot;./publish.sh -svn $SVNREV -name \\&#39;$NAME\\&#39; -url http://build.fhir.org/  -post-pr&quot;\n    checkStatus\n}\n</pre></div>\n\n\n<p>... so whatever goes into <code>package.tgz/package/package.json</code> is whatever gets built by this ant command.  How is <code>tools-version</code> supposed to be populated by this?</p>",
        "id": 154012892,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540660982
    },
    {
        "content": "<p>I'll see if I can add a timezone to that</p>",
        "id": 154012893,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540660997
    },
    {
        "content": "<p>it's build by the java code. Its hard coded to that java constant, and populated correctly when I build locally</p>",
        "id": 154012894,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540661046
    },
    {
        "content": "<p>Huh. Is there any condition in which TOOLS_VERSION can/should ever be \"2\"?</p>",
        "id": 154012895,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540661081
    },
    {
        "content": "<p>no. it's a fixed constant I changed about 4 days ago</p>",
        "id": 154012896,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540661103
    },
    {
        "content": "<p>Ah, but you changed it from 2 -&gt; 3? So it used to be 2?</p>",
        "id": 154012897,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540661114
    },
    {
        "content": "<p>yes</p>",
        "id": 154012898,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540661119
    },
    {
        "content": "<p>And the new file is definitely being _built_ later than 4 days ago, given the timestamp.</p>",
        "id": 154012899,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540661134
    },
    {
        "content": "<p>and this change hasn't arrived into that file and I can't figure out why</p>",
        "id": 154012900,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540661149
    },
    {
        "content": "<p>But you're thinking that the CI build is somehow happening with some old version of the source (constant definitions) hanging around?</p>",
        "id": 154012901,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540661157
    },
    {
        "content": "<p>3 days ago: <a href=\"https://github.com/HL7/fhir/commit/1a950707e40b76fbf5923021a31245a5d23230e5\" target=\"_blank\" title=\"https://github.com/HL7/fhir/commit/1a950707e40b76fbf5923021a31245a5d23230e5\">https://github.com/HL7/fhir/commit/1a950707e40b76fbf5923021a31245a5d23230e5</a></p>",
        "id": 154012902,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540661187
    },
    {
        "content": "<p>Let me turn \"Clean\" on for the CI build; it's been on for PR builds for a while.</p>",
        "id": 154012903,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540661196
    },
    {
        "content": "<p>OK, done. I'll kick off a new CI build.</p>",
        "id": 154012904,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540661225
    },
    {
        "content": "<p>ok thanks</p>",
        "id": 154012905,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540661231
    },
    {
        "content": "<p>if that's the problem... it means that the caching was very far upstream ;-)</p>",
        "id": 154012906,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540661266
    },
    {
        "content": "<p>Sure -- sorry this took so long for me to understand; I was under the impression there was a web hosting kind of caching issue.</p>",
        "id": 154012907,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540661271
    },
    {
        "content": "<p>Yeah</p>",
        "id": 154012908,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540661273
    },
    {
        "content": "<p>but given that the package.json file is newly created each time, it _must_ be upstream.</p>",
        "id": 154012910,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540661287
    },
    {
        "content": "<p>I didn't think to check the date :-(</p>",
        "id": 154012911,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540661323
    },
    {
        "content": "<p>yes that fixed it</p>",
        "id": 154012913,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540662583
    },
    {
        "content": "<p>thanks</p>",
        "id": 154012914,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540662705
    },
    {
        "content": "<p>on reflection, this is a common problem: ant does not always rebuild all java classes. Hence our immediate response when something doesn't make sense: clean your class files out. I'm not seeing any good information about there about this problem..</p>",
        "id": 154012916,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540664072
    },
    {
        "content": "<p>What folders needs to be deleted and repulled?  (Clean out class files)</p>",
        "id": 154012976,
        "sender_full_name": "Eric Haas",
        "timestamp": 1540675084
    },
    {
        "content": "<p>I once tried <a href=\"http://clean.sh\" target=\"_blank\" title=\"http://clean.sh\">clean.sh</a> which resulted in scenes of lamentations</p>",
        "id": 154012977,
        "sender_full_name": "Eric Haas",
        "timestamp": 1540675266
    },
    {
        "content": "<p>Getting this now:</p>\n<div class=\"codehilite\"><pre><span></span>     [java] Checking hl7.fhir.core-current currency                                          (02.0940sec)\n     [java]    ...  ok: is 3, must be 3                                                      (02.0941sec)\n</pre></div>\n\n\n<p>Much better, thanks!</p>",
        "id": 154012980,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1540676823
    },
    {
        "content": "<p>Weâ€™ve fixed <a href=\"http://clean.sh\" target=\"_blank\" title=\"http://clean.sh\">clean.sh</a></p>",
        "id": 154012986,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1540686152
    },
    {
        "content": "<p>Hmm, have we? I don't see any changes at <a href=\"https://github.com/HL7/fhir/commits/master/clean.sh\" target=\"_blank\" title=\"https://github.com/HL7/fhir/commits/master/clean.sh\">https://github.com/HL7/fhir/commits/master/clean.sh</a></p>",
        "id": 154013226,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1540822526
    }
]