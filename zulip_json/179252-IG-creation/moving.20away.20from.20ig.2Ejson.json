[
    {
        "content": "<p>So we've previously agreed that we're going to move away from ig.json to use the IG resource directly, and I'm getting ready to do that. (it was always scheduled for this gap between ballot opening and baltimore, though I lost a week :-( )</p>",
        "id": 153992474,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535767951
    },
    {
        "content": "<p>one useful function that the ig.json file performs is that it's at a known location. In terms of replacing it, we can do one of the following things:</p>\n<ul>\n<li>leave a minimal json file at the same place that instructs where to find the IG resource</li>\n<li>define a known path where the IG resource must be found (e.g. /Resources/ig.[xml|json])</li>\n<li>say that the IG resource must be located at ig.[xml|json]</li>\n<li>say that there's an ini file at ig.ini that says where to find the IG resource</li>\n<li>something else I haven't thought of</li>\n</ul>",
        "id": 153992475,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535768085
    },
    {
        "content": "<p>ini file is easier than a json file.  If we're using certain tools to author content, the filename will likely have to include the id of the IG, which makes a consistent IG filename difficult.  And there could be more than one IG file present, so just searching all files for IG files wouldn't be safe.</p>",
        "id": 153992479,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1535770084
    },
    {
        "content": "<p>I would <em>love</em> if we could make the output directory name configurable too... :)</p>",
        "id": 153992480,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1535770106
    },
    {
        "content": "<p>we would we bother with that?</p>",
        "id": 153992484,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535770626
    },
    {
        "content": "<p>ini file is not meaningfully easier than a json file if there's 2 or 2 items in it</p>",
        "id": 153992485,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1535770667
    },
    {
        "content": "<p>I think it would be useful to keep the ig.json as minimal file.<br>\nAnd the old ig.json already makes the output directory name configurable too - should be an option in the new ig.json too,  I add a whole bunch of my own stuff in there too.</p>",
        "id": 153992538,
        "sender_full_name": "Eric Haas",
        "timestamp": 1535778675
    },
    {
        "content": "<p>Output folder isn't configurable if you're using the CI Build.</p>",
        "id": 153992596,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1535830673
    },
    {
        "content": "<p>My concern with an ig.json file is it'll be tempting to add new stuff into it.  A hard switch seems cleaner.  And ini's innate limitations make it (slightly) less likely to be abused.  That said, this isn't a hill I'd die on.</p>",
        "id": 153992597,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1535830755
    },
    {
        "content": "<p>\"My concern with an ig.json file is it'll be tempting to add new stuff into it\"  Which I do for my preprocessing.   And there are other options to  the autobuilder thus the need for the output dir option.</p>",
        "id": 153992886,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536021573
    },
    {
        "content": "<p>The point is to move it so that the IGPublisher does any necssary pre-procssing.  The objective is to ditch ig.json.  The fact you're hoping to keep information in it actually reenforces my point that it needs to go away...</p>",
        "id": 153992887,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536021751
    },
    {
        "content": "<p>Its not going to prevent anything and its a convient place to stick custom stuff.</p>",
        "id": 153992891,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536022379
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 153992893,
        "sender_full_name": "Richard Townley-O'Neill",
        "timestamp": 1536023511
    },
    {
        "content": "<p>Custom stuff can be stuck as extensions in the ImplementationGuide.  If we move from ig.json to ig.ini, it forces a change.  If the direction is \"change to something in the IG\", it's more likely that people will do that than if we stick with a .json file.</p>",
        "id": 153992906,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536026563
    },
    {
        "content": "<p>OK,  its not something I'll get too worked up about.</p>",
        "id": 153992909,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536028336
    },
    {
        "content": "<p>If you want a minimally structured file, but also want to be sure it's not confused for the <em>old</em> ig.json file, you could also make it a YAML file (<code>ig.yml</code>).  Using YAML for tool config is a fairly common practice.</p>",
        "id": 153993092,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1536084493
    },
    {
        "content": "<p>for me that would YAP (yet another parser)</p>",
        "id": 153993237,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536098796
    },
    {
        "content": "<p>why use an ini or json file at all?? Seems to me that we're talking about a very SMALL number of things that needs to be conveyed to the tool. I would think those could simply be parameters to the JAR's execution... ex:<br>\njava -jar publisher.jar -workingDirectory /home/sean/someIgDir -ig /home/sean/someIgDir/resources/ImplementationGuide/some-ig.xml -etc .. -etc .. -etc ..</p>",
        "id": 153993828,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1536243084
    },
    {
        "content": "<p>because there's no way to feed those parameters to several contexts in which it runs. I, for instance, often am running 20-30 different IGs in parallel. I'm not interested in having to read human documentation to figure out a special parameter. if we're going to have one, it's going to be a parameter that the IG publisher understands. and for the auto build</p>",
        "id": 153994103,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536271042
    },
    {
        "content": "<p>ok. ig.ini it will be. Shortly (possibly before the freeze) I'm going to commit a version of the IG publisher that generates an ig.ini and a new IG that will be the alternative to ig.json.</p>",
        "id": 153994223,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536297262
    },
    {
        "content": "<p>here's my notes for what I'm doing with the things in ig.json:</p>",
        "id": 153994224,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536297274
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>&quot;source&quot; - moved to [ig.ini]\n&quot;version&quot; - moved to ig.version\n&quot;fixed-business-version&quot; - moved to ig.parameter\n&quot;license&quot; - moved to ig.license\n&quot;logging&quot; - moved to command line\n&quot;html-template&quot; - moved to parameter\n&quot;suppress-qa&quot; - moved to command line (and default to suppress)\n&quot;paths&quot;\n  &quot;resources&quot; - extension igpublish-folder-resources  on ig\n  &quot;pages&quot; - extension igpublish-folder-pages  on ig\n  &quot;temp&quot; - dropped: hard coded to temp\n  &quot;output&quot; - dropped: hard code to output\n  &quot;txCache&quot; - dropped: hard coded to txCache\n  &quot;qa&quot; - dropped to command line\n  &quot;history&quot; - dropped. hard code to history.html\n  &quot;specification&quot; - dropped (implicit in version)\n&quot;jurisdiction&quot; - ig.jurisdiction and parameter to populate\n&quot;npm-name&quot; - moved to ig.packageName\n&quot;npm-template&quot; - dropped (never used)\n&quot;language&quot; - dropped for now\n&quot;languages&quot;  - dropped for now\n&quot;pre-process&quot; - dropped - move stuff to template\n&quot;canonicalBase&quot; - dropped; implicit in URL\n&quot;dependencyList&quot;- move to ig.dependsOn. &quot;source&quot; dropped (use package resolution instead)\n\n&quot;sct-edition&quot; - move to ig-expansion-parameters.json\n&quot;no-inactive-codes&quot; - move to ig-expansion-parameters.json\n\n&quot;broken-links&quot; - move to ig-validation-parameters.json\n&quot;check-aggregation&quot; - move to ig-validation-parameters.json\n&quot;check-mustSupport&quot;  - move to ig-validation-parameters.json\n&quot;anyExtensionsAllowed&quot;  - move to ig-validation-parameters.json\n&quot;hintAboutNonMustSupport&quot; - move to ig-validation-parameters.json\n&quot;suppressedWarningFile&quot; - move to ig-validation-parameters.json\n&quot;extension-domains&quot; - move to ig-validation-parameters.json\n&quot;special-urls&quot; - move to ig-validation-parameters.json\n\n&quot;extraTemplates&quot; - dropped for now\n&quot;gen-examples&quot; - dropped for now\n&quot;do-transforms&quot; - dropped for now\n\n&quot;defaults&quot; - dropped; xml/json/ttl controlled by parameters. everything else generated\n&quot;spreadsheets&quot; - moved to extension http://hl7.org/fhir/StructureDefinition/igpublisher-spreadsheet\n&quot;bundles&quot; : - moved to extension http://hl7.org/fhir/StructureDefinition/igpublisher-bundle\n\n&quot;resources&quot;: - moved to extensions on ig.definition.resource\n&quot;swagger&quot; - dropped (for now)\n&quot;tool&quot; - dropped\n</pre></div>",
        "id": 153994225,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536297277
    },
    {
        "content": "<p>ok added. if you run your IG now, you should get ig.ini, and ig-new.json/xml created for your review.</p>",
        "id": 153994232,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536298883
    },
    {
        "content": "<p>So the things that are dropped for now - are they coming back?  Because some of those things are pretty important for some IGs.  Also, have you documented how the templating stuff works now?</p>",
        "id": 153994244,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536302693
    },
    {
        "content": "<p>which dropped things do you identify as important?</p>",
        "id": 153994245,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536303221
    },
    {
        "content": "<p>templates: <a href=\"http://wiki.hl7.org/index.php?title=FHIR_IG_publisher_templates\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=FHIR_IG_publisher_templates\">http://wiki.hl7.org/index.php?title=FHIR_IG_publisher_templates</a></p>",
        "id": 153994246,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536303327
    },
    {
        "content": "<p>re:  ig.ini   can we create our own instead as well?  or do we still need ig.json.   ( Since I start from a csv file  - I'd rather go straight to the ig.ini or Ig.json ( resource)</p>\n<p>\"ig-new.json/xml created for your review\".   is this the IG Resource?</p>",
        "id": 153994249,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536304744
    },
    {
        "content": "<p>yes that's the IG resource. that'll be the master in the future. We won't be having ig.json. or supporting pre-processing of the IG. The only pre-processing we'll be supporting is in the templates</p>",
        "id": 153994250,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536305188
    },
    {
        "content": "<p>1. temp being hard-coded doesn't work - I need 2 temp folders when I'm generating multiple versions<br>\n2. ditto for output.  (And if I'm running multiple IGs from a common source, I need to specify different output folders for them)<br>\n3. txCache cache on the root is annoying.  I put all of the interim stuff that is deletable but commitable for performance regions under a single folder - and I want to be able to specify where that is.<br>\n4. extraTemplates I need<br>\n5. gen-examples looks like an Eric thing<br>\n6. do-transforms - so long as templates handle this, could be ok</p>",
        "id": 153994371,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536346423
    },
    {
        "content": "<p>#1 - still can be hardcoded<br>\n#2 - \"running multiple IGs from a common source\" - not supported anyway<br>\n#3 - what other interim stuff is there? and so what?<br>\n#4 - what do you need extraTemplates for<br>\n#5 - gen-examples is my thing, and I haven't decided what to do about it<br>\n#6 - the intent is for templates to do it, yes</p>",
        "id": 153994404,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536352907
    },
    {
        "content": "<p>1 - Don't understand - I specify two different temp folders when I run crd.  How will that work<br>\n2 - It is supported - I've been doing it for almost 3 years with a client and we'd better not be taking it away...<br>\n3 - files generated by the pre-processing that don't necessarily need to be updated every time, current copy of the schemas for the appropriate version(s) for validation when editing artifacts, current copy of the igpublisher<br>\n4. I hve templates for mappings, examples, profile-json and profile-xml</p>",
        "id": 153994437,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536355015
    },
    {
        "content": "<p>Note on #2 - I'm not expecting it to be supported for the CI Build environment - at least not yet.  But it's a completely legitimate thing to do otherwise</p>",
        "id": 153994442,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536355099
    },
    {
        "content": "<p>How will this affect building stu3 implementation guides? Many of the ig.json properties are moved to ImplementationGuide in R4, but those properties aren't going to be available in STU3. So... are we defining extensions for each of these properties for STU3 implementation guides? I assume the ig publisher is still planned to be backwards compatible...</p>",
        "id": 153994472,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1536355685
    },
    {
        "content": "<p>At one point we'd said that everyone would have to move to authoring using R4 IGs, but I think the roundtrippable extension approach is probably better...</p>",
        "id": 153994482,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536355901
    },
    {
        "content": "<p>@ Lloyd can  you translate what that means?  I understood is all going to use the <em>latest</em> IG Resource (e.g. R4) and I already  have coded for that.</p>",
        "id": 153994568,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536358392
    },
    {
        "content": "<p>@Grahame? re:  \"The only pre-processing we'll be supporting is in the templates\" I preprocess before starting the IG-pub jar.   I'm generating the IG resource and I guess the ig.ini files and other goodies.</p>",
        "id": 153994569,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536358586
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I have no intention of allowing for generating the IG resource. nor the ig.ini file. the ig.ini file is only edited once. And the IG resource is the master</p>",
        "id": 153994571,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536358731
    },
    {
        "content": "<p>I am not interested in pre-processing outside templates at all</p>",
        "id": 153994572,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536358756
    },
    {
        "content": "<p>how does one create an IG Resource for a new guide then?</p>",
        "id": 153994573,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536358783
    },
    {
        "content": "<p>I'm not round tripping all the IG publisher stuff with earlier versions. here's how it's going to work: <br>\n- author the IG resource in R4<br>\n- Ig publisher will publish the IG in the specified version</p>",
        "id": 153994574,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536358814
    },
    {
        "content": "<p>you edit it</p>",
        "id": 153994575,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536358823
    },
    {
        "content": "<p>when forge goes to R4, then you can edit it in forge. But that won't support all the extensions anyway, so you'll just end up editing it in text.</p>",
        "id": 153994576,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536358862
    },
    {
        "content": "<p>author the IG resource in R4 -  +1</p>",
        "id": 153994577,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536358880
    },
    {
        "content": "<p>Perhaps I am using the wrong words  I'm not  preprocessng templates -  they are static.   I create the IG resource instance on the fly before running the ig-pub.</p>",
        "id": 153994578,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536359081
    },
    {
        "content": "<p>I don't know you do that, or why we should support that</p>",
        "id": 153994579,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536359150
    },
    {
        "content": "<p>You don't need to support it.   My question is do I need to support  this :</p>\n<p>\"Grahame Grieve: ok. ig.ini it will be. Shortly (possibly before the freeze) I'm going to commit a version of the IG publisher that generates an ig.ini and a new IG that will be the alternative to ig.json.\"?</p>\n<p>...or .... can I just create a R4 IG resource myself and ig,ini myself  ???</p>",
        "id": 153994581,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536359430
    },
    {
        "content": "<p>that's a transitional arrangement - it takes the content from ig.json and the ig resource, merges them, and then sets up the source directory for how it will need to look once we make the transition.</p>",
        "id": 153994582,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536359490
    },
    {
        "content": "<p>once we make the transition, then ig.json will not be allowed to present, and ig.ini and the ig resource will be the master</p>",
        "id": 153994583,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536359520
    },
    {
        "content": "<p>for now, I'm looking for the editors following this discussion to run the latest code on their various igs and check that it looks ok</p>",
        "id": 153994584,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536359552
    },
    {
        "content": "<p>OK got it</p>",
        "id": 153994586,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536359611
    },
    {
        "content": "<p>I start with an IGResource - but I invoke the IGPublisher after I've tweaked it - or in some cases split it into two.  Will that still work?</p>",
        "id": 153994588,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536359786
    },
    {
        "content": "<p>split it into 2? what does that mean?</p>",
        "id": 153994589,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536359814
    },
    {
        "content": "<p>I start with a single IG with some embedded extensions that say \"this stuff is only for the R3 version\".  Then I generate a version of the IG for R4 only and a different one for R3 only.</p>",
        "id": 153994590,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536359877
    },
    {
        "content": "<p>I don't see why that's a good idea. Just have separate IGs. the content will be very different for them now</p>",
        "id": 153994595,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536360354
    },
    {
        "content": "<p>The metadata needs to be the same - and they get combined into a single publication.  The heading numbers, etc. need to be continguous across the content in each.</p>",
        "id": 153994596,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536360411
    },
    {
        "content": "<p>in general, I'm simply not interested in all this complexity. It makes everything sooooo much harder, and we can't deliver on what we have. I'm sick of inventing complexity and then gtting hammered because the tools are constantly broken</p>",
        "id": 153994597,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536360432
    },
    {
        "content": "<p>Separate files is just begging for inconsistencies and other problems.</p>",
        "id": 153994598,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536360439
    },
    {
        "content": "<p>The complexity comes from real requirements</p>",
        "id": 153994599,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536360459
    },
    {
        "content": "<p>you can just keep inventing real requirements, sure. But I have to actually deliver on this stuff. You make contributions, but it's me that maintains, and supports, and keeps things going.</p>",
        "id": 153994600,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536360503
    },
    {
        "content": "<p>and I can't keep doing this. We <em>have to simplify</em></p>",
        "id": 153994601,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536360521
    },
    {
        "content": "<p>In my mind, simplifying comes from the templates.  If we're driving off standard templates, most people will be isolated from the complexity.</p>",
        "id": 153994603,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536360628
    },
    {
        "content": "<p>Multi-version IGs are going to become more common, not less common.</p>",
        "id": 153994604,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536360647
    },
    {
        "content": "<p>And it's pretty hard to go to a customer that's had their content and publishing process organized around a single repository for 3 IGs to suddenly say \"sorry, you can't do that anymore because we decided it was too complicated\"</p>",
        "id": 153994605,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536360688
    },
    {
        "content": "<p>customers that depend on critical infrastructure... at some stage they need to actually pay.</p>",
        "id": 153994606,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536360764
    },
    {
        "content": "<p>They have, in part.  They've paid for a huge amount of my time to address issues, maintain stuff.  I recognize that hasn't flowed to you for the parts you do though.</p>",
        "id": 153994607,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536360830
    },
    {
        "content": "<p>no, and that's a problem.</p>",
        "id": 153994613,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536361109
    },
    {
        "content": "<p>The base issue is: you don't have the bandwidth to provide support (for free) for more than a certain minimal set of functionality.  But the functionality needed by the community is more than that.</p>",
        "id": 153994614,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536361171
    },
    {
        "content": "<p>if we're going to support multi-version IGs, we need to figure out how we're actually going to support them. The current arrangement feels like a dreadful hack. I only tolerated it because we had ballot deadlines. though I'm seriously burnt by the publishing process from the last round, and guidance from exec committee is: we won't do that again</p>",
        "id": 153994615,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536361190
    },
    {
        "content": "<p>I going to have to side with Lloyd on the need for multi version IG but I don't think we should stick it  to GG to solve.  Maybe we ask our client to provide the funding to support developing a maintainable solution or stick to our guns and say we can't do it.</p>",
        "id": 153994616,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536361364
    },
    {
        "content": "<p>I'm open to us discussing alternatives to how to publish multi-version IGs.</p>",
        "id": 153994617,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536361385
    },
    {
        "content": "<p>It's hard to say \"we can't do it\" - when we can.  And DaVinci (through me) spent money to make it happen.</p>",
        "id": 153994618,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536361411
    },
    {
        "content": "<p>We can  however say that more resources are needed to move the solution to something more sustainable.</p>",
        "id": 153994619,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536361445
    },
    {
        "content": "<blockquote>\n<p>I'm open to us discussing alternatives to how to publish multi-version IGs.</p>\n</blockquote>\n<p>what's a multi-version IG in this context? Different ways to generate IGs? Different appearances?</p>",
        "id": 153994620,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536361452
    },
    {
        "content": "<p>STU3 +R4 concurrently</p>",
        "id": 153994621,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536361486
    },
    {
        "content": "<p>I guess I should've hit Da Vinci up for the multi-version support stuff I did. The problem is that it all just merges into one great big ball of stuff for me. Things are not easily separated out</p>",
        "id": 153994622,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536361487
    },
    {
        "content": "<p>really, we want deeply integrated IGs, where we can have different version for different profiles.</p>",
        "id": 153994623,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536361537
    },
    {
        "content": "<blockquote>\n<p>STU3 +R4 concurrently</p>\n</blockquote>\n<p>OH, Not what I was thinking. But thanks for the clarification</p>",
        "id": 153994624,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536361546
    },
    {
        "content": "<p>and if we extend into R2 support, different terminology resources</p>",
        "id": 153994625,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536361547
    },
    {
        "content": "<p>the problem is actually in the package spec</p>",
        "id": 153994626,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536361559
    },
    {
        "content": "<p>and all the tools, which all use the package spec</p>",
        "id": 153994627,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536361604
    },
    {
        "content": "<p>I'm not sure.  I think it's reasonable to have separate packages for one IG \"publication\".  Multi-version packages seem like they're going to cause problems for more than just the the build process.  In any case, DaVinci is currently figuring out plans and budgets for next quarter - if this is something they need to plan for/deal with, need to let Bob &amp; Viet know.</p>",
        "id": 153994634,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536362026
    },
    {
        "content": "<p>... catching up on the thread.<br>\nI am strongly against the notion of having to create an R4 ImplementationGuide for an STU3 package.<br>\nIt makes far more sense to me, to use extensions to represent the properties in R4 ImplementationGuide that are not implemented in STU3.</p>",
        "id": 153994645,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1536362118
    },
    {
        "content": "<p>these are really big extensions and really lots of work for me. WHy are you strongly against it? the IG will be a mess. We made a lot of changes</p>",
        "id": 153994658,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536362397
    },
    {
        "content": "<blockquote>\n<p>... catching up on the thread.<br>\nI am strongly against the notion of having to create an R4 ImplementationGuide for an STU3 package.<br>\nIt makes far more sense to me, to use extensions to represent the properties in R4 ImplementationGuide that are not implemented in STU3.</p>\n</blockquote>\n<p>In my trivial little 3-FHIR resource case an R4 IG wouldnt be anything like an STU3. All the content would be completely different.</p>",
        "id": 153994663,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536362564
    },
    {
        "content": "<p>why would it be completely different? your profiles would be different. What else would be different?</p>",
        "id": 153994667,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536362648
    },
    {
        "content": "<blockquote>\n<p>why would it be completely different? your profiles would be different. What else would be different?</p>\n</blockquote>\n<p>Okay, that's what I meant. The content in the resources/pages directories would be completely different. What otherwise lies under the hood in generating an IG is beyond me. But simple (as much as possible) is nice. It does seem like things would be cleaner if there were separate guides for the different versions but I am really not qualified to comment on that. I'm still at the stage of learning how to use the publisher and generate the resources/pages. - making the move from Simpplifier</p>",
        "id": 153994673,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536362845
    },
    {
        "content": "<p>your documentation should not that different.your value sets should be the same. you do have value sets, right?</p>",
        "id": 153994677,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536362937
    },
    {
        "content": "<blockquote>\n<p>your documentation should not that different.your value sets should be the same. you do have value sets, right?</p>\n</blockquote>\n<p>Not too many and they are simple. IN most cases I use already existing ones - I try as much as possible to use what it defined in the base standard.</p>",
        "id": 153994680,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536362982
    },
    {
        "content": "<p>smells like you should be investing in value sets more then.</p>",
        "id": 153994685,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536363536
    },
    {
        "content": "<p>but irrespective, most people will.</p>",
        "id": 153994686,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536363550
    },
    {
        "content": "<blockquote>\n<p>I think it's reasonable to have separate packages for one IG \"publication\". Multi-version packages seem like they're going to cause problems for more than just the the build process</p>\n</blockquote>",
        "id": 153994687,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536363566
    },
    {
        "content": "<p>not sure about this. when a tool hits a package, it knows which version it wants.</p>",
        "id": 153994688,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536363609
    },
    {
        "content": "<p>except the IG publisher. which wants all versions.</p>",
        "id": 153994689,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536363666
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  All these details are beyond me at this time. I'm still too much of a noob to know how it all works. I am amazed at what you guys are doing and are able to do.</p>",
        "id": 153994690,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536363782
    },
    {
        "content": "<p>well, we should sit down with you and work through the value set stuff in baltimore. telling people what codes can be used in what contexts is mostly very important</p>",
        "id": 153994691,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536364073
    },
    {
        "content": "<blockquote>\n<p>well, we should sit down with you and work through the value set stuff in baltimore. telling people what codes can be used in what contexts is mostly very important</p>\n</blockquote>\n<p>I will take any help I can get!</p>",
        "id": 153994693,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536364902
    },
    {
        "content": "<p>I don't think using R4 IG instead of ig.json + Ig.xml that we are now is any more complex..  The data is all the same.   Its  just a bit of repackaging</p>",
        "id": 153994703,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536366991
    },
    {
        "content": "<p>Agree with that.  The change of syntax is about having a \"standard\" way to share all of the publishing information to allow other tools to produce/consume the information.</p>",
        "id": 153994704,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536367480
    },
    {
        "content": "<p>In reading through the wiki page on templates - am I correct in understanding that templates will still use config.json?</p>",
        "id": 153994742,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536374388
    },
    {
        "content": "<p>I think so. there's a bunch of things that you want to say there that are outside the scope of the IG</p>",
        "id": 153994745,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536396166
    },
    {
        "content": "<p>umm no. I think that this wants to be an IG resource. But I'm not sure. that's one of the thing we have to experiment with</p>",
        "id": 153994746,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536396268
    },
    {
        "content": "<p>what is it we want to say in a template?</p>",
        "id": 153994747,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536396457
    },
    {
        "content": "<blockquote>\n<p>I think so. there's a bunch of things that you want to say there that are outside the scope of the IG</p>\n</blockquote>\n<p>What role does the template play? Is this the part that gives the content/appearance of the headers and footers on a given page?<br>\nWhat happens with the IG publisher when I create pages that have no (what I believe are) Jekyll commands like {% include header.html %}?<br>\nI created a massive amount of pages in markdown format in Simplifier. They have no special 'commands'. Can I use these pages in the IG publisher without change if I populate the ig.json correctly?</p>\n<p>Can I use these Jekyll commands in a markdown document? If so, how?</p>",
        "id": 153994749,
        "sender_full_name": "Brian Reinhold",
        "timestamp": 1536406130
    },
    {
        "content": "<p>The template sets expectations for how artifacts will be rendered, what the headers and footers will be on all pages, how the table of contents and/or artifact indexes are generated, what the styles are, helps with th e creation of section numbers, etc.  If the framework is well designed, there is very little liquid you should need to add to your stuff.  The main thing will be replacing any explicit references to the URL for FHIR (e.g. <a href=\"http://hl7.org/fhir\" target=\"_blank\" title=\"http://hl7.org/fhir\">http://hl7.org/fhir</a>) with {{site.data.fhir.path}}.  That allows the publication process to \"lock\" your IG to a particular ballot release of FHIR or specific official release of FHIR (e.g. <a href=\"http://hl7.org/fhir/R4\" target=\"_blank\" title=\"http://hl7.org/fhir/R4\">http://hl7.org/fhir/R4</a>).</p>",
        "id": 153994761,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536421076
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Ideally, I'd like an IG template to cover everything I currently put in the \"framework\" folder in my IGs - so defining all of the styles, javascript,  Jekyll config, page templates and standard includes as well as  the transforms and scripts involved.  I set most of my config stuff using a transform.  So if we can allow generation of the actual \"build\" IG as part of the launch stuff,  I won't need a file to contain it - it'll be embedded in an XSLT.  Though this approach does mean that the source IG needs to be expressed in XML (not RDF or JSON).  If we're not comfortable with that as a limitation, I'm not thrilled with the idea of an IG.  Because it really isn't one.  It has no resources.  It doesn't have any pages, per se.  It doesn't make sense to publish it or use it as an IG.  It's just trying to set lots of expectations around IG publishing.  And, to be honest, I'm not sure how we do some of that genericly - my transform will often list out a bunch of the artifacts with specific templating rules for each defined because I need to differentiate between \"example\" StructureDefinitions and \"profiling\" StructureDefinitions - each gets rendered differently.</p>",
        "id": 153994762,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536421557
    },
    {
        "content": "<p>An IG template package that just let me point to and bring in a non-editable version of the framework folder to use in the build plus an ability to pre-process the IG would be ideal.  If we had an ini file that pointed to the IG and the template and the IGPublisher launched from that, everything else would be pretty straight-forward.</p>",
        "id": 153994763,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536421690
    },
    {
        "content": "<p>this sentence:</p>\n<blockquote>\n<p>So if we can allow generation of the actual \"build\" IG as part of the launch stuff, I won't need a file to contain it - it'll be embedded in an XSLT.</p>\n</blockquote>\n<p>you'll need to explain this</p>",
        "id": 153994770,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536440136
    },
    {
        "content": "<blockquote>\n<p>I need to differentiate between \"example\" StructureDefinitions and \"profiling\" StructureDefinitions - each gets rendered differently.</p>\n</blockquote>\n<p>These are differentiated in the IG</p>",
        "id": 153994771,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536440179
    },
    {
        "content": "<blockquote>\n<p>an ability to pre-process the IG would be ideal</p>\n</blockquote>",
        "id": 153994772,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536440241
    },
    {
        "content": "<p>what do you think you need to do here?</p>",
        "id": 153994773,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536440251
    },
    {
        "content": "<p>Remember: what we agreed is that the IG will be the master file, that everything else derives from</p>",
        "id": 153994774,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536440279
    },
    {
        "content": "<p>I want to tweak the source IG before the IGPublisher runs with it - to insert pages, manipulate build parameters (and maybe even split it in two).</p>\n<p>Yes, they're differentiated in the IG.  But the build templates drive off artifact type, not whether something is flagged as an example or not</p>",
        "id": 153994777,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536445455
    },
    {
        "content": "<p>The IG is the master file, except that there's a whole bunch of stuff that's template driven.  So the IG is the master only insofar as it points to a template.  And the problem with it pointing to the template is that you load the IG, find the template, then change the IG, then kick off the build with the revised IG.  That seems a little flakey.  But you absolutely want the scripts to be able to drive changes to the IG before it gets build (e.g. inserting the pages for each artifact - maintaining that in the source IG is a huge pain and source of errors)</p>",
        "id": 153994778,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536445577
    },
    {
        "content": "<p>our discussion was very clear: we will work the IG resource so it is suitable to be the master</p>",
        "id": 153994780,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536447356
    },
    {
        "content": "<p>sounds like you're not on board with that</p>",
        "id": 153994781,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536447380
    },
    {
        "content": "<blockquote>\n<p>manipulate build parameters</p>\n</blockquote>\n<p>why? Why not just say what you want?</p>\n<blockquote>\n<p>maybe even split it in two</p>\n</blockquote>\n<p>why? </p>\n<blockquote>\n<p>inserting the pages for each artifact - maintaining that in the source IG is a huge pain and source of errors</p>\n</blockquote>\n<p>why? Got to maintain it somewhere</p>",
        "id": 153994782,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536447436
    },
    {
        "content": "<p>Build parameters are mainly driven by framework.  Most IG authors care about resources and \"extra\" pages.  The framework takes care of everything else</p>",
        "id": 153994786,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536449784
    },
    {
        "content": "<p>Split in 2 = for multiple versions</p>",
        "id": 153994787,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536449796
    },
    {
        "content": "<p>We maintain the artifacts in the IG.  Creating pages for each artifact too is redundant.  Much better for the framework to add them automatically</p>",
        "id": 153994788,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536449839
    },
    {
        "content": "<p>That way if someone wants to change the name of something or add something or delete something, they only have to do it in one place, not two.</p>",
        "id": 153994789,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536449885
    },
    {
        "content": "<blockquote>\n<p>Creating pages for each artifact too is redundant. Much better for the framework to add them automatically</p>\n</blockquote>",
        "id": 153994845,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536490501
    },
    {
        "content": "<p>that already happens in the IG. So what are you talking about?</p>",
        "id": 153994846,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536490522
    },
    {
        "content": "<p>Where (and how) does the current IG tooling add \"page\" entries for each artifact to the IG?  (I'm not talking about pages being generated, I'm talking about pages being listed in the IG artifact to use in generating table of contents, section numbers, breadcrumbs, etc.</p>",
        "id": 153994865,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536506392
    },
    {
        "content": "<p>if you ask it to, it will automatically add pages to the ig. but you're once again talking about manual decisions. Which we said we wanted mastered in the IG. But you're not on board with that....</p>",
        "id": 153994906,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536526290
    },
    {
        "content": "<p>I'm on board with eliminating an ig.json maintained by IG authors.  Everything that the author maintains about how an IG should publish should be in the IG instance.  However, a lot of the guidance about how an IG should publish <em>won't</em> be maintained in the authored IG - it'll be in the framework/template that the IG publishes with.  Maintaining <em>that</em> information in an IG instance seems wierd to me.</p>",
        "id": 153994912,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536526468
    },
    {
        "content": "<p>how can the template know what pages exist?</p>",
        "id": 153994914,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536526524
    },
    {
        "content": "<p>When I author an IG, I create a page for the index and a few other descriptive things and a placer-holder \"generated\" page for artifacts.  The pre-processing step then generates pages for each artifact as \"children\" of the artifacts page, strips out declared artifacts that are being grabbed from spreadsheets, strips out artifacts from other versions and spits out the resulting IG.  A separate process spits out the config.json file which hard-codes most of the rendering stuff and goes through each resource and decides what templates it's going to use based on whether it's a profile, extension or example, true value set, example value set, etc.  In the new model, those processes would merge because all of that information would be in the resulting IG.  The publication process then gets kicked off for the generated IG.</p>",
        "id": 153994917,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536526952
    },
    {
        "content": "<p>It's not ok for IG authors to have to create a page for each resource in the right place or to specify configuration stuff for each resource.  That has to be driven by the framework - both to get consistent publications and so the IG authors don't hate us.</p>",
        "id": 153994918,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536527021
    },
    {
        "content": "<p>what about this pre-processing step changes the IG resource?</p>",
        "id": 153994922,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536527289
    },
    {
        "content": "<p>It adds pages beneath the \"artifacts\" page, it removes resources defined by the spreadsheets referenced by extension (because including both artifact reference and spreadsheet makes the build blow up) and strips \"other version\" stuff plus (in the new world) it will inject a bunch of configuration parameter stuff.</p>",
        "id": 153994930,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536527982
    },
    {
        "content": "<blockquote>\n<p>It adds pages beneath the \"artifacts\" page</p>\n</blockquote>\n<p>Why? if that's not the master, why do that?</p>",
        "id": 153994931,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536528032
    },
    {
        "content": "<blockquote>\n<p>it removes resources defined by the spreadsheets referenced by extension</p>\n</blockquote>\n<p>I don't even understand what this is</p>",
        "id": 153994933,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536528050
    },
    {
        "content": "<blockquote>\n<p>strips \"other version\" stuff</p>\n</blockquote>\n<p>I don't know what this is either</p>",
        "id": 153994934,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536528079
    },
    {
        "content": "<blockquote>\n<p>a bunch of configuration parameter stuff.</p>\n</blockquote>\n<p>What parameters?</p>",
        "id": 153994935,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536528105
    },
    {
        "content": "<p>Let's work with an example</p>",
        "id": 153994936,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536528108
    },
    {
        "content": "<p>Here's my \"source\" IG for CRD:</p>",
        "id": 153994937,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536528119
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/XnY7ltLLTcan2_Z3A5rWj2iG/davinci-crd.xml\" target=\"_blank\" title=\"davinci-crd.xml\">davinci-crd.xml</a></p>",
        "id": 153994938,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536528126
    },
    {
        "content": "<p>Here's the \"generated\" R4 <a href=\"/user_uploads/10155/wBbYlATSPRV6eduSjtZ6ifzf/davinci-crd.xml\" target=\"_blank\" title=\"davinci-crd.xml\">davinci-crd.xml</a>  and R3 <a href=\"/user_uploads/10155/MDTVplZyQ5J1orpzW2oPUpqs/davinci-crd.xml\" target=\"_blank\" title=\"davinci-crd.xml\">davinci-crd.xml</a>  IGs and R4 <a href=\"/user_uploads/10155/ufZMW_-QCgOJ-kMjoKLVk2Jr/davinci-crd.json\" target=\"_blank\" title=\"davinci-crd.json\">davinci-crd.json</a> and R3 <a href=\"/user_uploads/10155/N6DSPXPLk9VnKdslLhxdTq48/davinci-crdSTU3.json\" target=\"_blank\" title=\"davinci-crdSTU3.json\">davinci-crdSTU3.json</a> config files</p>",
        "id": 153994941,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536528200
    },
    {
        "content": "<p>You can see all of the pages inserted into the IG.  You can see the resources that got stripped.  You can see all of the configuration information that is automatically determined by the framework.  The only parts of that the IG author has any control over are specified in an ini file: <a href=\"/user_uploads/10155/CmI0DtG1wiso5fR0k3QU_1v5/properties.txt\" target=\"_blank\" title=\"properties.txt\">properties.txt</a></p>",
        "id": 153994943,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536528314
    },
    {
        "content": "<p>Everything else is driven by the framework.</p>",
        "id": 153994944,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536528334
    },
    {
        "content": "<p>My hope/expectation for the new process is that the framework comes to be maintained by a separate project so all you need to do is point to it.  That will make it easier to maintain and keep consistent across projects.</p>",
        "id": 153994945,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536528376
    },
    {
        "content": "<p>so what I can see is that it's simply no use trying to talk about this in any productive way until we can figure out the version issue</p>",
        "id": 153995145,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536559339
    },
    {
        "content": "<p>comparing the2 IGs, it doesn't really make sense to source them from one file - they have very little overlap. but since we can't have any rational discussion without you obsessing about single sourcing them, and being able to pre-process them, ok:</p>",
        "id": 153995146,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536559440
    },
    {
        "content": "<p>I think the current arrangement for supporting 2 different versions is a dreadful hack. It would be a lot simpler simply to publish a single implementation guide.</p>",
        "id": 153995147,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536559485
    },
    {
        "content": "<p>the existing IG publisher could relatively straightforwardly be adapted to be able to produce conformance resources that have a specific FHIR version. So you could have r2, r3 profiles and r4 profiles.</p>",
        "id": 153995148,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536559563
    },
    {
        "content": "<p>there'd be some trickery to making that happen, but I can't think of anything that would actually be broken.</p>",
        "id": 153995149,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536559607
    },
    {
        "content": "<p>but it would require some specification support:<br>\n- changes to the IG resource so you could say that the IG covers more than one versions<br>\n- and also so that you could say, for each conformance resource, which version(s) it applies to (value set etc can cross versions)<br>\n- and we'd have to change the package spec so that a single package could handle multiple versions</p>",
        "id": 153995150,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536559687
    },
    {
        "content": "<p>I guess, for me, the question is: do we want to make multiple version IGs a core feature, or do we want to push it off to the side, and complicate all the build tools</p>",
        "id": 153995151,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536559744
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <br>\n\"these are really big extensions and really lots of work for me. WHy are you strongly against it? the IG will be a mess. We made a lot of changes\"<br>\nI don't disagree that these are big extensions. I'm not trivializing the work. But, having STU3 implementers use R4 instead of STU3 due to core FHIR tooling doesn't seem right either. If an implementer is using tooling that only supports STU3, there is no way for them to make an ImplementationGuide that will work with the IG publisher. I'd almost rather preserve the ig.json file for R3 and use ImplementationGuide for R4. Although, I don't like that solution, either. Extensions are the \"right\" approach in my mind... albeit not the easier approach.</p>",
        "id": 153995166,
        "sender_full_name": "Sean McIlvenna",
        "timestamp": 1536562285
    },
    {
        "content": "<p>Multi-version IGs seem like a likely outcome of implementers supporting multiple versions or  of the community migrating versions at different speeds.  The complexity needs to live somewhere, so the question is \"where should it live\".  I'd prefer it in the authorship rather than for the consumers and I'd prefer it in the tooling rather than for the authors.</p>",
        "id": 153995258,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536591133
    },
    {
        "content": "<p>Supporting R3 IG + extensions doesn't seem like a super-huge deal.  Is there something that would be involved other than updating the R3-&gt;R4/R4-&gt;R3 conversion code to use standard extensions?  In principle, we're committed to creating the extensions for all resources anyhow.  And under the covers, the tool always runs with latest draft...</p>",
        "id": 153995260,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536591249
    },
    {
        "content": "<p>(I inadvertantly clicked on the thumbs up.  so I am negating it)</p>",
        "id": 153995621,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536619227
    },
    {
        "content": "<p>The R3 IG + extension is extra work.. I'd rather keep ig.json than do that.</p>",
        "id": 153995623,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536619272
    },
    {
        "content": "<p>I would expect that this would be 3-4 days work for me over time</p>",
        "id": 153995624,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536619290
    },
    {
        "content": "<p>So does the tooling right now recreate the newig.json and xml files every time?</p>",
        "id": 153995630,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1536621023
    },
    {
        "content": "<p>yes for now</p>",
        "id": 153995631,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536622743
    },
    {
        "content": "<p>where are  newig.json and xml files I don't see them in the output or my root directory?</p>",
        "id": 153995640,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536628953
    },
    {
        "content": "<p>created in the first nominated resource directory  in the source when you run the current IG publisher</p>",
        "id": 153995641,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536629235
    },
    {
        "content": "<p>not there?  Is this for all FHIR versions? or  before 3.6.0?</p>",
        "id": 153995642,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536629570
    },
    {
        "content": "<p>all versions</p>",
        "id": 153995643,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536629653
    },
    {
        "content": "<p>what version are you running?</p>",
        "id": 153995644,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536629659
    },
    {
        "content": "<p>so you have a ig.ini in the root directory next to the ig.json?</p>",
        "id": 153995645,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536629722
    },
    {
        "content": "<p>What happens if your root ig has a redirect - are you generating for both?</p>",
        "id": 153995650,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536634781
    },
    {
        "content": "<p>I don't know what that means</p>",
        "id": 153995658,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536643918
    },
    {
        "content": "<p>I have an ig.json that redirects to a different ig.json - and I'm not getting the generated files.</p>",
        "id": 153995713,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536671580
    },
    {
        "content": "<p>I.e. no \"new\" ig.json</p>",
        "id": 153995714,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536671593
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>   I'm running 3.6.0 on my test IG using Mac OSx.  There is no fhir.ini in the root.  see screenshot of my directory after running the build. <a href=\"/user_uploads/10155/3B_ODZFBuewc6LQ0L1j-AjFj/Screen-Shot-2018-09-11-at-8.45.05-AM.png\" target=\"_blank\" title=\"Screen-Shot-2018-09-11-at-8.45.05-AM.png\">Screen-Shot-2018-09-11-at-8.45.05-AM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/3B_ODZFBuewc6LQ0L1j-AjFj/Screen-Shot-2018-09-11-at-8.45.05-AM.png\" target=\"_blank\" title=\"Screen-Shot-2018-09-11-at-8.45.05-AM.png\"><img src=\"/user_uploads/10155/3B_ODZFBuewc6LQ0L1j-AjFj/Screen-Shot-2018-09-11-at-8.45.05-AM.png\"></a></div>",
        "id": 153995782,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536683229
    },
    {
        "content": "<p>do you see this in your log: exception generating new IG</p>",
        "id": 153995936,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536702639
    },
    {
        "content": "<p>yes  ( I looked for something like this before but searched on  'error')</p>\n<div class=\"codehilite\"><pre><span></span>Contacting Build Server...                                                       (01.0500sec)\n ... done                                                                        (04.0612sec)\nChecking hl7.fhir.core-current currency                                          (04.0650sec)\n   ...  ok: is 1, must be 1                                                      (04.0650sec)\nLoad hl7.fhir.core-current package from /Users/ehaas/.fhir/packages/hl7.fhir.core#current (04.0650sec)\nexception generating new IG\njava.lang.Exception: Unsupported version 3.6.0\n    at org.hl7.fhir.igtools.publisher.ConfigFileConverter.parse(ConfigFileConverter.java:277)\n    at org.hl7.fhir.igtools.publisher.ConfigFileConverter.convert(ConfigFileConverter.java:92)\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1046)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:500)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4865)\n</pre></div>",
        "id": 153996030,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536707953
    },
    {
        "content": "<p>you're not using the very latest IG publisher then</p>",
        "id": 153996087,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536708947
    },
    {
        "content": "<p>I am now and same log file message.  Does it work on Mac?</p>",
        "id": 153996111,
        "sender_full_name": "Eric Haas",
        "timestamp": 1536713458
    },
    {
        "content": "<p>1) I'm about to deep dive into making an IG, and I've got some samples running. Should I consider not using the control file 'ig.json'? If that's the case, how is the publisher then controlled? command line arguments?<br>\n2) I probably need to have a look at the source code for the publisher. Where is that located?<br>\n3) The documentation mentions swagger (<a href=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Swagger\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Swagger\">http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Swagger</a>) but adding the swagger conf to my ig control file seems to have very little impact. Where's the output of the swagger configuration intended to be found running with 'single' option?<br>\n<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 155234647,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1547624296
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> for 2: <a href=\"https://github.com/HL7/fhir/tree/master/tools/java/org.hl7.fhir.igtools\" target=\"_blank\" title=\"https://github.com/HL7/fhir/tree/master/tools/java/org.hl7.fhir.igtools\">https://github.com/HL7/fhir/tree/master/tools/java/org.hl7.fhir.igtools</a></p>",
        "id": 155253856,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1547646072
    },
    {
        "content": "<p>3: in output as [capability statement].openapi.json</p>",
        "id": 155254976,
        "sender_full_name": "Eric Haas",
        "timestamp": 1547647167
    },
    {
        "content": "<p>1. The content is moving into ImplementationGuide.definition.parameter.  I <em>think</em> that's supposed to work now, but I don't know that anyone other than Grahame's tests have tried to use it</p>",
        "id": 155255077,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1547647260
    },
    {
        "content": "<p>1:  still uses ig.json config file but changing over to ImplementationGuide resource  + ig.ini very soon<br>\n so docs here are still valid... <br>\n<a href=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation\">http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation</a></p>",
        "id": 155255094,
        "sender_full_name": "Eric Haas",
        "timestamp": 1547647279
    },
    {
        "content": "<p>@GG  can we switch to the IG resource now, I have had my tooling in place for a while and ready to test it out</p>",
        "id": 155255215,
        "sender_full_name": "Eric Haas",
        "timestamp": 1547647338
    },
    {
        "content": "<p>I don't think it's going to be a hard-switch.  I think we're going to work at creating a test IG and test template thingy.  Once that works, we'll give projects time to migrate, then we'll disable the old way.</p>",
        "id": 155255420,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1547647560
    },
    {
        "content": "<blockquote>\n<p>I don't think it's going to be a hard-switch.  I think we're going to work at creating a test IG and test template thingy.  Once that works, we'll give projects time to migrate, then we'll disable the old way.</p>\n</blockquote>\n<p>whats the timeline we're talking here ...?</p>",
        "id": 155255499,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1547647615
    },
    {
        "content": "<p>month(s)??</p>",
        "id": 155255520,
        "sender_full_name": "Eric Haas",
        "timestamp": 1547647635
    },
    {
        "content": "<blockquote>\n<p>3: in output as [capability statement].openapi.json</p>\n</blockquote>\n<p>Right ... as stated in the code ... ;)</p>",
        "id": 155255599,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1547647701
    },
    {
        "content": "<p>May ballot will use the current frameworks.  Projects will be able to switch sometime after ballot opens and will be expected to switch for Sept. ballot</p>",
        "id": 155255758,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1547647842
    },
    {
        "content": "<blockquote>\n<p>1:  still uses ig.json config file but changing over to ImplementationGuide resource  + ig.ini very soon<br>\n so docs here are still valid... <br>\n<a href=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation\">http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation</a></p>\n</blockquote>\n<p>So what if resources are specified in both the control file and the ImplementationGuide resource ... - what can I expect from that?</p>",
        "id": 155325670,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1547722253
    },
    {
        "content": "<p>That's normal - and is one of the reasons to get rid of the IG.json.  There's lots of redundancy</p>",
        "id": 155335087,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1547732340
    },
    {
        "content": "<p>the build doesn't work without ig.json right now. it's work in progress</p>",
        "id": 156361927,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1547811890
    }
]