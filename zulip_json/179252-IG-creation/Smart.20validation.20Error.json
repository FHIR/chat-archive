[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  we need some help on this error:</p>\n<p>QA error on smart example CapabilityStatement issues to resolve:</p>\n<p><strong>Summary</strong> the url for the extension lives in both the Smart guide and the FHIR spec so...</p>\n<p>this snippet from the CapabilityStatement :</p>\n<div class=\"codehilite\" data-code-language=\"YAML\"><pre><span></span><code>    <span class=\"nt\">security</span><span class=\"p\">:</span>\n      <span class=\"nt\">extension</span><span class=\"p\">:</span>\n        <span class=\"p p-Indicator\">-</span> <span class=\"nt\">extension</span><span class=\"p\">:</span>\n            <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">token</span>\n              <span class=\"nt\">valueUri</span><span class=\"p\">:</span> <span class=\"s\">'https://my-server.org/token'</span>\n            <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">authorize</span>\n              <span class=\"nt\">valueUri</span><span class=\"p\">:</span> <span class=\"s\">'https://my-server.org/authorize'</span>\n            <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">manage</span>\n              <span class=\"nt\">valueUri</span><span class=\"p\">:</span> <span class=\"s\">'https://my-server.org/authorizations/manage'</span>\n            <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">introspect</span>\n              <span class=\"nt\">valueUri</span><span class=\"p\">:</span> <span class=\"s\">'https://my-server.org/authorizations/introspect'</span>\n            <span class=\"p p-Indicator\">-</span> <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"l l-Scalar l-Scalar-Plain\">revoke</span>\n              <span class=\"nt\">valueUri</span><span class=\"p\">:</span> <span class=\"s\">'https://my-server.org/authorizations/revoke'</span>\n          <span class=\"nt\">url</span><span class=\"p\">:</span> <span class=\"p p-Indicator\">&gt;-</span>\n            <span class=\"no\">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris</span>\n</code></pre></div>\n<p>leads to the following validator error because the validator is using the SD from the core spec here : <a href=\"http://hl7.org/fhir/extension-oauth-uris.html\">http://hl7.org/fhir/extension-oauth-uris.html</a>   <em>instead of</em>  the updated definition from the IG:</p>\n<blockquote>\n<ul>\n<li>CapabilityStatement/smart-app-launch-example: CapabilityStatement.rest[0].security.extension[0].extension[3] Slicing Information This element does not match any known slice defined in the profile <a href=\"http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris\">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris</a> Hide Reasoning</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>This element does not match any known slicedefined_in_the_profilehttp://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris<br>\n - CapabilityStatement.rest[0].security.extension[0].extension[3]: discriminator = true and ('authorize' in url)</p>\n</blockquote>\n<blockquote>\n<ul>\n<li>CapabilityStatement.rest[0].security.extension[0].extension[3]: discriminator = true and ('token' in url)</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>CapabilityStatement.rest[0].security.extension[0].extension[3]: discriminator = true and ('register' in url)</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>CapabilityStatement.rest[0].security.extension[0].extension[3]: discriminator = true and ('manage' in url)</li>\n</ul>\n</blockquote>\n<blockquote>\n<ul>\n<li>CapabilityStatement/smart-app-launch-example: &gt; CapabilityStatement.rest[0].security.extension[0].extension[3][url='introspect']    error   Sub-extension url 'introspect' is not defined by the Extension <a href=\"http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris\">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris</a></li>\n<li>CapabilityStatement/smart-app-launch-example: &gt; &gt; CapabilityStatement.rest[0].security.extension[0].extension[4][url='revoke']  error   Sub-extension url 'revoke' is not defined by the Extension <a href=\"http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-URIs\">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-URIs</a></li>\n</ul>\n</blockquote>\n<h2>What I did</h2>\n<p>As a temporary fix  I appended the version which seems to redirect the validator to look in the IG package , but then get the following error (since the element is type uri not canonical):</p>\n<ul>\n<li>CapabilityStatement/smart-app-launch-example: CapabilityStatement.rest[0].security.extension[0].url   error   Value is '<a href=\"http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris|2.0.0\">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris|2.0.0</a>' but must be '<a href=\"http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris\">http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris</a>'</li>\n</ul>",
        "id": 232508089,
        "sender_full_name": "Eric Haas",
        "timestamp": 1617143569
    },
    {
        "content": "<p>I think this is related to the renaming the package for the SMART ig  that <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> mentioned before here:  <a href=\"#narrow/stream/179252-IG-creation/topic/SMART.20and.20.22uv.22\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/SMART.20and.20.22uv.22</a></p>",
        "id": 232508496,
        "sender_full_name": "Eric Haas",
        "timestamp": 1617143786
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 232792661,
        "sender_full_name": "Eric Haas",
        "timestamp": 1617297368
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  NM  is resolved !</p>",
        "id": 232799180,
        "sender_full_name": "Eric Haas",
        "timestamp": 1617300159
    }
]