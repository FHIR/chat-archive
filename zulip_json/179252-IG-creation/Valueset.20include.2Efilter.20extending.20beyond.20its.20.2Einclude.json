[
    {
        "content": "<p>My Valueset is</p>\n<div class=\"codehilite\"><pre><span></span><code>  &lt;compose&gt;\n        &lt;include&gt;\n            &lt;system value=&quot;http://hl7.org/fhir/sid/icd-10-cm&quot;/&gt;\n        &lt;/include&gt;\n        &lt;include&gt;\n            &lt;system value=&quot;http://loinc.org&quot;/&gt;\n        &lt;/include&gt;\n        &lt;include&gt;\n            &lt;system value=&quot;http://www.ada.org/snodent&quot;/&gt;\n            &lt;filter&gt;\n                &lt;property value=&quot;parent&quot;/&gt;\n                &lt;op value=&quot;=&quot;/&gt;\n                &lt;value value=&quot;165877D&quot;/&gt;\n            &lt;/filter&gt;\n            &lt;filter&gt;\n                &lt;property value=&quot;parent&quot;/&gt;\n                &lt;op value=&quot;=&quot;/&gt;\n                &lt;value value=&quot;165733D&quot;/&gt;\n            &lt;/filter&gt;\n        &lt;/include&gt;\n        &lt;include&gt;\n            &lt;system value=&quot;http://snomed.info/sct&quot;/&gt;\n            &lt;filter&gt;\n                &lt;property value=&quot;parent&quot;/&gt;\n                &lt;op value=&quot;=&quot;/&gt;\n                &lt;value value=&quot;404684003&quot;/&gt;\n            &lt;/filter&gt;\n            &lt;filter&gt;\n                &lt;property value=&quot;parent&quot;/&gt;\n                &lt;op value=&quot;=&quot;/&gt;\n                &lt;value value=&quot;243796009&quot;/&gt;\n            &lt;/filter&gt;\n        &lt;/include&gt;\n    &lt;/compose&gt;\n</code></pre></div>\n\n\n<p>And example</p>\n<div class=\"codehilite\"><pre><span></span><code>        &lt;coding&gt;\n            &lt;system value=&quot;http://loinc.org&quot;/&gt;\n            &lt;code value=&quot;32916-9&quot;/&gt;\n            &lt;display value=&quot;Horizontal overlap [Length] Maxilla and Mandible Measured&quot;/&gt;\n        &lt;/coding&gt;\n</code></pre></div>\n\n\n<p>And am getting \"The filter \"parent = 404684003\" was not understood in the context of <a href=\"http://snomed.info/sct\">http://snomed.info/sct</a>\". </p>\n<p>The publisher appears to be applying/checking filters across all includes.</p>",
        "id": 204858608,
        "sender_full_name": "David deRoode",
        "timestamp": 1595541729
    },
    {
        "content": "<p>the message is correct because \"parent\" isn't a property of SNOMED.  the filter shouldn't be \"parent = xxx\" but rather \"concept descendent-of xxx\" (or \"is-a\" if you want to include the parent code itself</p>",
        "id": 204858903,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595541935
    },
    {
        "content": "<p>Thanks Jean, that makes sense and has resolved the issue. Thanks for the clarity</p>",
        "id": 204859278,
        "sender_full_name": "David deRoode",
        "timestamp": 1595542203
    },
    {
        "content": "<p>you're welcome.  btw, i responded so quickly because I keep hitting my head against that same issue when I'm define SNOMED subsets.  If too much time passes between my writing up definitions, I forget that \"parent\" isn't in SNOMED's concepts.</p>",
        "id": 204859418,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595542324
    },
    {
        "content": "<p>Though, now I'm getting \"The filter \"descendent-of = 404684003\" was not understood in the context of <a href=\"http://snomed.info/sct\">http://snomed.info/sct</a>\". But my example file uses a LOINC code/system, and LOINC in my valueset has no filter</p>",
        "id": 204859980,
        "sender_full_name": "David deRoode",
        "timestamp": 1595542780
    },
    {
        "content": "<p>yes, but the problem is the filter on your SNOMED codesystem<br>\nYour filter should look like this:</p>\n<div class=\"codehilite\"><pre><span></span><code>            &lt;filter&gt;\n                &lt;property value=&quot;concept&quot;/&gt;\n                &lt;op value=&quot;descendent-of&quot;/&gt;\n                &lt;value value=&quot;404684003&quot;/&gt;\n            &lt;/filter&gt;\n</code></pre></div>",
        "id": 204860072,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595542839
    },
    {
        "content": "<p>Oh, I'm following now. Looks like we're error free now. And identified a tooling bug. Thanks again</p>",
        "id": 204860289,
        "sender_full_name": "David deRoode",
        "timestamp": 1595543021
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> Just curious, which IG uses the decedent-of valueset? Wondering if different error might be related to descendant-of in snodent</p>",
        "id": 205305275,
        "sender_full_name": "David deRoode",
        "timestamp": 1595981076
    },
    {
        "content": "<p>unfortunately not a public domain IG</p>",
        "id": 205305442,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595981248
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> do you get an expansion for your intensional value set?</p>\n<p>We are getting: \"This value set contains 0 concepts\"</p>",
        "id": 205309731,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1595986468
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/jk4IiCuOLi0tqPaK2AGsZ7zE/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/jk4IiCuOLi0tqPaK2AGsZ7zE/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/jk4IiCuOLi0tqPaK2AGsZ7zE/image.png\"></a></div>",
        "id": 205309774,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1595986531
    },
    {
        "content": "<p>where is this?</p>",
        "id": 205312500,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595989997
    },
    {
        "content": "<p>It was here: <a href=\"https://build.fhir.org/ig/HL7/dental-data-exchange/branches/master/ValueSet-dental-observation-codes.html\">https://build.fhir.org/ig/HL7/dental-data-exchange/branches/master/ValueSet-dental-observation-codes.html</a> <br>\nBut I added back the includes for SNODENT terms and the whole LOINC code system so now don't get that as it can't expand it \"No Expansion for this valueset (not supported by Publication Tooling)\". I'm assuming that's because of SNODENT.</p>",
        "id": 205312608,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1595990154
    },
    {
        "content": "<p>not sure</p>",
        "id": 205312671,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595990222
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191918\">@Sarah Gaunt</span> Yes.<br>\n<a href=\"/user_uploads/10155/-xNgVvN_opMUPSuwOcbk2c24/Screen-Shot-2020-07-28-at-10.26.33-PM.png\">Screen-Shot-2020-07-28-at-10.26.33-PM.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/-xNgVvN_opMUPSuwOcbk2c24/Screen-Shot-2020-07-28-at-10.26.33-PM.png\" title=\"Screen-Shot-2020-07-28-at-10.26.33-PM.png\"><img src=\"/user_uploads/10155/-xNgVvN_opMUPSuwOcbk2c24/Screen-Shot-2020-07-28-at-10.26.33-PM.png\"></a></div>",
        "id": 205317285,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595996816
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>{\n  &quot;resourceType&quot;: &quot;ValueSet&quot;,\n  &quot;status&quot;: &quot;active&quot;,\n  &quot;name&quot;: &quot;TestEncounterType&quot;,\n  &quot;id&quot;: &quot;Test-SNOMED-EncounterType&quot;,\n  &quot;version&quot;: &quot;0.1.0&quot;,\n  &quot;url&quot;: &quot;http://hl7.org/fhir/us/davinci-pas/ValueSet/Test-SNOMED-EncounterType&quot;,\n  &quot;compose&quot;: {\n    &quot;include&quot;: [\n      {\n        &quot;system&quot;: &quot;http://snomed.info/sct&quot;,\n        &quot;filter&quot;: [\n          {\n            &quot;property&quot;: &quot;concept&quot;,\n            &quot;op&quot;: &quot;descendent-of&quot;,\n            &quot;value&quot;: &quot;308335008&quot;\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre></div>",
        "id": 205317293,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1595996857
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> !</p>",
        "id": 205318941,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1595999462
    }
]