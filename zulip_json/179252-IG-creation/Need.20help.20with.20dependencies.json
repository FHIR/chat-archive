[
    {
        "content": "<p>I have a guide A that depends on B, both are under development (not registered yet)<br>\nWhen I compile locally all works fine, but when I push the guide A in GitHub the compilation for <a href=\"http://build.fhir.org\">build.fhir.org</a> fails because it is not able to load the B package. IG B (without dependencies) compiles correctly.<br>\nThis is the error I have <br>\nCaused by: java.io.FileNotFoundException: <a href=\"https://build.fhir.org/ig/hl7-it/terminology/package.tgz\">https://build.fhir.org/ig/hl7-it/terminology/package.tgz</a></p>\n<p>I can reproduce the same error locally if I use &lt;version value=\"current\"/&gt; instead of &lt;version value=\"dev\"/&gt;</p>\n<p>What do you suggest I should check ?</p>",
        "id": 229690370,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615392386
    },
    {
        "content": "<p>I presume your IG B is the terminology IG... right?</p>",
        "id": 229696388,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615393917
    },
    {
        "content": "<p>Is B set up to use the CI build process?  If you push your commits, that should produce the package.tgz and make it available</p>",
        "id": 229696663,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1615393991
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Need.20help.20with.20dependencies/near/229696388\">said</a>:</p>\n<blockquote>\n<p>I presume your IG B is the terminology IG... right?</p>\n</blockquote>\n<p>Yes</p>",
        "id": 229697068,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615394070
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191320\">Lloyd McKenzie</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Need.20help.20with.20dependencies/near/229696663\">said</a>:</p>\n<blockquote>\n<p>Is B set up to use the CI build process?  If you push your commits, that should produce the package.tgz and make it available</p>\n</blockquote>\n<p>I supposed I did but maybe (I'd say for sure :-) ) not in the right way... the B guide is published in <a href=\"http://build.fhir.org\">build.fhir.org</a> but the package cannot be retrieved</p>",
        "id": 229697465,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615394166
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> ?</p>",
        "id": 229698989,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1615394554
    },
    {
        "content": "<p>Ah, let me look at this in the afternoon? Do you have actual links to the pull requests you are experiencing this behaviour with?</p>",
        "id": 229699305,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1615394666
    },
    {
        "content": "<p>Thanks :-) these is where the two draft guides are <a href=\"https://github.com/hl7-it/base\">https://github.com/hl7-it/base</a> (guide A)  and <a href=\"https://github.com/hl7-it/terminology\">https://github.com/hl7-it/terminology</a> (guide B) (they are WIP..)</p>",
        "id": 229700721,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615395120
    },
    {
        "content": "<p>... glad to learn what I did wrong :-)</p>",
        "id": 229701217,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615395274
    },
    {
        "content": "<p>the terminology hasn't been built by the CI build yet, so you won't find it.</p>",
        "id": 229701548,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615395378
    },
    {
        "content": "<p>Push the CI build for the terminology IG</p>",
        "id": 229701636,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615395413
    },
    {
        "content": "<p><a href=\"https://build.fhir.org/ig/hl7-it/terminology/\">https://build.fhir.org/ig/hl7-it/terminology/</a></p>",
        "id": 229701747,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615395450
    },
    {
        "content": "<p>it is not showing up</p>",
        "id": 229701774,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615395459
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191415\">@Giorgio Cangioli</span> did you setup the CI build hook for your terminology IG?</p>",
        "id": 229702476,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615395669
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179252-IG-creation/topic/Need.20help.20with.20dependencies/near/229702476\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"191415\">Giorgio Cangioli</span> did you setup the CI build hook for your terminology IG?</p>\n</blockquote>\n<p>Do you mean the  webhook in github ? <br>\nThe guide is published in <a href=\"https://build.fhir.org/ig/:org/:repo/branches/:branch\">https://build.fhir.org/ig/:org/:repo/branches/:branch</a> but not in  <a href=\"https://build.fhir.org/ig/:org/:repo\">https://build.fhir.org/ig/:org/:repo</a></p>",
        "id": 229704430,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615396291
    },
    {
        "content": "<p>FHIR Bot has published that the terminology IG has been built, so that looks ok: <a href=\"http://build.fhir.org/ig/hl7-it/terminology/branches/main/index.html\">http://build.fhir.org/ig/hl7-it/terminology/branches/main/index.html</a></p>",
        "id": 229716463,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1615400600
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191415\">@Giorgio Cangioli</span> in <a href=\"https://github.com/hl7-it/base/blob/master/input/ig-it-base.xml\">https://github.com/hl7-it/base/blob/master/input/ig-it-base.xml</a> I guess you need to set the dependency for hl7.fhir.it.terminology to current instead of dev. dev is only available locally, not on the ci-build. current means last current build of ci.</p>",
        "id": 229716944,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1615400769
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span> I'll try, but if I set the version to current the local build fails trying to get  <a href=\"https://build.fhir.org/ig/hl7-it/terminology/package.tgz\">https://build.fhir.org/ig/hl7-it/terminology/package.tgz</a></p>",
        "id": 229717824,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615401106
    },
    {
        "content": "<p>it fails also using current (same error)..I was wondering if the issue is with the target guide (that that apparently build correctly )</p>",
        "id": 229719089,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615401548
    },
    {
        "content": "<p>the terminology build is in the main branch and published to <a href=\"http://build.fhir.org/ig/hl7-it/terminology/branches/main/index.html\">http://build.fhir.org/ig/hl7-it/terminology/branches/main/index.html</a> . Earlier the default for the main branch in a repo for  ig's was master. <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> could it be that this is the issue in the publishing process? And if yes is there a workaround? Or does another setting needs to be done in the repository?</p>",
        "id": 229722055,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1615402642
    },
    {
        "content": "<p>the publisher takes Master for the first build</p>",
        "id": 229725111,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615403682
    },
    {
        "content": "<p><a href=\"https://build.fhir.org/ig/hl7-it/terminology/\">https://build.fhir.org/ig/hl7-it/terminology/</a> is empty, so the publisher doesn't seem to be kicking in</p>",
        "id": 229725156,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615403699
    },
    {
        "content": "<p>I think that is a good guess, <span class=\"user-mention\" data-user-id=\"191478\">@Oliver Egger</span></p>",
        "id": 229725222,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615403714
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191415\">@Giorgio Cangioli</span> you may want to move to a Master branch</p>",
        "id": 229725289,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615403737
    },
    {
        "content": "<p>Thanks a lot <span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span>  now <a href=\"https://build.fhir.org/ig/hl7-it/terminology/\">https://build.fhir.org/ig/hl7-it/terminology/</a> is no more empty and also the dependency works ! <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 229727698,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1615404599
    },
    {
        "content": "<p>and your package.tgz is already there, so your IG A may build at last, I hope</p>",
        "id": 229727986,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615404683
    },
    {
        "content": "<p>Ecco!</p>",
        "id": 229728082,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1615404716
    }
]