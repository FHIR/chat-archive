[
    {
        "content": "<p>A colleague of mine has a profile on Patient that specifies the <code>identifier</code> element type as a choice of profiles:</p>\n<div class=\"codehilite\"><pre><span></span>&quot;type&quot;: [\n          {\n            &quot;code&quot;: &quot;Identifier&quot;,\n            &quot;profile&quot;: &quot;http://nightingaleproject.github.io/fhirDeathRecord/StructureDefinition/sdr-decedent-DecedentID&quot;\n          },\n          {\n            &quot;code&quot;: &quot;Identifier&quot;,\n            &quot;profile&quot;: &quot;http://nightingaleproject.github.io/fhirDeathRecord/StructureDefinition/sdr-decedent-SocialSecurityNumber&quot;\n          }\n],\n</pre></div>\n\n\n<p>When we generate an IG, however, the Snapshot and Differential views only show the first profile (<code>sdr-decedent-DecedentID</code>).  Is this an issue in the IG tooling, or are we wrong to turn a non-choice <code>Identifier</code> type to a choice of two profiles on <code>Identifier</code>?</p>\n<p>We're using the IG Publisher from the May 2018 ballot.</p>",
        "id": 153972257,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1530137442
    },
    {
        "content": "<p>In R4, you should have one \"identifier\" and \"profile\" should be an array.</p>",
        "id": 153972298,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530167375
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>.  That's good to know as we move toward R4.  For R3, however, is the approach I demonstrated above valid?  I think so, as invariant <strong>eld-13</strong> says: \"Types must be unique by the combination of code and profile.\"  But since the IG publisher doesn't handle it correctly, it does give me pause.</p>",
        "id": 153972357,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1530189414
    },
    {
        "content": "<p>R3 doesn't allow multiple profiles for any data type.</p>",
        "id": 153972428,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530211279
    },
    {
        "content": "<p>If R3 doesn't support multiple profiles (as a choice), shouldn't <strong>eld-13</strong> simply read: \"Types must be unique by code\"?  Saying that they must be unique by \"combination of code and profile\" makes it sound like you can have two types w/ the same code but different profiles.  Where does R3 say you can't have that?</p>",
        "id": 153972430,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1530212160
    },
    {
        "content": "<p>In R3, Reference can repeat multiple times</p>",
        "id": 153972432,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530213110
    },
    {
        "content": "<p>Can't find a place that says it can't, but I can't remember the tooling ever supporting it.</p>",
        "id": 153972433,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1530213420
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> you do not specify which version of FHIR you are using</p>",
        "id": 153974105,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1530905235
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> .  I apologize.  My IG uses FHIR 3.0.1 -- and as noted above, indicating that an element should be a choice of multiple profiles (on the same base type) only shows up as the <em>first</em> profile when we produce the IG documentation (although the profile JSON correctly shows both choices in the type array).</p>",
        "id": 153974303,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1531139426
    }
]