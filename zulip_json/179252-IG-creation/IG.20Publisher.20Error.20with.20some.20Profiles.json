[
    {
        "content": "<p>Today I noticed some new Errors in my IG QA. I have some profiles who have the same name as the resource they are constraining, e.g. a Patient profile based on Patient. All these profiles now have a <code> StructureDefinition/Patient: StructureDefinition.differential.element[0] error   Duplicate id value 'Patient' </code> (or eqivalent) error. I noticed the publisher seems to add a new element in each differential with id: ResourceName. Could this be the source of the error?</p>",
        "id": 192762316,
        "sender_full_name": "Noemi Deppenwiese",
        "timestamp": 1585895181
    },
    {
        "content": "<p>That's a check I just added in this version. It should not be giving that error - can I reproduce this?</p>",
        "id": 192762664,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585895578
    },
    {
        "content": "<p>Here is my IG input: <a href=\"https://github.com/samply/bbmri-fhir-ig/tree/feature/fullBuild\" title=\"https://github.com/samply/bbmri-fhir-ig/tree/feature/fullBuild\">https://github.com/samply/bbmri-fhir-ig/tree/feature/fullBuild</a></p>",
        "id": 192762810,
        "sender_full_name": "Noemi Deppenwiese",
        "timestamp": 1585895745
    },
    {
        "content": "<p>see <a href=\"#narrow/stream/179177-conformance/topic/Element.20ID\" title=\"#narrow/stream/179177-conformance/topic/Element.20ID\">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/Element.20ID</a></p>",
        "id": 192765106,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585897907
    },
    {
        "content": "<p>I am getting the same Duplicate id value error.  <a href=\"https://github.com/HL7/FHIR-pq-cmc\" title=\"https://github.com/HL7/FHIR-pq-cmc\">https://github.com/HL7/FHIR-pq-cmc</a>.  I thought it was because of code list because all of them were on codes.</p>",
        "id": 192807569,
        "sender_full_name": "Catherine Hosage Norman",
        "timestamp": 1585922425
    },
    {
        "content": "<p>well, it'll be because of the ids one way or another. Do you have duplicate ids?</p>",
        "id": 192851224,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585941086
    },
    {
        "content": "<p>I'm experiencing the same error with 'my' logical models, where I'm using as as id of the model the type of the model. <br>\nI can easily fix this error renaming the id, but I don't understand why I should do this and in this case the rendering of the model is \"less attractive\"...</p>",
        "id": 192902580,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1585998586
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/38R5ffvYF_sc-EoHeSqbKHXO/image.png\" title=\"image.png\">image.png</a> <br>\ninstead of<br>\n<a href=\"/user_uploads/10155/-3lValwTavHbZPtDKlUn28O1/image.png\" title=\"image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/38R5ffvYF_sc-EoHeSqbKHXO/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/38R5ffvYF_sc-EoHeSqbKHXO/image.png\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/10155/-3lValwTavHbZPtDKlUn28O1/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/-3lValwTavHbZPtDKlUn28O1/image.png\"></a></div>",
        "id": 192902745,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1585998785
    },
    {
        "content": "<p>[Q] is this issue related to <a href=\"#narrow/stream/179177-conformance/topic/Element.20ID\" title=\"#narrow/stream/179177-conformance/topic/Element.20ID\">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/Element.20ID</a> or are two separate topics ?</p>",
        "id": 192902820,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1585998878
    },
    {
        "content": "<p>I can't see any link. The id shouldn't make any difference here</p>",
        "id": 192904167,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586001216
    },
    {
        "content": "<p>with this </p>\n<div class=\"codehilite\"><pre><span></span>&lt;StructureDefinition xmlns=&quot;http://hl7.org/fhir&quot;&gt;\n    &lt;id value=&quot;AziendaSanitaria&quot;/&gt;\n    &lt;url value=&quot;http://hl7.it/fhir/StructureDefinition/AziendaSanitaria&quot;/&gt;\n......\n        &lt;name value=&quot;AziendaSanitaria&quot;/&gt;\n......\n        &lt;kind value=&quot;logical&quot;/&gt;\n    &lt;abstract value=&quot;true&quot;/&gt;\n    &lt;type value=&quot;AziendaSanitaria&quot;/&gt;\n......\n      &lt;differential&gt;\n        &lt;element id=&quot;AziendaSanitaria&quot;&gt;\n            &lt;path value=&quot;AziendaSanitaria&quot;/&gt;\n</pre></div>\n\n\n<p>I have this error <br>\nStructureDefinition.differential.element[0] error   Duplicate id value 'AziendaSanitaria'</p>",
        "id": 192905107,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1586002739
    },
    {
        "content": "<p>if I make this change </p>\n<div class=\"codehilite\"><pre><span></span>&lt;StructureDefinition xmlns=&quot;http://hl7.org/fhir&quot;&gt;\n    &lt;id value=&quot;AziendaSanitaria-lm&quot;/&gt;\n    &lt;url value=&quot;http://hl7.it/fhir/StructureDefinition/AziendaSanitaria-lm&quot;/&gt;\n</pre></div>\n\n\n<p>the error disappear.</p>",
        "id": 192905185,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1586002873
    },
    {
        "content": "<p>but it is not clear to me why I should do that...</p>",
        "id": 192905244,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1586002958
    },
    {
        "content": "<p>the id question is the one discussed on your conformance link, about the scope of uniqueness. I don't see what it has to do with the presentation</p>",
        "id": 192924634,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586030684
    },
    {
        "content": "<p>me either ... just reporting what I'm seeing :-)</p>\n<p>if I use the same string for the id and the type (i.e the name of the model) in the column type is displayed the model name (in the example \"AziendaSanitaria\"); <br>\nif I change the id (in the example change to \"AziendaSanitaria-lm\") - I've no more errors - but in the type column is shown the full URL (<a href=\"http://hl7.it/fhir/StaructureDefinition/AziendaSanitaria-lm\" title=\"http://hl7.it/fhir/StaructureDefinition/AziendaSanitaria-lm\">http://hl7.it/fhir/StaructureDefinition/AziendaSanitaria-lm</a>).</p>\n<p>Any suggestion ?</p>",
        "id": 192956702,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1586088963
    },
    {
        "content": "<p>well, based on the discussion in the conformance stream, I'll be removing that check in the validator</p>",
        "id": 192956734,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586089018
    },
    {
        "content": "<p>Removing the check completely, or allowing overlap between <a href=\"http://resource.id\" title=\"http://resource.id\">resource.id</a> and snapshot and differential ids?  I think that, in general, the rule should stand...  Certainly within a canonical or differential ids must be unique</p>",
        "id": 192963026,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1586098340
    },
    {
        "content": "<p>the overlap bit</p>",
        "id": 192976801,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1586118729
    }
]