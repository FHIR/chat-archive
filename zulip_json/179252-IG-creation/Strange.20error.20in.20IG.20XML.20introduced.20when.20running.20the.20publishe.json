[
    {
        "content": "<p>Hello</p>\n<p>With the latest publisher, I am getting a strange error within the implementation guide resource.<br>\nError Log: <a href=\"http://build.fhir.org/ig/HL7/FHIR-ONC-Meds/branches/master/qa.html\">http://build.fhir.org/ig/HL7/FHIR-ONC-Meds/branches/master/qa.html</a><br>\nProject Link: <a href=\"https://github.com/HL7/FHIR-ONC-Meds/\">https://github.com/HL7/FHIR-ONC-Meds/</a><br>\nAll files are checked in.</p>\n<p>Here is the text of the error. The references are not there in the ig-new.xml file, however when i run publisher these things get added to the ig-new.xml file and then the errors are reported.</p>\n<p>ERROR REPORTED:<br>\nImplementationGuide/hl7.fhir.us.meds: ImplementationGuide.extension[0] error The extension <a href=\"http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource\">http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource</a> is unknown, and not allowed here</p>\n<p>EXTENSION ADDED To ig-new.xml when i run publisher:<br>\n&lt;ImplementationGuide xmlns=\"<a href=\"http://hl7.org/fhir\">http://hl7.org/fhir</a>\"&gt;<br>\n&lt;id value=\"ig\"/&gt;<br>\n&lt;extension url=\"<a href=\"http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource\">http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource</a>\"&gt;<br>\n&lt;valueString value=\"/Users/nbashyam/git/FHIR-ONC-Meds/source/resources\"/&gt;<br>\n&lt;/extension&gt;<br>\n&lt;extension url=\"<a href=\"http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource\">http://hl7.org/fhir/StructureDefinition/igpublisher-folder-resource</a>\"&gt;<br>\n&lt;valueString value=\"/Users/nbashyam/git/FHIR-ONC-Meds/source/examples\"/&gt;<br>\n&lt;/extension&gt;<br>\n&lt;extension url=\"<a href=\"http://hl7.org/fhir/StructureDefinition/igpublisher-folder-pages\">http://hl7.org/fhir/StructureDefinition/igpublisher-folder-pages</a>\"&gt;<br>\n&lt;valueString value=\"/Users/nbashyam/git/FHIR-ONC-Meds/framework\"/&gt;<br>\n&lt;/extension&gt;<br>\n&lt;extension url=\"<a href=\"http://hl7.org/fhir/StructureDefinition/igpublisher-folder-pages\">http://hl7.org/fhir/StructureDefinition/igpublisher-folder-pages</a>\"&gt;<br>\n&lt;valueString value=\"/Users/nbashyam/git/FHIR-ONC-Meds/source/pages\"/&gt;<br>\n&lt;/extension&gt;</p>\n<p>Looking to solve the mystery..</p>",
        "id": 205269836,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1595959518
    },
    {
        "content": "<p>There has been signficant change in the way the  IG build gets instructions. almost all of ig.ini is now in the IG xml; as is many other things. See <a href=\"https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters\">https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters</a></p>",
        "id": 205270109,
        "sender_full_name": "John Moehrke",
        "timestamp": 1595959667
    },
    {
        "content": "<p>well, you have a very strange set up. ig-new.xml is produced to help you migrate to the new ig setup, instead of using the template. And it looks like you have kind of done that, but not properly. The code is still finding and running based on ig.json, so still producing ig-new.xml. In which case, ig-new.xml should not be loaded into the IG - it should be ignored. </p>\n<p>I'm not sure what to do to fix because I'm not sure what you're trying to do here</p>",
        "id": 205291111,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1595970543
    },
    {
        "content": "<p>@dragon  I just cloned the repro and ran it and here is your problem in the ig.json file:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span>\n  <span class=\"nt\">&quot;source&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;ig-new.xml&quot;</span><span class=\"p\">,</span>  <span class=\"err\">&lt;----</span> <span class=\"err\">replace</span> <span class=\"err\">this</span> <span class=\"err\">with</span> <span class=\"err\">ig.xml</span>\n  <span class=\"nt\">&quot;sct-edition&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://snomed.info/sct/731000124108&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;license&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;CC0-1.0&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;publisher&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;HL7 International - Pharmacy Work Group&quot;</span><span class=\"p\">,</span>\n  <span class=\"nt\">&quot;gen-examples&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;false&quot;</span><span class=\"p\">,</span>\n<span class=\"err\">...</span>\n</code></pre></div>",
        "id": 205294868,
        "sender_full_name": "Eric Haas",
        "timestamp": 1595972968
    },
    {
        "content": "<p>Thanks Grahame and Eric , Fixed it per the suggestion and it is working.</p>",
        "id": 205301814,
        "sender_full_name": "Nagesh Bashyam",
        "timestamp": 1595977967
    }
]