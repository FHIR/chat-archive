[
    {
        "content": "<p>I assume that the IG Publisher uses the java validator internally right?<br>\nThe below resource is in my IG and it fails the validation:<br>\n<code>https://sqlonfhir-r4.azurewebsites.net/fhir/Questionnaire/gp-assessment-report</code><br>\n(however it does pass the .net validator - which I believe to be correct in this instance)<br>\nThe errors (2) reported are:</p>\n<div class=\"codehilite\"><pre><span></span>entry.request mandatory for batch/transaction/history, otherwise prohibited [entry.all(request.exists() = ((%resource.type = &#39;batch&#39;) or (%resource.type = &#39;transaction&#39;) or (%resource.type = &#39;history&#39;)))]\nentry.response mandatory for batch-response/transaction-response/history, otherwise prohibited [entry.all(response.exists() = ((%resource.type = &#39;batch-response&#39;) or (%resource.type = &#39;transaction-response&#39;) or (%resource.type = &#39;history&#39;)))]\n</pre></div>\n\n\n<p>Its complaining about my contained bundle which is a batch request</p>\n<div class=\"codehilite\"><pre><span></span>&lt;contained&gt;\n    &lt;Bundle&gt;\n        &lt;id value=&quot;PrePopQuery&quot;/&gt;\n        &lt;type value=&quot;batch&quot;/&gt;\n        &lt;entry&gt;\n            &lt;fullUrl value=&quot;urn:uuid:88f151c0-a954-468a-88bd-5ae15c08e059&quot;/&gt;\n            &lt;request&gt;\n                &lt;method value=&quot;GET&quot;/&gt;\n                &lt;url value=&quot;RelatedPerson?patient={{%LaunchPatient.id}}&amp;amp;active=true&quot;/&gt;\n            &lt;/request&gt;\n        &lt;/entry&gt;\n    &lt;/Bundle&gt;\n&lt;/contained&gt;\n</pre></div>",
        "id": 177488481,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1570419344
    },
    {
        "content": "<p>Why on earth would you use 'contained' for a Batch?  The Batch can clearly stand alone - seems to be a mis-use of 'contained'.</p>",
        "id": 177490005,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1570422476
    },
    {
        "content": "<p>ok. fixed next release. It was to do with resource/rootResource</p>",
        "id": 177507911,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1570445155
    }
]