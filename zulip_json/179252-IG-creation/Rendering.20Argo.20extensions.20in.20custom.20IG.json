[
    {
        "content": "<p>We have a DSTU2 IG with some profiles based on Argonaut profiles.  Our profile on ArgoPatient uses the argo-defined extensions, but when we use the publisher, it renders the extensions in a strange way.  For example:<br>\n<a href=\"/user_uploads/10155/TmRrCe35VRauk4fpNplBeXlD/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/TmRrCe35VRauk4fpNplBeXlD/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/TmRrCe35VRauk4fpNplBeXlD/pasted_image.png\"></a></div><p>Here is the snapshot element for it:<br>\n<a href=\"/user_uploads/10155/j23w-PsWixE9EnAMktwbBilG/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/j23w-PsWixE9EnAMktwbBilG/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/j23w-PsWixE9EnAMktwbBilG/pasted_image.png\"></a></div><p>Is this a known issue?  Do I potentially have something wrong in my config or something?</p>",
        "id": 162247082,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554131108
    },
    {
        "content": "<p>The argonaut extensions are defined in the IG and have the right canonical URL in their defining structure definitions and in the ImplementationGuide (and in the referencing structure definition)</p>",
        "id": 162247479,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1554131324
    },
    {
        "content": "<p>Thanks, <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> -- I'm using the right canonical URL but I just realized that a while back I had commented out the dependency on the Argonaut IG in my <code>ig.json</code> file.  I suspect maybe that's it.  That said, I think I commented it out because it wasn't working.  I guess we'll see!</p>",
        "id": 162248668,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554132062
    },
    {
        "content": "<p>Now I see why I commented it out.  The IG Publisher tries to find a <code>package-list.json</code>, but there is none for Argonaut.  I already reported this a while back, but as best I can tell, no progress has been made:<br>\n<a href=\"#narrow/stream/179252-IG-creation/topic/IG.20Dependency.20on.20Argonaut\" title=\"#narrow/stream/179252-IG-creation/topic/IG.20Dependency.20on.20Argonaut\">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/IG.20Dependency.20on.20Argonaut</a></p>",
        "id": 162249391,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554132495
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191410\">@Brett Marquard</span> or <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> -- is there a <code>package-list.json</code> for Argonaut somewhere?</p>",
        "id": 162249428,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554132533
    },
    {
        "content": "<p>not yet</p>",
        "id": 162252081,
        "sender_full_name": "Eric Haas",
        "timestamp": 1554134242
    },
    {
        "content": "<p>it's on my task list for tomorrow</p>",
        "id": 162364077,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1554231609
    },
    {
        "content": "<p>as part of publishing argonaut IGs</p>",
        "id": 162364092,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1554231622
    },
    {
        "content": "<p>I've noticed that the Argonaut IG also violates several DSTU2 constraints, most notably when it specifies<code>id</code>s that use <code>:</code>, <code>[</code>, and <code>]</code> characters (as is now the recommended practice in R3/R4).  In DSTU2, the <code>id</code> cannot be &gt; 64 characters and it only supports <code>A-Z</code>, <code>a-z</code>, <code>0-9</code>, <code>-</code>, and <code>.</code>.  The IG publisher spits out tons of errors if you try to use <code>:</code>/<code>[</code>/<code>]</code> in a DSTU2 IG.  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> --  I'm wondering if you're doing anything to address that when re-publishing the Argonaut IGs?  I'm still trying to figure out the best approach to handling it myself -- as I find those characters very useful in ids.</p>",
        "id": 162366288,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554233310
    },
    {
        "content": "<p>you know that in later versions, id has a fixed value?</p>",
        "id": 162366505,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1554233487
    },
    {
        "content": "<p>otherwise I'll add it to my list</p>",
        "id": 162366512,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1554233498
    },
    {
        "content": "<p>By \"fixed value\", do you mean the specific algorithm regarding how the id is formulated? (e.g., how slices and choices get encoded into the path to create the id)</p>",
        "id": 162366982,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554233861
    },
    {
        "content": "<p>I actually want to follow that in DSTU2 as well, but that darned definition of <code>id</code> won't allow it!</p>",
        "id": 162367067,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554233916
    },
    {
        "content": "<p>yes and yes</p>",
        "id": 162367121,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1554233988
    },
    {
        "content": "<p>But for better or worse, I just discovered a work-around that may or may not be intentional.  If I set the <code>name</code> to the value I really want for the id, then the publisher actually overwrites the <code>id</code> with the value of <code>name</code> -- and doesn't complain when that violates the spec!</p>",
        "id": 162367398,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554234193
    },
    {
        "content": "<p>well at least the second outcome is not intended</p>",
        "id": 162367488,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1554234243
    },
    {
        "content": "<p>OK.  Then I guess I shouldn't leverage that little quirk of the publisher.  Oh well...</p>",
        "id": 162367554,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554234287
    },
    {
        "content": "<p>do you really need to work in R2 ?</p>",
        "id": 162367616,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1554234352
    },
    {
        "content": "<p>Since <code>name</code> is dual-purpose in DSTU2 and also used for the slicename, however -- that little feature (copying <code>name</code> to <code>id</code>) makes it hard for me to implement any consistent pattern in my <code>id</code>.</p>",
        "id": 162367672,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554234369
    },
    {
        "content": "<p>The <code>mCODE</code> initiative is DSTU2.</p>",
        "id": 162367687,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554234390
    },
    {
        "content": "<p>oh? ok. I didn't realise mCode was R2. Why?</p>",
        "id": 162367711,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1554234412
    },
    {
        "content": "<p>Because that's where the vendors were when the decision was made -- with no published release dates for updates -- and a goal of _mCODE_ is to work today rather than tomorrow.  It's hard to pilot R3 or R4 profiles on systems that only support Argonaut.</p>",
        "id": 162367897,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554234553
    },
    {
        "content": "<p>At least that's my understanding of it.  Essentially the same reason I'm guessing for why that new ONC-proposed rule specifies DSTU2.</p>",
        "id": 162368063,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554234636
    },
    {
        "content": "<p>(Although I understand that there is some pushback on that)</p>",
        "id": 162368121,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554234678
    },
    {
        "content": "<p>yes pushback on the rule for the future.</p>",
        "id": 162368141,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1554234710
    },
    {
        "content": "<p>I guess I can't fault that logic</p>",
        "id": 162368146,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1554234718
    },
    {
        "content": "<p>Trust me, I'd much rather be working with R4. ;-)</p>",
        "id": 162368222,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1554234763
    }
]