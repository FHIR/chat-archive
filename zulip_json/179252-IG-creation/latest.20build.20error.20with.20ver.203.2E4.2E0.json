[
    {
        "content": "<p>getting this message with latest build when \"version\": \"3.4.0\"     what am I missing?  ( \"version\": \"3.0.1\" is fine )</p>\n<div class=\"codehilite\"><pre><span></span>=== run most recent version of the igpublisher ===\n=================================================================\nFHIR Implementation Guide Publisher (v3.4.0-13789, gen-code v3.4.0-13757) @ Wednesday, May 23, 2018 9:49:42 AM\nDetected Java version: 1.8.0_65 from /Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home/jre on x86_64 (64bit). 1820MB available\nPackage Cache: /Users/ehaas/.fhir/packages\nLoad Configuration from /Users/ehaas/Documents/FHIR/VhDir/ig.json                (00.0028sec)\nRoot directory: /Users/ehaas/Documents/FHIR/VhDir                                (00.0258sec)\nTerminology Cache is at /Users/ehaas/Documents/FHIR/VhDir/txCache. 84 files in cache (00.0290sec)\nContacting Build Server...                                                       (00.0291sec)\n ... done                                                                        (01.0845sec)\nFetch hl7.fhir.core-3.4.0 package from http:/build.fhir.org/package.tgz          (01.0846sec)\nPublishing Content Failed: protocol = http host = null                           (01.0848sec)\n                                                                                 (01.0848sec)\nUse -? to get command line help                                                  (01.0848sec)\n                                                                                 (01.0848sec)\nStack Dump (for debugging):                                                      (01.0849sec)\njava.lang.IllegalArgumentException: protocol = http host = null\n    at sun.net.spi.DefaultProxySelector.select(DefaultProxySelector.java:176)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1099)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\n    at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:933)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1513)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\n    at org.hl7.fhir.igtools.publisher.Publisher.fetchFromSource(Publisher.java:1265)\n    at org.hl7.fhir.igtools.publisher.Publisher.loadCorePackage(Publisher.java:1243)\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:969)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:457)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4487)\nException in thread &quot;main&quot; java.lang.NullPointerException\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4497)\nErics-Air-2:VhDir ehaas$\n</pre></div>",
        "id": 153964357,
        "sender_full_name": "Eric Haas",
        "timestamp": 1527094447
    },
    {
        "content": "<p>Eric, I don't know what's going on here. I've tried to think it through, and I can't. it works for me, and I can't follow the logic in the logs. Can you download the latest FHIR Toolkit from <a href=\"http://www.healthintersections.com.au/FhirServer\" target=\"_blank\" title=\"http://www.healthintersections.com.au/FhirServer\">http://www.healthintersections.com.au/FhirServer</a> , and install + run it, and then open the package manager, and send me the debug report?</p>",
        "id": 153964403,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527099500
    },
    {
        "content": "<p>OK - does the FHIR Toolkit work on Mac ios? and fyi the  .fhir directory looks like this on my system:</p>\n<p>.<br>\n└── packages<br>\n    ├── healthedatainc.ig-test3-dev<br>\n    ├── healthedatainc.test3-dev<br>\n    ├── hl7.fhir.core-3.0.1<br>\n    ├── hl7.fhir.us.core-1.0.1<br>\n    ├── hl7.fhir.us.core-1.1.0<br>\n    ├── hl7.fhir.us.core-current<br>\n    └── packages.ini</p>",
        "id": 153964413,
        "sender_full_name": "Eric Haas",
        "timestamp": 1527100776
    },
    {
        "content": "<p>nah the toolkit doesn't yet work on OSX. I am having a big battle with the osx, windows, vmware fusion etc to get everything to actually work</p>",
        "id": 153964414,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527100852
    },
    {
        "content": "<p>you do have a use core current? (which you should) so I just don't understand the logs...</p>",
        "id": 153964415,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527100899
    },
    {
        "content": "<p>does it work for you on OSX as well?</p>",
        "id": 153964417,
        "sender_full_name": "Eric Haas",
        "timestamp": 1527101089
    },
    {
        "content": "<p>should I manually load the packages into the  .fhir directory?</p>",
        "id": 153964418,
        "sender_full_name": "Eric Haas",
        "timestamp": 1527101120
    },
    {
        "content": "<p>since it does not have hl7.fhir.core.3.4.0...</p>",
        "id": 153964419,
        "sender_full_name": "Eric Haas",
        "timestamp": 1527101173
    },
    {
        "content": "<p>it should all be automatic.</p>",
        "id": 153964420,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527101235
    },
    {
        "content": "<p>hang on - you're next on the list after fixing the main build</p>",
        "id": 153964421,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527101249
    },
    {
        "content": "<p>having same issue here</p>",
        "id": 153964424,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527101896
    },
    {
        "content": "<p>i have the toolkit open so if there is anything i could try and do...</p>",
        "id": 153964425,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527101933
    },
    {
        "content": "<p>[java] Load hl7.fhir.core-3.4.0 package from C:\\Users\\Jose\\.fhir\\packages\\hl7.fhir.core-3.4.0 (01.0420sec)<br>\n[java] Publishing Content Failed: org.hl7.fhir.r4.model.CodeSystem cannot be cast to org.hl7.fhir.r4.model.Bundle</p>",
        "id": 153964443,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527105109
    },
    {
        "content": "<p>i get this now</p>",
        "id": 153964444,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527105115
    },
    {
        "content": "<p>I have no idea but a stack might help</p>",
        "id": 153964538,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527141019
    },
    {
        "content": "<p>[java] java.lang.ClassCastException: org.hl7.fhir.r4.model.CodeSystem cannot be cast to org.hl7.fhir.r4.model.Bundle<br>\n     [java]     at org.hl7.fhir.r4.context.SimpleWorkerContext.loadFromFileJson(SimpleWorkerContext.java:254)<br>\n     [java]     at org.hl7.fhir.r4.context.SimpleWorkerContext.loadDefinitionItem(SimpleWorkerContext.java:199)<br>\n     [java]     at org.hl7.fhir.r4.context.SimpleWorkerContext.loadFromPackage(SimpleWorkerContext.java:274)<br>\n     [java]     at org.hl7.fhir.r4.context.SimpleWorkerContext.fromPackage(SimpleWorkerContext.java:150)<br>\n     [java]     at org.hl7.fhir.igtools.publisher.SpecificationPackage.fromPackage(SpecificationPackage.java:51)<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.loadPack(Publisher.java:1278)<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.loadCorePackage(Publisher.java:1250)<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:969)<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:457)<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4487)<br>\n     [java] Exception in thread \"main\" java.lang.NullPointerException<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4497)</p>",
        "id": 153964539,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527141044
    },
    {
        "content": "<p>I don't know. I can't recreate this - what's you ig.json file say?</p>",
        "id": 153964543,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527142761
    },
    {
        "content": "<p>hah no just figured out how to get there</p>",
        "id": 153964547,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527144314
    },
    {
        "content": "<p>I'll commit a fix in a few hours. <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> - fixing the IG publisher is waiting on Josh to investigate why <a href=\"http://build.fhir.org\" target=\"_blank\" title=\"http://build.fhir.org\">build.fhir.org</a> isn't publishing the package files</p>",
        "id": 153964588,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527166634
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  It works now. thanks</p>",
        "id": 153964651,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527186880
    },
    {
        "content": "<p>i just noted an exception, not sure what to make of it, but for the time being i am just interested in local build, not publication:<br>\n     [java] Installing null-dev to the package cache<br>\n     [java]   Fetching:|Publishing Content Failed: null                                                  (00:01:08.0317sec)<br>\n     [java]                                                                                  (00:01:08.0317sec)<br>\n     [java] Use -? to get command line help                                                  (00:01:08.0317sec)<br>\n     [java]                                                                                  (00:01:08.0317sec)<br>\n     [java] Stack Dump (for debugging):                                                      (00:01:08.0317sec)<br>\n     [java] java.lang.NullPointerException<br>\n     [java]     at org.hl7.fhir.utilities.cache.PackageCacheManager.addPackageToCache(PackageCacheManager.java:269)<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:2580)<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:509)<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:460)<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4493)<br>\n     [java] Exception in thread \"main\" java.lang.NullPointerException<br>\n     [java]     at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:4503)<br>\n     [java] Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8</p>",
        "id": 153964652,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527186963
    },
    {
        "content": "<p>but i have all i need to continue working.</p>",
        "id": 153964654,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527187008
    },
    {
        "content": "<p>looks like you need to define an npm-name property in your ig.json file</p>",
        "id": 153964656,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527187065
    },
    {
        "content": "<p>ah packaging. possibly. i will check that.</p>",
        "id": 153964657,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527187089
    },
    {
        "content": "<p>yep, works. Thanks</p>",
        "id": 153964663,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527187572
    },
    {
        "content": "<p>I thought you'd get an error earlier in the process...</p>",
        "id": 153964664,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527187598
    },
    {
        "content": "<p>had a few. I just looked at build successful</p>",
        "id": 153964668,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527187662
    },
    {
        "content": "<p>[java] java.lang.Exception: A license is required in the configuration file, and it must be a SPDX license identifier (see <a href=\"https://spdx.org/licenses/\" target=\"_blank\" title=\"https://spdx.org/licenses/\">https://spdx.org/licenses/</a>), or \"not-open-source\"</p>",
        "id": 153964669,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527187753
    },
    {
        "content": "<p>I have one of these for each of my conformance resources</p>",
        "id": 153964670,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527187762
    },
    {
        "content": "<p>i am using Lloyd's SDC2 framework with ant. I will see what happens in GUI mode</p>",
        "id": 153964671,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527187806
    },
    {
        "content": "<p>you need it in the json file (for now)</p>",
        "id": 153964672,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1527187868
    },
    {
        "content": "<p>yep. I updated the xslt that generates the ig.json and it works well. thanks</p>",
        "id": 153964674,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527189131
    },
    {
        "content": "<p>just noted one thing: when in GUI mode, the gui locks the generated files. As a consequence, the files cannot be deleted while the IG Publisher is running.</p>",
        "id": 153964696,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527193617
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> this may be because i have some errors still in the rendernig. Anyway is not critical since i only have to restart the ig publisher, but thought you might want to know.</p>",
        "id": 153964697,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1527193667
    }
]