[
    {
        "content": "<p>The IG Publisher QA page lists a lot of these:</p>\n<p><code>URL Mismatch http://nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.8.2.5--20171231000000 vs http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.8.2.5--20171231000000</code></p>\n<p>This stems from the fact that my package contains contents from at least 3 sources:</p>\n<ul>\n<li>The profiles come from Nictiz and HL7 NL who have transferred the maintenance to us</li>\n<li>The value sets are defined in ART-DECOR and receive a canonical related to it</li>\n</ul>\n<p>This does not constitute an error for us. I see at least 2 ways out of this:</p>\n<ul>\n<li>Add the error to the ignore list (not sure how but I think I saw that is an option)</li>\n<li>Allow an ig to specify which URL patterns it wants to recognize, so errors only occur on those that are not in that set which makes for better consistency checking than merely ignoring them.</li>\n</ul>\n<p>Anyone else dealt with that?</p>",
        "id": 188273955,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1581752666
    },
    {
        "content": "<p>so most authors get the URL wrong accidently. And we discourage it because the consequence of the URL being wrong is that the the canonical URL won't resolve (or, at least, it won't resolve automatically)</p>",
        "id": 188346493,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581901548
    },
    {
        "content": "<p>so the consequences is the the IG publisher nags you to get them right. If you really have a good reason to use a different URL, then you can enter it as a special exemption using the special-url parameter in the ig (see <a href=\"https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters\" target=\"_blank\" title=\"https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters\">https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters</a>)</p>",
        "id": 188346551,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581901654
    },
    {
        "content": "<p>There's no support for doing that by pattern.</p>",
        "id": 188346553,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581901667
    },
    {
        "content": "<p>But do you really want to do this? In principle, it's cleaner to have different IGs and update them directly, rather than publishing the content elsewhere</p>",
        "id": 188346592,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581901697
    },
    {
        "content": "<p>I understand it is cleaner, but in our situation there is no reasonable way to so. ValueSets have different origins than the profiles using them. Having a single guide for just ValueSets seems excessive.</p>\n<p>Same for the HL7 NL stuff. These have been created with the URL they have, which does not change because we at Nictiz assumed maintenance. Having just these in a specific IG and then have the logical rest reside in a different guide is not going to help our implementers.</p>\n<p>Our logical unit of work is \"conformance resources associated with a zib/HCIM release\". The canonicals they have due to history is not a relevant determining factor for us. That being said: we have a new chance to bring more harmony into the set when we move to R4 or higher.</p>",
        "id": 188396212,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1581961673
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  Maybe I'm doing this wrong, maybe not. I'm running the command:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nv\">specialurl1</span><span class=\"o\">=</span>http://decor.nictiz.nl/fhir/\n<span class=\"nv\">specialurl2</span><span class=\"o\">=</span>http://fhir.nl/fhir/\n\nJAVA -Xmx10G -jar <span class=\"nv\">$publisher</span> -ig ig.ini -special-url <span class=\"s2\">&quot;</span><span class=\"nv\">$specialurl1</span><span class=\"s2\">&quot;</span> -special-url <span class=\"s2\">&quot;</span><span class=\"nv\">$specialurl2</span><span class=\"s2\">&quot;</span> <span class=\"nv\">$txoption</span> <span class=\"nv\">$*</span>\n</pre></div>\n\n\n<p>Output says:</p>\n<div class=\"codehilite\"><pre><span></span>Parameters: -ig ig.ini -special-url http://decor.nictiz.nl/fhir/ -special-url http://fhir.nl/fhir/ -tx n/a\n</pre></div>\n\n\n<p>Nonetheless I still get:</p>\n<p><code>URL Mismatch http://nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.20.77.11.9--20160407000000 vs http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.20.77.11.9--20160407000000</code></p>\n<p>Do I have a syntax issue?</p>",
        "id": 188397372,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1581962754
    },
    {
        "content": "<p>yes. it's a parameter in the ImplementationGuide resource, not on the command line</p>",
        "id": 188398289,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581963792
    },
    {
        "content": "<p>Ah... I added to the IG:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;parameter&gt;</span>\n    <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;special-url&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;value</span> <span class=\"na\">value=</span><span class=\"s\">&quot;http://decor.nictiz.nl/fhir/&quot;</span><span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/parameter&gt;</span>\n<span class=\"nt\">&lt;parameter&gt;</span>\n    <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;special-url&quot;</span><span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;value</span> <span class=\"na\">value=</span><span class=\"s\">&quot;http://fhir.nl/fhir/&quot;</span><span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/parameter&gt;</span>\n</pre></div>\n\n\n<p>But the errors stay present</p>",
        "id": 188400059,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1581965726
    },
    {
        "content": "<p>right. you need to add each url</p>",
        "id": 188412758,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1581981711
    },
    {
        "content": "<p>What do you mean? It was my expectation that by adding these two parameters, the errors would go away but they donâ€™t.</p>",
        "id": 188422960,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1582000044
    },
    {
        "content": "<p>you have to add each URL</p>",
        "id": 188426887,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582007631
    },
    {
        "content": "<p>Sure, but based on the parameters above you would at least not expect these, would you?</p>\n<div class=\"codehilite\"><pre><span></span>URL Mismatch http://nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.20.77.11.9--20160407000000 vs http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.20.77.11.9--20160407000000\nURL Mismatch http://nictiz.nl/fhir/StructureDefinition/nl-core-address vs http://fhir.nl/fhir/StructureDefinition/nl-core-address\n</pre></div>",
        "id": 188445251,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1582027986
    },
    {
        "content": "<p>sure I would. You need to put the specific URL in:</p>\n<div class=\"codehilite\"><pre><span></span>        <span class=\"nt\">&lt;parameter&gt;</span>\n          <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">&quot;special-url&quot;</span><span class=\"nt\">/&gt;</span>\n          <span class=\"nt\">&lt;value</span> <span class=\"na\">value=</span><span class=\"s\">&quot;http://nictiz.nl/fhir/StructureDefinition/zib-FamilySituation-LivingAtHomeIndicator&quot;</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/parameter&gt;</span>\n</pre></div>",
        "id": 188485595,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582055940
    },
    {
        "content": "<p>O... dear... I'll script that part like I did for the rest. Thanks, I did not anticipate that from the documentation</p>",
        "id": 188525457,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1582102173
    },
    {
        "content": "<p>Updated IG scripting... works now. Thanks</p>",
        "id": 188528032,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1582104393
    },
    {
        "content": "<p>do you want to clarify the documentation then?</p>",
        "id": 188534515,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1582110237
    },
    {
        "content": "<p>Just did. I added to special-url <em>...Each canonical url must be listed in full as present on the resource; it is not possible to specify a pattern.</em></p>\n<p>Maybe it is overstating the obvious, but it helps at least me.</p>",
        "id": 188537462,
        "sender_full_name": "Alexander Henket",
        "timestamp": 1582113288
    }
]