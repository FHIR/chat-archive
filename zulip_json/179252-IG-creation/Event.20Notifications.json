[
    {
        "content": "<p>The easiest way to describe this is we are going through a transition from traditional messaging to events. <br>\nLong term I expect this will end up as FHIR Workflow but we a several months/years away from that. </p>\n<p>So currently in FHIR (mostly STU3) we have FHIR Messages which mimic HL7v2 behaviour. </p>\n<p>The current trend is pushing towards sending references around (either resource and/or identifier references).<br>\nWith a logical model starting to look similar to a HL7v2 EVN segment <a href=\"https://hl7-definition.caristix.com/v2/HL7v2.8/Segments/EVN\">https://hl7-definition.caristix.com/v2/HL7v2.8/Segments/EVN</a><br>\nplus a </p>\n<ul>\n<li>Patient identifier reference</li>\n<li>resource identifier/resource reference.</li>\n</ul>\n<p>It is not like the logical event model <a href=\"https://www.hl7.org/fhir/event.html\">https://www.hl7.org/fhir/event.html</a>, maybe some similarities to <a href=\"https://www.hl7.org/fhir/messageheader.html\">https://www.hl7.org/fhir/messageheader.html</a> or <a href=\"https://www.hl7.org/fhir/task.html\">https://www.hl7.org/fhir/task.html</a></p>",
        "id": 267283784,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1641630197
    },
    {
        "content": "<p>To model this I'm not sure which resource to use (the initial model is leaning towards OperationDefinition and Parameters).</p>\n<p>The rough plan is below :</p>\n<p><a href=\"/user_uploads/10155/j32_zK9iuVzXo-5extrLVgpI/Screenshot-2022-01-08-at-08.52.26.png\">Screenshot-2022-01-08-at-08.52.26.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/j32_zK9iuVzXo-5extrLVgpI/Screenshot-2022-01-08-at-08.52.26.png\" title=\"Screenshot-2022-01-08-at-08.52.26.png\"><img src=\"/user_uploads/10155/j32_zK9iuVzXo-5extrLVgpI/Screenshot-2022-01-08-at-08.52.26.png\"></a></div>",
        "id": 267284436,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1641631175
    },
    {
        "content": "<p>2 - the EVN resource plus an actual resource is sent to a FHIR Subscription service<br>\n3 - if a matching subscription is found. A FHIR Message is generated which contains the EVN resource (the actual resource is stripped for Information Governance reasons).</p>\n<p>If we used Task this would be easier 2 becomes POST /Task and the FHIR Message coming out just uses the Task resource.<br>\n(Maybe the answer is use Task now for the <em>notification/information</em> requirement but it seems a little wrong, as we have no <em>Action</em> requirement at present which seems to be reason for Task)</p>",
        "id": 267284775,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1641631677
    },
    {
        "content": "<p>Can you expand on \"we have no <em>Action</em> requirement at present\"?</p>",
        "id": 267377607,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1641762225
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"222054\">@Gino Canessa</span>  has been looking at sending all around these kinds of references for the two triggered events using R4B/R5 style Subscription (with SubscriptionStatus and Parameters in a notification bundle)</p>",
        "id": 267394838,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1641788918
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Have a large group who view HL7 as a way of transferring data (only) to central repositories. It's like a CSV or ETL process. <br>\nA common description I've heard is a referral or prescription is lobbed over the wall which comes from people aware the data transfer lacks business process and we should be focusing around the information events or action (workflow) request/response)</p>",
        "id": 267412351,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1641806356
    },
    {
        "content": "<p>Hi Kevin, as <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  mentioned, I think this type of workflow should work well with the updated subscriptions specs.  There are definitions in R4B (plus an IG) and in R5, but I'll use the R5 version here since everything is kept together in the spec (same functionality in R4B, just with accommodations for what couldn't be changed in a point release).</p>\n<p>An overview in the spec is <a href=\"http://build.fhir.org/subscriptions.html\">here</a>.  I have also created a lot of walkthrough videos and such (actually updating a set today for the connectathon =).</p>\n<p>That said, a quick TL;DR is:</p>\n<ul>\n<li>topic-based subscriptions (see <a href=\"http://build.fhir.org/subscriptiontopic.html\">SubscriptionTopic</a>)<ul>\n<li>includes FHIR-based definitions and the ability to use an externally defined 'event' via CodeableConcept</li>\n<li>includes 'shape' definitions, so that related resources can be described for inclusion</li>\n</ul>\n</li>\n<li>new bundle type (<a href=\"http://build.fhir.org/bundle.html#subscription-notification\">Subscription Notification</a>), with the intent to be able to tailor the bundle to notifications<ul>\n<li>includes a <a href=\"http://build.fhir.org/subscriptionstatus.html\">SubscriptionStatus</a> resource, with meta/status/etc. information for the notification</li>\n<li>allows for different 'levels' of payload (no contents, ids only, or full resources)</li>\n</ul>\n</li>\n<li>extended channel types, so additional protocols/formats/etc. can be used.</li>\n</ul>\n<p>I think those would be the parts that are relevant to the use you are describing.  I'd be happy to chat or provide additional info.</p>",
        "id": 267460279,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1641831280
    },
    {
        "content": "<p>Many thanks for that. Looks exactly like what we are after.</p>\n<p>Will come back with more detailed feedback.</p>",
        "id": 267538903,
        "sender_full_name": "Kevin Mayfield",
        "timestamp": 1641879810
    }
]