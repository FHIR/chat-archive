[
    {
        "content": "<p>For the example resources where identifier.type is populated, IG Publisher generates a \"Missing element 'code'\" error, even though type.coding.code is populated. For example, in the following Organization example, the error path is Organization/Org45: Organization.identifier[0].type.code</p>\n<p>{<br>\n  \"resourceType\": \"Organization\",<br>\n  \"id\": \"Org45\",<br>\n  \"identifier\": [{<br>\n      \"type\": {<br>\n        \"coding\": [{<br>\n          \"system\": \"<a href=\"http://terminology.hl7.org/CodeSystem/v2-0203\" target=\"_blank\" title=\"http://terminology.hl7.org/CodeSystem/v2-0203\">http://terminology.hl7.org/CodeSystem/v2-0203</a>\",<br>\n          \"code\": \"NPI\",<br>\n          \"display\": \"National provider identifier\"<br>\n        }]<br>\n      },<br>\n      \"system\": \"<a href=\"http://hl7.org/fhir/sid/us-npi\" target=\"_blank\" title=\"http://hl7.org/fhir/sid/us-npi\">http://hl7.org/fhir/sid/us-npi</a>\",<br>\n      \"value\": \"345678\"<br>\n    }<br>\n  ],<br>\n  \"active\": true,<br>\n  \"name\": \"Insurance XYZ\"<br>\n}</p>",
        "id": 183804138,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1576714483
    },
    {
        "content": "<p>can I reproduce this?</p>",
        "id": 183804177,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576714529
    },
    {
        "content": "<p>I think so. Do I need to send you any additional information to help reproduce this?</p>",
        "id": 183804292,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1576714629
    },
    {
        "content": "<p>well, I'm pushed for tiem. If you just give me an IG repo, it will only take me a few minutes to reproduce it. Else I could spend hours trying to find the right combination of conditions to reproduce it. Because it's not expected behavior but I've seen it once somewhere else</p>",
        "id": 183804362,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576714697
    },
    {
        "content": "<p>Gotcha. It's <a href=\"https://github.com/HL7/carin-bb\" target=\"_blank\" title=\"https://github.com/HL7/carin-bb\">CARIN BB</a>. I think using one of the two <a href=\"https://github.com/HL7/carin-bb/tree/master/source/resources/organization\" target=\"_blank\" title=\"https://github.com/HL7/carin-bb/tree/master/source/resources/organization\">Organization resources</a> would be the easiest to reproduce this error.</p>",
        "id": 183804622,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1576714992
    },
    {
        "content": "<p>so, reproduced and understood. There's a pattern error in all the Carin profiles- an element of type CodeableConcept has a fixedValue of type Coding applied to it</p>\n<p>So 2 changes:</p>\n<ul>\n<li>Improve the error message about missing element to say that it's missing in regard to a fixed value, and where the fixed value comes from </li>\n<li>make it an explicit error if the fixed value has an illegal type for the instance</li>\n</ul>",
        "id": 183811137,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576723372
    },
    {
        "content": "<p>release with those changes on the way now</p>",
        "id": 183811147,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576723386
    },
    {
        "content": "<p>Thank you <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>! I'm going to have a look at the Carin profiles. I'm wondering what would be your recommendation for fixing the pattern error.</p>",
        "id": 183812006,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1576724775
    },
    {
        "content": "<p>change it to CodeableConcept which is what it's supposed to be</p>",
        "id": 183812020,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576724815
    },
    {
        "content": "<p>Thank you! Yes, I've just opened the profile and can see this \"patternCoding\" now.</p>",
        "id": 183812445,
        "sender_full_name": "Igor Sirkovich",
        "timestamp": 1576725524
    }
]