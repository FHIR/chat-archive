[
    {
        "content": "<p>This is a brand new error that cropped up today.  </p>\n<p>I get the following error in this IG: <a href=\"http://build.fhir.org/ig/HL7/davinci-alerts/branches/master/index.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/davinci-alerts/branches/master/index.html\">http://build.fhir.org/ig/HL7/davinci-alerts/branches/master/index.html</a></p>\n<div class=\"codehilite\"><pre><span></span>Location/hl7east: Location.position.longitude   error   The value &#39;-72.519854&#39; is not a valid decimal\n</pre></div>\n\n\n<p>are  there some new requriements for  decimals  like these?</p>",
        "id": 171563746,
        "sender_full_name": "Eric Haas",
        "timestamp": 1563921713
    },
    {
        "content": "<p>I don't see this?</p>",
        "id": 171599757,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1563969881
    },
    {
        "content": "<p>not when building locally anyway. do you see it locally?</p>",
        "id": 171599795,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1563969927
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> this looks like some Java localization issue to me. Here's the code in question:</p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"kd\">public</span> <span class=\"kd\">static</span> <span class=\"kt\">boolean</span> <span class=\"nf\">isDecimal</span><span class=\"o\">(</span><span class=\"n\">String</span> <span class=\"n\">string</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n      <span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">isBlank</span><span class=\"o\">(</span><span class=\"n\">string</span><span class=\"o\">))</span> <span class=\"o\">{</span>\n        <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"o\">;</span>\n      <span class=\"o\">}</span>\n      <span class=\"kt\">boolean</span> <span class=\"n\">havePeriod</span> <span class=\"o\">=</span> <span class=\"kc\">false</span><span class=\"o\">;</span>\n      <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"kt\">char</span> <span class=\"n\">next</span> <span class=\"o\">:</span> <span class=\"n\">string</span><span class=\"o\">.</span><span class=\"na\">toCharArray</span><span class=\"o\">())</span> <span class=\"o\">{</span>\n        <span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">next</span> <span class=\"o\">==</span> <span class=\"sc\">&#39;.&#39;</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n          <span class=\"k\">if</span> <span class=\"o\">(</span><span class=\"n\">havePeriod</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"o\">;</span>\n          <span class=\"o\">}</span>\n          <span class=\"n\">havePeriod</span> <span class=\"o\">=</span> <span class=\"kc\">true</span><span class=\"o\">;</span>\n        <span class=\"o\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"o\">(!</span><span class=\"n\">Character</span><span class=\"o\">.</span><span class=\"na\">isDigit</span><span class=\"o\">(</span><span class=\"n\">next</span><span class=\"o\">))</span> <span class=\"o\">{</span>\n          <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"o\">;</span>\n        <span class=\"o\">}</span>\n      <span class=\"o\">}</span>\n      <span class=\"k\">return</span> <span class=\"kc\">true</span><span class=\"o\">;</span>\n    <span class=\"o\">}</span>\n</pre></div>",
        "id": 171600013,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1563970146
    },
    {
        "content": "<p>is there some localization issue there I can't see?</p>",
        "id": 171600025,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1563970177
    },
    {
        "content": "<p>That code seems to fail on \"-\" (the leading minus sign) based on my eyeball parser. I guess it expects decimals to be positive?</p>",
        "id": 171618354,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1563983850
    },
    {
        "content": "<p>Also in my local machine as well</p>",
        "id": 171633001,
        "sender_full_name": "Eric Haas",
        "timestamp": 1563994603
    },
    {
        "content": "<p>Only cropped up yesterday with a ig pub update</p>",
        "id": 171633041,
        "sender_full_name": "Eric Haas",
        "timestamp": 1563994638
    },
    {
        "content": "<p>Yeah, I'd agree with Rick. That code won't understand the <code>-</code> and will return false as a result.</p>",
        "id": 171638686,
        "sender_full_name": "James Agnew",
        "timestamp": 1563998845
    },
    {
        "content": "<p>duh. foolish on my part. But I didn't think in that direction since I didn't get the error. Not sure why not. I've fixed, will release shortly</p>",
        "id": 171645322,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1564004263
    }
]