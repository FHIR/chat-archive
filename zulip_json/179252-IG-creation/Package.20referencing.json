[
    {
        "content": "<p>Can I go back to this question - <br>\nBrett Esler: @Grahame Grieve I am attempting to build <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-pd\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-pd\">http://build.fhir.org/ig/hl7au/au-fhir-pd</a> which references au-fhir-base</p>\n<p>\"dependencyList\": [<br>\n    {<br>\n       \"name\" : \"aubase\",<br>\n       \"location\" : \"<a href=\"http://hl7.org.au/fhir\" target=\"_blank\" title=\"http://hl7.org.au/fhir\">http://hl7.org.au/fhir</a>\",<br>\n       \"version\" : \"current\"<br>\n    }<br>\n  ],<br>\nin my ig.json file<br>\npackage list is resolved at <a href=\"http://hl7.org.au/fhir/package-list.json\" target=\"_blank\" title=\"http://hl7.org.au/fhir/package-list.json\">http://hl7.org.au/fhir/package-list.json</a><br>\nbuild seems to work fine<br>\nwhen I look in the PD IG .e.g <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-pd/StructureDefinition-au-pd-practitionerrole.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-pd/StructureDefinition-au-pd-practitionerrole.html\">http://build.fhir.org/ig/hl7au/au-fhir-pd/StructureDefinition-au-pd-practitionerrole.html</a><br>\nthe extensions in AU base are not resolved - just getting the canonical url e.g. <a href=\"http://hl7.org.au/fhir/StructureDefinition/meta-source\" target=\"_blank\" title=\"http://hl7.org.au/fhir/StructureDefinition/meta-source\">http://hl7.org.au/fhir/StructureDefinition/meta-source</a> and <a href=\"http://hl7.org.au/fhir/StructureDefinition-au-assigningauthority.html\" target=\"_blank\" title=\"http://hl7.org.au/fhir/StructureDefinition-au-assigningauthority.html\">http://hl7.org.au/fhir/StructureDefinition-au-assigningauthority.html</a> <br>\nthese are available e.g. <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-meta-source.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-meta-source.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-meta-source.html</a> which is where I thought the PD IG output would point due to the dependency load above; and the package-list referencing <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base\">http://build.fhir.org/ig/hl7au/au-fhir-base</a> <br>\nIs this a problem or have I got something wrong?</p>\n<p>IG creation &gt; IG other package references Jul 07</p>\n<p>Grahame Grieve: your location looks wrong to me - why are you claiming the location of <a href=\"http://hl7.org.au/fhir\" target=\"_blank\" title=\"http://hl7.org.au/fhir\">http://hl7.org.au/fhir</a>?</p>\n<p>IG creation &gt; IG other package references Jul 18</p>\n<p>Brett Esler: location is where the package-list.json is <a href=\"http://hl7.org.au/fhir/package-list.json\" target=\"_blank\" title=\"http://hl7.org.au/fhir/package-list.json\">http://hl7.org.au/fhir/package-list.json</a> - CI build entry is<br>\n{<br>\n\"version\": \"current\",<br>\n\"date\": \"n/a\",<br>\n\"desc\": \"Continuous Integration Build (latest in version control)\",<br>\n\"path\": \"<a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base\">http://build.fhir.org/ig/hl7au/au-fhir-base</a>\",<br>\n\"status\": \"ci-build\"<br>\n},</p>\n<p>Brett Esler: IG builder locates the reference ok but all links point at <a href=\"http://hl7.org.au/fhir\" target=\"_blank\" title=\"http://hl7.org.au/fhir\">http://hl7.org.au/fhir</a> rather than <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base\">http://build.fhir.org/ig/hl7au/au-fhir-base</a></p>\n<p>Brett Esler: should location be <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base\">http://build.fhir.org/ig/hl7au/au-fhir-base</a> ? how to resolve package-list.json?</p>",
        "id": 153987312,
        "sender_full_name": "Brett Esler",
        "timestamp": 1534386475
    },
    {
        "content": "<p>Currently <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-pd/\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-pd/\">http://build.fhir.org/ig/hl7au/au-fhir-pd/</a> referring  to <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base/\">http://build.fhir.org/ig/hl7au/au-fhir-base/</a> has all links as canonical url <a href=\"http://hl7.org.au/fhir\" target=\"_blank\" title=\"http://hl7.org.au/fhir\">http://hl7.org.au/fhir</a> rather than as expected as defined as \"current' version in  <a href=\"http://hl7.org.au/fhir/package-list.json\" target=\"_blank\" title=\"http://hl7.org.au/fhir/package-list.json\">http://hl7.org.au/fhir/package-list.json</a></p>",
        "id": 153987315,
        "sender_full_name": "Brett Esler",
        "timestamp": 1534386615
    },
    {
        "content": "<p>so when I build it now, I get \"<a href=\"http://hl7.org.au/fhir/StructureDefinition/au-assigningauthority\" target=\"_blank\" title=\"http://hl7.org.au/fhir/StructureDefinition/au-assigningauthority\">http://hl7.org.au/fhir/StructureDefinition/au-assigningauthority</a>\" as the canonical URL, with a link to <a href=\"http://hl7.org.au/fhir/StructureDefinition-au-assigningauthority.html\" target=\"_blank\" title=\"http://hl7.org.au/fhir/StructureDefinition-au-assigningauthority.html\">http://hl7.org.au/fhir/StructureDefinition-au-assigningauthority.html</a></p>",
        "id": 153987332,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534391650
    },
    {
        "content": "<p>I was expecting <a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-</a>..... as that is where the current package is published as per package-list.json</p>",
        "id": 153987365,
        "sender_full_name": "Brett Esler",
        "timestamp": 1534395844
    },
    {
        "content": "<p>And where the package was sourced from for the build</p>",
        "id": 153987369,
        "sender_full_name": "Brett Esler",
        "timestamp": 1534395901
    },
    {
        "content": "<p>yes once Josh sorts the ci build issue out, this will all be automatic</p>",
        "id": 153987372,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534396055
    },
    {
        "content": "<p>So links will change?  <a href=\"http://hl7.org.au\" target=\"_blank\" title=\"http://hl7.org.au\">hl7.org.au</a> is not redirecting currently, and will work with version specific snapshots also?</p>",
        "id": 153987379,
        "sender_full_name": "Brett Esler",
        "timestamp": 1534396228
    },
    {
        "content": "<p>Eg want to reference May2018 snapshot ig explicitly</p>",
        "id": 153987380,
        "sender_full_name": "Brett Esler",
        "timestamp": 1534396271
    },
    {
        "content": "<p>if you specify that version, then everything will link to that version.</p>",
        "id": 153987381,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534396288
    },
    {
        "content": "<p>except that I actually have to back patch the packages for anything built before tomorrow (or so)</p>",
        "id": 153987382,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534396320
    },
    {
        "content": "<p>the patch is simple: get the package, add \"url\" : \"(address)\" to the package/package.json in the package.tgz file, and put it back</p>",
        "id": 153987384,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534396371
    },
    {
        "content": "<p>So i need redirects?  How to dustunguish CI and current stable?</p>",
        "id": 153987385,
        "sender_full_name": "Brett Esler",
        "timestamp": 1534396376
    },
    {
        "content": "<p>Ok got it</p>",
        "id": 153987386,
        "sender_full_name": "Brett Esler",
        "timestamp": 1534396414
    },
    {
        "content": "<p>CI is 'current\". current stable has a version and a location</p>",
        "id": 153987389,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1534396522
    },
    {
        "content": "<p>Thanks ill give it a try</p>",
        "id": 153987414,
        "sender_full_name": "Brett Esler",
        "timestamp": 1534399274
    }
]