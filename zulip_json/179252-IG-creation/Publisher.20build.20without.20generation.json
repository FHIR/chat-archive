[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I presume a flag that prevents the generation of the html would just leave whatever had already be generated in place? This would also be useful in helping to stop the IG from disappearing from the CI build page if there is an issue with the Publisher/template. So I could set the flag and rebuild the IG after a publisher/template release without worrying that the IG would disappear...</p>",
        "id": 187325297,
        "sender_full_name": "Sarah Gaunt",
        "timestamp": 1580783759
    },
    {
        "content": "<p>no I'm afraid that the flag is not relevant for this</p>",
        "id": 187325962,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580784846
    },
    {
        "content": "<p>but <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> this is actually the core issue that generates such pain when a build fails: you lose what you already had from the last build. This is not the IG Publisher's doing, it's the way the ci-build works. Is this something we can do anything about?</p>",
        "id": 187325984,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580784919
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> ping on this</p>",
        "id": 187491761,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580934681
    },
    {
        "content": "<p>Discussion from <a href=\"#narrow/stream/179255-questionnaire/topic/SDC.20IG.20build.20down.3F\" title=\"#narrow/stream/179255-questionnaire/topic/SDC.20IG.20build.20down.3F\">https://chat.fhir.org/#narrow/stream/179255-questionnaire/topic/SDC.20IG.20build.20down.3F</a> -- does the layout I proposed make sense? (Paul was talking about a \"staging server\" and I wasn't entirely sure what this meant.)</p>",
        "id": 187492180,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1580934951
    },
    {
        "content": "<p>I didn't entirely follow the structure, I guess. So if you have a successful build, you overwrite the root, but if it fails, you write what you have into failure?  I think that works for me</p>\n<p>There's one weird thing now - if the build fails, you see the source, I think. I've never understood that - it doesn't seen useful; only the output log is relevant. </p>\n<p>Also, in your scheme, what would happen with branches? just reproduce that scheme?</p>",
        "id": 187495384,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580937107
    },
    {
        "content": "<p>Yes, that's the idea. The reason all \"source\"  is included  is just to provide full details on failure, including any inputs, any partially-generated outputs, etc.</p>",
        "id": 187495461,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1580937151
    },
    {
        "content": "<p>I'll go ahead and give this a shot.</p>",
        "id": 187495463,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1580937156
    },
    {
        "content": "<p>(For example, <a href=\"http://build.fhir.org/ig/IHTSDO/snomed-ig/branches/master/failure/output/qa.json\" target=\"_blank\" title=\"http://build.fhir.org/ig/IHTSDO/snomed-ig/branches/master/failure/output/qa.json\">http://build.fhir.org/ig/IHTSDO/snomed-ig/branches/master/failure/output/qa.json</a> is a partial output that's relevant, outsie the <code>build.log</code>.)</p>",
        "id": 187495897,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1580937426
    },
    {
        "content": "<p>OK, this is up and running -- probably needs some testing to work out any kinks.</p>",
        "id": 187496039,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1580937522
    },
    {
        "content": "<p>I see in teh <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\" target=\"_blank\" title=\"https://fhir.github.io/auto-ig-builder/builds.html\">https://fhir.github.io/auto-ig-builder/builds.html</a> page, failures and successes are now showing up as distinct rows. An unintended consequence... will see what I can do about that!</p>",
        "id": 187496322,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1580937733
    },
    {
        "content": "<p>great thanks.</p>",
        "id": 187499430,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580939927
    },
    {
        "content": "<p>on the subject of all source... only the output folder matters</p>",
        "id": 187499457,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580939944
    },
    {
        "content": "<p>anything else in any other directory... people can run their own local copy if they want to browse the temp etc</p>",
        "id": 187499495,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580939970
    },
    {
        "content": "<p>Actually, the temp and template folders would be useful too if we're trying to debug</p>",
        "id": 187500028,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1580940325
    },
    {
        "content": "<p>Yeah, I don't see a reason not to include the full state... is it causing an issue?</p>",
        "id": 187500133,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1580940388
    },
    {
        "content": "<p>And OK, cleaned up the the report at <a href=\"https://fhir.github.io/auto-ig-builder/builds.html\" target=\"_blank\" title=\"https://fhir.github.io/auto-ig-builder/builds.html\">https://fhir.github.io/auto-ig-builder/builds.html</a> a bit -- should only be showing the relevant stuff, now, with correct links to logs in case of failure.</p>",
        "id": 187500203,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1580940448
    },
    {
        "content": "<p>wonderful</p>",
        "id": 187502602,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1580942272
    }
]