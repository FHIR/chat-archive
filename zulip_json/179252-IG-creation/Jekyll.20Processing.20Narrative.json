[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> I change the IG publisher to not process Liquid tags in narrative, at your request. Now <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> has discovered that he's depending on the processing of such tags</p>",
        "id": 183318615,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576198166
    },
    {
        "content": "<p>can you remind me here why you didn't want tags processed in narratives?</p>",
        "id": 183318625,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576198190
    },
    {
        "content": "<p>My examples text and he'll want that in the SDC guide too.</p>",
        "id": 183318685,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1576198224
    },
    {
        "content": "<p>I linked in an example that has them in it.</p>",
        "id": 183318701,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1576198247
    },
    {
        "content": "<p>?</p>",
        "id": 183318724,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576198276
    },
    {
        "content": "<p>The prepopulate search expressions uses handlebars to mark the parameters to replace.</p>",
        "id": 183318747,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1576198308
    },
    {
        "content": "<p>Ah, right</p>",
        "id": 183318793,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576198332
    },
    {
        "content": "<p>And this was documenting that usage, and also in the examples showing this, and including those snippits.</p>",
        "id": 183318799,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1576198338
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 183318847,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1576198409
    },
    {
        "content": "<p>I'll just put Jekyll tags that turn processing on, then off around the stuff I need processed then.</p>",
        "id": 183318858,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576198424
    },
    {
        "content": "<p>so there's several ways to handle this:</p>\n<ul>\n<li>make it a global setting one way or the other, and you use raw/endraw if you want to differ from the global setting</li>\n<li>make it an ig based setting in the ig.json / ig resource</li>\n<li>use an extension on the narrrative to control it </li>\n</ul>\n<p>All of them are possible</p>",
        "id": 183318921,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576198466
    },
    {
        "content": "<p>In theory, you might want a mix in a single narrative.  I'm fine with turning raw off then on around the stuff that needs processing.  Default being \"no Jekyll\" is going to be safest for most.</p>",
        "id": 183319323,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576198919
    },
    {
        "content": "<p>I think an ig based setting is best.   Does this mean we could use Jekyll in the source resource instances anywhere.  Like substitution of base_urls with {{parameters}} ?</p>",
        "id": 183324133,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576205193
    },
    {
        "content": "<p>well, not really. One of the reasons the default is not to process them is because Jekyll only processes them in html instances, not in the resources themselves</p>",
        "id": 183324317,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576205520
    },
    {
        "content": "<p>back to this... what I could do is process some specific liquid tags that are clearly intended to be replaced whatever, in the resource itself</p>",
        "id": 183704363,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576626048
    },
    {
        "content": "<p>see, for example, this:</p>",
        "id": 183704390,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576626093
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/HL7/davinci-atr/branches/master/qa.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/davinci-atr/branches/master/qa.html\">http://build.fhir.org/ig/HL7/davinci-atr/branches/master/qa.html</a></p>",
        "id": 183704391,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576626094
    },
    {
        "content": "<blockquote>\n<p>The link '{{site.data.fhir.path}}coverage.html' for \"Coverage\" cannot be resolved</p>\n</blockquote>\n<p>That's a liquid tag in the resource narrative. (<span class=\"user-mention\" data-user-id=\"192017\">@Nagesh Bashyam</span> )</p>",
        "id": 183704442,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576626124
    },
    {
        "content": "<p>I would like that but I may be unique.  If there isn't broad support I can easily get by using the full urls.</p>",
        "id": 183709938,
        "sender_full_name": "Eric Haas",
        "timestamp": 1576632056
    },
    {
        "content": "<p>I just embedded {% endraw %}  and {% raw %} tags around the content I wanted liquid to mess with.</p>",
        "id": 183720091,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576644258
    },
    {
        "content": "<p>Not sure why we need anything more than that.</p>",
        "id": 183720100,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576644275
    },
    {
        "content": "<p>because that means your endraw tags go into the published resource.</p>",
        "id": 183720123,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576644325
    },
    {
        "content": "<p>a better way is to pre-process the resource so the liquid tags aren't part of the resource itself. A</p>",
        "id": 183720133,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576644354
    },
    {
        "content": "<p>at this time I am only processing the link to the FHIR spec, other tags are left untouched .</p>",
        "id": 183720180,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576644397
    },
    {
        "content": "<p>and only in metadata resources, not other kinds (e.g. examples)</p>",
        "id": 183720191,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576644420
    },
    {
        "content": "<p>Ah, so they'd get stripped out of the 'text' element when you publish the actual resource JSON and XML, but would still be used when rendering the HTML of the narrative?</p>",
        "id": 183720300,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576644543
    },
    {
        "content": "<p>in the past: you could use endraw to make sure that jekyll would process the narrative when in HTML, but this would leave the narrative in the actual resources (for download + in the package) still containing the liquid tags that you wanted processing, along with the endraw liquid tags as well</p>\n<p>now: {{site.data.fhir.path}} will be processed immediately in the resources themselves when the IG pubisher loads them, and all views of the resources will say the same thing. Any other liquid tags are left untouched by the publishing infrastructure unless you use endraw but it would be much better if you don't do that anymore and we specifically process the tags on load</p>",
        "id": 183720458,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576644783
    },
    {
        "content": "<p>What about paths to dependent IGs?</p>",
        "id": 183720991,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576645597
    },
    {
        "content": "<p>It'd be nice of {{site.data.*}} got processed automatically...</p>",
        "id": 183721004,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1576645629
    },
    {
        "content": "<p>I can't process all the things in site.data because many of them don't exist earlier in the run</p>",
        "id": 183721157,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1576645884
    }
]