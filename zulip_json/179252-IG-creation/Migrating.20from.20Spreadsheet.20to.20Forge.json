[
    {
        "content": "<p>I'm trying to migrate to Forge. So in a test run,  I edited the file to remove the IG generated narrative and snapshot elements and uploaded the file.  The SD has a subject with a targetProfile to us-core patient. But right out of the box I am getting this:</p>\n<p><span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span> ?</p>\n<div class=\"codehilite\"><pre><span></span>2018-03-13T08:50:17\nForge Forge 18.2.1 for HL7 FHIR STU3\nHIMSS 2018 Edition\nVersion: Version 18.2.1.0 (ClickOnce)\nFHIR Version: FHIR .NET API library for 3.0.1\n--------------------------------------------------\nCanonicalUrlConflictException in Hl7.Fhir.STU3.Specification:\nFound conflicting Conformance Resource artifacts with the same canonical url identifier.\n\nUrl: http://hl7.org/fhir/StructureDefinition/us-core-race\n   File: C:\\Users\\Eric\\Downloads\\extension-us-core-race (1).xml\n   File: C:\\Users\\Eric\\Downloads\\extension-us-core-race.canonical.xml\n   File: C:\\Users\\Eric\\Downloads\\extension-us-core-race.xml\n\n   at Hl7.Fhir.Specification.Source.DirectorySource.prepareSummaries()\n   at Hl7.Fhir.Specification.Source.DirectorySource.GetSummaries()\n   at Hl7.Fhir.Specification.Source.DirectorySource.ResolveByCanonicalUri(String uri)\n   at Hl7.Fhir.Specification.Source.CachedResolver.InternalResolveByCanonicalUri(String url)\n   at Hl7.Fhir.Specification.Source.CachedResolver.&lt;.ctor&gt;b__3_1(String id)\n   at Hl7.Fhir.Specification.Source.CachedResolver.Cache`1.Get(String identifier, CachedResolverLoadingStrategy strategy)\n   at Hl7.Fhir.Specification.Source.CachedResolver.ResolveByCanonicalUri(String url)\n   at Hl7.Fhir.Specification.Source.MultiResolver.ResolveByCanonicalUri(String uri)\n   at Forge.ViewModels.ElementTypeMatcher.findCandidateBaseTypesForTargetProfile(IEnumerable`1 candidates, String targetProfileUri)\n   at Forge.ViewModels.ElementTypeMatcher.findBaseForReferenceType(IEnumerable`1 baseTypes, TypeRefComponent type)\n   at Forge.ViewModels.ElementTypeMatcher.FindBaseType(IList`1 baseTypes, TypeRefComponent type)\n   at Forge.ViewModels.TypeStorageHandler.&lt;CreateItems&gt;d__20.MoveNext()\n   at Forge.ViewModels.MultipleValueProperty`1.set_StorageHandler(IStorageHandler value)\n   at Forge.ViewModels.TypeProperty.set_StorageHandler(IStorageHandler value)\n   at Forge.ViewModels.DefinitionVM.setModelElement(ElementDefinition definition, IElementsStorageHandler elementsStorageHandler)\n   at Forge.ViewModels.DefinitionVM.initialize(Base modelElement, Base baseElement, IElementsStorageHandler elementsStorageHandler)\n   at Forge.ViewModels.ElementsStorageHandler.get_Value()\n   at Forge.ViewModels.SingleValueProperty`1.set_StorageHandler(IStorageHandler value)\n   at Forge.ViewModels.RestrictingElementDefinitionVM.set_StorageHandler(IStorageHandler value)\n   at Forge.ViewModels.RestrictingElementDefinitionVM..ctor(MultipleValueProperty`1 owner, ElementsStorageHandler storageHandler)\n   at Forge.ViewModels.ElementsStorageHandler.&lt;CreateItems&gt;d__72.MoveNext()\n   at Forge.ViewModels.MultipleValueProperty`1.set_StorageHandler(IStorageHandler value)\n   at Forge.ViewModels.ProfileVM.set_ModelElement(Base value)\n   at Forge.ViewModels.ProfileVM.Initialize(Base modelElement, Base baseElement)\n   at Forge.ViewModels.ProfileVM..ctor(ISessionItem owner, StructureDefinition model, StructureDefinition baseModel, String contentDirectory)\n   at Forge.ViewModels.SessionItemVM.CreateResourceVM(SessionItemVM owner, Resource model, String contentDirectory)\n   at Forge.ViewModels.SessionItemVM..ctor(ISessionItem owner, IDocument document, Resource model)\n   at Forge.ViewModels.SessionItemVM.Open(IDocument document, Boolean dontLoad, Boolean asCopy)\n   at Forge.ViewModels.SessionItemVM.Open(Uri url, Boolean dontLoad, Boolean asCopy)\n   at Forge.ViewModels.SessionItemVM.Open(Boolean asCopy)\n   at Forge.ViewModels.SessionItemVM.Open()\n   at Forge.ViewModels.SessionVM.&lt;&gt;c.&lt;onOpen&gt;b__178_0(ISessionItem item)\n   at Forge.ViewModels.SessionVM.&lt;&gt;c__DisplayClass162_0.&lt;executeItemCollectionCommand&gt;b__0()\n   at Forge.Common.UIServices.ExecuteOnUIThread(Action action)\n   at Forge.ViewModels.SessionVM.executeCommand(Action action)\n</pre></div>",
        "id": 153944402,
        "sender_full_name": "Eric Haas",
        "timestamp": 1520956765
    },
    {
        "content": "<p>Is there a more efficient way?</p>",
        "id": 153944405,
        "sender_full_name": "Eric Haas",
        "timestamp": 1520956991
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> , apparently your source folder contains multiple versions of a profile with the same canonical url. Al canonical urls should resolve to exactly one source file for operations to complete successfully.</p>\n<div class=\"codehilite\"><pre><span></span>Url: http://hl7.org/fhir/StructureDefinition/us-core-race\n   File: C:\\Users\\Eric\\Downloads\\extension-us-core-race (1).xml\n   File: C:\\Users\\Eric\\Downloads\\extension-us-core-race.canonical.xml\n   File: C:\\Users\\Eric\\Downloads\\extension-us-core-race.xml\n</pre></div>\n\n\n<p>Please delete the unused duplicates, move to another folder (not a subfolder) or change the extension to e.g. \".bak\". That should fix the problem.</p>",
        "id": 153944406,
        "sender_full_name": "Michel Rutten",
        "timestamp": 1520957064
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191336\">@Michel Rutten</span>  Can I turn this stuff off  so I can just edit and validate later?</p>",
        "id": 153944416,
        "sender_full_name": "Eric Haas",
        "timestamp": 1520958659
    },
    {
        "content": "<p>oh and thanks for the quick reply... I think I got it now</p>",
        "id": 153944428,
        "sender_full_name": "Eric Haas",
        "timestamp": 1520959261
    }
]