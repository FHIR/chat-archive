[
    {
        "content": "<p>Is there a way to get a more verbose error from the CI build? I'm currently getting this which does not provide much context for resolving the issue.</p>\n<div class=\"codehilite\"><pre><span></span>class com.google.gson.JsonArray cannot be cast to class com.google.gson.JsonObject (com.google.gson.JsonArray and com.google.gson.JsonObject are in unnamed module of loader &#39;app&#39;) (00:14.0555)\n</pre></div>\n\n\n<p><a href=\"http://build.fhir.org/ig/HL7/fhir-security-label-ds4p/branches/master/failure/build.log\" title=\"http://build.fhir.org/ig/HL7/fhir-security-label-ds4p/branches/master/failure/build.log\">http://build.fhir.org/ig/HL7/fhir-security-label-ds4p/branches/master/failure/build.log</a></p>\n<p>Running the resource validation tool locally gives an entirely different error:</p>\n<div class=\"codehilite\"><pre><span></span> URL value &lt;truncated&gt; does not resolve\n</pre></div>",
        "id": 192060258,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1585333584
    },
    {
        "content": "<p>what is the stack?</p>",
        "id": 192060419,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585333678
    },
    {
        "content": "<p>You could try to turn up the logging a notch using <a href=\"https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters\" title=\"https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters\">https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters</a></p>",
        "id": 192060793,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1585333852
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Here is the link to the build log: <a href=\"http://build.fhir.org/ig/HL7/fhir-security-label-ds4p/branches/master/failure/build.log\" title=\"http://build.fhir.org/ig/HL7/fhir-security-label-ds4p/branches/master/failure/build.log\">http://build.fhir.org/ig/HL7/fhir-security-label-ds4p/branches/master/failure/build.log</a></p>",
        "id": 192061123,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1585334025
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> I'm looking for more logging and more verbosity, not less.</p>",
        "id": 192061235,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1585334064
    },
    {
        "content": "<p>the file /StructureDefinition-extension-sec-label-basis.json is invalid - it has a elementdefinition.binding which is an array, not an object</p>",
        "id": 192061781,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585334300
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> . Is there a way to see what line triggered the error? The local resource validator doesn't generate this error and fails at the URL resolution.</p>",
        "id": 192063139,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1585334850
    },
    {
        "content": "<p>how are you running the validator?</p>",
        "id": 192064005,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585335144
    },
    {
        "content": "<p>just running the latest validator from here: <a href=\"https://fhir.github.io/latest-ig-publisher/\" title=\"https://fhir.github.io/latest-ig-publisher/\">https://fhir.github.io/latest-ig-publisher/</a></p>",
        "id": 192064626,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1585335448
    },
    {
        "content": "<p>what is the full output?</p>",
        "id": 192064688,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585335477
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>*FAILURE* validating input/resources/StructureDefinition-extension-sec-label-basis.json:  error:2 warn:1 info:0\n  Error @ StructureDefinition.url (line 4, col101) : URL value &quot;http://hl7.org/fhir/uv/security-label-ds4p/StructureDefinition/extension-sec-label-basis&quot; does not resolve\n  Error @ StructureDefinition.differential.element[1].fixed.ofType(uri) (line 33, col8) : URL value &quot;http://hl7.org/fhir/uv/security-label-ds4p/StructureDefinition/extension-sec-label-basis&quot; does not resolve\n  Warning @ StructureDefinition (line 1, col1) : cnl-0: Name should be usable as an identifier for the module by machine processing applications such as code generation [name.matches(&#39;[A-Z]([A-Za-z0-9_]){0,254}&#39;)]\n</pre></div>",
        "id": 192064786,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1585335509
    },
    {
        "content": "<p>no, the actual full output - all the output from the validator</p>",
        "id": 192065360,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585335742
    },
    {
        "content": "<p>Is there more that's stored elsewhere? the full output I get is this:</p>\n<div class=\"codehilite\"><pre><span></span>FHIR Validation tool Version 4.2.10-SNAPSHOT (Git# 200f14922221). Built 2020-03-26T08:29:37.176+11:00 (45 hours old)\nDetected Java version: 13 from /Library/Java/JavaVirtualMachines/openjdk-13.jdk/Contents/Home on x86_64 (64bit). 4096MB available\nArguments: input/resources/StructureDefinition-extension-sec-label-basis.json\nDirectories: Current = /Users/moh/fhir-ds4p-ig, Package Cache = /Users/moh/.fhir/packages\n  .. FHIR Version current, definitions from hl7.fhir.r5.core#current\n  .. connect to tx server @ http://tx.fhir.org\n    (vcurrent)\n  .. validate [input/resources/StructureDefinition-extension-sec-label-basis.json]\n*FAILURE* validating input/resources/StructureDefinition-extension-sec-label-basis.json:  error:2 warn:1 info:0\n  Error @ StructureDefinition.url (line 4, col101) : URL value &quot;http://hl7.org/fhir/uv/security-label-ds4p/StructureDefinition/extension-sec-label-basis&quot; does not resolve\n  Error @ StructureDefinition.differential.element[1].fixed.ofType(uri) (line 33, col8) : URL value &quot;http://hl7.org/fhir/uv/security-label-ds4p/StructureDefinition/extension-sec-label-basis&quot; does not resolve\n  Warning @ StructureDefinition (line 1, col1) : cnl-0: Name should be usable as an identifier for the module by machine processing applications such as code generation [name.matches(&#39;[A-Z]([A-Za-z0-9_]){0,254}&#39;)]\n</pre></div>",
        "id": 192068892,
        "sender_full_name": "Mohammad Jafari",
        "timestamp": 1585337377
    },
    {
        "content": "<p>that's what I wanted. It looks like you've fixed the problem, and the validator is not getting any errors. if you have a copy of a resource the passes validation but causes the build to fail, I'll be happy to look at it</p>",
        "id": 192071021,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1585338607
    }
]