[
    {
        "content": "<p>Getting an error in the latest publisher: java.lang.Exception: <br>\norg.hl7.fhir.exceptions.FHIRException: Unknown resource Measure<br>\n    at org.hl7.fhir.convertors.VersionConvertor_30_50.convertResource(VersionConvertor_30_50.java:22383)</p>\n<p>Looking at the convertResource method in the converter (<a href=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.convertors/src/main/java/org/hl7/fhir/convertors/VersionConvertor_30_50.java\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.convertors/src/main/java/org/hl7/fhir/convertors/VersionConvertor_30_50.java\">https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.convertors/src/main/java/org/hl7/fhir/convertors/VersionConvertor_30_50.java</a>), Measure appears to be missing.</p>",
        "id": 175010047,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1567713962
    },
    {
        "content": "<p>Indeed it is. I'll have to find time to write a conversion, unless someone else wants to</p>",
        "id": 175010733,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1567714558
    },
    {
        "content": "<p>Why would Measure even be converted?  I thought conversion was only for the infrastructure resources?</p>",
        "id": 175011136,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1567714829
    },
    {
        "content": "<p>not sure. what's the stack?</p>",
        "id": 175011451,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1567715057
    },
    {
        "content": "<p>Stack Dump (for debugging):                                                      (13.0624sec)<br>\njava.lang.Exception: Error parsing /Users/christopherschuler/Documents/workspace/dcg/repos/draft-measures/resources/measure/measure-exm124-FHIR: Unknown resource Measure<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:3427)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3026)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:717)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:606)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6402)<br>\nCaused by: org.hl7.fhir.exceptions.FHIRException: Unknown resource Measure<br>\n    at org.hl7.fhir.convertors.VersionConvertor_30_50.convertResource(VersionConvertor_30_50.java:22383)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.parseContent(Publisher.java:3720)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.parse(Publisher.java:3775)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:3424)<br>\n    ... 4 more<br>\nException in thread \"main\" java.lang.NullPointerException<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6412)</p>",
        "id": 175011488,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1567715096
    },
    {
        "content": "<p>sigh. it's complicated. Basically, if it has a canonical URL, the IG publisher has to have it loaded natively</p>",
        "id": 175012501,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1567715878
    },
    {
        "content": "<p>I am happy to take a stab at including the logic for Measure conversion.</p>",
        "id": 175017734,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1567719848
    },
    {
        "content": "<p>great</p>",
        "id": 175017746,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1567719857
    },
    {
        "content": "<p><a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/74\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/74\">https://github.com/hapifhir/org.hl7.fhir.core/pull/74</a></p>",
        "id": 175020650,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1567722507
    },
    {
        "content": "<p>you only did the metadata, not any of the actual content?</p>",
        "id": 175020865,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1567722712
    },
    {
        "content": "<p>I used the existing Library conversion logic as an example, which only seems to include the meta. I am happy to go deeper.</p>",
        "id": 175020931,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1567722750
    },
    {
        "content": "<p>My bad. I will complete that</p>",
        "id": 175021048,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1567722851
    },
    {
        "content": "<p>Library does it all:</p>\n<div class=\"codehilite\"><pre><span></span>   <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"n\">org</span><span class=\"o\">.</span><span class=\"na\">hl7</span><span class=\"o\">.</span><span class=\"na\">fhir</span><span class=\"o\">.</span><span class=\"na\">dstu3</span><span class=\"o\">.</span><span class=\"na\">model</span><span class=\"o\">.</span><span class=\"na\">RelatedArtifact</span> <span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">src</span><span class=\"o\">.</span><span class=\"na\">getRelatedArtifact</span><span class=\"o\">())</span>\n      <span class=\"n\">tgt</span><span class=\"o\">.</span><span class=\"na\">addRelatedArtifact</span><span class=\"o\">(</span><span class=\"n\">convertRelatedArtifact</span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"o\">));</span>\n    <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"n\">org</span><span class=\"o\">.</span><span class=\"na\">hl7</span><span class=\"o\">.</span><span class=\"na\">fhir</span><span class=\"o\">.</span><span class=\"na\">dstu3</span><span class=\"o\">.</span><span class=\"na\">model</span><span class=\"o\">.</span><span class=\"na\">ParameterDefinition</span> <span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">src</span><span class=\"o\">.</span><span class=\"na\">getParameter</span><span class=\"o\">())</span>\n      <span class=\"n\">tgt</span><span class=\"o\">.</span><span class=\"na\">addParameter</span><span class=\"o\">(</span><span class=\"n\">convertParameterDefinition</span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"o\">));</span>\n    <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"n\">org</span><span class=\"o\">.</span><span class=\"na\">hl7</span><span class=\"o\">.</span><span class=\"na\">fhir</span><span class=\"o\">.</span><span class=\"na\">dstu3</span><span class=\"o\">.</span><span class=\"na\">model</span><span class=\"o\">.</span><span class=\"na\">DataRequirement</span> <span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">src</span><span class=\"o\">.</span><span class=\"na\">getDataRequirement</span><span class=\"o\">())</span>\n      <span class=\"n\">tgt</span><span class=\"o\">.</span><span class=\"na\">addDataRequirement</span><span class=\"o\">(</span><span class=\"n\">convertDataRequirement</span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"o\">));</span>\n    <span class=\"k\">for</span> <span class=\"o\">(</span><span class=\"n\">org</span><span class=\"o\">.</span><span class=\"na\">hl7</span><span class=\"o\">.</span><span class=\"na\">fhir</span><span class=\"o\">.</span><span class=\"na\">dstu3</span><span class=\"o\">.</span><span class=\"na\">model</span><span class=\"o\">.</span><span class=\"na\">Attachment</span> <span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">src</span><span class=\"o\">.</span><span class=\"na\">getContent</span><span class=\"o\">())</span>\n      <span class=\"n\">tgt</span><span class=\"o\">.</span><span class=\"na\">addContent</span><span class=\"o\">(</span><span class=\"n\">convertAttachment</span><span class=\"o\">(</span><span class=\"n\">t</span><span class=\"o\">));</span>\n</pre></div>",
        "id": 175021053,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1567722867
    },
    {
        "content": "<p>I just noticed</p>",
        "id": 175021068,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1567722879
    },
    {
        "content": "<p>I worry that doing only part of the resource will catch someone out...</p>",
        "id": 175021070,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1567722881
    },
    {
        "content": "<p>Yep, I'll add the rest</p>",
        "id": 175021075,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1567722893
    },
    {
        "content": "<p><a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/75\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/75\">https://github.com/hapifhir/org.hl7.fhir.core/pull/75</a></p>",
        "id": 175078525,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1567785882
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <br>\nThe logic I added had a few issues. Issued a new PR: <br>\n<a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/97\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/97\">https://github.com/hapifhir/org.hl7.fhir.core/pull/97</a></p>",
        "id": 178800901,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1571779638
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Anything I can do to expedite the merging of the following PR: <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/97\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/pull/97\">https://github.com/hapifhir/org.hl7.fhir.core/pull/97</a> ?<br>\nI noticed that the Travis CI build for my PR has a test failure, but I am not sure if the failure is caused by my code. Thanks!</p>",
        "id": 179454366,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1572455488
    },
    {
        "content": "<p>reminding me was enough. I'm seriously behind - I put everything aside to push the technical correction over the line, which was why I hadn't got to it yet</p>",
        "id": 179521168,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1572520295
    },
    {
        "content": "<p>Much appreciated! I have downloaded the latest publisher from <a href=\"https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.publisher.jar\" target=\"_blank\" title=\"https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.publisher.jar\">https://fhir.github.io/latest-ig-publisher/org.hl7.fhir.publisher.jar</a>, but I am not seeing any change in the resulting Measure resources. Is the publisher updated with the latest code from the FHIR core project or is that pending?</p>",
        "id": 179572980,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1572553696
    },
    {
        "content": "<p>I haven't done a build yet - sometime today</p>",
        "id": 179585343,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1572563557
    }
]