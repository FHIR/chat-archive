[
    {
        "content": "<p>using the spreadsheet method (<span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> ), how do I indicate that my profiles are starting with US-Core? For other Resources that I am not further constraining, but want to force the US-Core profiles; how do I indicate that in my IG? -- gladly will look at another profile that has done this using spreadsheet profiles.</p>",
        "id": 157787184,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549554994
    },
    {
        "content": "<p>See my ig-template patient on patient...<br>\n<a href=\"https://github.com/Healthedata1/IG-Template2/blob/master/source/resources/patient-on-usprofile-spreadsheet.xml\" target=\"_blank\" title=\"https://github.com/Healthedata1/IG-Template2/blob/master/source/resources/patient-on-usprofile-spreadsheet.xml\">https://github.com/Healthedata1/IG-Template2/blob/master/source/resources/patient-on-usprofile-spreadsheet.xml</a></p>",
        "id": 157787533,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549555241
    },
    {
        "content": "<p>I did try that first, and it fails</p>",
        "id": 157787545,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549555259
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>  [java] Unable to generate snapshot for http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss because Profile patient-eltss (http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss) base http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient could not be resolved\n</pre></div>",
        "id": 157787599,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549555292
    },
    {
        "content": "<p>I likely did it wrong.</p>",
        "id": 157787608,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549555302
    },
    {
        "content": "<p>See the ig.json file for how to set up the dependency ....</p>\n<div class=\"codehilite\"><pre><span></span> &quot;dependencyList&quot;: [\n    {\n      &quot;version&quot;: &quot;current&quot;,\n      &quot;name&quot;: &quot;uscore&quot;,\n      &quot;location&quot;: &quot;http://hl7.org/fhir/us/core-r4&quot;\n    }\n  ],\n</pre></div>",
        "id": 157787721,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549555361
    },
    {
        "content": "<p>that points to the current version of US Core.</p>",
        "id": 157787759,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549555387
    },
    {
        "content": "<p>package manager was messed up and was just fixed by GG so should be OK</p>",
        "id": 157787802,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549555417
    },
    {
        "content": "<p>for a prior version ...say US-Core 2.0.0</p>\n<div class=\"codehilite\"><pre><span></span> &quot;dependencyList&quot;: [\n    {\n      &quot;version&quot;: &quot;2.0.0&quot;,\n      &quot;name&quot;: &quot;uscore&quot;,\n      &quot;location&quot;: &quot;http://hl7.org/fhir/us/core&quot;\n    }\n  ],\n</pre></div>",
        "id": 157787903,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549555464
    },
    {
        "content": "<p>In my version, you'll specify the dependency in the implementation guide and that will propagate into the ig.json.  In the spreadsheets, you'll list the URL of the parent profile in the type column.</p>",
        "id": 157788118,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549555617
    },
    {
        "content": "<p>note that for US-Core r4 the base is <code>http://hl7.org/fhir/us/core-r4</code>  not <code>http://hl7.org/fhir/us/core</code></p>\n<p>so the  canonical is <code>http://hl7.org/fhir/us/core-r4/StructureDefinition/us-core-patient</code>  not <code>http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient</code></p>",
        "id": 157788273,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549555724
    },
    {
        "content": "<p>that caught me by surprise as well</p>",
        "id": 157788612,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549555947
    },
    {
        "content": "<p>Okay, so I fixed the URL to US-Core r4... but the build still fails  that it can't be resolved<br>\n     [java] Unable to generate snapshot for <a href=\"http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss\" target=\"_blank\" title=\"http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss\">http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss</a> because Profile patient-eltss (<a href=\"http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss\" target=\"_blank\" title=\"http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss\">http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss</a>) base <a href=\"http://hl7.org/fhir/us/core-r4/StructureDefinition/us-core-patient\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core-r4/StructureDefinition/us-core-patient\">http://hl7.org/fhir/us/core-r4/StructureDefinition/us-core-patient</a> could not be resolved</p>",
        "id": 157800135,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549564146
    },
    {
        "content": "<p>I guess I need to twiddle something in the ig.json to indicate the us-core dependency?</p>",
        "id": 157800644,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549564488
    },
    {
        "content": "<p>Is your IG.JSON being manually maintained?  If so, yes</p>",
        "id": 157804249,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549566997
    },
    {
        "content": "<p>im following your lead, so there is an ig.json in src that is manually maintained... so what do I need to say in there to indicate we are importing us-core?</p>",
        "id": 157806590,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549568605
    },
    {
        "content": "<p>If you're using my template, the ig.json in src should be a redirect to the one that's automatically generated in src-generated.  And if it's generating properly, the one in src-generated should have the import declared in it.</p>",
        "id": 157807019,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549568905
    },
    {
        "content": "<p>I was speaking of the src/~ig.xml</p>",
        "id": 157808088,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549569589
    },
    {
        "content": "<p>in my case eltss.xml</p>",
        "id": 157808150,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549569607
    },
    {
        "content": "<p>Is that dependency propagating correctly into src-generated/eltss.json?</p>",
        "id": 157809402,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549570528
    },
    {
        "content": "<p>I have no idea how to add a dependency, so no clue. I have followed your genomics-reporting project, which I don't think has a depends on US-Core... so I don't have much to go on. Is there a project that used your template that is dependent on us-core?</p>",
        "id": 157809603,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549570683
    },
    {
        "content": "<p>Not publicly shared - and not using R4.  However, this should work:<br>\n  &lt;dependsOn&gt;<br>\n    &lt;uri value=\"http://hl7.org/fhir/us/core-r4\"/&gt;<br>\n    &lt;packageId value=\"hl7.fhir.us.core.r4\"/&gt;<br>\n    &lt;version value=\"current\"/&gt;<br>\n  &lt;/dependsOn&gt;</p>",
        "id": 157809957,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549571036
    },
    {
        "content": "<p>If it doesn't, commit everything and I'll take a look</p>",
        "id": 157810014,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549571064
    },
    {
        "content": "<p>okay... trying...</p>",
        "id": 157810073,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549571157
    },
    {
        "content": "<p>so, that didn't create a failure..</p>",
        "id": 157810809,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549571839
    },
    {
        "content": "<p>so, how do I indicate that the Patient profile in my IG is derived from US-Core Patient? I tried the thing <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> recommends, and get a error<br>\n      [java] Unable to generate snapshot for <a href=\"http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss\" target=\"_blank\" title=\"http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss\">http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss</a> because Profile patient-eltss (<a href=\"http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss\" target=\"_blank\" title=\"http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss\">http://hl7.org/fhir/uv/eLTSS/StructureDefinition/patient-eltss</a>) base <a href=\"http://hl7.org/fhir/us/core-r4/StructureDefinition/us-core-patient\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core-r4/StructureDefinition/us-core-patient\">http://hl7.org/fhir/us/core-r4/StructureDefinition/us-core-patient</a> could not be resolved</p>",
        "id": 157811216,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549572207
    },
    {
        "content": "<p>that is to replace \"Reference\" with \"Patient{http://hl7.org/fhir/us/core-r4/StructureDefinition/us-core-patient}\" in the type column on the top level (Patient) row...</p>",
        "id": 157811487,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549572457
    },
    {
        "content": "<p>Also, we are wanting to just use the us-core Observation without adding any constraints. How do I indicate that?</p>",
        "id": 157811952,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549572891
    },
    {
        "content": "<p>The type should be just \"{http://hl7.org/fhir/us/core-r4/StructureDefinition/use-core-patient}\" - no \"Patient\"</p>",
        "id": 157811958,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549572899
    },
    {
        "content": "<p>If you want to use it, you don't define a profile for it.  You can just point to it in the narrative.</p>",
        "id": 157811977,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549572925
    },
    {
        "content": "<blockquote>\n<p>The type should be just \"{http://hl7.org/fhir/us/core-r4/StructureDefinition/use-core-patient}\" - no \"Patient\"</p>\n</blockquote>\n<p>no difference in the error... still fails same way</p>",
        "id": 157812126,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549573048
    },
    {
        "content": "<blockquote>\n<p>If you want to use it, you don't define a profile for it.  You can just point to it in the narrative.</p>\n</blockquote>\n<p>so I have speak in narrative about US-Core... no need to do anything more aggressive?</p>",
        "id": 157812186,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549573082
    },
    {
        "content": "<p>so <a href=\"http://build.fhir.org/ig/HL7/eLTSS/index.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/eLTSS/index.html\">http://build.fhir.org/ig/HL7/eLTSS/index.html</a></p>",
        "id": 157812255,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549573147
    },
    {
        "content": "<p>I don't see &lt;dependsOn&gt; in your committed src</p>",
        "id": 157813429,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549574052
    },
    {
        "content": "<blockquote>\n<p>I don't see &lt;dependsOn&gt; in your committed src</p>\n</blockquote>\n<p>just now push(ed) stuff in... the dependsOn causes a failure too.</p>",
        "id": 157814180,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549574665
    },
    {
        "content": "<p>My framework didn't like the \"-\" in core-r4.  Or more specifically, the publisher didn't like having that as the ig name.  I stripped out the '-' in my transform and it now seems to be good.  Fix committed</p>",
        "id": 157815473,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549575861
    },
    {
        "content": "<p>thanks. That also fixed the problem with my profiles wanting to be based on us-core</p>",
        "id": 157818423,
        "sender_full_name": "John Moehrke",
        "timestamp": 1549578151
    }
]