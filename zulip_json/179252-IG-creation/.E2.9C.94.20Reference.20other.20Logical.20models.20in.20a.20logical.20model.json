[
    {
        "content": "<p>I have a logical model that I'd like to split into two parts.  That's the easy part. :). The harder part is how to get the reference from my source logical model to the split out logical model. <br>\nHere is the definition of my split out model:</p>\n<div class=\"codehilite\"><pre><span></span><code>Instance: SubmittedProductLogicalModel\nInstanceOf: StructureDefinition\n* name = &quot;SubmittedProductLogicalModel&quot;\n* url = &quot;http://hl7.org/fhir/us/spl/StructureDefinition/SubmittedProductLogicalModel&quot;\n* version = &quot;0.1.0&quot;\n* kind = #logical\n* abstract = false\n* type = &quot;SubmittedProduct&quot;\n* baseDefinition = &quot;http://hl7.org/fhir/StructureDefinition/Element&quot;\n* derivation = #specialization\n</code></pre></div>\n<p>Here is what I thought I would do to reference it in my parent logical model:</p>\n<div class=\"codehilite\"><pre><span></span><code>* differential.element[33].id = &quot;ProductSubmissionDocument.section.product&quot;\n* differential.element[33].path = &quot;ProductSubmissionDocument.section.product&quot;\n* differential.element[33].short = &quot;Section Product Information&quot;\n* differential.element[33].definition = &quot;.&quot;\n* differential.element[33].min = 0\n* differential.element[33].max = &quot;*&quot;\n* differential.element[33].mustSupport = true\n* differential.element[33].type.code = #SubmittedProduct\n</code></pre></div>\n<p>When I do that, I get a \"The reference SubmittedProduct could not be resolved' error as a broken link but nothing else is raised as an error.  Is there something special that I need to put in the type.code so that it knows that this is a newly defined logical model type?</p>",
        "id": 264924187,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1639515399
    },
    {
        "content": "<p>I'll have to debug that - how to reproduce?</p>",
        "id": 264930759,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1639518417
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/fhir-spl/\">https://github.com/HL7/fhir-spl/</a></p>",
        "id": 264931588,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1639518828
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> -- I'd highly recommend investing some time to use the new first-class <code>Logical</code> construct in FSH.  It's waaaay easier than creating instances of StructureDefinition.</p>\n<p>Secondly, I believe that <code>type.code</code> needs to be the full canonical URL for the logical model.  Short names like you have there are only allowed for FHIR core datatypes because they are assumed to be relative to the <code>http://hl7.org/fhir/StructureDefinition/</code> canonical root.  See: <a href=\"http://hl7.org/fhir/R4/elementdefinition-definitions.html#ElementDefinition.type.code\">http://hl7.org/fhir/R4/elementdefinition-definitions.html#ElementDefinition.type.code</a></p>",
        "id": 264934195,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1639519929
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191469\">@Chris Moesel</span> this is old code that I hadn't wanted to change too much. And that was essentially what I was asking - if type.code needed to be something other than #SubmittedProduct.  I'll try the full URL and see what I get.</p>",
        "id": 264934288,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1639519989
    },
    {
        "content": "<p>Yeah, let us know how that goes.  IIRC, I think it worked fine for us when we were working on support for <code>Logical</code> in FSH.</p>\n<p>As for not wanting to change too much, I get it.  If you do find that you'll be maintaining it for a while though, you could try using GoFSH to convert your LM to FSH as a start.</p>",
        "id": 264934526,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1639520125
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192166\">Jean Duteau</span> has marked this topic as resolved.</p>",
        "id": 264939063,
        "sender_full_name": "Notification Bot",
        "timestamp": 1639522801
    },
    {
        "content": "<p>Using the full canonical was the right response. Chris for the win!</p>",
        "id": 264939155,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1639522817
    }
]