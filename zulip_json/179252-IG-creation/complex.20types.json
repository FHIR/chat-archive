[
    {
        "content": "<p>Is there a fragment showing how to include complex-type strucdefs in an IG? I can see that the html sites are generated and the linking from the resource html sites works as intended. I would eg. like a tab in the nav-bar that listed the complex-type profiles but I'm having a hard time finding examples</p>",
        "id": 157930114,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549718308
    },
    {
        "content": "<p>What do you  mean by complex type.  ?  Extensions??  You can customize the Navbar to point to anything.</p>",
        "id": 157930367,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549718778
    },
    {
        "content": "<p>Yes I know - I'm looking for an example for a tab that only lists complex-type structure defs</p>",
        "id": 157930382,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549718868
    },
    {
        "content": "<p>eg:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;StructureDefinition xmlns=&quot;http://hl7.org/fhir&quot;&gt;\n&lt;url value=&quot;http://trifork.dk/fhir/StructureDefinition/dk-tm-ssn-identifier&quot;/&gt;\n&lt;name value=&quot;Danish SSN Identifier&quot;/&gt;\n&lt;status value=&quot;draft&quot;/&gt;\n&lt;description value=&quot;This structure holds the danish CPR identifier&quot;/&gt;\n&lt;fhirVersion value=&quot;3.0.1&quot;/&gt;\n&lt;kind value=&quot;complex-type&quot;/&gt;\n&lt;abstract value=&quot;false&quot;/&gt;\n&lt;type value=&quot;Identifier&quot;/&gt;\n&lt;baseDefinition value=&quot;http://hl7.org/fhir/StructureDefinition/Identifier&quot;/&gt;\n&lt;derivation value=&quot;constraint&quot;/&gt;\n &lt;differential&gt;\n &lt;element id=&quot;Identifier.use&quot;&gt;\n&lt;path value=&quot;Identifier.use&quot;/&gt;\n&lt;fixedCode value=&quot;official&quot;/&gt;\n&lt;/element&gt;\n &lt;element id=&quot;Identifier.system&quot;&gt;\n&lt;path value=&quot;Identifier.system&quot;/&gt;\n&lt;min value=&quot;1&quot;/&gt;\n&lt;fixedUri value=&quot;urn:oid:1.2.208.176.1.2&quot;/&gt;\n&lt;/element&gt;\n &lt;element id=&quot;Identifier.value&quot;&gt;\n&lt;path value=&quot;Identifier.value&quot;/&gt;\n&lt;min value=&quot;1&quot;/&gt;\n &lt;constraint&gt;\n&lt;key value=&quot;ssn&quot;/&gt;\n&lt;requirements value=&quot;Requirement of danish social security numbers&quot;/&gt;\n&lt;severity value=&quot;error&quot;/&gt;\n&lt;human value=&quot;Requirement of danish social security numbers&quot;/&gt;\n&lt;expression value=&quot;value.matches(&#39;^[0-9]{10}$&#39;)&quot;/&gt;\n&lt;/constraint&gt;\n&lt;mustSupport value=&quot;false&quot;/&gt;\n&lt;/element&gt;\n&lt;/differential&gt;\n&lt;/StructureDefinition&gt;\n</pre></div>",
        "id": 157930515,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549719100
    },
    {
        "content": "<p>kind = complex-type</p>",
        "id": 157930724,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549719478
    },
    {
        "content": "<p>A data type profile is treated no differently than any other other sort of profile.  If you want a menu link that takes to a page of complex type profiles, you'll have to define a page that includes those links and put a link to that page in the menu.</p>",
        "id": 157939274,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549735089
    },
    {
        "content": "<p>I guess I'll have to look more into <a href=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Fragment_.26_Template_Options\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Fragment_.26_Template_Options\">http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Fragment_.26_Template_Options</a> ...</p>",
        "id": 157943318,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549742203
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> - I would have expected that complex types would have been part of  'list-extensions' - is that intentional that that is not the case?</p>",
        "id": 157943377,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549742306
    },
    {
        "content": "<p>or 'list-profiles'</p>",
        "id": 157943520,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549742533
    },
    {
        "content": "<p>I don't use the list pages, so I'm not sure.  list-profiles would be more appropriate than list-extensions unless the complex type was an extension.  I'm pretty sure we don't have a separate list for data type profiles</p>",
        "id": 157943963,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549743347
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> it looks like im ending up with a feature request. Since list-structuredefinitions shows both profiles, data types, and extensions - and list-profiles only shows profiles for resources and list-extensions only shows extensions, I seem to be missing the last bit - the list that only shows data type profiles - or am I missing something here?</p>",
        "id": 157973766,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549802300
    },
    {
        "content": "<p>the only prepackaged lists are :</p>\n<div class=\"codehilite\"><pre><span></span>table-profiles.xhtml &amp; list-profiles.xhtml\ntable-extensions.xhtml &amp; list-extensions.xhtml\ntable-logicals.xhtml &amp; list-logicals.xhtml\n</pre></div>",
        "id": 157980334,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549814493
    },
    {
        "content": "<p>Sounds like a change request is appropriate.  Data type profiles should be showing up in the profiles list.</p>",
        "id": 157981667,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549816599
    },
    {
        "content": "<p>to create a list of data types you  can cycle through profiles and create your own list in liquid syntax using the data.structuredefinitions  something like this...</p>\n<div class=\"codehilite\"><pre><span></span>{% for sd in site.data.structuredefinitions %}\n{% if sd.contextType  == &#39;datatype&#39; %}\n- {{sd.path}}/{{sd.type}}-{{sd.name}}.html\n{% endif %}\n{% endfor %}\n</pre></div>\n\n\n<p>See the ig pub docs here:  <a href=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Jekyll\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Jekyll\">http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Jekyll</a></p>\n<p>All this information about the profile is in the temp/data/stucturedefinitions.json file.    This combined with the ig.json file allow you to pretty much access anything using Liquid.   you can also get all the pages using site.html_pages and sort through those too.</p>",
        "id": 157981668,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549816604
    },
    {
        "content": "<p>the list files are a convenience</p>",
        "id": 157981678,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549816632
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 157981753,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549816786
    },
    {
        "content": "<p>For me is often easier to just manually create the list if there are only a few of them.</p>",
        "id": 157982069,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549817316
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  I'll just have to familiarize myself with liquid it seems ;)</p>",
        "id": 157987780,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549827326
    },
    {
        "content": "<p>I would imagine data type profiles as a pretty basic need in any IG - or am I wrong?</p>",
        "id": 157987788,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549827356
    },
    {
        "content": "<p>Yes.  It's just that the lists aren't commonly used in most IG publications, so no one's noticed before.</p>",
        "id": 157988679,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549828612
    },
    {
        "content": "<p>the list of all included profiles in the IG is not a common case?</p>",
        "id": 157989085,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549829386
    },
    {
        "content": "<p>Technically, extensions are profiles too.  So the question is \"do IGs typically want a pre-defined list of particular artifacts?\" and the answer is that most IGs organize the content into logical groupings that make sense in their own IG.  Sometimes I list data types and profiles together, sometimes separate, sometimes datatypes themselves get split into separate sections.  Sometimes there are no profiles at all.  As a result, I don't think either my framework or Eric's framework (which drive most of the HL7-published IGs) make use of the 'list' files.</p>",
        "id": 157991447,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1549833336
    },
    {
        "content": "<p>noted ... I tried <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> snippet and modified it. Regardless of my modifications or not, I cannot seem to access the attributes under the structuredef. I only seem to be able to get the sd as a json string and not being able to dot into the attributes? The Liquid syntax seems to be pretty clear on this. Is there something that I'm not getting?</p>",
        "id": 157992172,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549834509
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> For what its worth, the IG im working on is not under HL7 (nor local affiliate) .... yet</p>",
        "id": 157992227,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549834582
    },
    {
        "content": "<p>I think that having a prepackaged list for datatypes would be helpful .. for the IPS IG we made the datatype list by hand adding the links ..</p>",
        "id": 158018925,
        "sender_full_name": "Giorgio Cangioli",
        "timestamp": 1549878850
    },
    {
        "content": "<p>I actually have use the list files in my default pages template like this\"</p>\n<div class=\"codehilite\"><pre><span></span>---\ntitle: Profiles defined as part of this Guide\nlayout: default\nactive: profiles\n---\n### Profiles\n\nThe following Profiles have been defined for this implementation guide.\n\n{% include list-profiles.xhtml %}\n\n&lt;br /&gt;\n\n### Extensions\n\nThese extensions have been defined for this implementation guide.\n\n\n{% include list-extensions.xhtml %}\n\n\n{% include link-list.md %}\n\n&lt;br /&gt;\n</pre></div>",
        "id": 158046542,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549904820
    },
    {
        "content": "<p>so a 'list-datatypes.xhtml' could be useful too.  but in the meantime you can create these using liquid... I'll post a working example shortly</p>",
        "id": 158046665,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549904927
    },
    {
        "content": "<p>because right now the datatypes get lumped in with list-profiles.xhtml</p>",
        "id": 158046820,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549905025
    },
    {
        "content": "<p>Looking into this more deeply this example in the CI build is wrong</p>\n<p>Base Extension (a standard data type) (example: Extension - XML, JSON): </p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;resourceType&quot;: &quot;StructureDefinition&quot;,\n  &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/Extension&quot;,\n  &quot;name&quot;: &quot;Extension&quot;,\n  &quot;kind&quot;: &quot;datatype&quot;,\n  &quot;baseDefinition&quot;: &quot;http://hl7.org/fhir/StructureDefinition/Element&quot;\n}\n</pre></div>\n\n\n<p>There is no code 'datatype'   for the element <code>kind</code></p>\n<p>GF pending</p>",
        "id": 158047888,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549905890
    },
    {
        "content": "<p>I am assuming what <span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span>  is looking for is  a list of constrained datatypes...</p>\n<p>e.g. these critters</p>\n<p>A constrained data type (example: Money - XML, JSON):</p>\n<div class=\"codehilite\"><pre><span></span>{\n  &quot;resourceType&quot;: &quot;StructureDefinition&quot;,\n  &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/Money&quot;,\n  &quot;name&quot;: &quot;Money&quot;,\n  &quot;kind&quot;: &quot;complex-type&quot;,\n  &quot;type&quot;: &quot;Quantity&quot;,\n  &quot;baseDefinition&quot;: &quot;http://hl7.org/fhir/StructureDefinition/Quantity&quot;\n}\n</pre></div>",
        "id": 158048036,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549906021
    },
    {
        "content": "<p>Whats the GF #ID</p>",
        "id": 158050412,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549908079
    },
    {
        "content": "<p>OK I created a constrained Reference profile in FHIR R4 and here is the generated structuredefinitions.json file from which you can create a list....</p>\n<div class=\"codehilite\"><pre><span></span>  },\n  &quot;ifr&quot;: {\n    &quot;index&quot;: 5,\n    &quot;url&quot;: &quot;http://www.fhir.org/guides/test3/StructureDefinition/ifr&quot;,\n    &quot;name&quot;: &quot;Identifer Free Reference Data Type&quot;,\n    &quot;path&quot;: &quot;StructureDefinition-ifr.html&quot;,\n    &quot;kind&quot;: &quot;complex-type&quot;,\n    &quot;type&quot;: &quot;Reference&quot;,\n    &quot;base&quot;: &quot;http://hl7.org/fhir/StructureDefinition/Reference&quot;,\n    &quot;basename&quot;: &quot;Reference&quot;,\n    &quot;basepath&quot;: &quot;http://build.fhir.org/datatypes.html#Reference&quot;,\n    &quot;status&quot;: &quot;draft&quot;,\n    &quot;date&quot;: &quot;Fri Jun 02 00:00:00 PDT 2017&quot;\n  }\n</pre></div>\n\n\n<p>so to create a list in markdown would be;</p>\n<div class=\"codehilite\"><pre><span></span>{% for sd_hash in site.data.structuredefinitions -%}\n  {%- assign sd = sd_hash[1] -%}\n  {%- if sd.kind  == &quot;complex-type&quot; and sd.type != &quot;Extension&quot; -%}\n    - [{{sd.name}}]({{sd.path}})\n  {%- endif -%}\n{%- endfor -%}\n</pre></div>\n\n\n<p>here is an example...</p>\n<p><a href=\"https://github.com/Healthedata1/IG-Template2/blob/master/source/pages/profiles.md\" target=\"_blank\" title=\"https://github.com/Healthedata1/IG-Template2/blob/master/source/pages/profiles.md\">https://github.com/Healthedata1/IG-Template2/blob/master/source/pages/profiles.md</a></p>\n<p>which produces this output:</p>\n<p><a href=\"https://healthedata1.github.io/IG-Template2/profiles.html\" target=\"_blank\" title=\"https://healthedata1.github.io/IG-Template2/profiles.html\">https://healthedata1.github.io/IG-Template2/profiles.html</a></p>",
        "id": 158052404,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549909913
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20383\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20383\">GF#20383</a></p>",
        "id": 158052702,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549910160
    },
    {
        "content": "<p>Whats the <code>-%</code> in your liquid?</p>",
        "id": 158112639,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549973852
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  - if you have multiple data type profiles, the output does not look all that nice. It seems that the generated out adds indents for each entry</p>",
        "id": 158115882,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1549977026
    },
    {
        "content": "<p>You can control that using the  white space controls in liquid using the  \"-\"  in the {%-  or -%}  I went a little overboard in using them in my example.</p>\n<p><a href=\"https://shopify.github.io/liquid/basics/whitespace/\" target=\"_blank\" title=\"https://shopify.github.io/liquid/basics/whitespace/\">https://shopify.github.io/liquid/basics/whitespace/</a></p>",
        "id": 158128024,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549987074
    },
    {
        "content": "<p>it lets you indent your control structures all nice and pretty like</p>",
        "id": 158128252,
        "sender_full_name": "Eric Haas",
        "timestamp": 1549987205
    },
    {
        "content": "<p>thx - regardless - I didn't find a way to control the indentation/margin of the generated bullets when having multiple elements. I ended up doing </p>\n<div class=\"codehilite\"><pre><span></span>{% for sd_hash in site.data.structuredefinitions -%}\n  {%- assign sd = sd_hash[1] -%}\n  {%- if sd.kind  == &quot;complex-type&quot; and sd.type != &quot;Extension&quot; -%}\n&lt;li&gt; &lt;a href=&quot;{{sd.path}}&quot;&gt;{{sd.name}}&lt;/a&gt;{{sd.title}}  &lt;/li&gt;\n  {%- endif -%}\n{%- endfor -%}\n</pre></div>\n\n\n<p>As the way of controlling the same bullet margin for all elements</p>",
        "id": 158423381,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1550048027
    }
]