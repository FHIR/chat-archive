[
    {
        "content": "<p>I'm seeing a number of these exceptions from the IG Publisher (1.1.97) now when building the IPS IG (<a href=\"https://github.com/HL7/fhir-ips\">https://github.com/HL7/fhir-ips</a>):</p>\n<div class=\"codehilite\"><pre><span></span><code>Exception rendering http://hl7.org/fhir/uv/ips/StructureDefinition/Observation-results-uv-ips|1.0.0||http://hl7.org/fhir/uv/ips/StructureDefinition/Observation-results-uv-ips|1.0.0: Unable to resolve StructureDefinition  resolving content reference #Observation.referenceRange\norg.hl7.fhir.exceptions.FHIRException: Unable to resolve StructureDefinition  resolving content reference #Observation.referenceRange\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.getElementByName(ProfileUtilities.java:3724)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.genTypes(ProfileUtilities.java:3493)\n    at org.hl7.fhir.r5.conformance.ProfileUtilities.genElementCells(ProfileUtilities.java:4243)\n    at org.hl7.fhir.r5.comparison.ProfileComparer.genElementComp(ProfileComparer.java:991)\n    at org.hl7.fhir.r5.comparison.ProfileComparer.genElementComp(ProfileComparer.java:1003)\n    at org.hl7.fhir.r5.comparison.ProfileComparer.genElementComp(ProfileComparer.java:1003)\n    at org.hl7.fhir.r5.comparison.ProfileComparer.renderStructure(ProfileComparer.java:926)\n    at org.hl7.fhir.r5.comparison.ComparisonRenderer.renderProfile(ComparisonRenderer.java:208)\n    at org.hl7.fhir.r5.comparison.ComparisonRenderer.renderComparison(ComparisonRenderer.java:131)\n    at org.hl7.fhir.r5.comparison.ComparisonRenderer.processList(ComparisonRenderer.java:98)\n    at org.hl7.fhir.r5.comparison.ComparisonRenderer.render(ComparisonRenderer.java:74)\n    at org.hl7.fhir.igtools.publisher.PreviousVersionComparator.finishChecks(PreviousVersionComparator.java:260)\n    at org.hl7.fhir.igtools.publisher.Publisher.checkConformanceResources(Publisher.java:4213)\n    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:4119)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:947)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:798)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:9079)\n</code></pre></div>\n<p>These don't seem to have anything to do with what we've profiled in the IG (e.g., referenceRange isn't in the Observation-results-uv-ips profile), and they also don't stop the build.  Thoughts?  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 269280012,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1643127178
    },
    {
        "content": "<p>It seems that this is coming from the PreviousVersionComparator.</p>",
        "id": 269284966,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1643129092
    },
    {
        "content": "<p>I don't worry much about those kinds of errors doing previous version comparison - sometimes the comparison ends up trying to compare things that don't exist</p>",
        "id": 269520051,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643252695
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> That seems fair enough, and is good to know.  But that's not exactly obvious from looking at the build output - and at least it <strong>looks</strong> like it could be significant.  Could this be handled in a different way in the build log other than the raw exception messages?</p>",
        "id": 269630917,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1643314291
    },
    {
        "content": "<p>maybe. the problem is that the logging code doesn't know that's the context it's running in</p>",
        "id": 269632076,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1643314867
    }
]