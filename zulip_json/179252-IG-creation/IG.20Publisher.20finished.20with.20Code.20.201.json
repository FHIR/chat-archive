[
    {
        "content": "<p>I am running the IG Publisher from Trifolia. This morning I sat down to make a change and ran the publisher before making any changes. Previous builds ran fine; today I get \"IG Publisher finished with Code 1\" and a stack dump</p>\n<p>Publishing Content Failed: Error Parsing File XXXXXX-1H1V1tA4IUOOH/input/MCC-IG.json: JsonObject (00:01.0828)<br>\n                                                                                 (00:01.0829)<br>\nUse -? to get command line help                                                  (00:01.0829)<br>\n                                                                                 (00:01.0830)<br>\nStack Dump (for debugging):                                                      (00:01.0830)<br>\njava.lang.Exception: Error Parsing File XXX/tmp-1H1V1tA4IUOOH/input/MCC-IG.json: JsonObject<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromIg(Publisher.java:1662)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1479)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:738)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8557)<br>\nCaused by: java.lang.UnsupportedOperationException: JsonObject<br>\n    at com.google.gson.JsonElement.getAsString(JsonElement.java:192)<br>\n    at org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuideImplementationGuideDefinitionResourceComponentProperties(JsonParser.java:14566)<br>\n    at org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuideImplementationGuideDefinitionResourceComponent(JsonParser.java:14534)<br>\n    at org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuideImplementationGuideDefinitionComponentProperties(JsonParser.java:14495)<br>\n    at org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuideImplementationGuideDefinitionComponent(JsonParser.java:14480)<br>\n    at org.hl7.fhir.r4.formats.JsonParser.parseImplementationGuideProperties(JsonParser.java:14433)</p>\n<p>etc.</p>\n<p>I tried switching to other versions of the publisher, and I get the same behaviour with all the versions I tried. </p>\n<p>Any hints?</p>",
        "id": 255068977,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632756863
    },
    {
        "content": "<p>Did you take a look at MCC-IG.json and verify that it is in fact valid JSON?</p>",
        "id": 255070785,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1632757540
    },
    {
        "content": "<p><code>Caused by: java.lang.UnsupportedOperationException: JsonObject</code> usually means that you have a value somewhere that is an object (e.g., <code>{</code> ... <code>}</code>), but it should be an array (e.g., <code>[</code>...<code>]</code>) or primitive value.  You might get more information if you try putting that MCC-IG.json through a FHIR validator.</p>",
        "id": 255077998,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1632760180
    },
    {
        "content": "<p>there were no changes since the last time the publisher was run, which is why I came here first</p>",
        "id": 255078423,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632760326
    },
    {
        "content": "<p>will do</p>",
        "id": 255078540,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632760382
    },
    {
        "content": "<p>validation only showed the existing known errors that were there when the build used to run. And confirmed that there have no changes since the build that worked on Sept 14</p>",
        "id": 255133127,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632783203
    },
    {
        "content": "<p>What's the URL for the IG?</p>",
        "id": 255147833,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1632792866
    },
    {
        "content": "<p><a href=\"https://trifolia-fhir.lantanagroup.com/igs/lantana_hapi_r4/MCC-IG/index.html\">https://trifolia-fhir.lantanagroup.com/igs/lantana_hapi_r4/MCC-IG/index.html</a></p>",
        "id": 255216255,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632835830
    },
    {
        "content": "<p>note - I didn't create this, I have been tasked with making small fixes...</p>",
        "id": 255216365,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632835876
    },
    {
        "content": "<p>Is it available in Git somewhere?</p>",
        "id": 255225132,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1632839083
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> sorry for the delay - juggling everything including mum in hospital heading to assisted living. <a href=\"https://github.com/HL7/fhir-us-mcc\">https://github.com/HL7/fhir-us-mcc</a> contains the export from before my Sept 14 update, which renamed one of the lab profiles</p>",
        "id": 255290154,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632859751
    },
    {
        "content": "<p>I can do an export from Trifolia again if you need, but I don't think I have committer rights to that repository</p>",
        "id": 255290361,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632859842
    },
    {
        "content": "<p>that runs for me</p>",
        "id": 255299549,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1632863211
    },
    {
        "content": "<p>It turns out that I did not notice that the latest Trifolia release changed the default to Json from XML, so the json parser was trying to parse XML structure definitions. Once I corrected my error, everything runs as expected</p>",
        "id": 255303564,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632864780
    },
    {
        "content": "<p>Thanks for your help</p>",
        "id": 255303639,
        "sender_full_name": "Lorraine Constable",
        "timestamp": 1632864815
    }
]