[
    {
        "content": "<p>I\"m trying a build and getting these:<br>\nLoad Terminology Cache from C:\\Users\\dpyke\\.fhir\\tx-cache\\git@github.com:HL7\\fhir.git\\Consent-Example-updates-nov-21 1.012   7sec   56MB<br>\nInitialise terminology cache from <a href=\"http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/Consent-Example-updates-nov-21.zip\">http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/Consent-Example-updates-nov-21.zip</a><br>\nNo - can't initialise cache from <a href=\"http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/Consent-Example-updates-nov-21.zip\">http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/Consent-Example-updates-nov-21.zip</a>: <a href=\"http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/Consent-Example-updates-nov-21.zip?nocache=1636657579763\">http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/Consent-Example-updates-nov-21.zip?nocache=1636657579763</a><br>\nInitialise terminology cache from <a href=\"http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/default.zip\">http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/default.zip</a><br>\nNo - can't initialise cache from <a href=\"http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/default.zip\">http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/default.zip</a>: <a href=\"http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/default.zip?nocache=1636657579943\">http://tx.fhir.org/tx-cache/git@github.com:HL7/fhir.git/default.zip?nocache=1636657579943</a></p>\n<p>Which gives me this:<br>\nFHIR build failure @ Thu, Nov 11, 2021 14:06-0500                          3.642  11sec   56MB<br>\nError: null<br>\njava.lang.NullPointerException<br>\n        at org.hl7.fhir.r5.context.TerminologyCache.load(TerminologyCache.java:383)<br>\n        at org.hl7.fhir.r5.context.TerminologyCache.&lt;init&gt;(TerminologyCache.java:124)<br>\n        at org.hl7.fhir.r5.context.BaseWorkerContext.initTS(BaseWorkerContext.java:1122)<br>\n        at org.hl7.fhir.tools.publisher.PageProcessor.setDefinitions(PageProcessor.java:9148)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.initialize(Publisher.java:1799)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:598)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:487)</p>\n<p>What's a poor committer to do?</p>",
        "id": 261173607,
        "sender_full_name": "David Pyke",
        "timestamp": 1636657961
    },
    {
        "content": "<p>in this case, ask me</p>",
        "id": 261173736,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636658030
    },
    {
        "content": "<p>Oh, Mr. Grieve, what do I do?  You're my only hope!</p>",
        "id": 261173812,
        "sender_full_name": "David Pyke",
        "timestamp": 1636658052
    },
    {
        "content": "<p>what's the log before that happens?</p>",
        "id": 261173901,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636658104
    },
    {
        "content": "<p>14:06:16.798 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\FHIR\\fhir\\.git\\packed-refs, is unmodified<br>\nThis is a GitHub Repository: <a href=\"https://github.com/git@github.com:HL7/fhir.git/Consent-Example-updates-nov-21\">https://github.com/git@github.com:HL7/fhir.git/Consent-Example-updates-nov-21</a> (f495261e97ce8dc4fe8811cdc6d5057be9927354)<br>\nLoad UTG Terminology                                                       5.905   6sec   54MB<br>\nLoad Package hl7.terminology#2.1.0<br>\nLoad Terminology Cache from C:\\Users\\dpyke\\.fhir\\tx-cache\\git@github.com:HL7\\fhir.git\\Consent-Example-updates-nov-21 1.012   7sec   56MB</p>",
        "id": 261174054,
        "sender_full_name": "David Pyke",
        "timestamp": 1636658180
    },
    {
        "content": "<p>Before that is a fabulous number of DEBUG statements</p>",
        "id": 261174139,
        "sender_full_name": "David Pyke",
        "timestamp": 1636658241
    },
    {
        "content": "<p>what kind of debug statements?</p>",
        "id": 261174182,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636658276
    },
    {
        "content": "<p>14:06:16.792 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\Users\\dpyke\\.config\\jgit\\config.lock, is racily clean<br>\n14:06:16.792 [main] DEBUG org.eclipse.jgit.util.SystemReader - loading config FileBasedConfig[C:\\Users\\dpyke\\.config\\jgit\\config]<br>\n14:06:16.792 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\Users\\dpyke\\.config\\jgit\\config, create new FileSnapshot: lastRead=2021-11-11 14:06:16.792999200, lastModified=2021-11-11 14:06:16.768999000, size=121, fileKey=java.lang.Object@13e39c73<br>\n14:06:16.798 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\Users\\dpyke\\.config\\jgit\\config.lock, isRacyClean=false, read=2021-11-11 14:06:16.792999200, lastModified=2021-11-11 14:06:16.768999000, delta=24000200 ns, racy&lt;=2508500 ns<br>\n14:06:16.798 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\Program Files\\Git\\etc\\gitconfig, isRacyClean=false, read=2021-11-11 14:06:13.556002100, lastModified=2021-10-14 09:51:43.943159000, delta=2438069612843100 ns, racy&lt;=2500000000 ns<br>\n14:06:16.798 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\Program Files\\Git\\etc\\gitconfig, is unmodified<br>\n14:06:16.798 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\Users\\dpyke\\.gitconfig, isRacyClean=false, read=2021-11-11 14:06:13.558001800, lastModified=2021-06-03 15:22:45.078444000, delta=13909408479557800 ns, racy&lt;=2500000000 ns<br>\n14:06:16.798 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\Users\\dpyke\\.gitconfig, is unmodified<br>\n14:06:16.798 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\FHIR\\fhir\\.git\\config, isRacyClean=false, read=2021-11-11 14:06:13.559001600, lastModified=2021-11-08 10:08:33.102640000, delta=273460456361600 ns, racy&lt;=2500000000 ns<br>\n14:06:16.798 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\FHIR\\fhir\\.git\\config, is unmodified<br>\n14:06:16.798 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\FHIR\\fhir\\.git\\packed-refs, isRacyClean=false, read=2021-11-11 14:06:16.769999500, lastModified=2021-11-08 11:04:49.703617000, delta=270087066382500 ns, racy&lt;=2508500 ns<br>\n14:06:16.798 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\FHIR\\fhir\\.git\\packed-refs, is unmodified</p>",
        "id": 261174251,
        "sender_full_name": "David Pyke",
        "timestamp": 1636658296
    },
    {
        "content": "<p>Hundreds of FileSnapshot lines</p>",
        "id": 261174363,
        "sender_full_name": "David Pyke",
        "timestamp": 1636658354
    },
    {
        "content": "<p>sigh.</p>",
        "id": 261174568,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636658458
    },
    {
        "content": "<p>I really hate that logging framework, but it doesn't seem as though I can make it go away.</p>",
        "id": 261177650,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636660313
    },
    {
        "content": "<p>though no doubt the maintainers would tell me that somewhere in those 100s of lines is the answer as to why my code is broken.</p>",
        "id": 261177738,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636660359
    },
    {
        "content": "<p>well, then, here's the full log...<br>\n<a href=\"/user_uploads/10155/4WS4H24cpVTPQ1ZCh6nUWbRN/full-log.txt\">full-log.txt</a></p>",
        "id": 261177983,
        "sender_full_name": "David Pyke",
        "timestamp": 1636660541
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span> try again</p>",
        "id": 261179003,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636661131
    },
    {
        "content": "<p>No change</p>",
        "id": 261179255,
        "sender_full_name": "David Pyke",
        "timestamp": 1636661280
    },
    {
        "content": "<p>what's the very first few lines of output?</p>",
        "id": 261179319,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636661307
    },
    {
        "content": "<p>$ publish.bat<br>\nRunning publication process now<br>\nThe system cannot find the file specified.<br>\nUsing<br>\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8</p>\n<blockquote>\n<p>Configure project :</p>\n</blockquote>\n<p>Kicking off FHIR publishing job!</p>\n<p>==============================<br>\nGenerating code using kindling version 1.0.1-SNAPSHOT<br>\nFor more information on kindling, and to check latest version, check here:<br>\n<a href=\"https://github.com/HL7/kindling\">https://github.com/HL7/kindling</a><br>\n==============================</p>\n<blockquote>\n<p>Task :publish<br>\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8<br>\nPublish FHIR in folder C:\\FHIR\\fhir @ Thu, Nov 11, 2021 15:07-0500         0.015   0sec   20MB<br>\nFHIR Main Build Publisher 2.1                                              0.035   0sec   20MB<br>\nDetected Java version: 11.0.11 from C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.11.9-hotspot on Windows 10/amd64 (64bit). 8124MB available 0.001   0sec   20MB<br>\ndir = C:\\FHIR\\fhir, path = C:\\Program Files\\ConEmu\\ConEmu\\Scripts;C:\\Program Files\\ConEmu;C:\\Program Files\\ConEmu\\ConEmu;C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.11.9-hotspot\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files (x86)\\Gow\\bin;C:\\Program Files\\dotnet\\;C:\\Program Files\\VSCodium\\bin;C:\\Program Files\\PuTTY\\;C:\\Program Files (x86)\\NTP\\bin;C:\\Program Files\\apache-maven-3.8.2\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\PowerShell\\7\\;C:\\Ruby27-x64\\bin;C:\\Users\\dpyke\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\dpyke\\AppData\\Local\\Pandoc\\;C:\\Users\\dpyke\\AppData\\Roaming\\npm;C:\\Users\\dpyke\\AppData\\Local\\Box\\Box Edit\\   0.0   0sec   20MB<br>\nParameters:                                                                  0.0   0sec   20MB<br>\nStart Clock @ Thursday, November 11, 2021 at 3:07:19 PM Eastern Standard Time (2021-11-11T15:07:19-05:00) 0.005   0sec   20MB<br>\n                                                                           0.001   0sec   20MB<br>\nBuild local copy                                                             0.0   0sec   20MB<br>\nAPI keys loaded from C:\\Users\\dpyke\\fhir-build-keys.ini                    0.068   0sec   20MB<br>\n15:07:19.753 [main] DEBUG org.eclipse.jgit.internal.storage.file.FileSnapshot - file=C:\\FHIR\\fhir\\.git\\config, create new FileSnapshot: lastRead=2021-11-11 15:07:19.748816800, lastModified=2021-11-11 15:06:56.470835000, size=458, fileKey=java.lang.Object@13e39c73</p>\n</blockquote>",
        "id": 261179376,
        "sender_full_name": "David Pyke",
        "timestamp": 1636661342
    },
    {
        "content": "<p>ok thanks. and then after all the jgit crap, what's the reported github location?</p>",
        "id": 261179549,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636661429
    },
    {
        "content": "<p>\"This is a GitHub Repository\"... what  does that say?</p>",
        "id": 261179575,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636661451
    },
    {
        "content": "<p>This is a GitHub Repository: <a href=\"https://github.com/git@github.com:HL7/fhir.git/Consent-Example-updates-nov-21\">https://github.com/git@github.com:HL7/fhir.git/Consent-Example-updates-nov-21</a> (f495261e97ce8dc4fe8811cdc6d5057be9927354)</p>",
        "id": 261179592,
        "sender_full_name": "David Pyke",
        "timestamp": 1636661468
    },
    {
        "content": "<p>Do you want me to push up my changes?  I haven't because they're not tested</p>",
        "id": 261179639,
        "sender_full_name": "David Pyke",
        "timestamp": 1636661518
    },
    {
        "content": "<p>no it's to do with infrastructure</p>",
        "id": 261179687,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636661533
    },
    {
        "content": "<p>ok, try again, and keep trying again occasionally until the line  FHIR Main Build Publisher reports version 2.1.1</p>",
        "id": 261180280,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636661906
    },
    {
        "content": "<p>okay, it failed now but I'll try again in a bit</p>",
        "id": 261180344,
        "sender_full_name": "David Pyke",
        "timestamp": 1636661962
    },
    {
        "content": "<p>This is still happening. How do I force it to update to 2.1.1?</p>",
        "id": 261256969,
        "sender_full_name": "David Pyke",
        "timestamp": 1636726276
    },
    {
        "content": "<p>I don't know. you using publish.bat?</p>",
        "id": 261287674,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1636739627
    },
    {
        "content": "<p>Yes, but a I did a <code>gradlew clean publish</code> and it was the same.</p>",
        "id": 261288490,
        "sender_full_name": "David Pyke",
        "timestamp": 1636739989
    },
    {
        "content": "<p>A new kindling was pulled down and now everything works!  Huzzah!</p>",
        "id": 261498688,
        "sender_full_name": "David Pyke",
        "timestamp": 1636984213
    }
]