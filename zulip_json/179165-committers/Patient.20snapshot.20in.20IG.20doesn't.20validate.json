[
    {
        "content": "<p>When I try and validate the following StructureDefinition I get a validation issue on the snapshot<br>\n<a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.xml.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.xml.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.xml.html</a></p>\n<div class=\"codehilite\"><pre><span></span>&lt;IssueComponent&gt;\n  &lt;severity value=&quot;error&quot; /&gt;\n  &lt;code value=&quot;invalid&quot; /&gt;\n  &lt;details&gt;\n    &lt;coding&gt;\n      &lt;system value=&quot;http://hl7.org/fhir/dotnet-api-operation-outcome&quot; /&gt;\n      &lt;code value=&quot;1028&quot; /&gt;\n    &lt;/coding&gt;\n    &lt;text value=&quot;Instance count for &#39;ElementDefinition.type.code&#39; is 0, which is not within the specified cardinality of 1..1&quot; /&gt;\n  &lt;/details&gt;\n  &lt;location value=&quot;StructureDefinition.snapshot[0].element[195].type[0]&quot; /&gt;\n&lt;/IssueComponent&gt;\n&lt;IssueComponent&gt;\n  &lt;severity value=&quot;error&quot; /&gt;\n  &lt;code value=&quot;invalid&quot; /&gt;\n  &lt;details&gt;\n    &lt;coding&gt;\n      &lt;system value=&quot;http://hl7.org/fhir/dotnet-api-operation-outcome&quot; /&gt;\n      &lt;code value=&quot;1028&quot; /&gt;\n    &lt;/coding&gt;\n    &lt;text value=&quot;Instance count for &#39;ElementDefinition.type.code&#39; is 0, which is not within the specified cardinality of 1..1&quot; /&gt;\n  &lt;/details&gt;\n  &lt;location value=&quot;StructureDefinition.snapshot[0].element[202].type[0]&quot; /&gt;\n&lt;/IssueComponent&gt;\n</pre></div>\n\n\n<p>This is the only one that I've come across, the specific element definition highlighted in the snapshot is this one</p>\n<div class=\"codehilite\"><pre><span></span>&lt;ElementDefinition id=&quot;Patient.birthDate.value&quot;&gt;\n  &lt;path value=&quot;Patient.birthDate.value&quot; /&gt;\n  &lt;representation value=&quot;xmlAttr&quot; /&gt;\n  &lt;short value=&quot;Primitive value for date&quot; /&gt;\n  &lt;definition value=&quot;The actual value&quot; /&gt;\n  &lt;min value=&quot;0&quot; /&gt;\n  &lt;max value=&quot;1&quot; /&gt;\n  &lt;base&gt;\n    &lt;path value=&quot;date.value&quot; /&gt;\n    &lt;min value=&quot;0&quot; /&gt;\n    &lt;max value=&quot;1&quot; /&gt;\n  &lt;/base&gt;\n  &lt;type&gt;\n    &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-regex&quot;&gt;\n      &lt;valueString value=&quot;-?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1]))?)?&quot; /&gt;\n    &lt;/extension&gt;\n  &lt;/type&gt;\n&lt;/ElementDefinition&gt;\n</pre></div>",
        "id": 154018649,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1542243382
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> , this is my only technical issue with the AU guides.</p>",
        "id": 154018651,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1542243606
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I think this is an issue with the snapshot generator...</p>",
        "id": 154018652,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1542243775
    },
    {
        "content": "<p>it seems to happen on extension of a type choice</p>",
        "id": 154018653,
        "sender_full_name": "Brett Esler",
        "timestamp": 1542243849
    },
    {
        "content": "<p>so where can I reproduce this?</p>",
        "id": 154018664,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1542249076
    },
    {
        "content": "<p>In the AU Base IG Patient resource.</p>",
        "id": 154018666,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1542250779
    },
    {
        "content": "<p>It was validated using the .net validator, which seems correct in this case. The type code cardinality is 1..1 in elementdefinition</p>",
        "id": 154018667,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1542250841
    },
    {
        "content": "<p>(Your inner timezone seriously messed up right now Grahame?)</p>",
        "id": 154018668,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1542250867
    },
    {
        "content": "<p>I'm trying not to adjust to Amsterdam as much as possible</p>",
        "id": 154018672,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1542252494
    }
]