[
    {
        "content": "<p>I'm now getting this message: Halting build because broken links were found</p>",
        "id": 153867915,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484691868
    },
    {
        "content": "<p>Why is this happening?</p>",
        "id": 153867916,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484691880
    },
    {
        "content": "<p>It causes my Ant process to fail</p>",
        "id": 153867917,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484691887
    },
    {
        "content": "<p>My IG will *always* have broken links because some of the links point to zips and other files that get generated after the IG process is run</p>",
        "id": 153867918,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484691911
    },
    {
        "content": "<p>(And there are some bugs in the IG publisher that are still producing broken links too)</p>",
        "id": 153867920,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484691937
    },
    {
        "content": "<p>you will have to fix the IG process actually</p>",
        "id": 153867921,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484691966
    },
    {
        "content": "<p>but this code wasn't supposed to be committed yet </p>",
        "id": 153867922,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484691974
    },
    {
        "content": "<p>give me a little while to get to it </p>",
        "id": 153867923,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484691980
    },
    {
        "content": "<p>I've reversed it out</p>",
        "id": 153867927,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484692139
    },
    {
        "content": "<p>There needs to be a parameter to bypass this rule at a minimum</p>",
        "id": 153867928,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484692163
    },
    {
        "content": "<p>there is. it's already documented, but the implementation is not set up. </p>",
        "id": 153867929,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484692228
    },
    {
        "content": "<p>but if you want to use the auto-build process, you *will* conform to this</p>",
        "id": 153867930,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484692246
    },
    {
        "content": "<p>Why?</p>",
        "id": 153867933,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484692618
    },
    {
        "content": "<p>hard rules for security: the only html allowed in an auto-build IG is html that the IG publisher has approved. So the hosting environment clears the output directory and then runs the IG publisher as it's last step</p>",
        "id": 153867935,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484692799
    },
    {
        "content": "<p>right now there's no support for ant, but if you can convince Josh to add it, it has to run before the publisher runs</p>",
        "id": 153867936,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484692823
    },
    {
        "content": "<p>My current use-case is generating Excel from CSV files and producing zip files for the same.  I don't understand why the IG publisher has to be the last step for security reasons</p>",
        "id": 153867938,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484693026
    },
    {
        "content": "<p>you can still do that; just generate the zip files to the temp directory </p>",
        "id": 153867939,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484693071
    },
    {
        "content": "<p>it has to be because the ig build process is open to anyone to use , including people how might want to act maliciously. The IG publisher scrbs the xhtml so it's safe</p>",
        "id": 153867940,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484693130
    },
    {
        "content": "<p>The zip files can't be created until the IG generates its files</p>",
        "id": 153867944,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484693321
    },
    {
        "content": "<p>(Because we're zipping stuff that's input to the Excel creation process)</p>",
        "id": 153867945,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484693342
    },
    {
        "content": "<p>I still don't understand why that's a pronlem</p>",
        "id": 153867946,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484693479
    },
    {
        "content": "<p>Process is IGPublisher produces CSV; Excel turns CSV into XLS, then produce zip files of all XLS files.  HTML files produced by IGPublisher include links to XLS and combined zip files</p>",
        "id": 153867949,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484693682
    },
    {
        "content": "<p>If IGPublisher dies with broken links to stuff that can't be produced until the IGPublisher is done, that's a bit of a problem</p>",
        "id": 153867950,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484693734
    },
    {
        "content": "<p>you can't use excel in a build process</p>",
        "id": 153867951,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484693790
    },
    {
        "content": "<p>what are all these xls files?</p>",
        "id": 153867952,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484693803
    },
    {
        "content": "<p>Prettied up versions of the CSV files</p>",
        "id": 153867953,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484693860
    },
    {
        "content": "<p>which csv files?</p>",
        "id": 153867954,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484693899
    },
    {
        "content": "<p>I could actually produce the Excel files using XSLT instead, it was just easier to use VBA</p>",
        "id": 153867955,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484693916
    },
    {
        "content": "<p>The IGPublisher can produce CSV files</p>",
        "id": 153867957,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484693925
    },
    {
        "content": "<p>Contains the information from the table view as separate CSV columns</p>",
        "id": 153867958,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484693947
    },
    {
        "content": "<p>well, we can produce xls files too</p>",
        "id": 153867959,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484693978
    },
    {
        "content": "<p>Sure.  But the point is that not everyone is going to want to add their artifacts into the official IGPublisher (and we may not want them to).  Post-processing ought to be something that's possible</p>",
        "id": 153867960,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484694053
    },
    {
        "content": "<p>sorry. not going to be possible</p>",
        "id": 153867962,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484694096
    },
    {
        "content": "<p>right now there's no ant support at all.</p>",
        "id": 153867963,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484694120
    },
    {
        "content": "<p>I don't understand the security risk posed by post-processing</p>",
        "id": 153867964,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484694209
    },
    {
        "content": "<p>can do whatever you want to the html. </p>",
        "id": 153867965,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484694235
    },
    {
        "content": "<p>Sure</p>",
        "id": 153867966,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484694241
    },
    {
        "content": "<p>that's fairly obvious</p>",
        "id": 153867967,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484694252
    },
    {
        "content": "<p>But what I can do is defined by the build process which is maintained in the project which has limited committer access</p>",
        "id": 153867968,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484694270
    },
    {
        "content": "<p>I can do all sorts of nasty things in the IGPublisher tool too - as can any other HL7 committer.  We trust our committers to not do that and the general public doesn't have commit rights</p>",
        "id": 153867969,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484694312
    },
    {
        "content": "<p>any project in the world can use the ig auto-builder. </p>",
        "id": 153867970,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484694465
    },
    {
        "content": "<p>not just ours </p>",
        "id": 153867971,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484694467
    },
    {
        "content": "<p>so the ig publisher is the last step </p>",
        "id": 153867972,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484694484
    },
    {
        "content": "<p>So the concern is anyone in the world can put up a website with bad stuff, but we'll make sure that if they use the IGPublisher to put up their website, it can't contain bad stuff??</p>",
        "id": 153867973,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484694879
    },
    {
        "content": "<p>How does anyone who gets the URL for an IG know it was created with the IGPublisher?</p>",
        "id": 153867974,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484694907
    },
    {
        "content": "<p>Is the issue that we're going to host things under the HL7 website?  And we want to ensure that whatever we host is clean?</p>",
        "id": 153867975,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484694932
    },
    {
        "content": "<p>If that's the case, then separate the \"generate content\" from the \"prep content for posting\" step</p>",
        "id": 153867976,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484694951
    },
    {
        "content": "<p>if only it was so easy. </p>",
        "id": 153867982,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484707197
    },
    {
        "content": "<p>We can chat at some point and you can explain why it isn't</p>",
        "id": 153867985,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484709801
    }
]