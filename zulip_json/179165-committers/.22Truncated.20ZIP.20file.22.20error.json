[
    {
        "content": "<p>Any idea what this error means?</p>\n<div class=\"codehilite\"><pre><span></span><code>This was a Full Build                                                      0.001  55sec  291MB\nFHIR build failure @ Fri, Feb 19, 2021 10:38-0600                          0.756  56sec  291MB\nError: Truncated ZIP file\njava.io.IOException: Truncated ZIP file\n        at org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.readDeflated(ZipArchiveInputStream.java:590)\n        at org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.read(ZipArchiveInputStream.java:488)\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\n        at org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.read(ZipArchiveThresholdInputStream.java:78)\n        at org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:151)\n        at org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:120)\n        at org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:107)\n        at org.apache.poi.openxml4j.util.ZipArchiveFakeEntry.&lt;init&gt;(ZipArchiveFakeEntry.java:47)\n        at org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:51)\n        at org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:106)\n        at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:299)\n        at org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:37)\n        at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:307)\n        at org.hl7.fhir.definitions.parsers.spreadsheets.SpreadSheetReloader.process(SpreadSheetReloader.java:90)\n        at org.hl7.fhir.definitions.parsers.SourceParser.loadResource(SourceParser.java:1259)\n        at org.hl7.fhir.definitions.parsers.SourceParser.parse(SourceParser.java:274)\n        at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:580)\n        at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:473)\n</code></pre></div>\n<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>? <span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span>?</p>",
        "id": 226991060,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1613752855
    },
    {
        "content": "<p>wild guess: is your xslx correctly saved? <br>\n(asking this because the xlsx is basically a zip file and the top message seems to say it's not able to deflate)</p>",
        "id": 227002248,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1613757441
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> You were on the right track.  I reverted back to a completely clean repo on master and also removed the observationdefinition spreadsheet that I had been working on (as they aren't checked in to GH) and I still kept getting the error.  But finally I tried removing all .xlsx files in source, and that resolved the error!  It doesn't explain what was corrupted or how it got that way, but at least it finally worked.  One thing that I think would be really helpful is when the process fails with the \"Truncated ZIP file\" message it should tell you which file it was working on that failed. <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 227188773,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1613935942
    },
    {
        "content": "<p>the xlsx file internally is a zip file. So that means that something about it wasn't right</p>",
        "id": 227540059,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1614135109
    },
    {
        "content": "<p>Yes, that makes sense - and Jose pointed me in that direction.  What wasn't clear, though, was what was the change that caused the error, as it turned out not to be from the observationdefinition spreadsheet that I had been working on (and I still don't know which one it was).  Since the *.xlsx files aren't in source control it's not easy to see if any of them have changed - so having the error message state which file was being processed that generated the error would be very useful.</p>",
        "id": 227553024,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1614147166
    }
]