[
    {
        "content": "<p>I've found 2 invalid search parameters....<br>\nGroup <code>value</code> and Observation <code>combo-value-quantity</code><br>\nThese both have an issue in the expression where the operator precedence in fhir has <code>|</code> ahead of <code>as</code>, hence they shouldn't compile.</p>\n<div class=\"codehilite\"><pre><span></span>Group.characteristic.value as CodeableConcept | Group.characteristic.value as boolean\n</pre></div>",
        "id": 154023021,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1543990670
    },
    {
        "content": "<p>Relevant part of <a href=\"http://hl7.org/fhirpath/\" target=\"_blank\" title=\"http://hl7.org/fhirpath/\">http://hl7.org/fhirpath/</a> is section 6.8<br>\nIf this operator precedence is wrong, then its a fhirpath bug...</p>",
        "id": 154023022,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1543990735
    },
    {
        "content": "<p>(apart from this all the search expressions seem to be valid to the dotnet implementation)</p>",
        "id": 154023023,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1543990862
    },
    {
        "content": "<p>Complete list of invalid search parameter definitions (with this issue)<br>\nGroup: Value<br>\nObservation: combo-value-quantity, component-value-quantity, value-quantity, value-string<br>\n<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span>, <span class=\"user-mention\" data-user-id=\"191328\">@Ewout Kramer</span> is my understanding of the fhirpath here correct?</p>",
        "id": 154023081,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1544012784
    },
    {
        "content": "<p>we are we at with the build freeze, I can look at making technical corrections to the Obs SP?</p>\n<p>assuming the fix  is:</p>\n<div class=\"codehilite\"><pre><span></span>Group.characteristic.value as CodeableConcept | Group.characteristic.value as boolean\n</pre></div>\n\n\n<p>to</p>\n<div class=\"codehilite\"><pre><span></span>(Group.characteristic.value as CodeableConcept) | (Group.characteristic.value as boolean)\n</pre></div>",
        "id": 154023223,
        "sender_full_name": "Eric Haas",
        "timestamp": 1544034039
    },
    {
        "content": "<p>I wish it was incorrect but it doesn't look like you are</p>",
        "id": 154023258,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544040016
    },
    {
        "content": "<p>yes that is the fix, and please make it</p>",
        "id": 154023259,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544040039
    },
    {
        "content": "<p>that's why we're at build freeze - so we find and fix things like this</p>",
        "id": 154023260,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544040055
    },
    {
        "content": "<p>Thanks. Are you going to do it Eric, otherwise I'll do them all as a single commit.</p>",
        "id": 154023271,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1544040908
    },
    {
        "content": "<p>I will do it</p>",
        "id": 154023315,
        "sender_full_name": "Eric Haas",
        "timestamp": 1544046802
    },
    {
        "content": "<p>committed should be in  build soon</p>",
        "id": 154023325,
        "sender_full_name": "Eric Haas",
        "timestamp": 1544048491
    },
    {
        "content": "<p>Lol, we both did it. Mine first though. Sorry.<br>\nGood thing is we both did the same change :)</p>",
        "id": 154023335,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1544050707
    }
]