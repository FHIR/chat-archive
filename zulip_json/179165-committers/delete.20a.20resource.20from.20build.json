[
    {
        "content": "<p>I'm trying to delete an obsolete draft resource. I have removed from compartments.xml, translations.xml, hierarchy.xml, all references from other resources, resourcelist.html, history.html, taken all references out of fhir.ini, added to removed-resources section (thanks <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> ), and have done a clean. I still get \"unable to find resource\". What am I missing please?</p>",
        "id": 154006645,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1538993448
    },
    {
        "content": "<p>I would try deleting either your *.class files or if needed your entire publish directory.</p>",
        "id": 154006683,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1539008389
    },
    {
        "content": "<p>that could be \"and\", not necessarily \"or\"<br>\nfor similar issues I've usually found that deleting *.class files works, but not always</p>",
        "id": 154006686,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1539008698
    },
    {
        "content": "<p>If that doesn't work, I'm not sure.  Post the tail of your stack trace and I can see if that triggers any ideas</p>",
        "id": 154006720,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1539012201
    },
    {
        "content": "<p>thanks. Still not working. Stack below. I am not sure which of the two traces is the relevant one.<br>\n     [java] WARNING: Unable to create warnings file - one or more profiles-* files unavailable or invalid<br>\n     [java] To determine the cause of the build failure, look in the log prior to the warning and information messages immediately above<br>\n     [java]   ERROR: Unable to process warnings: An empty sequence is not allowed as the value of variable $groups<br>\n     [java] Error on line 14<br>\n     [java]   XTTE0570: An empty sequence is not allowed as the value of variable $groups<br>\n     [java]   in variable groups<br>\n     [java] This was a Full Build                                                      1.045 371sec 1348MB<br>\n     [java] ; SystemID: ; Line#: 14; Column#: -1<br>\n     [java] net.sf.saxon.trans.XPathException: An empty sequence is not allowed as the value of variable $groups<br>\n     [java]     at net.sf.saxon.expr.Expression.typeError(Expression.java:1163)<br>\n     [java]     at net.sf.saxon.expr.CardinalityChecker.iterate(CardinalityChecker.java:226)<br>\n     [java]     at net.sf.saxon.expr.ItemChecker.iterate(ItemChecker.java:170)<br>\n     [java]     at net.sf.saxon.expr.parser.ExpressionTool.evaluate(ExpressionTool.java:340)<br>\n     [java]     at net.sf.saxon.expr.instruct.GlobalVariable.getSelectValue(GlobalVariable.java:563)<br>\n     [java]     at net.sf.saxon.expr.instruct.GlobalVariable.actuallyEvaluate(GlobalVariable.java:615)<br>\n     [java]     at net.sf.saxon.expr.instruct.GlobalVariable.evaluateVariable(GlobalVariable.java:587)<br>\n     [java]     at net.sf.saxon.expr.VariableReference.evaluateVariable(VariableReference.java:505)<br>\n     [java]     at net.sf.saxon.expr.VariableReference.iterate(VariableReference.java:453)<br>\n     [java]     at net.sf.saxon.expr.SlashExpression.iterate(SlashExpression.java:813)<br>\n     [java]     at net.sf.saxon.expr.sort.DocumentSorter.iterate(DocumentSorter.java:145)<br>\n     [java]     at net.sf.saxon.expr.Atomizer.iterate(Atomizer.java:294)<br>\n     [java]     at net.sf.saxon.functions.DistinctValues.iterate(DistinctValues.java:76)<br>\n     [java]     at net.sf.saxon.expr.sort.SortExpression.iterate(SortExpression.java:537)<br>\n     [java]     at net.sf.saxon.expr.instruct.ForEach.iterate(ForEach.java:498)<br>\n     [java]     at net.sf.saxon.value.MemoClosure.iterate(MemoClosure.java:112)<br>\n     [java]     at net.sf.saxon.expr.VariableReference.iterate(VariableReference.java:454)<br>\n     [java]     at net.sf.saxon.expr.instruct.ForEach.iterate(ForEach.java:498)<br>\n     [java]     at net.sf.saxon.expr.ItemChecker.iterate(ItemChecker.java:170)<br>\n     [java]     at net.sf.saxon.value.MemoClosure.iterate(MemoClosure.java:112)<br>\n     [java]     at net.sf.saxon.expr.VariableReference.iterate(VariableReference.java:454)<br>\n     [java]     at net.sf.saxon.expr.instruct.CopyOf.iterate(CopyOf.java:798)<br>\n     [java]     at net.sf.saxon.expr.instruct.BlockIterator.next(BlockIterator.java:49)<br>\n     [java]     at net.sf.saxon.expr.sort.SortedIterator.buildArray(SortedIterator.java:223)<br>\n     [java]     at net.sf.saxon.expr.sort.SortedIterator.doSort(SortedIterator.java:255)<br>\n     [java]     at net.sf.saxon.expr.sort.SortedIterator.next(SortedIterator.java:140)<br>\n     [java]     at net.sf.saxon.expr.instruct.ForEach.processLeavingTail(ForEach.java:475)<br>\n     [java]     at net.sf.saxon.expr.instruct.Instruction.process(Instruction.java:138)<br>\n     [java]     at net.sf.saxon.expr.LetExpression.process(LetExpression.java:463)<br>\n     [java]     at net.sf.saxon.expr.instruct.ElementCreator.processLeavingTail(ElementCreator.java:431)<br>\n     [java]     at net.sf.saxon.expr.instruct.ElementCreator.processLeavingTail(ElementCreator.java:373)<br>\n     [java]     at net.sf.saxon.expr.instruct.Template.applyLeavingTail(Template.java:239)<br>\n     [java]     at net.sf.saxon.trans.Mode.applyTemplates(Mode.java:1057)<br>\n     [java]     at net.sf.saxon.Controller.transformDocument(Controller.java:2080)<br>\n     [java]     at net.sf.saxon.Controller.transform(Controller.java:1903)<br>\n     [java]     at org.hl7.fhir.utilities.Utilities.saxonTransform(Utilities.java:371)<br>\n     [java]     at org.hl7.fhir.tools.publisher.Publisher.processWarnings(Publisher.java:1891)<br>\n     [java]     at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:655)<br>\n     [java]     at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:482)<br>\n     [java] FHIR build failure @ Mon, Oct 8, 2018 17:41+0100                           0.927 372sec 1348MB<br>\n     [java] Error: unable to find resource 'MedicinalProductClinicals'<br>\n     [java] org.hl7.fhir.exceptions.FHIRException: unable to find resource 'MedicinalProductClinicals'<br>\n     [java]     at org.hl7.fhir.definitions.model.Definitions.getResourceByName(Definitions.java:298)<br>\n     [java]     at org.hl7.fhir.tools.publisher.PageProcessor.getFmm(PageProcessor.java:9950)<br>\n     [java]     at org.hl7.fhir.tools.publisher.PageProcessor.processPageIncludes(PageProcessor.java:933)<br>\n     [java]     at org.hl7.fhir.tools.publisher.PageProcessor.processPageIncludes(PageProcessor.java:652)<br>\n     [java]     at org.hl7.fhir.tools.publisher.PageProcessor.processPageIncludes(PageProcessor.java:648)<br>\n     [java]     at org.hl7.fhir.tools.publisher.Publisher.producePage(Publisher.java:5222)<br>\n     [java]     at org.hl7.fhir.tools.publisher.Publisher.produceSpec(Publisher.java:2451)<br>\n     [java]     at org.hl7.fhir.tools.publisher.Publisher.produceSpecification(Publisher.java:2234)<br>\n     [java]     at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:624)<br>\n     [java]     at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:482)</p>",
        "id": 154006740,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1539017342
    },
    {
        "content": "<p>you still have a reference to it somewhere, in a page</p>",
        "id": 154006766,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1539021938
    },
    {
        "content": "<p>The groups message just means things bombed before the warnings file could be created.  The message you care about is prior to this one.</p>",
        "id": 154006772,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1539022839
    },
    {
        "content": "<p>Update on this because it caught me out again and now I know why. The html templates in the build e.g. resourcelist.html do not appear to support xml style comments. If you comment out a resource, the build doesn't notice the comment. So, don't use comments. Physically remove the entries.</p>",
        "id": 226669572,
        "sender_full_name": "Rik Smithies",
        "timestamp": 1613574598
    }
]