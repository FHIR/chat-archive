[
    {
        "content": "<p>So the IG publisher rolls with the current version - you always get the IG publisher for <a href=\"http://build.fhir.org\" target=\"_blank\" title=\"http://build.fhir.org\">build.fhir.org</a> (I</p>",
        "id": 153885710,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493035908
    },
    {
        "content": "<p>(I'll have to fix the downloads page for this). </p>",
        "id": 153885711,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493035922
    },
    {
        "content": "<p>that means that the IG publisher is now running v3.1.0. If you want to publish an R3 guide (e.g. based on 3.0.1), from my next commit you will need to add \"version\" : \"3.0.1\" to your ig.json control file</p>",
        "id": 153885712,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493035999
    },
    {
        "content": "<p>Also the auto-builder will (or may?) need to be aware of this field. Right now it just <a href=\"https://github.com/hl7-fhir/auto-ig-builder/blob/28ba1eb88b118ff82a84096a3864a352aeaff729/builder/builder.py#L41-L42\" target=\"_blank\" title=\"https://github.com/hl7-fhir/auto-ig-builder/blob/28ba1eb88b118ff82a84096a3864a352aeaff729/builder/builder.py#L41-L42\">grabs</a> (hard-coded) <a href=\"http://build.fhir.org/org.hl7.fhir.igpublisher.jar\" target=\"_blank\" title=\"http://build.fhir.org/org.hl7.fhir.igpublisher.jar\">http://build.fhir.org/org.hl7.fhir.igpublisher.jar</a> </p>",
        "id": 153885713,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1493039573
    },
    {
        "content": "<p>that's all it needs to do. It doesn't need to know anything about that the FHIR version of the IG </p>",
        "id": 153885714,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493039640
    },
    {
        "content": "<p>OK. So one version of the publisher handles builds against all FHIR spec versions? Cool.</p>",
        "id": 153885719,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1493040148
    },
    {
        "content": "<p>re: \"that means that the IG publisher is now running v3.1.0. If you want to publish an R3 guide (e.g. based on 3.0.1), from my next commit you will need to add \"version\" : \"3.0.1\" to your ig.json control file\" </p>\n<p>I had to change to Version \"3.1.0\" to get it to work.  Did you transpose the numbers in the code?</p>",
        "id": 153886038,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493168710
    },
    {
        "content": "<p>no. it should be 3.0.1 - what is the problem?</p>",
        "id": 153886104,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493194494
    },
    {
        "content": "<p>OK let me try again</p>",
        "id": 153886194,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493227804
    },
    {
        "content": "<p>OK I removed the \"version\" key value pair from my control file and it works.  But if you have\"version\" : \"3.0.1\",  or \"version\" : \"3.0.0\" it fails with a</p>\n<p><code>Publishing Content Failed: Unsupported version 3.0.1...</code></p>\n<p>Interestingly \"version\" : \"3.1.0\",  does not fail.</p>",
        "id": 153886198,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493228637
    },
    {
        "content": "<p>yep ....{{ site.data.fhir.path }}.... yields 3.1.0</p>",
        "id": 153886237,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493249408
    },
    {
        "content": "<p>Separate issue is {{ site.data.fhir.canonical }} not working for &lt;url  value=\"{{ site.data.fhir.canonical }}/blah\"/&gt;  works in other places in xml at least ( I'm not sure about spreadsheets)</p>",
        "id": 153886243,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493252106
    },
    {
        "content": "<p>what happens if you point the IG publisher at tests/ig30?</p>",
        "id": 153886266,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493272517
    },
    {
        "content": "<p>'''<br>\nErics-Air-2:ig30 ehaas$ bash <a href=\"http://publish.sh\" target=\"_blank\" title=\"http://publish.sh\">publish.sh</a><br>\n=================================================================<br>\n=== Publish test ig30 IG!!! Thu Apr 27 14:42:51 UTC 2017 ===<br>\n=================================================================<br>\nFHIR Implementation Guide Publisher (3.1.0-11939) @ Thursday, April 27, 2017 7:42:52 AM<br>\nDetected Java version: 1.8.0_65 from /Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk/Contents/Home/jre on x86_64 (64bit). 1820MB available<br>\nLoad Configuration from /Users/ehaas/Documents/FHIR/build/tests/ig30/test-ig.json (00.0000sec)<br>\nFile log: /var/folders/_n/bhz7c7qd57d85fvm0g7dzdcw0000gn/T/fhir-ig-publisher-tmp.log<br>\nRoot directory: /Users/ehaas/Documents/FHIR/build/tests/ig30                     (00.0139sec)<br>\nTerminology Cache is at /Users/ehaas/Documents/FHIR/build/tests/ig30/txCache. 12 files in cache (00.0179sec)<br>\nPublishing Content Failed: Unsupported version 3.0.1                             (00.0180sec)<br>\n                                                                                 (00.0182sec)<br>\nUse -? to get command line help                                                  (00.0185sec)<br>\n                                                                                 (00.0189sec)<br>\nStack Dump (for debugging):                                                      (00.0192sec)<br>\norg.hl7.fhir.exceptions.FHIRException: Unsupported version 3.0.1<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadValidationPack(Publisher.java:939)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:739)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:303)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3593)<br>\nErics-Air-2:ig30 ehaas$ </p>\n<p>'''</p>",
        "id": 153886293,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493304218
    },
    {
        "content": "<p>then you are not using the most recent IG publisher</p>",
        "id": 153886350,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493328768
    },
    {
        "content": "<p>just downloaded IG publisher saem version as above with same result</p>",
        "id": 153886366,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493338418
    },
    {
        "content": "<p>alright, wait for 11940 to build, and try that one</p>",
        "id": 153886367,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493340531
    },
    {
        "content": "<p>try again with latest - should work this time</p>",
        "id": 153886396,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493355266
    },
    {
        "content": "<p>Ok  the latest version of the ig publisher  handles the version =3.0.1 in the defintitions files but I think this is still wrong :</p>",
        "id": 153886460,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493485436
    },
    {
        "content": "<p>Jekyll Site Variables<br>\ndependency url - e.g. “uscore” : Base url of a dependency implementation Guide (defined in ig.json) - {{ site.data.fhir.uscore }} = <a href=\"http://hl7.org/fhir/us/core/\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/\">http://hl7.org/fhir/us/core/</a></p>\n<p>igName : Title of the implementation Guide (defined in ig.xml) - {{ site.data.fhir.igName }} = Implementation Guide Template</p>\n<p>path : path to the main FHIR specification (defined in ig.json)- {{ site.data.fhir.path }} = <a href=\"http://build.fhir.org\" target=\"_blank\" title=\"http://build.fhir.org\">http://build.fhir.org</a></p>\n<p>canonical : canonical path to this specification (defined in ig.json)- {{ site.data.fhir.canonical }} = <a href=\"http://www.fhir.org/guides/ig-template\" target=\"_blank\" title=\"http://www.fhir.org/guides/ig-template\">http://www.fhir.org/guides/ig-template</a></p>\n<p>errorCount : number of errors in the build file (not including HTML validation errors) - {{ site.data.fhir.errorCount }} = 3</p>\n<p>version : version of FHIR - {{ site.data.fhir.version }} = 3.1.0</p>\n<p>revision : revision of FHIR - {{ site.data.fhir.revision }} = 11939</p>\n<p>versionFull : version-revision - {{ site.data.fhir.versionFull }} = 3.1.0-11939</p>\n<p>totalFiles : total number of files found by the build - {{ site.data.fhir.totalFiles }} = 8</p>\n<p>processedFiles : number of files genrated by the build - {{ site.data.fhir.processedFiles }} = 108</p>\n<p>genDate : date of generation (so date stamps in the pages can match those in the conformance resources) - {{ site.data.fhir.genDate }} = Sat, Apr 29, 2017 09:55-0700</p>",
        "id": 153886461,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493485441
    },
    {
        "content": "<p>The version of the Tool is 3.1.0 but the version of fhir is 3.0.1 so the site variable is off.</p>",
        "id": 153886462,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493485514
    },
    {
        "content": "<p>here is the tool version....</p>",
        "id": 153886463,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493485576
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>   Last login: Sat Apr 29 00:22:22 on ttys003\n  Erics-Air-2:ig30 ehaas$ bash publish.sh\n =================================================================\n === Publish test ig30 IG!!! Sat Apr 29 16:57:38 UTC 2017 ===\n =================================================================\nFHIR Implementation Guide Publisher (3.1.0-11939) @ Saturday, April 29, 2017 9:57:38 AM\nDetected Java version....\n</pre></div>",
        "id": 153886464,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493485614
    },
    {
        "content": "<p>tool version is 3.1.0. yes. That is correct. Some of the other stuff needs my attention - but I'm not sure from that list which you think is wrong.... I think that the path is wrong. And I know it's not converting some of the output back to the specified version. </p>",
        "id": 153886497,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493593956
    },
    {
        "content": "<p>anything else?</p>",
        "id": 153886498,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493593959
    },
    {
        "content": "<p>version : version of FHIR - {{ site.data.fhir.version }} = 3.1.0<br>\nrevision : revision of FHIR - {{ site.data.fhir.revision }} = 11939<br>\nversionFull : version-revision - {{ site.data.fhir.versionFull }} = 3.1.0-11939</p>\n<p>This is the tool version and not the FHIR version - that needs to be fixed.</p>",
        "id": 153886504,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493605551
    },
    {
        "content": "<p>fixed</p>",
        "id": 153886519,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493614143
    },
    {
        "content": "<p>Is there a way in the definitions file to apply a base template for just logical models that the other SD ignore?  i.e. if a logical model use base tempate A  else use base Template.     otherwise I can add the logic  in the template</p>",
        "id": 153886824,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493831355
    },
    {
        "content": "<p>there's no way right now. The sense of this doesn't leap out at me?</p>",
        "id": 153886892,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493856964
    },
    {
        "content": "<p>after thinking about it i'll add logic to the templates</p>",
        "id": 153886911,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493863829
    }
]