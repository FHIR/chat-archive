[
    {
        "content": "<p><a href=\"http://community.fhir.org/t/i-just-reported-your-script-deleting-my-home-directory-as-malware-to-github/953\" target=\"_blank\" title=\"http://community.fhir.org/t/i-just-reported-your-script-deleting-my-home-directory-as-malware-to-github/953\">http://community.fhir.org/t/i-just-reported-your-script-deleting-my-home-directory-as-malware-to-github/953</a></p>",
        "id": 153994169,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536289217
    },
    {
        "content": "<p>umm..  think that's a little over the top. Not sure what to do with it?</p>",
        "id": 153994170,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536289237
    },
    {
        "content": "<p>the windows batch file is not so dangerous</p>",
        "id": 153994171,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536289291
    },
    {
        "content": "<p>This script shouldn't exist. it should be replaced by \"git clean\" as a first pass.</p>",
        "id": 153994172,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536289780
    },
    {
        "content": "<p>It does look incredibly dangerous.</p>",
        "id": 153994173,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536289792
    },
    {
        "content": "<p>git clean is not the same thing</p>",
        "id": 153994176,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536290962
    },
    {
        "content": "<p>What's the specific use case?</p>",
        "id": 153994178,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536291541
    },
    {
        "content": "<p>(if nothing else, the sh script should work more like the .bat)</p>",
        "id": 153994180,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536291567
    },
    {
        "content": "<p><a href=\"http://clean.ba/sh\" target=\"_blank\" title=\"http://clean.ba/sh\">clean.ba/sh</a> deletes all the output files, and the stupid backup files that get created all over the places (e.g. clutter text search) without deleting source files</p>",
        "id": 153994181,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536291607
    },
    {
        "content": "<p>I didn't write the .sh file, or it would work like the bat file</p>",
        "id": 153994182,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536291621
    },
    {
        "content": "<p>git clean would delete candidate sources files as well.</p>",
        "id": 153994183,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536291654
    },
    {
        "content": "<p>This reminds me that backup files should be added to a .gitignore -- do we have a list of extensions that shouldn't be checked in?</p>",
        "id": 153994184,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536291918
    },
    {
        "content": "<p>.bak, .class, .tmp, .jar ...</p>",
        "id": 153994185,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536291939
    },
    {
        "content": "<p>If we get that right, then \"git clean -X\" may do the trick of <a href=\"http://clean.sh\" target=\"_blank\" title=\"http://clean.sh\">clean.sh</a></p>",
        "id": 153994186,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536292008
    },
    {
        "content": "<p>gie clean \"removes all untracked files, including build products\" - obviously i was not clear enough about the difference. We *do not want to remove all untracked files\"</p>",
        "id": 153994187,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292082
    },
    {
        "content": "<p>here's my svn ignore list</p>",
        "id": 153994188,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292111
    },
    {
        "content": "<p>fhir-error-dump.txt<br>\nsource-lloyd<br>\npublish.zip<br>\n*.gitattributes<br>\nivy<br>\npublish-web.bat<br>\nfhir-error-dump.html<br>\nvalidation.log<br>\nlocal.ini<br>\n13005_patch<br>\n*.gen.svg</p>",
        "id": 153994189,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292112
    },
    {
        "content": "<p>weird things in there</p>",
        "id": 153994190,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292117
    },
    {
        "content": "<p>-X ensures that it only removes ignored files though</p>",
        "id": 153994191,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536292129
    },
    {
        "content": "<p>oh. well that might do it then</p>",
        "id": 153994192,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292147
    },
    {
        "content": "<p>my ignore list would actually be: <br>\n*.bak<br>\n*.class<br>\n*.~ *<br>\npublish<br>\ntemp</p>",
        "id": 153994193,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292238
    },
    {
        "content": "<p>extra space after ~ in order to get the * to show - but not in actual file filter</p>",
        "id": 153994195,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292278
    },
    {
        "content": "<p>Cool.</p>",
        "id": 153994196,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536292285
    },
    {
        "content": "<p>but tell me why git clean -X is less dangerous?</p>",
        "id": 153994197,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292311
    },
    {
        "content": "<p>I guess it limits to those file types and locations...</p>",
        "id": 153994198,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292359
    },
    {
        "content": "<p>but what if you run it in the wrong directory (as is evidently what happened here)</p>",
        "id": 153994199,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292387
    },
    {
        "content": "<p>Because it can't delete your home dir. (If some of the named directories in <a href=\"http://clean.sh\" target=\"_blank\" title=\"http://clean.sh\">clean.sh</a> are missing, then cd ../../.. could point to something very high in the root hierarchy and then delete all files.)</p>",
        "id": 153994200,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1536292436
    },
    {
        "content": "<p>well, ok, if you say so</p>",
        "id": 153994201,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536292496
    },
    {
        "content": "<p>so we're just going to delete <a href=\"http://clean.sh\" target=\"_blank\" title=\"http://clean.sh\">clean.sh</a>?</p>",
        "id": 153994741,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1536373178
    },
    {
        "content": "<p>No objections raised, so I guess delete it.  (Or replace it with a call to git clean -X)</p>",
        "id": 153995651,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1536635864
    }
]