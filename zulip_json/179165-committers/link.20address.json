[
    {
        "content": "<p>How does the IG publisher determine the url of an artifact defined in another IG? In the autopublisher, I'm getting a url like: <a href=\"https://build.fhir.org/ig/HL7NZ/nzbase//https://simplifier.net/resolve?scope=hl7.org.nz.base@0.1.0&amp;canonical=http://hl7.org.nz/fhir/StructureDefinition/nzAddress\">https://build.fhir.org/ig/HL7NZ/nzbase//https://simplifier.net/resolve?scope=hl7.org.nz.base@0.1.0&amp;canonical=http://hl7.org.nz/fhir/StructureDefinition/nzAddress</a>.    </p>\n<p>If I build locally, it works correctly (<a href=\"https://build.fhir.org/ig/HL7NZ/nzbase//StructureDefinition-nzAddress.html\">https://build.fhir.org/ig/HL7NZ/nzbase//StructureDefinition-nzAddress.html</a> )</p>",
        "id": 198560157,
        "sender_full_name": "David Hay",
        "timestamp": 1590283183
    },
    {
        "content": "<p>it should be the same in both cases. The simplifier address tells me that it's coming from a source package, and there's a problem with the source package. Try clearing your local package cache, and see what happens (I expect you'll start getting the simplifier address locally too)</p>",
        "id": 198599783,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1590353709
    },
    {
        "content": "<p>Didn't make any difference. The local build works OK, but the on-line version has the weird url containing simplifier. The other difference is that I'm using the new version of sushi locally (that works from the yaml file) but the autobuild uses the main stream. I'm assuming that the IG publisher would have more serious issues if the config was wrong - but that may not be correct.</p>\n<p>How does the IG builder determine the url to create? ie how does it 'map' from a canonical url of an SD to a resolvable url?</p>",
        "id": 198631480,
        "sender_full_name": "David Hay",
        "timestamp": 1590378579
    },
    {
        "content": "<p>BTW - I'm not sure if this is relevant (causal or consequential) but I've a few errors like the one below in the autobuild version, but not the local build:</p>\n<div class=\"codehilite\"><pre><span></span><code>unable to parse character reference &#39;canonical=http://hl7.org.nz/fhir/StructureDefinition/nzAddress&quot;&gt;http://hl7.org.nz/fhir/StructureDefinition/nzAddress&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;&lt;b&gt;Extensions&lt;/b&gt;&lt;/p&gt; &lt;p&gt;This structure refers to these extensions:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&quot;StructureDefinition-location-established.html&quot;&gt;http://hl7.org.nz/fhir/hpi/StructureDefinition/location-established&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;https://build.fhir.org/ig/HL7NZ/nzbase//https://simplifier.net/resolve?scope=hl7.org.nz.base@0.1.0&amp;canonical=http://hl7.org.nz/fhir/StructureDefinition/dhb&quot;&gt;http://hl7.org.nz/fhir/StructureDefinition/dhb&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;StructureDefinition-location-alias-type.html&quot;&gt;http://hl7.org.nz/fhir/hpi/StructureDefinition/location-alias-type&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;&lt;b&gt;Slices&lt;/b&gt;&lt;/p&gt; &lt;p&gt;This structure defines the following &lt;a href=&quot;http://hl7.org/fhir/R4/profiling.html#slices&quot;&gt;Slices&lt;/a&gt;:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;The element Location.identifier is sliced based on the value of value:use (Open at End)&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;a name=&quot;tabs-diff&quot;&gt; &lt;/a&gt; &lt;div id=&quot;tabs-diff&quot;&gt; &lt;div id=&quot;tbl-diff&quot;&gt; &lt;p&gt;This structure is derived from &lt;a href=&quot;http://hl7.org/fhir/R4/location.html&quot;&gt;Location&lt;/a&gt; &lt;/p&gt; &lt;div id=&quot;tbl-diff-inner&quot;&gt; &lt;table border=&quot;0&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; style=&quot;border: 0px #F0F0F0 solid&#39;&#39; (last text = &#39; &#39; at line 251 column 94\n</code></pre></div>",
        "id": 198637723,
        "sender_full_name": "David Hay",
        "timestamp": 1590388426
    },
    {
        "content": "<blockquote>\n<p>How does the IG builder determine the url to create?</p>\n</blockquote>\n<p>It's in the package. What IG is this?</p>",
        "id": 198638593,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1590389323
    },
    {
        "content": "<p>the base (where nzAddress is defined) is <a href=\"https://github.com/HL7NZ/nzbase/tree/master\">https://github.com/HL7NZ/nzbase/tree/master</a> (<a href=\"http://build.fhir.org/ig/HL7NZ/nzbase/branches/master/index.html\">http://build.fhir.org/ig/HL7NZ/nzbase/branches/master/index.html</a>)</p>\n<p>the link is coming from <a href=\"https://github.com/HL7NZ/hpi\">https://github.com/HL7NZ/hpi</a>. (<a href=\"http://build.fhir.org/ig/HL7NZ/hpi/branches/master/index.html\">http://build.fhir.org/ig/HL7NZ/hpi/branches/master/index.html</a>) - specifically <a href=\"http://build.fhir.org/ig/HL7NZ/hpi/branches/master/StructureDefinition-HpiLocation.html\">http://build.fhir.org/ig/HL7NZ/hpi/branches/master/StructureDefinition-HpiLocation.html</a></p>",
        "id": 198646238,
        "sender_full_name": "David Hay",
        "timestamp": 1590395599
    },
    {
        "content": "<p>BTW Got this sorted. Turns out that the package.json wasn't in the right place (likely something to do with being on the bleeding edge of sushi development!)</p>",
        "id": 199100089,
        "sender_full_name": "David Hay",
        "timestamp": 1590710357
    }
]