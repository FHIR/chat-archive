[
    {
        "content": "<p><strong> Edit: I think I found the issue and I believe this effects all new committer and all new OS installations when it comes to building. Please see my proposed solutions to make to the master branch in my message below. </strong></p>\n<p>I have been running the FHIR publish process on my laptop since October 2018 and it works fine still. But I've tried to get it working on other Windows installations on a desktop and within VMs (everything is Windows 10), but I'm running into the same error on each of them. I've tried different versions of Java, Ant, Ruby, Jekyll but it's still coming up with the same error on each installation (other than my initial laptop install) when I try to run publish.bat. I'm wondering if I'm missing a step or if there's something that I could do to fix this problem. I attached the full log, but here's the final error messages.</p>\n<div class=\"codehilite\"><pre><span></span><code>[ivy:resolve]           ::::::::::::::::::::::::::::::::::::::::::::::\n[ivy:resolve]           ::          UNRESOLVED DEPENDENCIES         ::\n[ivy:resolve]           ::::::::::::::::::::::::::::::::::::::::::::::\n[ivy:resolve]           :: ca.uhn.hapi.fhir#hapi-fhir-base;3.7.0-SNAPSHOT: not found\n[ivy:resolve]           :: org.fhir#ucum;1.0-SNAPSHOT: not found\n[ivy:resolve]           ::::::::::::::::::::::::::::::::::::::::::::::\n</code></pre></div>\n\n\n<p>\"impossible to resolve dependencies:\"</p>\n<p><a href=\"/user_uploads/10155/lBwEzFz8n7v4lgqvA5GMyJBD/fhir-build-fail.txt\" title=\"fhir-build-fail.txt\">fhir-build-fail.txt</a></p>",
        "id": 195499894,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1588047134
    },
    {
        "content": "<p>did you run the clean.bat?</p>",
        "id": 195500313,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1588047815
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191832\">Jose Costa Teixeira</span> <a href=\"#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195500313\" title=\"#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195500313\">said</a>:</p>\n<blockquote>\n<p>did you run the clean.bat?</p>\n</blockquote>\n<p>These were fresh clones from the GitHub master branch. With that said I just ran clean.bat and then publish.bat and it's still the same exact problem.</p>",
        "id": 195565876,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1588081525
    },
    {
        "content": "<p>It is possible the <code>3.7.0-SNAPSHOT</code> build is no longer available (that is quite old). It isn't a great long-term practice to rely on snapshots.</p>",
        "id": 195593592,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1588092868
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191381\">Jason Walonoski</span> <a href=\"#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195593592\" title=\"#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195593592\">said</a>:</p>\n<blockquote>\n<p>It is possible the <code>3.7.0-SNAPSHOT</code> build is no longer available (that is quite old). It isn't a great long-term practice to rely on snapshots.</p>\n</blockquote>\n<p>Does that mean ivy.xml will need to be changed? If so, should I make a Jira tracker item for this change to be made on the master branch? One way that I fixed it is I removed \"-SNAPSHOT\" from the HAPI and ucum lines in ivy.xml and it looks like it is working. But maybe they can remain as snapshot but be a newer version or some other change.</p>\n<p>publish.bat still works on my original computer without any changes but maybe it's pulling the SNAPSHOTs from a cache. I see in my user folder there's \".ivy2\" which has the needed snapshots. I copid this cache to my other installations and it fixed it. We will need to fix the FHIR build process because it won't work on new installations (at least for Windows).</p>",
        "id": 195596861,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1588094178
    },
    {
        "content": "<p>Problem: If you have a fresh Windows install (and possibly other OS as well) the FHIR build process won't be able to pull a couple of the needed dependencies. This is likely because the repos that it checks have removed the needed snapshots.</p>\n<p>Proposed universal solutions (pick one):</p>\n<ol>\n<li>Committers will need to copy the two snapshots to their .ivy2 cache located in their user folder as part of the installation process. (Not practical, but it will work in the short term without any changes needed to the master branch)</li>\n<li>ivy.xml will need to be changed so it looks for different dependencies whether it's a newer version or with \"-SNAPSHOT\" removed from the couple lines.</li>\n<li>ivysettings.xml will include a repo that still has the removed snapshots.</li>\n<li>Other, if there's some other underlying issue.</li>\n</ol>\n<p>I will make a Jira tracker item if one other person confirms this problem on a fresh OS install, and I'll include my three proposed solutions.</p>",
        "id": 195599209,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1588095146
    },
    {
        "content": "<p>Confirmed by removing the .ivy2/cache/ca.uhn.hapi.fhir/ entry and running <a href=\"http://publish.sh\" title=\"http://publish.sh\">publish.sh</a>. It is not OS-specific.</p>",
        "id": 195600372,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1588095651
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192685\">Vassil Peytchev</span> <a href=\"#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195600372\" title=\"#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195600372\">said</a>:</p>\n<blockquote>\n<p>Confirmed by removing the .ivy2/cache/ca.uhn.hapi.fhir/ entry and running <a href=\"http://publish.sh\" title=\"http://publish.sh\">publish.sh</a>. It is no OS-specific.</p>\n</blockquote>\n<p>Thank you. I'll make a Jira tracker item. Which of the proposed solutions do you think makes the most sense?</p>",
        "id": 195600657,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1588095770
    },
    {
        "content": "<p>I think there is a general need to clean up the build process, so if there is no need for these dependencies, maybe they can be removed....</p>",
        "id": 195600918,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1588095880
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"192685\">Vassil Peytchev</span> <a href=\"#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195600918\" title=\"#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195600918\">said</a>:</p>\n<blockquote>\n<p>I think there is a general need to clean up the build process, so if there is no need for these dependencies, maybe they can be removed....</p>\n</blockquote>\n<p>Not sure about HAPI-3.7.0-SNAPSHOT, but ucum is needed for the build to continue.</p>",
        "id": 195602360,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1588096541
    },
    {
        "content": "<p>I made a Jira FHIR tracker item for this problem and with a few proposed solutions.</p>\n<p><a href=\"https://jira.hl7.org/browse/FHIR-26991\" title=\"https://jira.hl7.org/browse/FHIR-26991\">https://jira.hl7.org/browse/FHIR-26991</a></p>",
        "id": 195624721,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1588106885
    },
    {
        "content": "<p>this should be fixed now</p>",
        "id": 195653323,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588127525
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191316\">Grahame Grieve</span> <a href=\"#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195653323\" title=\"#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195653323\">said</a>:</p>\n<blockquote>\n<p>this should be fixed now</p>\n</blockquote>\n<p>That fixed the HAPI 3.7.0 snapshot issue, <strong>but there's still the missing dependency \"org.fhir#ucum;1.0-SNAPSHOT\" error.</strong></p>",
        "id": 195692023,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1588158192
    },
    {
        "content": "<p>I think this should be \"org.fhir#ucum;1.0.2\", base on the contents of the actual repository: <a href=\"https://repo1.maven.org/maven2/org/fhir/ucum/\" title=\"https://repo1.maven.org/maven2/org/fhir/ucum/\">https://repo1.maven.org/maven2/org/fhir/ucum/</a></p>",
        "id": 195756029,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1588187308
    },
    {
        "content": "<p>I'm testing that change locally now</p>",
        "id": 195756058,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1588187321
    },
    {
        "content": "<p><a href=\"https://github.com/HL7/fhir/pull/853\" title=\"https://github.com/HL7/fhir/pull/853\">https://github.com/HL7/fhir/pull/853</a> fixes this</p>",
        "id": 195759067,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1588188654
    },
    {
        "content": "<p>Tested it and it works. Thank you.</p>",
        "id": 195767094,
        "sender_full_name": "Khalid Shahin",
        "timestamp": 1588192933
    }
]