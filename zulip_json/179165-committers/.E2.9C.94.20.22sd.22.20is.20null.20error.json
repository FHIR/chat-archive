[
    {
        "content": "<p>Hi all, making some changes to SubscriptionStatus, and running into an error.  Whenever I add the following backbone element:</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"XML\"><pre><span></span><code>    <span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">\"SubscriptionStatus.notificationEvent\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">\"SubscriptionStatus.notificationEvent\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;short</span> <span class=\"na\">vale=</span><span class=\"s\">\"Detailed information about any events relevant to this notification\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;definition</span> <span class=\"na\">value=</span><span class=\"s\">\"Detailed information about events relevant to this subscription notification.\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;min</span> <span class=\"na\">value=</span><span class=\"s\">\"0\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;max</span> <span class=\"na\">value=</span><span class=\"s\">\"*\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;type&gt;</span>\n        <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">\"BackboneElement\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/type&gt;</span>\n    <span class=\"nt\">&lt;/element&gt;</span>\n    <span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">\"SubscriptionStatus.notificationEvent.eventNumber\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">\"SubscriptionStatus.notificationEvent.eventNumber\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;short</span> <span class=\"na\">value=</span><span class=\"s\">\"Event number\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;definition</span> <span class=\"na\">value=</span><span class=\"s\">\"The sequential number of this event in this subscription context. Note that this value is a 64-bit integer value, encoded as a string.\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;min</span> <span class=\"na\">value=</span><span class=\"s\">\"1\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;max</span> <span class=\"na\">value=</span><span class=\"s\">\"1\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;type&gt;</span>\n        <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">\"string\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/type&gt;</span>\n    <span class=\"nt\">&lt;/element&gt;</span>\n    <span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">\"SubscriptionStatus.notificationEvent.timestamp\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">\"SubscriptionStatus.notificationEvent.timestamp\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;short</span> <span class=\"na\">value=</span><span class=\"s\">\"The instant this event occurred\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;definition</span> <span class=\"na\">value=</span><span class=\"s\">\"The actual time this event occured on the server.\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;min</span> <span class=\"na\">value=</span><span class=\"s\">\"0\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;max</span> <span class=\"na\">value=</span><span class=\"s\">\"1\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;type&gt;</span>\n        <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">\"instant\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/type&gt;</span>\n    <span class=\"nt\">&lt;/element&gt;</span>\n    <span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">\"SubscriptionStatus.notificationEvent.focus\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">\"SubscriptionStatus.notificationEvent.focus\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;short</span> <span class=\"na\">value=</span><span class=\"s\">\"The focus of this event\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;definition</span> <span class=\"na\">value=</span><span class=\"s\">\"The focus of this event. While this will usually be a reference to the focus resource of the event, it MAY contain a reference to a non-FHIR object.\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;min</span> <span class=\"na\">value=</span><span class=\"s\">\"0\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;max</span> <span class=\"na\">value=</span><span class=\"s\">\"1\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;type&gt;</span>\n        <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">\"Reference\"</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;targetProfile</span> <span class=\"na\">value=</span><span class=\"s\">\"http://hl7.org/fhir/StructureDefinition/Resource\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/type&gt;</span>\n    <span class=\"nt\">&lt;/element&gt;</span>\n    <span class=\"nt\">&lt;element</span> <span class=\"na\">id=</span><span class=\"s\">\"SubscriptionStatus.notificationEvent.additionalContext\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;path</span> <span class=\"na\">value=</span><span class=\"s\">\"SubscriptionStatus.notificationEvent.additionalContext\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;short</span> <span class=\"na\">value=</span><span class=\"s\">\"Additional context for this event\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;definition</span> <span class=\"na\">value=</span><span class=\"s\">\"Additional context information for this event. Generally, this will contain references to additional resources included with the event (e.g., the Patient relevant to an Encounter), however it MAY refer to non-FHIR objects.\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;min</span> <span class=\"na\">value=</span><span class=\"s\">\"0\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;max</span> <span class=\"na\">value=</span><span class=\"s\">\"*\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;type&gt;</span>\n        <span class=\"nt\">&lt;code</span> <span class=\"na\">value=</span><span class=\"s\">\"Reference\"</span><span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;targetProfile</span> <span class=\"na\">value=</span><span class=\"s\">\"http://hl7.org/fhir/StructureDefinition/Resource\"</span><span class=\"nt\">/&gt;</span>\n      <span class=\"nt\">&lt;/type&gt;</span>\n    <span class=\"nt\">&lt;/element&gt;</span>\n</code></pre></div>\n</div></div>\n<p>The full build fails with:</p>\n<blockquote>\n<p>Error: Cannot invoke \"String.length()\" because \"sd\" is null<br>\njava.lang.NullPointerException: Cannot invoke \"String.length()\" because \"sd\" is null<br>\n        at org.hl7.fhir.definitions.validation.ResourceValidator.checkElement(ResourceValidator.java:684)<br>\n        at org.hl7.fhir.definitions.validation.ResourceValidator.checkElement(ResourceValidator.java:779)<br>\n        at org.hl7.fhir.definitions.validation.ResourceValidator.check(ResourceValidator.java:184)<br>\n        at org.hl7.fhir.definitions.validation.ResourceValidator.check(ResourceValidator.java:594)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.validate(Publisher.java:1787)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:609)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:474)</p>\n</blockquote>\n<p>The partial build of that resource passes, just the full build that fails.  Running with all the extra arguments (--stacktrace --info --debug) doesn't yield anything more useful (that I can tell), but it's attached: <a href=\"/user_uploads/10155/wrp5FZeHqGn3smDNBk2Z-CHB/log.txt\">log.txt</a></p>\n<p>Any help would be appreciated.</p>",
        "id": 249633825,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1629141240
    },
    {
        "content": "<p><span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span> typo: <code>vale</code> instead of <code>value</code>.</p>",
        "id": 249636842,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1629142662
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"222054\">Gino Canessa</span> has marked this topic as resolved.</p>",
        "id": 249637399,
        "sender_full_name": "Notification Bot",
        "timestamp": 1629142959
    },
    {
        "content": "<p>(There is a tooling / \"dx\" bug here still -- a single-character typo in an xml attribute name would ideally give a clear schema validation error ;-))</p>",
        "id": 249638800,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1629143655
    },
    {
        "content": "<p>it'll be an error in an excel spreadsheet, but agree that a more useful error would be good</p>",
        "id": 249674944,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1629170670
    }
]