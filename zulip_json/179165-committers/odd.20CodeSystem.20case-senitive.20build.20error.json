[
    {
        "content": "<p>I ran into an odd error when trying to add some code systems and value sets, which appears to me to be due to a somewhat confused throwback to pre-STU3 days.  The error is with the \"occupation-cdc-census-2010\" CodeSystem resource:</p>\n<blockquote>\n<div class=\"codehilite\"><pre><span></span> [java] Errors: 1 Warnings: 166 Hints: 641\n [java] \n [java] ===Resources with FMM forced to 0===\n [java]  3.311 228sec  935MB\n [java] ERROR @ pher:CodeSystem[occupation-cdc-census-2010].codeSystem: Value set codesystem-occupation-cdc-census-2010 (Occupation CDC Census 2010): All value sets that define codes must mark them as case sensitive\n [java] This was a Full Build                                                      0.048 228sec  935MB\n [java] FHIR build failure @ Sun, Jan 14, 2018 07:32-0600                          0.817 229sec  935MB\n</pre></div>\n\n\n</blockquote>\n<p>Even though it's a CodeSystem, the error seems to be treating it as a DSTU2 ValueSet, containing a .codeSystem element.  It says that it's one of the \"value sets that define codes\" and that it must mark them as \"case sensitive\".  Here is the CodeSystem resource that caused the error:</p>\n<blockquote>\n<p>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br>\n&lt;CodeSystem xmlns=\"<a href=\"http://hl7.org/fhir\" target=\"_blank\" title=\"http://hl7.org/fhir\">http://hl7.org/fhir</a>\" xmlns:xsi=\"<a href=\"http://www.w3.org/2001/XMLSchema-instance\" target=\"_blank\" title=\"http://www.w3.org/2001/XMLSchema-instance\">http://www.w3.org/2001/XMLSchema-instance</a>\" xsi:schemaLocation=\"<a href=\"http://hl7.org/fhir\" target=\"_blank\" title=\"http://hl7.org/fhir\">http://hl7.org/fhir</a> ../../schema/codesystem.xsd\"&gt;<br>\n  &lt;id value=\"occupation-cdc-census-2010\"/&gt;<br>\n  &lt;url value=\"urn:oid:2.16.840.1.114222.4.5.314\"/&gt;<br>\n  &lt;identifier&gt;<br>\n    &lt;system value=\"urn:ietf:rfc:3986\"/&gt;<br>\n    &lt;value value=\"urn:oid:2.16.840.1.114222.4.5.314\"/&gt;<br>\n  &lt;/identifier&gt;<br>\n  &lt;version value=\"2010\"/&gt;<br>\n  &lt;name value=\"Occupation CDC Census 2010\"/&gt;<br>\n  &lt;title value=\"Occupation CDC Census 2010\"/&gt;<br>\n  &lt;status value=\"active\"/&gt;<br>\n  &lt;publisher value=\"CDC PHIN Vocab and Msg\"/&gt;<br>\n  &lt;contact&gt;<br>\n    &lt;telecom&gt;<br>\n      &lt;system value=\"url\"/&gt;<br>\n      &lt;value value=\"https://phinvads.cdc.gov/vads/SearchVocab.action\"/&gt;<br>\n    &lt;/telecom&gt;<br>\n  &lt;/contact&gt;<br>\n  &lt;description value=\"2010 Occupation coding system used by CDC (NIOSH &amp; NCHS) for coding occupation text. Occupation describes a set of activities or tasks that individuals are paid to perform or, if unpaid, define a personâ€™s contribution to a household/family business/community. This code system includes 2010 U.S. Census Bureau occupation codes with modifications made by CDC for unpaid workers and military occupations. The 2010 Census occupation categories are based on the 2010 BLS Standard Occupational Classification (SOC) system. The PH_Industry_CDC_Census2010 code system should be used in conjunction with this occupation code system when coding both industry and occupation. For more information and instructions on using this coding system, see the instruction manual for CDC-Census I&amp;O coding at: http://www.cdc.gov/niosh/topics/coding/\"/&gt;<br>\n &lt;caseSensitive value=\"false\"/&gt;<br>\n &lt;valueSet value=\"https://phinvads.cdc.gov/vads/ViewValueSet.action?oid=2.16.840.1.114222.4.11.7186\"/&gt;<br>\n &lt;content value=\"not-present\"/&gt;<br>\n&lt;/CodeSystem&gt;</p>\n</blockquote>\n<p>It is declared as content \"not-present\", and therefore doesn't define any codes.  Although it's almost certainly irrelevant in regard to the error, the actual codes in the code system (defined in PHIN VADS) are all numeric values and therefore are clearly not case sensitive.  But the only way to get around this error that I found was to set CodeSystem.caseSensitive to \"true\".  Then it works.</p>",
        "id": 153928836,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1516018874
    },
    {
        "content": "<p>some of the error messages erroneously say 'value set ' when they mean 'code system'. so that's not a big deal</p>",
        "id": 153928837,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516019132
    },
    {
        "content": "<p>otherwise, I'll have to look up why you're getting that error message</p>",
        "id": 153928838,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516019203
    },
    {
        "content": "<p>Thanks.  At least there is a workaround, but it would be good to get this behaving correctly.</p>",
        "id": 153928840,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1516019362
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Did you figure out anything about this?</p>",
        "id": 153930341,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1516725539
    },
    {
        "content": "<p>so. how do I reproduce it?</p>",
        "id": 153930348,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1516726417
    }
]