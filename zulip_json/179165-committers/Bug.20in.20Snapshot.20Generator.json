[
    {
        "content": "<p>I think there is a bug in the snapshot generator (for STU3 at least)<br>\nIn the AU Patient profile we have included an extension on deceasedDateTime for the accuracy  indicator<br>\n<a href=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.html\">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.html</a><br>\nAnd while generating the snapshot, it produces an element definition like this</p>\n<div class=\"codehilite\"><pre><span></span>&lt;ElementDefinition id=&quot;Patient.deceasedDateTime:deceasedDateTime.value&quot;&gt;\n  &lt;path value=&quot;Patient.deceasedDateTime.value&quot; /&gt;\n  &lt;representation value=&quot;xmlAttr&quot; /&gt;\n  &lt;short value=&quot;Primitive value for dateTime&quot; /&gt;\n  &lt;definition value=&quot;The actual value&quot; /&gt;\n  &lt;min value=&quot;0&quot; /&gt;\n  &lt;max value=&quot;1&quot; /&gt;\n  &lt;base&gt;\n    &lt;path value=&quot;dateTime.value&quot; /&gt;\n    &lt;min value=&quot;0&quot; /&gt;\n    &lt;max value=&quot;1&quot; /&gt;\n  &lt;/base&gt;\n  &lt;type&gt;\n    &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-regex&quot;&gt;\n      &lt;valueString value=&quot;-?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?&quot; /&gt;\n    &lt;/extension&gt;\n  &lt;/type&gt;\n&lt;/ElementDefinition&gt;\n</pre></div>\n\n\n<p>Which is not valid FHIR as the type.code property is missing.<br>\nAny change you could take a look at this <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> and confirm its an issue?</p>",
        "id": 154022971,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1543963711
    },
    {
        "content": "<p>ping, and this possible snapshot generator issue.</p>",
        "id": 154023657,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1544163357
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>, has this one made it to your list yet for closing out R4 too?<br>\n(as it may impact other IGs, or snapshots generated during this cycle)</p>",
        "id": 154023957,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1544416321
    },
    {
        "content": "<p>it's on my list</p>",
        "id": 154023964,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544418535
    },
    {
        "content": "<p>Thanks.</p>",
        "id": 154024021,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1544429744
    },
    {
        "content": "<p>fixed</p>",
        "id": 154024923,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544642066
    },
    {
        "content": "<p>This now generates the code value below, which has no value, just extensions. I would have expected this to have the value <code>dateTime</code> in it (I think)</p>\n<div class=\"codehilite\"><pre><span></span>&lt;code&gt;\n          &lt;extension\n                     url=&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-json-type&quot;&gt;\n            &lt;valueString value=&quot;string&quot;/&gt;\n          &lt;/extension&gt;\n          &lt;extension\n                     url=&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-xml-type&quot;&gt;\n            &lt;valueString\n                         value=&quot;xsd:gYear OR xsd:gYearMonth OR xsd:date OR xsd:dateTime&quot;/&gt;\n          &lt;/extension&gt;\n          &lt;extension\n                     url=&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-rdf-type&quot;&gt;\n            &lt;valueString\n                         value=&quot;xsd:gYear OR xsd:gYearMonth OR xsd:date OR xsd:dateTime&quot;/&gt;\n          &lt;/extension&gt;\n        &lt;/code&gt;\n</pre></div>\n\n\n<p><a href=\"https://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.xml.html\" target=\"_blank\" title=\"https://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.xml.html\">https://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.xml.html</a><br>\nSo the Binding validator complains that there is no value to check with the terminology - is that wrong?</p>",
        "id": 154025201,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1544674135
    },
    {
        "content": "<p>that's what I expect it to look like - an exact copy of base</p>",
        "id": 154025205,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544675345
    },
    {
        "content": "<p>not sure what you mean about the binding</p>",
        "id": 154025206,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1544675358
    },
    {
        "content": "<p>Cool, thanks. I'll chase it through the .net validator code. Maybe it's gone astray somewhere, and this is a new issue.</p>",
        "id": 154025207,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1544675410
    }
]