[
    {
        "content": "<p>Don't know if here or implementers is best place since may be a publishing issue:</p>\n<p>1) I can't slice up DR.results when is based on the US-Core DR profile (min = \"1\" ) and have a slice be min = \" 0\"  without a build failure.  How do I state that  the sum of all slices should match the base.    or at least allow for one slice match the minimum cardinality and let the rest be min=\"0\" ?</p>\n<p>Similar issue when trying to set max = \"0\" for observation.value[x] when is  based on US-Core lab results profile which is   sliced three ways each with a min =\"0\" and Max= \"1\".</p>",
        "id": 153857081,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479268004
    },
    {
        "content": "<p>what is the exact error?</p>",
        "id": 153857083,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1479268146
    },
    {
        "content": "<p>for 1) Publishing Content Failed: Exception loading <a href=\"http://hl7.org/fhir/us/lab/StructureDefinition/microreport\" target=\"_blank\" title=\"http://hl7.org/fhir/us/lab/StructureDefinition/microreport\">http://hl7.org/fhir/us/lab/StructureDefinition/microreport</a>: Profile US-Core Micro Report (<a href=\"http://hl7.org/fhir/us/lab/StructureDefinition/microreport\" target=\"_blank\" title=\"http://hl7.org/fhir/us/lab/StructureDefinition/microreport\">http://hl7.org/fhir/us/lab/StructureDefinition/microreport</a>). Error generating snapshot: Derived min  (0) cannot be less than base min (1) (15.0036sec)</p>",
        "id": 153857084,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479268201
    },
    {
        "content": "<p>for error 2) the dreaded null  -I had to go through a process of splitting the SD in half etc to find it.</p>",
        "id": 153857085,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479268259
    },
    {
        "content": "<p>actually scratch that on 2) I don't know what the problem is just that this bit causes the null error<br>\n&lt;!--<br>\n        &lt;element id=\"uscore-gscomp-17\"&gt;<br>\n            &lt;path value=\"Observation.value[x]\"/&gt;<br>\n            &lt;short value= \"ValueType\"/&gt;<br>\n            &lt;max value=\"0\"/&gt;<br>\n        &lt;/element&gt;<br>\n--&gt; </p>",
        "id": 153857086,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479268335
    },
    {
        "content": "<p>assumed was the max = \"0\" but commenting that out didn't fix it</p>",
        "id": 153857087,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479268373
    },
    {
        "content": "<p>Publishing Content Failed: Exception loading <a href=\"http://hl7.org/fhir/us/lab/StructureDefinition/gramstain-component\" target=\"_blank\" title=\"http://hl7.org/fhir/us/lab/StructureDefinition/gramstain-component\">http://hl7.org/fhir/us/lab/StructureDefinition/gramstain-component</a>: null (18.0969sec)</p>",
        "id": 153857088,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479268495
    },
    {
        "content": "<p>I wonder if have to max = 0 each slice in US-Core to do what I want (instead of value[x])  What a pain,  I have a comment to change the slice in US-Core lab result  to an invariant so is easier to base other profile on it. </p>",
        "id": 153857090,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479269039
    },
    {
        "content": "<p>it should definitely be possible to have a slice with a min cardinality less than the unsliced. I'll have to review the validator</p>",
        "id": 153857091,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1479269150
    },
    {
        "content": "<p>OK I fixed the second problem was a reslicing naming issue on my part</p>",
        "id": 153857099,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479272206
    },
    {
        "content": "<p>I think I;ll make a fgorge to provide an example of \"resclicing\"  second time its tripped me up.</p>",
        "id": 153857311,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479314606
    },
    {
        "content": "<p>a few issues with the IG publisher.   I started with <code>tests.ig10</code>    These things don't render correctly:</p>\n<ul>\n<li>Links from elements to the definitions are absent</li>\n</ul>\n<p>For example see <a href=\"http://healthedatainc.com/go-ftp/Argo-DSTU2/StructureDefinition-argo-condition.html\" target=\"_blank\" title=\"http://healthedatainc.com/go-ftp/Argo-DSTU2/StructureDefinition-argo-condition.html\">this</a></p>\n<p>Am I missing something by starting with ig10?</p>",
        "id": 153857591,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479425359
    },
    {
        "content": "<p>Fixed it have to define the definitions templates in ig.json</p>",
        "id": 153857616,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479435803
    },
    {
        "content": "<p>the example resources ( for example allergyintolerance instance) have no title so when the are display using the  base templates  a big old '{title?}' is a the top of the page this is also true for the lists and tables thar are generated.  Any suggestions.  Create a template for examples or is there a tweak to the publisher that can make it pretty for examples too? </p>",
        "id": 153858175,
        "sender_full_name": "Eric Haas",
        "timestamp": 1479871484
    },
    {
        "content": "<p>a lot of my broken links iook like they are due to how i name the base and mapping file in the definitions file   it it a question of capitalization. The publisher does \"Type-id\" and I  did \"type-id\".  I haven't seen a problem in OS-X  but i wonder if will trip up a linux system or somewhere else Im not aware of like when the definitions are imported.  </p>",
        "id": 153860206,
        "sender_full_name": "Eric Haas",
        "timestamp": 1480866463
    },
    {
        "content": "<p>also many examples have following error in qa: </p>\n<div class=\"codehilite\"><pre>   Observation/BUN: Observation.valueQuantity   error   Profile\n  http://hl7.org/fhir/us/core/StructureDefinition/us-core-observationresults, Element matches more \n  than one slice`\n</pre></div>\n\n\n<p>which i cannot debug.   see  <a href=\"http://healthedatainc.com/go-ftp/US-Core/structuredefinition-us-core-observationresults.html\" target=\"_blank\" title=\"http://healthedatainc.com/go-ftp/US-Core/structuredefinition-us-core-observationresults.html\">http://healthedatainc.com/go-ftp/US-Core/structuredefinition-us-core-observationresults.html</a> for profile and <a href=\"http://healthedatainc.com/go-ftp/US-Core/observation-BUN.html\" target=\"_blank\" title=\"http://healthedatainc.com/go-ftp/US-Core/observation-BUN.html\">http://healthedatainc.com/go-ftp/US-Core/observation-BUN.html</a> for example</p>",
        "id": 153860207,
        "sender_full_name": "Eric Haas",
        "timestamp": 1480866823
    },
    {
        "content": "<p>The publisher is freezing on the terminology server.   Trying to expand <a href=\"http://build.fhir.org/valueset-languages.html\" target=\"_blank\" title=\"http://build.fhir.org/valueset-languages.html\">http://build.fhir.org/valueset-languages.html</a> hangs it as does the LOINC code 29463-7 with system = <a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">http://loinc.org</a>   So no longer able to run local builds</p>",
        "id": 153863921,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482101227
    },
    {
        "content": "<p>I restarted my terminology server... maybe that was it</p>",
        "id": 153863945,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482109431
    },
    {
        "content": "<p>yep</p>",
        "id": 153863948,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482109900
    },
    {
        "content": "<p>the complex extension are lacking url names for the slices.  See <a href=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-race.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-race.html\">here</a> and <a href=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-ethnicity.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-ethnicity.html\">here</a>.   I compared SDs with the same extensions in core which are rendered correctly and did not see any difference so I don't think is no my end. </p>",
        "id": 153864116,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482191589
    },
    {
        "content": "<p>the QA is validating a bundled example funny.  not sure if it designed to handle a bundle example? not a pressing issue for me either</p>",
        "id": 153864328,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482262050
    },
    {
        "content": "<p>@GG can you check out the slicing by valueset and how it is rendering. The first slice does not have a cardinality.  I had added an empty row to discriminate before to get all the slice cardinalities to display but I thought that was wrong. because the first slice should nominate the discriminator  I don't know if it a spreadsheet thing and maybe I have to edit the xml directly?  also slice name is not showing up in the SD.  - I think its a spreadsheet thingy?  see this example <a href=\"http://build.fhir.org/ig/Healthedata1/Argo-DSTU2/StructureDefinition-argo-procedure.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/Healthedata1/Argo-DSTU2/StructureDefinition-argo-procedure.html\">http://build.fhir.org/ig/Healthedata1/Argo-DSTU2/StructureDefinition-argo-procedure.html</a></p>",
        "id": 153864338,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482263629
    },
    {
        "content": "<p>Slicing Issue:</p>\n<ul>\n<li>Spreadsheet instruction say put the discriminator on the first slice but then the generated SD is wrong.  - I would like to confirm and the update the instructions on the wiki.</li>\n<li>When slicing on codeableConcept.coding you get qa-error when a valueset is not bound to the discriminator element - Since slicing by valuesets you don't want the discriminator binding to be valued. ( </li>\n<li>The *DSTU2* SD generation for the spreadsheets does not populate the name element, Which is needed for reslicing.  ( I can always manually update the xml since we phasing out the spreadsheets)</li>\n</ul>",
        "id": 153864446,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482277876
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  [#12488][#12491][#12492][#12493][#12494][#12495]</p>",
        "id": 153864719,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482369442
    },
    {
        "content": "<p>thx</p>",
        "id": 153864723,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482370334
    },
    {
        "content": "<p>and the most important one... [#12496]</p>",
        "id": 153864727,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482373100
    },
    {
        "content": "<p>(Don't forget you can write <code>GF#12496</code> to make a link. Like <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12496\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12496\">GF#12496</a> <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> .)</p>",
        "id": 153864738,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1482386961
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12494\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12494\">GF#12494</a> - where's an example?</p>",
        "id": 153864883,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482460758
    },
    {
        "content": "<p>I removed all the slices from the argo guide.   umm I can grab one from git</p>",
        "id": 153864886,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482462141
    },
    {
        "content": "<p>I created an example in test ig10 on SVN.   reasource is a immunization profile called badslice.xml.   I'm committing now</p>",
        "id": 153864887,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482463388
    },
    {
        "content": "<p>Actually I added a folder called badslice to tests folder in SVN.  the  SD output has no slice names based on the spreadsheet. bad slicexml</p>",
        "id": 153864888,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482463594
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I still can't commit to the Argonaut-pd project</p>",
        "id": 153864927,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482521044
    },
    {
        "content": "<p>after looking at 12494, I'm not sure what is not being produced correctly. From the SD that is produced:</p>\n<div class=\"codehilite\"><pre>    &lt;element id=&quot;Immunization:argoprofile.vaccineCode.coding:vaccinetypecvx&quot;&gt;\n      &lt;path value=&quot;Immunization.vaccineCode.coding&quot;/&gt;\n      &lt;name value=&quot;VaccineTypeCVX&quot;/&gt;\n      &lt;min value=&quot;0&quot;/&gt;\n      &lt;max value=&quot;1&quot;/&gt;\n      &lt;type&gt;\n        &lt;code value=&quot;Coding&quot;/&gt;\n      &lt;/type&gt;\n      &lt;maxLength value=&quot;0&quot;/&gt;\n      &lt;mustSupport value=&quot;true&quot;/&gt;\n      &lt;isModifier value=&quot;false&quot;/&gt;\n      &lt;isSummary value=&quot;false&quot;/&gt;\n      &lt;binding&gt;\n        &lt;strength value=&quot;required&quot;/&gt;\n        &lt;description value=&quot;The CVX (vaccine administered) code system&quot;/&gt;\n        &lt;valueSetReference&gt;\n          &lt;reference value=&quot;http://hl7.org/fhir/ValueSet/daf-cvx&quot;/&gt;\n        &lt;/valueSetReference&gt;\n      &lt;/binding&gt;\n    &lt;/element&gt;\n</pre></div>",
        "id": 153864929,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482523229
    },
    {
        "content": "<p>that looks correct to me</p>",
        "id": 153864930,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482523237
    },
    {
        "content": "<p>and regarding bad slice - a couple of things - don't commit the output (ignore it from svn), and I'd rather this stuf was committed to the standard 3 test igs</p>",
        "id": 153864932,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482524061
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I just sent you a new invitation for Argo-PD</p>",
        "id": 153865008,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482951753
    },
    {
        "content": "<p>does the tooling support invariants on complex extensions?</p>",
        "id": 153865017,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482960559
    },
    {
        "content": "<p>OK I deleted badslice from tests</p>",
        "id": 153865021,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482966169
    },
    {
        "content": "<p>I've been playing with the IG Publisher this week (with both 2017Jan branch and also master) and I have some questions...not sure if they are limitations of the tooling or just something I'm doing wrong)</p>",
        "id": 153865742,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483653615
    },
    {
        "content": "<p>1. Is it possible to add an invariant from a profile and have that reflected in the IG via the genereated templates?</p>",
        "id": 153865743,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483653641
    },
    {
        "content": "<p>maybe I misunderstand, but it's not just possible, it should happen</p>",
        "id": 153865744,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483653704
    },
    {
        "content": "<p>for example, the test-ig-spreadsheet.xml has an invariant listed, but that doesn't seem to show up in the output.  (e.g. i can't find it at [base]/build/tests/ig/output/profile-sd.html after running the build)</p>",
        "id": 153865745,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483653711
    },
    {
        "content": "<p>unless i'm just missing it</p>",
        "id": 153865746,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483653720
    },
    {
        "content": "<p>the first place to look is the generated profile - is it in the actual profile?</p>",
        "id": 153865747,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483653742
    },
    {
        "content": "<p>checking now</p>",
        "id": 153865748,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483653750
    },
    {
        "content": "<p>yes it does like this example here:  <a href=\"http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-condition-definitions.html#Condition:argoprofile\" target=\"_blank\" title=\"http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-condition-definitions.html#Condition:argoprofile\">http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-condition-definitions.html#Condition:argoprofile</a></p>",
        "id": 153865749,
        "sender_full_name": "Eric Haas",
        "timestamp": 1483653817
    },
    {
        "content": "<p>also in the definitions files for validation</p>",
        "id": 153865750,
        "sender_full_name": "Eric Haas",
        "timestamp": 1483653858
    },
    {
        "content": "<p>yes, its in StructureDefinition-test-patient.xml</p>\n<div class=\"codehilite\"><pre>&lt;element id=&quot;Patient:testpatient.address.postalCode&quot;&gt;\n      &lt;path value=&quot;Patient.address.postalCode&quot;/&gt;\n      &lt;min value=&quot;1&quot;/&gt;\n      &lt;max value=&quot;1&quot;/&gt;\n      &lt;type&gt;\n        &lt;code value=&quot;string&quot;/&gt;\n      &lt;/type&gt;\n      &lt;constraint&gt;\n        &lt;key value=&quot;1&quot;/&gt;\n        &lt;severity value=&quot;error&quot;/&gt;\n        &lt;human value=&quot;(Zip or Postal Code) SHALL be formatted as 99999[-9999] for US Zip or ZIP +4 codes or as A9A9A9 for Canadian postal codes.&quot;/&gt;\n        &lt;expression value=&quot;matches(&amp;#39;[0-9]{5}(-[0-9]{4}){0,1}&amp;#39;)&quot;/&gt;\n        &lt;xpath value=&quot;f:matches(issued,[0-9]{5}(-[0-9]{4}){0,1} )&quot;/&gt;\n      &lt;/constraint&gt;\n      &lt;mustSupport value=&quot;true&quot;/&gt;\n      &lt;isModifier value=&quot;false&quot;/&gt;\n      &lt;isSummary value=&quot;false&quot;/&gt;\n    &lt;/element&gt;\n</pre></div>",
        "id": 153865751,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483653971
    },
    {
        "content": "<p>but i don't see it mentioned in profile-sd.html the way Eric's argoprofile one is</p>",
        "id": 153865752,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483654200
    },
    {
        "content": "<p>maybe because its actually an invariant on a datatype that is referenced from the resource (Address.postalCode) in this case?</p>",
        "id": 153865753,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483654237
    },
    {
        "content": "<p>yes. it will be in the generated html for the datatype</p>",
        "id": 153865754,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483654346
    },
    {
        "content": "<p>I don't see any html generated for the datatype.  i guess the ig needs to define a profile of the Address datatype for this to happen?</p>",
        "id": 153865755,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483654465
    },
    {
        "content": "<p>actually, no, it's not on the data type, it's on the element so it should show - at least, you should get an invariant flaf</p>",
        "id": 153865757,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483654879
    },
    {
        "content": "<p>so maybe just a bad sample (this was from trunk/build/tests/ig but I also see it at <a href=\"http://build.fhir.org/ig/Healthedata1/US-Core/StructureDefinition-us-core-patient.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/Healthedata1/US-Core/StructureDefinition-us-core-patient.html\">http://build.fhir.org/ig/Healthedata1/US-Core/StructureDefinition-us-core-patient.html</a></p>",
        "id": 153865758,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483654891
    },
    {
        "content": "<p>that is, in the source i checked out for us-core it has this same invariant (and one more), but i don't see them in the published IG</p>",
        "id": 153865759,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483654938
    },
    {
        "content": "<p>you mean like this: pat-1: SHALL at least contain a contact's details or a reference to an organization</p>",
        "id": 153865760,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483655000
    },
    {
        "content": "<p>no, this one:  Patient.address.postalCode   (Zip or Postal Code) SHALL be formatted as 99999[-9999] for US Zip or ZIP +4 codes or as A9A9A9 for Canadian postal codes.  </p>",
        "id": 153865761,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483655107
    },
    {
        "content": "<p>well, the one I quoted is from the us-core page you referenced - it's shown in the snapshot</p>",
        "id": 153865762,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483655146
    },
    {
        "content": "<p>so you should see your invariant mentioned in the snapshot too</p>",
        "id": 153865763,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483655160
    },
    {
        "content": "<p>but i don't :-/</p>",
        "id": 153865764,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483655336
    },
    {
        "content": "<p>anyway, this isn't urgent...i'm just trying to understand this</p>",
        "id": 153865765,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483655352
    },
    {
        "content": "<p>what do you see for that element in the snapshot then?</p>",
        "id": 153865766,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483655761
    },
    {
        "content": "<p>just its normal state, with no invariant (even though it seems to be in the generated StructureDefinition)</p>",
        "id": 153865768,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656371
    },
    {
        "content": "<p>in the test-ig one</p>",
        "id": 153865769,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656379
    },
    {
        "content": "<p>that US-Core one is confusing me</p>",
        "id": 153865770,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656390
    },
    {
        "content": "<p>here is the spreadsheet i'm looking at:  <a href=\"/user_uploads/10155/pAr4Imh_Bzc77R6p1V9DnSTp/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/pAr4Imh_Bzc77R6p1V9DnSTp/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\"><img src=\"/user_uploads/10155/pAr4Imh_Bzc77R6p1V9DnSTp/pasted_image.png\"></a></div>",
        "id": 153865771,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656417
    },
    {
        "content": "<p>but note the missing '-' and so i don't think its even using those</p>",
        "id": 153865772,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656435
    },
    {
        "content": "<p>and in that case they are NOT in the generated StructureDefinition</p>",
        "id": 153865773,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656458
    },
    {
        "content": "<p>(which makes sense)</p>",
        "id": 153865774,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656463
    },
    {
        "content": "<p>but i can't find where that pat-1 is coming from</p>",
        "id": 153865776,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656471
    },
    {
        "content": "<p>(that one IS in the generated StructureDefinition, but not in the spreadsheet)</p>",
        "id": 153865778,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656484
    },
    {
        "content": "<p>i must be totally missing something</p>",
        "id": 153865779,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656501
    },
    {
        "content": "<p>i'm going back to the simple ig-test one to play some more (that the one where it IS in the StructureDefinition but not in the published ig)</p>",
        "id": 153865780,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483656547
    },
    {
        "content": "<p>which ig is this?</p>",
        "id": 153865781,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483657086
    },
    {
        "content": "<p>the test-ig one is the one that is in trunk/build/tests/ig</p>",
        "id": 153865784,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483657208
    },
    {
        "content": "<p>and that's not rendering correctly? </p>",
        "id": 153865786,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483657240
    },
    {
        "content": "<p>well, its not displaying the invariant for Patient.address.postalCode</p>",
        "id": 153865787,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483657270
    },
    {
        "content": "<p>which page?</p>",
        "id": 153865788,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483657445
    },
    {
        "content": "<p>/trunk/build/tests/ig/output/profile-sd.html</p>",
        "id": 153865789,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483657473
    },
    {
        "content": "<p>well, that is showing the invariant ok </p>",
        "id": 153865790,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483657524
    },
    {
        "content": "<p>tst-1: A full date is required</p>",
        "id": 153865791,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483657538
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/sCbXxcflj3Q1D9cE08LIXA6D/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/sCbXxcflj3Q1D9cE08LIXA6D/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\"><img src=\"/user_uploads/10155/sCbXxcflj3Q1D9cE08LIXA6D/pasted_image.png\"></a></div>",
        "id": 153865792,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483657585
    },
    {
        "content": "<p>is that not getting used in the publish process?</p>",
        "id": 153865793,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483657602
    },
    {
        "content": "<p>where is tst-1 defined?</p>",
        "id": 153865794,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483657679
    },
    {
        "content": "<p>generating the IG is a 2 step process.<br>\n- first, we generate fragments for all the things you might want to publish<br>\n- then, jekyll assembles the final out of the fragments, as directed. </p>",
        "id": 153865795,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483657710
    },
    {
        "content": "<p>in the case of the test ig, we generate the fragments - see, for example, build/tests/ig/qa/StructureDefinition-test-patient-snapshot.html</p>",
        "id": 153865796,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483657730
    },
    {
        "content": "<p>but these are never built into any output in /output - it's not configured to do that </p>",
        "id": 153865797,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483657751
    },
    {
        "content": "<p>tst-1 comes from build\\tests\\ig\\resources\\test-ig-sd.xml</p>",
        "id": 153865798,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483657773
    },
    {
        "content": "<p>Does the publisher ( validator ) really use  the fhir path expression or xpath expression for invariants?  I have to put both in the profiles.  Why do we need both?  and I am only able to idependently verify  my  xpath but I guess on the FhirPath  - Can't get Notepad plugin to work : (</p>",
        "id": 153866087,
        "sender_full_name": "Eric Haas",
        "timestamp": 1483981837
    },
    {
        "content": "<p>fhirpath is required. xpath is optional. why doesn't notepad++ work?</p>",
        "id": 153866094,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483991179
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> thanks for putting up with my questions last week.  i should have mentioned that i finally 'got it' the next day.  what had tripped me up is two things:<br>\n1. that the test-ig defines two different profiles for 'Patient' (one via StructuredDocument and one via the spreadsheet approach)<br>\n2. the the US-Core ig i was looking at had this 'US Core-Patient-Inv' tab that wasn't actually being used (since it was missing the '-' in the tab name)</p>",
        "id": 153866096,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483991928
    },
    {
        "content": "<p>i was finally able to make the inv show up on the patient.address.postalCode</p>",
        "id": 153866097,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483991952
    },
    {
        "content": "<p>for both</p>",
        "id": 153866098,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483991955
    },
    {
        "content": "<p>after messing with their config</p>",
        "id": 153866099,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483991965
    },
    {
        "content": "<p>great</p>",
        "id": 153866100,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483992037
    },
    {
        "content": "<p>since then i've made good progress on my own ig, but i wanted to mention something else i think is a limitation (although it might be my bad again).  its about specifying 'code set' on the binding for an extension (from a spreadsheet profile)</p>",
        "id": 153866101,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992072
    },
    {
        "content": "<p>i don't think its with the IG builder, maybe its the build stuff that converts spreadsheet to resources</p>",
        "id": 153866102,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992099
    },
    {
        "content": "<p>its generating the codesystem and valueset appropriately</p>",
        "id": 153866103,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992111
    },
    {
        "content": "<p>but in the SD for the extension, the binding element is missing its 'reference' element</p>",
        "id": 153866104,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992133
    },
    {
        "content": "<p>it leads to the structure widget saying the extension is unbound</p>",
        "id": 153866106,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992151
    },
    {
        "content": "<p>i think i can just work around it by just avoiding 'code list' and defining the code system and value sets appropriately</p>",
        "id": 153866107,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992186
    },
    {
        "content": "<p>what do you have in the binding tab?</p>",
        "id": 153866108,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483992194
    },
    {
        "content": "<p>here's one i adapted from the US-Core ig</p>",
        "id": 153866109,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992216
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/kyZtPHONbL2PlteRiJ3FJthO/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/kyZtPHONbL2PlteRiJ3FJthO/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\"><img src=\"/user_uploads/10155/kyZtPHONbL2PlteRiJ3FJthO/pasted_image.png\"></a></div>",
        "id": 153866110,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992218
    },
    {
        "content": "<p>and i have code list tab called 'birthsex'</p>",
        "id": 153866111,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992241
    },
    {
        "content": "<p>and here is what it puts in the extension of type 'code' where i reference this binding:</p>",
        "id": 153866113,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992387
    },
    {
        "content": "<p>well, you're right</p>",
        "id": 153866114,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483992392
    },
    {
        "content": "<p>fixed. you'll have to wait for 10718 to build though</p>",
        "id": 153866115,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1483992471
    },
    {
        "content": "<div class=\"codehilite\"><pre>&lt;element id=&quot;Extension:birthsex.valueCode&quot;&gt;\n      &lt;path value=&quot;Extension.valueCode&quot;/&gt;\n      &lt;short value=&quot;Value of extension&quot;/&gt;\n      &lt;definition value=&quot;Value of extension - may be a resource or one of a constrained set of the data types (see Extensibility in the spec for list).&quot;/&gt;\n      ...\n      &lt;type&gt;\n        &lt;code value=&quot;code&quot;/&gt;\n      &lt;/type&gt;\n      &lt;binding&gt;\n        &lt;strength value=&quot;required&quot;/&gt;\n        &lt;description value=&quot;Code for sex assigned at birth&quot;/&gt;\n      &lt;/binding&gt;\n      ...\n    &lt;/element&gt;\n  &lt;/snapshot&gt;\n</pre></div>",
        "id": 153866116,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992477
    },
    {
        "content": "<p>cool</p>",
        "id": 153866117,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992483
    },
    {
        "content": "<p>you rock</p>",
        "id": 153866118,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992486
    },
    {
        "content": "<p>thx grahame</p>",
        "id": 153866120,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1483992496
    },
    {
        "content": "<p>re Notepad  - don't know keep getting errors.  I'll try from scratch again.</p>",
        "id": 153866159,
        "sender_full_name": "Eric Haas",
        "timestamp": 1483999907
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191676\">@Lee Surprenant</span>  The invarients are used in the US-Core spreadsheet.  The \"-\" is in the  metadata page....</p>",
        "id": 153866160,
        "sender_full_name": "Eric Haas",
        "timestamp": 1484000053
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191676\">@Lee Surprenant</span>  I think its easier to manage all valuesets as separate resources than use the spreadsheets.  Kind of standardized the approach and easier to sautogenerate of the ig.xml and ig.json files .</p>",
        "id": 153866161,
        "sender_full_name": "Eric Haas",
        "timestamp": 1484000298
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>   With Fresh install Notepad plugin works for checking fhirpath for STU3 which is great.  When I switch over to DSTU2  I get  and error </p>",
        "id": 153866181,
        "sender_full_name": "Eric Haas",
        "timestamp": 1484006452
    },
    {
        "content": "<p>Error validating: Unable to open file [3: The system cannot find the path specified.]: 'C:\\work\\org.hl7.fhir\\build\\publish\\definitions-r2asr3.xml.zip'</p>",
        "id": 153866182,
        "sender_full_name": "Eric Haas",
        "timestamp": 1484006486
    },
    {
        "content": "<p>I can work around this one though.</p>",
        "id": 153866183,
        "sender_full_name": "Eric Haas",
        "timestamp": 1484006519
    },
    {
        "content": "<p>hmm. I'll look at the install again;...</p>",
        "id": 153866184,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1484011448
    },
    {
        "content": "<p>Does the IG publisher use the ig.xml resource  resource.purpose.value for anything ( does it matter what the value is?)</p>",
        "id": 153866324,
        "sender_full_name": "Eric Haas",
        "timestamp": 1484080150
    },
    {
        "content": "<p>in DSTU2 </p>",
        "id": 153866325,
        "sender_full_name": "Eric Haas",
        "timestamp": 1484080379
    },
    {
        "content": "<p>I use it in generating the table of contents - figuring out whether something is a generated resource page or a regular page</p>",
        "id": 153866326,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1484080635
    },
    {
        "content": "<p>Decided to update to trunk today and now i'm getting this error on my ig builds:  Snapshot does not contain differential element with id  (seemingly for whatever is the first extension element referenced in my ig)</p>",
        "id": 153871316,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1487029243
    },
    {
        "content": "<p>I reverted to r11138 and its working again for me now.  so, barring something strange, I think it must have been a very recent commit that broke it</p>",
        "id": 153871317,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1487029296
    },
    {
        "content": "<p>It is a recent commit, but it's a commit that indicate that your profile is broken</p>",
        "id": 153871320,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487029399
    },
    {
        "content": "<p>I.e. We added some checking that wasn't there before.</p>",
        "id": 153871321,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487029418
    },
    {
        "content": "<p>It means you've got an element in your differential that isn't showing up in your snapshot - which is a problem.</p>",
        "id": 153871322,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487029436
    },
    {
        "content": "<p>Generally it means something in your differential is mis-named</p>",
        "id": 153871323,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487029449
    },
    {
        "content": "<p>(Or shouldn't be there at all)</p>",
        "id": 153871324,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487029460
    },
    {
        "content": "<p>hmm, i'm generating off a spreadsheet...not sure what isn't right.  the one at /build/tests/ig is failing with a similar error<br>\nPublishing Content Failed: Exception loading <a href=\"http://hl7.org/fhir/test/StructureDefinition/test-ig-militaryService\" target=\"_blank\" title=\"http://hl7.org/fhir/test/StructureDefinition/test-ig-militaryService\">http://hl7.org/fhir/test/StructureDefinition/test-ig-militaryService</a>: Snapshot does not contain differential element with id: Extension:militaryservice.value[x] (08.0064sec)<br>\n                                                                                 (08.0064sec)</p>",
        "id": 153871338,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1487035448
    },
    {
        "content": "<p>as does the latest US-Core version i just ran</p>",
        "id": 153871339,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1487035457
    },
    {
        "content": "<p>OK let me fix US-Core</p>",
        "id": 153871341,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487035816
    },
    {
        "content": "<p>after dinner</p>",
        "id": 153871342,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487036527
    },
    {
        "content": "<p>You've problem is that you've probably constrained the data type of the value[x], so the name should be valueCodeableConcept or whatever the data type is.  (The differential name needs to be consistent with what the name's going to be in the snapshot.)</p>",
        "id": 153871343,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487036930
    },
    {
        "content": "<p>i'm sorry to say it, but i still don't understand the problem.  ignoring my ig, lets just consider the one at /build/tests/ig (I posted the error above).<br>\nit defines an extension element with a profile name of 'militaryService'.  that military service extension is defined to be of type code.<br>\nthe ig publisher fails with the above error and when I check the qa folder I can see what its complaining about:<br>\n<a href=\"/user_uploads/10155/BiFv7QO1gPUnebv8gk4TjB7y/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/BiFv7QO1gPUnebv8gk4TjB7y/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\"><img src=\"/user_uploads/10155/BiFv7QO1gPUnebv8gk4TjB7y/pasted_image.png\"></a></div>",
        "id": 153871370,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1487081387
    },
    {
        "content": "<p>so i guess the question is:  how to make the differential use valueCode instead of value[x] ?</p>",
        "id": 153871371,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1487081434
    },
    {
        "content": "<p>In the differential, the path name should be Extension.valueCode, not Extension.value[x]</p>",
        "id": 153871392,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487091096
    },
    {
        "content": "<p>Sorry, was out this afternoon due to car troubles.  I'm still missing some knowledge about how the differential is generated.  I'm using spreadsheet profile authoring in my IG (and so does that test-ig) and I'm not sure what to change in order to change the path in the differential</p>",
        "id": 153871469,
        "sender_full_name": "Lee Surprenant",
        "timestamp": 1487108172
    },
    {
        "content": "<p>I have tried both combinations for restricting Observation.value[x] in the spreadsheet: i.e. putting Observation.value[x] or Observation.valueCodeableConcept and still keep getting the same error that Lee mentioned. Still not sure what the issue/fix is.</p>",
        "id": 153871475,
        "sender_full_name": "Sadiq Saleh",
        "timestamp": 1487110316
    },
    {
        "content": "<p>US-Core validates - look at that for examples <a href=\"https://github.com/Healthedata1/US-Core\" target=\"_blank\" title=\"https://github.com/Healthedata1/US-Core\">here</a></p>",
        "id": 153871487,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487117444
    },
    {
        "content": "<p>What is your data type?</p>",
        "id": 153871498,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487123253
    },
    {
        "content": "<p>Not sure if you were referring to my post, but this is how I have filled out the spreadsheet:<br>\n<a href=\"/user_uploads/10155/8QAOqiJD6QioLZfEs1ROT0Vo/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/8QAOqiJD6QioLZfEs1ROT0Vo/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\"><img src=\"/user_uploads/10155/8QAOqiJD6QioLZfEs1ROT0Vo/pasted_image.png\"></a></div>",
        "id": 153871587,
        "sender_full_name": "Sadiq Saleh",
        "timestamp": 1487168702
    },
    {
        "content": "<p>I am still having issues getting the IG to work with extensions. As far as I can tell there are no examples of working extensions in the US-core, unless I missed one?</p>",
        "id": 153871617,
        "sender_full_name": "Sadiq Saleh",
        "timestamp": 1487181666
    },
    {
        "content": "<p>My extension are all xml SD files.  The spreadsheet doesn't create them correctly and  there is an open tracker on creating extensions with the spreadsheets which likely won't get fixed soon.  what I do is use the spreadsheet to create the extension then edit in xml.   You need to understand the StructureDefinition resource to do this though.</p>",
        "id": 153871630,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487184335
    },
    {
        "content": "<p>Curiously the latest IG publisher caused my US-Core build to fail due to the dict fragment for the complex extension not being created.   Argo works fine and they are nearly the same,  I need to see what the problem is.   Did I mention you need to understand SD pretty good to hand edit.  :-)</p>",
        "id": 153871635,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487184505
    },
    {
        "content": "<p>As an alternative to hand editing the SD (which I am not sure I am capable of doing). Does the build process build extensions correctly? Could I build my extensions there and grab them from there once built?</p>",
        "id": 153871639,
        "sender_full_name": "Sadiq Saleh",
        "timestamp": 1487184680
    },
    {
        "content": "<p>Could see if Forge is up to the task</p>",
        "id": 153871640,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487184722
    },
    {
        "content": "<p>I think the build would work too</p>",
        "id": 153871641,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487184740
    },
    {
        "content": "<p>I'm confused by this - the problem seems to be with Observation.valueCodeableConcept, not an extension. </p>",
        "id": 153871654,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487186699
    },
    {
        "content": "<p>I think that should work fine - <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> have you broken something? </p>",
        "id": 153871655,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487186712
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>   the 'this\" I'm talking about is extensions and how they are not working for my  IGs.. (specifically the diff view in my templates - the snapshots seem fine)    Observation.valueCodeableConcept is working for me.  e.g   us core <br>\nSmokingstatus</p>",
        "id": 153871657,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487187119
    },
    {
        "content": "<p>how are extensions not working?</p>",
        "id": 153871659,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487187167
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12496\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12496\">GF#12496</a></p>",
        "id": 153871660,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487187300
    },
    {
        "content": "<p>k</p>",
        "id": 153871661,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487187411
    },
    {
        "content": "<p>I've also logged <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12833\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=12833\">GF#12833</a> which just cropped up.    Not 100% sure is not on my end though it only affects complex extensions and I thnk it may be related to the change in the discriminator element</p>",
        "id": 153871663,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487187642
    },
    {
        "content": "<p>I think we're talking about multiple issues.  Lee's and Sadiq's problem is that the build dies.  I'm a bit confused in that Sadiq is talking about extensions but posted an example not using extensions.  What's the specific message you get back in your build <span class=\"user-mention\" data-user-id=\"193151\">@Sadiq Saleh</span> with that spreadsheet filed out as you pasted it here?</p>",
        "id": 153871685,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487188970
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> I would get the error:<br>\njava.lang.Exception: Exception loading <a href=\"http://evinance.com/fhir-DSTU3/StructureDefinition/t-category-bc\" target=\"_blank\" title=\"http://evinance.com/fhir-DSTU3/StructureDefinition/t-category-bc\">http://evinance.com/fhir-DSTU3/StructureDefinition/t-category-bc</a>: Snapshot does not contain differential element with id: Observation:t-category-bc.valueCodeableConcept<br>\nand I 'fixed' it by reordering the rows:<br>\n<a href=\"/user_uploads/10155/b9ZhK0Ah_ArHveswG6jDJAtz/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/b9ZhK0Ah_ArHveswG6jDJAtz/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/b9ZhK0Ah_ArHveswG6jDJAtz/pasted_image.png\"></a></div>",
        "id": 153871698,
        "sender_full_name": "Sadiq Saleh",
        "timestamp": 1487189567
    },
    {
        "content": "<p>This exception seems to mimic the exception thrown by the extensions that Lee observed, though I am unclear why reordering it worked here? Is it because it is expecting the atrributes of codeableconcept to be listed?</p>",
        "id": 153871701,
        "sender_full_name": "Sadiq Saleh",
        "timestamp": 1487189906
    },
    {
        "content": "<p>I have no clue why re-ordering made a difference - particularly given that category should actually appear before code, not after.  That's just downright weird . . .</p>",
        "id": 153871702,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487189977
    },
    {
        "content": "<p>I am getting a new error logged which I didnt  notcie  before and probably has something to do with the schematrons not being generated. </p>",
        "id": 153871722,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487194482
    },
    {
        "content": "<p>xception generating resource /Users/ehaas/Documents/FHIR/US-Core/resources/structuredefinition-us-core-race::StructureDefinition/us-core-race: String index out of range: -1 (00:01:04.0940sec)<br>\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1<br>\n    at java.lang.String.substring(String.java:1967)<br>\n    at org.hl7.fhir.dstu3.utils.formats.CSVWriter.itemList(CSVWriter.java:223)<br>\n    at org.hl7.fhir.dstu3.utils.formats.CSVWriter.processElement(CSVWriter.java:170)<br>\n    at org.hl7.fhir.dstu3.conformance.ProfileUtilities.generateCsvs(ProfileUtilities.java:2709)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateOutputsStructureDefinition(Publisher.java:2876)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generateOutputs(Publisher.java:2563)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:1802)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:281)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3204)<br>\n   java.lang.String.substring(String.java:1967)                                  (00:01:04.0941sec)<br>\n   org.hl7.fhir.dstu3.utils.formats.CSVWriter.itemList(CSVWriter.java:223)       (00:01:04.0941sec)<br>\n   org.hl7.fhir.dstu3.utils.formats.CSVWriter.processElement(CSVWriter.java:170) (00:01:04.0942sec)<br>\n   org.hl7.fhir.dstu3.conformance.ProfileUtilities.generateCsvs(ProfileUtilities.java:2709) (00:01:04.0942sec)<br>\n   org.hl7.fhir.igtools.publisher.Publisher.generateOutputsStructureDefinition(Publisher.java:2876) (00:01:04.0942sec)<br>\n   org.hl7.fhir.igtools.publisher.Publisher.generateOutputs(Publisher.java:2563) (00:01:04.0942sec)<br>\n   org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:1802)        (00:01:04.0942sec)<br>\n   org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:281)          (00:01:04.0942sec)<br>\n   org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3204)            (00:01:04.0942sec)</p>",
        "id": 153871724,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487194521
    },
    {
        "content": "<p>not sure what a string out of range error is.</p>",
        "id": 153871726,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487194547
    },
    {
        "content": "<p>slack coding by Lloyd. I'll commit a fix</p>",
        "id": 153871732,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487195261
    },
    {
        "content": "<p>Apologies.  (And thanks Grahame)</p>",
        "id": 153871765,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1487203834
    },
    {
        "content": "<p>type Reference(any) creating bad links for Any.html in FHIR build links to <a href=\"http://build.fhir.org/resourcelist.html\" target=\"_blank\" title=\"http://build.fhir.org/resourcelist.html\">http://build.fhir.org/resourcelist.html</a>  I  am  creating a redirect in Any.html - is there a better way?</p>",
        "id": 153871775,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487205714
    },
    {
        "content": "<p>there's something wrong there. </p>",
        "id": 153871779,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487206277
    },
    {
        "content": "<p>is it your case being wrong? there is no reason to create any.html</p>",
        "id": 153871780,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487206288
    },
    {
        "content": "<p>I didn't specify the type is coming from the snapshot.  So I don' t think is a case issue.</p>",
        "id": 153871798,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487211100
    },
    {
        "content": "<p>so is this in a commited IG? </p>",
        "id": 153871799,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487211204
    },
    {
        "content": "<p>yes here:  <a href=\"https://github.com/Healthedata1/US-Core\" target=\"_blank\" title=\"https://github.com/Healthedata1/US-Core\">https://github.com/Healthedata1/US-Core</a>.  OK when I removed from the differential definition it changes the type to \"Reference(Resource)\".</p>",
        "id": 153871804,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487215232
    },
    {
        "content": "<p>that's better</p>",
        "id": 153871807,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487217860
    },
    {
        "content": "<p>IG publisher is not working when I create a dependency to US Core:  here is the warning  ( same whether use location or source for vaildation.pack ):</p>\n<div class=\"codehilite\"><pre> Load uscore (http://build.fhir.org/ig/Healthedata1/US-Core) from resources       (18.0925sec)\n Version mismatch. This IG is version 1.9.0, while the IG &#39;uscore&#39; is from version 1.7.0. Will try to run anyway) (18.0956sec)\n Publishing Content Failed: Unable to parse StructureDefinition-us-core-procedure.json from IG uscore (19.0130sec)\n</pre></div>",
        "id": 153872875,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487634543
    },
    {
        "content": "<p>note the version mismatch is weird because the validation.pack si version 1.9.0 and here is the ig.json:</p>\n<p>,\"dependencyList\":[{\"name\":\"uscore\",\"location\":\"http://build.fhir.org/ig/Healthedata1/US-Core\",\"source\":\"resources\"}],</p>",
        "id": 153872876,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487634612
    },
    {
        "content": "<p>USCore was updated to the latest STU3 changes BTW and I can't get a json validator to work on the above file, but the xml schema  validation was OK .</p>",
        "id": 153872877,
        "sender_full_name": "Eric Haas",
        "timestamp": 1487634793
    },
    {
        "content": "<p>will work on this next week</p>",
        "id": 153872888,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1487645345
    },
    {
        "content": "<p>version 11996 introduces \"jurisdiction\" to the config file for IGs - you can use it ensure that all your conformance resources are marked for the applicable region. I recommend that we should all use it wherever IGs are region or country specific</p>",
        "id": 153888095,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1494223850
    },
    {
        "content": "<p>Is there a jurisdiction to positively assert \"international\"?</p>",
        "id": 153888097,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1494224522
    },
    {
        "content": "<p>We could look at making it mandatory - at least in a good practice profile</p>",
        "id": 153888098,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1494224543
    },
    {
        "content": "<p>Hi. Newbie question(is this the right place?): I am trying a very simple IG that just tells \"medicationAdministration.performer is mandatory\". So i made a simple IG that references the structureDefinition which contains the element in the differential. I am still learning the dependencies but i am getting a \"The link 'AdministrationReport-definitions.html#MedicationAdministration.performer' cannot be resolved\".</p>\n<p>Can anyone tell me what mistake I'm making?</p>",
        "id": 153894838,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1498076420
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191832\">@Jose Costa Teixeira</span> See how I did this for <a href=\"http://hl7.org/fhir/us/meds/\" target=\"_blank\" title=\"http://hl7.org/fhir/us/meds/\">US Meds IG</a> in this <a href=\"https://github.com/HL7/FHIR-ONC-Meds\" target=\"_blank\" title=\"https://github.com/HL7/FHIR-ONC-Meds\">repo</a>.   Specifically,  this <a href=\"https://github.com/HL7/FHIR-ONC-Meds/blob/master/resources/medicationadministration-profile-spreadsheet.xml\" target=\"_blank\" title=\"https://github.com/HL7/FHIR-ONC-Meds/blob/master/resources/medicationadministration-profile-spreadsheet.xml\">spreadsheet</a></p>",
        "id": 153894843,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498077624
    },
    {
        "content": "<p>The links to the definitions page are stitched together in the <a href=\"https://github.com/HL7/FHIR-ONC-Meds/blob/master/ig.json\" target=\"_blank\" title=\"https://github.com/HL7/FHIR-ONC-Meds/blob/master/ig.json\">ig.json</a>  file.</p>",
        "id": 153894845,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498077856
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>&quot;defaults&quot;: {\n    &quot;StructureDefinition&quot;: {\n        &quot;template-mappings&quot;: &quot;sd-mappings.html&quot;,\n        &quot;template-defns&quot;: &quot;sd-definitions.html&quot;,\n        &quot;template-base&quot;: &quot;sd.html&quot;\n    },\n</pre></div>",
        "id": 153894846,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498078126
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> I'm trying to port this info you gave me to my structure where i dont use spreadsheets.</p>",
        "id": 153894847,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1498078549
    },
    {
        "content": "<p>so the ig.json is an implementationGuide resource?</p>",
        "id": 153894848,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1498078583
    },
    {
        "content": "<p>nope, nevermind, it is the control file. mine is almost empty, hence my doubt</p>",
        "id": 153894849,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1498078704
    },
    {
        "content": "<p>...or you can scrub the definitions from you template all together</p>",
        "id": 153894851,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498079375
    },
    {
        "content": "<p>still failing. what do you mean scrub the definitions? I think i am not using any</p>",
        "id": 153894852,
        "sender_full_name": "Jose Costa Teixeira",
        "timestamp": 1498079412
    },
    {
        "content": "<p>So the StructureDefinitions are available at: <a href=\"http://hl7.org/fhir/us/meds/StructureDefinition-medicationadministration.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/meds/StructureDefinition-medicationadministration.html\">http://hl7.org/fhir/us/meds/StructureDefinition-medicationadministration.html</a></p>",
        "id": 153894854,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498079465
    },
    {
        "content": "<p>instead of spreadsheets</p>",
        "id": 153894855,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498079481
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  What is the purpose of the history page folder in the ig config file if it is not published in the output file adn has to be externally maintatined?</p>\n<p>\"<br>\n [history page]: the page that lists the history of the implementation guide. This page is manually managed when the IG is published formally, so it is not produced (and cannot be produced) but is not listed as a broken link<br>\n\"</p>",
        "id": 153894974,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498150824
    },
    {
        "content": "<p>turning the warning off</p>",
        "id": 153895004,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498162110
    },
    {
        "content": "<p>sorry, the broken link error off</p>",
        "id": 153895005,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498162124
    },
    {
        "content": "<p>I am trying to figure out how to document how to use the Appointment resource as an input operation parameter.  Thing is ... can't really use a profile since it will be incomplete and fail the validation in the tooling.  (e.g., .status is not needed for an input parameter).</p>",
        "id": 153895038,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498170481
    },
    {
        "content": "<p>it's mandatory</p>",
        "id": 153895040,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498171517
    },
    {
        "content": "<p>I know is a required element but the context of use here is using the appointment SD as a pre-packaged template for input parameters.  When this idea was floated in argonaut the push back came because of the required status elements that were felt to be extra baggage and not appropriate to be populated for input parameter.   Right now  I may only list the parameters and where they go in the appointment resource without creating a profile for this step and profile the the output and confirmation Appointments.</p>",
        "id": 153895166,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498435430
    },
    {
        "content": "<p>this has come up before - using a resource as a template or constructor </p>",
        "id": 153895167,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498438070
    },
    {
        "content": "<p>I don't know what a good answer is </p>",
        "id": 153895168,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498438077
    },
    {
        "content": "<p>I alphabetize the configuration file and an error arose because of this:</p>\n<div class=\"codehilite\"><pre><span></span>    ],\n &quot;paths&quot;:{\n    &quot;resources&quot;:[\n       &quot;resources&quot;,\n       &quot;examples&quot;\n   ],\n   ....\n</pre></div>\n\n\n<p>changed to:</p>\n<div class=\"codehilite\"><pre><span></span>    ],\n &quot;paths&quot;:{\n    &quot;resources&quot;:[\n       &quot;examples&quot;,\n       &quot;resources&quot;\n   ],\n   ....\n</pre></div>\n\n\n<p>with this error message:</p>\n<div class=\"codehilite\"><pre><span></span>  java.lang.Exception: Unable to find file /Users/ehaas/Documents/FHIR/IG-\n  Template/examples/ig.xml\nat org.hl7.fhir.igtools.publisher.SimpleFetcher.fetch(SimpleFetcher.java:39)\nat org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:1255)\nat org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:315)\nat org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3787\n</pre></div>",
        "id": 153895235,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498499679
    },
    {
        "content": "<p>So only looks for  ImplementationGuide resource in the first folder in the resource list.</p>",
        "id": 153895236,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498500216
    },
    {
        "content": "<p>can you make a task for this please</p>",
        "id": 153895248,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498510485
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13572\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13572\">GF#13572</a></p>",
        "id": 153895253,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498510723
    },
    {
        "content": "<p>Whenever GG gets back.    Got an error I have never before seen and unable to debug for US-Core.  ( not yet committed).</p>\n<div class=\"codehilite\"><pre><span></span>Validating Resources                                                             (41.0021sec)\nException in thread &quot;main&quot; java.lang.Error: Not done yet - resolve Practitioner/practitioner-1 locally\n    at org.hl7.fhir.r4.validation.InstanceValidator$ValidatorHostServices.resolveReference(InstanceValidator.java:196)\n    at org.hl7.fhir.r4.utils.FHIRPathEngine.funcResolve(FHIRPathEngine.java:2458)\n    at org.hl7.fhir.r4.utils.FHIRPathEngine.evaluateFunction(FHIRPathEngine.java:2117)\n    at org.hl7.fhir.r4.utils.FHIRPathEngine.execute(FHIRPathEngine.java:899)\n    at org.hl7.fhir.r4.utils.FHIRPathEngine.execute(FHIRPathEngine.java:913)\n    at org.hl7.fhir.r4.utils.FHIRPathEngine.execute(FHIRPathEngine.java:908)\n    at org.hl7.fhir.r4.utils.FHIRPathEngine.evaluate(FHIRPathEngine.java:381)\n    at org.hl7.fhir.r4.utils.FHIRPathEngine.evaluateToBoolean(FHIRPathEngine.java:439)\n    at org.hl7.fhir.r4.validation.InstanceValidator.checkInvariants(InstanceValidator.java:3349)\n    at org.hl7.fhir.r4.validation.InstanceValidator.validateElement(InstanceValidator.java:2981)\n    at org.hl7.fhir.r4.validation.InstanceValidator.validateElement(InstanceValidator.java:3283)\n    at org.hl7.fhir.r4.validation.InstanceValidator.start(InstanceValidator.java:2385)\n    at org.hl7.fhir.r4.validation.InstanceValidator.validateResource(InstanceValidator.java:3450)\n    at org.hl7.fhir.r4.validation.InstanceValidator.validateContains(InstanceValidator.java:2948)\n    at org.hl7.fhir.r4.validation.InstanceValidator.validateElement(InstanceValidator.java:3222)\n    at org.hl7.fhir.r4.validation.InstanceValidator.validateElement(InstanceValidator.java:3283)\n    at org.hl7.fhir.r4.validation.InstanceValidator.start(InstanceValidator.java:2369)\n    at org.hl7.fhir.r4.validation.InstanceValidator.validateResource(InstanceValidator.java:3450)\n    at org.hl7.fhir.r4.validation.InstanceValidator.validate(InstanceValidator.java:642)\n    at org.hl7.fhir.r4.validation.InstanceValidator.validate(InstanceValidator.java:603)\n    at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:2157)\n    at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:2133)\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:358)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:323)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3829)\n</pre></div>",
        "id": 153896609,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499795096
    },
    {
        "content": "<p>Looked at this again and the problem lies with <code>MedicationRequest.requester.agent</code> reference element.  Commented out and builds successfully.</p>",
        "id": 153896642,
        "sender_full_name": "Eric Haas",
        "timestamp": 1499806653
    },
    {
        "content": "<p>When building a derived profile, why doesn't the baseDefinition element of the generated StructureDefinition reference the derived profile? I am deriving several profiles from the US Core IG, but when I reference the baseDefinition element it doesn't point to <a href=\"http://hl7.org/fhir/us/core/StructureDefinition/\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/StructureDefinition/\">http://hl7.org/fhir/us/core/StructureDefinition/</a>... endpoint. Instead it points to the <a href=\"http://hl7.org/fhir/StructureDefinition/\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/\">http://hl7.org/fhir/StructureDefinition/</a>... endpoint.</p>",
        "id": 153897268,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1500428600
    },
    {
        "content": "<p>This is known issue with using the spreadsheets but it works if this element is populated correctly.</p>\n<p><code>&lt;baseDefinition value=\"http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient\"/&gt;</code></p>\n<p>I added  a<a href=\"http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-template-profile-on-profile2.html#profile\" target=\"_blank\" title=\"http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-template-profile-on-profile2.html#profile\"> profile here</a> to show how its done using StructureDefinition file directly. ( I actually used the the spreadsheets template to crreate the xml and then hand edit the generated StructureDefinition file in xml to to create the corrected profile and reran in the ig-publisher.)</p>",
        "id": 153897315,
        "sender_full_name": "Eric Haas",
        "timestamp": 1500477210
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191897\">@Christopher Schuler</span>  see above</p>",
        "id": 153897316,
        "sender_full_name": "Eric Haas",
        "timestamp": 1500477526
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> ! That did the trick. <br>\nHowever the full URL is being displayed like so:<br>\nThis profile builds on <a href=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html\">http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html</a><br>\nHow to get a link like yours?</p>",
        "id": 153897366,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1500500707
    },
    {
        "content": "<p>Also, it looks like list-xxx.xhtml and list-simple-xxx.xhtml try to access the \"name\" property of the given example, which causes {title?} to be outputted if the resource doesn't have a name property. Is there a way to access the \"id\" property instead?</p>",
        "id": 153897383,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1500507695
    },
    {
        "content": "<p>Is anyone here able to increase the Java heap space for the IG publisher? My build runs locally once I increased the heap. Other option would be for me to start hacking HTLMLInspector.java to remove the excess caching of LoadedFile objects since that seems to be where the build is failing per <a href=\"http://build.fhir.org/ig/HL7/ccda-on-fhir/build.log\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/ccda-on-fhir/build.log\">http://build.fhir.org/ig/HL7/ccda-on-fhir/build.log</a>. I guess 597 HTML files generated from a single IG is pushing the limits...</p>",
        "id": 153897388,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1500514373
    },
    {
        "content": "<blockquote>\n<p>Thanks <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> ! That did the trick. <br>\nHowever the full URL is being displayed like so:<br>\nThis profile builds on <a href=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html\">http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html</a><br>\nHow to get a link like yours?</p>\n</blockquote>\n<p>?  I'm not sure what you mean, the sd.html template creates that link from a build generated fragment:</p>\n<p>from this code here:...</p>\n<div class=\"codehilite\"><pre><span></span>     &lt;!-- uri --&gt;\n     {% include {{[type]}}-{{[id]}}-header.xhtml %}\n\n     &lt;!-- uri --&gt;\n</pre></div>\n\n\n<p>Note that you need to use the uri  (<code>http://hl7.org/fhir/us/core/StructureDefinition/us-core-allergyintolerance</code>)in the baseDefinition not the URL  (<code>http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html</code>)</p>\n<blockquote>\n<p>Also, it looks like list-xxx.xhtml and list-simple-xxx.xhtml try to access the \"name\" property of the given example, which causes {title?} to be outputted if the resource doesn't have a name property. Is there a way to access the \"id\" property instead?</p>\n</blockquote>\n<p>that is another known issue.  I hand edit that as well.</p>",
        "id": 153897395,
        "sender_full_name": "Eric Haas",
        "timestamp": 1500516081
    },
    {
        "content": "<p>Ugh, tried commenting out all examples in the IG, dropping the total generated HTML files to 436, but there is still not enough heap space to build my IG. Hopefully someone with access to the build server can lend a hand tomorrow ...</p>",
        "id": 153897400,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1500516998
    },
    {
        "content": "<p>FYI  US-Core has about 1200 HTML files</p>\n<p>http:</p>",
        "id": 153897414,
        "sender_full_name": "Eric Haas",
        "timestamp": 1500521270
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> Perhaps it's not so much the number of files as their sizes. These are large Composition resource profiles, that inherit from other large Composition profiles, and can be a couple megabytes for many of the generated HTML files. Combine this with large value sets like the LOINC document type codes for Diagnostic Imaging Reports whose ttl.html and xml.html files are about 8 megs each and things start to add up pretty quick.</p>",
        "id": 153897436,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1500555183
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> Sorry to keep bothering you, but I'm basically dead in the water until the heap gets bumped up.  Tried making the fix to the auto-ig-builder myself but I don't have commit privileges to that repo. </p>\n<p><a href=\"http://build.fhir.org/ig/HL7/ccda-on-fhir/build.log\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/ccda-on-fhir/build.log\">http://build.fhir.org/ig/HL7/ccda-on-fhir/build.log</a></p>",
        "id": 153897485,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1500567029
    },
    {
        "content": "<p>Sorry Rick! Let me try to update this now. (note that in general even without commit privileges you can always make a \"pull request\" in Github).</p>",
        "id": 153897520,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1500587942
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 153897522,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1500588443
    },
    {
        "content": "<p>so is this sorted now?</p>",
        "id": 153897635,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1500635179
    },
    {
        "content": "<p>I'll add a task for myself to consider if I can reduce memory requirements when validating the pages</p>",
        "id": 153897637,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1500635199
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Yes, sorted for now. And welcome back! Yes, I think the validation piece could stand a little memory optimization. Also, I'm pretty sure there is a memory leak when -watch is used, because on my system it will slowly start hogging all RAM and eventually crash in about 30 minutes even though I am making no changes to the IG.</p>",
        "id": 153897681,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1500644087
    },
    {
        "content": "<p>hm. I'll look at both</p>",
        "id": 153897693,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1500646491
    },
    {
        "content": "<p>good to be back, though I'm not really back yet</p>",
        "id": 153897694,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1500646504
    },
    {
        "content": "<p>Agree on the memory leak with -watch.</p>",
        "id": 153897744,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1500667943
    },
    {
        "content": "<p>What is the point of this qa message?- for me is white noise.  I know there will be instance elements that are not defined in the profile.  </p>\n<p><code>Observation/respiratory-rate: Observation.meta[1]  information Instance includes element that is not marked as 'mustSupport' and was validated against profiles declaring mustSupport=true</code></p>",
        "id": 153899821,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501551751
    },
    {
        "content": "<p>I got 402 of these</p>",
        "id": 153899822,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501551819
    },
    {
        "content": "<p>can we create a separate  column for warnings and information in qa.html?</p>",
        "id": 153899823,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501551877
    },
    {
        "content": "<p>What does this qa warning mean?<br>\n<code>Observation/blood-glucose: Observation.code    warning No Message returned</code></p>",
        "id": 153899824,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501551975
    },
    {
        "content": "<p>that one looks like a bug</p>",
        "id": 153899826,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501555821
    },
    {
        "content": "<p>the first one is a policy issue.</p>",
        "id": 153899827,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501555828
    },
    {
        "content": "<p>Separate columns for warnings &amp; QA is appropriate.  When creating an IG that uses mustSupport, it's quite helpful to know if you've got content in your examples that isn't expected to be supported.  Sometimes that's deliberate, but often it's unintentional and a cue to either fix the example or fix the profile to make the element mustSupport=true.  Also, IGs now have the ability to suppress warning and information messages that you deem irrelevant, so you can hide the noise if you like - once you confirm that it is noise...</p>",
        "id": 153899829,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1501559651
    },
    {
        "content": "<p>how does the suppression work?</p>",
        "id": 153899837,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501562350
    },
    {
        "content": "<p><a href=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Suppressed_Warnings\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Suppressed_Warnings\">http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Suppressed_Warnings</a></p>",
        "id": 153899841,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1501563818
    },
    {
        "content": "<p>for something like the 'element that is not must-support' which is clearly a policy decision, this should only appear if the IG configuration file asks for it.</p>",
        "id": 153899849,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501568403
    },
    {
        "content": "<p>I'm fine with it being a configuration parameter.  It won't show up if the IG doesn't make use of must-support at all.</p>",
        "id": 153899854,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1501569876
    },
    {
        "content": "<p>thanks for the explanation.  I thought I saw something about warnings in the config file.  but documentation needs a little clarification.  what are the values?  is it boolean.  I would like to suppress the information and not the warnings so maybe change to 'warnings|information}both'.   (I would offer to do it myself  - but never got past \"Hello world\" in Java)</p>",
        "id": 153899886,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501600587
    },
    {
        "content": "<p>It's a text file.  One line per warning to suppress.  Essentially what shows up in qa.txt.  You can also strip off the location text if you want to ignore the warning in general regardless of where it shows up.</p>",
        "id": 153899971,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1501611683
    },
    {
        "content": "<p>OK for example:</p>\n<p><code>...,\"suppressedWarningFile\": [\"Instance includes element that is not marked as 'mustSupport' and was validated against profiles declaring mustSupport=true</code>\", \"Some other warning I don't care about\"],...</p>",
        "id": 153899976,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501613945
    },
    {
        "content": "<p>No.  \"suppressedWarningFile\": \"mySuppressedWarnings.txt\"</p>",
        "id": 153900005,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1501620664
    },
    {
        "content": "<p>mySuppressedWarnings.txt would then have two lines saying:<br>\n<code>Instance includes element that is not marked as 'mustSupport' and was validated against profiles declaring mustSupport=true\nSome other warning I don't care about</code></p>",
        "id": 153900006,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1501620727
    },
    {
        "content": "<p>OK thanks Lloyd I'll update the doco with this example.</p>",
        "id": 153900051,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501622396
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  I reviewed all the US-Core errors  and was able to correct a few but the following are term server issues and I would like your opinion and or assistance:</p>",
        "id": 153900052,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501622536
    },
    {
        "content": "<p>1) This group of warnings are because the term server does not support the Code system:</p>\n<ul>\n<li>Why doesn't <a href=\"http://www.nlm.nih.gov/research/umls/rxnorm\" target=\"_blank\" title=\"http://www.nlm.nih.gov/research/umls/rxnorm\">http://www.nlm.nih.gov/research/umls/rxnorm</a> give an \"Unknown Code System\" like ndc and ndfrt. </li>\n<li>Should I just add these to externally published codes systems like I did here: <a href=\"http://build.fhir.org/ig/HL7/US-Core/terminology.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/US-Core/terminology.html\">http://build.fhir.org/ig/HL7/US-Core/terminology.html</a></li>\n</ul>",
        "id": 153900053,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501622612
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>WARNING: AllergyIntolerance/example: AllergyIntolerance.code: None of the codes provided are in the value set http://hl7.org/fhir/us/core/ValueSet/us-core-substance (http://hl7.org/fhir/us/core/ValueSet/us-core-substance, and a code should come from this value set unless it has no suitable code) (codes = http://hl7.org/fhir/ndfrt#N0000175503)\nWARNING: AllergyIntolerance/example: AllergyIntolerance.code.coding: Unknown Code System http://hl7.org/fhir/ndfrt\nWARNING: Immunization/imm-1: Immunization.vaccineCode.coding[2]: Unknown Code System http://hl7.org/fhir/sid/ndc\nWARNING: Medication/uscore-med1: Medication.code: None of the codes provided are in the value set http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes (http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes, and a code should come from this value set unless it has no suitable code) (codes = http://www.nlm.nih.gov/research/umls/rxnorm#206765)\nWARNING: Medication/uscore-med2: Medication.code: None of the codes provided are in the value set http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes (http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes, and a code should come from this value set unless it has no suitable code) (codes = http://www.nlm.nih.gov/research/umls/rxnorm#582620)\nWARNING: MedicationRequest/uscore-mo1: MedicationRequest.medicationCodeableConcept: None of the codes provided are in the value set http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes (http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes, and a code should come from this value set unless it has no suitable code) (codes = http://www.nlm.nih.gov/research/umls/rxnorm#582620)\nWARNING: MedicationRequest/uscore-mo2: MedicationRequest.medicationReference.contained.code: None of the codes provided are in the value set http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes (http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes, and a code should come from this value set unless it has no suitable code) (codes = http://www.nlm.nih.gov/research/umls/rxnorm#582620)\nWARNING: Bundle/uscore-mo3: Bundle.entry[2].resource.code: None of the codes provided are in the value set http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes (http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes, and a code should come from this value set unless it has no suitable code) (codes = http://www.nlm.nih.gov/research/umls/rxnorm#582620)\nWARNING: MedicationStatement/uscore-ms1: MedicationStatement.medicationCodeableConcept: None of the codes provided are in the value set http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes (http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes, and a code should come from this value set unless it has no suitable code) (codes = http://www.nlm.nih.gov/research/umls/rxnorm#206765)\nWARNING: MedicationStatement/uscore-ms2: MedicationStatement.medicationReference.contained.code: None of the codes provided are in the value set http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes (http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes, and a code should come from this value set unless it has no suitable code) (codes = http://www.nlm.nih.gov/research/umls/rxnorm#206765)\nWARNING: Bundle/uscore-ms3: Bundle.entry[2].resource.code: None of the codes provided are in the value set http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes (http://hl7.org/fhir/us/core/ValueSet/us-core-medication-codes, and a code should come from this value set unless it has no suitable code) (codes = http://www.nlm.nih.gov/research/umls/rxnorm#582620)\n</pre></div>",
        "id": 153900054,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501622638
    },
    {
        "content": "<p>2) Code in LOINC ver 2.61 term server is  ver 2.59:</p>\n<div class=\"codehilite\"><pre><span></span>WARNING: Observation/blood-pressure: Observation.code: None of the codes provided are in the value set http://hl7.org/fhir/ValueSet/observation-vitalsignresult (http://hl7.org/fhir/ValueSet/observation-vitalsignresult, and a code should come from this value set unless it has no suitable code) (codes = http://loinc.org#85354-9)\nWARNING: Observation/bp-data-absent: Observation.code: None of the codes provided are in the value set http://hl7.org/fhir/ValueSet/observation-vitalsignresult (http://hl7.org/fhir/ValueSet/observation-vitalsignresult, and a code should come from this value set unless it has no suitable code) (codes = http://loinc.org#85354-9)\nWARNING: Observation/vitals-panel: Observation.code: None of the codes provided are in the value set http://hl7.org/fhir/ValueSet/observation-vitalsignresult (http://hl7.org/fhir/ValueSet/observation-vitalsignresult, and a code should come from this value set unless it has no suitable code) (codes = http://loinc.org#85353-1)\n</pre></div>",
        "id": 153900055,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501622719
    },
    {
        "content": "<p>stinking LOINC shouldn't roll over so fast</p>",
        "id": 153900056,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501622769
    },
    {
        "content": "<p>3)  Thu NUCC Display names in term server are kind of misleading without context maybe should do it like Snomed and list the parent  e.g.  currently <code>207RC0000X|Cardiovascular Disease</code>  but instead change to <code>207RC0000X|Cardiovascular Disease (Internal Medicine)</code></p>",
        "id": 153900057,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501622809
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>WARNING: CareTeam/example: CareTeam.participant[1].role: The display &quot;Allopathic &amp;amp; Osteopathic Physicians:Internal Medicine:Cardiovascular Disease&quot; is not a valid display for the code {http://nucc.org/provider-taxonomy}207RC0000X\nWARNING: CareTeam/example: CareTeam.participant[2].role: The display &quot;Allopathic &amp;amp; Osteopathic Physicians:General Practice&quot; is not a valid display for the code {http://nucc.org/provider-taxonomy}208D00000X\n</pre></div>",
        "id": 153900058,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501622838
    },
    {
        "content": "<p>I can go either way on that -just wondering</p>",
        "id": 153900059,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501622859
    },
    {
        "content": "<p>4) Example uses text only in codeabeconcept -  so I guess I could suppress this one.</p>",
        "id": 153900060,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501622933
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>WARNING: Condition/hc1: Condition.code: No code provided, and a code should be provided from the value set http://hl7.org/fhir/us/core/ValueSet/us-core-problem (http://hl7.org/fhir/us/core/ValueSet/us-core-problem\n</pre></div>",
        "id": 153900061,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501622945
    },
    {
        "content": "<p>5)  This one does expand in the IG and the terminology server does have this when checking manually not sure why getting this warning?</p>\n<div class=\"codehilite\"><pre><span></span>   WARNING: Immunization/imm-1: Immunization.vaccineCode.coding[1]: Unknown Code System http://hl7.org/fhir/sid/cvx\n</pre></div>",
        "id": 153900062,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501623007
    },
    {
        "content": "<p>Finally 6) I ignore these as they are build generated artifacts - I guess can suppress too.</p>\n<p>WARNING: ValueSet/us-core-medication-codes: ValueSet.meta.profile[0]: StructureDefinition reference \"<a href=\"http://hl7.org/fhir/StructureDefinition/valueset-shareable-definition\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/valueset-shareable-definition\">http://hl7.org/fhir/StructureDefinition/valueset-shareable-definition</a>\" could not be resolved<br>\n   ... 6 more like this</p>",
        "id": 153900063,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501623145
    },
    {
        "content": "<p>ok I have upgraded the FHIR server to LOINC 2.61. Is there anywhere you can sign up for alerts when a new version of LOINC is released?</p>",
        "id": 153900069,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501630701
    },
    {
        "content": "<p>RxNorm is a known and supported code system. I haven't added ndc and ndfrt to <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">http://tx.fhir.org</a> yet</p>",
        "id": 153900070,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501630806
    },
    {
        "content": "<p>ndc and ndfrt are already in the core. so no need to say anything about them in the us IG</p>",
        "id": 153900071,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501630908
    },
    {
        "content": "<p>NUCC display names - discuss on terminology stream</p>",
        "id": 153900072,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501630925
    },
    {
        "content": "<p>4-  your choice to suppress or not</p>",
        "id": 153900073,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501630952
    },
    {
        "content": "<p>5 - clean your tx cache out</p>",
        "id": 153900074,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501630967
    },
    {
        "content": "<p>6- make a task. you shouldn't get that</p>",
        "id": 153900075,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501630988
    },
    {
        "content": "<blockquote>\n<p>RxNorm is a known and supported code system.</p>\n</blockquote>\n<p>What does that mean?  The FHIR TS supports it ?  The value sets expands and the examples render just fine.   But I Ican't do a manual  code lookup and is not validating?</p>",
        "id": 153900084,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501641100
    },
    {
        "content": "<p>should validate. what's an example where it's not?</p>",
        "id": 153900085,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501643536
    },
    {
        "content": "<p>I am getting the following error when publishing:</p>\n<div class=\"codehilite\"><pre><span></span>Snapshot for http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-familymemberhistory does not contain differential element with id: FamilyMemberHistory.condition.onset[x]\n</pre></div>\n\n\n<p>How are the snapshots generated? Using the profiles-resources.xml in the igpack?</p>",
        "id": 153900086,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1501644027
    },
    {
        "content": "<p>yes</p>",
        "id": 153900087,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501645891
    },
    {
        "content": "<p>typically that means there is a problem in your profile</p>",
        "id": 153900088,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501645902
    },
    {
        "content": "<p>It's probably looking for a specific name - e.g. onsetPeriod</p>",
        "id": 153900090,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1501649609
    },
    {
        "content": "<p>I tried all the choices and just onset as well, but they all generated the same error. It is building fine when I remove onset[x] from the profile.</p>",
        "id": 153900093,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1501651006
    },
    {
        "content": "<p>is this an IG in github?</p>",
        "id": 153900094,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501651193
    },
    {
        "content": "<p>Yeah, it is the <a href=\"https://github.com/cqframework/qi-core\" target=\"_blank\" title=\"https://github.com/cqframework/qi-core\">qi-core</a> ig.</p>",
        "id": 153900095,
        "sender_full_name": "Christopher Schuler",
        "timestamp": 1501651249
    },
    {
        "content": "<p>k, well, commit, and I'll have a look at it as soon as I can</p>",
        "id": 153900096,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501654551
    },
    {
        "content": "<p>or create a branch or whatever</p>",
        "id": 153900097,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501654561
    },
    {
        "content": "<blockquote>\n<p>ok I have upgraded the FHIR server to LOINC 2.61. Is there anywhere you can sign up for alerts when a new version of LOINC is released?</p>\n</blockquote>\n<p>According to their website \"Joining our mail list is the best way to get notified of new LOINC releases. We will also keep you up to date with everything happening in the LOINC community. This isn't a discussion list, so you won't get bombarded with messages. You'll just get a few choice morsels from our team here at Regenstrief to help you stay informed.\"</p>",
        "id": 153900144,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501687384
    },
    {
        "content": "<blockquote>\n<p>should validate. what's an example where it's not?</p>\n</blockquote>\n<p><a href=\"/user_uploads/10155/yGY_-ZFCzAMKi8JjzHCQl0oA/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/yGY_-ZFCzAMKi8JjzHCQl0oA/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/yGY_-ZFCzAMKi8JjzHCQl0oA/pasted_image.png\"></a></div>",
        "id": 153900146,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501687893
    },
    {
        "content": "<p>Upon further investigation -  RxNorm was supported when I published US-Core, but no longer - not expanding in the CI Build</p>",
        "id": 153900148,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501688120
    },
    {
        "content": "<p>so it turns out that RxNorm has become undefined on <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">tx.fhir.org</a>, which created confusion for me</p>",
        "id": 153900197,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501706732
    },
    {
        "content": "<p>I've just restarted <a href=\"http://tx.fhir.org\" target=\"_blank\" title=\"http://tx.fhir.org\">tx.fhir.org</a> with RxNorm support. That should fix the build, but maybe not this particular build, since the restart came after it restarted</p>",
        "id": 153900198,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501706772
    },
    {
        "content": "<p>Warning number 5 from above did not go away when I cleared the cache....</p>\n<div class=\"codehilite\"><pre><span></span> Immunization/imm-1: Immunization.vaccineCode.coding[1] warning Unknown Code System http://hl7.org/fhir/sid/cvx\n Immunization/imm-1: Immunization.vaccineCode.coding[2] warning Unknown Code System http://hl7.org/fhir/sid/ndc\n</pre></div>",
        "id": 153900250,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501712880
    },
    {
        "content": "<p>here is the examples -I can successfully look up manually on the term server .  and expansion is fine too.</p>",
        "id": 153900251,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501712925
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>{\n    &quot;resourceType&quot;: &quot;Immunization&quot;,\n    &quot;id&quot;: &quot;imm-1&quot;,\n        &quot;meta&quot;: {\n        &quot;profile&quot;: [\n            &quot;http://hl7.org/fhir/us/core/StructureDefinition/us-core-immunization&quot;\n        ]\n    },\n    &quot;status&quot;: &quot;completed&quot;,\n    &quot;date&quot;: &quot;2016-01-08&quot;,\n    &quot;vaccineCode&quot;: {\n        &quot;coding&quot;: [\n            {\n                &quot;system&quot;: &quot;http://hl7.org/fhir/sid/cvx&quot;,\n                &quot;code&quot;: &quot;158&quot;,\n                &quot;display&quot;: &quot;influenza, injectable, quadrivalent&quot;\n            },\n            {\n                &quot;system&quot;: &quot;http://hl7.org/fhir/sid/ndc&quot;,\n                &quot;code&quot;: &quot;49281-0623-78&quot;,\n                &quot;display&quot;: &quot;FLUZONE QUADRIVALENT&quot;\n            }\n        ]\n    },\n    &quot;patient&quot;: {\n        &quot;reference&quot;: &quot;Patient/example&quot;,\n    &quot;display&quot;: &quot;Amy Shaw&quot;\n    },\n    &quot;notGiven&quot;: false,\n    &quot;primarySource&quot;: false\n}\n</pre></div>",
        "id": 153900252,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501712947
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> which IG is this?</p>",
        "id": 153900292,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1501723603
    },
    {
        "content": "<p>repo:  <a href=\"https://github.com/HL7/US-Core\" target=\"_blank\" title=\"https://github.com/HL7/US-Core\">https://github.com/HL7/US-Core</a></p>\n<p>see: <a href=\"http://build.fhir.org/ig/HL7/US-Core/qa.html#_scratch_ig-build-temp-W403NB_repo_examples_imm-1\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/US-Core/qa.html#_scratch_ig-build-temp-W403NB_repo_examples_imm-1\">http://build.fhir.org/ig/HL7/US-Core/qa.html#_scratch_ig-build-temp-W403NB_repo_examples_imm-1</a></p>\n<p>and: <a href=\"http://build.fhir.org/ig/HL7/US-Core/ValueSet-us-core-ndc-vaccine-codes.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/US-Core/ValueSet-us-core-ndc-vaccine-codes.html\">http://build.fhir.org/ig/HL7/US-Core/ValueSet-us-core-ndc-vaccine-codes.html</a></p>",
        "id": 153900301,
        "sender_full_name": "Eric Haas",
        "timestamp": 1501727644
    },
    {
        "content": "<p>recent builds have this new informational message as part of initialization for US-Core dependency :</p>\n<div class=\"codehilite\"><pre><span></span>In IG uscore map: No identity found for http://hl7.org/fhir/us/core/ValueSet/us-core-provider-role|1.0.0\netc....\n</pre></div>\n\n\n<p>What does that mean?</p>",
        "id": 153900963,
        "sender_full_name": "Eric Haas",
        "timestamp": 1502205248
    },
    {
        "content": "<p>what is the purpose of [specification] parameter in the ig-pub config file?  I have an experimental build with a new case report resource and I wanted to profile it.  I assumed naively if I listed the file://[path to my build]/publish.  The ig-publisher would be directed to load that igpack.zip and all would be golden.  Alas the igpack is always coming from the same source  (tweaking the code to see if this works locally) .   Is what I want to do possible?</p>",
        "id": 153901033,
        "sender_full_name": "Eric Haas",
        "timestamp": 1502220413
    },
    {
        "content": "<p>I tweaked to code so IGPack.zip come from local build but still not recognizing new reasource.  I am using the ig-pub from the local build as well.   Am i trying to do something that is not possible right now?</p>",
        "id": 153901072,
        "sender_full_name": "Eric Haas",
        "timestamp": 1502226454
    },
    {
        "content": "<p>I'll have time to look at this tomorrow</p>",
        "id": 153901074,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1502232128
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> Still seeing the following error in the qa.html files:</p>\n<p>Invalid System URI: <a href=\"http://loinc.org\" target=\"_blank\" title=\"http://loinc.org\">http://loinc.org</a></p>\n<p>It's not only showing up in ccda on fhir, I also see it in the qi-core qa.html file, so I'm pretty sure it's not just me being stupid for once :)</p>",
        "id": 153901214,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1502291075
    },
    {
        "content": "<blockquote>\n<p>I'll have time to look at this tomorrow</p>\n</blockquote>\n<p>I think this 'user error'. so let me get back to you on it...</p>",
        "id": 153901376,
        "sender_full_name": "Eric Haas",
        "timestamp": 1502319190
    },
    {
        "content": "<p>In IG uscore map: No identity found for <a href=\"http://hl7.org/fhir/us/core/ValueSet/us-core-provider-role|1.0.0\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/ValueSet/us-core-provider-role|1.0.0\">http://hl7.org/fhir/us/core/ValueSet/us-core-provider-role|1.0.0</a></p>",
        "id": 153902901,
        "sender_full_name": "Brett Esler",
        "timestamp": 1503286482
    },
    {
        "content": "<p>i am getting this also for au build - any advice?</p>",
        "id": 153902902,
        "sender_full_name": "Brett Esler",
        "timestamp": 1503286511
    },
    {
        "content": "<p>We've run into an issue when pointing an extension to a dead url in that the build crashes and spits out \"todo\" as an error:</p>\n<div class=\"codehilite\"><pre><span></span>Exception in thread &quot;main&quot; java.lang.Error: todo\n        at org.hl7.fhir.r4.utils.NarrativeGenerator$PropertyWrapperMetaElement.getTypeCode(NarrativeGenerator.java:665)\n        at org.hl7.fhir.r4.utils.NarrativeGenerator.splitExtensions(NarrativeGenerator.java:1188)\n        at org.hl7.fhir.r4.utils.NarrativeGenerator.generateByProfile(NarrativeGenerator.java:1083)\n        at org.hl7.fhir.r4.utils.NarrativeGenerator.generate(NarrativeGenerator.java:1031)\n        at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:440)\n        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:361)\n        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:329)\n        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3885)\n</pre></div>\n\n\n<p>And an example of the extension JSON:</p>\n<div class=\"codehilite\"><pre><span></span>&quot;extension&quot;: [\n    {\n        &quot;url&quot;: &quot;http://dead-endpoint.com&quot;,\n        ...\n    }\n]\n</pre></div>\n\n\n<p>What we'd expect is that this does not error but that it produces a warning in the qa output. As is, we have to stub in a valid extension URL to get our project to build.</p>",
        "id": 153903296,
        "sender_full_name": "Joshua Clingo",
        "timestamp": 1503432718
    },
    {
        "content": "<p>can you send me an example?</p>",
        "id": 153903301,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1503438511
    },
    {
        "content": "<p>Sure. I added back one of the offending URLs. It'll work if you replace that link with any working endpoint (I've been using <a href=\"http://hl7.org/fhir/StructureDefinition/organization-alias\" target=\"_blank\" title=\"http://hl7.org/fhir/StructureDefinition/organization-alias\">http://hl7.org/fhir/StructureDefinition/organization-alias</a> for testing).</p>\n<p><a href=\"https://github.com/cqframework/payerextract/commit/c8f2d25e7434c04ccb69ac5f39d88b1690ba7ac6\" target=\"_blank\" title=\"https://github.com/cqframework/payerextract/commit/c8f2d25e7434c04ccb69ac5f39d88b1690ba7ac6\">Link to Git branch/file</a></p>",
        "id": 153903314,
        "sender_full_name": "Joshua Clingo",
        "timestamp": 1503441016
    },
    {
        "content": "<blockquote>\n<p>In IG uscore map: No identity found for <a href=\"http://hl7.org/fhir/us/core/ValueSet/us-core-provider-role|1.0.0\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/ValueSet/us-core-provider-role|1.0.0\">http://hl7.org/fhir/us/core/ValueSet/us-core-provider-role|1.0.0</a></p>\n</blockquote>\n<p>its in the CI build: <a href=\"http://build.fhir.org/ig/HL7/US-Core/ValueSet-us-core-careteam-provider-roles.html\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/US-Core/ValueSet-us-core-careteam-provider-roles.html\">http://build.fhir.org/ig/HL7/US-Core/ValueSet-us-core-careteam-provider-roles.html</a>  and will be pat of an upcoming technical correction.  (thanks to GG for fixing it)</p>",
        "id": 153903329,
        "sender_full_name": "Eric Haas",
        "timestamp": 1503448877
    },
    {
        "content": "<p>note   <code>provider-roles</code>    not <code>provider-role</code></p>",
        "id": 153903330,
        "sender_full_name": "Eric Haas",
        "timestamp": 1503448926
    },
    {
        "content": "<p>Think you meant to reply to another topic, <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span></p>",
        "id": 153903618,
        "sender_full_name": "Joshua Clingo",
        "timestamp": 1503606923
    },
    {
        "content": "<p>was replying to <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span>  post above</p>",
        "id": 153903620,
        "sender_full_name": "Eric Haas",
        "timestamp": 1503607107
    },
    {
        "content": "<p>I've learned through painful experience that the ig.json (or equivalent source file) \"resources\" attribute can either be an array of strings or a single string and that this has no apparent effect locally, but the difference matters when the remote build occurs. If you have nested resources (say, resources/patient/patient-resource.xml), you must have \"resources\": Array[string], not \"resources\": string, or the remote build will fail. I don't have any knowledge of how or why this occurs internally, but I recommend that it at least be documented somewhere. </p>\n<p>Basically, if you have resources more than one level below the desired resources root, we recommend use the array (even if it's only one element like [\"resources\"]). Or maybe for simplicity we should forbid a non-array \"resources\" attribute in the build source.</p>",
        "id": 153904259,
        "sender_full_name": "Joshua Clingo",
        "timestamp": 1504231326
    },
    {
        "content": "<p>The behavior should be consistent.  Can you submit a tracker item?</p>",
        "id": 153904261,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1504232612
    },
    {
        "content": "<p>I can't imagine why this is, given the code. it's pretty straight forward:</p>",
        "id": 153904297,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504265291
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span>    if (paths != null &amp;&amp; paths.get(&quot;resources&quot;) instanceof JsonArray) {\n      for (JsonElement e : (JsonArray) paths.get(&quot;resources&quot;))\n        resourceDirs.add(Utilities.path(root, ((JsonPrimitive) e).getAsString()));\n    } else\n      resourceDirs.add(Utilities.path(root, str(paths, &quot;resources&quot;, &quot;resources&quot;)));\n</pre></div>",
        "id": 153904298,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504265319
    },
    {
        "content": "<p>you see that the difference between array or not is exactly nothing outside this code - suggest that you investigate more deeply</p>",
        "id": 153904299,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504265340
    },
    {
        "content": "<p>Is there any possibility they're using different versions of the code base?</p>",
        "id": 153904312,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1504274329
    },
    {
        "content": "<p>maybe but that's never changed</p>",
        "id": 153904331,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1504291865
    },
    {
        "content": "<p>It did change at one point - that's why we support both an array and non-array</p>",
        "id": 153904348,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1504360615
    },
    {
        "content": "<p>documented for arrays only.</p>",
        "id": 153904352,
        "sender_full_name": "Eric Haas",
        "timestamp": 1504399800
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , getting a nullPointer exception on the build server that I was not getting yesterday, perhaps related to your latest commit. Is also running clean locally with a copy of the IG publisher jar from 11am PT. See the following build log for details: <a href=\"http://build.fhir.org/ig/HL7/ccda-on-fhir/build.log\" target=\"_blank\" title=\"http://build.fhir.org/ig/HL7/ccda-on-fhir/build.log\">http://build.fhir.org/ig/HL7/ccda-on-fhir/build.log</a></p>\n<p>Edit: the log is no longer showing the error at the moment. Maybe you kicked off a new buiid? Anyway, was showing this:</p>\n<p>Publishing Content Failed: Process exited with an error: 137 (Exit value: 137)   (00:03:06.0793sec)<br>\n                                                                                 (00:03:06.0793sec)<br>\nUse -? to get command line help                                                  (00:03:06.0793sec)<br>\n                                                                                 (00:03:06.0793sec)<br>\nStack Dump (for debugging):                                                      (00:03:06.0793sec)<br>\norg.apache.commons.exec.ExecuteException: Process exited with an error: 137 (Exit value: 137)<br>\n    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)<br>\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)<br>\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:153)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.runJekyll(Publisher.java:2600)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.runTool(Publisher.java:2522)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:2227)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:377)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:336)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3907)<br>\nException in thread \"main\" java.lang.NullPointerException<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3917)</p>",
        "id": 153906291,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1505155921
    },
    {
        "content": "<p>Ok, now the server is showing a failed build, but there is no error reported in the build log.</p>",
        "id": 153906305,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1505157386
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> this looks like an infrastructure fail to me?</p>",
        "id": 153906325,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1505157790
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191321\">@David Hay</span> <span class=\"user-mention\" data-user-id=\"191368\">@Brett Esler</span> <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> - I've just fixed a rather long standing bug in the IG publisher - it's been producing definitions.xml.zip and definitions.json.zip in v 3.2.0, irrespective of the version of the IG. That's become a whole lot more noticeable since we made a few changes in v3.2.0. Any future builds, definitions.*.zip will be produced in the version of the IG (though igpack.zip will still be produced in the current build version for now, while I consider the issues around that)</p>",
        "id": 153945877,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521370500
    },
    {
        "content": "<p>was that the issue with the argonaut profile? And is the correct version up now?</p>",
        "id": 153945921,
        "sender_full_name": "David Hay",
        "timestamp": 1521391225
    },
    {
        "content": "<p>no. <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> we need to talk about this</p>",
        "id": 153946050,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521404079
    },
    {
        "content": "<p>I have a local copy working in order to create a compatible dependency files, but not ready to push to github.   Too many moving parts right now.</p>",
        "id": 153946111,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521434888
    },
    {
        "content": "<p>well, this just needs a rebuild of the old version and then update just the definitions files</p>",
        "id": 153946112,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521435230
    },
    {
        "content": "<p>I had to convert all the spreadsheets to xml due to spreadsheet parser errors too.  Need to coordinate with Brett if there are ballot updates he made as well.</p>",
        "id": 153946115,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521435732
    },
    {
        "content": "<p>I don't recall you asking me about the errors? Not that I object to transiting to xml</p>",
        "id": 153946116,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1521436005
    },
    {
        "content": "<p><a href=\"#narrow/stream/IG.20creation/topic/type.20being.20generated.20twice.20twice\" title=\"#narrow/stream/IG.20creation/topic/type.20being.20generated.20twice.20twice\">https://chat.fhir.org/#narrow/stream/IG.20creation/topic/type.20being.20generated.20twice.20twice</a></p>\n<p>but I figured you were too busy to maintain it and warned us you were not going to....</p>\n<p>I will take a stab at a new build that I can push to the CI build after talking to <span class=\"user-mention\" data-user-id=\"191410\">@Brett Marquard</span>   because he may be applying changes</p>",
        "id": 153946200,
        "sender_full_name": "Eric Haas",
        "timestamp": 1521474862
    },
    {
        "content": "<p>From Jan ballot, we will have about 30 changes. repo is up-to-date, haven't started implementing yet.</p>",
        "id": 153946201,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1521475005
    },
    {
        "content": "<p>if you notice multiple releases of the publisher... I am debugging an error that occurs only on the ci-build, not on my local build... weird....</p>",
        "id": 175512447,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1568280151
    },
    {
        "content": "<p>(BTW if  you ever want to, I would be happy to talk you through a local docker setup that would allow you to reproduce what is happening on the CI build.)</p>",
        "id": 175529633,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1568295506
    },
    {
        "content": "<p>hmm interesting. but it would still be docker on windows, not unix?</p>",
        "id": 175529788,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1568295604
    },
    {
        "content": "<p>Right -- but the whole benefit is that you get a uniform consistent environment. (Under the hood docker on Windows includes some kind of a Linux VM-like where things actually run -- but it is all managed by the tool set.)</p>",
        "id": 175529985,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1568295767
    },
    {
        "content": "<p>I think it was case of file that was tripping me over here</p>",
        "id": 175530011,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1568295793
    },
    {
        "content": "<p>:-) We could also set up automated tests on the publisher repository itself so that every time a code is pushed a test IG will be built with it. It's probably only helps If you are going to use a pull requests though</p>",
        "id": 175530195,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1568295903
    },
    {
        "content": "<p>I have some test cases, but deciding whether they built succesfully is... a challenge</p>",
        "id": 175530945,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1568296333
    },
    {
        "content": "<p>Yeah -- We could at least check exit codes</p>",
        "id": 175531492,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1568296695
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>  Did such a Docker image ever get created?</p>",
        "id": 204377456,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1595205235
    },
    {
        "content": "<p>There's a docker image used by the auto build pipeline, yes -- <a href=\"https://github.com/FHIR/auto-ig-builder/tree/master/images/ig-build\">https://github.com/FHIR/auto-ig-builder/tree/master/images/ig-build</a> . But it's not super convenient to run outside of that pipeline; <span class=\"user-mention\" data-user-id=\"233081\">@Carl Anderson</span> was going to look at adding another entry point for more convenient local invocation.</p>",
        "id": 204380958,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1595211484
    },
    {
        "content": "<p>I can talk you the details if you like</p>",
        "id": 204381266,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1595212001
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> , thanks. I found another project that does it, and have rolled my own with the current version, and successfully have it running locally, and also in my own Azure DevOps CI pipeline(s)<br>\n<a href=\"https://hub.docker.com/repository/docker/brianpos/fhir-ig-publisher/general\">https://hub.docker.com/repository/docker/brianpos/fhir-ig-publisher/general</a><br>\nI'm also packaging up some other IG building tools in the same way...</p>",
        "id": 208049676,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1598412583
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/Oscpjc55CqpASpHlUXKCsow2/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/Oscpjc55CqpASpHlUXKCsow2/image.png\" title=\"image.png\"><img src=\"/user_uploads/10155/Oscpjc55CqpASpHlUXKCsow2/image.png\"></a></div>",
        "id": 208049764,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1598412695
    },
    {
        "content": "<p>Cool <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> ! I wound up building this last week anyway for local development, including fsh. <a href=\"https://github.com/FHIR/auto-ig-builder/tree/master/images/ig-publisher-base\">https://github.com/FHIR/auto-ig-builder/tree/master/images/ig-publisher-base</a> is the repo + usage notes and <code>hl7fhir/ig-publisher-base</code> is the image published on Docker Hub.</p>",
        "id": 208111052,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1598457442
    },
    {
        "content": "<p>(I don't see a source Dockerfile for <a href=\"https://hub.docker.com/r/brianpos/fhir-ig-publisher\">https://hub.docker.com/r/brianpos/fhir-ig-publisher</a> -- it's always nice if you can get Docker Hub to do a trusted build, for transparency.)</p>",
        "id": 208111177,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1598457496
    },
    {
        "content": "<p>You mentioned <a href=\"https://github.com/ncpi-fhir/hl7-fhir-ig-publisher/blob/master/scripts/fetch_publisher_jar.sh\">https://github.com/ncpi-fhir/hl7-fhir-ig-publisher/blob/master/scripts/fetch_publisher_jar.sh</a> as a source, but I expect you noticed it's fetching the publisher from the old/wrong place (in Sonatype) and probably fixed that locally?</p>",
        "id": 208111253,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1598457534
    },
    {
        "content": "<p>Sorry, my dockerfile is here:<br>\n<a href=\"https://github.com/brianpos/FHIR-IG-Builder-Assistant/tree/docker/hl7-fhir-ig-publisher-docker\">https://github.com/brianpos/FHIR-IG-Builder-Assistant/tree/docker/hl7-fhir-ig-publisher-docker</a><br>\n(and I pointed out to the other project that the location moved again and that they should update it)</p>",
        "id": 208142431,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1598472795
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> was there anything smart you did to minimize traffic to/from the host?<br>\nso that the temp file are generated into the docker image, rather than out to the mounted folder.<br>\nRunning this from Windows is talking 10x what running the local processing is - and I think it's the in/out of the image that's the problem?<br>\n(Maybe not an issue when both host and image are linux? Didn't appear to be an issue running in Azure on linux)</p>",
        "id": 208143588,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1598473370
    },
    {
        "content": "<p>In my example, the user mounts a local directory with the IG into the docker container. So the publisher jar, all fsh outputs, and all IG Publisher temp + output are persisted outside of the container and shouldn't need to be downloaded each time.   One thing I'm unsure about: does the publisher use any temp space other than the \"temp\" it creates in the directory it's run from? That could lead to missed caching opportunities.</p>",
        "id": 208144617,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1598473920
    },
    {
        "content": "<p>When you mentioned 10x the expected traffic is that using your image, or my mine, or both <span class=\"user-mention\" data-user-id=\"191367\">@Brian Postlethwaite</span> ?</p>",
        "id": 208144748,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1598473973
    },
    {
        "content": "<p>I haven't tried yours yet.<br>\nI also mount in the userprofile/.fhir folder too so that it uses my profile cache too.</p>",
        "id": 208145026,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1598474110
    },
    {
        "content": "<p>BTW how are you measuring network traffic attributable to running the publisher?</p>",
        "id": 208145623,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1598474436
    },
    {
        "content": "<p>Hunch only, trying to consider possible reasons why there was such a difference between the docker image vs local.</p>",
        "id": 208145712,
        "sender_full_name": "Brian Postlethwaite",
        "timestamp": 1598474494
    }
]