[
    {
        "content": "<p>Hi all, was moving things around on my computer and needed to pull a fresh copy of R4B from github, so I pulled the <a href=\"https://github.com/HL7/fhir/tree/R4B\">R4B branch</a>.  Builds are failing on my box - console output below.</p>\n<p>Is there a different branch I'm supposed to be starting from, and/or is someone already working on this?</p>\n<p>Note: R5 builds are working fine, so I don't <em>think</em> this is a local box issue.</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"go\">Running publication process now</span>\n\n<span class=\"go\">&gt; Configure project :</span>\n\n<span class=\"go\">Kicking off FHIR publishing job!</span>\n\n<span class=\"go\">==============================</span>\n<span class=\"go\">Generating code using kindling version 1.0.1-SNAPSHOT</span>\n<span class=\"go\">For more information on kindling, and to check latest version, check here:</span>\n<span class=\"go\">https://github.com/HL7/kindling</span>\n<span class=\"go\">==============================</span>\n\n<span class=\"go\">&gt; Task :publish</span>\n<span class=\"go\">Publish FHIR in folder C:\\specs\\R4B @ Tue, Jun 1, 2021 14:07-0500           0.03   0sec   24MB</span>\n<span class=\"go\">Build local copy                                                           0.038   0sec   24MB</span>\n<span class=\"go\">Detected Java version: 14.0.2 from C:\\Program Files\\Java\\jdk-14.0.2 on amd64 0.001   0sec   24MB</span>\n<span class=\"go\">Load UTG Terminology                                                       9.608   9sec   59MB</span>\n<span class=\"go\">Load Package hl7.terminology#1.0.0</span>\n<span class=\"go\">Load Terminology Cache from C:\\specs\\R4B\\vscache                           0.606  10sec  143MB</span>\n<span class=\"go\">  .. loaded                                                                2.149  12sec  134MB</span>\n<span class=\"go\">Checking Source for C:\\specs\\R4B                                           0.004  12sec  134MB</span>\n<span class=\"go\">Full Build                                                                 1.417  13sec  162MB</span>\n<span class=\"go\">Version 4.1.0-6e59feac78</span>\n<span class=\"go\">Load Loinc                                                                 0.294  14sec  166MB</span>\n<span class=\"go\">Loading                                                                    0.258  14sec  230MB</span>\n<span class=\"go\">Load Common Bindings                                                       0.012  14sec  230MB</span>\n<span class=\"go\">Load Code Systems                                                          0.175  14sec  250MB</span>\n<span class=\"go\">Load Value Sets                                                            0.053  14sec  258MB</span>\n<span class=\"go\">Missing IsModifierReason on FiveWs.status</span>\n<span class=\"go\">Load Resource Templates                                                    2.194  16sec  854MB</span>\n<span class=\"go\">Load Resources                                                             0.038  16sec  874MB</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">CodeSystem http://hl7.org/fhir/list-mode WG mismatch 4: is sd, want to set to fhir</span>\n<span class=\"go\">CodeSystem http://hl7.org/fhir/observation-status WG mismatch 4: is cds, want to set to oo</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">CodeSystem http://hl7.org/fhir/namingsystem-type WG mismatch 4: is fhir, want to set to vocab</span>\n<span class=\"go\">ValueSet http://hl7.org/fhir/ValueSet/namingsystem-type WG mismatch 4: is fhir, want to set to vocab</span>\n<span class=\"go\">CodeSystem http://hl7.org/fhir/namingsystem-identifier-type WG mismatch 4: is fhir, want to set to vocab</span>\n<span class=\"go\">ValueSet http://hl7.org/fhir/ValueSet/namingsystem-identifier-type WG mismatch 4: is fhir, want to set to vocab</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">ValueSet http://hl7.org/fhir/ValueSet/days-of-week WG mismatch 4: is fhir, want to set to pa</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">WARNING: Unable to create warnings file - one or more profiles-* files unavailable or invalid</span>\n<span class=\"go\">To determine the cause of the build failure, look in the log prior to the warning and information messages immediately above</span>\n<span class=\"go\">Error on line 14</span>\n<span class=\"go\">  XTTE0570: An empty sequence is not allowed as the value of variable $groups</span>\n<span class=\"go\">  in variable groups</span>\n<span class=\"go\">Error</span>\n<span class=\"go\">  SXXP0003: Error reported by XML parser: Premature end of file.</span>\n<span class=\"go\">This was a Full Build                                                      14.706  31sec 1331MB</span>\n<span class=\"go\">FHIR build failure @ Tue, Jun 1, 2021 14:07-0500                           1.826  33sec 1331MB</span>\n<span class=\"go\">Error: Error loading C:\\specs\\R4B\\source\\activitydefinition\\valueset-action-participant-role.xml: URL mismatch. Expected http://terminology.hl7.org/ValueSet/action-participant-role but found http://hl7.org/fhir/ValueSet/action-participant-role</span>\n<span class=\"go\">org.hl7.fhir.exceptions.FHIRException: Error loading C:\\specs\\R4B\\source\\activitydefinition\\valueset-action-participant-role.xml: URL mismatch. Expected http://terminology.hl7.org/ValueSet/action-participant-role but found http://hl7.org/fhir/ValueSet/action-participant-role</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.loadValueSet(ResourceParser.java:849)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseBinding(ResourceParser.java:713)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseED(ResourceParser.java:645)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseED(ResourceParser.java:650)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseED(ResourceParser.java:650)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseTypeDefinition(ResourceParser.java:477)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseResource(ResourceParser.java:460)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parse(ResourceParser.java:116)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.SourceParser.loadResource(SourceParser.java:1269)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.SourceParser.parse(SourceParser.java:288)</span>\n<span class=\"go\">        at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:580)</span>\n<span class=\"go\">        at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:473)</span>\n\n<span class=\"go\">&gt; Task :publish FAILED</span>\n\n<span class=\"go\">FAILURE: Build failed with an exception.</span>\n\n<span class=\"go\">* What went wrong:</span>\n<span class=\"go\">Execution failed for task ':publish'.</span>\n<span class=\"go\">&gt; Process 'command 'C:\\Program Files\\Java\\jdk-14.0.2\\bin\\java.exe'' finished with non-zero exit value 1</span>\n\n<span class=\"go\">* Try:</span>\n<span class=\"go\">Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</span>\n\n<span class=\"go\">* Get more help at https://help.gradle.org</span>\n\n<span class=\"go\">BUILD FAILED in 35s</span>\n<span class=\"go\">1 actionable task: 1 executed</span>\n<span class=\"go\">Press any key to continue . . .</span>\n</code></pre></div>\n</div></div>",
        "id": 240989293,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622574546
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span></p>",
        "id": 241063404,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1622575798
    },
    {
        "content": "<p>let me check</p>",
        "id": 241063502,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622575836
    },
    {
        "content": "<p>I would guess this is local. I'm going to run R4B pipeline again, but it appears to be passing on the pipeline</p>",
        "id": 241063708,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622575933
    },
    {
        "content": "<p>build is happening here fyi: <a href=\"https://dev.azure.com/fhir-pipelines/fhir-publisher/_build/results?buildId=3502&amp;view=results\">https://dev.azure.com/fhir-pipelines/fhir-publisher/_build/results?buildId=3502&amp;view=results</a></p>",
        "id": 241064779,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576498
    },
    {
        "content": "<p>Note that changing the URL in the valueset allows the build to pass for me</p>",
        "id": 241064784,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622576500
    },
    {
        "content": "<p>you added the valueset?</p>",
        "id": 241064822,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576520
    },
    {
        "content": "<p>Nope, fresh pull from GH</p>",
        "id": 241064872,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622576528
    },
    {
        "content": "<p>hrm</p>",
        "id": 241064892,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576540
    },
    {
        "content": "<p>Yep, that's why I asked  =)</p>",
        "id": 241064921,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622576560
    },
    {
        "content": "<p>can you do me a favor</p>",
        "id": 241064943,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576569
    },
    {
        "content": "<p>ofc</p>",
        "id": 241064950,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622576573
    },
    {
        "content": "<p>can you open a terminal window in the project directory</p>",
        "id": 241064963,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576583
    },
    {
        "content": "<p>and run <code>./gradlew clean publish --stacktrace</code></p>",
        "id": 241065016,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576614
    },
    {
        "content": "<p>and then, if it fails, send me the stacktrace</p>",
        "id": 241065048,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576628
    },
    {
        "content": "<p>please</p>",
        "id": 241065055,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576630
    },
    {
        "content": "<p>Sure, I assume with the URL reverted to the original state?</p>",
        "id": 241065114,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622576648
    },
    {
        "content": "<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"go\"> ~#@❯  ./gradlew clean publish --stacktrace                                                                                                                                                                                               ❮  </span>\n\n<span class=\"go\">&gt; Configure project :</span>\n\n<span class=\"go\">Kicking off FHIR publishing job!</span>\n\n<span class=\"go\">==============================</span>\n<span class=\"go\">Generating code using kindling version 1.0.1-SNAPSHOT</span>\n<span class=\"go\">For more information on kindling, and to check latest version, check here:</span>\n<span class=\"go\">https://github.com/HL7/kindling</span>\n<span class=\"go\">==============================</span>\n\n<span class=\"go\">&gt; Task :publish</span>\n<span class=\"go\">Publish FHIR in folder C:\\specs\\R4B @ Tue, Jun 1, 2021 14:44-0500          0.024   0sec   24MB</span>\n<span class=\"go\">Build local copy                                                           0.029   0sec   24MB</span>\n<span class=\"go\">Detected Java version: 14.0.2 from C:\\Program Files\\Java\\jdk-14.0.2 on amd64 0.001   0sec   24MB</span>\n<span class=\"go\">Load UTG Terminology                                                       5.967   6sec   66MB</span>\n<span class=\"go\">Load Package hl7.terminology#1.0.0</span>\n<span class=\"go\">Load Terminology Cache from C:\\specs\\R4B\\vscache                           0.597   6sec   62MB</span>\n<span class=\"go\">  .. loaded                                                                2.303   8sec  836MB</span>\n<span class=\"go\">Checking Source for C:\\specs\\R4B                                           0.007   8sec  836MB</span>\n<span class=\"go\">Partial Build (if you want a full build, just run the build again)         2.563  11sec  856MB</span>\n<span class=\"go\">  Build: activitydefinition                                                0.001  11sec  856MB</span>\n<span class=\"go\">Version 4.1.0-6e59feac78</span>\n<span class=\"go\">Load Loinc                                                                 0.291  11sec  868MB</span>\n<span class=\"go\">Loading                                                                    0.252  12sec  928MB</span>\n<span class=\"go\">Load Common Bindings                                                       0.014  12sec  932MB</span>\n<span class=\"go\">Load Code Systems                                                          0.132  12sec  948MB</span>\n<span class=\"go\">Load Value Sets                                                            0.043  12sec  956MB</span>\n<span class=\"go\">Missing IsModifierReason on FiveWs.status</span>\n<span class=\"go\">Load Resource Templates                                                    2.974  15sec  670MB</span>\n<span class=\"go\">Load Resources                                                             0.022  15sec  686MB</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">CodeSystem http://hl7.org/fhir/list-mode WG mismatch 4: is sd, want to set to fhir</span>\n<span class=\"go\">CodeSystem http://hl7.org/fhir/observation-status WG mismatch 4: is cds, want to set to oo</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">CodeSystem http://hl7.org/fhir/namingsystem-type WG mismatch 4: is fhir, want to set to vocab</span>\n<span class=\"go\">ValueSet http://hl7.org/fhir/ValueSet/namingsystem-type WG mismatch 4: is fhir, want to set to vocab</span>\n<span class=\"go\">CodeSystem http://hl7.org/fhir/namingsystem-identifier-type WG mismatch 4: is fhir, want to set to vocab</span>\n<span class=\"go\">ValueSet http://hl7.org/fhir/ValueSet/namingsystem-identifier-type WG mismatch 4: is fhir, want to set to vocab</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">ValueSet http://hl7.org/fhir/ValueSet/days-of-week WG mismatch 4: is fhir, want to set to pa</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n<span class=\"go\">Unable to find invariant inv-0</span>\n\n<span class=\"go\">Errors: 0 Warnings: 0 Hints: 0</span>\n\n<span class=\"go\">===Resources with FMM forced to 0===</span>\n<span class=\"go\">     17.072  32sec 1569MB</span>\n<span class=\"go\">This was a Partial Build                                                     0.0  32sec 1569MB</span>\n<span class=\"go\">  Build: activitydefinition                                                  0.0  32sec 1569MB</span>\n<span class=\"go\">FHIR build failure @ Tue, Jun 1, 2021 14:45-0500                           1.977  34sec 1569MB</span>\n<span class=\"go\">Error: Error loading C:\\specs\\R4B\\source\\activitydefinition\\valueset-action-participant-role.xml: URL mismatch. Expected http://terminology.hl7.org/ValueSet/action-participant-role but found http://hl7.org/fhir/ValueSet/action-participant-role</span>\n<span class=\"go\">org.hl7.fhir.exceptions.FHIRException: Error loading C:\\specs\\R4B\\source\\activitydefinition\\valueset-action-participant-role.xml: URL mismatch. Expected http://terminology.hl7.org/ValueSet/action-participant-role but found http://hl7.org/fhir/ValueSet/action-participant-role</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.loadValueSet(ResourceParser.java:849)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseBinding(ResourceParser.java:713)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseED(ResourceParser.java:645)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseED(ResourceParser.java:650)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseED(ResourceParser.java:650)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseTypeDefinition(ResourceParser.java:477)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parseResource(ResourceParser.java:460)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.ResourceParser.parse(ResourceParser.java:116)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.SourceParser.loadResource(SourceParser.java:1269)</span>\n<span class=\"go\">        at org.hl7.fhir.definitions.parsers.SourceParser.parse(SourceParser.java:288)</span>\n<span class=\"go\">        at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:580)</span>\n<span class=\"go\">        at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:473)</span>\n\n<span class=\"go\">&gt; Task :publish FAILED</span>\n\n<span class=\"go\">FAILURE: Build failed with an exception.</span>\n\n<span class=\"go\">* What went wrong:</span>\n<span class=\"go\">Execution failed for task ':publish'.</span>\n<span class=\"go\">&gt; Process 'command 'C:\\Program Files\\Java\\jdk-14.0.2\\bin\\java.exe'' finished with non-zero exit value 1</span>\n\n<span class=\"go\">* Try:</span>\n<span class=\"go\">Run with --info or --debug option to get more log output. Run with --scan to get full insights.</span>\n\n<span class=\"go\">* Exception is:</span>\n<span class=\"go\">org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':publish'.</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$3(ExecuteActionsTaskExecuter.java:186)</span>\n<span class=\"go\">        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:184)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:173)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:109)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)</span>\n<span class=\"go\">        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)</span>\n<span class=\"go\">        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)</span>\n<span class=\"go\">        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)</span>\n<span class=\"go\">        at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)</span>\n<span class=\"go\">        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)</span>\n<span class=\"go\">        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)</span>\n<span class=\"go\">        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)</span>\n<span class=\"go\">        at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)</span>\n<span class=\"go\">        at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)</span>\n<span class=\"go\">        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)</span>\n<span class=\"go\">        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)</span>\n<span class=\"go\">        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)</span>\n<span class=\"go\">        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:411)</span>\n<span class=\"go\">        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:398)</span>\n<span class=\"go\">        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:391)</span>\n<span class=\"go\">        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:377)</span>\n<span class=\"go\">        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)</span>\n<span class=\"go\">        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)</span>\n<span class=\"go\">        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)</span>\n<span class=\"go\">        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)</span>\n<span class=\"go\">        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)</span>\n<span class=\"go\">        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(Man</span>\n</code></pre></div>\n</div></div>",
        "id": 241065310,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622576739
    },
    {
        "content": "<p>yeah just as you would have if you pulled</p>",
        "id": 241065473,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576804
    },
    {
        "content": "<p>Yep, done in the above message.</p>",
        "id": 241065503,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622576820
    },
    {
        "content": "<p>So, the build on the pipeline appears to be working. I think something is up with your local configuration. I would (1) Blow away the current directory, re-clone, and try to build again (2) if that still doesn't work, delete you $HOME/.gradle/caches directory</p>",
        "id": 241065766,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576961
    },
    {
        "content": "<p>and try to build again</p>",
        "id": 241065778,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576968
    },
    {
        "content": "<p>Those are the two first things I would look at</p>",
        "id": 241065808,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622576989
    },
    {
        "content": "<p>I think something is sticking around on your box...you may have gotten into a weird state</p>",
        "id": 241065894,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622577009
    },
    {
        "content": "<p>Yeah, no luck.  Just like before, I can build R5, but not R4B.  Odd.</p>",
        "id": 241067588,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622577762
    },
    {
        "content": "<p>I will try to clone and build locally later today</p>",
        "id": 241067838,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622577872
    },
    {
        "content": "<p>the pipeline built successfully though</p>",
        "id": 241067856,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622577879
    },
    {
        "content": "<p><a href=\"https://dev.azure.com/fhir-pipelines/fhir-publisher/_build/results?buildId=3502&amp;view=logs&amp;j=ab68b630-6476-573a-954f-d89e4292687e&amp;t=ab68b630-6476-573a-954f-d89e4292687e\">https://dev.azure.com/fhir-pipelines/fhir-publisher/_build/results?buildId=3502&amp;view=logs&amp;j=ab68b630-6476-573a-954f-d89e4292687e&amp;t=ab68b630-6476-573a-954f-d89e4292687e</a></p>",
        "id": 241067858,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622577881
    },
    {
        "content": "<p>I'm trying to think of what would cause this</p>",
        "id": 241067883,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622577893
    },
    {
        "content": "<p>Not sure, thought it might be that I was checking out using <code>--single-branch</code>, but just tested pulling the full repo and it failed the same way.</p>",
        "id": 241068575,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622578228
    },
    {
        "content": "<p>Hmm, one more thing to check here.</p>",
        "id": 241068593,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622578242
    },
    {
        "content": "<p>Not that either.. was thinking it didn't like me using multiple directories for the branches I'm building (e.g., directory R4B, R5, etc.).  Blew out everything in <code>.../.gradle/caches</code> and anything <code>#current</code> in <code>.../.fhir/</code>, cleared all of the folders I had for branches and started fresh.  Same problem.</p>",
        "id": 241069540,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622578720
    },
    {
        "content": "<p>Still failing, tried: checking out the specific commit (as in the CI build), swapping out JDK.  Publishing R5 still works.</p>",
        "id": 241070920,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622579391
    },
    {
        "content": "<p>I pulled latest fhir core, switched to R4B, and successfully built.</p>",
        "id": 241071554,
        "sender_full_name": "John Moehrke",
        "timestamp": 1622579662
    },
    {
        "content": "<p>(well build said \"BUILD SUCCESSFUL\".. lots of errors and such along the way, but I have no idea if that was expected or not.)</p>",
        "id": 241071686,
        "sender_full_name": "John Moehrke",
        "timestamp": 1622579733
    },
    {
        "content": "<p>Ok, looks like if I completely blow out <code>.../.gradle</code> and <code>.../.fhir</code> it can pass.  So, not sure what was getting cached there.  Thanks for all the help!</p>",
        "id": 241072344,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622580065
    },
    {
        "content": "<p>Just for reference, after doing that I am able to build R4B and R5 back and forth without issue.  <span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span></p>",
        "id": 241079864,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622583848
    },
    {
        "content": "<p>Wonder if the clean script should kill these various cache locations?</p>",
        "id": 241086959,
        "sender_full_name": "John Moehrke",
        "timestamp": 1622588792
    },
    {
        "content": "<p>Maybe?  Kind of scary removing things from a user’s home directory (in case something goes awry)</p>",
        "id": 241088677,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622590320
    },
    {
        "content": "<p>so, the gradle cache directory would be the only thing that would need to be deleted on the build system side</p>",
        "id": 241088743,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622590346
    },
    {
        "content": "<p>I'm curious about this .fhir directory though</p>",
        "id": 241088749,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622590355
    },
    {
        "content": "<p>this is new to me</p>",
        "id": 241088751,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622590357
    },
    {
        "content": "<p>is that generated through the build process?</p>",
        "id": 241088761,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1622590370
    },
    {
        "content": "<p>that's the local package cache, but I don't know why that would be relevant for a kindle build</p>",
        "id": 241089802,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1622591239
    },
    {
        "content": "<p>I'll admit I was getting annoyed, so I skipped from removing <code>~/.gradle/caches</code> to removing <code>~/.gradle</code> and <code>~/.fhir</code>.  It's quite possible it was something else in the gradle directory that was causing the issue, I was just tired of poking and prodding.</p>",
        "id": 241153455,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1622642717
    }
]