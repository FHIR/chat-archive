[
    {
        "content": "<p>I am trying to get the IG publisher to run on MacOS under the Eclipse interactive debugger.</p>",
        "id": 271354336,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644444357
    },
    {
        "content": "<p>this proves to be <em>super</em> painful.</p>",
        "id": 271354383,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644444363
    },
    {
        "content": "<p>after much mucking around, I finally have jekyll executing.</p>",
        "id": 271354411,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644444378
    },
    {
        "content": "<p>This in itself is a massive victory</p>",
        "id": 271354426,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644444389
    },
    {
        "content": "<p>to get it to execute I have to run the java ProcessBuilder and pass in a modified path that references the ruby and jekyll executables, and then pass the command:</p>",
        "id": 271354492,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644444429
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>bash -c jekyll build --destination &quot;/Users/grahamegrieve/temp/igs/swissnoso/output&quot;\n</code></pre></div>",
        "id": 271354618,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644444483
    },
    {
        "content": "<p>this correctly runs jekyll (yay!) but jekyll doesn't get any of the parameters after \"jekyll\" - I get the message <code>A subcommand is required</code></p>",
        "id": 271354721,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644444530
    },
    {
        "content": "<p>this doesn't appear to be consistent with the documentation for bash -c:</p>",
        "id": 271354775,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644444547
    },
    {
        "content": "<p>-c string If  the  -c  option  is  present, then commands are read from<br>\n                 string.  If there are arguments after the  string,  they  are<br>\n                 assigned to the positional parameters, starting with $0.</p>",
        "id": 271354791,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644444555
    },
    {
        "content": "<p>have i missed something? Or is OSX the problem here (I'm amazed at how resistant OSX is to things like environment variables)</p>",
        "id": 271355107,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644444704
    },
    {
        "content": "<p>if I omit the bash -c bit then jekyll doesn't run at all, even though jekyll is in the path</p>",
        "id": 271356262,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644445240
    },
    {
        "content": "<p>presumably because it's not an executable, but some shell trick thing</p>",
        "id": 271356299,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644445269
    },
    {
        "content": "<p>FWIW, I was able to get IG publisher running on mac from inside the VS Code debugger.</p>",
        "id": 271357173,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1644445699
    },
    {
        "content": "<p>how?</p>",
        "id": 271357291,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644445769
    },
    {
        "content": "<p>I think that's the same problem</p>",
        "id": 271357302,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644445773
    },
    {
        "content": "<p>I have sushi running - that was a little work with paths.</p>",
        "id": 271357319,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644445786
    },
    {
        "content": "<p>but jekyll has proven harder</p>",
        "id": 271357343,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644445798
    },
    {
        "content": "<p>Hmm, I don't think it was hard -- it was back when I was trying to debug the locale warning about two months ago.</p>",
        "id": 271357513,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1644445874
    },
    {
        "content": "<p>I need to run out. I'll try to get you more when I get back.</p>",
        "id": 271357625,
        "sender_full_name": "Elliot Silver",
        "timestamp": 1644445926
    },
    {
        "content": "<p>Aren't you missing some single <code>'</code>'s?</p>",
        "id": 271357837,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644446053
    },
    {
        "content": "<p>eg. <code>bash -c 'jekyll build --destination \"/Users/grahamegrieve/temp/igs/swissnoso/output\"'</code></p>",
        "id": 271357865,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644446077
    },
    {
        "content": "<p>i can run on osx eclipse ig publisher with no sushi in progrma arguments:: -ig ig.ini -jekyll /usr/local/bin/jekyll -no-sushi</p>",
        "id": 271357950,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1644446150
    },
    {
        "content": "<p>never managed till now to get sushi running, but never wanted to debug that, just run sushi standalone before as a workaround</p>",
        "id": 271358059,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1644446202
    },
    {
        "content": "<p>if I try <code>bash -c 'jekyll build --destination \"/Users/grahamegrieve/temp/igs/swissnoso/output\"'</code></p>\n<p>then I get the error that the file <code>jekyll build --destination \"/Users/grahamegrieve/temp/igs/swissnoso/output\"</code> can't be found</p>",
        "id": 271358157,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644446281
    },
    {
        "content": "<p>and why the <code>\"</code>?</p>",
        "id": 271358273,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644446336
    },
    {
        "content": "<p>what happens if you remove those?</p>",
        "id": 271358321,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644446377
    },
    {
        "content": "<p>in case there's spaces - some IG authors like to do that. But I don't, and removing them didn't help</p>",
        "id": 271358698,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644446598
    },
    {
        "content": "<p>sure - ... but now it sounds like that destination actually does not exist then</p>",
        "id": 271358848,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644446675
    },
    {
        "content": "<p>wait ....</p>",
        "id": 271358884,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644446701
    },
    {
        "content": "<p>jekyll and the output directory exist, but <code>'jekyll build --destination \"/Users/grahamegrieve/temp/igs/swissnoso/output\"'</code> doesn't, because it's not a path</p>",
        "id": 271359002,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644446764
    },
    {
        "content": "<p>correct</p>",
        "id": 271359018,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644446774
    },
    {
        "content": "<p>interesting - this doesn't work in terminal:</p>",
        "id": 271359097,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644446827
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>âžœ  ~ bash -c jekyll build --destination /Users/grahamegrieve/temp/igs/swissnoso/output\nA subcommand is required.\njekyll 4.2.1 -- Jekyll is a blog-aware, static site generator in Ruby\n</code></pre></div>",
        "id": 271359118,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644446845
    },
    {
        "content": "<p>i get with bash and zsh a little bit further:</p>",
        "id": 271359440,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1644447017
    },
    {
        "content": "<p>bash -c 'jekyll build --destination \"/Users/oliveregger/Documents/github/ch-emed/output\"'<br>\nConfiguration file: none<br>\n            Source: /Users/oliveregger/Documents/github/ch-emed<br>\n       Destination: /Users/oliveregger/Documents/github/ch-emed/output<br>\n Incremental build: disabled. Enable with --incremental<br>\n      Generating... <br>\n  Liquid Exception: Could not locate the included file 'fragment-pagebegin.html' in any of [\"/Users/oliveregger/Documents/github/ch-emed/_includes\"]. Ensure it exists in one of those directories and, if it is a symlink, does not point outside your site source. in temp/pages/Binary-2-6-pdf.change.history.html</p>",
        "id": 271359458,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1644447030
    },
    {
        "content": "<p>what kind of jekyll version do you have? i have 4.1.1</p>",
        "id": 271359533,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1644447084
    },
    {
        "content": "<p>ouh, you are even i a never version then i am, sorry</p>",
        "id": 271359676,
        "sender_full_name": "Oliver Egger",
        "timestamp": 1644447162
    },
    {
        "content": "<p>yes that works in terminal for me too</p>",
        "id": 271360191,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644447437
    },
    {
        "content": "<p>but not in process builder, where I still get the error <code>Jekyll: bash: jekyll build --destination /Users/grahamegrieve/temp/igs/swissnoso/output: No such file or directory</code></p>",
        "id": 271360412,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644447556
    },
    {
        "content": "<p><a href=\"https://stackoverflow.com/questions/71058046/running-jekyll-from-java-program-under-eclipse-on-osx\">https://stackoverflow.com/questions/71058046/running-jekyll-from-java-program-under-eclipse-on-osx</a></p>",
        "id": 271363097,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644449151
    },
    {
        "content": "<p>Have you tried putting the command line in a bash script and execute that?</p>",
        "id": 271470654,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1644516441
    },
    {
        "content": "<p>no. I haven't. I suppose I'll try that. Super annoying and makes me worry about security surprises.</p>",
        "id": 271483469,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644521981
    },
    {
        "content": "<p>I found your solution <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> : <a href=\"https://stackoverflow.com/a/41159427/2248883\">https://stackoverflow.com/a/41159427/2248883</a></p>",
        "id": 271495801,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644527892
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><code>    String myActualCommand =\n        &quot;sushi -v&quot;;\n\n// able to execute arbitrary shell command sequence\n    CommandLine shellCommand = new CommandLine(&quot;bash&quot;).addArgument(&quot;-c&quot;);\n\n// set handleQuoting = false so our command is taken as it is\n    shellCommand.addArgument(myActualCommand, false);\n</code></pre></div>\n<p>works like a charm</p>",
        "id": 271496001,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644527988
    },
    {
        "content": "<p>I thought the problem was that jeckyl was not running, not sushi?</p>",
        "id": 271496452,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1644528194
    },
    {
        "content": "<p>If it is jeckyl, it could be an issue with missing environment variables that are needed to properly interpret a Ruby GEM as an executable...</p>",
        "id": 271496894,
        "sender_full_name": "Vassil Peytchev",
        "timestamp": 1644528395
    },
    {
        "content": "<p>I did notice that this is using bash. By default, new macs are running zsh. If jeckyl needs environment variables, they may have been configured in zsh instead of bash.</p>",
        "id": 271498785,
        "sender_full_name": "David Otasek",
        "timestamp": 1644529321
    },
    {
        "content": "<p>if it makes any difference, I haven't found it. I've alternated zsh and bash in my testing</p>",
        "id": 271500021,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644529752
    },
    {
        "content": "<p>It was worth a shot.</p>",
        "id": 271500279,
        "sender_full_name": "David Otasek",
        "timestamp": 1644529897
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192685\">@Vassil Peytchev</span> there certainly is a problem with the path environment variable (what a mess it is in unix, let alone OSX, which is specially woeful on this). But that's not the problem - it's the intersection of Java invocation, the way the shell works, and using symlinks to shell scripts in a chain to launch ruby code</p>",
        "id": 271501235,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644530378
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191427\">@Jens Villadsen</span> that does solve it nicely - thanks very much</p>",
        "id": 271501727,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644530561
    },
    {
        "content": "<p>Np</p>",
        "id": 271501954,
        "sender_full_name": "Jens Villadsen",
        "timestamp": 1644530665
    },
    {
        "content": "<p><a href=\"https://confluence.hl7.org/display/FHIR/Using+fhir-tool-settings.conf\">https://confluence.hl7.org/display/FHIR/Using+fhir-tool-settings.conf</a></p>\n<p>these will not generally be needed by ordinary users, but will probably be needed if you are working on Unix / OSX and launching the IG publisher or the validator from somewhere other than the shell (might not be - this is unpredictable). Some of them will be needed if you are working with the fhir test cases using the java tooling</p>",
        "id": 271505125,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1644532394
    }
]