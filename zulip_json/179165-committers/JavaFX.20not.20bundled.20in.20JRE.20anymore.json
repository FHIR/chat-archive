[
    {
        "content": "<p>There was a thread back in October 2018 about the javafx jar file not being found.  I just wanted to point out that although it was included in standard JREs from 8 to 10, it will no longer be bundled with the JRE for java 11.  I just found this out because I had to upgrade to Java 11 for another project and my FHIR build won't run anymore (until I solve this problem).</p>",
        "id": 161617157,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1553493781
    },
    {
        "content": "<p>hmm. <span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> what should we do about this? Should I try and find some other not using JFX?</p>",
        "id": 161620545,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553499084
    },
    {
        "content": "<p>I use it for rendering html.</p>",
        "id": 161620603,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553499126
    },
    {
        "content": "<p>I had to stick with Java 8 to keep the build working and use the java-8 JavaFX libraries (and fight ubuntu for them).</p>",
        "id": 161635534,
        "sender_full_name": "David Pyke",
        "timestamp": 1553515070
    },
    {
        "content": "<p>Hmm interesting- As of Java 11 a bunch of stuff that used to be bundled into the JDK are now separate JARs. Lemme see if there is an obvious fix.</p>",
        "id": 161642024,
        "sender_full_name": "James Agnew",
        "timestamp": 1553520106
    },
    {
        "content": "<p>Ok- I've got a version of this building cleanly and seemingly running fine on Java 11, but I had to move it over to org.hl7.fhir.core so I could use Maven to build it.</p>\n<p>It seems that JavaFX is kind of annoying to get working on JDK11 because the JARs are not cross-platform (first time I've ever seen such a thing in Java... sigh).</p>\n<p>My testing though seems to show this working fine on Mac though so that's a good start. <span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> <span class=\"user-mention\" data-user-id=\"192587\">@David Pyke</span> would you guys be willing to checkout the following branch, build it, and try the igtools JAR that gets built? <a href=\"https://github.com/hapifhir/org.hl7.fhir.core/tree/ja_add_igtools\" target=\"_blank\" title=\"https://github.com/hapifhir/org.hl7.fhir.core/tree/ja_add_igtools\">https://github.com/hapifhir/org.hl7.fhir.core/tree/ja_add_igtools</a></p>",
        "id": 161649274,
        "sender_full_name": "James Agnew",
        "timestamp": 1553524616
    },
    {
        "content": "<p>(Oh and BTW I'm specifically hoping for testing on JDK 11)</p>",
        "id": 161651073,
        "sender_full_name": "James Agnew",
        "timestamp": 1553525597
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191319\">@James Agnew</span> i checked it out and built the jar files and then used the following command:<br>\njava -jar org.hl7.fhir.core/org.hl7.fhir.igtools/target/org.hl7.fhir.igtools-3.7.18-SNAPSHOT-jar-with-dependencies.jar -ig ig.json<br>\nand received the following error:<br>\nCaused by: java.lang.ClassNotFoundException: org.apache.http.client.methods.HttpUriRequest<br>\nSo there might be a missing dependency jar?</p>",
        "id": 161655429,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1553528214
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> - Thanks, ok, I've added that dependency to the branch. Do you mind to try again?</p>",
        "id": 161672160,
        "sender_full_name": "James Agnew",
        "timestamp": 1553538048
    },
    {
        "content": "<blockquote>\n<p>I had to move it over to org.hl7.fhir.core so I could use Maven to build it.</p>\n</blockquote>",
        "id": 161675210,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553539746
    },
    {
        "content": "<p>why?</p>",
        "id": 161675212,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553539747
    },
    {
        "content": "<p>btw, when we move the igtools to maven (soon), it will have to be in a different github project</p>",
        "id": 161675243,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553539769
    },
    {
        "content": "<p>The JavaFX jars are published by Maven and they use a \"classifier\" to distinguish between the various OS-specific versions of the JAR. It seems like Ivy doesn't understand classifiers- I couldn't get it to even fetch any versions of those JARs.</p>\n<p>Basically, most dependencies have a group and an artifact ID as their two identifiers. Things with a classifier have a third identifier describing the context of use.</p>\n<p>Once this works within org.hl7.fhir.core as a Maven module, I guess it should be pretty trivial to move it elsewhere if you want to..</p>",
        "id": 161675610,
        "sender_full_name": "James Agnew",
        "timestamp": 1553539980
    },
    {
        "content": "<p>ok. do we have to use javafx to displaya web page? is there a better way?</p>",
        "id": 161676170,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553540308
    },
    {
        "content": "<p>This isn't an area I've spent much time with TBH... But a long time ago I remember doing something like this: <a href=\"https://alvinalexander.com/blog/post/jfc-swing/how-create-simple-swing-html-viewer-browser-java\" target=\"_blank\" title=\"https://alvinalexander.com/blog/post/jfc-swing/how-create-simple-swing-html-viewer-browser-java\">https://alvinalexander.com/blog/post/jfc-swing/how-create-simple-swing-html-viewer-browser-java</a></p>\n<p>IIRC it's not a great browser though, support for some more modern web things isn't good. Possibly it's good enough for this purpose though.</p>",
        "id": 161677627,
        "sender_full_name": "James Agnew",
        "timestamp": 1553541160
    },
    {
        "content": "<p>might no be - it displays the full IG</p>",
        "id": 161680755,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553543230
    },
    {
        "content": "<p>is it really that hard in Java? unbelievable....</p>",
        "id": 161680788,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553543256
    },
    {
        "content": "<p>I got it working by adding the following dependencies:<br>\n        &lt;dependency&gt;<br>\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;<br>\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;<br>\n        &lt;/dependency&gt;<br>\n        &lt;dependency&gt;<br>\n            &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;<br>\n            &lt;artifactId&gt;commonmark&lt;/artifactId&gt;<br>\n            &lt;version&gt;0.12.1&lt;/version&gt;<br>\n        &lt;/dependency&gt;<br>\n        &lt;dependency&gt;<br>\n            &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt;<br>\n            &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt;<br>\n            &lt;version&gt;0.12.1&lt;/version&gt;<br>\n        &lt;/dependency&gt;<br>\n        &lt;dependency&gt;<br>\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;<br>\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;<br>\n            &lt;version&gt;4.0.1&lt;/version&gt;<br>\n        &lt;/dependency&gt;<br>\n        &lt;dependency&gt;<br>\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;<br>\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;<br>\n            &lt;version&gt;4.0.1&lt;/version&gt;<br>\n        &lt;/dependency&gt;<br>\n        &lt;dependency&gt;<br>\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;<br>\n            &lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;<br>\n            &lt;version&gt;1.4&lt;/version&gt;<br>\n        &lt;/dependency&gt;</p>",
        "id": 161682324,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1553544409
    },
    {
        "content": "<p>I guess a different question would be if anyone would care if the gui part didn't show the outcomes  in the UI and it would launch a browser instead</p>",
        "id": 161682385,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553544476
    },
    {
        "content": "<p>the httpclient was the one you added and the two commonmark and the three poi ones.  I haven't pushed that to the branch because I wanted to double-check that we wanted these included in the jar dependency jar.</p>",
        "id": 161682391,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1553544480
    },
    {
        "content": "<p>Let me know if you want me to push my changes to make it work</p>",
        "id": 161683117,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1553544961
    },
    {
        "content": "<p>\"is it really that hard in Java? unbelievable....\"</p>\n<p>Well, I mean most languages don't include a native cross-platform web browser and Java has 2 of them.. they just aren't trivial to set up :)</p>\n<p><span class=\"user-mention\" data-user-id=\"192166\">@Jean Duteau</span> yes please</p>",
        "id": 161792449,
        "sender_full_name": "James Agnew",
        "timestamp": 1553626679
    },
    {
        "content": "<p>I think that it's better to remove JavaFX</p>",
        "id": 161797544,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553630376
    },
    {
        "content": "<p>and remove the functionality</p>",
        "id": 161797558,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553630383
    },
    {
        "content": "<p>ok so I removed the functionality but the layout sucks. It was already bad but no it's worse. And Swing gave me a headache quickly. what a mess... Does someone who can tolerate swing want to clean up the layout?</p>",
        "id": 161804380,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553635444
    },
    {
        "content": "<p>What's the rationale for not just using the JavaFX version? It was annoying to get that working.. but it's working now</p>",
        "id": 161805660,
        "sender_full_name": "James Agnew",
        "timestamp": 1553636565
    },
    {
        "content": "<p>because it's been an ongoing problem in that it takes expertise to get the igublisher to run</p>",
        "id": 161806490,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553637296
    },
    {
        "content": "<p>and the yield was low</p>",
        "id": 161806517,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553637313
    },
    {
        "content": "<p>(e.g. the functionality using JavaFX wasn't that inportant)</p>",
        "id": 161806543,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1553637342
    },
    {
        "content": "<p>got it</p>",
        "id": 161808059,
        "sender_full_name": "James Agnew",
        "timestamp": 1553638581
    },
    {
        "content": "<p>where does FHIR use JavaFX (which is basically dead like all non-web based Java frontends)?</p>",
        "id": 172043228,
        "sender_full_name": "Patrick Werner",
        "timestamp": 1564497095
    },
    {
        "content": "<p>the IG publisher UI used to to host a browser. not any more.</p>",
        "id": 172067840,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1564514307
    }
]