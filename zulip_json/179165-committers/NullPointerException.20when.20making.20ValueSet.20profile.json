[
    {
        "content": "<p>While making the VSD Profile I ran into a NullPointerException and I'm not exactly sure what's causing it: java.lang.NullPointerException<br>\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processElementsIntoTree(ProfileUtilities.java:5285)<br>\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.processElementsIntoTree(ProfileUtilities.java:5296)<br>\n        at org.hl7.fhir.r5.conformance.ProfileUtilities.sortDifferential(ProfileUtilities.java:5247)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.sortProfile(Publisher.java:1096)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.processProfile(Publisher.java:1062)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.processProfiles(Publisher.java:910)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:609)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:473)</p>",
        "id": 232481586,
        "sender_full_name": "Marc Duteau",
        "timestamp": 1617131802
    },
    {
        "content": "<p>weird. how do I reproduce that?</p>",
        "id": 232482438,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1617132134
    },
    {
        "content": "<p>I've uploaded the files to the branch I'd made. <a href=\"https://github.com/HL7/fhir/tree/vocab-vsdalignedprofile-r5\">https://github.com/HL7/fhir/tree/vocab-vsdalignedprofile-r5</a></p>",
        "id": 232482720,
        "sender_full_name": "Marc Duteau",
        "timestamp": 1617132248
    },
    {
        "content": "<p>But what I did was I made the vsd-alignedvalueset profile structure definition, an implementationguide-ValueSet-vsdalignedvalueset.xml file for it, like the one for the shareable valueset profile, and then the reference to that file in the list-ValueSet-packs.xml file.</p>",
        "id": 232483634,
        "sender_full_name": "Marc Duteau",
        "timestamp": 1617132604
    },
    {
        "content": "<p>Appears to be solved. My structure definition got very very messed up somehow.</p>",
        "id": 232502371,
        "sender_full_name": "Marc Duteau",
        "timestamp": 1617140450
    },
    {
        "content": "<p>i took over (tag team) and we have an NPE in a different spot:<br>\njava.lang.NullPointerException<br>\n        at org.hl7.fhir.tools.publisher.PageProcessor.produceProfiles(PageProcessor.java:7451)<br>\n        at org.hl7.fhir.tools.publisher.PageProcessor.processResourceIncludes(PageProcessor.java:6119)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.produceResource2(Publisher.java:3995)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.loadValueSets2(Publisher.java:1275)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.produceSpec(Publisher.java:2339)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.produceSpecification(Publisher.java:2180)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:613)<br>\n        at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:473)</p>\n<p>I'm sure this is still something we've done to the structure, but the NPE doesn't help us figure it out.</p>",
        "id": 232520512,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617152207
    },
    {
        "content": "<p>same branch as above if anyone wants to tell me what the NPE is actually trying to tell us.  (<span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> <span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span>)</p>",
        "id": 232521901,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617153518
    },
    {
        "content": "<p>Did the pipeline produce this output, or was this local to your computer?</p>",
        "id": 232525992,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1617156858
    },
    {
        "content": "<p>If produced by the pipeline, can you please link to the build</p>",
        "id": 232526000,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1617156869
    },
    {
        "content": "<p>local.  i haven't tried a pull request merge because I get that error on the local build</p>",
        "id": 232526696,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617157449
    },
    {
        "content": "<p>but i did check everything in, so a clone of that branch should cause the same error</p>",
        "id": 232527190,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617157869
    },
    {
        "content": "<p>I'm going to open a pr so I can view the entire logs</p>",
        "id": 232578479,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1617192484
    },
    {
        "content": "<p>yay, you get the same error on CI.</p>",
        "id": 232609651,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617203851
    },
    {
        "content": "<p>You are currently 3rd in my queue of issues to look at. FYI</p>",
        "id": 232630118,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1617211018
    },
    {
        "content": "<p>no worries.  Marc and I have other issues to work on.  i'm just glad that someone else got the error so it's not in our setup.</p>",
        "id": 232634251,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617212503
    },
    {
        "content": "<p>In cases like this, I would always advise taking the time to build on the CI by creating a pull request</p>",
        "id": 232634449,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1617212569
    },
    {
        "content": "<p>The cloud environment is a 'clean' environment that we use as the baseline for testing</p>",
        "id": 232634501,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1617212591
    },
    {
        "content": "<p>if it is broken on the cloud, that means it's most likely broken everywhere</p>",
        "id": 232634571,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1617212628
    },
    {
        "content": "<p>makes sense</p>",
        "id": 232634573,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617212629
    },
    {
        "content": "<p>the profile vsd-alignedvalueset is not registered in an IG</p>",
        "id": 232655120,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1617220577
    },
    {
        "content": "<p>correct, it is a profile that we're defining in FHIR Core</p>",
        "id": 232656881,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617221262
    },
    {
        "content": "<p>yes so you need to register it in the core ig</p>",
        "id": 232659037,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1617222203
    },
    {
        "content": "<p>we did create an implementationguide instance in source/valueset.  There is the implementationguide-ValueSet-core.xml that previously existed and we created a new implementationguide-ValueSet-vsdalignedvalueset.xml.  Are you saying that we should just incorporate our profile and needed extensions in the existing ig resource?</p>",
        "id": 232659834,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617222540
    },
    {
        "content": "<p>yes that one should be in core, not a new IG</p>",
        "id": 232660612,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1617222831
    },
    {
        "content": "<p>ok</p>",
        "id": 232660627,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617222840
    },
    {
        "content": "<p>adding a new ig is a much bigger thing I would have to do</p>",
        "id": 232660711,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1617222853
    },
    {
        "content": "<p>okay, i'll make that happen</p>",
        "id": 232661077,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617223006
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"248736\">@Mark Iantorno</span> can I take over your PR and actually merge it if the checks pass?</p>",
        "id": 232664774,
        "sender_full_name": "Jean Duteau",
        "timestamp": 1617224639
    },
    {
        "content": "<p>Yeah, that's not an issue</p>",
        "id": 232668125,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1617226180
    },
    {
        "content": "<p>It is labelled \"DONT MERGE THIS PR\", so you might want to close it and open a new one</p>",
        "id": 232668224,
        "sender_full_name": "Mark Iantorno",
        "timestamp": 1617226217
    }
]