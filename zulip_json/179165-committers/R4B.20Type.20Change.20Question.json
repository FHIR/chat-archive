[
    {
        "content": "<p>I'm working through R4B and have a question about changes in the type system.  For example, I'll use <code>StructureDefinition-bmi.json</code>.  The field <code>Observation.id</code> has the following in R4:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code>                <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n                    <span class=\"nt\">\"extension\"</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n                        <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type\"</span><span class=\"p\">,</span>\n                        <span class=\"nt\">\"valueUrl\"</span><span class=\"p\">:</span> <span class=\"s2\">\"string\"</span>\n                    <span class=\"p\">}],</span>\n                    <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhirpath/System.String\"</span>\n                <span class=\"p\">}],</span>\n</code></pre></div>\n<p>and the same field in R4B has:</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code>                <span class=\"nt\">\"type\"</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n                    <span class=\"nt\">\"extension\"</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n                        <span class=\"nt\">\"url\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type\"</span><span class=\"p\">,</span>\n                        <span class=\"nt\">\"valueUri\"</span><span class=\"p\">:</span> <span class=\"s2\">\"id\"</span>\n                    <span class=\"p\">}],</span>\n                    <span class=\"nt\">\"code\"</span><span class=\"p\">:</span> <span class=\"s2\">\"http://hl7.org/fhirpath/System.String\"</span>\n                <span class=\"p\">}],</span>\n</code></pre></div>\n<p>This changes both the type of value on the extension (<code>url</code> to <code>uri</code>) and the type being referenced (<code>string</code> to <code>id</code>).  Is this expected/allowed?</p>",
        "id": 232286846,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1617031678
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span></p>",
        "id": 232293090,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1617034082
    },
    {
        "content": "<p>(as a note, I am trying to keep track to file tickets for all of these, but there are many things like this throughout the spec - e.g., the format of <code>contentReference</code> values has changed, etc.)</p>",
        "id": 232293546,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1617034282
    },
    {
        "content": "<p>As part of the follow-up (and in case anyone else is interested in looking at some output), here are text files I use to look at normalized versions of FHIR.  Included are the R4 (4.0.1) and R4B (4.1.0) versions, and there are <em>significant</em> differences.  <a href=\"/user_uploads/10155/HCeBzbN0IxNEiKoETTpsMRvr/Info-R4-R4B.zip\">Info-R4-R4B.zip</a> </p>\n<p>Part of that can be attributed to the fact that the R4 core package has 4,583 items while R4B core has only 2,688.  So, the sheer number of missing definitions is quite high.</p>\n<p>Conversely, the R4B expansions package has 589 items, while R4 only has 555.</p>\n<p>I'm going to start filing tickets on obvious issues (e.g., <code>CodeSystem-observation-statistics</code> is missing the required <code>status</code> element), but will probably put a few more 'is this legal' type things here.</p>",
        "id": 232313236,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1617042300
    },
    {
        "content": "<p>hmm I will have to look into this</p>",
        "id": 232362203,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1617069370
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> , just pinging on this so it doesn't drop off the radar.</p>",
        "id": 233200266,
        "sender_full_name": "Gino Canessa",
        "timestamp": 1617642537
    }
]