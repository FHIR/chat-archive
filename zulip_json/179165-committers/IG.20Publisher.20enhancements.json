[
    {
        "content": "<p>ok, after that round of publishing IGS, there's several areas where we need to change either the IG Publisher itself, or our publishing process. Here's the high level summary:</p>\n<p>- need to resolve IG dependencies that very across editors<br>\n- need to resolve how FHIR spec reversioning is handled<br>\n- when IGs publication requests (NIBs) are approved, we have to approve their canonical URL at that point<br>\n- need some advance deadline to provide a structurally complete IG for publishing approval (e.g. templates in place, json file versions &amp; dependencies all filled out) - at least a week before full deadline<br>\n- need a clear policy in relationship to broken links; broken links are both significant and hard to resolve, and you cannot expect them to get resolved at the last minute, nor can you ignore them. We need some minimum level of broken links as official policy. Hopefully 0 broken links</p>",
        "id": 153861345,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481071654
    },
    {
        "content": "<p>i</p>",
        "id": 153861351,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481072213
    },
    {
        "content": "<p>I'll clarify each of these</p>",
        "id": 153861352,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481072221
    },
    {
        "content": "<p>and I missed one:</p>\n<p>- we need a consistent easy to set up CI build pattern for IGs</p>",
        "id": 153861353,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481072337
    },
    {
        "content": "<p>#1: IG dependencies. </p>\n<p>in the JSON file where you configure your IG, you can specify that it depends on another IG. Quoting from the CCDA on FHIR IG:</p>\n<div class=\"codehilite\"><pre> &quot;dependencyList&quot;: [{\n    &quot;name&quot;: &quot;USCore&quot;,\n    &quot;location&quot;: &quot;http://hl7.org/fhir/us/core/2017Jan&quot;,\n    &quot;source&quot;: &quot;C:\\\\work\\\\org.hl7.fhir.us\\\\core\\\\output&quot;\n  }],\n</pre></div>",
        "id": 153861367,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481073215
    },
    {
        "content": "<p>there's 3 elements here: <br>\n- name: the name used throughout the IG to refer to the IG.<br>\n- location: the canonical URL for the implementation guide</p>",
        "id": 153861368,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481073265
    },
    {
        "content": "<p>the name is used in one other place - there's a Jekyll variable name fhir.[name] which has the URL of the IG - for referring to it in manually written html or markdown. Not that people are acutally using that (see the next problem)</p>",
        "id": 153861370,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481073415
    },
    {
        "content": "<p>the location is used for <br>\n- generate links that refer to the content in the dependency IG<br>\n- get the validator.pack for the IG</p>",
        "id": 153861371,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481073459
    },
    {
        "content": "<p>however you might not want to get the validator.pack from the canonical location of the IG - your IG might be based on a pre-release version of the dependency. </p>",
        "id": 153861372,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481073509
    },
    {
        "content": "<p>to get around that, you can nominate a file location where the validator.pack for the dependency IG is</p>",
        "id": 153861374,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481073542
    },
    {
        "content": "<p>the question is, how do you get that? So far, editors have done one of 2 things:<br>\n- grab a copy manually from the editor of the other spec, and put that into the the version controlled source (say, in \\resources as currently recommended in the doco)<br>\nor<br>\n- set the source property to refer to the direct location of their copy of the IG (the output folder)</p>",
        "id": 153861375,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481073659
    },
    {
        "content": "<p>the problem with the first is that the content is not current / maintained, and so discrepencies arise.<br>\nthe problem with the second is that everyone has their own layout, and no single source folder is possible</p>",
        "id": 153861376,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481073705
    },
    {
        "content": "<p>I'm not sure how to resolve this</p>",
        "id": 153861378,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481073713
    },
    {
        "content": "<p>Grahame, for C-CDA on FHIR, I have opted for now to actually copy the output folder from US Core into ccda2/us-core-output, then change the dependency to just be \"us-core-output\". This lets me keep a relative URL in the  IG JSON file, and a static copy of the output that I can update when I am sure the US Core build is clean. Working for now, not ideal, but better than a machine-specific absolute reference. </p>",
        "id": 153861429,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1481087218
    },
    {
        "content": "<p>you just need validator.pack, not the rest of the output</p>",
        "id": 153861434,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481087647
    },
    {
        "content": "<p>I don't understand why the second  is problem.  what do you mean by layout?</p>",
        "id": 153861986,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481147760
    },
    {
        "content": "<p>layout? </p>",
        "id": 153861987,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481147871
    },
    {
        "content": "<p>re \"- we need a consistent easy to set up CI build pattern for IGs\"   When it is working Josh's  Github hook to s3/lambda is super easy.  </p>",
        "id": 153861988,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481147901
    },
    {
        "content": "<p>I wish I was clever enough to set it up on my account</p>",
        "id": 153861989,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481147955
    },
    {
        "content": "<p>it might be easy but it's not consistent. I need to work with <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> to make this just normal </p>",
        "id": 153861990,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481147991
    },
    {
        "content": "<p>zero bad links is ideal but many are devilish hard to track down.  Its not always a matter of clicking on a link and seeing a 404.  Those are the easy ones.  I'm suspicious that my local system is more forgiving than the qa engine.  </p>",
        "id": 153861991,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481148245
    },
    {
        "content": "<p>we talked about this: your local system is more forgiving with regard to case. but not otherwise</p>",
        "id": 153861992,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481148291
    },
    {
        "content": "<p>I don't understand what you mean by this \"the problem with the second is that everyone has their own layout, and no single source folder is possible\"</p>",
        "id": 153861993,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481148306
    },
    {
        "content": "<p>but leaving broken links to the end... that's a recipe for trouble. you need to stay on top of them through the process</p>",
        "id": 153861994,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481148336
    },
    {
        "content": "<p>I'm wondering whether I should allow the IG to complete if there are broken links</p>",
        "id": 153861995,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481148353
    },
    {
        "content": "<p>Actually needed definitions.json.zip too, not just validation.pack, but thanks for the hint that's much less bloat than all of the us-core output. </p>",
        "id": 153861996,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1481148363
    },
    {
        "content": "<p>it shouldn't need both. Definitely not. I'll have to investigate</p>",
        "id": 153861997,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481148392
    },
    {
        "content": "<p>I'm just saying ... not trivial to find some of those links.</p>",
        "id": 153861998,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481148417
    },
    {
        "content": "<p>the problem with external dependencies is that say I have the other IG in c:\\work\\[ig] on my system. For sure, you don't</p>",
        "id": 153861999,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481148424
    },
    {
        "content": "<p>you would think it would be too.</p>",
        "id": 153862000,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481148434
    },
    {
        "content": "<p>agree it's far from trivial</p>",
        "id": 153862001,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481148438
    },
    {
        "content": "<p>Happy to work on the automatic triggering for the publication tool. Do we know what's broken? Can we set up a process to get it updated whenever the way to invoke the publisher changes? </p>",
        "id": 153862006,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481148760
    },
    {
        "content": "<p>Also let's get this moved to an official <a href=\"http://FHIR.org\" target=\"_blank\" title=\"http://FHIR.org\">FHIR.org</a> AWS account like <a href=\"http://build.fhir.org\" target=\"_blank\" title=\"http://build.fhir.org\">build.fhir.org</a> </p>",
        "id": 153862007,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481148797
    },
    {
        "content": "<p>nothing is broken, we just haven't properly set it up for the IGs. </p>",
        "id": 153862008,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481148819
    },
    {
        "content": "<p>can we use the same AWS server? </p>",
        "id": 153862009,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481148828
    },
    {
        "content": "<p>It runs on lambda </p>",
        "id": 153862010,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481148885
    },
    {
        "content": "<p>I have no idea whether this is a yes or a no</p>",
        "id": 153862012,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481148913
    },
    {
        "content": "<p>We could rewrite a version to run on our own build server, and host an API to trigger it..  </p>",
        "id": 153862013,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481148916
    },
    {
        "content": "<p>But that's more moving parts </p>",
        "id": 153862014,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481148923
    },
    {
        "content": "<p>It's a \"no\" </p>",
        "id": 153862015,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149024
    },
    {
        "content": "<p>Lambda is Amazon's \"functions as a service\" </p>",
        "id": 153862016,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149041
    },
    {
        "content": "<p>It's an alternative to running code on your own vn</p>",
        "id": 153862017,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149051
    },
    {
        "content": "<p>hang on, what runs on lambda?</p>",
        "id": 153862018,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149073
    },
    {
        "content": "<p>The ig publication </p>",
        "id": 153862020,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149098
    },
    {
        "content": "<p>it's not a travis build? </p>",
        "id": 153862021,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149113
    },
    {
        "content": "<p>but I was actually thinking of, can the target of the process be the exsiting web server. not where the process itself runs</p>",
        "id": 153862022,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149146
    },
    {
        "content": "<p>Once the process is done building the guide to come up it can do anything it wants to. Publish to S3, copy it to our server, whatever.</p>",
        "id": 153862023,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149281
    },
    {
        "content": "<p>I'd like to standardise that</p>",
        "id": 153862026,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149448
    },
    {
        "content": "<p><a href=\"http://uscore.build.fhir.org\" target=\"_blank\" title=\"http://uscore.build.fhir.org\">http://uscore.build.fhir.org</a> or <a href=\"http://build.fhir.org/uscore\" target=\"_blank\" title=\"http://build.fhir.org/uscore\">http://build.fhir.org/uscore</a></p>",
        "id": 153862027,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149507
    },
    {
        "content": "<p>can you update the lambda code to publish to one of those locations when it completes?</p>",
        "id": 153862028,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149537
    },
    {
        "content": "<p>Right. I was thinking it would be <a href=\"http://ig.fhir.org\" target=\"_blank\" title=\"http://ig.fhir.org\">ig.fhir.org</a> hosted on S3.  But let's decide (separately) two things: 1) whether it is on S3 or our EC2 instance,  and 2) what URL we want to expose it at. </p>",
        "id": 153862029,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149579
    },
    {
        "content": "<p>Hmm.  If we don't include the GitHub org as well as repo, how will we resolve conflicts? </p>",
        "id": 153862030,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149618
    },
    {
        "content": "<p>We'd have to keep and update a mapping somewhere </p>",
        "id": 153862031,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149630
    },
    {
        "content": "<p>well, in the interests of minimising the moving parts, I'd like to use to same server</p>",
        "id": 153862032,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149637
    },
    {
        "content": "<p>(and cost)</p>",
        "id": 153862033,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149640
    },
    {
        "content": "<p>don't understand the gitub conflict issue</p>",
        "id": 153862034,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149670
    },
    {
        "content": "<p>Sure, but we still have to decide whether *any* GitHub repo can be configured to use the publisher (as it currently works) or whether we have some kind of rules. </p>",
        "id": 153862035,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149721
    },
    {
        "content": "<p>I'd prefer a transparent mapping to GitHub org+project names </p>",
        "id": 153862037,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149737
    },
    {
        "content": "<p>so we decided yes or no, what difference would it make? I'm expecting that the answer is: there's a single script that any IG can use, but one of a few of us has to issue a key to enable ot to actually happen? </p>",
        "id": 153862038,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149792
    },
    {
        "content": "<p>The CI build is down for all five of my IGs.  Its weird it runs initially then stops usually on Friday.  by stops I means no more logging nothing.   So I think there is an issue there that need would need to be fixed.  </p>",
        "id": 153862039,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481149804
    },
    {
        "content": "<p>also, unless it's <a href=\"http://build.fhir.org/[ig]\" target=\"_blank\" title=\"http://build.fhir.org/[ig]\">build.fhir.org/[ig]</a>, I have to set up the DNS</p>",
        "id": 153862040,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481149842
    },
    {
        "content": "<p>How much effort is adding <a href=\"http://ig.fhir.org\" target=\"_blank\" title=\"http://ig.fhir.org\">ig.fhir.org</a>? Also, more to my point: I was saying /org/ig would be a cleaner path </p>",
        "id": 153862041,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149916
    },
    {
        "content": "<p>Then any repo could opt in</p>",
        "id": 153862042,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149925
    },
    {
        "content": "<p>Where would the \"key\"  live? </p>",
        "id": 153862043,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481149958
    },
    {
        "content": "<p>it's about a 5 minute task for me to add to the DNS </p>",
        "id": 153862044,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481150000
    },
    {
        "content": "<p>but better if I don't have to. by /org/ig do you mean <a href=\"http://build.fhir.org/[ig]\" target=\"_blank\" title=\"http://build.fhir.org/[ig]\">build.fhir.org/[ig]</a>?</p>",
        "id": 153862045,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481150023
    },
    {
        "content": "<p>that's my preference</p>",
        "id": 153862046,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481150028
    },
    {
        "content": "<p>I'm saying an IG starts at a URL like <a href=\"http://github.com/ghorg/ghrepo\" target=\"_blank\" title=\"http://github.com/ghorg/ghrepo\">github.com/ghorg/ghrepo</a>.  It should be published to <a href=\"http://ig.fhir.org/ghorg/ghrepo\" target=\"_blank\" title=\"http://ig.fhir.org/ghorg/ghrepo\">http://ig.fhir.org/ghorg/ghrepo</a></p>",
        "id": 153862047,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481150082
    },
    {
        "content": "<p>I'm ok with that</p>",
        "id": 153862051,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481150162
    },
    {
        "content": "<p>If you have an external link, that could occasionally get broken intermitently if the external site goes down.  You wouldn't want the build to fail in that situation</p>",
        "id": 153862053,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1481150296
    },
    {
        "content": "<p>why would the build fail? </p>",
        "id": 153862054,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481150352
    },
    {
        "content": "<p>If we say broken links would stop the ig build from completing, then a temporary inavailability of an external site could stop you from publishing your ig.</p>",
        "id": 153862055,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1481150425
    },
    {
        "content": "<p>the IG pbulisher does not check the availability of an external site. I have no idea what rules i could use to determine whether any http response represents success or not </p>",
        "id": 153862056,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481150515
    },
    {
        "content": "<p>the only external links that are checked are links that refer into the dependency list, and you don't need the site for that, only the validator.pack</p>",
        "id": 153862057,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481150553
    },
    {
        "content": "<p>back to how this works - I guess the lamda function has they key to post to the server? So all you have to do is submit a github repository containing a ... ig.... ... a build script....? I'm happy for any output that's been through the current IG Publisher to be published to the web server</p>",
        "id": 153862058,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481150894
    },
    {
        "content": "<p>so any one with a public repostitroy can just set it up....</p>",
        "id": 153862059,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481150913
    },
    {
        "content": "<p>that would reduce it down to:<br>\n- configure your github repo to ping URL XXXX<br>\n- bingo, your IG will be published. <br>\nyes?</p>",
        "id": 153862060,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481150963
    },
    {
        "content": "<p>Correct. The instructions would be basically just like <a href=\"https://github.com/jmandel/fhir-ig-builder/blob/master/README.md\" target=\"_blank\" title=\"https://github.com/jmandel/fhir-ig-builder/blob/master/README.md\">https://github.com/jmandel/fhir-ig-builder/blob/master/README.md</a> </p>",
        "id": 153862071,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481151889
    },
    {
        "content": "<p>looks good to me. what do we need to do to set it up?</p>",
        "id": 153862072,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481152002
    },
    {
        "content": "<p>and what needs to be true about my github repository in order for it to work? </p>",
        "id": 153862073,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481152055
    },
    {
        "content": "<p>I  sent you a private message about setting up an AWS IAM account </p>",
        "id": 153862074,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481152066
    },
    {
        "content": "<p>OK, the auto-publisher is up and seems to be running fine. Updated instructions at <a href=\"https://github.com/hl7-fhir/auto-ig-builder/blob/master/README.md\" target=\"_blank\" title=\"https://github.com/hl7-fhir/auto-ig-builder/blob/master/README.md\">https://github.com/hl7-fhir/auto-ig-builder/blob/master/README.md</a> — the noteworthy bits (especially for <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>) are:</p>\n<p>1. New webhook URL (<a href=\"https://icbe5lqbof.execute-api.us-east-1.amazonaws.com/prod/publish\" target=\"_blank\" title=\"https://icbe5lqbof.execute-api.us-east-1.amazonaws.com/prod/publish\">https://icbe5lqbof.execute-api.us-east-1.amazonaws.com/prod/publish</a>?)<br>\n2. New publication URL scheme (<a href=\"http://github.com/test-igs/simple\" target=\"_blank\" title=\"http://github.com/test-igs/simple\">http://github.com/test-igs/simple</a> :arrow_right:  <a href=\"http://build.fhir.org/ig/test-igs/simple\" target=\"_blank\" title=\"http://build.fhir.org/ig/test-igs/simple\">http://build.fhir.org/ig/test-igs/simple</a>)</p>",
        "id": 153863227,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481648438
    },
    {
        "content": "<p>Let's see how it breaks :-)</p>",
        "id": 153863228,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481648492
    },
    {
        "content": "<p>OK, and I'm happy to say that it worked on US Core (which I forked on GitHub to test this). Results at <a href=\"http://build.fhir.org/ig/test-igs/US-Core/\" target=\"_blank\" title=\"http://build.fhir.org/ig/test-igs/US-Core/\">http://build.fhir.org/ig/test-igs/US-Core/</a></p>",
        "id": 153863229,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481649559
    },
    {
        "content": "<p>thanks Josh. Great work</p>",
        "id": 153863244,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481659906
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> just updating the IG publisher documentation; what happens if the IG build fails?</p>",
        "id": 153863245,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481660703
    },
    {
        "content": "<p>I'd like to get this set up for all the IGs now<br>\n- US IGs <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span>  <span class=\"user-mention\" data-user-id=\"191407\">@Rick Geimer</span> <span class=\"user-mention\" data-user-id=\"191359\">@Bryn Rhodes</span> (means moving CCDA/SDC/QICore Ig out to github now<br>\n- AU Guides (me)</p>",
        "id": 153863246,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481661345
    },
    {
        "content": "<p>When does it need to be done?</p>",
        "id": 153863250,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1481662254
    },
    {
        "content": "<p>soonish. definitely before San Antonio</p>",
        "id": 153863256,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481662631
    },
    {
        "content": "<p>Or depends on when/how it fails. Is it got this far as running the publisher jar file, it should manage to produce a debug.tgz containing a build log, and publish that. The lambda logs are pretty instructive, though, and I expect we may be referring to them to answer questions from time to time.</p>",
        "id": 153863265,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481663438
    },
    {
        "content": "<p>can we set up a fixed file in the IG structure that defines (a) a list of email addresses to notify about outcome and (b) a Zulip channel to notify as well?</p>",
        "id": 153863266,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481663497
    },
    {
        "content": "<p>don't hestitate to tell me if I'm asking too much.</p>",
        "id": 153863267,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481663513
    },
    {
        "content": "<p>I'll work on getting the HSPC IG moved.</p>",
        "id": 153863271,
        "sender_full_name": "Nathan Davis",
        "timestamp": 1481663910
    },
    {
        "content": "<p>ok thanks</p>",
        "id": 153863272,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481663956
    },
    {
        "content": "<p>Those features totally make sense. Let's get a bit of experience with this system and then think through how to extend it.  Also, if anyone else wants to hack on this project with me... that 'd be cool :-)</p>",
        "id": 153863328,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481671043
    },
    {
        "content": "<p>hmm, first problem, <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span>, the 2 australian guides are in the same github repository, a directory for each</p>",
        "id": 153863374,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481674488
    },
    {
        "content": "<p>yur doco doesn't say anything about requirements for IG layout - how do you find the json file?</p>",
        "id": 153863375,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481674520
    },
    {
        "content": "<p>My guide says you need a file called ig.json :)</p>",
        "id": 153863378,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481680570
    },
    {
        "content": "<p>The model is one repo per IG, which keep the mapping straightforward</p>",
        "id": 153863379,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481680608
    },
    {
        "content": "<p>missed that sentence</p>",
        "id": 153863397,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481698734
    },
    {
        "content": "<p>OK. I broke this out into a separate step in the instructions :-)</p>",
        "id": 153863445,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481736950
    },
    {
        "content": "<p>works great thanks again Josh  ( BTW - Can any Jekyll expert tell me how to get the little tab in Chrome not to display the entire Path?  my header has   <code>&lt;title&gt;{{[title]}}&lt;/title&gt;</code>)</p>",
        "id": 153863452,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481739794
    },
    {
        "content": "<p>[title] - what is that? </p>",
        "id": 153863472,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481746788
    },
    {
        "content": "<p>page front matter is empty.  so whatever has been defined by the IG builder</p>",
        "id": 153863488,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481752052
    },
    {
        "content": "<p>but the IG builder doesn't know about page titles</p>",
        "id": 153863499,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481753015
    },
    {
        "content": "<p>mmm interesting because I get the path to the page.  OK I'll add page titles in the front matter.  I thought this was a built in feature.</p>",
        "id": 153863501,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481753116
    },
    {
        "content": "<p>you get an empty title in the html, and so the browser displays the path instead</p>",
        "id": 153863503,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1481753228
    },
    {
        "content": "<p>OK so 3 of my 5 IGs are publishing fine the other 2 ...Nada... no log file nothing....webhook says interaction was successful.  IGs are <a href=\"https://github.com/Healthedata1/daf-research\" target=\"_blank\" title=\"https://github.com/Healthedata1/daf-research\">daf-research</a> and <a href=\"https://github.com/Healthedata1/Argo-PD\" target=\"_blank\" title=\"https://github.com/Healthedata1/Argo-PD\">Argo-PD</a>...</p>",
        "id": 153863815,
        "sender_full_name": "Eric Haas",
        "timestamp": 1481937726
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> ! Clearly we need better visibility into failures. But manually inspecting, I see:</p>\n<div class=\"codehilite\"><pre><span></span>Building docs\n\n00:50:40\nFHIR Implementation Guide Publisher (1.9.0-10581) @ Saturday, December 17, 2016 12:50:40 AM\n\n00:50:40\nLoad Configuration from /tmp/lambdatemp-dir6875000414454386710/ig.json (00.0000sec)\n\n00:50:40\nRoot directory: /tmp/lambdatemp-dir6875000414454386710 (00.0073sec)\n\n00:50:40\nPublishing Content Failed: Error: folder /tmp/lambdatemp-dir6875000414454386710/examples not found (00.0077sec)\n\n00:50:40\n(00.0077sec)\n\n00:50:40\nUse -? to get command line help (00.0077sec)\n\n00:50:40\n(00.0077sec)\n\n00:50:40\nStack Dump (for debugging): (00.0077sec)\n\n00:50:40\njava.lang.Exception: Error: folder /tmp/lambdatemp-dir6875000414454386710/examples not found\n\n00:50:40\nat org.hl7.fhir.igtools.publisher.Publisher.checkDir(Publisher.java:925)\n\n00:50:40\nat org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:588)\n\n00:50:40\nat org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:256)\n\n00:50:40\nat org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3156)\n</pre></div>",
        "id": 153863816,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481939631
    },
    {
        "content": "<p>Is there a missing <code>examples</code> dir for daf-research?</p>",
        "id": 153863817,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481939676
    },
    {
        "content": "<p>OK <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>  there's now public access to build logs at <code>http://ig-build.fhir.org.s3-website-us-east-1.amazonaws.com/logs/:org/:repo</code> (e.g. <a href=\"http://ig-build.fhir.org.s3-website-us-east-1.amazonaws.com/logs/Healthedata1/daf-research\" target=\"_blank\" title=\"http://ig-build.fhir.org.s3-website-us-east-1.amazonaws.com/logs/Healthedata1/daf-research\">http://ig-build.fhir.org.s3-website-us-east-1.amazonaws.com/logs/Healthedata1/daf-research</a>). I've documented this in the <a href=\"http://ig-build.fhir.org.s3-website-us-east-1.amazonaws.com/logs/Healthedata1/daf-research/latest-build.txt\" target=\"_blank\" title=\"http://ig-build.fhir.org.s3-website-us-east-1.amazonaws.com/logs/Healthedata1/daf-research/latest-build.txt\">setup guide</a>.  </p>",
        "id": 153863819,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1481945550
    },
    {
        "content": "<p>re DAF research and all my  IGs there should be an examples dir.  I'll check</p>",
        "id": 153863920,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482100945
    },
    {
        "content": "<p>Oh I forgot Git doesn't recognize empty folders..</p>",
        "id": 153863922,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482101545
    },
    {
        "content": "<p>I think this is a problem with Git...</p>",
        "id": 153863944,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482109400
    },
    {
        "content": "<p>I added a .keep file to the folders I want. </p>",
        "id": 153863946,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482109478
    },
    {
        "content": "<p>Yes. <code>.gitignore</code> is convention. </p>",
        "id": 153863950,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1482112614
    },
    {
        "content": "<p>.gitignore inorder to tell git not to ignore it?</p>",
        "id": 153863954,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482115142
    },
    {
        "content": "<p>Precisely. What could be more intuitive? <a href=\"https://git.wiki.kernel.org/index.php/GitFaq#Can_I_add_empty_directories.3F\" target=\"_blank\" title=\"https://git.wiki.kernel.org/index.php/GitFaq#Can_I_add_empty_directories.3F\">https://git.wiki.kernel.org/index.php/GitFaq#Can_I_add_empty_directories.3F</a></p>",
        "id": 153863956,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1482117197
    },
    {
        "content": "<p>Trying to get QI-Core moved out to GitHub but I can't get past some build errors. I'm getting several \"Implementation Guide - Error - The link 'XYZ' cannot be resolved\". No idea what I'm doing wrong, I've checked against several other IGs and it seems like I'm specifying the resources correctly in the IG.json and IG.xml. Any thoughts on what direction to look next?</p>",
        "id": 153864127,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482195835
    },
    {
        "content": "<p>The latest source for the IG is here: <a href=\"https://github.com/cqframework/qi-core\" target=\"_blank\" title=\"https://github.com/cqframework/qi-core\">https://github.com/cqframework/qi-core</a></p>",
        "id": 153864128,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482195907
    },
    {
        "content": "<p>case matters.  is a linux server. so check your case that tripped me up several times</p>",
        "id": 153864129,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482196194
    },
    {
        "content": "<p>Yeah, that will probably be an issue once I get it building off GitHub, but I'm just building locally on a Windows box and can't get it to resolve. It's not clear from the documentation what's supposed to be in base, and even if I leave base out, it still won't resolve the resulting link.</p>",
        "id": 153864144,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482200873
    },
    {
        "content": "<p>what does 'can't resolve' mean?</p>",
        "id": 153864149,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482202310
    },
    {
        "content": "<p>When I run the publisher, I get build errors like this one:</p>",
        "id": 153864150,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482202501
    },
    {
        "content": "<p>The link 'Basic-basic-adverseevent-example.html' cannot be resolved</p>",
        "id": 153864151,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482202502
    },
    {
        "content": "<p>in qa.html? all those chckes *are case sensitive* because you need to get the case correct</p>",
        "id": 153864152,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482202528
    },
    {
        "content": "<p>I can see fragments of that in the _includes directory, but even if I set base to the name of one of those fragments it still won't resolve.</p>",
        "id": 153864153,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482202543
    },
    {
        "content": "<p>Yeah, I've matched case.</p>",
        "id": 153864154,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482202548
    },
    {
        "content": "<p>I'm on the phone, will look once I get off</p>",
        "id": 153864155,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482202572
    },
    {
        "content": "<p>org.hl7.fhir.exceptions.DefinitionException: error reading display hint: 'dicom='</p>",
        "id": 153864160,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482207763
    },
    {
        "content": "<p>there's no page 'Basic-basic-adverseevent-example.html' so you can't refer to it</p>",
        "id": 153864162,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482208228
    },
    {
        "content": "<p>more generally, there's a mismatch in your json file</p>",
        "id": 153864163,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482208315
    },
    {
        "content": "<div class=\"codehilite\"><pre>    &quot;StructureDefinition/qicore-allergyintolerance&quot;: { &quot;defns&quot;: &quot;qicore-allergyintolerance-definitions.html&quot;, &quot;base&quot;: &quot;qicore-allergyintolerance.html&quot; },\n</pre></div>",
        "id": 153864164,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482208315
    },
    {
        "content": "<p>so you're saying that for the resource      \"StructureDefinition/qicore-allergyintolerance\": { \"defns\": \"qicore-allergyintolerance-definitions.html\", \"base\": \"qicore-allergyintolerance.html\" }, <br>\n, you're going to put the output in those 2 files, but you actually generate them in </p>",
        "id": 153864165,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482208348
    },
    {
        "content": "<p>no, you don't generate the second one at all</p>",
        "id": 153864166,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482208425
    },
    {
        "content": "<p>here is a snip from your ig.json file...<br>\n<code>\"Basic/basic-adverseevent-example\": { \"base\": \"basic-adverseevent-example.xml\", \"template-base\": null },</code></p>",
        "id": 153864175,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482209885
    },
    {
        "content": "<p>These are Jekyll errors I'm assuming.  All the base should be the published html files.   e,g <code>\"MedicationAdministration/medadmin-1\": {\n            \"base\": \"MedicationAdministration-medadmin-1.html\"\n        }</code></p>",
        "id": 153864176,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482209999
    },
    {
        "content": "<p>not xml file - those are generated by the IG for each base file by the publisher</p>",
        "id": 153864179,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482210059
    },
    {
        "content": "<p>So base should be \"Basic-basic-adverseevent-example.html\", but I've tried it with that and I still get the link error.</p>",
        "id": 153864180,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482210111
    },
    {
        "content": "<p>'basic-adverseevent-example.html'   is the link</p>",
        "id": 153864181,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482210163
    },
    {
        "content": "<p>not Basic-basic-...</p>",
        "id": 153864182,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482210185
    },
    {
        "content": "<p>Hmmm... in your example the link is constructed as \"&lt;resource type&gt;-&lt;resource id&gt;.html\", so I was just following that pattern.</p>",
        "id": 153864183,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482210222
    },
    {
        "content": "<p>OK let me download and run.  you have the latest ig-publisher right?</p>",
        "id": 153864184,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482210265
    },
    {
        "content": "<p>Right, what's there now is definitely wrong.</p>",
        "id": 153864185,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482210291
    },
    {
        "content": "<p>the problem for me is I don't know what you are trying to do. How do you want the IG laid out? </p>",
        "id": 153864186,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482210341
    },
    {
        "content": "<p>The same way that it was when it built under the FHIR tooling.</p>",
        "id": 153864187,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482210396
    },
    {
        "content": "<p>That's what I was going for anyway.</p>",
        "id": 153864188,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482210414
    },
    {
        "content": "<p>And the thing is, I haven't changed anything other than cleaning up references to the new us-core instead of daf from when it was building for the September ballot.</p>",
        "id": 153864189,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482210507
    },
    {
        "content": "<p><a href=\"http://hl7.org/FHIR/us/qicore/2016Sep/qicore-allergyintolerance.html\" target=\"_blank\" title=\"http://hl7.org/FHIR/us/qicore/2016Sep/qicore-allergyintolerance.html\">http://hl7.org/FHIR/us/qicore/2016Sep/qicore-allergyintolerance.html</a></p>",
        "id": 153864190,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482210520
    },
    {
        "content": "<p>So like that page.</p>",
        "id": 153864191,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482210528
    },
    {
        "content": "<p>I suppose the IG source was always wrong, it's just that the tooling is tighter now so it's exposing all the ways the source was wrong :)</p>",
        "id": 153864192,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482210592
    },
    {
        "content": "<p>possibly. I'll look at it shortly</p>",
        "id": 153864193,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482210638
    },
    {
        "content": "<p>can you make me a committer? you haven't followed the rules in how you created the respository....</p>",
        "id": 153864194,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482210815
    },
    {
        "content": "<p>it builds for me.  you have a few thousand broken links is that the problem?</p>",
        "id": 153864195,
        "sender_full_name": "Eric Haas",
        "timestamp": 1482210867
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-email=\"grahame@healthintersections.com.au\">@Grahame Grieve</span>, just invited you</p>",
        "id": 153864196,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482210966
    },
    {
        "content": "<p>Eric no, it doesn't build for me, the output I get is that I have 75 Build Errors and they're all that it cannot resolve the base page links.</p>",
        "id": 153864197,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211000
    },
    {
        "content": "<p>thx. I also get 6500+ broken links</p>",
        "id": 153864198,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211052
    },
    {
        "content": "<p>what broken links are you getting? </p>",
        "id": 153864199,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211066
    },
    {
        "content": "<p>where are you seeing them? </p>",
        "id": 153864200,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211074
    },
    {
        "content": "<p>Jekyll: done in 21.668 seconds.                                                  (00:02:29.0630sec)<br>\nChecking Output HTML                                                             (00:02:29.0844sec)<br>\n  ... 1 html file, 0 pages invalid xhtml (0%)                                    (00:02:29.0847sec)<br>\n  ... 75 links, 75 broken links (100%)                                           (00:02:29.0847sec)</p>",
        "id": 153864201,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211085
    },
    {
        "content": "<p>That's the output I get from the builder</p>",
        "id": 153864202,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211091
    },
    {
        "content": "<p>They're in the qa.html, want me to commit that output?</p>",
        "id": 153864203,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211103
    },
    {
        "content": "<p>1 html file? weird. </p>",
        "id": 153864204,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211124
    },
    {
        "content": "<p>Note that I'm building with the publisher that is included in the 1.8 candidate, is that the problem?</p>",
        "id": 153864205,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211127
    },
    {
        "content": "<p>yes use the 1.9 publisher. </p>",
        "id": 153864206,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211139
    },
    {
        "content": "<p>what's in the temp directory?</p>",
        "id": 153864207,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211145
    },
    {
        "content": "<p>Temp has what looks like all the right stuff, but it never puts anything in output but the qa validation pages.</p>",
        "id": 153864208,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211167
    },
    {
        "content": "<p>Jekyll is failing. </p>",
        "id": 153864209,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211187
    },
    {
        "content": "<p>I wonder why</p>",
        "id": 153864210,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211201
    },
    {
        "content": "<p>can you search your whole system for one of the files that should be produced? Jekyll is taking 20 seconds to do nothing.... smells</p>",
        "id": 153864211,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211244
    },
    {
        "content": "<p>Searching...</p>",
        "id": 153864212,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211350
    },
    {
        "content": "<p>Using the 1.9 publisher now I'm getting the same errors you're seeing.</p>",
        "id": 153864213,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211361
    },
    {
        "content": "<p>But now it's loading the 1.9 fhir definitions.</p>",
        "id": 153864214,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211382
    },
    {
        "content": "<p>what OS you running? and what path, and and does Jekyll produce any output? </p>",
        "id": 153864215,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211437
    },
    {
        "content": "<p>Windows.</p>",
        "id": 153864216,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211511
    },
    {
        "content": "<p>And I get more errors, but I still get the 1 html file with 75 broken links output, so nothing gets produced.</p>",
        "id": 153864217,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211532
    },
    {
        "content": "<p>no. once I realised Jekyll is failing, upgrading to the latest publisher isn't it </p>",
        "id": 153864218,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211558
    },
    {
        "content": "<p>Hmmm.... I have a space in my path.</p>",
        "id": 153864219,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211564
    },
    {
        "content": "<p>try without. </p>",
        "id": 153864220,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482211587
    },
    {
        "content": "<p>Yep, that was it, something about the process doesn't like spaces in the path.</p>",
        "id": 153864221,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211941
    },
    {
        "content": "<p>Now I get 6600 broken links.</p>",
        "id": 153864222,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482211954
    },
    {
        "content": "<p>hmm ok. it will be in my invocation pathway. I'll try to fix it </p>",
        "id": 153864223,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1482212017
    },
    {
        "content": "<p>Thanks for helping me work through that @Grahame and <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> </p>",
        "id": 153864224,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482212053
    },
    {
        "content": "<p>I'll get it building with the webhook now.</p>",
        "id": 153864225,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1482212063
    },
    {
        "content": "<p>I am way late to party -- but space in path caused problems for me previously. Added to wiki troubleshooting tip <a href=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Troubleshooting\" target=\"_blank\" title=\"http://wiki.hl7.org/index.php?title=IG_Publisher_Documentation#Troubleshooting\">IG publisher troubleshooting</a></p>",
        "id": 153865276,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1483457495
    },
    {
        "content": "<p>I've made some changes to how the IG Publisher works.  None of the changes *should* have any impact on existing IGs.  However, you may wish to re-run yours, just to make sure.  </p>",
        "id": 153880664,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1491115337
    },
    {
        "content": "<p>Does the IG-publisher already generate a site map?  ( Browsing through the output and temp files -  I did not see any but thought I'd ask anyway )</p>",
        "id": 153880849,
        "sender_full_name": "Eric Haas",
        "timestamp": 1491257298
    },
    {
        "content": "<p>I considered this, but don't know how to</p>",
        "id": 153880855,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1491257968
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> generates some things, but based on input not available to the generator itself </p>",
        "id": 153880856,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1491257989
    },
    {
        "content": "<p>I noticed a  jekyll plugin.  <a href=\"https://github.com/jekyll/jekyll-sitemap\" target=\"_blank\" title=\"https://github.com/jekyll/jekyll-sitemap\">https://github.com/jekyll/jekyll-sitemap</a>  but I haven't looked at it closely.  That is why I thought maybe already done.   My IGs are ridiculously simple (2-3 layers) but a DAF-R comment made me consider it.</p>",
        "id": 153880857,
        "sender_full_name": "Eric Haas",
        "timestamp": 1491258196
    },
    {
        "content": "<p>The IG-publisher spits out a toc.xml fragment based on the page hierarchy in the IG</p>",
        "id": 153880862,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1491259659
    },
    {
        "content": "<p>It also spits out a data file that lists all of the pages and the section numbers and breadcrumbs for each page</p>",
        "id": 153880863,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1491259710
    },
    {
        "content": "<p>where do the titles for examples come from?  I only get \"??\"  are they defined in ig.xml  or shall make a task to define it in ig.json?  </p>",
        "id": 153881348,
        "sender_full_name": "Eric Haas",
        "timestamp": 1491575741
    },
    {
        "content": "<p>I'll have to look - will do sometime in the next 48 hours</p>",
        "id": 153881384,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1491598515
    },
    {
        "content": "<p>The hamburger menu is still broken.  (When you have a small format and click on the hamburger menu - nothing happens. - its is supposed to expand and show navbar)  I looked into it and it seems to be a bootstrap issue and the scss stuff, but that is as far as I could figure out.</p>",
        "id": 153881633,
        "sender_full_name": "Eric Haas",
        "timestamp": 1491849670
    },
    {
        "content": "<p>it's not actually an issue with the IG publisher? </p>",
        "id": 153881666,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1491863548
    },
    {
        "content": "<p>It is an issue how the publisher uses Jekyll and bootstrap.  Thats the part I get lost on.</p>",
        "id": 153881670,
        "sender_full_name": "Eric Haas",
        "timestamp": 1491865874
    },
    {
        "content": "<p>Regression: There is a bug in the IG publisher when trying to publish IGs that depend on other IGs that was not there before. When I try to publish ccda-on-fhir, which depends on US core, I get the following error:</p>\n<p>Unable to Parse HTML - starts with 'null::table' not 'div' </p>\n<p>The JSON looks like this:</p>\n<p>\"div\": \"&lt;table border=\\\"0\\\" xmlns=\\\"<a href=\"http://www.w3.org/1999/xhtml\\\" target=\"_blank\" title=\"http://www.w3.org/1999/xhtml\\\">http://www.w3.org/1999/xhtml\\</a>\"  ...</p>\n<p>When I change it to look like this (i.e. add a div element that is not in any namespace) it works:</p>\n<p>\"div\": \"&lt;div&gt;&lt;table border=\\\"0\\\" xmlns=\\\"<a href=\"http://www.w3.org/1999/xhtml\\\" target=\"_blank\" title=\"http://www.w3.org/1999/xhtml\\\">http://www.w3.org/1999/xhtml\\</a>\" </p>",
        "id": 153881721,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1491917274
    },
    {
        "content": "<p>The bug seems to be in JsonParserBase, line 185. Here is the relevant method:</p>\n<p>protected XhtmlNode parseXhtml(String value) throws IOException, FHIRFormatError {<br>\n    XhtmlParser prsr = new XhtmlParser();<br>\n    try {<br>\n        return prsr.parse(value, \"div\").getChildNodes().get(0);<br>\n    } catch (org.hl7.fhir.exceptions.FHIRFormatError e) {<br>\n        throw new FHIRFormatError(e.getMessage() + \" Offending string: \" + value, e);<br>\n    }<br>\n  }</p>\n<p>For now, just hacking the output of us-core in case other stuff depends on the existing behavior of parseXhtml, but this will need looking into.</p>",
        "id": 153881727,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1491918548
    },
    {
        "content": "<p>Done hacking US core, now getting this error:</p>\n<p>java.lang.Exception: Unable to determine type for  C:\\Users\\rickg\\git\\ccda-on-fhir\\resources\\structuredefinition\\CCDA-on-FHIR-US-Realm-Header: Not a JSON Object: null</p>\n<p>Did we remove support for XML StructureDefinitions? </p>",
        "id": 153881731,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1491919708
    },
    {
        "content": "<p>The div element has always been expected to start with &lt;div....&gt; (and you should be able to have the namespace present too).  So that's not a bug, that's detecting something that was previously broken.</p>",
        "id": 153881757,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1491922045
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191407\">@Rick Geimer</span>  The IG publisher Support US Core for me.  check out my <a href=\"http://build.fhir.org/ig/Healthedata1/IG-Template/\" target=\"_blank\" title=\"http://build.fhir.org/ig/Healthedata1/IG-Template/\">IG-Template</a>  I have both a source location and a reference...</p>",
        "id": 153881771,
        "sender_full_name": "Eric Haas",
        "timestamp": 1491923133
    },
    {
        "content": "<p>'''<br>\n    \"dependencyList\": [<br>\n        {<br>\n            \"source\": \"resources\",<br>\n            \"name\": \"uscore\",<br>\n            \"location\": \"<a href=\"http://hl7.org/fhir/us/core/\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/\">http://hl7.org/fhir/us/core/</a>\"<br>\n        }<br>\n    ],<br>\n'''</p>",
        "id": 153881772,
        "sender_full_name": "Eric Haas",
        "timestamp": 1491923173
    },
    {
        "content": "<p>I think I never tried it without both source and location though...</p>",
        "id": 153881777,
        "sender_full_name": "Eric Haas",
        "timestamp": 1491923429
    },
    {
        "content": "<p>btw the CI build definitions.json.zip is in my resources directory</p>",
        "id": 153881778,
        "sender_full_name": "Eric Haas",
        "timestamp": 1491923542
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> Ok, then why does US Core build successfully in such a way that it does not start with div? </p>",
        "id": 153881796,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1491924980
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> will try that in my ig.json file and see if it works. </p>",
        "id": 153881798,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1491925011
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> That got me past the div error. Still getting the Not a JSON object error since the C-CDA on FHIR StructureDefinition files are XML not JSON. Locally hacking Publisher.java and FetchedFile.java to see if I can find a workaround. </p>",
        "id": 153881803,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1491925527
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191407\">@Rick Geimer</span> I don't know . . .  <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> ?</p>",
        "id": 153881806,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1491925605
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> thanks. I was getting the error when referencing the definitions.json.zip file locally. When I used the method suggested by <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> that error went away. Still having issues with XML StructureDefinition resources though. Will see if my latest hack gets me any further. </p>",
        "id": 153881807,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1491925892
    },
    {
        "content": "<p>Still having issues with XML StructureDefinitions. Need to go to the HL7 Value-Based Care mini-connectathon now. Checking in some changes to help debug the XML StructureDefinition problems. Will continue my investigation when I get to the event. </p>",
        "id": 153881841,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1491929740
    },
    {
        "content": "<p>So there is an html parsing error when have a dependency  *AND you have ig build generated narrative*:</p>\n<div class=\"codehilite\"><pre>  java.lang.Exception: Unable to parse StructureDefinition-us-core-procedure.json from IG uscore\n    at org.hl7.fhir.igtools.publisher.Publisher.loadIg(Publisher.java:997)\n    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:787)\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:299)\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3583)\n  Caused by: org.hl7.fhir.exceptions.FHIRFormatError: Unable to Parse HTML - starts with &#39;null::table&#39; not &#39;div&#39; at line 1 column 7 Offending string: &lt;table border=&quot;0&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot; ...\n</pre></div>\n\n\n<p>You have this error with both a local source file  or the locationL</p>\n<p>here is what the narrative looks like in json:</p>\n<div class=\"codehilite\"><pre>  &quot;div&quot;:&quot;&lt;table border=\\&quot;0\\&quot; xmlns=\\&quot;http://www.w3.org/1999/xhtml\\&quot; cellpadding=\\&quot;0\\&quot; cellspacing.....\n</pre></div>\n\n\n<p>You don't get this error when the narrative in json looks like this -  so either need to add the div element back in or modify the parser.</p>\n<div class=\"codehilite\"><pre>&quot;div&quot;:&quot;&lt;div xmlns=\\&quot;http://www.w3.org/1999/xhtml\\&quot;&gt;&lt;table border=\\&quot;0\\&quot;  cellpadding=\\&quot;0\\&quot; cellspacing...\n</pre></div>",
        "id": 153884577,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492047432
    },
    {
        "content": "<p>The spec is quite clear that the string must start with \"&lt;div....\".  \"&lt;table...\" is not legal</p>",
        "id": 153884585,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1492058509
    },
    {
        "content": "<p>So \"fixing\" the parser would not be appropriate in this situation.  The parser is complaining appropriately.</p>",
        "id": 153884586,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1492058534
    },
    {
        "content": "<p>So the Ig-pub narrative generator is guilty.</p>",
        "id": 153884670,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492094500
    },
    {
        "content": "<p>Looks that way.</p>",
        "id": 153884673,
        "sender_full_name": "Rick Geimer",
        "timestamp": 1492094902
    },
    {
        "content": "<p>Indeed.  Committed a fix, but don't have an IG to test with - do you want to update and give it a try?</p>",
        "id": 153884678,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1492095370
    },
    {
        "content": "<p>OK lemme give it a spin</p>",
        "id": 153884681,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492095671
    },
    {
        "content": "<p>On another topic... There is an issue with spreadsheet generated valuesets as illustrated in the qa.html  report.....</p>",
        "id": 153884682,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492095821
    },
    {
        "content": "<p><a href=\"/user_uploads/10155/hQmQxyjsS499KTTiATDySgTD/Screen-Shot-2017-04-13-at-8.02.03-AM.png\" target=\"_blank\" title=\"Screen-Shot-2017-04-13-at-8.02.03-AM.png\">Screen-Shot-2017-04-13-at-8.02.03-AM.png</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/hQmQxyjsS499KTTiATDySgTD/Screen-Shot-2017-04-13-at-8.02.03-AM.png\" target=\"_blank\" title=\"Screen-Shot-2017-04-13-at-8.02.03-AM.png\"><img src=\"/user_uploads/10155/hQmQxyjsS499KTTiATDySgTD/Screen-Shot-2017-04-13-at-8.02.03-AM.png\"></a></div>",
        "id": 153884683,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492095855
    },
    {
        "content": "<p>Options are:</p>\n<ul>\n<li>fix it </li>\n<li>document that it doesn't work and to create valueset and codesystems some other way..</li>\n</ul>",
        "id": 153884684,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492096020
    },
    {
        "content": "<p>There's enough information in the spreadsheet or generation context to populate version and publisher, but I'm not sure how we'd populate experimental without adding an additional column to the spreadsheet.  I know for SDC I just did all of the value sets as XML</p>",
        "id": 153884687,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1492096291
    },
    {
        "content": "<p>I did all mine as XML too except for this one and was trying out the spreadsheet since is easier and made sense for the demo ig.  </p>",
        "id": 153884696,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492096867
    },
    {
        "content": "<p>OK so Lloyd fixed the xhtml and is working locally.   I committed the change to the CI build and then this  dependency ought to work...  <span class=\"user-mention\" data-user-email=\"rgeimer@gmail.com\">@Rick Geimer</span></p>",
        "id": 153884703,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492098672
    },
    {
        "content": "<div class=\"codehilite\"><pre> &quot;dependencyList&quot;:[{&quot;name&quot;:&quot;uscore&quot;,&quot;location&quot;:&quot;http://build.fhir.org/ig/Healthedata1/US-Core&quot;}]\n</pre></div>",
        "id": 153884705,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492098739
    },
    {
        "content": "<p><a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13204\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13204\">GF#13204</a> to update US-Core with technical correction too then </p>",
        "id": 153884706,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492098807
    },
    {
        "content": "<p><code>\"dependencyList\":[{\"name\":\"uscore\",\"location\":\"http://hl7.org/fhir/us/core/\"}]</code></p>\n<p>should work as well</p>",
        "id": 153884707,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492098896
    },
    {
        "content": "<p>It works!! (Don't forget to clear your cache first.)</p>",
        "id": 153884710,
        "sender_full_name": "Eric Haas",
        "timestamp": 1492099517
    },
    {
        "content": "<p>ig-publisher + spreadsheet support logical models?    logical - model  putting 'logical'  in type causes an error?</p>",
        "id": 153886012,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493149597
    },
    {
        "content": "<p>yes, it is supported - look at the AU RCPA project to see how it's done</p>",
        "id": 153886022,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1493154680
    },
    {
        "content": "<p>ty</p>",
        "id": 153886023,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493154718
    },
    {
        "content": "<p>I will update in my ig-Template a make a note to try to document in the wiki.  It was a bit a steep learning curve.  Messed up my definitions script too.  :-P</p>",
        "id": 153886034,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493164696
    },
    {
        "content": "<p>I noticed the spreadsheet was an ig spreadsheet which I used.  Does this matter or can I used a profile spreadsheet.</p>",
        "id": 153886035,
        "sender_full_name": "Eric Haas",
        "timestamp": 1493164796
    },
    {
        "content": "<p>When generating examples, I am assuming there is no way to list multiple examples in a cell under the \"Example\" column in the spreadsheet  and have them come out the other end as a list.  I tried several ways (\";\", \",\" and\"\\n\").</p>",
        "id": 153892197,
        "sender_full_name": "Eric Haas",
        "timestamp": 1496452250
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span> FYI - <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> set up the structured cancer protocol's  in spreadsheets, an example could be created per column and there were 10 examples with one protocol.  I don't know about having &gt;1 example per cell, but <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> would be best to advise on this topic.</p>",
        "id": 153892200,
        "sender_full_name": "David McKillop",
        "timestamp": 1496458522
    },
    {
        "content": "<p>you can have mulitple examples - see how it's done in the spreadsheet in the RCPA specification</p>",
        "id": 153892214,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1496549457
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> I've copied what you did using the spreadsheet <a href=\"https://github.com/hl7au/au-fhir-rcpa/tree/master/resources\" target=\"_blank\" title=\"https://github.com/hl7au/au-fhir-rcpa/tree/master/resources\">here</a> as examples.  they don't come the other end as repeats however.</p>\n<p>notice here in the <a href=\"http://fhir.hl7.org.au/fhir/rcpa/Colorectal-Colorectal-genexample-1.json.html\" target=\"_blank\" title=\"http://fhir.hl7.org.au/fhir/rcpa/Colorectal-Colorectal-genexample-1.json.html\">rcpa examples</a>:</p>\n<p><a href=\"/user_uploads/10155/CzX-Givs_VmoUSCOQD2eIA1j/pasted_image.png\" target=\"_blank\" title=\"pasted_image.png\">pasted image</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/10155/CzX-Givs_VmoUSCOQD2eIA1j/pasted_image.png\" target=\"_blank\" title=\"pasted image\"><img src=\"/user_uploads/10155/CzX-Givs_VmoUSCOQD2eIA1j/pasted_image.png\"></a></div>",
        "id": 153892247,
        "sender_full_name": "Eric Haas",
        "timestamp": 1496615540
    },
    {
        "content": "<p>I'm not sure what I'm supposed to see in the image? Is this all committed somewhere?</p>",
        "id": 153892249,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1496616143
    },
    {
        "content": "<p>the element <code>noLymphNodePerCassette</code> is an array with one value with a three line feeds.  I assume that is supposed to be three separate values.   That is what assume you referred to above when you said look at the RCPA spec.  If not,  then what exactly should I be looking at?</p>",
        "id": 153892251,
        "sender_full_name": "Eric Haas",
        "timestamp": 1496616749
    },
    {
        "content": "<p>I get this error from the ig-builder...</p>\n<div class=\"codehilite\"><pre><span></span>  java.lang.Exception: exception parsing pack /Users/ehaas/Documents/FHIR/Case-Reporting/resources/eicr-ccda-fhir-spreadsheet: Unknown Type Narrative\n</pre></div>\n\n\n<p>But<code>Narrative</code> is in the data type list?  Is this a bug?</p>",
        "id": 153893196,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497134415
    },
    {
        "content": "<p>where do you get this? </p>",
        "id": 153893197,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497134479
    },
    {
        "content": "<p>i am trying to generate examples of a profile I am working on and so I declare the type <code>Narrative</code>for Composition. section.type here is the complete stack...</p>",
        "id": 153893198,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497134653
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span> java.lang.Exception: exception parsing pack /Users/ehaas/Documents/FHIR/Case-Reporting/resources/eicr-ccda-fhir-spreadsheet: Unknown Type Narrative\nat\n</pre></div>\n\n\n<p>org.hl7.fhir.igtools.spreadsheets.IgSpreadsheetParser.parse(IgSpreadsheetParser.java:204)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadSpreadsheet(Publisher.java:1483)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.loadSpreadsheets(Publisher.java:1468)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:1251)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:315)<br>\n    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:3763)<br>\nCaused by: org.hl7.fhir.exceptions.FHIRFormatError: Unknown Type Narrative<br>\n    at org.hl7.fhir.r4.formats.JsonParser.parseType(JsonParser.java:19908)<br>\n    at org.hl7.fhir.r4.formats.JsonParserBase.parseType(JsonParserBase.java:105)<br>\n    at org.hl7.fhir.r4.formats.ParserBase.parseType(ParserBase.java:67)<br>\n    at org.hl7.fhir.r4.formats.ParserBase.parseType(ParserBase.java:62)<br>\n    at org.hl7.fhir.igtools.spreadsheets.IgSpreadsheetParser.processValue(IgSpreadsheetParser.java:905)<br>\n    at org.hl7.fhir.igtools.spreadsheets.IgSpreadsheetParser.processLine(IgSpreadsheetParser.java:802)<br>\n    at org.hl7.fhir.igtools.spreadsheets.IgSpreadsheetParser.parseProfileSheet(IgSpreadsheetParser.java:268)<br>\n    at org.hl7.fhir.igtools.spreadsheets.IgSpreadsheetParser.parse(IgSpreadsheetParser.java:178)</p>",
        "id": 153893199,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497134674
    },
    {
        "content": "<p>what version?</p>",
        "id": 153893200,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497134695
    },
    {
        "content": "<p>2 days ago... I was just about to say that I should download the latest and try again....</p>",
        "id": 153893201,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497134739
    },
    {
        "content": "<p>what version is the IG for?</p>",
        "id": 153893202,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497134809
    },
    {
        "content": "<p>R3</p>",
        "id": 153893203,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497134893
    },
    {
        "content": "<p>just uploaded the latest publisher still not working.  I'll just unroll the element and do it that way.</p>",
        "id": 153893204,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497135031
    },
    {
        "content": "<p>umm, I'd rather debug it....</p>",
        "id": 153893205,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497135159
    },
    {
        "content": "<p>OK.   so do you want me to commit it? so you can see?</p>",
        "id": 153893206,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497135218
    },
    {
        "content": "<p>yes, though I won't be able to investigate until tonight. </p>",
        "id": 153893207,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497135316
    },
    {
        "content": "<p>if you commit, I can sync, and then you can work around it </p>",
        "id": 153893208,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497135328
    },
    {
        "content": "<p>if you want</p>",
        "id": 153893209,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497135331
    },
    {
        "content": "<p>I can work around it locallly. I just committed.  </p>",
        "id": 153893210,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497135394
    },
    {
        "content": "<p>it's here  <a href=\"https://github.com/Healthedata1/case-reporting\" target=\"_blank\" title=\"https://github.com/Healthedata1/case-reporting\">https://github.com/Healthedata1/case-reporting</a></p>",
        "id": 153893212,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497135434
    },
    {
        "content": "<p>eicr-ccda-fhir-spreadsheet.xml</p>",
        "id": 153893213,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497135482
    },
    {
        "content": "<p>got it, thanks</p>",
        "id": 153893214,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497136117
    },
    {
        "content": "<p>ok fixed. you can use narrative now</p>",
        "id": 153893302,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497320052
    },
    {
        "content": "<p>ty</p>",
        "id": 153893399,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497369996
    },
    {
        "content": "<p>I believe this is a bug:</p>\n<p>type-id (combination) =  {{[uid]}}  when used in a template --&gt;  OperationDefinition=Appointment-find2</p>\n<p>notice the '=' instead of a '-' </p>",
        "id": 153894593,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497992444
    },
    {
        "content": "<p>where is this bug? </p>",
        "id": 153894598,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497993483
    },
    {
        "content": "<p>when using <code>{{[uid]}}</code>  in templates for Ig-build I post an example soon</p>",
        "id": 153894601,
        "sender_full_name": "Eric Haas",
        "timestamp": 1497993647
    },
    {
        "content": "<p>ok</p>",
        "id": 153894607,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1497993917
    },
    {
        "content": "<p><a href=\"http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-template-basic.html#SD.7\" target=\"_blank\" title=\"http://build.fhir.org/ig/Healthedata1/IG-Template/StructureDefinition-template-basic.html#SD.7\">here is an example</a> of the faulty variable  located in <a href=\"https://github.com/Healthedata1/IG-Template/blob/master/sd.html\" target=\"_blank\" title=\"https://github.com/Healthedata1/IG-Template/blob/master/sd.html\">this repo</a></p>",
        "id": 153894623,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498000503
    },
    {
        "content": "<p><code>Type-id (combination) { {[uid]}} = StructureDefinition=template-basic</code></p>",
        "id": 153894624,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498000541
    },
    {
        "content": "<p>I can't check that repository out: </p>",
        "id": 153894648,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498016916
    },
    {
        "content": "<p>Clone failed: cannot check out to illegal path c:\\temp\\test.map</p>",
        "id": 153894649,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498016962
    },
    {
        "content": "<p>or 'Cloning into 'C:\\work\\org.hl7.fhir.us\\ig-template'...<br>\nerror: Untracked working tree file 'c:\\temp\\test.map' would be overwritten by merge.'</p>",
        "id": 153894650,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498017067
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> google gives me no help with this error. any ideas?</p>",
        "id": 153894651,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498017230
    },
    {
        "content": "<p>it's because in commit 72300d470948f79d53a3e649cd8ef59e3dad4661, Eric committed a file that it outside the repository. Some git clients just go ahead and process that like a file they have a right to access, whereas others won't do it at all. Seems like a big security issue to me</p>",
        "id": 153894652,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498017535
    },
    {
        "content": "<p>In general, you get that message when you have a file locally that isn't managed by git, and you're trying to merge a new commit that introduces this same file. </p>",
        "id": 153894697,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1498045237
    },
    {
        "content": "<p>Here from what you're showing, the file is actually outside of the git repo root!? </p>",
        "id": 153894698,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1498045273
    },
    {
        "content": "<p>Here's the thing.. </p>",
        "id": 153894699,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1498045356
    },
    {
        "content": "<p>What Eric checked in is <a href=\"https://github.com/Healthedata1/IG-Template/blob/72300d470948f79d53a3e649cd8ef59e3dad4661/c:%5Ctemp%5Ctest.map\" target=\"_blank\" title=\"https://github.com/Healthedata1/IG-Template/blob/72300d470948f79d53a3e649cd8ef59e3dad4661/c:%5Ctemp%5Ctest.map\">https://github.com/Healthedata1/IG-Template/blob/72300d470948f79d53a3e649cd8ef59e3dad4661/c:%5Ctemp%5Ctest.map</a></p>",
        "id": 153894700,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1498045377
    },
    {
        "content": "<p>It's not a file outside of the git repo root. It's a file <em>at</em> the repo root whose filename happens to be \"c:\\temp\\test.map\" </p>",
        "id": 153894701,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1498045449
    },
    {
        "content": "<p>Now this is certainly quite suggestive of a security bug in the git client you're using. I wonder if it's just a spurious warning or if it really would write a file at an arbitrary path. Can you share the details of your setup, and what git client gave you this message? And if you're willing, maybe backup your current file, do the merge, and see if it really does write to your c:\\temp?</p>",
        "id": 153894706,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1498046180
    },
    {
        "content": "<p>GitKracken: error when encoutnering the file.<br>\nSourceTree: error because the file already existed. So it's insecure. </p>\n<p>Let's assume Eric is using OSX - the file is one I created in the IG publisher. I thought that the name c:\\temp\\test.map would be illegal in OSX - weird. But there's something more wrong thna just with SourceTree. </p>",
        "id": 153894710,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498048643
    },
    {
        "content": "<p><a href=\"https://jira.atlassian.com/projects/SRCTREEWIN/issues/SRCTREEWIN-7499?filter=allopenissues\" target=\"_blank\" title=\"https://jira.atlassian.com/projects/SRCTREEWIN/issues/SRCTREEWIN-7499?filter=allopenissues\">https://jira.atlassian.com/projects/SRCTREEWIN/issues/SRCTREEWIN-7499?filter=allopenissues</a></p>",
        "id": 153894711,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498048644
    },
    {
        "content": "<p>nowhere to report a GitKracken bug. </p>",
        "id": 153894712,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498048860
    },
    {
        "content": "<p>it really did write to my c:\\temp file - I checked</p>",
        "id": 153894713,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1498048893
    },
    {
        "content": "<p>sent invite for ig template repo to gg</p>",
        "id": 153894758,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498059830
    },
    {
        "content": "<p>RE commitiing a file outside my directory-  for some reason my working folder has the file <code>/Users/ehaas/Documents/FHIR/IG-Template/c:\\temp\\test.map</code>  don't know how that happened maybe since I work on both a windows desktop and MAX airbook and transfer files back and forth???  removed.</p>",
        "id": 153894762,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498060499
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> note that you can report issues at <a href=\"https://www.gitkraken.com/contact\" target=\"_blank\" title=\"https://www.gitkraken.com/contact\">https://www.gitkraken.com/contact</a></p>",
        "id": 153894831,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1498074740
    },
    {
        "content": "<p>Back to the spurious <code>c:\\temp\\test.map</code> file in my Git repo.  It is being created everytime I run the ig-build.   It contains a mapping script and I think is a bug. <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13576\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=13576\">GF#13576</a>] </p>",
        "id": 153895314,
        "sender_full_name": "Eric Haas",
        "timestamp": 1498581000
    }
]