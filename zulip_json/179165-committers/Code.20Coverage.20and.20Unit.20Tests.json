[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> has recently been adding unit tests. I think it would be useful to integrate a tool like <a href=\"https://codecov.io\" target=\"_blank\" title=\"https://codecov.io\">https://codecov.io</a> (or something similar) into the PR build process. This would allow the community to visually see which portions of the FHIR build are covered by unit tests and which portions are not. And it would help committers know where they could potentially add new unit tests. Thoughts?</p>",
        "id": 154008537,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1539354317
    },
    {
        "content": "<p>well, who cares how much to the build is covered by unit tests? OTOH, There's parts of the java code - the production relevant parts - where it would be nice indeed. Does anyone know anything about the performance hit?</p>",
        "id": 154008609,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1539370719
    },
    {
        "content": "<p>I don't really think there is a performance hit... I believe it works by analyzing the results of your JUnit test reports. The build pushes the results to the codecov servers after they are finished running, and it does the analysis out of band.</p>",
        "id": 154008634,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1539376593
    },
    {
        "content": "<p>As I understand it, for Java projects, CodeCov requires JaCoCo.  JaCoCo instruments the code in-memory while the unit tests are running -- so there's <em>some</em> impact there.  I tried to find numbers -- but the best I could find was an old blog that said \"less than 10%\".  As Jay said, however, the analysis and generation of the human-readable reports, however, would be farmed off to the CodeCov server.  It's actually pretty easy to add the JaCoCo/CodeCov support, so it may be worth giving it a shot to see what the actual impact is.  If it's too large an impact for day-to-day work, perhaps a special coverage build could be configured to run on master periodically.</p>",
        "id": 154009075,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1539605759
    },
    {
        "content": "<p>BTW -- I think it's a great idea.  If FHIR wants more community involvement in the building and maintaining of the infrastructure (including reference implementations) -- contributing unit tests is a great way for people to ease into it and learn the codebase at the same time.</p>",
        "id": 154009076,
        "sender_full_name": "Chris Moesel",
        "timestamp": 1539605993
    }
]