[
    {
        "content": "<p>task <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10075\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=10075\">GF#10075</a> - I'm not following this one - looks like the information is out of date, and I'm not sure what the source is trying to do. Can <span class=\"user-mention\" data-user-id=\"191405\">@Rob Hausam</span>  or <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> clarify?</p>",
        "id": 153840447,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469145771
    },
    {
        "content": "<p>Look at this: <a href=\"http://hl7.org/fhir/extension-allergyintolerance-resolutionage.html\" target=\"_blank\" title=\"http://hl7.org/fhir/extension-allergyintolerance-resolutionage.html\">http://hl7.org/fhir/extension-allergyintolerance-resolutionage.html</a><br>\nThen look at this: <a href=\"http://hl7-fhir.github.io/extension-allergyintolerance-resolutionage.html\" target=\"_blank\" title=\"http://hl7-fhir.github.io/extension-allergyintolerance-resolutionage.html\">http://hl7-fhir.github.io/extension-allergyintolerance-resolutionage.html</a><br>\next-1 is new for STU3.  The other two should still exist, but they're not appearing</p>",
        "id": 153840467,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1469149738
    },
    {
        "content": "<p>Yes, I was just about to post the same examples.</p>",
        "id": 153840468,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1469149829
    },
    {
        "content": "<p>I don't see them in the spreadsheet</p>",
        "id": 153840470,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469149857
    },
    {
        "content": "<p>allergyintolerance-extensions-spreadsheet, Extensions-Inv tab</p>",
        "id": 153840477,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1469153128
    },
    {
        "content": "<p>\"code or substanceExposureRisk\"</p>",
        "id": 153840478,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1469153133
    },
    {
        "content": "<p>and what has that to do with any of the extensions?</p>",
        "id": 153840485,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469155246
    },
    {
        "content": "<p>\"If the substanceExposureRisk extension element is present, the AllergyIntolerance.code element must be omitted.\"?</p>",
        "id": 153840513,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1469161815
    },
    {
        "content": "<p>question on that?</p>",
        "id": 153840515,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1469161876
    },
    {
        "content": "<p>not sure that the references and the rest of the syntax is all entirely correct (or even allowed), but I tried to get as close as possible, and it didn't complain at me - <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> I was actually going to ask you to look at it at some point and see what I needed to tweak  </p>",
        "id": 153840516,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1469162024
    },
    {
        "content": "<p>so this is all confusing. The claim wsa that there is constraints for two extensions which aren't showing, but I don't see them</p>",
        "id": 153840519,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469164635
    },
    {
        "content": "<p>there is an invariant but it has no extension as context, so the build ignores it</p>",
        "id": 153840520,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469164650
    },
    {
        "content": "<p>The build used to not ignore it.  If it needs to be updated to have a different context, that's doable.  Also, the one from Quantity is gone too.</p>",
        "id": 153840540,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1469179625
    },
    {
        "content": "<p>which one from quantity?</p>",
        "id": 153840541,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469179839
    },
    {
        "content": "<p>From STU2:<br>\nqty-3: On Extension.valueQuantity: If a code for the unit is present, the system SHALL also be present (xpath on f:Extension/f:valueQuantity: not(exists(f:code)) or exists(f:system))</p>",
        "id": 153840542,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1469180061
    },
    {
        "content": "<p>umm</p>",
        "id": 153840544,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469180640
    },
    {
        "content": "<p>it's still present every where it should be</p>",
        "id": 153840545,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469180660
    },
    {
        "content": "<p>So it shouldn't show up on extensions with a type of Age?</p>",
        "id": 153840546,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1469181145
    },
    {
        "content": "<p>it should. that's a snapshot generation problem</p>",
        "id": 153840550,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469185738
    },
    {
        "content": "<p>yes - if we need to change/add the context, that's fine - just need to know that's what's needed </p>",
        "id": 153840554,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1469195604
    },
    {
        "content": "<p>the context must be exactly the same as the 'code' for the extension in the spreadsheet, and then the invariant will be added to the extension - otherwise the invariant will be ignored</p>",
        "id": 153840680,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469220427
    },
    {
        "content": "<p>Thanks for that clarification, <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span> It seems that this behavior changed at some point following STU3 candidate, but as long as it's clear and understood (which it obviously wasn't for me), it's not a problem.  My invariants are showing up now (only on my local build at the moment), so that's great.  Now I just need to verify that the XPath (shouldn't we be using FluentPath now?) is correct so that they actually work as intended - I'm pretty sure that some of the references aren't correct at the moment. </p>",
        "id": 153840714,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1469248429
    },
    {
        "content": "<p>we are transitioning to XPath. For now, both are required</p>",
        "id": 153840715,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469248517
    },
    {
        "content": "<p>you mean transitioning to FluentPath?<br>\nthat's what I thought, but didn't really know both were required - and is that actually true at this point for invariants?<br>\nthe FHIR Spreadsheet Authoring Wiki page doesn't seem to reflect all of that guidance - and that threw me off</p>",
        "id": 153840716,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1469249299
    },
    {
        "content": "<p>can't say I'm particularly surprised that documentation lags behind - but it's good to find out</p>",
        "id": 153840717,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1469249436
    },
    {
        "content": "<p>is this resolved, now that I am generating the inherited constraints on Age etc?</p>",
        "id": 153840744,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469313481
    },
    {
        "content": "<p>I suspect it is resolved, Grahame, but I haven't necessarily been able to  verify that yet</p>",
        "id": 153840852,
        "sender_full_name": "Rob Hausam",
        "timestamp": 1469417705
    },
    {
        "content": "<p>ok</p>",
        "id": 153840867,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1469420877
    }
]