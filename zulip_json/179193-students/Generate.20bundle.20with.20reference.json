[
    {
        "content": "<p>Hi all!</p>\n<p>I'm curently working on a project which creates FHIR resources from a CDA file. It works well, but I have a question about bundles. In fact, when I receive a report from a laboratory, I have to create a lot of FHIR resources, so I have to do many requests on my server.</p>\n<p>I managed to create my observations with a bundle. So it works, I have only one request on the server to create all my observations .</p>\n<p>But my question is, can I create all my resources in only one bundle? I mean, some resources refer to others, like for example when I create a DiagnosticReport, I need the ID of the subject, the performer and all the IDs of the observations (result). But in fact if I do only one bundle I don't have all the IDs. So is it possible to put something like  a variable in a bundle which will get the ID of the UPDATED/CREATED resource?</p>\n<p>Thanks in advance for you help!</p>\n<p>Anthony</p>",
        "id": 182289242,
        "sender_full_name": "Anthony Dagneaux",
        "timestamp": 1575214532
    },
    {
        "content": "<p>Have you looked at transaction (<a href=\"http://build.fhir.org/http.html#transaction\" target=\"_blank\" title=\"http://build.fhir.org/http.html#transaction\">http://build.fhir.org/http.html#transaction</a>)?</p>",
        "id": 182289767,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1575215374
    },
    {
        "content": "<p>Yes I looked and I used a transaction to create observations on the server, but maybe I've missed something.</p>\n<p>In fact I'd like to do something like that: </p>\n<p>{<br>\n  \"resourceType\": \"Bundle\",<br>\n  \"id\": \"bundle-transaction\",<br>\n  \"meta\": {<br>\n    \"lastUpdated\": \"2014-08-18T01:43:30Z\"<br>\n  },<br>\n  \"type\": \"transaction\",<br>\n  \"entry\": [<br>\n    {<br>\n      \"resource\": {<br>\n        \"resourceType\": \"Patient\",<br>\n        \"active\": true,<br>\n      ...<br>\n      },<br>\n      \"request\": {<br>\n        \"method\": \"POST\",<br>\n        \"url\": \"Patient\"<br>\n      }<br>\n    }, {<br>\n        \"resourceType\": \"DocumentReference\",<br>\n        \"identifier\": [<br>\n          {<br>\n            \"system\": \"urn:ietf:rfc:3986\",<br>\n            \"value\": \"urn:oid:1.3.6.1.4.1.21367.2005.3.7.1234\"<br>\n          }<br>\n        ],<br>\n      ...<br>\n        },<br>\n        \"subject\": {<br>\n          \"reference\": \"Patient/$idOfTheGeneratedPatient\" --- Put the reference to the patient here ?<br>\n        },<br>\n       ...<br>\n        \"request\": {<br>\n            \"method\": \"POST\",<br>\n            \"url\": \"DocumentReference\"<br>\n          }<br>\n      }<br>\n  ]<br>\n}</p>\n<p>Do you think I can do that with the transactions?</p>",
        "id": 182292476,
        "sender_full_name": "Anthony Dagneaux",
        "timestamp": 1575220243
    }
]