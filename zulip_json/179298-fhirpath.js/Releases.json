[
    {
        "content": "<p>Version 0.10.3 has just been published on npm with a fix for the bin/fhirpath command-line script.</p>",
        "id": 160224756,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1551984154
    },
    {
        "content": "<p>Version 0.11.0 has just been published on npm.  It now has support for DateTime and Time (but not Date, which is not yet a part of the official FHIRPath-- for at least another month) equality and comparison operators.  Because JSON does not provide type information for DateTime/Time in resources, when comparing a known DateTime/Time value with a string, it will see if the string is in the right format to be converted.  Arithmetic between DateTime/Time and Quantity is not yet supported, though I think that would easy to add via the <a href=\"https://www.npmjs.com/package/@lhncbc/ucum-lhc\" target=\"_blank\" title=\"https://www.npmjs.com/package/@lhncbc/ucum-lhc\">ucum-lhc</a> unit conversion library.</p>",
        "id": 162578950,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1554420619
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"218978\">@Ivan Mikhailov</span> has implemented the new <a href=\"http://hl7.org/fhirpath/2019May/#math\" target=\"_blank\" title=\"http://hl7.org/fhirpath/2019May/#math\">math functions</a> in version 0.14.0 of <a href=\"https://github.com/HL7/fhirpath.js\" target=\"_blank\" title=\"https://github.com/HL7/fhirpath.js\">fhirpath.js</a>.</p>",
        "id": 166751882,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1559072542
    },
    {
        "content": "<p>Support for unary \"+\" and \"-\" has been added to <a href=\"https://github.com/HL7/fhirpath.js\" target=\"_blank\" title=\"https://github.com/HL7/fhirpath.js\">fhirpath.js</a>.</p>",
        "id": 166840674,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1559152952
    },
    {
        "content": "<p>Many thanks to the implementers and maintainers!</p>",
        "id": 167014429,
        "sender_full_name": "Chris Grenz",
        "timestamp": 1559322025
    },
    {
        "content": "<p>We received a contribution from \"bpacJoseph\" for a fix for IE 10.  This is now in version 0.16.2.</p>",
        "id": 172259186,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1564691821
    },
    {
        "content": "<p>Version 0.17.0 now supports the beginnings of Date/time arithmetic.  You can do things like \"today() +  1 year &gt; @2020\" which could be useful for skip logic.  There currently isn't a way to convert a string to Date (e.g. a string representation of a date in a JSON resource) which kind of limits its usefulness.  After we move to support the new version of the FHIRPath spec we can start adding things like toDateTime(), etc.</p>",
        "id": 173920112,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1566507267
    },
    {
        "content": "<p>I went to implement the needed toDateTime() and toTime functions(), and found they were already there.  (I had forgotten....)  So, you can do things like \"Patient.birthDate.toDateTime() + 1 month\".</p>",
        "id": 174367359,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1567002360
    },
    {
        "content": "<p>Release 1.0.0 now has support for choice types.  Operators \"is\" and \"as\" won't work yet, but you can now write \".value\" instead of \".valueQuantity\".  The support is optional, in that you need to include an additional file with data from the FHIR model (specific to the release version).  \"is\" and \"as\" will require a lot more data from the FHIR model, which is why these files are separate, even though right now they are fairly small.</p>",
        "id": 184923047,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1578329066
    },
    {
        "content": "<p>That's great, very cool! What format are the additional files?</p>",
        "id": 184959090,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1578346452
    },
    {
        "content": "<p>JavaScript.  You just have to include \"fhirpath.r4.min.js\" in addition to \"fhirpath.min.js\" in your page (if using the browser-ready version in the <a href=\"https://github.com/HL7/fhirpath.js/releases\" target=\"_blank\" title=\"https://github.com/HL7/fhirpath.js/releases\">releases</a>).</p>",
        "id": 184959281,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1578346581
    },
    {
        "content": "<p>If you're interested, there is a set of tools to generate FHIR type information in the ModelInfo format defined in the spec that communicates this information (it's how the CQL tooling currently resolves choice types): <a href=\"https://github.com/cqframework/cqf-tooling/tree/master/src/main/java/org/opencds/cqf/modelinfo\" target=\"_blank\" title=\"https://github.com/cqframework/cqf-tooling/tree/master/src/main/java/org/opencds/cqf/modelinfo\">https://github.com/cqframework/cqf-tooling/tree/master/src/main/java/org/opencds/cqf/modelinfo</a></p>",
        "id": 184959673,
        "sender_full_name": "Bryn Rhodes",
        "timestamp": 1578346843
    },
    {
        "content": "<p>Thanks for the pointer-- I will take a look at it.</p>",
        "id": 184965123,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1578350837
    },
    {
        "content": "<p>FYI regarding choice type support:  A user found (<a href=\"https://github.com/HL7/fhirpath.js/issues/33\" target=\"_blank\" title=\"https://github.com/HL7/fhirpath.js/issues/33\">https://github.com/HL7/fhirpath.js/issues/33</a>) that I had forgotten to handle recursive definitions (item.answer.item) and also that for some reason paths with descendants() also prevents choice type recognition.</p>",
        "id": 185328514,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1578675266
    },
    {
        "content": "<p>Just to remind the root of the problem - <a href=\"https://github.com/fhir-fuel/fhir-fuel.github.io/issues/2\" target=\"_blank\" title=\"https://github.com/fhir-fuel/fhir-fuel.github.io/issues/2\">https://github.com/fhir-fuel/fhir-fuel.github.io/issues/2</a> - vote for FHIR JSON 2.0!</p>",
        "id": 185328980,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1578675600
    },
    {
        "content": "<p>This is a design bug</p>",
        "id": 185329056,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1578675625
    },
    {
        "content": "<p>Vote how?</p>",
        "id": 185331736,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1578677586
    },
    {
        "content": "<p>I do not know :) Just tell your opinion about this to <span class=\"user-mention\" data-user-id=\"191316\">@Grahame Grieve</span>  and <span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span></p>",
        "id": 185331882,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1578677664
    },
    {
        "content": "<p>I really dislike the choice types, and the amount of FHIR model data required to be loaded to support them fully.  I would like to see types explicitly specified on nodes with types-- something like what you have suggested.  The only reason I've been working on implementing it is that the current standard (normative for JSON and nearly normative for FHIRPath) calls for it.  I would be delighted if something would replace the current JSON format, but my understanding is that that would be a long process at this point.  Still, perhaps it is best to start it sooner than later.</p>",
        "id": 185332797,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1578678230
    },
    {
        "content": "<p>My proposal was to introduce FHIR JSON 2.0 as a draft and keep JSON 1.0 until everybody forgets about it.</p>",
        "id": 185333513,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1578678678
    },
    {
        "content": "<p>In Aidbox we have a converter between JSON 1.0 and Aidbox JSON (which fixes these issues <a href=\"https://docs.aidbox.app/basic-concepts/aidbox-and-fhir-formats\" target=\"_blank\" title=\"https://docs.aidbox.app/basic-concepts/aidbox-and-fhir-formats\">https://docs.aidbox.app/basic-concepts/aidbox-and-fhir-formats</a>) - we can open-source it</p>",
        "id": 185333608,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1578678747
    },
    {
        "content": "<p>We applied these ideas in SQL on FHIR draft - <a href=\"https://github.com/FHIR/sql-on-fhir/blob/master/sql-on-fhir.md#choice-types\" target=\"_blank\" title=\"https://github.com/FHIR/sql-on-fhir/blob/master/sql-on-fhir.md#choice-types\">https://github.com/FHIR/sql-on-fhir/blob/master/sql-on-fhir.md#choice-types</a></p>",
        "id": 185333677,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1578678817
    },
    {
        "content": "<p>I am waiting for an initiative group of experts to try it again :)</p>",
        "id": 185333782,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1578678881
    },
    {
        "content": "<p>That converter might be a useful thing to open source.  Then people could pre-process and work with the improved JSON format.</p>",
        "id": 185333808,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1578678897
    },
    {
        "content": "<p>Yes - we can do this.</p>",
        "id": 185333842,
        "sender_full_name": "nicola (RIO/SS)",
        "timestamp": 1578678918
    },
    {
        "content": "<blockquote>\n<p>FYI regarding choice type support:  A user found (<a href=\"https://github.com/HL7/fhirpath.js/issues/33\" target=\"_blank\" title=\"https://github.com/HL7/fhirpath.js/issues/33\">https://github.com/HL7/fhirpath.js/issues/33</a>) that I had forgotten to handle recursive definitions (item.answer.item) and also that for some reason paths with descendants() also prevents choice type recognition.</p>\n</blockquote>\n<p>These issues are now fixed (in 1.0.1).</p>",
        "id": 185964865,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1579300765
    },
    {
        "content": "<p>2.0.0 is now out, which introduces the new grammar file for the FHIRPath N1 release.  (Thanks <span class=\"user-mention\" data-user-id=\"273812\">@Yury Sedinkin</span>).</p>",
        "id": 191538865,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1584998764
    },
    {
        "content": "<p>2.1.0 is now out, which implements toQuantity(unit).  (Thanks to <span class=\"user-mention\" data-user-id=\"273812\">@Yury Sedinkin</span> .)</p>",
        "id": 193101495,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1586206976
    },
    {
        "content": "<p>In version 2.4.0, <span class=\"user-mention\" data-user-id=\"273812\">@Yury Sedinkin</span> has added DSTU2 model information so that choice types will work with DSTU2 models.</p>",
        "id": 206770620,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1597279772
    },
    {
        "content": "<p>Version 2.5.0 now has support for the \"union\" function.  (Previous versions supported |, but not union(...)).</p>",
        "id": 208682271,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1598964788
    }
]