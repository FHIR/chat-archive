[
    {
        "content": "<p>this page:</p>",
        "id": 165683572,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1557891790
    },
    {
        "content": "<p><a href=\"http://www.fhir.org/guides/registry/\" target=\"_blank\" title=\"http://www.fhir.org/guides/registry/\">http://www.fhir.org/guides/registry/</a></p>",
        "id": 165683573,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1557891791
    },
    {
        "content": "<p>loads fine in Chrome, Firefox, and Safari. But IE11.... doesn't load.</p>",
        "id": 165683581,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1557891811
    },
    {
        "content": "<p>looks like it's because there's a 'syntax ' error:</p>",
        "id": 165683584,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1557891825
    },
    {
        "content": "<div class=\"codehilite\"><pre><span></span><span class=\"nx\">unction</span> <span class=\"nx\">loadRegistry</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"nx\">fetch</span><span class=\"p\">(</span><span class=\"nx\">url</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">then</span><span class=\"p\">(</span><span class=\"nx\">res</span> <span class=\"p\">=&gt;</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">())</span>\n    <span class=\"p\">.</span><span class=\"nx\">then</span><span class=\"p\">((</span><span class=\"nx\">out</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n</pre></div>",
        "id": 165683591,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1557891836
    },
    {
        "content": "<p>I don't know enough about js to know what's going on here... what do I to fix it?</p>",
        "id": 165683636,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1557891858
    },
    {
        "content": "<p>Consider <a href=\"https://github.com/github/fetch\" target=\"_blank\" title=\"https://github.com/github/fetch\">https://github.com/github/fetch</a></p>",
        "id": 165708369,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1557922103
    },
    {
        "content": "<p>Yup, second what <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> said. IE does not support fetch, so you either need the polyfill he linked or a different method for doing http requests</p>",
        "id": 165712004,
        "sender_full_name": "Robert Winterbottom",
        "timestamp": 1557925205
    },
    {
        "content": "<p>so I'm getting to this and looking at the documentation - I don't have a clue how <a href=\"https://github.com/github/fetch\" target=\"_blank\" title=\"https://github.com/github/fetch\">https://github.com/github/fetch</a> can be a contributer to a solution to the problem - the HTML doco looks identical to what I'm doing. Presumably I need to do something.. but the doco says <code>npm install....</code> so I don't know how that can be relevant</p>",
        "id": 166142970,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558415524
    },
    {
        "content": "<p>no. I need help here. I keep thinking I've got this sorted out, and no...</p>",
        "id": 166144493,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558417954
    },
    {
        "content": "<p>so I thought I had figured out how to use <a href=\"https://github.com/github/fetch\" target=\"_blank\" title=\"https://github.com/github/fetch\">https://github.com/github/fetch</a>, but I'm getting an error in IE11:</p>",
        "id": 166144502,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558417983
    },
    {
        "content": "<p><code>SCRIPT5009: 'Promise' is undefined: fetch.umd.js (448,5)</code></p>",
        "id": 166144512,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558418006
    },
    {
        "content": "<p>.. since I thought I was using fetch.umd.js specifically to get things working in IE, I'm stuck....</p>",
        "id": 166144565,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558418087
    },
    {
        "content": "<p>So the <code>npm install</code> bit is if you are using a bundler of some sort, like webpack, rollup, or parcel, to build your website. It will bundle it in and try to minify code for you. Loading it via a script tag should be fine, but it sounds like the polyfill is using promises, which is also not supported in IE11.  If you want to use that polyfill, you will probably need another one for promises (<a href=\"https://github.com/taylorhakes/promise-polyfill\" target=\"_blank\" title=\"https://github.com/taylorhakes/promise-polyfill\">https://github.com/taylorhakes/promise-polyfill</a>). I think you can try adding the <code>&lt;script src=\"https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js\"&gt;&lt;/script&gt;</code> to the head and it should get you closer.  Welcome to the wonderful world of web development :)</p>",
        "id": 166168800,
        "sender_full_name": "Robert Winterbottom",
        "timestamp": 1558442906
    },
    {
        "content": "<p>The fetch documentation's <a href=\"https://github.com/github/fetch#installation\" target=\"_blank\" title=\"https://github.com/github/fetch#installation\">installation section</a> says, \"As an alternative to using npm, you can obtain fetch.umd.js from the Releases section. The UMD distribution is compatible with AMD and CommonJS module loaders, as well as loading directly into a page via &lt;script&gt; tag.\" -- so you don't need npm or a bundler.</p>",
        "id": 166183300,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1558452715
    },
    {
        "content": "<p>thanks Paul, I found line eventually. which led me to the promise problem.</p>",
        "id": 166210320,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558471116
    },
    {
        "content": "<p>btw, Chrome is impossible to deal with here- it will not reload the js... is that something I'm doing wrong?</p>",
        "id": 166210486,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558471217
    },
    {
        "content": "<p>Probably caching your file.  command+shift+r on mac</p>",
        "id": 166210555,
        "sender_full_name": "Nathan Hall",
        "timestamp": 1558471277
    },
    {
        "content": "<p>so other people are having the same problem - I fixed a bug in the js, but they're not getting my fix, even though it's posted. They have to clear their cache manually?</p>",
        "id": 166210788,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558471431
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"196306\">@Robert Winterbottom</span> that fixed it - thanks</p>",
        "id": 166210842,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1558471445
    },
    {
        "content": "<p>yes - I've hit that as well with clinFHIR...</p>",
        "id": 166315762,
        "sender_full_name": "David Hay",
        "timestamp": 1558564735
    },
    {
        "content": "<p>Some build systems will append to the file names a hash code of the file contents for resource files (js, png, etc.) so that URLs for those resources change when the resources change, avoiding caching issues.</p>",
        "id": 166367493,
        "sender_full_name": "Paul Lynch",
        "timestamp": 1558622798
    }
]