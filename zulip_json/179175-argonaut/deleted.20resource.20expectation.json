[
    {
        "content": "<p>I have reviewed the US-Core IG on the topic of deleted resources and resources marked as not active. I am still confused as to what is happening in the real world. From the US-Core IG it seems that a server must throw an error if a query is missing a status parameter. This seems logical, as it drives good clients to be aware that the status element is important. But I am also not clear if this is universal, or if there are systems that are interpreting a missing status parameter as an implied status=active?</p>",
        "id": 204207019,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594993383
    },
    {
        "content": "<p>also, what does a blank resource mean in the section Representing Deleted Information</p>\n<blockquote>\n<p>for patient viewing systems the content of resource SHOULD be removed. In other words a blank resource.</p>\n</blockquote>\n<p>must a server return an blank Resource that has the status marked entered in error? What exactly is blank?<br>\nor is this a client requirement that if it sees an entry in a bundle that is marked as entered in error it MUST show a blank line? Is this an ink line, void, ???</p>",
        "id": 204209299,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594994578
    },
    {
        "content": "<blockquote>\n<p>seems that a server must throw an error if a query is missing a status parameter.</p>\n</blockquote>\n<p>mhh, don't think so. Query with just patient are fine (and the most common ones I guess)</p>",
        "id": 204214428,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1594997142
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/us/core/general-guidance.html#search-for-servers-requiring-status\">http://hl7.org/fhir/us/core/general-guidance.html#search-for-servers-requiring-status</a></p>",
        "id": 204214785,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594997329
    },
    {
        "content": "<p>Yes, it say that a server _might_ require a status parameter, not that it has to - and all server I worked so far do not</p>",
        "id": 204215090,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1594997483
    },
    {
        "content": "<p>so they only return active results (like one might expect)? or they return ALL results (like FHIR core defines)? That is exactly the question I was asking.</p>",
        "id": 204215249,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594997556
    },
    {
        "content": "<p>I sure hope they return all results - that would be against FHIR specs not to</p>",
        "id": 204215323,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1594997595
    },
    {
        "content": "<p>well, that is the question...  Because I have seen a set of FHIR apps that are not including status parameter, and showing entered-in-error the same way they show active... so I figure some server is not behaving, and filtering implicitly.   (Was this different in the DSTU2 days?)</p>",
        "id": 204216700,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594998209
    },
    {
        "content": "<p>a blank resource means a valid resource that only exposed the bare minimum elements e.g. the status or masks the content.</p>\n<p>e.g.</p>\n<p>resourceType: AllergyIntolerance<br>\nclinicalStatus:<br>\n  coding:</p>\n<div class=\"codehilite\"><pre><span></span><code>- system: &#39;http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical&#39;\n  code: entered-in-error\n</code></pre></div>",
        "id": 204217104,
        "sender_full_name": "Eric Haas",
        "timestamp": 1594998397
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191401\">Eric Haas</span> <a href=\"#narrow/stream/179175-argonaut/topic/deleted.20resource.20expectation/near/204217104\">said</a>:</p>\n<blockquote>\n<p>a blank resource means a valid resource that only exposed the bare minimum elements e.g. the status or masks the content.</p>\n<p>e.g.</p>\n<p>resourceType: AllergyIntolerance<br>\nclinicalStatus:<br>\n  coding:</p>\n<div class=\"codehilite\"><pre><span></span><code>- system: &#39;http://terminology.hl7.org/CodeSystem/allergyintolerance-clinical&#39;\n  code: entered-in-error\n</code></pre></div>\n\n\n</blockquote>\n<p>so is this a server responsibility to return these blanks? or is it a client requirement to have a UI blank?</p>",
        "id": 204217204,
        "sender_full_name": "John Moehrke",
        "timestamp": 1594998450
    },
    {
        "content": "<p>I think the servers will be in CYA mode no matter what the spec says</p>",
        "id": 204222615,
        "sender_full_name": "Eric Haas",
        "timestamp": 1595000891
    },
    {
        "content": "<p>so, what there would need to be a blank resource that is compliant with US-Core... and I don't think that can exist... right? What is a compliant blank Observation?</p>",
        "id": 204227357,
        "sender_full_name": "John Moehrke",
        "timestamp": 1595002930
    },
    {
        "content": "<p>yes without a bunch of masking extensions would be invalid  for anything with a min=1.  but  see my  CYA post above</p>",
        "id": 204228040,
        "sender_full_name": "Eric Haas",
        "timestamp": 1595003283
    },
    {
        "content": "<p>make a tracker</p>",
        "id": 204228095,
        "sender_full_name": "Eric Haas",
        "timestamp": 1595003312
    },
    {
        "content": "<p>right, so it would be as blank as FHIR Core, but not likely us-core compliant</p>",
        "id": 204228099,
        "sender_full_name": "John Moehrke",
        "timestamp": 1595003317
    },
    {
        "content": "<p>yea, I think us-core needs to be more clear that the text about blank resource is informative, and not a normative statement. and that it is a possibility for a server to respond this way.  is that what you are thinking the CR would say?</p>",
        "id": 204228289,
        "sender_full_name": "John Moehrke",
        "timestamp": 1595003418
    },
    {
        "content": "<p><a href=\"https://jira.hl7.org/browse/FHIR-28091\">https://jira.hl7.org/browse/FHIR-28091</a></p>",
        "id": 204231457,
        "sender_full_name": "John Moehrke",
        "timestamp": 1595005211
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191404\">@John Moehrke</span> the point of adding that status clarification was to allow servers to be explicit in what they required and be valid per spec. IE: if they had some internal requirement that you have to explicitly ask for in error, then they should fail if you pass in no status since the \"default\" doesn't conform to spec</p>",
        "id": 204237012,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1595008260
    }
]