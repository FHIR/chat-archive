[
    {
        "content": "<p>For <a href=\"https://argonautproject.github.io/clinicalnotes/\" target=\"_blank\" title=\"https://argonautproject.github.io/clinicalnotes/\">https://argonautproject.github.io/clinicalnotes/</a>, a couple of questions:</p>\n<p>1. Does/should the guidance page include some recap of the discussion from the most recent Connectathon, that notes captured in a diagnostic report would be available via <code>DocumentReference</code> in addition to <code>DiagnosticReport</code>? </p>\n<p>2. For notes based on a procedure (e.g., randomly let's talk about <a href=\"https://details.loinc.org/LOINC/30621-7.html\" target=\"_blank\" title=\"https://details.loinc.org/LOINC/30621-7.html\">https://details.loinc.org/LOINC/30621-7.html</a>) would the document be expected to include (more or less) a \"complete note\" including the content described in that LOINC code (e.g., history, impressions, conclusions)? i.e., not just the impressions section? Again, a quick sentence in the guidance page might help.</p>\n<p><span class=\"user-mention\" data-user-id=\"191410\">@Brett Marquard</span></p>",
        "id": 154009876,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1539795424
    },
    {
        "content": "<p>New connectathon guidance isn't present yet -- I plan to add by Monday.</p>",
        "id": 154009878,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1539795518
    },
    {
        "content": "<p>on 2, yes, I would expect the note to be more than just impressions section</p>",
        "id": 154009897,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1539799441
    },
    {
        "content": "<p>I will post a note here when I complete updates to the IG...lots needs to be added and it would be good to have lots of eyes on it!</p>",
        "id": 154009898,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1539799483
    },
    {
        "content": "<p>Expanded guidance is now <a href=\"https://argonautproject.github.io/clinicalnotes/guidance.html#documentreference-vs-diagnosticreport\" target=\"_blank\" title=\"https://argonautproject.github.io/clinicalnotes/guidance.html#documentreference-vs-diagnosticreport\">posted</a>.</p>",
        "id": 154011440,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1540310957
    },
    {
        "content": "<p>I still think <code>$expand</code> feels weird. What is the expected response? A <code>ValueSet</code>?</p>",
        "id": 154011683,
        "sender_full_name": "Jason Walonoski",
        "timestamp": 1540341517
    },
    {
        "content": "<p>yep.</p>",
        "id": 154011797,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1540383030
    },
    {
        "content": "<p><a href=\"http://hl7.org/fhir/us/core/STU3.1/clinical-notes-guidance.html\">http://hl7.org/fhir/us/core/STU3.1/clinical-notes-guidance.html</a> I think I want to make sure I understand the implementation. Is it OK to expose a DiagnosticReport link and a PDF link on DocumentReference? DIdn't we want like cardiology/pathology/radiology report as DiagnosticReport links?</p>",
        "id": 202490306,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593548882
    },
    {
        "content": "<p>I think the spec is saying  to do this:<br>\nDocumentReference.content.attachment.url<br>\n<a href=\"http://www.fhir.com/Binary/12345\">www.fhir.com/Binary/12345</a><br>\nDiagnosticReport.presentedForm.url<br>\n<a href=\"http://www.fhir.com/Binary/12345\">www.fhir.com/Binary/12345</a></p>\n<p>What I thought we intended:<br>\nDocumentReference.content.attachment.url<br>\n<a href=\"http://www.fhir.com/DiagnosticReport/123\">www.fhir.com/DiagnosticReport/123</a><br>\nDiagnosticReport.presentedForm.url<br>\n<a href=\"http://www.fhir.com/Binary/12345\">www.fhir.com/Binary/12345</a></p>\n<p>We can also do this, but doesn't this break/violate the intent of DocumentReference content?:<br>\nDocumentReference.content.attachment.url[0]<br>\n<a href=\"http://www.fhir.com/DiagnosticReport/123\">www.fhir.com/DiagnosticReport/123</a><br>\nDocumentReference.content.attachment.url[1]<br>\n<a href=\"http://www.fhir.com/Binary/12345\">www.fhir.com/Binary/12345</a><br>\nDiagnosticReport.presentedForm.url<br>\n<a href=\"http://www.fhir.com/Binary/12345\">www.fhir.com/Binary/12345</a></p>",
        "id": 202491414,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593549450
    },
    {
        "content": "<p>I am not sure how to respond to all the individual questions on phone so I will say yes.</p>",
        "id": 202494768,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1593551182
    },
    {
        "content": "<p>We intended to have systems that can expose diagnostic Report expose that way</p>",
        "id": 202494808,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1593551208
    },
    {
        "content": "<p>AND expose by document reference. I can write out more tonight when at desk and confirm what made spec</p>",
        "id": 202494856,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1593551237
    },
    {
        "content": "<p>OK I have some concerns and can chat to articulate better, but I think option 3 would be fine, but I think option 2 is ideal.</p>",
        "id": 202494988,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593551284
    },
    {
        "content": "<p>But is option 3 OK under  DocumentReference?</p>",
        "id": 202495150,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593551354
    },
    {
        "content": "<p>We can chat later when you are at desk :-D</p>",
        "id": 202495201,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593551383
    },
    {
        "content": "<p>Nothing is against the rules in DocumentReference... but in the case where the attachment.url is a DiagnosticReport then the mime type would be FHIR and not PDF</p>",
        "id": 202495470,
        "sender_full_name": "John Moehrke",
        "timestamp": 1593551496
    },
    {
        "content": "<p>We understood - and implemented - option (1)</p>",
        "id": 202495553,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1593551537
    },
    {
        "content": "<p>so you need to look at the attachment.contentType to see how to interpret the content at the attachment.url</p>",
        "id": 202495621,
        "sender_full_name": "John Moehrke",
        "timestamp": 1593551580
    },
    {
        "content": "<p>DocumentReference and DiagnosticReport having the same content - that is the actual HTML / PDF / plain text etc of the report</p>",
        "id": 202495644,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1593551599
    },
    {
        "content": "<p>Right, but that sucks for clients.... I as a server know the exact diagnosticreport and can link directly to it for any additional metadata available.</p>",
        "id": 202495784,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593551671
    },
    {
        "content": "<p>In your third option you are itterating at .content[], not at url</p>",
        "id": 202495800,
        "sender_full_name": "John Moehrke",
        "timestamp": 1593551682
    },
    {
        "content": "<p>Right</p>",
        "id": 202495822,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593551696
    },
    {
        "content": "<p>there are 2 contents the diagnosticreport if you are interested and the binary if you don't want/need the additional metadata.</p>",
        "id": 202495987,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593551742
    },
    {
        "content": "<p>fourth option that I would prefer<br>\nDocumentReference.context.related<br>\n<a href=\"http://www.fhir.com/DiagnosticReport/123\">www.fhir.com/DiagnosticReport/123</a><br>\nDocumentReference.content.attachment.url<br>\n<a href=\"http://www.fhir.com/Binary/12345\">www.fhir.com/Binary/12345</a><br>\nDiagnosticReport.presentedForm.url<br>\n<a href=\"http://www.fhir.com/Binary/12345\">www.fhir.com/Binary/12345</a></p>",
        "id": 202496077,
        "sender_full_name": "John Moehrke",
        "timestamp": 1593551783
    },
    {
        "content": "<p>I can get behind that too.</p>",
        "id": 202496165,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593551838
    },
    {
        "content": "<blockquote>\n<p>that sucks for clients</p>\n</blockquote>\n<p>I do not agree. It allows the client to process the content (either presentedForm or content)  always as 'as is' data to be retrieved and stored without processing- much easier</p>",
        "id": 202500550,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1593554283
    },
    {
        "content": "<p>(And we do write clients  - not talking about 'in theory')</p>",
        "id": 202500608,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1593554326
    },
    {
        "content": "<p>I know you are both :-D I suppose you have never cared for any of the metadata that may only exists on disgnosticreport... or the discrete observation references that we are planning to support as part of cures updates then.</p>",
        "id": 202500939,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593554536
    },
    {
        "content": "<p>...we get those directly from the DiagnosticReport resource (?)...</p>",
        "id": 202501093,
        "sender_full_name": "Michele Mottini",
        "timestamp": 1593554643
    },
    {
        "content": "<p>I guess this isn't coming across well here. When you query DIagnosticReport you have no hint that it could be a potential duplicate from a previous DocumentReference . If we return the link directly as part of DocumentReference you can now know that this particular DiagnosticReport is a duplicate of the documentReference, or make a determination to display discrete values because they may be available as part of that direct link instead of having to again search DiagnosticReport.</p>",
        "id": 202501822,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593555153
    },
    {
        "content": "<p>The intent was option 1.</p>",
        "id": 202505621,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1593557999
    },
    {
        "content": "<p>With the errata to update DocumentReference.content from 1.1 to 1..* under discussion next week, i think you will be ok with option 3 also.</p>",
        "id": 202505777,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1593558090
    },
    {
        "content": "<p>how about mandate for alternative 1, with recommendation for the additional linkage I put into alternative 4?</p>",
        "id": 202505795,
        "sender_full_name": "John Moehrke",
        "timestamp": 1593558114
    },
    {
        "content": "<p>I am not sure I have a strong option on 3 vs 4, but I am not sure we should add during this errata update.</p>",
        "id": 202506321,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1593558525
    },
    {
        "content": "<p>Technically nothing in errata would prevent us from implementing that way...</p>",
        "id": 202507018,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593559135
    },
    {
        "content": "<p>We would have 2 contents 1 links to PDF and 1 links to \"raw\" and then I will link to diagnosticreport on context.</p>",
        "id": 202507059,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593559179
    },
    {
        "content": "<p>Nothing in the IG prevents that...</p>",
        "id": 202507065,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593559185
    },
    {
        "content": "<p>In a future version we can include that guidance to formalize it.</p>",
        "id": 202507073,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593559196
    },
    {
        "content": "<p>agreed.</p>",
        "id": 202507352,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1593559425
    },
    {
        "content": "<p>I am cool with that.</p>",
        "id": 202507414,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593559449
    },
    {
        "content": "<p>whew, I can sleep now.</p>",
        "id": 202507424,
        "sender_full_name": "Brett Marquard",
        "timestamp": 1593559460
    },
    {
        "content": "<p>I think it is a pragmatic approach, and lets me make it a little easier for consumers to get the DiagnosticReport.</p>",
        "id": 202507442,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593559484
    },
    {
        "content": "<p>LOL</p>",
        "id": 202507444,
        "sender_full_name": "Drew Torres",
        "timestamp": 1593559485
    }
]