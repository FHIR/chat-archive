[
    {
        "content": "<p>Hello - I noticed a discrepancy in how core FHIR 4.0.1 and USCore 3.1.0 define bound code extensions (i.e., an extension that is restricted to a code type of a given valueset).  </p>\n<ul>\n<li>In FHIR 4.0.1 (e.g., <a href=\"http://hl7.org/fhir/extension-iso21090-ad-use.json.html\" target=\"_blank\" title=\"http://hl7.org/fhir/extension-iso21090-ad-use.json.html\">http://hl7.org/fhir/extension-iso21090-ad-use.json.html</a>), the binding is done on <code>Extension.value[x]</code> (which is limited to code type)</li>\n<li>In USCore 3.1.0 (e.g.,  <a href=\"http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-birthsex.json.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-birthsex.json.html\">http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-birthsex.json.html</a>), the binding is done on <code>Extension.value[x]:valueCode</code></li>\n</ul>",
        "id": 182635581,
        "sender_full_name": "Nick George",
        "timestamp": 1575532354
    },
    {
        "content": "<p>are both of these considered correct?</p>",
        "id": 182635585,
        "sender_full_name": "Nick George",
        "timestamp": 1575532361
    },
    {
        "content": "<p>yes</p>",
        "id": 182641339,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575537802
    },
    {
        "content": "<p>Is that the long term plan?  A bit odd to have two correct ways to do the same thing... means more special case handling, and opens more vectors of incorrect-ness (e.g., if specialization is done on both the choice type itself AND the slice, and they disagree)</p>",
        "id": 182687251,
        "sender_full_name": "Nick George",
        "timestamp": 1575569966
    },
    {
        "content": "<p>I'm not sure</p>",
        "id": 182688100,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575570517
    },
    {
        "content": "<p>Seems to me like we should settle on a correct way to do this, maybe something to talk about in Sydney</p>",
        "id": 182688836,
        "sender_full_name": "Nick George",
        "timestamp": 1575571009
    },
    {
        "content": "<p>Some more examples of similar issues:<br>\neven within US core, this is handled two different ways on two nearly identical extensions:<br>\n<a href=\"http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-ethnicity.json.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-ethnicity.json.html\">http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-ethnicity.json.html</a> vs<br>\n<a href=\"http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-race.json.html\" target=\"_blank\" title=\"http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-race.json.html\">http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-race.json.html</a><br>\none puts the binding on Extension.extension:ombCategory.value[x]<br>\none puts the binding on Extension.extension:ombCategory.value[x]:valueCoding<br>\nThese kinds of arbitrary differences are really taxing on things that read the spec :(</p>",
        "id": 183014229,
        "sender_full_name": "Nick George",
        "timestamp": 1575936132
    },
    {
        "content": "<p>that difference is requirements based</p>",
        "id": 183015143,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575936979
    },
    {
        "content": "<p>how's that? AFAIKT, they're both doing the same thing - it's an extension constrained to a Coding bound to ombCategory codes</p>",
        "id": 183015191,
        "sender_full_name": "Nick George",
        "timestamp": 1575937037
    },
    {
        "content": "<p>different valuesets, but same structure</p>",
        "id": 183015212,
        "sender_full_name": "Nick George",
        "timestamp": 1575937073
    },
    {
        "content": "<p>note, e.g., in the differential view, the difference between valueCoding and value[x] - correct me if I'm wrong but I think they mean the same thingx</p>",
        "id": 183015279,
        "sender_full_name": "Nick George",
        "timestamp": 1575937123
    },
    {
        "content": "<p>now that I've actually looked, I agree. In fact, I thought they would actually both generate the same snapshot, but obviously not. But I think I'm not going to try and fix that right now</p>",
        "id": 183029869,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1575954730
    }
]