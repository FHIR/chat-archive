[
    {
        "content": "<p>When I look at <a href=\"http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.json\" target=\"_blank\" title=\"http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.json\">http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.json</a> I see that the \"argoprofile.category\" element has:</p>\n<div class=\"codehilite\"><pre><span></span>        <span class=\"s2\">&quot;patternCodeableConcept&quot;</span><span class=\"err\">:</span> <span class=\"p\">{</span>\n          <span class=\"nt\">&quot;coding&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n              <span class=\"nt\">&quot;system&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;http://hl7.org/fhir/observation-category&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;code&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;vital-signs&quot;</span><span class=\"p\">,</span>\n              <span class=\"nt\">&quot;userSelected&quot;</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n            <span class=\"p\">}</span>\n          <span class=\"p\">]</span>\n        <span class=\"p\">}</span><span class=\"err\">,</span>\n</pre></div>\n\n\n<p>But the summary table at <a href=\"http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.html#profile\" target=\"_blank\" title=\"http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.html#profile\">http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.html#profile</a> shows:</p>\n<blockquote>\n<p>Required Pattern: {\"coding\":[{\"system\":\"http://hl7.org/fhir/observation-category\",\"code\":\"vital-signs\"}]}</p>\n</blockquote>\n<p>Three questions:</p>\n<p>1. The presence of <code>userSelected</code> appears to be required the actual profile, but not documented in the description table; is this distinction intentional?<br>\n2. Should an instance where <code>userSelected</code> is absent be considered valid? (Currently I think it would be <em>invalid</em>, but that seems odd/undesirable).<br>\n3. Is there a reason to prevent additional codings from being included? I think the semantics of <code>pattern</code> used with an array-type property like <code>CodeableConcept.coding</code> are saying \"no more codings are allowed\" -- but again, this seems odd/undesirable (unless I'm missing the rationale).</p>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span></p>",
        "id": 153999975,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1537974901
    },
    {
        "content": "<p>Cc <span class=\"user-mention\" data-user-id=\"196946\">@Andrew Bjonnes</span></p>",
        "id": 153999977,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1537974988
    },
    {
        "content": "<p>Hmm.  I don't know why the rendered version and the StructureDefinition aren't identical.  They should be.  Based on the StructureDefinition, the pattern is only met if userSelected is present and explicitly false.  The pattern is <em>not</em> saying no more codings are allowed - it's just saying there needs to be at least one coding that matches the pattern.</p>",
        "id": 153999986,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1537976844
    },
    {
        "content": "<p>Can you submit a change request about the tooling bug of rendered pattern and SD pattern not being identical?</p>",
        "id": 153999988,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1537976874
    },
    {
        "content": "<p>I don't remember defining the userSelected field either</p>",
        "id": 153999989,
        "sender_full_name": "Eric Haas",
        "timestamp": 1537976890
    },
    {
        "content": "<p>let me check the source file</p>",
        "id": 153999990,
        "sender_full_name": "Eric Haas",
        "timestamp": 1537977022
    },
    {
        "content": "<blockquote>\n<p>the pattern is not saying no more codings are allowed - it's just saying there needs to be at least one coding that matches the pattern.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"191320\">@Lloyd McKenzie</span> the <a href=\"http://build.fhir.org/elementdefinition-definitions.html#ElementDefinition.pattern_x_\" target=\"_blank\" title=\"http://build.fhir.org/elementdefinition-definitions.html#ElementDefinition.pattern_x_\">docs</a> say</p>\n<blockquote>\n<p>The values of elements present in the pattern must match exactly (case-sensitive, accent-sensitive, etc.)</p>\n</blockquote>\n<p>... which to me means a value like an array needs to match exactly, too -- there's no special semantics defined for arrays, just \"must match exactly\".</p>",
        "id": 153999993,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1537977326
    },
    {
        "content": "<p>Also <span class=\"user-mention\" data-user-id=\"191401\">@Eric Haas</span>: <span class=\"user-mention\" data-user-id=\"196946\">@Andrew Bjonnes</span> has noticed some other discrepancies between the Text representation tab and the structured tabs, across several of the profiles. Would you prefer to have these reported as GitHub issues, or some other way?</p>",
        "id": 153999995,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1537977387
    },
    {
        "content": "<p>GitHub</p>",
        "id": 153999996,
        "sender_full_name": "Eric Haas",
        "timestamp": 1537977449
    },
    {
        "content": "<p>If we need to add clarity, then submit a change request, but the behavior always has been (and has always been intended to be) focused on having a matching repetition.</p>",
        "id": 153999997,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1537977586
    },
    {
        "content": "<p>The source pattern is indeed the same a represented in the summary table.</p>",
        "id": 153999998,
        "sender_full_name": "Eric Haas",
        "timestamp": 1537977589
    },
    {
        "content": "<p>Essentially any elements not stated in the pattern are ignored - missing elements and missing repetitions.</p>",
        "id": 153999999,
        "sender_full_name": "Lloyd McKenzie",
        "timestamp": 1537977628
    },
    {
        "content": "<p>Re: patterns, I added <a href=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18296\" target=\"_blank\" title=\"http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18296\">GF#18296</a></p>",
        "id": 154000029,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1537981248
    }
]