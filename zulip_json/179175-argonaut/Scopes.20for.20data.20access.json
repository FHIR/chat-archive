[
    {
        "content": "<p>Our project on more-granular scopes is going to be particularly important given that ONC's rule <em>requires</em> adoption of resource-level access as defined in SMART v1:</p>\n<blockquote>\n<p>Specifically, this means patients would need to have the ability to authorize access to their EHI at the individual FHIR resource level, from one specific FHIR resource (e.g., “Immunization”) up to all FHIR resources necessary to implement the standard adopted in § 170.213 and implementation specification adopted in § 170.215(a)(2)</p>\n</blockquote>",
        "id": 190087203,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1583770627
    },
    {
        "content": "<p>Does this mean all, at the fhir resource or more granular than the fhir resource?</p>",
        "id": 190087453,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1583770747
    },
    {
        "content": "<p>The current ONC language refers to resource-level scopes. But the standards advancement process means we can define better / more-granular scopes too, and if we do a good job, ONC can point to that and say \"also acceptable\".</p>",
        "id": 190087559,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1583770798
    },
    {
        "content": "<p>Yeah, I think I agree with you <span class=\"user-mention\" data-user-id=\"191912\">@Michele Mottini</span>  -- this isn't something I asked for in my own comments, and I was surprised to see it.</p>",
        "id": 190087780,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1583770891
    },
    {
        "content": "<p>See <a href=\"http://motorcycleguy.blogspot.com/2020/01/fine-grained-access-control-with-smart.html\" target=\"_blank\" title=\"http://motorcycleguy.blogspot.com/2020/01/fine-grained-access-control-with-smart.html\">http://motorcycleguy.blogspot.com/2020/01/fine-grained-access-control-with-smart.html</a> for starters.</p>",
        "id": 190088873,
        "sender_full_name": "Keith Boone",
        "timestamp": 1583771449
    },
    {
        "content": "<p>Then, on scope syntax, I think adding a third layer will suffice that allows a user to request access to information that has certain values in meta.security.  These are coding values, so they can be textually represented as <em>system</em>#<em>code</em>.</p>\n<p>One could request the scope: {Resource}.read.system#code to request read access to resources with a specific tag.<br>\nOne could request {Resource}.read.* to request all tags (the endpoint would enumerate tags allowed in the returned grant)<br>\nIf no security tags are provided, the endpoint could determined tags to allow based on predetermined policy.</p>\n<p>The implementation is free to figure out how tagging is done.  It could be pattern based (e.g., a value set of sensitive observation codes), or through specific attributes of the backing data (e.g., a sensitive flag stored in a database), or through other means.  </p>\n<p>A base set of sensitivity tags can be identified for use in an exchange or region (e.g., US Core) which would be commonly understood.</p>",
        "id": 190089766,
        "sender_full_name": "Keith Boone",
        "timestamp": 1583771957
    },
    {
        "content": "<p>I think supporting tag based rules is great, but actually tackling some semantics about putting decisions in-band (e.g., \"yes share my weight history but not my HIV history\") will also be important this year.</p>",
        "id": 190097842,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1583776401
    },
    {
        "content": "<p>I totally agree that out of band restrictions are very practical, and at the very least we want to highlight that they are allowed, and that we encourage portal developers to experiment</p>",
        "id": 190098079,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1583776521
    },
    {
        "content": "<p>I won't argue that point, but I think that's a whole separate set of concerns that should be addressed separately from the access control scope negotiation.  It's a different set of endpoints at least that the patient needs to be able to use to manage those sorts of decisions.</p>",
        "id": 190098094,
        "sender_full_name": "Keith Boone",
        "timestamp": 1583776531
    },
    {
        "content": "<p>I'd love to put an hour on the calendar for the two of us to talk through some of this stuff if you are up for that?</p>",
        "id": 190111397,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1583784105
    },
    {
        "content": "<p>Yep.</p>",
        "id": 190111465,
        "sender_full_name": "Keith Boone",
        "timestamp": 1583784131
    },
    {
        "content": "<p>(same offer stands for anyone here with a perspective -- I'm trying to take better advantage of one-on-one meetings to really understand where people are coming from on complex topics.)</p>",
        "id": 190111476,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1583784142
    },
    {
        "content": "<p>There is already some IG that have started within Security WG that intend to provide subsets of the large valueset of HCS code for specific use-cases. This effort is not clear it would address scope impact, but could.  I think these use-case specific IG are the right approach as the use-cases we need to address are going to get more specific. Interactions between various IG must be built into this library of security/privacy IG</p>",
        "id": 190398406,
        "sender_full_name": "John Moehrke",
        "timestamp": 1584024786
    },
    {
        "content": "<p>The security WG is eager to get going on a new SMART... but we need more stakeholders, like those from the Argonaut group (and others). The security wg is the right place to host this, but doesn't tend to have sufficient stakeholder cohort. So please help me create a cohort that wants to work on this</p>",
        "id": 190398678,
        "sender_full_name": "John Moehrke",
        "timestamp": 1584024893
    },
    {
        "content": "<p>We're planning to run an Argonaut project launching next week -- so at least we should have a good community driving requirements and sketching out guidance. The interaction between those meetings and Security WG calls is something we should talk through; I expect the general process flow will follow previous Argonaut projects.</p>",
        "id": 190399481,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584025236
    },
    {
        "content": "<p>please encourage them to expand their thinking to security WG, not just argonaut. I very much understand the value of a smaller community, but we can't continue to have 'not invented here' around the standards community</p>",
        "id": 190400026,
        "sender_full_name": "John Moehrke",
        "timestamp": 1584025482
    },
    {
        "content": "<p>Totally agree -- that's why this is an open community project hosted in HL7, by the Argonaut \"standards accelerator\". Would love to have your participation.</p>",
        "id": 190400246,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1584025605
    },
    {
        "content": "<p>If I'm a payer and I have proprietary scopes defined for OAuth2 and retrieval of PHI, can I use those in the authorization process and be compliant with SMART Application Launch Framework or should I be using scopes that are resource specific as stated in the spec?</p>",
        "id": 207896228,
        "sender_full_name": "Douglas DeShazo",
        "timestamp": 1598302395
    },
    {
        "content": "<p>If you are hosting a fhir API, then the expectation is that you would support smart scopes. If you need to expose access to something other than fhir resources, you can always extend the scope set -- we recommend prefixing any such \"extension\" scopes with <code>__</code> to ensure that your names never conflict with Scopes that we define in the future.</p>",
        "id": 207896394,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1598302494
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span></p>",
        "id": 207897389,
        "sender_full_name": "Douglas DeShazo",
        "timestamp": 1598303068
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"191315\">Josh Mandel</span> <a href=\"#narrow/stream/179175-argonaut/topic/Scopes.20for.20data.20access/near/207896394\">said</a>:</p>\n<blockquote>\n<p>If you are hosting a fhir API, then the expectation is that you would support smart scopes. If you need to expose access to something other than fhir resources, you can always extend the scope set -- we recommend prefixing any such \"extension\" scopes with <code>__</code> to ensure that your names never conflict with Scopes that we define in the future.</p>\n</blockquote>\n<p>Correction. If you are declaring support for SMART-on-FHIR, then...   SMART-on-FHIR is just one of many implementation guides on OAuth standard for use with FHIR.  There might be a stronger desire to use SMART-on-FHIR in the argonaut community, but it is not absolute..... right <span class=\"user-mention\" data-user-id=\"191315\">@Josh Mandel</span> ?</p>",
        "id": 207958249,
        "sender_full_name": "John Moehrke",
        "timestamp": 1598359962
    },
    {
        "content": "<p>To be clear, the initial question was about how to be compliant with the SMART App Launch IG.</p>\n<p>In the context of the Argonaut project and more broadly in the context of ONC's US EHR certification program, the SMART App Launch specification is a requirement, which of course drives wider interest. These requirements in turn flow out to payers, since CMS named the ONC-adopted SMART IG in their final rule as well.</p>",
        "id": 207963714,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1598362821
    },
    {
        "content": "<p>(Even more broadly: John is correct that a FHIR server can implement any kind of security system it wants if no other constraints or obligations apply. We do encourage folks to take advantage of SMART or specific pieces that are useful -- like scopes -- rather than reinventing the wheel.)</p>",
        "id": 207963785,
        "sender_full_name": "Josh Mandel",
        "timestamp": 1598362868
    }
]