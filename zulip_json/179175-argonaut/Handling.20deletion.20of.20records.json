[
    {
        "content": "<p>hi all - raising an issue on behalf of some consumers of the argonaut interface: how do we expect argonaut interfaces to handle deletion of records.</p>",
        "id": 153953259,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524170569
    },
    {
        "content": "<p>the scenario goes like this:</p>",
        "id": 153953260,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524170577
    },
    {
        "content": "<ul>\n<li>a patient had his medication discontinued in the EHR</li>\n<li>the patient's PHR still showed the medication </li>\n<li>that's because the Argonaut interface from by which the data was accessed simply stopped including the medication order in their responses</li>\n<li>the PHR was expecting the status of the medication order to be updated, not for the resource to simply stop being reported</li>\n</ul>",
        "id": 153953261,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524170725
    },
    {
        "content": "<p>when I was asked about this, I consulted the argonaut guide, which says nothing about it.</p>",
        "id": 153953262,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524170749
    },
    {
        "content": "<p>generally, a consumer system can do either:</p>\n<ul>\n<li>know that it always gets snapshots, and delete anything not repeated (and never ask for updates)</li>\n<li>expect status changes to show what is not current</li>\n</ul>",
        "id": 153953263,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524170794
    },
    {
        "content": "<p>FHIR expects the second.</p>",
        "id": 153953264,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524170814
    },
    {
        "content": "<p>I think that argonaut needs some agreement about this. It's clearly a safety issue</p>",
        "id": 153953265,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524170843
    },
    {
        "content": "<p>The status element are required.  but that is different than deletion of records.  Wouldn't you get a 410 status code back?</p>",
        "id": 153953268,
        "sender_full_name": "Eric Haas",
        "timestamp": 1524171102
    },
    {
        "content": "<p>if you read the resource again. but when would you do that?</p>",
        "id": 153953269,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524171162
    },
    {
        "content": "<p>Possible mechanism: Provenance record is created to record the Delete act.  This is a use-case for why Provenance supports Delete. See <a href=\"http://build.fhir.org/provenance.html#6.3.4.4\" target=\"_blank\" title=\"http://build.fhir.org/provenance.html#6.3.4.4\">http://build.fhir.org/provenance.html#6.3.4.4</a></p>",
        "id": 153953338,
        "sender_full_name": "John Moehrke",
        "timestamp": 1524225726
    },
    {
        "content": "<p>still have to read the resource.</p>",
        "id": 153953414,
        "sender_full_name": "Eric Haas",
        "timestamp": 1524240323
    },
    {
        "content": "<p>The way our FHIR server handles this is first and foremost: there is no such thing as \"delete\" for most clinically significant resources such as medications :)</p>",
        "id": 153953422,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1524242363
    },
    {
        "content": "<p>With that assumption, for patient views, we send back the resource with an entered-in-error status if it's removed due to that reason. All else is essentially blank on the resource, but that way systems know to remove it</p>",
        "id": 153953423,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1524242402
    },
    {
        "content": "<p>If it's a clinician or system viewing the data, they'll get the entered-in-error back along with more details that the patient wouldn't be able to see</p>",
        "id": 153953424,
        "sender_full_name": "Jenni Syed",
        "timestamp": 1524242432
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"191864\">@Isaac Vetter</span> / <span class=\"user-mention\" data-user-id=\"191914\">@Danielle Friend</span> can you comment?</p>",
        "id": 153953461,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524258614
    },
    {
        "content": "<p>Hey Grahame - we also use the status field. Including support for the entered-in-error status.</p>",
        "id": 153953471,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1524261378
    },
    {
        "content": "<p>ok  thanks. I think we should document this explicitly</p>",
        "id": 153953473,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524263058
    },
    {
        "content": "<p>I'll create tracker on github and gforge for Argo/USCore</p>",
        "id": 153953481,
        "sender_full_name": "Eric Haas",
        "timestamp": 1524272131
    },
    {
        "content": "<p>great thanks</p>",
        "id": 153953482,
        "sender_full_name": "Grahame Grieve",
        "timestamp": 1524273674
    },
    {
        "content": "<p>Hey Everybody - I wanted to clarify/correct my above answer. The Epic FHIR server's intent for  a MedicationOrder?patient search is to return the patient's active med list. To get medications with other statuses, a client must specify the statuses that they wish to receive, but the active status must also be specified. </p>\n<p>The MedicationOrder.status values that can  be searched only include active,stopped and completed. I was wrong to suggest that entered-in-error is a searchable status. This behavior is how our MedOrder resource has worked since it's initial release and is documented in our various portals, including <a href=\"https://open.epic.com/Clinical/FHIR?whereTo=medication\" target=\"_blank\" title=\"https://open.epic.com/Clinical/FHIR?whereTo=medication\">open.epic</a> and App Orchard.</p>",
        "id": 153953506,
        "sender_full_name": "Isaac Vetter",
        "timestamp": 1524450796
    }
]