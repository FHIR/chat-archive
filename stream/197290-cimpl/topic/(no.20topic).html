---
layout: page
title: "FHIR Chat  · (no topic) · cimpl"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/197290-cimpl/index.html">cimpl</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/197290-cimpl/topic/(no.20topic).html">(no topic)</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176598964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/197290-cimpl/topic/%28no%20topic%29/near/176598964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kurt Allen <a href="https://fhir.github.io/chat-archive/stream/197290-cimpl/topic/(no.20topic).html#176598964">(Sep 25 2019 at 19:42)</a>:</h4>
<p>This is  kinda a follow on to my previous sliceing question.<br>
I get the following error when I try to slice Observation.hasMember <br>
ERROR 13046:  'Mapping to undefined parameter 's hasMember (slice # = 1): slice could not be found.'</p>
<p>My code is as follows.</p>
<p>Observation:<br>
Entry: Observation<br>
Property: HasMemberSlices 0..1</p>
<p>Group: HasMemberSlices<br>
Property: HasMemberSlice 0..*<br>
                                                                                                                                            // ConvertFhirClass.cs:340<br>
Group: HasMemberSlice<br>
Property: HasMember 1..1<br>
                                                                                                                                            // ConvertFhirClass.cs:343<br>
Element: HasMember<br>
Value: fhir.observation.Observation<br>
    or fhir.questionnaireresponse.QuestionnaireResponse<br>
    or fhir.molecularsequence.MolecularSequence</p>
<p>Entry: BreastRadiologyObservation<br>
Parent: Observation<br>
    HasMemberSlices.HasMemberSlice<br>
    includes PatientHistory 0..1</p>
<p>Group: PatientHistory<br>
Parent: HasMemberSlice<br>
    HasMember only BreastRadiologyObservationPatientHistory</p>
<p>Entry: BreastRadiologyObservationPatientHistory<br>
Parent: Observation</p>
<p>and my mapping file is</p>
<p>BreastRadiologyObservation maps to Observation:<br>
    HasMemberSlices.PatientHistory.HasMember maps to hasMember (slice # = 1)</p>
<p>What am I doing wrong??<br>
Thanks in advance!<br>
Kurt A.</p>
<p><a href="/user_uploads/10155/PhFgi1oO8fVNX5YIJKaAhV8o/Observation.txt" target="_blank" title="Observation.txt">Observation.txt</a> <a href="/user_uploads/10155/Xhq3eyORuoeA_wChx4CFR_zw/Observation_map_r4.txt" target="_blank" title="Observation_map_r4.txt">Observation_map_r4.txt</a> <br>
<a href="/user_uploads/10155/XRE5HkHfLR3EbTL5y5y6shg8/BreastRadiologyObservation.txt" target="_blank" title="BreastRadiologyObservation.txt">BreastRadiologyObservation.txt</a> <a href="/user_uploads/10155/eX_fzflHOH-DKqygk-u7m-0F/BreastRadiologyObservation_map.r4.txt" target="_blank" title="BreastRadiologyObservation_map.r4.txt">BreastRadiologyObservation_map.r4.txt</a> <a href="/user_uploads/10155/PDriP71JsYm1Q_PJY_uGt8uH/BreastRadiologyObservationPatientHistory.txt" target="_blank" title="BreastRadiologyObservationPatientHistory.txt">BreastRadiologyObservationPatientHistory.txt</a></p>



<a name="176605126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/197290-cimpl/topic/%28no%20topic%29/near/176605126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/197290-cimpl/topic/(no.20topic).html#176605126">(Sep 25 2019 at 21:01)</a>:</h4>
<p>So the basic error is that the <code>slice #</code> construct is only used to map something to an <em>existing</em> slice in an <em>existing</em> profile.  For example, if your class mapped to the official FHIR BP file, you could map your elements to the existing <code>SystolicBP</code> and <code>DiastolicBP</code> slices by their numbers (the order in which they show up in the profile).</p>
<p>In your case, there is no existing profile w/ slices, so the <code>slice #</code> construct doesn't apply.  You would need to use one of the other constructs.  There is slicing documentation here: <a href="http://standardhealthrecord.org/cimpl-doc/#cimpl6LanguageReference/#slicing" target="_blank" title="http://standardhealthrecord.org/cimpl-doc/#cimpl6LanguageReference/#slicing">http://standardhealthrecord.org/cimpl-doc/#cimpl6LanguageReference/#slicing</a> (but beware, it's complicated!).</p>
<p>That said, I'm not sure if the current structure you've laid out will work well with how we slice anyway.  I think the the target being a choice of <code>Observation</code>, <code>QuestionnaireResponse</code>, or <code>MolecularSequence</code> makes things trickier.  <span class="user-mention" data-user-id="191447">@Mark Kramer</span> -- any ideas for how to model this?  Because of the choice, I don't think we can use "includes", although I may be wrong.</p>



<a name="176612193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/197290-cimpl/topic/%28no%20topic%29/near/176612193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kurt Allen <a href="https://fhir.github.io/chat-archive/stream/197290-cimpl/topic/(no.20topic).html#176612193">(Sep 25 2019 at 22:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span>  and <span class="user-mention" data-user-id="191447">@Mark Kramer</span>  I can constrain the choice to be just observation (the base code was auto generated from the fhir structure def's), so I could derive from the base class and constrain that field.<br>
It is kinda a problem that hasMember is not a backbone element with a Code associated with each instance. <span class="user-mention" data-user-id="191447">@Mark Kramer</span> Is this worthy of a request to the Fhir Gods?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
