---
layout: page
title: "FHIR Chat  · HAPI FHIR 5.3.0 · norway"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179226-norway/index.html">norway</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html">HAPI FHIR 5.3.0</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="226689065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226689065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226689065">(Feb 17 2021 at 17:00)</a>:</h4>
<p>Hei norske gutter (<span class="user-mention" data-user-id="192681">@Espen Stranger Seland</span> <span class="user-mention" data-user-id="192856">@Thomas Tveit Rosenlund</span>  <span class="user-mention" data-user-id="192654">@Øyvind Aassve</span> ) - jeg tænkte det ville være bra for jer at kende til en ny feature (<a href="https://github.com/hapifhir/hapi-fhir/pull/2264">https://github.com/hapifhir/hapi-fhir/pull/2264</a>) i HAPI FHIR 5.3.0 som jeg har anvendt sammen med <span class="user-mention" data-user-id="295892">@MedCom FHIR Team</span> . Det gør at man kan validere en ressource på det tidspunkt hvor den gemmes. Sat sammen med featuren for at kunne loade Implementation Guide, så giver det muligheden for kunne sætte en hel FHIR server op med fuld validering fra en implementation guide. Dette har jeg gjort for MedCom i DK. Jeg tænker i bør overveje at gøre det samme. Giv lyd hvis I skal have hjælp til det.</p>



<a name="226689530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226689530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226689530">(Feb 17 2021 at 17:03)</a>:</h4>
<p>Det blev en del af HAPI FHIR starter projektet med mit PR (<a href="https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/210">https://github.com/hapifhir/hapi-fhir-jpaserver-starter/pull/210</a>)</p>



<a name="226700813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226700813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Tveit Rosenlund <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226700813">(Feb 17 2021 at 18:17)</a>:</h4>
<p>Interessant <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> <br>
<span class="user-mention" data-user-id="192715">@Michal Cermak</span>  kanskje av interesse for deg også?</p>
<p>Er det ved POST/PUT av ressurser til server som er use-caset her? <br>
Noterer man da i meta hvilken profil definisjon instansen er validert  mot, og hvordan sier man i meta at det faktisk er gjort en validering?</p>



<a name="226702893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226702893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226702893">(Feb 17 2021 at 18:29)</a>:</h4>
<p>Korrekt (dokumentationen er her <a href="https://hapifhir.io/hapi-fhir/docs/validation/repository_validating_interceptor.html">https://hapifhir.io/hapi-fhir/docs/validation/repository_validating_interceptor.html</a>). De ressourcer som der modtages via PUT/POST/PATCH, valideres i forhold til det som er angivet i meta.profile.</p>



<a name="226703213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226703213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226703213">(Feb 17 2021 at 18:30)</a>:</h4>
<p>Så hvis I har en Implementation Guide, og denne installeres (det gøres nemt i HAPI FHIR starter), så vil alle resourcer der sendes til serveren validere i forhold til det som er angivet i selve ressourcen - automatisk.</p>



<a name="226703307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226703307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226703307">(Feb 17 2021 at 18:31)</a>:</h4>
<p>Det gør der MEGET let at sætte servere op til test og prototype brug hvis man har en implementation guide.</p>



<a name="226703380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226703380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226703380">(Feb 17 2021 at 18:31)</a>:</h4>
<p>faktisk behøves man ikk engang en implementation guide. Hvis blot man har sine StructureDefs og sidde gemmes på serveren, så er det også nok</p>



<a name="226703459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226703459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226703459">(Feb 17 2021 at 18:32)</a>:</h4>
<p>Jeg kan godt give en demo næste gang vi tales ved</p>



<a name="226772547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226772547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Espen Stranger Seland <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226772547">(Feb 18 2021 at 07:10)</a>:</h4>
<p>Det virker spennende - kanskje det kunne vært fint med en kort presentasjon på vår FHIR Fagforum? <span class="user-mention" data-user-id="192856">@Thomas Tveit Rosenlund</span> @*<em>Øyvind Aassve</em></p>



<a name="226775348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226775348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Tveit Rosenlund <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226775348">(Feb 18 2021 at 07:54)</a>:</h4>
<p>Ser ut som man kan tagge meta med valideringsresultat. Bra! Virker som en veldig nyttig funksjon.</p>



<a name="226830751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226830751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226830751">(Feb 18 2021 at 15:51)</a>:</h4>
<p>Hvis i kan give mig et link til en af jeres IG'er så laver vi en live demo</p>



<a name="226927490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226927490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Tveit Rosenlund <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226927490">(Feb 19 2021 at 07:11)</a>:</h4>
<p>Må den ha en IG ressurs, eller kan den ta ting fra SIMPLIFIER?<br>
Vi publiserer foreløpig bare IG'er på SIMPLIFIER med pakker slik som denne: <br>
<a href="https://simplifier.net/guide/masterpersonindexr4/servicesforpersoninformation">https://simplifier.net/guide/masterpersonindexr4/servicesforpersoninformation</a><br>
<a href="https://simplifier.net/Grunndata-R4/~packages">https://simplifier.net/Grunndata-R4/~packages</a></p>



<a name="226963118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226963118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226963118">(Feb 19 2021 at 13:33)</a>:</h4>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span> <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span>the IG above - would that be listed in a registry / downloadable as a FHIR IG package.tgz file somewhere?</p>



<a name="226973334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226973334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226973334">(Feb 19 2021 at 14:51)</a>:</h4>
<p>Nevermind ... found it at <a href="https://simplifier.net/packages/ehelse.fhir.no.grunndata/2.3.5">https://simplifier.net/packages/ehelse.fhir.no.grunndata/2.3.5</a> under the npm tab</p>



<a name="226984198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/226984198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#226984198">(Feb 19 2021 at 16:01)</a>:</h4>
<p><span class="user-mention" data-user-id="192856">@Thomas Tveit Rosenlund</span> .... looks like there are issues with the IG:</p>
<div class="codehilite"><pre><span></span><code>StructureDefinition/no-basis-AllergyIntolerance
    at ca.uhn.fhir.jpa.packages.PackageInstallerSvcImpl.install(PackageInstallerSvcImpl.java:225)
    at ca.uhn.fhir.jpa.packages.PackageInstallerSvcImpl.install(PackageInstallerSvcImpl.java:175)
    at ca.uhn.fhir.jpa.starter.BaseJpaRestfulServer.initialize(BaseJpaRestfulServer.java:360)
    at ca.uhn.fhir.jpa.starter.JpaRestfulServer.initialize(JpaRestfulServer.java:22)
    at ca.uhn.fhir.rest.server.RestfulServer.init(RestfulServer.java:1285)
    at javax.servlet.GenericServlet.init(GenericServlet.java:203)
    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1134)
    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:986)
    at org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.load(TomcatEmbeddedContext.java:82)
    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:274)
    at java.base/java.util.TreeMap$ValueSpliterator.forEachRemaining(TreeMap.java:3177)
    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)
    at org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.lambda$deferredLoadOnStartup$0(TomcatEmbeddedContext.java:65)
    at org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.doWithThreadContextClassLoader(TomcatEmbeddedContext.java:106)
    at org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.deferredLoadOnStartup(TomcatEmbeddedContext.java:64)
    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.performDeferredLoadOnStartup(TomcatWebServer.java:305)
    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:216)
    at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43)
    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)
    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)
    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)
    at java.base/java.lang.Iterable.forEach(Iterable.java:75)
    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)
    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)
    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:940)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591)
    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)
    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767)
    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)
    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)
    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326)
    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309)
    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298)
    at ca.uhn.fhir.jpa.starter.Application.main(Application.java:33)
Caused by: ca.uhn.fhir.jpa.packages.ImplementationGuideInstallationException: Failure when generating snapshot of StructureDefinition: StructureDefinition/no-basis-AllergyIntolerance
    at ca.uhn.fhir.jpa.packages.PackageInstallerSvcImpl.generateSnapshot(PackageInstallerSvcImpl.java:413)
    at ca.uhn.fhir.jpa.packages.PackageInstallerSvcImpl.install(PackageInstallerSvcImpl.java:221)
    ... 41 common frames omitted
Caused by: ca.uhn.fhir.rest.server.exceptions.InternalErrorException: Failed to generate snapshot
    at org.hl7.fhir.common.hapi.validation.support.SnapshotGeneratingValidationSupport.generateSnapshot(SnapshotGeneratingValidationSupport.java:134)
    at org.hl7.fhir.common.hapi.validation.support.ValidationSupportChain.generateSnapshot(ValidationSupportChain.java:66)
    at org.hl7.fhir.common.hapi.validation.support.BaseValidationSupportWrapper.generateSnapshot(BaseValidationSupportWrapper.java:94)
    at ca.uhn.fhir.jpa.packages.PackageInstallerSvcImpl.generateSnapshot(PackageInstallerSvcImpl.java:411)
    ... 42 common frames omitted
Caused by: org.hl7.fhir.exceptions.DefinitionException: Attempt to a slice an element that does not repeat: AllergyIntolerance.code/AllergyIntolerance.code from http://hl7.org/fhir/StructureDefinition/CodeableConcept in null, at element AllergyIntolerance.code (slice = ATC, FESTSubstance, FESTMedication)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1389)
    at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:639)
    at org.hl7.fhir.common.hapi.validation.support.SnapshotGeneratingValidationSupport.generateSnapshot(SnapshotGeneratingValidationSupport.java:104)
    ... 45 common frames omitted
</code></pre></div>



<a name="227238725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227238725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227238725">(Feb 22 2021 at 09:23)</a>:</h4>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span> I imagine that error (<span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span>) would also prevent you guys from loading the IG. Does simplifier list any warnings for the profiles once uploaded?</p>



<a name="227254318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227254318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227254318">(Feb 22 2021 at 11:48)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191427">@Jens Villadsen</span>,</p>
<p>You can download any package from the UI, after logging in with free account:<br>
<a href="/user_uploads/10155/5yq0Kc64qvMbLNrwJt8XCUnZ/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/5yq0Kc64qvMbLNrwJt8XCUnZ/image.png" title="image.png"><img src="/user_uploads/10155/5yq0Kc64qvMbLNrwJt8XCUnZ/image.png"></a></div><p>The validation of no-basis-AllergyIntolerance looks clean (at least on the development version of it) in <a href="http://Simplifier.net">Simplifier.net</a>: <a href="https://simplifier.net/hl7norwayno-basis/nobasisallergyintolerance/$validate">https://simplifier.net/hl7norwayno-basis/nobasisallergyintolerance/$validate</a><br>
It doesn't seem like the Firely .NET SDK snapshot generator has problems with generating a snapshot for that / the validator does not complain about slicing a non-repeating element. I'll check with the team whether they think we should/are working on that.</p>



<a name="227258352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227258352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227258352">(Feb 22 2021 at 12:25)</a>:</h4>
<p>lol (<span class="user-mention" data-user-id="203235">@Ward Weistra</span> I ended up 'reverse engineering' what the download did fetch using the npm way - I didn't even see the download button <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span> )</p>



<a name="227258459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227258459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227258459">(Feb 22 2021 at 12:26)</a>:</h4>
<p>But great if you can get the team to confirm whether there's a bug in the java or the .net impl</p>



<a name="227259510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227259510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227259510">(Feb 22 2021 at 12:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> So apparently, it's a long discussion whether slicing on non-repeating elements is allowed. I'll try to summarize what <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> relayed to me before he has time to respond:</p>
<ul>
<li>Feb 2017 thread: <a href="#narrow/stream/179166-implementers/topic/Slicing.20non-repeating.20elements.20to.20define.20a.20choice">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/Slicing.20non-repeating.20elements.20to.20define.20a.20choice</a></li>
</ul>



<a name="227259522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227259522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227259522">(Feb 22 2021 at 12:36)</a>:</h4>
<p><span class="user-mention" data-user-id="372944">@Firely Bot</span> issue show <a href="http://jira.hl7.org/browse/FHIR-28619">FHIR-28619</a></p>



<a name="227259534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227259534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Firely Bot <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227259534">(Feb 22 2021 at 12:36)</a>:</h4>
<p><strong><a href="https://jira.hl7.org/browse/FHIR-28619">FHIR-28619 Allow slicing of a non-repeating element to define a choice </a></strong><br>
Status: <strong>Resolved - No Change</strong>, Type: <strong>Change Request</strong></p>



<a name="227259617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227259617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227259617">(Feb 22 2021 at 12:37)</a>:</h4>
<p>Recent ticket <span aria-label="point up" class="emoji emoji-1f446" role="img" title="point up">:point_up:</span><br>
Conclusion seems to be our Snapshot generator is able to handle it, but for Java stack it would be hard to implement. So perhaps we should remove it again, given the ticket resolution.</p>



<a name="227259726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227259726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227259726">(Feb 22 2021 at 12:38)</a>:</h4>
<p>But <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> also wondered whether the situation in question isn't type slicing, where it still could be allowed.</p>



<a name="227260584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227260584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227260584">(Feb 22 2021 at 12:47)</a>:</h4>
<p>Oh my ... its 'just' a discussion going back to 2017 ... yikes</p>



<a name="227490070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227490070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227490070">(Feb 23 2021 at 19:34)</a>:</h4>
<p>Removing something that works well is soooo painful.</p>



<a name="227490182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227490182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227490182">(Feb 23 2021 at 19:35)</a>:</h4>
<p>This is where we remove it, and add it back using an Option setting in the validator.  "Naughty validation mode".</p>



<a name="227761542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179226-norway/topic/HAPI%20FHIR%205.3.0/near/227761542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Tveit Rosenlund <a href="https://fhir.github.io/chat-archive/stream/179226-norway/topic/HAPI.20FHIR.205.2E3.2E0.html#227761542">(Feb 25 2021 at 12:52)</a>:</h4>
<p>I am aware of this bug in the no-basis profiles. One of the reasons we kept doing this for so long was that the .NET validator did not complain, however the java validator have been complaining for some time, this has not always been the case. Before our first release of these profiles I did validate everything using the java validator, and it was all OK (did not try snapshot generation in the IG publisher however). We have to fix this using one of the methods proposed in that old thread regarding slicing of non-repeating elements. </p>
<p>Turns out we already have an issue to clean this up already, it has been down to time/resource related issues I guess... <a href="https://github.com/HL7Norway/basisprofiler-r4/issues/55">https://github.com/HL7Norway/basisprofiler-r4/issues/55</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
