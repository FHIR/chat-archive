---
layout: page
title: "FHIR Chat  · fhircast-docs / issue #381 clarify asynchronous Hub rejec... · fhircast-github"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/index.html">fhircast-github</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20issue.20.23381.20clarify.20asynchronous.20Hub.20rejec.2E.2E.2E.html">fhircast-docs / issue #381 clarify asynchronous Hub rejec...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272963442"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179269-fhircast-github/topic/fhircast-docs%20/%20issue%20%23381%20clarify%20asynchronous%20Hub%20rejec.../near/272963442" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications (FHIRcast) <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20issue.20.23381.20clarify.20asynchronous.20Hub.20rejec.2E.2E.2E.html#272963442">(Feb 23 2022 at 15:26)</a>:</h4>
<p>isaacvetter opened <a href="https://github.com/HL7/fhircast-docs/issues/381">issue #381</a>:</p>
<blockquote>
<p>The language here: <a href="http://fhircast.org/specification/STU2/#request-context-change">http://fhircast.org/specification/STU2/#request-context-change</a> describes how the hub can asynchronously reject  a context change before distributing it to the other applications:</p>
<div class="codehilite"><pre><span></span><code>Similar to the Hub&#39;s notifications to the subscriber, the subscriber MAY request context changes with an HTTP POST to the hub.url. The Hub SHALL either accept this context change by responding with any successful HTTP status or reject it by responding with any 4xx or 5xx HTTP status. Similar to event notifications, described above, the Hub MAY also respond with a 202 (Accepted) status, process the request, and then later**, instead of broadcasting the context change,** respond with a syncerror event in order to reject the request.  **In this specific case in which the context change is rejected by the Hub and not broadcasted,** the syncerror would only be sent to the requestor. The **requestor** SHALL be capable of gracefully handling a rejected context request.

Once a requested context change is accepted, the Hub SHALL broadcast the context notification to all subscribers, including the original requestor. The requestor can use the broadcasted notification as confirmation of their request. The Hub reusing the request&#39;s id is further confirmation that the event is a result of their request.
</code></pre></div>
</blockquote>



<a name="272963880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179269-fhircast-github/topic/fhircast-docs%20/%20issue%20%23381%20clarify%20asynchronous%20Hub%20rejec.../near/272963880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications (FHIRcast) <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20issue.20.23381.20clarify.20asynchronous.20Hub.20rejec.2E.2E.2E.html#272963880">(Feb 23 2022 at 15:28)</a>:</h4>
<p>isaacvetter edited <a href="https://github.com/HL7/fhircast-docs/issues/381">issue #381</a>:</p>
<blockquote>
<p>The language here: <a href="http://fhircast.org/specification/STU2/#request-context-change">http://fhircast.org/specification/STU2/#request-context-change</a> describes how the hub can asynchronously reject a context change before distributing it to the other applications. This caused confusion/questions during the FHIRcast Hackathon today, because it wasn't clear that this was describing a special case of the Hub rejecting the context change and therefore generating a syncerror, vs the typical use of syncerror, in which the context event is broadcasted and one of the subscribing applications generates a syncerror and it's distributed.</p>
<p>New or changed text in bold. This should be a nonfunctional clarification.</p>
<blockquote>
<p>Similar to the Hub's notifications to the subscriber, the subscriber MAY request context changes with an HTTP POST to the hub.url. The Hub SHALL either accept this context change by responding with any successful HTTP status or reject it by responding with any 4xx or 5xx HTTP status. Similar to event notifications, described above, the Hub MAY also respond with a 202 (Accepted) status, process the request, and then later<strong>, instead of broadcasting the context change,</strong> respond with a syncerror event in order to reject the request.  <strong>In this specific case in which the context change is rejected by the Hub and not broadcasted,</strong> the syncerror would only be sent to the requestor. The <strong>requestor</strong> SHALL be capable of gracefully handling a rejected context request.</p>
<p>Once a requested context change is accepted, the Hub SHALL broadcast the context notification to all subscribers, including the original requestor. The requestor can use the broadcasted notification as confirmation of their request. The Hub reusing the request's id is further confirmation that the event is a result of their request.</p>
</blockquote>
</blockquote>



<a name="272964103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179269-fhircast-github/topic/fhircast-docs%20/%20issue%20%23381%20clarify%20asynchronous%20Hub%20rejec.../near/272964103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications (FHIRcast) <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20issue.20.23381.20clarify.20asynchronous.20Hub.20rejec.2E.2E.2E.html#272964103">(Feb 23 2022 at 15:30)</a>:</h4>
<p>isaacvetter edited <a href="https://github.com/HL7/fhircast-docs/issues/381">issue #381</a>:</p>
<blockquote>
<p>The language here: <a href="http://fhircast.org/specification/STU2/#request-context-change">http://fhircast.org/specification/STU2/#request-context-change</a> describes how the hub can asynchronously reject a context change before distributing it to the other applications. This caused confusion/questions during the FHIRcast Hackathon today, because it wasn't clear that this was describing a special case of the Hub rejecting the context change and therefore generating a syncerror, vs the typical use of syncerror, in which the context event is broadcasted and one of the subscribing applications generates a syncerror and it's distributed.</p>
<p>New or changed text in bold. This should be a nonfunctional clarification.</p>
<blockquote>
<p>Similar to the Hub's notifications to the subscriber, the subscriber MAY request context changes with an HTTP POST to the hub.url. The Hub SHALL either accept this context change by responding with any successful HTTP status or reject it by responding with any 4xx or 5xx HTTP status. Similar to event notifications, described above, the Hub MAY also respond with a 202 (Accepted) status, process the request, and then later, <strong>instead of broadcasting the context change</strong>, responds with a syncerror event in order to reject the request.  <strong>In this specific case in which the context change is rejected by the Hub and not broadcasted,</strong> the syncerror would only be sent to the requestor. The <strong>requestor</strong> SHALL be capable of gracefully handling a rejected context request.</p>
<p>Once a requested context change is accepted, the Hub SHALL broadcast the context notification to all subscribers, including the original requestor. The requestor can use the broadcasted notification as confirmation of their request. The Hub reusing the request's id is further confirmation that the event is a result of their request.</p>
</blockquote>
</blockquote>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
