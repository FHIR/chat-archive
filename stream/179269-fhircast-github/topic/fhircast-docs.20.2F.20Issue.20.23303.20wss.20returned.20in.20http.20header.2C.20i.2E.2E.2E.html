---
layout: page
title: "FHIR Chat  · fhircast-docs / Issue #303 wss returned in http header, i... · fhircast-github"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/index.html">fhircast-github</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20Issue.20.23303.20wss.20returned.20in.20http.20header.2C.20i.2E.2E.2E.html">fhircast-docs / Issue #303 wss returned in http header, i...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183062288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179269-fhircast-github/topic/fhircast-docs%20/%20Issue%20%23303%20wss%20returned%20in%20http%20header%2C%20i.../near/183062288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications (FHIRcast) <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20Issue.20.23303.20wss.20returned.20in.20http.20header.2C.20i.2E.2E.2E.html#183062288">(Dec 10 2019 at 14:10)</a>:</h4>
<p>isaacvetter <a href="https://github.com/HL7/fhircast-docs/pull/303#issuecomment-564049646" target="_blank" title="https://github.com/HL7/fhircast-docs/pull/303#issuecomment-564049646">commented</a> on <a href="https://github.com/HL7/fhircast-docs/pull/303" target="_blank" title="https://github.com/HL7/fhircast-docs/pull/303">Issue #303</a>:</p>
<blockquote>
<p>Some <a href="#narrow/stream/179271-FHIRcast/topic/websocket.20url.2C.20in.20HTTP.20body.20or.20HTTP.20header.3F" title="#narrow/stream/179271-FHIRcast/topic/websocket.20url.2C.20in.20HTTP.20body.20or.20HTTP.20header.3F">feedback from implementers</a> in zulip.</p>
</blockquote>



<a name="192259309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179269-fhircast-github/topic/fhircast-docs%20/%20Issue%20%23303%20wss%20returned%20in%20http%20header%2C%20i.../near/192259309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications (FHIRcast) <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20Issue.20.23303.20wss.20returned.20in.20http.20header.2C.20i.2E.2E.2E.html#192259309">(Mar 30 2020 at 14:00)</a>:</h4>
<p>gkustas <a href="https://github.com/HL7/fhircast-docs/pull/303#issuecomment-606017346" title="https://github.com/HL7/fhircast-docs/pull/303#issuecomment-606017346">commented</a> on <a href="https://github.com/HL7/fhircast-docs/pull/303" title="https://github.com/HL7/fhircast-docs/pull/303">Issue #303</a>:</p>
<blockquote>
<p>Hey @isaacvetter and @wmaethner . I am having an issue implementing this. My HTTP client is trying to execute a redirect which is NOT what we want. It breaks our current implementation of our Hub. I had been commenting on Zuilp up to now: <a href="#narrow/stream/179271-FHIRcast/topic/websocket.20url.2C.20in.20HTTP.20body.20or.20HTTP.20header.3F" title="#narrow/stream/179271-FHIRcast/topic/websocket.20url.2C.20in.20HTTP.20body.20or.20HTTP.20header.3F">https://chat.fhir.org/#narrow/stream/179271-FHIRcast/topic/websocket.20url.2C.20in.20HTTP.20body.20or.20HTTP.20header.3F</a></p>
</blockquote>



<a name="192259560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179269-fhircast-github/topic/fhircast-docs%20/%20Issue%20%23303%20wss%20returned%20in%20http%20header%2C%20i.../near/192259560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications (FHIRcast) <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20Issue.20.23303.20wss.20returned.20in.20http.20header.2C.20i.2E.2E.2E.html#192259560">(Mar 30 2020 at 14:02)</a>:</h4>
<p>gkustas edited a <a href="https://github.com/HL7/fhircast-docs/pull/303#issuecomment-606017346" title="https://github.com/HL7/fhircast-docs/pull/303#issuecomment-606017346">comment</a> on <a href="https://github.com/HL7/fhircast-docs/pull/303" title="https://github.com/HL7/fhircast-docs/pull/303">Issue #303</a>:</p>
<blockquote>
<p>Hey @isaacvetter and @wmaethner . I am having an issue implementing this. My HTTP client is trying to execute an automatic redirect based on the value of the Content-Location header (Windows .Net). This, of course, is NOT what we want. It breaks our current implementation of our Hub by throwing an exception because the URI does not begin with "http" or "https". I had been commenting on Zuilp up to now: <a href="#narrow/stream/179271-FHIRcast/topic/websocket.20url.2C.20in.20HTTP.20body.20or.20HTTP.20header.3F" title="#narrow/stream/179271-FHIRcast/topic/websocket.20url.2C.20in.20HTTP.20body.20or.20HTTP.20header.3F">https://chat.fhir.org/#narrow/stream/179271-FHIRcast/topic/websocket.20url.2C.20in.20HTTP.20body.20or.20HTTP.20header.3F</a></p>
</blockquote>



<a name="201028040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179269-fhircast-github/topic/fhircast-docs%20/%20Issue%20%23303%20wss%20returned%20in%20http%20header%2C%20i.../near/201028040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications (FHIRcast) <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20Issue.20.23303.20wss.20returned.20in.20http.20header.2C.20i.2E.2E.2E.html#201028040">(Jun 16 2020 at 15:00)</a>:</h4>
<p>isaacvetter <a href="https://github.com/HL7/fhircast-docs/pull/303#issuecomment-644821123">commented</a> on <a href="https://github.com/HL7/fhircast-docs/pull/303">Issue #303</a>:</p>
<blockquote>
<p>@gkustas - excellent implementer-driven feedback. This limitation of .Net's HttpClient seems significant and a good reason to revert to the Hub returning the wss: url in the HTTP body, instead of the header. (It does appear that <a href="https://github.com/dotnet/runtime/issues/30965">.Net Core may not</a> have this limitation.)</p>
<p>I'll ping Martin / the community on our zulip thread to verify that this is okay with others as well. </p>
</blockquote>



<a name="201064063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179269-fhircast-github/topic/fhircast-docs%20/%20Issue%20%23303%20wss%20returned%20in%20http%20header%2C%20i.../near/201064063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications (FHIRcast) <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20Issue.20.23303.20wss.20returned.20in.20http.20header.2C.20i.2E.2E.2E.html#201064063">(Jun 16 2020 at 19:40)</a>:</h4>
<p>gkustas <a href="https://github.com/HL7/fhircast-docs/pull/303#issuecomment-644973176">commented</a> on <a href="https://github.com/HL7/fhircast-docs/pull/303">Issue #303</a>:</p>
<blockquote>
<p>Thanks Isaac.</p>
<p>By the way... With our new implementation of "topic context" now being<br>
retained by the Hub, I was thinking that the subscription response should<br>
probably contain the current context. In this case, a simple text response<br>
should probably be replaced with something like:</p>
<p>{<br>
   "wss": &lt;websocket url&gt;,<br>
   "context": {<br>
      ....<br>
   }<br>
}</p>
<p>Thoughts?</p>
<p>On Tue, Jun 16, 2020 at 11:01 AM Isaac Vetter &lt;<a href="mailto:notifications@github.com">notifications@github.com</a>&gt;<br>
wrote:</p>
<blockquote>
<p>@gkustas &lt;<a href="https://github.com/gkustas">https://github.com/gkustas</a>&gt; - excellent implementer-driven<br>
feedback. This limitation of .Net's HttpClient seems significant and a good<br>
reason to revert to the Hub returning the wss: url in the HTTP body,<br>
instead of the header. (It does appear that .Net Core may not<br>
&lt;<a href="https://github.com/dotnet/runtime/issues/30965">https://github.com/dotnet/runtime/issues/30965</a>&gt; have this limitation.)</p>
<p>I'll ping Martin / the community on our zulip thread to verify that this<br>
is okay with others as well.</p>
<p>—<br>
You are receiving this because you were mentioned.<br>
Reply to this email directly, view it on GitHub<br>
&lt;<a href="https://github.com/HL7/fhircast-docs/pull/303#issuecomment-644821123">https://github.com/HL7/fhircast-docs/pull/303#issuecomment-644821123</a>&gt;,<br>
or unsubscribe<br>
&lt;<a href="https://github.com/notifications/unsubscribe-auth/ABODZ3XUH27MTFLEGC6FVE3RW6CLTANCNFSM4JR2FYWQ">https://github.com/notifications/unsubscribe-auth/ABODZ3XUH27MTFLEGC6FVE3RW6CLTANCNFSM4JR2FYWQ</a>&gt;<br>
.</p>
</blockquote>
<p>-- <br>
George Kustas</p>
</blockquote>



<a name="209786681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179269-fhircast-github/topic/fhircast-docs%20/%20Issue%20%23303%20wss%20returned%20in%20http%20header%2C%20i.../near/209786681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Github Notifications (FHIRcast) <a href="https://fhir.github.io/chat-archive/stream/179269-fhircast-github/topic/fhircast-docs.20.2F.20Issue.20.23303.20wss.20returned.20in.20http.20header.2C.20i.2E.2E.2E.html#209786681">(Sep 11 2020 at 14:22)</a>:</h4>
<p>isaacvetter <a href="https://github.com/HL7/fhircast-docs/pull/303#issuecomment-691124502">commented</a> on <a href="https://github.com/HL7/fhircast-docs/pull/303">Issue #303</a>:</p>
<blockquote>
<p>Ran into this during Connectathon 25, Endre Berki agrees. Need to change the spec from Content-Location to something like:</p>
<div class="codehilite"><pre><span></span><code>{
   &quot;hub.channel.endpoint&quot;: &lt;websocket url&gt;
 }
````
~~~
</code></pre></div>


</blockquote>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
