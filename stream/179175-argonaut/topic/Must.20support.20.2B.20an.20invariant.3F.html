---
layout: page
title: "FHIR Chat  · Must support + an invariant? · argonaut"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/index.html">argonaut</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html">Must support + an invariant?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="263491425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263491425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263491425">(Dec 02 2021 at 19:49)</a>:</h4>
<p>What does it mean when there is a property tagged as must-support, but that same property has an invariant that requires the property only in certain conditions?  Does the invariant overrule must-support?</p>
<p>Example:  <a href="http://build.fhir.org/ig/HL7/US-Core/StructureDefinition-us-core-procedure.html">Procedure.performed</a>.</p>
<p>Related tracker: <a href="http://jira.hl7.org/browse/FHIR-33243">FHIR#33243</a>.  That says applied, but it isn't clear whether the MS flag should have been removed when the invariant was added.</p>



<a name="263491821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263491821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263491821">(Dec 02 2021 at 19:52)</a>:</h4>
<p>And in general, should all the performed-style timestamp properties on all profiles be invariants instead of MS?  We're running into issues where anything that is canceled / not-done isn't passing, since we don't have performed dates for stuff that was never performed...</p>



<a name="263491860"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263491860" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263491860">(Dec 02 2021 at 19:52)</a>:</h4>
<p>'Performed SHALL be present if the status is 'completed' or 'in-progress''</p>



<a name="263491990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263491990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263491990">(Dec 02 2021 at 19:53)</a>:</h4>
<p>Ah - sorry.  I see.  Since it is now 0..1 in 4.0.1+, then invariant+MS works.  The issue is in 3.1.1 where it is 1..1.</p>



<a name="263491998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263491998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263491998">(Dec 02 2021 at 19:53)</a>:</h4>
<p>you got it!</p>



<a name="263492202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263492202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263492202">(Dec 02 2021 at 19:55)</a>:</h4>
<p><span class="user-mention" data-user-id="193903">@Johnny Bender</span> , FYI, ONC clarification request coming your way <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span></p>



<a name="263493794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263493794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263493794">(Dec 02 2021 at 20:07)</a>:</h4>
<p>Although... what about stuff like patient-reported surgical history, where the patient reports it and you don't <em>have</em> performed dates?</p>



<a name="263494476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263494476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263494476">(Dec 02 2021 at 20:13)</a>:</h4>
<p>performedAge</p>



<a name="263494494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263494494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263494494">(Dec 02 2021 at 20:13)</a>:</h4>
<p>or string -- it's not a mandatory dateTime</p>



<a name="263494681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263494681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263494681">(Dec 02 2021 at 20:15)</a>:</h4>
<p>I see.  Thanks!  It took me a minute to untangle the two different must-support flags + invariant + cardinality.  Whew.</p>



<a name="263496452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263496452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263496452">(Dec 02 2021 at 20:30)</a>:</h4>
<p>CFS-3549 submitted for ONC clarification.</p>



<a name="263497368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263497368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263497368">(Dec 02 2021 at 20:38)</a>:</h4>
<p>Ugh.  Actually for patient reported surgical history, we don't require any time info.  It <em>can</em> be provided, but we don't require it.  So we have a bunch of historical data that has no "performed" timing info at all.</p>



<a name="263497438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263497438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263497438">(Dec 02 2021 at 20:39)</a>:</h4>
<p>I suppose at this point I should just write a ballot comment?</p>



<a name="263498548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263498548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263498548">(Dec 02 2021 at 20:50)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-34409">FHIR#34409</a></p>



<a name="263532418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263532418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263532418">(Dec 03 2021 at 03:42)</a>:</h4>
<p>DAR that</p>



<a name="263586924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Must%20support%20%2B%20an%20invariant%3F/near/263586924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Must.20support.20.2B.20an.20invariant.3F.html#263586924">(Dec 03 2021 at 14:28)</a>:</h4>
<p>I swear I know all of this stuff in my head.  I just get it all mixed up when juggling DAR rules, MS, invariants, cardinality, and US Core 3.1.1 vs. newer versions.  Thanks for bearing with me.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
