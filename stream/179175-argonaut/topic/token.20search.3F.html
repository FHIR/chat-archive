---
layout: page
title: "FHIR Chat  · token search? · argonaut"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/index.html">argonaut</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html">token search?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="202431842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202431842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202431842">(Jun 30 2020 at 13:08)</a>:</h4>
<p>Did we really intend to have to support all token searches?<br>
[parameter]=[code]: the value of [code] matches a Coding.code or Identifier.value irrespective of the value of the system property<br>
    [parameter]=[system]|[code]: the value of [code] matches a Coding.code or Identifier.value, and the value of [system] matches the system property of the Identifier or Coding<br>
    [parameter]=|[code]: the value of [code] matches a Coding.code or Identifier.value, and the Coding/Identifier has no system property<br>
    [parameter]=[system]|: any element where the value of [system] matches the system property of the Identifier or Coding</p>



<a name="202431862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202431862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202431862">(Jun 30 2020 at 13:08)</a>:</h4>
<p>The one I have an issue with is parameter=system.</p>



<a name="202431921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202431921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202431921">(Jun 30 2020 at 13:09)</a>:</h4>
<p>We would basically have to support a search that says give me all practitioners with an NPI value... I don't think we intended that.</p>



<a name="202432779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202432779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202432779">(Jun 30 2020 at 13:16)</a>:</h4>
<p>Is this referring to the US Core IG?</p>



<a name="202432821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202432821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202432821">(Jun 30 2020 at 13:16)</a>:</h4>
<p>Yes. It links to that for additional information.</p>



<a name="202432946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202432946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202432946">(Jun 30 2020 at 13:17)</a>:</h4>
<p>US-Core is mostly silent on it.... It shows an example of using system|code only, but then links to the token documentation for additional details.</p>



<a name="202432959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202432959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202432959">(Jun 30 2020 at 13:17)</a>:</h4>
<p>Inferno is testing all combinations.</p>



<a name="202432990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202432990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202432990">(Jun 30 2020 at 13:18)</a>:</h4>
<p>Which surprised me because we are only planning on supporting system|code.</p>



<a name="202433564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202433564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202433564">(Jun 30 2020 at 13:22)</a>:</h4>
<p>Given the prevalence of nonstandard Coding.system values (OIDs, local variation etc) I'd say that searching by code alone can be pretty pragmatic. Searching by system alone... if there's an existing "get all" it's less critical, but this is part of the fhir spec for a reason, and if you're already creating the indexes to make the other forms work, is it an additional lift?</p>



<a name="202434106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202434106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202434106">(Jun 30 2020 at 13:26)</a>:</h4>
<p>We aren't creating indexes to make the others work. Our architecture leverages mappings for codes to internal values.... So a code comes in, we look up all internal codes that map to that, and then begin a query for all codes. To say give me a code with no system is going to slow down performance in a pretty significant way... I am not a huge fan of that query either. The system one just doesn't make sense to me. Why not just use patient and get everything back for that patient in the single patient query? By adding system we will actually make the search slower and cost additional resources to complete the call.</p>



<a name="202434368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202434368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202434368">(Jun 30 2020 at 13:28)</a>:</h4>
<p>Having built this search against a custom database, YES, it is additional lift.  Not every implementation has a FHIR core storage.  NPI may be field somewhere, and identifier queries may be built on a view that includes that field and others.  BUT, I agree that it's completely worthwhile to support (which is why I built it).  There probably aren't that many normal user use cases for using this query.  However, I can think off a half dozen use cases where IT staff  want it, and have used it, to identify and clean up incomplete records in a system.</p>



<a name="202434682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202434682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202434682">(Jun 30 2020 at 13:29)</a>:</h4>
<p>Re: codes alone, does this mean that any local value without a mapping pointing to it is invisible under search? Even if the "code" matches, <span class="user-mention" data-user-id="191357">@Drew Torres</span> ? That seems worth addressing.</p>



<a name="202434908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202434908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202434908">(Jun 30 2020 at 13:30)</a>:</h4>
<p>Correct. If there is an underlying internal code that cannot be mapped, the only way to get to it would be /Observation?patient=12345 and page through the results.</p>



<a name="202434926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202434926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202434926">(Jun 30 2020 at 13:31)</a>:</h4>
<p>Which we support.</p>



<a name="202434971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202434971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202434971">(Jun 30 2020 at 13:31)</a>:</h4>
<p>There are just things that health system document as observations that just won't ever have standard terms for.</p>



<a name="202435160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202435160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202435160">(Jun 30 2020 at 13:32)</a>:</h4>
<p>Oh sure, that is well and good. I just want to make sure that when something is documented with a standard code (but a nonstandard system), it's found by a search when the search specifies exactly the code that was documented.</p>



<a name="202435318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202435318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202435318">(Jun 30 2020 at 13:33)</a>:</h4>
<p>Like, supporting the <code>&amp;code=|123</code> search helps a lot in that case.</p>



<a name="202435805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202435805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202435805">(Jun 30 2020 at 13:36)</a>:</h4>
<p>I suppose, but is the consumer just going to blindly query with a code and not know the system? That is what I am struggling with in your example. We do allow searches with our internal codes and code systems. But allowing a consumer to just pass in code without a system will incur that additional lookup cost... Not huge and not as bad as system only. That is why I am not pushing back on that one too hard.</p>



<a name="202436183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202436183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202436183">(Jun 30 2020 at 13:39)</a>:</h4>
<p>Isn't there also an argument that it is dangerous to do that as well? If the consumer of the API just passes in code=123.... The internal codes and the standard codes may conflict or mean completely different thing. In that case the consumer should understand the variations... If that is the case why not force the consumer to search with system in addition to code?</p>



<a name="202436431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202436431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202436431">(Jun 30 2020 at 13:41)</a>:</h4>
<p>If the consistency of "system" in the source data is low enough, clients will skip it; I'm not saying it's a great practice, but it's pragmatic, and it allows a client to over-fetch by only a little bit rather than having to get everything. The client probably still needs to look at systems it receives, but doesn't need to know ahead of time exactly which systems a given server inexplicably uses OIDs for in order to formulate a special search</p>



<a name="202436485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202436485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202436485">(Jun 30 2020 at 13:41)</a>:</h4>
<p>(when I say inexplicable here, I don't mean there is no explanation. I just mean that it can be baffling for client developers or try to understand the variations in data conventions across sites)</p>



<a name="202436774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202436774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202436774">(Jun 30 2020 at 13:43)</a>:</h4>
<p>That makes more sense.... We really don't have that problem because we centralized our content for mappings. There is no variances of systems/OIDs for content. We always return URLs for systems. We only return OIDs for identifiers on patients for non-standard identifiers.</p>



<a name="202436823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202436823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202436823">(Jun 30 2020 at 13:43)</a>:</h4>
<p>Which is why I struggled with your example, but does make sense for systems that don't have that luxury.</p>



<a name="202437395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202437395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202437395">(Jun 30 2020 at 13:47)</a>:</h4>
<p>We also document all of our systems supported in our documentation so dev should be aware ahead of time: <a href="http://fhir.cerner.com/millennium/r4/diagnostic/observation/#terminology-bindings">http://fhir.cerner.com/millennium/r4/diagnostic/observation/#terminology-bindings</a> is an example (include local system examples).</p>



<a name="202450610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202450610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202450610">(Jun 30 2020 at 15:19)</a>:</h4>
<p>I have only heard of administrative reasons to support that query. What end-user use-case(s) drive a demand for support, vs a should or may?</p>



<a name="202463831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202463831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202463831">(Jun 30 2020 at 16:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I think search by code alone is reasonable since the binding value set has contains on what system should/shall be used.</p>



<a name="202467007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202467007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202467007">(Jun 30 2020 at 17:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191357">@Drew Torres</span> -- are you sending resources with Codings with <code>system</code> but no <code>code</code>?  That may cause Inferno to do a search by <code>system</code> only because we formulate searches based on previous results (we are checking now, this could be a bug).  Our intent wasn't to try every option, but just <code>code</code> and <code>system|code</code>. We need consistency from servers (not one or the other, depending on server-specific rules that are not discoverable by clients without trial/error or reading documentation).  (I previously stated that the guide mixes the two forms, I need to verify that)</p>



<a name="202468504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202468504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202468504">(Jun 30 2020 at 17:25)</a>:</h4>
<p>I do not know a situation where we return system with no code.</p>



<a name="202468529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202468529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202468529">(Jun 30 2020 at 17:25)</a>:</h4>
<p>I am going to double check.</p>



<a name="202469096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202469096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202469096">(Jun 30 2020 at 17:29)</a>:</h4>
<p>Looks like it is technically correct, per <a href="https://www.hl7.org/fhir/datatypes.html#Coding">https://www.hl7.org/fhir/datatypes.html#Coding</a>: <code>If the system is present, and there is no code, then this is understood to mean that there is no suitable code in the system in which to represent the code.</code>.</p>



<a name="202469152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202469152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202469152">(Jun 30 2020 at 17:29)</a>:</h4>
<p>Yea it is correct to return a system without a code.</p>



<a name="202469291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202469291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202469291">(Jun 30 2020 at 17:30)</a>:</h4>
<p>The thing I am challenging is the validity of searching by system without codes.</p>



<a name="202469772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202469772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202469772">(Jun 30 2020 at 17:34)</a>:</h4>
<p>It is OK to do that in the spec, but all the example that us-core laid out was using system|code.</p>



<a name="202469779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202469779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202469779">(Jun 30 2020 at 17:34)</a>:</h4>
<p>Understood.</p>



<a name="202481587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202481587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202481587">(Jun 30 2020 at 19:13)</a>:</h4>
<p>As an example of the real world impact here: I search for 123456789, no system... I intend to get SSNs and MRNs and .... on an on that match? And I really don't care which?</p>



<a name="202481620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202481620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202481620">(Jun 30 2020 at 19:13)</a>:</h4>
<p>Usually even the sys admin use case is "type" and value - which isn't allowed in spec today that I know of :)</p>



<a name="202483358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202483358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202483358">(Jun 30 2020 at 19:28)</a>:</h4>
<p>no intent to search by only system</p>



<a name="202483395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202483395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202483395">(Jun 30 2020 at 19:29)</a>:</h4>
<p>we provide the link to the base spec as helpful information for the reader</p>



<a name="202483867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202483867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202483867">(Jun 30 2020 at 19:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span>  The concern is searching only by code with no system</p>



<a name="202483896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202483896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202483896">(Jun 30 2020 at 19:33)</a>:</h4>
<p>And the base spec allows for everything, US core doesn't call out what it specifically requires</p>



<a name="202484060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484060">(Jun 30 2020 at 19:34)</a>:</h4>
<p>we do in the quick starts.</p>



<a name="202484150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484150">(Jun 30 2020 at 19:35)</a>:</h4>
<p>and searching only by code is meant to be supported for the reason discussed above.</p>



<a name="202484179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484179">(Jun 30 2020 at 19:35)</a>:</h4>
<p>Still from a clarity of expectations perspective: "Quick start" doesn't necessarily come across as "complete and authoritative list of requirements for servers".</p>



<a name="202484261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484261">(Jun 30 2020 at 19:36)</a>:</h4>
<p>Something <em>in</em> the quick start I'd assume is definitely allowed, maybe required for servers. Something <em>not</em> in the quick start, I don't know that I'd make any assumptions.</p>



<a name="202484278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484278">(Jun 30 2020 at 19:36)</a>:</h4>
<p>it is based on the cap statements and pretty damn thorough</p>



<a name="202484324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484324">(Jun 30 2020 at 19:37)</a>:</h4>
<p>at least tried to be</p>



<a name="202484441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484441">(Jun 30 2020 at 19:37)</a>:</h4>
<p>and yes if not in there then no assumptions made</p>



<a name="202484747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484747">(Jun 30 2020 at 19:40)</a>:</h4>
<p>So <a href="http://hl7.org/fhir/us/core/STU3.1/CapabilityStatement-us-core-server.html">http://hl7.org/fhir/us/core/STU3.1/CapabilityStatement-us-core-server.html</a> should be considered authoritative? Then that outlines the exact behavior for token searches per resource.</p>



<a name="202484789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484789">(Jun 30 2020 at 19:40)</a>:</h4>
<p>Which I don't object to because the areas of concern like observation.code is explicit in requiring system|code</p>



<a name="202484864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484864">(Jun 30 2020 at 19:41)</a>:</h4>
<p>Still a bit of grey area because it is listed under example....</p>



<a name="202484870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484870">(Jun 30 2020 at 19:41)</a>:</h4>
<p>SHALL   patient+code    reference+token GET [base]/Observation?patient=[patient]&amp;code=[system]|[code]</p>



<a name="202484903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202484903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202484903">(Jun 30 2020 at 19:41)</a>:</h4>
<p><a href="http://hl7.org/fhir/us/core/STU3.1/CapabilityStatement-us-core-server.html#observation">http://hl7.org/fhir/us/core/STU3.1/CapabilityStatement-us-core-server.html#observation</a></p>



<a name="202485037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485037">(Jun 30 2020 at 19:42)</a>:</h4>
<p>Indeed, I don't see a clear statement of whether a server needs to support "Observation?code=123".</p>



<a name="202485047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485047">(Jun 30 2020 at 19:42)</a>:</h4>
<p>so one of the dangers of making the capstatement pretty and easy to read is over-interpretation:</p>
<p><a href="/user_uploads/10155/jv9YVMOJv4gb9y6y1HCJh13u/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/jv9YVMOJv4gb9y6y1HCJh13u/image.png" title="image.png"><img src="/user_uploads/10155/jv9YVMOJv4gb9y6y1HCJh13u/image.png"></a></div>



<a name="202485099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485099">(Jun 30 2020 at 19:42)</a>:</h4>
<p>see the table heading says 'examples'</p>



<a name="202485168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485168">(Jun 30 2020 at 19:43)</a>:</h4>
<p>you can't express the nuances of search with the capstatement alone.</p>



<a name="202485174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485174">(Jun 30 2020 at 19:43)</a>:</h4>
<p>Yes. So my question is what is authoritative if these are examples.</p>



<a name="202485179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485179">(Jun 30 2020 at 19:43)</a>:</h4>
<p>Precisely!</p>



<a name="202485207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485207">(Jun 30 2020 at 19:43)</a>:</h4>
<p>so we have a capability statement that doesn't Express the details of what is required (in the computable portions at least it simply can't) and examples that only show a subset of what is required.</p>



<a name="202485283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485283">(Jun 30 2020 at 19:44)</a>:</h4>
<p>Which means it's not obvious whether searching by code without a system is required by this guide.</p>



<a name="202485299"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485299" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485299">(Jun 30 2020 at 19:44)</a>:</h4>
<p>Unless I'm missing something that clarifies one way or the other.</p>



<a name="202485526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485526">(Jun 30 2020 at 19:46)</a>:</h4>
<p>the quick start contain conformance language on purpose:  </p>
<p><a href="/user_uploads/10155/HQrSt4lhpKEH_C5aj9dSWqlM/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/HQrSt4lhpKEH_C5aj9dSWqlM/image.png" title="image.png"><img src="/user_uploads/10155/HQrSt4lhpKEH_C5aj9dSWqlM/image.png"></a></div>



<a name="202485610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485610">(Jun 30 2020 at 19:47)</a>:</h4>
<p>They fill in the details</p>



<a name="202485711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202485711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202485711">(Jun 30 2020 at 19:48)</a>:</h4>
<p>This is nothing new so I am surprised these questions are  being asked now....</p>



<a name="202486072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202486072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202486072">(Jun 30 2020 at 19:51)</a>:</h4>
<p>So it's the curly braces around <code>system</code> that tells you a server must support queries where the client omits a system? I think that's a fine answer, just saying it's not obvious.  Is that curly brace thing a FHIR convention?</p>



<a name="202486120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202486120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202486120">(Jun 30 2020 at 19:51)</a>:</h4>
<p>(and ... people are paying attention now in a deeperway because they are starting to implement against the onc final rule :-))</p>



<a name="202486167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202486167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202486167">(Jun 30 2020 at 19:52)</a>:</h4>
<p>Actually I think that Drew's concern about token search by system only was appropriate</p>



<a name="202486249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202486249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202486249">(Jun 30 2020 at 19:52)</a>:</h4>
<p>So your reading Eric is that a US Core server must support searching by code, as well as system plus code, but need not support searching by system alone?</p>



<a name="202486468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202486468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202486468">(Jun 30 2020 at 19:54)</a>:</h4>
<p>we discuss the syntax <a href="http://hl7.org/fhir/us/core/STU3.1/general-guidance.html#search-syntax">here</a>... but ought reference it in each quick start - ( it that a technical correction or change request? )</p>



<a name="202486489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202486489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202486489">(Jun 30 2020 at 19:54)</a>:</h4>
<p>yes</p>



<a name="202486574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202486574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202486574">(Jun 30 2020 at 19:55)</a>:</h4>
<blockquote>
<p>Content surrounded by {} is optional</p>
</blockquote>
<p>Does this mean mandatory for servers to support queries that omit this this content, and optional for clients to supply?</p>



<a name="202486676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202486676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202486676">(Jun 30 2020 at 19:56)</a>:</h4>
<p>I'm starting to realize how important it is to spell out these distinctions. We've had a number of corrections in the bulk data specification on this kind of issue.</p>



<a name="202488653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202488653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202488653">(Jun 30 2020 at 20:12)</a>:</h4>
<p>Yes I seeing that now... smugly reviewing the syntax I realized that it is slightly inconsistent and not explicitly described.</p>
<p>should be  <code>{system|}[code]</code>   instead of  <code>{[system]}|[code]</code><br>
and then update the syntax section to call this out and add it to the master example </p>
<p>I think these are technical corrections... but I don't want to mess up the inferno folks here  <span class="user-mention" data-user-id="192576">@Robert Scanlon</span> , <span class="user-mention" data-user-id="191506">@Yunwei Wang</span>  would this change to the syntax mess things up on your end if the intent was the same.  ( it wasn't intended to be computable but just making sure)</p>



<a name="202488993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202488993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202488993">(Jun 30 2020 at 20:15)</a>:</h4>
<p>I don't believe we compute off that syntax... where specifically in the artifacts are you going to make that change?</p>



<a name="202489662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202489662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202489662">(Jun 30 2020 at 20:21)</a>:</h4>
<p>Inferno's test system is written so both <code>system|code</code> and <code>code</code> are tried for all token search types (if we ever query by just system, its a bug, and we are looking into it).</p>



<a name="202489994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202489994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202489994">(Jun 30 2020 at 20:24)</a>:</h4>
<p>Note that there is a similar ambiguity on reference search types, I believe.  ?patient=123 vs ?patient=Patient/123.</p>



<a name="202490181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202490181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202490181">(Jun 30 2020 at 20:26)</a>:</h4>
<p>I believe it is this one <a href="http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-observation-lab.html#mandatory-search-parameters">http://hl7.org/fhir/us/core/STU3.1/StructureDefinition-us-core-observation-lab.html#mandatory-search-parameters</a> item 2<br>
<code>code={[system]}|[code],{[system]}|[code]</code> should be <code>code={system|}[code],{system|}[code]</code></p>



<a name="202490247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202490247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202490247">(Jun 30 2020 at 20:27)</a>:</h4>
<p><em>proposed</em> changes - </p>
<p>update <a href="https://build.fhir.org/ig/HL7/US-Core-R4/general-guidance.html#search-syntax">syntax</a> to clarify token parameters syntax {system|}[code] where the stuff inside the curly braces are optional</p>
<p>and then update all the Quick Starts toconsistently use this syntax like Yunwei posted.</p>



<a name="202490431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202490431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202490431">(Jun 30 2020 at 20:28)</a>:</h4>
<p>If that is heplful can <span class="user-mention" data-user-id="191506">@Yunwei Wang</span> make a tracker?</p>



<a name="202490983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202490983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202490983">(Jun 30 2020 at 20:33)</a>:</h4>
<blockquote>
<p>Note that there is a similar ambiguity on reference search types, I believe. ?patient=123 vs ?patient=Patient/123.</p>
</blockquote>
<p>Yes the guide is silent on that</p>



<a name="202491072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202491072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202491072">(Jun 30 2020 at 20:34)</a>:</h4>
<p>"the stuff inside the curly braces are optional" -- for the server to support or the client to support?</p>



<a name="202492057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202492057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202492057">(Jun 30 2020 at 20:42)</a>:</h4>
<p>Are there client certifications?</p>



<a name="202492770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202492770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202492770">(Jun 30 2020 at 20:48)</a>:</h4>
<p>Just to make sure on this change... server would be expected to support only system|code and code only will be a should?</p>



<a name="202492805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202492805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202492805">(Jun 30 2020 at 20:48)</a>:</h4>
<p>The new ONC certification criteria is not for clients.</p>



<a name="202493291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202493291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202493291">(Jun 30 2020 at 20:53)</a>:</h4>
<p>I heard something different <span class="user-mention" data-user-id="191357">@Drew Torres</span>: servers would be required to support queries with <code>?code=123</code> and <code>?code=http://system.example.org|123</code></p>



<a name="202493313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202493313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202493313">(Jun 30 2020 at 20:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> does that match your expectation?</p>



<a name="202493415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202493415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202493415">(Jun 30 2020 at 20:54)</a>:</h4>
<p>I just reread Eric's comments... should be {system|}[code] instead of {[system]}|[code] system is optional to pass in to the server...</p>



<a name="202493432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202493432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202493432">(Jun 30 2020 at 20:55)</a>:</h4>
<p>Which means we must support a code only search</p>



<a name="202493467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202493467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202493467">(Jun 30 2020 at 20:55)</a>:</h4>
<p>+1, that's what I'm saying too.</p>



<a name="202493652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202493652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202493652">(Jun 30 2020 at 20:57)</a>:</h4>
<p>I am begrudgingly OK with that. <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span> As long as we get rid of system only.</p>



<a name="202494480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202494480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202494480">(Jun 30 2020 at 21:03)</a>:</h4>
<p>Definitely meant to support code search</p>



<a name="202499463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/202499463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#202499463">(Jun 30 2020 at 21:47)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-27897">https://jira.hl7.org/browse/FHIR-27897</a></p>



<a name="203027597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/203027597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#203027597">(Jul 06 2020 at 18:58)</a>:</h4>
<p>Another question; In CareTeam, Quick Start says: "SHALL support searching using the combination of the patient and category search parameters:<br>
GET [base]/CarePlan?patient=[reference]&amp;category=http://hl7.org/fhir/us/core/CodeSystem/careplan-category|assess-plan" <br>
I understand that server SHALL support category=http://hl7.org/fhir/us/core/CodeSystem/careplan-category|assess-plan. SHOULD server also support category=assess-plan? Since [system] is not optional, I assume the answer is no.</p>



<a name="203106737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/token%20search%3F/near/203106737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/token.20search.3F.html#203106737">(Jul 07 2020 at 14:06)</a>:</h4>
<p>I would have assumed there was a uniform expectation in US Core about variations in a token search need to be supported, irrespective of whether a specific example is provided for each query. I kind of thought our discussion above was about all the places where token search is used. But maybe I overgeneralized?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
