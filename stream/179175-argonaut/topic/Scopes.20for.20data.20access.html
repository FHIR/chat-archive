---
layout: page
title: "FHIR Chat  · Scopes for data access · argonaut"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/index.html">argonaut</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html">Scopes for data access</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="190087203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190087203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190087203">(Mar 09 2020 at 16:17)</a>:</h4>
<p>Our project on more-granular scopes is going to be particularly important given that ONC's rule <em>requires</em> adoption of resource-level access as defined in SMART v1:</p>
<blockquote>
<p>Specifically, this means patients would need to have the ability to authorize access to their EHI at the individual FHIR resource level, from one specific FHIR resource (e.g., “Immunization”) up to all FHIR resources necessary to implement the standard adopted in § 170.213 and implementation specification adopted in § 170.215(a)(2)</p>
</blockquote>



<a name="190087453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190087453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190087453">(Mar 09 2020 at 16:19)</a>:</h4>
<p>Does this mean all, at the fhir resource or more granular than the fhir resource?</p>



<a name="190087559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190087559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190087559">(Mar 09 2020 at 16:19)</a>:</h4>
<p>The current ONC language refers to resource-level scopes. But the standards advancement process means we can define better / more-granular scopes too, and if we do a good job, ONC can point to that and say "also acceptable".</p>



<a name="190087780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190087780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190087780">(Mar 09 2020 at 16:21)</a>:</h4>
<p>Yeah, I think I agree with you <span class="user-mention" data-user-id="191912">@Michele Mottini</span>  -- this isn't something I asked for in my own comments, and I was surprised to see it.</p>



<a name="190088873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190088873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190088873">(Mar 09 2020 at 16:30)</a>:</h4>
<p>See <a href="http://motorcycleguy.blogspot.com/2020/01/fine-grained-access-control-with-smart.html" target="_blank" title="http://motorcycleguy.blogspot.com/2020/01/fine-grained-access-control-with-smart.html">http://motorcycleguy.blogspot.com/2020/01/fine-grained-access-control-with-smart.html</a> for starters.</p>



<a name="190089766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190089766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190089766">(Mar 09 2020 at 16:39)</a>:</h4>
<p>Then, on scope syntax, I think adding a third layer will suffice that allows a user to request access to information that has certain values in meta.security.  These are coding values, so they can be textually represented as <em>system</em>#<em>code</em>.</p>
<p>One could request the scope: {Resource}.read.system#code to request read access to resources with a specific tag.<br>
One could request {Resource}.read.* to request all tags (the endpoint would enumerate tags allowed in the returned grant)<br>
If no security tags are provided, the endpoint could determined tags to allow based on predetermined policy.</p>
<p>The implementation is free to figure out how tagging is done.  It could be pattern based (e.g., a value set of sensitive observation codes), or through specific attributes of the backing data (e.g., a sensitive flag stored in a database), or through other means.  </p>
<p>A base set of sensitivity tags can be identified for use in an exchange or region (e.g., US Core) which would be commonly understood.</p>



<a name="190097842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190097842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190097842">(Mar 09 2020 at 17:53)</a>:</h4>
<p>I think supporting tag based rules is great, but actually tackling some semantics about putting decisions in-band (e.g., "yes share my weight history but not my HIV history") will also be important this year.</p>



<a name="190098079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190098079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190098079">(Mar 09 2020 at 17:55)</a>:</h4>
<p>I totally agree that out of band restrictions are very practical, and at the very least we want to highlight that they are allowed, and that we encourage portal developers to experiment</p>



<a name="190098094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190098094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190098094">(Mar 09 2020 at 17:55)</a>:</h4>
<p>I won't argue that point, but I think that's a whole separate set of concerns that should be addressed separately from the access control scope negotiation.  It's a different set of endpoints at least that the patient needs to be able to use to manage those sorts of decisions.</p>



<a name="190111397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190111397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190111397">(Mar 09 2020 at 20:01)</a>:</h4>
<p>I'd love to put an hour on the calendar for the two of us to talk through some of this stuff if you are up for that?</p>



<a name="190111465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190111465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190111465">(Mar 09 2020 at 20:02)</a>:</h4>
<p>Yep.</p>



<a name="190111476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190111476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190111476">(Mar 09 2020 at 20:02)</a>:</h4>
<p>(same offer stands for anyone here with a perspective -- I'm trying to take better advantage of one-on-one meetings to really understand where people are coming from on complex topics.)</p>



<a name="190398406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190398406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190398406">(Mar 12 2020 at 14:53)</a>:</h4>
<p>There is already some IG that have started within Security WG that intend to provide subsets of the large valueset of HCS code for specific use-cases. This effort is not clear it would address scope impact, but could.  I think these use-case specific IG are the right approach as the use-cases we need to address are going to get more specific. Interactions between various IG must be built into this library of security/privacy IG</p>



<a name="190398678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190398678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190398678">(Mar 12 2020 at 14:54)</a>:</h4>
<p>The security WG is eager to get going on a new SMART... but we need more stakeholders, like those from the Argonaut group (and others). The security wg is the right place to host this, but doesn't tend to have sufficient stakeholder cohort. So please help me create a cohort that wants to work on this</p>



<a name="190399481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190399481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190399481">(Mar 12 2020 at 15:00)</a>:</h4>
<p>We're planning to run an Argonaut project launching next week -- so at least we should have a good community driving requirements and sketching out guidance. The interaction between those meetings and Security WG calls is something we should talk through; I expect the general process flow will follow previous Argonaut projects.</p>



<a name="190400026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190400026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190400026">(Mar 12 2020 at 15:04)</a>:</h4>
<p>please encourage them to expand their thinking to security WG, not just argonaut. I very much understand the value of a smaller community, but we can't continue to have 'not invented here' around the standards community</p>



<a name="190400246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/190400246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#190400246">(Mar 12 2020 at 15:06)</a>:</h4>
<p>Totally agree -- that's why this is an open community project hosted in HL7, by the Argonaut "standards accelerator". Would love to have your participation.</p>



<a name="207896228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/207896228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Douglas DeShazo <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#207896228">(Aug 24 2020 at 20:53)</a>:</h4>
<p>If I'm a payer and I have proprietary scopes defined for OAuth2 and retrieval of PHI, can I use those in the authorization process and be compliant with SMART Application Launch Framework or should I be using scopes that are resource specific as stated in the spec?</p>



<a name="207896394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/207896394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#207896394">(Aug 24 2020 at 20:54)</a>:</h4>
<p>If you are hosting a fhir API, then the expectation is that you would support smart scopes. If you need to expose access to something other than fhir resources, you can always extend the scope set -- we recommend prefixing any such "extension" scopes with <code>__</code> to ensure that your names never conflict with Scopes that we define in the future.</p>



<a name="207897389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/207897389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Douglas DeShazo <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#207897389">(Aug 24 2020 at 21:04)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191315">@Josh Mandel</span></p>



<a name="207958249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/207958249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#207958249">(Aug 25 2020 at 12:52)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span> <a href="#narrow/stream/179175-argonaut/topic/Scopes.20for.20data.20access/near/207896394">said</a>:</p>
<blockquote>
<p>If you are hosting a fhir API, then the expectation is that you would support smart scopes. If you need to expose access to something other than fhir resources, you can always extend the scope set -- we recommend prefixing any such "extension" scopes with <code>__</code> to ensure that your names never conflict with Scopes that we define in the future.</p>
</blockquote>
<p>Correction. If you are declaring support for SMART-on-FHIR, then...   SMART-on-FHIR is just one of many implementation guides on OAuth standard for use with FHIR.  There might be a stronger desire to use SMART-on-FHIR in the argonaut community, but it is not absolute..... right <span class="user-mention" data-user-id="191315">@Josh Mandel</span> ?</p>



<a name="207963714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/207963714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#207963714">(Aug 25 2020 at 13:40)</a>:</h4>
<p>To be clear, the initial question was about how to be compliant with the SMART App Launch IG.</p>
<p>In the context of the Argonaut project and more broadly in the context of ONC's US EHR certification program, the SMART App Launch specification is a requirement, which of course drives wider interest. These requirements in turn flow out to payers, since CMS named the ONC-adopted SMART IG in their final rule as well.</p>



<a name="207963785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Scopes%20for%20data%20access/near/207963785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Scopes.20for.20data.20access.html#207963785">(Aug 25 2020 at 13:41)</a>:</h4>
<p>(Even more broadly: John is correct that a FHIR server can implement any kind of security system it wants if no other constraints or obligations apply. We do encourage folks to take advantage of SMART or specific pieces that are useful -- like scopes -- rather than reinventing the wheel.)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
