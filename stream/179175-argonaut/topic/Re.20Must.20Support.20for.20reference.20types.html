---
layout: page
title: "FHIR Chat  · Re Must Support for reference types · argonaut"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/index.html">argonaut</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html">Re Must Support for reference types</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="219880689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219880689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219880689">(Dec 14 2020 at 18:16)</a>:</h4>
<p>I received this question re subject/patient element </p>
<blockquote>
<p>If you look at target field for AllergyIntolerance.patient field, it declares Patient and Group as possible target types. But in structure definition, patient field can only have references to Patient resource, NOT Group:<br>
<a href="http://hl7.org/fhir/us/core/SearchParameter-us-core-allergyintolerance-patient.json.html">http://hl7.org/fhir/us/core/SearchParameter-us-core-allergyintolerance-patient.json.html</a><br>
<a href="http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html">http://hl7.org/fhir/us/core/StructureDefinition-us-core-allergyintolerance.html</a></p>
</blockquote>
<blockquote>
<p>The same applies to patient search parameters in other resources.<br>
Can you help to understand why this is the case?</p>
</blockquote>



<a name="219881652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219881652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219881652">(Dec 14 2020 at 18:24)</a>:</h4>
<p>An implementer can adopt a US Core structure with patient/subject != patient reference, BUT it  is <em>not conformant</em> to the specification.   The scope of US Core is accessing <em>patient</em> data and all the profiling and search capablilities and guidance is tailored to the Patient as subject.</p>



<a name="219885045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219885045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aziz Khalmukhamedov <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219885045">(Dec 14 2020 at 18:49)</a>:</h4>
<p>Thanks Eric. <br>
If the scope of US Core is Patient data, why 'Group' is declared as a possible  target type in search parameter definition? If we look at <a href="https://www.hl7.org/fhir/allergyintolerance.html">https://www.hl7.org/fhir/allergyintolerance.html</a>, it says patient field can only have Patient references the same as the US Core structure definition. Shouldn't 'Group' be removed from target types since having non patient reference will not be conformant with specifications?</p>



<a name="219895807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219895807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219895807">(Dec 14 2020 at 20:13)</a>:</h4>
<p>can you point out exactly where a US Core search requirement allow group?</p>



<a name="219897891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219897891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219897891">(Dec 14 2020 at 20:31)</a>:</h4>
<p>I think the question is:<br>
If the base specification <a href="https://www.hl7.org/fhir/allergyintolerance-definitions.html#AllergyIntolerance.patient">only allows references to Patient in AllergyIntolerance.patient</a>, why does the definition of the Patient search parameter <a href="http://hl7.org/fhir/us/core/SearchParameter-us-core-allergyintolerance-patient.json.html">has as targets both Patient and Group</a> - look at the "target" field in the JSON?</p>



<a name="219903671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219903671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aziz Khalmukhamedov <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219903671">(Dec 14 2020 at 21:21)</a>:</h4>
<p>It's in search parameter definition:<br>
<a href="http://hl7.org/fhir/us/core/SearchParameter-us-core-allergyintolerance-patient.json.html">http://hl7.org/fhir/us/core/SearchParameter-us-core-allergyintolerance-patient.json.html</a></p>
<p>"type" : "reference",<br>
  "expression" : "AllergyIntolerance.patient",<br>
  "xpath" : "f:AllergyIntolerance/f:patient",<br>
  "xpathUsage" : "normal",<br>
  "target" : [<br>
    "Patient",<br>
    "Group"<br>
  ],</p>



<a name="219906153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219906153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219906153">(Dec 14 2020 at 21:43)</a>:</h4>
<p>1) These SP are defined only for conformances as noted here:  <a href="http://hl7.org/fhir/us/core/searchparameters.html#search-parameters">http://hl7.org/fhir/us/core/searchparameters.html#search-parameters</a> <br>
2) They are derived from the base specification definitions and that is indeed an issue with the base SearchParameter Definition "clinical-patient' - thank you for discovering it.  I will make a tracker to the base specification if one does not already exist.  ( need to check )  The target for patient should be Patient.</p>



<a name="219906284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219906284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219906284">(Dec 14 2020 at 21:44)</a>:</h4>
<p>I think this came up in FHIR-I just recently, it seems to be an error. I don't have the jira ticket handy though.</p>



<a name="219906485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219906485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219906485">(Dec 14 2020 at 21:46)</a>:</h4>
<p>indeed it did and is here: <a href="http://jira.hl7.org/browse/FHIR-28219">FHIR-28219</a></p>



<a name="219906676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219906676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219906676">(Dec 14 2020 at 21:48)</a>:</h4>
<p>BTW this will not be changed in US Core since it is a derivation warts and all</p>



<a name="219906772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219906772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219906772">(Dec 14 2020 at 21:48)</a>:</h4>
<p>Feel free to create a tracker to US Core to highlight this error.</p>



<a name="219912415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219912415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aziz Khalmukhamedov <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219912415">(Dec 14 2020 at 22:37)</a>:</h4>
<p>Thanks for the clarification. Will it be replicated in US Core when the issue is fixed in base specification?</p>



<a name="219923629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Re%20Must%20Support%20for%20reference%20types/near/219923629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Re.20Must.20Support.20for.20reference.20types.html#219923629">(Dec 15 2020 at 00:37)</a>:</h4>
<p>yes but, I don't know when that will be.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
