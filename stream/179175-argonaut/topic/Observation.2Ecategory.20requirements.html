---
layout: page
title: "FHIR Chat  · Observation.category requirements · argonaut"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/index.html">argonaut</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html">Observation.category requirements</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153999975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999975">(Sep 26 2018 at 15:15)</a>:</h4>
<p>When I look at <a href="http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.json" target="_blank" title="http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.json">http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.json</a> I see that the "argoprofile.category" element has:</p>
<div class="codehilite"><pre><span></span>        <span class="s2">&quot;patternCodeableConcept&quot;</span><span class="err">:</span> <span class="p">{</span>
          <span class="nt">&quot;coding&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/observation-category&quot;</span><span class="p">,</span>
              <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;vital-signs&quot;</span><span class="p">,</span>
              <span class="nt">&quot;userSelected&quot;</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">}</span><span class="err">,</span>
</pre></div>


<p>But the summary table at <a href="http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.html#profile" target="_blank" title="http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.html#profile">http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-vitalsigns.html#profile</a> shows:</p>
<blockquote>
<p>Required Pattern: {"coding":[{"system":"http://hl7.org/fhir/observation-category","code":"vital-signs"}]}</p>
</blockquote>
<p>Three questions:</p>
<p>1. The presence of <code>userSelected</code> appears to be required the actual profile, but not documented in the description table; is this distinction intentional?<br>
2. Should an instance where <code>userSelected</code> is absent be considered valid? (Currently I think it would be <em>invalid</em>, but that seems odd/undesirable).<br>
3. Is there a reason to prevent additional codings from being included? I think the semantics of <code>pattern</code> used with an array-type property like <code>CodeableConcept.coding</code> are saying "no more codings are allowed" -- but again, this seems odd/undesirable (unless I'm missing the rationale).</p>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191401">@Eric Haas</span></p>



<a name="153999977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999977">(Sep 26 2018 at 15:16)</a>:</h4>
<p>Cc <span class="user-mention" data-user-id="196946">@Andrew Bjonnes</span></p>



<a name="153999986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999986">(Sep 26 2018 at 15:47)</a>:</h4>
<p>Hmm.  I don't know why the rendered version and the StructureDefinition aren't identical.  They should be.  Based on the StructureDefinition, the pattern is only met if userSelected is present and explicitly false.  The pattern is <em>not</em> saying no more codings are allowed - it's just saying there needs to be at least one coding that matches the pattern.</p>



<a name="153999988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999988">(Sep 26 2018 at 15:47)</a>:</h4>
<p>Can you submit a change request about the tooling bug of rendered pattern and SD pattern not being identical?</p>



<a name="153999989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999989">(Sep 26 2018 at 15:48)</a>:</h4>
<p>I don't remember defining the userSelected field either</p>



<a name="153999990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999990">(Sep 26 2018 at 15:50)</a>:</h4>
<p>let me check the source file</p>



<a name="153999993"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999993" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999993">(Sep 26 2018 at 15:55)</a>:</h4>
<blockquote>
<p>the pattern is not saying no more codings are allowed - it's just saying there needs to be at least one coding that matches the pattern.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> the <a href="http://build.fhir.org/elementdefinition-definitions.html#ElementDefinition.pattern_x_" target="_blank" title="http://build.fhir.org/elementdefinition-definitions.html#ElementDefinition.pattern_x_">docs</a> say</p>
<blockquote>
<p>The values of elements present in the pattern must match exactly (case-sensitive, accent-sensitive, etc.)</p>
</blockquote>
<p>... which to me means a value like an array needs to match exactly, too -- there's no special semantics defined for arrays, just "must match exactly".</p>



<a name="153999995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999995">(Sep 26 2018 at 15:56)</a>:</h4>
<p>Also <span class="user-mention" data-user-id="191401">@Eric Haas</span>: <span class="user-mention" data-user-id="196946">@Andrew Bjonnes</span> has noticed some other discrepancies between the Text representation tab and the structured tabs, across several of the profiles. Would you prefer to have these reported as GitHub issues, or some other way?</p>



<a name="153999996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999996">(Sep 26 2018 at 15:57)</a>:</h4>
<p>GitHub</p>



<a name="153999997"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999997" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999997">(Sep 26 2018 at 15:59)</a>:</h4>
<p>If we need to add clarity, then submit a change request, but the behavior always has been (and has always been intended to be) focused on having a matching repetition.</p>



<a name="153999998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999998">(Sep 26 2018 at 15:59)</a>:</h4>
<p>The source pattern is indeed the same a represented in the summary table.</p>



<a name="153999999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/153999999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#153999999">(Sep 26 2018 at 16:00)</a>:</h4>
<p>Essentially any elements not stated in the pattern are ignored - missing elements and missing repetitions.</p>



<a name="154000029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/Observation.category%20requirements/near/154000029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/Observation.2Ecategory.20requirements.html#154000029">(Sep 26 2018 at 17:00)</a>:</h4>
<p>Re: patterns, I added <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18296" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18296">GF#18296</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
