---
layout: page
title: "FHIR Chat  · scheduling / Issue #52 Using update polling for prefetchi... · argonaut"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/index.html">argonaut</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/scheduling.20.2F.20Issue.20.2352.20Using.20update.20polling.20for.20prefetchi.2E.2E.2E.html">scheduling / Issue #52 Using update polling for prefetchi...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153927561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/scheduling%20/%20Issue%20%2352%20Using%20update%20polling%20for%20prefetchi.../near/153927561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> argo-scheduling-bot <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/scheduling.20.2F.20Issue.20.2352.20Using.20update.20polling.20for.20prefetchi.2E.2E.2E.html#153927561">(Jan 03 2018 at 21:07)</a>:</h4>
<p>Healthedata1 labeled <a href="https://github.com/argonautproject/scheduling/issues/52" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52">Issue #52</a></p>



<a name="153927562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/scheduling%20/%20Issue%20%2352%20Using%20update%20polling%20for%20prefetchi.../near/153927562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> argo-scheduling-bot <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/scheduling.20.2F.20Issue.20.2352.20Using.20update.20polling.20for.20prefetchi.2E.2E.2E.html#153927562">(Jan 03 2018 at 21:07)</a>:</h4>
<p>Healthedata1 opened <a href="https://github.com/argonautproject/scheduling/issues/52" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52">Issue #52</a></p>
<blockquote>
<p>How to represent "Null" availability using the update polling approach which is an issue for systems which don't have a concept of slots?</p>
<p>e.g. chunk of time (9-12) is open but not represented by slots in Server. So when a piece of that time is booked (say for example 9-10)  it is represented by a smaller chunk of time (10-12).  How to represent this using update polling mechanism?</p>
<p>Options:</p>
<ul>
<li>reallocate chunk of time as new slot and delete old chunk of time represented by old slot ???</li>
<li>treat as a caching problem and cache reconciliation</li>
<li>Use a more event driven i.e.,subscription/messaging paradigm. Repackage and resend updated slot package when triggered by an booking event.</li>
</ul>
</blockquote>



<a name="153927568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/scheduling%20/%20Issue%20%2352%20Using%20update%20polling%20for%20prefetchi.../near/153927568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> argo-scheduling-bot <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/scheduling.20.2F.20Issue.20.2352.20Using.20update.20polling.20for.20prefetchi.2E.2E.2E.html#153927568">(Jan 03 2018 at 21:32)</a>:</h4>
<p>brandon-larue-zocdoc <a href="https://github.com/argonautproject/scheduling/issues/52#issuecomment-355133410" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52#issuecomment-355133410">commented</a> on <a href="https://github.com/argonautproject/scheduling/issues/52" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52">Issue #52</a></p>
<blockquote>
<p>This is actually a problem for any implementation where the Slot search for updated information (diffs) only has a way to return open slots.</p>
<p>If I send a request for updated slots on a particular day, and a newly opened slot has appeared since my last request, it is easy to return that newly opened slot as the diff and let the client append it to their prefetched availability. But if I query for that same day, and a slot is no longer open that I had previously fetched, what does the server return? </p>
<p>In a slot based system, it could return a value for that removed slot with a new status (booked, blocked, etc.) but I don't believe we've articulated this anywhere. And I believe we also specified that the call should explicitly request slots with a status of "free." But that doesn't account for other potential deletion/invalidation events such as merging slots, closing schedules entirely, etc., where the slot object itself has been removed from the system (rather than a simple status change).</p>
<p>This is also an issue for Option 1 in your list here. What does the deletion look like?</p>
</blockquote>



<a name="153928548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/scheduling%20/%20Issue%20%2352%20Using%20update%20polling%20for%20prefetchi.../near/153928548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> argo-scheduling-bot <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/scheduling.20.2F.20Issue.20.2352.20Using.20update.20polling.20for.20prefetchi.2E.2E.2E.html#153928548">(Jan 11 2018 at 23:51)</a>:</h4>
<p>Healthedata1 <a href="https://github.com/argonautproject/scheduling/issues/52#issuecomment-357099620" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52#issuecomment-357099620">commented</a> on <a href="https://github.com/argonautproject/scheduling/issues/52" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52">Issue #52</a></p>
<blockquote>
<p>I updated the assumptions for the Prefetch Option and corrected a big error in my example.</p>
<ul>
<li>Assume that the FHIR Server maintain a version history</li>
<li>My error in how I documented the update polling - this an interaction and not a search so doesn't take any search parameter like I had previously documented.</li>
</ul>
<p>so in a nutshell get all Slots that have been updated, deleted and added. including Slots you may not be interested in.</p>
<p>GET [base]/Slot/_history?_since=[last-update]</p>
</blockquote>



<a name="153928549"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/scheduling%20/%20Issue%20%2352%20Using%20update%20polling%20for%20prefetchi.../near/153928549" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> argo-scheduling-bot <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/scheduling.20.2F.20Issue.20.2352.20Using.20update.20polling.20for.20prefetchi.2E.2E.2E.html#153928549">(Jan 11 2018 at 23:56)</a>:</h4>
<p>Healthedata1 <a href="https://github.com/argonautproject/scheduling/issues/52#issuecomment-357100493" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52#issuecomment-357100493">commented</a> on <a href="https://github.com/argonautproject/scheduling/issues/52" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52">Issue #52</a></p>
<blockquote>
<p>So to answer the above question.   the update polling looks at all slots an does not filter on status or any other mechanism.  These slots need additional filtering to determine which are add, deletes, etc.   If the system is unable to expose the history then this won't work and you are left polling or pub/sub which could be triggered by status changes or event driven.  Certainly worth fleshing out some more!</p>
</blockquote>



<a name="153937486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/scheduling%20/%20Issue%20%2352%20Using%20update%20polling%20for%20prefetchi.../near/153937486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> argo-scheduling-bot <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/scheduling.20.2F.20Issue.20.2352.20Using.20update.20polling.20for.20prefetchi.2E.2E.2E.html#153937486">(Feb 14 2018 at 21:05)</a>:</h4>
<p>Healthedata1 <a href="https://github.com/argonautproject/scheduling/issues/52#issuecomment-365744876" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52#issuecomment-365744876">commented</a> on <a href="https://github.com/argonautproject/scheduling/issues/52" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52">Issue #52</a></p>
<blockquote>
<p>this is is superseded by #59</p>
</blockquote>



<a name="153937487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/scheduling%20/%20Issue%20%2352%20Using%20update%20polling%20for%20prefetchi.../near/153937487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> argo-scheduling-bot <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/scheduling.20.2F.20Issue.20.2352.20Using.20update.20polling.20for.20prefetchi.2E.2E.2E.html#153937487">(Feb 14 2018 at 21:05)</a>:</h4>
<p>Healthedata1 closed <a href="https://github.com/argonautproject/scheduling/issues/52" target="_blank" title="https://github.com/argonautproject/scheduling/issues/52">Issue #52</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
