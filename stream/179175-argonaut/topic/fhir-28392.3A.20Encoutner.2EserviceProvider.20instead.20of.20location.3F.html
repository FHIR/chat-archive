---
layout: page
title: "FHIR Chat  · fhir-28392: Encoutner.serviceProvider instead of location? · argonaut"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/index.html">argonaut</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html">fhir-28392: Encoutner.serviceProvider instead of location?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="214906942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/214906942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#214906942">(Oct 28 2020 at 22:46)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-28392">J#28392</a> Commenter proposed that Encoutner.serviceProvider is of more value instead of location?  Seeking feedback here</p>



<a name="214907681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/214907681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#214907681">(Oct 28 2020 at 22:56)</a>:</h4>
<p><span aria-label="-1" class="emoji emoji-1f44e" role="img" title="-1">:-1:</span>  we do not have that data - we have locations and participants</p>



<a name="217420964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217420964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217420964">(Nov 20 2020 at 16:08)</a>:</h4>
<p>I know its a little late to provide comments on this issue after its resolution (sorry!), but I'm interested in how the proposed solution voted on yesterday relates to the base FHIR definition of <code>MustSupport</code>.</p>
<p><a href="https://jira.hl7.org/browse/FHIR-28392">Proposed Solution</a>:</p>
<blockquote>
<p>Make both serviceProvider (US Core Organization) and Location Must Support and include text that you may have both but Must Support one or the other. Add clarifying sentence about location address.</p>
</blockquote>
<p><a href="https://www.hl7.org/fhir/conformance-rules.html#mustSupport">FHIR R4 Must Support Definition</a> (emphasis mine):</p>
<blockquote>
<p>Labeling an element MustSupport means that implementations that produce or consume resources <strong>SHALL provide "support" for the element</strong> in some meaningful way.</p>
</blockquote>
<p>Marking an element as <code>MustSupport</code> and then providing language that effectively allows an implementation to provide no support for an element seems like an incorrect usage of <code>MustSupport</code>, despite how loose the base FHIR definition is.   I don't have a problem with the business rule itself, but I think enforcing it with the clarifying sentences or an updated element description would be better than applying must-support in a way that seems counter to its definition. Thoughts on this?</p>



<a name="217433853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217433853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217433853">(Nov 20 2020 at 17:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> <span class="user-mention" data-user-id="191401">@Eric Haas</span> <span class="user-mention" data-user-id="191410">@Brett Marquard</span></p>



<a name="217439252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217439252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217439252">(Nov 20 2020 at 18:18)</a>:</h4>
<p>currently there is no other way to express choice of mustsupport elements</p>
<p>We will document this fully on our conformance page  - this is still pending further editing</p>
<p>see how implemented here so far:</p>
<p><a href="http://build.fhir.org/ig/HL7/US-Core/branches/master/CapabilityStatement-us-core-server.html#medicationrequest">http://build.fhir.org/ig/HL7/US-Core/branches/master/CapabilityStatement-us-core-server.html#medicationrequest</a></p>



<a name="217439352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217439352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217439352">(Nov 20 2020 at 18:19)</a>:</h4>
<p>Is an invariant not possible?</p>



<a name="217439406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217439406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217439406">(Nov 20 2020 at 18:19)</a>:</h4>
<p>invariant to say must support A or B ?</p>



<a name="217440364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217440364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217440364">(Nov 20 2020 at 18:27)</a>:</h4>
<p>Maybe need an extension to support say that must support element A or element B</p>



<a name="217440387"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217440387" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217440387">(Nov 20 2020 at 18:27)</a>:</h4>
<p>A combination:<br>
Must support for A and must support for B are defined as must support when present (this is possible, correct?)<br>
Invariant states that if A is not present, B must be present, and vice versa.</p>



<a name="217440639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217440639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217440639">(Nov 20 2020 at 18:29)</a>:</h4>
<p>That is different. Invariant is on resource instance level so that any resource instance must be either A or B. Must support is on the server capability level. A single resource does not have either A or B. But all resources (of the same type) on the server as whole need to support either A or B.</p>



<a name="217441494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217441494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217441494">(Nov 20 2020 at 18:37)</a>:</h4>
<p>Just write it in English, that's enough</p>



<a name="217442418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217442418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217442418">(Nov 20 2020 at 18:45)</a>:</h4>
<p>Plain English is not computable. Our concern is that we can no longer looking at the StuctureDefinition to know if an element is must support or not. Also this violates the "must support" defined in the FHIR spec unless we say that "not support" is a kind of "support"</p>



<a name="217447323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217447323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217447323">(Nov 20 2020 at 19:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191506">@Yunwei Wang</span> , I feel your pain but currently not a way to do this using SD.   in future the datatype codeableReference and changes to resources may help</p>



<a name="217448026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217448026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217448026">(Nov 20 2020 at 19:29)</a>:</h4>
<p>Computability is not very important - especially for something like must support that cannot really be checked automatically. What is important is the English description: it is an implementation guide - it guides implementers - that are humans</p>



<a name="217456597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217456597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217456597">(Nov 20 2020 at 20:45)</a>:</h4>
<p>For the <a href="http://build.fhir.org/ig/HL7/US-Core/branches/master/CapabilityStatement-us-core-server.html#medicationrequest">MedicationRequest.reported[x]</a> example, why not just put the 'must-support' flag on MedicationRequest.reported[x], and leave it off MedicationRequest.reportedBoolean/MedicationRequest.reportedReference?  Doesn't that computably mean the same thing as what is written out in guidance?</p>



<a name="217457649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217457649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217457649">(Nov 20 2020 at 20:56)</a>:</h4>
<p>There is a tiny difference. reportedReference itself is a reference type. Just marking reported[x] as must support means that at least one of reportBoolean, reportedReference is must supported but it does not indicate which reference in reportedReference is a must support.</p>



<a name="217459937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217459937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217459937">(Nov 20 2020 at 21:17)</a>:</h4>
<p>But the language says "or a reference using MedicationRequest.reportedReference to Practitioner or other resource."</p>



<a name="217460277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217460277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217460277">(Nov 20 2020 at 21:20)</a>:</h4>
<p>That language is not accurate. From the SD, the reportedReference to US Core Practitioner is must supported.</p>



<a name="217462657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/fhir-28392%3A%20Encoutner.serviceProvider%20instead%20of%20location%3F/near/217462657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/fhir-28392.3A.20Encoutner.2EserviceProvider.20instead.20of.20location.3F.html#217462657">(Nov 20 2020 at 21:43)</a>:</h4>
<p>An invariant is not possible.  Invariants reflect what must appear in instances.  mustSupport reflects what systems must be capable of in their design - in user interfaces, in their database, in their decision logic, etc.  Invariants don't apply there.</p>
<p>I think US Core's approach is the best we can handle right now.  mustSupport says that the rules around its meaning must be defined in the IG or the profile.  I think it's reasonable for the rules to <em>also</em> be defined in the usage notes for individual elements.  Essentially seeing the mustSupport flag on a particular element says to the implementer "There are obligations around the implementation of this element - go look at the documentation to understand what they are".  The absence of mustSupport on the other hand says "so long as you meet the technical cardinalities and invariants of the instance, there are no rules at all around whether you need to store, display or otherwise take into account the value of this element.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
