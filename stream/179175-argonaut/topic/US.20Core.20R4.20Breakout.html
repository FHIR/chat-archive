---
layout: page
title: "FHIR Chat  · US Core R4 Breakout · argonaut"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/index.html">argonaut</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html">US Core R4 Breakout</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175711899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175711899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175711899">(Sep 14 2019 at 18:12)</a>:</h4>
<p>What's the link to the Google Doc with topics for this session?  <span class="user-mention" data-user-id="191401">@Eric Haas</span> <span class="user-mention" data-user-id="191410">@Brett Marquard</span></p>



<a name="175712072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175712072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Marquard <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175712072">(Sep 14 2019 at 18:17)</a>:</h4>
<p>Here is a <a href="https://docs.google.com/document/d/1OUeAN0c8Juuu4Djqmt979svL3O-tQ2TvidS5BX4mAho/edit" target="_blank" title="https://docs.google.com/document/d/1OUeAN0c8Juuu4Djqmt979svL3O-tQ2TvidS5BX4mAho/edit">link</a></p>



<a name="175712127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175712127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175712127">(Sep 14 2019 at 18:18)</a>:</h4>
<p>on the connectathon track too.</p>



<a name="175745036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175745036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175745036">(Sep 15 2019 at 11:33)</a>:</h4>
<p>For the merge / unmerge issue I came up with <a href="https://github.com/CareEvolution/Public/blob/master/IsDataValid.md" target="_blank" title="https://github.com/CareEvolution/Public/blob/master/IsDataValid.md">https://github.com/CareEvolution/Public/blob/master/IsDataValid.md</a></p>



<a name="175745040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175745040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175745040">(Sep 15 2019 at 11:33)</a>:</h4>
<p><span class="user-mention" data-user-id="193764">@Ricky Bloomfield</span> <span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span> ^</p>



<a name="175749219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175749219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175749219">(Sep 15 2019 at 13:33)</a>:</h4>
<p>Concerns with using the Patient.link field? Or a redirect if it's gone?</p>



<a name="175749272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175749272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175749272">(Sep 15 2019 at 13:34)</a>:</h4>
<p>Though for DSTU 2, we would need an extension for the bidirectional link between two</p>



<a name="175749275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175749275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175749275">(Sep 15 2019 at 13:34)</a>:</h4>
<p>Though I actually would like to get this to subscription eventually</p>



<a name="175749298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175749298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175749298">(Sep 15 2019 at 13:35)</a>:</h4>
<p>See also: <a href="#narrow/stream/179229-subscriptions/topic/combine.2Funcombine" title="#narrow/stream/179229-subscriptions/topic/combine.2Funcombine">https://chat.fhir.org/#narrow/stream/179229-subscriptions/topic/combine.2Funcombine</a></p>



<a name="175749733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175749733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175749733">(Sep 15 2019 at 13:46)</a>:</h4>
<p>Thanks Michele – an operation could do the job but ideally we can do without. I like the Patient.link properties to detect these changes. We could either _then_ run an operation like Michele suggests or just blow away the data we have and do a re-pull.</p>



<a name="175749807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175749807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175749807">(Sep 15 2019 at 13:48)</a>:</h4>
<p>In our server link would not change</p>



<a name="175749825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175749825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175749825">(Sep 15 2019 at 13:49)</a>:</h4>
<p>link doesn't change with merge/unmerge</p>



<a name="175749835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175749835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175749835">(Sep 15 2019 at 13:49)</a>:</h4>
<p>Also: there could be other things beside merge / unmerge that cause those kind of changes: permissions changes for example, or actual physical data deletion</p>



<a name="175749957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175749957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175749957">(Sep 15 2019 at 13:53)</a>:</h4>
<p>there could be</p>



<a name="175749963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175749963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175749963">(Sep 15 2019 at 13:53)</a>:</h4>
<p>I think what we're saying is that <code>Patient.link</code> should change. There are the "replaces" and "replaced-by" codes that seem suitable on merge/unmerge.</p>



<a name="175750373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750373">(Sep 15 2019 at 14:03)</a>:</h4>
<p>There are several challenges with Patient.link though.  Adding a link makes the patient resource include data for multiple patients.  Even if they are merged and conceptually the same, they are different records, and a client that has SMART scopes only for a single patient might not be allowed to see the content in Patient.link.</p>



<a name="175750813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750813">(Sep 15 2019 at 14:13)</a>:</h4>
<p>Let's walk through 2 scenarios:</p>



<a name="175750856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750856">(Sep 15 2019 at 14:14)</a>:</h4>
<p>(from the perspective of how our server works, please add/comment/etc where yours is different)</p>



<a name="175750862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750862">(Sep 15 2019 at 14:14)</a>:</h4>
<p>You are Patient A</p>



<a name="175750869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750869">(Sep 15 2019 at 14:14)</a>:</h4>
<p>Scenario 1: Patient A is merged to Patient B</p>



<a name="175750880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750880">(Sep 15 2019 at 14:15)</a>:</h4>
<p>In our system, no data is on Patient A anymore, PatientA.link= replaced-by -&gt; Patient B</p>



<a name="175750886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750886">(Sep 15 2019 at 14:15)</a>:</h4>
<p>You also can no longer get refresh tokens for Patient A</p>



<a name="175750888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750888">(Sep 15 2019 at 14:15)</a>:</h4>
<p>So an app will see a refresh failure, and will be required to log in again</p>



<a name="175750896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750896">(Sep 15 2019 at 14:15)</a>:</h4>
<p>at which point, they'll either not be able to log in, or (if the merge was done correctly), they'll now be Patient B</p>



<a name="175750939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750939">(Sep 15 2019 at 14:16)</a>:</h4>
<p>This essentially "forces" a clean up</p>



<a name="175750949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750949">(Sep 15 2019 at 14:16)</a>:</h4>
<p>but it would be nice if Patient B.link = replaces -&gt; Patient A for sanity on those apps. IE: did you log in as a completely different person? Or did a merge occur?</p>



<a name="175750953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750953">(Sep 15 2019 at 14:16)</a>:</h4>
<p>Scenario 2: Patient B is merged into Patient A</p>



<a name="175750961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750961">(Sep 15 2019 at 14:17)</a>:</h4>
<p>All data is moved to Patient A (which is who you are logged in as)</p>



<a name="175750969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750969">(Sep 15 2019 at 14:17)</a>:</h4>
<p>PatientA.link now = replaces -&gt; Patient B</p>



<a name="175750973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175750973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175750973">(Sep 15 2019 at 14:17)</a>:</h4>
<p>App should force-refresh whole record because data has now "magically" appeared in the past</p>



<a name="175751023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751023">(Sep 15 2019 at 14:18)</a>:</h4>
<p>for me, if I merge patient B into Patient A, then Patient B goes away; it no longer exists anywhere, and it's not longer referenced anywhere. So GET /Patient/B fails. And so there's no link either</p>



<a name="175751030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751030">(Sep 15 2019 at 14:18)</a>:</h4>
<p>Scenario A:  A difference for our server is that instead of PatientA.link.replaced-by -&gt; Patient B, we delete patient A and return a 301 to patient B when attempting to access patient A.</p>



<a name="175751034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751034">(Sep 15 2019 at 14:18)</a>:</h4>
<p>At no point are there multiple patient ids in the system on the same set of data, and I think if there were that wouldn't qualify as a replaces or replaced-by link based on the definition</p>



<a name="175751049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751049">(Sep 15 2019 at 14:19)</a>:</h4>
<p>How do you know to 301 it?</p>



<a name="175751052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751052">(Sep 15 2019 at 14:19)</a>:</h4>
<p>me? it's not there anymore.</p>



<a name="175751059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751059">(Sep 15 2019 at 14:19)</a>:</h4>
<p>but how do you know where to redirect to?</p>



<a name="175751060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751060">(Sep 15 2019 at 14:19)</a>:</h4>
<p>I don't redirect. Since apps don't check. Patient B is a 404</p>



<a name="175751061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751061">(Sep 15 2019 at 14:19)</a>:</h4>
<p>(also <span class="user-mention" data-user-id="191764">@Cooper Thompson</span> )</p>



<a name="175751122"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751122" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751122">(Sep 15 2019 at 14:20)</a>:</h4>
<p>and if the patient is the context, this will be sorted out by killing their session and making them log in again, when the id is sorted out again</p>



<a name="175751126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751126">(Sep 15 2019 at 14:20)</a>:</h4>
<p>How about when their patient suddenly gets data?</p>



<a name="175751130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751130">(Sep 15 2019 at 14:21)</a>:</h4>
<p>how would they know to refresh the record? (if they were the merged to patient)</p>



<a name="175751139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751139">(Sep 15 2019 at 14:21)</a>:</h4>
<p>because they are looking at Patient A?</p>



<a name="175751143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751143">(Sep 15 2019 at 14:21)</a>:</h4>
<p>the app gets it as new data following whatever approach it uses.</p>



<a name="175751147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751147">(Sep 15 2019 at 14:21)</a>:</h4>
<p>though I do like Michele's approach to get a 'refresh everything' for some reason or other</p>



<a name="175751150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751150">(Sep 15 2019 at 14:22)</a>:</h4>
<p>For us, we do a full copy of both patient records before the merge (so we can unmerge).  So we use indexes on those copy records to determine that the requested ID is merged.  So we do have database concepts for the "deleted" patient, but they aren't patient records.</p>



<a name="175751191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751191">(Sep 15 2019 at 14:22)</a>:</h4>
<p>The refresh everything trigger is why I'm trying to figure out how to do it as subscription, though that won't be there for a while in the standard</p>



<a name="175751198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751198">(Sep 15 2019 at 14:22)</a>:</h4>
<p>Cooper, what do you do with newly added inforamtion between the merge and the unmerge?</p>



<a name="175751227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751227">(Sep 15 2019 at 14:23)</a>:</h4>
<p>It needs manual review.  You can only automatically unmerge if no new data was added.</p>



<a name="175751307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751307">(Sep 15 2019 at 14:25)</a>:</h4>
<p>To me, unmerge is actually the most troubling one. You need to get the bad data off of the patient that existed the whole time.</p>



<a name="175751310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751310">(Sep 15 2019 at 14:25)</a>:</h4>
<p>As soon as you can</p>



<a name="175751354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751354">(Sep 15 2019 at 14:26)</a>:</h4>
<p>Yeah, but unmerge seems like just a special case of co-mingled data.</p>



<a name="175751356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751356">(Sep 15 2019 at 14:26)</a>:</h4>
<p>but both scenarios (missing data and having extra data) can cause issues</p>



<a name="175751468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751468">(Sep 15 2019 at 14:29)</a>:</h4>
<p>at the least we can all agree that this is a mess. That's way I like falling back to 'start again'</p>



<a name="175751535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751535">(Sep 15 2019 at 14:30)</a>:</h4>
<p>For an API consumer, the ideal outcome would be for the loser patient (B) to still be available, so I can see that it's been replaced. I'd prefer that to a 301 (but that is workable). A 404 or the patient just going away is not ideal. The issue is if I can't actually get an access token for patient B anymore, ideally that would still be possible.</p>



<a name="175751553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751553">(Sep 15 2019 at 14:31)</a>:</h4>
<p>(and I'm trying to talk like I was a naïve REST API consumer – which is only half lying ;) )</p>



<a name="175751602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751602">(Sep 15 2019 at 14:32)</a>:</h4>
<p>I really dislike 301 as unsafe because we know that people let their stack handle that automatically, and they won't know that they've shifted patients without specifically checking.</p>



<a name="175751604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751604">(Sep 15 2019 at 14:32)</a>:</h4>
<p>You all seem to be assuming that a merge is a 'merge into' - with a patient going away - that's not the case in our system - and I think in all HIE systems</p>



<a name="175751605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751605">(Sep 15 2019 at 14:32)</a>:</h4>
<p>In the scenarios Jenni listed, you were logged in as patient A.  So you wouldn't have had access to patient b to begin with.</p>



<a name="175751612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751612">(Sep 15 2019 at 14:33)</a>:</h4>
<p>of course, I wrote in IPA that clients SHALL check that, but I'm not sure that'll stick</p>



<a name="175751616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751616">(Sep 15 2019 at 14:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> what's a merge if it's not a merge?</p>



<a name="175751692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751692">(Sep 15 2019 at 14:35)</a>:</h4>
<p>We have a 'record group' = all patients that have been linked together. Merge or split are move a patient from one record group to another (and remove the record group if it is empty)</p>



<a name="175751713"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751713" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751713">(Sep 15 2019 at 14:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191764">@Cooper Thompson</span> You could be logged in to either, right? If you're logged into A it's a smaller problem – you just get more data.</p>



<a name="175751739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751739">(Sep 15 2019 at 14:36)</a>:</h4>
<p>Person sort of could function like that</p>



<a name="175751745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751745">(Sep 15 2019 at 14:36)</a>:</h4>
<p>But Michele, that still means you move resources from one patient to another. So you could still add the link.</p>



<a name="175751759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751759">(Sep 15 2019 at 14:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span> I think the issue is more about which user accounts are still active after the merge, not which patients.  If we determine that the patient B account and tokens can remain active, then it can just pull patient A data.</p>



<a name="175751823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751823">(Sep 15 2019 at 14:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span>  Depends on our FHIR server is configured - the recommended way is FHIR patient = our record group, so there is literally nothing to put in link</p>



<a name="175751836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751836">(Sep 15 2019 at 14:39)</a>:</h4>
<p>Sure, but  that is an issue I cannot comment on because it's implementation details on the server side. All I know is "I have a token for B" and "I can read resources for patient B". A redirect to patient A is an anomaly because it no longer matches a) what my token is saying and b) what I had. Therefore, if all I can access anymore is patient B as inactive with a reference to patient A, my world is still in order and I can act.</p>



<a name="175751842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751842">(Sep 15 2019 at 14:39)</a>:</h4>
<p>^^ <span class="user-mention" data-user-id="191764">@Cooper Thompson</span></p>



<a name="175751890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751890">(Sep 15 2019 at 14:40)</a>:</h4>
<p>but I was referring to 'after a merge patient B goes away and so cannot login' - this might not be true</p>



<a name="175751907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175751907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175751907">(Sep 15 2019 at 14:40)</a>:</h4>
<p>I consider "Patient B goes away after a merge and/or can no longer login" an issue.</p>



<a name="175752294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175752294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175752294">(Sep 15 2019 at 14:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span> the "no longer login" is complicated (for us).  There are several cases here:<br>
1. Neither of the two Patient records has a User record associated with it.  (N/A for you, since the user won't be able to authorize Apple)<br>
2. Only the source Patient record has a User record associated with it.<br>
3. Only the destination Patient record has a User record associated with it.<br>
4. Both the source and destination Patient records have User records associated with them.<br>
In cases 2 and 3, the User record will automatically get access to the resultant patient.<br>
In case 2, the FHIR ID will change.<br>
In case 3, the FHIR ID will remain the same.<br>
In case 4, we have several options for how and if to auto-merge user accounts, so your mileage may vary.</p>



<a name="175752380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175752380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175752380">(Sep 15 2019 at 14:52)</a>:</h4>
<p>So the "no longer able to login" issue is really related to #4, which is really about User account merging more than patient merging.</p>



<a name="175752381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175752381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175752381">(Sep 15 2019 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191764">@Cooper Thompson</span> Yes, I recognize this is complicated. I'm trying to think how a "vanilla" solution could work, thinking I know only what I know, which is what SMART specifies (token bound to Patient) and what Argonaut exposes.</p>



<a name="175753224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175753224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175753224">(Sep 15 2019 at 15:15)</a>:</h4>
<p>this discussion mirrors the discussion the Merge track at fhir connectathon had.  see the output on the <a class="stream" data-stream-id="179254" href="/#narrow/stream/179254-patient-administration-WG">#patient administration WG</a></p>



<a name="175754262"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175754262" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175754262">(Sep 15 2019 at 15:42)</a>:</h4>
<p>So far my conclusion is: We're going to have to build an IG around the subscription for combine and uncombine. Allow for many different ways of qualifying that will work for most systems</p>



<a name="175754273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175754273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175754273">(Sep 15 2019 at 15:43)</a>:</h4>
<p>The url for the topic will point to the IG, which is how an app knows "This is the subscription you want"</p>



<a name="175754277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175754277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175754277">(Sep 15 2019 at 15:43)</a>:</h4>
<p>But each system will/may define criteria so that it works for the underlying implementation</p>



<a name="175754323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175754323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175754323">(Sep 15 2019 at 15:44)</a>:</h4>
<p>What we really need to do then (if that is an accurate conclusion) is make sure the Topic can handle the scenarios</p>



<a name="175754332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175754332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175754332">(Sep 15 2019 at 15:44)</a>:</h4>
<p>One gap we've identified is the lack of ability to trigger on Operation success (failure??). I assume the outcome of the operation would have to come into play here</p>



<a name="175754346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175754346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175754346">(Sep 15 2019 at 15:45)</a>:</h4>
<p>This only deals with the <em>notify</em> part of the merge/unmerge, not the logistics of how to trigger a merge</p>



<a name="175754406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175754406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175754406">(Sep 15 2019 at 15:46)</a>:</h4>
<p>OTOH, without subscription (eg: for DSTU 2 servers that are in the wild today), we need to figure out something as well</p>



<a name="175754640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175754640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175754640">(Sep 15 2019 at 15:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191764">@Cooper Thompson</span>  for this statement: "There are several challenges with Patient.link though. Adding a link makes the patient resource include data for multiple patients. Even if they are merged and conceptually the same, they are different records, and a client that has SMART scopes only for a single patient might not be allowed to see the content in Patient.link."</p>



<a name="175754665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175754665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175754665">(Sep 15 2019 at 15:53)</a>:</h4>
<p>For us, the link only exists while the system thinks they're conceptually the same. I am curious how RelatedPerson works if the primary concern is the relationship to another record in your system (or was this just a general concern)?</p>



<a name="175754988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175754988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175754988">(Sep 15 2019 at 16:02)</a>:</h4>
<p>Actually, let me retract my comment about Patient.link in this case.  I was focused on what we currently do, and some internals for how we represent stuff.  I think we could support Patient.link[replaces].    I'm still not liking the Patient.link[replaced-by] though.   I'm open to being convinced though.</p>



<a name="175755680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175755680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175755680">(Sep 15 2019 at 16:23)</a>:</h4>
<p>Patient.link[replaced-by] would be neat to detect that you were logged in to patient B (the merge loser in our previous exchanges) and would clearly state to me as a client what happened (merged away) and what I need to do (quarantaine the data, ask the user to log in again, which will give dem new tokens for the new patient ID, which I could even validate – to check that they didn't pick somebody else entirely). Of course this is only useful if I can actually access that Patient resource, i.e. the refresh  tokens stay alive.</p>



<a name="175757612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179175-argonaut/topic/US%20Core%20R4%20Breakout/near/175757612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179175-argonaut/topic/US.20Core.20R4.20Breakout.html#175757612">(Sep 15 2019 at 17:14)</a>:</h4>
<p>to more fun topics for today's breakout</p>
<p>hidden server values - redux<br>
diagnosticreport profile search conformance by profile<br>
summary of outcomes </p>
<p>Here is a <a href="https://docs.google.com/document/d/1OUeAN0c8Juuu4Djqmt979svL3O-tQ2TvidS5BX4mAho/edit" target="_blank" title="https://docs.google.com/document/d/1OUeAN0c8Juuu4Djqmt979svL3O-tQ2TvidS5BX4mAho/edit">link</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
