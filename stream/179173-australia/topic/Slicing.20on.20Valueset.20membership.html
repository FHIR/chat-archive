---
layout: page
title: "FHIR Chat  · Slicing on Valueset membership · australia"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179173-australia/index.html">australia</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html">Slicing on Valueset membership</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="162484446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162484446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162484446">(Apr 04 2019 at 00:59)</a>:</h4>
<p>Working on AU base there are a few spots where we would like to have slices indicating value set bindings that are useful  - then downstream specs can mandate or indicate must support as desired .e.g HealthccareService.speciailty  - have been referring to discussion <a href="#narrow/stream/179252-IG-creation/topic/slicing.20on.20a.20value.20set" title="#narrow/stream/179252-IG-creation/topic/slicing.20on.20a.20value.20set">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/slicing.20on.20a.20value.20set</a> - am trying to achieve the following</p>



<a name="162484542"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162484542" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162484542">(Apr 04 2019 at 01:00)</a>:</h4>
<p>why slice? why not just define the value set in the base IG?</p>



<a name="162484845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162484845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162484845">(Apr 04 2019 at 01:07)</a>:</h4>
<p>fair point - think that would be simpler... wanted to allow people to opt-in to must support / mandatory  and not stop other code usage  - so if they made specialty mandatory it did not require support for the binding unless they wanted that as well (that is why I sliced)</p>



<a name="162485018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162485018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162485018">(Apr 04 2019 at 01:10)</a>:</h4>
<p>can I go from preferred to required in derived IG constraints on binding?  that might do</p>



<a name="162485027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162485027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162485027">(Apr 04 2019 at 01:10)</a>:</h4>
<p>sure</p>



<a name="162485050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162485050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162485050">(Apr 04 2019 at 01:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> <span class="user-mention" data-user-id="191376">@Jim Steel</span>  any comments?</p>



<a name="162485109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162485109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162485109">(Apr 04 2019 at 01:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191682">@Richard Townley-O'Neill</span>  <span class="user-mention" data-user-id="192379">@Dusica Bojicic</span></p>



<a name="162486035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162486035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162486035">(Apr 04 2019 at 01:31)</a>:</h4>
<p>Slicing demonstrates several bindings, but here there is only one of interest. Using a preferred binding in AU base is simple and will allow us to easily make it required in a derived profile.</p>
<p>I expect that here the Agency will want something like the following:</p>
<blockquote>
<p>Uncoded text is permitted<br>
If any codes are included, a code from abc is required<br>
Other codes are permitted</p>
</blockquote>



<a name="162486116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162486116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162486116">(Apr 04 2019 at 01:33)</a>:</h4>
<p>which might want slicing of specialty.coding, but not of specialty.</p>



<a name="162486333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162486333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162486333">(Apr 04 2019 at 01:38)</a>:</h4>
<p>I think the only place where I now  have issues is Medication*.code - where wanted to effectively list coding options including PBS, GTIN, MIMS, and multiple levels of AMT (as separate value sets - TP, MP,  CTP, TPP, MPP, TPUU, MPUU)  - want to allow them all to co-exist and specs pick up the slices with desired must support / cardinality constraints</p>



<a name="162486663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162486663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162486663">(Apr 04 2019 at 01:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191368">@Brett Esler</span>  Do you mean that you still see value in slicing Medication*.medication/Medication.code but not in slicing places like HealthcareService.specialty?</p>



<a name="162486664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162486664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162486664">(Apr 04 2019 at 01:44)</a>:</h4>
<p>guess I am back to - is a discriminator type=value, path=coding  going to work?  want validator to select slices based on membership of required binding of coding in slices</p>



<a name="162486757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162486757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162486757">(Apr 04 2019 at 01:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191682">@Richard Townley-O'Neill</span>  yes I think so - the other places than Medication  have only one  preferred valueset so can simplify - medications has a number of binding that make sense and do already co-exist</p>



<a name="162487327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162487327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162487327">(Apr 04 2019 at 01:59)</a>:</h4>
<p>could think about tweaking slicing for meds case to be based on coding.system - define slices for MIMS, GTIN, PBS, and SCT (AMT) - then do some invariants on the AMT slice to check extension (MEdication Type) content - this would mean other SNOMED-CT medicaiton terms (not AMT) would fail - so is a constraint</p>



<a name="162494113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162494113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162494113">(Apr 04 2019 at 04:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191368">@Brett Esler</span>  Here are a couple of slicings<br>
<strong>value is text or from specified code system</strong></p>
<div class="codehilite"><pre><span></span>specialty       0..*    Slice: Closed by exists:coding
specialty       0..*    coded value
    coding      1..1    Binding: myVS (required)
    text        0..1
specialty       0..*    uncoded value
    coding      0..0
    text        1..1
</pre></div>



<a name="162494322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162494322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162494322">(Apr 04 2019 at 04:44)</a>:</h4>
<p><strong>value is text or coding includes a value from specified code system</strong></p>
<div class="codehilite"><pre><span></span>specialty       0..*    Slice: Closed by exists:coding
specialty       0..*    coded value
    coding      1..*    Slice: Open by value:code, value:system
    coding      1..*    Binding: myVS (required)
        system      1..1
        code        1..1
    text        0..1
specialty       0..*    uncoded value
    coding      0..0
    text        1..1
</pre></div>



<a name="162766671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162766671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162766671">(Apr 07 2019 at 18:23)</a>:</h4>
<blockquote>
<p>Uncoded text is permitted<br>
If any codes are included, a code from abc is required<br>
Other codes are permitted</p>
</blockquote>
<p>lines 2 &amp; 3 seem to contradict each other...</p>



<a name="162766744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Slicing%20on%20Valueset%20membership/near/162766744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Slicing.20on.20Valueset.20membership.html#162766744">(Apr 07 2019 at 18:25)</a>:</h4>
<p>additional codes</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
