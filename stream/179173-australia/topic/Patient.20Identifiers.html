---
layout: page
title: "FHIR Chat  · Patient Identifiers · australia"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179173-australia/index.html">australia</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html">Patient Identifiers</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="159979325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/159979325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#159979325">(Mar 05 2019 at 05:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191368">@Brett Esler</span> looking at the AU Patient profile, the coding is assigned fixed values at system/code level. It's necessary, when you're slicing, to the put the fixed values where the discriminator is stated e.g. pattern with code &amp; system</p>



<a name="160035793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160035793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160035793">(Mar 05 2019 at 20:08)</a>:</h4>
<p>Thanksi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  so  instead of <strong>Patient.identifier</strong> slice on  <strong>type</strong> would I slice on <strong>type.coding.code</strong> and <strong>type.coding.system</strong>  or is pattern the way to go?  I think we steered away from pattern due to  some of the mixed mandatory and optional elements (text + coding)  but think that issue has gone away with changes. <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span>  could you comment on the status of pattern validation in the .NET validator?</p>



<a name="160035934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160035934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160035934">(Mar 05 2019 at 20:10)</a>:</h4>
<p>pattern is the right thing to use</p>



<a name="160060694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160060694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160060694">(Mar 06 2019 at 02:28)</a>:</h4>
<p>In the spec, it says that <em>pattern</em> is mostly used with CodeableConcept - the example for <em>value</em> is Patient.telecom.system, which is kinda close to identifier...</p>



<a name="160060717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160060717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160060717">(Mar 06 2019 at 02:29)</a>:</h4>
<p>well, this slices on both system, which would be value - and type, which would be a pattern</p>



<a name="160060878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160060878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160060878">(Mar 06 2019 at 02:33)</a>:</h4>
<p>That suggests that value is just a subset of pattern... - ie the example given in the spec for <em>value</em> could equally be <em>pattern</em>...</p>



<a name="160060954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160060954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160060954">(Mar 06 2019 at 02:35)</a>:</h4>
<p>the interpretation is different. It's not really about subset</p>



<a name="160061012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160061012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160061012">(Mar 06 2019 at 02:36)</a>:</h4>
<p>I'll go think about it a bit more :)</p>



<a name="160062006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160062006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160062006">(Mar 06 2019 at 02:58)</a>:</h4>
<p>So - assuming I wanted to slice Patient.identifier on system, adding a single optional NHI and any number of others, is this the correct discriminator (value)?</p>
<div class="codehilite"><pre><span></span> &lt;differential&gt;
    &lt;element id=&quot;Patient.identifier&quot;&gt;
      &lt;path value=&quot;Patient.identifier&quot; /&gt;
      &lt;slicing&gt;
        &lt;discriminator&gt;
          &lt;type value=&quot;value&quot; /&gt;
          &lt;path value=&quot;system&quot; /&gt;
        &lt;/discriminator&gt;
        &lt;rules value=&quot;open&quot; /&gt;
      &lt;/slicing&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Patient.identifier:NHI&quot;&gt;
      &lt;path value=&quot;Patient.identifier&quot; /&gt;
      &lt;sliceName value=&quot;NHI&quot; /&gt;
      &lt;max value=&quot;1&quot; /&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Patient.identifier:NHI.system&quot;&gt;
      &lt;path value=&quot;Patient.identifier.system&quot; /&gt;
      &lt;fixedUri value=&quot;https://standards.digital.health.nz/nhi&quot; /&gt;
    &lt;/element&gt;
    &lt;element id=&quot;Patient.identifier:Others&quot;&gt;
      &lt;path value=&quot;Patient.identifier&quot; /&gt;
      &lt;sliceName value=&quot;Others&quot; /&gt;
    &lt;/element&gt;
  &lt;/differential&gt;
</pre></div>



<a name="160062929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160062929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160062929">(Mar 06 2019 at 03:18)</a>:</h4>
<p>I think so</p>



<a name="160063327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160063327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160063327">(Mar 06 2019 at 03:27)</a>:</h4>
<p>good oh! btw - I get this error when I build the IG:</p>
<p>StructureDefinition/nzpatient: StructureDefinition.differential error   No slicing on the root element [element.first().slicing.empty()]</p>
<p>The profile was generated using Forge...</p>



<a name="160063340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160063340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160063340">(Mar 06 2019 at 03:27)</a>:</h4>
<p>(from the qa.html file that gets generated...)</p>



<a name="160063342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160063342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160063342">(Mar 06 2019 at 03:27)</a>:</h4>
<p>aiming for perfection :)</p>



<a name="160063667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160063667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160063667">(Mar 06 2019 at 03:34)</a>:</h4>
<p>btw - the error goes away if I make a change on an element that appears before identifier (ie language) so I suspect an error with the validator...</p>



<a name="160065256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160065256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160065256">(Mar 06 2019 at 04:10)</a>:</h4>
<p>put in a base entry</p>
<p>&lt;element&gt;  &lt;path value="Patient"&gt; &lt;/element&gt;</p>



<a name="160065274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160065274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160065274">(Mar 06 2019 at 04:10)</a>:</h4>
<p>The error isn't with the validator but with the rule defined on the structure definition</p>



<a name="160065284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160065284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160065284">(Mar 06 2019 at 04:11)</a>:</h4>
<p>you make a task for us to sort that</p>



<a name="160066070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160066070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160066070">(Mar 06 2019 at 04:30)</a>:</h4>
<p>does this mean can only discriminate by pattern or value - but not both - some slices by pattern ,some by fixed value?</p>



<a name="160067454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160067454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160067454">(Mar 06 2019 at 05:05)</a>:</h4>
<p>pattern or value is assigned y the discriminator, not the slice</p>



<a name="160152452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160152452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160152452">(Mar 06 2019 at 23:46)</a>:</h4>
<p>I can only really get this to work by having pattern defined on all the slices for type - and slice will not be selected unless the type is set (regardless of system  being a match) - this leads me to mandating 1..1 Patient.identifier.type with a pattern on each slice and Patient.system becomes  not required for a slice match  at all - so effectively every slice needs a type defined and required</p>



<a name="160152463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160152463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160152463">(Mar 06 2019 at 23:47)</a>:</h4>
<p>can not see a way around that</p>



<a name="160152498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160152498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160152498">(Mar 06 2019 at 23:47)</a>:</h4>
<p>it does make the definitions much simpler and easier to understand</p>



<a name="160152504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160152504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160152504">(Mar 06 2019 at 23:47)</a>:</h4>
<blockquote>
<p>I can only really get this to work by having pattern defined on all the slices for type </p>
</blockquote>
<p>why?</p>



<a name="160152586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160152586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160152586">(Mar 06 2019 at 23:48)</a>:</h4>
<p>if I don't have pattern defined ig builder errors - one tic will commit to show</p>



<a name="160152902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179173-australia/topic/Patient%20Identifiers/near/160152902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179173-australia/topic/Patient.20Identifiers.html#160152902">(Mar 06 2019 at 23:53)</a>:</h4>
<p>take that back - things look okay ... will report if any other issues...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
