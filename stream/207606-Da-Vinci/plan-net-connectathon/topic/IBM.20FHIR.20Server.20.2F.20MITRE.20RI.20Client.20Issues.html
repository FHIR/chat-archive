---
layout: page
title: "FHIR Chat  · IBM FHIR Server / MITRE RI Client Issues · Da Vinci/plan-net-connectathon"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/index.html">Da Vinci/plan-net-connectathon</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html">IBM FHIR Server / MITRE RI Client Issues</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="209717255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209717255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209717255">(Sep 10 2020 at 22:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191676">@Lee Surprenant</span> <br>
This query runs well:<br>
<a href="https://davinci-plan-net-ri.logicahealth.org/fhir/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000&amp;_has:OrganizationAffiliation:location:role=pharmacy&amp;_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location&amp;_revinclude=OrganizationAffiliation:location">https://davinci-plan-net-ri.logicahealth.org/fhir/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000&amp;_has:OrganizationAffiliation:location:role=pharmacy&amp;_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location&amp;_revinclude=OrganizationAffiliation:location</a></p>
<p>The same query returns an error code when run against the IBM Server.   Not sure about the error.  Can you say whether it is justified?<br>
<a href="https://cluster1-573846-250babbbe4c3000e15508cd07c1d282b-0000.us-east.containers.appdomain.cloud/open/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000&amp;_has:OrganizationAffiliation:location:role=pharmacy&amp;_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location&amp;_revinclude=OrganizationAffiliation:location">https://cluster1-573846-250babbbe4c3000e15508cd07c1d282b-0000.us-east.containers.appdomain.cloud/open/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000&amp;_has:OrganizationAffiliation:location:role=pharmacy&amp;_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location&amp;_revinclude=OrganizationAffiliation:location</a></p>
<p>returns:<br>
{<br>
    "resourceType": "OperationOutcome",<br>
    "id": "ac-11-3d-8a-2eaf5074-2bf2-4e63-a3e6-b5623bc58e41",<br>
    "issue": [<br>
        {<br>
            "severity": "fatal",<br>
            "code": "invalid",<br>
            "details": {<br>
                "text": "Search parameter '_has' for resource type 'Location' was not found."<br>
            },<br>
            "expression": [<br>
                "&lt;empty&gt;"<br>
            ]<br>
        }<br>
    ]<br>
}</p>



<a name="209717296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209717296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209717296">(Sep 10 2020 at 22:24)</a>:</h4>
<p>yeah, the query is fine. we just don't support <code>_has</code> yet</p>



<a name="209770789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209770789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209770789">(Sep 11 2020 at 11:54)</a>:</h4>
<p>let me see if can rework the query with forward chaining only</p>



<a name="209773515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209773515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209773515">(Sep 11 2020 at 12:26)</a>:</h4>
<p>i havn't even checked in the capabilitystatement yet about whether reverse chaining (_has) is required to support or not.  we do plan to add it sometime soon (but sadly its a bigger lift than i could accomplish during connectathon)</p>



<a name="209776008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209776008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209776008">(Sep 11 2020 at 12:50)</a>:</h4>
<p>do CapabilityStatements + SearchParameter definitions even have the ability to capture which reverse chaining parameters are required?!</p>



<a name="209776044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209776044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209776044">(Sep 11 2020 at 12:50)</a>:</h4>
<p>I see <a href="https://www.hl7.org/fhir/searchparameter-definitions.html#SearchParameter.chain">https://www.hl7.org/fhir/searchparameter-definitions.html#SearchParameter.chain</a> but nothing about reverse chaining</p>



<a name="209783328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209783328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209783328">(Sep 11 2020 at 13:53)</a>:</h4>
<p>I was wondering the same thing.   I've consulted my CapStmt experts, and one of them tells me that it can be stated.    Will be looking into it.</p>



<a name="209798169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209798169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209798169">(Sep 11 2020 at 15:48)</a>:</h4>
<p>Queries can't easily be rewritten with forward chaining.   Queries need to use Location as focal resource in order to have server do filtering by location. If I rewrite the queries with OrganizationAffiliation as focal resource, and constrain to those having a location that is geographically appropriate, and include location, the query returns all of the locations associated with the organizationAffiliation. That will impose a burden on both server and client.</p>
<p>This is how the query would look:<br>
<a href="https://davinci-plan-net-ri.logicahealth.org/fhir/OrganizationAffiliation?network=plannet-network-HPID030000&amp;role=pharmacy&amp;specialty=3336C0003X&amp;_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-OrganizationAffiliation&amp;_include=OrganizationAffiliation:location&amp;location.address=06040,06074,06043,06118,06041">https://davinci-plan-net-ri.logicahealth.org/fhir/OrganizationAffiliation?network=plannet-network-HPID030000&amp;role=pharmacy&amp;specialty=3336C0003X&amp;_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-OrganizationAffiliation&amp;_include=OrganizationAffiliation:location&amp;location.address=06040,06074,06043,06118,06041</a></p>
<p>The current query looks like:<br>
<a href="https://davinci-plan-net-ri.logicahealth.org/fhir/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000&amp;_has:OrganizationAffiliation:location:role=pharmacy&amp;_has:OrganizationAffiliation:location:specialty=3336C0003X&amp;_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location&amp;_revinclude=OrganizationAffiliation:location&amp;address=06040,06074,06043,06118,06041">https://davinci-plan-net-ri.logicahealth.org/fhir/Location?_has:OrganizationAffiliation:location:network=Organization/plannet-network-HPID030000&amp;_has:OrganizationAffiliation:location:role=pharmacy&amp;_has:OrganizationAffiliation:location:specialty=3336C0003X&amp;_profile=http://hl7.org/fhir/us/davinci-pdex-plan-net/StructureDefinition/plannet-Location&amp;_revinclude=OrganizationAffiliation:location&amp;address=06040,06074,06043,06118,06041</a></p>



<a name="209799519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209799519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209799519">(Sep 11 2020 at 15:59)</a>:</h4>
<blockquote>
<p>I was wondering the same thing. I've consulted my CapStmt experts, and one of them tells me that it can be stated. Will be looking into it.</p>
</blockquote>
<p>Well i looked for a while and couldn't find it, so do share if you find it :-)</p>



<a name="209799898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209799898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209799898">(Sep 11 2020 at 16:01)</a>:</h4>
<p>Actually, my expert was confused, and recanted.    Only way to state it appears to be in the narrative.</p>



<a name="209804170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209804170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209804170">(Sep 11 2020 at 16:34)</a>:</h4>
<p>Should we open a JIRA to have them add it somewhere?</p>



<a name="209820990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209820990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209820990">(Sep 11 2020 at 18:56)</a>:</h4>
<p><span class="user-mention" data-user-id="215604">@Saul Kravitz</span> can you include this one in the track report-out?</p>



<a name="209821034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/209821034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#209821034">(Sep 11 2020 at 18:57)</a>:</h4>
<p>and let me know if you'd like me to open a ticket for it</p>



<a name="210029728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/210029728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#210029728">(Sep 14 2020 at 16:26)</a>:</h4>
<p>I'll add some narrative in the CapStmt.   Can't recall whether it made it into the report out, but my todo list are the issues in zulip.</p>



<a name="210031455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/210031455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#210031455">(Sep 14 2020 at 16:41)</a>:</h4>
<p>To me, the issue would be for fhir core, so that (maybe for R5?) there is a machine-readable way to:</p>
<ol>
<li>specify whether servers are required to support reverse chaining or not (via CapabilityStatement shipped in the IG); and</li>
<li>specify whether a given implement supports reverse chaining or not</li>
</ol>
<p>In either case, a "first cut" could be whether it supports it in general (e.g. by listing "_has" as a search parameter), but in the end I'd expect it to be more like SearchParameter.chain which specifies chained fields support chaining and which do not.  Maybe it is even implied that anywhere forward chaining is supported, the corresponding reverse chain should be supported as well?</p>



<a name="210035493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/IBM%20FHIR%20Server%20/%20MITRE%20RI%20Client%20Issues/near/210035493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/IBM.20FHIR.20Server.20.2F.20MITRE.20RI.20Client.20Issues.html#210035493">(Sep 14 2020 at 17:14)</a>:</h4>
<p>I went ahead and opened <a href="http://jira.hl7.org/browse/FHIR-28534">FHIR#28534</a> for that part of it (independent from updating the narrative in the plannet IG I think)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
