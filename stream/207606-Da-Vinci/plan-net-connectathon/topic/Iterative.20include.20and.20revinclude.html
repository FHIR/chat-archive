---
layout: page
title: "FHIR Chat  · Iterative include and revinclude · Da Vinci/plan-net-connectathon"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/index.html">Da Vinci/plan-net-connectathon</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/Iterative.20include.20and.20revinclude.html">Iterative include and revinclude</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="197621298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/Iterative%20include%20and%20revinclude/near/197621298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/Iterative.20include.20and.20revinclude.html#197621298">(May 14 2020 at 21:34)</a>:</h4>
<p>Scenario 5a is a doosey:  <code>{{url}}/Practitioner?identifier=1230782571&amp;_revinclude=PractitionerRole:practitioner&amp;_include=PractitionerRole:organization</code></p>



<a name="197621330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/Iterative%20include%20and%20revinclude/near/197621330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/Iterative.20include.20and.20revinclude.html#197621330">(May 14 2020 at 21:34)</a>:</h4>
<p>Our server rejects that with </p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;OperationOutcome&quot;,
    &quot;id&quot;: &quot;ac-1e-23-d8-de0de6ae-b3c4-45e9-910e-4cef9a025264&quot;,
    &quot;issue&quot;: [
        {
            &quot;severity&quot;: &quot;fatal&quot;,
            &quot;code&quot;: &quot;invalid&quot;,
            &quot;details&quot;: {
                &quot;text&quot;: &quot;The join resource type must match the resource type being searched.&quot;
            },
            &quot;expression&quot;: [
                &quot;&lt;empty&gt;&quot;
            ]
        }
    ]
}
</code></pre></div>



<a name="197621341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/Iterative%20include%20and%20revinclude/near/197621341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/Iterative.20include.20and.20revinclude.html#197621341">(May 14 2020 at 21:34)</a>:</h4>
<p>and I think its right</p>



<a name="197621424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/Iterative%20include%20and%20revinclude/near/197621424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/Iterative.20include.20and.20revinclude.html#197621424">(May 14 2020 at 21:35)</a>:</h4>
<p>I <em>think</em> that query is trying to say "_revinclude practitionerRoles for this practitioner and then include all the organizations referenced from those practitionerRoles"</p>



<a name="197621508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/Iterative%20include%20and%20revinclude/near/197621508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/Iterative.20include.20and.20revinclude.html#197621508">(May 14 2020 at 21:36)</a>:</h4>
<p>but per <a href="https://www.hl7.org/fhir/search.html#include">https://www.hl7.org/fhir/search.html#include</a> I think it would need an <code>iterate</code> modifier to do that</p>



<a name="197621527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/Iterative%20include%20and%20revinclude/near/197621527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/Iterative.20include.20and.20revinclude.html#197621527">(May 14 2020 at 21:36)</a>:</h4>
<blockquote>
<p>The inclusion process can be iterative, if (and only if) the modifier :iterate is included. For example, this search returns all Medication Request resources and their prescribing Practitioner Resources for the matching Medication Dispense resources:</p>
</blockquote>
<div class="codehilite"><pre><span></span><code>GET [base]/MedicationDispense?_include=MedicationDispense:prescription
    &amp;_include:iterate=MedicationRequest:performer&amp;criteria...
</code></pre></div>



<a name="197621588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/Iterative%20include%20and%20revinclude/near/197621588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/Iterative.20include.20and.20revinclude.html#197621588">(May 14 2020 at 21:37)</a>:</h4>
<p>I'd imagine the query could be re-written to avoid this...let me know if you'd like me to try my hand at that</p>



<a name="197626533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/207606-Da%20Vinci/plan-net-connectathon/topic/Iterative%20include%20and%20revinclude/near/197626533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/207606-Da-Vinci/plan-net-connectathon/topic/Iterative.20include.20and.20revinclude.html#197626533">(May 14 2020 at 22:30)</a>:</h4>
<p><span class="user-mention" data-user-id="225612">@Stephen MacVicar</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
