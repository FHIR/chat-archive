---
layout: page
title: "FHIR Chat  · ✔ error in SMART app, after redirect · Da Vinci DTR"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/197320-Da-Vinci-DTR/index.html">Da Vinci DTR</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/197320-Da-Vinci-DTR/topic/.E2.9C.94.20error.20in.20SMART.20app.2C.20after.20redirect.html">✔ error in SMART app, after redirect</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="164887173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/197320-Da%20Vinci%20DTR/topic/%E2%9C%94%20error%20in%20SMART%20app%2C%20after%20redirect/near/164887173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Haren <a href="https://fhir.github.io/chat-archive/stream/197320-Da-Vinci-DTR/topic/.E2.9C.94.20error.20in.20SMART.20app.2C.20after.20redirect.html#164887173">(May 04 2019 at 21:12)</a>:</h4>
<p>Getting this error, after app launched in HSPC sandbox:<br>
<a href="/user_uploads/10155/qX01nltt2UR5OfiacNFCRDGE/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/qX01nltt2UR5OfiacNFCRDGE/pasted_image.png" target="_blank" title="pasted image"><img src="/user_uploads/10155/qX01nltt2UR5OfiacNFCRDGE/pasted_image.png"></a></div>



<a name="164887194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/197320-Da%20Vinci%20DTR/topic/%E2%9C%94%20error%20in%20SMART%20app%2C%20after%20redirect/near/164887194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Haren <a href="https://fhir.github.io/chat-archive/stream/197320-Da-Vinci-DTR/topic/.E2.9C.94.20error.20in.20SMART.20app.2C.20after.20redirect.html#164887194">(May 04 2019 at 21:13)</a>:</h4>
<p>it is not referencing the patient in the resource request and has an 'undefined' at the tail of the request?!</p>



<a name="164901386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/197320-Da%20Vinci%20DTR/topic/%E2%9C%94%20error%20in%20SMART%20app%2C%20after%20redirect/near/164901386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Haren <a href="https://fhir.github.io/chat-archive/stream/197320-Da-Vinci-DTR/topic/.E2.9C.94.20error.20in.20SMART.20app.2C.20after.20redirect.html#164901386">(May 05 2019 at 04:22)</a>:</h4>
<p>Looks like this is an issue with the HSPC sandbox and the fact that there is nothing in the SMART app launch specification related to the appContext (it is only mentioned in cds-hooks spec). I've revived a chat in the <a class="stream" data-stream-id="179159" href="/#narrow/stream/179159-cds-hooks">#cds hooks</a> stream on this.<br>
Thus, I suspect that passing the order/requestID and the questionnaireURI in the appContext will only work in the RI EHR simulator.<br>
A workaround is to use an additional query param in the launch url. The app will need to persist the param (e.g. via session storage) in the launch and then retrieve in the redirect. This has worked with Epic and the sandboxes in the past, but is undocumented, so it is better to push for the assumed behaviour to be implemented, as described in the cds specification.</p>



<a name="164925081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/197320-Da%20Vinci%20DTR/topic/%E2%9C%94%20error%20in%20SMART%20app%2C%20after%20redirect/near/164925081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keeyan Ghoreshi <a href="https://fhir.github.io/chat-archive/stream/197320-Da-Vinci-DTR/topic/.E2.9C.94.20error.20in.20SMART.20app.2C.20after.20redirect.html#164925081">(May 05 2019 at 15:58)</a>:</h4>
<p>Yes there is an option to use the url params to pass in information.  That feature was recently disabled</p>



<a name="267037736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/197320-Da%20Vinci%20DTR/topic/%E2%9C%94%20error%20in%20SMART%20app%2C%20after%20redirect/near/267037736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> radon <a href="https://fhir.github.io/chat-archive/stream/197320-Da-Vinci-DTR/topic/.E2.9C.94.20error.20in.20SMART.20app.2C.20after.20redirect.html#267037736">(Jan 06 2022 at 08:52)</a>:</h4>
<p>I tried implementing Documentation Requirements Lookup Service (DRLS) in my local(windows) machine.</p>
<p>CRD-https://github.com/HL7-DaVinci/CRD<br>
DTR-https://github.com/HL7-DaVinci/dtr</p>
<p>facing redirect issue</p>
<p><a href="https://github.com/HL7-DaVinci/dtr/issues/137#issuecomment-1006326332">https://github.com/HL7-DaVinci/dtr/issues/137#issuecomment-1006326332</a></p>



<a name="267356464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/197320-Da%20Vinci%20DTR/topic/%E2%9C%94%20error%20in%20SMART%20app%2C%20after%20redirect/near/267356464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/197320-Da-Vinci-DTR/topic/.E2.9C.94.20error.20in.20SMART.20app.2C.20after.20redirect.html#267356464">(Jan 09 2022 at 12:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="421217">radon</span> has marked this topic as resolved.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
