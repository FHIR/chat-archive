---
layout: page
title: "FHIR Chat  · Switching patient context for provider launch · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html">Switching patient context for provider launch</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="230038552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/230038552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Shah <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#230038552">(Mar 12 2021 at 14:35)</a>:</h4>
<p>Hello everyone,<br>
During post login with launch/patient, when a patient has been chosen from patient picker and tokens have been issued, if user wants to switch the patient, what are the recommended options?<br>
Can we display patient picker somehow on client app without performing oauth login again? How and when app can request that? <br>
Is it something that app would generally use to trigger that oauth login flow to display patient picker?<br>
Any suggestions?</p>



<a name="230041455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/230041455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#230041455">(Mar 12 2021 at 14:54)</a>:</h4>
<p>App has to initiate a new authorization sequence. The token it has allow access only to the selected patient, so all the other patients are not accessible that prevent any patient-picker to be in the app itself</p>



<a name="230043243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/230043243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Shah <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#230043243">(Mar 12 2021 at 15:04)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191912">@Michele Mottini</span> . That was my thought too. Now, if the app also has user/Patient.read access and has a capability select patient from FHIR search API, can it have access to FHIR record of that patient without requesting for oauth login and access token (with patient field into it) flow?</p>



<a name="230044571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/230044571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#230044571">(Mar 12 2021 at 15:11)</a>:</h4>
<p>Yes, app could use user scopes, and then typically not use <code>launch/patient</code> and do everything app-side: get all the accessible patient with a <code>GET [base]/Patient</code> query and do patient selection or get data for all of them<br>
The server must support user scopes and patient searches without any parameters<br>
It is a workflow that is not widely supported nor used (eg CARIN mandates only the patient one for example)</p>



<a name="230047290"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/230047290" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sagar Shah <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#230047290">(Mar 12 2021 at 15:28)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191912">@Michele Mottini</span> for clarifying! I think from Cures 21 Century Act, we may need to support both patient and user scopes on FHIR servers</p>



<a name="234886172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/234886172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Sole <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#234886172">(Apr 16 2021 at 16:45)</a>:</h4>
<p>So, if I am an authorized representative, and I go through the launch scope, authenticate myself and select a patient. I can now see the content for that patient. Now, I want to select another patient - I need to go through the launch scope again, authenticate myself, provide consent again and select a different patient. Then if I want to go back to the previous patient, or go to a third patient, do I have to launch again, authenticate again, consent again and select different patient. Just trying to understand how SMART supports the authorized representative scenario. Thanks</p>



<a name="234886484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/234886484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Sole <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#234886484">(Apr 16 2021 at 16:47)</a>:</h4>
<p>Would a GET [base]/Patient not just get the resource for the requested or token based patient.  To get multiple patients, you need multiple tokens since each token only has reference to one patient.</p>



<a name="234887560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/234887560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#234887560">(Apr 16 2021 at 16:55)</a>:</h4>
<p>An app can opt into either behavior:</p>
<ol>
<li>Request <code>patient/</code> scopes and re-launch for each patient</li>
<li>Request <code>user/</code> scopes and launch just once</li>
</ol>



<a name="234919274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/234919274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Sole <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#234919274">(Apr 16 2021 at 20:55)</a>:</h4>
<p>If the app user is an authorized rep user/ scopes - launched once - how is the patient selected.  Does the RelatedPerson resource need to contain a list of all available patients for the user?</p>



<a name="234919831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/234919831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Sole <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#234919831">(Apr 16 2021 at 20:59)</a>:</h4>
<p>Suggestion for SMART v2 - allow launch context for authorized rep with response that includes multiple patient identifiers - app make API calls for all supplied patients with the same scope granted by the patients during the authorized representative process created by the EHR</p>



<a name="234920235"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/234920235" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#234920235">(Apr 16 2021 at 21:01)</a>:</h4>
<p>In the user scope, launch just once case the app does a 'give me all patients' search (GET [base]/Patient)  that returns all patient that the user can access</p>



<a name="235185962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/235185962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gary Sole <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#235185962">(Apr 19 2021 at 14:07)</a>:</h4>
<p>Thanks - does the app need to know the user is an authorized rep rather than a patient?</p>



<a name="235188117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Switching%20patient%20context%20for%20provider%20launch/near/235188117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Switching.20patient.20context.20for.20provider.20launch.html#235188117">(Apr 19 2021 at 14:20)</a>:</h4>
<p>In the general case, the app might not even need to know who the user is. But if the app does need to know who the user is, the <code>openid fhirUser</code> Scopes can request this information. It should be clear whether the user is the patient or not by comparing the patient ID received versus the fhir user received.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
