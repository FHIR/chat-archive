---
layout: page
title: "FHIR Chat  · The grant_type in the Client Credential flow · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/The.20grant_type.20in.20the.20Client.20Credential.20flow.html">The grant_type in the Client Credential flow</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="225563759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/The%20grant_type%20in%20the%20Client%20Credential%20flow/near/225563759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> B Stibbe <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/The.20grant_type.20in.20the.20Client.20Credential.20flow.html#225563759">(Feb 08 2021 at 15:53)</a>:</h4>
<p>Hello,</p>
<p>I want to use the <strong>Client Credentials Flow</strong> Diagram to get an access token from the Authorization Server.<br>
Further, I want to use the <strong>client secret jwt flow</strong> as described in  <a href="https://openid.net/specs/openid-connect-core-1_0.html#OAuth.JWT">https://openid.net/specs/openid-connect-core-1_0.html#OAuth.JWT</a> 9. Client Authentication</p>
<p>So my token request to the Authorization Server is something like:<br>
POST /oauthuri/token<br>
Accept: application/json<br>
Content-Type: application/x-www-form-urlencoded</p>
<p>grant_type=client_credentials<br>
&amp;client_id=appId <br>
&amp;client_assertion=Signed_JWT_WITH_ client_secret<br>
&amp;client_assertion_type="urn:ietf:params:oauth:client-assertion-type:jwt-bearer"</p>
<p>My question is: is the grant_type correct or should I use grant_type=authorization_code.</p>
<p>The response should be something, like:<br>
{<br>
  "access_token":"dtJraWQiCiJ1rdG.eyJhenDdiJteS1j.THfffuX7Ly4g",<br>
  "token_type":"bearer",<br>
  "expires_in":59,<br>
  "scope":"system/ResourceType.*"<br>
}</p>



<a name="225564884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/The%20grant_type%20in%20the%20Client%20Credential%20flow/near/225564884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/The.20grant_type.20in.20the.20Client.20Credential.20flow.html#225564884">(Feb 08 2021 at 16:00)</a>:</h4>
<p><code>client_credentials</code> is the correct grant type. The request should specify also the requested scopes. No double quote in the client_assertion_type value. Values should be URL encoded.</p>



<a name="225564932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/The%20grant_type%20in%20the%20Client%20Credential%20flow/near/225564932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/The.20grant_type.20in.20the.20Client.20Credential.20flow.html#225564932">(Feb 08 2021 at 16:01)</a>:</h4>
<p>See <a href="http://hl7.org/fhir/uv/bulkdata/authorization/index.html#3-obtain-an-access-token">http://hl7.org/fhir/uv/bulkdata/authorization/index.html#3-obtain-an-access-token</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
