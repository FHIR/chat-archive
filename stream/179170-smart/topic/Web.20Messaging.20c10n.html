---
layout: page
title: "FHIR Chat  · Web Messaging c10n · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html">Web Messaging c10n</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="238720788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/238720788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#238720788">(May 14 2021 at 05:29)</a>:</h4>
<p>Just getting ready for the Connectathon (what I'm abbreviating c10n) track kickoff call tomorrow.</p>



<a name="238803347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/238803347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#238803347">(May 14 2021 at 17:43)</a>:</h4>
<p>Thanks to all who attended the kickoff today!  Please be sure I have your contact info in the <a href="https://tinyurl.com/swm-c10n-here">attendance sheet</a> and put an X next to your name in toe <code>2021-05-14</code> column!</p>
<p>Also, please refer back to the presentation for links to other things I mentioned in the call.<br>
<a href="https://tinyurl.com/swm-c10n">https://tinyurl.com/swm-c10n</a></p>



<a name="239049407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239049407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239049407">(May 17 2021 at 08:13)</a>:</h4>
<p>Quick update on the state of the SWM test app.  I finished adding the ability for the mock EHR to round-trip messages from the app back.  See diagram below:</p>
<p><a href="/user_uploads/10155/cLoqp-FLo6o19uZm4fPMGAip/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/cLoqp-FLo6o19uZm4fPMGAip/image.png" title="image.png"><img src="/user_uploads/10155/cLoqp-FLo6o19uZm4fPMGAip/image.png"></a></div><p>The code is currently here: <a href="https://tinyurl.com/swm-c10n-code">https://tinyurl.com/swm-c10n-code</a></p>



<a name="239101971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239101971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239101971">(May 17 2021 at 14:45)</a>:</h4>
<p>Reminder: I'll be hanging out in <a href="https://tinyurl.com/swm-c10n-live">https://tinyurl.com/swm-c10n-live</a> throughout the day.  Find me if you have feedback or questions!</p>



<a name="239119147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239119147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239119147">(May 17 2021 at 16:23)</a>:</h4>
<p>Update: there is now a SMART Web Messaging <code>npm</code> package available for testing.  Install it thusly:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>npm install --save swm-client-lib
</code></pre></div>
<p>It's an ES6 module, so to use it you will need to import it like this:</p>
<div class="codehilite" data-code-language="JavaScript"><pre><span></span><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">swm</span> <span class="k">from</span> <span class="s1">'swm-client-lib'</span><span class="p">;</span>
</code></pre></div>
<p>More details are coming soon, but EHR developers wishing to use the demo app can see instructions for setting that up here (for now):<br>
<a href="https://github.com/barabo/swm-c10n-demo/tree/main/app#user-instructions">https://github.com/barabo/swm-c10n-demo/tree/main/app#user-instructions</a></p>



<a name="239139673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239139673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239139673">(May 17 2021 at 18:42)</a>:</h4>
<p>Also, setup instructions for <em>app</em> developers can be found here now:<br>
<a href="https://github.com/barabo/swm-c10n-demo/blob/main/ehr/README.md">https://github.com/barabo/swm-c10n-demo/blob/main/ehr/README.md</a></p>



<a name="239292017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239292017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239292017">(May 18 2021 at 17:19)</a>:</h4>
<p>When I try <code>npm install --save swm-client-lib</code> (or <code>npm install</code> or <code>npm ci</code> in the <code>app</code> folder of <a href="https://github.com/barabo/swm-c10n-demo">https://github.com/barabo/swm-c10n-demo</a>) I get</p>
<div class="codehilite"><pre><span></span><code>npm ERR! 404 Not Found - GET https://registry.npmjs.org/swm-client-lib/-/swm-client-lib-1.0.0.tgz - Not found
</code></pre></div>



<a name="239292238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239292238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239292238">(May 18 2021 at 17:21)</a>:</h4>
<p>When running the demo from <a href="https://github.com/barabo/swm-c10n-demo">https://github.com/barabo/swm-c10n-demo</a>, is it possible to use the local lib, rather than installing through NPM? It looks like all the code is present in the <code>lib</code> folder, and installing through npm might get things out of sync.</p>



<a name="239292358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239292358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239292358">(May 18 2021 at 17:21)</a>:</h4>
<p>Also it'd be great to include "getting started" type instructions in the README describing how to clone the repo and run a demo with both components (app + EHR).</p>



<a name="239362634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239362634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239362634">(May 19 2021 at 04:10)</a>:</h4>
<p>Thanks for taking a look at this, Josh!  When I first published the library into npm, I accidentally used version <code>1.0.0</code>, which I didn't want to use yet.  So, I unpublished it and discovered that when you unpublish the <em>only</em> version of a package in npm - they make you wait 24 hours before you can publish again.  <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span></p>



<a name="239423733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239423733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239423733">(May 19 2021 at 13:28)</a>:</h4>
<p>Regarding the library and installing it through npm - I've published version <code>0.1.0</code>, so it is now possible again to npm install it.  However, I'm not sure what the best approach is for running it locally versus npm installing it.  I think the library has stabilized enough that it shouldn't necessarily need to be run locally, but I'm probably jinxing myself by saying that.</p>



<a name="239424777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239424777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239424777">(May 19 2021 at 13:34)</a>:</h4>
<p>I'd say that for projects distributed <em>in the same repo</em> as the library, it'd be good to use local copies so things stay in sync. For others, they might want to use npm repository (but keep in mind that you can also npm install a dependency directly from a GitHub branch).</p>



<a name="239482037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239482037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239482037">(May 19 2021 at 19:25)</a>:</h4>
<p>FWIW: I've published the demo EHR and demo App on GitHub Pages.  You can view the app embedded in the EHR here:<br>
<a href="https://barabo.github.io/swm-c10n-demo/ehr/">https://barabo.github.io/swm-c10n-demo/ehr/</a></p>



<a name="239488146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239488146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239488146">(May 19 2021 at 20:07)</a>:</h4>
<p>Cool! The demo works for me even on mobile :-) I'm assuming that populating the scratchpad array is a TODO?</p>



<a name="239488359"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239488359" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239488359">(May 19 2021 at 20:08)</a>:</h4>
<p>May be good to think about a UX that can handle more than one request in between responses (e.g., surfacing a queue or worklist).</p>



<a name="239500417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239500417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239500417">(May 19 2021 at 21:45)</a>:</h4>
<p>The scratchpad functionality is one of the top TODOs currently.</p>
<ul>
<li>scratchpad create, update, delete</li>
<li>ui.done hides iframe (and a 'show app' button can bring it back)</li>
<li>autofill response in EHR if messageType matches one of the known templates</li>
<li>scope inspection (possibly disabling buttons like <code>ui.launchActivity</code> if the proper scope is missing)</li>
<li>controls to invalidate messagingHandle</li>
</ul>



<a name="239500510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Web%20Messaging%20c10n/near/239500510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Anderson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Web.20Messaging.20c10n.html#239500510">(May 19 2021 at 21:46)</a>:</h4>
<p>I would also like to expose errors in the UI better.  Today they are mostly buried in the browser console.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
