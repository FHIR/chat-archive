---
layout: page
title: "FHIR Chat  · Case in token_type · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Case.20in.20token_type.html">Case in token_type</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="155266435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Case%20in%20token_type/near/155266435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Case.20in.20token_type.html#155266435">(Jan 16 2019 at 16:25)</a>:</h4>
<p>In the JSON Epic returns from our oauth2/token endpoint, we have <code>"token_type": "bearer"</code></p>
<p>Grahame noticed that this doesn't match the case in the  <a href="http://www.hl7.org/fhir/smart-app-launch/#step-3-app-exchanges-authorization-code-for-access-token" target="_blank" title="http://www.hl7.org/fhir/smart-app-launch/#step-3-app-exchanges-authorization-code-for-access-token">SMART spec section 7.1.3</a>, which requires it to be capitalized.  So we can prioritize the fix, who will have trouble based on this?  Are there any validators that will fail because of this?</p>



<a name="155281499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Case%20in%20token_type/near/155281499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Shekleton <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Case.20in.20token_type.html#155281499">(Jan 16 2019 at 19:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191936">@Michael Donnelly</span> - you may want to check popular OSS libraries around this too. I did some informal searches across Github and found that there are lots of people comparing the token type irrespective of case (or lower casing both values before comparing). For instance, <a href="https://github.com/spring-projects/spring-security/blob/master/oauth2/oauth2-core/src/main/java/org/springframework/security/oauth2/core/OAuth2AccessToken.java#L123" target="_blank" title="https://github.com/spring-projects/spring-security/blob/master/oauth2/oauth2-core/src/main/java/org/springframework/security/oauth2/core/OAuth2AccessToken.java#L123">Spring's library does this</a>. That's probably due to the reality of inconsistent <code>Bearer</code> vs <code>bearer</code>.</p>
<p>fyi, <code>Bearer</code> isn't something SMART defined. See corresponding uses of <code>Bearer</code> in <a href="https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse" target="_blank" title="https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse">OpenID Connect 3.1.33</a> and <a href="https://tools.ietf.org/html/rfc6750#page-14" target="_blank" title="https://tools.ietf.org/html/rfc6750#page-14">rfc6750 6.1.1</a></p>



<a name="155346745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Case%20in%20token_type/near/155346745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Case.20in.20token_type.html#155346745">(Jan 17 2019 at 16:03)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191355">@Kevin Shekleton</span></p>



<a name="156360695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Case%20in%20token_type/near/156360695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Case.20in.20token_type.html#156360695">(Jan 18 2019 at 11:16)</a>:</h4>
<p>I now perform case independent comparison. Maybe we should not this somewhere?</p>



<a name="156620378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Case%20in%20token_type/near/156620378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Donnelly <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Case.20in.20token_type.html#156620378">(Jan 22 2019 at 17:01)</a>:</h4>
<p>Note that servers should do it as Bearer?</p>



<a name="156622348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Case%20in%20token_type/near/156622348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Case.20in.20token_type.html#156622348">(Jan 22 2019 at 17:28)</a>:</h4>
<p>I think both are correct: servers should do "Bearer" and clients should be able to deal with "Bearer" as well as "bearer".</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
