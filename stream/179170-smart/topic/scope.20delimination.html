---
layout: page
title: "FHIR Chat  · scope delimination · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20delimination.html">scope delimination</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="198832992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20delimination/near/198832992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20delimination.html#198832992">(May 26 2020 at 23:10)</a>:</h4>
<p>I'm using <a href="https://launch.smarthealthit.org/">https://launch.smarthealthit.org/</a> to test my smart-on-fhir (client) implementation.<br>
It's my understanding that scopes are commonly delimited by a blank space. But it seems that this test client (<a href="http://launch.smarthealthit.org">launch.smarthealthit.org</a>) seems to require that the scopes be delimited using a comma.<br>
Does anyone know why?</p>



<a name="198833667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20delimination/near/198833667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20delimination.html#198833667">(May 26 2020 at 23:20)</a>:</h4>
<p>Not sure what you mean. <a href="http://launch.smarthealthit.org">launch.smarthealthit.org</a> does use space(s).</p>



<a name="198834825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20delimination/near/198834825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20delimination.html#198834825">(May 26 2020 at 23:37)</a>:</h4>
<p>Ok... so, here's my case:</p>
<ol>
<li>go to <a href="http://launch.smarthealthit.org">launch.smarthealthit.org</a></li>
<li>select a single provider (NOT a patient)</li>
<li>launch app (specify url)</li>
<li>app asks authorization for the following scopes: "launch openid profile"</li>
<li><a href="http://launch.smarthealthit.org">launch.smarthealthit.org</a> prompts the user to select a patient. this is where it is wrong. I've asked for it to be provider access (user/**), so why is it asking the user to select a patient? if I replace "launch openid profile" with "launch,openid,profile" then it does not ask the user to select a patient and continues forward in the flow just fine</li>
</ol>



<a name="198841360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20delimination/near/198841360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20delimination.html#198841360">(May 27 2020 at 01:27)</a>:</h4>
<p>You still need a patient (if you are using  the <code>launch</code> or <code>launch/patient</code> scope) and if you didn't select one in advance, it will prompt you to do so after launch. The <code>user/*.*</code> scope just states that you want to be able to access the current user resources.</p>



<a name="198906172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20delimination/near/198906172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20delimination.html#198906172">(May 27 2020 at 15:11)</a>:</h4>
<p>so what is the appropriate scopes to apply that <em>doesn't</em> require a patient context, and indicates a system-wide access/context?</p>



<a name="198906933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20delimination/near/198906933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean McIlvenna <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20delimination.html#198906933">(May 27 2020 at 15:16)</a>:</h4>
<p>it <em>seems</em> that removing "launch" from the scopes seems to have bypassed prompting the user for a patient... so, maybe that's the answer.</p>



<a name="198907986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20delimination/near/198907986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20delimination.html#198907986">(May 27 2020 at 15:22)</a>:</h4>
<p>Here is an easy way to experiment with that:</p>
<ol>
<li>Select a "Provider Standalone Launch" as a launch type</li>
<li>Select a provider</li>
<li>Optionally uncheck the "Skip provider login screen" and "Skip app authorization screen"</li>
<li>Click on the "Test with Sample App" link</li>
</ol>
<p>This will then allow you to try different scopes and see the result</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
