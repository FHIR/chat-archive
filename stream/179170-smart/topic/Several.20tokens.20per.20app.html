---
layout: page
title: "FHIR Chat  · Several tokens per app · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Several.20tokens.20per.20app.html">Several tokens per app</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="200477855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Several%20tokens%20per%20app/near/200477855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Several.20tokens.20per.20app.html#200477855">(Jun 10 2020 at 21:15)</a>:</h4>
<p>In my patient-facing app, I’d like to preserve one token for the patient, for full access. Then I’d like to have another access token, with read-only rights with limited scope, for a use case where the user wants to share a view of the app with peer support / caregiver (or another party who is not a user of the EHR). Is there a way for me to ask for another token, so that the previously retrieved one stays valid too?</p>



<a name="200478338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Several%20tokens%20per%20app/near/200478338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Several.20tokens.20per.20app.html#200478338">(Jun 10 2020 at 21:19)</a>:</h4>
<p>with a second client id, yes.</p>



<a name="200478985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Several%20tokens%20per%20app/near/200478985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Several.20tokens.20per.20app.html#200478985">(Jun 10 2020 at 21:25)</a>:</h4>
<p>Technically, per the general OAuth spec, one of the main reason scopes are both sent and can be returned to the app is so that scope "downgrades" can happen</p>



<a name="200479154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Several%20tokens%20per%20app/near/200479154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Several.20tokens.20per.20app.html#200479154">(Jun 10 2020 at 21:27)</a>:</h4>
<p>So you could have 2 refresh tokens <em>technically</em> for the same application. In one when you kick off auth, you would request the full set. In another you could request a reduced set. Questions arise on how useful that is if they're stored in the same place and around the user possibly getting prompted twice to approve access.</p>



<a name="200479201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Several%20tokens%20per%20app/near/200479201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Several.20tokens.20per.20app.html#200479201">(Jun 10 2020 at 21:27)</a>:</h4>
<p>Some systems could put specific limits on "sessions" for an app as well, but that's not covered in the spec</p>



<a name="200479316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Several%20tokens%20per%20app/near/200479316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Several.20tokens.20per.20app.html#200479316">(Jun 10 2020 at 21:28)</a>:</h4>
<p>If they're used form a separate app/workflow, it may be useful to have separate client ids</p>



<a name="200508846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Several%20tokens%20per%20app/near/200508846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Several.20tokens.20per.20app.html#200508846">(Jun 11 2020 at 06:15)</a>:</h4>
<p>Thanks both, makes sense.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
