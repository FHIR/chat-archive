---
layout: page
title: "FHIR Chat  · Survey: `fhirUser` for patient proxies? · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html">Survey: `fhirUser` for patient proxies?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="168134247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134247">(Jun 14 2019 at 13:22)</a>:</h4>
<p>How does your SMART server represent a parent granting an app access to their child's data in the SMART/OIDC <code>fhirUser</code> claim? <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span> your chosen method. cc/ <span class="user-mention" data-user-id="193887">@Weiyu Zhang</span></p>



<a name="168134298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134298">(Jun 14 2019 at 13:22)</a>:</h4>
<p>Choices:</p>



<a name="168134306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134306">(Jun 14 2019 at 13:22)</a>:</h4>
<ul>
<li>(A) Consumer SMART authentication always contains a <code>Person</code> resource in <code>fhirUser</code>.</li>
</ul>



<a name="168134313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134313">(Jun 14 2019 at 13:22)</a>:</h4>
<ul>
<li>(B) Consumer SMART authentication always contains a <code>Patient</code> resource in <code>fhirUser</code>.</li>
</ul>



<a name="168134317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134317">(Jun 14 2019 at 13:22)</a>:</h4>
<ul>
<li>(C) For proxy access, Mom's <code>fhirUser</code> claim is a link to a <code>Person</code>resource. (For self access, Mom is a <code>Patient</code>).</li>
</ul>



<a name="168134332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134332">(Jun 14 2019 at 13:22)</a>:</h4>
<ul>
<li>(D) For proxy access, Mom's <code>fhirUser</code> claim is a link to a <code>RelatedPerson</code>resource. (For self access, Mom is a <code>Patient</code>).</li>
</ul>



<a name="168134342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134342">(Jun 14 2019 at 13:22)</a>:</h4>
<ul>
<li>(E) Something more complicated that I would recommend! (And explain in thread).</li>
</ul>



<a name="168134346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134346">(Jun 14 2019 at 13:22)</a>:</h4>
<ul>
<li>(F) Something more complicated that I would <em>not</em> recommend ... :(</li>
</ul>



<a name="168134351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134351">(Jun 14 2019 at 13:22)</a>:</h4>
<blockquote>
<p>To learn more about the user, the app should treat the fhirUser claim as the URL of a FHIR resource representing the current user. This will be a resource of type Patient, Practitioner, RelatedPerson, or Person. Note that Person is only used if the other resource type do not apply to the current user, for example, the “authorized representative” for &gt;1 patients.</p>
</blockquote>
<p><a href="http://hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#scopes-for-requesting-identity-data" target="_blank" title="http://hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#scopes-for-requesting-identity-data">http://hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#scopes-for-requesting-identity-data</a></p>



<a name="168134358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134358">(Jun 14 2019 at 13:23)</a>:</h4>
<p>References: </p>
<ul>
<li>SMART ballot issue: <a href="https://github.com/HL7/smart-app-launch/issues/192" target="_blank" title="https://github.com/HL7/smart-app-launch/issues/192">https://github.com/HL7/smart-app-launch/issues/192</a></li>
<li>GH, pre-ballot discussion: <a href="https://github.com/smart-on-fhir/smart-on-fhir.github.io/issues/148" target="_blank" title="https://github.com/smart-on-fhir/smart-on-fhir.github.io/issues/148">https://github.com/smart-on-fhir/smart-on-fhir.github.io/issues/148</a></li>
<li><span class="user-mention" data-user-id="191609">@Matt Randall</span> 's proposed rules: <a href="https://groups.google.com/forum/#!msg/smart-on-fhir/1F0jcaKxGsg/3Ua3bRgqDAAJ" target="_blank" title="https://groups.google.com/forum/#!msg/smart-on-fhir/1F0jcaKxGsg/3Ua3bRgqDAAJ">https://groups.google.com/forum/#!msg/smart-on-fhir/1F0jcaKxGsg/3Ua3bRgqDAAJ</a></li>
</ul>



<a name="168134544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168134544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168134544">(Jun 14 2019 at 13:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191356">@Jenni Syed</span> , <span class="user-mention" data-user-id="191912">@Michele Mottini</span> - mind weighing in on this? (since you commented on <a href="https://github.com/smart-on-fhir/smart-on-fhir.github.io/issues/148" target="_blank" title="https://github.com/smart-on-fhir/smart-on-fhir.github.io/issues/148">#148</a>)</p>



<a name="168135031"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168135031" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168135031">(Jun 14 2019 at 13:32)</a>:</h4>
<p>SMART should certainly enable real-time accesses by a guardian, by the patient as authorized by a guardian, etc... but the actual legal authorization statement is outside the scope of SMART, meaning SMART is only representing the real-time facts of some contract/consent that is held elsewhere. As with other Privacy Consent vectors (sensitive data, restricted/authorized users, etc) these are recorded as a Consent. A Consent resource is used to record the facts of the ceremony of getting the Consent and its rules. But a Consent resource is not an active authorization decision engine. The AuthZ is one opportunity to have an authorization decision made that is informed by Consent, a server resident $consent operation is another.</p>



<a name="168135178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168135178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168135178">(Jun 14 2019 at 13:34)</a>:</h4>
<p>of course HEART is the opposite role, in that HEART does manage the consents and only exposes in UMA/OAuth tokens the decision of a specific run-time request for authorization. Thus HEART is complementary but explicitly covering this space....</p>



<a name="168135237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168135237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168135237">(Jun 14 2019 at 13:35)</a>:</h4>
<p>Therefore using cascading OAuth one could use HEART for consent based authZ decisions, and SMART for RBAC (organization business rules); and in theory get both.</p>



<a name="168135259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168135259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168135259">(Jun 14 2019 at 13:35)</a>:</h4>
<p>We always use Person - that corresponds to our own internal users - and that link as needed to Patient or Practitioner</p>



<a name="168139825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168139825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168139825">(Jun 14 2019 at 14:32)</a>:</h4>
<p>We use Person, more because we also allow "user" scope accesses (eg: I get access to all my family records) and then RelatedPerson won't work. This way, at least it's consistent. If a patient is accessing on their own behalf (only their records/self), then we use Patient.</p>



<a name="168139967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168139967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168139967">(Jun 14 2019 at 14:33)</a>:</h4>
<p>I'm nervous about this use of Person.  Person is intended to be a linking resource - it's not permitted to be an actor in FHIR references, so to see it being referenced as an actor in SMART is concerning...</p>



<a name="168140715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168140715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168140715">(Jun 14 2019 at 14:41)</a>:</h4>
<p>Person also has no role... where RelatedPerson, Practitioner, and Patient all have clear role... If all you have is Person, you don't know what role the user is playing, they might be a Practitioner and RelatedPerson as well as a Patient... I am not surprised that Person is used this way, as it fits close with 'User'. but note that 'User' would always have a role when acting.</p>



<a name="168140896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168140896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168140896">(Jun 14 2019 at 14:43)</a>:</h4>
<p>For SMART, it is only intended to get the "open id profile" for the signed in person</p>



<a name="168140918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168140918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168140918">(Jun 14 2019 at 14:43)</a>:</h4>
<p>which has things like email</p>



<a name="168141053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168141053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168141053">(Jun 14 2019 at 14:44)</a>:</h4>
<p>It isn't intended to be used on a resource directly or be expected to be returned outside of that</p>



<a name="168141600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168141600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168141600">(Jun 14 2019 at 14:50)</a>:</h4>
<p>There's expected to be only one Person record for the human-being across all their Practitioner, Patient and RelatedPerson roles - would they similarly have only one open id profile for all of those?</p>



<a name="168141841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168141841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168141841">(Jun 14 2019 at 14:53)</a>:</h4>
<p>open id profiles are usually tied to the way you log in</p>



<a name="168141894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168141894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168141894">(Jun 14 2019 at 14:54)</a>:</h4>
<p>In our system, your practitioner profile and your patient profile are different identity systems</p>



<a name="168141906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168141906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168141906">(Jun 14 2019 at 14:54)</a>:</h4>
<p>or consumer profile...</p>



<a name="168141928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168141928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168141928">(Jun 14 2019 at 14:54)</a>:</h4>
<p>This does bear the question on why use patient instead of person  sometimes on the consumer side :)</p>



<a name="168141969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168141969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168141969">(Jun 14 2019 at 14:55)</a>:</h4>
<p>(we did it because when we first started, Person wasn't part of the SMART spec, even though there was no other option when accessing with "user" scopes for a consumer)</p>



<a name="168142123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168142123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168142123">(Jun 14 2019 at 14:57)</a>:</h4>
<p>I think confusing profile and role is a dangerous thing to do. There isn't really an intent to communicate the role you are playing for the entire authorization session</p>



<a name="168142149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168142149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168142149">(Jun 14 2019 at 14:57)</a>:</h4>
<p>EG: you may act as a mom, spouse, and patient all  with one sign in for SMART</p>



<a name="168142239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168142239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168142239">(Jun 14 2019 at 14:58)</a>:</h4>
<p>Similarly, a practitioner's role isn't communicated (are you being a gp, specialist, etc)</p>



<a name="168142666"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168142666" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168142666">(Jun 14 2019 at 15:03)</a>:</h4>
<p>I would agree that OpenID identifiers are just identifiers of an entity;  Those entity can act in many roles as Jenni explains. However OpenId does not try to force only one OpenID identifier per human. I personally have many, and even many at one identity provider (google).</p>



<a name="168144044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168144044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168144044">(Jun 14 2019 at 15:20)</a>:</h4>
<blockquote>
<p>This does bear the question on why use patient instead of person  sometimes on the consumer side :)</p>
</blockquote>
<p>Jenni, it sounds like if you were starting over, you might choose to implement Michele's approach of always using Person in fhirUser (for consumer scenarios). Would you agree?</p>



<a name="168144368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168144368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168144368">(Jun 14 2019 at 15:23)</a>:</h4>
<blockquote>
<p>OpenId does not try to force only one OpenID identifier per human. I personally have many, </p>
</blockquote>
<p>Hey John, do note that this is specifically about the <code>fhirUser</code> OIDC claim, which is really just a FHIR-specific version of the standard OIDC <code>profile</code> claim which is  just the url of the user's "profile page". I think that your point is exactly why <code>Person</code> makes sense - the <code>Person</code> resource is essentially just all the linkages for a user.</p>



<a name="168144664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168144664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168144664">(Jun 14 2019 at 15:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191864">@Isaac Vetter</span>  probably - I haven't heard that SMART was intending that to be anything other than just details of the person signed in</p>



<a name="168145687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168145687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168145687">(Jun 14 2019 at 15:36)</a>:</h4>
<p>I am not against using Person in this way. Just poiting out that this is short of statements of context based role/agent... As Jenni points out, the Person resource is sufficiently abstract and contains the right elements... sorry, not strongly up or down from me.</p>



<a name="168155410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168155410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168155410">(Jun 14 2019 at 17:34)</a>:</h4>
<p>Agreed that the goal of the OIDC profile claim here is authentication -- plus an entry point to discovering FHIR specific details about the person (like being able to traverse the links from a Person to a Practitioner, with assurance).</p>



<a name="168155471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168155471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168155471">(Jun 14 2019 at 17:35)</a>:</h4>
<p>Perspective using person across the board would be a totally reasonable way to do it, as long as Person.link correctly populated in the case of a patient and/or a practitioner.</p>



<a name="168155498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168155498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168155498">(Jun 14 2019 at 17:35)</a>:</h4>
<p>We evolved to using person slowly as more use cases became known, and I think the current specification reflects that evolution.</p>



<a name="168420820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168420820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168420820">(Jun 18 2019 at 17:05)</a>:</h4>
<p>How should an authorization server determine when to reference other resources from <code>Person</code>?</p>



<a name="168420827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168420827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168420827">(Jun 18 2019 at 17:05)</a>:</h4>
<p>For a patient app, where the user is the authorized patient A: <br>
- Person.link -&gt; Patient A</p>



<a name="168420830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168420830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168420830">(Jun 18 2019 at 17:05)</a>:</h4>
<p>For a patient app, where the user is a proxy for the authorized patient B, should the Person resource still reference the proxy's patient resource? Should the Patient resource identify other potential proxy relationships?<br>
- Person.link -&gt; RelatedPerson.patient -&gt; Patient B<br>
- Person.link -&gt; Patient A ?<br>
- Person.link -&gt; RelatedPerson.patient -&gt; Patient C ?</p>



<a name="168423662"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168423662" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168423662">(Jun 18 2019 at 17:17)</a>:</h4>
<p>Also, <code>Person</code> <a href="https://www.hl7.org/fhir/person.html#8.18.2" target="_blank" title="https://www.hl7.org/fhir/person.html#8.18.2">says</a>:</p>
<blockquote>
<p>Person instances are never directly referenced as actors (authors, subjects, performers, etc.)</p>
</blockquote>
<p>Doesn't this substantially invalidate the use of the Person resource as  a user?</p>



<a name="168437789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168437789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168437789">(Jun 18 2019 at 17:46)</a>:</h4>
<p>pretty much. If you want to use Person as a user, you'd need to follow the reference to Patient or Practitioner, and ask the user which mode they were wanting to be (given the Argonaut makes that distinction a binary and that it's driven by regulation/business practices)</p>



<a name="168439670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168439670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168439670">(Jun 18 2019 at 18:04)</a>:</h4>
<p>On our server the Person link only to the 'self' Patient - not to other relationships like family members etc (because the spec say 'The resource to which this actual person is associated')</p>



<a name="168439781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168439781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168439781">(Jun 18 2019 at 18:05)</a>:</h4>
<p>(In general trying to model users and related audit log entries does not work very well for us with the current FHIR resources)</p>



<a name="168440148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168440148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168440148">(Jun 18 2019 at 18:09)</a>:</h4>
<p>thanks, guys</p>



<a name="168468176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168468176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168468176">(Jun 19 2019 at 00:37)</a>:</h4>
<p>So yes, would have to link through the RelatedPerson for proxy usage.<br>
All this does reflect that the user is separate to FHIR, and permissions are also outside, but informed by some FHIR content.</p>



<a name="168475333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168475333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168475333">(Jun 19 2019 at 03:57)</a>:</h4>
<p>I'd think the Person resource wouldn't change based on context of use, though access to the relevant details of the linked Patient/RelatedPerson/Practitioner resources might be gated by user authorization.</p>



<a name="168503649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168503649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168503649">(Jun 19 2019 at 12:59)</a>:</h4>
<blockquote>
<p>would have to link through the RelatedPerson for proxy usage.</p>
</blockquote>
<p>Sorry, don't understand how you would do that?</p>



<a name="168518760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168518760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168518760">(Jun 19 2019 at 15:48)</a>:</h4>
<p>The linkages between user as a proxy to a Patient would be found in the Consent. This is what Consent.provision.actor is used for. To authorize specific identities (possibly just business identity (aka userID)) as an authorized AGNT.</p>



<a name="168518974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168518974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168518974">(Jun 19 2019 at 15:50)</a>:</h4>
<p>The consent example is not very clean... but here is the Grantor example. I would rather see the actor identified a AGNT with a clear PERMIT privilege. <a href="http://build.fhir.org/consent-example-grantor.html" target="_blank" title="http://build.fhir.org/consent-example-grantor.html">http://build.fhir.org/consent-example-grantor.html</a></p>



<a name="168521501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168521501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168521501">(Jun 19 2019 at 16:23)</a>:</h4>
<p>We do not have the Consent resource</p>



<a name="168523346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168523346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168523346">(Jun 19 2019 at 16:47)</a>:</h4>
<blockquote>
<p>would have to link through the RelatedPerson for proxy usage.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191912">@Michele Mottini</span> , I'm not suggesting this is a good idea and clearly, to John's point, authorization ought to be acquired before sharing relationships. I'd think that a proxy relationship could be represented as either:</p>
<p>1. Person.link -&gt; RelatedPerson.patient -&gt; Patient B<br>
2. RelatedPerson.patient -&gt; Patient B<br>
What am I missing?</p>



<a name="168530364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Survey%3A%20%60fhirUser%60%20for%20patient%20proxies%3F/near/168530364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Survey.3A.20.60fhirUser.60.20for.20patient.20proxies.3F.html#168530364">(Jun 19 2019 at 18:01)</a>:</h4>
<p>Ah yes, I see now: Person can link a Patent (him/herself) and then one RelatedPerson for each relationship ('son', 'mother' etc) - with each of those referencing the corresponding Patient. Thanks Isaac</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
