---
layout: page
title: "FHIR Chat  · SMART app Launch in EHR · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20app.20Launch.20in.20EHR.html">SMART app Launch in EHR</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="244525882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20app%20Launch%20in%20EHR/near/244525882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nihar <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20app.20Launch.20in.20EHR.html#244525882">(Jul 01 2021 at 06:58)</a>:</h4>
<p>Hi...!!! We are trying to implement the Launch EHR Sequence and need clarity to confusion on the Launch URL in terms of Launch context parameter using JWT:</p>
<p>When we are using the JWT encoding under the launch parameter then do we also need to send the specific parameter of user and patient for setting the context:<br>
E.g.  A EHR User already has a session active and the same user is launching the app under EHR instance:<br>
{<br>
  "alg": "HS256",<br>
  "typ": "JWT"<br>
}<br>
{<br>
  "iss": "<a href="http://ehr.example.com">http://ehr.example.com</a>",<br>
  "ctx": {"user": "87a339d0-8cae-418e-89c7-8651e6aab3c6"},<br>
  "scope": "launch "<br>
}<br>
Now which of the following launch URL is correct for app launch:<br>
https%3A%2F%2FFHIRBaseURL%2Flaunch.html?iss=http%3A%2F%2Fehr.example.com&amp;launch=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vZWhyLmV4YW1wbGUuY29tIiwiY3R4Ijp7InVzZXIiOiI4N2EzMzlkMC04Y2FlLTQxOGUtODljNy04NjUxZTZhYWIzYzYifSwic2NvcGUiOiJsYXVuY2gifQ.gZer_vNGXDuR63A6QzrPG7IbDDD67jhWybS1A4UJbXI</p>
<p>OR </p>
<p>https%3A%2F%2FFHIRBaseURL%2Flaunch.html?iss=http%3A%2F%2Fehr.example.com&amp;launch=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vZWhyLmV4YW1wbGUuY29tIiwiY3R4Ijp7InVzZXIiOiI4N2EzMzlkMC04Y2FlLTQxOGUtODljNy04NjUxZTZhYWIzYzYifSwic2NvcGUiOiJsYXVuY2gifQ.gZer_vNGXDuR63A6QzrPG7IbDDD67jhWybS1A4UJbXI&amp;user=87a339d0-8cae-418e-89c7-8651e6aab3c6</p>
<p>Please suggest...Thanks in advance!!!</p>



<a name="244560311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20app%20Launch%20in%20EHR/near/244560311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20app.20Launch.20in.20EHR.html#244560311">(Jul 01 2021 at 12:53)</a>:</h4>
<p>From what I've seen the first call is a more common one. You give the client the <code>iss</code> and <code>launch</code> parameters. The client then passes the <code>launch</code> parameter back when asking for a token, that's how your EHR can identify the context (the user and the patient). If the client wishes to know the user, it should add the either the <code>openid</code> or the <code>fhirUser</code> scope in the token request (<a href="http://www.hl7.org/fhir/smart-app-launch/#step-3-app-exchanges-authorization-code-for-access-token">http://www.hl7.org/fhir/smart-app-launch/#step-3-app-exchanges-authorization-code-for-access-token</a>), and would then get the <code>id_token</code> object with the info of the user.</p>



<a name="244560599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20app%20Launch%20in%20EHR/near/244560599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20app.20Launch.20in.20EHR.html#244560599">(Jul 01 2021 at 12:55)</a>:</h4>
<p>Yes, first one</p>



<a name="244561028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20app%20Launch%20in%20EHR/near/244561028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20app.20Launch.20in.20EHR.html#244561028">(Jul 01 2021 at 12:58)</a>:</h4>
<p>And this is regardless of whether you use JWT or not. The launch parameter should be just an opaque string to the client, the client should not even try to parse it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
