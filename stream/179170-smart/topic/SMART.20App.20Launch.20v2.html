---
layout: page
title: "FHIR Chat  · SMART App Launch v2 · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html">SMART App Launch v2</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="236249285"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/236249285" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Rotz <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#236249285">(Apr 26 2021 at 21:39)</a>:</h4>
<p>Connectathon 27 Track -&gt; <a href="https://confluence.hl7.org/display/FHIR/2021-05+SMART+App+Launch+v2">SMART App Launch v2</a><br>
This is a place to discuss "SMART v2" in general.</p>



<a name="237159647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/237159647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chuck Feltner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#237159647">(May 03 2021 at 13:23)</a>:</h4>
<p>For the upcoming 2021-05 SMART App Launch v2 Connectathon Track, are there any participating servers or SMART Apps planning to test with EHR Launch? That is from within an existing EHR session and encounter context.</p>



<a name="238797177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/238797177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#238797177">(May 14 2021 at 17:00)</a>:</h4>
<h2>Welcome to our Connectathon #27 Kickoff! I'll share links here for key resources.</h2>



<a name="238797437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/238797437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#238797437">(May 14 2021 at 17:01)</a>:</h4>
<ul>
<li><a href="https://confluence.hl7.org/display/FHIR/2021-05+SMART+App+Launch+v2">Track Overview Page with Scenarios</a></li>
<li><a href="https://build.fhir.org/ig/HL7/smart-app-launch/">SMART App Launch v2 Spec (CI)</a></li>
<li><a href="https://docs.google.com/spreadsheets/d/10j4a0juCrlZPDtrvOQaNNgSNPUU5MK9Hm7reCg1RF6A/edit#gid=0">Sign-up Spreadsheet with Server + Client Links</a></li>
<li><a href="https://smart.argo.run/?auth_error=&amp;fhir_version_1=r4&amp;fhir_version_2=r4&amp;iss=&amp;launch_ehr=1&amp;launch_url=&amp;patient=&amp;prov_skip_auth=1&amp;provider=&amp;pt_skip_auth=1&amp;public_key=&amp;sb=&amp;sde=&amp;sim_ehr=1&amp;token_lifetime=15&amp;user_pt=">SMARTv2 Launcher</a></li>
</ul>



<a name="238801343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/238801343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#238801343">(May 14 2021 at 17:29)</a>:</h4>
<p>SMART Launcher: <a href="https://github.com/smart-on-fhir/smart-launcher">https://github.com/smart-on-fhir/smart-launcher</a></p>



<a name="238801364"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/238801364" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#238801364">(May 14 2021 at 17:29)</a>:</h4>
<p>Fork of launcher with v2 features: <a href="https://github.com/microsoft-healthcare-madison/smart-launcher">https://github.com/microsoft-healthcare-madison/smart-launcher</a></p>



<a name="239233701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239233701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239233701">(May 18 2021 at 11:00)</a>:</h4>
<p>Can the smart granular test client be use the smart launch rather than standalone?</p>



<a name="239234185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239234185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239234185">(May 18 2021 at 11:04)</a>:</h4>
<p>Also, wondering if the URL of the fhir server changes for each session, would others find that strange?<br>
A smart client we're building uses the base URL,  and now that's likely to cause me some grief :(</p>



<a name="239267476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239267476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239267476">(May 18 2021 at 14:54)</a>:</h4>
<p>Hey everyone on SMARTv2 Connectathon -- we'll have our <a href="https://hl7-org.zoom.us/j/96463166857?pwd=OU92WncxTDFjTWtVZjVxSUlOdGo2Zz09">check-in/welcome call</a> in 5min!</p>



<a name="239267795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239267795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239267795">(May 18 2021 at 14:56)</a>:</h4>
<blockquote>
<p>Brian Postlethwaite: Can the smart granular test client be use the smart launch rather than standalone?</p>
</blockquote>
<p>You mean the EHR Launch? I think it's not currently set up for that; it'd  be a good feature, though it leaves open the question of how/where you'd want to set the additional params (e.g., use pkce? use POST-based authz, etc?) Can be hard-coded in the app, or the app could "capture" the launch and wait while the user chose settings to proceed...</p>



<a name="239267912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239267912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239267912">(May 18 2021 at 14:57)</a>:</h4>
<blockquote>
<p>smart client we're building uses the base URL, and now that's likely to cause me some grief :(</p>
</blockquote>
<p>Uses base URL of what? I'm not yet following (and not sure if this is a spec issue, or just something about the behavior of our sample app and/or demo server).</p>



<a name="239443110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239443110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239443110">(May 19 2021 at 15:19)</a>:</h4>
<p>We'll have our wrap-up call in just under 2 hours -- it has been a quiet chat here. Would appreciate if folks could add feedback and wrap-up notes to Column G of <a href="https://docs.google.com/spreadsheets/d/10j4a0juCrlZPDtrvOQaNNgSNPUU5MK9Hm7reCg1RF6A/edit#gid=0">https://docs.google.com/spreadsheets/d/10j4a0juCrlZPDtrvOQaNNgSNPUU5MK9Hm7reCg1RF6A/edit#gid=0</a> based on your experience. Just a quick summary of how the event went, plus highlights, comments or questions. I'll use this for the wrap-up report.</p>



<a name="239447598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239447598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Carlson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239447598">(May 19 2021 at 15:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I see you mentioned a "register" endpoint at <a href="https://launch.smarthealthit.org/">https://launch.smarthealthit.org/</a>. Where is that endpoint listed? I'm not seeing it in the <code>.well-known/smart-configuration</code></p>



<a name="239453772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239453772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239453772">(May 19 2021 at 16:17)</a>:</h4>
<p>I don't think it's a dynreg-compliant endpoint, so it wouldn't make sense to list there in current state; it's hosted at <code>/register</code>. If you want, you can use the UI at <a href="https://bulk-data.smarthealthit.org/">https://bulk-data.smarthealthit.org/</a> to see this in action, and the client_ids generated by that tool should be usable at <a href="https://smart.argo.run/">https://smart.argo.run/</a></p>



<a name="239453978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239453978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239453978">(May 19 2021 at 16:18)</a>:</h4>
<p>An example invocation is:</p>
<div class="codehilite"><pre><span></span><code>$ curl &#39;https://bulk-data.smarthealthit.org/auth/register&#39;   -H &#39;Content-Type: application/x-www-form-urlencoded; charset=UTF-8&#39;   --data-raw &#39;jwks=%7B%22keys%22%3A%5B%7B%22kty%22%3A%22EC%22%2C%22crv%22%3A%22P-384%22%2C%22x%22%3A%22lSG-9XHZcN6XdUXE6sCnvnGYHClZ1odZLUrLou3kgyMQuwd612Yr--wb8btsVAXf%22%2C%22y%22%3A%22oCsstCTa8NGZ6ou1GOB8mJhdn_gAzeTlHtINFrF1_VG9k0JxFnE9aHyi2qgoW9vx%22%2C%22key_ops%22%3A%5B%22verify%22%5D%2C%22ext%22%3Atrue%2C%22kid%22%3A%2235fbeb4493b0569fb6983a35f06aa5b9%22%2C%22alg%22%3A%22ES384%22%7D%2C%7B%22kty%22%3A%22EC%22%2C%22crv%22%3A%22P-384%22%2C%22d%22%3A%22KozncWMn_lo6nBa2nou5HM2hPgnAcp73B5sQl3_vt61O9wxTG_s4xgjDAO8ipNkg%22%2C%22x%22%3A%22lSG-9XHZcN6XdUXE6sCnvnGYHClZ1odZLUrLou3kgyMQuwd612Yr--wb8btsVAXf%22%2C%22y%22%3A%22oCsstCTa8NGZ6ou1GOB8mJhdn_gAzeTlHtINFrF1_VG9k0JxFnE9aHyi2qgoW9vx%22%2C%22key_ops%22%3A%5B%22sign%22%5D%2C%22ext%22%3Atrue%2C%22kid%22%3A%2235fbeb4493b0569fb6983a35f06aa5b9%22%2C%22alg%22%3A%22ES384%22%7D%5D%7D&amp;dur=15&#39;

eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InJlZ2lzdHJhdGlvbi10b2tlbiJ9.eyJqd2tzIjp7ImtleXMiOlt7Imt0eSI6IkVDIiwiY3J2IjoiUC0zODQiLCJ4IjoibFNHLTlYSFpjTjZYZFVYRTZzQ252bkdZSENsWjFvZFpMVXJMb3Uza2d5TVF1d2Q2MTJZci0td2I4YnRzVkFYZiIsInkiOiJvQ3NzdENUYThOR1o2b3UxR09COG1KaGRuX2dBemVUbEh0SU5GckYxX1ZHOWswSnhGbkU5YUh5aTJxZ29XOXZ4Iiwia2V5X29wcyI6WyJ2ZXJpZnkiXSwiZXh0Ijp0cnVlLCJraWQiOiIzNWZiZWI0NDkzYjA1NjlmYjY5ODNhMzVmMDZhYTViOSIsImFsZyI6IkVTMzg0In0seyJrdHkiOiJFQyIsImNydiI6IlAtMzg0IiwiZCI6Iktvem5jV01uX2xvNm5CYTJub3U1SE0yaFBnbkFjcDczQjVzUWwzX3Z0NjFPOXd4VEdfczR4Z2pEQU84aXBOa2ciLCJ4IjoibFNHLTlYSFpjTjZYZFVYRTZzQ252bkdZSENsWjFvZFpMVXJMb3Uza2d5TVF1d2Q2MTJZci0td2I4YnRzVkFYZiIsInkiOiJvQ3NzdENUYThOR1o2b3UxR09COG1KaGRuX2dBemVUbEh0SU5GckYxX1ZHOWswSnhGbkU5YUh5aTJxZ29XOXZ4Iiwia2V5X29wcyI6WyJzaWduIl0sImV4dCI6dHJ1ZSwia2lkIjoiMzVmYmViNDQ5M2IwNTY5ZmI2OTgzYTM1ZjA2YWE1YjkiLCJhbGciOiJFUzM4NCJ9XX0sImFjY2Vzc1Rva2Vuc0V4cGlyZUluIjoxNSwiaWF0IjoxNjIxNDQxMDk1fQ.b3Jx59dv_-hnRWapq99So7Plv58pS90CzmY4auWTLCA
</code></pre></div>
<p>... but it's probably easiest to interact with this via the UI.</p>



<a name="239454736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239454736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239454736">(May 19 2021 at 16:23)</a>:</h4>
<p>(Digging in here, there's clearly more work for this to be testable; there are internal design choices bleeding through when they shouldn't.)</p>



<a name="239458114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239458114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chuck Feltner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239458114">(May 19 2021 at 16:45)</a>:</h4>
<p>In the track, scenario 2 specifies using the rather lengthy scope</p>
<div class="codehilite"><pre><span></span><code>patient/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|vital-signs
</code></pre></div>
<p>Is this equivalent to</p>
<div class="codehilite"><pre><span></span><code>patient/Observation.rs?category=vital-signs
</code></pre></div>
<p>Currently the <a href="http://smart.argo.run">smart.argo.run</a> test tool requires the scope to match with the category syntax of the resource request (i.e., system specified or not). I guess FHIR servers are expected to interpret the finer grained scopes so that either category syntax in the actual resource request is allowed?</p>



<a name="239460482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239460482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239460482">(May 19 2021 at 17:01)</a>:</h4>
<p><a href="https://hl7-org.zoom.us/s/96463166857?pwd=OU92WncxTDFjTWtVZjVxSUlOdGo2Zz09">Wrap-up call</a> in 30min -- quick reminder to fill out <a href="https://docs.google.com/spreadsheets/d/10j4a0juCrlZPDtrvOQaNNgSNPUU5MK9Hm7reCg1RF6A/edit#gid=0">notes and questions in Column G</a> beforehand.</p>



<a name="239460636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239460636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239460636">(May 19 2021 at 17:02)</a>:</h4>
<p>Technically speaking,</p>
<div class="codehilite"><pre><span></span><code>patient/Observation.rs?category=http://terminology.hl7.org/CodeSystem/observation-category|vital-signs
</code></pre></div>

<p>is narrower than</p>
<div class="codehilite"><pre><span></span><code>patient/Observation.rs?category=vital-signs
</code></pre></div>

<p>... because the former only matches Observations with the FHIR-recommended system, and the latter matches Observations with <em>any</em> system (which isn't what we really want).</p>



<a name="239460745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/239460745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#239460745">(May 19 2021 at 17:03)</a>:</h4>
<p>Based on discussions in the argonaut calls, we want to encourage use of specific systems when restricting by Coding, when that's the intention (and in this case of category-based observations, it's definitely the intention).</p>



<a name="240766201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/240766201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolai Schwertner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#240766201">(May 30 2021 at 17:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> <span class="user-mention" data-user-id="193731">@Vladimir Ignatov</span> Is the source code for the test harness SMART app at <a href="https://smart.argo.run/granular/">https://smart.argo.run/granular/</a> available by any chance? I was looking for it at <a href="https://github.com/smart-on-fhir">https://github.com/smart-on-fhir</a> but no luck...</p>



<a name="240767017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/240767017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#240767017">(May 30 2021 at 18:01)</a>:</h4>
<p><a href="https://github.com/smart-on-fhir/smart-launcher/pull/47">https://github.com/smart-on-fhir/smart-launcher/pull/47</a> is the PR with draft be functionality, as deployed at <a href="http://smart.argo.run">smart.argo.run</a></p>



<a name="240776704"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/240776704" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolai Schwertner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#240776704">(May 30 2021 at 22:12)</a>:</h4>
<p>Thank you very much <span class="user-mention" data-user-id="191315">@Josh Mandel</span><br>
Nice work, <span class="user-mention" data-user-id="222054">@Gino Canessa</span>!</p>



<a name="243728162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243728162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243728162">(Jun 23 2021 at 23:58)</a>:</h4>
<p>In reviewing the example response from the spec here<br>
<a href="http://build.fhir.org/ig/HL7/smart-app-launch/conformance.html#sample-response">http://build.fhir.org/ig/HL7/smart-app-launch/conformance.html#sample-response</a></p>
<div class="codehilite"><pre><span></span><code>{
  ...
  &quot;scopes_supported&quot;: [&quot;openid&quot;, &quot;profile&quot;, &quot;launch&quot;, &quot;launch/patient&quot;, &quot;patient/*.rs&quot;, &quot;user/*.rs&quot;, &quot;offline_access&quot;],
  &quot;response_types_supported&quot;: [&quot;code&quot;, &quot;code id_token&quot;, &quot;id_token&quot;, &quot;refresh_token&quot;],
  &quot;management_endpoint&quot;: &quot;https://ehr.example.com/user/manage&quot;,
  ...
}
</code></pre></div>
<p>I note that the response_types_supported has an example value of <code>"code token"</code> and the 2 values as seperate <code>code</code> and <code>token</code>. Is that meant to imply that the combinations supported should be included?<br>
<span class="user-mention" data-user-id="191315">@Josh Mandel</span> ?</p>



<a name="243731115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243731115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243731115">(Jun 24 2021 at 00:53)</a>:</h4>
<p>Do you mean <code>"code id_token"</code> ? This isn't something we particularly profile in SMART, but if you read the OIDC Core spec, <a href="https://openid.net/specs/openid-connect-core-1_0.html#HybridAuthRequest">https://openid.net/specs/openid-connect-core-1_0.html#HybridAuthRequest</a> defines this behavior. But it's perhaps a confusing example for us to include here</p>



<a name="243732088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243732088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243732088">(Jun 24 2021 at 01:13)</a>:</h4>
<p>Isn't it really just saying that they are space delimited, rather than the combination is required to be pre-declared?</p>



<a name="243732215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243732215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243732215">(Jun 24 2021 at 01:15)</a>:</h4>
<p>No this is a specific hybrid flow that gives you back an ID token and an authorization code as two separate artifacts</p>



<a name="243732224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243732224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243732224">(Jun 24 2021 at 01:15)</a>:</h4>
<p>It's the <code>code id_token</code> flow.</p>



<a name="243732301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243732301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243732301">(Jun 24 2021 at 01:17)</a>:</h4>
<p>Hybrid flow in OIDC is pretty in the weeds though; I wouldn't bother with it in the context of SMART app launch use cases.</p>



<a name="243732389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243732389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243732389">(Jun 24 2021 at 01:19)</a>:</h4>
<p>Ah, so <code>code</code> for code exchange (via the token endpoint)<br>
or <code>code id-token</code> to get code (to exchange for bearer at token endpoint) and also id_token at the same time</p>



<a name="243732391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243732391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243732391">(Jun 24 2021 at 01:19)</a>:</h4>
<p>I get what you mean, I've only done the code flow.</p>



<a name="243732455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243732455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243732455">(Jun 24 2021 at 01:20)</a>:</h4>
<p>Yeah, code is all that SMART requires (as long as you support scopes that allow you to request an ID token as part of the access token response). <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata">https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata</a> goes into more definitional detail though if you are interested.</p>



<a name="243732635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243732635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243732635">(Jun 24 2021 at 01:24)</a>:</h4>
<p>Thanks, I'll leave that part as just having code in the Australian profile to keep it simple...</p>



<a name="243732819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243732819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243732819">(Jun 24 2021 at 01:28)</a>:</h4>
<p>id-token can come back from the code exchange anyway through the scope <code>openid fhirUser</code> right?</p>



<a name="243737337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/243737337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#243737337">(Jun 24 2021 at 03:15)</a>:</h4>
<p>With code flow, you can get an id token back in the access token response, when you trade in your authorization code at the token endpoint. (With the hybrid flow, you can get an id_token back at the same time you receive the code, as a URL param.)</p>



<a name="244369406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/244369406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#244369406">(Jun 30 2021 at 01:51)</a>:</h4>
<p>In the metadata scopes defined, there is a note that additional scopes MAY be supported, but there isn't a note, that not all clients will have access to all scopes listed too - is this a reasonable thing to have added?<br>
<a href="http://build.fhir.org/ig/HL7/smart-app-launch/conformance.html#metadata">http://build.fhir.org/ig/HL7/smart-app-launch/conformance.html#metadata</a></p>



<a name="244369486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/244369486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#244369486">(Jun 30 2021 at 01:53)</a>:</h4>
<p>Also the link in that section points to a docs.smarthealthit page, and not to the scopes page in the spec - log this?</p>



<a name="244369847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/244369847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#244369847">(Jun 30 2021 at 02:00)</a>:</h4>
<p>When a client requests a scope via the permission-v1 format, is there any guidance or expectation that the auth server should return v1 permissions, or could it return v2 permissions instead?<br>
Sorry, just found the line that specifically points this out. (I missread the semantics mapping)</p>



<a name="244371131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/SMART%20App%20Launch%20v2/near/244371131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/SMART.20App.20Launch.20v2.html#244371131">(Jun 30 2021 at 02:28)</a>:</h4>
<p>Re: "not all clients will have access to all scopes" -- we really don't say anything about client registration. if there's specific language you'd like to see, definitely do submit an issue. </p>
<p>And yeah, issue for the incorrect link would be great. Thanks!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
