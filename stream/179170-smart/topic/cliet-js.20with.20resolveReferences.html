---
layout: page
title: "FHIR Chat  · cliet-js with resolveReferences · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/cliet-js.20with.20resolveReferences.html">cliet-js with resolveReferences</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="241560424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/cliet-js%20with%20resolveReferences/near/241560424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/cliet-js.20with.20resolveReferences.html#241560424">(Jun 04 2021 at 16:28)</a>:</h4>
<p><span class="user-mention" data-user-id="193731">@Vladimir Ignatov</span>  at <a href="http://docs.smarthealthit.org/client-js/client">http://docs.smarthealthit.org/client-js/client</a> I'm seeing some examples that look like they're missing curly braces, like:</p>
<div class="codehilite"><pre><span></span><code>client.request(
    &quot;Encounter/518a522a-4b10-47db-9daf-53b726d32607&quot;,
    resolveReferences: [ &quot;serviceProvider&quot; ]
);
</code></pre></div>
<p>--- when I add curly braces in my own invocations like</p>
<div class="codehilite"><pre><span></span><code>        smart.patient
          .request(&quot;Observation?code=4548-4&amp;_sort:desc=date&amp;_count=10&quot;, {
          resolveReferences: [&quot;entry.resource.subject&quot;]
        })
</code></pre></div>
<p>nothing seems to happen -- am I using this feature incorrectly? (I was expecting to see the library make an extra query to resolve Observation.subject and mount it in place.)</p>



<a name="241567401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/cliet-js%20with%20resolveReferences/near/241567401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/cliet-js.20with.20resolveReferences.html#241567401">(Jun 04 2021 at 17:21)</a>:</h4>
<p>Thanks for pointing that out. I will fix the docs and add the curly braces. Otherwise, does it work with <code>["subject"]</code> instead of <code>["entry.resource.subject"]</code>?</p>



<a name="241575199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/cliet-js%20with%20resolveReferences/near/241575199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/cliet-js.20with.20resolveReferences.html#241575199">(Jun 04 2021 at 18:26)</a>:</h4>
<p>Yes, <code>["subject"]</code> works, thanks! I couldn't predict this from the docs, though. Docs also refer to <code>context</code> and <code>{Response}.context.</code>, which I couldn't understand <span class="user-mention" data-user-id="193731">@Vladimir Ignatov</span> (I'd propose different language but I'm unsure of the intent.)</p>



<a name="241583246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/cliet-js%20with%20resolveReferences/near/241583246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/cliet-js.20with.20resolveReferences.html#241583246">(Jun 04 2021 at 19:37)</a>:</h4>
<p>Right, mixing real things like <code>serviceProvider</code> with imaginary ones like <code>context</code> or <code>Response</code> is a poor choice of words. The intent was say that:</p>
<ol>
<li>The path is relative to the current resource ( <code>subject</code> instead of <code>entry.resource.subject</code>)</li>
<li>The path can have arbitrary depth but should exclude the last <code>reference</code> segment (<code>a.b.c</code> resolves <code>{current resource}.a.b.c.reference</code> but mounts at <code>{current resource}.a.b.c</code>)</li>
</ol>



<a name="241583645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/cliet-js%20with%20resolveReferences/near/241583645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/cliet-js.20with.20resolveReferences.html#241583645">(Jun 04 2021 at 19:40)</a>:</h4>
<p>Awesome -- that's much clearer! Thanks.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
