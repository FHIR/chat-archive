---
layout: page
title: "FHIR Chat  · PKCE · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html">PKCE</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="227495702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227495702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227495702">(Feb 23 2021 at 20:11)</a>:</h4>
<p>Trying to add PKCE support to my smart client, and have been using <a href="http://smart.argo.run">smart.argo.run</a>, which is the only server I have access to that supports it. Currently returning a 500 from the <code>/token</code> endpoint, which was working last time I tested it (about 3 weeks ago, admittedly).<br>
I'm not sure who owns this server, but can someone verify that everything is okay with that endpoint?</p>



<a name="227497274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227497274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227497274">(Feb 23 2021 at 20:22)</a>:</h4>
<p>The server hasn't been touched since the connect-a-thon, I believe. Right now , choosing patient standalone launch from the web UI and then launching the granular controls test app from the link at the bottom of the screen seems to show that pkce is working. Hmm.</p>



<a name="227498872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227498872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227498872">(Feb 23 2021 at 20:33)</a>:</h4>
<p>Thanks for the reply - it must be something I'm doing. I'm using the Provider EHR launch. Can't seem to get a helpful response though: <code>Response{protocol=h2, code=500, message=, url=https://smart.argo.run/v/r4/auth/token}</code></p>



<a name="227520553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227520553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227520553">(Feb 23 2021 at 23:05)</a>:</h4>
<p>Do you have a way to test with patient standalone launch? That may be the only path that works at this stage since I don't think we formally tested the others (but.. you're saying provider EHR launch was working for you before, so that's not super compelling.)</p>



<a name="227520573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227520573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227520573">(Feb 23 2021 at 23:05)</a>:</h4>
<p>Does your error response have an empty body? Is that what <code>message=</code> indicates?</p>



<a name="227520603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227520603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227520603">(Feb 23 2021 at 23:05)</a>:</h4>
<p>Can you send along a full request to we can check for any issues?</p>



<a name="227615681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227615681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227615681">(Feb 24 2021 at 15:29)</a>:</h4>
<p>No problem - yeah EHR launch worked for me during the Connectathon. I did a ton of refactoring since then but I don't think I changed anything with the request.</p>
<div class="codehilite"><pre><span></span><code>Request{
  method=POST,
  url=https://smart.argo.run/v/r4/auth/token,
  headers=[
    Content-Type:application/x-www-form-urlencoded,
    Accept:application/json,
    Authorization:Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuZWVkX3BhdGllbnRfYmFubmVyIjpmYWxzZSwic21hcnRfc3R5bGVfdXJsIjoiaHR0cHM6Ly9zbWFydC5hcmdvLnJ1bi8vc21hcnQtc3R5bGUuanNvbiIsInBhdGllbnQiOiIyY2RhNWFhZC1lNDA5LTQwNzAtOWExNS1lMWMzNWM0NmVkNWEiLCJlbmNvdW50ZXIiOiIxZTM4Yjc3MS1lYTg3LTQzNDMtYTVhOC02MDAyMjM3NGNiYWEiLCJyZWZyZXNoX3Rva2VuIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6STFOaUo5LmV5SmpiMjUwWlhoMElqcDdJbTVsWldSZmNHRjBhV1Z1ZEY5aVlXNXVaWElpT21aaGJITmxMQ0p6YldGeWRGOXpkSGxzWlY5MWNtd2lPaUpvZEhSd2N6b3ZMM050WVhKMExtRnlaMjh1Y25WdUx5OXpiV0Z5ZEMxemRIbHNaUzVxYzI5dUlpd2ljR0YwYVdWdWRDSTZJakpqWkdFMVlXRmtMV1UwTURrdE5EQTNNQzA1WVRFMUxXVXhZek0xWXpRMlpXUTFZU0lzSW1WdVkyOTFiblJsY2lJNklqRmxNemhpTnpjeExXVmhPRGN0TkRNME15MWhOV0U0TFRZd01ESXlNemMwWTJKaFlTSjlMQ0pqYkdsbGJuUmZhV1FpT2lKbU16VTVZVEpoTnkwMk1XTTJMVFEyWWpZdE9XSmlOQzAyWlRNMlpHWTBOemM0TTJVaUxDSnpZMjl3WlNJNklteGhkVzVqYUNCdmJteHBibVZmWVdOalpYTnpJRzl3Wlc1cFpDQndjbTltYVd4bElHWm9hWEpWYzJWeUlHeGhkVzVqYUM5d1lYUnBaVzUwSUhCaGRHbGxiblF2VUhKaFkzUnBkR2x2Ym1WeUxuSnpJSEJoZEdsbGJuUXZUMkp6WlhKMllYUnBiMjR1Y25NZ2NHRjBhV1Z1ZEM5RmJtTnZkVzUwWlhJdWNuTWdjR0YwYVdWdWRDOVBjbWRoYm1sNllYUnBiMjR1Y25NaUxDSjFjMlZ5SWpvaVVISmhZM1JwZEdsdmJtVnlMelV5T1RFNU1EazVMVFpoTjJFdE5EUXlZeTFpTUdRMUxUSmlNREpqTUdSa05HSTNOQ0lzSW1saGRDSTZNVFl4TkRFNE1ESTNOeXdpWlhod0lqb3hOalExTnpFMk1qYzNmUS5yME1rdVgwSmN5QVp1X3M0WDJRVUF4bmc3ajM2eHo0S1pzQTdKYzUxZU5JIiwidG9rZW5fdHlwZSI6ImJlYXJlciIsInNjb3BlIjoibGF1bmNoIG9ubGluZV9hY2Nlc3Mgb3BlbmlkIHByb2ZpbGUgZmhpclVzZXIgbGF1bmNoL3BhdGllbnQgcGF0aWVudC9QcmFjdGl0aW9uZXIucnMgcGF0aWVudC9PYnNlcnZhdGlvbi5ycyBwYXRpZW50L0VuY291bnRlci5ycyBwYXRpZW50L09yZ2FuaXphdGlvbi5ycyIsImNsaWVudF9pZCI6ImYzNTlhMmE3LTYxYzYtNDZiNi05YmI0LTZlMzZkZjQ3NzgzZSIsImV4cGlyZXNfaW4iOjM2MDAsImlkX3Rva2VuIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKU1V6STFOaUo5LmV5SndjbTltYVd4bElqb2lVSEpoWTNScGRHbHZibVZ5THpVeU9URTVNRGs1TFRaaE4yRXRORFF5WXkxaU1HUTFMVEppTURKak1HUmtOR0kzTkNJc0ltWm9hWEpWYzJWeUlqb2lVSEpoWTNScGRHbHZibVZ5THpVeU9URTVNRGs1TFRaaE4yRXRORFF5WXkxaU1HUTFMVEppTURKak1HUmtOR0kzTkNJc0ltRjFaQ0k2SW1Zek5UbGhNbUUzTFRZeFl6WXRORFppTmkwNVltSTBMVFpsTXpaa1pqUTNOemd6WlNJc0luTjFZaUk2SWpaaE1qQTFOR1prT1RWa1lqRTFOVFV5WXpkbE5XWmxZalU0WlRKbU5ERXhNRFkwT1RZd1pEUXlNR1F5TWpVNU56SmtaakZoWVRZeU4yTTVZalZqTXpZaUxDSnBjM01pT2lKb2RIUndjem92TDNOdFlYSjBMbUZ5WjI4dWNuVnVMeUlzSW1saGRDSTZNVFl4TkRFNE1ESTNOeXdpWlhod0lqb3hOakUwTVRnek9EYzNmUS5LTXdvaDNSb3FVcFpfOXYyb3dubko4STRFYi1FNVNfcFhOUjY3SC01ZEZ1c01TTXNlZVFHLVhVVHJ0dEZBeExtanZpQ29naWhudjZ3U2RXS0o5eHNOaXVaa1JmZzVwb3pjTUxITHVMQ2E0YUNfUzA3T0EzWERMN1ZqOTJPS1pNZURsSGREMDBqRV9Sd3IyUDkwOGk1aHR5dWE5OElnZzNMQUFrbk0zM3dhSC0ycGViUHhsdkF1NFBrUERJZWlac0hmTVN5OFlOMWxuazUzX1ZGNUlieTZ2Yk16U0Zwa0ZpVHRKV3RTQU1LTUxwcFllUHZKZW9KVGxqX3dqaEs1bkdNNnIwUmFrTjAtbXBITDdtcUFRWW8yeEZRaUtzWmt0c2N3RTdoRFlWRUl6U0FFRnRUTFVaWWZoTXFvUS1BWUYyQXVabVdUdDNES3RvU3BPa255NUtha3ciLCJpYXQiOjE2MTQxODAyNzcsImV4cCI6MTYxNDE4Mzg3N30.sXACzTTJ8To9NOKosCdgpaaiYw1XP0wM5p7ecgHiXsg,
    Connection:keep-alive,
    cache-control:no-cache
  ]
}

Form Body: {
  code: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuZWVkX3BhdGllbnRfYmFubmVyIjpmYWxzZSwic21hcnRfc3R5bGVfdXJsIjoiaHR0cHM6Ly9zbWFydC5hcmdvLnJ1bi8vc21hcnQtc3R5bGUuanNvbiIsInBhdGllbnQiOiIyY2RhNWFhZC1lNDA5LTQwNzAtOWExNS1lMWMzNWM0NmVkNWEiLCJlbmNvdW50ZXIiOiIxZTM4Yjc3MS1lYTg3LTQzNDMtYTVhOC02MDAyMjM3NGNiYWEiLCJyZWZyZXNoX3Rva2VuIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6STFOaUo5LmV5SmpiMjUwWlhoMElqcDdJbTVsWldSZmNHRjBhV1Z1ZEY5aVlXNXVaWElpT21aaGJITmxMQ0p6YldGeWRGOXpkSGxzWlY5MWNtd2lPaUpvZEhSd2N6b3ZMM050WVhKMExtRnlaMjh1Y25WdUx5OXpiV0Z5ZEMxemRIbHNaUzVxYzI5dUlpd2ljR0YwYVdWdWRDSTZJakpqWkdFMVlXRmtMV1UwTURrdE5EQTNNQzA1WVRFMUxXVXhZek0xWXpRMlpXUTFZU0lzSW1WdVkyOTFiblJsY2lJNklqRmxNemhpTnpjeExXVmhPRGN0TkRNME15MWhOV0U0TFRZd01ESXlNemMwWTJKaFlTSjlMQ0pqYkdsbGJuUmZhV1FpT2lKbU16VTVZVEpoTnkwMk1XTTJMVFEyWWpZdE9XSmlOQzAyWlRNMlpHWTBOemM0TTJVaUxDSnpZMjl3WlNJNklteGhkVzVqYUNCdmJteHBibVZmWVdOalpYTnpJRzl3Wlc1cFpDQndjbTltYVd4bElHWm9hWEpWYzJWeUlHeGhkVzVqYUM5d1lYUnBaVzUwSUhCaGRHbGxiblF2VUhKaFkzUnBkR2x2Ym1WeUxuSnpJSEJoZEdsbGJuUXZUMkp6WlhKMllYUnBiMjR1Y25NZ2NHRjBhV1Z1ZEM5RmJtTnZkVzUwWlhJdWNuTWdjR0YwYVdWdWRDOVBjbWRoYm1sNllYUnBiMjR1Y25NaUxDSjFjMlZ5SWpvaVVISmhZM1JwZEdsdmJtVnlMelV5T1RFNU1EazVMVFpoTjJFdE5EUXlZeTFpTUdRMUxUSmlNREpqTUdSa05HSTNOQ0lzSW1saGRDSTZNVFl4TkRFNE1ESTNOeXdpWlhod0lqb3hOalExTnpFMk1qYzNmUS5yME1rdVgwSmN5QVp1X3M0WDJRVUF4bmc3ajM2eHo0S1pzQTdKYzUxZU5JIiwidG9rZW5fdHlwZSI6ImJlYXJlciIsInNjb3BlIjoibGF1bmNoIG9ubGluZV9hY2Nlc3Mgb3BlbmlkIHByb2ZpbGUgZmhpclVzZXIgbGF1bmNoL3BhdGllbnQgcGF0aWVudC9QcmFjdGl0aW9uZXIucnMgcGF0aWVudC9PYnNlcnZhdGlvbi5ycyBwYXRpZW50L0VuY291bnRlci5ycyBwYXRpZW50L09yZ2FuaXphdGlvbi5ycyIsImNsaWVudF9pZCI6ImYzNTlhMmE3LTYxYzYtNDZiNi05YmI0LTZlMzZkZjQ3NzgzZSIsImV4cGlyZXNfaW4iOjM2MDAsImlkX3Rva2VuIjoiZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKU1V6STFOaUo5LmV5SndjbTltYVd4bElqb2lVSEpoWTNScGRHbHZibVZ5THpVeU9URTVNRGs1TFRaaE4yRXRORFF5WXkxaU1HUTFMVEppTURKak1HUmtOR0kzTkNJc0ltWm9hWEpWYzJWeUlqb2lVSEpoWTNScGRHbHZibVZ5THpVeU9URTVNRGs1TFRaaE4yRXRORFF5WXkxaU1HUTFMVEppTURKak1HUmtOR0kzTkNJc0ltRjFaQ0k2SW1Zek5UbGhNbUUzTFRZeFl6WXRORFppTmkwNVltSTBMVFpsTXpaa1pqUTNOemd6WlNJc0luTjFZaUk2SWpaaE1qQTFOR1prT1RWa1lqRTFOVFV5WXpkbE5XWmxZalU0WlRKbU5ERXhNRFkwT1RZd1pEUXlNR1F5TWpVNU56SmtaakZoWVRZeU4yTTVZalZqTXpZaUxDSnBjM01pT2lKb2RIUndjem92TDNOdFlYSjBMbUZ5WjI4dWNuVnVMeUlzSW1saGRDSTZNVFl4TkRFNE1ESTNOeXdpWlhod0lqb3hOakUwTVRnek9EYzNmUS5LTXdvaDNSb3FVcFpfOXYyb3dubko4STRFYi1FNVNfcFhOUjY3SC01ZEZ1c01TTXNlZVFHLVhVVHJ0dEZBeExtanZpQ29naWhudjZ3U2RXS0o5eHNOaXVaa1JmZzVwb3pjTUxITHVMQ2E0YUNfUzA3T0EzWERMN1ZqOTJPS1pNZURsSGREMDBqRV9Sd3IyUDkwOGk1aHR5dWE5OElnZzNMQUFrbk0zM3dhSC0ycGViUHhsdkF1NFBrUERJZWlac0hmTVN5OFlOMWxuazUzX1ZGNUlieTZ2Yk16U0Zwa0ZpVHRKV3RTQU1LTUxwcFllUHZKZW9KVGxqX3dqaEs1bkdNNnIwUmFrTjAtbXBITDdtcUFRWW8yeEZRaUtzWmt0c2N3RTdoRFlWRUl6U0FFRnRUTFVaWWZoTXFvUS1BWUYyQXVabVdUdDNES3RvU3BPa255NUtha3ciLCJpYXQiOjE2MTQxODAyNzcsImV4cCI6MTYxNDE4Mzg3N30.sXACzTTJ8To9NOKosCdgpaaiYw1XP0wM5p7ecgHiXsg
  grant_type: &#39;authorization_code&#39;
  client_id: &#39;f359a2a7-61c6-46b6-9bb4-6e36df47783e&#39;
  redirect_uri: &#39;http://localhost:443/index&#39;
  code_verifier: &#39;34b2a3a9985d2759786fbe2f8c413591e45c7a5b1abc5635b75e605e3a0327e96e47fbe9eec0eb9442c5df6ebde093dfcc445774ee665a93160b1a505f3fa9b90d1d228f3ed057e4cce581b9bea4a9bec94b077282b6a70995d97d889c9240580721201f4336c69d47e97586&#39;
}
</code></pre></div>



<a name="227616067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227616067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227616067">(Feb 24 2021 at 15:31)</a>:</h4>
<p>And yes, <code>message</code> is empty in the response.</p>



<a name="227616660"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227616660" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227616660">(Feb 24 2021 at 15:35)</a>:</h4>
<p>According to the PCKE docs, I would expect a formatted error response. If this is not expected to work, I can chalk it up to it not being implemented. If this is the case, is there a server you know of that has PCKE implemented for the EHR launch that I can test against?</p>



<a name="227616678"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227616678" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227616678">(Feb 24 2021 at 15:35)</a>:</h4>
<p><a href="https://tools.ietf.org/html/rfc7636#section-4.4.1">https://tools.ietf.org/html/rfc7636#section-4.4.1</a></p>



<a name="227622369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227622369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227622369">(Feb 24 2021 at 16:04)</a>:</h4>
<p>To answer your question, no I do not have a way to test with the patient standalone launch, my client app is only ehr launch at the moment.</p>



<a name="227630964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227630964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227630964">(Feb 24 2021 at 16:47)</a>:</h4>
<p>One quick note from your example -- the code_verifier is 216 characters long but the <a href="https://tools.ietf.org/html/rfc7636#section-4.1">PKCE spec says</a>:</p>
<blockquote>
<p>code_verifier = high-entropy cryptographic random STRING using the unreserved characters [A-Z] / [a-z] / [0-9] / "-" / "." / "_" / "~" from Section 2.3 of [RFC3986], with a minimum length of 43 characters  and a <strong>maximum length of 128 characters</strong>.</p>
</blockquote>



<a name="227631121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227631121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227631121">(Feb 24 2021 at 16:48)</a>:</h4>
<p>Can you include an example with an auth code, too? That'd help check that the verifier and the challenge match.</p>



<a name="227631280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227631280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227631280">(Feb 24 2021 at 16:49)</a>:</h4>
<p>Re: Error reporting, this is something we should look into -- it will be important for the launcher to provide informative errors, for debugging! (Right now, you could run the launcher locally with docker-compose and review the console; but that's not a great lightweight option.)</p>



<a name="227637538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227637538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227637538">(Feb 24 2021 at 17:23)</a>:</h4>
<p>The auth code in that example is the same as the <code>Bearer auth</code> token in the headers. I think that's correct from the documentation? I just didn't want to put the same code twice. I was confused as to why I would need to send the same code as the token auth and in the form body.</p>



<a name="227637796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227637796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227637796">(Feb 24 2021 at 17:25)</a>:</h4>
<p>Just sent another request with a code_verifier of 64 characters:</p>
<div class="codehilite"><pre><span></span><code>Code Verifier: fb47fc5221317f14fa5a65e4bab82bd7790e69dd7b5d72e75fe8e812a082c5c9
Code Challenge: uXfVXKj-tcEDe7ONF03OkMFdnAuPoKeNfWPYmxea-Lc
</code></pre></div>



<a name="227637917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227637917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227637917">(Feb 24 2021 at 17:26)</a>:</h4>
<p>Edited my previous request body to use the authorization code.</p>



<a name="227642292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227642292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227642292">(Feb 24 2021 at 17:51)</a>:</h4>
<p>To be clear, I'm sending in the <code>access_token</code> from the <code>/authorization</code> response in the header and in the form body.</p>



<a name="227645073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227645073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227645073">(Feb 24 2021 at 18:09)</a>:</h4>
<p>Also, just set up the launcher locally and ran with docker. The container does not have a <code>/.well-known/smart-configuration</code>, is that something I need to set up? Using <a href="https://github.com/microsoft-healthcare-madison/smart-launcher">https://github.com/microsoft-healthcare-madison/smart-launcher</a></p>



<a name="227653493"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227653493" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227653493">(Feb 24 2021 at 19:03)</a>:</h4>
<blockquote>
<p>The auth code in that example is the same as the Bearer auth token in the headers.  I think that's correct from the documentation? </p>
</blockquote>
<p>This doesn't sound right. Can you clarify which documentation you mean?</p>



<a name="227653815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227653815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227653815">(Feb 24 2021 at 19:04)</a>:</h4>
<blockquote>
<p>The container does not have a /.well-known/smart-configuration, is that something I need to set up?</p>
</blockquote>
<p>The branch you pointed to is the right branch to be running (it's what's deployed at <a href="https://smart.argo.run">https://smart.argo.run</a>).  <a href="https://github.com/microsoft-healthcare-madison/smart-launcher/blob/master/src/wellKnownSmartConfiguration.js">https://github.com/microsoft-healthcare-madison/smart-launcher/blob/master/src/wellKnownSmartConfiguration.js</a> is the code for the smart-configuration page, and <a href="https://smart.argo.run/v/r4/fhir/.well-known/smart-configuration">https://smart.argo.run/v/r4/fhir/.well-known/smart-configuration</a> shows it in the publicly hosted instance. I'm not sure what may be happening locally.</p>



<a name="227653883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227653883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227653883">(Feb 24 2021 at 19:05)</a>:</h4>
<p>(BTW, thanks for digging in here, and sorry the debugging is so challenging.)</p>



<a name="227660762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227660762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227660762">(Feb 24 2021 at 19:52)</a>:</h4>
<p>I think I'm confusing <code>access_token</code> with <code>authorization_code</code>. Up until this point I assumed they were the same. I believe there is some magic happening between the original <code>/authorize</code> request and when my client receives the <code>access_token</code>. Looking at this <a href="https://tools.ietf.org/html/rfc6749#section-4.1">https://tools.ietf.org/html/rfc6749#section-4.1</a>. <br>
Seems that the <code>authorization_code</code> is used in a behind-the-scenes handshake here. Then I receive the <code>access_token</code> in the token response.<br>
I'm using the js fhir-client. Do I need to make another call to the server's <code>/authorize</code> endpoint to get this <code>authorization_code</code>? Surely I can somehow grab that code during the original authorize request.</p>



<a name="227664023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227664023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227664023">(Feb 24 2021 at 20:13)</a>:</h4>
<p>Yep. Seems like it's the <code>access_token</code> in the bearer auth header, and the <code>authorization_code</code> in the body. <a href="https://tools.ietf.org/html/rfc6749#section-7.1">https://tools.ietf.org/html/rfc6749#section-7.1</a></p>



<a name="227664864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227664864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227664864">(Feb 24 2021 at 20:18)</a>:</h4>
<p>Also, I'm using <code>/authorize</code> and the fhir-client.js method <code>FHIR.oauth2.authorize()</code> interchangeably. I assume that's correct.</p>



<a name="227688001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227688001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227688001">(Feb 24 2021 at 22:45)</a>:</h4>
<p>Hey Keller, fyi - I'm pretty sure that <a href="https://fhir.epic.com/Documentation?docId=oauth2">this sandbox</a> supports PKCE.</p>



<a name="227688944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227688944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227688944">(Feb 24 2021 at 22:53)</a>:</h4>
<p>The <code>code</code> you're pasting in appears to be an access token, not an authorization code.</p>



<a name="227689051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227689051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227689051">(Feb 24 2021 at 22:54)</a>:</h4>
<p>Though I don't understand how you'd have an access token <em>before</em> calling the access token endpoint. Is it possible you've mixed up the values in the example you created?</p>



<a name="227703982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227703982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227703982">(Feb 25 2021 at 01:22)</a>:</h4>
<p>I am calling the <code>/token</code> endpoint after I call the <code>/authorization</code> endpoint. <br>
Workflow:</p>
<div class="codehilite"><pre><span></span><code>1. EHR launch calls my client&#39;s `/launch` endpoint
2. Client calls FHIR.oauth2.authorize with the `code_verifier`
3. Server calls the redirect endpoint with an access token (the client never sees any `authorization_code`)
...
6. Client calls `&#39;.well-known/smart-configuration` to get `/introspect` and `/token` endpoints
7. Token introspection
8. Client calls `/token` endpoint with the `access_token` from step 3.

Seems like I&#39;m doing something wrong here by the way you are responding. Steps 1-3 are in a javascript client, and the rest of the work happens in a backend Java app.
</code></pre></div>



<a name="227704013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227704013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227704013">(Feb 25 2021 at 01:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191864">@Isaac Vetter</span> thanks for the reference, I'll check this out tomorrow</p>



<a name="227704270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227704270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227704270">(Feb 25 2021 at 01:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> Yes it is, I was working under the assumption that <code>access_token</code> and <code>authorization_code</code> were the same thing. I realize this was a misunderstanding on my end, but I have never seen any <code>authorization_code</code> and am not sure how to get it. The response from the <code>/authorize</code> endpoint only returns an access token and a refresh token.</p>



<a name="227705699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227705699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227705699">(Feb 25 2021 at 01:45)</a>:</h4>
<p>I think you may be a bit confused; the authorization response includes a URL parameter called <code>code</code>, and that parameter conveys the authorization code to your app. That's the one you include in your request to the token endpoint.</p>



<a name="227719819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227719819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227719819">(Feb 25 2021 at 05:21)</a>:</h4>
<p>Yep I was confused. I'll grab the code from the URL, thanks.</p>



<a name="227778988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227778988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227778988">(Feb 25 2021 at 14:53)</a>:</h4>
<p>Well that was it - thanks for the simple solution. Just made a successful <code>/token</code> request to the server. Thanks for diving into that with me <span class="user-mention" data-user-id="191315">@Josh Mandel</span> !</p>



<a name="227779323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227779323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227779323">(Feb 25 2021 at 14:56)</a>:</h4>
<p>Hurray!</p>



<a name="227779425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/227779425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#227779425">(Feb 25 2021 at 14:56)</a>:</h4>
<p>(Only downside is that now improving our error responses is falling down on my priority list ;-))</p>



<a name="258301528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/258301528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#258301528">(Oct 20 2021 at 02:04)</a>:</h4>
<p>I'm also adding support for PKCE in my client app too (and a server) and looking for reference material on implementing it in javascript inside the browser.<br>
The only part I'm really after is what goes into the function:<br>
var encoded_code_challenge = encodeHash(code_challenge);</p>
<p>Is it really this simple, or have I stuffed something up</p>
<div class="codehilite"><pre><span></span><code>window.crypto.subtle.digest(&#39;SHA-256&#39;, encoder.encode(&#39;2972734071&#39;)).then(hashBuffer =&gt; {
        const uiArray =new Uint8Array(hashBuffer);
        encoded_code_challenge = btoa(uiArray);
});
</code></pre></div>
<p>and the .net side to verify it (which isn't working)</p>
<div class="codehilite"><pre><span></span><code>var computedChallenge = Convert.ToBase64String(hasher.ComputeHash(System.Text.ASCIIEncoding.ASCII.GetBytes(code_verifier)));
if (computedChallenge != _context.CodeChallenge)
...
</code></pre></div>
<p>(I think the .net side is right, but pretty sure the javascript is wrong)</p>



<a name="258303041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/258303041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#258303041">(Oct 20 2021 at 02:26)</a>:</h4>
<p>Should I just be using base64-js or some similar package?<br>
This is what I ended up with (in the code above)</p>
<div class="codehilite"><pre><span></span><code>&lt;script src=&quot;https://cdn.jsdelivr.net/npm/js-base64@3.7.2/base64.min.js&quot;&gt;&lt;/script&gt;
encoded_code_challenge = Base64.fromUint8Array(new Uint8Array(hashBuffer));
</code></pre></div>
<p>If there's an easier way without the other package, interested to know.<br>
(and I also URL encoded the result of the above too)</p>



<a name="258304071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/258304071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#258304071">(Oct 20 2021 at 02:42)</a>:</h4>
<p>Was there a good way anyone else has done the random string generation too?</p>



<a name="258304663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/258304663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#258304663">(Oct 20 2021 at 02:51)</a>:</h4>
<p>Works while testing on <a href="https://smart.argo.run/">https://smart.argo.run/</a> with PKCE enabled<br>
Test Launch URL <a href="https://smartqedit4.azurewebsites.net/ts/Tester/smart-launch.html">https://smartqedit4.azurewebsites.net/ts/Tester/smart-launch.html</a><br>
Test Redirect URL <a href="https://smartqedit4.azurewebsites.net/ts/Tester/smart-index.html">https://smartqedit4.azurewebsites.net/ts/Tester/smart-index.html</a></p>



<a name="258305553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/258305553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#258305553">(Oct 20 2021 at 03:05)</a>:</h4>
<p><a href="https://www.npmjs.com/package/pkce-challenge">https://www.npmjs.com/package/pkce-challenge</a> if you don't mind taking a dependency, or you can read through it for example of how to create the challenge from the verifier in any case.</p>
<p>Are you base64url encoding to create the challenge? From the examples above I don't see where.</p>



<a name="258305794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/258305794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#258305794">(Oct 20 2021 at 03:09)</a>:</h4>
<p>Or: <a href="https://github.com/microsoft-healthcare-madison/client-js/blob/68ddd4c2c2c6c594b9ef467e70ac46754f5f350b/src/security/index.ts#L37-L43">https://github.com/microsoft-healthcare-madison/client-js/blob/68ddd4c2c2c6c594b9ef467e70ac46754f5f350b/src/security/index.ts#L37-L43</a> is the code I put together at the last connectathon</p>



<a name="258306182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/258306182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#258306182">(Oct 20 2021 at 03:15)</a>:</h4>
<blockquote>
<p>Works while testing on <a href="https://smart.argo.run/">https://smart.argo.run/</a> with PKCE enabled</p>
</blockquote>
<p>Can you clarify what works? When I try the launcher with your example launch URL I see</p>
<div class="codehilite"><pre><span></span><code>smart-launch.html:6 GET https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js net::ERR_ADDRESS_UNREACHABLE
</code></pre></div>

<p>in the client page</p>



<a name="258307186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/258307186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#258307186">(Oct 20 2021 at 03:31)</a>:</h4>
<p><a href="https://smart.argo.run/?auth_error=&amp;client_secret=&amp;fhir_version_2=r4&amp;iss=&amp;jwks=&amp;jwks_uri=&amp;launch_ehr=1&amp;launch_url=https%3A%2F%2Fsmartqedit4.azurewebsites.net%2Fts%2FTester%2Fsmart-launch.html&amp;patient=87a339d0-8cae-418e-89c7-8651e6aab3c6&amp;prov_skip_auth=1&amp;prov_skip_login=1&amp;provider=e443ac58-8ece-4385-8d55-775c1b8f3a37&amp;pt_skip_auth=1&amp;public_key=&amp;redirect_uris=https%3A%2F%2Fsmartqedit4.azurewebsites.net%2Fts%2FTester%2Fsmart-index.html&amp;sde=&amp;sim_ehr=1&amp;token_lifetime=15&amp;user_pt=&amp;validate_pkce=1&amp;validation_method=public">https://smart.argo.run/?auth_error=&amp;client_secret=&amp;fhir_version_2=r4&amp;iss=&amp;jwks=&amp;jwks_uri=&amp;launch_ehr=1&amp;launch_url=https%3A%2F%2Fsmartqedit4.azurewebsites.net%2Fts%2FTester%2Fsmart-launch.html&amp;patient=87a339d0-8cae-418e-89c7-8651e6aab3c6&amp;prov_skip_auth=1&amp;prov_skip_login=1&amp;provider=e443ac58-8ece-4385-8d55-775c1b8f3a37&amp;pt_skip_auth=1&amp;public_key=&amp;redirect_uris=https%3A%2F%2Fsmartqedit4.azurewebsites.net%2Fts%2FTester%2Fsmart-index.html&amp;sde=&amp;sim_ehr=1&amp;token_lifetime=15&amp;user_pt=&amp;validate_pkce=1&amp;validation_method=public</a></p>



<a name="258307389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/258307389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#258307389">(Oct 20 2021 at 03:34)</a>:</h4>
<p>And yes, the Base64URL encoding was added after I posted that original snippit.</p>



<a name="258308623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE/near/258308623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.html#258308623">(Oct 20 2021 at 03:55)</a>:</h4>
<p>Excellent, that link works for me. I thought you were saying that it was working for you <em>without</em> the base6urlencoding, which would have indicated to me that there was a problem with the launcher accepting pkce parameters without properly checking them :-)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
