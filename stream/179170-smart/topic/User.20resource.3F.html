---
layout: page
title: "FHIR Chat  · User resource? · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html">User resource?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153950655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153950655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153950655">(Apr 04 2018 at 17:07)</a>:</h4>
<p>We download SMART server from <a href="http://smarthealthit.org" target="_blank" title="http://smarthealthit.org">smarthealthit.org</a>. In the metadata, there is a User Resource. But I cannot find any definition in FHIR spec.</p>



<a name="153950668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153950668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153950668">(Apr 04 2018 at 18:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> ?</p>



<a name="153950669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153950669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153950669">(Apr 04 2018 at 18:02)</a>:</h4>
<p>I find the same resource on <a href="http://smarthealthit.org" target="_blank" title="http://smarthealthit.org">smarthealthit.org</a> itself.<br>
<a href="https://sb-fhir-dstu2.smarthealthit.org/smartdstu2/data/metadata" target="_blank" title="https://sb-fhir-dstu2.smarthealthit.org/smartdstu2/data/metadata">https://sb-fhir-dstu2.smarthealthit.org/smartdstu2/data/metadata</a></p>



<a name="153950673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153950673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153950673">(Apr 04 2018 at 18:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191506">@Yunwei Wang</span> this is a bug in the version of HAPI that's underlying the sandbox (<a href="https://github.com/jamesagnew/hapi-fhir/issues/765" target="_blank" title="https://github.com/jamesagnew/hapi-fhir/issues/765">https://github.com/jamesagnew/hapi-fhir/issues/765</a> ). It should be fixed in the online sandbox when we upgrade to a more recent version of HAPI (currently targeted for the end of the April) and in the downloadable version when we move to a docker based release (targeted for this summer).</p>



<a name="153950674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153950674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153950674">(Apr 04 2018 at 18:31)</a>:</h4>
<p><span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> Thank you for the confirmation. How I can manually remove that from conformance on my downloaded server?</p>



<a name="153950677"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153950677" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153950677">(Apr 04 2018 at 18:56)</a>:</h4>
<p><span class="user-mention" data-user-id="192233">@Travis Cummings</span> since the SMART sandbox doesn't support the latest version of HAPI,  is there an easy way for <span class="user-mention" data-user-id="191506">@Yunwei Wang</span>  to patch <code>hapi-fhir-structures-dstu2/pom.xml</code> locally without impacting the rest of the server or will that have to wait on updates to the SMART stack?</p>



<a name="153951000"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951000" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951000">(Apr 05 2018 at 19:57)</a>:</h4>
<p>The way I would recommend installing a new version of HAPI to a SMART Installer deployment is:<br>
1) on your server, change to the fhir user (sudo su fhir)</p>



<a name="153951001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951001">(Apr 05 2018 at 19:58)</a>:</h4>
<p>2) cd /home/fhir/api</p>



<a name="153951008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951008">(Apr 05 2018 at 20:18)</a>:</h4>
<p>3) expand the hspc-api jar file (I'm not able to expand it using "jar xf" for some reason, probably because of its executable packaging, so I used zip)</p>



<a name="153951009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951009">(Apr 05 2018 at 20:19)</a>:</h4>
<p>4) notice the Hapi Jars at BOOT-INF/lib</p>



<a name="153951010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951010">(Apr 05 2018 at 20:20)</a>:</h4>
<p>5) replace all of the Hapi jars with the version of Hapi you would like (ex: 3.3.0).  make sure all of the Hapi jars are moved to the correct version, don't have a mix of Hapi jars.</p>



<a name="153951012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951012">(Apr 05 2018 at 20:21)</a>:</h4>
<p>6) Package up the hspc-api again</p>



<a name="153951014"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951014" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951014">(Apr 05 2018 at 20:22)</a>:</h4>
<p>7) restart the api service using</p>



<a name="153951015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951015">(Apr 05 2018 at 20:22)</a>:</h4>
<p>sudo service api_dstu2 restart</p>



<a name="153951016"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951016" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951016">(Apr 05 2018 at 20:22)</a>:</h4>
<p>sudo service api_stu3 restart</p>



<a name="153951017"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951017" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951017">(Apr 05 2018 at 20:24)</a>:</h4>
<p>Alternative method (if you are set up for Java and Maven development):<br>
1) clone the HSPC Reference API from <a href="https://bitbucket.org/hspconsortium/reference-api" target="_blank" title="https://bitbucket.org/hspconsortium/reference-api">https://bitbucket.org/hspconsortium/reference-api</a>, master branch</p>



<a name="153951018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951018">(Apr 05 2018 at 20:25)</a>:</h4>
<p>2) update the ./pom.xml hapi.version property to be the version of Hapi you would like (ex: 3.3.0)</p>



<a name="153951019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951019">(Apr 05 2018 at 20:27)</a>:</h4>
<p>3) build the reference api as in the README.md, or "mvn clean install"</p>



<a name="153951020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951020">(Apr 05 2018 at 20:29)</a>:</h4>
<p>4) upload the jar from reference-api-webapp-multitenant/target to your SMART server at /home/fhir/api</p>



<a name="153951022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951022">(Apr 05 2018 at 20:31)</a>:</h4>
<p>5) alter the api services at /etc/systemd/system to point to the jar you just uploaded (there are 4 services, use "ls <em>api_</em>" to see them)<br>
6) restart these 4 services</p>



<a name="153951024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951024">(Apr 05 2018 at 20:38)</a>:</h4>
<p>Whew, the final alternative is to ask <span class="user-mention" data-user-id="191496">@Nikolai Schwertner</span> when HSPC will move to the Hapi 3.3.0 release.  I would guess they could prioritize this at their 4/16/18 planning meeting, and release it as soon as 4/24/18 (assuming the schema is not changing).</p>



<a name="153951025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951025">(Apr 05 2018 at 20:39)</a>:</h4>
<p>In this scenario, the SMART installer would simply change the roles/api/defaults/main.yml property:</p>



<a name="153951026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951026">(Apr 05 2018 at 20:39)</a>:</h4>
<p>api_server_artifact_version: "1.11.7" becomes the next version of hspc's reference_api (ex: 1.14.0)</p>



<a name="153951027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Travis Cummings <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951027">(Apr 05 2018 at 20:42)</a>:</h4>
<p>Then run the SMART installer's playbook_api.yml to install the newer version of the hspc artifact</p>



<a name="153951028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/User%20resource%3F/near/153951028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nikolai Schwertner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/User.20resource.3F.html#153951028">(Apr 05 2018 at 20:49)</a>:</h4>
<p>We will look into folding HAPI 3.3.0 into the HSPC sandbox<br>
 environment for 24 April 2018</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
