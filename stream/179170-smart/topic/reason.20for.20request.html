---
layout: page
title: "FHIR Chat  · reason for request · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html">reason for request</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="214096630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214096630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214096630">(Oct 21 2020 at 18:48)</a>:</h4>
<p>On a discussion for Da Vinic CDEX there was question about providing a <em>reason</em> for a specific query and was suggested is part of OAUTH. Can requester A get access only for reason B   but no other reason?  does it work that way?   (e.g.  I'm want to see the data to verify a claim).  I  wanted to follow up here to see if there is general agreement and how the heck a reason would be incorporated into SMART Launch.</p>



<a name="214099098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099098">(Oct 21 2020 at 19:05)</a>:</h4>
<p>Usually only a human would know why they're opening something - eg: it's not something we could really assume</p>



<a name="214099261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099261">(Oct 21 2020 at 19:06)</a>:</h4>
<p>so, for example, let's say I have a growth chart app. The physician might launch it as part of their appt to evaluate growth compared to norms, to discuss something with a patient, or to look at the last measurements b/c the patient was admitted somewhere and they're doing a risk assessment/evaluation for treatment</p>



<a name="214099296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099296">(Oct 21 2020 at 19:06)</a>:</h4>
<p>that was my conclusion: essentially is "out-of-band" right?</p>



<a name="214099309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099309">(Oct 21 2020 at 19:06)</a>:</h4>
<p>if all daVinci wants to know is "physician launched app" - we can tell them that without a human :)</p>



<a name="214099332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099332">(Oct 21 2020 at 19:07)</a>:</h4>
<p>you could make it in band, but it would require manual entry</p>



<a name="214099356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099356">(Oct 21 2020 at 19:07)</a>:</h4>
<p>I thought this was actually more provenance than for a whole session</p>



<a name="214099447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099447">(Oct 21 2020 at 19:08)</a>:</h4>
<p>out-of-band = usage agreement</p>



<a name="214099467"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099467" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099467">(Oct 21 2020 at 19:08)</a>:</h4>
<p>ie: ONC requires provider offline access but not online. The reason they accessed data X today may be very different than when they accessed it yesterday</p>



<a name="214099500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099500">(Oct 21 2020 at 19:08)</a>:</h4>
<p>Again, depends at what level they're trying to get :/</p>



<a name="214099579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099579">(Oct 21 2020 at 19:09)</a>:</h4>
<p><a href="http://build.fhir.org/provenance-definitions.html#Provenance.reason">http://build.fhir.org/provenance-definitions.html#Provenance.reason</a></p>



<a name="214099636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099636">(Oct 21 2020 at 19:09)</a>:</h4>
<p>That is a way for an app/system to give the reason it did something. I don't think most support this today</p>



<a name="214099747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099747">(Oct 21 2020 at 19:10)</a>:</h4>
<p>But there's also: <a href="http://build.fhir.org/auditevent-definitions.html#AuditEvent.agent.purposeOfUse">http://build.fhir.org/auditevent-definitions.html#AuditEvent.agent.purposeOfUse</a></p>



<a name="214099767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099767">(Oct 21 2020 at 19:10)</a>:</h4>
<p>which seems more in line??</p>



<a name="214099772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099772">(Oct 21 2020 at 19:10)</a>:</h4>
<p>I am referring to data access query</p>



<a name="214099810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099810">(Oct 21 2020 at 19:10)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="191404">@John Moehrke</span>  because I'm going by past discussions and am definitely not the expert</p>



<a name="214099813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099813">(Oct 21 2020 at 19:10)</a>:</h4>
<p>that would be a trail</p>



<a name="214099852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099852">(Oct 21 2020 at 19:11)</a>:</h4>
<p>I think it has to be per access/query</p>



<a name="214099910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214099910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214099910">(Oct 21 2020 at 19:11)</a>:</h4>
<p>the "session" is very blurry and is even regulated in the US today to only require offline access <span aria-label="rolling on the floor laughing" class="emoji emoji-1f923" role="img" title="rolling on the floor laughing">:rolling_on_the_floor_laughing:</span></p>



<a name="214100081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214100081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214100081">(Oct 21 2020 at 19:12)</a>:</h4>
<p>(at least for on behalf of user - system access doesn't have a session nor SMART context to hook into)</p>



<a name="214100418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214100418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214100418">(Oct 21 2020 at 19:15)</a>:</h4>
<p>If they're wanting to restrict auth based on a reason then that's a different way than we've thought of auth today</p>



<a name="214100457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214100457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214100457">(Oct 21 2020 at 19:15)</a>:</h4>
<p>that would have impacts to the online vs offline access vs single use rules, I would think</p>



<a name="214100679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214100679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214100679">(Oct 21 2020 at 19:17)</a>:</h4>
<p>So I would go back to "what level" they're wanting to know re:what data is being accessed/why, then to <em>who</em> is going to know that and when. That would help us figure out where in the process it would be available for input</p>



<a name="214102346"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214102346" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214102346">(Oct 21 2020 at 19:29)</a>:</h4>
<p>I have been trying to get this kind of discussion going. Two things. 1) the authZ token needs to indicate ALL the uses (PurposeOfUse) that the requested results will be used. Not just what triggered 'this' request. 2) the request can indicate the trigger action (activity). Too often I see #2 being talked about as if it was #1.</p>



<a name="214102718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214102718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214102718">(Oct 21 2020 at 19:31)</a>:</h4>
<p>Audit <a href="http://log.is">log.is</a> in addition. Recording what happened. Access to the log would be protected for very specific and targeted (not bulk) access. Like investigating a suspected failure to follow rules.</p>



<a name="214106355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214106355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214106355">(Oct 21 2020 at 19:58)</a>:</h4>
<p>Where do you stick PurposeOfUse in OAuth?  Is there any guidance about how that can/should be computable?</p>



<a name="214119716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214119716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214119716">(Oct 21 2020 at 21:55)</a>:</h4>
<p>Given the offline access workflow, and that applications may change their data use over time, I'm not sure it's realistic to expect that the initial authorization would contain it. If this is something that could be change on refresh... then that's also interesting</p>



<a name="214119830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214119830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214119830">(Oct 21 2020 at 21:56)</a>:</h4>
<p>Same question as Lloyd: how is that communicated?</p>



<a name="214370789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214370789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214370789">(Oct 23 2020 at 22:02)</a>:</h4>
<p>Hey Guys, in our system, this is communicated during registration. Jenni, during registration for your system, does an app communicate if it is patient-facing vs provider-facing?</p>



<a name="214577484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214577484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214577484">(Oct 26 2020 at 14:07)</a>:</h4>
<p>We know if it is patient facing, provider, or system but that is NOT the purpose of use. Also, as discussed above, we may know the app is generally a growth chart provider facing app, but that doesn't mean you know why the provider is launching that application</p>



<a name="214642131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214642131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214642131">(Oct 26 2020 at 22:40)</a>:</h4>
<p>This <a href="https://hl7.org/fhir/2018Jan/v3/PurposeOfUse/vs.html">list is terribly intimidating</a> (for me at least), but really there's only a few purposes of use: treatment, patient-requested, public health, marketing, operations, payment, and research. (And some networks have even cut this list down further). All CCDS/USCDI patient-facing apps are registered with an implicit, but concrete, purpose of patient-requested; aren't they?</p>



<a name="214655079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214655079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214655079">(Oct 27 2020 at 02:21)</a>:</h4>
<p>Those are all extensible or example bindings - this is why I was curious about what "level" DaVinci is needing to track.  So, using that it would be hard to tell a training data access from a real clinical scenario, if that is the level of detail needed.  Similarly, research vs trial vs treatment could be all valid reasons a doctor launches an app that graphs data.</p>



<a name="214692691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214692691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214692691">(Oct 27 2020 at 12:34)</a>:</h4>
<p>would love to see you all provide comments to improve the vocabulary...</p>



<a name="214693070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/reason%20for%20request/near/214693070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/reason.20for.20request.html#214693070">(Oct 27 2020 at 12:38)</a>:</h4>
<p>I have seen a few recommendations for how purposeOfUse is carried. In IHE IUA it is carried as an attribute in the OAuth token. In HEART it is part of the scope.  In the break-glass proposal in the FHIR core it is carried in an http x-header. And SMART is looking at it as well...  There is also the proposed Permission resource that seems could be in many places.   So this all shows that we are in experimental stage at this point. It seems to be agreed that it is an important vector to authorization decisions, and authorization enforcements. It should be clear it is an important vector in data-use after data are communicated (use needs to be restricted to the PurposeOfUse(s) under which it was released)...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
