---
layout: page
title: "FHIR Chat  · Azure AD · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html">Azure AD</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153842588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153842588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153842588">(Aug 05 2016 at 07:01)</a>:</h4>
<p>Anyone having any success with implementing SMART with Azure Active Directory?  Any pointers or tips to share?</p>



<a name="153842593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153842593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153842593">(Aug 05 2016 at 07:10)</a>:</h4>
<p>I tried and had some issues, but haven't gone back to try again recently.<br>
Very interested in the results here.</p>



<a name="153842594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153842594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153842594">(Aug 05 2016 at 07:10)</a>:</h4>
<p>Issue I came across was, funily enough, CORS.<br>
But it was a little while ago now too.</p>



<a name="153843039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Bernhardt <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843039">(Aug 08 2016 at 19:15)</a>:</h4>
<p>We're having some issues, too. One of our guys is writing up a (or has already) an analysis of what he seeing and he's going to post to the SMART Google group.</p>



<a name="153843040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Bernhardt <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843040">(Aug 08 2016 at 19:16)</a>:</h4>
<p>Ironically, MS presented at Josh's SoF gathering recently. ;)</p>



<a name="153843041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Bernhardt <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843041">(Aug 08 2016 at 19:18)</a>:</h4>
<p><a href="https://groups.google.com/forum/#!topic/smart-on-fhir/QH0w1Mo7duQ" target="_blank" title="https://groups.google.com/forum/#!topic/smart-on-fhir/QH0w1Mo7duQ">https://groups.google.com/forum/#!topic/smart-on-fhir/QH0w1Mo7duQ</a></p>



<a name="153843046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Bernhardt <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843046">(Aug 08 2016 at 19:35)</a>:</h4>
<p>Just refreshed myself on code i wrote a while ago for my SMART client, and I had to use the implicit flow for AD authorization for our server.</p>



<a name="153843079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843079">(Aug 08 2016 at 21:59)</a>:</h4>
<p>please keep us informed. I had thought that MS had resolved things</p>



<a name="153843166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843166">(Aug 09 2016 at 11:09)</a>:</h4>
<p>I had gone to the FHIR Round Table in part because the MS discussion specifically it listed a discussion of Azure and SMART.  There was barely a mention of it on the last slide, and no discussion of any of the problems.  That was very disappointing.  That presentation didn't live up to its billing.</p>



<a name="153843176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843176">(Aug 09 2016 at 12:09)</a>:</h4>
<p>Yes. MS seems to have followed up by saying they're not going to support SMART:</p>
<blockquote>
<p>I don’t believe AAD will support no secret for code flow BUT, as I understand it even if they did the CORS issue would still be there</p>
</blockquote>
<p>Which certainly goes against the last thing they said in our May exchange.  </p>
<p>I hope they'll reconsider this. </p>



<a name="153843178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843178">(Aug 09 2016 at 12:13)</a>:</h4>
<p>yes I thought we had sorted this out , and resolved the concerns that the microsoft engineers had?</p>



<a name="153843225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Bernhardt <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843225">(Aug 09 2016 at 16:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191387">@Keith Boone</span> yes, we had people from our team there, too, and they reported pretty much the same thing. </p>



<a name="153843226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Bernhardt <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843226">(Aug 09 2016 at 16:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> Several months ago I had a long twitter chat with Vittorio Bertocci, a security expert at MS and the primary architect of their OAuth implementation. I pointed him to the SMART site and he expressed concerns about the code flow. I wonder if you have had direct communication with him.</p>



<a name="153843233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843233">(Aug 09 2016 at 19:10)</a>:</h4>
<p>I don't think Vittorio was on our thread, no.  Would be good to engage him. </p>



<a name="153843256"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843256" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843256">(Aug 09 2016 at 23:03)</a>:</h4>
<p>I will ask if we can share the thread with MS about the code flow. </p>



<a name="153843258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/153843258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#153843258">(Aug 09 2016 at 23:09)</a>:</h4>
<p>Thanks for chiming in here, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> !</p>



<a name="268299478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/268299478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#268299478">(Jan 17 2022 at 17:53)</a>:</h4>
<p>Can anybody comment on the current state of using Azure Active Directory as the Authorization Server for standalone SMART apps? </p>
<p>As best I can tell, it requires using a proxy service in front of Azure AD documented here and here:<br>
<a href="https://docs.microsoft.com/en-us/azure/healthcare-apis/azure-api-for-fhir/use-smart-on-fhir-proxy">https://docs.microsoft.com/en-us/azure/healthcare-apis/azure-api-for-fhir/use-smart-on-fhir-proxy</a><br>
<a href="https://github.com/azure-smart-health/smart-on-fhir-aad-proxy">https://github.com/azure-smart-health/smart-on-fhir-aad-proxy</a></p>
<p>Is this still the case? Are there any limitations or issues to be aware of? <br>
Happy to hear any advice, alternatives, etc., from any folks who've gone down this path or integrated with AD in other ways. <br>
Thanks.</p>



<a name="268408735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/268408735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#268408735">(Jan 18 2022 at 15:34)</a>:</h4>
<p><span class="user-mention" data-user-id="241501">@Caitlin Voegele</span> <span class="user-mention" data-user-id="195075">@Brendan Kowitz</span></p>



<a name="268586267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/268586267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Kowitz <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#268586267">(Jan 19 2022 at 18:52)</a>:</h4>
<p>Right now I think the FHIR Proxy has the best implementation for dealing with SMART / AAD (<a href="https://github.com/microsoft/fhir-proxy">https://github.com/microsoft/fhir-proxy</a>). <br>
Two issues I'm aware of are around SMART's "/" in the scopes. The second is the session based consent model, AAD by default only requires you to consent once to an app.</p>



<a name="268587209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/268587209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Craig McClendon <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#268587209">(Jan 19 2022 at 18:59)</a>:</h4>
<p><span class="user-mention" data-user-id="195075">@Brendan Kowitz</span> - For clarity, the AAD FHIR Proxy works around both the issues you mention, correct? Or are there still SMART use-cases that can't be met even utilizing the proxy.  Thanks!</p>



<a name="268746120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Azure%20AD/near/268746120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brendan Kowitz <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Azure.20AD.html#268746120">(Jan 20 2022 at 19:38)</a>:</h4>
<p>Yes, the proxy wraps/unwraps the scopes to work with AAD. For consent the proxy can initiate the consent screen on each auth request. I think its work exploring to see if it fits your solution.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
