---
layout: page
title: "FHIR Chat  · Dynamic URL Port · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html">Dynamic URL Port</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="215359681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/215359681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#215359681">(Nov 02 2020 at 18:36)</a>:</h4>
<p>Question for server implementers: I was going through the app launch sequence with local redirect, and there is a note in the <a href="http://hl7.org/fhir/smart-app-launch/#registering-a-smart-app-with-an-ehr">registration</a> section about using dynamic ports for native apps (described in <a href="https://tools.ietf.org/html/rfc8252#section-7.3">RFC 8252 - Loopback Interface Redirection</a>).</p>
<p>Have servers implemented this?  If not, what is the expected strategy?</p>



<a name="216390394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216390394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216390394">(Nov 11 2020 at 19:47)</a>:</h4>
<p>Gino - sorry for the delayed response. We have not implemented this.</p>



<a name="216391494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216391494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216391494">(Nov 11 2020 at 19:57)</a>:</h4>
<p>No worries, thanks for replying!</p>
<p>I figured as much, though it is disappointing.  It is frustratingly complex for cross-platform applications (e.g., desktop apps for Windows, Linux, and MacOS).</p>



<a name="216481473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216481473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216481473">(Nov 12 2020 at 15:16)</a>:</h4>
<p>Gino, I started re-reading Window's <a href="https://docs.microsoft.com/en-us/windows/uwp/launch-resume/web-to-app-linking">app URI handlers</a> to determine if they accommodated your need and then realized that you're trying to use a localhost redirect url with a dynamic port, which is pretty different from the app URI handler solution, right? In your case, are you developing a desktop app or a web app running on localhost? If the first, does the app URI handler solution meet your needs? If not, mind educating me?</p>



<a name="216494635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216494635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216494635">(Nov 12 2020 at 16:44)</a>:</h4>
<p>Thanks for looking more into this Isaac!  The page you linked to has a simplified process for UWP apps, but does not work for any other types of applications.  In my case, I'm starting from the perspective of a cross-platform .Net Core application.</p>
<p>In order to register a protocol handler, you need to jump through platform-specific hoops for each OS.  Windows, for example, requires registry modification (which may need elevated permissions) for non-UWP apps.  Linux and MacOS are similarly complicated.</p>
<p>Adding an http server to a .Net Core app is a package and a few lines of code (maybe 100-ish, mostly boilerplate).  This works across all desktop platforms out of the box.  The issue with a local server is that if another application has already grabbed the port you registered, you can't get it.  Since it's a common problem, the http server supports dynamic port registration as well... but that means the redirect URI needs to have support for it.</p>



<a name="216508986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216508986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216508986">(Nov 12 2020 at 18:33)</a>:</h4>
<p>I would actually recommend using an app claimed URL if you can... but I know that's not available on all platforms :( There have been vulnerabilities created with the localhost approach before... most recent one that got a lot of attention was Zoom.</p>



<a name="216509054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216509054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216509054">(Nov 12 2020 at 18:33)</a>:</h4>
<p>We actually don't currently allow "localhost" to be registered in our production environment today</p>



<a name="216510513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216510513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216510513">(Nov 12 2020 at 18:45)</a>:</h4>
<p>The RFC only allows for <code>127.0.0.1</code> as the base (both to mitigate name-resolution vulnerabilities and to prevent external traffic from hitting the port).  .Net Core actually enforces this for dynamic registration as well (e.g., I can ask for a dynamic port on 127.0.0.1, but not localhost).</p>



<a name="216510953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216510953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216510953">(Nov 12 2020 at 18:48)</a>:</h4>
<p>Yes, the method I'm talking about is section 7.2 in native rather than the loopback method (section 7.3)</p>



<a name="216510998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216510998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216510998">(Nov 12 2020 at 18:49)</a>:</h4>
<p>Which is also the "preferred" method called out in that spec</p>



<a name="216512745"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216512745" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216512745">(Nov 12 2020 at 19:01)</a>:</h4>
<p>Thanks, seeing if there's a good cross-platform option for that process now.  That said, if nobody supports (or even plans on supporting) local dynamic port registration, I don't think we should specifically call it out in the spec.</p>



<a name="216514428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216514428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216514428">(Nov 12 2020 at 19:15)</a>:</h4>
<p>Hmm.. as far as I can tell, that does not work from .Net Core either (<a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-client-application-configuration#redirect-uri-for-public-client-apps">the client configuration page</a> calls out that .Net Core needs to use <code>localhost</code> for OAuth redirection).</p>
<p>I'm sure I can sort out a workaround, but it goes back to the same process as the protocol handlers - relatively complex OS-specific code.  Not impossible, but definitely annoying.</p>



<a name="216516965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216516965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216516965">(Nov 12 2020 at 19:36)</a>:</h4>
<p>Many of our native windows apps have used the first option (custom scheme)...</p>



<a name="216520854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216520854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216520854">(Nov 12 2020 at 20:10)</a>:</h4>
<p><span class="user-mention" data-user-id="222054">@Gino Canessa</span> another challenge with that and <em>specifically</em> with SMART is that you can't launch against a dynamic port... so you would need to figure out that challenge. Only standalone apps really have a chance in heck on using that, but I agree that if nobody supports it we may need to push back</p>



<a name="216520877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216520877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216520877">(Nov 12 2020 at 20:10)</a>:</h4>
<p>Yep - custom scheme is easy (app config) in Windows UWP apps.  It's straightforward (if not ideal - registry changes, possible permissions issues) in other Windows-only apps.  Without local redirection, cross platform apps (e.g., .Net Core) have to either add platform-specific code (for each OS) or use an externally hosted URL.</p>
<p>As I've mentioned, not impossible, but extra work and a pitfall given that the functionality is called out in the SMART App Launch spec.</p>



<a name="216521079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216521079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216521079">(Nov 12 2020 at 20:12)</a>:</h4>
<p>Yep, this is all about standalone apps - assuming those will be getting more and more common as regulations push for patient access.</p>



<a name="216522203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216522203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216522203">(Nov 12 2020 at 20:21)</a>:</h4>
<p>it's certainly a challenge. the solution I ended up with was to put a server up that handles the redirect for me, and allow applications to register their session id and port with the server. That's not super exciting but it saves from the hassle of needing admin access, which is pretty much yes or no, you'll never get it</p>



<a name="216523384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216523384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216523384">(Nov 12 2020 at 20:29)</a>:</h4>
<p>I'd also note that this feels like a somewhat arbitrary hoop to jump through.</p>
<p>Knowing that protocol handling is an OS config (e.g., registry, info.plist, etc.), a malicious app is just as able to grab those URLs as not.  It's only 'safer' if you require signed apps (e.g., UWP, iOS), but [desktop OSes] can't limit that functionality across the board.  In some ways I'd argue that an app telling you "I have <code>127.0.0.1:62193</code> right now, redirect to that" is actually safer, as once the port is locked, nobody else can get it. (and most OSes don't allow capturing packets of loopback).</p>



<a name="216524183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216524183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216524183">(Nov 12 2020 at 20:34)</a>:</h4>
<p>Grahame, yes.  If you are running your own server already (that allows arbitrary code) that's likely the best option.  For people wanting to write a their first client app, that's a high bar.  I'm tinkering with an idea that will hopefully be able to run on the 'free-tier' of cloud providers without much effort, but it's a bit down the list.</p>



<a name="216525118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216525118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216525118">(Nov 12 2020 at 20:40)</a>:</h4>
<p>agree it's a high bar indeed. But... if people just want to hack, <a href="http://local.healthintersections.com.au">local.healthintersections.com.au</a> always resolves to 127.0.0.1</p>



<a name="216527630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216527630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216527630">(Nov 12 2020 at 20:58)</a>:</h4>
<p>Wouldn't most people write apps either as HTML/JavaScript or native for phones? I would think that writing native Windows or Mac native apps would be pretty unusual?</p>



<a name="216527697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216527697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216527697">(Nov 12 2020 at 20:58)</a>:</h4>
<p>Grahame: nice!</p>



<a name="216528117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216528117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216528117">(Nov 12 2020 at 21:02)</a>:</h4>
<p>Michele: possibly?  maybe?  depends on the use case?  I've received a lot of questions about it, and seen other streams with similar questions (not dynamic port specifically - how to use SMART via a native desktop app).</p>



<a name="216528305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216528305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216528305">(Nov 12 2020 at 21:03)</a>:</h4>
<p><span class="user-mention" data-user-id="222054">@Gino Canessa</span> your assertion that the localhost method is somehow more secure - do you have doc or more information on why that would be true?</p>



<a name="216528378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216528378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216528378">(Nov 12 2020 at 21:04)</a>:</h4>
<p>This isn't something we've been asked to support, and we do have native apps that are standalone that have integrated</p>



<a name="216528405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216528405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216528405">(Nov 12 2020 at 21:04)</a>:</h4>
<p>though right now it may be limited to android or ios</p>



<a name="216528459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216528459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216528459">(Nov 12 2020 at 21:05)</a>:</h4>
<p>(we do have windows, non-mobile apps that integrate using .Net today as well)</p>



<a name="216528893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216528893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216528893">(Nov 12 2020 at 21:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191356">@Jenni Syed</span> , nothing specific to point to, just following the workflows:</p>
<p>Using protocol handler (Windows):</p>
<ul>
<li>I write an app and register <code>awesomeHealthApp://</code></li>
<li>Malicious app on my computer looks at the registry and inserts itself (e.g., takes over <code>awesomeHealthApp://</code> and gives my app a phony launch via shell-execute).</li>
<li>I've been MITM attacked, and have no idea it happened.</li>
</ul>
<p>Using dynamic loopback:</p>
<ul>
<li>I write an app and grab a port (exclusive)</li>
<li>I ask for redirection to the port I currently own</li>
</ul>



<a name="216529637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216529637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216529637">(Nov 12 2020 at 21:15)</a>:</h4>
<p>I'll also be the first to admit that the Windows platform for this is a bit of a mess (though I also can't fault the OS for this - backwards compatibility is <em>hard</em>).  Even using MSAL to auth against AAD there are different paths for: UWP, .Net Desktop, and everything else.</p>



<a name="216530126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216530126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216530126">(Nov 12 2020 at 21:19)</a>:</h4>
<p>If the app had the ability to take over your registry entry... won't it also have the ability to kill the process that reserved the port?</p>



<a name="216530212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216530212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216530212">(Nov 12 2020 at 21:20)</a>:</h4>
<p>the user might notice that.</p>



<a name="216530325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216530325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216530325">(Nov 12 2020 at 21:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I am not a windows expert... what indication would there be to the user?</p>



<a name="216530347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216530347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216530347">(Nov 12 2020 at 21:21)</a>:</h4>
<p>the window they are working with disappears</p>



<a name="216530402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216530402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216530402">(Nov 12 2020 at 21:22)</a>:</h4>
<p>The registry entry is in HKCR, so it's not actually tied to any app-specific permission (IIRC).  Killing my app means I restart and get a new port - yes it has the old one, but I am aware this happened and can take appropriate action (note: that app would also have have to kill my app <em>after</em> a login request is launched and <em>before</em> a redirect happened to have any impact at all)</p>
<p>edit: vs. modifying the registry, which can be done at any time and will not be apparent to the user/app (unless it goes and checks the registry at each launch - which may be a good practice to note)</p>



<a name="216530627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216530627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216530627">(Nov 12 2020 at 21:24)</a>:</h4>
<p>I'll also note that this isn't a hill I'd like to die on - if it's not supported, <em>it's not supported</em>.  I started this thread because I assumed this was the preferred process (from the spec) and Josh thought it was unlikely to be supported.  I feel that excluding it is odd, but <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="216531182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216531182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216531182">(Nov 12 2020 at 21:29)</a>:</h4>
<p><span class="user-mention" data-user-id="222054">@Gino Canessa</span>  Technically, aren't native apps like this public? IE: any app that knows your client id can get a token on the app's behalf since the redirect just requires a localhost port? (I would also need to look at privs required to set this up to see if they would be commonly given to apps on an EHR desktop)</p>



<a name="216531225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216531225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216531225">(Nov 12 2020 at 21:29)</a>:</h4>
<p>and yes, custom schemes also have their own issues :)</p>



<a name="216531804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216531804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216531804">(Nov 12 2020 at 21:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191356">@Jenni Syed</span> Probably?  Again, I'd argue no different than using a protocol handler (e.g., if I want to intercept something with a protocol handler on my desktop, it is just as trivial).</p>



<a name="216532200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Dynamic%20URL%20Port/near/216532200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Dynamic.20URL.20Port.html#216532200">(Nov 12 2020 at 21:36)</a>:</h4>
<p>For me, it's a spectrum.  Nothing running on my desktop machine is actually confidential - it's just a matter if I feel like investing enough time/effort to make that true.  Entirely secure platforms are a different story.</p>
<p>edit: preemptive - yes, there are processes that can make software effectively confidential (e.g., hardware encryption, etc.), but I'm assuming that is well beyond the scope of what we're talking about here.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
