---
layout: page
title: "FHIR Chat  · Specs drift · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html">Specs drift</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="277752892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277752892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277752892">(Apr 04 2022 at 15:58)</a>:</h4>
<p>Something I noticed recently working on payers connection: launch/patient is not used / understood - servers returns 'patient' regardless, clients expect to see 'patient' even when not specifying launch/patient</p>



<a name="277752920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277752920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277752920">(Apr 04 2022 at 15:59)</a>:</h4>
<p>offline_access seems to be in a similar situation</p>



<a name="277753210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277753210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277753210">(Apr 04 2022 at 16:00)</a>:</h4>
<p>OAuth end point discovery is not very well know also</p>



<a name="277761731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277761731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277761731">(Apr 04 2022 at 16:57)</a>:</h4>
<blockquote>
<p>servers returns 'patient' regardless, clients expect to see 'patient' even when not specifying launch/patient</p>
</blockquote>
<p>This is allowed behavior, if the server only/always supports in-patient-context launches.</p>



<a name="277761952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277761952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277761952">(Apr 04 2022 at 16:58)</a>:</h4>
<blockquote>
<p>offline_access</p>
</blockquote>
<p>Servers need to support requests for long-term access; it's not OK to ignore the request, and I wouldn't imagine servers would want to <em>force</em> apps into getting long-term access tokens. But ultimately what would/should we say in the SMART spec?</p>



<a name="277762040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277762040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277762040">(Apr 04 2022 at 16:59)</a>:</h4>
<blockquote>
<p>Michele Mottini: OAuth end point discovery is not very well know also</p>
</blockquote>
<p>You mean servers aren't supporting discovery? That should fail any conformance testing.</p>



<a name="277765152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277765152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277765152">(Apr 04 2022 at 17:19)</a>:</h4>
<p>For offline_access, is the behavior you are seeing that the refresh token is issued based on client registration settings rather than run-time scopes?</p>



<a name="277765545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277765545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277765545">(Apr 04 2022 at 17:22)</a>:</h4>
<p>And for endpoint discovery, if Michele is saying that clients don't know they can do auto discovery, we see that a lot too - where app developers are manually registering URLs instead of auto-discovering them.  However, we actually recommend in this in some cases, as the URL registration can be an important step in establishing trust if the app is relying on the launching server to provide user identity.</p>



<a name="277771314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277771314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277771314">(Apr 04 2022 at 18:03)</a>:</h4>
<p>I saw both server accepting offline_access and then not giving you a refresh token, server rejecting offline_access and then giving you a refresh token</p>



<a name="277771384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277771384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277771384">(Apr 04 2022 at 18:03)</a>:</h4>
<blockquote>
<p>clients expect to see 'patient' even when not specifying launch/patient</p>
</blockquote>
<p>^ this is not allowed behavior, is it?</p>



<a name="277771757"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Specs%20drift/near/277771757" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Specs.20drift.html#277771757">(Apr 04 2022 at 18:06)</a>:</h4>
<p>Yes, clients not knowing they can do auto discovery, but also servers giving you wrong (or no) OAuth URLs, or <code>/metadata</code> requiring authentication, so you cannot even try discovery</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
