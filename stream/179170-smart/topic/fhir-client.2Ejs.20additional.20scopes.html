---
layout: page
title: "FHIR Chat  · fhir-client.js additional scopes · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/fhir-client.2Ejs.20additional.20scopes.html">fhir-client.js additional scopes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="227995918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/fhir-client.js%20additional%20scopes/near/227995918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/fhir-client.2Ejs.20additional.20scopes.html#227995918">(Feb 26 2021 at 21:20)</a>:</h4>
<p>Hey all, I'm trying to implement custom scope requests from my client to a fhir server re: <a href="http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/#requesting-context-with-scopes">http://www.hl7.org/fhir/smart-app-launch/scopes-and-launch-context/#requesting-context-with-scopes</a>. </p>
<p>Anyone with fhir-client.js knowledge know if it's possible to request additional scopes from the client? For example:</p>
<div class="codehilite"><pre><span></span><code>// launch.js
scope: launch/patient launch/{custom-scope}...
...

//index.js

FHIR.oauth2.ready()
  .then(async (client) =&gt; {
    await client.patient.read()....

    // grab custom scope here
    await client.request({custom-scope}).then()...
}
</code></pre></div>
<p>This will not work, but I'm not sure if there is a way to do this.</p>



<a name="228000446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/fhir-client.js%20additional%20scopes/near/228000446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Bacher <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/fhir-client.2Ejs.20additional.20scopes.html#228000446">(Feb 26 2021 at 21:51)</a>:</h4>
<p>Assuming you've already requested the custom scope and your auth provider places the custom scope in the launch context, then I think <code>client.state.tokenResponse.custom-scope</code> should get it.</p>



<a name="228002248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/fhir-client.js%20additional%20scopes/near/228002248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keller Martin <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/fhir-client.2Ejs.20additional.20scopes.html#228002248">(Feb 26 2021 at 22:03)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="259065">@Ian Bacher</span> , that's what I needed. I'm doing my development without having a server to actually grant the custom scope, so I'm a bit blind here. I'll implement it this way, thanks.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
