---
layout: page
title: "FHIR Chat  · Inject CORS Header using SMART js client · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client.html">Inject CORS Header using SMART js client</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="240509404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Inject%20CORS%20Header%20using%20SMART%20js%20client/near/240509404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client.html#240509404">(May 27 2021 at 18:19)</a>:</h4>
<p>Hello,</p>
<p>We are receiving the following error  when our SMART client is launched from the Logic Sandbox -  <code>has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status</code></p>
<p>How do we inject the Allow CORS header into our requests using the SMART JS client. Is there a way we can get a handle on the request object?</p>
<p>Thanks,<br>
Joel, <span class="user-mention" data-user-id="400829">@Christa Wan</span> , <span class="user-mention" data-user-id="192545">@Alex Goel</span> , <span class="user-mention" data-user-id="416084">@Paul Puscas</span></p>



<a name="240556051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Inject%20CORS%20Header%20using%20SMART%20js%20client/near/240556051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client.html#240556051">(May 28 2021 at 02:47)</a>:</h4>
<p>That's a server side problem that isn't doing the CORS responses, and the browser is protecting you from it. Server needs fixing, not Web client app.</p>



<a name="240602999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Inject%20CORS%20Header%20using%20SMART%20js%20client/near/240602999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client.html#240602999">(May 28 2021 at 13:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> we're trying to test this against the Logica sandbox, any suggestion on what we can do next?</p>



<a name="240603155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Inject%20CORS%20Header%20using%20SMART%20js%20client/near/240603155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Goel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client.html#240603155">(May 28 2021 at 13:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="193795">Joel Francis</span> <a href="#narrow/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client/near/240509404">said</a>:</p>
<blockquote>
<p>How do we inject the Allow CORS header into our requests using the SMART JS client. Is there a way we can get a handle on the request object?<br>
</p>
</blockquote>
<p>We were hoping someone could help us put this header in</p>



<a name="240613129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Inject%20CORS%20Header%20using%20SMART%20js%20client/near/240613129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client.html#240613129">(May 28 2021 at 14:39)</a>:</h4>
<p>You might want to reach out to the logica sandbox team. Can you paste in a full (""copy as curl") request/response log for these queries from your dev tools?</p>



<a name="240975313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Inject%20CORS%20Header%20using%20SMART%20js%20client/near/240975313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Winters <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client.html#240975313">(Jun 01 2021 at 17:22)</a>:</h4>
<p>I have a <a href="https://github.com/smart-on-fhir/client-js/pull/122">PR</a> open that might be helpful if this problem hasn't been solved already.  It allows the SMART JS client to return the redirect URL before actually redirecting.</p>



<a name="240975575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Inject%20CORS%20Header%20using%20SMART%20js%20client/near/240975575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Winters <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client.html#240975575">(Jun 01 2021 at 17:24)</a>:</h4>
<p>And here is the <a href="https://github.com/smart-on-fhir/client-js/issues/121">issue</a> I created to describe this feature request. <span class="user-mention" data-user-id="192545">@Alex Goel</span> <span class="user-mention" data-user-id="193795">@Joel Francis</span></p>



<a name="240978562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Inject%20CORS%20Header%20using%20SMART%20js%20client/near/240978562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Francis <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client.html#240978562">(Jun 01 2021 at 17:46)</a>:</h4>
<p><span class="user-mention silent" data-user-id="195840">David Winters</span> <a href="#narrow/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client/near/240975313">said</a>:</p>
<blockquote>
<p>I have a <a href="https://github.com/smart-on-fhir/client-js/pull/122">PR</a> open that might be helpful if this problem hasn't been solved already.  It allows the SMART JS client to return the redirect URL before actually redirecting.</p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="195840">@David Winters</span> , I have responded to another post and tagged you with a proxy suggestion to inject the CORS header</p>



<a name="240985267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Inject%20CORS%20Header%20using%20SMART%20js%20client/near/240985267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vladimir Ignatov <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Inject.20CORS.20Header.20using.20SMART.20js.20client.html#240985267">(Jun 01 2021 at 18:35)</a>:</h4>
<p><span class="user-mention" data-user-id="195840">@David Winters</span> I am reviewing your PR now, but I don't think it can solve this because</p>
<ol>
<li>Redirects don't need CORS</li>
<li>If that really is a problem on the server, then there is nothing you can do to avoid it (other then using a proxy which is a crude workaround)</li>
</ol>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
