---
layout: page
title: "FHIR Chat  · registering an app · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html">registering an app</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153924625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/153924625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#153924625">(Dec 12 2017 at 22:02)</a>:</h4>
<p>The spec states that all apps when registered with an EHR must register one or more Launch URL's. But this only applies for an EHR launch, nt a standalone launch - correct?</p>



<a name="254233500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254233500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Douglas DeShazo <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254233500">(Sep 21 2021 at 16:08)</a>:</h4>
<p>Please let me know if this belongs on the implementers stream.  We (LNRS) have a use case we would like to implement which asks the question 'does our customer need to register with each target as an app-developer in the scenario below, or can we manage the entire registration ourselves'.  I've read the OAuth2 and Consent thread, looked at FHIR UDAP, etc. but am having trouble getting to an answer on this or if this is even feasible currently.</p>
<p>Workflow:<br>
1.  LNRS offers a solution to Health Plan A (Customer) to pull Patient Access data on their behalf<br>
2.  Health Plan A (Customer) engages Member A to request permission to receive their “Patient Access” at Health Plan B (Target) <br>
3.  Member A authenticates themselves and authorizes the release of information at Health Plan B (Target)<br>
4.  Health Plan B (Target) provides a consent token to Health Plan A (Customer) to allow access to the Patient Access API<br>
5.  Health Plan A (Customer) passes the consent token to LNRS<br>
6.  LNRS accesses Health Plan B (Target) Patient Access API and authenticates the request with the token<br>
7.  LNRS pulls down the patient access data onto its platform<br>
8.  LNRS provides the normalized and enriched patient access data back to Health Plan A (Customer) via LNRS’ API</p>



<a name="254242825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254242825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254242825">(Sep 21 2021 at 17:06)</a>:</h4>
<blockquote>
<ol start="3">
<li>Member A authenticates themselves and authorizes the release of information at Health Plan B (Target)</li>
</ol>
</blockquote>
<p>This is the crux, I think: does the member see a request (in the Health Plan B portal) like "Do you want to share your data with LNRS" or like "Do you want to share your data with Health Plan A"? Assuming the language is about Health Plan A, then you'll need to register an OAuth client representing Health Plan A (rather than LNRS) with Health Plan B.</p>



<a name="254382280"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254382280" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Douglas DeShazo <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254382280">(Sep 22 2021 at 15:02)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191315">@Josh Mandel</span> will take under advisement.  This seems to be a scenario that is cropping up, certainly for us, so is there anything like this being discussed in WG's anywhere?  Davinci has PCDE, UDAP may have an approach for passing consent, IUA, but I haven't been able to locate OAuth.</p>



<a name="254383064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254383064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254383064">(Sep 22 2021 at 15:07)</a>:</h4>
<p>This all works using standard SMART-on-FHIR, with the following modification: LNRS registers as Plan A, and step (4) and (5) become 'Health Plan B (Target) provides a consent token to LNRS (acting on behalf of Plan A)'</p>



<a name="254383151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254383151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254383151">(Sep 22 2021 at 15:07)</a>:</h4>
<p>And it is a scenario covered by the DaVinci ePDX guide that the industry is (allegedly) implementing</p>



<a name="254385606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254385606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254385606">(Sep 22 2021 at 15:23)</a>:</h4>
<p>To be clear in Michele's example, LRNS would need to maintain many individual app registrations (on behalf of its presumably many customers). The scaling story isn't ideal but it works today and doesn't involve exotic requirements.</p>



<a name="254387475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254387475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Douglas DeShazo <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254387475">(Sep 22 2021 at 15:35)</a>:</h4>
<p>Thanks guys because I'm not too worried about scaling at the moment and it appears that it can be done so that's a positive move forward.  <span class="user-mention" data-user-id="191912">@Michele Mottini</span> Are you referring to the base PDEX IG?  I've tested that many times at Connectathon but not this scenario.</p>



<a name="254387931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254387931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254387931">(Sep 22 2021 at 15:37)</a>:</h4>
<p>Yes, I am referring to this: <a href="https://build.fhir.org/ig/HL7/davinci-epdx/PDexImplementationActorsInteractionsDataPayloadsandMethods.html#oauth20-and-fhir-api">https://build.fhir.org/ig/HL7/davinci-epdx/PDexImplementationActorsInteractionsDataPayloadsandMethods.html#oauth20-and-fhir-api</a></p>



<a name="254388091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254388091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254388091">(Sep 22 2021 at 15:38)</a>:</h4>
<p>We are deploying that at our payer customers, most (all) payer seems to be going that way</p>



<a name="254388142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254388142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254388142">(Sep 22 2021 at 15:38)</a>:</h4>
<p>...but I was not able to test it with anyone at the last connectathon</p>



<a name="254388250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254388250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254388250">(Sep 22 2021 at 15:39)</a>:</h4>
<p>(although it is basically the standard SMART-on-FHIR flow, that is well tested in patient app connections with providers and now with some payers also)</p>



<a name="254388453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254388453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254388453">(Sep 22 2021 at 15:40)</a>:</h4>
<p>Interesting that <a href="https://build.fhir.org/ig/HL7/davinci-epdx/PDexImplementationActorsInteractionsDataPayloadsandMethods.html#oauth20-and-fhir-api">https://build.fhir.org/ig/HL7/davinci-epdx/PDexImplementationActorsInteractionsDataPayloadsandMethods.html#oauth20-and-fhir-api</a> doesn't mention SMART, even though other sections on the same page do. Do you know <span class="user-mention" data-user-id="191912">@Michele Mottini</span> whether this is intentional, or just a quirk?</p>



<a name="254388561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254388561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254388561">(Sep 22 2021 at 15:41)</a>:</h4>
<p>I guess <a href="https://build.fhir.org/ig/HL7/davinci-epdx/Member-AuthorizedOAuth2Exchange.html">https://build.fhir.org/ig/HL7/davinci-epdx/Member-AuthorizedOAuth2Exchange.html</a> overall doesn't point to any OAuth 2.0 profile (SMART or otherwise), which is weird; profiling is required for interop, and that's why SMART exists.</p>



<a name="254388599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254388599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254388599">(Sep 22 2021 at 15:41)</a>:</h4>
<p>I don't know for sure but I think it is just a quirk</p>



<a name="254762223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254762223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Isaac Vetter <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254762223">(Sep 24 2021 at 19:50)</a>:</h4>
<blockquote>
<ol start="3">
<li>Member A authenticates themselves and authorizes the release of information at Health Plan B (Target)</li>
</ol>
</blockquote>
<p>This is a legal question, not a technical one. </p>
<p>Actually, if LRNS isn't a covered entity, the member releases their data to LRNS. LRNS merely needs to follow their own privacy policy for handling the data. There's no requirement that "Health Plan B"'s authorization page describes LRNS intended/eventual uses for the data. (Although some AS implementations try to). </p>
<p>My minimal understanding is that the data leaves HIPAA protections when the member authorizes it's release and then re-enters HIPAA protection once it's given to Health Plan A. Can anyone confirm or deny?</p>



<a name="254766892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254766892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254766892">(Sep 24 2021 at 20:22)</a>:</h4>
<p>Presumably LRNS is acting as a business associate for its health plan customers.</p>



<a name="254766933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/254766933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#254766933">(Sep 24 2021 at 20:23)</a>:</h4>
<p>As you say, it's a legal question, but I was assuming BAAs in place covering responsibilities and use of these data -- and in this context it's very much not "leaving" HIPAA. (Could LRNS offer a direct-to-consumer app instead? Sure.)</p>



<a name="255043040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/registering%20an%20app/near/255043040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/registering.20an.20app.html#255043040">(Sep 27 2021 at 12:59)</a>:</h4>
<p>Business Associates (BA) are more controlled now days than back at original HIPAA definition of BA, where the control was limited to the BA  Agreement (BAA).  -- so, yes a BA handling the data, is a protected space. (or should be)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
