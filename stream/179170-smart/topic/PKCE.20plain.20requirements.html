---
layout: page
title: "FHIR Chat  · PKCE plain requirements · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.20plain.20requirements.html">PKCE plain requirements</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="247000755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE%20plain%20requirements/near/247000755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.20plain.20requirements.html#247000755">(Jul 23 2021 at 16:37)</a>:</h4>
<p>reading the CI build's language around PKCE plain I'm wondering what the actual requirements around not supporting plain are (from: <a href="https://build.fhir.org/ig/HL7/smart-app-launch/index.html#considerations-for-pkce-support">https://build.fhir.org/ig/HL7/smart-app-launch/index.html#considerations-for-pkce-support</a>)<br>
is a server expected to deny any auth requests using plain? with any particular code and which step? or can they accept plain PKCE requests out of band of SMART (assuming they even have any non-SMART auth) <br>
Or is it purely a client-facing requirement, and any clients that use plain need to understand they are not using SMART and need to have no expectation that a server supporting SMART will support them?</p>



<a name="247010706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE%20plain%20requirements/near/247010706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.20plain.20requirements.html#247010706">(Jul 23 2021 at 17:52)</a>:</h4>
<p>We say that a server needs to advertise its support for pkce and advertise the code verification methods that it supports. Those methods must not include plain.</p>



<a name="247010815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE%20plain%20requirements/near/247010815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.20plain.20requirements.html#247010815">(Jul 23 2021 at 17:53)</a>:</h4>
<p>If a server wants to support plain but advertisement doesn't support plain... I guess that could be possible? I don't know that there would be negative tests on this point in a conformance suite.</p>



<a name="247011043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE%20plain%20requirements/near/247011043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.20plain.20requirements.html#247011043">(Jul 23 2021 at 17:55)</a>:</h4>
<p>Are you thinking about this because you have a use case for the plain verification method, and you are concerned that you will not be able to support it? Is there something you can't handle with S256 or another method?</p>



<a name="247035985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE%20plain%20requirements/near/247035985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.20plain.20requirements.html#247035985">(Jul 23 2021 at 21:43)</a>:</h4>
<p>Nope, I was thinking about how if/how I would negative test it and who I could hold accountable :p</p>



<a name="247036134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE%20plain%20requirements/near/247036134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.20plain.20requirements.html#247036134">(Jul 23 2021 at 21:44)</a>:</h4>
<p>I'd definitely reject an app for trying to use plain. Because it won't interoperate.</p>



<a name="247260188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/PKCE%20plain%20requirements/near/247260188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/PKCE.20plain.20requirements.html#247260188">(Jul 26 2021 at 20:52)</a>:</h4>
<p>I think the 2nd one. Client SHALL use <code>code_challenge_method</code>. Server SHOULD (or MAY) reject if client use <code>plain</code> (or other value)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
