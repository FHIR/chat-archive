---
layout: page
title: "FHIR Chat  · Issuing a new refresh token from and old refresh token · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Issuing.20a.20new.20refresh.20token.20from.20and.20old.20refresh.20token.html">Issuing a new refresh token from and old refresh token</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="160569031"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Issuing%20a%20new%20refresh%20token%20from%20and%20old%20refresh%20token/near/160569031" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Issuing.20a.20new.20refresh.20token.20from.20and.20old.20refresh.20token.html#160569031">(Mar 12 2019 at 13:22)</a>:</h4>
<p>In the <a href="https://www.federalregister.gov/d/2019-02224/p-857" target="_blank" title="https://www.federalregister.gov/d/2019-02224/p-857">ONC NPRM</a>, this process is described for using a refresh token to get a new refresh token:</p>
<div class="codehilite"><pre><span></span>Further, we propose that once a valid refresh token has been used to get a new access token that the FHIR server
must demonstrate that it can issue a new refresh token to the app, which must be for a new period no shorter
than three months. For example, if an application were issued a refresh token that was good for three months
upon its first-ever connection and then subsequently connected to the FHIR server one month later, the FHIR
server would need to enable that connection to occur without re-authentication and re-authorization, and it
would need to issue a new refresh token for a new three-month period from that access date.
</pre></div>


<p>Is this actually allowed by either SMART or OAuth 2.0?  I can't find any reference in either the SMART guide or the OAuth 2.0 RFC about arbitrarily extending access by re-issuing new refresh tokens.  This approach effectively makes refresh token expiration irrelevant, I'm assuming it isn't intended by SMART/OAuth 2.0, but since it isn't explicitly disallowed, I was hoping to get confirmation.</p>



<a name="160569264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Issuing%20a%20new%20refresh%20token%20from%20and%20old%20refresh%20token/near/160569264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Issuing.20a.20new.20refresh.20token.20from.20and.20old.20refresh.20token.html#160569264">(Mar 12 2019 at 13:26)</a>:</h4>
<p>I believe it is an OAuth 2.0 concept.</p>



<a name="160569436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Issuing%20a%20new%20refresh%20token%20from%20and%20old%20refresh%20token/near/160569436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Issuing.20a.20new.20refresh.20token.20from.20and.20old.20refresh.20token.html#160569436">(Mar 12 2019 at 13:28)</a>:</h4>
<p><a href="https://tools.ietf.org/html/rfc6749#section-1.5" target="_blank" title="https://tools.ietf.org/html/rfc6749#section-1.5">https://tools.ietf.org/html/rfc6749#section-1.5</a></p>



<a name="160569607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Issuing%20a%20new%20refresh%20token%20from%20and%20old%20refresh%20token/near/160569607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Drew Torres <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Issuing.20a.20new.20refresh.20token.20from.20and.20old.20refresh.20token.html#160569607">(Mar 12 2019 at 13:30)</a>:</h4>
<p>The question of refresh token expiration is valid. How often do you want the user to enter in credentials for an application that has the ability to impersonate you? Every 3 months, yearly, or indefinitely?</p>



<a name="160569614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Issuing%20a%20new%20refresh%20token%20from%20and%20old%20refresh%20token/near/160569614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Issuing.20a.20new.20refresh.20token.20from.20and.20old.20refresh.20token.html#160569614">(Mar 12 2019 at 13:30)</a>:</h4>
<p>The expiration in the token is the expiration for that token. you refresh to see if you have continual authorization. In this way the user can revoke background access, and it will be effective upon next refresh. The size of this token expiration is a ballance between user-experience vs noise.</p>



<a name="160572021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Issuing%20a%20new%20refresh%20token%20from%20and%20old%20refresh%20token/near/160572021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Cooper Thompson <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Issuing.20a.20new.20refresh.20token.20from.20and.20old.20refresh.20token.html#160572021">(Mar 12 2019 at 13:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191357">@Andrew Torres</span> I must have missed paragraph H when I looked at the RFC.  Thanks for the reference.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
