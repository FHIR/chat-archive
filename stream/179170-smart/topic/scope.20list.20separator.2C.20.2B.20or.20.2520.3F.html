---
layout: page
title: "FHIR Chat  · scope list separator, + or %20? · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20list.20separator.2C.20.2B.20or.20.2520.3F.html">scope list separator, + or %20?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223215224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20list%20separator%2C%20%2B%20or%20%2520%3F/near/223215224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20list.20separator.2C.20.2B.20or.20.2520.3F.html#223215224">(Jan 19 2021 at 11:43)</a>:</h4>
<p>I got a request from <a class="stream" data-stream-id="179222" href="/#narrow/stream/179222-finnish-PHR">#finnish PHR</a> to change the list of scopes in our authorization request to be separated by the plus sign (+) instead of the encoded space character (%20).<br>
Any views on this? Does a plus sign work equally well across existing SMART implementations? How about existing libraries, what's their default behavior and is it easy enough to change that if required?</p>



<a name="223215418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20list%20separator%2C%20%2B%20or%20%2520%3F/near/223215418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20list.20separator.2C.20.2B.20or.20.2520.3F.html#223215418">(Jan 19 2021 at 11:45)</a>:</h4>
<p>OpenID specification example at <a href="https://openid.net/specs/openid-connect-core-1_0.html#rfc.section.3.1.2.1">https://openid.net/specs/openid-connect-core-1_0.html#rfc.section.3.1.2.1</a> uses <code>%20</code>,  the FHIR example at <a href="http://www.hl7.org/fhir/smart-app-launch/#for-example-2">http://www.hl7.org/fhir/smart-app-launch/#for-example-2</a> uses <code>+</code>.</p>



<a name="223247997"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20list%20separator%2C%20%2B%20or%20%2520%3F/near/223247997" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20list.20separator.2C.20.2B.20or.20.2520.3F.html#223247997">(Jan 19 2021 at 16:04)</a>:</h4>
<p>I believe it's supposed to be %20... trying to find where it describes how those are escaped</p>



<a name="223248398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20list%20separator%2C%20%2B%20or%20%2520%3F/near/223248398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20list.20separator.2C.20.2B.20or.20.2520.3F.html#223248398">(Jan 19 2021 at 16:07)</a>:</h4>
<p>Wouldn't that just be the URL encoding standard? <a href="https://tools.ietf.org/html/rfc3986#page-11">https://tools.ietf.org/html/rfc3986#page-11</a> - nothing really specific to SMART</p>



<a name="223248634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20list%20separator%2C%20%2B%20or%20%2520%3F/near/223248634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20list.20separator.2C.20.2B.20or.20.2520.3F.html#223248634">(Jan 19 2021 at 16:09)</a>:</h4>
<p><a href="https://tools.ietf.org/html/rfc6749#appendix-B">https://tools.ietf.org/html/rfc6749#appendix-B</a> is descriptive mostly for body</p>



<a name="223248859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20list%20separator%2C%20%2B%20or%20%2520%3F/near/223248859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jenni Syed <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20list.20separator.2C.20.2B.20or.20.2520.3F.html#223248859">(Jan 19 2021 at 16:11)</a>:</h4>
<p>And yes, I would expect this to be URL encoded, which is the %20 and not +</p>



<a name="223257737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20list%20separator%2C%20%2B%20or%20%2520%3F/near/223257737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20list.20separator.2C.20.2B.20or.20.2520.3F.html#223257737">(Jan 19 2021 at 17:08)</a>:</h4>
<p><a href="https://stackoverflow.com/q/1634271">https://stackoverflow.com/q/1634271</a> has a great discussion of the complexity here. I think that:</p>
<p>1) Our examples should use <code>%20</code> for spaces in query param values<br>
2) Servers should probably be ready to deal with <code>+</code> or <code>%20</code> in query param values</p>



<a name="223257769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/scope%20list%20separator%2C%20%2B%20or%20%2520%3F/near/223257769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/scope.20list.20separator.2C.20.2B.20or.20.2520.3F.html#223257769">(Jan 19 2021 at 17:08)</a>:</h4>
<p>Somebody want to submit a pull request? ;-)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
