---
layout: page
title: "FHIR Chat  · invalid scope · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/invalid.20scope.html">invalid scope</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153926043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/invalid%20scope/near/153926043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/invalid.20scope.html#153926043">(Dec 18 2017 at 21:17)</a>:</h4>
<p>I'm accessing the sandbox at: <a href="https://sb-fhir-stu3.smarthealthit.org/smartstu3/data" target="_blank" title="https://sb-fhir-stu3.smarthealthit.org/smartstu3/data">https://sb-fhir-stu3.smarthealthit.org/smartstu3/data</a> as a confidential client in standalone launch sequence.</p>
<p>It's all working fine, but when I request a scope of <code>patient/*.read</code> I get an 'invalid scope' error.  A scope of  <code>patient/*.*</code> is fine. I appreciate that this is legal - the server is saying that it won't grant read-only access - but is it deliberate?</p>



<a name="153926056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/invalid%20scope/near/153926056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/invalid.20scope.html#153926056">(Dec 18 2017 at 21:46)</a>:</h4>
<p>Some funny formatting here <span class="user-mention" data-user-id="191321">@David Hay</span> (you can use back-quotes to avoid having zulip clobber by interpreting your <code>*</code> as formatting). <span class="user-mention" data-user-id="191414">@Dan Gottlieb</span> can you comment on this sandbox behavior?</p>



<a name="153926057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/invalid%20scope/near/153926057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/invalid.20scope.html#153926057">(Dec 18 2017 at 21:47)</a>:</h4>
<p>oops - sorry about that :) fixed...</p>



<a name="153926060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/invalid%20scope/near/153926060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/invalid.20scope.html#153926060">(Dec 18 2017 at 21:55)</a>:</h4>
<p>btw - not infrequently getting an error: Request method 'POST' not supported plus stack trace - after I "authorize an app until revoked"...</p>



<a name="153926062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/invalid%20scope/near/153926062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/invalid.20scope.html#153926062">(Dec 18 2017 at 21:58)</a>:</h4>
<p>actually, it's consistently with this scope: <code>openid profile patient/*.*</code></p>



<a name="153926067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/invalid%20scope/near/153926067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/invalid.20scope.html#153926067">(Dec 18 2017 at 22:51)</a>:</h4>
<p>I'm not getting the scope error, but am hitting the stack trace after authorizing on every request - not sure if these are related. <span class="user-mention" data-user-id="192233">@Travis Cummings</span> is following up on the errors now. <span class="user-mention" data-user-id="191321">@David Hay</span>- can you use <a href="https://launch.smarthealthit.org" target="_blank" title="https://launch.smarthealthit.org">https://launch.smarthealthit.org</a> to test your app?</p>



<a name="153926070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/invalid%20scope/near/153926070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/invalid.20scope.html#153926070">(Dec 18 2017 at 22:55)</a>:</h4>
<p>Hi Dan - about to go into a meeting, but will do so in an hour. Actually - right now it's still working (if I avoid that scope)...</p>



<a name="153926075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/invalid%20scope/near/153926075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/invalid.20scope.html#153926075">(Dec 18 2017 at 23:04)</a>:</h4>
<p>Interesting, I'm still getting the stack trace. In any case, <code>patient/*.read</code> should be a valid scope, so it's odd that it's erroring...</p>



<a name="153926078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/invalid%20scope/near/153926078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gottlieb <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/invalid.20scope.html#153926078">(Dec 18 2017 at 23:16)</a>:</h4>
<p>One other thought - in the sandbox, I think the scopes the app was registered with have to match the scopes the client is requesting. Any chance that's the issue?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
