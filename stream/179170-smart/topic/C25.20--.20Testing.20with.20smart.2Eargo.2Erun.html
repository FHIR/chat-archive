---
layout: page
title: "FHIR Chat  · C25 -- Testing with smart.argo.run · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html">C25 -- Testing with smart.argo.run</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="209702504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209702504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209702504">(Sep 10 2020 at 20:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span>  Can you share the authz request you're making that's resulting in a missing patient?</p>



<a name="209702553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209702553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209702553">(Sep 10 2020 at 20:08)</a>:</h4>
<p>Also, the room is open right now if you want to debug in real-time.  Whova (and/or zoom) will let you screen share</p>



<a name="209702594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209702594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209702594">(Sep 10 2020 at 20:09)</a>:</h4>
<p>"the room"? I'm a Whova noob.</p>



<a name="209702648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209702648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209702648">(Sep 10 2020 at 20:09)</a>:</h4>
<p>Happy to do it real-time</p>



<a name="209702735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209702735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209702735">(Sep 10 2020 at 20:10)</a>:</h4>
<p>In Whova: Agenda -&gt; Connectathon Tracks -&gt; View Session -&gt; Argonaut Granular Controls -&gt; View Details.  Will open the meeting</p>



<a name="209703439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209703439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209703439">(Sep 10 2020 at 20:16)</a>:</h4>
<p>URL: <a href="https://smart.argo.run/v/r4/sim/eyJrIjoiMSIsImkiOiIxIiwiaiI6IjEiLCJiIjoiMzdlOTdlYTUtZTJkYy00NzcwLWJiN2QtOTNkMDJjZmViYjBjIn0/fhir">https://smart.argo.run/v/r4/sim/eyJrIjoiMSIsImkiOiIxIiwiaiI6IjEiLCJiIjoiMzdlOTdlYTUtZTJkYy00NzcwLWJiN2QtOTNkMDJjZmViYjBjIn0/fhir</a></p>



<a name="209703620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209703620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209703620">(Sep 10 2020 at 20:18)</a>:</h4>
<p><a href="https://smart.argo.run/v/r4/auth/authorize?client_id=client_id&amp;scope=launch/patient+patient/Immunization.r&amp;response_type=code&amp;redirect_uri=fhirtester://auth/callback&amp;aud=https://smart.argo.run/v/r4/sim/eyJrIjoiMSIsImkiOiIxIiwiaiI6IjEiLCJiIjoiMzdlOTdlYTUtZTJkYy00NzcwLWJiN2QtOTNkMDJjZmViYjBjIn0/fhir&amp;state=AEEDB7A9431C">https://smart.argo.run/v/r4/auth/authorize?client_id=client_id&amp;scope=launch/patient+patient/Immunization.r&amp;response_type=code&amp;redirect_uri=fhirtester://auth/callback&amp;aud=https://smart.argo.run/v/r4/sim/eyJrIjoiMSIsImkiOiIxIiwiaiI6IjEiLCJiIjoiMzdlOTdlYTUtZTJkYy00NzcwLWJiN2QtOTNkMDJjZmViYjBjIn0/fhir&amp;state=AEEDB7A9431C</a></p>



<a name="209704635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209704635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209704635">(Sep 10 2020 at 20:27)</a>:</h4>
<p>access token for <code>launch/patient</code> and <code>patient/Observation.r</code>:</p>
<p>eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuZWVkX3BhdGllbnRfYmFubmVyIjp0cnVlLCJzbWFydF9zdHlsZV91cmwiOiJodHRwczovL3NtYXJ0LmFyZ28ucnVuLy9zbWFydC1zdHlsZS5qc29uIiwicGF0aWVudCI6IjM3ZTk3ZWE1LWUyZGMtNDc3MC1iYjdkLTkzZDAyY2ZlYmIwYyIsInRva2VuX3R5cGUiOiJiZWFyZXIiLCJzY29wZSI6ImxhdW5jaC9wYXRpZW50IHBhdGllbnQvT2JzZXJ2YXRpb24uciIsImNsaWVudF9pZCI6ImNsaWVudF9pZCIsImV4cGlyZXNfaW4iOjM2MDAsImlhdCI6MTU5OTc2OTU0NSwiZXhwIjoxNTk5NzczMTQ1fQ.-bLL73b7oZNcJaRJ4lywzzy1shrpLKMyGB12flzm0z0</p>



<a name="209704746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209704746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209704746">(Sep 10 2020 at 20:28)</a>:</h4>
<p><a href="https://smart.argo.run/v/r4/sim/eyJrIjoiMSIsImkiOiIxIiwiaiI6IjEiLCJiIjoiMzdlOTdlYTUtZTJkYy00NzcwLWJiN2QtOTNkMDJjZmViYjBjIn0/fhir/Observation">https://smart.argo.run/v/r4/sim/eyJrIjoiMSIsImkiOiIxIiwiaiI6IjEiLCJiIjoiMzdlOTdlYTUtZTJkYy00NzcwLWJiN2QtOTNkMDJjZmViYjBjIn0/fhir/Observation</a></p>



<a name="209704863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209704863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209704863">(Sep 10 2020 at 20:29)</a>:</h4>
<div class="codehilite"><pre><span></span><code>curl -H &#39;Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuZWVkX3BhdGllbnRfYmFubmVyIjp0cnVlLCJzbWFydF9zdHlsZV91cmwiOiJodHRwczovL3NtYXJ0LmFyZ28ucnVuLy9zbWFydC1zdHlsZS5qc29uIiwicGF0aWVudCI6IjM3ZTk3ZWE1LWUyZGMtNDc3MC1iYjdkLTkzZDAyY2ZlYmIwYyIsInRva2VuX3R5cGUiOiJiZWFyZXIiLCJzY29wZSI6ImxhdW5jaC9wYXRpZW50IHBhdGllbnQvT2JzZXJ2YXRpb24uciIsImNsaWVudF9pZCI6ImNsaWVudF9pZCIsImV4cGlyZXNfaW4iOjM2MDAsImlhdCI6MTU5OTc2OTU0NSwiZXhwIjoxNTk5NzczMTQ1fQ.-bLL73b7oZNcJaRJ4lywzzy1shrpLKMyGB12flzm0z0&#39;  \
&#39;https://smart.argo.run/v/r4/sim/eyJrIjoiMSIsImkiOiIxIiwiaiI6IjEiLCJiIjoiMzdlOTdlYTUtZTJkYy00NzcwLWJiN2QtOTNkMDJjZmViYjBjIn0/fhir/Observation&#39;
</code></pre></div>


<p>This gives me the expected error:</p>
<blockquote>
<p>{"Error": "Request too wide for granted scopes"}</p>
</blockquote>



<a name="209708688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209708688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209708688">(Sep 10 2020 at 21:02)</a>:</h4>
<div class="codehilite"><pre><span></span><code>GET https://smart.argo.run/v/r4/sim/eyJrIjoiMSIsImkiOiIxIiwiaiI6IjEiLCJiIjoiMzdlOTdlYTUtZTJkYy00NzcwLWJiN2QtOTNkMDJjZmViYjBjIn0/
fhir/Observation?patient=37e97ea5-e2dc-4770-bb7d-93d02cfebb0c&amp;category=vital-signs
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuZWVkX3BhdGllbnRfYmFubmVyIjp0cnVlLCJzbWFydF9zdHlsZV91cmwiOiJodHRwczovL3NtYXJ0LmFyZ28ucnVuLy9zbWFydC1zdHlsZS5qc29uIiwicGF0aWVudCI6IjM3ZTk3ZWE1LWUyZGMtNDc3MC1iYjdkLTkzZDAyY2ZlYmIwYyIsInRva2VuX3R5cGUiOiJiZWFyZXIiLCJzY29wZSI6ImxhdW5jaC9wYXRpZW50IHBhdGllbnQvT2JzZXJ2YXRpb24ucnM_Y2F0ZWdvcnk9dml0YWwtc2lnbnMiLCJjbGllbnRfaWQiOiJjbGllbnRfaWQiLCJleHBpcmVzX2luIjozNjAwLCJpYXQiOjE1OTk3NzE0NjEsImV4cCI6MTU5OTc3NTA2MX0.EvEEoB2GC-R_E86WNgHYIOANMrLOZt7S72SpWrQDxcA
Accept: application/fhir+json
</code></pre></div>


<div class="codehilite"><pre><span></span><code>{&quot;Error&quot;: &quot;Request too wide for granted scopes&quot;}
</code></pre></div>


<p><span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="209708729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209708729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209708729">(Sep 10 2020 at 21:02)</a>:</h4>
<p>I do have the <code>patient/Observation.rs?category=vital-signs</code> in that token, so this request should succeed I assume?</p>



<a name="209710148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209710148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209710148">(Sep 10 2020 at 21:14)</a>:</h4>
<p>At a glance I agree <span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span>, this looks wrong.</p>



<a name="209710281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209710281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209710281">(Sep 10 2020 at 21:15)</a>:</h4>
<p>I'll also note <span class="user-mention" data-user-id="222054">@Gino Canessa</span> with the testing app at <a href="https://smart.argo.run/granular/index.html?aud=https%3A%2F%2Fsmart.argo.run%2Fv%2Fr4%2Fsim%2FeyJrIjoiMSIsImoiOiIxIiwiYiI6IjE1NWQzZDgwLWYzZjAtNGIzOS05MjA3LTBkMTIyY2Y5NGExMSJ9%2Ffhir">https://smart.argo.run/granular/index.html?aud=https%3A%2F%2Fsmart.argo.run%2Fv%2Fr4%2Fsim%2FeyJrIjoiMSIsImoiOiIxIiwiYiI6IjE1NWQzZDgwLWYzZjAtNGIzOS05MjA3LTBkMTIyY2Y5NGExMSJ9%2Ffhir</a> when I ask only for vital signs, it works... but I <em>can't</em> get it to even issue a query for "all observation" (in order to demonstrate a 403). Unchecking all the boxes is still creating a query with <code>?category=vital-signs</code>.</p>
<p><a href="/user_uploads/10155/HlE6AtMmx7M7pm1ZuNmdDqnq/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/HlE6AtMmx7M7pm1ZuNmdDqnq/image.png" title="image.png"><img src="/user_uploads/10155/HlE6AtMmx7M7pm1ZuNmdDqnq/image.png"></a></div>



<a name="209710410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209710410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209710410">(Sep 10 2020 at 21:16)</a>:</h4>
<p>(Ah, this is specifically an issue if I ask for <code>Observation.crs?category=vital-signs</code>; if I drop the <code>c</code> and request a scope of  <code>Observation.rs?category=vital-signs</code>, the behavior is fine.)</p>



<a name="209713765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209713765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209713765">(Sep 10 2020 at 21:46)</a>:</h4>
<p>re: Josh:  Ahh, filter duplication checking was leaving a non-element checked.  Fixed shortly.<br>
re: Pascal: looking at that next</p>



<a name="209714942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209714942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209714942">(Sep 10 2020 at 21:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191339">@Pascal Pfiffner</span> , found the issue - you have just the id for the patient instead of <code>Patient/{id}</code> that I was using in testing.  I'll have a new version up shortly that handles both.</p>



<a name="209715201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209715201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pascal Pfiffner <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209715201">(Sep 10 2020 at 22:01)</a>:</h4>
<p>Oh as search param? Got it.</p>



<a name="209715415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209715415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209715415">(Sep 10 2020 at 22:03)</a>:</h4>
<p>Pushed - should be up in ~5 minutes</p>



<a name="209715838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209715838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209715838">(Sep 10 2020 at 22:08)</a>:</h4>
<p>As a note - I removed the check forcing the auth header that we turned on earlier.. it ended up disabling the patient selector, etc.</p>



<a name="209808983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209808983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209808983">(Sep 11 2020 at 17:15)</a>:</h4>
<p>I'm doing an update to the <span class="user-mention" data-user-id="192710">@Kenneth Myhra</span> starter EMR simulator (for windows based apps)<br>
<a href="https://github.com/brianpos/smart-on-fhir">https://github.com/brianpos/smart-on-fhir</a></p>



<a name="209809002"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/209809002" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#209809002">(Sep 11 2020 at 17:15)</a>:</h4>
<p>Cool!</p>



<a name="210161400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/C25%20--%20Testing%20with%20smart.argo.run/near/210161400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Harrison <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun.html#210161400">(Sep 15 2020 at 17:30)</a>:</h4>
<p>The <code>access_token.payload</code> includes context <strong>inside</strong> the token.</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;need_patient_banner&quot;: true,
  &quot;smart_style_url&quot;: &quot;https://smart.argo.run//smart-style.json&quot;,
  &quot;patient&quot;: &quot;37e97ea5-e2dc-4770-bb7d-93d02cfebb0c&quot;,
  &quot;token_type&quot;: &quot;bearer&quot;,
  &quot;scope&quot;: &quot;launch/patient patient/Observation.r&quot;,
  &quot;client_id&quot;: &quot;client_id&quot;,
  &quot;expires_in&quot;: 3600,
  &quot;iat&quot;: 1599769545,
  &quot;exp&quot;: 1599773145
}
</code></pre></div>


<p>I thought the launch context was supposed to be included in the <code>/token</code> response body, not in the <code>access_token</code> proper.</p>
<p>Thread: <a href="#narrow/stream/179170-smart/topic/Smart.20Framework.20Supported.20by.20Patient.20Apps/near/207424774">https://chat.fhir.org/#narrow/stream/179170-smart/topic/Smart.20Framework.20Supported.20by.20Patient.20Apps/near/207424774</a><br>
Docs: <a href="http://hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#launch-context-arrives-with-your-access_token">http://hl7.org/fhir/smart-app-launch/scopes-and-launch-context/index.html#launch-context-arrives-with-your-access_token</a></p>
<div class="codehilite"><pre><span></span><code>Launch context parameters come **alongside** the access token. They will appear as JSON parameters:
{
  access_token: &quot;secret-xyz&quot;,
  patient: &quot;123&quot;,
  ...
}
</code></pre></div>


<p><span class="user-mention silent" data-user-id="191339">Pascal Pfiffner</span> <a href="#narrow/stream/179170-smart/topic/C25.20--.20Testing.20with.20smart.2Eargo.2Erun/near/209704635">said</a>:</p>
<blockquote>
<p>access token for <code>launch/patient</code> and <code>patient/Observation.r</code>:</p>
<p>eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJuZWVkX3BhdGllbnRfYmFubmVyIjp0cnVlLCJzbWFydF9zdHlsZV91cmwiOiJodHRwczovL3NtYXJ0LmFyZ28ucnVuLy9zbWFydC1zdHlsZS5qc29uIiwicGF0aWVudCI6IjM3ZTk3ZWE1LWUyZGMtNDc3MC1iYjdkLTkzZDAyY2ZlYmIwYyIsInRva2VuX3R5cGUiOiJiZWFyZXIiLCJzY29wZSI6ImxhdW5jaC9wYXRpZW50IHBhdGllbnQvT2JzZXJ2YXRpb24uciIsImNsaWVudF9pZCI6ImNsaWVudF9pZCIsImV4cGlyZXNfaW4iOjM2MDAsImlhdCI6MTU5OTc2OTU0NSwiZXhwIjoxNTk5NzczMTQ1fQ.-bLL73b7oZNcJaRJ4lywzzy1shrpLKMyGB12flzm0z0</p>
</blockquote>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
