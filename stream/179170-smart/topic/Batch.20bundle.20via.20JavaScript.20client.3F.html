---
layout: page
title: "FHIR Chat  · Batch bundle via JavaScript client? · smart"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/index.html">smart</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Batch.20bundle.20via.20JavaScript.20client.3F.html">Batch bundle via JavaScript client?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="168083318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Batch%20bundle%20via%20JavaScript%20client%3F/near/168083318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Batch.20bundle.20via.20JavaScript.20client.3F.html#168083318">(Jun 13 2019 at 20:41)</a>:</h4>
<p>If I get a patient-restricted fhir.js client via smart.patient.api (looking at <a href="http://docs.smarthealthit.org/clients/javascript/" target="_blank" title="http://docs.smarthealthit.org/clients/javascript/">http://docs.smarthealthit.org/clients/javascript/</a>), and I use fhir.js' "transaction" API (not documented but found it in the source code) to submit a batch of requests to search for Observations, will the API handle restricting those queries in the Bundle to the patient?</p>



<a name="168175794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Batch%20bundle%20via%20JavaScript%20client%3F/near/168175794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Batch.20bundle.20via.20JavaScript.20client.3F.html#168175794">(Jun 14 2019 at 22:12)</a>:</h4>
<p>Don't think so -- though you're asking about undocumented behavior, so the source code is probably more reliable than I am. (Incidentally you may be interested to know that <span class="user-mention" data-user-id="193731">@Vladimir Ignatov</span> is working on a "v2" library overhaul at <a href="https://github.com/smart-on-fhir/client-js" target="_blank" title="https://github.com/smart-on-fhir/client-js">https://github.com/smart-on-fhir/client-js</a> .</p>



<a name="217315116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Batch%20bundle%20via%20JavaScript%20client%3F/near/217315116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Batch.20bundle.20via.20JavaScript.20client.3F.html#217315116">(Nov 19 2020 at 19:03)</a>:</h4>
<p>With the new v2 JavaScript client-js library, (<a href="http://docs.smarthealthit.org/client-js/client.html">http://docs.smarthealthit.org/client-js/client.html</a>), is there a way to submit a batch of requests?  I have code that creates a bundle of a QuestionnaireResponse and derived (extracted) Observations which reference the QuestionnaireResponse's id, and would like to create them all in a single request.  Potentially, there could be a lot of requests to create extracted Observations if I have to do them individually.</p>



<a name="217330680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179170-smart/topic/Batch%20bundle%20via%20JavaScript%20client%3F/near/217330680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179170-smart/topic/Batch.20bundle.20via.20JavaScript.20client.3F.html#217330680">(Nov 19 2020 at 21:10)</a>:</h4>
<p>It turns out one can use the "request" function and pass in options to get it submit a bundle, like:</p>
<div class="codehilite"><pre><span></span><code>client.request({url: &#39;&#39;, method: &#39;POST&#39;,
  headers: {&#39;Content-Type&#39;: &#39;application/json&#39;},
  body: JSON.stringify(bundle)}).then(...
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
