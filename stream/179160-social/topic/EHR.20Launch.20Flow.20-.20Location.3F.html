---
layout: page
title: "FHIR Chat  · EHR Launch Flow - Location? · social"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179160-social/index.html">social</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html">EHR Launch Flow - Location?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="278030868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/EHR%20Launch%20Flow%20-%20Location%3F/near/278030868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angelo Ferreira <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html#278030868">(Apr 06 2022 at 14:24)</a>:</h4>
<p>Hi there! TLDR: <strong>I need to identify the clinical site that is launching the app</strong></p>
<p>Currently working on a SMART on FHIR app that is launched embedded in an EHR, using the EHR Launch Flow. We have been mostly trying to integrate with EPIC and Cerner EHRs so far.<br>
<strong>I need to identify the clinical site that is launching the app</strong>, but I am struggling to find the right way of doing it.<br>
Any thoughts? Below is the initial investigation performed:</p>
<p>The access-token I get as a result of the OAuth2 authentication process gets me the Location and the Encounter, which I thought could be the way to identify the hospital launching the app.<br>
<strong>Encounter</strong></p>
<ul>
<li>After going through the documentation I am realizing that Encounter.Location is a list and can be empty, so I can't rely on it.</li>
</ul>
<p><strong>Location</strong></p>
<ul>
<li>I get the location identifier (which allows me to search then for the location resource) only for EPIC EHR, not for Cerner, which is only providing me the Encounter (I assume it can be some kind of lack of permissions, idk).</li>
</ul>
<p><strong>PractitionerRole</strong></p>
<ul>
<li>I saw that PratictionerRole resource could also be a possibility since it has PractitionerRole.Location - <em>"The location(s) at which this practitioner provides care"</em> but this is a list and can be nullable.</li>
</ul>



<a name="278031919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/EHR%20Launch%20Flow%20-%20Location%3F/near/278031919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Wallack <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html#278031919">(Apr 06 2022 at 14:31)</a>:</h4>
<p>When you say clinical site, are you referring to identifying the hospital system e.g. Yale or Stanford or at a more granular level such as department?</p>



<a name="278032764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/EHR%20Launch%20Flow%20-%20Location%3F/near/278032764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angelo Ferreira <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html#278032764">(Apr 06 2022 at 14:36)</a>:</h4>
<p><span class="user-mention" data-user-id="492014">@Dan Wallack</span> Hospital system yes, not specific departments.</p>



<a name="278033603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/EHR%20Launch%20Flow%20-%20Location%3F/near/278033603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Wallack <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html#278033603">(Apr 06 2022 at 14:42)</a>:</h4>
<p><span class="user-mention" data-user-id="486084">@Angelo Ferreira</span> On launch, the iss parameter contains the FHIR base URL of the organization. This is the main way I have seen it done.  You could also add a query string parameter to add something like hospid=1234 but that is more of a static method and you would need to have different launch URL's for each organization you go to implement with.</p>



<a name="278040013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/EHR%20Launch%20Flow%20-%20Location%3F/near/278040013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angelo Ferreira <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html#278040013">(Apr 06 2022 at 15:21)</a>:</h4>
<p><span class="user-mention" data-user-id="492014">@Dan Wallack</span> thanks for your suggestion. Despite the <em>iss</em> param not identifying the hospital but the FHIR server the hospital uses, it's ok to use it assuming that it's always the same FHIR server within the same hospital.<br>
I think it might work, but I am not happy with going with this approach. I was expecting to have a proper Location Id or something I could query the FHIR server against and get more data.<br>
Any other thoughts?</p>



<a name="278042753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/EHR%20Launch%20Flow%20-%20Location%3F/near/278042753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html#278042753">(Apr 06 2022 at 15:38)</a>:</h4>
<p>You might get more detail if you ask this in <a class="stream" data-stream-id="179170" href="/#narrow/stream/179170-smart">#smart</a></p>



<a name="278043972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/EHR%20Launch%20Flow%20-%20Location%3F/near/278043972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html#278043972">(Apr 06 2022 at 15:45)</a>:</h4>
<p>If you're referring to what you get in the sandbox dev environments of Epic and Cerner, it may not reflect what you get in a production environment.</p>



<a name="278044113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/EHR%20Launch%20Flow%20-%20Location%3F/near/278044113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html#278044113">(Apr 06 2022 at 15:46)</a>:</h4>
<p>You can also get practitioner info through the fhirUser object, and try to query for information based on that.</p>



<a name="278044369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/EHR%20Launch%20Flow%20-%20Location%3F/near/278044369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikael Rinnetmäki <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html#278044369">(Apr 06 2022 at 15:48)</a>:</h4>
<p>But if you don't like something perhaps missing in some environment, I'd go with <span class="user-mention" data-user-id="492014">@Dan Wallack</span>'s proposal. You can convert the iss parameter into an organization based on endpoint lists. See <a href="https://open.epic.com/MyApps/Endpoints">https://open.epic.com/MyApps/Endpoints</a>. I think Cerner has a similar list. I remember also seeing computational access to these being discussed.</p>



<a name="278057077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/EHR%20Launch%20Flow%20-%20Location%3F/near/278057077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angelo Ferreira <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/EHR.20Launch.20Flow.20-.20Location.3F.html#278057077">(Apr 06 2022 at 17:19)</a>:</h4>
<p>Thank you all for your tips. Even though they have not 100% answered my question, I learned from them.<br>
Will carry on with this discussion in <a class="stream" data-stream-id="179170" href="/#narrow/stream/179170-smart">#smart</a> as suggested by David.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
