---
layout: page
title: "FHIR Chat  · An error in Madrid vaccination website leaks data · social"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179160-social/index.html">social</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html">An error in Madrid vaccination website leaks data</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="245335866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245335866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245335866">(Jul 08 2021 at 16:13)</a>:</h4>
<p>Text in Spanish, but do you see something interesting in the image? <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span><br>
<a href="https://www.eldiario.es/tecnologia/fallo-web-sanidad-madrid-deja-descubierto-datos-rey-miles-personas_1_8114359.html">https://www.eldiario.es/tecnologia/fallo-web-sanidad-madrid-deja-descubierto-datos-rey-miles-personas_1_8114359.html</a><br>
Also, I think they are using the extensions wrong <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<a name="245343150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245343150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245343150">(Jul 08 2021 at 17:15)</a>:</h4>
<p>I think they figured if they used extensions, then people would not notice that the patients full name is in the json.... obscurity based security</p>



<a name="245343913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245343913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Church <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245343913">(Jul 08 2021 at 17:22)</a>:</h4>
<p>I think that's just because the paternal and maternal family names are treated differently. Is there something wrong with the extensions? They look plausible to me.</p>



<a name="245346168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245346168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245346168">(Jul 08 2021 at 17:41)</a>:</h4>
<p>my point is that the fact the name is there is the FACT of the "website leak".  Had the data just used opaque identifiers, the data would have not been otherwise identifiable (well, they did use the individual's EU identifier).  So many failures.. but obscurity through use of an extension was my point.</p>



<a name="245359009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245359009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245359009">(Jul 08 2021 at 19:21)</a>:</h4>
<p>I don't think these particular extensions have anything to do with obscurity - the handling of non-English based names almost always requires extensions. In this particular case, in Spanish the family name is concatenation of paternal and maternal names, and which is which is probably part of the demographics.</p>



<a name="245387355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245387355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245387355">(Jul 09 2021 at 00:17)</a>:</h4>
<p>yeah, the initial capture didn't have the extension url censored, but somehow they decided the uri to the extension itself was also a patient information</p>



<a name="245387430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245387430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245387430">(Jul 09 2021 at 00:18)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197072">Paul Church</span> <a href="#narrow/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data/near/245343913">said</a>:</p>
<blockquote>
<p>I think that's just because the paternal and maternal family names are treated differently. Is there something wrong with the extensions? They look plausible to me.</p>
</blockquote>
<p>I believe that extensions are only valid inside a <a href="http://humanname.family">humanname.family</a> attribute, not directly over the name</p>



<a name="245418286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245418286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245418286">(Jul 09 2021 at 09:02)</a>:</h4>
<p>The extensions look fine. The resource shown seems to be a Patient, so what I understand is that is was possible for some time to do a GET /Patient?identifier=15 and get the Patient resource for the king</p>



<a name="245432521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245432521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245432521">(Jul 09 2021 at 11:48)</a>:</h4>
<p>not just the king... anyone.. all you needed was the EU identifier... and there was no protection against brute force attacks just sequentially going thru numbers</p>



<a name="245664353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245664353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245664353">(Jul 12 2021 at 09:39)</a>:</h4>
<p>That's right</p>



<a name="245664497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245664497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245664497">(Jul 12 2021 at 09:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data/near/245418286">said</a>:</p>
<blockquote>
<p>The extensions look fine. </p>
</blockquote>
<p>wouldn't the father/mother name extension go into a "_family" json element?</p>



<a name="245667312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245667312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245667312">(Jul 12 2021 at 10:11)</a>:</h4>
<p>You are right. I don't see the full URL, but then I looked and these really seem the standard FHIR extensions</p>



<a name="245667602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245667602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245667602">(Jul 12 2021 at 10:14)</a>:</h4>
<p>so, you could make extensions on the name, but if the url that is redacted is <a href="http://hl7.org/fhir/StructureDefinition/humanname-fathers-family">http://hl7.org/fhir/StructureDefinition/humanname-fathers-family</a>, those extensions are indeed not in the correct place.</p>



<a name="245722963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245722963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245722963">(Jul 12 2021 at 17:57)</a>:</h4>
<p>What is an EU identifier (asking as an EU citizen)?</p>



<a name="245739906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245739906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245739906">(Jul 12 2021 at 20:00)</a>:</h4>
<p>There is no such thing (at least I prefer to think there's no such thing)</p>



<a name="245809494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179160-social/topic/An%20error%20in%20Madrid%20vaccination%20website%20leaks%20data/near/245809494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Bosca <a href="https://fhir.github.io/chat-archive/stream/179160-social/topic/An.20error.20in.20Madrid.20vaccination.20website.20leaks.20data.html#245809494">(Jul 13 2021 at 11:17)</a>:</h4>
<p>yeah <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> , newspaper censored the uri of the extension a couple of hours after they published it (not sure why they would do that...). The uris were humanname-fathers-family and humanname-mothers-family</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
