---
layout: page
title: "FHIR Chat  · Ugh..null.cache merge conflicts... · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html">Ugh..null.cache merge conflicts...</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="228317372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228317372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228317372">(Mar 01 2021 at 22:23)</a>:</h4>
<p>Does everyone else hate it when null.cache gets merge conflicts?  I still don't know the proper way to merge these in.  Is there some reason why we've included a cache file in the repository?</p>



<a name="228318089"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228318089" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228318089">(Mar 01 2021 at 22:28)</a>:</h4>
<p>they make a massive difference to performance - hours of difference</p>



<a name="228318148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228318148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228318148">(Mar 01 2021 at 22:29)</a>:</h4>
<p>but you can always revert your files and ignore your local changes</p>



<a name="228328338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228328338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228328338">(Mar 01 2021 at 23:51)</a>:</h4>
<p>I never check this in (or snomed.cache or tools/.../snomed.xml) because they seem to change when I made no changes.</p>



<a name="228329780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228329780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228329780">(Mar 02 2021 at 00:03)</a>:</h4>
<p>that's cause someone else didn't commit it</p>



<a name="228336073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228336073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228336073">(Mar 02 2021 at 01:03)</a>:</h4>
<p>null.cache changes every time you build - it has a bunch of expansion timestamps in it that change when you build</p>



<a name="228336853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228336853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228336853">(Mar 02 2021 at 01:10)</a>:</h4>
<p>Hmm, just did some searching and we could this:</p>
<div class="codehilite"><pre><span></span><code>git update-index --skip-worktree FILENAME
</code></pre></div>
<p>and then it will never commit that file to the repository but will get any changes to it that are checked in.</p>



<a name="228338717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228338717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228338717">(Mar 02 2021 at 01:31)</a>:</h4>
<p>Can we jsut add it to the gitignore?</p>



<a name="228338755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228338755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228338755">(Mar 02 2021 at 01:32)</a>:</h4>
<p>if someone wants to actually update it, they still can, but this way it won't affect other peoples builds</p>



<a name="228348226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228348226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228348226">(Mar 02 2021 at 03:40)</a>:</h4>
<p>The desire is that it gets kept up-to-date.  If it's ignored, no one will commit it and all builds will slow down as a consequence.</p>



<a name="228357646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228357646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228357646">(Mar 02 2021 at 05:53)</a>:</h4>
<p>no, if you add it to .gitignore then it doesn't get committed and it also doesn't get checked out.  The main problem with the file is that it doesn't merge nicely.  In my latest merge failure, it was just a bunch of dates that were different.  I really don't understand why git can't merge it.  Maybe it's not treating it as a text file?</p>



<a name="228360233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228360233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228360233">(Mar 02 2021 at 06:26)</a>:</h4>
<p>The issue is you download with one set of dates.  Someone else merges with a different set of dates, then you try to merge with your dates and Git doesn't know which dates you want.  Your only chance to succeed is to create your pull request and get your test build to completion between your initial pull and your merge.  If anyone else gets in there, you'll get a conflict.  I think the solution is for the build to hardcode the dates and expansion ids to something so they never change (unless Grahame uses them somehow?)  Similar issue in the SNOMED CT expansions.</p>
<p>There's a tougher issue in that some of the changes appear to be date-related content that manifests in the narrative.  Not sure how easy that will be to lock and not change.</p>



<a name="228360890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228360890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228360890">(Mar 02 2021 at 06:35)</a>:</h4>
<p>it shouldn't have dates in it. I'll investigate at some time</p>



<a name="228363525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228363525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228363525">(Mar 02 2021 at 07:06)</a>:</h4>
<p>The SNOMED cache changes dates too.</p>



<a name="228842770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228842770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228842770">(Mar 04 2021 at 20:16)</a>:</h4>
<p>Just curious, doesn't the build process in github rebuild every PR? If so, what is the point to check-in build generated/updated files? I have never checked in any cache files (null.cache, snomed.cache, etc). Maybe I should do that?</p>



<a name="228844738"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228844738" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228844738">(Mar 04 2021 at 20:28)</a>:</h4>
<p>the CI pipeline only checks the build, and then generates the webpage for the branch/master</p>



<a name="228844765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228844765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228844765">(Mar 04 2021 at 20:28)</a>:</h4>
<p>the pipeline doesn't commit anything back to the repo iteself</p>



<a name="228844865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Ugh..null.cache%20merge%20conflicts.../near/228844865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Ugh.2E.2Enull.2Ecache.20merge.20conflicts.2E.2E.2E.html#228844865">(Mar 04 2021 at 20:29)</a>:</h4>
<p>it onlygenerates the website code and pushes it to <a href="http://build.fhir.org">build.fhir.org</a> or <a href="http://build.fhir.org/branches/&lt;your">build.fhir.org/branches/&lt;your</a> fancy branch name here&gt;</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
