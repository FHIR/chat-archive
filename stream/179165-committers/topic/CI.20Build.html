---
layout: page
title: "FHIR Chat  · CI Build · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html">CI Build</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153838811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838811">(Jul 15 2016 at 23:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> we need to change the CI build process now. we need to start building a bunch of implementation guides as well as the main build</p>



<a name="153838813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838813">(Jul 15 2016 at 23:16)</a>:</h4>
<p>there's some complexities here - the jar to build the IGs with is built by the main build. </p>



<a name="153838814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838814">(Jul 15 2016 at 23:17)</a>:</h4>
<p>so we take that jar, and use it to build a whole lot of igs, some of which are in github projects, not the main svn repository </p>



<a name="153838815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838815">(Jul 15 2016 at 23:18)</a>:</h4>
<p>changes to the main mean we need to rebuild all IGs, while changes in the IGS mean we need to rebuild by the dependencies declared in the IGs. </p>



<a name="153838816"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838816" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838816">(Jul 15 2016 at 23:18)</a>:</h4>
<p>I don't know whether all that complexity is possible</p>



<a name="153838921"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838921" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838921">(Jul 16 2016 at 17:03)</a>:</h4>
<p>OK! Is there a script that we should run, to group all of that logic together? (Or a script I should write?)</p>



<a name="153838942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838942">(Jul 16 2016 at 21:09)</a>:</h4>
<p>we'll have to write one between us </p>



<a name="153838945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838945">(Jul 16 2016 at 21:27)</a>:</h4>
<p>one tricky question is about the terminology cache</p>



<a name="153838948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838948">(Jul 16 2016 at 21:28)</a>:</h4>
<p>it makes a massive speed difference, but occasionally has to be cleared out. I've moved it out of version control, into the users local directory, but i'm not sure that's working out</p>



<a name="153838960"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838960" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838960">(Jul 17 2016 at 00:55)</a>:</h4>
<p>Are you suggesting that we'd trigger re-builds of each IG every time that the main repo changes? That seems... hard. Better, I think, for IGs to live their own separate lives and point to a specific revision of the main build. IG authors can update this explicitly when they're ready, and then their IGs can rebuild. We could provide IG authors a sample travis.yml file they can add to their project, for example.</p>



<a name="153838964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838964">(Jul 17 2016 at 02:46)</a>:</h4>
<p>I think tying IGs to specific versions of the spec is good.  The tricky bit is what an IG does if they want to point to a frozen snapshot and have the links work.  I suspect we'll say we'll create snapshots for major connectathons or ballots, but other than that, during development, they'll have to live with certain links not working some of the time.  Inputs to the build process would presumably be a snapshot of the validation.xml.zip (or whatever it's called now) and the URL where the spec is located?</p>



<a name="153838967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838967">(Jul 17 2016 at 07:32)</a>:</h4>
<p>I find the idea that IGs would point to specific versions of the spec really difficult indeed. </p>



<a name="153838968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838968">(Jul 17 2016 at 07:33)</a>:</h4>
<p>right now, the version of the spec is rolling over pretty quickly, and many changes are because of the IGs. Tieing IGs to a specific version of the spec just means that this has to be changed everytime the spec changes - seems like chasing your tail to me</p>



<a name="153838969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838969">(Jul 17 2016 at 07:34)</a>:</h4>
<p>also, right now, I've unhooked most of the IGs from the main build, and no one is getting notified when they don't build because the profiles need to change. '</p>



<a name="153838970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838970">(Jul 17 2016 at 07:34)</a>:</h4>
<p>of course, for IGs based on a stable release, that's different</p>



<a name="153838971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838971">(Jul 17 2016 at 07:35)</a>:</h4>
<p>right now, you build with the IG publisher for a specific build, and it contains all the internal knowledge that it needs. We can only support publication of IGs from supported forks (ones where I can produce an updated IG publisher)</p>



<a name="153838972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838972">(Jul 17 2016 at 07:36)</a>:</h4>
<p>and right now, the only supported fork is trunk </p>



<a name="153838982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838982">(Jul 17 2016 at 09:03)</a>:</h4>
<p>and. btw, the principal driver for me is that when I release a new IG publisher, I want to know whether I've broken anything</p>



<a name="153838985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/CI%20Build/near/153838985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/CI.20Build.html#153838985">(Jul 17 2016 at 10:08)</a>:</h4>
<p>at the very least, we can run the test IG build</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
