---
layout: page
title: "FHIR Chat  · Applying FHIR-31400: Applying eld-1 only on snapshot · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Applying.20FHIR-31400.3A.20Applying.20eld-1.20only.20on.20snapshot.html">Applying FHIR-31400: Applying eld-1 only on snapshot</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="271563306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Applying%20FHIR-31400%3A%20Applying%20eld-1%20only%20on%20snapshot/near/271563306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Applying.20FHIR-31400.3A.20Applying.20eld-1.20only.20on.20snapshot.html#271563306">(Feb 11 2022 at 11:30)</a>:</h4>
<p>Who can help me on the procedure for removing eld-1 from ElementDefinition (which seems to be defined in a spreadsheet) and move it to StructureDefinition (which seems to be defined as XML resource directly). I made a first attempt here: <a href="https://github.com/HL7/fhir/pull/1700">https://github.com/HL7/fhir/pull/1700</a>, which runs into the error:</p>
<div class="codehilite"><pre><span></span><code>Unable to load ElementDefinition: unable to find Invariant &#39;1&#39; elementdefinition.xml, sheet &quot;Data Elements&quot;, row 13
</code></pre></div>
<p>Is there a way to tell the publisher that that was the whole point <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> Should I keep the eld-1 name or mark eld-1 as deprecated somewhere?</p>



<a name="271565487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Applying%20FHIR-31400%3A%20Applying%20eld-1%20only%20on%20snapshot/near/271565487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Applying.20FHIR-31400.3A.20Applying.20eld-1.20only.20on.20snapshot.html#271565487">(Feb 11 2022 at 11:57)</a>:</h4>
<p>ElementDefinition is still defined in the spreadsheet, yes. Only the resources moved out from spreadsheets</p>



<a name="271565585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Applying%20FHIR-31400%3A%20Applying%20eld-1%20only%20on%20snapshot/near/271565585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Applying.20FHIR-31400.3A.20Applying.20eld-1.20only.20on.20snapshot.html#271565585">(Feb 11 2022 at 11:58)</a>:</h4>
<p>you need to remove the reference from the definitions spreadsheet to the invariant that you have removed</p>



<a name="271570792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Applying%20FHIR-31400%3A%20Applying%20eld-1%20only%20on%20snapshot/near/271570792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Applying.20FHIR-31400.3A.20Applying.20eld-1.20only.20on.20snapshot.html#271570792">(Feb 11 2022 at 12:49)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, I see now that was clearly in the output...<br>
Updated the PR with removing the reference to the removed invariant, but now I run into a NullPointerExection:</p>
<div class="codehilite"><pre><span></span><code>This was a Full Build                                                      7.842  15sec  599MB
FHIR build failure @ Fri, Feb 11, 2022 13:44+0100                          2.358  17sec  599MB
Error: null
java.lang.NullPointerException
        at org.hl7.fhir.definitions.parsers.spreadsheets.SpreadSheetCreator.addElements(SpreadSheetCreator.java:225)
        at org.hl7.fhir.definitions.parsers.spreadsheets.SpreadSheetCreator.addResourceSheets(SpreadSheetCreator.java:129)
        at org.hl7.fhir.definitions.parsers.spreadsheets.SpreadSheetCreator.generateSpreadsheet(SpreadSheetCreator.java:74)
        at org.hl7.fhir.definitions.parsers.SourceParser.loadResource(SourceParser.java:1279)
        at org.hl7.fhir.definitions.parsers.SourceParser.parse(SourceParser.java:289)
        at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:674)
        at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:487)
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
