---
layout: page
title: "FHIR Chat  · Difficulties running publish on new installations · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html">Difficulties running publish on new installations</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="195499894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195499894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khalid Shahin <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195499894">(Apr 28 2020 at 04:12)</a>:</h4>
<p><strong> Edit: I think I found the issue and I believe this effects all new committer and all new OS installations when it comes to building. Please see my proposed solutions to make to the master branch in my message below. </strong></p>
<p>I have been running the FHIR publish process on my laptop since October 2018 and it works fine still. But I've tried to get it working on other Windows installations on a desktop and within VMs (everything is Windows 10), but I'm running into the same error on each of them. I've tried different versions of Java, Ant, Ruby, Jekyll but it's still coming up with the same error on each installation (other than my initial laptop install) when I try to run publish.bat. I'm wondering if I'm missing a step or if there's something that I could do to fix this problem. I attached the full log, but here's the final error messages.</p>
<div class="codehilite"><pre><span></span><code>[ivy:resolve]           ::::::::::::::::::::::::::::::::::::::::::::::
[ivy:resolve]           ::          UNRESOLVED DEPENDENCIES         ::
[ivy:resolve]           ::::::::::::::::::::::::::::::::::::::::::::::
[ivy:resolve]           :: ca.uhn.hapi.fhir#hapi-fhir-base;3.7.0-SNAPSHOT: not found
[ivy:resolve]           :: org.fhir#ucum;1.0-SNAPSHOT: not found
[ivy:resolve]           ::::::::::::::::::::::::::::::::::::::::::::::
</code></pre></div>


<p>"impossible to resolve dependencies:"</p>
<p><a href="/user_uploads/10155/lBwEzFz8n7v4lgqvA5GMyJBD/fhir-build-fail.txt" title="fhir-build-fail.txt">fhir-build-fail.txt</a></p>



<a name="195500313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195500313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195500313">(Apr 28 2020 at 04:23)</a>:</h4>
<p>did you run the clean.bat?</p>



<a name="195565876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195565876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khalid Shahin <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195565876">(Apr 28 2020 at 13:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195500313" title="#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195500313">said</a>:</p>
<blockquote>
<p>did you run the clean.bat?</p>
</blockquote>
<p>These were fresh clones from the GitHub master branch. With that said I just ran clean.bat and then publish.bat and it's still the same exact problem.</p>



<a name="195593592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195593592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jason Walonoski <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195593592">(Apr 28 2020 at 16:54)</a>:</h4>
<p>It is possible the <code>3.7.0-SNAPSHOT</code> build is no longer available (that is quite old). It isn't a great long-term practice to rely on snapshots.</p>



<a name="195596861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195596861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khalid Shahin <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195596861">(Apr 28 2020 at 17:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191381">Jason Walonoski</span> <a href="#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195593592" title="#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195593592">said</a>:</p>
<blockquote>
<p>It is possible the <code>3.7.0-SNAPSHOT</code> build is no longer available (that is quite old). It isn't a great long-term practice to rely on snapshots.</p>
</blockquote>
<p>Does that mean ivy.xml will need to be changed? If so, should I make a Jira tracker item for this change to be made on the master branch? One way that I fixed it is I removed "-SNAPSHOT" from the HAPI and ucum lines in ivy.xml and it looks like it is working. But maybe they can remain as snapshot but be a newer version or some other change.</p>
<p>publish.bat still works on my original computer without any changes but maybe it's pulling the SNAPSHOTs from a cache. I see in my user folder there's ".ivy2" which has the needed snapshots. I copid this cache to my other installations and it fixed it. We will need to fix the FHIR build process because it won't work on new installations (at least for Windows).</p>



<a name="195599209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195599209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khalid Shahin <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195599209">(Apr 28 2020 at 17:32)</a>:</h4>
<p>Problem: If you have a fresh Windows install (and possibly other OS as well) the FHIR build process won't be able to pull a couple of the needed dependencies. This is likely because the repos that it checks have removed the needed snapshots.</p>
<p>Proposed universal solutions (pick one):</p>
<ol>
<li>Committers will need to copy the two snapshots to their .ivy2 cache located in their user folder as part of the installation process. (Not practical, but it will work in the short term without any changes needed to the master branch)</li>
<li>ivy.xml will need to be changed so it looks for different dependencies whether it's a newer version or with "-SNAPSHOT" removed from the couple lines.</li>
<li>ivysettings.xml will include a repo that still has the removed snapshots.</li>
<li>Other, if there's some other underlying issue.</li>
</ol>
<p>I will make a Jira tracker item if one other person confirms this problem on a fresh OS install, and I'll include my three proposed solutions.</p>



<a name="195600372"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195600372" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195600372">(Apr 28 2020 at 17:40)</a>:</h4>
<p>Confirmed by removing the .ivy2/cache/ca.uhn.hapi.fhir/ entry and running <a href="http://publish.sh" title="http://publish.sh">publish.sh</a>. It is not OS-specific.</p>



<a name="195600657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195600657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khalid Shahin <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195600657">(Apr 28 2020 at 17:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192685">Vassil Peytchev</span> <a href="#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195600372" title="#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195600372">said</a>:</p>
<blockquote>
<p>Confirmed by removing the .ivy2/cache/ca.uhn.hapi.fhir/ entry and running <a href="http://publish.sh" title="http://publish.sh">publish.sh</a>. It is no OS-specific.</p>
</blockquote>
<p>Thank you. I'll make a Jira tracker item. Which of the proposed solutions do you think makes the most sense?</p>



<a name="195600918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195600918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195600918">(Apr 28 2020 at 17:44)</a>:</h4>
<p>I think there is a general need to clean up the build process, so if there is no need for these dependencies, maybe they can be removed....</p>



<a name="195602360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195602360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khalid Shahin <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195602360">(Apr 28 2020 at 17:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192685">Vassil Peytchev</span> <a href="#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195600918" title="#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195600918">said</a>:</p>
<blockquote>
<p>I think there is a general need to clean up the build process, so if there is no need for these dependencies, maybe they can be removed....</p>
</blockquote>
<p>Not sure about HAPI-3.7.0-SNAPSHOT, but ucum is needed for the build to continue.</p>



<a name="195624721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195624721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khalid Shahin <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195624721">(Apr 28 2020 at 20:48)</a>:</h4>
<p>I made a Jira FHIR tracker item for this problem and with a few proposed solutions.</p>
<p><a href="https://jira.hl7.org/browse/FHIR-26991" title="https://jira.hl7.org/browse/FHIR-26991">https://jira.hl7.org/browse/FHIR-26991</a></p>



<a name="195653323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195653323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195653323">(Apr 29 2020 at 02:32)</a>:</h4>
<p>this should be fixed now</p>



<a name="195692023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195692023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khalid Shahin <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195692023">(Apr 29 2020 at 11:03)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195653323" title="#narrow/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations/near/195653323">said</a>:</p>
<blockquote>
<p>this should be fixed now</p>
</blockquote>
<p>That fixed the HAPI 3.7.0 snapshot issue, <strong>but there's still the missing dependency "org.fhir#ucum;1.0-SNAPSHOT" error.</strong></p>



<a name="195756029"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195756029" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195756029">(Apr 29 2020 at 19:08)</a>:</h4>
<p>I think this should be "org.fhir#ucum;1.0.2", base on the contents of the actual repository: <a href="https://repo1.maven.org/maven2/org/fhir/ucum/" title="https://repo1.maven.org/maven2/org/fhir/ucum/">https://repo1.maven.org/maven2/org/fhir/ucum/</a></p>



<a name="195756058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195756058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195756058">(Apr 29 2020 at 19:08)</a>:</h4>
<p>I'm testing that change locally now</p>



<a name="195759067"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195759067" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195759067">(Apr 29 2020 at 19:30)</a>:</h4>
<p><a href="https://github.com/HL7/fhir/pull/853" title="https://github.com/HL7/fhir/pull/853">https://github.com/HL7/fhir/pull/853</a> fixes this</p>



<a name="195767094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Difficulties%20running%20publish%20on%20new%20installations/near/195767094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Khalid Shahin <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Difficulties.20running.20publish.20on.20new.20installations.html#195767094">(Apr 29 2020 at 20:42)</a>:</h4>
<p>Tested it and it works. Thank you.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
