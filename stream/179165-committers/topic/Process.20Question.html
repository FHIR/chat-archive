---
layout: page
title: "FHIR Chat  · Process Question · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html">Process Question</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="259026595"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259026595" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259026595">(Oct 25 2021 at 22:04)</a>:</h4>
<p>I was doing a clean build of R4B and got the following error:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="go">Caused by: java.io.IOException: Error parsing JSON source: Duplicated property name: equivalence at Line 133 (path=[//contained[]/contained/group[]/group/element[]/equivalence/target[]/targetequivalent])</span>
</code></pre></div>
<p>Looking at <code>/source/valueset/valueset-nhin-purposeofuse.xml</code>, I assume the error is on line 134, that code <code>THREAT</code> has a listed <code>equivalent</code> target of itself.</p>
<p>I don't know how it got into the main R4B branch, but I am wary of changing something like that (since I neither have a ticket nor even know who is managing it).  Do I fix or just notify, e.g., <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  =)</p>
<p>Thanks!</p>



<a name="259026762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259026762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259026762">(Oct 25 2021 at 22:06)</a>:</h4>
<p>same code, but different codesystem. right?</p>



<a name="259026819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259026819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259026819">(Oct 25 2021 at 22:07)</a>:</h4>
<p>the nhin codes should not be in the fhir core. I didn't know they were anywhere near HL7. They borrowed what they thought were our codes many many years ago, and have evolved them themselves.</p>



<a name="259026936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259026936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259026936">(Oct 25 2021 at 22:08)</a>:</h4>
<p>git shows they have been here for a long time</p>



<a name="259027003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259027003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259027003">(Oct 25 2021 at 22:09)</a>:</h4>
<p>hmmm, concept maps are in the valueset? WHY!? that would be a nice thing for Sequoia to own, but that should not be in FHIR core.... where is this used?</p>



<a name="259027578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259027578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259027578">(Oct 25 2021 at 22:14)</a>:</h4>
<p>these codes have a different codeSystem - <a href="http://healthit.gov/nhin/purposeofuse">http://healthit.gov/nhin/purposeofuse</a><br>
Why would the same code name be seen as a conflict? It is not nice, but it should not be a conflict... right?</p>



<a name="259028060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259028060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259028060">(Oct 25 2021 at 22:19)</a>:</h4>
<p>looking at the rendering it says everything I just said... so it knows what itself is.... is it intended as an example of ConceptMap?<br>
<a href="http://hl7.org/fhir/codesystem-nhin-purposeofuse.html">http://hl7.org/fhir/codesystem-nhin-purposeofuse.html</a></p>



<a name="259029340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259029340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259029340">(Oct 25 2021 at 22:31)</a>:</h4>
<p>guessing the build was "improved" with stricter rules?</p>



<a name="259032458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259032458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259032458">(Oct 25 2021 at 23:06)</a>:</h4>
<p>to your original question of process....  this specific example shows that there is no easy answer.</p>



<a name="259032506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259032506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259032506">(Oct 25 2021 at 23:07)</a>:</h4>
<p>I would like to know what rule changed to make this a error. duplicate code value should not matter with different codesystem .. right? So is this a bug in the build tools?</p>



<a name="259032975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259032975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259032975">(Oct 25 2021 at 23:12)</a>:</h4>
<p>so the nhin valueSet and codesystem are referenced on only on the ValueSet and CodeSystem resources "examples". </p>
<ul>
<li><a href="http://hl7.org/fhir/codesystem-examples.html">http://hl7.org/fhir/codesystem-examples.html</a></li>
<li><a href="http://hl7.org/fhir/valueset-examples.html">http://hl7.org/fhir/valueset-examples.html</a><br>
there is a conceptMap, but it is .contained in the valueSet.</li>
</ul>
<p>Thus the provenance of these would be the Vocabulary workgroup... not the Security Workgroup (who would normally be the guilty one with regard to PurposeOfUse).</p>



<a name="259107284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259107284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259107284">(Oct 26 2021 at 14:45)</a>:</h4>
<p><del>I'd say that listing a code as an equivalent to itself is at least poor practice, if not an outright error.  I also think it is good that the build tools improve and start finding issues that have been missed in previous iterations.</del> (edit: this is not what is happening here)</p>
<p>I would love to see updates to the tooling run against the 'main' branches before they are pushed out, but I also understand that 'tooling' is stretched <em>a bit</em> thin.</p>
<p>Thanks for the insight into that particular VS John.  Given that the page it points to (<a href="http://healthit.gov/nhin/purposeofuse">http://healthit.gov/nhin/purposeofuse</a>) is 404, I'd guess that someone added it at one point and it has bit rot.  Given the git history on the file, it seems reasonable.</p>
<p>That said, what's the path to unblock on R4B work?  This should be affecting everyone working on R4B, since the source branch fails to build (e.g., nothing can be merged since no branch will pass checks).  <del>I'm happy to make a change here and possibly in other places, but I generally avoid tromping around the spec making changes  =)</del> (edit: cannot fix in source content, this is a build tooling issue)</p>
<p><del>Is the process to fix and file a ticket as pre-applied?</del> (edit: cannot fix in source content, this is a build tooling issue)</p>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> ? (trying to avoid just tagging everyone =)</p>



<a name="259110996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259110996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259110996">(Oct 26 2021 at 15:08)</a>:</h4>
<p>If you mean "update the ticket to mark it as pre-applied", then yes - with a comment indicating your local commit id.  (And then merge once the tooling stack allows)</p>



<a name="259113577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259113577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259113577">(Oct 26 2021 at 15:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  - it also helps if I <em>fully</em> read your messages =).  I agree that it is incorrect for that to be flagged as an error.  The contained <code>ConceptMap</code> is linking two systems that have the same code value, which should not be an error.</p>
<p>So, I guess I need to reframe this for <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> and <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , that the tooling is incorrectly flagging that as an error (when a <code>ConceptMap</code> has a <code>code</code> and <code>target.code</code> of the same value).</p>



<a name="259479647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259479647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259479647">(Oct 29 2021 at 03:48)</a>:</h4>
<p>so this is definitely on my list but it's not holding anyone up at the moment, right?</p>



<a name="259512759"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259512759" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259512759">(Oct 29 2021 at 11:48)</a>:</h4>
<p>I think it is holding everyone wanting to make their CR changes to FHIR core.</p>



<a name="259513353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259513353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259513353">(Oct 29 2021 at 11:54)</a>:</h4>
<p>why?</p>



<a name="259513812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259513812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259513812">(Oct 29 2021 at 11:58)</a>:</h4>
<p>when Gino first mentioned it, the build was failing with that error</p>



<a name="259513830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259513830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259513830">(Oct 29 2021 at 11:58)</a>:</h4>
<p>I tried it at that time and got the same thing</p>



<a name="259513840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259513840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259513840">(Oct 29 2021 at 11:58)</a>:</h4>
<p>I just pulled, clean, and am trying a build</p>



<a name="259513873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259513873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259513873">(Oct 29 2021 at 11:58)</a>:</h4>
<p>Ill let you know the success/failure in a couple of hours</p>



<a name="259522038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259522038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259522038">(Oct 29 2021 at 13:15)</a>:</h4>
<p>fails</p>



<a name="259522635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259522635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259522635">(Oct 29 2021 at 13:20)</a>:</h4>
<p>note that it seems to fail differently. the validate nhin does not throw errors or warnings</p>



<a name="259522851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259522851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259522851">(Oct 29 2021 at 13:21)</a>:</h4>
<p>so the new "Process Question" is about the new set of errors... I would guess...</p>
<div class="codehilite"><pre><span></span><code>
</code></pre></div>



<a name="259522919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259522919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259522919">(Oct 29 2021 at 13:22)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Summary: Errors=47, Warnings=3786, Information messages=657
ERROR @ CapabilityStatement.url (line 0, col0): capabilitystatement-example:: CapabilityStatement.url: UUIDs must be valid (src = InstanceValidator)
ERROR @ CapabilityStatement2.url (line 0, col0): capabilitystatement2-example:: CapabilityStatement2.url: UUIDs must be valid (src = InstanceValidator)
ERROR @ Citation.url (line 0, col0): citation-example-systematic-meta-review:: Citation.url: Canonical URLs must be absolute URLs if they are not fragment references (Citation/citation-example-systematic-meta-review) (src = InstanceValidator)
ERROR @ Composition.category[0].coding[0] (line 0, col0): composition-example:: Composition.category[0].coding[0]: The code &quot;LP173421-1&quot; is not valid in the system http://loinc.org; The code provided (http://loinc.org#LP173421-1) is not valid in the value set &#39;All codes known to the system&#39; (from http://tx.fhir.org/r4) for &#39;http://loinc.org#LP173421-1&#39; (src = TerminologyEngine)
...
</code></pre></div>



<a name="259566085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Process%20Question/near/259566085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Process.20Question.html#259566085">(Oct 29 2021 at 18:35)</a>:</h4>
<p>right nhin is not the issue. I'm planning on releasing a fix for R4B over the weekend</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
