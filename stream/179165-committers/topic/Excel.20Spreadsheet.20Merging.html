---
layout: page
title: "FHIR Chat  · Excel Spreadsheet Merging · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html">Excel Spreadsheet Merging</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153929196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929196">(Jan 17 2018 at 11:00)</a>:</h4>
<p>Shortly, I'm going to commit a new feature to the build. The way it works is:<br>
- when it runs into any spreadsheet that excel has saved, it will try to canonicalise the excel spreadsheet<br>
- then it will try to save it<br>
- if it can't, it will create a file [N}.please-close-this-in-excel-and-return-the-build-prior-to-committing<br>
- it it can, it will save the updated one</p>
<p>If you see the "please-close..." this file, <em>don't</em> commit, and <em>don't</em> commit it. Close in excel and restart the build please. </p>
<p>When it comes to merges, you should no longer see any changes but ones that you made yourself manually. For a little while, please check the spreadsheet differences, and I will work on the canonical excel XML algorithm (some tricky stuff in there)</p>



<a name="153929197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929197">(Jan 17 2018 at 11:06)</a>:</h4>
<p>this is preparation for migrating ot GitHub</p>



<a name="153929264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929264">(Jan 17 2018 at 16:28)</a>:</h4>
<p>Would it not be better for the build to die and force closing the Excel files?  Getting people to notice the existence of "please-close-this..." files when they're doing a commit could be hard.  And as much as we set expectations for all committers to actively monitor this stream, the reality is not all will in a sufficiently timely manner</p>



<a name="153929266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929266">(Jan 17 2018 at 16:29)</a>:</h4>
<p>Does this also mean that we <em>must</em> run a local build before committing?  That's a major change.  (And prevents things like "I can't make this work, can I commit and have you take a look at it?)</p>



<a name="153929578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929578">(Jan 19 2018 at 10:09)</a>:</h4>
<p>no it would not be better to force you to close Excel. We all have the work flow:<br>
- change something in excel<br>
- do a differential build<br>
- change something in excel....</p>



<a name="153929579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929579">(Jan 19 2018 at 10:10)</a>:</h4>
<p>and yes, you must run a local build, at least till the point it starts the actual build, before you commit.  Even if you are asking someone else to look. that's not new.</p>



<a name="153929580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929580">(Jan 19 2018 at 10:10)</a>:</h4>
<p>and any committers that commit these files will be outed!</p>



<a name="153929624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929624">(Jan 19 2018 at 15:48)</a>:</h4>
<p>Committing the "please close" files by accident seems unlikely.  Committing spreadsheets that haven't been processed seems like it will be pretty common.</p>



<a name="153929625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929625">(Jan 19 2018 at 15:48)</a>:</h4>
<p>And if the build runs with non-processed files, there's not going to be a huge incentive to remember to process them.</p>



<a name="153929760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929760">(Jan 20 2018 at 05:17)</a>:</h4>
<p>it would certainly be better. But I won't force closing excel in order to run the build - well, not unless there's really no choice at all.</p>



<a name="153929761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929761">(Jan 20 2018 at 05:18)</a>:</h4>
<p>There's one other choice I considered: banning the x-spreadsheet.xml files from version control, and generating them on the fly from the real master, and writing the real master from the spreadsheet files. This works around the excel locking problem, but adds a layer of complexity</p>



<a name="153929762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929762">(Jan 20 2018 at 05:19)</a>:</h4>
<p>An alternative is that I can set it up so the the CI build refuses to build on non-processed files</p>



<a name="153929953"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Excel%20Spreadsheet%20Merging/near/153929953" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Excel.20Spreadsheet.20Merging.html#153929953">(Jan 22 2018 at 15:53)</a>:</h4>
<p>I like option #3.  It makes the ramifications of messing up immediately clear (including who's at fault) without any digging.  It's also not a roadblock to someone else as they can always run a full local build themselves and commit.  And once we move to Git, a clean CI build would presumably be a pre-requisite to merging a change into the main build.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
