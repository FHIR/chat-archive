---
layout: page
title: "FHIR Chat  · Java item[x]: avoiding returning null · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html">Java item[x]: avoiding returning null</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154007590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007590">(Oct 10 2018 at 18:44)</a>:</h4>
<p>in: <a href="https://github.com/HL7/fhir/blob/d79ca9484fcb07e42292c10619672f6a7258a835/tools/java/org.hl7.fhir.tools.core/src/org/hl7/fhir/tools/implementations/java/JavaResourceGenerator.java#L2284" target="_blank" title="https://github.com/HL7/fhir/blob/d79ca9484fcb07e42292c10619672f6a7258a835/tools/java/org.hl7.fhir.tools.core/src/org/hl7/fhir/tools/implementations/java/JavaResourceGenerator.java#L2284">JavaResourceGenerator.java#L2284</a>  <strong>null</strong> will be returned  for item[x] : <code> write(indent+"    return null;\r\n");</code><br>
This breaks using a fluent style with the Java Reference Objects (solo or inside hapi). e.g.: <code>madication.addIngredient().getItemCodeableConcept().addCoding().setCode("M01AE01").setSystem("http://www.whocc.no/atc");</code> as it breaks at getItemCodeableConcept.<br>
This could be changed to autoCreate the item element with the asked DataType if it's null, similar to the getters of single datatype elements.</p>



<a name="154007606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007606">(Oct 10 2018 at 18:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> do you agree?</p>



<a name="154007611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007611">(Oct 10 2018 at 18:57)</a>:</h4>
<p>This has been a low-grade annoyance to me for a while. I'd support this change for sure.</p>
<p>The only question is what to do if you ask for getItemCodeableConcept() and there is already a value of the other type. Presumably we should throw an exception in that case.</p>



<a name="154007612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007612">(Oct 10 2018 at 18:57)</a>:</h4>
<p>yes that already happens. I'll make the change now</p>



<a name="154007613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007613">(Oct 10 2018 at 18:57)</a>:</h4>
<p>I'm about to regenerate them all anyway</p>



<a name="154007614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007614">(Oct 10 2018 at 18:57)</a>:</h4>
<p>The R4 ones, anyway</p>



<a name="154007616"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007616" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007616">(Oct 10 2018 at 18:59)</a>:</h4>
<p>It would be nice to regenerate DSTU3 as well. This would also fix the <code>profile = "http://hl7.org/fhir/Profile/RESOURCE_NAME"</code>problem.</p>



<a name="154007617"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007617" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007617">(Oct 10 2018 at 19:02)</a>:</h4>
<p>DSTU2 for the correction to <code>http://hl7.org/fhir/StructureDefinition/RESOURCE_NAME</code>as well (i assume nobody uses DSTU1 anymore)</p>



<a name="154007618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007618">(Oct 10 2018 at 19:03)</a>:</h4>
<p>better make a gForge task to regenerate them. That's harder work....</p>



<a name="154007620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007620">(Oct 10 2018 at 19:04)</a>:</h4>
<p><span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span></p>



<a name="154007621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Java%20item%5Bx%5D%3A%20avoiding%20returning%20null/near/154007621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Java.20item.5Bx.5D.3A.20avoiding.20returning.20null.html#154007621">(Oct 10 2018 at 19:04)</a>:</h4>
<p>i'll do</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
