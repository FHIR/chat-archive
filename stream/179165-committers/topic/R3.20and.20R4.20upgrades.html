---
layout: page
title: "FHIR Chat  · R3 and R4 upgrades · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html">R3 and R4 upgrades</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="179590823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179590823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179590823">(Nov 01 2019 at 01:05)</a>:</h4>
<p>The technical part of the R3 and R4 upgrades is complete, and you can now validate and publish IGs again.</p>



<a name="179590871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179590871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179590871">(Nov 01 2019 at 01:06)</a>:</h4>
<p>Note: you must upgrade the version of your IG to either 3.0.2 or 4.0.1 in order to publish</p>



<a name="179590883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179590883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179590883">(Nov 01 2019 at 01:06)</a>:</h4>
<p>There's no other changes required, and you don't need your dependencies to upgrade- you can use them as is (should work)</p>



<a name="179593729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179593729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179593729">(Nov 01 2019 at 02:10)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I've updated fhirVersion in the IG to 4.0.1 (<a href="https://github.com/HL7/case-reporting/blob/master/source/resources/implementationguide/hl7-fhir-us-ecr.xml" target="_blank" title="https://github.com/HL7/case-reporting/blob/master/source/resources/implementationguide/hl7-fhir-us-ecr.xml">https://github.com/HL7/case-reporting/blob/master/source/resources/implementationguide/hl7-fhir-us-ecr.xml</a>) AND version in ig.json to 4.0.1 (<a href="https://github.com/HL7/case-reporting/blob/master/ig.json" target="_blank" title="https://github.com/HL7/case-reporting/blob/master/ig.json">https://github.com/HL7/case-reporting/blob/master/ig.json</a>)</p>
<p>Also replaced all fhirVersions in the resources (because it failed when I just did the above two).</p>
<p>When I had just replaced the versions in the IG and ig.json it was failing with </p>
<div class="codehilite"><pre><span></span>Error: the IG declares that is based on version 4.0.0 but this IG publisher only supports publishing the following versions: 1.0.2, 1.4.0, 3.0.2, 4.0.1, 4.1.0
</pre></div>


<p>After relplacing all the fhirVersion in all the resources it's failing with: </p>
<div class="codehilite"><pre><span></span>Load USCoreR4 (http://hl7.org/fhir/us/core) from hl7.fhir.us.core#3.0.0          (00:18.0095)
Publishing Content Failed: null                                                  (00:18.0096)
</pre></div>


<p>What am I missing? Or am I jumping the gun and trying too soon?</p>



<a name="179595168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179595168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179595168">(Nov 01 2019 at 02:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> I can't debug this because eclipse has started ignoring my source again....</p>



<a name="179595248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179595248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179595248">(Nov 01 2019 at 02:45)</a>:</h4>
<p>no. I found the right maven update to run. <span class="user-mention" data-user-id="191918">@Sarah Gaunt</span> new version on the way</p>



<a name="179597076"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179597076" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179597076">(Nov 01 2019 at 03:30)</a>:</h4>
<p>That fixed it!! Thanks!</p>



<a name="179597169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179597169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179597169">(Nov 01 2019 at 03:32)</a>:</h4>
<p>Well.. apart from the 125 broken links from US Core and FHIR value sets that are now showing up....</p>
<p>So we are supposed to be sending this IG out for work group review before publication over the weekend - will these broken links go away? Are they just because everything hasn't been uploaded/updated yet?</p>



<a name="179597398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179597398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179597398">(Nov 01 2019 at 03:39)</a>:</h4>
<p>My builds of STU3 and R4 are working fine with  v0.9.90. <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span></p>



<a name="179597481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179597481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179597481">(Nov 01 2019 at 03:41)</a>:</h4>
<p>Lucky!! I'm getting a ton of broken links now: <a href="https://build.fhir.org/ig/HL7/case-reporting/branches/master/qa.html#internal" target="_blank" title="https://build.fhir.org/ig/HL7/case-reporting/branches/master/qa.html#internal">https://build.fhir.org/ig/HL7/case-reporting/branches/master/qa.html#internal</a></p>
<p>But I think they are all US Core based which you are most likely not using...</p>



<a name="179597676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179597676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179597676">(Nov 01 2019 at 03:46)</a>:</h4>
<p>My R4 ig builds fine with 4.0.1 in the ig.json file and 4.0.0 in the implementation guide file.<br>
Maybe there should be  a warning.</p>



<a name="179597695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179597695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179597695">(Nov 01 2019 at 03:47)</a>:</h4>
<p>I already had a lot of unresolved links.</p>



<a name="179597740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179597740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179597740">(Nov 01 2019 at 03:48)</a>:</h4>
<p>Mine was broken-link free!! <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="179597823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179597823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179597823">(Nov 01 2019 at 03:50)</a>:</h4>
<p>Congratulations and commiserations.</p>



<a name="179611210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179611210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179611210">(Nov 01 2019 at 09:33)</a>:</h4>
<p>it's not broken link free anymore - I count 2 genuine broken links. The others are fixed next release</p>



<a name="179611569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179611569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179611569">(Nov 01 2019 at 09:41)</a>:</h4>
<p>Maybe I shouldn't have said broken link free... Unknown-by-me broken link free would be more accurate. Great about the fixes, will test again tomorrow...</p>



<a name="179611951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179611951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179611951">(Nov 01 2019 at 09:48)</a>:</h4>
<p>releasing now</p>



<a name="179641203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179641203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179641203">(Nov 01 2019 at 16:31)</a>:</h4>
<p>My son <span class="user-mention" data-user-id="237342">@ryan moehrke</span> was looking at the HISTORY of changes and noticed that many (all?) of the "Task" links are not properly encoded so that gForge can't find the item <br>
<a href="http://hl7.org/fhir/R4/history.html" target="_blank" title="http://hl7.org/fhir/R4/history.html">http://hl7.org/fhir/R4/history.html</a><br>
The problem is that the URL in the href has a "#" in front of the gForge number.  e.g.<br>
<a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=#20463" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=#20463">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=#20463</a><br>
should be<br>
<a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20463" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20463">https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20463</a></p>



<a name="179643561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179643561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179643561">(Nov 01 2019 at 16:59)</a>:</h4>
<p>They'll soon all break when we move to Jira anyhow...</p>



<a name="179661717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179661717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179661717">(Nov 01 2019 at 20:21)</a>:</h4>
<p>there's a lot of gForge links in FHIR. And a huge number of external links to  gForge. We're not leaving a redirection behind?</p>



<a name="179661891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179661891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179661891">(Nov 01 2019 at 20:23)</a>:</h4>
<p>fixed the links</p>



<a name="179663137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179663137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179663137">(Nov 01 2019 at 20:38)</a>:</h4>
<p>Don't think gforge has any support for redirection</p>



<a name="179663330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179663330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179663330">(Nov 01 2019 at 20:40)</a>:</h4>
<p>The data will live there for a while as read only, but I expect we'll retire gForge in a year or two at which point nothing will be there.  I suppose at that point we could create a custom website in its place full of  redirects, but not sure it'd be worth the effort</p>



<a name="179663571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179663571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179663571">(Nov 01 2019 at 20:44)</a>:</h4>
<p>well, we have a map of old to new?</p>



<a name="179666803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179666803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179666803">(Nov 01 2019 at 21:20)</a>:</h4>
<p>Yes.  The numbers stay the same, so that part will be straight-forward</p>



<a name="179775365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179775365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179775365">(Nov 04 2019 at 03:06)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ,  my IG is still broken. I'm using STU3 and getting the following error after updating fhirversion to 3.0.2. Any suggestion will be very helpful?<br>
org.hl7.fhir.exceptions.FHIRException: Problem processing expression (%resource.kind = #39;.logical#39;. or element.first().path = %resource.type) and element.tail().all(path.startsWith(%resource.snapshot.element.first().path&amp;'.')) in profile <a href="http://hl7.org/fhir/StructureDefinition/StructureDefinition" target="_blank" title="http://hl7.org/fhir/StructureDefinition/StructureDefinition">http://hl7.org/fhir/StructureDefinition/StructureDefinition</a> path StructureDefinition.snapshot: Error in ?? at 1, 3: Found # expecting a token name<br>
        at org.hl7.fhir.r5.validation.InstanceValidator.checkInvariant(InstanceValidator.java:4483)<br>
        at org.hl7.fhir.r5.validation.InstanceValidator.checkInvariants(InstanceValidator.java:4468)<br>
        at org.hl7.fhir.r5.validation.InstanceValidator.checkInvariants(InstanceValidator.java:4357)<br>
        at org.hl7.fhir.r5.validation.InstanceValidator.validateElement(InstanceValidator.java:3984)<br>
        at org.hl7.fhir.r5.validation.InstanceValidator.checkChild(InstanceValidator.java:4135)<br>
        at org.hl7.fhir.r5.validation.InstanceValidator.validateElement(InstanceValidator.java:4007)<br>
        at org.hl7.fhir.r5.validation.InstanceValidator.start(InstanceValidator.java:2965)<br>
        at org.hl7.fhir.r5.validation.InstanceValidator.validateResource(InstanceValidator.java:4600)<br>
        at org.hl7.fhir.r5.validation.InstanceValidator.validate(InstanceValidator.java:835)<br>
        at org.hl7.fhir.r5.validation.InstanceValidator.validate(InstanceValidator.java:795)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:3894)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.validate(Publisher.java:3136)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3116)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:730)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:618)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6537)</p>



<a name="179816736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179816736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179816736">(Nov 04 2019 at 09:21)</a>:</h4>
<p>can I reproduce this?</p>



<a name="179823842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179823842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Shovan Roy <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179823842">(Nov 04 2019 at 11:08)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , I've finally identified few profiles in my IG which are causing this error. After excluding those profiles, I'm able to run it successfully, however with this error log, I'm unable to find out the root cause of it. Still troubleshooting..<br>
The profile is available here: <a href="https://github.com/hl7au/au-fhir-childhealth" target="_blank" title="https://github.com/hl7au/au-fhir-childhealth">https://github.com/hl7au/au-fhir-childhealth</a>. If I add the following entry in the ig.xml, it fails:</p>
<p>&lt;resource&gt;<br>
            &lt;example value="false"/&gt;<br>
            &lt;sourceReference&gt;<br>
                &lt;reference value="StructureDefinition/ncdhc-composition-bloodspot-screen"/&gt;<br>
            &lt;/sourceReference&gt;<br>
&lt;/resource&gt;</p>



<a name="179840907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179840907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans van Amstel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179840907">(Nov 04 2019 at 15:05)</a>:</h4>
<p>Is it still possible to use version 3.01 and/or 4.0.0 in the validation and IG publishing. As we integrated the tooling in our CI pipeline we would like to make the upgrade on a moment that does not interfere with our releases. Also our profiles have an dependency on SDC and there is no SDC 4.0.0 version this causes the IG publishing to stop working.</p>



<a name="179841208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179841208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179841208">(Nov 04 2019 at 15:08)</a>:</h4>
<p>You could point to the 'current' version of SDC or the ballot release</p>



<a name="179856409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179856409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179856409">(Nov 04 2019 at 17:49)</a>:</h4>
<p>for IGs based on the FHIR CI build  ( defined in ig.json <code>    "specification": "http://build.fhir.org/",</code>)  {{site.data.fhir.version}} is still 4.0.0 and there is a {{site.data.ig.fhirVersion}} which I defined in ig.json and the implementation guide resource.</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;http://build.fhir.org/&quot;</span><span class="p">,</span>
  <span class="nt">&quot;canonical&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.fhir.org/guides/test3&quot;</span><span class="p">,</span>
  <span class="nt">&quot;igId&quot;</span><span class="p">:</span> <span class="s2">&quot;healthedatainc.ig-template2-0.0.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;igName&quot;</span><span class="p">:</span> <span class="s2">&quot;IGTest3&quot;</span><span class="p">,</span>
  <span class="nt">&quot;packageId&quot;</span><span class="p">:</span> <span class="s2">&quot;healthedatainc.ig-template2&quot;</span><span class="p">,</span>
  <span class="nt">&quot;igVer&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;errorCount&quot;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;4.0.0&quot;</span><span class="p">,</span> <span class="err">&lt;---</span>
  <span class="nt">&quot;revision&quot;</span><span class="p">:</span> <span class="s2">&quot;a53ec6ee1b&quot;</span><span class="p">,</span>
  <span class="nt">&quot;versionFull&quot;</span><span class="p">:</span> <span class="s2">&quot;4.0.0-a53ec6ee1b&quot;</span><span class="p">,</span> <span class="err">&lt;---</span>
  <span class="nt">&quot;toolingVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;4.1.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;toolingRevision&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
  <span class="nt">&quot;toolingVersionFull&quot;</span><span class="p">:</span> <span class="s2">&quot;4.1.0 (3)&quot;</span><span class="p">,</span>
  <span class="nt">&quot;totalFiles&quot;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
  <span class="nt">&quot;processedFiles&quot;</span><span class="p">:</span> <span class="mi">167</span><span class="p">,</span>
  <span class="nt">&quot;genDate&quot;</span><span class="p">:</span> <span class="s2">&quot;Mon, Nov 4, 2019 09:31-0800&quot;</span><span class="p">,</span>
  <span class="nt">&quot;genDay&quot;</span><span class="p">:</span> <span class="s2">&quot;04/11/2019&quot;</span><span class="p">,</span>
  <span class="nt">&quot;ig&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;healthedatainc.ig-template2-0.0.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;IGTest3&quot;</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;IG Test3&quot;</span><span class="p">,</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.fhir.org/guides/test3/ImplementationGuide/healthedatainc.ig-template2-0.0.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.0&quot;</span><span class="p">,</span>
    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;draft&quot;</span><span class="p">,</span>
    <span class="nt">&quot;experimental&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nt">&quot;publisher&quot;</span><span class="p">:</span> <span class="s2">&quot;Health eData Inc&quot;</span><span class="p">,</span>
    <span class="nt">&quot;contact&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;telecom&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;mailto:ehaas@healthedatainc.com&quot;</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nt">&quot;telecom&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;http://foobar.com&quot;</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-11-04T09:31:08-08:00&quot;</span><span class="p">,</span>
    <span class="nt">&quot;copyright&quot;</span><span class="p">:</span> <span class="s2">&quot;Used by permission of Health eData Inc, all rights reserved Creative Commons License&quot;</span><span class="p">,</span>
    <span class="nt">&quot;fhirVersion&quot;</span><span class="p">:</span> <span class="s2">&quot;4.0.1&quot;</span> <span class="err">&lt;---</span>
  <span class="p">},</span>
  <span class="nt">&quot;qicore&quot;</span><span class="p">:</span> <span class="s2">&quot;https://build.fhir.org/ig/HL7/fhir-qi-core/&quot;</span><span class="p">,</span>
  <span class="nt">&quot;uscore&quot;</span><span class="p">:</span> <span class="s2">&quot;https://build.fhir.org/ig/HL7/US-Core/&quot;</span>
<span class="p">}</span>
</pre></div>



<a name="179856676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179856676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179856676">(Nov 04 2019 at 17:52)</a>:</h4>
<p>I think it should be 4.1.0 which aligns with the package version.</p>



<a name="179860407"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179860407" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179860407">(Nov 04 2019 at 18:32)</a>:</h4>
<p>when specify 4.1.0 in config file I get this error</p>
<div class="codehilite"><pre><span></span>org.hl7.fhir.exceptions.FHIRException: Unable to resolve the package &#39;null&#39;
    at org.hl7.fhir.utilities.cache.PackageCacheManager.loadPackage(PackageCacheManager.java:599)
    at org.hl7.fhir.igtools.publisher.Publisher.loadCorePackage(Publisher.java:2048)
    at org.hl7.fhir.igtools.publisher.Publisher.initializeFromJson(Publisher.java:1672)
    at org.hl7.fhir.igtools.publisher.Publisher.initialize(Publisher.java:1125)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:612)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6537)
Erics-Air-2:IG-Template2 ehaas$
</pre></div>



<a name="179865239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179865239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179865239">(Nov 04 2019 at 19:18)</a>:</h4>
<p><span class="user-mention" data-user-id="193760">@Shovan Roy</span> I think I deployed a fix for this, but you may need to clear your package cache to get the fix</p>



<a name="179865316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179865316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179865316">(Nov 04 2019 at 19:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span> this is in github somewhere?</p>



<a name="179865409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179865409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179865409">(Nov 04 2019 at 19:20)</a>:</h4>
<p><span class="user-mention" data-user-id="218569">@Hans van Amstel</span> I don't follow the bit about SDC.. there should be no change to anything there.</p>



<a name="179865440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179865440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179865440">(Nov 04 2019 at 19:20)</a>:</h4>
<p>but no, it's not possible to use the old infrastructure</p>



<a name="179865876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179865876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179865876">(Nov 04 2019 at 19:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  {{site.data.fhir.version}} is still 4.0.0 for US Core too and that references <code>http://hl7.org/fhir/R4/</code> I will commit now....</p>



<a name="179867192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/179867192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#179867192">(Nov 04 2019 at 19:36)</a>:</h4>
<p>see footer on <a href="http://build.fhir.org/ig/HL7/US-Core-R4/branches/master/index.html" target="_blank" title="http://build.fhir.org/ig/HL7/US-Core-R4/branches/master/index.html">http://build.fhir.org/ig/HL7/US-Core-R4/branches/master/index.html</a></p>
<p>repro is here: <a href="https://github.com/HL7/US-Core-R4" target="_blank" title="https://github.com/HL7/US-Core-R4">https://github.com/HL7/US-Core-R4</a></p>



<a name="180019893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R3%20and%20R4%20upgrades/near/180019893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hans van Amstel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R3.20and.20R4.20upgrades.html#180019893">(Nov 06 2019 at 10:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  We try to publish the IG of profiles that have references to hl7.fhir.uv.sdc. When we use IG publisher,  hl7.fhir.r4.core#4.0.1 resolves nicely but then we get the log output:<br>
<code>Publishing Content Failed: Unable to resolve the package 'hl7.fhir.uv.sdc' </code><br>
When we use an older setup with hl7.fhir.r4.core#4.0.0 the package hl7.fhir/uv/sdc resolves.<br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Thanks for the suggestion this solves it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
