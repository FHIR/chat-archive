---
layout: page
title: "FHIR Chat  · txCache is out · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/txCache.20is.20out.html">txCache is out</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="260949971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/txCache%20is%20out/near/260949971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/txCache.20is.20out.html#260949971">(Nov 10 2021 at 06:15)</a>:</h4>
<p>ok. after scheming with Josh, I came up with a system for handling tx-cache files that means they'll no longer be in git / github. Here's how things are going to work:</p>
<ul>
<li>there'll still be a tx-cache, and it will live in {user.home}\.fhir\tx-cache</li>
<li>there'll be separate caches in that folder by {org}\{repo}\{branch}</li>
<li>if the IG being built isn't linked to github, then the tx-cache will be in {root}\temp\tx-cache, and the expectation is that you don't commit to whatever version control you're using</li>
<li>when the build runs (both main FHIR build, and IG build), it will look at the location for the tx-cache, and if the cache is out of date (combination of version flag in the code and on <a href="http://tx.fhir.org">tx.fhir.org</a>), it will wipe it. </li>
<li>when the build runs (both main FHIR build, and IG build), if the IG is linked to GH, and the cache is empty, it will initialise the cache from <a href="http://tx.fhir.org/tx-cache/{org}/{repo}/{branch}.zip">http://tx.fhir.org/tx-cache/{org}/{repo}/{branch}.zip</a>, and if that doesn't exist, it'll try <a href="http://tx.fhir.org/tx-cache/{org}/{repo}/default.zip">http://tx.fhir.org/tx-cache/{org}/{repo}/default.zip</a>. If neither are found, it will run with an empty cache</li>
<li>when the ci-build runs, at the end of a successful run, it will update <a href="http://tx.fhir.org/tx-cache/{org}/{repo}/{branch.zip}">http://tx.fhir.org/tx-cache/{org}/{repo}/{branch.zip}</a> with the cache it built.  If it's for main or master, will also update the default.zip</li>
<li>Then anyone doing a build will pick that up <em>if they start with an empty cache</em></li>
<li>there's a log of what's getting posted to the server at <a href="http://tx.fhir.org/tx-cache/log.txt">http://tx.fhir.org/tx-cache/log.txt</a></li>
<li>there's 450GB on the server for the cache. If it starts getting too big, I'll start pruning old caches, but the biggest cache I've seen so far is 9MB zipped, so I think that's a wee way off in the future</li>
</ul>



<a name="260950056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/txCache%20is%20out/near/260950056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/txCache.20is.20out.html#260950056">(Nov 10 2021 at 06:17)</a>:</h4>
<p>Note: this system isn't fully operational yet - another day or two, and then we'll beta test it on the main build - once I'm happy with that, I'll roll it out to the IG build too.</p>



<a name="265764640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/txCache%20is%20out/near/265764640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/txCache.20is.20out.html#265764640">(Dec 22 2021 at 04:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> It looks like this is not happening yet for IGs?  When I rebuild the IG (IPS in this case) with an absent .fhir\tx-cache and input-cache/txcache, it still rebuilds the cache in input-cache/txcache.  And I don't see a log entry being added for it.</p>



<a name="265764856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/txCache%20is%20out/near/265764856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/txCache.20is.20out.html#265764856">(Dec 22 2021 at 04:21)</a>:</h4>
<p>I haven't got to that yet</p>



<a name="265765088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/txCache%20is%20out/near/265765088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/txCache.20is.20out.html#265765088">(Dec 22 2021 at 04:25)</a>:</h4>
<p>Ok.  I assume that will happen at some point.  In the meantime, does it make sense with an IG to still commit the txcache files - or not?  If we remove the txcache from version control, then everyone needs to maintain their own.  But maybe that's not a bad idea?</p>



<a name="265765447"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/txCache%20is%20out/near/265765447" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/txCache.20is.20out.html#265765447">(Dec 22 2021 at 04:33)</a>:</h4>
<p>i never commit the txcache files for my IGs.  I admittedly don't have IGs the size of US Core or UTG, but I've built US Core before and it wasn't a hassle not having the txcache.</p>



<a name="265765659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/txCache%20is%20out/near/265765659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/txCache.20is.20out.html#265765659">(Dec 22 2021 at 04:39)</a>:</h4>
<p>That makes sense.  I think I will start doing the same.  I've just set it up and have been in the habit of committing them as that was the recommendation before.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
