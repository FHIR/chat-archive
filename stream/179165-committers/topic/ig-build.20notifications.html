---
layout: page
title: "FHIR Chat  · ig-build notifications · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html">ig-build notifications</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="198007420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198007420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198007420">(May 18 2020 at 23:24)</a>:</h4>
<p>hey <span class="user-mention" data-user-id="191315">@Josh Mandel</span> all the ig-build notifications on the <a class="stream" data-stream-id="179297" href="/#narrow/stream/179297-committers.2Fnotification">#committers/notification</a> channel are saying that errs = 0, irrespective of how many errors they actually have. Where do you get that value from?</p>



<a name="198008680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198008680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Blake <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198008680">(May 18 2020 at 23:46)</a>:</h4>
<p>This has been the case for the last week or so.  No errors showing in qa.html either.</p>



<a name="198014147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198014147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198014147">(May 19 2020 at 01:24)</a>:</h4>
<p>If qa.html is wrong, there's probably a deeper cause. But the Zulip notification is built like <a href="https://github.com/FHIR/auto-ig-builder/blob/3a616d751efcd3caf7d7849143f8caf423ac8995/images/ig-build/builder/builder.py#L24">https://github.com/FHIR/auto-ig-builder/blob/3a616d751efcd3caf7d7849143f8caf423ac8995/images/ig-build/builder/builder.py#L24</a> (basically, parsing out a comment from qa.html).</p>



<a name="198023869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198023869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198023869">(May 19 2020 at 05:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191802">@Tim Blake</span> I don't know what this means:</p>
<blockquote>
<p>No errors showing in qa.html either.</p>
</blockquote>
<p>I get errors in qa.html.</p>



<a name="198023914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198023914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198023914">(May 19 2020 at 05:38)</a>:</h4>
<p>e.g. <a href="https://build.fhir.org/ig/Healthedata1/sample-ig/branches/master/qa.html">https://build.fhir.org/ig/Healthedata1/sample-ig/branches/master/qa.html</a></p>



<a name="198024125"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198024125" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Blake <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198024125">(May 19 2020 at 05:43)</a>:</h4>
<p>I don't - <a href="http://build.fhir.org/ig/timblake78/nsw-health-itoc/branches/master/qa.html">http://build.fhir.org/ig/timblake78/nsw-health-itoc/branches/master/qa.html</a></p>



<a name="198024190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198024190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198024190">(May 19 2020 at 05:44)</a>:</h4>
<p>I'm not sure what you mean. you don't have any errors?</p>



<a name="198024243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198024243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198024243">(May 19 2020 at 05:45)</a>:</h4>
<p>The qa.html linked above (for Healthedata1) that does have errors is using IG Publisher Version: <strong>v1.0.89</strong>-SNAPSHOT.</p>
<p>I think the 0 errors started occurring after v1.0.90</p>



<a name="198024310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198024310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198024310">(May 19 2020 at 05:46)</a>:</h4>
<p>what errors do you think should show?</p>



<a name="198024785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198024785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Tim Blake <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198024785">(May 19 2020 at 05:59)</a>:</h4>
<p>I can't remember what they were, but I know that there were about 12 of them prior to a few IG publisher builds ago</p>



<a name="198136920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198136920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198136920">(May 19 2020 at 22:51)</a>:</h4>
<p>As a demonstration, I created a <a href="https://github.com/robeastwood-agency/fhir-ig-experiment-01/blob/master/input/resources/Patient/example-fail-01.xml">simple Patient instance</a> with this structure; note the clearly out of place elements:</p>
<div class="codehilite"><pre><span></span><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Patient xmlns=&quot;http://hl7.org/fhir&quot;&gt;
  &lt;id value=&quot;example-fail-01&quot;/&gt;
  &lt;name&gt;
    &lt;use value=&quot;usual&quot;/&gt;
    &lt;family value=&quot;Smith&quot;/&gt;
    &lt;given value=&quot;Jack&quot;/&gt;
  &lt;/name&gt;
  &lt;!-- these elements are clearly out of place and should invoke errors --&gt;
  &lt;something value=&quot;else&quot;/&gt;
  &lt;meta&gt;
    &lt;something value=&quot;other&quot;/&gt;
  &lt;/meta&gt;
  &lt;name&gt;
    &lt;use value=&quot;official&quot;/&gt;
    &lt;family value=&quot;Smith&quot;/&gt;
    &lt;given value=&quot;John&quot;/&gt;
    &lt;given value=&quot;Jacob&quot;/&gt;
    &lt;given value=&quot;Jingleheimer&quot;/&gt;
    &lt;period&gt;
      &lt;end value=&quot;2001-01-01&quot;/&gt;
    &lt;/period&gt;
  &lt;/name&gt;
  &lt;gender value=&quot;male&quot;/&gt;
  &lt;birthDate value=&quot;1955-05-30&quot;/&gt;
&lt;/Patient&gt;
</code></pre></div>


<h2>Using IGP v1.0.94, there are no errors on the command line; viz:</h2>
<div class="codehilite"><pre><span></span><code>onGenerate:
Generating Summary Outputs                                                       (00:27.0979)
Sending Usage Stats to Server                                                    (00:36.0653)
Jekyll: Source: C:/work/git/fhir-ig-experiment-01/temp/pages                     (00:44.0766)
Jekyll: Generating...                                                            (00:44.0766)
Jekyll: done in 1.839 seconds.                                                   (00:46.0605)
Installing fhir.ig.experiment.01#dev to the package cache
  Fetching:
  Installing:  done.
Checking Output HTML                                                             (00:47.0106)
found 476 files                                                                  (00:47.0125)
  ... 476 html files, 0 pages invalid xhtml (0%)                                 (00:48.0030)
  ... 20143 links, 0 broken links (0%)                                           (00:48.0030)
Build final .zip                                                                 (00:48.0030)
Final .zip built                                                                 (00:48.0454)
Finished. 00:27.0647. Validation output in C:\work\git\fhir-ig-experiment-01\output\qa.html
Errors: 0  Warnings: 0  Info: 0 (00:48.0876)
Done
</code></pre></div>


<p>And the QA report displays: <br>
<a href="/user_uploads/10155/ApB9RJC2UezY-9Hb0Stm_JrI/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/ApB9RJC2UezY-9Hb0Stm_JrI/image.png" title="image.png"><img src="/user_uploads/10155/ApB9RJC2UezY-9Hb0Stm_JrI/image.png"></a></div><h2>Using IGP v1.0.89, the command line indicates 3 errors:</h2>
<div class="codehilite"><pre><span></span><code>...
Build final .zip                                                                 (00:51.0223)
Final .zip built                                                                 (00:51.0654)
Finished. 00:27.0781. Validation output in C:\work\git\fhir-ig-experiment-01\output\qa.html
Errors: 3  Warnings: 0  Info: 0 (00:52.0080)
Done
</code></pre></div>


<p>And the QA report displays this: <br>
<a href="/user_uploads/10155/aBPuD1l8fGQGOeLVeno4u2Io/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/aBPuD1l8fGQGOeLVeno4u2Io/image.png" title="image.png"><img src="/user_uploads/10155/aBPuD1l8fGQGOeLVeno4u2Io/image.png"></a></div>



<a name="198410683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198410683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198410683">(May 22 2020 at 06:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
ig publisher (v95) still ignores all errors when doing a local build. It does report warnings and information.</p>



<a name="198538431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198538431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198538431">(May 23 2020 at 14:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Yes, I'm seeing the same thing.  After reading this I decided to recheck our newly published IPS IG by building with 1.0.89 instead of 1.0.95 - and 5 errors showed up (compared to 0 with 1.0.95).  Two of the errors were straightforward and quite egregious (apparently due to a copy-paste issue).  When a constraint for Observation.specimen was added to two of our Observation result profiles, the constraint was specified as a reference to the IPS Specimen profile but with a type of <strong>CodeableConcept</strong> (instead of Reference) - and the version 1.0.95 Publisher and qa.html didn't report the error :(   The other three errors are less obvious, showing up only on the example bundle as "illegal use of resolve() in discriminator - Multiple possible target type profiles on Composition.section:sectionResults.entry:results-observation" - but still they are not being reported with the 1.0.95 Publisher.</p>



<a name="198538758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198538758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198538758">(May 23 2020 at 14:50)</a>:</h4>
<p>I had seen the "illegal use of resolve() in discriminator" errors before, and when they went away I thought that either our changes to the slicing had fixed the issue or that the slicing was now being handled more robustly by the Publisher/Validator (or both), so either way it was good now - but instead, apparently the issue was just being masked. :(</p>



<a name="198722162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198722162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198722162">(May 26 2020 at 05:37)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> any news?</p>



<a name="198952978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198952978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198952978">(May 27 2020 at 21:02)</a>:</h4>
<p>I'm still seeing this in 1.0.97.  IPS has no errors reported, but this [profile] (<a href="http://build.fhir.org/ig/HL7/fhir-ips/branches/master/StructureDefinition-Observation-results-laboratory-uv-ips.html">http://build.fhir.org/ig/HL7/fhir-ips/branches/master/StructureDefinition-Observation-results-laboratory-uv-ips.html</a>) contains this obviously incorrect code:</p>
<div class="codehilite"><pre><span></span><code>      {
        &quot;id&quot; : &quot;Observation.specimen&quot;,
        &quot;path&quot; : &quot;Observation.specimen&quot;,
        &quot;type&quot; : [
          {
            &quot;code&quot; : &quot;CodeableConcept&quot;,
            &quot;profile&quot; : [
              &quot;http://hl7.org/fhir/uv/ips/StructureDefinition/Specimen-uv-ips&quot;
            ]
          }
        ],
        &quot;mustSupport&quot; : true
      },
</code></pre></div>


<p>I'm planning to commit a technical correction for it (and the same issue in results-pathology) soon - but the error isn't being flagged.</p>



<a name="198994206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198994206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198994206">(May 28 2020 at 08:19)</a>:</h4>
<p>that's a nasty thing to do. I can't make a nice graceful error for that. Next IG publisher will halt with the error:</p>



<a name="198994218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/198994218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#198994218">(May 28 2020 at 08:19)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Type mismatch processing profile http://hl7.org/fhir/uv/ips/StructureDefinition/Specimen-uv-ips at path Observation.specimen: The element type is CodeableConcept, but the profile http://hl7.org/fhir/uv/ips/StructureDefinition/Specimen-uv-ips is for a different type Specimen
</code></pre></div>



<a name="199009928"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199009928" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199009928">(May 28 2020 at 11:31)</a>:</h4>
<p>Yes, precisely! That's obviously why you don't want it reporting "Errors: 0" regardless  - it's easy for even stuff like that coming from copy/paste and an incomplete update to slip right through because it says everything is good. :(</p>



<a name="199017267"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199017267" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199017267">(May 28 2020 at 12:50)</a>:</h4>
<p>that one was never picked up as an error at all in the code</p>



<a name="199017294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199017294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199017294">(May 28 2020 at 12:50)</a>:</h4>
<p>that's why you were getting errors : 0.</p>



<a name="199017321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199017321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199017321">(May 28 2020 at 12:50)</a>:</h4>
<p>it took me 8 hours to nail this down :-(</p>



<a name="199020577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199020577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199020577">(May 28 2020 at 13:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I'm really sorry about that.  This was a relatively late addition and it didn't affect (because it wasn't even there) anything else that we have dealt with along the way.  And what you just said doesn't quite match with what I saw, because when I went <strong>back</strong> to building the IG with Publisher v1.0.89, the error <strong>was</strong> picked up and appropriately reported by the code.  So this really couldn't be <strong>why</strong> we were getting "Errors: 0", because we <strong>didn't</strong> get that with 1.0.89 (and presumably that would also have been true with many of the prior versions?), plus we and others also have seen the issue completely independently of whether this particular error is present or not.</p>



<a name="199067864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199067864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199067864">(May 28 2020 at 19:09)</a>:</h4>
<p>what was the exact error message in 1.0.89 then?</p>



<a name="199118105"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199118105" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199118105">(May 29 2020 at 06:37)</a>:</h4>
<p>I still can't reproduce this. I've run a bunch of IGs with both .89 and the current version, and I consistently don't see any errors reported by .89 not reported by the current IG publisher</p>



<a name="199141182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199141182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199141182">(May 29 2020 at 11:25)</a>:</h4>
<p>Sorry - had to sleep. :)  I'm working on getting the details for you.</p>



<a name="199337534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199337534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199337534">(Jun 01 2020 at 05:07)</a>:</h4>
<p>V98 reports the errors I was expecting. <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <span aria-label="grinning face with smiling eyes" class="emoji emoji-1f601" role="img" title="grinning face with smiling eyes">:grinning_face_with_smiling_eyes:</span></p>



<a name="199337575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199337575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199337575">(Jun 01 2020 at 05:08)</a>:</h4>
<p>Many thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="199350423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199350423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199350423">(Jun 01 2020 at 09:29)</a>:</h4>
<p>you'll have to check again with 99</p>



<a name="199432601"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199432601" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Eastwood <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199432601">(Jun 01 2020 at 22:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179165-committers/topic/ig-build.20notifications/near/199350423">said</a>:</p>
<blockquote>
<p>you'll have to check again with 99</p>
</blockquote>
<p>Expected errors are displaying on QA report with v99  - thanks very much <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="199446444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/199446444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#199446444">(Jun 02 2020 at 03:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  Looks like you did indeed reproduce it.  With 1.0.99 I'm now seeing the expected errors with IPS, too.</p>



<a name="209664529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209664529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209664529">(Sep 10 2020 at 15:33)</a>:</h4>
<p>After being fixed for quite a while, now the 1.1.20 of the Publisher is failing on the UTG ci build - this version works OK on my local machine environment with the git content.   Error log does not show anything beyond "Generating Summary Outputs                                                       (06:40.0695)<br>
Sending Usage Stats to Server                                                    (09:02.0275)<br>
Jekyll: Source: /scratch/ig-build-temp-U51D5N/repo/temp/pages                    (09:05.0710)<br>
Jekyll: Generating...                                                            (09:05.0710)" but the build does not go to completion.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span> I have no idea where to begin looking for the reason here.     Jekyll does not seem to complete.</p>



<a name="209665795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209665795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209665795">(Sep 10 2020 at 15:41)</a>:</h4>
<p>This IG has always been a bit of a special case -- in the past, has been a resource allocation issue. We're giving it 15Gi RAM currently; does it need more than this? Looking now...</p>



<a name="209668505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209668505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209668505">(Sep 10 2020 at 15:59)</a>:</h4>
<p>not sure.   I give it 16G when I run it locally:   java -Xmx16G -Xss1G -jar /Users/...</p>



<a name="209668613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209668613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209668613">(Sep 10 2020 at 15:59)</a>:</h4>
<p>it keeps growing as well - more resources added to it bit by bit every few days...</p>



<a name="209679744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209679744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209679744">(Sep 10 2020 at 17:19)</a>:</h4>
<p>Does Jekyll need more?</p>



<a name="209681926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209681926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209681926">(Sep 10 2020 at 17:37)</a>:</h4>
<p>finally the last bit of the log showed up:                                                             (09:01.0203)<br>
Jekyll has failed. Complete output from running Jekyll:                          (09:37.0730)<br>
Note: Check that Jekyll is installed correctly                                   (09:37.0731)<br>
Publishing Content Failed: Process exited with an error: 137 (Exit value: 137)   (09:37.0731)<br>
                                                                                 (09:37.0731)<br>
Use -? to get command line help                                                  (09:37.0731)<br>
                                                                                 (09:37.0731)<br>
Stack Dump (for debugging):                                                      (09:37.0731)<br>
org.apache.commons.exec.ExecuteException: Process exited with an error: 137 (Exit value: 137)<br>
    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:404)<br>
    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)<br>
    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:153)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.runJekyll(Publisher.java:5508)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.runTool(Publisher.java:5412)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:4878)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:848)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:694)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8075)</p>



<a name="209681991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209681991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209681991">(Sep 10 2020 at 17:38)</a>:</h4>
<p>no idea what error 137 is</p>



<a name="209682167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209682167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209682167">(Sep 10 2020 at 17:39)</a>:</h4>
<p>error 137 is "out of memory" :)</p>



<a name="209682316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209682316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209682316">(Sep 10 2020 at 17:40)</a>:</h4>
<p>ah well then there we have it</p>



<a name="209682338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209682338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209682338">(Sep 10 2020 at 17:40)</a>:</h4>
<p>my local build this morning:</p>



<a name="209682341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209682341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209682341">(Sep 10 2020 at 17:40)</a>:</h4>
<p>Validation Results for HL7Terminology</p>
<p>Generated Thu Sep 10 08:46:16 MDT 2020, FHIR version 4.0.1 for hl7.terminology# (canonical = <a href="http://terminology.hl7.org">http://terminology.hl7.org</a> (history)). See Errors Only<br>
Quality Checks<br>
Publisher Version:  IG Publisher Version: v1.1.20<br>
Supressed Messages: 24 Suppressed Issues<br>
Dependency Checks:  <br>
Package Version FHIR Release    Canonical   Web Base    Comment<br>
.. hl7.terminology  1.0.39  4.0.1   <a href="http://terminology.hl7.org">http://terminology.hl7.org</a>      HL7 Packages must have an id that starts with hl7.fhir.<br>
HL7 Publication Rules:  </p>
<div class="codehilite"><pre><span></span><code>package-list.json: No category entry for the registry category (talk to FHIR product director on #IG Creation for assistance). Note: existing IGs already have a category in the existing package-list.json - update your package-list.json from there
package-list.json: No entry found for version
</code></pre></div>


<p>HTA Analysis:   UTG is exempt from terminology dependency analysis<br>
Realm rules:    </p>
<div class="codehilite"><pre><span></span><code>n/a
</code></pre></div>


<p>Previous Version Comparison:    Unable to compare with previous version: Unable to find version history at <a href="http://terminology.hl7.org">http://terminology.hl7.org</a> (Problem #1 with package-list.json at <a href="http://terminology.hl7.org">http://terminology.hl7.org</a>: com.google.gson.stream.MalformedJsonException: Use JsonReader.setLenient(true) to accept malformed JSON at line 2 column 2 path $)<br>
Summary:    broken links = 0, errors = 494, warn = 1636, info = 43</p>



<a name="209682398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209682398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209682398">(Sep 10 2020 at 17:40)</a>:</h4>
<p>I am using 16G in my java call.</p>



<a name="209688556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209688556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209688556">(Sep 10 2020 at 18:25)</a>:</h4>
<p>16Gb seems to work for the java build but not for Jekyll. That's alarming. <span class="user-mention" data-user-id="191982">@Ted Klein</span> how much RAM is Jekyll using in your system, or how much do you have ovearll?</p>



<a name="209688767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209688767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209688767">(Sep 10 2020 at 18:26)</a>:</h4>
<p>Th 16GB allocation might be blocking too much memory that jekyll is being starved</p>



<a name="209692072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209692072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209692072">(Sep 10 2020 at 18:51)</a>:</h4>
<p>I have 32G in this laptop I am running the build on</p>



<a name="209693169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209693169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209693169">(Sep 10 2020 at 18:59)</a>:</h4>
<p>Josh I am not sure how to even check that; Jekyll is launched from within publisher.jar, and I do not know if there are parameter settings for it somewhere</p>



<a name="209693727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209693727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209693727">(Sep 10 2020 at 19:02)</a>:</h4>
<p>OK -- your OS probably provides some profiling (e..g, Windows task manager, or <code>top</code> in linux). I'm just going to crank things up across the board in our auto-build cluster (bigger machines, bigger limits)</p>



<a name="209693961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209693961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209693961">(Sep 10 2020 at 19:03)</a>:</h4>
<p>OK I'll have to look into it; running OSX on a MacBook Pro 2018 vintage here, v 10.14.6; there may be some environment settings in the bash terminal shell I am running java in.</p>



<a name="209696825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209696825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209696825">(Sep 10 2020 at 19:26)</a>:</h4>
<p>BTW how <em>long</em> does a full build take for you Ted? With memory cranked up... right now the auto-builder has been cranking for 25 min, Java using &gt;16GB RAM, 100% CPU). It's going to hit our 30min limit shortly ;-)</p>



<a name="209698498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209698498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209698498">(Sep 10 2020 at 19:38)</a>:</h4>
<p>wow.   didn't think my MacBook Pro was THAT good...(18:40.0207).  So under 20 minutes.  On a laptop.  While on a zoom call and recording the session LOL.</p>



<a name="209700777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209700777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209700777">(Sep 10 2020 at 19:55)</a>:</h4>
<p>Well, the good news is the deadline is actually a full hour, as configured -- the bad news is it's <em>still</em> going to fail.</p>



<a name="209700973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209700973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209700973">(Sep 10 2020 at 19:56)</a>:</h4>
<p>I'll give this a shot locally to compare...</p>



<a name="209701173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209701173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209701173">(Sep 10 2020 at 19:57)</a>:</h4>
<p>Wait, 100% CPU? There is that much concurrent execution?</p>



<a name="209701433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209701433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209701433">(Sep 10 2020 at 19:59)</a>:</h4>
<p>It's 100% of a core</p>



<a name="209701465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209701465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209701465">(Sep 10 2020 at 20:00)</a>:</h4>
<p>Thank you for clarifying. (Which is to say, not much in the way of concurrent execution.)</p>



<a name="209702016"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209702016" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209702016">(Sep 10 2020 at 20:04)</a>:</h4>
<p>in the meantime I am editing some resources and just kicked off another local build and it is running...</p>



<a name="209702286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209702286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209702286">(Sep 10 2020 at 20:06)</a>:</h4>
<p>Yeah, I was going to say that building <a href="https://github.com/hl7/utg">https://github.com/hl7/utg</a> fails for me locally with:</p>
<div class="codehilite"><pre><span></span><code>Stack Dump (for debugging):                                                      (03:52.0477)
/home/publisher/ig/template/scripts/ant-utg.xml:72: Unable to create javax script engine for javascript
    at org.apache.tools.ant.util.optional.JavaxScriptRunner.evaluateScript(JavaxScriptRunner.java:145)
    at org.apache.tools.ant.util.optional.JavaxScriptRunner.executeScript(JavaxScriptRunner.java:82)
    at org.apache.tools.ant.taskdefs.optional.script.ScriptDef.executeScript(ScriptDef.java:348)
    at org.apache.tools.ant.taskdefs.optional.script.ScriptDefBase.execute(ScriptDefBase.java:52)
    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)
    at jdk.internal.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.base/java.lang.reflect.Method.invoke(Method.java:564)
    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)
    at org.apache.tools.ant.Task.perform(Task.java:350)
    at org.apache.tools.ant.Target.execute(Target.java:449)
    at org.apache.tools.ant.Target.performTasks(Target.java:470)
    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1388)
    at org.apache.tools.ant.Project.executeTarget(Project.java:1361)
    at org.hl7.fhir.igtools.templates.Template.runScriptTarget(Template.java:185)
    at org.hl7.fhir.igtools.templates.Template.beforeGenerateEvent(Template.java:342)
    at org.hl7.fhir.igtools.publisher.Publisher.templateBeforeGenerate(Publisher.java:3262)
    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:4821)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:848)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:694)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8075)
</code></pre></div>



<a name="209703736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209703736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209703736">(Sep 10 2020 at 20:19)</a>:</h4>
<p>wow.   mine is nearly complete here.   I'll commit and push my changes to make sure what you see ih Git is what I just built OK here.   I am 14 minutes in here...</p>



<a name="209703932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209703932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209703932">(Sep 10 2020 at 20:21)</a>:</h4>
<p>Final .zip built                                                                 (17:49.0004)<br>
Finished. Times: loading: 02:09.0204, generate: 14:34.0839, narrative generation: 01:25.0311, realm-rules: 00:00.0014, previous-version: 00:00.0002, jekyll: 03:25.0698, validation: 00:54.0300 (#3843), template: 00:29.0161 (#3) (17:49.0565)</p>



<a name="209704652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209704652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209704652">(Sep 10 2020 at 20:27)</a>:</h4>
<p>committed and pushed; utg ig version 1.0.40 builds fine with IGP 1.1.20 on my local system, rendered IG looks good.</p>



<a name="209843234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209843234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209843234">(Sep 11 2020 at 22:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> have you made any headway on this?   it looks like UTG still will not build - works ok for me locally.   <span class="user-mention" data-user-id="191405">@Rob Hausam</span> tried it locally but his machine runs out of heap space and memory.   Any prognosis?</p>



<a name="209862715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209862715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209862715">(Sep 12 2020 at 03:48)</a>:</h4>
<p>I tried building yesterday and failed locally. I updated the RAM available in the cloud VM, doubling the size of the VM node where these jobs launch.  It still seems to be getting stuck. I'd like to make sure I can get it to build locally...</p>



<a name="209880763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/209880763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#209880763">(Sep 12 2020 at 13:04)</a>:</h4>
<p>Ugh.  What a mystery.   Well I am building as normal here locally, if there is anything I can do to help you run this to ground I'm happy to try to help.</p>



<a name="210165508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210165508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210165508">(Sep 15 2020 at 18:00)</a>:</h4>
<p>I'd like to make progress here -- I've updated limits in auto-builder to allocated 19G RAM for Java and 22G RAM for the overall build container. But meanwhile I still can't complete a build locally; <a href="https://gist.github.com/jmandel/f2d622ba1ed520a0074ba89f283cb02a">failure stacktrace captured here</a>.</p>



<a name="210181779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210181779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210181779">(Sep 15 2020 at 19:56)</a>:</h4>
<p>that's a java set up issue.</p>



<a name="210183001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210183001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210183001">(Sep 15 2020 at 20:05)</a>:</h4>
<p>Or Ant? I found <a href="https://stackoverflow.com/questions/43067454/ant-running-from-maven-antrun-plugin-cant-find-scripting-engine-on-java-9">this reference</a> to adding class-path to (in this case) ant-utg.xml, but I don't know if it's relevant...</p>



<a name="210185035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210185035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210185035">(Sep 15 2020 at 20:20)</a>:</h4>
<p>The java setup in my Docker container comes from the open jdk base (<a href="https://github.com/FHIR/auto-ig-builder/blob/master/images/ig-publisher-base/Dockerfile#L1">https://github.com/FHIR/auto-ig-builder/blob/master/images/ig-publisher-base/Dockerfile#L1</a>)</p>



<a name="210185064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210185064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210185064">(Sep 15 2020 at 20:21)</a>:</h4>
<p>Is there some additional dependency?</p>



<a name="210186563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210186563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210186563">(Sep 15 2020 at 20:32)</a>:</h4>
<p>Not sure if it's related, but I see you're using OpenJDK 16, and it appears they removed the Nashorn JavaScript Engine in OpenJDK 15.  See: <a href="https://openjdk.java.net/jeps/372">https://openjdk.java.net/jeps/372</a></p>
<p>Perhaps you need to add a jar that provides a JavaScript engine implementation? (only a guess based on the error message)</p>



<a name="210188221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210188221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210188221">(Sep 15 2020 at 20:46)</a>:</h4>
<blockquote>
<p>Not sure if it's related, but I see you're using OpenJDK 16</p>
</blockquote>
<p>I thought we were aiming to support only LTS versions of OpenJDK (where OpenJDK 11 is the latest, to last until 2022) <br>
Is that not the case?</p>



<a name="210188641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210188641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210188641">(Sep 15 2020 at 20:50)</a>:</h4>
<p>Interesting! I'll update to use whatever is the "right" version. (In general I'd assumed we wanted to keep things working with the latest.)</p>



<a name="210188885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210188885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210188885">(Sep 15 2020 at 20:52)</a>:</h4>
<p>(The auto-builder has been on OpenJDK 15 for 6 months (before that OpenJDK 12 for 16 months, and before that OpenJDK 8)</p>



<a name="210189137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210189137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210189137">(Sep 15 2020 at 20:54)</a>:</h4>
<p>I'll update the "ig-publisher-base" to try OpenJDK 15 to start (i.e., to match the auto builder, which was the goal all along) -- good lead <span class="user-mention" data-user-id="191469">@Chris Moesel</span>.</p>



<a name="210189377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210189377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210189377">(Sep 15 2020 at 20:56)</a>:</h4>
<p>Well, my lead suggests it was <em>removed</em> in 15, so if things actually <em>work</em> in 15, then... ¯\_(ツ)_/¯</p>



<a name="210192499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210192499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210192499">(Sep 15 2020 at 21:23)</a>:</h4>
<p>Nope, confirmed broken in 15 too -- so that's <em>one</em> reason the auto-build is failing (though in practice I don't think it's getting far enough to fail on this?)</p>



<a name="210192519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210192519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210192519">(Sep 15 2020 at 21:23)</a>:</h4>
<p>Trying now in 14...</p>



<a name="210193056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210193056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210193056">(Sep 15 2020 at 21:27)</a>:</h4>
<p>In related news, even though I can't build UTG locally, it <em>does</em> appear to have <a href="https://build.fhir.org/ig/HL7/UTG/">built today in the auto-build</a>, once the extra memory was provided. So much for creating consistent environments for local testing and the auto-build cluster...</p>



<a name="210193250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210193250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210193250">(Sep 15 2020 at 21:29)</a>:</h4>
<p>FYI <span class="user-mention" data-user-id="191982">@Ted Klein</span></p>



<a name="210196311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210196311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210196311">(Sep 15 2020 at 21:56)</a>:</h4>
<p>Yes apparently the ci build worked I see the current UTG version 1.0.40 is built with publisher 1.1.21, albeit with some funny display things that are different now (dunno if bugs or intended).   Thank heavens as a new Change Proposal was submitted and I have to build the branch to be pushed to consensus review...</p>



<a name="210198911"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210198911" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210198911">(Sep 15 2020 at 22:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191982">@Ted Klein</span> what is different?</p>



<a name="210211329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210211329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210211329">(Sep 16 2020 at 01:00)</a>:</h4>
<p>a couple of things.  the rendering of the &lt;name&gt; element in code systems is strange with included double quotes and it looks like &lt;title&gt; is being combined</p>



<a name="210211349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210211349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210211349">(Sep 16 2020 at 01:01)</a>:</h4>
<p>but a bigger problem just cropped up just this minute - in building the branch UP-99 for a proposal that was submitted earlier today, I get the error:</p>



<a name="210211353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210211353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210211353">(Sep 16 2020 at 01:01)</a>:</h4>
<p>onGenerate:<br>
Exception in thread "main" java.lang.Error: The resource type "NamingSystem" does not implement the property "experimental"<br>
    at org.hl7.fhir.r5.model.NamingSystem.getExperimental(NamingSystem.java:1665)<br>
    at org.hl7.fhir.igtools.renderers.CanonicalRenderer.describeStatus(CanonicalRenderer.java:122)<br>
    at org.hl7.fhir.igtools.renderers.CanonicalRenderer.genSummaryCore1(CanonicalRenderer.java:77)<br>
    at org.hl7.fhir.igtools.renderers.CanonicalRenderer.summaryTable(CanonicalRenderer.java:61)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.generateOutputsCanonical(Publisher.java:7681)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.generateResourceHtml(Publisher.java:6632)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.generateHtmlOutputs(Publisher.java:6564)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.generate(Publisher.java:4849)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:871)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:717)<br>
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8276)</p>



<a name="210211413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210211413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210211413">(Sep 16 2020 at 01:02)</a>:</h4>
<p>we do not use 'experimental' in any of our NamingSystem resources.   wtf?  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> this did not show up the the build of master branch a few hours ago.</p>



<a name="210211458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210211458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210211458">(Sep 16 2020 at 01:02)</a>:</h4>
<p>this is being rendered on the main build for all code system resources:   Name: EventExpected"eventExpected"</p>



<a name="210316189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210316189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210316189">(Sep 16 2020 at 20:28)</a>:</h4>
<p>so seems to be dead once again; the java parameter for the timeout is STILL too small for this beast of an IG (UTG).    Maybe we can boost the timeout value a bit?    Here is the tail end of the error log:</p>



<a name="210316190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210316190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210316190">(Sep 16 2020 at 20:28)</a>:</h4>
<p>DEBUG:root:Time to deadline 3473.041943 seconds<br>
DEBUG:root:</p>
<p>*** Timeout -- deadline reached<br>
DEBUG:root:running: java -Xms19000m -Xmx19000m -jar ../publisher.jar -ig ig.json -auto-ig-build -target <a href="https://build.fhir.org/ig/HL7/UTG/">https://build.fhir.org/ig/HL7/UTG/</a> -out /scratch/ig-build-temp-TEKD4P/repo<br>
DEBUG:root:Time to deadline -0.011687 seconds<br>
DEBUG:root:</p>
<p>*** Timeout -- deadline reached</p>



<a name="210318853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210318853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210318853">(Sep 16 2020 at 20:51)</a>:</h4>
<p>OK, setting the timeout from 1h to 2h :/</p>



<a name="210318876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210318876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210318876">(Sep 16 2020 at 20:51)</a>:</h4>
<p>Though I don't understand why it should take this long; I can't reproduce this slow behavior locally</p>



<a name="210324917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210324917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210324917">(Sep 16 2020 at 21:52)</a>:</h4>
<p>Maybe something to do with rebuild of the cache files?   Thing took 18.5 minutes to build on my laptop.</p>



<a name="210329670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210329670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210329670">(Sep 16 2020 at 22:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I don't understand that output - it doesn't have any information from the IG publisher itself?</p>



<a name="210329913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210329913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210329913">(Sep 16 2020 at 22:54)</a>:</h4>
<p>So if you look at the bot generated log file you can see the whole thing.  Something very mysterious is going on.</p>



<a name="210329976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210329976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210329976">(Sep 16 2020 at 22:55)</a>:</h4>
<p>where?</p>



<a name="210330082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210330082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210330082">(Sep 16 2020 at 22:57)</a>:</h4>
<p>on this stream up a dozen entries or so last branch UP-99 build</p>



<a name="210330197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210330197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210330197">(Sep 16 2020 at 22:58)</a>:</h4>
<p>that didn't help me</p>



<a name="210341859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210341859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210341859">(Sep 17 2020 at 02:25)</a>:</h4>
<p><a href="http://build.fhir.org/ig/HL7/UTG/branches/UP-99-change-meta-data-and-url-for-icd-10-ca-and-cci-codesystems-and-namingsystems/failure/build.log">http://build.fhir.org/ig/HL7/UTG/branches/UP-99-change-meta-data-and-url-for-icd-10-ca-and-cci-codesystems-and-namingsystems/failure/build.log</a> doesn't have publisher output -- that's the question right?</p>



<a name="210341867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210341867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210341867">(Sep 17 2020 at 02:25)</a>:</h4>
<p>yes.</p>



<a name="210341914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210341914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210341914">(Sep 17 2020 at 02:26)</a>:</h4>
<p>it logs that it started the publisher, and then that it killed it, but there's no output from the publisher itself</p>



<a name="210342282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210342282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210342282">(Sep 17 2020 at 02:34)</a>:</h4>
<p>Yeah, I'm really not sure why that's happening. I'll investigate this tomorrow locally.</p>



<a name="210343339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210343339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210343339">(Sep 17 2020 at 02:58)</a>:</h4>
<p>thanks. The fact that ci-build for UTG is not working is creating real stress in the community</p>



<a name="210343685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210343685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210343685">(Sep 17 2020 at 03:04)</a>:</h4>
<p>Appreciate the context -- I've been looking just now. The "good news" is that when I kick off a build for the <code>UP-99-change-meta-data-and-url-for-icd-10-ca-and-cci-codesystems-and-namingsystems</code> in the auto-builder, I see more in the build log than the snipped from the previous build:</p>
<div class="codehilite"><pre><span></span><code>INFO:root:about to clone!
DEBUG:root:running: git clone --recursive https://github.com/HL7/UTG --branch UP-99-change-meta-data-and-url-for-icd-10-ca-and-cci-codesystems-and-namingsystems repo
DEBUG:root:Time to deadline 3479.99728 seconds
Cloning into &#39;repo&#39;...
DEBUG:root:running: wget -q https://github.com/HL7/fhir-ig-publisher/releases/latest/download/publisher.jar -O publisher.jar
DEBUG:root:Time to deadline 3474.512956 seconds
DEBUG:root:running: npm -g install fsh-sushi
DEBUG:root:Time to deadline 3473.041943 seconds
DEBUG:root:

*** Timeout -- deadline reached
</code></pre></div>


<p>... which snippet is consistent with, um, the behavior you'd expect if the <code>npm</code> command just hung for an hour.</p>



<a name="210343703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210343703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210343703">(Sep 17 2020 at 03:05)</a>:</h4>
<p>When I re-triggered it just, it at least appears to be logging / chugging away as expected.</p>
<div class="codehilite"><pre><span></span><code>...
Load Package hl7.fhir.xver-extensions#0.0.4
Initialization complete                                                          (00:18.0806)
Fetch http://terminology.hl7.org/package-list.json for version check             (00:18.0807)
Load Content                                                                     (00:18.0918)
Processing Conformance Resources                                                 (02:36.0432)
Generating Snapshots                                                             (02:50.0709)
Generating Narratives                                                            (02:50.0928)
</code></pre></div>



<a name="210344401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210344401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210344401">(Sep 17 2020 at 03:22)</a>:</h4>
<p>npm?</p>



<a name="210344483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210344483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210344483">(Sep 17 2020 at 03:25)</a>:</h4>
<p>I dunno, npm was the last command run before an hour ticked by on the clock</p>



<a name="210344657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210344657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210344657">(Sep 17 2020 at 03:29)</a>:</h4>
<p>plenty of stack overflow posts about npm hanging</p>



<a name="210345093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210345093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210345093">(Sep 17 2020 at 03:39)</a>:</h4>
<p>if it continues to be a problem, we decide whether we need npm or not</p>



<a name="210345142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210345142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210345142">(Sep 17 2020 at 03:40)</a>:</h4>
<p>Sure -- we can also add <code>--verbose</code> to track down what's happening.</p>



<a name="210345149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210345149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210345149">(Sep 17 2020 at 03:40)</a>:</h4>
<p>This might have been a connectivity blip that npm didn't recover gracefully from.</p>



<a name="210345169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/ig-build%20notifications/near/210345169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/ig-build.20notifications.html#210345169">(Sep 17 2020 at 03:41)</a>:</h4>
<p><a href="http://build.fhir.org/ig/HL7/UTG/branches/UP-99-change-meta-data-and-url-for-icd-10-ca-and-cci-codesystems-and-namingsystems/index.html">http://build.fhir.org/ig/HL7/UTG/branches/UP-99-change-meta-data-and-url-for-icd-10-ca-and-cci-codesystems-and-namingsystems/index.html</a> looks like it worked. Let me know if anything fails again. (Please do @-mention me with any notes.)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
