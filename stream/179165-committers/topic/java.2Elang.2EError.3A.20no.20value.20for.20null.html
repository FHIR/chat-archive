---
layout: page
title: "FHIR Chat  · java.lang.Error: no value for null · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html">java.lang.Error: no value for null</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="264003614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264003614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264003614">(Dec 07 2021 at 13:52)</a>:</h4>
<p>I'm getting this error while applying some changes for R5:</p>
<div class="codehilite"><pre><span></span><code>Exception in thread &quot;main&quot; java.lang.Error: no value for null on DeviceDefinitionProductionIdentifierInUDI
        at org.hl7.fhir.definitions.generators.xsd.XSDGenerator.encodeType(XSDGenerator.java:418)
        at org.hl7.fhir.definitions.generators.xsd.XSDGenerator.generateElement(XSDGenerator.java:325)
        at org.hl7.fhir.definitions.generators.xsd.XSDGenerator.generateType(XSDGenerator.java:211)
        at org.hl7.fhir.definitions.generators.xsd.XSDGenerator.generate(XSDGenerator.java:123)
</code></pre></div>
<p>Can anyone tell me what is missing?</p>



<a name="264003736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264003736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264003736">(Dec 07 2021 at 13:53)</a>:</h4>
<p>on this branch: <a href="https://github.com/HL7/fhir/commits/costateixeira-oo">https://github.com/HL7/fhir/commits/costateixeira-oo</a></p>



<a name="264051189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264051189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264051189">(Dec 07 2021 at 18:40)</a>:</h4>
<p>I can't reproduce?</p>



<a name="264053841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264053841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264053841">(Dec 07 2021 at 18:57)</a>:</h4>
<p>ok, i guess i need to clean first</p>



<a name="264054572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264054572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264054572">(Dec 07 2021 at 19:01)</a>:</h4>
<p>still broken on my end</p>



<a name="264054824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264054824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264054824">(Dec 07 2021 at 19:02)</a>:</h4>
<p>what is this code supposed to check?</p>
<div class="codehilite" data-code-language="Java"><pre><span></span><code>    <span class="kd">private</span> <span class="n">String</span> <span class="nf">encodeType</span><span class="p">(</span><span class="n">ElementDefn</span> <span class="n">e</span><span class="p">,</span> <span class="n">TypeRef</span> <span class="n">type</span><span class="p">,</span> <span class="kt">boolean</span> <span class="n">params</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">isResourceReference</span><span class="p">())</span>
      <span class="k">return</span> <span class="s">"Reference"</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">isCanonical</span><span class="p">())</span>
      <span class="k">return</span> <span class="s">"canonical"</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">isCodeableReference</span><span class="p">())</span>
      <span class="k">return</span> <span class="s">"CodeableReference"</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="na">getName</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">"code"</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">String</span> <span class="n">en</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="na">hasBinding</span><span class="p">())</span> <span class="p">{</span>
                <span class="n">BindingSpecification</span> <span class="n">cd</span> <span class="o">=</span> <span class="n">e</span><span class="p">.</span><span class="na">getBinding</span><span class="p">();</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">cd</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">isEnum</span><span class="p">(</span><span class="n">cd</span><span class="p">))</span> <span class="p">{</span>
                  <span class="k">if</span> <span class="p">(</span><span class="n">cd</span><span class="p">.</span><span class="na">getValueSet</span><span class="p">()</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">throw</span> <span class="k">new</span> <span class="n">Error</span><span class="p">(</span><span class="s">"no value for "</span><span class="o">+</span><span class="n">cd</span><span class="p">.</span><span class="na">getUri</span><span class="p">()</span><span class="o">+</span><span class="s">" on "</span><span class="o">+</span><span class="n">cd</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>
                  <span class="p">}</span>
</code></pre></div>



<a name="264055019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264055019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264055019">(Dec 07 2021 at 19:03)</a>:</h4>
<p>getting the type name for something. Do you get this with a new checkout ?</p>



<a name="264056116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264056116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264056116">(Dec 07 2021 at 19:11)</a>:</h4>
<p>no, I'm using the branch <a href="https://github.com/HL7/fhir/tree/costateixeira-oo">https://github.com/HL7/fhir/tree/costateixeira-oo</a></p>



<a name="264060961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264060961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264060961">(Dec 07 2021 at 19:46)</a>:</h4>
<p>well, looking at that, the value set for the element DeviceDefinition.productionIdentifierInUDI is not defined</p>



<a name="264070335"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264070335" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264070335">(Dec 07 2021 at 20:56)</a>:</h4>
<div class="codehilite" data-code-language="XML"><pre><span></span><code>      <span class="nt">&lt;type&gt;</span>
        <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">"code"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/type&gt;</span>
      <span class="nt">&lt;binding&gt;</span>
        <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">"http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;valueString</span> <span class="na">value=</span><span class="s">"DeviceProductionIdentifierInUDI"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/extension&gt;</span>
        <span class="nt">&lt;strength</span> <span class="na">value=</span><span class="s">"required"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;description</span> <span class="na">value=</span><span class="s">"The production identifier(s) that are expected to appear in the UDI carrier."</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;valueSet</span> <span class="na">value=</span><span class="s">"http://hl7.org/fhir/ValueSet/device-productidentifierinudi"</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/binding&gt;</span>
</code></pre></div>



<a name="264070596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264070596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264070596">(Dec 07 2021 at 20:58)</a>:</h4>
<p>the VS is defined</p>
<div class="codehilite" data-code-language="XML"><pre><span></span><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="nt">&lt;ValueSet</span> <span class="na">xmlns=</span><span class="s">"http://hl7.org/fhir"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;id</span> <span class="na">value=</span><span class="s">"device-productidentifierinudi"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;meta&gt;</span>
    <span class="nt">&lt;profile</span> <span class="na">value=</span><span class="s">"http://hl7.org/fhir/StructureDefinition/shareablevalueset"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/meta&gt;</span>
  <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">"oo"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/extension&gt;</span>
  <span class="nt">&lt;url</span> <span class="na">value=</span><span class="s">"http://hl7.org/fhir/ValueSet/device-productidentifierinudi"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;version</span> <span class="na">value=</span><span class="s">"4.6.0"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">"DeviceProductionIdentifierInUDI"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;description</span> <span class="na">value=</span><span class="s">"Device Production Identifier in UDI"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;compose&gt;</span>
    <span class="nt">&lt;include&gt;</span>
      <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">"http://hl7.org/fhir/device-productidentifierinudi"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/include&gt;</span>
  <span class="nt">&lt;/compose&gt;</span>
<span class="nt">&lt;/ValueSet&gt;</span><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="nt">&lt;ValueSet</span> <span class="na">xmlns=</span><span class="s">"http://hl7.org/fhir"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;id</span> <span class="na">value=</span><span class="s">"device-productidentifierinudi"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;url</span> <span class="na">value=</span><span class="s">"http://hl7.org/fhir/ValueSet/device-productidentifierinudi"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;version</span> <span class="na">value=</span><span class="s">"4.6.0"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">"DeviceProductionIdentifierInUDI"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;description</span> <span class="na">value=</span><span class="s">"Device Production Identifier in UDI"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;compose&gt;</span>
    <span class="nt">&lt;include&gt;</span>
      <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">"http://hl7.org/fhir/device-productidentifierinudi"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/include&gt;</span>
  <span class="nt">&lt;/compose&gt;</span>
<span class="nt">&lt;/ValueSet&gt;</span>
</code></pre></div>



<a name="264070611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264070611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264070611">(Dec 07 2021 at 20:58)</a>:</h4>
<p>and the codesystem is defined too</p>



<a name="264073496"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264073496" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264073496">(Dec 07 2021 at 21:18)</a>:</h4>
<p>you have named the valueset and the codesystem the same</p>



<a name="264073596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264073596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264073596">(Dec 07 2021 at 21:19)</a>:</h4>
<p>but are they loaded - what would make them load?</p>



<a name="264076166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264076166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264076166">(Dec 07 2021 at 21:37)</a>:</h4>
<p>I looked at other resources , where I saw that VS and CS having the same id would be OK</p>



<a name="264076555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264076555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264076555">(Dec 07 2021 at 21:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> what does "make them load" mean? Isn't it sufficient to define the VS and the CS as XMLs, and set the right references? elementDefinition --binding--&gt; ValueSet --compose.include--&gt; CodeSystem</p>



<a name="264076863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264076863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264076863">(Dec 07 2021 at 21:42)</a>:</h4>
<p>well they are not exactly named the same thing</p>



<a name="264076899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264076899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264076899">(Dec 07 2021 at 21:42)</a>:</h4>
<p>the valueset sometimes is "production", where the codesystem is always "product"</p>



<a name="264077510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264077510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264077510">(Dec 07 2021 at 21:47)</a>:</h4>
<p>Ah i see. I have a name mismatch</p>



<a name="264078353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264078353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264078353">(Dec 07 2021 at 21:53)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191404">@John Moehrke</span> I would not have noticed that ever</p>



<a name="264078503"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/java.lang.Error%3A%20no%20value%20for%20null/near/264078503" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/java.2Elang.2EError.3A.20no.20value.20for.20null.html#264078503">(Dec 07 2021 at 21:54)</a>:</h4>
<p>did you get it working?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
