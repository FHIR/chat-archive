---
layout: page
title: "FHIR Chat  · Publisher and c:\temp · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html">Publisher and c:\temp</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="220182992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220182992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Linda <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220182992">(Dec 16 2020 at 22:33)</a>:</h4>
<p>I just downloaded a new version of publisher today and started getting the following error.  Is writing to c:\temp something new?  My system is very locked down and I don't have access to that folder so assume that is the issue but insight appreciated (Note that before update all was working fine)  C:\Users\lmicha2\Downloads\deqm&gt;_genonce<br>
Checking internet connection...<br>
Reply from 104.196.166.17: bytes=32 time=95ms TTL=115<br>
We're online<br>
Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8<br>
Exception in thread "main" java.io.FileNotFoundException: c:\temp\fhir-ig-publisher-tmp.log (Access is denied)<br>
        at java.base/java.io.FileOutputStream.open0(Native Method)<br>
        at java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)<br>
        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)<br>
        at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:126)<br>
        at org.hl7.fhir.igtools.publisher.utils.PublisherConsoleLogger.start(PublisherConsoleLogger.java:27)<br>
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8281)<br>
Press any key to continue . . . </p>
<p>If I am understanding correctly, I will see if I can get access to c:\temp...</p>



<a name="220184443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220184443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lynn Laakso <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220184443">(Dec 16 2020 at 22:46)</a>:</h4>
<p>yes, that's pretty new</p>



<a name="220188233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220188233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220188233">(Dec 16 2020 at 23:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="220194001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220194001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lynn Laakso <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220194001">(Dec 17 2020 at 00:41)</a>:</h4>
<p>I mean, yes, it is now a requirement that you have the temp directory and yes, it is a recent update</p>



<a name="220194083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220194083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220194083">(Dec 17 2020 at 00:42)</a>:</h4>
<p>many machines won't have a temp directory or allow unfettered access to a temp directory, so we need to find an alternative</p>



<a name="220194215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220194215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220194215">(Dec 17 2020 at 00:44)</a>:</h4>
<p>although I will say that I just updated the publisher and ran it on my unix machine and didn't see this error.  I changed the user to one who has less permissions and then saw a similar error</p>



<a name="220198165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220198165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220198165">(Dec 17 2020 at 01:42)</a>:</h4>
<p>is the build following the TEMP environment variable, or just hard coded to C:\temp?</p>



<a name="220198326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220198326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220198326">(Dec 17 2020 at 01:45)</a>:</h4>
<p>it seems to be hard-coded... that is not a good idea. sometimes C: is a read-only drive</p>



<a name="220293310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220293310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220293310">(Dec 17 2020 at 19:54)</a>:</h4>
<p>it is a requirement that every machine has a temporary directory, yes.</p>



<a name="220293342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220293342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220293342">(Dec 17 2020 at 19:54)</a>:</h4>
<p>I have no idea why it be trying to use c:\temp if it doesn't exist</p>



<a name="220293583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220293583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220293583">(Dec 17 2020 at 19:56)</a>:</h4>
<p>no. I see. If you have a c:\temp folder, it will try and use it as the temporary directory. Why do you have one that is not accessible?</p>



<a name="220293686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220293686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220293686">(Dec 17 2020 at 19:57)</a>:</h4>
<blockquote>
<p>many machines won't have a temp directory or allow unfettered access to a temp directory</p>
</blockquote>



<a name="220293710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220293710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220293710">(Dec 17 2020 at 19:57)</a>:</h4>
<p>I'm not interested in trying to support machines that don't provide a temporary scratch space</p>



<a name="220293720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220293720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220293720">(Dec 17 2020 at 19:57)</a>:</h4>
<p>in the proper place</p>



<a name="220298839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220298839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220298839">(Dec 17 2020 at 20:37)</a>:</h4>
<p>The proper place would be where the corresponding  environment variable points to, wouldn't it? To be more precise, <code>java.io.tmpdir</code> makes a system call that tries to resolve %TEMP% or %TMP% on Windows. On Linux and Mac, <code>java.io.tmpdir</code> is hardcoded to /tmp</p>
<p>Alternatively, creating a temp directory relative to the base directory the publisher is running could work, I think.</p>



<a name="220317992"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220317992" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220317992">(Dec 17 2020 at 23:29)</a>:</h4>
<p>Vassil is on the target for my suggestion. You should follow the TEMP environment variable. Some C: drives might have a \temp, yet the TEMP environment variable points at a a much faster medium.</p>



<a name="220326897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220326897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220326897">(Dec 18 2020 at 01:26)</a>:</h4>
<p>the code will use java.io.tmp unless it sees a c:\temp, in which case it uses that. Since on windows, the temporary folder is buried deep inside a hidden folder; this is a nightmare place to put a log that you then must ask a user to get you (Microsoft hates users...)</p>



<a name="220328822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220328822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220328822">(Dec 18 2020 at 01:57)</a>:</h4>
<blockquote>
<p>Since on windows, the temporary folder is buried deep inside a hidden folder</p>
</blockquote>
<p>Yes, by default %TEMP% and %TMP% point to %USERPROFILE%\AppData\Local\Temp<br>
Sounds like the exception should be not only if C:\temp exists, but also if %TEMP% or %TMP% are set to their default values (ending in AppData\Local\Temp)</p>



<a name="220329092"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220329092" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220329092">(Dec 18 2020 at 02:02)</a>:</h4>
<p>well, it turns out that on a Mac, the tmp folder is also deep inside a hidden folder :)<br>
java.io.tmpdir = /var/folders/f8/4jjd500570q0jt3h1stsf...</p>



<a name="220329946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220329946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220329946">(Dec 18 2020 at 02:17)</a>:</h4>
<p>I'd suggest the correct approach is to let the OS put the temp files where the OS wants to put temp files, and telling the user to <code>cd %TMP%</code> if they want a copy.</p>



<a name="220330032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220330032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220330032">(Dec 18 2020 at 02:18)</a>:</h4>
<p>On my windows machine java.io.tmpdir, %TEMP% and %TMP% all point to %USERPROFILE%\AppData\Local\Temp</p>



<a name="220384594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220384594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220384594">(Dec 18 2020 at 15:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp/near/220326897">said</a>:</p>
<blockquote>
<p>the code will use java.io.tmp unless it sees a c:\temp, in which case it uses that. Since on windows, the temporary folder is buried deep inside a hidden folder; this is a nightmare place to put a log that you then must ask a user to get you (Microsoft hates users...)</p>
</blockquote>
<p>If you want to go that approach, I'd recommend checking CRUD permissions on <code>C:\temp</code> instead of just existence.  It's common to both have that directory and not have permission to write to it.</p>



<a name="220419905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220419905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220419905">(Dec 18 2020 at 19:47)</a>:</h4>
<blockquote>
<p>It's common to both have that directory and not have permission to write to it</p>
</blockquote>
<p>why? bizarre.</p>



<a name="220419948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220419948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220419948">(Dec 18 2020 at 19:47)</a>:</h4>
<blockquote>
<p>telling the user to cd %TMP% if they want a copy</p>
</blockquote>
<p>I'll refer all users to Elliot so you can work them through it</p>



<a name="220431613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220431613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220431613">(Dec 18 2020 at 21:46)</a>:</h4>
<p>Many orgs have the computers locked down so that everything comes from the User's profile directory - e.g., to allow signing in on any device and having all your files there.  The rest of the computer (or at least fixed drives) are all locked for user writing so that users can't 'lose' documents by writing them in the wrong locations.</p>
<p>Not my favorite practice, but it's common enough that I'm not surprised when I run into it.</p>



<a name="220436052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Publisher%20and%20c%3A%5Ctemp/near/220436052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Publisher.20and.20c.3A.5Ctemp.html#220436052">(Dec 18 2020 at 22:32)</a>:</h4>
<p>If it needs to be in an easy to find location, what's wrong with the build directory?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
