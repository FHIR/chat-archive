---
layout: page
title: "FHIR Chat  · Truely dangerous script · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html">Truely dangerous script</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="158927248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158927248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158927248">(Feb 19 2019 at 22:52)</a>:</h4>
<p>Folks:  A word of warning.  I just ran <code>clean.sh</code> in the fhir base directory.  If guides/ccda2/output doesn't exist this delightful little script ends up changing two directories <em>up</em> from the fhir directory, executing a batch delete then (as guides/ccda2/qa doesn't exist) goes three MORE directories up and tries again.  One way or another it ends up executing a "find . -type f -delete" in your <em>root</em> directory.  We're testing the limits of the Mac time machine at the moment, but my machine will never be the same...</p>



<a name="158928884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158928884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158928884">(Feb 19 2019 at 23:14)</a>:</h4>
<p>I thought we had fixed this.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191315">@Josh Mandel</span> ?</p>



<a name="158928949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158928949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158928949">(Feb 19 2019 at 23:15)</a>:</h4>
<p>Man, I sure wish you had...<br>
... on a clean disk you can seek forever</p>



<a name="158928998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158928998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158928998">(Feb 19 2019 at 23:16)</a>:</h4>
<p><a href="https://github.com/HL7/fhir/blob/master/clean.sh" target="_blank" title="https://github.com/HL7/fhir/blob/master/clean.sh">https://github.com/HL7/fhir/blob/master/clean.sh</a></p>



<a name="158930414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158930414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158930414">(Feb 19 2019 at 23:37)</a>:</h4>
<p>there was a complaint about it, and I thought someone was going to do it.. but don't remember who</p>



<a name="158930922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158930922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158930922">(Feb 19 2019 at 23:46)</a>:</h4>
<p><a href="https://github.com/HL7/fhir/pull/452" target="_blank" title="https://github.com/HL7/fhir/pull/452">https://github.com/HL7/fhir/pull/452</a></p>



<a name="158930929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158930929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158930929">(Feb 19 2019 at 23:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> can you check my changes? I can't test if they work</p>



<a name="158988583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158988583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158988583">(Feb 20 2019 at 16:06)</a>:</h4>
<p>So <a href="#narrow/stream/179165-committers/topic/clean.2Esh" title="#narrow/stream/179165-committers/topic/clean.2Esh">historically</a> the todo was just to delete this script and use git clean.</p>



<a name="158988755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158988755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158988755">(Feb 20 2019 at 16:08)</a>:</h4>
<p>The current version still has some troubling bits, like <code>find -name *class -delete</code>, so if it's run in the wrong place it'll delete any files with <code>class</code> at the end of the name, rather than <code>.class</code>.  And overall, running it from the wrong place could delete files outside of the fhir repo checkout, which is not great.</p>



<a name="158993078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158993078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158993078">(Feb 20 2019 at 17:02)</a>:</h4>
<p>that script cleaned my mac as well and I set up time machine <em>afterwards</em> and made sure .gitignores did not ignore my python scripts after that .   So I would suggest it be removed.</p>



<a name="158993215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158993215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158993215">(Feb 20 2019 at 17:04)</a>:</h4>
<p>I've learned a lot about what you can and can't do with time machine.  I'm back and limping but dread the day I have to reboot.  No way to be sure that I've restored everything I need until then</p>



<a name="158993323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158993323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158993323">(Feb 20 2019 at 17:06)</a>:</h4>
<p>I had most of my work on Github and work on a pc too so that was a savior.</p>



<a name="158993347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158993347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158993347">(Feb 20 2019 at 17:07)</a>:</h4>
<p>Yup, although time machine doesn't do hidden files without some cooercion.  It was /usr that really hit me hard...</p>



<a name="158993384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/158993384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#158993384">(Feb 20 2019 at 17:07)</a>:</h4>
<p>I'm thinking that I may just start working inside docker containers (VM's).  A whole lot safer</p>



<a name="159010236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159010236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159010236">(Feb 20 2019 at 20:11)</a>:</h4>
<p>I would not like to use git clean because this deletes only generated files, not all files. A very different thing.</p>



<a name="159010544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159010544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159010544">(Feb 20 2019 at 20:14)</a>:</h4>
<p>we should add a confirm step : This will delete all generated files in [dir]: Continue [y/N] but I don't know how to do that in bash. Does someone want to do that?</p>



<a name="159012110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159012110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159012110">(Feb 20 2019 at 20:34)</a>:</h4>
<p>I think the "select" shell statement lets you do this.</p>



<a name="159012480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159012480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159012480">(Feb 20 2019 at 20:38)</a>:</h4>
<p>is that a 'I'll do it'?</p>



<a name="159013946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159013946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159013946">(Feb 20 2019 at 20:55)</a>:</h4>
<blockquote>
<p>is that a 'I'll do it'?</p>
</blockquote>
<p>I second the motion for <span class="user-mention" data-user-id="191380">@Elliot Silver</span> to fix..   :-)</p>



<a name="159014132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159014132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159014132">(Feb 20 2019 at 20:57)</a>:</h4>
<p>I think my first act as a committer should start somewhere other than a “truly dangerous script” — for your sake as much as mine.</p>



<a name="159014247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159014247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159014247">(Feb 20 2019 at 20:58)</a>:</h4>
<p>I'll volunteer to catch it.  (Seeings as how I coined the term...)</p>



<a name="159014458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159014458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159014458">(Feb 20 2019 at 21:01)</a>:</h4>
<p>Can you just get rid of all navigation that changes directory up?  Put the root folder in a variable and then express all paths as absolute paths based on that root?  That would seem safer than a check that people might not look at properly</p>



<a name="159014652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159014652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159014652">(Feb 20 2019 at 21:03)</a>:</h4>
<p>Yup - although a confirm would be good anyway...</p>



<a name="159014803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159014803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159014803">(Feb 20 2019 at 21:05)</a>:</h4>
<p>I already made those kind of changes</p>



<a name="159015417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159015417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159015417">(Feb 20 2019 at 21:13)</a>:</h4>
<p>Saw that, which makes it easier.  Want to add a double check and fix it to catch the ".bak" and ".class" files as well as the IG bits that made it go wacko in the first place.</p>



<a name="159015492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159015492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159015492">(Feb 20 2019 at 21:14)</a>:</h4>
<p>Tell you what, I'm going to test it in a VM however...</p>



<a name="159015979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159015979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159015979">(Feb 20 2019 at 21:20)</a>:</h4>
<p>well, I already removed the wacko bits. the remaining concern is that you aren't running it in the right folder</p>



<a name="159016022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159016022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159016022">(Feb 20 2019 at 21:21)</a>:</h4>
<p>What of the ccda2/qa and temp directories.  That said, happy to let it be...</p>



<a name="159016033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159016033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159016033">(Feb 20 2019 at 21:21)</a>:</h4>
<p>I removed those references. make sure you have the latest copty</p>



<a name="159016589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159016589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159016589">(Feb 20 2019 at 21:28)</a>:</h4>
<p>Should they be removed?</p>



<a name="159017455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159017455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159017455">(Feb 20 2019 at 21:39)</a>:</h4>
<p>yes they are not used anymore</p>



<a name="159017471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159017471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159017471">(Feb 20 2019 at 21:39)</a>:</h4>
<p>I mean, those directories do not exist anymore</p>



<a name="159017630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159017630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159017630">(Feb 20 2019 at 21:41)</a>:</h4>
<p>Gotcha.  IMO we're in good enough shape and have other things to do -- I'll catch the '.' on bak and class and call it  good</p>



<a name="159017645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159017645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159017645">(Feb 20 2019 at 21:41)</a>:</h4>
<p>k</p>



<a name="159017727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159017727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159017727">(Feb 20 2019 at 21:42)</a>:</h4>
<p>If those directories <em>had</em> existed, I'd still have my computer...</p>



<a name="159019084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159019084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harold Solbrig <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159019084">(Feb 20 2019 at 21:59)</a>:</h4>
<p>Done</p>



<a name="159090128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Truely%20dangerous%20script/near/159090128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Truely.20dangerous.20script.html#159090128">(Feb 21 2019 at 18:07)</a>:</h4>
<p>This experience was a teaching moment for me.  Never run a bash script I didn't write or test.  Never run anything called 'clean'  :-)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
