---
layout: page
title: "FHIR Chat  · Partial build succeeds when there are errors · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html">Partial build succeeds when there are errors</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="247882158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/247882158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#247882158">(Aug 01 2021 at 23:23)</a>:</h4>
<p>It seems a partial build will say Success even when there are errors with examples. Is this a change? <a href="/user_uploads/10155/luqd9zCKjb9Kqje4VsMjp0Ni/Build-Screenshot-2021-07-30-215039.png">Build-Screenshot-2021-07-30-215039.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/luqd9zCKjb9Kqje4VsMjp0Ni/Build-Screenshot-2021-07-30-215039.png" title="Build-Screenshot-2021-07-30-215039.png"><img src="/user_uploads/10155/luqd9zCKjb9Kqje4VsMjp0Ni/Build-Screenshot-2021-07-30-215039.png"></a></div>



<a name="247905079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/247905079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#247905079">(Aug 02 2021 at 09:53)</a>:</h4>
<p>and it seems the full build has same issue <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> <br>
<a href="/user_uploads/10155/9_M8vdarNETzjnvhmhKtWYKr/full-build-Screenshot-2021-08-02-105055.png">full-build-Screenshot-2021-08-02-105055.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/9_M8vdarNETzjnvhmhKtWYKr/full-build-Screenshot-2021-08-02-105055.png" title="full-build-Screenshot-2021-08-02-105055.png"><img src="/user_uploads/10155/9_M8vdarNETzjnvhmhKtWYKr/full-build-Screenshot-2021-08-02-105055.png"></a></div>



<a name="248214892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248214892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248214892">(Aug 03 2021 at 12:41)</a>:</h4>
<p>What am I looking at here?</p>



<a name="248215006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248215006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248215006">(Aug 03 2021 at 12:42)</a>:</h4>
<p>I'm assuming this is a build of the website? What branch is this on? Is this only local? Or does this also happen remotely?</p>



<a name="248224262"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248224262" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248224262">(Aug 03 2021 at 13:58)</a>:</h4>
<p>It's a local build of FHIR. It happens locally, and it didn't happen locally until recently. This was an R4B branch. Hard to see how it could be branch related, since the build software itself is behaving differently. Not sure about remotely, because that succeeds. But I am not sure if it succeeds with errors, because it succeeds, so I never went to check.</p>



<a name="248227402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248227402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248227402">(Aug 03 2021 at 14:21)</a>:</h4>
<p>Can you open a PR for the branch please? We can check the logs on the build server and see what the outcome is.</p>



<a name="248227444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248227444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248227444">(Aug 03 2021 at 14:21)</a>:</h4>
<p>Then, if it's still failing, I can look into it further</p>



<a name="248230101"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248230101" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248230101">(Aug 03 2021 at 14:40)</a>:</h4>
<p>it would only show on a bad build (incorrect examples) and I have tried to avoid committing those, so there may well not be any on the build server.</p>



<a name="248231041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248231041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248231041">(Aug 03 2021 at 14:47)</a>:</h4>
<p>So the question you are asking is "why would the build throw errors, but still succeed?"</p>



<a name="248231192"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248231192" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248231192">(Aug 03 2021 at 14:48)</a>:</h4>
<p>Can you copy paste the actual errors as text.</p>



<a name="248231208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248231208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248231208">(Aug 03 2021 at 14:48)</a>:</h4>
<p>So I can look at them in the code</p>



<a name="248231218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248231218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248231218">(Aug 03 2021 at 14:48)</a>:</h4>
<p>Also, are they the same errors every time?</p>



<a name="248232508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248232508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248232508">(Aug 03 2021 at 14:57)</a>:</h4>
<p>I suspect Grahame loosened the rules because at one point (and possibly still), the examples were such a mess that failing the build because of them meant the build would be offline for an extended period.  How many examples now fail?</p>



<a name="248234584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248234584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248234584">(Aug 03 2021 at 15:11)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> yes. But its not the errors that are the issue, its the lack of the build catching them. The error message is "build successful" ;-)<br>
Anyway this is one:<br>
ERROR @ Observation (line 0, col0): observation-example-genetics-brcapat:: Observation: Observation.effective[x]: minimum required = 1, but only found 0 (from <a href="http://hl7.org/fhir/StructureDefinition/devicemetricobservation">http://hl7.org/fhir/StructureDefinition/devicemetricobservation</a>) (src = InstanceValidator)</p>
<p>I have only noticed it on local builds where I am making changes and have broken the examples myself - and the build used to be a good way to find the errors. (It is not usually possible to validate examples outside of the build, because the schemas the build generates are not valid...). But now I look at other examples, there are lots of them.</p>



<a name="248234654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248234654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248234654">(Aug 03 2021 at 15:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> that makes sense. It may be because lots of failures about things like about contained references, which at least at one stage, were not validated correctly. But this may have had the effect of letting more bad examples in if people no longer notice that they fail.</p>



<a name="248234680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/248234680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#248234680">(Aug 03 2021 at 15:12)</a>:</h4>
<p>So in summary this is probably not something that needs a direct fix itself (unless maybe a "strict" mode?), but is now a mess :-)</p>



<a name="249674976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/249674976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#249674976">(Aug 17 2021 at 03:25)</a>:</h4>
<p>R4B examples aren't valid, but I thought R5 fails if they're not. Not necessarily for a partial build though</p>



<a name="249710594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Partial%20build%20succeeds%20when%20there%20are%20errors/near/249710594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Partial.20build.20succeeds.20when.20there.20are.20errors.html#249710594">(Aug 17 2021 at 12:27)</a>:</h4>
<p>FWIW, the problem I was running into yesterday (typo in xml ‘value’ for the short description) also only showed up in full builds.  Partial ones reported success.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
