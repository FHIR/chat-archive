---
layout: page
title: "FHIR Chat  · Error:Null on build · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html">Error:Null on build</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="274988574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274988574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274988574">(Mar 11 2022 at 15:16)</a>:</h4>
<p>I committed changes to Consent and ran a push (which works locally) and got this:<br>
2022-03-11T14:41:10.1530495Z Candidate for CodeableReference: [ClinicalImpression.prognosis]<br>
2022-03-11T14:41:10.4530536Z This was a Full Build                                                       1.18  36sec 4956MB<br>
2022-03-11T14:41:10.5530140Z FHIR build failure @ Fri, Mar 11, 2022 14:41+0000                          0.109  36sec 4956MB<br>
2022-03-11T14:41:10.5531468Z Error: null<br>
2022-03-11T14:41:10.5533191Z java.lang.NullPointerException<br>
2022-03-11T14:41:10.5534377Z    at java.util.ResourceBundle.containsKey(ResourceBundle.java:1821)<br>
2022-03-11T14:41:10.5535441Z    at org.hl7.fhir.utilities.i18n.I18nBase.messageExistsForLocale(I18nBase.java:50)<br>
2022-03-11T14:41:10.5536610Z    at org.hl7.fhir.utilities.i18n.I18nBase.formatMessage(I18nBase.java:67)<br>
2022-03-11T14:41:10.5538091Z    at org.hl7.fhir.validation.BaseValidator.ruleHtml(BaseValidator.java:427)<br>
2022-03-11T14:41:10.5539190Z    at org.hl7.fhir.definitions.validation.ResourceValidator.rule(ResourceValidator.java:124)<br>
2022-03-11T14:41:10.5540363Z    at org.hl7.fhir.definitions.validation.ResourceValidator.checkSearchParams(ResourceValidator.java:383)<br>
2022-03-11T14:41:10.5541525Z    at org.hl7.fhir.definitions.validation.ResourceValidator.check(ResourceValidator.java:217)<br>
2022-03-11T14:41:10.5543059Z    at org.hl7.fhir.definitions.validation.ResourceValidator.check(ResourceValidator.java:594)<br>
2022-03-11T14:41:10.5544182Z    at org.hl7.fhir.tools.publisher.Publisher.validate(Publisher.java:1886)<br>
2022-03-11T14:41:10.5545175Z    at org.hl7.fhir.tools.publisher.Publisher.execute(Publisher.java:702)<br>
2022-03-11T14:41:10.5546183Z    at org.hl7.fhir.tools.publisher.Publisher.main(Publisher.java:487)</p>



<a name="274988582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274988582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274988582">(Mar 11 2022 at 15:17)</a>:</h4>
<p>What should I do?</p>



<a name="274988607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274988607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274988607">(Mar 11 2022 at 15:17)</a>:</h4>
<p>Full log: <a href="https://dev.azure.com/fhir-pipelines/af4e28d8-13e5-41ea-9d9f-f6c9e34fb19f/_apis/build/builds/6370/logs/16">https://dev.azure.com/fhir-pipelines/af4e28d8-13e5-41ea-9d9f-f6c9e34fb19f/_apis/build/builds/6370/logs/16</a></p>



<a name="274990088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274990088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274990088">(Mar 11 2022 at 15:29)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="274992801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274992801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274992801">(Mar 11 2022 at 15:52)</a>:</h4>
<p>well, you have many warnings, and warnings can't be there if you want FMM3</p>



<a name="274992819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274992819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274992819">(Mar 11 2022 at 15:53)</a>:</h4>
<p>Thank you, but that doesn't fix the error</p>



<a name="274992889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274992889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274992889">(Mar 11 2022 at 15:53)</a>:</h4>
<p>are you sure? I was getting this same crazy error yesterday until I eliminated by build warnings</p>



<a name="274992977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274992977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274992977">(Mar 11 2022 at 15:54)</a>:</h4>
<p>It's a null pointer exception. That's a flaw in the publisher code.</p>



<a name="274993064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274993064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274993064">(Mar 11 2022 at 15:55)</a>:</h4>
<p>you are thinking that the final failure is not caused by the well handled warnings?</p>



<a name="274993298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274993298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274993298">(Mar 11 2022 at 15:57)</a>:</h4>
<p>no question the build should handle this better</p>
<blockquote>
<p>ERROR @ Consent: Cannot invoke "org.hl7.fhir.definitions.model.ElementDefn.getTypes()" because "e" is null (src = ResourceValidator)</p>
</blockquote>



<a name="274994081"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/274994081" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#274994081">(Mar 11 2022 at 16:00)</a>:</h4>
<p>Can you have a look at the code and see if you can find the bug? I'm sure they'd appreciate the extra eyes</p>



<a name="275001003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/275001003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#275001003">(Mar 11 2022 at 16:54)</a>:</h4>
<p>The error is actually being caused by a validation rule being fired - so yes, getting rid of all validation issues would get rid of the problem (if you could figure out what the validation issue was that was triggering the problem).  However, this is definitely a publisher bug that needs to be fixed.</p>



<a name="275011251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/275011251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#275011251">(Mar 11 2022 at 18:07)</a>:</h4>
<p>I looked at the code and it indicates that something really funky is going on inside ResourceBundle, which is Java internal stuff.  The cause seems to be that an exception is being triggered when running SearchParameter validation logic on SearchParameters with type 'Reference' or 'uri' and the message being passed into the rules engine is the exception message - which doesn't have a translation and the translation process is then choking.  <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> will need to chase why.  (Hopefully knowing the type of search parameter that's causing the problem will help you narrow down the issue .</p>



<a name="275024987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/275024987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#275024987">(Mar 11 2022 at 19:49)</a>:</h4>
<p><span class="user-mention" data-user-id="453078">@David Otasek</span></p>



<a name="275025010"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/275025010" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#275025010">(Mar 11 2022 at 19:49)</a>:</h4>
<p>David will look into this.</p>



<a name="275035439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/275035439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Otasek <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#275035439">(Mar 11 2022 at 21:22)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> <span class="user-mention" data-user-id="192587">@David Pyke</span> Looking into it.</p>



<a name="275040770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/275040770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Otasek <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#275040770">(Mar 11 2022 at 22:08)</a>:</h4>
<p><span class="user-mention" data-user-id="192587">@David Pyke</span> It looks like the root cause of this is the search parameter<code>Consent.policy.uri</code> </p>
<p>This element doesn't appear to exist. Here's a screenshot of elements that DO exist when the publisher reaches this point:</p>
<p><a href="/user_uploads/10155/ksE6GsnUVtvx4rilN5RtxaOY/Screen-Shot-2022-03-11-at-5.05.54-PM.png">Screen-Shot-2022-03-11-at-5.05.54-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/ksE6GsnUVtvx4rilN5RtxaOY/Screen-Shot-2022-03-11-at-5.05.54-PM.png" title="Screen-Shot-2022-03-11-at-5.05.54-PM.png"><img src="/user_uploads/10155/ksE6GsnUVtvx4rilN5RtxaOY/Screen-Shot-2022-03-11-at-5.05.54-PM.png"></a></div>



<a name="275062278"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/275062278" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#275062278">(Mar 11 2022 at 23:33)</a>:</h4>
<p>Do we understand why we get an NPE rather than a useful message?</p>



<a name="275063629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/275063629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Otasek <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#275063629">(Mar 11 2022 at 23:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> yes. I'm in the process of adding a better message now, but am having some odd IDE difficulties trying to test my changes.</p>



<a name="275099841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Error%3ANull%20on%20build/near/275099841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Error.3ANull.20on.20build.html#275099841">(Mar 12 2022 at 14:32)</a>:</h4>
<p>Thanks!  I've fixed it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
