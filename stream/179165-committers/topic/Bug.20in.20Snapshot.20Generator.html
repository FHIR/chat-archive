---
layout: page
title: "FHIR Chat  · Bug in Snapshot Generator · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html">Bug in Snapshot Generator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154022971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Bug%20in%20Snapshot%20Generator/near/154022971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html#154022971">(Dec 04 2018 at 22:48)</a>:</h4>
<p>I think there is a bug in the snapshot generator (for STU3 at least)<br>
In the AU Patient profile we have included an extension on deceasedDateTime for the accuracy  indicator<br>
<a href="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.html" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.html">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.html</a><br>
And while generating the snapshot, it produces an element definition like this</p>
<div class="codehilite"><pre><span></span>&lt;ElementDefinition id=&quot;Patient.deceasedDateTime:deceasedDateTime.value&quot;&gt;
  &lt;path value=&quot;Patient.deceasedDateTime.value&quot; /&gt;
  &lt;representation value=&quot;xmlAttr&quot; /&gt;
  &lt;short value=&quot;Primitive value for dateTime&quot; /&gt;
  &lt;definition value=&quot;The actual value&quot; /&gt;
  &lt;min value=&quot;0&quot; /&gt;
  &lt;max value=&quot;1&quot; /&gt;
  &lt;base&gt;
    &lt;path value=&quot;dateTime.value&quot; /&gt;
    &lt;min value=&quot;0&quot; /&gt;
    &lt;max value=&quot;1&quot; /&gt;
  &lt;/base&gt;
  &lt;type&gt;
    &lt;extension url=&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-regex&quot;&gt;
      &lt;valueString value=&quot;-?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?(Z|(\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?&quot; /&gt;
    &lt;/extension&gt;
  &lt;/type&gt;
&lt;/ElementDefinition&gt;
</pre></div>


<p>Which is not valid FHIR as the type.code property is missing.<br>
Any change you could take a look at this <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> and confirm its an issue?</p>



<a name="154023657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Bug%20in%20Snapshot%20Generator/near/154023657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html#154023657">(Dec 07 2018 at 06:15)</a>:</h4>
<p>ping, and this possible snapshot generator issue.</p>



<a name="154023957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Bug%20in%20Snapshot%20Generator/near/154023957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html#154023957">(Dec 10 2018 at 04:32)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, has this one made it to your list yet for closing out R4 too?<br>
(as it may impact other IGs, or snapshots generated during this cycle)</p>



<a name="154023964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Bug%20in%20Snapshot%20Generator/near/154023964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html#154023964">(Dec 10 2018 at 05:08)</a>:</h4>
<p>it's on my list</p>



<a name="154024021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Bug%20in%20Snapshot%20Generator/near/154024021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html#154024021">(Dec 10 2018 at 08:15)</a>:</h4>
<p>Thanks.</p>



<a name="154024923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Bug%20in%20Snapshot%20Generator/near/154024923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html#154024923">(Dec 12 2018 at 19:14)</a>:</h4>
<p>fixed</p>



<a name="154025201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Bug%20in%20Snapshot%20Generator/near/154025201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html#154025201">(Dec 13 2018 at 04:08)</a>:</h4>
<p>This now generates the code value below, which has no value, just extensions. I would have expected this to have the value <code>dateTime</code> in it (I think)</p>
<div class="codehilite"><pre><span></span>&lt;code&gt;
          &lt;extension
                     url=&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-json-type&quot;&gt;
            &lt;valueString value=&quot;string&quot;/&gt;
          &lt;/extension&gt;
          &lt;extension
                     url=&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-xml-type&quot;&gt;
            &lt;valueString
                         value=&quot;xsd:gYear OR xsd:gYearMonth OR xsd:date OR xsd:dateTime&quot;/&gt;
          &lt;/extension&gt;
          &lt;extension
                     url=&quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-rdf-type&quot;&gt;
            &lt;valueString
                         value=&quot;xsd:gYear OR xsd:gYearMonth OR xsd:date OR xsd:dateTime&quot;/&gt;
          &lt;/extension&gt;
        &lt;/code&gt;
</pre></div>


<p><a href="https://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.xml.html" target="_blank" title="https://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.xml.html">https://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-patient.xml.html</a><br>
So the Binding validator complains that there is no value to check with the terminology - is that wrong?</p>



<a name="154025205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Bug%20in%20Snapshot%20Generator/near/154025205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html#154025205">(Dec 13 2018 at 04:29)</a>:</h4>
<p>that's what I expect it to look like - an exact copy of base</p>



<a name="154025206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Bug%20in%20Snapshot%20Generator/near/154025206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html#154025206">(Dec 13 2018 at 04:29)</a>:</h4>
<p>not sure what you mean about the binding</p>



<a name="154025207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Bug%20in%20Snapshot%20Generator/near/154025207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Bug.20in.20Snapshot.20Generator.html#154025207">(Dec 13 2018 at 04:30)</a>:</h4>
<p>Cool, thanks. I'll chase it through the .net validator code. Maybe it's gone astray somewhere, and this is a new issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
