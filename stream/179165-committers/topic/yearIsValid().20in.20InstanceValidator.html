---
layout: page
title: "FHIR Chat  · yearIsValid() in InstanceValidator · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html">yearIsValid() in InstanceValidator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="159536115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159536115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159536115">(Feb 27 2019 at 17:49)</a>:</h4>
<p>yearIsValid() currently checks if the year i is i &gt;= 1800 &amp;&amp; i &lt;= 2100</p>
<p>The FHIR spec only has a regex to validate dates and doesn't has restrictions on min or max years, i propose to just get rid of yearIsValid() and do only the regex check.</p>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20480" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20480">GF#20480</a><br>
Pull Request: <a href="https://github.com/hapifhir/org.hl7.fhir.core/pull/9" target="_blank" title="https://github.com/hapifhir/org.hl7.fhir.core/pull/9">https://github.com/hapifhir/org.hl7.fhir.core/pull/9</a></p>
<p>and could <span class="user-mention" data-user-id="191319">@James Agnew</span> or <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> give me rights on fhir.core please, would make my PRs easier to create as i don't have to fork anymore.</p>



<a name="159602951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159602951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159602951">(Feb 28 2019 at 10:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> i updated my GF tracker to explain why this is a GF Tracker and not a hapi issue</p>



<a name="159624108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159624108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159624108">(Feb 28 2019 at 15:36)</a>:</h4>
<p>The issue doesn't appear to be obviously related to either specification publication or validation - either of those things would make it appropriate for a gForge item.  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="159624550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159624550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159624550">(Feb 28 2019 at 15:41)</a>:</h4>
<p>it is related to validation, as this is a class used by the FHIR java validator to validate dates. I just saw that there are issues enabled on fhir.core (must been blind yesterday).<br>
If <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> agrees i move the tracker there.</p>



<a name="159624837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159624837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159624837">(Feb 28 2019 at 15:43)</a>:</h4>
<p>I've removed the proposed disposition.  Can you provide an update on how the proposed change impacts validation?</p>



<a name="159627901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159627901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159627901">(Feb 28 2019 at 16:15)</a>:</h4>
<p>done.</p>



<a name="159811624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159811624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159811624">(Mar 02 2019 at 19:39)</a>:</h4>
<p>I don't agree with the change, actually. Just because the regex can't impose the checks doesn't mean that they're not valid. When would a date outside that range be valid?</p>



<a name="159811929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159811929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159811929">(Mar 02 2019 at 19:49)</a>:</h4>
<p>It's possible we'll start to hit coverage policies that have end dates in the 2100+ range in the not too distant future.  And super-deep family histories could potentially have dates earlier than 1800s, though grant that would be pretty uncommon.  In any event, seems like something that's more appropriate to be a warning than an error.</p>



<a name="159811998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159811998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159811998">(Mar 02 2019 at 19:51)</a>:</h4>
<p>coverages for 80 years? And family history &gt;200 yrs? neither are realistic. I've only ever seen dates like this as a mis-typing e.g. 2109 instead of 2019</p>



<a name="159816317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159816317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159816317">(Mar 02 2019 at 21:46)</a>:</h4>
<p>Coverages can come into force and be set to expire automatically at a particular age (often age 75).  We're approaching the point where employees could be starting to receive policies that have such expiry dates.  The key thing is that such a date isn't a guarantee of an error - it should be a warning to double-check that you didn't mess something up.</p>



<a name="159914529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159914529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159914529">(Mar 04 2019 at 13:49)</a>:</h4>
<p>i also would be fine with the change from error -&gt; warning. I can update my PR and GF to this new resolution</p>



<a name="159914779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159914779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159914779">(Mar 04 2019 at 13:52)</a>:</h4>
<p>The cause of this GF was a coder colleague getting validation errors and was wondering why. He had 2222-02-02 as a test date, the error only "The year 2222 does not have a valid year", i took a look into the code to understand the cause of it.</p>



<a name="159916374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/yearIsValid%28%29%20in%20InstanceValidator/near/159916374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/yearIsValid().20in.20InstanceValidator.html#159916374">(Mar 04 2019 at 14:13)</a>:</h4>
<blockquote>
<p>coverages for 80 years? And family history &gt;200 yrs? neither are realistic. I've only ever seen dates like this as a mis-typing e.g. 2109 instead of 2019</p>
</blockquote>
<p>The USA VHA has retention and coverage lengths this long. Like death+75 years or something like that. Unusual yes, but because of their service to country they get unusual benefit</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
