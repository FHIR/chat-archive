---
layout: page
title: "FHIR Chat  · Snapshot element reptition · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Snapshot.20element.20reptition.html">Snapshot element reptition</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="272183246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Snapshot%20element%20reptition/near/272183246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Snapshot.20element.20reptition.html#272183246">(Feb 16 2022 at 21:43)</a>:</h4>
<p>Hi all, came across something I did not expect and was wondering if it is valid or not.  In an IG, a <code>StructureDefinition.snapshot</code> has the same base element repeated multiple times - e.g., the same <code>id</code> and <code>path</code> with different other contents.</p>
<p>Is this allowed/expected/desired?  I cannot find a constraint preventing it, but I also am not sure how to process the results.</p>



<a name="272184587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Snapshot%20element%20reptition/near/272184587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Snapshot.20element.20reptition.html#272184587">(Feb 16 2022 at 21:55)</a>:</h4>
<p>So, they repeated the element instead of creating an array?</p>



<a name="272184988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Snapshot%20element%20reptition/near/272184988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Snapshot.20element.20reptition.html#272184988">(Feb 16 2022 at 21:59)</a>:</h4>
<blockquote>
<p>the same id and path with different other contents</p>
</blockquote>
<p>should not be. ids must be unique within a snapshot</p>



<a name="272186347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Snapshot%20element%20reptition/near/272186347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Snapshot.20element.20reptition.html#272186347">(Feb 16 2022 at 22:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192587">David Pyke</span> <a href="#narrow/stream/179165-committers/topic/Snapshot.20element.20reptition/near/272184587">said</a>:</p>
<blockquote>
<p>So, they repeated the element instead of creating an array?</p>
</blockquote>
<p>No, two consecutive <code>StructureDefinition.snapshot.element</code> array items have the same <code>id</code> and <code>path</code>.</p>



<a name="272187742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Snapshot%20element%20reptition/near/272187742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Snapshot.20element.20reptition.html#272187742">(Feb 16 2022 at 22:22)</a>:</h4>
<p>Thanks, found it: <code>sdf-16</code> in <a href="https://hl7.org/fhir/structuredefinition.html#invs">StructureDefinition constraints</a>.  So I can just pass however I want to pass (likely ignore second) in my code.</p>
<p>As an FYI, I am running into this during package resolution from the current US Core: US Core current version is <code>4.1.0</code>, which has a dependency on <code>hl7.fhir.uv.sdc</code> version <code>2.7.0</code>.</p>
<p><code>hl7.fhir.uv.sdc#2.7.0</code> has <code>StructureDefinition-sdc-questionnaireresponse.json</code> with this error.  The current version (STU2) does not have this problem.  Is there a process for fixing that kind of issue that does not involve re-publication?</p>



<a name="272188439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Snapshot%20element%20reptition/near/272188439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Snapshot.20element.20reptition.html#272188439">(Feb 16 2022 at 22:29)</a>:</h4>
<p>no</p>



<a name="272669221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Snapshot%20element%20reptition/near/272669221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Snapshot.20element.20reptition.html#272669221">(Feb 21 2022 at 10:28)</a>:</h4>
<p>There is a newer snapshot of SDC that you can now use too.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
