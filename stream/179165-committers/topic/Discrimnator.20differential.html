---
layout: page
title: "FHIR Chat  · Discrimnator differential · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html">Discrimnator differential</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153950115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950115">(Apr 03 2018 at 07:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>   I am having troubles with IG build where I have a profile with one discriminator .e.g HealthcareService.identifier slicing discriminator is Value 'system' then create a derived profile with an additional discriminator Value 'type'  am getting error </p>
<div class="codehilite"><pre><span></span>Publishing Content Failed: Exception loading http://hl7.org.au/fhir/StructureDef
inition/au-pd-healthcareservice: Slicing rules on differential (org.hl7.fhir.r4.
model.ElementDefinition$ElementDefinitionSlicingDiscriminatorComponent@2e9f5b, o
rg.hl7.fhir.r4.model.ElementDefinition$ElementDefinitionSlicingDiscriminatorComp
onent@1a34b26(/open)) do not match those on base (org.hl7.fhir.r4.model.ElementD
efinition$ElementDefinitionSlicingDiscriminatorComponent@13fd7a1(/open)) - disci
minator @ HealthcareService.identifier (http://hl7.org/fhir/StructureDefinition/
Meta) (14.0994sec)
</pre></div>



<a name="153950116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950116">(Apr 03 2018 at 07:26)</a>:</h4>
<p>Should I be repeating the whole slicing discriminator in the derived profile definition?</p>



<a name="153950117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950117">(Apr 03 2018 at 07:26)</a>:</h4>
<div class="codehilite"><pre><span></span> &lt;slicing&gt;
        &lt;discriminator&gt;
          &lt;type value=&quot;value&quot; /&gt;
          &lt;path value=&quot;system&quot; /&gt;
        &lt;/discriminator&gt;
        &lt;discriminator&gt;
          &lt;type value=&quot;value&quot; /&gt;
          &lt;path value=&quot;type&quot; /&gt;
        &lt;/discriminator&gt;
        &lt;rules value=&quot;open&quot; /&gt;
      &lt;/slicing&gt;
</pre></div>



<a name="153950118"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950118" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950118">(Apr 03 2018 at 07:28)</a>:</h4>
<p>Here is the full log <a href="http://build.fhir.org/ig/hl7au/au-fhir-pd/build.log" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-pd/build.log">http://build.fhir.org/ig/hl7au/au-fhir-pd/build.log</a></p>



<a name="153950120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950120">(Apr 03 2018 at 07:50)</a>:</h4>
<p>is that the base or the derived? Paste both...</p>



<a name="153950380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950380">(Apr 03 2018 at 23:24)</a>:</h4>
<p>The base is:</p>



<a name="153950381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950381">(Apr 03 2018 at 23:24)</a>:</h4>
<div class="codehilite"><pre><span></span> &lt;element id=&quot;HealthcareService.identifier&quot;&gt;
      &lt;path value=&quot;HealthcareService.identifier&quot; /&gt;
      &lt;slicing&gt;
        &lt;discriminator&gt;
          &lt;type value=&quot;value&quot; /&gt;
          &lt;path value=&quot;system&quot; /&gt;
        &lt;/discriminator&gt;
        &lt;rules value=&quot;open&quot; /&gt;
      &lt;/slicing&gt;
      &lt;short value=&quot;Healthcare service identifiers&quot; /&gt;
    &lt;/element&gt;
</pre></div>



<a name="153950383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950383">(Apr 03 2018 at 23:25)</a>:</h4>
<p>derived element is</p>



<a name="153950384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950384">(Apr 03 2018 at 23:25)</a>:</h4>
<div class="codehilite"><pre><span></span>  &lt;element id=&quot;HealthcareService.identifier&quot;&gt;
      &lt;path value=&quot;HealthcareService.identifier&quot; /&gt;
      &lt;slicing&gt;
        &lt;discriminator&gt;
          &lt;type value=&quot;value&quot; /&gt;
          &lt;path value=&quot;system&quot; /&gt;
        &lt;/discriminator&gt;
        &lt;discriminator&gt;
          &lt;type value=&quot;value&quot; /&gt;
          &lt;path value=&quot;type&quot; /&gt;
        &lt;/discriminator&gt;
        &lt;rules value=&quot;open&quot; /&gt;
      &lt;/slicing&gt;
      &lt;short value=&quot;Directory entry healthcare service identifiers&quot; /&gt;
    &lt;/element&gt;
</pre></div>



<a name="153950385"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950385" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950385">(Apr 03 2018 at 23:25)</a>:</h4>
<p>ok so that should work then. this is committed somewhere so I can try it out?</p>



<a name="153950386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950386">(Apr 03 2018 at 23:26)</a>:</h4>
<p>yep <br>
<a href="https://github.com/hl7au/au-fhir-base" target="_blank" title="https://github.com/hl7au/au-fhir-base">https://github.com/hl7au/au-fhir-base</a><br>
<a href="https://github.com/hl7au/au-fhir-pd" target="_blank" title="https://github.com/hl7au/au-fhir-pd">https://github.com/hl7au/au-fhir-pd</a></p>



<a name="153950388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153950388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153950388">(Apr 03 2018 at 23:30)</a>:</h4>
<p>ok I'll try and look this afternoon</p>



<a name="153951418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153951418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153951418">(Apr 09 2018 at 06:26)</a>:</h4>
<p>Following up on this one still failing - <a href="http://build.fhir.org/ig/hl7au/au-fhir-pd/build.log" target="_blank" title="http://build.fhir.org/ig/hl7au/au-fhir-pd/build.log">http://build.fhir.org/ig/hl7au/au-fhir-pd/build.log</a></p>



<a name="153955314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153955314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153955314">(May 02 2018 at 00:56)</a>:</h4>
<p>I still have this problem - but now am thinking about whether it makes sense to add further discriminators in a derived model - as this would seem to actually relax the discriminating elements - e,g, if a profile discriminates on Identifier.system then in a derived profile discriminates also on Identifier.type - this could mean multiple slice matches in the base model could occur where it would be okay in the derived model (e.g. same system and a discriminating type) - make sense?... maybe IG builder is behaving as it should as that seems to be a problem to me...</p>



<a name="153955315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153955315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153955315">(May 02 2018 at 00:57)</a>:</h4>
<p>would mean the base model would need to have all the discriminators defined for any derived model to be able to use them... this is a bit problematic but can't see how it would work any other way...</p>



<a name="153955320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/Discrimnator%20differential/near/153955320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/Discrimnator.20differential.html#153955320">(May 02 2018 at 01:30)</a>:</h4>
<p>okay after discussion I am less worried and feeling okay... if a slice matches in the base profile it should still be conforming; and the derived slice constraints can only be more specific and still conform to the base.. .so back to needing to be able to build IG with additional discriminators defined...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
