---
layout: page
title: "FHIR Chat  · R4B Type Change Question · committers"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/index.html">committers</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R4B.20Type.20Change.20Question.html">R4B Type Change Question</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="232286846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R4B%20Type%20Change%20Question/near/232286846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R4B.20Type.20Change.20Question.html#232286846">(Mar 29 2021 at 15:27)</a>:</h4>
<p>I'm working through R4B and have a question about changes in the type system.  For example, I'll use <code>StructureDefinition-bmi.json</code>.  The field <code>Observation.id</code> has the following in R4:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code>                <span class="nt">"type"</span><span class="p">:</span> <span class="p">[{</span>
                    <span class="nt">"extension"</span><span class="p">:</span> <span class="p">[{</span>
                        <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type"</span><span class="p">,</span>
                        <span class="nt">"valueUrl"</span><span class="p">:</span> <span class="s2">"string"</span>
                    <span class="p">}],</span>
                    <span class="nt">"code"</span><span class="p">:</span> <span class="s2">"http://hl7.org/fhirpath/System.String"</span>
                <span class="p">}],</span>
</code></pre></div>
<p>and the same field in R4B has:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code>                <span class="nt">"type"</span><span class="p">:</span> <span class="p">[{</span>
                    <span class="nt">"extension"</span><span class="p">:</span> <span class="p">[{</span>
                        <span class="nt">"url"</span><span class="p">:</span> <span class="s2">"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type"</span><span class="p">,</span>
                        <span class="nt">"valueUri"</span><span class="p">:</span> <span class="s2">"id"</span>
                    <span class="p">}],</span>
                    <span class="nt">"code"</span><span class="p">:</span> <span class="s2">"http://hl7.org/fhirpath/System.String"</span>
                <span class="p">}],</span>
</code></pre></div>
<p>This changes both the type of value on the extension (<code>url</code> to <code>uri</code>) and the type being referenced (<code>string</code> to <code>id</code>).  Is this expected/allowed?</p>



<a name="232293090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R4B%20Type%20Change%20Question/near/232293090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R4B.20Type.20Change.20Question.html#232293090">(Mar 29 2021 at 16:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="232293546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R4B%20Type%20Change%20Question/near/232293546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R4B.20Type.20Change.20Question.html#232293546">(Mar 29 2021 at 16:11)</a>:</h4>
<p>(as a note, I am trying to keep track to file tickets for all of these, but there are many things like this throughout the spec - e.g., the format of <code>contentReference</code> values has changed, etc.)</p>



<a name="232313236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R4B%20Type%20Change%20Question/near/232313236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R4B.20Type.20Change.20Question.html#232313236">(Mar 29 2021 at 18:25)</a>:</h4>
<p>As part of the follow-up (and in case anyone else is interested in looking at some output), here are text files I use to look at normalized versions of FHIR.  Included are the R4 (4.0.1) and R4B (4.1.0) versions, and there are <em>significant</em> differences.  <a href="/user_uploads/10155/HCeBzbN0IxNEiKoETTpsMRvr/Info-R4-R4B.zip">Info-R4-R4B.zip</a> </p>
<p>Part of that can be attributed to the fact that the R4 core package has 4,583 items while R4B core has only 2,688.  So, the sheer number of missing definitions is quite high.</p>
<p>Conversely, the R4B expansions package has 589 items, while R4 only has 555.</p>
<p>I'm going to start filing tickets on obvious issues (e.g., <code>CodeSystem-observation-statistics</code> is missing the required <code>status</code> element), but will probably put a few more 'is this legal' type things here.</p>



<a name="232362203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R4B%20Type%20Change%20Question/near/232362203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R4B.20Type.20Change.20Question.html#232362203">(Mar 30 2021 at 01:56)</a>:</h4>
<p>hmm I will have to look into this</p>



<a name="233200266"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179165-committers/topic/R4B%20Type%20Change%20Question/near/233200266" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179165-committers/topic/R4B.20Type.20Change.20Question.html#233200266">(Apr 05 2021 at 17:08)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , just pinging on this so it doesn't drop off the radar.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
