---
layout: page
title: "FHIR Chat  · Validator · smart/scheduling-links"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/index.html">smart/scheduling-links</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html">Validator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="235286723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/235286723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laza Upatising <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#235286723">(Apr 20 2021 at 04:43)</a>:</h4>
<p>Hey all, I wrote a validator script in order to ensure that the published files conform to the spec (since I was having trouble parsing some of the files). <a href="https://github.com/lazau/scheduling-links-aggregator/tree/main/validator">https://github.com/lazau/scheduling-links-aggregator/tree/main/validator</a>. Please try it and let me know if it's of any use.</p>



<a name="235364466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/235364466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#235364466">(Apr 20 2021 at 15:32)</a>:</h4>
<p>Thanks Laza! BTW did you have a chance to try out the Inferno validator? (I can see the value too of having something lightweight and immediate!)</p>



<a name="235513316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/235513316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#235513316">(Apr 21 2021 at 13:52)</a>:</h4>
<p>This looks great!  I'm going through our <a href="https://infernotest.healthit.gov/community">Inferno</a> tests and comparing what you have here.  I <em>love</em> how lightweight this is (Inferno started that way, but has become quite a bit bigger over time to support more and more FHIR-based use cases).</p>



<a name="235513645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/235513645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#235513645">(Apr 21 2021 at 13:54)</a>:</h4>
<p>One thing I noticed is that when invoking through the command line (for Mac bash at least), you need to escape the <code>$</code> that is present on all of the URLs.  That tripped me up for a minute.  So you need to put in:</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>./validator all https://raw.githubusercontent.com/smart-on-fhir/smart-scheduling-links/master/examples/<span class="se">\$</span>bulk-publish
</code></pre></div>
<p>I shouldn't be surprised by the well defined behavior of my own tools though ;-)</p>



<a name="235520884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/235520884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#235520884">(Apr 21 2021 at 14:36)</a>:</h4>
<p>Yeah it took me a long time to develop the habit of single quoting everything when I pass these URLs into curl.</p>



<a name="242674658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242674658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242674658">(Jun 15 2021 at 00:17)</a>:</h4>
<p>Question on this vs. the Inferno validator — I’ve got a system with some edge-case-y locations that have no associated phone number or URL, and Inferno says I should not have an empty array for <code>telecom</code>. But when I dropped the property, this validator requires it. I <em>think</em> Inferno is correct on that, but wanted to check and make sure.</p>



<a name="242674909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242674909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242674909">(Jun 15 2021 at 00:21)</a>:</h4>
<p>If you don't have any telecoms, the thing to do in FHIR is to omit the element altogether rather than supplying an empty array. Let me see if I can cite chapter and verse on that...</p>



<a name="242675038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242675038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242675038">(Jun 15 2021 at 00:23)</a>:</h4>
<p><a href="http://build.fhir.org/json.html#xml">http://build.fhir.org/json.html#xml</a> ("arrays are never empty" -- but it's kinda buried ;-)</p>



<a name="242677171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242677171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242677171">(Jun 15 2021 at 01:03)</a>:</h4>
<p>OK, so that's a bug in <a href="https://github.com/lazau/scheduling-links-aggregator/tree/main/validator">https://github.com/lazau/scheduling-links-aggregator/tree/main/validator</a>, then.</p>



<a name="242678337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242678337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242678337">(Jun 15 2021 at 01:27)</a>:</h4>
<p>I think the validator is implementing our constraint from <a href="https://github.com/smart-on-fhir/smart-scheduling-links/blob/master/specification.md#location-file">https://github.com/smart-on-fhir/smart-scheduling-links/blob/master/specification.md#location-file</a> that says telecom is required</p>



<a name="242678345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242678345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242678345">(Jun 15 2021 at 01:27)</a>:</h4>
<p>In your case you can't satisfy the constraint</p>



<a name="242682468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242682468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242682468">(Jun 15 2021 at 02:56)</a>:</h4>
<p>Sounds like Inferno is failing you as expected -- but let me know if I'm misinterpreting this conclusion <span class="user-mention" data-user-id="398591">@Rob Brackett</span> .  For Inferno, we translated these requirements into FHIR's profiling language, which carries some rules that may not be spelled out in the scheduling links spec.</p>



<a name="242682794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242682794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242682794">(Jun 15 2021 at 03:03)</a>:</h4>
<p>You could probably get Inferno to pass you by providing a DataAbsentReason in this case.  I don't think that this is of much practical value though -- I can't imagine many clients would be sophisticated enough to look out for that kind of thing for this use case.</p>



<a name="242684131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242684131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242684131">(Jun 15 2021 at 03:35)</a>:</h4>
<blockquote>
<p>I think the validator is implementing our constraint from <a href="https://github.com/smart-on-fhir/smart-scheduling-links/blob/master/specification.md#location-file">https://github.com/smart-on-fhir/smart-scheduling-links/blob/master/specification.md#location-file</a> that says telecom is required</p>
</blockquote>
<p>Ah, geez, this is another one of those right-in-front-of-my-face moments — after seeing the “must not be present if empty” error from Inferno, I’d been looking at the fact that <code>telecom</code> has cardinality <code>0..*</code> in FHIR proper (<a href="http://hl7.org/fhir/location.html">http://hl7.org/fhir/location.html</a>) + the text that phone and URL <em>should</em> be set in SMART Scheduling Links, but totally overlooked the <code>Y</code> in the required column right next to it. <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span></p>



<a name="242684456"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242684456" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242684456">(Jun 15 2021 at 03:45)</a>:</h4>
<p>So between the fact that arrays should never be empty and the fact that <code>telecom</code> is required for SMART Scheduling Links, it might be helpful to note in the description column of the table of location properties that the <code>telecom</code> array SHALL have at least one contact point. I can make a PR for that if I’ve got the interpretation correct here.</p>



<a name="242685931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242685931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242685931">(Jun 15 2021 at 04:17)</a>:</h4>
<blockquote>
<p>Sounds like Inferno is failing you as expected</p>
</blockquote>
<p>Yeah, it seems to be.</p>
<p>I think the end result here is that I was just getting twisted up in the subtlety that, because <code>telecom</code> is required and empty arrays aren’t allowed, the spec is essentially requiring <em>at least one</em> telecom contact point, but doesn’t say that directly. (If I had any complaint about Inferno here, it might be that I’d prefer a message about that (must have at least one entry) rather than the message that the property shouldn’t be present if it’s an empty array and a different message that it must be present once I’ve omitted it to satisfy the earlier error.)</p>



<a name="242729788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242729788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242729788">(Jun 15 2021 at 13:13)</a>:</h4>
<blockquote>
<p>it might be helpful to note in the description column of the table of location properties that the telecom array SHALL have at least one contact point. I can make a PR for that if I’ve got the interpretation correct here.</p>
</blockquote>
<p>this was our interpretation as well, and I don't see much harm reflecting this requirement (if valid) in the description because the extra 'should' language for url/phone obscures things a bit.</p>



<a name="242731735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242731735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242731735">(Jun 15 2021 at 13:27)</a>:</h4>
<p>In theory, in the <code>'telecom': []</code> case, Inferno should provide two errors, one like "Location.telecom: minimum required = 1, but only found 0", and one like "Location.telecom: Array cannot be empty - the property should not be present if it has no values".  This isn't a big deal, but I'm curious if we only presented the second error in this case.</p>



<a name="242732301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242732301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert Scanlon <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242732301">(Jun 15 2021 at 13:31)</a>:</h4>
<p>Thanks for the feedback about the error messages, it's very helpful for us to know what people find confusing.</p>



<a name="242734161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242734161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242734161">(Jun 15 2021 at 13:44)</a>:</h4>
<p>Thanks also for the feedback on the spec! Would be happy to take a PR clarifying this point.</p>



<a name="242777023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242777023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242777023">(Jun 15 2021 at 18:23)</a>:</h4>
<p><span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span> Added a PR at <a href="https://github.com/smart-on-fhir/smart-scheduling-links/pull/47">https://github.com/smart-on-fhir/smart-scheduling-links/pull/47</a></p>
<p><span class="user-mention" data-user-id="406044">@Laza Upatising</span> I think that still leaves an issue on your validator that it allows <code>telecom</code> to be an empty array, when it should actually have at least one entry.</p>



<a name="242781693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242781693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laza Upatising <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242781693">(Jun 15 2021 at 18:54)</a>:</h4>
<p>Fixed, thanks for the heads up!</p>
<p>There are a bunch of other arrays being validated without the non-empty requirement. Reading <a href="https://github.com/smart-on-fhir/smart-scheduling-links/pull/47#issue-670638023">https://github.com/smart-on-fhir/smart-scheduling-links/pull/47#issue-670638023</a> implies that all arrays cannot be empty - I'll need to update the validator to enforce these rules on other arrays too (e.g. "Location.identifier", "Schedule.serviceType", "Schedule.serviceType.coding").</p>
<p>Actually, this brings up another question. If JSON arrays are never allowed to be empty, what's the requirements around the "extension" field in both Schedule and Slot files? Reading between the lines in the spec, it seems like the intent is to make these fields optional 'extensions', but the non-empty requirement means at least one extension must be provided?</p>



<a name="242783032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242783032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laza Upatising <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242783032">(Jun 15 2021 at 19:02)</a>:</h4>
<p>Actually, replying to myself: it seems like if the field is not named we can bypass the non-empty requirement altogether. So only when a field is named is the non-empty requirement applied. Sorry for the confusion!</p>



<a name="242783622"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242783622" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242783622">(Jun 15 2021 at 19:07)</a>:</h4>
<p>You figured this out in your follow-up, but just to confirm:  when we say "non-empty" this just means "if you have no extensions, omit the <code>extension</code> property altogether instead of writing <code>"extension": []</code>. If all the extensions are optional on a given resource, omitting the <code>extension</code> property is fine.</p>



<a name="242783989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242783989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laza Upatising <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242783989">(Jun 15 2021 at 19:10)</a>:</h4>
<p>Thank you for the clarification. I will add another validation rule around disallowing empty arrays (<code>"extension": []</code> will yield a validation error), suggesting that implementers should just omit the field altogether.</p>



<a name="242817005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/242817005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laza Upatising <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#242817005">(Jun 16 2021 at 00:35)</a>:</h4>
<p>Validator updated with new rules. Please @ me if you see unexpected results.</p>



<a name="243564517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/243564517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#243564517">(Jun 22 2021 at 19:07)</a>:</h4>
<p><span class="user-mention" data-user-id="406044">@Laza Upatising</span> I only just noticed today that the validator requires Ruby 3+ (it crashes on bad dates in Ruby 2). Might be helpful to check <code>RbConfig::CONFIG["MAJOR"]</code> or something and warn users on Ruby 2 at the start of the script.</p>



<a name="245081619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/245081619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#245081619">(Jul 06 2021 at 18:42)</a>:</h4>
<p><span class="user-mention" data-user-id="406044">@Laza Upatising</span> Also noticed the validator does not support the has-availability extension (from here: <a href="https://github.com/smart-on-fhir/smart-scheduling-links/blob/master/specification.md#describe-unknown-availability-capacity-or-slot-times">https://github.com/smart-on-fhir/smart-scheduling-links/blob/master/specification.md#describe-unknown-availability-capacity-or-slot-times</a>). I get an error message like:</p>
<div class="codehilite"><pre><span></span><code>unrecognized field value &#39;http://fhir-registry.smarthealthit.org/StructureDefinition/has-availability&#39;. Must be one of [&quot;http://fhir-registry.smarthealthit.org/StructureDefinition/vaccine-product&quot;, &quot;http://fhir-registry.smarthealthit.org/StructureDefinition/vaccine-dose&quot;]
</code></pre></div>



<a name="245083567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/245083567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#245083567">(Jul 06 2021 at 18:57)</a>:</h4>
<p>Looks like it’s also marking <code>position</code> as required for locations.</p>



<a name="247047935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/247047935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Laza Upatising <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#247047935">(Jul 24 2021 at 00:56)</a>:</h4>
<p>Thanks for the reports <span class="user-mention" data-user-id="398591">@Rob Brackett</span>. I've fixed the 'has-availability' and <code>position</code> issues. I was unable to reproduce the Ruby 3 issue though. The only Date parsing code is in validator_lib.rb in the <code>iso8601_validator</code> method, which works in both Ruby 2 and 3. Let me know how I can reproduce it and I'll make the fix.</p>



<a name="247405011"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/247405011" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#247405011">(Jul 27 2021 at 23:15)</a>:</h4>
<p><span class="user-mention" data-user-id="406044">@Laza Upatising</span> Took another look at this and the issue is &lt; 2.7, not &lt; 3.0! Specifically, in 2.6 and earlier, <code>DateTime.iso8601</code> raises <code>ArgumentError</code> for an unparseable string, but you’re only catching <code>Date::Error</code>, which is what 2.7+ raises: <a href="https://github.com/lazau/scheduling-links-aggregator/blob/8072ab740f0ff057379dfae9785893c35f33193a/validator/validator_lib.rb#L851-L853">https://github.com/lazau/scheduling-links-aggregator/blob/8072ab740f0ff057379dfae9785893c35f33193a/validator/validator_lib.rb#L851-L853</a></p>



<a name="247405096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/281612-smart/scheduling-links/topic/Validator/near/247405096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Brackett <a href="https://fhir.github.io/chat-archive/stream/281612-smart/scheduling-links/topic/Validator.html#247405096">(Jul 27 2021 at 23:16)</a>:</h4>
<p>(I had been on 2.6.5, I think)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
