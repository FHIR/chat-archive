---
layout: page
title: "FHIR Chat  · Query Bundle of type document · storage for FHIR"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179289-storage-for-FHIR/index.html">storage for FHIR</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179289-storage-for-FHIR/topic/Query.20Bundle.20of.20type.20document.html">Query Bundle of type document</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="195286422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179289-storage%20for%20FHIR/topic/Query%20Bundle%20of%20type%20document/near/195286422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alessio Graziani <a href="https://fhir.github.io/chat-archive/stream/179289-storage-for-FHIR/topic/Query.20Bundle.20of.20type.20document.html#195286422">(Apr 25 2020 at 14:07)</a>:</h4>
<p>Hi all,<br>
I'm querying the Bundle resource, to retrieve a Bundle of type "document" that contains a specific instance of Composition (as the first entry). The problem is that I don't get any results back, it seems like the "composition" search parameter is not taken into account. Am I doing something wrong or the search parameter is not supported?</p>
<p>1) These are examples of query I'd like to submit:</p>
<p><a href="http://localhost:8080/NCP/fhir/Bundle?composition=Composition/53" title="http://localhost:8080/NCP/fhir/Bundle?composition=Composition/53">http://localhost:8080/NCP/fhir/Bundle?composition=Composition/53</a></p>
<p><a href="http://localhost:8080/NCP/fhir/Bundle?type=document&amp;composition.type=http://loinc.org|60591-5" title="http://localhost:8080/NCP/fhir/Bundle?type=document&amp;composition.type=http://loinc.org|60591-5">http://localhost:8080/NCP/fhir/Bundle?type=document&amp;composition.type=http://loinc.org|60591-5</a></p>
<p>2) this is the created Bundle: </p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Bundle&quot;</span><span class="p">,</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;52&quot;</span><span class="p">,</span>
  <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;versionId&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;lastUpdated&quot;</span><span class="p">:</span> <span class="s2">&quot;2020-04-24T16:32:43.170+02:00&quot;</span><span class="p">,</span>
    <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;#eDCJBwn2rScDUh79&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;document&quot;</span><span class="p">,</span>
  <span class="nt">&quot;entry&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;fullUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;Composition/53&quot;</span><span class="p">,</span>
      <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Composition&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;53&quot;</span><span class="p">,</span>
        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;final&quot;</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;coding&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;http://loinc.org&quot;</span><span class="p">,</span>
              <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;60591-5&quot;</span><span class="p">,</span>
              <span class="nt">&quot;display&quot;</span><span class="p">:</span> <span class="s2">&quot;Profilo sanitario sintetico&quot;</span>
            <span class="p">}</span>
          <span class="p">]</span>
        <span class="p">},</span>
        <span class="nt">&quot;subject&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;reference&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:uuid:561bbebe-4679-49e4-a572-eb2f39353524&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Patient Summary di: Duck [Donald]&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;fullUrl&quot;</span><span class="p">:</span> <span class="s2">&quot;Patient/54&quot;</span><span class="p">,</span>
      <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Patient&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;54&quot;</span><span class="p">,</span>
        <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;generated&quot;</span><span class="p">,</span>
          <span class="nt">&quot;div&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;div class=\&quot;hapiHeaderText\&quot;&gt;Donald &lt;b&gt;DUCK &lt;/b&gt;&lt;/div&gt;&lt;table class=\&quot;hapiPropertyTable\&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;Identifier&lt;/td&gt;&lt;td&gt;DNDDCKABCDEFG&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;identifier&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;coding&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                  <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;http://terminology.hl7.org/CodeSystem/v2-0203&quot;</span><span class="p">,</span>
                  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;TAX&quot;</span>
                <span class="p">}</span>
              <span class="p">]</span>
            <span class="p">},</span>
            <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;DNDDCKABCDEFG&quot;</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="nt">&quot;family&quot;</span><span class="p">:</span> <span class="s2">&quot;Duck&quot;</span><span class="p">,</span>
            <span class="nt">&quot;given&quot;</span><span class="p">:</span> <span class="p">[</span>
              <span class="s2">&quot;Donald&quot;</span>
            <span class="p">]</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;gender&quot;</span><span class="p">:</span> <span class="s2">&quot;male&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p>3) I'm running on hapi fhir server: version 4.1.0 - Rev 03163c2cf5, with embedded DB<br>
Thanks<br>
Alessio</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
