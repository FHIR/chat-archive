---
layout: page
title: "FHIR Chat  · rule drt-1 · test-validator"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/233901-test-validator/index.html">test-validator</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/233901-test-validator/topic/rule.20drt-1.html">rule drt-1</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="276447213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/233901-test-validator/topic/rule%20drt-1/near/276447213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ilia Kaplan <a href="https://fhir.github.io/chat-archive/stream/233901-test-validator/topic/rule.20drt-1.html#276447213">(Mar 24 2022 at 09:03)</a>:</h4>
<p>Hi there !<br>
<a href="/user_uploads/10155/21AhZKc_bTUUJ9YPR9UnNzut/drt-1.xml">drt-1.xml</a></p>
<p>I'm trying to validate the attached observation file . Both Java validator and hapi server (<a href="https://hapi.fhir.org/baseR4/Observation/$validate">https://hapi.fhir.org/baseR4/Observation/$validate</a>)<br>
state about 2 violated rules : drt-1 and qty-3 when examining Observation.effective.ofType(Timing).repeat.bounds.ofType(Duration).</p>
<p><strong>drt-1 rule</strong> dictates "There SHALL be a code if there is a value and it SHALL be an expression of time.  If system is present, it SHALL be UCUM"<br>
My boundsDuration look as below , and as I understand it doesn't violates what the rule dictates. however Java validator and hapi server consider it as violation . What I'm missing here ?<br>
&lt;effectiveTiming&gt;<br>
        &lt;repeat&gt;<br>
            &lt;boundsDuration&gt;<br>
                &lt;value value="10"/&gt;<br>
                &lt;unit value="day"/&gt;<br>
                &lt;code value="d"/&gt;<br>
            &lt;/boundsDuration&gt;<br>
        &lt;/repeat&gt;<br>
    &lt;/effectiveTiming&gt;</p>
<p><strong>qty-3 rule</strong><br>
According to observation.sch  (schematron definition for observation )  qty-3 rule is not defined on  effectiveTiming/f:repeat/f:boundsDuration at all . So how come the rule is violated ?</p>
<p>I would appreciate if you could enlighten me what I' missing here . <br>
Thanks , <br>
Ilia</p>



<a name="277068584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/233901-test-validator/topic/rule%20drt-1/near/277068584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/233901-test-validator/topic/rule.20drt-1.html#277068584">(Mar 29 2022 at 21:45)</a>:</h4>
<p>this was discussed elsewhere, I believe?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
