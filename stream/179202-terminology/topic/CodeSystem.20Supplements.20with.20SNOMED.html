---
layout: page
title: "FHIR Chat  · CodeSystem Supplements with SNOMED · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html">CodeSystem Supplements with SNOMED</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204924844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204924844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204924844">(Jul 24 2020 at 14:48)</a>:</h4>
<p>I'm trying to create some CodeSystem supplements to add some properties to certain SNOMED concepts. So far, I don't seem to be able to get this to work (using OntoServer)</p>
<p>So a few questions:</p>
<ul>
<li>Should CodeSystem supplement work with SNOMED ?</li>
<li>Would the CodeSystem to supplement be "<a href="http://snomed.info/sct">http://snomed.info/sct</a>", or would it need a full canonical URL (including version)?</li>
<li>If yes to the above, what does that look like for SNOMED?</li>
</ul>
<p>thanks</p>



<a name="204952046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204952046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204952046">(Jul 24 2020 at 18:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> Thoughts? <br>
Interesting question regarding what to put into the version identifier. I'm not sure... WRT, the canonical url I would think that it would be the standard SCT url. This once again highlights that for terminology artifacts the canonical url is not sufficient to identify the artifact. For code systems it seems you need to look at version <strong>and</strong> codesystem.content to understand what you are looking at. And even then, how can you tell the various supplements from each other based on elements you can reliably find? <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191405">@Rob Hausam</span></p>



<a name="204963782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204963782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204963782">(Jul 24 2020 at 20:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191503">@Robert McClure</span> I don't understand your comments.</p>



<a name="204964337"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204964337" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204964337">(Jul 24 2020 at 20:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191362">@Richard Kavanagh</span> </p>
<ul>
<li>in principle a  code system supplement should work with SNOMED but it's up to the system whether it supports that. <a href="http://tx.fhir.org">tx.fhir.org</a> doesn't - I don't (yet?) allow supplements for code systems not defined using a code system resource</li>
<li>the codesystem to supplement is a canonical URL. So the URL is <a href="http://snomed.info/sct">http://snomed.info/sct</a>. </li>
<li>if you want a version specific supplement, then you'd use the canonical URL version form: <a href="http://snomed.info/sct|[ver]">http://snomed.info/sct|[ver]</a> where [ver] is a full URL of an edition or an edition/version, as specified in the snomed page</li>
</ul>
<p>so:</p>
<div class="codehilite"><pre><span></span><code> <span class="s2">&quot;supplements&quot;</span> <span class="err">:</span> <span class="s2">&quot;http://snomed.info/sct|http://snomed.info/sct/999000021000000109/version/20200731&quot;</span><span class="err">,</span>
</code></pre></div>



<a name="204969714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204969714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204969714">(Jul 24 2020 at 21:38)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  I'll see what the CSIRO folk have to say next week. I tried various options on CodeSystem.supplements including the options you suggested. So either I'm doing something wrong (possible <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> ) or OntoServer does not support this for SNOMED.</p>



<a name="204969817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204969817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204969817">(Jul 24 2020 at 21:40)</a>:</h4>
<p>probably the second. Part of my rationale for not supporting it is that I expect snomed supplements to be distributed in RF2. (not that I support that either right now <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span>). But it's certainly not wrong to do what you're trying to do</p>



<a name="204971730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204971730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204971730">(Jul 24 2020 at 22:08)</a>:</h4>
<p>Ontoserver 6 does support supplements (even for SNOMED and LOINC), but currently requires you to specify the version, as per the syntax Grahame shows above.</p>



<a name="204972223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972223">(Jul 24 2020 at 22:15)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191343">@Michael Lawley</span>  clearly I am doing something wrong then.</p>



<a name="204972355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972355">(Jul 24 2020 at 22:16)</a>:</h4>
<p>Great news that it supports it though.</p>



<a name="204972465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972465">(Jul 24 2020 at 22:18)</a>:</h4>
<p>You also need to use <a href="https://www.hl7.org/fhir/extension-valueset-supplement.html">https://www.hl7.org/fhir/extension-valueset-supplement.html</a> in your ValueSet so that Ontoserver knows that it should use the supplement</p>



<a name="204972499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972499">(Jul 24 2020 at 22:19)</a>:</h4>
<p>you should be able to also ask for that in the expansion/validation parameters, and languages should be picked up automatically if you specify the right language</p>



<a name="204972655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972655">(Jul 24 2020 at 22:21)</a>:</h4>
<p>What is the parameter to <code>$expand</code> for this?</p>



<a name="204972697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972697">(Jul 24 2020 at 22:22)</a>:</h4>
<p>So a general question re the supplements then. I have a need to add some properties to various SNOMED concepts. TO do this I am doing the following</p>
<ul>
<li>Create several VS with ECL expressions</li>
<li>Expanding each VS to get the concepts</li>
<li>For each expanded VS then create a CodeSystem supplement, listing each concept code from the previous step</li>
</ul>
<p>It seems slightly long-winded but as you cant use ECL in the definition of the supplement I'm not seeing a quicker way</p>



<a name="204972703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972703">(Jul 24 2020 at 22:22)</a>:</h4>
<p>I don't think we've defined one yet</p>



<a name="204972852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972852">(Jul 24 2020 at 22:24)</a>:</h4>
<p>Are you trying to add a property(ies) to each concept that matches some ECL?<br>
Supplements really are just a static list if concepts with their additional properties / designations; there's no mechanism to do "rule-based" things</p>



<a name="204972863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972863">(Jul 24 2020 at 22:24)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191343">Michael Lawley</span> <a href="#narrow/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED/near/204972465">said</a>:</p>
<blockquote>
<p>You also need to use <a href="https://www.hl7.org/fhir/extension-valueset-supplement.html">https://www.hl7.org/fhir/extension-valueset-supplement.html</a> in your ValueSet so that Ontoserver knows that it should use the supplement</p>
</blockquote>
<p>Ah - that's thrown me. I clearly misunderstand how the supplements are designed to work. I thought that if I created a supplement that added a property, then did a codesystem $lookup on the concept I would see the property.</p>



<a name="204972881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972881">(Jul 24 2020 at 22:25)</a>:</h4>
<p>I think that's true, yes</p>



<a name="204972941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204972941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204972941">(Jul 24 2020 at 22:26)</a>:</h4>
<p>The problem with that is then every supplement would compete/combine with every other supplement</p>



<a name="204973004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204973004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204973004">(Jul 24 2020 at 22:27)</a>:</h4>
<p>why is that a problem?</p>



<a name="204973007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204973007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204973007">(Jul 24 2020 at 22:27)</a>:</h4>
<p>for $lookup specifically?</p>



<a name="204973189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204973189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204973189">(Jul 24 2020 at 22:30)</a>:</h4>
<p>probably not so bad for $lookup, but you would probably also want to know which properties came from which supplements, and I can see it sewing confusion when $lookup says something about a property but then a ValueSet doesn't match because the appropriate supplement isn't in scope.</p>



<a name="204973207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204973207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204973207">(Jul 24 2020 at 22:30)</a>:</h4>
<p>agree that the supplement source of a property should be clear</p>



<a name="204973421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204973421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204973421">(Jul 24 2020 at 22:34)</a>:</h4>
<p>Until there's more experience with using them, requirements, use cases, etc we've gone for a (conservative) approach of requiring an explicit signal to bring a supplement into scope.</p>



<a name="204973633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204973633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204973633">(Jul 24 2020 at 22:38)</a>:</h4>
<p>An individual CodeSystem resource can only have one Content Mode. My questions is that if a $lookup request is made in relation to a resource whose Content Mode is 'supplement' what properties should be available - just the supplementary ones, or the default properties for other Content Modes as well?</p>



<a name="204973830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204973830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204973830">(Jul 24 2020 at 22:42)</a>:</h4>
<p>what's the explicit signal for a look up? (that's why it should be automatic for that operation - unlike value set operations)</p>



<a name="204973846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204973846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204973846">(Jul 24 2020 at 22:42)</a>:</h4>
<p>we haven't talked about what it means to do a look up against the supplement itself</p>



<a name="204973850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204973850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204973850">(Jul 24 2020 at 22:42)</a>:</h4>
<p>You're not allowed to use the supplement's URI as the value for system, and instance-based <code>$lookup</code> is not defined, so I don't think you can legally do a lookup agains a supplement directly</p>



<a name="204973961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204973961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204973961">(Jul 24 2020 at 22:44)</a>:</h4>
<p>There is no explicit signal for $lookup, but if we had a parameter for $expand to indicate the supplements to use, then we could also use that for $lookup</p>



<a name="204974207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204974207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204974207">(Jul 24 2020 at 22:48)</a>:</h4>
<p>Well that's scuppered my plans <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span>  <span class="user-mention" data-user-id="191343">@Michael Lawley</span>  perhaps I could drop you a note next week to say what we are trying to achieve and you can let us know whether OntoServer can do it. If not time to rustle up a plan B..</p>



<a name="204974236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/204974236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#204974236">(Jul 24 2020 at 22:49)</a>:</h4>
<p>absolutely</p>



<a name="205014106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205014106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205014106">(Jul 25 2020 at 17:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> My point aligns with the questions you all noted below: How can you tell supplements from each other? What is the unique element that allows you to say "use this supplement"? In part because I assumed that you would need to specify when a supplement is to be used for an expansion, and for a lookup. So you'd need to identify the specific supplement when asking to do anything with the code system - expansion, lookup, etc. I think assuming that a TS would always use every available supplement (how about fragments?) with every use of a code system would be very confusing to receivers.</p>



<a name="205073527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205073527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205073527">(Jul 27 2020 at 00:27)</a>:</h4>
<p>Supplements have a unique URI, so that (or the canonical including version) can be used to identify them.<br>
For us, it is the use of <a href="http://hl7.org/fhir/StructureDefinition/valueset-supplement">http://hl7.org/fhir/StructureDefinition/valueset-supplement</a> that allows them to be brought into scope, but this means that the operation requires a ValueSet, so pure CodeSystem operations are not able to make use of supplement content.</p>



<a name="205244215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205244215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205244215">(Jul 28 2020 at 14:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> &amp; <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  Big head-slap for me as I forgot the specifics noted in the <a href="https://www.hl7.org/fhir/codesystem.html#supplements">supplement spec</a>. Now that I'm back on the bus, seems we need to allow all code system uses and operations to incorporate specified supplements. Perhaps this means that we can declare "a version" of the code system that includes specific supplements and then refer to that versioned code system for use "in all things." I understand that is not how the value set extension was envisioned, but perhaps we could consider a more global use of cs supplements.  Is there any sense to this? If not, how do we more globally make use of cs supplements?</p>



<a name="205297174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205297174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205297174">(Jul 28 2020 at 22:15)</a>:</h4>
<p>well, I'm not sure. Here's where I think we are:</p>
<ul>
<li>language specific code system supplements - actually, displays defined in supplements for different languages - are automatically in scope of the appropriate language is requested</li>
<li>for value set operations ($expand, $validate-code) properties defined in supplements are only in scope if the value set says that they are</li>
</ul>
<p>What we haven't agreed to:</p>
<ul>
<li>what happens for code system operations ($lookup, $validate-code, $subsumes)</li>
<li>what happens for the concept map operation $translate</li>
</ul>



<a name="205297736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205297736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205297736">(Jul 28 2020 at 22:22)</a>:</h4>
<p>I think that a linear extrapolation of previous committee deliberations would be:</p>
<p>$validate-code: displays from supplements are automatically in scope based on the language of  context. properties from supplements are only in scope if they are explicitly referenced (I think that properties are only relevant for the evalution of the <code>abstract</code> parameter)</p>
<p>$subsumes: properties for supplements are only relevant when supplements are explicitly referenced. (Actually, I think we haven't discussed whether supplements can define is-a / parent / child relationships; I think they should be able to to, but I can see that being controversial since you could certainly do some bad things doing that, as well as doing good things)</p>
<p>$translate: given the looseness of this operation, we should allow server discretion for whether to consider supplements. This certainly matters since a key use of supplements is to serve the $translate operation</p>
<p>$lookup: I don't come to clear answer by extrapolating on this one. I think that it would be one of:</p>
<ul>
<li>properties and displays from supplements are only includes if they are explicitly referenced </li>
<li>properties and displays from supplements are automatically included by clearly labelled with their supplement source </li>
</ul>
<p>I prefer the second approach, on this one</p>



<a name="205297775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205297775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205297775">(Jul 28 2020 at 22:22)</a>:</h4>
<p>I'm open to the idea that we could define a 'version' but I suspect it makes a mess of how versions work?</p>



<a name="205299851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205299851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205299851">(Jul 28 2020 at 22:46)</a>:</h4>
<p>I think I'm generally in agreement.  Can you restate (or revise) the second bullet for $lookup (it's not particularly clear as is)?</p>
<blockquote>
<p>properties and displays from supplements are automatically included by clearly labelled with their supplement source</p>
</blockquote>
<p>Maybe this is also something we should have some discussion on during the Tracker call on Thursday this week so we can get something ready for voting on the Main call.</p>



<a name="205301026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205301026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205301026">(Jul 28 2020 at 23:02)</a>:</h4>
<blockquote>
<p>$translate: given the looseness of this operation, we should allow server discretion for whether to consider supplements. This certainly matters since a key use of supplements is to serve the $translate operation</p>
</blockquote>
<p>Can you elaborate?  <code>$translate</code> is basically a table lookup operation so I don't quite follow how supplements are relevant.</p>



<a name="205304060"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205304060" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205304060">(Jul 28 2020 at 23:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> </p>
<blockquote>
<p>properties and displays from supplements are automatically included and clearly labelled with their supplement source using a sub-property</p>
</blockquote>



<a name="205304127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205304127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205304127">(Jul 28 2020 at 23:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> </p>
<p>I supplement may define properties with type Coding, which are effectively translations to other code systems, and a server could choose to include these in scope when it does the $translate operation</p>



<a name="205304131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205304131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205304131">(Jul 28 2020 at 23:46)</a>:</h4>
<p>the base code system can do this too</p>



<a name="205304147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205304147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205304147">(Jul 28 2020 at 23:47)</a>:</h4>
<blockquote>
<p>$translate is basically a table lookup </p>
</blockquote>
<p>I don't think that is true based on the definition in the specification</p>



<a name="205311835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205311835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205311835">(Jul 29 2020 at 02:19)</a>:</h4>
<p>What CodeSystem properties define implicit maps?</p>



<a name="205311971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205311971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205311971">(Jul 29 2020 at 02:21)</a>:</h4>
<blockquote>
<p>table lookup<br>
depends gives you a multi-valued key for the lookup, unmapped is the complexity (where you need to look at the internal group-structure of the map).  What parts of the spec are you considering?</p>
</blockquote>



<a name="205314253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205314253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205314253">(Jul 29 2020 at 03:10)</a>:</h4>
<p>There's no standard code system properties that define maps, but properties of code systems frequently do define maps. That's why. for $translate, we don't say how it's done or mandate it, but we don't prohibit it</p>



<a name="205314270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205314270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205314270">(Jul 29 2020 at 03:11)</a>:</h4>
<p>What parts of the spec are you considering?</p>
<blockquote>
<p>Translate a code from one value set to another, based on the existing value set and concept maps resources, and/or <em>other additional knowledge available to the server</em></p>
</blockquote>



<a name="205383572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205383572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205383572">(Jul 29 2020 at 16:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I see through your suggestions you assume the operations can work "when supplements are explicitly referenced" and I'm not sufficiently technical to comment on how hard that will be, if all users can determine what they need to reference, and that servers can respond clearly identifying what was used. I'll leave others to comment on this, but for me simply addressing this, I <em>do</em> think we should discuss that a version of the code system could be used to specify what collection of supplements is included. Seems to me this is very similar to what we already do with SNOMED CT. Granted <em>SNOMED</em> manages that complexity, we don't, but perhaps we can support it by crafting an extension that clarifies the dependent supplements. Granted it's new work so only useful if the other approaches you've noted are too hard.</p>



<a name="205405431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205405431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205405431">(Jul 29 2020 at 19:54)</a>:</h4>
<p>Code systems generally won't know about their supplements.  In many cases, they won't even <em>want</em> supplements to exist.  (However they <em>will</em> exist because the code system publisher also won't want to add the properties, relationships and alternate designations desired.)  Supplements should be (and can be) referenced by the value sets that rely on them.  And that's generally the only place they need to be.</p>



<a name="205406632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205406632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205406632">(Jul 29 2020 at 20:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191503">@Robert McClure</span> I think that the key difference between what happens with snomed and supplements is that the snomed versioning system applies to fragments of the official snomed space, not to supplements. And I think that makes a real difference</p>



<a name="205425938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205425938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205425938">(Jul 29 2020 at 23:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> I'm not sure how your comments wrt only value sets use supplements squares with the issues of needing code system operations on supplement content, as noted in the thread above.</p>



<a name="205434603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205434603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205434603">(Jul 30 2020 at 02:06)</a>:</h4>
<p>If you were calling $lookup and wanted properties included from a supplement, you'd have to list the relevant supplements as an argument to the call.  You can't expect the referencing code system to know about any of them.  You could, perhaps, use a shortcut that simply says "use all supplements associated with the code system that the terminology service is aware of".</p>



<a name="205436070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205436070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205436070">(Jul 30 2020 at 02:33)</a>:</h4>
<p>there's every reason to expect that the server is aware of them</p>



<a name="205438703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205438703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205438703">(Jul 30 2020 at 03:35)</a>:</h4>
<p>The server can be (though different servers may vary in what they have stored locally).  The Code system won't be aware.</p>



<a name="205532680"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205532680" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205532680">(Jul 30 2020 at 21:06)</a>:</h4>
<p>For <code>CodeSystem/$lookup</code> we either need to</p>
<ol>
<li>add an extra parameter for explicitly mentioning additional supplements to use,</li>
<li>automatically include all known (to the server) supplements for the code system, or</li>
<li>relax the restriction on the supplement's URI being used as the system parameter.</li>
</ol>
<p>These are not (all) mutually exclusive options.</p>
<p>In any case, it would be very useful to have a sanctioned, consistent, and clear mechanism for including supplement-sourced properties in the <code>$lookup</code> result so that the client can determine the provenance of the additional values.  This should probably also work for supplemented designations.</p>



<a name="205534916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205534916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205534916">(Jul 30 2020 at 21:29)</a>:</h4>
<p>do we have a task for that?</p>



<a name="205535635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20Supplements%20with%20SNOMED/near/205535635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20Supplements.20with.20SNOMED.html#205535635">(Jul 30 2020 at 21:38)</a>:</h4>
<p>We do now - <a href="http://jira.hl7.org/browse/FHIR-28172">J#28172</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
