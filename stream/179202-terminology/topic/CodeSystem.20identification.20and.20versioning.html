---
layout: page
title: "FHIR Chat  · CodeSystem identification and versioning · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html">CodeSystem identification and versioning</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="256712177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/256712177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vitaly Rodionov <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#256712177">(Oct 08 2021 at 09:26)</a>:</h4>
<p>Hello!</p>
<p>What are the best practices for CodeSystem versioning?<br>
More specificaly that are the rules for identification of different versions of a codesystem?</p>
<p>CodeSystem has these attributes for identification and versioning:</p>
<div class="codehilite"><pre><span></span><code>id          Logical id of this artifact
url         Canonical identifier for this code system, represented as a URI (globally unique) (Coding.system)
identifier  Identifier  Additional identifier for the code system (business identifier)
version     Business version of the code system (Coding.version)
</code></pre></div>
<p>That of these should stay the same and that of these should acquire new values then the codesystem is getting a new version?</p>
<p>For example: <br>
<code>URL</code>   should be "globally unique", but is it for the codesystem or for the codesystem version?<br>
The same goes for <code>identifier</code> - is it a "business identifier" for the codesystem or for the codesystem version?</p>
<p>I found some inconsistency in identification and versioning of standard codesystems published in the FHIR-specification.<br>
Some examples:<br>
<strong>Here url and id are the same between versions but oid is different.</strong></p>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;FHIR-version&quot;,
  &quot;url&quot; : &quot;http://hl7.org/fhir/FHIR-version&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:2.16.840.1.113883.4.642.4.1310&quot;
  }],
  &quot;version&quot; : &quot;4.0.1&quot;
</code></pre></div>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;FHIR-version&quot;,
  &quot;url&quot; : &quot;http://hl7.org/fhir/FHIR-version&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:2.16.840.1.113883.4.642.1.1310&quot;
  }],
  &quot;version&quot; : &quot;4.6.0&quot;
</code></pre></div>
<p><strong>Here url, id, oid are different but version is the same despite it's clearly a new version of the codesystem.</strong></p>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;v2-2.4-0006&quot;,
  &quot;url&quot; : &quot;http://terminology.hl7.org/CodeSystem/v2-0006|2.4&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:2.16.840.1.113883.18.8&quot;
  }],
  &quot;version&quot; : &quot;0006&quot;,
  &quot;name&quot; : &quot;v2.0006.2.4&quot;,
  &quot;title&quot; : &quot;v2 table 0006, Version 2.4&quot;,
</code></pre></div>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;v2-2.1-0006&quot;,
  &quot;url&quot; : &quot;http://terminology.hl7.org/CodeSystem/v2-0006|2.1&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:2.16.840.1.113883.18.7&quot;
  }],
  &quot;version&quot; : &quot;0006&quot;,
  &quot;name&quot; : &quot;v2.0006.2.1&quot;,
  &quot;title&quot; : &quot;v2 table 0006, Version 2.1&quot;,
</code></pre></div>
<hr>
<p><strong>So what is the correst way to identify and version codesystem?</strong><br>
For example we have two versions of some codesystem:<br>
<a href="https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040/version/1.0">https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040/version/1.0</a><br>
<a href="https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040/version/2.1">https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040/version/2.1</a><br>
(the requerment is to store both versions of the codesystem on the same fhir-server)</p>
<p>Some posible variants of describing these as a fhir-resource are:</p>
<p><strong>(1) id, url, version - different, oid - same</strong></p>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;1040-v-1-0&quot;,
  &quot;url&quot; : &quot;https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040/version/1.0&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:1.2.643.5.1.13.13.11.1040&quot;
  }],
  &quot;version&quot; : &quot;1.0&quot;
</code></pre></div>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;1040-v-2-1&quot;,
  &quot;url&quot; : &quot;https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040/version/2.1&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:1.2.643.5.1.13.13.11.1040&quot;
  }],
  &quot;version&quot; : &quot;2.1&quot;
</code></pre></div>
<p><strong>(2) id, url, oid, version - all different</strong></p>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;1040-v-1-0&quot;,
  &quot;url&quot; : &quot;https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040/version/1.0&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:1.2.643.5.1.13.13.11.1040.1.0&quot;
  }],
  &quot;version&quot; : &quot;1.0&quot;
</code></pre></div>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;1040-v-2-1&quot;,
  &quot;url&quot; : &quot;https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040/version/2.1&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:1.2.643.5.1.13.13.11.1040.2.1&quot;
  }],
  &quot;version&quot; : &quot;2.1&quot;
</code></pre></div>
<p><strong>(3) only version is different (this variant will probably work only with replacement of codesystem?)</strong></p>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;1040&quot;,
  &quot;url&quot; : &quot;https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:1.2.643.5.1.13.13.11.1040&quot;
  }],
  &quot;version&quot; : &quot;1.0&quot;
</code></pre></div>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;1040&quot;,
  &quot;url&quot; : &quot;https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:1.2.643.5.1.13.13.11.1040&quot;
  }],
  &quot;version&quot; : &quot;2.1&quot;
</code></pre></div>



<a name="256737330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/256737330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#256737330">(Oct 08 2021 at 13:13)</a>:</h4>
<p>The combination of url + version are expected to be unique on a given server.  identifier generally corresponds to url, though it's not prohibited for it to include version as well.  The id is server-assigned and SHALL be unique on a given server.  It doesn't need to have any correlation to the others.</p>
<p>There are no specific rules about when to create a new 'version' (aka 'release') of a code system, nor are there global rules about what changes can be made to a code system before it's necessary to call it a distinct code system.  (FHIR has preliminary rules for its own code systems, which is essentially "anything goes until the code system is normative, after that 'inter-version compatibility rules apply'".</p>



<a name="256741608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/256741608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vitaly Rodionov <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#256741608">(Oct 08 2021 at 13:45)</a>:</h4>
<p>Thank you. That makes the situation a little bit clearer.</p>
<p>So, basicaly, 'url' doesn't have to be "globally unique" and there can be several codesystems with the same 'url' as long as they all have different version values, right?</p>
<p>Does that mean that for my example we can have the following codesystem resources on a server: </p>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;1040-v-1-0&quot;,
  &quot;url&quot; : &quot;https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:1.2.643.5.1.13.13.11.1040&quot;
  }],
  &quot;version&quot; : &quot;1.0&quot;
</code></pre></div>
<div class="codehilite"><pre><span></span><code>  &quot;id&quot; : &quot;1040-v-2-1&quot;,
  &quot;url&quot; : &quot;https://nsi.rosminzdrav.ru/#!/refbook/1.2.643.5.1.13.13.11.1040&quot;,
  &quot;identifier&quot; : [{
    &quot;system&quot; : &quot;urn:ietf:rfc:3986&quot;,
    &quot;value&quot; : &quot;urn:oid:1.2.643.5.1.13.13.11.1040&quot;
  }],
  &quot;version&quot; : &quot;2.1&quot;
</code></pre></div>
<p>They have different <code>id</code> and combination of <code>url</code>+<code>version</code> is also unique.<br>
Is that correct?</p>



<a name="256756983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/256756983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#256756983">(Oct 08 2021 at 15:27)</a>:</h4>
<p>We worked out some rules for when to create a new code system version vs. creating a new code system in the "V2 Tables" project that the Vocabulary WG did a while ago.  As Lloyd suggests, it wouldn't necessarily to required for anyone to follow those same rules, but I think they generally should be useful and could certainly serve as a guide.  Now I'll just need to recall or find where we have them documented. :)</p>



<a name="256768668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/256768668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#256768668">(Oct 08 2021 at 16:45)</a>:</h4>
<p><span class="user-mention" data-user-id="438858">@Vitaly Rodionov</span> Yes, that's completely legal.  The gist is that with "conformance" resources - those that have a 'url' and 'version' element, there could be multiple versions under active maintenance, and so we need to support multiple instances with the same url (so long as they have distinct versions).</p>



<a name="257227024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/257227024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#257227024">(Oct 12 2021 at 16:00)</a>:</h4>
<p>Agree with Lloyd, and also the issue regarding when is it a version versus a new code system is in part tied to meaning permanence for the concepts in the code system, IE: you are expected to have meaning consistency version to version for any concepts with the same code identifier across the versions. If you need to break that rule, you have a new code system, not a new version.</p>



<a name="257254894"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/257254894" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#257254894">(Oct 12 2021 at 19:02)</a>:</h4>
<p>Yes, that's the primary rule.</p>



<a name="268762168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/268762168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bill Harty <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#268762168">(Jan 20 2022 at 21:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> Above you reference some rules/guidance for new version vs. new code system in the "V2 Tables".  Can you point me at that, or anything similar?  We're working on additions/modifications to BlueButton valuesets and looking for guidance in terms of versioning.</p>



<a name="268914820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/268914820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#268914820">(Jan 21 2022 at 22:58)</a>:</h4>
<p><span class="user-mention" data-user-id="192646">@Bill Harty</span> Hi, Bill.  Sorry it's taken me a little while to respond (now that the WGM has ended).  I'll have to see if I can track down our documentation on this.  The "V2 tables" project work was done before all of our documentation in GForge was archived and should have been moved to Confluence, but I'm not sure where that ended up (or if we have something else that would cover it, too).  I didn't find anything yet on a (admittedly rather quick) search.  Maybe <span class="user-mention" data-user-id="191982">@Ted Klein</span> will recall?</p>



<a name="268916400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/268916400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#268916400">(Jan 21 2022 at 23:15)</a>:</h4>
<p><span class="user-mention" data-user-id="192646">@Bill Harty</span> Are you referring to the concept codes holding the metadata for Version 2 tables objects carried in the THO code system "v2tables.xml", or are you talking about the versions of the code systems that were created to hold the HL7 defined coded values shown in the v2 publication Chapter 2C for Version 2 tables?</p>



<a name="268919608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/268919608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#268919608">(Jan 21 2022 at 23:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191982">@Ted Klein</span> Ted, I think Bill is looking for the set of rules that we used to decide when to create a new code system vs. a new version of an existing code system.  We documented that for the "v2 tables" project, so I was suggesting to look there.  But we may have that (or the equivalent) somewhere else, too?</p>



<a name="268922829"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/268922829" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ted Klein <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#268922829">(Jan 22 2022 at 00:29)</a>:</h4>
<p>Yes that was all on the old wiki for the project; it predated the use of the Atlassian tools at HL7.   I don't now if that stuff was archived or saved or not.    It should have been...but that might be in hindsight now.    The basic rule was as per Jim Case: additions of new codes or changes to descriptions or display names were version updates.   Removal or wholesale changes in codes were a new code system.  That was not done all that many times.</p>



<a name="269197381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/269197381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bill Harty <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#269197381">(Jan 25 2022 at 01:39)</a>:</h4>
<p>This is helpful, thanks for the info - that seems to line up with comments earlier in this thread.  Regarding version changes (e.g. additions, description changes), is there guidance on how to populate a coding element to reflect version?  One option would be to keep coding.system static and populate coding.version to correctly reflect the version e.g. coding.system = "<a href="http://acme.org/valueset/xyz">http://acme.org/valueset/xyz</a>" and coding.version = "2.0".  But we've had internal discussions about embedding version in the url e.g. coding.system = "<a href="http://acme.org/valueset/xyz/v2">http://acme.org/valueset/xyz/v2</a>".  But in reality it seems that neither of those options are commonplace  in the field.  Seems like most implementers don't provide any version identifiers in a coding, maybe because version changes are generally non-breaking/backwards compatible, so it's not critical to  worry about it? Thanks again for any thoughts/guidance.</p>



<a name="269293933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/CodeSystem%20identification%20and%20versioning/near/269293933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/CodeSystem.20identification.20and.20versioning.html#269293933">(Jan 25 2022 at 17:41)</a>:</h4>
<p><span class="user-mention" data-user-id="192646">@Bill Harty</span> I think that, when you actually need it, Coding.version is the "right" (or at least likely the best) answer.  But, as you say, many times it really isn't needed, if the code system is "well-behaved" in regard to concept identifiers and definitions.  It's discussed <a href="http://build.fhir.org/datatypes-definitions.html#Coding.version">here</a> for the Coding data type.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
