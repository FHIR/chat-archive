---
layout: page
title: "FHIR Chat  · Dealing with value sets with an intrinsic ordering · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html">Dealing with value sets with an intrinsic ordering</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="208334263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208334263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208334263">(Aug 28 2020 at 12:10)</a>:</h4>
<p>We are planning to use the value set  given by <a href="https://loinc.org/LL2335-9/">LOINC LL2335-9 (Numeric rating scale from 0-10 / Score of 0-10)</a>  for collecting questionnaire answers about reported pain levels (cf.  <a href="https://loinc.org/72514-3/">LOINC 72514-3 (Pain severity - 0-10 verbal numeric rating [Score] - Reported)</a> for which it is the associated answer set). This gives a nice standard encoding, but on the client side it leads to some added complexity. Specifically, is hard to tell that a code from this set actually represents a number that can e.g. be mapped to a 0-10 scale for display. </p>
<p>Does anyone have experience with/general advice on working with such "crypto-numeric" value sets and communicating their numeric nature? Specifically, here are the questions I am wondering about (apologies for the vagueness, my own thoughts on this are still nebulous!):</p>
<ol>
<li>Now that the suitable codes are available, my instinct was to use them. But are there good arguments for simply making the answer type for the relevant questions "integer" even if the LOINC code for the questions (say,  LOINC 72514-3) has LL2335-9 as the official set of answers?</li>
<li>For now, we are looking at using the <a href="http://hl7.org/fhir/R4/extension-questionnaire-itemcontrol.html">questionnaire-itemcontrol</a> to signal that the answer from a particular choice-type question should be rendered by a UI item that understands the numeric nature (including the ordering of codes).  But that pushes all the logic to the client. Are there other approaches to making the ordering this more explicit in the resources, e.g. by using the Questionnaire maxValue/minValue extensions (or maybe an extension on ValueSet)? Or using the ordering of the codes in the value set expansion? (If I read it right, the spec states that <a href="http://hl7.org/fhir/R4/valueset.html#expansion">the list of codes in a value set expansion is actually considered ordered</a>: "Note that the expansion structure is inherently ordered; this specification does not fix the meaning of use of the order. ")</li>
</ol>



<a name="208339726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208339726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208339726">(Aug 28 2020 at 13:09)</a>:</h4>
<p><span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span> I think you are looking for the <a href="http://build.fhir.org/extension-ordinalvalue.html">ordinal value</a> extension?  You can use it in CodeSystem.concept and ValueSet.compose.include.concept (as well as Coding and Questionnaire.item.answerOption, if needed).  I'm not sure that there is any way to use it (or anything else) to order the codes in a value set expansion (I haven't really explored that), but it seems that it could help with a lot of what you want.</p>



<a name="208391217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208391217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208391217">(Aug 28 2020 at 20:25)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> ah, excellent, I'd missed that! - that would indeed cover some important parts of our use case. But is there any way to use this with a pre-defined value set like LOINC LL2335-9  (0-10 scale) that does not contain the extension out of the box? E.g. is there something similar to how code system supplements allows supplying translations for existing code systems?</p>



<a name="208392638"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208392638" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208392638">(Aug 28 2020 at 20:39)</a>:</h4>
<p>When you say "pre-defined value set", do you mean in this case the values of the LOINC answer list?  Or are you referring to a particular ValueSet resource instance (e.g. from <a href="http://fhir.loinc.org">fhir.loinc.org</a>) that is defined based on that code list?  If it's the set of LOINC codes itself that you care about, could you not create a ValueSet resource instance yourself with a definition of that set of codes that also includes the ordinal value extension?</p>



<a name="208394033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208394033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208394033">(Aug 28 2020 at 20:54)</a>:</h4>
<p>You can start with the definition in 'compose' as here for <a href="https://fhir.loinc.org/ValueSet/LL2335-9">LL2335-9</a> and add the extension with the appropriate value for each repetition of 'concept'.</p>



<a name="208449276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208449276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208449276">(Aug 29 2020 at 19:13)</a>:</h4>
<p>Yes indeed, I was referring to the ValueSet with the canonical <a href="http://loinc.org/vs/LL2335-9">http://loinc.org/vs/LL2335-9</a> . I suppose I was under the impression than since this exists as a LOINC answers set with a canonical URL, it would  not be best practice to define an identical ValueSet (with a different canonical) that differs only by the presence of extensions. Hence, I was wondering if there would be some way to just "tack on" the extensions but keep the canonical URL. Or are "parallel value sets" not a problem?</p>



<a name="208451288"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208451288" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208451288">(Aug 29 2020 at 20:01)</a>:</h4>
<p>A value set is "a selection of concepts for use in a particular context".  So my take is that if, in your context of use, the ordinal value extension is needed and (to your knowledge) a value set with the needed codes and the extension hasn't already been defined, then it is perfectly legitimate to go ahead and create that value set and use it in your application.</p>



<a name="208486030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208486030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208486030">(Aug 30 2020 at 13:48)</a>:</h4>
<p>OK, perfect - thanks. <span class="user-mention" data-user-id="191405">@Rob Hausam</span>!</p>



<a name="208921756"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208921756" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208921756">(Sep 03 2020 at 05:13)</a>:</h4>
<p>I would think that such implicitly defined LOINC ValueSets should also include the ordinal extension?</p>



<a name="208922190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208922190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208922190">(Sep 03 2020 at 05:23)</a>:</h4>
<p>Last time I looked at LOINC answers in the distribution, the ordering was difficult (the same answer list could be ordered differently for different terms, IIRC). It's been a while, though</p>



<a name="208929171"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208929171" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208929171">(Sep 03 2020 at 07:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> Unfortunately, that does not seem to be case for the ValueSets served by the central LOINC server (which is where the answer set canonicals takes you). E.g it is not on the scale I mention, <a href="http://loinc.org/vs/LL2335-9">http://loinc.org/vs/LL2335-9</a> --&gt; resolves to <a href="https://fhir.loinc.org/ValueSet/LL2335-9">https://fhir.loinc.org/ValueSet/LL2335-9</a>.</p>



<a name="208959967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/208959967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#208959967">(Sep 03 2020 at 12:39)</a>:</h4>
<p>That's something that Regenstrief hasn't implemented for those value sets, but we can suggest to them that they should consider doing that.  <span class="user-mention" data-user-id="193853">@Swapna Abhyankar</span>?</p>



<a name="209048298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Dealing%20with%20value%20sets%20with%20an%20intrinsic%20ordering/near/209048298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Swapna Abhyankar <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Dealing.20with.20value.20sets.20with.20an.20intrinsic.20ordering.html#209048298">(Sep 04 2020 at 01:53)</a>:</h4>
<p>LOINC Answer lists include a sequence number for each of the answer strings in a particular list. The AnswerList .csv download file includes this field (see the AnswerFileReadme for the details), but it looks like it's not implemented in the FHIR TS, or at least not visibly so. Is it possible that it's implemented on the backend, which is why the answer strings show up in the correct order when you look at <a href="https://fhir.loinc.org/ValueSet/LL2335-9">https://fhir.loinc.org/ValueSet/LL2335-9</a>, but just not displayed? (Sorry, FHIR newbie here).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
