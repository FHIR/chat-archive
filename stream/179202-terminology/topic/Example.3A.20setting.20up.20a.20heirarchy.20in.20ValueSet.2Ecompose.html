---
layout: page
title: "FHIR Chat  · Example: setting up a heirarchy in ValueSet.compose · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html">Example: setting up a heirarchy in ValueSet.compose</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153970043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970043">(Jun 15 2018 at 01:33)</a>:</h4>
<p>ok, so I agreed to create an example on of a value set compose that sets up a heirarchy on today's vocab call. So here we go:</p>



<a name="153970044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970044">(Jun 15 2018 at 01:33)</a>:</h4>
<p>.. hmm .. to long for Zulip. All right, let's try this:</p>



<a name="153970045"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970045" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970045">(Jun 15 2018 at 01:34)</a>:</h4>
<p><a href="http://www.healthintersections.com.au/example-heirarchical-expand.xml" target="_blank" title="http://www.healthintersections.com.au/example-heirarchical-expand.xml">http://www.healthintersections.com.au/example-heirarchical-expand.xml</a></p>



<a name="153970046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970046">(Jun 15 2018 at 01:36)</a>:</h4>
<p>I tried to iterate all the possibilities - that makes this way more conceptually complicated than real world examples, I hope. I would not advocate some of the combinations I showed, but I could imagine them arising anyway</p>



<a name="153970047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970047">(Jun 15 2018 at 01:38)</a>:</h4>
<p>orientation: </p>
<ul>
<li>the base code system included has 4 root codes with 2-3 child codes each. 2 of the root codes are abstract</li>
<li>the value set includes some but not all of the codes. </li>
<li>when expanding from the UI, you want to reproduce some of the hierarchy from the code system, and introduce a purely arbitrary 'most common' grouping to be at the top </li>
<li>some of the hierarchy comes from codes that are not actually in the value set</li>
</ul>



<a name="153970048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970048">(Jun 15 2018 at 01:41)</a>:</h4>
<ul>
<li>the resulting UI expansion is included, as is the not-for-ui expansion (as a comment)</li>
</ul>



<a name="153970053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970053">(Jun 15 2018 at 04:17)</a>:</h4>
<p>If the CodeSystem has hierarchyMeaning=is-a, then must that semantics be preserved in the expansion hierarchy?<br>
More generally, would a ValueSet be allowed to set up hierarchy that did not respect the hierarchyMeaning, and if so, how would a client know this?</p>



<a name="153970054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970054">(Jun 15 2018 at 04:28)</a>:</h4>
<p>Structurally, the value set is allowed to set up any hierarchy it wants to. Whether that's a good idea or not very much depends... and particular authorities over code systems or value sets might want to say something about that. But I don't think it would be a good idea for us to say anything</p>



<a name="153970059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970059">(Jun 15 2018 at 05:08)</a>:</h4>
<p>I forgot to say: set up like this, this complex extension could become core elements in R5 if we converged on this approach in practice</p>



<a name="153970429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970429">(Jun 19 2018 at 11:17)</a>:</h4>
<p>.. no takers...</p>



<a name="153970687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970687">(Jun 20 2018 at 03:50)</a>:</h4>
<p>This might be more compelling to me if the compose used rules (filters) rather then being extensional.</p>



<a name="153970701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970701">(Jun 20 2018 at 09:19)</a>:</h4>
<p>that wasn't the use case. And I feel as though the heirarchy should be inferred in the intensional use case</p>



<a name="153970848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970848">(Jun 20 2018 at 18:08)</a>:</h4>
<p>I sat with Graham and got a quick look at what is inside the proposal and in short, I think it seems a good first step. But I need some of you more code-enabled to look and chime in.</p>



<a name="153970904"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153970904" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153970904">(Jun 21 2018 at 03:20)</a>:</h4>
<p>If it's only applicable to the extensional case, then why not specify it in the expansion itself? This wouldn't require any changes, except perhaps in terms of directing terminology servers that they should/might behave differently when a (full) expansion is explicitly provided.</p>



<a name="153971082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153971082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153971082">(Jun 22 2018 at 12:09)</a>:</h4>
<p>I don't understand this. This would essentially say ' there's no reason for extensional value sets'</p>



<a name="153971084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Example%3A%20setting%20up%20a%20heirarchy%20in%20ValueSet.compose/near/153971084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Example.3A.20setting.20up.20a.20heirarchy.20in.20ValueSet.2Ecompose.html#153971084">(Jun 22 2018 at 12:10)</a>:</h4>
<p>technically, btw, the solution would work in an intensional value set. It's just as comfortable as a cart without a wheel - but that's inherent in the problem to me</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
