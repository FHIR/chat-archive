---
layout: page
title: "FHIR Chat  · FHIR example validation using ATC coding system? · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html">FHIR example validation using ATC coding system?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="165984200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/165984200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#165984200">(May 18 2019 at 17:49)</a>:</h4>
<p>Has anyone tried this?  If so, can some attach an example or code snippet?   I'm working on creating and validating examples for a drug formulary IG and am specifying the ATC coding system (<a href="http://www.whocc.no/atc" target="_blank" title="http://www.whocc.no/atc">http://www.whocc.no/atc</a>) where the code is at the level of the therapeutic class and not the ingredient.  e.g.: "valueCodeableConcept": { "coding": [ {"code": "N02AA", "display": "Barbituates and derivatives"}]}.  When I try to validate this through the IG Publisher, I get a null pointer exception.  Naturally, if I remove the coding system, the error disappears.  I see this uri is supported in HL7 FHIR terminology systems list (<a href="https://www.hl7.org/fhir/terminologies-systems.html" target="_blank" title="https://www.hl7.org/fhir/terminologies-systems.html">https://www.hl7.org/fhir/terminologies-systems.html</a>).   Any thoughts or ideas on what to try?  Thanks!</p>



<a name="165984361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/165984361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#165984361">(May 18 2019 at 17:54)</a>:</h4>
<p>Can you post the full null pointer message?</p>



<a name="165987140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/165987140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#165987140">(May 18 2019 at 19:10)</a>:</h4>
<p>"Error null validating Coding: java.lang.NullPointerException"</p>



<a name="165987561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/165987561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#165987561">(May 18 2019 at 19:22)</a>:</h4>
<p>And the stack trace associated with that?</p>



<a name="165992701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/165992701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#165992701">(May 18 2019 at 21:50)</a>:</h4>
<p>this is on my todo list, but a full sample would be useful</p>



<a name="165996981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/165996981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#165996981">(May 19 2019 at 00:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> - see attached.  <a href="/user_uploads/10155/PdO5LDEb6vxt9ZVBVpX8dnwm/FormularyDrugV1001.json" target="_blank" title="FormularyDrugV1001.json">FormularyDrugV1001.json</a> This example has an extension with 2 drug classifications - the first one doesn't include system, the second one includes "system": "<a href="http://www.whocc.no/atc" target="_blank" title="http://www.whocc.no/atc">http://www.whocc.no/atc</a>".   <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> - sorry to ask a noob question but where would I find the stack trace output?   I usually look at an error log in an  output file called qa.html.</p>



<a name="165997041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/165997041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#165997041">(May 19 2019 at 00:04)</a>:</h4>
<p>If you were building your IG from the command line, what we want is all of the lines that describe the error.</p>



<a name="165997315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/165997315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#165997315">(May 19 2019 at 00:13)</a>:</h4>
<p>thanks.  Attached is a capture of my command line and subsequent output.  <a href="/user_uploads/10155/TB6GzEAeja-cmZgfMmSUBScp/usdf_IG_output_20190518.txt" target="_blank" title="usdf_IG_output_20190518.txt">usdf_IG_output_20190518.txt</a>  also cc'ing <span class="user-mention" data-user-id="191469">@Chris Moesel</span>  in case there's any extra logging that I can run to help provide you with more info.</p>



<a name="165998075"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/165998075" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#165998075">(May 19 2019 at 00:36)</a>:</h4>
<p>Thanks.  (For your knowledge, there wasn't actually a stack trace in the log</p>



<a name="166061411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/166061411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#166061411">(May 20 2019 at 06:52)</a>:</h4>
<p>so the validation works ok - can you clear the txcache for the IG and try again?</p>



<a name="166061420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/FHIR%20example%20validation%20using%20ATC%20coding%20system%3F/near/166061420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/FHIR.20example.20validation.20using.20ATC.20coding.20system.3F.html#166061420">(May 20 2019 at 06:52)</a>:</h4>
<p>if that's still a problem, can you share the source for the IG?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
