---
layout: page
title: "FHIR Chat  · Named closure tables, clashing names · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html">Named closure tables, clashing names</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="230245744"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/230245744" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#230245744">(Mar 14 2021 at 15:36)</a>:</h4>
<p>Generally in fhir when a client needs to create a resource on a server, the POST pattern is most widely supported because servers can manage resource IDs; this avoids issues where two different clients each want to create a <code>Patient/123</code> but mean different things by it.</p>
<p>I am just reading the definition for the <code>$closure</code> operation and it strikes me that this operation effectively creates (pseudo-resource-like) state on a server, where this state is identified entirely by a client supplied "name" parameter (also called "scope" elsewhere in the docs). It's always possible that different clients might try to manage their own closure tables while happening to assign the same name (e.g., "my-diabetes-codes"). I am guessing this has not been a problem in practice?</p>



<a name="230263892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/230263892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#230263892">(Mar 14 2021 at 19:52)</a>:</h4>
<p>Yes, interesting that the server maintains client state. I'm not sure how widely this operation has been implemented, but a Server is expected to return an HTTP Status of 400 with an OperationOutcome Resource if there is an issue with a Closure Table Name, and that would include using the name of an existing table when attempting to initialize a new one. See <a href="http://hl7.org/fhir/terminology-service.html#closure">http://hl7.org/fhir/terminology-service.html#closure</a></p>



<a name="230267375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/230267375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#230267375">(Mar 14 2021 at 20:56)</a>:</h4>
<p>Indeed. Would be interested to hear who has implemented this server-wise and who has consumed it client-wise.</p>



<a name="230270143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/230270143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#230270143">(Mar 14 2021 at 21:43)</a>:</h4>
<p>We've implemented it and have used it with our FHIR analytics platform, Pathling (<a href="https://pathling.csiro.au">https://pathling.csiro.au</a>)<br>
We haven't run into this problem, but using uuids or similarly generated names, I wouldn't expect to.</p>



<a name="230275843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/230275843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#230275843">(Mar 14 2021 at 22:36)</a>:</h4>
<p>Yeah, asking clients to generate IDs within a namespace they control (or with sufficient entropy) helps here.  Very cool to see Pathling BTW!</p>



<a name="277568189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/277568189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#277568189">(Apr 03 2022 at 03:47)</a>:</h4>
<p>Is there a way to initialize the closure table with a specific valueset?</p>



<a name="277577686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/277577686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#277577686">(Apr 03 2022 at 05:34)</a>:</h4>
<p>Not directly; you'd need to expand it then initialise with the result.</p>
<p>But that seems like an unusual question -- why would you want to do this?  Normally the concepts you add to a closure table relate to those in a search query and in actual resources (<code>Observation.code</code> for example)</p>



<a name="277583483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/277583483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#277583483">(Apr 03 2022 at 06:30)</a>:</h4>
<p>Will chat tomorrow with you about it if you've got some time.</p>



<a name="277661782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/277661782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#277661782">(Apr 03 2022 at 21:23)</a>:</h4>
<p>bring a legacy database into the picture? I could see this as a useful idea</p>



<a name="277681606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/277681606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#277681606">(Apr 04 2022 at 04:50)</a>:</h4>
<p>That's roughly what was trying to do. Was going to create a valueset that has the values used in our database so that the terminology server knows that set of values.</p>



<a name="277685258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Named%20closure%20tables%2C%20clashing%20names/near/277685258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Named.20closure.20tables.2C.20clashing.20names.html#277685258">(Apr 04 2022 at 05:58)</a>:</h4>
<p>Nice.  It would be interesting to then maintain that ValueSet incrementally.  I'm thinking that FHIRPatch would work if it is only adding new concepts</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
