---
layout: page
title: "FHIR Chat  · Expanding extensionally  defined ValueSets · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html">Expanding extensionally  defined ValueSets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="242798159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242798159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242798159">(Jun 15 2021 at 20:53)</a>:</h4>
<p>Does expansion also apply to extensionally defined valuesets?</p>



<a name="242798476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242798476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242798476">(Jun 15 2021 at 20:56)</a>:</h4>
<p>I don't think it makes sense (does it?), but I wonder if there is any rule against it</p>



<a name="242800182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242800182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242800182">(Jun 15 2021 at 21:09)</a>:</h4>
<blockquote>
<p>Does extension also apply to extensionally defined valuesets</p>
</blockquote>
<p>What's 'extension' in that sentence?</p>



<a name="242801405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242801405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242801405">(Jun 15 2021 at 21:19)</a>:</h4>
<p>Expansion</p>



<a name="242801620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242801620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242801620">(Jun 15 2021 at 21:21)</a>:</h4>
<p>(sorry, I already took my meds. perhaps i took too much - it's a nice vintage, so the dosage is in metric but I served it imperially <span aria-label="silence" class="emoji emoji-1f910" role="img" title="silence">:silence:</span> )</p>



<a name="242802718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242802718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242802718">(Jun 15 2021 at 21:32)</a>:</h4>
<p>sure it does. why wouldn't it? </p>
<p>There are some extension value sets that cannot have a complete expansion</p>



<a name="242803117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242803117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242803117">(Jun 15 2021 at 21:36)</a>:</h4>
<p>ok,  if they are defined by extension* the $expand operation expands them anyway, I presume<br>
(*by extension / by extent)</p>



<a name="242803347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242803347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242803347">(Jun 15 2021 at 21:39)</a>:</h4>
<p>what would be the case for something that cannot have a complete expansion and is defined only extensionally? In that case, the expansion would be the same as the definition, right?</p>



<a name="242804019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242804019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242804019">(Jun 15 2021 at 21:46)</a>:</h4>
<p>attempts to expand these result in an error, though there is a way to ask for an incomplete expansion and the server may choose to do so, and there's an extension to mark incomplete expansions</p>



<a name="242804483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242804483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242804483">(Jun 15 2021 at 21:51)</a>:</h4>
<p>meanwhile I checked what the IG publisher does . <br>
It does expand those as well (and removes the definition altogether, only keeping the expansion). I guess that is a deliberate choice to leave only expansions, which works well for my purposes.</p>



<a name="242804590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242804590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242804590">(Jun 15 2021 at 21:52)</a>:</h4>
<p>it certainly should not do that. where are you looking?</p>



<a name="242804637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242804637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242804637">(Jun 15 2021 at 21:52)</a>:</h4>
<p>Oh you must be looking in the specially prepared expansions set?</p>



<a name="242808856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242808856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242808856">(Jun 15 2021 at 22:42)</a>:</h4>
<p>yes, that is where I was looking at</p>



<a name="242816159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242816159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242816159">(Jun 16 2021 at 00:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets/near/242798159">said</a>:</p>
<blockquote>
<p>Does expansion also apply to extensionally defined valuesets?</p>
</blockquote>
<p>Perhaps you are just viewing this from an IG perspective?  For ad-hoc requests, filtered expansions of extensional ValueSets  are a commonplace.</p>



<a name="242841819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242841819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242841819">(Jun 16 2021 at 07:52)</a>:</h4>
<p>Right. I was assuming an all-or-nothing because my valuesets were quite small and specific (and indeed for the IG).</p>



<a name="242954320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242954320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242954320">(Jun 16 2021 at 23:03)</a>:</h4>
<p>It probably also depends on how you are defining the extension of your ValueSet, i.e. in <code>compose.include.concept</code> or in <code>expansion.contains</code>. Personally I think the former is a much better way of doing it, but I suspect others will disagree.</p>



<a name="242954988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20extensionally%20%20defined%20ValueSets/near/242954988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20extensionally.20.20defined.20ValueSets.html#242954988">(Jun 16 2021 at 23:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191376">@Jim Steel</span> It is my understanding that nothing should be in an expansion that is not defined as belonging in the compose. If someone feels differently I'd like to hear why and how. I strongly dislike "naked" expansion value sets and suggest no one use them. Hopefully for R5 we will provide base profiles similar to the cpg value set profiles that make creation of "expansion only" value sets clearer. None-the-less, any expansion only has to have a value set compose avaialble someplace, and follow the rules noted and must declare use of any extension.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
