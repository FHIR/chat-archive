---
layout: page
title: "FHIR Chat  · Large Composes/Expansions · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Large.20Composes.2FExpansions.html">Large Composes/Expansions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="230441465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Large%20Composes/Expansions/near/230441465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Large.20Composes.2FExpansions.html#230441465">(Mar 16 2021 at 00:14)</a>:</h4>
<p>I'm looking for feedback on a few assumptions I'm making about how to handle large composes and expansions:</p>
<ol>
<li>From what I can see, the way to handle large composes would be by spreading the definition across multiple ValueSets and use a grouping ValueSet to bring them together. Some practical, implementation-defined limit on the number of concepts that could appear in a single ValueSet definition, but no need for the spec to say anything about that (and it doesn't, from what I can see).</li>
<li>There is provision in the ValueSet expansion element for saying "this is a portion of the overall expansion, beginning at offset X", so in theory, you could have a "value set" with an expansion of 100,000 codes, and you would render that over the API with, say, 100 ValueSet instances, each with the same canonical, but different ids, each one with 1000 codes in it.</li>
</ol>



<a name="230441497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Large%20Composes/Expansions/near/230441497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Large.20Composes.2FExpansions.html#230441497">(Mar 16 2021 at 00:15)</a>:</h4>
<p>For systems that have implemented large value sets, is this how you've done it?</p>



<a name="230441531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Large%20Composes/Expansions/near/230441531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Large.20Composes.2FExpansions.html#230441531">(Mar 16 2021 at 00:15)</a>:</h4>
<p>Or do you avoid persisting the expansion at all (i.e. the only way to get the expansion is through an invocation of the $expand operation?)</p>



<a name="230474996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Large%20Composes/Expansions/near/230474996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Large.20Composes.2FExpansions.html#230474996">(Mar 16 2021 at 08:19)</a>:</h4>
<p>Sounds good</p>



<a name="230475450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Large%20Composes/Expansions/near/230475450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Large.20Composes.2FExpansions.html#230475450">(Mar 16 2021 at 08:24)</a>:</h4>
<p>I mean it's disirable</p>



<a name="230475536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Large%20Composes/Expansions/near/230475536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Large.20Composes.2FExpansions.html#230475536">(Mar 16 2021 at 08:24)</a>:</h4>
<p>We support arbitrary size expansions (from $expand) using count &amp; offset parameters. In the expansion itself the offset is indicated as is the total, so you can determine that you've not got the whole thing and you can persist each expansion "page" separately.</p>



<a name="230512203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Large%20Composes/Expansions/near/230512203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Large.20Composes.2FExpansions.html#230512203">(Mar 16 2021 at 13:34)</a>:</h4>
<p>(deleted)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
