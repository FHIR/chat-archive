---
layout: page
title: "FHIR Chat  · Implicit Value sets for UCUM · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html">Implicit Value sets for UCUM</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="198260035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198260035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198260035">(May 20 2020 at 21:34)</a>:</h4>
<p>I would like to specify a way to define am implicit value set in UCUM. The implicit value sets would equate to "all units compatible with this canonical unit" e.g. all units that have a canonical unit of m for length, or s for time, mol/L for concentration etc. </p>
<p>We would also define one based on dimension, but I think that most real world units will be more complex than dimension. </p>
<p>Right now, we can do this in a value set:</p>
<div class="codehilite"><pre><span></span><code>  <span class="nt">&lt;compose&gt;</span>
    <span class="nt">&lt;include&gt;</span>
      <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://unitsofmeasure.org&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;filter&gt;</span>
       <span class="nt">&lt;property</span> <span class="na">value=</span><span class="s">&quot;canonical&quot;</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;op</span> <span class="na">value=</span><span class="s">&quot;=&quot;</span><span class="nt">/&gt;</span>
       <span class="nt">&lt;value</span> <span class="na">value=</span><span class="s">&quot;mmol/L&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/filter&gt;</span>
    <span class="nt">&lt;/include&gt;</span>
  <span class="nt">&lt;/compose&gt;</span>
</code></pre></div>



<a name="198260129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198260129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198260129">(May 20 2020 at 21:35)</a>:</h4>
<p>something like <code>http://unitsofmeasure.org/vs?canonical=mmol/L</code></p>



<a name="198273528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198273528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198273528">(May 21 2020 at 00:19)</a>:</h4>
<p>Why constrain it to canonical units?</p>



<a name="198277771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198277771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198277771">(May 21 2020 at 01:39)</a>:</h4>
<p>I'm not sure what you mean</p>



<a name="198277825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198277825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198277825">(May 21 2020 at 01:40)</a>:</h4>
<p>I want to constrain to all units compatible with a unit. What other value sets do you think would be useful?</p>



<a name="198277837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198277837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198277837">(May 21 2020 at 01:40)</a>:</h4>
<p>oh. scratch all this. I didn't read far enough. This is already defined</p>



<a name="198305905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198305905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198305905">(May 21 2020 at 10:25)</a>:</h4>
<p>okay. where can I find the definition? I was just trying to suggest: ...equate to "all units compatible with this <del>canonical</del> unit" e.g. all units that have <del>a</del> the same canonical unit "</p>



<a name="198306141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198306141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198306141">(May 21 2020 at 10:28)</a>:</h4>
<p>so if I have one unit, say inch, and I want to check if it is commensurable with another unit, say mm, I would just check if mm is in the said value set for inch (or vice versa). No need to find their common canonical unit beforehand.</p>



<a name="198307826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198307826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198307826">(May 21 2020 at 10:50)</a>:</h4>
<p>well, in practice, that's what it means, yes. <a href="https://www.hl7.org/fhir/ucum.html#4.3.4.5">https://www.hl7.org/fhir/ucum.html#4.3.4.5</a></p>



<a name="198307841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198307841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198307841">(May 21 2020 at 10:51)</a>:</h4>
<p>except that the definition is wrong. It should be</p>



<a name="198307859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198307859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198307859">(May 21 2020 at 10:51)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;ValueSet</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;text&gt;</span>
    <span class="nt">&lt;status</span> <span class="na">value=</span><span class="s">&quot;generated&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="nt">&gt;</span>
      [some html that identifies that this value set
      includes all UCUM expressions that are comparable to the provided expression]
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/text&gt;</span>
  <span class="nt">&lt;identifier</span> <span class="na">value=</span><span class="s">&quot;http://unitsofmeasure.org/vs/[expression]&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;version</span> <span class="na">value=</span><span class="s">&quot;[optional - but recommended - UCUM version]&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;Ucum Expressions comparable to [expression]&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;description</span> <span class="na">value=</span><span class="s">&quot;Ucum Expressions comparable to [expression]&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;status</span> <span class="na">value=</span><span class="s">&quot;active&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;date</span> <span class="na">value=</span><span class="s">&quot;[optional date of UCUM release]&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;compose&gt;</span>
    <span class="nt">&lt;include&gt;</span>
      <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://unitsofmeasure.org&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;filter&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">value=</span><span class="s">&quot;canonical&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;op</span> <span class="na">value=</span><span class="s">&quot;=&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;value</span> <span class="na">value=</span><span class="s">&quot;[expression]&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/filter&gt;</span>
    <span class="nt">&lt;/include&gt;</span>
  <span class="nt">&lt;/compose&gt;</span>
<span class="nt">&lt;/ValueSet&gt;</span>
</code></pre></div>



<a name="198309762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198309762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198309762">(May 21 2020 at 11:18)</a>:</h4>
<p>Thanks. Still not clear to me, why the term 'canonical' is used here. In the given context, 'comparable' could be more appropriate here.</p>
<p>Actually, looking at this documentation, I have another issue: It states that "Display: There is no defined display; the UCUM <strong>code is used directly for the display</strong>". I wouldn't agree, and we are actually having discussions on this in the European eHDSI project. UCUM is a code, it is not always correct to display the code verbatim. Instead, the correct 'displayable representation' should be derived from the rules in the ISO 80000 series. There is some ongoing collaboration between ISO/TC 215 and ISO/TC 12 on the issue, cf. Mike Glickman. (And in addition to that, people are also requesting a multilingual 'textual representation' like 'millimetros' in Spanish...)</p>



<a name="198309872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198309872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198309872">(May 21 2020 at 11:20)</a>:</h4>
<p>I agree that comparable would be clearer, but we'd have to change the definition of the filter instead of changing the definition of the implicit value set. I'm not sure whether anyone has used this... since I haven't and I don't think any tooling supports it, it might be safe to change</p>



<a name="198309898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198309898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198309898">(May 21 2020 at 11:20)</a>:</h4>
<p>with regard to the display.. I'm not so sure on that. We can't point to advice that doesn't exist... we can look at it once it does</p>



<a name="198310091"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198310091" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198310091">(May 21 2020 at 11:23)</a>:</h4>
<p>I agree, there is no solution ready to use now. But to directly display the code is not correct, and might even be considered a safety issue. More so if it this rule is also applied to the dreaded {annotations}!</p>



<a name="198310197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198310197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198310197">(May 21 2020 at 11:25)</a>:</h4>
<p>But I am leaving the topic of this thread, sorry.</p>



<a name="198310935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198310935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198310935">(May 21 2020 at 11:36)</a>:</h4>
<p>My solution is to work on a vaue set level, using ValueSet.compose.include.concept.designation with appropriate values in concept.designation.use. I believe this is one case where "The system that defines the code or expression doesn't provide a display for this code", as described in 4.9.6. on <a href="https://www.hl7.org/fhir/valueset.html">https://www.hl7.org/fhir/valueset.html</a></p>



<a name="198311223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198311223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Gessner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198311223">(May 21 2020 at 11:41)</a>:</h4>
<p>Safety example: In UCUM '10*3' means 1000 - and not 30. You don't want to display this to human readers.</p>



<a name="198311784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Implicit%20Value%20sets%20for%20UCUM/near/198311784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Implicit.20Value.20sets.20for.20UCUM.html#198311784">(May 21 2020 at 11:49)</a>:</h4>
<p>no. though in FHIR, you're talking about Quantity where we wouldn't use the display anyway</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
