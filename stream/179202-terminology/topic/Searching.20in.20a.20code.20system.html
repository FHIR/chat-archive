---
layout: page
title: "FHIR Chat  · Searching in a code system · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html">Searching in a code system</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153869213"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153869213" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153869213">(Jan 26 2017 at 09:53)</a>:</h4>
<p>Using the $lookup operation I can get the properties of a concept/code I already know the code for. But how do I ask for:</p>
<p>Gimme concepts/codes from SNOMED CT where displayName contains "frac bon". In our 20160731 release this would return 302 concepts.</p>
<p>I thought that's what the $lookup was for but I don't see how. The CodeSystem search params also do not leave room for this as far as I can tell.</p>



<a name="153869221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153869221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153869221">(Jan 26 2017 at 11:56)</a>:</h4>
<p>Would $expand + ?filter work for you? See <a href="http://ontoserver.csiro.au/vstool/" target="_blank" title="http://ontoserver.csiro.au/vstool/">http://ontoserver.csiro.au/vstool/</a> for an interactive demo</p>



<a name="153869323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153869323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153869323">(Jan 27 2017 at 08:12)</a>:</h4>
<p>That only works if you create an intensional ValueSet for every CodeSystem that includes this full CodeSystem. That really sounds like a workaround. Sure it works, but god forbids someone actually asks for the expansion without filter when it is SNOMED or LOINC.</p>
<p>I'd really expect a search feature on CodeSystem contents, which produces a ValueSet. The search expression could actually be the basis for an intensional value set, while the response could actually be the expansion of the expression</p>



<a name="153869324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153869324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153869324">(Jan 27 2017 at 08:15)</a>:</h4>
<p>Server could return a TooCostly error then if they ask for that unfiltered expansion.</p>
<p>Making the valueset code a codesystem isn't too hard, you wouldn't even need a separate resource - Codesystem.valueSet (<a href="http://build.fhir.org/codesystem-definitions.html#CodeSystem.valueSet" target="_blank" title="http://build.fhir.org/codesystem-definitions.html#CodeSystem.valueSet">http://build.fhir.org/codesystem-definitions.html#CodeSystem.valueSet</a>) can be used to define it on the spot for you</p>



<a name="153869326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153869326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153869326">(Jan 27 2017 at 08:16)</a>:</h4>
<p>I think the idea is that you start working more with valuesets more in general, not with codesystems directly. That's the feeling I get from Grahame's presentations on this</p>



<a name="153869327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153869327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153869327">(Jan 27 2017 at 08:18)</a>:</h4>
<p>He, that's nice: I totally missed the CodeSystem.valueSet notion... that helps. I will chew on that some more.</p>



<a name="153869328"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153869328" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153869328">(Jan 27 2017 at 08:21)</a>:</h4>
<p>ok!</p>



<a name="153869338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153869338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153869338">(Jan 27 2017 at 09:58)</a>:</h4>
<p>In addition, for well-known code systems like SNOMED, there is a well known URL for "all codes in SNOMED" -- <a href="http://snomed.info/sct?fhir_vs" target="_blank" title="http://snomed.info/sct?fhir_vs">http://snomed.info/sct?fhir_vs</a></p>



<a name="153870123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153870123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153870123">(Feb 06 2017 at 02:50)</a>:</h4>
<p>agree - current design is that this a value set thing. There is a usecase for searching code systems, but it generally falls into 'code system maintenance' which we re-affirmed is not in scope for FHIR in San Antonio. That doesn't mean that searching code systems directly itself is always out of scope, but it's certainly an R4 thing at this time</p>



<a name="153870722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153870722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153870722">(Feb 08 2017 at 12:53)</a>:</h4>
<p>For clarification. I'm looking into codesystem search for valueset authoring purposes only, not codesystem maintenance.</p>



<a name="153870751"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153870751" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153870751">(Feb 08 2017 at 18:20)</a>:</h4>
<p>well, is it reasonable to extend expansion so you can nominate a code system instead of a value set, and make resolving the default value set the server's problem, not the clients?</p>



<a name="153870766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153870766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153870766">(Feb 08 2017 at 20:02)</a>:</h4>
<p>Had to think on that. I think what you mean is:<br>
[base]/ValueSet/$expand</p>
<p>Parameter codeSystem = <a href="http://snomed.info/sct" target="_blank" title="http://snomed.info/sct">http://snomed.info/sct</a><br>
Parameter filter = frac bone<br>
response = ValueSet</p>
<p>To search for "frac bone" in SNOMED CT? So while you, at first glance, are searching on the ValueSet endpoint, you are in fact searching in CodeSystem because of the codeSystem parameter. You could argue you are still actually searching the implicit ValueSet that contains the full codesystem. I suppose that could work. Would you say this is something likely to be reworked once the 'real release 4' solution comes in, or would you say this proposal has a chance for survival?</p>



<a name="153870782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153870782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153870782">(Feb 08 2017 at 22:55)</a>:</h4>
<p>can't you do that by POSTing a Parameters object with an inline valueSet that includes that codeSystem (and the filter parameter)? I don't understand how having an extra 'codeSystem' parameter changes likely server behaviour</p>



<a name="153870800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153870800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153870800">(Feb 09 2017 at 03:46)</a>:</h4>
<p>it makes for a simpler API. </p>



<a name="153870801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20in%20a%20code%20system/near/153870801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20in.20a.20code.20system.html#153870801">(Feb 09 2017 at 03:47)</a>:</h4>
<p>but it is semantically equivalent, yes</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
