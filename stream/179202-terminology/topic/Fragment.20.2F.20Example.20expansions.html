---
layout: page
title: "FHIR Chat  · Fragment / Example expansions · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html">Fragment / Example expansions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="261736888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261736888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261736888">(Nov 17 2021 at 02:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> what does OntoServer do if it gets a request for an expansion, and the underlying code system definition has content=fragment, or content=example ?</p>



<a name="261737600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261737600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261737600">(Nov 17 2021 at 02:47)</a>:</h4>
<p>or a validate-code?</p>



<a name="261737604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261737604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261737604">(Nov 17 2021 at 02:47)</a>:</h4>
<p>here's what I'm doing at present, or going to do:</p>



<a name="261737739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261737739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261737739">(Nov 17 2021 at 02:50)</a>:</h4>
<p>$validate-code:</p>
<ul>
<li>if content &lt; complete, always return true</li>
<li>if the code is not found in the incomplete code system, include cause = not found in the parameters</li>
<li>if the code is not found, or if the code system is an example, include the message <code>The system {{system}} was found but did not contain enough information to properly validate the code (mode = {{mode}})</code></li>
</ul>



<a name="261737784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261737784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261737784">(Nov 17 2021 at 02:51)</a>:</h4>
<p>$expand:</p>
<ul>
<li>by default, return an error saying that one  (or more) codesystem is incomplete</li>
<li>if the client passes a (as yet undefined) parameter saying it's ok with it, process the expansion as per normal, and mark the example and fragment code systems in the parameters</li>
</ul>



<a name="261738691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261738691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261738691">(Nov 17 2021 at 03:07)</a>:</h4>
<p>also <span class="user-mention" data-user-id="191364">@Peter Jordan</span> <span class="user-mention" data-user-id="191375">@Alexander Henket</span> and <span class="user-mention" data-user-id="195036">@Carol Macumber</span>, what do your servers do?</p>



<a name="261741214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261741214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261741214">(Nov 17 2021 at 04:02)</a>:</h4>
<p>I'm now using incomplete-ok=true for expansions. Case in point: <a href="https://terminology.hl7.org/ValueSet-service-category.html">https://terminology.hl7.org/ValueSet-service-category.html</a> - that looks like a normal expansion, but see this:</p>
<blockquote>
<p>Content:  Example: A few representative concepts are included in the code system resource</p>
</blockquote>
<p>from <a href="https://terminology.hl7.org/CodeSystem-service-category.html">https://terminology.hl7.org/CodeSystem-service-category.html</a></p>



<a name="261741217"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261741217" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261741217">(Nov 17 2021 at 04:02)</a>:</h4>
<p>I want the expansion to be clear about this</p>



<a name="261741915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261741915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261741915">(Nov 17 2021 at 04:18)</a>:</h4>
<p>On this subject, I'm going to make a rule in all HL7 authored code systems: they SHALL have a content element. Let me know if anyone thinks that's a problem</p>



<a name="261742170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261742170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261742170">(Nov 17 2021 at 04:23)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-34326">https://jira.hl7.org/browse/FHIR-34326</a></p>



<a name="261745869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261745869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261745869">(Nov 17 2021 at 05:40)</a>:</h4>
<p>Ontoserver allows expansion / validation wrt content &lt; complete.  This is useful for, for example, UCUM.<br>
We don't include any indicators in such an expansion that reference the potential incompleteness; I think we need to address this (item 2 of <code>$expand</code> above), but I would be reluctant to error by default (except maybe for <code>example</code>).<br>
Another issue is how to handle multiple CodeSystem instances (same version) that have varying values of content &lt; complete.  For example two or more different fragments.</p>



<a name="261746445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261746445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261746445">(Nov 17 2021 at 05:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions/near/261741915">said</a>:</p>
<blockquote>
<p>On this subject, I'm going to make a rule in all HL7 authored code systems: they SHALL have a content element. Let me know if anyone thinks that's a problem</p>
</blockquote>
<p>Not quite sure what this means as CodeSystem.content is a required element. Do you mean that content should be provided in the concept element (i.e. the CodeSystem.content code should never be 'not-present' for HL7 authored code systems)?</p>



<a name="261748951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261748951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261748951">(Nov 17 2021 at 06:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191364">@Peter Jordan</span> is this in the correct stream?</p>



<a name="261752557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261752557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261752557">(Nov 17 2021 at 07:58)</a>:</h4>
<p>wow you're right. I forget to check, because it wasn't being an error. Obviously I'll have to go checking why I wasn't getting that as an error</p>



<a name="261752588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261752588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261752588">(Nov 17 2021 at 07:59)</a>:</h4>
<p>(and it wasn't really the right stream, for any confused readers)</p>



<a name="261752781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261752781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261752781">(Nov 17 2021 at 08:00)</a>:</h4>
<blockquote>
<p>Ontoserver allows expansion / validation wrt content &lt; complete. This is useful for, for example, UCUM.</p>
</blockquote>
<p>But it's also dangerous.</p>



<a name="261752811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261752811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261752811">(Nov 17 2021 at 08:01)</a>:</h4>
<p>we can at least agree that we want to indicate the use of a fragment or an example code system in the expansion, yes?</p>



<a name="261753534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261753534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261753534">(Nov 17 2021 at 08:11)</a>:</h4>
<p>also, wrt UCUM, I do not think that UCUM is a fragment given how I support it</p>



<a name="261864558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/261864558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#261864558">(Nov 17 2021 at 23:16)</a>:</h4>
<p>No, but the way we currently support it, it is a fragment.</p>



<a name="262345146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Fragment%20/%20Example%20expansions/near/262345146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Fragment.20.2F.20Example.20expansions.html#262345146">(Nov 22 2021 at 16:44)</a>:</h4>
<p>We have two servers: ART-DECOR and NTS. The latter being Ontoserver based. ART-DECOR is not handling fragments at present but that is mainly because the nature of the internal codesystem format does not handle incompleteness or example status. This would change once we do. I'm keeping an eye on this thread.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
