---
layout: page
title: "FHIR Chat  · Expanding valueset importing a non-existent codesysetm · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20valueset.20importing.20a.20non-existent.20codesysetm.html">Expanding valueset importing a non-existent codesysetm</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="179510250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20valueset%20importing%20a%20non-existent%20codesysetm/near/179510250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Calderero <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20valueset.20importing.20a.20non-existent.20codesysetm.html#179510250">(Oct 31 2019 at 08:20)</a>:</h4>
<p>Hi All - what should be the behavior of the $expand operation if it expands a valueset and the valueset has a compose.include on a codesystem that does not exist in the FHIR server?</p>
<p>Take for example <a href="http://build.fhir.org/immunization-definitions.html#Immunization.vaccineCode" target="_blank" title="http://build.fhir.org/immunization-definitions.html#Immunization.vaccineCode">http://build.fhir.org/immunization-definitions.html#Immunization.vaccineCode</a>, which has EXAMPLE binding on <a href="http://build.fhir.org/valueset-vaccine-code.html" target="_blank" title="http://build.fhir.org/valueset-vaccine-code.html">http://build.fhir.org/valueset-vaccine-code.html</a>. This valueset imports urn:oid:1.2.36.1.2001.1005.17, which doesn't exist in our FHIR server and I can't find a ready-to-use CodeSystem for it.</p>
<p>The logic for expanding valuesets (i.e. <a href="http://build.fhir.org/valueset.html#expansion" target="_blank" title="http://build.fhir.org/valueset.html#expansion">http://build.fhir.org/valueset.html#expansion</a>) only has to say about this:</p>
<blockquote>
<p>Otherwise: For each compose.include:<br>
If there is a system, identify the correct version of the code system, and then:<br>
If there are no codes or filters, add every code in the code system to the result set.<br>
If codes are listed, check that they are valid, and check their active status, and if ok, add them to the result set (the parameters to the $expand operation may be used to control whether active codes are included).</p>
</blockquote>
<p>I'm assuming the "check that they are valid" part means looking up if the code exists in the codesystem.<br>
1. If the code doesn't exist in the codesystem, does the $expand operation fail with an OperationOutcome? Or the code is just not included?<br>
2. If the codesystem itself is not found, does the $expand operation fail with an OperationOutcome? Or all the codes the valueset listed under that codesystem are just not included?</p>



<a name="179520609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Expanding%20valueset%20importing%20a%20non-existent%20codesysetm/near/179520609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Expanding.20valueset.20importing.20a.20non-existent.20codesysetm.html#179520609">(Oct 31 2019 at 11:02)</a>:</h4>
<p>I think it should be an error</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
