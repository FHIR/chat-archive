---
layout: page
title: "FHIR Chat  · UTG build local failure · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html">UTG build local failure</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="234921264"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/234921264" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#234921264">(Apr 16 2021 at 21:05)</a>:</h4>
<p>I seem to be needing a build tool that I don't have.. When I build FHIR core or an IG it is fine... but when I try to build UTG I get a NPE</p>
<blockquote>
<p>Publishing Content Failed: Unable to create javax script engine for javascript</p>
</blockquote>
<p>I have been told that this is related to my machine using OpenJDK.. but I have also heard <span class="user-mention" data-user-id="192587">@David Pyke</span> uses OpenJDK and it worked for him.</p>



<a name="234933938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/234933938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#234933938">(Apr 16 2021 at 23:07)</a>:</h4>
<p>I use OpenJDK (for Mac, both Intel and native ARM) and it works for UTG and everything else.</p>



<a name="235334847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235334847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235334847">(Apr 20 2021 at 12:31)</a>:</h4>
<p>so what is your javascript provider?</p>



<a name="235350729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235350729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235350729">(Apr 20 2021 at 14:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> Maybe you can clarify what you mean?  I don't recall ever needing to do anything specific for Javascript.  There are other things that you have to deal with, like Jekyll.</p>



<a name="235393701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235393701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235393701">(Apr 20 2021 at 18:40)</a>:</h4>
<p>I did install the things listed as needed for the core build and IG build... but when I try to build terminology, it fails with the above javascript failure. so there seems to be a need for a javascript tool that is not  brought with the defined install list... I understood that with formal JDK, it comes with a javascript tool, where as OpenJDK didn't.. but I don't know that for a fact</p>



<a name="235394729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235394729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235394729">(Apr 20 2021 at 18:47)</a>:</h4>
<div class="codehilite"><pre><span></span><code>https://medium.com/graalvm/nashorn-removal-graalvm-to-the-rescue-d4da3605b6cb
</code></pre></div>



<a name="235394760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235394760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235394760">(Apr 20 2021 at 18:47)</a>:</h4>
<p>so, would GraalVM javascript engine be a recommendation?</p>



<a name="235412269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235412269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235412269">(Apr 20 2021 at 20:46)</a>:</h4>
<p>it's related to java version. The javax script engine has been removed in the most recent versions of the JDK, and there is no workable replacement</p>



<a name="235412311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235412311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235412311">(Apr 20 2021 at 20:47)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> we should get this back on our agenda</p>



<a name="235415423"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235415423" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235415423">(Apr 20 2021 at 21:03)</a>:</h4>
<p>I can take a look</p>



<a name="235415471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235415471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235415471">(Apr 20 2021 at 21:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> do you have time tomorrow to walk me through exactly what is happening?</p>



<a name="235421382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235421382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235421382">(Apr 20 2021 at 21:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> What JDK version are you using?  I'm using openJDK 11 mostly now (a native Mac M1 version), but I have used 14 and 15 successfully to build my IG's.  I may not have tried 16 yet (I'm not sure when the Javascript change was made, but it sounds like that may not work).</p>



<a name="235421523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235421523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235421523">(Apr 20 2021 at 21:45)</a>:</h4>
<p>I have built this machine just a few weeks ago, so grabbed OpenJDK 16</p>



<a name="235421612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235421612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235421612">(Apr 20 2021 at 21:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="248736">Mark Iantorno</span> <a href="#narrow/stream/179202-terminology/topic/UTG.20build.20local.20failure/near/235415471">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> do you have time tomorrow to walk me through exactly what is happening?</p>
</blockquote>
<p>yes,  9am, 2pm, or 4:30pm central time</p>



<a name="235421706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235421706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235421706">(Apr 20 2021 at 21:46)</a>:</h4>
<p>OK.  Sounds like that's likely the explanation.  It's pretty straightforward to also install and specify an earlier version - particularly JDK 11, which can have long term support.</p>



<a name="235425785"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235425785" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235425785">(Apr 20 2021 at 22:26)</a>:</h4>
<p>This Javascript issue doesn't seem to apply for all IGs, but it does for UTG.  I just built the IPS IG using JDK 16 (liberica-16+36 on the Mac M1) without any issues.  But it failed when building UTG with <code>Publishing Content Failed: Unable to create javax script engine for javascript</code>.  I then rebuilt UTG with JDK 11 and that worked (but I get the <code>Warning: Nashorn engine is planned to be removed from a future JDK release</code>).  I think that the GraalVM engine might be able to provide a solution, but apparently we would at least have to do some reconfiguring of our build to be able to use it.</p>



<a name="235430375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235430375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235430375">(Apr 20 2021 at 23:13)</a>:</h4>
<p>not many IGs use the feature that UTG does here. That's what Mark is going to look at - how to package up the nashorn replacement</p>



<a name="235495276"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235495276" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235495276">(Apr 21 2021 at 11:45)</a>:</h4>
<p>or, could we move UTG away from using javascript? we install many tools, surely one of the others can do what it is trying to do with javascript.</p>



<a name="235495790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235495790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235495790">(Apr 21 2021 at 11:49)</a>:</h4>
<p>I'd rather continue supporting javascript; it's very effective for the purpose over trying to muck around with xslt to do the same job.</p>



<a name="235496214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/UTG%20build%20local%20failure/near/235496214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/UTG.20build.20local.20failure.html#235496214">(Apr 21 2021 at 11:52)</a>:</h4>
<p>well, I had to ask.  so many other builds work just fine. UTG is such an odd duck, and it seems it is odd just purely to be different.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
