---
layout: page
title: "FHIR Chat  · Erroneous warning on ServiceDeliveryLocationRoleType ? · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html">Erroneous warning on ServiceDeliveryLocationRoleType ?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="253224888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253224888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253224888">(Sep 14 2021 at 09:56)</a>:</h4>
<p>Getting the below hl7validator 5.5.3 with <a href="http://tx.fhir.org">tx.fhir.org</a> warning :( despite the fact that <code>http://terminology.hl7.org/ValueSet/v3-ServiceDeliveryLocationRoleType</code>DOES contain <code>RNEU</code>and <code>INLAB</code> codes, via <code>Include codes from http://terminology.hl7.org/CodeSystem/v3-RoleCode where concept descends from _ServiceDeliveryLocationRoleType</code>...</p>
<p>Cannot find where this goes wrong...</p>
<div class="codehilite"><pre><span></span><code>2021-09-13T16:12:49.8232783Z -- ILSLocation.example.xml ----------------------------------------
2021-09-13T16:12:49.8233835Z Success: 0 errors, 2 warnings, 0 notes
2021-09-13T16:12:49.8238585Z   Warning @ Location.contained[0].ofType(Location).type[0] (line 11, col13) : None of the codings provided are in the value set http://terminology.hl7.org/ValueSet/v3-ServiceDeliveryLocationRoleType (http://terminology.hl7.org/ValueSet/v3-ServiceDeliveryLocationRoleType), and a coding should come from this value set unless it has no suitable code (note that the validator cannot judge what is suitable) (codes = http://terminology.hl7.org/CodeSystem/v3-RoleCode#RNEU)
2021-09-13T16:12:49.8246944Z   Warning @ Location.type[0] (line 30, col9) : None of the codings provided are in the value set http://terminology.hl7.org/ValueSet/v3-ServiceDeliveryLocationRoleType (http://terminology.hl7.org/ValueSet/v3-ServiceDeliveryLocationRoleType), and a coding should come from this value set unless it has no suitable code (note that the validator cannot judge what is suitable) (codes = http://terminology.hl7.org/CodeSystem/v3-RoleCode#INLAB)
</code></pre></div>



<a name="253228499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253228499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253228499">(Sep 14 2021 at 10:33)</a>:</h4>
<p>what's the actual terminology server API call?</p>



<a name="253228722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253228722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253228722">(Sep 14 2021 at 10:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F/near/253228499">said</a>:</p>
<blockquote>
<p>what's the actual terminology server API call?</p>
</blockquote>
<p>oh, then I would need to run a sniffer... ;) let me ask the team to see what we can dig up as additional logs</p>



<a name="253230818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253230818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253230818">(Sep 14 2021 at 10:57)</a>:</h4>
<p>I think the validator can log...</p>



<a name="253230920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253230920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253230920">(Sep 14 2021 at 10:58)</a>:</h4>
<p>-txLog filename  see <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator#UsingtheFHIRValidator-Logging">https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator#UsingtheFHIRValidator-Logging</a></p>



<a name="253231919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253231919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253231919">(Sep 14 2021 at 11:07)</a>:</h4>
<p>will do - it may be related to what I now find in the output:</p>
<div class="codehilite"><pre><span></span><code>2021-09-14T10:52:58.6954575Z   Validate ILSLocation.example.xmltodo: handle concept filters with op = DESCENDENTOF
2021-09-14T10:52:59.8741197Z todo: handle concept filters with op = DESCENDENTOF
</code></pre></div>
<p>from <code>http://terminology.hl7.org/ValueSet/v3-ServiceDeliveryLocationRoleType</code>:</p>
<div class="codehilite"><pre><span></span><code>&lt;compose&gt;
    &lt;include&gt;
      &lt;system value=&quot;http://terminology.hl7.org/CodeSystem/v3-RoleCode&quot;/&gt;
      &lt;filter&gt;
        &lt;property value=&quot;concept&quot;/&gt;
        &lt;op value=&quot;descendent-of&quot;/&gt;
        &lt;value value=&quot;_ServiceDeliveryLocationRoleType&quot;/&gt;
      &lt;/filter&gt;
    &lt;/include&gt;
  &lt;/compose&gt;
</code></pre></div>



<a name="253232813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253232813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253232813">(Sep 14 2021 at 11:16)</a>:</h4>
<p>oh that will be it. I'll add that to my todo list. descendent-of was introduced after I wrote that code</p>



<a name="253233905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253233905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253233905">(Sep 14 2021 at 11:25)</a>:</h4>
<p>Thank you Graham - and this is one of those use cases where suppressing individual warnings is coming from :)</p>



<a name="253234692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253234692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253234692">(Sep 14 2021 at 11:33)</a>:</h4>
<p>PS: the <code>is-a</code> should work, right?</p>
<div class="codehilite"><pre><span></span><code>&lt;compose&gt;
    &lt;include&gt;
      &lt;system value=&quot;http://snomed.info/sct&quot;/&gt;
      &lt;filter&gt;
        &lt;property value=&quot;concept&quot;/&gt;
        &lt;op value=&quot;is-a&quot;/&gt;
        &lt;value value=&quot;106063007&quot;/&gt;
      &lt;/filter&gt;
    &lt;/include&gt;
  &lt;/compose&gt;
</code></pre></div>



<a name="253235248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253235248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253235248">(Sep 14 2021 at 11:38)</a>:</h4>
<p>I'm also using descendent-of in some places.  I don't recall seeing that particular message, but maybe I didn't look enough for it.</p>



<a name="253274110"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253274110" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253274110">(Sep 14 2021 at 15:49)</a>:</h4>
<p>PS: Surprisingly adding <code>-txLog txLog.txt</code> causes a whole slew of validation errors to appear, that were not there without this parameter... Seemingly sending <code>null</code> as values to the TXs??? Have not diven into this - removing the <code>-txLog txLog.txt</code> resolves it. Not a major issue for us now.</p>



<a name="253282015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253282015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253282015">(Sep 14 2021 at 16:39)</a>:</h4>
<p>descendent-of works in Snomed CT but not for other code systems</p>



<a name="253283362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253283362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253283362">(Sep 14 2021 at 16:48)</a>:</h4>
<p>actually, it works on the server, but not in the mini-terminology service included inside the validator. It will next release</p>



<a name="253323523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Erroneous%20warning%20on%20ServiceDeliveryLocationRoleType%20%3F/near/253323523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Erroneous.20warning.20on.20ServiceDeliveryLocationRoleType.20.3F.html#253323523">(Sep 14 2021 at 21:01)</a>:</h4>
<p>Yes, I think that could be the explanation for some things.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
