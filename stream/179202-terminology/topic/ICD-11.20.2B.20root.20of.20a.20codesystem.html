---
layout: page
title: "FHIR Chat  · ICD-11 + root of a codesystem · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html">ICD-11 + root of a codesystem</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="264303773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264303773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264303773">(Dec 09 2021 at 13:53)</a>:</h4>
<p>We are working on adding SVCM compliance to the ICD-11 API.   For the CodeSystem resource (specifically for linearizations such as MMS) we don't think it make sense to return the full  set of concepts under CodeSystem.concept.  Rather, we want to have the root concept be identified somehow in the CodeSystem resource.  One option is to have CodeSystem.concept have a single concept in it, which is the root, but that seems perhaps a misleading.   Is there another approach that others use in such a situation such as an extension to the CodeSystem resource to designate a root code?  <span class="user-mention" data-user-id="340886">@Joe Amlung</span>  <span class="user-mention" data-user-id="191405">@Rob Hausam</span>  <span class="user-mention" data-user-id="193278">@jon payne</span></p>



<a name="264306621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264306621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264306621">(Dec 09 2021 at 14:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191604">@Carl Leitner</span> I have not heard of anyone so far doing this, or needing to do it.  Of course someone might have done that, or something like it, and I'm not aware.  Can you describe a little more the rationale for why identifying and calling out the root code like this is specifically needed for the ICD-11 API?  I have some idea why you may want to do that, but it would be good to hear more of your thoughts.  My inclination is that, assuming that it is needed, an extension on CodeSystem would be the way to do it.</p>



<a name="264307155"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264307155" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264307155">(Dec 09 2021 at 14:16)</a>:</h4>
<p>Specific use case is that Open Concept Lab (OCL) is building a multi-code system browser and wants to show a hierarchy.  To do so, they need to know the root to get started on the hierarchy and then use parent-child relationships on concepts to build out the hierarchy from there.</p>



<a name="264307491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264307491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Payne <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264307491">(Dec 09 2021 at 14:19)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191405">@Rob Hausam</span> and <span class="user-mention" data-user-id="191604">@Carl Leitner</span> - The only way to get the root code now is from the native ICD-11 API or manually from the ICD-11 browser. Once you have the root entity ID, you can use the ICD-11 FHIR API to visualize and traverse the entire hierarchy, but there's that manual step that you have to start with. Ideally we'd like a way for FHIR to respond with the root so that it is a fully FHIR-based process with no manual steps.</p>



<a name="264310574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264310574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264310574">(Dec 09 2021 at 14:41)</a>:</h4>
<p>Would selecting from a valueset of root concepts not work?</p>



<a name="264312852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264312852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264312852">(Dec 09 2021 at 14:59)</a>:</h4>
<p>so a singleton valueset?  but then you would need to know that this is the 'special' valueset that contains the root.  we want to avoid having to hardcode these types of associations in the browser.</p>



<a name="264313150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264313150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Payne <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264313150">(Dec 09 2021 at 15:01)</a>:</h4>
<p>Agree- Would still want to have that ValueSet available as an attribute of the CodeSystem, meaning either a list of root code(s) or a pointer to a valueset. Both would get the job done</p>



<a name="264313591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264313591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264313591">(Dec 09 2021 at 15:04)</a>:</h4>
<p>a special valueset  (as opposed to a special concept) would make sense if we have  a multi-rooted codesystem.  that's not exactly the case with ICD-11.  Foundation is unrooted.  MMS is a rooted subset that is published as its own code system.   I don't think we will need multi-root with ICD-11.    But not sure of other codesytems.</p>



<a name="264313936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264313936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264313936">(Dec 09 2021 at 15:06)</a>:</h4>
<p>so i think we need an extension defined for 'root' as a concept or 'roots' as a valueset.   the question is if there would be any use cases for the second option or should we just go with the first.</p>



<a name="264318948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264318948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Payne <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264318948">(Dec 09 2021 at 15:41)</a>:</h4>
<p>Something like this? Here's the ICD-11 MMS codesystem in FHIR: <a href="https://icdapitest2.azurewebsites.net/fhir/CodeSystem/ICD11-MMS-2021-05/">https://icdapitest2.azurewebsites.net/fhir/CodeSystem/ICD11-MMS-2021-05/</a></p>
<p>An example of how we might add a root extension to the CodeSystem response. (I'm new to extensions, so definitely looking for input!) And need to draft the structure definition...</p>
<div class="codehilite"><pre><span></span><code>  &quot;_root&quot;: {
    &quot;extension&quot;: [
      {
        &quot;extension&quot;: [
          {
            &quot;url&quot;: &quot;root&quot;,
            &quot;valueCode&quot;: &quot;455013390&quot;
          }
        ],
        &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/codeSystemRoot&quot;
      }
    ]
  },
</code></pre></div>



<a name="264320277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264320277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264320277">(Dec 09 2021 at 15:50)</a>:</h4>
<p>I think that looks pretty good (I didn't try to verify the syntax).  SNOMED CT has exactly the same situation with a root concept (138875005 |SNOMED CT Concept (SNOMED RT+CTV3)|), but this issue has never come up there (or with any other code system) that I am aware of.  Again, though, an extension as Jonathan is proposing I think is likely going to be the cleanest and best way to do this.  I agree with the other comments about using a value set - it seems that trying to use ValueSet probably doesn't add anything here (and may be more cumbersome).</p>



<a name="264352189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264352189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264352189">(Dec 09 2021 at 19:16)</a>:</h4>
<blockquote>
<p>One option is to have CodeSystem.concept have a single concept in it, which is the root, but that seems perhaps a misleading</p>
</blockquote>
<p>Why is that misleading? Why isn't the simplest solution the best?</p>



<a name="264352212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264352212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264352212">(Dec 09 2021 at 19:16)</a>:</h4>
<p>and why did no one talk about a property based solution?</p>



<a name="264355295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264355295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264355295">(Dec 09 2021 at 19:40)</a>:</h4>
<p>Yes, I think that a property could work.  It maybe is the most obvious solution - and could handle either the single or multiple root cases.  Presumably (in most cases) the property(ies) would need to be added in a code system supplement - since if they were already present in the code system itself then we most likely wouldn't be having this discussion.</p>



<a name="264357214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264357214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264357214">(Dec 09 2021 at 19:54)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="193544">@Jonathan Payne</span> is making his own one up. I'm not aware of an agreed fhir distribution of icd-11 at least</p>



<a name="264366905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264366905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264366905">(Dec 09 2021 at 21:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264352189">said</a>:</p>
<blockquote>
<blockquote>
<p>One option is to have CodeSystem.concept have a single concept in it, which is the root, but that seems perhaps a misleading</p>
</blockquote>
<p>Why is that misleading? Why isn't the simplest solution the best?</p>
</blockquote>
<p>Receiving system could say - oh wow here is a code system with only one code in it.   The definition says "Concepts that are in the code system. The concept definitions are inherently hierarchical, but the definitions must be consulted to determine what the meanings of the hierarchical relationships are." and I would think it is a larger assumption to interpret this sentence as "Some of the concepts that are..." rather then "If present, all of the concepts that are"</p>



<a name="264367036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264367036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264367036">(Dec 09 2021 at 21:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264357214">said</a>:</p>
<blockquote>
<p>I think <span class="user-mention silent" data-user-id="193544">Jonathan Payne</span> is making his own one up. I'm not aware of an agreed fhir distribution of icd-11 at least</p>
</blockquote>
<p>No, <span class="user-mention" data-user-id="193544">@Jonathan Payne</span>  and I working with the ICD-11 team on this.  They have started adding SVCM support and this was the one major gap.  There is initial support for FHIR in the ICD-API.</p>



<a name="264367156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264367156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264367156">(Dec 09 2021 at 21:13)</a>:</h4>
<p>we are trying to figure out what to get back to the ICD-11 API dev lead as needed changes in their FHIR API response.</p>



<a name="264368528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264368528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264368528">(Dec 09 2021 at 21:24)</a>:</h4>
<blockquote>
<p>Receiving system could say - oh wow here is a code system with only one code in it</p>
</blockquote>
<p>yeah well, receiving system could just as well say, 'I never even looked for any concepts at all'. That would be the same thing  - ignoring an element in the resource. So I think that shouldn't be an issue</p>



<a name="264368664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264368664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264368664">(Dec 09 2021 at 21:25)</a>:</h4>
<p>great. I'm happy to be in on the conversation - I've been talking to Can about this (though not recently). Have you looked at the importer I already wrote?</p>



<a name="264368743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264368743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264368743">(Dec 09 2021 at 21:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264368664">said</a>:</p>
<blockquote>
<p>great. I'm happy to be in on the conversation - I've been talking to Can about this (though not recently). Have you looked at the importer I already wrote?</p>
</blockquote>
<p>I have not seen that.</p>



<a name="264368848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264368848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264368848">(Dec 09 2021 at 21:27)</a>:</h4>
<p><a href="https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.convertors/src/main/java/org/hl7/fhir/convertors/misc/ICD11Generator.java">https://github.com/hapifhir/org.hl7.fhir.core/blob/master/org.hl7.fhir.convertors/src/main/java/org/hl7/fhir/convertors/misc/ICD11Generator.java</a></p>



<a name="264368927"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264368927" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264368927">(Dec 09 2021 at 21:27)</a>:</h4>
<p>I have no need to continue to maintain that, btw. Just for consideration around consistency, though it's draft, so it's not authoritative in any way</p>



<a name="264369083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264369083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264369083">(Dec 09 2021 at 21:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191405">Rob Hausam</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264355295">said</a>:</p>
<blockquote>
<p>Yes, I think that a property could work.  It maybe is the most obvious solution - and could handle either the single or multiple root cases.  Presumably (in most cases) the property(ies) would need to be added in a code system supplement - since if they were already present in the code system itself then we most likely wouldn't be having this discussion.</p>
</blockquote>
<p>OK.  That's better than a extension and less ambiguous  as to the intent of singleton list of conepts.</p>



<a name="264369310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264369310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264369310">(Dec 09 2021 at 21:30)</a>:</h4>
<p>oh... wait.   There is no property.type code that we could use as 'root' and it is not extensible.</p>



<a name="264369413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264369413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264369413">(Dec 09 2021 at 21:31)</a>:</h4>
<p>so what did you intend here?</p>



<a name="264372215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264372215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264372215">(Dec 09 2021 at 21:53)</a>:</h4>
<p>the type would be boolean - true | false. The code you're thinking about goes in CodeSystem.property.code - whatever you want, with your definition. If you want a formally defined thing, then use URL like <a href="http://hl7.org/fhir/concept-properties#root">http://hl7.org/fhir/concept-properties#root</a> (we'd have to define that code in the code system)</p>



<a name="264372519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264372519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264372519">(Dec 09 2021 at 21:56)</a>:</h4>
<p>We use a filter of `parent exists false</p>



<a name="264372607"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264372607" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264372607">(Dec 09 2021 at 21:56)</a>:</h4>
<p>To determine root concepts (ie in a valueSet)</p>



<a name="264372674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264372674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264372674">(Dec 09 2021 at 21:57)</a>:</h4>
<p>This is how the Shrimp browser determines hierarchy roots.</p>



<a name="264372772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264372772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264372772">(Dec 09 2021 at 21:58)</a>:</h4>
<p>Adding a property to specify this means that it can be wrong, which can lead to strange behaviour from a user oerspective</p>



<a name="264373818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264373818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264373818">(Dec 09 2021 at 22:04)</a>:</h4>
<p>Shrimp is a SMART app and can  be launched to point at any FHIR terminology server (assuming CORS is permitted).<br>
<a href="https://ontoserver.csiro.au/shrimp/launch.html?iss=[endpoint]">https://ontoserver.csiro.au/shrimp/launch.html?iss=[endpoint]</a></p>



<a name="264374164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264374164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264374164">(Dec 09 2021 at 22:07)</a>:</h4>
<p>Shrimp does rely on being able to POST a ValueSet to the $expand operation to drive the hierarchy view</p>



<a name="264375689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264375689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264375689">(Dec 09 2021 at 22:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191343">Michael Lawley</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264374164">said</a>:</p>
<blockquote>
<p>Shrimp does rely on being able to POST a ValueSet to the $expand operation to drive the hierarchy view</p>
</blockquote>
<p>SVCM 3.97 has a GET for this.  Why POST? <a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_SVCM.pdf">https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_SVCM.pdf</a></p>



<a name="264375786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264375786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264375786">(Dec 09 2021 at 22:20)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191343">Michael Lawley</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264372519">said</a>:</p>
<blockquote>
<p>We use a filter of `parent exists false</p>
</blockquote>
<p><span class="user-mention" data-user-id="193544">@Jonathan Payne</span> <span class="user-mention" data-user-id="340886">@Joe Amlung</span> <span class="user-mention" data-user-id="193278">@jon payne</span> would this work for ICD-11-API+FHIR and OCL?</p>



<a name="264375820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264375820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264375820">(Dec 09 2021 at 22:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191343">Michael Lawley</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264372772">said</a>:</p>
<blockquote>
<p>Adding a property to specify this means that it can be wrong, which can lead to strange behaviour from a user oerspective</p>
</blockquote>
<p>OK. Thanks</p>



<a name="264376234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264376234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264376234">(Dec 09 2021 at 22:25)</a>:</h4>
<p>POST means that the ValueSet doesn't need to exist on the server -- Shrimp can construct them on the fly and get them $expanded and thus work with a readonly server</p>



<a name="264376522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264376522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264376522">(Dec 09 2021 at 22:27)</a>:</h4>
<p>From the spec, POST is primary and GET is "additional" for idempotent operations:</p>
<blockquote>
<p>3.2.0.1 Executing an Operation <br>
Operations are executed using a URL derived from the FHIR endpoint, where the name of the operation is prefixed by a "dollar sign" ('$') character. For example:<br>
<code>POST http://fhir.someserver.org/fhir/Patient/1/$everything</code><br>
When an operation has affectsState = false, and the parameters are all primitive data types with no extensions (as is the case with the example above), it may be invoked using GET as well.</p>
</blockquote>



<a name="264380032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264380032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264380032">(Dec 09 2021 at 23:00)</a>:</h4>
<p>not sure if I fully understand here.   under 2) here <a href="http://hl7.org/fhir/valueset.html#expansion">http://hl7.org/fhir/valueset.html#expansion</a> it shows a GET as an example.   expansion should be an idempotent operation.  why would POST allow an expansion against a valueset that does not exist on the server while GET would not allow?</p>



<a name="264380286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264380286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264380286">(Dec 09 2021 at 23:03)</a>:</h4>
<p>and here <a href="http://hl7.org/fhir/R4/terminology-service.html#expand">http://hl7.org/fhir/R4/terminology-service.html#expand</a> there is not difference in expected behavior between GET and POST.  I had understood that one of the main reason for POST is that there are practical limitations in GET request parameters (e.g. <a href="https://stackoverflow.com/questions/2659952/maximum-length-of-http-get-request">https://stackoverflow.com/questions/2659952/maximum-length-of-http-get-request</a>)</p>



<a name="264380311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264380311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264380311">(Dec 09 2021 at 23:03)</a>:</h4>
<p>(trying to understand if there is a reason for a change request against SVCM or not)</p>



<a name="264380378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264380378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264380378">(Dec 09 2021 at 23:04)</a>:</h4>
<p>Yes, in a GET, there's no way to include the ValueSet definition in the request URL</p>



<a name="264380388"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264380388" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264380388">(Dec 09 2021 at 23:04)</a>:</h4>
<p>well, there is, but it's not convenient or reliable</p>



<a name="264380419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264380419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264380419">(Dec 09 2021 at 23:05)</a>:</h4>
<p>and I don't even know whether my server supports GET for that</p>



<a name="264380520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264380520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264380520">(Dec 09 2021 at 23:06)</a>:</h4>
<p>oh! -Where is that documented?</p>



<a name="264381031"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264381031" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264381031">(Dec 09 2021 at 23:13)</a>:</h4>
<p>where is what documented?</p>



<a name="264381056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264381056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264381056">(Dec 09 2021 at 23:13)</a>:</h4>
<p>no actually, i lie:</p>



<a name="264381069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264381069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264381069">(Dec 09 2021 at 23:13)</a>:</h4>
<blockquote>
<p>When an operation has affectsState = false, and the parameters are all primitive data types with no extensions (as is the case with the example above), it may be invoked using GET as well.</p>
</blockquote>



<a name="264381134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264381134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264381134">(Dec 09 2021 at 23:14)</a>:</h4>
<p>so technically you could squeeze a value set into the URL, but we said not to</p>



<a name="264381209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264381209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264381209">(Dec 09 2021 at 23:15)</a>:</h4>
<p>anyway <span class="user-mention" data-user-id="191604">@Carl Leitner</span> it's purely an encoding difference - GET/POST are the same in terms of meaning: do an expansion on this value set that you haven't previously seen.</p>



<a name="264381234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264381234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264381234">(Dec 09 2021 at 23:15)</a>:</h4>
<p>I make extensive use of this technique</p>



<a name="264381350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264381350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264381350">(Dec 09 2021 at 23:17)</a>:</h4>
<p><span class="user-mention" data-user-id="193544">@Jonathan Payne</span>  <span class="user-mention" data-user-id="193299">@Luke Duncan</span>  flagging for you for SVCM.  Looks like we may need it to support both a GET and a POST</p>



<a name="264381352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264381352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264381352">(Dec 09 2021 at 23:17)</a>:</h4>
<p>One thing on my todo list is a FHIR ValueSet equivalent of SNOMED's ECL and then we can define compact implicit ValueSets URIs for use in GET requests</p>



<a name="264396974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264396974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Duncan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264396974">(Dec 10 2021 at 02:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191604">Carl Leitner</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264381350">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="193544">Jonathan Payne</span>  <span class="user-mention silent" data-user-id="193299">Luke Duncan</span>  flagging for you for SVCM.  Looks like we may need it to support both a GET and a POST</p>
</blockquote>
<p>I believe there may be an appendix that calls out POST and GET can be used, but I'll double check and we can specifically call it out when I convert it to an IG format.</p>



<a name="264480806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264480806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Payne <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264480806">(Dec 10 2021 at 17:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264372215">said</a>:</p>
<blockquote>
<p>the type would be boolean - true | false. The code you're thinking about goes in CodeSystem.property.code - whatever you want, with your definition. If you want a formally defined thing, then use URL like <a href="http://hl7.org/fhir/concept-properties#root">http://hl7.org/fhir/concept-properties#root</a> (we'd have to define that code in the code system)</p>
</blockquote>
<p>Catching up- sounds like the use of a CodeSystem property may be the way to go? Seems like this works well if only a single root -- would this method work for a multi-root system? (Do we need to worry about that use case?)</p>



<a name="264482080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264482080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264482080">(Dec 10 2021 at 17:46)</a>:</h4>
<p>no <span class="user-mention" data-user-id="193544">@Jonathan Payne</span>  i think the filter approach that <span class="user-mention" data-user-id="191343">@Michael Lawley</span>  is best.</p>



<a name="264485903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264485903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Payne <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264485903">(Dec 10 2021 at 18:12)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191604">Carl Leitner</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264482080">said</a>:</p>
<blockquote>
<p>no <span class="user-mention silent" data-user-id="193544">Jonathan Payne</span>  i think the filter approach that <span class="user-mention silent" data-user-id="191343">Michael Lawley</span>  is best.</p>
</blockquote>
<p>Got it- thanks <span class="user-mention" data-user-id="191604">@Carl Leitner</span> for pointing that out - I missed that. And good approach <span class="user-mention" data-user-id="191343">@Michael Lawley</span> </p>
<p>There's the possibility of orphaned codes that would be returned with the <code>parent exists false</code> approach, in which case you'd also need to look at whether a code also had children. This probably wouldn't be a concern in a major reference vocabulary, but could easily see this happening with other content.</p>



<a name="264494584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264494584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carl Leitner <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264494584">(Dec 10 2021 at 19:13)</a>:</h4>
<p>(<span class="user-mention" data-user-id="193544">@Jonathan Payne</span>  and <span class="user-mention" data-user-id="340886">@Joe Amlung</span>  assuming you will coordinate with Can if any changes are needed, but please let me know if I am wrong)</p>



<a name="264496114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/264496114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joe Amlung <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#264496114">(Dec 10 2021 at 19:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191604">Carl Leitner</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264494584">said</a>:</p>
<blockquote>
<p>(<span class="user-mention silent" data-user-id="193544">Jonathan Payne</span>  and <span class="user-mention silent" data-user-id="340886">Joe Amlung</span>  assuming you will coordinate with Can if any changes are needed, but please let me know if I am wrong)</p>
</blockquote>
<p>We will coordinate with Can about this. We are drafting the recommendations and feedback for ICD-11's FHIR API in <a href="https://docs.google.com/document/d/1x4-QnX_2tqBBnHNH-IilUHdvwTZ8Z5mkb0lKcYooyYk/edit#heading=h.2fkwb08aa8fu">this document</a>.</p>



<a name="270436788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/270436788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Payne <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#270436788">(Feb 02 2022 at 18:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191343">Michael Lawley</span> <a href="#narrow/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem/near/264372519">said</a>:</p>
<blockquote>
<p>We use a filter of `parent exists false</p>
</blockquote>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> do you think you could provide a quick example (i.e. the body of the POST request) of how shrimp uses $expand to filter by parents exists false?</p>



<a name="270478858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/270478858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#270478858">(Feb 03 2022 at 00:00)</a>:</h4>
<p>Sure, here's a ValueSet definition for the root concepts in LOINC:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValueSet"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"urn:loinc-root-concepts"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Find root concept"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"compose"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"property"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parent"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exists"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="nt">"system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://loinc.org"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Find_root_concept"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>There's a couple of caveats to bear in mind.  You may also want to limit the expansion to just active concepts since this definition will also find "orphan" concepts and in some code systems, inactive concepts are removed from the hierarchy. Hence, if you do this with SNOMED, then you'll get a lot of undesirable codes (or you can add <code>inactive = false</code> as an additional filter condition:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"resourceType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValueSet"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"urn:sct-root-concepts"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Find root concept"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"draft"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"compose"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">"include"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"property"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parent"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exists"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w"></span>
<span class="w">          </span><span class="p">},</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">"property"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inactive"</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"="</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="nt">"system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://snomed.info/sct"</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Find_root_concept"</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="270623193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ICD-11%20%2B%20root%20of%20a%20codesystem/near/270623193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Payne <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ICD-11.20.2B.20root.20of.20a.20codesystem.html#270623193">(Feb 03 2022 at 21:49)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="191343">@Michael Lawley</span> ! Really really helpful, especially your comment on the orphaned concepts. Will play around with this and see if this approach works for the ICD11 FHIR endpoint.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
