---
layout: page
title: "FHIR Chat  · What should populate Valueset-expansionSource? · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html">What should populate Valueset-expansionSource?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="161780108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/161780108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#161780108">(Mar 26 2019 at 16:42)</a>:</h4>
<p>During our ValueSet Expansion call today we were wondering what existing FHIR Terminology server implementations are using to populate <a href="http://hl7.org/fhir/extension-valueset-expansionsource.html" target="_blank" title="http://hl7.org/fhir/extension-valueset-expansionsource.html">http://hl7.org/fhir/extension-valueset-expansionsource.html</a>. We think this should be some sort of direct link to the actual physical versioned value set definition that was used to create the expansion. Can someone that has implemented this (or plans to) comment?</p>



<a name="161785581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/161785581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#161785581">(Mar 26 2019 at 17:40)</a>:</h4>
<p>What is the difference between this extension and ValueSet.url property?</p>



<a name="161787520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/161787520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#161787520">(Mar 26 2019 at 18:00)</a>:</h4>
<p>ValueSet.url is the canonical identifier for the value set.  expansion-source is the URL of the terminology server that provides authoritative expansions.</p>



<a name="161788369"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/161788369" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#161788369">(Mar 26 2019 at 18:09)</a>:</h4>
<p>(deleted)</p>



<a name="161789415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/161789415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#161789415">(Mar 26 2019 at 18:21)</a>:</h4>
<p>The definition of the extension says "The logical URL of the ValueSet definition that was used to generate this expansion."<br>
<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> you mean it should be the url of the server not of the value set?</p>



<a name="161789754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/161789754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#161789754">(Mar 26 2019 at 18:26)</a>:</h4>
<p>Yeah, that definition makes absolutely no sense to me.</p>



<a name="161789765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/161789765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#161789765">(Mar 26 2019 at 18:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> ?</p>



<a name="161802430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/161802430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#161802430">(Mar 26 2019 at 21:02)</a>:</h4>
<p>I have not implemented this, and I'll be surprised if anyone else, since it's a real corner case that arose from the VSD project. I think the definition is broken in that it should say 'literal URL' not logical URL</p>



<a name="161811435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/161811435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#161811435">(Mar 26 2019 at 23:07)</a>:</h4>
<p>value set definitions don't have independent urls<br>
it would be the canonical url of the value set (ValueSet.url) that contains the 'compose' that the expansion was generated from<br>
and it's not needed except in the case of a "bare" expansion which is persisted and distributed without the compose (not generally good practice, imo, but not explicitly disallowed)<br>
I think actually, if this is done at all, the canonical url should be the same both with and without the 'compose' present, so if we did that then it doesn't seem like there would be a need to have the extension<br>
maybe I'm forgetting something from our earlier discussion, but if I am I can't remember what it is :)<br>
the extension documentation at present doesn't offer any useful explanation</p>



<a name="161825608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/161825608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#161825608">(Mar 27 2019 at 03:30)</a>:</h4>
<p>the thing was if the value set had moved from it's canonical url</p>



<a name="162076739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/162076739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#162076739">(Mar 29 2019 at 19:25)</a>:</h4>
<p>As I alluded to in my OP, I'd agree with <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> that what makes sense to me, FWIW, is this would be the "Literal url" of the specific resource instance used to create the expansion. Of course, that should be a versioned instance of the value set.  I'll note, this is not the "trusted -expansion". If that suggestion doesn't fly, then I'd be ok with expansionSource holding a <em>versioned</em> canonical url for the value set resource actually used to generate the expansion.</p>



<a name="162076838"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/162076838" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#162076838">(Mar 29 2019 at 19:27)</a>:</h4>
<p>the value set already has url + version in it; no need to repeat that somewhere. I think it's the literal source not the canonical url</p>



<a name="162140663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/162140663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#162140663">(Mar 30 2019 at 21:55)</a>:</h4>
<p>What is the difference between literal source and canonical url?</p>



<a name="162150950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/162150950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#162150950">(Mar 31 2019 at 02:31)</a>:</h4>
<p>canonical URI is fixed in the resource and doesn't change as you move it around. Literal URL is where you actually got it from - which might be some repository or cache</p>



<a name="162150997"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/162150997" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#162150997">(Mar 31 2019 at 02:32)</a>:</h4>
<p>e.g. I can get R3 canonical http:/hl7.org/fhir/ValueSet/yesnomaybe from  the literal location http:/hl7.org/fhir/STU3/ValueSet/yesnomaybe</p>



<a name="162548042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/What%20should%20populate%20Valueset-expansionSource%3F/near/162548042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carol Macumber <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/What.20should.20populate.20Valueset-expansionSource.3F.html#162548042">(Apr 04 2019 at 17:26)</a>:</h4>
<p>Agree with Grahame and Rob, that Valueset-expansionSource would be the "Literal url" of the specific resource instance used to create the expansion</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
