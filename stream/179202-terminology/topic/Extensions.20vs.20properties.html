---
layout: page
title: "FHIR Chat  · Extensions vs properties · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html">Extensions vs properties</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="159055972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/159055972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#159055972">(Feb 21 2019 at 10:27)</a>:</h4>
<p>Wondering what the rationale was to use the property bag in terminology vs using extensions like in rest of fhir.</p>



<a name="159078610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/159078610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#159078610">(Feb 21 2019 at 15:51)</a>:</h4>
<p>Properties fall within the 80% for code systems.  We also need them to filter valuesets</p>



<a name="160259481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160259481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160259481">(Mar 08 2019 at 03:09)</a>:</h4>
<p>Just a question on this, does the terminology stuff support extensions (technically yes) but do these then flow through the expansions?<br>
Do if I put an extension on a concept in a code system and this is returned in an expansion on a valueset, should the extensions come too?<br>
(the properties don't as there is no place to put them)</p>



<a name="160260284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160260284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160260284">(Mar 08 2019 at 03:25)</a>:</h4>
<p>Extending concepts in a Code System is facilitated by Code System Supplements  see <a href="http://hl7.org/fhir/codesystem.html" target="_blank" title="http://hl7.org/fhir/codesystem.html">http://hl7.org/fhir/codesystem.html</a> at 4.8.8; noting the caveat on their use in ValueSet expansions in the 'trial use' box.</p>



<a name="160264061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160264061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160264061">(Mar 08 2019 at 04:58)</a>:</h4>
<p>I don't think supplements help with getting extra information back in an expansion (it can add properties, but they won't/can't come back in an expansion any more than other CodeSystem properties can).</p>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> was talking about something like a ValueSet/$lookup operation, that might meet some of the needs, in <a href="#narrow/stream/179202-terminology/topic/ValueSet.2F.24lookup" title="#narrow/stream/179202-terminology/topic/ValueSet.2F.24lookup">https://chat.fhir.org/#narrow/stream/179202-terminology/topic/ValueSet.2F.24lookup</a></p>



<a name="160280410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160280410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160280410">(Mar 08 2019 at 10:56)</a>:</h4>
<p>So, in summary, terminology expansion has no standard extensibility mechanism.</p>



<a name="160302850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160302850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160302850">(Mar 08 2019 at 16:20)</a>:</h4>
<p>You all are much more knowledgable on the technical issues, but <span class="user-mention" data-user-id="191364">@Peter Jordan</span> is exactly correct that code system supplements is intended to allow you to add properties and additional relationships to a code system, they just can not add additional concepts (that is a code system fragment). </p>
<p>It was our intent to be able to specify that an expansion operation use any number of supplements when generating the expand with the expectation that the result would include anything added in the supplement. <span class="user-mention" data-user-id="191376">@Jim Steel</span> you seem to say something different? </p>
<p>As for code system $lookup (or valueset $lookup) - I certainly assume the same behavior. In fact, the whole point of a supplement (or a fragment) is that they can be added to the code system <strong>for any operation.</strong> <span class="user-mention" data-user-id="191405">@Rob Hausam</span>  am I missing something?</p>



<a name="160342725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160342725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160342725">(Mar 09 2019 at 01:31)</a>:</h4>
<p>My point (and my understanding of the original question from <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> ) was that the concept elements that come back in a ValueSet from an $expand request cannot currently have properties in them. So regardless of whether the property values are defined in the original CodeSystem or in a supplement, they cannot currently come back in the result of $expand.</p>



<a name="160343019"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160343019" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160343019">(Mar 09 2019 at 01:37)</a>:</h4>
<p>Correct, and same with extensions on the concepts in the code system. They don't d<br>
Come back either.</p>



<a name="160344966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160344966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160344966">(Mar 09 2019 at 02:22)</a>:</h4>
<p>Depends what you mean by 'extensions' in this context (extensions on one of the coded data types?). Supplements that are additional designations (e.g. an alternative language) can be returned in ValueSet expansions. However, as Jim says, properties cannot - whether they are part of the 'core' Code System or supplementary properties; at present, these are only returned by a CodeSystem $lookup operation.</p>



<a name="160348056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160348056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160348056">(Mar 09 2019 at 03:40)</a>:</h4>
<blockquote>
<p>at present, these are only returned by a CodeSystem $lookup operation</p>
</blockquote>
<p>And there are a couple of (informal) proposals floating around to either:<br>
1. extend <code>/ValueSet/$expand</code> so that it can return a concept's properties, or<br>
2. introduce <code>/ValueSet/$lookup</code> that acts just like <code>/CodeSystem/$lookup</code> but that takes a valueset as a parameter instead of a code and does a <code>$lookup</code> on all members of the valueset's expansion</p>
<p>From one perspective, option 1 seems like the most straightforward. However, I have also proposed something like <code>/ValueSet/$translate</code> to enable (efficient) batch-translation of multiple concepts. So option 2 is really about having a consistent mechanism for performing terminology operations on a set of codes rather than just a single code.</p>



<a name="160757137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160757137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160757137">(Mar 14 2019 at 07:14)</a>:</h4>
<p>so there's no simple way to pipe operations because you need some language to transform between first output and second input - and it rapidly gets yucky.</p>



<a name="160757162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160757162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160757162">(Mar 14 2019 at 07:15)</a>:</h4>
<p>right now, the only way to do this is </p>
<ul>
<li>$expand to get the list. Note that supplements may alter the list if it's specified extensionally based on properties and the supplements provide values for the properties</li>
<li>N $lookups to get the properties</li>
</ul>



<a name="160757177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160757177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160757177">(Mar 14 2019 at 07:15)</a>:</h4>
<p>this is one of 3 deficiencies in the API that we need to solve. I'd like to pilot a proposal at Montreal on this.</p>



<a name="160757291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160757291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160757291">(Mar 14 2019 at 07:18)</a>:</h4>
<p>the other deficiencies:</p>
<ul>
<li>a single call that takes any kind of resource and populates all the display values </li>
<li>dealing with the v2/CDA/openEHR issues (alternative system identifiers)</li>
</ul>



<a name="160775295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/160775295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#160775295">(Mar 14 2019 at 12:36)</a>:</h4>
<p>Are you going to make the proposal for the alternative to $expand --&gt; N $lookups?  What do you mean by pilot for this?</p>



<a name="167259141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/167259141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#167259141">(Jun 04 2019 at 05:47)</a>:</h4>
<p>ping on this. Can we talk about this at DevDays?</p>



<a name="167284702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/167284702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#167284702">(Jun 04 2019 at 11:57)</a>:</h4>
<p>Sure.  Sounds like a good plan.</p>



<a name="167305552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/167305552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#167305552">(Jun 04 2019 at 15:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Coincidentally we are just getting back to focusing on this problem.   I won't be at DevDays, unfortunately, but I like the <a href="#narrow/stream/179202-terminology/topic/Specifying.20additional.20properties.20for.20ValueSet" title="#narrow/stream/179202-terminology/topic/Specifying.20additional.20properties.20for.20ValueSet">proposal you made last year</a> where you wrote:</p>
<p>"an alternative approach which is more value set centric - and probably better for getting properties, is to add to value set (probably extensions for now) a column : string 0..* for each contains, and a column: {name, uri, type} to the expansion that defines the columns. and some kind of column= parameter in the $expand"</p>
<p>Related to this problem for us, and possibly worth looking at together, is the need for the client to select which properties are searched during an $expand.</p>



<a name="167335245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/167335245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#167335245">(Jun 04 2019 at 20:59)</a>:</h4>
<p>Count me in on that dev days discussion</p>



<a name="167344782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/167344782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#167344782">(Jun 04 2019 at 23:44)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="191343">@Michael Lawley</span> and I would also like to be in that discussion</p>



<a name="167782535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/167782535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#167782535">(Jun 10 2019 at 18:18)</a>:</h4>
<p>pop up at DevDays: Wednesday 11.55 - 12.35: McKinley: Returning extensions in value set expansions</p>



<a name="167977627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/167977627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#167977627">(Jun 12 2019 at 19:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> You should come, its awesome ;)</p>



<a name="167979981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/167979981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#167979981">(Jun 12 2019 at 19:35)</a>:</h4>
<p>Outcomes:</p>
<p>1. define an ordinal property (can be pre-adopted in &lt;R5)<br>
 1a. change the ordinal value extension to only be used in Questionnaire (<a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22698" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=22698">GF#22698</a>)<br>
2. define a way to put properties in expansions in R5 (match the CodeSystem pattern)<br>
3. define an extension to put properties in expansions in R4 (matching the CodeSystem pattern)<br>
4. define a way for a client to ask for particular properties in expansions :    property string 0..* a code or a URI for a property that the client wishes to be returned (or *)<br>
5. define a way for a value set to specify the default returned properties <br>
6. document the use of :in to search by property value<br>
7. define a way for a value set to specify the order if filtered based on properties</p>



<a name="168282083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/168282083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#168282083">(Jun 17 2019 at 04:39)</a>:</h4>
<p>not clear how a value set provides an ordinal. More generally, is there any validity in a value set defining properties for the codes it references....</p>



<a name="168282126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/168282126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#168282126">(Jun 17 2019 at 04:40)</a>:</h4>
<p>we've said that ordinals may be defined in valuesets</p>



<a name="168684443"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/168684443" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#168684443">(Jun 21 2019 at 14:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
Help me track the discussion a bit. Here is how I have always thought of the parts going together:</p>
<ul>
<li>Value set CLD identifies concepts for expansion inclusion using <ul>
<li>concept properties or relationship data defined in the base code system, and/or</li>
<li>concept properties (ordinal or otherwise) or relationship data defined in a code system supplement (that can be crafted by anyone)</li>
</ul>
</li>
<li>I think we have allowed, but do not understand how to, define a new value set specific concept property (relations too? - like a new hierarchy?) <em>within the CLD</em> for a specified code. By this I mean enumerate a set of codes in the include and give each of the codes value set specific properties <em>valid only in the context of an expand for this value set.</em><ul>
<li>Is this what you are discussing?</li>
</ul>
</li>
</ul>
<p>What we have not clearly defined, or I don't understand, is how to </p>
<ul>
<li>specify a concept property <em>only on the results of the expansion membership</em>, ie: associate an ordinal value to only the values in the value set expansion based on <em>being in the expansion</em></li>
</ul>
<p>Then, how do you get the content used above to show up in an expansion? Also, we don't have any way that I know of to specify that <em>every</em>expansion of a value set would have specific concept properties included in the expand, correct?</p>



<a name="168712032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/168712032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#168712032">(Jun 21 2019 at 20:04)</a>:</h4>
<blockquote>
<p>Value set CLD identifies concepts for expansion inclusion</p>
</blockquote>
<p>why CLD? why not the request for the expansion itself. The CLD defines what's in the value set, but the system using the value set knows what properties it wants</p>
<blockquote>
<p>how to, define a new value set specific concept property (relations too?</p>
</blockquote>
<p>yes, that's one of things on my list </p>
<blockquote>
<p>is how to specify a concept property only on the results of the expansion membership</p>
</blockquote>
<p>That's also on the list above</p>



<a name="168712043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/168712043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#168712043">(Jun 21 2019 at 20:04)</a>:</h4>
<blockquote>
<p>how do you get the content used above to show up in an expansion</p>
</blockquote>
<p>that's the primary todo - extend expansion to cover that</p>



<a name="169138553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169138553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169138553">(Jun 27 2019 at 14:14)</a>:</h4>
<blockquote>
<p>why CLD? why not the request for the expansion itself. </p>
</blockquote>
<p>I assume you didn't follow my point. The CLD uses concept identity, properties, relations, etc. to determine expansion <em>concept</em> membership. I think you are questioning what <em>properties, etc.</em> for those concepts that would also be included in the expansion, and I agree that we don't currently use what is in the CLD to determine what other than concept codes are in the expansion. Is that your point?</p>
<blockquote>
<p>that's the primary todo - extend expansion to cover that</p>
</blockquote>
<p>Good.</p>



<a name="169141161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169141161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169141161">(Jun 27 2019 at 14:44)</a>:</h4>
<p>At least for my own purposes, I am using $expand with the filter parameter to determine what comes back in the expansion.  I don't see how the CLD has any bearing on what I am doing (though there are likely other use cases for it).  With regard to properties, I would like to:<br>
1) Specify in the $expand which properties get returned<br>
2) Specify in the $expand which properties are matched via the filter parameter (in addition to the display values)</p>



<a name="169172676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169172676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169172676">(Jun 27 2019 at 20:31)</a>:</h4>
<blockquote>
<p>I assume you didn't follow my point. The CLD uses concept identity, properties, relations, etc. to determine expansion concept membership</p>
</blockquote>
<p>ah yes. you're right.</p>



<a name="169241533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169241533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169241533">(Jun 28 2019 at 16:48)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span> Since you are at the NLM (where?) we should chat directly, offline. PM me. I'm sure I don't understand what you really mean with</p>
<blockquote>
<p>I am using $expand with the filter parameter to determine what comes back in the expansion. I don't see how the CLD has any bearing on what I am doing</p>
</blockquote>
<p>Because $expand primarily exists to run the CLD <em>for an existing ValueSet resource</em> as an operation. Are you saying you are using $expand without specifying a ValueSet resource you are expanding?</p>



<a name="169242471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169242471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169242471">(Jun 28 2019 at 17:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191503">@Robert McClure</span>  Ha!   I did not realize you were also at NLM!  It's a small world (or a large NLM). I did not mean to say the CLD was not necessary.  I will follow up with a PM.</p>



<a name="169269175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169269175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169269175">(Jun 28 2019 at 22:55)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span> for your #2, it sounds like you're describing the CLD, or in FHIR terms, the <code>ValueSet.compose</code>.  In this case you would not use the filter parameter, that is explicitly and only for matching designations, but instead POST your own ValueSet definition with whatever property constraints you want directly to the <code>/ValueSet/$expand</code> operation.</p>



<a name="169269588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169269588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169269588">(Jun 28 2019 at 23:00)</a>:</h4>
<p>I'm not sure how that would work.  In #2, I am trying to fetch expansion results for a ValueSet for which I only have the URI and some property names.  I don't see how I could POST a definition for it.   My purpose here is to support autocompletion as the user types in a field in a Questionnaire with answerValueSet.</p>



<a name="169315906"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169315906" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169315906">(Jun 29 2019 at 23:19)</a>:</h4>
<p>I presume you also have the CodeSystem URI?  Let's say it is <code>http://example.com/cs1</code>, the ValueSet URI is <code>http://example.com/vs1</code>, the text entered by the user is "foo" and there is one property of interest "myprop", then you would construct ValueSet with a compose like:</p>
<div class="codehilite"><pre><span></span>  &quot;compose&quot;: {
    &quot;include&quot;: [
      {
        &quot;system&quot;: &quot;http://example.com/cs1&quot;,
        &quot;filter&quot;: [
          {
            &quot;property&quot;: &quot;myprop&quot;,
            &quot;op&quot;: &quot;regex&quot;,
            &quot;value&quot;: &quot;foo.*&quot;
          }
        ],
        &quot;valueSet&quot;: [
          &quot;http://example.com/vs1&quot;
        ]
      }
    ]
  },
</pre></div>


<p>Which is a CLD for the intersection of the codes with a matching property and those in the ValueSet.<br>
If you have multiple properties or you also want to match against the display text, then add extra include clauses.</p>



<a name="169414792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169414792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169414792">(Jul 01 2019 at 17:38)</a>:</h4>
<p>I'll add that in an $expand you could ask for anything that is available from the code system which obviously is likely much more than what was used in the CLD to determine expansion concept membership. One of the interesting thought experiments is if you could even add additional properties to the expand return based on somehow adding in to the $expand, use of a code system supplement.</p>



<a name="169430012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169430012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169430012">(Jul 01 2019 at 20:48)</a>:</h4>
<p>The context I'm working in is Questionnaire, so I don't have a CodeSystem, but a ValueSet URI from Quesitonnaire.item.answerValueSet, and potentially some property names from the <a href="http://build.fhir.org/ig/HL7/sdc/extension-sdc-questionnaire-choiceColumn.html" target="_blank" title="http://build.fhir.org/ig/HL7/sdc/extension-sdc-questionnaire-choiceColumn.html">choiceColumn</a> extension.   The ValueSet the client is being asked to expand might be an already constrained subset of the codes of the CodeSystem, so in general, even if I had a CodeSystem URI, I could not POST my own ValueSet consisting only of the system and the filters I wanted.</p>
<p>With this scheme, I would first have to request the ValueSet resource (not expanded), edit it to add filters for matching the user's input to whichever properties were requested (by choiceColumn) and the POST the result back to server with an $expand.  Does that sound correct?  Granted, I would only have to request the ValueSet definition once per ValueSet.</p>
<p>I think it could work, but it does not seem simple or elegant.</p>



<a name="169436952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169436952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169436952">(Jul 01 2019 at 22:31)</a>:</h4>
<p>A valueset can depend on another valueset rather than a code system, but that still depends on you being able to create a new valueset (and cleanup after) or submit the whole valueset each time you want to expand (which could be a lot during data entry on an auto complete style field.<br>
And my terminology server does pre expansion, so wouldn't work very well like this.</p>



<a name="169437461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169437461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169437461">(Jul 01 2019 at 22:40)</a>:</h4>
<p>Apologies if I've missed something here - but it might be helpful to have an example of an underlying code system in this use case. If you are attempting to use filters based on properties, these must belong to a Code System (see ValueSet.compose.filter) and that Code System may have a grammar (e.g. ECL in SNOMED CT) that would enable you to make interactive $expansion requests directly to a Terminology Server without the intermediate step of posting ValueSet definitions.</p>



<a name="169438332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169438332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169438332">(Jul 01 2019 at 22:55)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> Thanks-- I had not noticed that a ValueSet could depend on another ValueSet.  That is a much better picture, assuming I can post the new valueset along with the $expand.  Creating it ahead of time and then cleaning up afterward would mean three requests, or a batch of three requests.  I wonder how many terminology servers will have similar problems.</p>



<a name="169438564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169438564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169438564">(Jul 01 2019 at 22:58)</a>:</h4>
<p>And posting it each time is going to get pretty heavy.</p>



<a name="169438705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169438705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169438705">(Jul 01 2019 at 23:00)</a>:</h4>
<p>Would mean that simple terminology servers like mine would be out, and depend on pure terminology servers.</p>



<a name="169439226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169439226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169439226">(Jul 01 2019 at 23:08)</a>:</h4>
<p>The fragment I posted above re-uses the existing bound valueset  (vs1) and adds additional constraints. It depends on the terminology server having access to that valueset, of course.<br>
There are performance considerations; POSTs cannot be cached in the HTTP layer, but they can be cached in the terminology server layer (Ontoserevr will do this, for example).</p>



<a name="169439375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169439375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169439375">(Jul 01 2019 at 23:10)</a>:</h4>
<p>What concerns me more, however, is the use-case.  If the bindings in the Questionnaire are not in your control, then how do you know it is valid to search against additional properties in the Code System(s) of the underlying bound ValueSet?</p>



<a name="169439599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169439599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169439599">(Jul 01 2019 at 23:13)</a>:</h4>
<p>Picking up on <span class="user-mention" data-user-id="191364">@Peter Jordan</span> s comment, this may be a situation where a general purpose implicit ValueSet syntax akin to SNOMED's ECL may be useful.<br>
On the other hand, if its specific to a particular CodeSystem like LOINC and its answersets, then it may be that teh FHIR Spec should define specific searching behaviour beyond the normal defaults</p>



<a name="169441945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169441945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169441945">(Jul 01 2019 at 23:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> your terminology server could always fall back to an externalised service in such a case.</p>



<a name="169485012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169485012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169485012">(Jul 02 2019 at 14:22)</a>:</h4>
<p>Whether a grammar would be helpful or not I'm not sure, but the current mechanism for specifying properties to include (for display to the user, and perhaps for the search) is through the <a href="http://build.fhir.org/ig/HL7/sdc/extension-sdc-questionnaire-choiceColumn.html" target="_blank" title="http://build.fhir.org/ig/HL7/sdc/extension-sdc-questionnaire-choiceColumn.html">choiceColumn</a> extension.  The documentation for that extension is not very helpful, but it is better described on the (SDC rendering page](<a href="http://build.fhir.org/ig/HL7/sdc/rendering.html#additional-display-content" target="_blank" title="http://build.fhir.org/ig/HL7/sdc/rendering.html#additional-display-content">http://build.fhir.org/ig/HL7/sdc/rendering.html#additional-display-content</a>).   There does not seem to be any consideration for hierarchical properties, so I think at this point a grammar is not needed (but the problem will eventually arise).</p>
<p>Anyway, to answer <span class="user-mention" data-user-id="191343">@Michael Lawley</span> 's question, the choiceColumn extension is what tells me it is valid (and required) to request those additional properties.  The client does not make up additional properties to search; is comes from the Questionnaire definition.</p>



<a name="169485634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169485634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169485634">(Jul 02 2019 at 14:29)</a>:</h4>
<p>I see <span class="user-mention" data-user-id="191343">@Michael Lawley</span> actually asked about the validity of searching against those properties, not just requesting them.  I think it is generally desirable, in an autocompletion setting, to be searching against any properties that are showing up in the list being shown to the user.  I suppose the client could check the compatibility statement to see what was allowed?  Or maybe it would just try it and fall back to searching in the display value.</p>



<a name="169713984"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169713984" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xiaocheng Luan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169713984">(Jul 05 2019 at 14:44)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="191367">Brian Postlethwaite</span> Thanks-- I had not noticed that a ValueSet could depend on another ValueSet.  That is a much better picture, assuming I can post the new valueset along with the $expand.  Creating it ahead of time and then cleaning up afterward would mean three requests, or a batch of three requests.  I wonder how many terminology servers will have similar problems.</p>
</blockquote>
<p>It appears that the "filter" is not applicable to valueSet within compose.include?</p>



<a name="169718730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169718730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169718730">(Jul 05 2019 at 15:52)</a>:</h4>
<p>It should be...</p>



<a name="169719165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169719165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169719165">(Jul 05 2019 at 15:59)</a>:</h4>
<p><span class="user-mention" data-user-id="195343">@Xiaocheng Luan</span>  which filter parameter?</p>



<a name="169724258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169724258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Xiaocheng Luan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169724258">(Jul 05 2019 at 17:31)</a>:</h4>
<blockquote>
<p><span class="user-mention silent" data-user-id="195343">Xiaocheng Luan</span>  which filter parameter?</p>
</blockquote>
<p>Good question - I wasn't clear - I meant the compose.include.filter for the use case/example of creating a ValueSet resource and send to server with the $expand request. But yes, $expand request filter parameter should still work. <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="169829546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/169829546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#169829546">(Jul 07 2019 at 22:45)</a>:</h4>
<p>If your <code>compose.include</code> has both a <code>filter</code> and a <code>valueset</code>, then it is asking for the set of concepts that are in the referenced valueset <em>and</em> match the <code>system</code> &amp; <code>filter</code>. That is, the <code>filter</code> further constrains the valueset.</p>



<a name="177211411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/177211411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#177211411">(Oct 03 2019 at 03:13)</a>:</h4>
<blockquote>
<p>Outcomes:</p>
<ol start="2">
<li>define a way to put properties in expansions in R5 (match the CodeSystem pattern)</li>
<li>define an extension to put properties in expansions in R4 (matching the CodeSystem pattern)</li>
<li>define a way for a client to ask for particular properties in expansions :    property string 0..* a code or a URI for a property that the client wishes to be returned (or *)</li>
<li>define a way for a value set to specify the default returned properties </li>
<li>document the use of :in to search by property value</li>
<li>define a way for a value set to specify the order if filtered based on properties</li>
</ol>
</blockquote>
<p>Where did we get to with defining this in R5, and was there a format for R4 to expose the properties/extensions in the valueset expansion?</p>



<a name="177215505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/177215505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#177215505">(Oct 03 2019 at 05:08)</a>:</h4>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> , think this is something that could be investigated at your NHS Terminology Connectathon?</p>



<a name="177215510"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/177215510" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#177215510">(Oct 03 2019 at 05:08)</a>:</h4>
<p>I'll try and work on a draft for this next week.</p>



<a name="177215527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/177215527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#177215527">(Oct 03 2019 at 05:09)</a>:</h4>
<p>might be time to define a ConceptDefinition data type that is used in both CodeSystem (same as what there is now) and also in ValueSet expansion</p>



<a name="177219382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/177219382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#177219382">(Oct 03 2019 at 06:51)</a>:</h4>
<p>Thanks, I'll be happy to do some POC code for it in R4 when you have a technique done.</p>



<a name="177235230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/177235230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#177235230">(Oct 03 2019 at 11:39)</a>:</h4>
<p>This topic is something that came up during the 1st day of the connectathon.</p>
<p>The main requirement articulated was the desire to be able to ask for "all properties", e.g., with <code>?property=*</code></p>
<p>This raises the question of which properties this would automatically include. For example, <code>parent</code> and <code>child</code> (in some cases child could be very large).</p>



<a name="177235803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/177235803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#177235803">(Oct 03 2019 at 11:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Can you elaborate a bit more on the ConceptDefinition data type and how you envision it working?</p>



<a name="177281330"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/177281330" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#177281330">(Oct 03 2019 at 19:58)</a>:</h4>
<p>ConceptDefinition is presently a type defined as part of the CodeSystem resource:</p>



<a name="177281454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/177281454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#177281454">(Oct 03 2019 at 19:59)</a>:</h4>
<p>code | display | definition + designation + property</p>



<a name="177281663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/177281663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#177281663">(Oct 03 2019 at 20:00)</a>:</h4>
<p>.. nah, the two boolean flags means that a trick that won't work. Will have to clone properties onto the Contains type in value set.</p>



<a name="178422597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178422597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178422597">(Oct 17 2019 at 21:19)</a>:</h4>
<p>ok I am committing parts 2,4 and 5. part 3 falls out implicitly because of <a href="http://build.fhir.org/versions.html#extensions" target="_blank" title="http://build.fhir.org/versions.html#extensions">http://build.fhir.org/versions.html#extensions</a>. So that leaves 6 and 7. I don't even remember what either of them are in detail</p>



<a name="178423701"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178423701" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178423701">(Oct 17 2019 at 21:32)</a>:</h4>
<p>7 I think, was about getting the expansion contents back ordered based on a property value - <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> ?</p>



<a name="178423870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178423870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178423870">(Oct 17 2019 at 21:35)</a>:</h4>
<p>well, there could be all sorts of sophistication there... it feels like a whole little language to itself.... But why property based? Wouldn't you want to do it with any intensional value set?</p>
<p>But why would we standardise this? is there a sweet spot?</p>



<a name="178423892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178423892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178423892">(Oct 17 2019 at 21:35)</a>:</h4>
<p>6 was about something like <code>code:in=valueset.map(c -&gt; c.property)</code> ie. not matching code against the expansion concepts, but instead against a property of the expansion's concepts</p>



<a name="178423933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178423933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178423933">(Oct 17 2019 at 21:36)</a>:</h4>
<p>I'm not convinced about 7 -- I suspect most cases could be handled by sorting client-side</p>



<a name="178424043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178424043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178424043">(Oct 17 2019 at 21:37)</a>:</h4>
<p>both 6 and 7 sound deliciously complicated</p>



<a name="178425528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178425528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178425528">(Oct 17 2019 at 21:57)</a>:</h4>
<p>indeed. 6 is somewhat related to the desire to match against code translations.<br>
i.e., say your retrieval valueset <code>vsUri</code> is defined in terms of ICD10 and your data has a mix of ICD10 and SNOMED and you have an appropriate conceptmap <code>cmUri</code> from SNOMED to ICD10.  You want to be able to say something like <code>?code:translate(cmUri):in=vsUri</code></p>



<a name="178426146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178426146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178426146">(Oct 17 2019 at 22:05)</a>:</h4>
<p>Re 3, this means in R4 we would add (complex) extensions to <code>ValueSet.expansion.contains</code> with the URI <code>http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property</code>?  What are the URI's of the nested pieces?  <code>code</code> and <code>value</code> or <code>http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property.code</code> and <code>http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property.value</code> ?</p>



<a name="178426750"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178426750" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178426750">(Oct 17 2019 at 22:14)</a>:</h4>
<p>first, I think - simple because they are part of how the extension is defined. But I'm not sure we discussed that explicitly</p>



<a name="178427695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178427695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178427695">(Oct 17 2019 at 22:28)</a>:</h4>
<p>one thing that comes out of this... we need revisit our definitions of properties. It's all a bit messed up</p>



<a name="178429147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178429147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178429147">(Oct 17 2019 at 22:52)</a>:</h4>
<p>How do relative URIs in nested extensions get resolved against the absolute parent URI in an extension.  It doesn't seem to work using normal URI resolution rules because the resolved URI for the inner extension in :</p>
<div class="codehilite"><pre><span></span>  <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/StructureDefinition/patient-citizenship&quot;</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span> <span class="nt">&gt;</span>
    ...
</pre></div>


<p>would be <code>http://hl7.org/fhir/StructureDefinition/code</code> but I strong suspect the intension is that it's something like <code>http://hl7.org/fhir/StructureDefinition/patient-citizenship/code</code></p>



<a name="178429297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178429297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178429297">(Oct 17 2019 at 22:55)</a>:</h4>
<p>The spec (<a href="http://build.fhir.org/versions.html#extensions" target="_blank" title="http://build.fhir.org/versions.html#extensions">http://build.fhir.org/versions.html#extensions</a>) says this:</p>
<blockquote>
<p>Where complex data types have no equivalent in an earlier version, use a complex extension, containing extensions also following this pattern.</p>
</blockquote>
<p>Which I can only interpret as requiring use of absolute URIs in the nested extension elements.</p>



<a name="178438587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178438587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178438587">(Oct 18 2019 at 02:36)</a>:</h4>
<p>yes I guess it does</p>



<a name="178440411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178440411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178440411">(Oct 18 2019 at 03:27)</a>:</h4>
<p>6 and 7 weren't in my list of what I was after, just the other ones.<br>
So if there is something to handle that part, i'm good to go and try things out.</p>



<a name="178440455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178440455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178440455">(Oct 18 2019 at 03:28)</a>:</h4>
<p>I'm just wrangling with the validator - will be out in the next 24 hours</p>



<a name="178440459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178440459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178440459">(Oct 18 2019 at 03:28)</a>:</h4>
<p>No stress, thanks.</p>



<a name="178445764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178445764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178445764">(Oct 18 2019 at 05:50)</a>:</h4>
<p>I'm away that Genomics England have the translate use-case, and it has also come up with UK NHS in the context of maps that deal with code replacement (eg as provided by SNOMED).  But then there's the replacedBy property which is another way of tackling this problem.</p>



<a name="178467014"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178467014" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178467014">(Oct 18 2019 at 12:08)</a>:</h4>
<p>so just to be clear about this, some example extensions in R4:</p>
<div class="codehilite"><pre><span></span>  <span class="nt">&lt;compose&gt;</span>
    <span class="nt">&lt;include&gt;</span>
      <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://hl7.org/fhir/CodeSystem/example&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/include&gt;</span>
    <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.compose.property&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;valueString</span> <span class="na">value=</span><span class="s">&quot;status&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;/extension&gt;</span>
  <span class="nt">&lt;/compose&gt;</span>
</pre></div>



<a name="178467039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178467039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178467039">(Oct 18 2019 at 12:09)</a>:</h4>
<p>that's request for a property in the expansion. And then in expansion (in json):</p>



<a name="178467413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/178467413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#178467413">(Oct 18 2019 at 12:15)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="s2">&quot;expansion&quot;</span><span class="err">:</span> <span class="p">{</span>
  <span class="nt">&quot;extension&quot;</span><span class="p">:</span> <span class="p">[{</span>
    <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.property&quot;</span><span class="p">,</span>
    <span class="nt">&quot;extension&quot;</span> <span class="p">:</span> <span class="p">[{</span>
      <span class="nt">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.property.code&quot;</span><span class="p">,</span>
      <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;PROPERTY&quot;</span>
    <span class="p">},{</span>
      <span class="nt">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.property.uri&quot;</span><span class="p">,</span>
      <span class="nt">&quot;valueUri&quot;</span><span class="p">:</span> <span class="s2">&quot;http://loinc.org/property/PROPERTY&quot;</span>
    <span class="p">}]</span>
  <span class="p">}],</span>
  <span class="nt">&quot;contains&quot;</span><span class="p">:</span> <span class="p">[{</span>
    <span class="nt">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;http://loinc.org&quot;</span><span class="p">,</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;2.50&quot;</span><span class="p">,</span>
    <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;14647-2&quot;</span><span class="p">,</span>
    <span class="nt">&quot;display&quot;</span><span class="p">:</span> <span class="s2">&quot;Cholesterol [Moles/volume] in Serum or Plasma&quot;</span><span class="p">,</span>
    <span class="nt">&quot;extension&quot;</span><span class="p">:</span> <span class="p">[{</span>
      <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="p">,</span>
      <span class="nt">&quot;extension&quot;</span> <span class="p">:</span> <span class="p">[{</span>
        <span class="nt">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property.code&quot;</span><span class="p">,</span>
        <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;PROPERTY&quot;</span>
      <span class="p">},{</span>
        <span class="nt">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property.value[x]&quot;</span><span class="p">,</span>
        <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;SCnc&quot;</span>
      <span class="p">}]</span>
    <span class="p">}]</span>
  <span class="p">},</span>
  <span class="err">...</span>
</pre></div>



<a name="188350735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/188350735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#188350735">(Feb 17 2020 at 03:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I'd like to start on pre-adoption of R5's properties in expansion results, but I'm concerned that <code>5.0</code> is not likely to work and that I may perhaps need to use <code>4.2</code> ?</p>



<a name="188350787"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/188350787" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#188350787">(Feb 17 2020 at 03:43)</a>:</h4>
<p>I</p>



<a name="188350789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/188350789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#188350789">(Feb 17 2020 at 03:43)</a>:</h4>
<p>I'm not exactly sure what you you are asking there</p>



<a name="188408946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/188408946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#188408946">(Feb 17 2020 at 21:53)</a>:</h4>
<p>Given that the (pre-)R5 version is 4.2.0, should I be using <code>http://hl7.org/fhir/4.2/StructureDefinition/extension-ValueSet.expansion.contains.property.code</code>?  That is, is there anything in the stack (validation?) that interprets these URIs?</p>



<a name="188412872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/188412872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#188412872">(Feb 17 2020 at 23:24)</a>:</h4>
<p>no. R5 extensions are not in the validator framework right now</p>



<a name="188412879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/188412879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#188412879">(Feb 17 2020 at 23:25)</a>:</h4>
<p>by any version</p>



<a name="208405464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/208405464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#208405464">(Aug 28 2020 at 23:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191367">Brian Postlethwaite</span> <a href="#narrow/stream/179202-terminology/topic/Extensions.20vs.20properties/near/177211411">said</a>:</p>
<blockquote>
<blockquote>
<p>Outcomes:</p>
<ol start="2">
<li>define a way to put properties in expansions in R5 (match the CodeSystem pattern)</li>
<li>define an extension to put properties in expansions in R4 (matching the CodeSystem pattern)</li>
<li>define a way for a client to ask for particular properties in expansions :    property string 0..* a code or a URI for a property that the client wishes to be returned (or *)</li>
<li>define a way for a value set to specify the default returned properties </li>
<li>document the use of :in to search by property value</li>
<li>define a way for a value set to specify the order if filtered based on properties</li>
</ol>
</blockquote>
<p>Where did we get to with defining this in R5, and was there a format for R4 to expose the properties/extensions in the valueset expansion?</p>
</blockquote>
<p>Are there tracker items for these things?  I am just wondering whether this exists somewhere outside this thread, so it doesn't get lost.</p>



<a name="208620582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/208620582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#208620582">(Aug 31 2020 at 21:59)</a>:</h4>
<p>And can we add it to the connectathon stream for R4?</p>



<a name="209688039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209688039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209688039">(Sep 10 2020 at 18:21)</a>:</h4>
<p>Hey all, going to do some testing on this, did an implementation of the back-port (expansion results) and wanted to run it past folks.</p>



<a name="209689412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209689412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209689412">(Sep 10 2020 at 18:31)</a>:</h4>
<p>ok</p>



<a name="209700190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209700190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209700190">(Sep 10 2020 at 19:50)</a>:</h4>
<p>How does this look to represent the contains property in the returned results in R4?<br>
Based on the def from <a href="http://build.fhir.org/valueset.html">http://build.fhir.org/valueset.html</a></p>
<div class="codehilite"><pre><span></span><code>  &lt;expansion&gt;
    &lt;contains&gt;
      &lt;extension url=&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;&gt;
        &lt;extension url=&quot;code&quot;&gt;
          &lt;valueCode value=&quot;custom-code-prop&quot; /&gt;
        &lt;/extension&gt;
        &lt;extension url=&quot;value&quot;&gt; &lt;!-- or should this be value[x]--&gt;
          &lt;valueString value=&quot;custom-code-value&quot; /&gt;
        &lt;/extension&gt;
      &lt;/extension&gt;
      &lt;system value=&quot;urn:ietf:bcp:47&quot; /&gt;
      &lt;code value=&quot;de-AT&quot; /&gt;
      &lt;display value=&quot;German (Austria)&quot; /&gt;
    &lt;/contains&gt;
    &lt;contains&gt;
      &lt;system value=&quot;urn:ietf:bcp:47&quot; /&gt;
      &lt;code value=&quot;de-CH&quot; /&gt;
      &lt;display value=&quot;German (Switzerland)&quot; /&gt;
    &lt;/contains&gt;
</code></pre></div>



<a name="209701003"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209701003" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209701003">(Sep 10 2020 at 19:56)</a>:</h4>
<p>Sorry, just updated based on notes further up that I'd missed.<br>
any reason why using the full URLs and not just simple values (as in with a complex extension?)</p>



<a name="209701818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209701818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209701818">(Sep 10 2020 at 20:02)</a>:</h4>
<p>And I don't see any changes to the R4 expand operation to ask for them either?<br>
Do we actually need to compose another valueset that expands the existing valueset and indicate that you want the properties back, and post that?</p>



<a name="209701893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209701893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209701893">(Sep 10 2020 at 20:03)</a>:</h4>
<p>no we would just pre-adopt R5 parameters in R4</p>



<a name="209702050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209702050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209702050">(Sep 10 2020 at 20:04)</a>:</h4>
<p>Sorry, missed the <code>property</code> parameter. My mistake.</p>



<a name="209702243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209702243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209702243">(Sep 10 2020 at 20:06)</a>:</h4>
<p>On that backbone element child property extension URLs, any reason for the full name and not just the short one within the context of the fully described parent?<br>
ie. <code>http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property.code</code> and not just <code>code</code></p>



<a name="209702251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209702251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209702251">(Sep 10 2020 at 20:06)</a>:</h4>
<blockquote>
<p>or should this be value[x]</p>
</blockquote>
<p>yes</p>



<a name="209702401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209702401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209702401">(Sep 10 2020 at 20:07)</a>:</h4>
<p>no. it's worse.</p>



<a name="209702420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209702420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209702420">(Sep 10 2020 at 20:07)</a>:</h4>
<p>value_x_</p>



<a name="209702634"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209702634" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209702634">(Sep 10 2020 at 20:09)</a>:</h4>
<p>This is where I should be looking right?<br>
<a href="http://build.fhir.org/versions.html#extensions">http://build.fhir.org/versions.html#extensions</a><br>
There is nothing in there on backbone elements, nor value[x]</p>



<a name="209702658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209702658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209702658">(Sep 10 2020 at 20:09)</a>:</h4>
<p>well, there is by implication on the second:</p>



<a name="209702737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209702737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209702737">(Sep 10 2020 at 20:10)</a>:</h4>
<blockquote>
<p>The [Path] is actually the <a href="http://ElementDefinition.id">ElementDefinition.id</a> from the relevant StructureDefinition for the element</p>
</blockquote>



<a name="209702813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209702813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209702813">(Sep 10 2020 at 20:11)</a>:</h4>
<p>Agree that there's nothing about backbone elements, to my surprise. Agree that the way you've done it is right.</p>



<a name="209703043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209703043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209703043">(Sep 10 2020 at 20:12)</a>:</h4>
<p>would be good to make a task on both these - to point out how value[x[ works, and to agree about backbone elemnets</p>



<a name="209703086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209703086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209703086">(Sep 10 2020 at 20:13)</a>:</h4>
<p>Will do, I'm looking to try and find where the value_x_ for <a href="http://elementdef.id">elementdef.id</a> is documented</p>



<a name="209703836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209703836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209703836">(Sep 10 2020 at 20:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> , did this ever make it into your R4 builds yet?</p>



<a name="209705296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209705296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209705296">(Sep 10 2020 at 20:33)</a>:</h4>
<p>you have to look inside the structure definition itself</p>



<a name="209707721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209707721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209707721">(Sep 10 2020 at 20:54)</a>:</h4>
<p><a href="http://jira.hl7.org/browse/FHIR-28479">J#28479</a></p>



<a name="209717628"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209717628" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209717628">(Sep 10 2020 at 22:29)</a>:</h4>
<p>As I read the spec, the reason for full URIs is that this:</p>
<blockquote>
<p>any element defined in any version of FHIR is automatically assigned an extension URL that uniquely identifies the element</p>
</blockquote>
<p>So <code>code</code> and <code>value[x]</code> have their own URIs:</p>
<ul>
<li><code>http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property.code</code></li>
<li><code>http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property.value_x_</code></li>
</ul>
<p>AFAICT, this is not the same as having a complex extension defined and then being able to use child extension references.</p>



<a name="209718408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209718408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209718408">(Sep 10 2020 at 22:39)</a>:</h4>
<p>I don't know if there's any infrastructure code that will take, for example, an R5 ValueSet and transform it to the R4 version with extensions?</p>



<a name="209718538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209718538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209718538">(Sep 10 2020 at 22:40)</a>:</h4>
<p>I'm not sure that we have real clarity here, which is one reason why we haven't merged expansion properties into the Ontoserver dev build yet.<br>
However, if <a href="http://jira.hl7.org/browse/FHIR-28479">J#28479</a> is likely to be accepted as proposed, then I'd be comfortable to bring it in, although the window for the next release is rapidly closing.</p>



<a name="209725413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209725413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209725413">(Sep 11 2020 at 00:17)</a>:</h4>
<p>I'm going to draft this into my server today to try it out with some questionnaire stuff we're doing.</p>



<a name="209742243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209742243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209742243">(Sep 11 2020 at 05:30)</a>:</h4>
<p>Have implemented and deployed this into my server now too.</p>



<a name="209896793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209896793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209896793">(Sep 12 2020 at 19:43)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> IF this is working on your server, any chance you have rxnorm installed with all it's properties? And I can access it?</p>



<a name="209897978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209897978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209897978">(Sep 12 2020 at 20:14)</a>:</h4>
<p>My server isn't anywhere near that complex. Just simple stuff manually loaded in via fhir.</p>



<a name="209923922"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209923922" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209923922">(Sep 13 2020 at 10:20)</a>:</h4>
<p>what properties would you care about for RxNorm?</p>



<a name="209950598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209950598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209950598">(Sep 13 2020 at 21:37)</a>:</h4>
<p>Now that I've done it, this same extension structure could be used on a coding too.<br>
I'm looking for a way to reference the property in a questionnaire without hitting the terminology server again.<br>
Some notes on the connectathon report out. Will follow up again later.<br>
<a href="https://confluence.hl7.org/pages/viewpage.action?pageId=86974609#id-202009Questionnaire-Notableachievements">https://confluence.hl7.org/pages/viewpage.action?pageId=86974609#id-202009Questionnaire-Notableachievements</a>:</p>



<a name="209952095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209952095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209952095">(Sep 13 2020 at 22:17)</a>:</h4>
<p>well, not so easy, because the code is relative to the definition of it.</p>



<a name="209969224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209969224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209969224">(Sep 14 2020 at 06:36)</a>:</h4>
<p>Since this is probably what people might find later if searching here for it, you should also include the valueset.expansion.property in the extensions too ensuring that the declaration of what properties were asked for and included in the output explicitly.<br>
Here is an example of it<br>
<a href="https://sqlonfhir-r4.azurewebsites.net/fhir/ValueSet/45/$expand?property=s-val">https://sqlonfhir-r4.azurewebsites.net/fhir/ValueSet/45/$expand?property=s-val</a></p>



<a name="209984279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209984279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209984279">(Sep 14 2020 at 09:58)</a>:</h4>
<p>Hmm, I ended up with the following for <code>ValueSet/$expand?url=http://snomed.info/sct?fhir_vs=ecl/&gt;&gt;33015000&amp;property=moduleId&amp;property=effectiveTime&amp;property=parent</code> (which is different):</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;ValueSet</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;language</span> <span class="na">value=</span><span class="s">&quot;en&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;url</span> <span class="na">value=</span><span class="s">&quot;http://snomed.info/sct/32506021000036107/version/20200531?fhir_vs=ecl%2F%3E%3E33015000&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;SNOMED CT ECL expression&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;status</span> <span class="na">value=</span><span class="s">&quot;active&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;experimental</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;copyright</span> <span class="na">value=</span><span class="s">&quot;This value set includes content from SNOMED CT, which is copyright © 2002+ International Health Terminology Standards Development Organisation (IHTSDO), and distributed by agreement between IHTSDO and HL7. Implementer use of SNOMED CT is not covered by this agreement&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;expansion&gt;</span>
        <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/StructureDefinition/valueset-unclosed&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;valueBoolean</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/extension&gt;</span>
        <span class="nt">&lt;identifier</span> <span class="na">value=</span><span class="s">&quot;9811e09e-d2f7-4b61-b8d5-51d0343f3750&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;timestamp</span> <span class="na">value=</span><span class="s">&quot;2020-09-14T19:54:29+10:00&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;total</span> <span class="na">value=</span><span class="s">&quot;54&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;offset</span> <span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;parameter&gt;</span>
            <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;version&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;valueUri</span> <span class="na">value=</span><span class="s">&quot;http://snomed.info/sct|http://snomed.info/sct/32506021000036107/version/20200531&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/parameter&gt;</span>
        <span class="nt">&lt;parameter&gt;</span>
            <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;count&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;valueInteger</span> <span class="na">value=</span><span class="s">&quot;2147483647&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/parameter&gt;</span>
        <span class="nt">&lt;parameter&gt;</span>
            <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;offset&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;valueInteger</span> <span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/parameter&gt;</span>
        <span class="nt">&lt;contains&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;parent&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;108191006&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;parent&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;118869008&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;parent&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;83607001&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;parent&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;120200004&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;effectiveTime&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueString</span> <span class="na">value=</span><span class="s">&quot;20020131&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;moduleId&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueString</span> <span class="na">value=</span><span class="s">&quot;900000000000207008&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://snomed.info/sct&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;120058006&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;display</span> <span class="na">value=</span><span class="s">&quot;Fallopian tube endoscopy&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/contains&gt;</span>
        <span class="nt">&lt;contains&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;parent&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;108193009&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;parent&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;392250009&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;parent&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;45835000&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;parent&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;363068004&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;parent&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;128422009&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;effectiveTime&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueString</span> <span class="na">value=</span><span class="s">&quot;20110131&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;moduleId&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueString</span> <span class="na">value=</span><span class="s">&quot;900000000000207008&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://snomed.info/sct&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;447192001&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;display</span> <span class="na">value=</span><span class="s">&quot;Electrodestruction of fallopian tube&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/contains&gt;</span>
</code></pre></div>



<a name="209987380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209987380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209987380">(Sep 14 2020 at 10:36)</a>:</h4>
<p>There is no property parent on that backbone element.</p>



<a name="209987575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209987575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209987575">(Sep 14 2020 at 10:38)</a>:</h4>
<p><code>parent</code> in your example here is a code value in the <code>code</code> child complex extension, the value Code value is to the <code>value_x_</code> extension</p>



<a name="209987712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209987712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209987712">(Sep 14 2020 at 10:40)</a>:</h4>
<p>And it's missing the property child directly under expansion which lists the code to Uri for the properties included.</p>



<a name="209988093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209988093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209988093">(Sep 14 2020 at 10:44)</a>:</h4>
<p>ah, of course, now I get the model - thanks!</p>



<a name="209988196"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209988196" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209988196">(Sep 14 2020 at 10:45)</a>:</h4>
<p>Can you see the example from my server for comparison?</p>



<a name="209989563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209989563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209989563">(Sep 14 2020 at 11:01)</a>:</h4>
<p>So this is what I have now:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;ValueSet</span> <span class="na">xmlns=</span><span class="s">&quot;http://hl7.org/fhir&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;language</span> <span class="na">value=</span><span class="s">&quot;en&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;url</span> <span class="na">value=</span><span class="s">&quot;http://snomed.info/sct/32506021000036107/version/20200531?fhir_vs=ecl%2F%3E%3E33015000&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;SNOMED CT ECL expression&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;status</span> <span class="na">value=</span><span class="s">&quot;active&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;experimental</span> <span class="na">value=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;copyright</span> <span class="na">value=</span><span class="s">&quot;This value set includes content from SNOMED CT, which is copyright © 2002+ International Health Terminology Standards Development Organisation (IHTSDO), and distributed by agreement between IHTSDO and HL7. Implementer use of SNOMED CT is not covered by this agreement&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;expansion&gt;</span>
        <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/StructureDefinition/valueset-unclosed&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;valueBoolean</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/extension&gt;</span>
        <span class="nt">&lt;identifier</span> <span class="na">value=</span><span class="s">&quot;b41ab029-ac70-41f2-919a-35993e46b1af&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;timestamp</span> <span class="na">value=</span><span class="s">&quot;2020-09-14T21:19:09+10:00&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;total</span> <span class="na">value=</span><span class="s">&quot;54&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;offset</span> <span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;parameter&gt;</span>
            <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;version&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;valueUri</span> <span class="na">value=</span><span class="s">&quot;http://snomed.info/sct|http://snomed.info/sct/32506021000036107/version/20200531&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/parameter&gt;</span>
        <span class="nt">&lt;parameter&gt;</span>
            <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;count&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;valueInteger</span> <span class="na">value=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/parameter&gt;</span>
        <span class="nt">&lt;parameter&gt;</span>
            <span class="nt">&lt;name</span> <span class="na">value=</span><span class="s">&quot;offset&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;valueInteger</span> <span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/parameter&gt;</span>
        <span class="nt">&lt;contains&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;parent&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;108191006&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;parent&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;118869008&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;parent&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;83607001&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;parent&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;120200004&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;effectiveTime&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueString</span> <span class="na">value=</span><span class="s">&quot;20020131&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;moduleId&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueString</span> <span class="na">value=</span><span class="s">&quot;900000000000207008&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://snomed.info/sct&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;120058006&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;display</span> <span class="na">value=</span><span class="s">&quot;Fallopian tube endoscopy&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/contains&gt;</span>
        <span class="nt">&lt;contains&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;parent&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;108193009&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;parent&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;392250009&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;parent&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;45835000&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;parent&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;363068004&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;parent&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;128422009&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;effectiveTime&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueString</span> <span class="na">value=</span><span class="s">&quot;20110131&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;http://hl7.org/fhir/5.0/StructureDefinition/extension-ValueSet.expansion.contains.property&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;code&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueCode</span> <span class="na">value=</span><span class="s">&quot;moduleId&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
                <span class="nt">&lt;extension</span> <span class="na">url=</span><span class="s">&quot;value_x_&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;valueString</span> <span class="na">value=</span><span class="s">&quot;900000000000207008&quot;</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;/extension&gt;</span>
            <span class="nt">&lt;system</span> <span class="na">value=</span><span class="s">&quot;http://snomed.info/sct&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;447192001&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;display</span> <span class="na">value=</span><span class="s">&quot;Electrodestruction of fallopian tube&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/contains&gt;</span>
    <span class="nt">&lt;/expansion&gt;</span>
<span class="nt">&lt;/ValueSet&gt;</span>
</code></pre></div>



<a name="209990028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209990028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209990028">(Sep 14 2020 at 11:05)</a>:</h4>
<p>That's extensive <span aria-label="laughing" class="emoji emoji-1f606" role="img" title="laughing">:laughing:</span></p>



<a name="209990121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209990121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209990121">(Sep 14 2020 at 11:06)</a>:</h4>
<p>WIP -- I posted then noticed a bug! - no way to delete the message AFAICT</p>



<a name="209991316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/209991316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#209991316">(Sep 14 2020 at 11:20)</a>:</h4>
<p>how's that?</p>



<a name="210066890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210066890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210066890">(Sep 14 2020 at 21:41)</a>:</h4>
<p>That's good, and to complete just needs the extension for the <code>valueset.expansion.property</code> to declare the full Uri for the property codes from the CodeSystem and its the same as what I've done.</p>



<a name="210072103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210072103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210072103">(Sep 14 2020 at 22:51)</a>:</h4>
<p>Hmm, interesting.  Why do properties get re-declared in the expansion?</p>



<a name="210077536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210077536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210077536">(Sep 15 2020 at 00:05)</a>:</h4>
<p>Isn't that to provide what the canonical URI is for the code declaration is that is in the concepts in the expansion?</p>



<a name="210077565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210077565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210077565">(Sep 15 2020 at 00:05)</a>:</h4>
<p>(It's in the R5 valueset definition)</p>



<a name="210077795"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210077795" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210077795">(Sep 15 2020 at 00:08)</a>:</h4>
<p>I see it in the R5 definition, but doesn't this duplicate the declaration from the CodeSystem?</p>



<a name="210077823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210077823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210077823">(Sep 15 2020 at 00:09)</a>:</h4>
<p>it's not the code system</p>



<a name="210077936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210077936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210077936">(Sep 15 2020 at 00:10)</a>:</h4>
<p>Sure, but the CodeSystem already includes this information (and presumably it is the actual source of it).  I'm wondering what the need is to replicate it?</p>



<a name="210077947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210077947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210077947">(Sep 15 2020 at 00:11)</a>:</h4>
<p>we didn't - and couldn't - make a rule that the code must match</p>



<a name="210078047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210078047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210078047">(Sep 15 2020 at 00:12)</a>:</h4>
<p>meaning that the CS make declare <code>http://example.com/prop/foo</code> and <code>foo</code> but the VS expansion may have <code>http://example.com/prop/foo</code> and <code>bar</code> ?</p>



<a name="210078061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210078061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210078061">(Sep 15 2020 at 00:12)</a>:</h4>
<p>it could. yes.</p>



<a name="210078183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210078183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210078183">(Sep 15 2020 at 00:14)</a>:</h4>
<p>So all clients need to reconcile the actual property code back to the property URI?<br>
When is this needed? (for the VS to use different property codes to the CS?)</p>



<a name="210078536"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210078536" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210078536">(Sep 15 2020 at 00:20)</a>:</h4>
<p>because an expansion can cover multiple code systems, and the code systems could define clashing property codes (which is why they also define URIs)</p>



<a name="210084394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210084394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210084394">(Sep 15 2020 at 02:14)</a>:</h4>
<p>But...you know which system any given concept is from, so the property code is always relative to that system</p>



<a name="210084403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210084403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210084403">(Sep 15 2020 at 02:14)</a>:</h4>
<p>that's true</p>



<a name="210084512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210084512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210084512">(Sep 15 2020 at 02:17)</a>:</h4>
<p>so you're effectively proposing that we should say that properties in expansions always SHALL use the code defined for the property in the code system, and the property code in the expansion is scoped by the system</p>



<a name="210084767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210084767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210084767">(Sep 15 2020 at 02:25)</a>:</h4>
<p>yes, very much so.  otherwise you're pushing significant additional complexity onto clients</p>



<a name="210084938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210084938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210084938">(Sep 15 2020 at 02:29)</a>:</h4>
<p>I don't know that we are. We're just moving the resolution to URI from the expansion to the code system.</p>



<a name="210085220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210085220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210085220">(Sep 15 2020 at 02:36)</a>:</h4>
<p>and forcing the lookup back to the codesystem too by the client as a seperate action.</p>



<a name="210085313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210085313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210085313">(Sep 15 2020 at 02:38)</a>:</h4>
<p>If it's fixed in the CodeSystem, then clients can make assumptions.  If it can be varied in the ValueSet, then clients cannot make assumptions.</p>



<a name="210085667"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210085667" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210085667">(Sep 15 2020 at 02:46)</a>:</h4>
<p>I think that's over stating it. Under the current system, it's tied to the uri defined in the code system. Michael proposes to change that being tied to the code in the code system. I'm not seeing a very significant change here</p>



<a name="210087969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210087969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210087969">(Sep 15 2020 at 03:47)</a>:</h4>
<p>It's stating that the property URI is meaningless then?</p>



<a name="210088088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210088088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210088088">(Sep 15 2020 at 03:50)</a>:</h4>
<p>I don't think that's the  case; It's still meaningful in other ways even if it's not directly implicated here</p>



<a name="210094190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210094190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210094190">(Sep 15 2020 at 06:26)</a>:</h4>
<p>My concern is whether a client can assume that the property code <code>moduleId</code> in a VS expansion on a SNOMED concept corresponds to the <code>moduleId</code> code as defined for SNOMED.  Instead, it needs to check that the associated URI listed in the VS expansion corresponds to that listed in the CS.</p>



<a name="210094282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Extensions%20vs%20properties/near/210094282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Extensions.20vs.20properties.html#210094282">(Sep 15 2020 at 06:28)</a>:</h4>
<p>I note that a <code>$lookup</code> doesn't give you back the property-code -&gt; URI mapping</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
