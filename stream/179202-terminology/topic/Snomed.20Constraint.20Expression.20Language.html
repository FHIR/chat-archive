---
layout: page
title: "FHIR Chat  · Snomed Constraint Expression Language · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html">Snomed Constraint Expression Language</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153837400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837400">(Jul 11 2016 at 23:14)</a>:</h4>
<p>I'm just looking at task <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9580" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=9580">GF#9580</a></p>



<a name="153837401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837401">(Jul 11 2016 at 23:15)</a>:</h4>
<p>it proposes replaceing the old query language reference - which I'm doing. but there's QL definitions for the othe properties. can someone provide me with equivalents for them (see QL on page <a href="http://hl7-fhir.github.io/snomedct.html" target="_blank" title="http://hl7-fhir.github.io/snomedct.html">http://hl7-fhir.github.io/snomedct.html</a>)</p>



<a name="153837409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837409">(Jul 11 2016 at 23:41)</a>:</h4>
<p>These are the "full syntax" SNOMED CT Expression Constraint Language representations that should be equivalent to the QL expressions that are currently in the SNOMED CT Filter Properties section.</p>
<p>By Subsumption: <br>
descendantOrSelfOf [concept]</p>
<p>By Reference Set:<br>
memberOf [concept]</p>
<p>These are the only two places on the page where I see the QL being referenced.  If there are other places where the ECL is needed, happy to add them.</p>



<a name="153837410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837410">(Jul 11 2016 at 23:42)</a>:</h4>
<p>yes those 2, correct. what is the ECL equivalent? </p>



<a name="153837411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837411">(Jul 11 2016 at 23:42)</a>:</h4>
<p>By Subsumption: <br>
descendantOrSelfOf [concept]<br>
By Reference Set:<br>
memberOf [concept]</p>



<a name="153837412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837412">(Jul 11 2016 at 23:43)</a>:</h4>
<p>those are the ECL equivalents</p>



<a name="153837413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837413">(Jul 11 2016 at 23:43)</a>:</h4>
<p>ah ok. they were so similar I didn't notice</p>



<a name="153837415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837415">(Jul 11 2016 at 23:44)</a>:</h4>
<p>is there an ECL for 'no post-coordination'?</p>



<a name="153837416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837416">(Jul 11 2016 at 23:45)</a>:</h4>
<p>the "[concept]" isn't actually part of the ECL, of course<br>
there is another language specification that we can use for that explicitly, if we need to </p>



<a name="153837418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837418">(Jul 11 2016 at 23:45)</a>:</h4>
<p>what would it look like in an actual example? <br>
descendantOrSelfOf234234234</p>



<a name="153837422"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837422" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837422">(Jul 11 2016 at 23:57)</a>:</h4>
<p>a real example would be, in "full" syntax (informative):</p>
<p>descendantOrSelfOf 105590001 |Substance (substance)|</p>
<p>or, in "brief" syntax (normative):</p>
<p>&lt;&lt; 105590001 |Substance (substance)|</p>
<p>that's assuming that you want to include the descriptions<br>
if you don't, it would just be: </p>
<p>descendantOrSelfOf 105590001<br>
or<br>
&lt;&lt; 105590001</p>



<a name="153837425"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837425" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837425">(Jul 11 2016 at 23:59)</a>:</h4>
<p>so sholdn't we use the brief format then? or both? </p>



<a name="153837426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837426">(Jul 12 2016 at 00:00)</a>:</h4>
<p>and is there a brief form for memberOf?</p>



<a name="153837427"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837427" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837427">(Jul 12 2016 at 00:00)</a>:</h4>
<p>regarding post-coordination, there's a sentence that states:</p>
<p>It is assumed that each particular usage of an expression constraint will clearly identify<br>
whether or not postcoordinated expressions are part of the valid substrate.</p>
<p>But I see no reference in the spec as to how that "identification" is to be done (other than text?)<br>
Maybe <span class="user-mention" data-user-id="191343">@Michael Lawley</span> or <span class="user-mention" data-user-id="192077">@Linda Bird</span> can shed more light on that, if there is some way to do it</p>



<a name="153837428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837428">(Jul 12 2016 at 00:01)</a>:</h4>
<p>yes, the brief format is preferred, as you say<br>
the brief "memberOf" is '^'<br>
we'll have to use legends to explain the symbols, of course, but that should be fine</p>



<a name="153837430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837430">(Jul 12 2016 at 00:04)</a>:</h4>
<p>ok thx</p>



<a name="153837654"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837654" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837654">(Jul 12 2016 at 14:54)</a>:</h4>
<p>One point I'd like to make is that I'm not in favor of using the phrase "refset" instead of value set. IHTSDO refset is an artifact that includes a number of things, one of which we call a value set. Let's not confuse things by using that phrase.</p>



<a name="153837687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837687">(Jul 12 2016 at 19:13)</a>:</h4>
<p>we only use it in one specific place:</p>



<a name="153837688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837688">(Jul 12 2016 at 19:13)</a>:</h4>
<p>By Reference Set <br>
Description Select a set of concepts based on their membership of a SNOMED CT reference set</p>



<a name="153837689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837689">(Jul 12 2016 at 19:13)</a>:</h4>
<p>given that this is SCT specific, we need to use the correct SCT language, and that's reference set isn't it?</p>



<a name="153837712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837712">(Jul 12 2016 at 20:28)</a>:</h4>
<p>yes, "refset" is the SNOMED CT specific term, and is the one that we should use in this particular context<br>
we shouldn't use it more broadly as an alternative to "value set", as Rob M. points out, but I don't think that is the intent</p>



<a name="153837783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837783">(Jul 13 2016 at 01:22)</a>:</h4>
<p>Note, the whitespace following the keywords in "full" syntax is mandatory (so descendantOrSelfOf12345456 would not be valid)</p>



<a name="153837784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837784">(Jul 13 2016 at 01:23)</a>:</h4>
<p>thx. that was a copy/paste error out of the spec, not into the spec, fortunately</p>



<a name="153837786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837786">(Jul 13 2016 at 01:27)</a>:</h4>
<p>Whether post coordinated expressions are "part of the valid substrate" basically means it's a context question, not a language question.  So, either the terminology server decides, or the context dictates, or the spec (eg FHIR) can say.<br>
I would argue that unless there's an archive of actual expressions somewhere in-context, then it's not useful to attempt to produce a (possibly/probably infinite) expansion of matching expressions.<br>
An ExpansionProfile parameter of "includePostcoordination" (so it defaults to false) might be useful for this?</p>



<a name="153837797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837797">(Jul 13 2016 at 01:40)</a>:</h4>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> Yes, I think that's exactly the type of situation where ExpansionProfile "includePostcoordination" should be useful</p>



<a name="153837799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837799">(Jul 13 2016 at 01:41)</a>:</h4>
<p>that would be excludePostCoordinated    </p>



<a name="153837802"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837802" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837802">(Jul 13 2016 at 01:41)</a>:</h4>
<p>as in <a href="http://hl7-fhir.github.io/expansionprofile-definitions.html#ExpansionProfile.excludePostCoordinated" target="_blank" title="http://hl7-fhir.github.io/expansionprofile-definitions.html#ExpansionProfile.excludePostCoordinated">http://hl7-fhir.github.io/expansionprofile-definitions.html#ExpansionProfile.excludePostCoordinated</a></p>



<a name="153837803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837803">(Jul 13 2016 at 01:42)</a>:</h4>
<p>well, of course that's correct :)</p>



<a name="153837807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837807">(Jul 13 2016 at 01:42)</a>:</h4>
<p>I just copied Michael</p>



<a name="153837868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837868">(Jul 13 2016 at 03:14)</a>:</h4>
<p>I really think this should be includePostCoordinated because a default of false is more useful</p>



<a name="153837871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Snomed%20Constraint%20Expression%20Language/near/153837871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Snomed.20Constraint.20Expression.20Language.html#153837871">(Jul 13 2016 at 03:21)</a>:</h4>
<p>we made it the way it is because a default of 'don't do anything' is better</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
