---
layout: page
title: "FHIR Chat  · ValueSet/$lookup · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html">ValueSet/$lookup</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="157571530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157571530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157571530">(Feb 05 2019 at 00:54)</a>:</h4>
<p>I'm currently prototyping ideas around /ValueSet/$lookup and am looking for input on what it should return:<br>
1. A Parameters resource<br>
2. A Bundle of Parameters<br>
3. A Valueset with extension elements in the ValueSet.expansion.contains<br>
4. Something else</p>
<p>I'm currently tending towards 2 for symmetry with CodeSystem/$lookup</p>



<a name="157572544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157572544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157572544">(Feb 05 2019 at 01:13)</a>:</h4>
<p>Option 1 - a single Parameters Resource containing 0...* individual parameters. Isn't that actually what the CodeSystem $lookup operation currently returns,  rather than a Bundle of Parameters Resources? I don't see the word 'Bundle' mentioned in the definition of that operation.</p>



<a name="157575908"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157575908" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157575908">(Feb 05 2019 at 02:26)</a>:</h4>
<p>The down-side of 1 is that you can just take a Parameters and nest it inside a Parameters.  Code that works for /CodeSystem/$lookup can be trivially generalised to work for this case; this is much simpler when Bundle is used (although both require the actual code to be included in the Parameters response as well)</p>



<a name="157582691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157582691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157582691">(Feb 05 2019 at 04:51)</a>:</h4>
<p>Not quite sure how a Bundle of Parameters resources is any simpler than an individual Parameters resource with multiple parameter elements.</p>



<a name="157588828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157588828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157588828">(Feb 05 2019 at 07:45)</a>:</h4>
<p>If you already have code that consumes the output of CodeSystem/$lookup, then it's simple to re-use that code by passing in each member of the Bundle.  However, if you get back a Parameters, then it contains Parts, not Parameters, so you need to re-work your original code (and we need to decide on a name for those parts).</p>



<a name="157591152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157591152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157591152">(Feb 05 2019 at 08:37)</a>:</h4>
<p>I suggest providing an example of how Parameters--&gt;parameter--&gt;part is improved by Bundle--&gt;Parameters--&gt;parameter. If the complexity in the first alternative is the <a href="http://part.name" target="_blank" title="http://part.name">part.name</a>, how is that is that reduced by the second? Using the second structure would mean that I couldn't re-use   the code from my CodeSystem $lookup operation without significant re-factoring.</p>



<a name="157610836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157610836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157610836">(Feb 05 2019 at 14:42)</a>:</h4>
<p>What is the purpose of ValueSet/$lookup and what is the difference compared to CodeSystem/$lookup?</p>



<a name="157648367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157648367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157648367">(Feb 05 2019 at 22:56)</a>:</h4>
<p>A ValueSet $lookup is a bit like a batch of CodeSystem $lookups for all of the codes in the expansion of the ValueSet</p>



<a name="157652519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157652519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157652519">(Feb 06 2019 at 00:02)</a>:</h4>
<p>Ah....so the use case is to lookup ALL of the codes in a ValueSet expansion?  Now, I understand the desire to return a Bundle of Parameters resources. I'm now wondering what the Request Parameters might look like in cases where a ValueSet contains concepts from more than one code system?</p>



<a name="157652566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157652566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157652566">(Feb 06 2019 at 00:03)</a>:</h4>
<p>the result Parameters needs to include the code itself (currently not included in the CodeSystem/$lookup) as well as the system (and version)</p>



<a name="157653884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157653884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157653884">(Feb 06 2019 at 00:28)</a>:</h4>
<p>As a concrete example, I have <code>[base]/ValueSet/$lookup?url=http://example.com/act-pi&amp;property=display&amp;property=inactive</code> returning the following</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Bundle&quot;</span><span class="p">,</span>
    <span class="nt">&quot;entry&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
                <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;387067003&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;Lopinavir&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;property&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;valueBoolean&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueBoolean&quot;</span><span class="p">:</span> <span class="kc">false</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
                <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;710109003&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;Cobicistat&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;property&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;valueBoolean&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueBoolean&quot;</span><span class="p">:</span> <span class="kc">false</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
                <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;428318002&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;Darunavir ethanolate&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;property&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;valueBoolean&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueBoolean&quot;</span><span class="p">:</span> <span class="kc">false</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
                <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;372529006&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;Indinavir&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;property&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;valueBoolean&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueBoolean&quot;</span><span class="p">:</span> <span class="kc">false</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
                <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;736536005&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;Voxilaprevir&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;property&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;valueBoolean&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueBoolean&quot;</span><span class="p">:</span> <span class="kc">false</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
                <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;386896009&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;Ritonavir&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;property&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;valueBoolean&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueBoolean&quot;</span><span class="p">:</span> <span class="kc">false</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
                <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;108701009&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;Saquinavir mesylate&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;property&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;valueBoolean&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueBoolean&quot;</span><span class="p">:</span> <span class="kc">false</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
                <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;387006009&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;Amprenavir&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;property&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;valueBoolean&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueBoolean&quot;</span><span class="p">:</span> <span class="kc">false</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
                <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;714420001&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;Paritaprevir&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;property&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;valueBoolean&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueBoolean&quot;</span><span class="p">:</span> <span class="kc">false</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resourceType&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameters&quot;</span><span class="p">,</span>
                <span class="nt">&quot;parameter&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;419409009&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;display&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;valueString&quot;</span><span class="p">:</span> <span class="s2">&quot;Tipranavir&quot;</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;property&quot;</span><span class="p">,</span>
                        <span class="nt">&quot;part&quot;</span><span class="p">:</span> <span class="p">[</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;code&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueCode&quot;</span><span class="p">:</span> <span class="s2">&quot;inactive&quot;</span>
                            <span class="p">},</span>
                            <span class="p">{</span>
                                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;valueBoolean&quot;</span><span class="p">,</span>
                                <span class="nt">&quot;valueBoolean&quot;</span><span class="p">:</span> <span class="kc">false</span>
                            <span class="p">}</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>



<a name="157654344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157654344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157654344">(Feb 06 2019 at 00:37)</a>:</h4>
<p>If this is to be based on an expansion of a ValueSet, I'm wondering if that (expanded) ValueSet would have to be passed as an input parameter to the lookup operation?</p>



<a name="157692057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157692057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157692057">(Feb 06 2019 at 14:05)</a>:</h4>
<p>Yes,  that's the <code>url</code> parameter in the call above</p>



<a name="157721825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157721825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157721825">(Feb 06 2019 at 20:13)</a>:</h4>
<p>...but that's a reference to a ValueSet Resource, not the Resource itself.</p>



<a name="157728672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157728672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157728672">(Feb 06 2019 at 21:39)</a>:</h4>
<p>oh, sorry, I misread your question.  no, the <em>expanded</em> valueset doesn't need to be supplied; it is the job of the terminology server to do the expansion.  Of course, you could POST a valueset definition that enumerates the set of codes you want to look up (a common use-case), but the operation would not rely on being supplied an existing expansion.</p>



<a name="157789576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157789576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157789576">(Feb 07 2019 at 16:22)</a>:</h4>
<p>If the purpose is to include designation in valueset expansion, why not just add property parameter to $expand operation.</p>



<a name="157835429"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157835429" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157835429">(Feb 08 2019 at 04:38)</a>:</h4>
<p>The purpose is to access arbitrary <em>properties</em> of many concepts in a single call.  Designations are already supported by $expand.</p>
<p>One option is to perform many $lookup operations in a batch request but this has performance issues:</p>
<ul>
<li>complex to optimise because the batch may consist of many things,  not just $lookup and you can't rely on all the $lookups only varying in the code/system being targeted</li>
<li>batch is always a POST and that can't be cached (at the HTTP layer)</li>
</ul>
<p>Accepting that special support for this use case is needed, it seems like a ValueSet is a reasonable way to identify the set of concepts that you're interested in; you can enumerate them in the compose or specify inclusion/exclusion criteria or use implicit ValueSets (great for SNOMED &amp; LOINC)</p>
<p>Extending ValueSet/$expand with property parameters would be one option, but there's no obvious place to put the resulting property values (they are not designations) so an extension would be needed.</p>
<p>Instead, defining ValueSet/$lookup, as above, has an appealing symmetry</p>



<a name="157865733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157865733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157865733">(Feb 08 2019 at 15:11)</a>:</h4>
<p>There is something about it notionally that still is asymmetric, I think (although I don't know how much, if at all, that matters).  When we do a $lookup on CodeSystem we are not looking up the properties for <strong>all</strong> concepts in the code system, but only for a <strong>single</strong> specified concept.  The reason for that likely is that we don't (yet) have a Concept resource, which if we had it would seem to be the logical place to attach a single concept lookup, plus from a practical standpoint looking up the properties for all of the codes in a code system in a single operation often wouldn't be useful and for many large code systems would almost certainly be intractable.  But I think it's something to keep in mind.</p>



<a name="157865848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ValueSet/%24lookup/near/157865848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ValueSet.2F.24lookup.html#157865848">(Feb 08 2019 at 15:13)</a>:</h4>
<p>ValueSet expansion already has designation in it. I don't see any problem add "properties 0..*" to valueSet.expansion.contains. This also simplifies the returning format.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
