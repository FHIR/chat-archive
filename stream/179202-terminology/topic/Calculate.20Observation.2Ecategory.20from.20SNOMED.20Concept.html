---
layout: page
title: "FHIR Chat  · Calculate Observation.category from SNOMED Concept · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html">Calculate Observation.category from SNOMED Concept</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153912941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912941">(Oct 07 2017 at 07:08)</a>:</h4>
<p>More of a SNOMED question: Is it possible to infer Observation.category from a SNOMED Concept. E.g. for a concept 160621008 (Ex-cigar smoker) would it be possible to use the CodeSystem to find out this is social-history ... Would I need to use a refset?</p>



<a name="153912944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912944">(Oct 07 2017 at 09:13)</a>:</h4>
<p>You can use the CodeSystem $subsumes operation to return any relationship between SCT codes. This will tell you that 160621008|Ex-cigar smoker| is not subsumed by 160476009|Social history|... CodeSystem/$subsumes?system=http://snomed.info/sct&amp;codeA=160621008&amp;codeB=160476009</p>
<p>These concepts come from different SCT hierarchies. Ex-cigar smoker is a clinical finding and social history an observable entity.</p>



<a name="153912945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912945">(Oct 07 2017 at 10:08)</a>:</h4>
<p>So using this example <a href="https://gist.github.com/KevinMayfield/a1921748f91e6245319132989be14909" target="_blank" title="https://gist.github.com/KevinMayfield/a1921748f91e6245319132989be14909">https://gist.github.com/KevinMayfield/a1921748f91e6245319132989be14909</a></p>



<a name="153912946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912946">(Oct 07 2017 at 10:13)</a>:</h4>
<p>I think this is true: valueQuantity 428041000124106 Occasional tobacco smoker is a child code of 229819007 Tobacco use and exposure.</p>



<a name="153912947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912947">(Oct 07 2017 at 10:13)</a>:</h4>
<p>Which in turn comes under category social-history from CodeSystem <a href="http://hl7.org/fhir/observation-category" target="_blank" title="http://hl7.org/fhir/observation-category">http://hl7.org/fhir/observation-category</a></p>



<a name="153912948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912948">(Oct 07 2017 at 10:16)</a>:</h4>
<p>From an implementation point of view: Given many systems I've worked on would have just recorded the code: 428041000124106 Occasional tobacco smoker.  When I recieved a search on category social history I need to find the correct place in the SNOMED heirarchy to search from and then search for child codes.</p>



<a name="153912950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912950">(Oct 07 2017 at 10:19)</a>:</h4>
<p>Alternatively we should use a SNOMED ValueSet for category. (I’m not a clinical coder) Something like we would use <a href="https://snomedbrowser.com/Codes/Details/228272008" target="_blank" title="https://snomedbrowser.com/Codes/Details/228272008">https://snomedbrowser.com/Codes/Details/228272008</a> in place of social-history.</p>



<a name="153912951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912951">(Oct 07 2017 at 10:21)</a>:</h4>
<p>So observation.valueQuantity is a child of observation.code is a child of observation.category.</p>



<a name="153912954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912954">(Oct 07 2017 at 14:51)</a>:</h4>
<p>Ideally, you should be able to infer the Observation.category code(s) from Observation.code, but there is no guarantee of (or even suggestion of, really) whether that will be possible in any given case.  The only explanation in the Observation resource documentation is "Used for filtering what observations are retrieved and displayed".  That pretty much reflects the original intent of the 'category' element, and the thought at that time was that it could be used for that purpose by applications that weren't able to understand the semantics of the code system being used in Observation.code, but by using the 'category' code they could at least figure out where to display the data in their application.  In practice, what people need and want in that regard is obviously rather implementation and system dependent, and it's difficult to find a single set of codes that will work for that purpose for everyone.  So now the 'category' element has become 0..* Codeable concept, so you can pretty much categorize the resource however you want - essentially treating 'category' as a set of one or more "tags".  Getting back to the original intent, if your system <strong>does</strong> understand the semantics of the code system that is being used in Observation.code, then you can make use of the code system semantics instead to achieve that purpose, and in that case  you really wouldn't need to use the 'category' element at all.  And if you do populate Observation.category, the code(s) there should be semantically consistent with Observation.code, as I think you've described above (e.g. if using SNOMED CT they would be at a higher level in the SNOMED CT hierarchy).  You might map the FHIR observation-category codes to the code system being used in Observation.code (but you don't have to do that) - if you did do that then you could provide both the FHIR code and the mapped code (e.g. SNOMED CT), since translations are allowed.  In your own situation, using SNOMED CT, I suspect that you might want to consider one of those options.</p>



<a name="153912955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912955">(Oct 07 2017 at 15:16)</a>:</h4>
<p>Thanks. So I believe we would need a SNOMED ValueSet for observation.categories and observation.codes - the (UK) profiles I looked at, had standard fhir 'example' bindings to valuesets but when I looked at the detail they are both bound to SNOMED CT. Nothing to stop us from going live soon though.</p>



<a name="153912962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912962">(Oct 07 2017 at 17:50)</a>:</h4>
<p>Yes, I think that's what I would do in your situation.</p>



<a name="153912975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912975">(Oct 08 2017 at 07:49)</a>:</h4>
<p>I think this is showing a constraint between valueQuantity-&gt;code-&gt;category which isn't apparent in the profile. The most detailed concept (valueCodeableConcept/code) will dictate concepts above it (code/category) in the resource - so when a Observation is POSTed in it may be different when retrieved. Think we need to build this into UK validation tools to prevent this.</p>



<a name="153912976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Calculate%20Observation.category%20from%20SNOMED%20Concept/near/153912976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kevin Mayfield <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Calculate.20Observation.2Ecategory.20from.20SNOMED.20Concept.html#153912976">(Oct 08 2017 at 07:51)</a>:</h4>
<p>The validation would ensure SNOMED CT parent/child relationships are correct</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
