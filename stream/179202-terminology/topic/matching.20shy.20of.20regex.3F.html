---
layout: page
title: "FHIR Chat  · matching shy of regex? · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/matching.20shy.20of.20regex.3F.html">matching shy of regex?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="276733077"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/matching%20shy%20of%20regex%3F/near/276733077" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/matching.20shy.20of.20regex.3F.html#276733077">(Mar 26 2022 at 16:11)</a>:</h4>
<p>Has there been discussion about a filter operation that is more closely modeled on SQL <code>LIKE</code> semantics? I.e. something more powerful than <code>=</code> but less powerful than <code>regex</code>, that supports "contains substring" or "starts with" queries without requiring full regular expression support?</p>
<p>This would be nice to have when searching designations, for servers that can't/won't support arbitrary regex evaluation at query time.</p>



<a name="276933242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/matching%20shy%20of%20regex%3F/near/276933242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/matching.20shy.20of.20regex.3F.html#276933242">(Mar 28 2022 at 21:23)</a>:</h4>
<p>Yeah, I have thoughts like this every time I see someone propose "regex" as a matching algorithm.<br>
One option today is to only support a subset of regex - e.g., only those that start/end with <code>.*</code></p>



<a name="277019174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/matching%20shy%20of%20regex%3F/near/277019174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kai Kewley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/matching.20shy.20of.20regex.3F.html#277019174">(Mar 29 2022 at 15:08)</a>:</h4>
<p>An example to consider are the term filters in the SNOMED CT "ECL" language (introduced in ECL version 1.5). They allow searching concept terms using multi-prefix any-order matching, or wildcard matching. These two strategies seem to have a good balance between covering many use cases and not being too complex to use and implement. <br>
See <a href="https://confluence.ihtsdotools.org/display/DOCECL/6.8+Description+Filter+Constraints">ECL Description Term Filter</a> from about the third paragraph "By default, term filters match using..."</p>



<a name="277023242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/matching%20shy%20of%20regex%3F/near/277023242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/matching.20shy.20of.20regex.3F.html#277023242">(Mar 29 2022 at 15:36)</a>:</h4>
<p>Shall I propose a filter operator called "like"? Or is server-specific restrictions on regex "good enough"?</p>



<a name="277064214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/matching%20shy%20of%20regex%3F/near/277064214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/matching.20shy.20of.20regex.3F.html#277064214">(Mar 29 2022 at 21:00)</a>:</h4>
<p>A conservative approach would be to provide advice to implementers on recognizing prefix/suffix matches in a regex and otherwise returning a TooCostly error.<br>
However, for authoring ValueSets it would probably be nicer to give people comfort that there's a "safe" subset of regex that is more widely implemented. The question is what that subset should be?</p>



<a name="277066799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/matching%20shy%20of%20regex%3F/near/277066799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/matching.20shy.20of.20regex.3F.html#277066799">(Mar 29 2022 at 21:26)</a>:</h4>
<p>"Contains substring" or "Has prefix" (case-insensitive) are the two main capabilities I'd suggest here (both implementable on top of sql<code>LIKE</code>)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
