---
layout: page
title: "FHIR Chat  · Searching ValueSets by code · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20ValueSets.20by.20code.html">Searching ValueSets by code</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="202015311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20ValueSets%20by%20code/near/202015311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20ValueSets.20by.20code.html#202015311">(Jun 25 2020 at 19:39)</a>:</h4>
<p>If one searches ValueSet?code=... will that find ValueSets whose expansion contains a matching code, or only ValueSets whose definition includes the matching code?  If the latter, is there any syntax that would let you find the ValueSets who expansion contains a particular code?  (I am really interested in code:text, but "code" make for a simpler question.)</p>



<a name="202016169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20ValueSets%20by%20code/near/202016169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20ValueSets.20by.20code.html#202016169">(Jun 25 2020 at 19:49)</a>:</h4>
<p>both.  here is the expression for the code search parameter:  ValueSet.expansion.contains.code | ValueSet.compose.include.concept.code</p>



<a name="202029789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20ValueSets%20by%20code/near/202029789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20ValueSets.20by.20code.html#202029789">(Jun 25 2020 at 21:51)</a>:</h4>
<p>I saw that, but I think Value.expansion might be referring to a definitional expansion, i.e., where the definition contains an expansion.  In that case it should work, but what about the case where the ValueSet definition only contains .compose (without enumerating all of the codes)?</p>



<a name="202031609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20ValueSets%20by%20code/near/202031609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20ValueSets.20by.20code.html#202031609">(Jun 25 2020 at 22:06)</a>:</h4>
<p>I suspect this is a function that is up to the server as to if it is willing to expand every value set with the code system of interest, so should be in the capability statement. I suspect no one makes this clear yet and likely no one does such a combinatorial set of expansions. <span class="user-mention" data-user-id="191364">@Peter Jordan</span> <span class="user-mention" data-user-id="191405">@Rob Hausam</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="202033156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20ValueSets%20by%20code/near/202033156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20ValueSets.20by.20code.html#202033156">(Jun 25 2020 at 22:25)</a>:</h4>
<p><a href="http://hl7.org/fhir/valueset.html#search">http://hl7.org/fhir/valueset.html#search</a> - seems to cover it sufficiently for me</p>



<a name="202035130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20ValueSets%20by%20code/near/202035130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20ValueSets.20by.20code.html#202035130">(Jun 25 2020 at 22:52)</a>:</h4>
<p>I agree that was the intent of that section.  We haven't exercised TerminologyCapabilities much yet, and I don't think we have (yet) an explicit way in the resource to document this search behavior.</p>



<a name="202035653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20ValueSets%20by%20code/near/202035653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20ValueSets.20by.20code.html#202035653">(Jun 25 2020 at 22:59)</a>:</h4>
<p>Looking for all the ValueSets  on a Terminology Server that contain a specific code might be akin to searching for a needle in a haystack - particularly if the Code System (reference parameter) is not defined. However, it would be informative to hear more about the use case, assuming that this isn't purely an academic question? My Server implements a parameter for the $lookup operation for the NZ Edition of SNOMED CT that returns RefSet (effectively ValueSet) membership. </p>
<p>Regarding what's possible to declare in CapabilityStatement or TerminologyCapabilities, I don't see a way to express that some parameters (e.g. code) are only supported in combination with others (e.g. reference) for searching on ValueSets.</p>



<a name="202040208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Searching%20ValueSets%20by%20code/near/202040208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Searching.20ValueSets.20by.20code.html#202040208">(Jun 26 2020 at 00:09)</a>:</h4>
<p>The use case would be to search for LOINC answer lists based on certain words in answers, so that one could re-use the list in a new question.  (That would require code:text, not code).  I am not convinced that this is useful thing to do; it might be better to search on LOINC question text and then pull the associated list.  The "search the answers" approach was suggested to me, and I was trying to see if it was possible.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
