---
layout: page
title: "FHIR Chat  · $validate-code display comparison · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html">$validate-code display comparison</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153931483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Calderero <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931483">(Jan 27 2018 at 21:57)</a>:</h4>
<p><a href="http://hl7.org/fhir/STU3/valueset-operations.html#validate-code" target="_blank" title="http://hl7.org/fhir/STU3/valueset-operations.html#validate-code">http://hl7.org/fhir/STU3/valueset-operations.html#validate-code</a> mentions that if we provide a 'display' value the FHIR terminology server will validate the display value. Whether the validation is case-insensitive or not will depend on the code system.</p>
<p>1. Is the behavior above dependent on <a href="http://hl7.org/fhir/STU3/codesystem-definitions.html#CodeSystem.caseSensitive" target="_blank" title="http://hl7.org/fhir/STU3/codesystem-definitions.html#CodeSystem.caseSensitive">http://hl7.org/fhir/STU3/codesystem-definitions.html#CodeSystem.caseSensitive</a>?</p>
<p>My understanding is that <a href="http://fhirtest.uhn.ca/baseDstu3/ValueSet/procedure-not-performed-reason/$validate-code?system=http://snomed.info/sct&amp;code=407582002&amp;display=Clopidogrel%20contraindicated%20(situation)" target="_blank" title="http://fhirtest.uhn.ca/baseDstu3/ValueSet/procedure-not-performed-reason/$validate-code?system=http://snomed.info/sct&amp;code=407582002&amp;display=Clopidogrel%20contraindicated%20(situation)">http://fhirtest.uhn.ca/baseDstu3/ValueSet/procedure-not-performed-reason/$validate-code?system=http://snomed.info/sct&amp;code=407582002&amp;display=Clopidogrel%20contraindicated%20(situation)</a> and <a href="http://fhirtest.uhn.ca/baseDstu3/ValueSet/procedure-not-performed-reason/$validate-code?system=http://snomed.info/sct&amp;code=407582002&amp;display=clopidogrel%20contraindicated%20(situation)" target="_blank" title="http://fhirtest.uhn.ca/baseDstu3/ValueSet/procedure-not-performed-reason/$validate-code?system=http://snomed.info/sct&amp;code=407582002&amp;display=clopidogrel%20contraindicated%20(situation)">http://fhirtest.uhn.ca/baseDstu3/ValueSet/procedure-not-performed-reason/$validate-code?system=http://snomed.info/sct&amp;code=407582002&amp;display=clopidogrel%20contraindicated%20(situation)</a> (i.e. first letter is lowercase) would both return true since SNOMED is not case-sensitive.</p>



<a name="153931506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931506">(Jan 27 2018 at 22:17)</a>:</h4>
<p>code sensitive is about the code, not the dispaly</p>



<a name="153931512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Calderero <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931512">(Jan 27 2018 at 22:21)</a>:</h4>
<p>Ok, which property (if any) controls the case-sensitivity comparison of the display?</p>



<a name="153931515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931515">(Jan 27 2018 at 22:24)</a>:</h4>
<p>at the moment, it's a parameter to the validator but I don't htink any server exposes that</p>



<a name="153931538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931538">(Jan 27 2018 at 23:01)</a>:</h4>
<p>The typical expectation would be to treat display term strings as case-sensitive - case does typically have significance to how a display term may be read and understood, and that's why we use it.  In the spec, we only refer to case-sensitivity of codes.  So, again, I would treat all display strings as case-sensitive - and maybe we should document that in the spec.</p>



<a name="153931546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Calderero <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931546">(Jan 27 2018 at 23:10)</a>:</h4>
<p>I think we should make this clear in the spec. To me, the last sentence, "Whether displays are case sensitive is code system dependent" in <a href="http://hl7.org/fhir/STU3/valueset-operations.html#validate-code" target="_blank" title="http://hl7.org/fhir/STU3/valueset-operations.html#validate-code">http://hl7.org/fhir/STU3/valueset-operations.html#validate-code</a> implies that case-sensitivity of the CodeSystem affects the display validation.</p>



<a name="153931710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931710">(Jan 28 2018 at 13:07)</a>:</h4>
<p><span class="user-mention" data-user-id="193952">@Michael Calderero</span> Yes, I think that statement is a bit problematic.  We haven't provide a mechanism in the CodeSystem resource to specify whether the display strings provided by the code system are to be treated as case sensitive or not.  We state that Coding.display is a "Representation defined by the system" (and we describe that further elsewhere, but don't directly address case).  But this implies (but doesn't actually state) that the string should be used exactly as it was defined by the code system, which would include matching the case.  And so far I haven't thought of a good use case where we would need to treat display strings as case insensitive for validation.  If someone else has a valid case for that, it would be good to know.  We probably need to create a tracker to clarify this.</p>



<a name="153931711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931711">(Jan 28 2018 at 13:09)</a>:</h4>
<p>it's not unusual to see systems that mangle the case, even if it's for no good reason. That's why the validator only produces a warning. by default .. and under what circumstances could it actually be a semantic problem&gt;?</p>



<a name="153931812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931812">(Jan 28 2018 at 15:25)</a>:</h4>
<p>I can see that.  But we either need to decide that they will be treated as case sensitive or insensitive, one way or the other. or provide a means in CodeSystem to declare what it is for each code system.   And then make whatever it is clear in the documentation.</p>



<a name="153931819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931819">(Jan 28 2018 at 15:28)</a>:</h4>
<p>why is display case validation specific to a code system?</p>



<a name="153931824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931824">(Jan 28 2018 at 15:33)</a>:</h4>
<p>As far as I know, only because we said so, as Michael noted.  So if we didn't really intend to say that (which I believe I would agree with), we should remove or change that statement.</p>



<a name="153931826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931826">(Jan 28 2018 at 15:34)</a>:</h4>
<p>I think we should at least change it, personally. if snomed (e.g.) wanted to make extra rules, they can, But we shouldn't</p>



<a name="153931830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153931830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Russ Hamm <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153931830">(Jan 28 2018 at 15:35)</a>:</h4>
<p>IIRC that was added because we assumed that we should defer to the case preference of the code system in question.</p>



<a name="153933139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153933139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153933139">(Jan 29 2018 at 22:58)</a>:</h4>
<p>Note also that case-sensitivity may be specific to a particular designation, not just a blanket property for an entire code system.<br>
As a data point, SNOMED distinguishes "Entire term case insensitive",  "Entire term case sensitive" and "Only initial character case insensitive".</p>



<a name="153933140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24validate-code%20display%20comparison/near/153933140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24validate-code.20display.20comparison.html#153933140">(Jan 29 2018 at 22:59)</a>:</h4>
<p>We also see a number of systems that up-case everything, and others that have clearly used their own "interface terminology" (for SNOMED)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
