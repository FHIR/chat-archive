---
layout: page
title: "FHIR Chat  · lookup, $expansion: results looks different on each server · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html">lookup, $expansion: results looks different on each server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175519579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175519579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcelo Cabello <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175519579">(Sep 12 2019 at 11:27)</a>:</h4>
<p>Hi. I can see the result of operations $lookup and $expand  looks different on my local server than on other servers (for example <a href="http://fhirtest.uhn.ca" target="_blank" title="http://fhirtest.uhn.ca">fhirtest.uhn.ca</a>) . <br>
My local server doesn't show the properties for the concepts that I added to CS, and $expand shows the right expansion only for intensional declaration of codes, but it doesn't show it when I build filters in VS.<br>
Do I have to do another configuration in the server or the resources? (maybe CapabilityStatement is the right way...)<br>
 A hint would be very welcome!</p>



<a name="175522632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175522632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175522632">(Sep 12 2019 at 12:14)</a>:</h4>
<p>What is your local server?  Many specific details of the output content and formatting are at the discretion of the particular server implementation.</p>



<a name="175528463"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175528463" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcelo Cabello <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175528463">(Sep 12 2019 at 13:24)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191405">@Rob Hausam</span> . I know the output details are particular on different servers( vonk, hapi, whatever). In this case my local server is a Hapi Fhir jpa-starter 3.8. So, the comparison between both results (local and <a href="http://fhirtest.uhn.ca" target="_blank" title="http://fhirtest.uhn.ca">fhirtest.uhn.ca</a>) are under the same kind of server.<br>
So, I guess the details of the implementation of terminology services should be configured in the server or the ad-hoc resource(s). I'm looking for what say the spec about it. But, it seems this aspect belongs to server instead the spec</p>



<a name="175615766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175615766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcelo Cabello <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175615766">(Sep 13 2019 at 11:52)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191319">@James Agnew</span> , could you give me a suggestion about this trend?</p>



<a name="175621049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175621049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175621049">(Sep 13 2019 at 13:03)</a>:</h4>
<p>If you could provide sample links on public servers that shows what you're talking about that would be helpful to understand your issue.</p>



<a name="175623987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175623987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcelo Cabello <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175623987">(Sep 13 2019 at 13:37)</a>:</h4>
<p>this request looks well GET <a href="http://hapi.fhir.org/baseDstu3/CodeSystem/$lookup?system=http://terminology.cens.cl/CodeSystem/semana&amp;code=_lun" target="_blank" title="http://hapi.fhir.org/baseDstu3/CodeSystem/$lookup?system=http://terminology.cens.cl/CodeSystem/semana&amp;code=_lun">http://hapi.fhir.org/baseDstu3/CodeSystem/$lookup?system=http://terminology.cens.cl/CodeSystem/semana&amp;code=_lun</a><br>
It brings not only the concepts but also its property.<br>
However, on my local server only retrieves:</p>
<div class="codehilite"><pre><span></span>{
    &quot;resourceType&quot;: &quot;Parameters&quot;,
    &quot;parameter&quot;: [
        {
            &quot;name&quot;: &quot;name&quot;,
            &quot;valueString&quot;: &quot;Unknown&quot;
        },
        {
            &quot;name&quot;: &quot;display&quot;,
            &quot;valueString&quot;: &quot;Lunes&quot;
        },
        {
            &quot;name&quot;: &quot;abstract&quot;,
            &quot;valueBoolean&quot;: false
        }
    ]
}
</pre></div>



<a name="175624995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175624995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175624995">(Sep 13 2019 at 13:48)</a>:</h4>
<p>is your local server a HAPI server?</p>



<a name="175625001"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175625001" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcelo Cabello <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175625001">(Sep 13 2019 at 13:48)</a>:</h4>
<p>yeap!</p>



<a name="175625021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175625021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175625021">(Sep 13 2019 at 13:48)</a>:</h4>
<p>how is <code>http://terminology.cens.cl/CodeSystem/semana</code> defined?</p>



<a name="175625780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175625780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcelo Cabello <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175625780">(Sep 13 2019 at 13:57)</a>:</h4>
<p>it's the same definition in hapi fhir test server (<a href="http://hapi.fhir.org/baseDstu3/CodeSystem/cs-semana" target="_blank" title="http://hapi.fhir.org/baseDstu3/CodeSystem/cs-semana">http://hapi.fhir.org/baseDstu3/CodeSystem/cs-semana</a>)</p>



<a name="175632121"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175632121" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175632121">(Sep 13 2019 at 14:58)</a>:</h4>
<p>ok. so I agree that there is more information that could be returned that is not being returned</p>



<a name="175632144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175632144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175632144">(Sep 13 2019 at 14:58)</a>:</h4>
<p>have you tried it on <a href="http://test.fhir.org" target="_blank" title="http://test.fhir.org">test.fhir.org</a>?</p>



<a name="175633902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/175633902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#175633902">(Sep 13 2019 at 15:16)</a>:</h4>
<p>If you're only seeing this issue on your local HAPI server, it's probably worth upgrading to the 4.0.0 release (or even the 4.1.0-SNAPSHOT release). Lots of active work is happening right now on the term service, which explains why you're seeing different results on your local server from on the public server.</p>



<a name="176410232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/176410232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marcelo Cabello <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#176410232">(Sep 23 2019 at 21:13)</a>:</h4>
<p>It works well after try with 4.0.0 release of jpa-starter. I didn't try yet on <a href="http://test.fhir.org" target="_blank" title="http://test.fhir.org">test.fhir.org</a> but it will be done<br>
Thanks <span class="user-mention" data-user-id="191405">@Rob Hausam</span> , <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , <span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="176410490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/lookup%2C%20%24expansion%3A%20results%20looks%20different%20on%20each%20server/near/176410490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/lookup.2C.20.24expansion.3A.20results.20looks.20different.20on.20each.20server.html#176410490">(Sep 23 2019 at 21:16)</a>:</h4>
<p>woohoo!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
