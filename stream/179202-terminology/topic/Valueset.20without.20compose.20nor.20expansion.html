---
layout: page
title: "FHIR Chat  · Valueset without compose nor expansion · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html">Valueset without compose nor expansion</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153974312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153974312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153974312">(Jul 09 2018 at 13:33)</a>:</h4>
<p>When I test _summary on some FHIR Servers, I noticed that the Value sets in the result bundle don't have compose nor expansion. According to 4.8.4.2 Constrains Rule vsd-5, "Value set SHALL contain at least one of a compose or an expansion element (expression : compose.exists() or expansion.exists()). Should constrains rules apply to summary search also?</p>



<a name="153974636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153974636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153974636">(Jul 11 2018 at 13:24)</a>:</h4>
<p>I have checked three servers: hapi, onto and test.fhir. None of them returns compose/expansion component with searching with ValueSet?_summary=true.<br>
The constrain VSD-5 could cause problem for search with large number of extensional value sets.<br>
Is there anywhere in the FHIR spec says that constrain rule does NOT apply to _summary search? If not, I would suggest to remove VSD-5.<br>
<span class="user-mention" data-user-id="191405">@Rob Hausam</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="153974807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153974807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153974807">(Jul 11 2018 at 22:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191506">@Yunwei Wang</span> expansion is not included in a summary</p>



<a name="153974808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153974808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153974808">(Jul 11 2018 at 22:39)</a>:</h4>
<p>VSD-5 is a problem for _summary = true</p>



<a name="153974809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153974809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153974809">(Jul 11 2018 at 22:40)</a>:</h4>
<p>do you want to make a tak to remove VSD-5?</p>



<a name="153974826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153974826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153974826">(Jul 12 2018 at 00:55)</a>:</h4>
<p>Wondering if a resource needs to pass invariant validations when returned from a summary call?<br>
I can imagine many profiles/rules where this would not be the case.<br>
And I don't see the problem with that.</p>



<a name="153974827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153974827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153974827">(Jul 12 2018 at 00:56)</a>:</h4>
<p>The caller has asked for the _summary (or elements) and they are told that they are subsetted...</p>



<a name="153974840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153974840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153974840">(Jul 12 2018 at 01:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> If the community agree that _summary result doesn't need to pass invariant validation, then this need to be specified somewhere in the spec. Since the current spec doesn't make such exception, all resources generated from _summary call shall be valid.</p>



<a name="153974841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153974841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153974841">(Jul 12 2018 at 02:04)</a>:</h4>
<p>Agree with you there Yunwie, the _summary does include the meta profiles, which would then permit the resource to indicate that it claims conforms to the provided profile, however it might not pass.</p>



<a name="153975307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153975307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153975307">(Jul 16 2018 at 00:12)</a>:</h4>
<p>_summary of resource still has to be a valid resource. Tooling checks cardinalities, but can't check constraints like this one</p>



<a name="153975349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153975349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153975349">(Jul 16 2018 at 02:34)</a>:</h4>
<p>Or really most profile constraints, and profile that introduces a minimum cardinality of &gt;=1 will not be done... and most invariants.</p>



<a name="153975351"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153975351" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153975351">(Jul 16 2018 at 02:35)</a>:</h4>
<p>The .net serializer wouldn't know to include those props, and expect that the java RI would be the same.</p>



<a name="153975352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153975352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153975352">(Jul 16 2018 at 02:36)</a>:</h4>
<p>(or slicing would be tough to check with minimal content)</p>



<a name="153975353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153975353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153975353">(Jul 16 2018 at 02:36)</a>:</h4>
<p>Should this issue really be taken back to the main implementer chat?<br>
(as isn't really a terminology specific issue?)</p>



<a name="153975354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153975354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153975354">(Jul 16 2018 at 02:53)</a>:</h4>
<p>the tooling doesn't check profiles, no. It's up to the profile author to decide whether allowing summaries is relevant for the profile</p>



<a name="153975594"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153975594" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153975594">(Jul 16 2018 at 22:16)</a>:</h4>
<p>FWIW Ontoserver gets its _summary, _elements, and paging (_count) behaviour from the HAPI framework</p>



<a name="153975597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Valueset%20without%20compose%20nor%20expansion/near/153975597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Valueset.20without.20compose.20nor.20expansion.html#153975597">(Jul 16 2018 at 22:20)</a>:</h4>
<p>So does the profil author also need to decide something about _elements and validity?  I would think not, but what is the line between _summary and _elements?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
