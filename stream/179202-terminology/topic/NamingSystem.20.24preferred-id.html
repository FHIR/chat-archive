---
layout: page
title: "FHIR Chat  · NamingSystem $preferred-id · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html">NamingSystem $preferred-id</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153953100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/153953100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#153953100">(Apr 19 2018 at 04:39)</a>:</h4>
<p>Any thoughts on adding the new (and rather useful) $preferred-id operation on NamingSystem to the TerminologyCapabilities resource? Has anyone else implemented it yet (will be in the new version of Terminz, for the R4 May 18 build, at the weekend)?</p>



<a name="153953103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/153953103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#153953103">(Apr 19 2018 at 05:10)</a>:</h4>
<p>I have not yet implemented it - keeping up is starting to get hard...</p>



<a name="153953104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/153953104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#153953104">(Apr 19 2018 at 05:10)</a>:</h4>
<p>I think that the role it plays in a terminology server is once people start using FHIR terminology services in the context of v2, CDA, or openEHR, where the FHIR code system URL is not in use</p>



<a name="197648929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197648929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197648929">(May 15 2020 at 05:08)</a>:</h4>
<p>This appears to be the only operation in the FHIR spec that contains an input parameter called 'id'. This is causing issues with the routing templates in the Controller Class of my .NET Web API server (kindly provided by <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span>) which treats it as a Resource id.  Any objections if I create a ticket to rename this 'identifier'.</p>



<a name="197654599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197654599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197654599">(May 15 2020 at 07:10)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-27136">JIRA</a></p>



<a name="197777869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197777869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197777869">(May 16 2020 at 05:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191364">@Peter Jordan</span>  got some details on where the issue is, I'm doing some updates to the API project at the moment and could do some updates for you.</p>



<a name="197777880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197777880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197777880">(May 16 2020 at 05:19)</a>:</h4>
<p>P. S. Will also be adding it to the public NuGet, so you won't have to build it yourself anymore too.</p>



<a name="197816268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197816268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197816268">(May 16 2020 at 21:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span>  The Routing Template in the Controller Class that's 'upset' by having an id parameter in the query string is...<br>
 [HttpGet, Route("fhir/{resource}/{id=null}/{operation=null}")]<br>
When that's used with the following GET request it matches the id parameter with the {id} element in the template and ignores the {operation} element (possibly because that element precedes the id parameter)...<br>
GET [base] /NamingSystem/$preferred-id?id=2.16.840.1.113883.2.18.2&amp;type=uri<br>
I did a quick search to see if there was an easy fix - i.e. an 'ignore query string' template setting, but couldn't see anything.<br>
Subsequently, I changed the parameter name to 'identifier' and it all worked.</p>



<a name="197819872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197819872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197819872">(May 16 2020 at 23:16)</a>:</h4>
<p>I'll see if there is something I can do there. Maybe moving the $outside the operation name, or using the [From Query] attribute mark-up.</p>



<a name="197821167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197821167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197821167">(May 16 2020 at 23:54)</a>:</h4>
<p>I did a quick unit test and didn't see it.<br>
Are you in netcore or the owin version (full framework)</p>



<a name="197821289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197821289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197821289">(May 16 2020 at 23:58)</a>:</h4>
<p>I'm using Web API - can't recall where I downloaded it from - what's the equivalent routing template in the versions you're looking at?</p>



<a name="197821344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197821344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197821344">(May 17 2020 at 00:00)</a>:</h4>
<p>Full framework or netcore?</p>



<a name="197822194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197822194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197822194">(May 17 2020 at 00:25)</a>:</h4>
<p>Full framework.</p>



<a name="197824293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197824293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197824293">(May 17 2020 at 01:35)</a>:</h4>
<p>Will take a look in that code later.</p>



<a name="197824807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197824807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197824807">(May 17 2020 at 01:52)</a>:</h4>
<p><a href="http://localhost:7931/NamingSystem/$preferred-id?id=45&amp;type=uri">http://localhost:7931/NamingSystem/$preferred-id?id=45&amp;type=uri</a><br>
Goes into the correct Perform operation.<br>
Can you share the link to the source in the github code that you're seeing it hit?<br>
(this might be an older version)<br>
In debugging the above query, it is hitting this line in the FhirController<br>
<a href="https://github.com/brianpos/fhir-net-web-api/blob/33abebf2b903bd57046e5c4629e4f67c0c1d5234/src/Hl7.Fhir.WebApi.Owin/FhirController.cs#L263">https://github.com/brianpos/fhir-net-web-api/blob/33abebf2b903bd57046e5c4629e4f67c0c1d5234/src/Hl7.Fhir.WebApi.Owin/FhirController.cs#L263</a></p>



<a name="197826568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197826568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197826568">(May 17 2020 at 02:43)</a>:</h4>
<p>...well that line implements [HttpPost, Route("{ResourceName}/${operation}")] - rather than [HttpGet, Route("{ResourceName}/${operation}")]<br>
BUT, I note the use of the $ sign in the template and that's what I may be missing - so will give that a try.</p>



<a name="197826805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197826805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197826805">(May 17 2020 at 02:50)</a>:</h4>
<p>Ok, I'll recheck my debugger to see if it is doing a get or post.</p>



<a name="197827153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/NamingSystem%20%24preferred-id/near/197827153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/NamingSystem.20.24preferred-id.html#197827153">(May 17 2020 at 03:00)</a>:</h4>
<p>Sorry, that was a local branch vs local branch change thing.<br>
It was going through the function that takes the get right above it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
