---
layout: page
title: "FHIR Chat  · Compose ValueSet with all versions of a CodeSystem · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html">Compose ValueSet with all versions of a CodeSystem</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153953599"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153953599" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153953599">(Apr 23 2018 at 13:52)</a>:</h4>
<p>Is there a way to specify a ValueSet that includes all known versions of a CodeSystem? <br>
e.g. we have yearly editions of ICD-10 and would like to define a ValueSet whose expansion automatically includes any new edition of the CodeSystem once it's published. So we don't have to update the valueSet binding or the valueSet definition every year to explicitly include the new CodeSystem version.</p>



<a name="153953612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153953612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153953612">(Apr 23 2018 at 13:56)</a>:</h4>
<p>haven't we had this question before?</p>



<a name="153953658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153953658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153953658">(Apr 23 2018 at 17:48)</a>:</h4>
<p>Yes, but I lost track...  I failed to enter a CR back then, so I'm not sure if there's been any progress...</p>



<a name="153953659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153953659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153953659">(Apr 23 2018 at 17:50)</a>:</h4>
<p>Ah! There's the old thread: <a href="#narrow/stream/48-terminology/topic/Defining.20a.20ValueSet.20including.20all.20versions.20of.20a.20CodeSystem" title="#narrow/stream/48-terminology/topic/Defining.20a.20ValueSet.20including.20all.20versions.20of.20a.20CodeSystem">https://chat.fhir.org/#narrow/stream/48-terminology/topic/Defining.20a.20ValueSet.20including.20all.20versions.20of.20a.20CodeSystem</a></p>



<a name="153953664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153953664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153953664">(Apr 23 2018 at 18:14)</a>:</h4>
<p>Thanks for digging up the old topic, <span class="user-mention" data-user-id="191450">@Simone Heckmann</span>.  I'm not aware of any further progress on this.  We left it back in November and hadn't really come to a conclusion at that time.  The <code>[canonicalUrl]|*</code> syntax proposed by <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> is still on the table.  And it sounds like you (and probably others) still have the need.  Do you want to create a tracker for it now?</p>



<a name="153953665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153953665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153953665">(Apr 23 2018 at 18:18)</a>:</h4>
<p><a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15998" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=15998">GF#15998</a></p>



<a name="153981441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981441">(Aug 03 2018 at 03:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191450">@Simone Heckmann</span> Can you provide further clarification on your use-case here?  Leaving the CodeSystem's version empty in a ValueSet definition is normally interpreted as "use the latest available version", and this seems to be the semantics you want in the example above.  But what you've asked for is "all known versions", and I'm stuck trying to understand what this would mean.</p>



<a name="153981451"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981451" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981451">(Aug 03 2018 at 04:11)</a>:</h4>
<p>the use case is where you have multiple different releases of a billing code system, and they are not bringing codes forward, so you don't have a single code system version with all the codes in it. And you'll accept any billing code that was ever valid</p>



<a name="153981452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981452">(Aug 03 2018 at 04:11)</a>:</h4>
<p>its' a validation use case</p>



<a name="153981458"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981458" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981458">(Aug 03 2018 at 04:20)</a>:</h4>
<p>So it's not needed for ValueSet at all then, only <code>CodeSystem/$validate-code</code>?</p>



<a name="153981459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981459">(Aug 03 2018 at 04:22)</a>:</h4>
<p>no needed in value set - use binding + value set for that use case</p>



<a name="153981462"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981462" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981462">(Aug 03 2018 at 04:25)</a>:</h4>
<p>So semantics for this would be satisfied with a Union of all the expansions with respect to each (known/available) CodeSystem version?</p>



<a name="153981465"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981465" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981465">(Aug 03 2018 at 04:29)</a>:</h4>
<p>pretty much. some problems in the corners, but that's the intent</p>



<a name="153981468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981468">(Aug 03 2018 at 04:54)</a>:</h4>
<p>it's the corners that I worry about - are you saying there are cases where (efficiency aside), defining this as the actual semantics would not work?</p>



<a name="153981470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981470">(Aug 03 2018 at 05:22)</a>:</h4>
<p>well, we documented 2 that we are aware of, around coherency of meaning when changes happen, and whether a server has the relevant versions</p>



<a name="153981501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981501">(Aug 03 2018 at 06:07)</a>:</h4>
<p>Our primary use case is the german ICD-10-GM. We have new editions every year and whenever a code is documented, the year of the edition has to be documented with it ("versionNeeded") a simple validator can not decide if the proper edition has been used for a specific case/patient, because there are complex rules that determine what catalogue can be used depending on admissionDate and whatnot. So a simple validator will only be able to determine wether a given code is valid in the given catalogue. Also, we don't want to change our profiles every year, so we need a binding semantinc to say: this element binds to ICD-10-GM in all known editions.</p>
<p>We can't simply update the CodeSystem with a new release, because multiple versions may be valid at the same time (as said, it depends on admissionDate), so especially early in the year, two catalogues are needed simultaneously. There are plenty of other billing code systems with the same logic. <br>
Our most important issue is to keep the national profiles stable, even if the underlying vocabulary sometimes changes mutiples times a year.</p>



<a name="153981504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981504">(Aug 03 2018 at 06:09)</a>:</h4>
<p>By definition, ICD is a classification, so the meaning of every "...not otherwise specified"-code changes, whenever a new code is introduced into the class. Hence,  new edition= new CodeSystem</p>



<a name="153981968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981968">(Aug 03 2018 at 21:22)</a>:</h4>
<p>Thanks Simone, that all makes sense, but still doesn't explain the need for the all versions semantic.<br>
If the binding is to a valueset that omits the CodeSystem version then you get the desired result of not needing to update the version with every new ICD10 release (which would be wrong anyway, since your version constraint depends on external context).<br>
A decent terminology service will allow multiple versions of a CodeSystem to exist at the same time (as different CodeSystem instances), and use the codesystemversion passed to $validate-code to help choose the right one when the referencing ValueSet doesn't itself constrain the version.<br>
TLDR - the requirements given fit within the current spec without the need for an "all versions" version statement.</p>



<a name="153981971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981971">(Aug 03 2018 at 21:26)</a>:</h4>
<p>I don't agree with this. The definitions are clear: in the absence of a specified version, you use the latest version</p>



<a name="153981974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981974">(Aug 03 2018 at 21:28)</a>:</h4>
<p>I would argue the version is specified - it's the one associated with the code being validated</p>



<a name="153981975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981975">(Aug 03 2018 at 21:30)</a>:</h4>
<p>Regardless, I don't understand how the all versions notion helps here - it would instead behave as an "any version", no?</p>



<a name="153981976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981976">(Aug 03 2018 at 21:32)</a>:</h4>
<p>I might agree with this</p>



<a name="153981977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981977">(Aug 03 2018 at 21:33)</a>:</h4>
<p>the difference becomes germane if the version is not specified in the instance</p>



<a name="153981978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981978">(Aug 03 2018 at 21:37)</a>:</h4>
<p>Right.  You want to ask the question "Is this code valid against any of the versions of this code system?"  We need a syntax to do that.  (It'd be nice to also have "Is this code valid against any of this enumerated set or range of versions of this code system?" too.</p>



<a name="153981982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153981982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153981982">(Aug 03 2018 at 21:43)</a>:</h4>
<p>second is easy- just add all the versions in a value set</p>



<a name="153982065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153982065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153982065">(Aug 04 2018 at 07:08)</a>:</h4>
<p>Either would be simple if we had a solution to "pipe" the results of one operation (in this case a search on CodeSystem) into another - $validate-code</p>



<a name="153982071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153982071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153982071">(Aug 04 2018 at 09:01)</a>:</h4>
<p>I've had a look at piping but it's really quite unclear waht that means</p>



<a name="153982072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Compose%20ValueSet%20with%20all%20versions%20of%20a%20CodeSystem/near/153982072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Compose.20ValueSet.20with.20all.20versions.20of.20a.20CodeSystem.html#153982072">(Aug 04 2018 at 09:01)</a>:</h4>
<p>in the general case</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
