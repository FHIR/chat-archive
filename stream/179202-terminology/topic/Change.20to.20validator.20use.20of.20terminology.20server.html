---
layout: page
title: "FHIR Chat  · Change to validator use of terminology server · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html">Change to validator use of terminology server</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="185287647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185287647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185287647">(Jan 10 2020 at 07:12)</a>:</h4>
<p>I've had to introduce a new parameter to $validate-code when the java validator uses the terminology server. The problem relates to CodeableConcepts with multiple codes, one of which is valid and one of which is unknown. The validator now adds a valueSetMode parameter with possible values of CHECK_MEMERSHIP_ONLY and NO_MEMBERSHIP_CHECK</p>
<ul>
<li>CHECK_MEMERSHIP_ONLY - only called with a CodeableConcept, and indicates not to validated each coding, simply to check that one of them is in the value set</li>
<li>NO_MEMBERSHIP_CHECK - only called with a Coding, and indicates that value set membership has already been tested, and just to check the coding details. Note that the value set is still provided, so that version / display etc can be checked if possible</li>
</ul>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span>. I don't know if anyone else needs to respond to this. Note that this change is immediate (including with the IG publisher). The consequence of not making this change is that any users using an alternate to <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a> will find that alternate codings are considered invalid</p>



<a name="185316218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185316218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185316218">(Jan 10 2020 at 14:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Are you proposing adding a new parameter to $validate-code operation?</p>



<a name="185333618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185333618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185333618">(Jan 10 2020 at 17:52)</a>:</h4>
<p>I'm not sure. I just know what I had to do in the validator</p>



<a name="185335322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185335322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185335322">(Jan 10 2020 at 18:10)</a>:</h4>
<p>According to $validate-code operation, only one coding in a CodeableConcept need to be valid. <code>The server returns true if one of the coding values is in the value set, and may also validate that the codings are not in conflict with each other if more than one is present</code>. So what is point to add that CHECK_MEMBERSHIP_ONLY ?</p>



<a name="185340963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185340963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185340963">(Jan 10 2020 at 19:09)</a>:</h4>
<p>I had the same question.  It seems like we just want to be sure that is the behavior, and then CHECK_MEMERSHIP_ONLY  wouldn't be needed?  I think I can see why the NO_MEMBERSHIP_CHECK (or equivalent to it) still may be needed to be able to turn on and off the value set membership check for a Coding.</p>



<a name="185343320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185343320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185343320">(Jan 10 2020 at 19:37)</a>:</h4>
<p>so there's a couple of issues. Say you have a CodeableConcept that contains 2 codings. One is valid and is in the required value set. The other is invalid - it contains a code that does not exist in the specified code system</p>



<a name="185343342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185343342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185343342">(Jan 10 2020 at 19:37)</a>:</h4>
<p>$validate-code will fail. As it should.</p>



<a name="185343357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185343357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185343357">(Jan 10 2020 at 19:37)</a>:</h4>
<p>but the problem isn't that the value set requirement hasn't been met.</p>



<a name="185343501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185343501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185343501">(Jan 10 2020 at 19:38)</a>:</h4>
<p>for the validator, which is validating both the CodeableConcept, and also each Coding, it needs to tell the terminology service what to do, so that the errors are reported in the correct place</p>



<a name="185343591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185343591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185343591">(Jan 10 2020 at 19:39)</a>:</h4>
<p>Fair point.  Makes sense.</p>



<a name="185347586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185347586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185347586">(Jan 10 2020 at 20:22)</a>:</h4>
<p>Will the <a href="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator" target="_blank" title="https://confluence.hl7.org/display/FHIR/Using+the+FHIR+Validator">Validator Documentation</a> be updated to reflect this?  This documentation also doesn't mention <a href="https://www.hl7.org/fhir/terminologycapabilities.html" target="_blank" title="https://www.hl7.org/fhir/terminologycapabilities.html">TerminologyCapabilities</a> which appears to be required.  I'd be happy to contribute to the documentation, but not sure if I'm allowed to edit it directly or if I'm informed of everything that needs to be there.  If I can though let me know!</p>
<p>Much appreciation for your work on this!</p>



<a name="185348484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185348484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185348484">(Jan 10 2020 at 20:32)</a>:</h4>
<p>well, i was wondering about that last night. This is not part of the 'how to use the validator documentation', so it doesn't belong there. But it does need documenting, along with a couple of other things</p>



<a name="185349854"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185349854" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185349854">(Jan 10 2020 at 20:48)</a>:</h4>
<blockquote>
<p>$validate-code will fail. As it should.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Why the $validate-code should fail?</p>



<a name="185350585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/185350585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#185350585">(Jan 10 2020 at 20:56)</a>:</h4>
<p>because one of the codes is invalid</p>



<a name="186948752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186948752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186948752">(Jan 30 2020 at 01:59)</a>:</h4>
<p>I hope that typo is only in this thread, not in the implementation <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span></p>



<a name="186948996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186948996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186948996">(Jan 30 2020 at 02:04)</a>:</h4>
<p>I don't quite follow why its important that these calls to $validate-code, with an invalid (presumably non-existent) code somewhere in the CodeableConcept, should return true</p>



<a name="186949038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186949038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186949038">(Jan 30 2020 at 02:05)</a>:</h4>
<p>For NO_MEMBERSHIP_CHECK on Codings, could this not be done with CodeSystem.$validate-code?</p>



<a name="186949103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186949103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186949103">(Jan 30 2020 at 02:07)</a>:</h4>
<p>The possibility of the display being overridden in the ValueSet seems to be discounted for use in a Coding by the ValueSet descriptive text that says <code>Any display name for a concept provided in the value set is for display to a human user. The display in the Coding that results from a user selecting a concept from the expansion must be taken from the underlying code system definition, even if a value set is referenced explicitly in the Coding (e.g. by an extension).</code></p>



<a name="186949167"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186949167" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186949167">(Jan 30 2020 at 02:08)</a>:</h4>
<p>hmm well we are not conforming to that in practice</p>



<a name="186949665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186949665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186949665">(Jan 30 2020 at 02:19)</a>:</h4>
<p>in particular affiliates are using value sets to do language translations in versions prior to supplements being avialable</p>



<a name="186950034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186950034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186950034">(Jan 30 2020 at 02:29)</a>:</h4>
<p>Could the CodeableConcept case not be handled by the client (in this case the validator) sending separate validate-code requests for each of the codings inside the CodeableConcept?</p>



<a name="186950208"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186950208" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186950208">(Jan 30 2020 at 02:33)</a>:</h4>
<p>I agree -- this really seems like pushing special-case client side semantics into the server rather than using the existing API semantics in a more explicit manner.</p>



<a name="186950426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186950426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186950426">(Jan 30 2020 at 02:38)</a>:</h4>
<p>it does to validate-code for each of the codings, yes.</p>



<a name="186950455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186950455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186950455">(Jan 30 2020 at 02:38)</a>:</h4>
<p>initially I didn't pass the value set in for those requests. but then there's the pesky translation issue, so you still need the value set - hence the 'don't validate the value set membership' flag</p>



<a name="186950481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186950481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186950481">(Jan 30 2020 at 02:39)</a>:</h4>
<p>also, the terminology server gets to validate the whole codeable concept as well, so it can say, for instance, 'these translations are invalid' and also so it can validate the binding as a whole. But I don't want it to validate the codings individually since I'm going to call validate-code on each of them as well</p>



<a name="186951923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186951923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186951923">(Jan 30 2020 at 03:16)</a>:</h4>
<p>I'm still trying to understand the drivers here.  I get why you need the ValueSet to check the display, but why, in that case, do you want to prevent a membership test?</p>



<a name="186952466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186952466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186952466">(Jan 30 2020 at 03:30)</a>:</h4>
<p>For CHECK_MEMERSHIP_ONLY (sic) semantics, why not just strip the <code>display</code> text from the <code>CodeableConcept</code> before doing the <code>$validate-code</code> call?  Then the Tx won't have anything other than the codes to validate.</p>



<a name="186952494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186952494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186952494">(Jan 30 2020 at 03:31)</a>:</h4>
<p>I guess it may still do some "are these multiple codings valid translations of each other" checks</p>



<a name="186952632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186952632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186952632">(Jan 30 2020 at 03:34)</a>:</h4>
<p>but valid translations based on what criteria?</p>



<a name="186952633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186952633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186952633">(Jan 30 2020 at 03:34)</a>:</h4>
<p>That's up to the tx server</p>



<a name="186952645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186952645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186952645">(Jan 30 2020 at 03:35)</a>:</h4>
<p>From the spec for ValueSet.$validate-code.codeableConcept: <code>The server returns true if one of the coding values is in the value set, and may also validate that the codings are not in conflict with each other if more than one is present</code></p>



<a name="186954758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186954758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186954758">(Jan 30 2020 at 04:38)</a>:</h4>
<p>yes</p>



<a name="186954765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186954765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186954765">(Jan 30 2020 at 04:39)</a>:</h4>
<blockquote>
<p>why, in that case, do you want to prevent a membership test</p>
</blockquote>
<p>because there may be multiple codings, and only one of them needs to be in the value set. the validator doesn't know which one</p>



<a name="186954821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186954821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186954821">(Jan 30 2020 at 04:40)</a>:</h4>
<p>Wait, isn't NO_MEMBERSHIP_CHECK for a Coding</p>



<a name="186955072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/186955072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#186955072">(Jan 30 2020 at 04:48)</a>:</h4>
<p>yes.</p>



<a name="187019156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/187019156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#187019156">(Jan 30 2020 at 19:03)</a>:</h4>
<p>I am still confused. I think that by default, the validator and/or tx server should check membership only. According to the CodeableConcept data type <code>A typical use of CodeableConcept is to send the local code that the concept was coded with, and also one or more translations to publicly defined code systems such as LOINC or SNOMED CT.</code> In such "typical" use, the server does not know the local code (very possible).</p>



<a name="187019721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/187019721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#187019721">(Jan 30 2020 at 19:08)</a>:</h4>
<p>of course. but it may know some of the codes and be confident that they are not equivalent.</p>



<a name="187020333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/187020333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#187020333">(Jan 30 2020 at 19:14)</a>:</h4>
<p>at present <a href="http://tx.fhir.org" target="_blank" title="http://tx.fhir.org">tx.fhir.org</a> does not do anything like this anywhere</p>



<a name="187233402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/187233402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#187233402">(Feb 03 2020 at 04:19)</a>:</h4>
<p>is this closed, or do we need to some face to face on this?</p>



<a name="187233433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/187233433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#187233433">(Feb 03 2020 at 04:19)</a>:</h4>
<p>mainly that's a question for <span class="user-mention" data-user-id="191376">@Jim Steel</span> and <span class="user-mention" data-user-id="191343">@Michael Lawley</span></p>



<a name="187233438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/187233438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#187233438">(Feb 03 2020 at 04:19)</a>:</h4>
<p>I think we might need some face to face</p>



<a name="187233509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/187233509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#187233509">(Feb 03 2020 at 04:21)</a>:</h4>
<p>I think I got talking with <span class="user-mention" data-user-id="191343">@Michael Lawley</span> was that I was comfortable that there was some need, but I still needed some clarity on whether one or other case might not already be doable by other means, and it not then just getting comfortable that the proposed approach was the right fix. I can't speak for <span class="user-mention" data-user-id="191343">@Michael Lawley</span> 's opinion :)</p>



<a name="187233648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/187233648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#187233648">(Feb 03 2020 at 04:24)</a>:</h4>
<p>break out room at 4pm?</p>



<a name="187233865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/187233865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#187233865">(Feb 03 2020 at 04:30)</a>:</h4>
<p>Presentations start at 4...</p>



<a name="187233875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/187233875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#187233875">(Feb 03 2020 at 04:30)</a>:</h4>
<p>I know</p>



<a name="209574412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/209574412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#209574412">(Sep 09 2020 at 22:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> what was the outcome of this?  Primarily curious if the validator is expecting support for this behavior (<code>CHECK_MEMBERSHIP_ONLY</code>) and, if so, where it is documented.</p>



<a name="209575611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/209575611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#209575611">(Sep 09 2020 at 22:19)</a>:</h4>
<p>it presently is, yes, and is only documented here.</p>



<a name="209575689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/209575689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#209575689">(Sep 09 2020 at 22:20)</a>:</h4>
<p>It's on my to do list to rework this after corridoor discussion back in Sydney</p>



<a name="209587910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/209587910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#209587910">(Sep 10 2020 at 01:31)</a>:</h4>
<p>Attempting to summarise the gist how to avoid the need for these (reiterating some of the above comments):</p>
<ul>
<li>NO_MEMBERSHIP_CHECK says to validate code in context of a ValueSet (picking up code system version, if any, from the valueset, and also any alternate display text).  My understanding is that this is only every called when membership is known to be true, so it is only an optimisation and doesn't affect the actual response.</li>
<li>CHECK_MEMBERSHIP_ONLY behaviour is identical to the normal behaviour iff the contained Codings have no display text.</li>
</ul>
<p>Note, the behaviour documented for validating codeableConcept does not say it should also fail if any of the included Codings is invalid, only that at least one (valid?) Coding is in the ValueSet.  Optionally also that the Codings do not conflict.</p>



<a name="209967253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/209967253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#209967253">(Sep 14 2020 at 05:50)</a>:</h4>
<p>the solution we discussed in Sydney is to change the output of the validate-code operation so that the validator knows what path in the CodeableConcept that the errors come from. It's still on my list to prototype that</p>



<a name="209967255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Change%20to%20validator%20use%20of%20terminology%20server/near/209967255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Change.20to.20validator.20use.20of.20terminology.20server.html#209967255">(Sep 14 2020 at 05:50)</a>:</h4>
<p>this would avoid the rather curly need to partially ignore the value set</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
