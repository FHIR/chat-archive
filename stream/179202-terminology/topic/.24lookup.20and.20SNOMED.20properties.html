---
layout: page
title: "FHIR Chat  · $lookup and SNOMED properties · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html">$lookup and SNOMED properties</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="273016405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273016405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273016405">(Feb 23 2022 at 21:54)</a>:</h4>
<p>When returning subproperties as part of a <code>$lookup</code> on a SNOMED CT code, what should the value of <code>property.code</code> be?<br>
For example:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"property"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?????"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subproperty"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"363698007"</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"valueCode"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66754008"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="273198691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273198691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273198691">(Feb 25 2022 at 08:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> <span class="user-mention" data-user-id="191364">@Peter Jordan</span> <span class="user-mention" data-user-id="192993">@Peter Williams</span> <span class="user-mention" data-user-id="192855">@Kai Kewley</span> <br>
Thoughts?</p>



<a name="273275979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273275979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273275979">(Feb 25 2022 at 19:44)</a>:</h4>
<p>370130000    ?</p>



<a name="273282899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273282899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273282899">(Feb 25 2022 at 20:45)</a>:</h4>
<p>I'm obviously missing something - it doesn't seem to me that <code>"code": "?????",</code> belongs here?</p>



<a name="273293438"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273293438" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273293438">(Feb 25 2022 at 22:29)</a>:</h4>
<p>Apologies, that was a rushed mockup. This is what I should have posted:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"property"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"????"</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subproperty"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"363698007"</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"valueCode"</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66754008"</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>



<a name="273293724"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273293724" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273293724">(Feb 25 2022 at 22:31)</a>:</h4>
<p>I was thinking 609096000 |Role group|, but it doesn't exist in older versions of SNOMED CT</p>



<a name="273294107"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273294107" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273294107">(Feb 25 2022 at 22:35)</a>:</h4>
<p>Yes, that looks better. :). Do we actually need the 'valueCode' in this case?  Its value doesn't seem to have any particular utility - if it did I expect we would already know what it should be.</p>



<a name="273294215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273294215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273294215">(Feb 25 2022 at 22:36)</a>:</h4>
<p>Ah, yes, but there is inv-1.</p>



<a name="273294661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273294661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273294661">(Feb 25 2022 at 22:41)</a>:</h4>
<p>Maybe Peter's suggestion of 370130000 |Property (attribute)| could work?</p>



<a name="273303647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273303647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273303647">(Feb 26 2022 at 00:24)</a>:</h4>
<p>there should be a code so you know what kind of property this is - in this cases, a snomed group</p>



<a name="273307134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273307134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273307134">(Feb 26 2022 at 01:22)</a>:</h4>
<p>If the property is a Role Group, and the sub-property attribute name-value pairs, where does one place the Role Group value.   BTW 609096000 |Role group|  is approaching it's 9th Birthday - do we have to worry about versions older than that?</p>



<a name="273315074"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273315074" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273315074">(Feb 26 2022 at 03:45)</a>:</h4>
<p>The "value" of the role group is the collection of subproperties.</p>



<a name="273316752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273316752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273316752">(Feb 26 2022 at 04:23)</a>:</h4>
<p>We could just assert it for SNOMED on FHIR.  But I have other code systems to worry about (dm+d) that do not have such a named property.  Instead they just have multiple property groups. For example this three-ingredient medication, <code>3408311000001102 | Generic Migraleve Pink tablets |</code>:</p>
<div class="codehilite" data-code-language="XML"><pre><span></span><code>    <span class="nt">&lt;VPI&gt;</span>
      <span class="nt">&lt;VPID&gt;</span>3408311000001102<span class="nt">&lt;/VPID&gt;</span>
      <span class="nt">&lt;ISID&gt;</span>126102009<span class="nt">&lt;/ISID&gt;</span>
      <span class="nt">&lt;BASIS_STRNTCD&gt;</span>0001<span class="nt">&lt;/BASIS_STRNTCD&gt;</span>
      <span class="nt">&lt;STRNT_NMRTR_VAL&gt;</span>1<span class="nt">&lt;/STRNT_NMRTR_VAL&gt;</span>
      <span class="nt">&lt;STRNT_NMRTR_UOMCD&gt;</span>258684004<span class="nt">&lt;/STRNT_NMRTR_UOMCD&gt;</span>
    <span class="nt">&lt;/VPI&gt;</span>
    <span class="nt">&lt;VPI&gt;</span>
      <span class="nt">&lt;VPID&gt;</span>3546911000001102<span class="nt">&lt;/VPID&gt;</span>
      <span class="nt">&lt;ISID&gt;</span>1956002<span class="nt">&lt;/ISID&gt;</span>
      <span class="nt">&lt;BASIS_STRNTCD&gt;</span>0001<span class="nt">&lt;/BASIS_STRNTCD&gt;</span>
      <span class="nt">&lt;STRNT_NMRTR_VAL&gt;</span>6.25<span class="nt">&lt;/STRNT_NMRTR_VAL&gt;</span>
      <span class="nt">&lt;STRNT_NMRTR_UOMCD&gt;</span>258684004<span class="nt">&lt;/STRNT_NMRTR_UOMCD&gt;</span>
    <span class="nt">&lt;/VPI&gt;</span>
    <span class="nt">&lt;VPI&gt;</span>
      <span class="nt">&lt;VPID&gt;</span>3546911000001102<span class="nt">&lt;/VPID&gt;</span>
      <span class="nt">&lt;ISID&gt;</span>387517004<span class="nt">&lt;/ISID&gt;</span>
      <span class="nt">&lt;BASIS_STRNTCD&gt;</span>0001<span class="nt">&lt;/BASIS_STRNTCD&gt;</span>
      <span class="nt">&lt;STRNT_NMRTR_VAL&gt;</span>500<span class="nt">&lt;/STRNT_NMRTR_VAL&gt;</span>
      <span class="nt">&lt;STRNT_NMRTR_UOMCD&gt;</span>258684004<span class="nt">&lt;/STRNT_NMRTR_UOMCD&gt;</span>
    <span class="nt">&lt;/VPI&gt;</span>
    <span class="nt">&lt;VPI&gt;</span>
      <span class="nt">&lt;VPID&gt;</span>3546911000001102<span class="nt">&lt;/VPID&gt;</span>
      <span class="nt">&lt;ISID&gt;</span>261000<span class="nt">&lt;/ISID&gt;</span>
      <span class="nt">&lt;BASIS_STRNTCD&gt;</span>0001<span class="nt">&lt;/BASIS_STRNTCD&gt;</span>
      <span class="nt">&lt;STRNT_NMRTR_VAL&gt;</span>8<span class="nt">&lt;/STRNT_NMRTR_VAL&gt;</span>
      <span class="nt">&lt;STRNT_NMRTR_UOMCD&gt;</span>258684004<span class="nt">&lt;/STRNT_NMRTR_UOMCD&gt;</span>
    <span class="nt">&lt;/VPI&gt;</span>
</code></pre></div>



<a name="273584170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273584170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273584170">(Mar 01 2022 at 02:43)</a>:</h4>
<p>but in each case, you need a code at the property level to say that this property is a grouper for the sub-properties. This is something that will properly be done in the code system definition (though I think it can only be narrative right now)</p>



<a name="273587400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273587400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273587400">(Mar 01 2022 at 03:42)</a>:</h4>
<p>Yes, there is no way for a CodeSystem to define subproperties.  We have two extensions in Ontosever for this purpose. One is boolean-valued and attaches to the <code>CodeSystem.property</code> to indicate that it is a subproperty, and the other (string-valued) attaches to <code>CodeSystem.concept.property</code> to indicate how they group together (i.e., just like SNOMED RF2's role group value, but without the special case handling of 0).</p>



<a name="273587568"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273587568" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273587568">(Mar 01 2022 at 03:46)</a>:</h4>
<p>We opted _not_ to add a complex extension to <code>CodeSystem.property</code> that attempted to emulate a <code>CodeSystem.property.subproperty</code> element because we would have no sensible value for <code>CodeSystem.property.type</code> (which is 1..1) and we don't even have a value for <code>CodeSystem.property.code</code> (as per this thread).</p>



<a name="273590207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273590207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273590207">(Mar 01 2022 at 04:35)</a>:</h4>
<p>perhaps we should consider adding this to the base resource</p>



<a name="273591150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273591150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273591150">(Mar 01 2022 at 04:54)</a>:</h4>
<p>Something like: <code>CodeSystem.property.subproperty</code> (boolean 0..1) and <code>CodeSystem.concept.property.group</code> (string 0..1) ?</p>



<a name="273591211"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273591211" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273591211">(Mar 01 2022 at 04:55)</a>:</h4>
<p>And assuming that we can make <code>property.code</code> optional in the <code>$lookup</code> output.</p>



<a name="273606402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273606402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273606402">(Mar 01 2022 at 08:44)</a>:</h4>
<p>Note, the Extensions I referred to are not yet in production.  If there's appetite to get this into the base CodeSystem resource then I have maybe a two week window to change things and use R5 extension URIs instead so I'm keen to know how others feel.</p>



<a name="273630445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273630445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273630445">(Mar 01 2022 at 12:09)</a>:</h4>
<p>we won't act that quickly. And you'll have to change whatever you do if we add it to R5</p>



<a name="273630471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273630471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273630471">(Mar 01 2022 at 12:09)</a>:</h4>
<p>I still don't see why we'd make property.code optional</p>



<a name="273746056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273746056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273746056">(Mar 02 2022 at 02:47)</a>:</h4>
<p>No, I didn't expect the actual changes, just what the appetite is and which way the wind is blowing so I can attempt to future-proof things.</p>



<a name="273747480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/%24lookup%20and%20SNOMED%20properties/near/273747480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/.24lookup.20and.20SNOMED.20properties.html#273747480">(Mar 02 2022 at 03:02)</a>:</h4>
<p>Regarding whether <code>property.code</code> should be optional, I think we first need consensus on how subproperty is supposed to work.</p>
<p>In <a href="#narrow/stream/179202-terminology/topic/Inconsistency.20of.20.24lookup.20properties.20from.20various.20servers">https://chat.fhir.org/#narrow/stream/179202-terminology/topic/Inconsistency.20of.20.24lookup.20properties.20from.20various.20servers</a> I've documented some variations I've seen, but I think a key question is whether the option A or option B approach is on the right track for how nested properties from SNOMED should be handled, or is there an option C?</p>
<p>Option A:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">[{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"property"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"363698007"</span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66754008"</span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Appendix structure"</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subproperty"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"relationshipGroup"</span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"property"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"116676008"</span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"409774005"</span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inflammatory morphology"</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subproperty"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"relationshipGroup"</span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}]</span><span class="w"></span>
</code></pre></div>
<p>Option B:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"property"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"609096000"</span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Role group"</span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"relationshipGroup"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueInteger"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subproperty"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"363698007"</span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66754008"</span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Appendix structure"</span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subproperty"</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">"part"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"116676008"</span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"409774005"</span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description"</span><span class="p">,</span><span class="w"> </span><span class="nt">"valueString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inflammatory morphology"</span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
