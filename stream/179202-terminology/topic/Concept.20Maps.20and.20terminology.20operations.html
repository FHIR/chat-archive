---
layout: page
title: "FHIR Chat  · Concept Maps and terminology operations · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html">Concept Maps and terminology operations</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153901862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153901862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153901862">(Aug 10 2017 at 23:14)</a>:</h4>
<p>In the past few days, I've been discussing the use of concept maps in combination with terminology operations with <span class="user-mention" data-user-id="191343">@Michael Lawley</span></p>



<a name="153901874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153901874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153901874">(Aug 10 2017 at 23:15)</a>:</h4>
<p>Here's some requirements:<br>
- expand a value set, and use a conceptmap to translate it before returning it <br>
- validate a code, and specify for the server to translate it before validation<br>
- expand a value set, using subsumption logic from a mapped code system</p>



<a name="153901875"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153901875" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153901875">(Aug 10 2017 at 23:15)</a>:</h4>
<p>other requirements...?</p>



<a name="153901876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153901876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jim Steel <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153901876">(Aug 10 2017 at 23:19)</a>:</h4>
<p>I don't know much about it, but could fhirpath be useful for this kind of thing?</p>



<a name="153901877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153901877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153901877">(Aug 10 2017 at 23:19)</a>:</h4>
<p>As a simple building block, being able to $translate a list of codes in a single request (without the overhead of a batch transaction) would help</p>



<a name="153901890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153901890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153901890">(Aug 10 2017 at 23:28)</a>:</h4>
<p>To provide a specific use-case context for the requirements list, consider a server that has a bunch of Conditions stored which are coded using one or more code systems (call them A &amp; B) for which there also exist maps A -&gt; SNOMED and B -&gt; SNOMED (and the composite map A/B -&gt; SNOMED).  What you want to do is retrieve all Conditions with code:below=http://snomed.info/sct|123456 after applying the composite map.</p>



<a name="153901916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153901916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153901916">(Aug 11 2017 at 00:24)</a>:</h4>
<p>In those use cases, maybe implement the mapping via an Expansion Profile?  Returning value sets is definitely more efficient than batching individual translation requests.</p>



<a name="153901920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153901920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153901920">(Aug 11 2017 at 00:31)</a>:</h4>
<p>well, the easiest changes here are:<br>
- add  a reference to a concept map in ExpansionProfile and as an expansion parameter. Server performs the translation, and blows up if there's no appropriate translation<br>
- add a parameter valueset to $translate, and server returns outcome value set, or blows up if there's input codes that don't have an appropriate translation</p>
<p>... for whatever "appropriate translation" means</p>



<a name="153901996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153901996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153901996">(Aug 11 2017 at 02:33)</a>:</h4>
<p>I think both of those would be useful additions, and should be fairly straightforward<br>
your third requirement for "expand a value set, using subsumption logic from a mapped code system" probably could be done by leveraging the first one? - I think you should be able to expand an intensional value set based on the subsumption logic and then translate it to the other one</p>



<a name="153901997"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153901997" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153901997">(Aug 11 2017 at 02:40)</a>:</h4>
<p>Wouldn't favour making breaking changes to $translate to return a ValueSet rather than a Parameters resource. If you want to pass a ValueSet ("bunch of codes") and receive another ValueSet of translation results then maybe add another operation to ConceptMap such as $convert.</p>



<a name="153902002"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153902002" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153902002">(Aug 11 2017 at 04:19)</a>:</h4>
<p>somehow I feel as though we're going to end up with TranslateProfile (equivalent to ExpansionProfile) and some pipelining mechanism...</p>



<a name="153903584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153903584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153903584">(Aug 24 2017 at 14:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191364">@Peter Jordan</span> When mapping from one code system to another, I think this has to be a concept (code) by concept activity, do you agree?  I think this must be true in all cases - this has been my experience unless one evokes very complicated logic. Given that, I think an operation that delivers the result of mapping should take as input an expansion, not a value set definition.</p>



<a name="153903591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153903591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153903591">(Aug 24 2017 at 15:19)</a>:</h4>
<p>I think that what Grahame suggested and Peter commented on assumed the presence of ConceptMap(s) with all of the mappings for the individual concepts.  We don't have a ValueSetExpansion resource (and we don't necessarily need one), so a ValueSet parameter makes sense, but to be able to process the translations the value set would need to be expanded, so probably we would need to be considering the parameters  (ExpansionProfile?) for that.  That's my take, anyway.</p>



<a name="153903621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153903621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153903621">(Aug 24 2017 at 20:50)</a>:</h4>
<p>I agree with <span class="user-mention" data-user-id="191405">@Rob Hausam</span> that we'd need to pass an Expansion Profile reference as an additional, and optional parameter to the $translate operation. <span class="user-mention" data-user-id="191503">@Robert McClure</span> has a purist's perspective that translation is a concept(code) by concept activity, however we have to be aware that in practice there are description-based maps out there, such as the UK Read to SNOMED CT maps, which is why source and target concept descriptions were added to the ConceptMap resource.</p>



<a name="153903627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153903627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153903627">(Aug 24 2017 at 21:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191364">@Peter Jordan</span> By <br>
 description-based maps out there, such as the UK Read to SNOMED CT maps,<br>
You mean for a specific concept from a specific code system, you want to map from one specific description, to another specific description, associated with a concept in a different code system. RIght? If so, then that is just a special case of the basic approach I mentioned - you still need a specified concept on both sides of the map.</p>



<a name="153903631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/Concept%20Maps%20and%20terminology%20operations/near/153903631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/Concept.20Maps.20and.20terminology.20operations.html#153903631">(Aug 24 2017 at 22:05)</a>:</h4>
<p>Right...and agreed, definitely still need specified source and target concepts. The description-based mapping from Read Codes to SCT was done by NHS Digital, but from an implementation perspective it's all about concepts. In the case of Read, we've added the 2 digit description id to the 5 digit Read Code to form a source code with a single description, but the target code is a 'pure' SCT Concept Identifier because all those descriptions are effectively properties of that code (and we use the preferred term as the target description). That also allows us to persist the map in an RF2 formatted Reference Set.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
