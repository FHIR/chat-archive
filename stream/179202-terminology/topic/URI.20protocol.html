---
layout: page
title: "FHIR Chat  · URI protocol · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html">URI protocol</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="194836895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194836895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Snyder <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194836895">(Apr 21 2020 at 17:38)</a>:</h4>
<p>Are there plans to update the web protocol for the URI's listed on <a href="http://hl7.org/fhir/terminologies-systems.html" title="http://hl7.org/fhir/terminologies-systems.html">http://hl7.org/fhir/terminologies-systems.html</a> from "http" to "https" in the near future? </p>
<p>The reason I ask is because the Inferno test tool is returning a failed test when the https protocol is used in the URI. I don't believe this is a valid test failure, but I believe Inferno is based on what is published on this page.</p>



<a name="194839515"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194839515" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194839515">(Apr 21 2020 at 17:58)</a>:</h4>
<p>No, the intent is for the canonical urls to remain as "http:", as they are documented on that page.  For canonical urls it doesn't seem necessary (or desirable) to specify the secure protocol (as usually there's a redirect and how it's handled is server dependent).</p>



<a name="194839641"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194839641" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194839641">(Apr 21 2020 at 17:59)</a>:</h4>
<p>And we don't intend for the canonical urls to change.</p>



<a name="194841730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194841730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194841730">(Apr 21 2020 at 18:17)</a>:</h4>
<p>The primary purpose of canonical URLs is not to resolve.  Also, as it becomes unnecessary to distinguish by URL whether data will be secured or not, formally declaring https will be unnecessary.  If a server (for some strange reason) decides that queries of a terminology must be secured, most systems can automatically retry with https if http fails</p>



<a name="194861151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194861151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194861151">(Apr 21 2020 at 21:02)</a>:</h4>
<p>To be pedantic, It's not necessary (or desirable) to change because these are URIs (identifiers), and not URLs (locations).<br>
Whether, how, or if you can resolve a URI is irrelevant to its meaning or intended use as an identifier.</p>



<a name="194948562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194948562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194948562">(Apr 22 2020 at 15:31)</a>:</h4>
<p><span class="user-mention" data-user-id="208876">@John Snyder</span> could you share a little more information about the test you're looking at in inferno?  I'd like to investigate a little more, although we might want to move this conversation over to the #inferno stream.</p>



<a name="194954042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194954042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Snyder <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194954042">(Apr 22 2020 at 16:07)</a>:</h4>
<p><span class="user-mention" data-user-id="197651">@Reece Adamson</span>  <br>
I don't know how to move this to the inferno stream other than to repost it?</p>
<p>I talked to our QA person and the test that are failing are The test for Observation Body Height Tests,Observation Blood Pressure Tests,Observation Body Weight Tests.</p>
<p>the part of the response that is failing is this section where you can see that we use "<a href="https://loinc.org" title="https://loinc.org">https://loinc.org</a>" as the system.</p>
<p>{<br>
  "resourceType": "Observation",<br>
  "id": "187f92da-2246-46a6-a3b6-dde820a17575",<br>
  "status": "final",<br>
  "category": [<br>
    {<br>
      "coding": [<br>
        {<br>
          "system": "<a href="http://terminology.hl7.org/CodeSystem/observation-category" title="http://terminology.hl7.org/CodeSystem/observation-category">http://terminology.hl7.org/CodeSystem/observation-category</a>",<br>
          "code": "vital-signs",<br>
          "display": "Vital Signs"<br>
        }<br>
      ]<br>
    }<br>
  ],<br>
  "code": {<br>
    "coding": [<br>
      {<br>
        "system": "<a href="https://loinc.org" title="https://loinc.org">https://loinc.org</a>",<br>
        "code": "8302-2",<br>
        "display": "Body height"<br>
      }<br>
    ]<br>
  },</p>



<a name="194960762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194960762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194960762">(Apr 22 2020 at 17:00)</a>:</h4>
<p>Thanks for the details that's really helpful!  I'm guessing inferno is throwing an error because the codesystem is not an exact match to that which is fixed in the profile.  I'll look into whether its a little too strict when validating terminology (and it probably is), but I think this specific error doesn't have to do with that.</p>
<p>I tried to validate the resource( <a href="/user_uploads/10155/Jl5B8zRRtd69JmDHtltc8BKj/https.json" title="https.json">https.json</a> ) against the HL7 validator with:</p>
<div class="codehilite"><pre><span></span>java -jar org.hl7.fhir.validator.jar https.json -version <span class="m">4</span>.0.1
</pre></div>


<p>and see a warning related to this and also it looks like the terminology isn't validated because of the <code>https</code>:</p>
<div class="codehilite"><pre><span></span>  Information @ Observation.code.coding<span class="o">[</span><span class="m">0</span><span class="o">]</span> <span class="o">(</span>line <span class="m">23</span>, col2<span class="o">)</span> : Code System URI <span class="s2">&quot;https://loinc.org&quot;</span> is unknown so the code cannot be validated
  Warning @ Observation.code <span class="o">(</span>line <span class="m">22</span>, col12<span class="o">)</span> : None of the codes provided are in the value <span class="nb">set</span> http://hl7.org/fhir/ValueSet/observation-vitalsignresult <span class="o">(</span>http://hl7.org/fhir/ValueSet/observation-vitalsignresult<span class="o">)</span>, and a code should come from this value <span class="nb">set</span> unless it has no suitable code<span class="o">)</span> <span class="o">(</span><span class="nv">codes</span> <span class="o">=</span> https://loinc.org#8302-2<span class="o">)</span>
</pre></div>


<p>I'm surprised that its only a warning here because at least from the<a href="https://www.hl7.org/fhir/elementdefinition-definitions.html#ElementDefinition.fixed_x_" title="https://www.hl7.org/fhir/elementdefinition-definitions.html#ElementDefinition.fixed_x_"> language in the spec ElementDefinition.fixed[x]</a>:<br>
<code>Specifies a value that SHALL be exactly the value for this element in the instance. For purposes of comparison, non-significant whitespace is ignored, and all values must be an exact match (case and accent sensitive). Missing elements/attributes must also be missing.</code></p>
<p>I imagine the code should be an exact match so I'd expect an error there if its wrong, but even if I make the code incorrect it is still a warning (but that's a different topic).</p>
<p>My main question is this:<br>
Does this mean that a uri ( specifically the url protocol portion) does not have to be an exact match when fixed by ElementDefinition.fixed[x]?  At least based on the ElementDefinition.fixed[x] definition it seems like everything that's not whitespace should matter.</p>
<p>Thoughts on this <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> or anyone else? I could be totally out of my gourd here.</p>



<a name="194971455"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194971455" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robert McClure <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194971455">(Apr 22 2020 at 18:20)</a>:</h4>
<p>Per the <a href="https://www.hl7.org/fhir/terminologies-systems.html" title="https://www.hl7.org/fhir/terminologies-systems.html">external code system page</a> at FHIR (v4 but it's consistent) the identifier for LOINC does not have https. That is the error and conformance testing is correct to catch this.</p>



<a name="194972450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194972450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194972450">(Apr 22 2020 at 18:28)</a>:</h4>
<p>Yes, the system uri needs to be <code>http://loinc.org</code>.</p>



<a name="194975064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/194975064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#194975064">(Apr 22 2020 at 18:48)</a>:</h4>
<p>Thanks, I appreciate the explanation!</p>



<a name="195017247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/URI%20protocol/near/195017247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/URI.20protocol.html#195017247">(Apr 23 2020 at 04:14)</a>:</h4>
<p>More generally, URIs (as used to reference CodeSystems, ValueSets, etc) are essentially magic numbers - they have to match exactly; they have no other semantics, you cannot extract any meaningful information by parsing them, etc etc.<br>
That they are _sometimes_ human (or geek)-readable and/or resolvable by treating them as URLs is a happy convenience, but should make NO difference to whether a given resource is valid.<br>
This is why, while the URL <a href="http://LOINC.ORG" title="http://LOINC.ORG">http://LOINC.ORG</a> is equivalent to the URL <a href="http://loinc.org" title="http://loinc.org">http://loinc.org</a>, the URIs <a href="http://LOINC.ORG" title="http://LOINC.ORG">http://LOINC.ORG</a> and <a href="http://loinc.org" title="http://loinc.org">http://loinc.org</a> are not equal .</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
