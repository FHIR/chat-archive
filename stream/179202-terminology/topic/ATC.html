---
layout: page
title: "FHIR Chat  · ATC · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html">ATC</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="213869069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869069">(Oct 20 2020 at 02:20)</a>:</h4>
<p>I'm getting ready to upgrade the terminology server, and I've done quite a bit of work under the hood around quality, consistency, and reliability. As part of that, I've found and fixed a bug around the use of ATC. The server is now reporting that this code is an error:</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
  <span class="nt">"system"</span><span class="p">:</span> <span class="s2">"http://www.whocc.no/atc"</span><span class="p">,</span>
  <span class="nt">"code"</span><span class="p">:</span> <span class="s2">"N02AA"</span><span class="p">,</span>
  <span class="nt">"display"</span><span class="p">:</span> <span class="s2">"Barbiturates and derivatives"</span>
<span class="p">}</span>
</code></pre></div>



<a name="213869080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869080">(Oct 20 2020 at 02:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> do you remember what the source for ATC is?</p>



<a name="213869086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869086">(Oct 20 2020 at 02:20)</a>:</h4>
<p>(I mean, what did we use?)</p>



<a name="213869095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869095">(Oct 20 2020 at 02:21)</a>:</h4>
<p>does anyone know whether that's actually a valid code or not?</p>



<a name="213869252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869252">(Oct 20 2020 at 02:24)</a>:</h4>
<p>All of the ATC codes that we have were obtained and verified from the WHO ATC browser.  It's another one where we do have a source for the complete set of codes.  But the ones that we do have should definitely be correct.  I'll check that one.</p>



<a name="213869343"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869343" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869343">(Oct 20 2020 at 02:26)</a>:</h4>
<p>OK.  That's a valid code, but it's definitely the wrong description - it should be "Natural opium alkaloids".  I'll check the source.</p>



<a name="213869626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869626">(Oct 20 2020 at 02:33)</a>:</h4>
<p>UMLS Concept: [C3653996]  Natural opium alkaloid analgesics</p>
<p>Natural opium alkaloids [A22730921/ATC/PT/N02AA]</p>



<a name="213869673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869673">(Oct 20 2020 at 02:34)</a>:</h4>
<p>The info above is copied from NLM UTS</p>



<a name="213869693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869693">(Oct 20 2020 at 02:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> is right.</p>



<a name="213869764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869764">(Oct 20 2020 at 02:36)</a>:</h4>
<p>That code isn't in the fhir.tx.support.r4/packages/CodeSystem-atc.json source file.  Neither is a code with the description "Barbiturates and derivatives" (which is the description for the code 'N03AA').  A $lookup on <a href="http://tx.fhir.org">tx.fhir.org</a> returns "Unable to find code" for both of those codes - which is as I expected.</p>



<a name="213869781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869781">(Oct 20 2020 at 02:36)</a>:</h4>
<p>indeed that'll happen since you just referred to the master</p>



<a name="213869794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869794">(Oct 20 2020 at 02:37)</a>:</h4>
<p>UMLS Concept: [C3653617]  Barbiturates and derivatives</p>
<p>Barbiturates and derivatives [A22728581/ATC/PT/N03AA]</p>



<a name="213869877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869877">(Oct 20 2020 at 02:38)</a>:</h4>
<p>OK.  Maybe I jumped in the middle and don't even know what the question is?  But I do know that 'N02AA' and "Barbiturates and derivatives" don't match, as well as the other details that Lin and I've confirmed.</p>



<a name="213869899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869899">(Oct 20 2020 at 02:39)</a>:</h4>
<p>well, I suspected that the atc source wasn't correct, and you've confirmed that. So the question then becomes, can we make it correct?</p>



<a name="213869954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869954">(Oct 20 2020 at 02:40)</a>:</h4>
<p>Use NLM UTS as a source for this?</p>



<a name="213869970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869970">(Oct 20 2020 at 02:41)</a>:</h4>
<p>I think we prefer not to use UTS as a primary source for any of the things that feed it</p>



<a name="213869977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213869977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213869977">(Oct 20 2020 at 02:41)</a>:</h4>
<p>Understood</p>



<a name="213870062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870062">(Oct 20 2020 at 02:43)</a>:</h4>
<p>ATC does have a pretty wide adoption but it's not a good code system.</p>



<a name="213870151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870151">(Oct 20 2020 at 02:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  So, by that I'm assuming that you mean that there is another source for ATC codes other than the package?  It's not included in fhirserver.ini.</p>



<a name="213870221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870221">(Oct 20 2020 at 02:46)</a>:</h4>
<p>well, not a FHIR source. Only would be WHOCC itself, or UMLS if necessary</p>



<a name="213870249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870249">(Oct 20 2020 at 02:48)</a>:</h4>
<p>So I'm obviously still confused.  I don't know what ATC source isn't correct.  The one that we have in the FHIR package json file <strong>is</strong> indeed correct.</p>



<a name="213870295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870295">(Oct 20 2020 at 02:48)</a>:</h4>
<p>is it? It doesn't have N02AA in it?</p>



<a name="213870314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870314">(Oct 20 2020 at 02:49)</a>:</h4>
<p>No, it doesn't have that code - and that's why it's not found when you do a $lookup on <a href="http://tx.fhir.org/r4">tx.fhir.org/r4</a> for it (I didn't actually check r3).</p>



<a name="213870350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870350">(Oct 20 2020 at 02:50)</a>:</h4>
<p>right. So, i'm asking how we update it.</p>



<a name="213870377"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870377" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870377">(Oct 20 2020 at 02:50)</a>:</h4>
<p>Ultimate authoritative  source should be WHO</p>



<a name="213870394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870394">(Oct 20 2020 at 02:51)</a>:</h4>
<p>I can easily add it to the package.  So far I've done that manually as I've had requests, and just added what has been asked for - with all of them verified in the WHO browser.  But we only have a very limited number of codes right now.</p>



<a name="213870396"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870396" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870396">(Oct 20 2020 at 02:51)</a>:</h4>
<p>But it's not open.</p>



<a name="213870454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870454">(Oct 20 2020 at 02:52)</a>:</h4>
<p>Correct, <span class="user-mention" data-user-id="192103">@Lin Zhang</span>.  That's why I've been doing it one by one from the WHO browser. :(</p>



<a name="213870686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870686">(Oct 20 2020 at 02:58)</a>:</h4>
<p>If so, regardless its license, atc could be extracted from UMLS automatically by some tools from UMLS and/or Github.</p>



<a name="213870720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870720">(Oct 20 2020 at 02:59)</a>:</h4>
<p>And I think maybe I finally understand <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>'s original issue. :)  The data instance that you posted to start this returns an error because the server doesn't support the 'N02AA' code.  Plus, if the server <strong>did</strong> support the 'N02AA'  code then it would also return an error because the "Barbiturates and derivatives" description is incorrect for that code.  The two issues were being mixed together (at least in my mind).</p>



<a name="213870776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213870776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213870776">(Oct 20 2020 at 03:00)</a>:</h4>
<p>Agree.</p>



<a name="213871059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213871059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213871059">(Oct 20 2020 at 03:06)</a>:</h4>
<p>To <span class="user-mention" data-user-id="192103">@Lin Zhang</span>'s point.  In the absence of any known source by any of us (at least one that's freely available), should we, in this case, consider obtaining this content via the UMLS?  And the next question is, if we did that would we be violating licensing terms from the WHO (and particularly the WHO Collaborating Centre for Drug Statistics Methodology, run by the Norwegian Institute of Public Health, who manages it)?  I suspect that probably that would violate license terms, but we could try to verify.  It's far safer, although also far less satisfactory, to include the codes one by one as obtained from the publicly available Web search app.</p>



<a name="213871161"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213871161" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lin Zhang <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213871161">(Oct 20 2020 at 03:08)</a>:</h4>
<p>I see.  What I said is just a "what-if".</p>



<a name="213871252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213871252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213871252">(Oct 20 2020 at 03:11)</a>:</h4>
<p>In the meantime, since we're discussing it and I have it open, and I was hoping to do some work on the terminology content tonight anyway, I can just go ahead and add those two codes (plus the content in the surrounding hierarchy) to the others that we already have in the package.</p>



<a name="213871837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213871837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213871837">(Oct 20 2020 at 03:25)</a>:</h4>
<p>sure. and  commit it</p>



<a name="213871971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213871971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213871971">(Oct 20 2020 at 03:26)</a>:</h4>
<p>Yes.</p>



<a name="213874469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213874469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213874469">(Oct 20 2020 at 04:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  ATC package updates committed and pushed.</p>



<a name="213875964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213875964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213875964">(Oct 20 2020 at 05:08)</a>:</h4>
<p>Just pushed another update with minor fixes for a validation error and warning.</p>



<a name="213877270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/ATC/near/213877270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/ATC.html#213877270">(Oct 20 2020 at 05:45)</a>:</h4>
<p>ok published</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
