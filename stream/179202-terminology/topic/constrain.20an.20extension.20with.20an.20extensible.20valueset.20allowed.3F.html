---
layout: page
title: "FHIR Chat  · constrain an extension with an extensible valueset allowed? · terminology"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/index.html">terminology</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html">constrain an extension with an extensible valueset allowed?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176906994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/constrain%20an%20extension%20with%20an%20extensible%20valueset%20allowed%3F/near/176906994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html#176906994">(Sep 30 2019 at 06:38)</a>:</h4>
<p>We have in Switzerland Swiss specific religions <a href="http://build.fhir.org/ig/hl7ch/ch-core/CodeSystem-ech-11-religion.html" target="_blank" title="http://build.fhir.org/ig/hl7ch/ch-core/CodeSystem-ech-11-religion.html">coded</a>. We derived an ch-core religion <a href="http://build.fhir.org/ig/hl7ch/ch-core/StructureDefinition-ch-core-patient-religion.html#tabs-snap" target="_blank" title="http://build.fhir.org/ig/hl7ch/ch-core/StructureDefinition-ch-core-patient-religion.html#tabs-snap">Extension</a> which is a constraint on the <a href="http://hl7.org/fhir/r4/extension-patient-religion.html#tabs-struc2" target="_blank" title="http://hl7.org/fhir/r4/extension-patient-religion.html#tabs-struc2">hl7 religion extension</a> and provide an new <a href="http://build.fhir.org/ig/hl7ch/ch-core/ValueSet-ch-core-religion.html" target="_blank" title="http://build.fhir.org/ig/hl7ch/ch-core/ValueSet-ch-core-religion.html">ValueSet</a> which includes the Swiss religion ValueSet and the original ValueSet. We provide a <a href="http://build.fhir.org/ig/hl7ch/ch-core/ConceptMap-religion-ech11-to-fhir.html" target="_blank" title="http://build.fhir.org/ig/hl7ch/ch-core/ConceptMap-religion-ech11-to-fhir.html">Concept Map</a>, how the religions map (two of the concepts are equivalent, the others not). </p>
<p>HL7 Austria <span class="user-mention" data-user-id="191890">@Reinhard Egelkraut</span>  challenged our approach and we would like to get some feedback from the community:</p>
<ol>
<li>Is it allowed to constrain an Extension with a valueSetCoding/binding and provide in this Extension an extended extensible ValueSet/binding which includes the original ValueSet?</li>
<li>We have no ownership over the two Valuesets, two values describe an equivalent concept in the ValueSets, do we require the source to send both or would the reference to the concept map be sufficent that receiving systems can translate to their need?</li>
<li>Is there a way to specify that a Coding is backed with a ConceptMap?</li>
</ol>



<a name="176907779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/constrain%20an%20extension%20with%20an%20extensible%20valueset%20allowed%3F/near/176907779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html#176907779">(Sep 30 2019 at 06:57)</a>:</h4>
<p>it would be cleaner and simpler for you to define a different extension, since the 2 codes are very definitely a problem</p>



<a name="177032655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/constrain%20an%20extension%20with%20an%20extensible%20valueset%20allowed%3F/near/177032655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html#177032655">(Oct 01 2019 at 08:10)</a>:</h4>
<p>thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , will do that. <br>
Concerning question 1 and 3:</p>
<ol>
<li>If the codes would not overlap would it be a valid approach or still problematic?</li>
<li>Is there a way to specify that a Coding is backed with a ConceptMap?</li>
</ol>



<a name="177044741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/constrain%20an%20extension%20with%20an%20extensible%20valueset%20allowed%3F/near/177044741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Lawley <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html#177044741">(Oct 01 2019 at 11:15)</a>:</h4>
<p>I'm not sure what you mean by "a Coding is backed with a ConceptMap"?<br>
I would have expected you to have your own ValueSet bound to <code>religion</code> which re-uses original codes that are equivalent and otherwise uses your own codes.</p>



<a name="177051230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/constrain%20an%20extension%20with%20an%20extensible%20valueset%20allowed%3F/near/177051230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html#177051230">(Oct 01 2019 at 12:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191343">@Michael Lawley</span> : this would be the approach, but then I have leftover in my local  swiss defined codes, (e.g. 211 for cathoclic) and I would like to give the implementers guidance how this local defined code is mapped to the international, we defined this in <a href="http://build.fhir.org/ig/hl7ch/ch-core/branches/master/ConceptMap-religion-ech11-to-fhir.html" target="_blank" title="http://build.fhir.org/ig/hl7ch/ch-core/branches/master/ConceptMap-religion-ech11-to-fhir.html">this ConceptMap</a>. What I'm looking for is now a way to refer to this ConceptMap, but probably I have to this in the narrative somewhere.</p>



<a name="177094708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/constrain%20an%20extension%20with%20an%20extensible%20valueset%20allowed%3F/near/177094708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html#177094708">(Oct 01 2019 at 20:26)</a>:</h4>
<blockquote>
<p>If the codes would not overlap would it be a valid approach or still problematic?</p>
</blockquote>
<p>Not invalid... but I still think I'd define my own extension rather than use the US Core one. But that's about governance going forward.</p>



<a name="177094728"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/constrain%20an%20extension%20with%20an%20extensible%20valueset%20allowed%3F/near/177094728" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html#177094728">(Oct 01 2019 at 20:26)</a>:</h4>
<blockquote>
<p>Is there a way to specify that a Coding is backed with a ConceptMap?</p>
</blockquote>
<p>Yeah, there's an extension somewhere to put in the profile.</p>



<a name="177094861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/constrain%20an%20extension%20with%20an%20extensible%20valueset%20allowed%3F/near/177094861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html#177094861">(Oct 01 2019 at 20:28)</a>:</h4>
<p>not in the core though</p>



<a name="177094963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/constrain%20an%20extension%20with%20an%20extensible%20valueset%20allowed%3F/near/177094963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html#177094963">(Oct 01 2019 at 20:29)</a>:</h4>
<p>But that'd be how to do it - put an extension on the ElementDefinition.binding in the profile. If you make a task for this, we can define it in the core and the profile renderers can pick it up</p>



<a name="177160160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179202-terminology/topic/constrain%20an%20extension%20with%20an%20extensible%20valueset%20allowed%3F/near/177160160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179202-terminology/topic/constrain.20an.20extension.20with.20an.20extensible.20valueset.20allowed.3F.html#177160160">(Oct 02 2019 at 15:18)</a>:</h4>
<p>thanks, task is <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=24887" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=24887">GF#24887</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
