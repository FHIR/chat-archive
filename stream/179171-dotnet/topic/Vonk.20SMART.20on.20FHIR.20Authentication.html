---
layout: page
title: "FHIR Chat  · Vonk SMART on FHIR Authentication · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Vonk.20SMART.20on.20FHIR.20Authentication.html">Vonk SMART on FHIR Authentication</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="182435434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Vonk%20SMART%20on%20FHIR%20Authentication/near/182435434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sven-Eric Matthes <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Vonk.20SMART.20on.20FHIR.20Authentication.html#182435434">(Dec 03 2019 at 10:46)</a>:</h4>
<p>We are currently facing some problems with the SMART on FHIR Authentication with the Vonk FHIR Server. Our IdentityProvider does not provide an audience claim in the Access Token (and the company behind that seems unwilling to change that behaviour) and it seems like the audience check in the token validation cannot be disabled in the vonk configuration... is there any possibility to disable the audience check? Another thing that we can't figure out is how to configure Introspection in the Vonk configuration because introspection endpoints are usually secured... More options to configure the Authentication in detail and more information about whats going on here would be really helpful...</p>



<a name="182463647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Vonk%20SMART%20on%20FHIR%20Authentication/near/182463647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Vonk.20SMART.20on.20FHIR.20Authentication.html#182463647">(Dec 03 2019 at 16:02)</a>:</h4>
<p>Thanks for bringing this to our attention. We'll look into it, but it may need a bit of time.</p>



<a name="182553865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Vonk%20SMART%20on%20FHIR%20Authentication/near/182553865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sven-Eric Matthes <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Vonk.20SMART.20on.20FHIR.20Authentication.html#182553865">(Dec 04 2019 at 13:12)</a>:</h4>
<p>Thanks for your reply, I look forward to hear from you again with more informations or new configuration options</p>



<a name="183257657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Vonk%20SMART%20on%20FHIR%20Authentication/near/183257657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Vonk.20SMART.20on.20FHIR.20Authentication.html#183257657">(Dec 12 2019 at 13:23)</a>:</h4>
<p><span class="user-mention" data-user-id="225690">@Sven-Eric Matthes</span> : Update on this: you currently cannot avoid Audience validation through the settings. But we can easily adjust that to skip Audience validation if there is no Audience configured in the Vonk settings. We'll do that for the next release.</p>



<a name="183259737"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Vonk%20SMART%20on%20FHIR%20Authentication/near/183259737" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Vonk.20SMART.20on.20FHIR.20Authentication.html#183259737">(Dec 12 2019 at 13:47)</a>:</h4>
<p>Configuration of token introspection is a bit more work. We'll add it to the todo list, but in the meantime you could fill in this need by creating a plugin that sits in front of the SMART-on-FHIR plugin (so the order of the plugin should be &lt; 2000). The plugin would be structured along the lines of this <a href="http://bit.ly/VonkAuthorizationMiddleware" target="_blank" title="http://bit.ly/VonkAuthorizationMiddleware">gist</a>.</p>



<a name="183262650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Vonk%20SMART%20on%20FHIR%20Authentication/near/183262650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Vonk.20SMART.20on.20FHIR.20Authentication.html#183262650">(Dec 12 2019 at 14:15)</a>:</h4>
<p>Just to check: are you using your authorization server to generate tokens for any other services, or only for vonk? Audience validation is an important step anytime tokens might be generated for more than one audience. (I've seen projects make serious security errors by trying to skip audience validation.)</p>



<a name="188371034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Vonk%20SMART%20on%20FHIR%20Authentication/near/188371034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Vonk.20SMART.20on.20FHIR.20Authentication.html#188371034">(Feb 17 2020 at 11:32)</a>:</h4>
<p>For anyone else looking, disabling audience vaidation is now available in Vonk 3.2.0</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
