---
layout: page
title: "FHIR Chat  · Template file error · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html">Template file error</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204206755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/204206755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PS <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#204206755">(Jul 17 2020 at 13:40)</a>:</h4>
<p>Hi,<br>
This error is related to .net firely API. <br>
When I tried to run <a href="http://Template-model.tt">Template-model.tt</a> file it gave me error that "Microsoft.VisualStudio.Shell.10.0" is not found. After I changed the version from 10.0 to 15.0 I am getting error that</p>
<p>"An exception was thrown while trying to compile the transformation code. The following Exception was thrown:<br>
System.IO.FileNotFoundException: Could not find file 'C:\WINDOWS\system32\Microsoft.VisualStudio.Shell.Interop'.<br>
File name: 'C:\WINDOWS\system32\Microsoft.VisualStudio.Shell.Interop'<br>
   at System.IO.__Error.WinIOError(Int32 errorCode, String maybeFullPath)<br>
   at System.IO.FileStream.Init(String path, FileMode mode, FileAccess access, Int32 rights, Boolean useRights, FileShare share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath, Boolean checkHost)<br>
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share)<br>
   at Roslyn.Utilities.FileUtilities.OpenFileStream(String path)<br>
   at Microsoft.CodeAnalysis.MetadataReference.CreateFromFile(String path, MetadataReferenceProperties properties, DocumentationProvider documentation)<br>
   at Microsoft.VisualStudio.TextTemplating.CompilerBridge.&lt;&gt;c.&lt;.ctor&gt;b__15_0(String x)<br>
   at System.Linq.Enumerable.WhereSelectListIterator<code>2.MoveNext()
   at System.Linq.Enumerable.&lt;UnionIterator&gt;d__67</code>1.MoveNext()<br>
   at System.Linq.Enumerable.&lt;UnionIterator&gt;d__67<code>1.MoveNext()
   at System.Linq.Buffer</code>1..ctor(IEnumerable<code>1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable</code>1 source)<br>
   at System.Collections.Immutable.ImmutableArray.CreateRange<a href="http://IEnumerable1%20items)
%20%20%20at%20Microsoft.CodeAnalysis.ImmutableArrayExtensions.AsImmutableOrEmpty[T](IEnumerable1%20items">T</a><br>
   at Microsoft.CodeAnalysis.Compilation.ValidateReferences<a href="http://IEnumerable1%20references)
%20%20%20at%20Microsoft.CodeAnalysis.CSharp.CSharpCompilation.WithReferences(IEnumerable1%20references">T</a><br>
   at Microsoft.CodeAnalysis.CSharp.CSharpCompilation.CommonWithReferences(IEnumerable<code>1 newReferences)
   at Microsoft.VisualStudio.TextTemplating.CompilerBridge.PrepareNewCompilation()
   at Microsoft.VisualStudio.TextTemplating.CompilerBridge.Compile()
   at Microsoft.VisualStudio.TextTemplating.TransformationRunner.Compile(String source, String inputFile, IEnumerable</code>1 references, Boolean debug, SupportedLanguage language, String compilerOptions)  Hl7.Fhir.Core       1   <br>
"</p>
<p>I tried to download the dll` and place it but I still get the same error. Can anyone help in running the template file. I am using Visual Studio 2019.</p>
<p>Thanks in advance</p>



<a name="204381555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/204381555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PS <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#204381555">(Jul 20 2020 at 02:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span>  Any idea why I might be getting this error?<br>
Thanks</p>



<a name="204403779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/204403779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#204403779">(Jul 20 2020 at 09:49)</a>:</h4>
<p>Yes, I had the problem myself. It seems to be connected with a recent VS upgrade.</p>



<a name="204403793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/204403793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#204403793">(Jul 20 2020 at 09:49)</a>:</h4>
<p>I fixed it in our develop branch. Let me check what I did.</p>



<a name="204404093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/204404093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#204404093">(Jul 20 2020 at 09:53)</a>:</h4>
<p>In fhir-net-api\src\Hl7.Fhir.Core\Model\Generated\TemplateFileManagerV2.1.ttinclude I changed the line</p>
<div class="codehilite"><pre><span></span><code>&lt;#@ assembly name=&quot;Microsoft.VisualStudio.Shell.10.0&quot;#&gt;
</code></pre></div>


<p>to</p>
<div class="codehilite"><pre><span></span><code>&lt;#@ assembly name=&quot;Microsoft.VisualStudio.Shell.15.0&quot;#&gt;
</code></pre></div>


<p>That fixed it for me.</p>



<a name="204511144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/204511144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PS <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#204511144">(Jul 21 2020 at 04:17)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span>  Thanks for the reply. I  already did that but now I am getting new error which I have mentioned in the original question. Did you face this issue ? I googled a bit but didn't find any solution. Any other changes which are required to fix this?<br>
TIA</p>



<a name="204518581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/204518581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#204518581">(Jul 21 2020 at 07:28)</a>:</h4>
<p>Which branch are you building against?  Can you try <code>develop</code>?</p>



<a name="204552404"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/204552404" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PS <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#204552404">(Jul 21 2020 at 14:13)</a>:</h4>
<p>I am using developer branch.  Visual Studio Version is 2019.</p>



<a name="204635491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/204635491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#204635491">(Jul 22 2020 at 06:59)</a>:</h4>
<p>Better question is why are you running the tt templates? Are you trying to change how things are generated, trying to do your own?<br>
Trying to update the latest R5 code branch?</p>



<a name="204637482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/204637482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#204637482">(Jul 22 2020 at 07:34)</a>:</h4>
<p>(message deleted)</p>



<a name="205076123"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/205076123" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PS <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#205076123">(Jul 27 2020 at 01:48)</a>:</h4>
<p>I was trying to change structure definitions and see how models will  be generated.</p>



<a name="205096824"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/205096824" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#205096824">(Jul 27 2020 at 09:37)</a>:</h4>
<p>Changing the core specification?</p>



<a name="205325977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Template%20file%20error/near/205325977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> PS <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Template.20file.20error.html#205325977">(Jul 29 2020 at 07:32)</a>:</h4>
<p>Yes, to check if some new properties are added to resources models how will be behavior of parser and serializer.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
