---
layout: page
title: "FHIR Chat  · How to get XML/JSON from FHIR Client · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html">How to get XML/JSON from FHIR Client</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153822494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822494">(Apr 19 2016 at 17:59)</a>:</h4>
<p>I am using .NET FHIR Client. Instead of parsed resource, how can I get raw xml/json from response?</p>



<a name="153822500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Theo Stolker <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822500">(Apr 19 2016 at 19:20)</a>:</h4>
<p>Serialize the output again, and you have the raw xml/json!</p>



<a name="153822501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822501">(Apr 19 2016 at 19:49)</a>:</h4>
<p>Well, you have something semantically equivalent - but not the actual raw response. That distinction may or may not be important, depending on your goals</p>



<a name="153822511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822511">(Apr 19 2016 at 21:05)</a>:</h4>
<p>The issue I have now is that the resource xml received is not valid. So the FHIR parser throws exception. But I don't quite care about those elements in error. Or say I don't need the whole resource but only small portions. So if I can get the raw xml w/o parsing, then I can hand pick the element that I need using XML reader (or xpath).</p>



<a name="153822517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822517">(Apr 19 2016 at 21:40)</a>:</h4>
<p>If the parser is not reading the content, then it likely isn't valid FHIR xml, so question reading the content manually. There could be content in there that you aren't expecting, like modifier extensions.</p>



<a name="153822526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822526">(Apr 19 2016 at 22:40)</a>:</h4>
<p>Yes. I know the content is not a valid FHIR xml. While waiting for the content issuer to fix the problems, I would like to continue working on it. For example, if I only need patient's ID and name, then I don't care if patient's address is in valid format or not. I can write my own HTTP client to send request. But since I am already using FHIR client everywhere else, I would like to keep consistency.</p>



<a name="153822558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822558">(Apr 20 2016 at 01:22)</a>:</h4>
<p>Not my favourite bit of code, but there is the <code>LastBodyAsText</code> property on the fhirclient that has just that. This may or may not work, need to be careful and test it well, as it is reading from the LastRequest, and not sure when this is disposed of and could cause a ObjectDisposedException.<br>
Also, if you are sharing the fhirclient object across threads, can be overwritten.</p>



<a name="153822559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822559">(Apr 20 2016 at 01:22)</a>:</h4>
<p>Think that covers the disclaimers ;)</p>



<a name="153822581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822581">(Apr 20 2016 at 09:00)</a>:</h4>
<p>And you can override OnAfterResponse, which has the raw body as a parameter</p>



<a name="153822589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822589">(Apr 20 2016 at 10:15)</a>:</h4>
<p>Yes  Ewout, I think this is the preferred way to do it, as it won't have been disposed here.</p>



<a name="153822889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20get%20XML/JSON%20from%20FHIR%20Client/near/153822889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20get.20XML.2FJSON.20from.20FHIR.20Client.html#153822889">(Apr 23 2016 at 13:27)</a>:</h4>
<p>Ewout: That sounds a solution. I will try it. </p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
