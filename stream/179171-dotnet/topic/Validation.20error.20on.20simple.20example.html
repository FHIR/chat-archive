---
layout: page
title: "FHIR Chat  · Validation error on simple example · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20error.20on.20simple.20example.html">Validation error on simple example</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="178225747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20error%20on%20simple%20example/near/178225747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kirt Noel <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20error.20on.20simple.20example.html#178225747">(Oct 15 2019 at 19:22)</a>:</h4>
<p>I am having difficulty validating a resource with the C# API against profile I created with Forge.</p>
<p>Here's the error I'm encountering:</p>
<p>[ERROR] Unable to resolve reference to profile '<a href="http://hl7.org/fhir/StructureDefinition/Patient" target="_blank" title="http://hl7.org/fhir/StructureDefinition/Patient">http://hl7.org/fhir/StructureDefinition/Patient</a>' (at Patient)</p>
<p>Any guidance would be appreciated.</p>
<p>Here's the relevant excerpt from my code:</p>
<p>var myProfiles = new CachedResolver(new MultiResolver(<br>
      new DirectorySource(@"\\mySharedDrive\StructureDefinitions")));</p>
<p>var patientProfile = myProfiles.FindStructureDefinition(@"<a href="http://example.org/fhir/StructureDefinition/CustomPatientProfile" target="_blank" title="http://example.org/fhir/StructureDefinition/CustomPatientProfile">http://example.org/fhir/StructureDefinition/CustomPatientProfile</a>");</p>
<p>Patient patientResource = ...</p>
<p>var validator = new Validator();<br>
var outcome = validator.Validate(patientResource, patientProfile);</p>



<a name="178225898"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20error%20on%20simple%20example/near/178225898" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20error.20on.20simple.20example.html#178225898">(Oct 15 2019 at 19:22)</a>:</h4>
<p>It can possibly mean that the directory where the zip gets extracted to is corrupted - find and delete it</p>



<a name="178225913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20error%20on%20simple%20example/near/178225913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20error.20on.20simple.20example.html#178225913">(Oct 15 2019 at 19:23)</a>:</h4>
<p>I don't have the name of the folder offhand, but I've seen this error before, and that was the fix.</p>



<a name="178226415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20error%20on%20simple%20example/near/178226415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kirt Noel <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20error.20on.20simple.20example.html#178226415">(Oct 15 2019 at 19:27)</a>:</h4>
<p>I simply saved the profile into a directory without zipping it.  As such, I didn't invoke:   ZipSource.CreateValidationSource()<br>
In iterating with the debugger it seems the profile was loaded from the directory and it subsequently populated the patientProfile variable cited above.</p>



<a name="178263392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20error%20on%20simple%20example/near/178263392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marco Visser <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20error.20on.20simple.20example.html#178263392">(Oct 16 2019 at 06:48)</a>:</h4>
<p>Hi Kirt,</p>
<p>It cannot find the  basic Fhir resource Patient. In your resolver structure I miss the zip file with all the standard Fhir resources. When you use the following resolver structure , the validator should be able to find the standard Patient resource:</p>
<div class="codehilite"><pre><span></span>var myProfiles = new CachedResolver(new MultiResolver(new DirectorySource(@&quot;\\mySharedDrive\StructureDefinitions&quot;), ZipSource.CreateValidationSource()));
</pre></div>



<a name="178281435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20error%20on%20simple%20example/near/178281435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kirt Noel <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20error.20on.20simple.20example.html#178281435">(Oct 16 2019 at 12:00)</a>:</h4>
<p>Hello Marco.</p>
<p>You correctly identified the problem.  Indeed, the folder did not have a copy of the specification.zip in it.  Upon placing it there, the error was corrected and the validator was able to resolve both the specification and my Patient profile.</p>
<p>Thank-you!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
