---
layout: page
title: "FHIR Chat  · Unable to resolve reference to profile · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Unable.20to.20resolve.20reference.20to.20profile.html">Unable to resolve reference to profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="188351564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Unable%20to%20resolve%20reference%20to%20profile/near/188351564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Chen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Unable.20to.20resolve.20reference.20to.20profile.html#188351564">(Feb 17 2020 at 04:11)</a>:</h4>
<p>Hi all, I used validate the resource with the profile.<br>
But errors shown below:</p>
<p>{"Overall result: FAILURE (2 errors and 0 warnings)\r\n\r\n<br>
[ERROR] Unable to resolve reference to profile '<a href="http://hl7.org/fhir/StructureDefinition/Observation" target="_blank" title="http://hl7.org/fhir/StructureDefinition/Observation">http://hl7.org/fhir/StructureDefinition/Observation</a>' (at Observation)\r\n<br>
[ERROR] Unable to resolve reference to profile '<a href="http://hl7.org/fhir/vitalsigns.profile.json" target="_blank" title="http://hl7.org/fhir/vitalsigns.profile.json">http://hl7.org/fhir/vitalsigns.profile.json</a>' (at Observation)</p>
<p>How do I fix it ?<br>
Thanks!</p>



<a name="188357071"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Unable%20to%20resolve%20reference%20to%20profile/near/188357071" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marco Visser <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Unable.20to.20resolve.20reference.20to.20profile.html#188357071">(Feb 17 2020 at 07:13)</a>:</h4>
<p>It looks like the validator misses the FHIR profiles. You can add them to your resolver like this:</p>
<div class="codehilite"><pre><span></span>IResourceResolver coreResolver = ZipSource.CreateValidationSource();
var ctx = new ValidationSettings()
            {
                ResourceResolver = coreResolver,
                GenerateSnapshot = true,
                EnableXsdValidation = true,
                Trace = false,
                ResolveExternalReferences = true
            };

var validator = new Validator(ctx);

var outcome = validator.Validate(yourInstance);
</pre></div>



<a name="188360376"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Unable%20to%20resolve%20reference%20to%20profile/near/188360376" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Chen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Unable.20to.20resolve.20reference.20to.20profile.html#188360376">(Feb 17 2020 at 08:35)</a>:</h4>
<p><span class="user-mention" data-user-id="193551">@Marco Visser</span>  May I only put DirectorySource and WebResolver in CachedResolver?<br>
like:</p>
<div class="codehilite"><pre><span></span>var resolver = new CachedResolver(new MultiResolver(
                new WebResolver(),
                new DirectorySource(@&quot;[my_profile_position]&quot;, new DirectorySourceSettings { IncludeSubDirectories = true })
            ));
</pre></div>


<p>Thanks !</p>



<a name="188420338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Unable%20to%20resolve%20reference%20to%20profile/near/188420338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Chen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Unable.20to.20resolve.20reference.20to.20profile.html#188420338">(Feb 18 2020 at 03:02)</a>:</h4>
<p><strong>UPDATE</strong><br>
Finally, I only used "ZipSource" as <span class="user-mention" data-user-id="193551">@Marco Visser</span>  said<br>
(i used R4 version)</p>
<p><strong>NOTE</strong>:  "ZipSource.CreateValidationSource()" did not work because  <strong>specification.zip</strong> path was wrong !!<br>
My path specification.zip is "[my_dotnet_project]\packages\Hl7.Fhir.Specification.R4.1.5.0\contentFiles\any\any\specification.zip"</p>
<div class="codehilite"><pre><span></span>IResourceResolver coreResolver = new ZipSource(&quot;[my_dotnet_project]\packages\Hl7.Fhir.Specification.R4.1.5.0\contentFiles\any\any\specification.zip&quot;)
var ctx = new ValidationSettings()
            {
                ResourceResolver = coreResolver,
                GenerateSnapshot = true,
                EnableXsdValidation = true,
                Trace = false,
                ResolveExternalReferences = true
            };

var validator = new Validator(ctx);

var outcome = validator.Validate(yourInstance);
</pre></div>


<p>everything works fine :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
