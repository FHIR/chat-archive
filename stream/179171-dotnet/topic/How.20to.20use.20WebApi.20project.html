---
layout: page
title: "FHIR Chat  · How to use WebApi project · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html">How to use WebApi project</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154016772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/154016772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#154016772">(Nov 08 2018 at 17:16)</a>:</h4>
<p>There is a WebApi project in the fhir-net-api repository. Is this supposed to be used as a template for my own  server WebApi? Or is this some classes that I can use?<br>
Also this project is on STU3. Is there plan to upgrade to R4?</p>



<a name="154016862"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/154016862" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#154016862">(Nov 08 2018 at 20:14)</a>:</h4>
<p>At some point yes. I'm likely to. I've this to another repo too.</p>



<a name="154016863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/154016863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#154016863">(Nov 08 2018 at 20:15)</a>:</h4>
<p>There is a filesystem server project as an example to demo it.</p>



<a name="154016872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/154016872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#154016872">(Nov 08 2018 at 20:42)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> Which repo has that demo project?</p>



<a name="154016878"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/154016878" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#154016878">(Nov 08 2018 at 20:49)</a>:</h4>
<p><a href="https://github.com/ewoutkramer/fhir-net-api/tree/develop-stu3/src/Hl7.DemoFileSystemFhirServer" target="_blank" title="https://github.com/ewoutkramer/fhir-net-api/tree/develop-stu3/src/Hl7.DemoFileSystemFhirServer">https://github.com/ewoutkramer/fhir-net-api/tree/develop-stu3/src/Hl7.DemoFileSystemFhirServer</a></p>



<a name="161110286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/161110286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#161110286">(Mar 19 2019 at 00:45)</a>:</h4>
<p>Those that were looking at using this project, it's now moved repo's and will be deleted from the core repo soon-ish.<br>
<a href="https://github.com/brianpos/fhir-net-web-api" target="_blank" title="https://github.com/brianpos/fhir-net-web-api">https://github.com/brianpos/fhir-net-web-api</a></p>
<p>There is support for Owin(net 4.7+) and also AspNetCore with essentially the same model you can use between them - to make porting between the facade's easier in the future.</p>



<a name="161110293"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/161110293" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#161110293">(Mar 19 2019 at 00:45)</a>:</h4>
<p>Yes this is just STU3 for now, but getting the structures right, then planning to update to R4.</p>



<a name="161118098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/161118098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#161118098">(Mar 19 2019 at 03:44)</a>:</h4>
<p>While making headers available to the model for processing behind the façade, does anyone have opinions if ALL headers in the request should come through, or should some be filtered?<br>
<span class="user-mention" data-user-id="195936">@Xander H.</span> <span class="user-mention" data-user-id="192710">@Kenneth Myhra</span><br>
(currently all will come through)</p>



<a name="161118651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/161118651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#161118651">(Mar 19 2019 at 03:56)</a>:</h4>
<p>Also, should we remove the x_api_key and x_correlationId from the modelBaseInputs class as they are in the headers collection already (included to leave in there, but maybe filter from the headers collection?)</p>



<a name="161126532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/161126532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#161126532">(Mar 19 2019 at 07:14)</a>:</h4>
<p>Not seeing any obvious reasons except maybe (local) security reasons to filter out HTTP headers, so I would have let all go through.</p>
<p>I would vote for removing them if they already are in the Headers collection, they seem implementation specific and not something you would want to expose in a framework.</p>



<a name="161126642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/161126642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#161126642">(Mar 19 2019 at 07:17)</a>:</h4>
<p>I think you're right about the xapikey, but the correlation header, it does do some specific extra work.</p>



<a name="161130033"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/161130033" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#161130033">(Mar 19 2019 at 08:22)</a>:</h4>
<p>Yep, could maybe be nice to have it easily accessible. Btw this led me down a rabbit hole and I ended up here: <a href="http://build.fhir.org/http.html#custom" target="_blank" title="http://build.fhir.org/http.html#custom">http://build.fhir.org/http.html#custom</a>. Server could set X-Request-Id on response and if the client assigned an X-Request-Id on the request this should be echoed back in X-Correlation-Id.</p>



<a name="161132580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/161132580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#161132580">(Mar 19 2019 at 09:09)</a>:</h4>
<p>That's the stuff. Note that the x requestId isn't the correlation Id, and a good idea to allocate another x-request on the way out. I'll do that too.</p>



<a name="161137320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/161137320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#161137320">(Mar 19 2019 at 10:23)</a>:</h4>
<p>I've also pushed a develop-r4 branch in there too (only updated assemblies, haven't updated anything beyond that)<br>
And there is 1 unit test failing - not sure if this is the webapi.aspnetcore project, or the notcore FHIR client<br>
<span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> have you tried to call any system level custom operations with the R4 1.2 notcore fhir client? (against your netcore server)</p>



<a name="161165094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/How%20to%20use%20WebApi%20project/near/161165094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/How.20to.20use.20WebApi.20project.html#161165094">(Mar 19 2019 at 16:18)</a>:</h4>
<p>No I haven't</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
