---
layout: page
title: "FHIR Chat  · Search operation is slow · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Search.20operation.20is.20slow.html">Search operation is slow</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153911418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Search%20operation%20is%20slow/near/153911418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santosh Jami <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Search.20operation.20is.20slow.html#153911418">(Sep 28 2017 at 21:58)</a>:</h4>
<p>I am using standard Search operation, with Fhir Client.I am doing the search on the "identifier". I see the search operation is very slow, takes approx 3-4 seconds. There are around 100 resources on the server, so very less load as well. Here is my search:</p>
<p>var searchParams = new SearchParams().Add("identifier", encounterId)<br>
                                              .OrderBy("_lastUpdated", SortOrder.Descending);<br>
var encounterSearchEntry = fhirClient.Search&lt;Encounter&gt;(searchParams).Entry.FirstOrDefault();</p>
<p>Thoughts on this?  I am using DSTU2 / Spark</p>



<a name="153911428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Search%20operation%20is%20slow/near/153911428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santosh Jami <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Search.20operation.20is.20slow.html#153911428">(Sep 28 2017 at 23:13)</a>:</h4>
<p>When I do .Read / .Update operation, it is very quick. So, is it standard that .Search() takes long time or any changes needs to be done to address this. Also the Encounter that I am trying to retrieve, I do have the logical Id to this as I created this entry.</p>



<a name="153911579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Search%20operation%20is%20slow/near/153911579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Search.20operation.20is.20slow.html#153911579">(Oct 02 2017 at 02:12)</a>:</h4>
<p>Sounds like a server issue, not a fhir client issue.<br>
Many of the other reference implementations are not that slow.</p>



<a name="153911679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Search%20operation%20is%20slow/near/153911679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Search.20operation.20is.20slow.html#153911679">(Oct 02 2017 at 13:06)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194167">@Santosh Jami</span>, please be aware that we originally developed Spark server as a reference implementation to test the FHIR spec. The Spark implementation has not been optimized for performance.<br>
We no longer actively maintain nor support Spark server. Spark server is obsolete and superceded by our new Vonk FHIR server, which has been specifically developed for production use, with improved reliability and performance. For example, Vonk server supports dynamic runtime configuration of search parameters with automatic (re-)indexing, for optimal search performance.</p>



<a name="153911826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Search%20operation%20is%20slow/near/153911826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santosh Jami <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Search.20operation.20is.20slow.html#153911826">(Oct 02 2017 at 16:02)</a>:</h4>
<p>Sure <span class="user-mention" data-user-id="191336">@Michel Rutten</span> I will evaluate Vonk server, and hope I would see improved performance for search queries as you suggested.</p>



<a name="153912086"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Search%20operation%20is%20slow/near/153912086" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santosh Jami <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Search.20operation.20is.20slow.html#153912086">(Oct 03 2017 at 18:21)</a>:</h4>
<blockquote>
<p>Sounds like a server issue, not a fhir client issue.<br>
Many of the other reference implementations are not that slow.</p>
</blockquote>
<p>Thanks <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span>  Increased server resources didn't make a difference. Do we need to do any indexing on mongodb?</p>



<a name="153912100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Search%20operation%20is%20slow/near/153912100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Search.20operation.20is.20slow.html#153912100">(Oct 03 2017 at 19:27)</a>:</h4>
<p>That is very likely. Because Spark was not intended for production loads, database indexes have not been optimized.</p>



<a name="153912303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Search%20operation%20is%20slow/near/153912303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santosh Jami <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Search.20operation.20is.20slow.html#153912303">(Oct 04 2017 at 15:44)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191757">@Christiaan Knaap</span> . That's what <span class="user-mention" data-user-id="191336">@Michel Rutten</span>  also mentioned.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
