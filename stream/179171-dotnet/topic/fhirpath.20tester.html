---
layout: page
title: "FHIR Chat  · fhirpath tester · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html">fhirpath tester</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153863560"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153863560" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153863560">(Dec 15 2016 at 05:13)</a>:</h4>
<p>Incase people are interested, I just pushed the source for my FhirpathTester to Github.<br>
Of note in this is concurrent support for DSTU2 and STU3 using the NuGet packages.</p>



<a name="153863561"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153863561" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153863561">(Dec 15 2016 at 05:14)</a>:</h4>
<p>This is a reasonable example of a project that includes support for both versions at the same time, and how to resolve which to use.</p>



<a name="153863562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153863562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153863562">(Dec 15 2016 at 05:15)</a>:</h4>
<p>After adding the 2 packages, you need to update the properties of the 2 references assemblies changing the Aliases property on each from global to either DSTU2 or STU3 (for the appropriate library)</p>



<a name="153865004"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865004" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865004">(Dec 28 2016 at 17:47)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span>  - I'm running your tester app (unchanged) and am getting the following errors</p>



<a name="153865005"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865005" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865005">(Dec 28 2016 at 17:47)</a>:</h4>
<p>Invalid name character in 'codeOfT&lt;Hl7.Fhir.Model.Narrative+NarrativeStatus&gt;'. The '&lt;' character, hexadecimal value 0x3C, cannot be included in a name.</p>



<a name="153865006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865006">(Dec 28 2016 at 17:49)</a>:</h4>
<p>This is with the XML being an Observation example out of DSTU2 and the expression anything that seems to have the Descendants() command.</p>



<a name="153865141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865141">(Dec 31 2016 at 06:18)</a>:</h4>
<p>I'll have a look at that next year!<br>
 ;P</p>



<a name="153865225"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865225" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865225">(Jan 03 2017 at 00:24)</a>:</h4>
<p>I just grabbed the example <code>http://hl7.org/fhir/observation-example.xml</code> and it worked fine, which one did you try?</p>



<a name="153865226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865226">(Jan 03 2017 at 00:30)</a>:</h4>
<p>I even tested it with <code>http://hl7.org/fhir/2017Jan/patient-glossy-example.xml</code> and it accurately detects that this resource is STU3 only.<br>
And removing the generalPractitioner from the resource it detects that the resource is valid in both DSTU2 and STU3.</p>



<a name="153865563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865563">(Jan 04 2017 at 22:36)</a>:</h4>
<p>Ok - I also used the example <a href="http://hl7.org/fhir/observation-example.xml" target="_blank" title="http://hl7.org/fhir/observation-example.xml">http://hl7.org/fhir/observation-example.xml</a> with an expression of Observation.children().</p>



<a name="153865564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865564">(Jan 04 2017 at 22:38)</a>:</h4>
<p><a href="/user_uploads/10155/4mn_4vN9YVn4hNEo8YHGkazo/pasted_image.png" target="_blank" title="pasted_image.png">pasted image</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/4mn_4vN9YVn4hNEo8YHGkazo/pasted_image.png" target="_blank" title="pasted_image.png"><img src="/user_uploads/10155/4mn_4vN9YVn4hNEo8YHGkazo/pasted_image.png"></a></div>



<a name="153865585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865585">(Jan 04 2017 at 22:53)</a>:</h4>
<p>Thanks, I can reproduce this too.<br>
Don't know why its doing that. Will look into it.</p>



<a name="153865597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865597">(Jan 04 2017 at 23:07)</a>:</h4>
<p>Thanks Richard, I know what the issue is now.<br>
The tool is confused between STU3 and DSTU2 in this case while outputting the results of the query.</p>



<a name="153865600"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153865600" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153865600">(Jan 04 2017 at 23:20)</a>:</h4>
<p>Actually, its more simple than that. The FHIR XML serializer isn't able to handle outputing an XML fragment for the status property alone using:<br>
<code>Hl7.Fhir.Serialization.FhirSerializer.SerializeToXml(t2)</code><br>
Which gets that exception. So I'll need to work out what the bug in the serializer is.</p>



<a name="153867799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153867799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153867799">(Jan 17 2017 at 05:14)</a>:</h4>
<p>Ok, have pushed the fix for this issue (thanks Ewout)</p>



<a name="153867853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153867853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153867853">(Jan 17 2017 at 16:00)</a>:</h4>
<p>So the fix is in the core API? I guess it will not get into a nuget for a while though...</p>



<a name="153867980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/fhirpath%20tester/near/153867980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/fhirpath.20tester.html#153867980">(Jan 18 2017 at 02:19)</a>:</h4>
<p>Nope, 2 lines in the tester tool itself!<br>
So go fit it using it now. (all pushed and ready for a pull)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
