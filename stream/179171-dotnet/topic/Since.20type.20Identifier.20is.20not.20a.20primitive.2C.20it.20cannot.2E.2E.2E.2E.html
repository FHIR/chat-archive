---
layout: page
title: "FHIR Chat  · Since type Identifier is not a primitive, it cannot.... · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Since.20type.20Identifier.20is.20not.20a.20primitive.2C.20it.20cannot.2E.2E.2E.2E.html">Since type Identifier is not a primitive, it cannot....</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183364900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Since%20type%20Identifier%20is%20not%20a%20primitive%2C%20it%20cannot..../near/183364900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Phillip Partridge <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Since.20type.20Identifier.20is.20not.20a.20primitive.2C.20it.20cannot.2E.2E.2E.2E.html#183364900">(Dec 13 2019 at 14:42)</a>:</h4>
<p>Busy adding a FHIR connection to our healthcare application.</p>
<p>We are using the fhir-net-api (C#) (Hl7.Fhir.STU3) and i'm getting some errors. I have no problems opening the many example<br>
documents found on the internet. I am a little bit lost, am I doing something wrong or is my third party<br>
not using the standards.</p>
<p>The error messages:</p>
<p>System.FormatException: Type checking the data: Since type Identifier is not a primitive, it cannot have a value (at Patient.generalPractitioner[0].identifier[0])<br>
   at Hl7.Fhir.Serialization.ComplexTypeReader.Deserialize(ClassMapping mapping, Base existing)<br>
   at Hl7.Fhir.Serialization.DispatchingReader.Deserialize(PropertyMapping prop, String memberName, Object existing)<br>
   at Hl7.Fhir.Serialization.RepeatingElementReader.Deserialize(PropertyMapping prop, String memberName, IList existing)<br>
   at Hl7.Fhir.Serialization.DispatchingReader.Deserialize(PropertyMapping prop, String memberName, Object existing)<br>
   at Hl7.Fhir.Serialization.ComplexTypeReader.read(ClassMapping mapping, IEnumerable`1 members, Base existing)<br>
   at Hl7.Fhir.Serialization.ComplexTypeReader.Deserialize(ClassMapping mapping, Base existing)<br>
   at Hl7.Fhir.Serialization.ResourceReader.Deserialize(Resource existing)<br>
   at Hl7.Fhir.Serialization.PocoBuilder.&lt;&gt;c__DisplayClass8_0.&lt;BuildFrom&gt;g__build|0()<br>
   at Hl7.Fhir.Serialization.PocoBuilder.BuildFrom(ITypedElement source)<br>
   at Hl7.Fhir.Serialization.PocoBuilder.BuildFrom(ISourceNode source, String dataType)<br>
   at Hl7.Fhir.Serialization.PocoBuilder.BuildFrom(ISourceNode source, Type dataType)<br>
   at Hl7.Fhir.Serialization.FhirJsonParser.Parse(String json, Type dataType)<br>
   at Hl7.Fhir.Serialization.FhirJsonParser.Parse<a href="http://String%20json" target="_blank" title="http://String%20json">T</a></p>
<p>and</p>
<p>System.FormatException: Type checking the data: Since type Identifier is not a primitive, it cannot have a value (at Patient.extension[0].valueReference[0].identifier[0])<br>
   at Hl7.Fhir.Serialization.ComplexTypeReader.Deserialize(ClassMapping mapping, Base existing)<br>
   at Hl7.Fhir.Serialization.DispatchingReader.Deserialize(PropertyMapping prop, String memberName, Object existing)<br>
   at Hl7.Fhir.Serialization.ComplexTypeReader.read(ClassMapping mapping, IEnumerable<code>1 members, Base existing)
   at Hl7.Fhir.Serialization.ComplexTypeReader.Deserialize(ClassMapping mapping, Base existing)
   at Hl7.Fhir.Serialization.DispatchingReader.Deserialize(PropertyMapping prop, String memberName, Object existing)
   at Hl7.Fhir.Serialization.RepeatingElementReader.Deserialize(PropertyMapping prop, String memberName, IList existing)
   at Hl7.Fhir.Serialization.DispatchingReader.Deserialize(PropertyMapping prop, String memberName, Object existing)
   at Hl7.Fhir.Serialization.ComplexTypeReader.read(ClassMapping mapping, IEnumerable</code>1 members, Base existing)<br>
   at Hl7.Fhir.Serialization.ComplexTypeReader.Deserialize(ClassMapping mapping, Base existing)<br>
   at Hl7.Fhir.Serialization.ResourceReader.Deserialize(Resource existing)<br>
   at Hl7.Fhir.Serialization.PocoBuilder.&lt;&gt;c__DisplayClass8_0.&lt;BuildFrom&gt;g__build|0()<br>
   at Hl7.Fhir.Serialization.PocoBuilder.BuildFrom(ITypedElement source)<br>
   at Hl7.Fhir.Serialization.PocoBuilder.BuildFrom(ISourceNode source, String dataType)<br>
   at Hl7.Fhir.Serialization.PocoBuilder.BuildFrom(ISourceNode source, Type dataType)<br>
   at Hl7.Fhir.Serialization.FhirJsonParser.Parse(String json, Type dataType)<br>
   at Hl7.Fhir.Serialization.FhirJsonParser.Parse<a href="http://String%20json" target="_blank" title="http://String%20json">T</a></p>
<p>The problem nodes are the following (this is exactly as I recieve the data):</p>
<p>"generalPractitioner": [<br>
        {<br>
            "display": "HJ JANSEN",<br>
            "identifier": "01000298",<br>
            "reference": "/fhir/Practitioner?identifier=01000298"<br>
        }<br>
    ]</p>
<p>and </p>
<p>"extension": [<br>
        {<br>
            "url": "<a href="http://hl7.org/fhir/StructureDefinition/nl-core-preferred-pharmacy" target="_blank" title="http://hl7.org/fhir/StructureDefinition/nl-core-preferred-pharmacy">http://hl7.org/fhir/StructureDefinition/nl-core-preferred-pharmacy</a>",<br>
            "valueReference": {<br>
                "display": "Zandvoortse Apotheek",<br>
                "identifier": "02079755",<br>
                "reference": "/fhir/Organization?identifier=02079755"<br>
            },<br>
            "valueString": ""<br>
        }<br>
    ]</p>
<p>If I remove "identifier" from both these nodes then my errors go away.</p>
<p>Thank you,<br>
Phillip</p>



<a name="183365435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Since%20type%20Identifier%20is%20not%20a%20primitive%2C%20it%20cannot..../near/183365435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Since.20type.20Identifier.20is.20not.20a.20primitive.2C.20it.20cannot.2E.2E.2E.2E.html#183365435">(Dec 13 2019 at 14:48)</a>:</h4>
<p>Yes, those two identifiers are wrong, they should be <code>"identifier": { "value": "....." }</code></p>



<a name="183366173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Since%20type%20Identifier%20is%20not%20a%20primitive%2C%20it%20cannot..../near/183366173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Phillip Partridge <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Since.20type.20Identifier.20is.20not.20a.20primitive.2C.20it.20cannot.2E.2E.2E.2E.html#183366173">(Dec 13 2019 at 14:56)</a>:</h4>
<p>Have those identifiers ever been correct? I get the feeling the organization I am connecting to aren't really using the FHIR standards. Generating look-a-like documents.</p>



<a name="183366765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Since%20type%20Identifier%20is%20not%20a%20primitive%2C%20it%20cannot..../near/183366765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Since.20type.20Identifier.20is.20not.20a.20primitive.2C.20it.20cannot.2E.2E.2E.2E.html#183366765">(Dec 13 2019 at 15:03)</a>:</h4>
<p>No. always wrong. Previous version of FHIR did not have "identifier" at all - so still wrong</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
