---
layout: page
title: "FHIR Chat  · Accept Header not working · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Accept.20Header.20not.20working.html">Accept Header not working</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223859943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Accept%20Header%20not%20working/near/223859943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lars Ewert <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Accept.20Header.20not.20working.html#223859943">(Jan 25 2021 at 06:33)</a>:</h4>
<p>Good Morning Guys,</p>
<p>I´m having an issue when searching for Patients with the fhirClient. <br>
Im requesting against "<a href="https://Vonk.fire.ly/R4">https://Vonk.fire.ly/R4</a>" Test Server and using the Fhir.R4 library.</p>
<p>Im getting a 406 Not Accepted response back from my backend because the Accept header looks like this:<br>
<a href="/user_uploads/10155/GkiIa9oNA490ogbozRcK43p2/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/GkiIa9oNA490ogbozRcK43p2/image.png" title="image.png"><img src="/user_uploads/10155/GkiIa9oNA490ogbozRcK43p2/image.png"></a></div><p>im using this code in my Controller for testing purposes at the moment:<br>
<a href="/user_uploads/10155/C8y602-88dwqIC89w3AHSVaa/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/C8y602-88dwqIC89w3AHSVaa/image.png" title="image.png"><img src="/user_uploads/10155/C8y602-88dwqIC89w3AHSVaa/image.png"></a></div><p>I tried to set the Accept header with the onBeforeRequest and with the searchParameter. Nothing helped me out there...<br>
I hope you know how to solve this problem</p>
<p>Greetings Lars</p>



<a name="223863851"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Accept%20Header%20not%20working/near/223863851" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Accept.20Header.20not.20working.html#223863851">(Jan 25 2021 at 07:51)</a>:</h4>
<p>What does your _client = new... Look like?<br>
The format parameter is _format, and the fhir client itself has another config property to select xml or json, I think it's _client.preferFormat(...) or something like that.</p>



<a name="223868476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Accept%20Header%20not%20working/near/223868476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lars Ewert <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Accept.20Header.20not.20working.html#223868476">(Jan 25 2021 at 08:46)</a>:</h4>
<p>This my implementation in the constructor of the Controller<br>
<a href="/user_uploads/10155/fNehDeXibVxtW68qFkwTCDAu/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/fNehDeXibVxtW68qFkwTCDAu/image.png" title="image.png"><img src="/user_uploads/10155/fNehDeXibVxtW68qFkwTCDAu/image.png"></a></div><p>i've set the Prefferred format to Json</p>



<a name="226506223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Accept%20Header%20not%20working/near/226506223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Accept.20Header.20not.20working.html#226506223">(Feb 16 2021 at 12:19)</a>:</h4>
<p><span class="user-mention" data-user-id="382697">@Lars Ewert</span> - we're looking into it.</p>



<a name="226508842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Accept%20Header%20not%20working/near/226508842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Accept.20Header.20not.20working.html#226508842">(Feb 16 2021 at 12:50)</a>:</h4>
<p><span class="user-mention" data-user-id="382697">@Lars Ewert</span> - can you try using <code>server.fire.ly/R4/</code> instead of <code>vonk.fire.ly/R4/</code>?</p>



<a name="226508920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Accept%20Header%20not%20working/near/226508920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Accept.20Header.20not.20working.html#226508920">(Feb 16 2021 at 12:50)</a>:</h4>
<p>Your code should have worked, but this could be a redirect issue.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
