---
layout: page
title: "FHIR Chat  · POCO Serialisation · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/POCO.20Serialisation.html">POCO Serialisation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="179938954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/POCO%20Serialisation/near/179938954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Kavanagh <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/POCO.20Serialisation.html#179938954">(Nov 05 2019 at 14:50)</a>:</h4>
<p>Using the existing libraries is it possible to serialise any POCO (that uses FHIR datatypes) or just the supplier resource POCOs?</p>
<p>We are looking at some use cases where we might want to have some internal structures derived from the FHIR resources and may want to convert them to/from JSON. </p>
<p>Externally we'd still use the full-blown FHIR Resources</p>



<a name="179941482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/POCO%20Serialisation/near/179941482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/POCO.20Serialisation.html#179941482">(Nov 05 2019 at 15:17)</a>:</h4>
<p>As long as your classes are built (nested, named, and annotated), any JSON serializer will work.  For Newtonsoft, you'll want to use a <code>CamelCasePropertyNamesContractResolver</code> and set <code>NullValueHandling</code> to <code>NullValueHandling.Ignore</code>.  The largest problem I ran into is that you can't mix the two (things done in Firely need to be serialized in Firely, things not in Firely cannot be serialized in Firely).</p>
<p>I ended up writing a basic <a href="https://github.com/microsoft-healthcare-madison/generate-fhir-prototype-bindings" target="_blank" title="https://github.com/microsoft-healthcare-madison/generate-fhir-prototype-bindings">prototyping language generator</a> to spit out what I needed.  One of the projects using it is <a href="https://github.com/microsoft-healthcare-madison/argonaut-subscription-server-proxy" target="_blank" title="https://github.com/microsoft-healthcare-madison/argonaut-subscription-server-proxy">here</a> - it's a server proxy for R5 subscriptions which uses the Firely API for all the R4 work and generated classes for the rest.</p>
<p>Note that the classes it generates are basic - they don't have all the nice validation and quality of life things the standard library have.  I meant it for use primarily in prototyping and as a base for things like you are talking about.</p>



<a name="180017134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/POCO%20Serialisation/near/180017134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christiaan Knaap <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/POCO.20Serialisation.html#180017134">(Nov 06 2019 at 10:02)</a>:</h4>
<p>It might work if you add all the attributes needed for serialization as they are present on normal POCO's.<br>
And then you may need to add your classes to ModelInfo.FhirTypeToCsType and maybe other lists / mappings in ModelInfo.<br>
But to be sure you'd have to try. You may also run into internal classes or properties that prevent this.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
