---
layout: page
title: "FHIR Chat  · R4 Sept 2018 · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html">R4 Sept 2018</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153985221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153985221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153985221">(Aug 11 2018 at 05:02)</a>:</h4>
<p>Hi all, just an update that the R4 version of the client will be done as the ballot freeze happens<br>
I've done some dry runs, and there are some minor issues to resolve, but will be sorted.</p>



<a name="153985604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153985604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153985604">(Aug 13 2018 at 01:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> Is there any chance of adding an Hl7.Fhir.Model.FhirInteger class in addition to, or instead of, Hl7.Fhir.Model.Integer?  This might make it easier to render integers as parameter values.</p>



<a name="153985735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153985735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153985735">(Aug 13 2018 at 11:10)</a>:</h4>
<p>Not sure what you're asking us for here Peter. How would it make things easier to render?</p>



<a name="153985736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153985736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153985736">(Aug 13 2018 at 11:10)</a>:</h4>
<p>(and render where?)</p>



<a name="153985919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153985919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153985919">(Aug 13 2018 at 20:42)</a>:</h4>
<p>It's not a 'biggie', but maybe instead of this...</p>
<div class="codehilite"><pre><span></span>ValueSet.ParameterComponent vpc1 = new ValueSet.ParameterComponent { Name = &quot;count&quot;, Value = new Integer(countNo) };
</pre></div>


<p>it might be slightly nicer to have this...</p>
<div class="codehilite"><pre><span></span>ValueSet.ParameterComponent vpc1 = new ValueSet.ParameterComponent { Name = &quot;count&quot;, Value = new FhirInteger(countNo) };
</pre></div>


<p>in the same way that the .NET library exposes FhirDecimal, FhirString, FhirBoolean and FhirDateTime classes.</p>



<a name="153985998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153985998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153985998">(Aug 13 2018 at 23:05)</a>:</h4>
<p>Probably a bit late for that now I'd suggest.</p>



<a name="153986790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153986790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153986790">(Aug 15 2018 at 09:16)</a>:</h4>
<p>You mean that calling it FhirInteger instead of Integer would have been more consistent?  I guess that's true. The reason I had to call the other Fhir{somethig} is that Boolean and String are already existing classes in System, whereas Integer was not.  But, yes, that's the kind of change that it's in the category of breaking changes (if we replace) or simply confusing (if we'd offer two options).</p>



<a name="153989432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153989432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153989432">(Aug 20 2018 at 06:14)</a>:</h4>
<p>Those interested in the progress of this release, I've just Updated the code generation and am pushing all the changes to github.<br>
The unit tests don't all pass yet, but wanted to get a build out there for others to look at too as they get to it.</p>



<a name="153989716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153989716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153989716">(Aug 21 2018 at 02:20)</a>:</h4>
<p>The invariant processing doesn't work due to the update in the trace function now optionally accepting a selector as the second parameter. (invariant dom-3 uses it)</p>



<a name="153989717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153989717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153989717">(Aug 21 2018 at 02:27)</a>:</h4>
<p>From the unit test ValidateInvariantAllExamples:</p>
<div class="codehilite"><pre><span></span>Validation failed in 1062 of 1106 examples
Issues with Invariant: dom-3 (1062), csd-1 (4), pdf-0 (6), sdf-0 (26), tst-0 (1)
</pre></div>


<p>Some of these are warnings, so I guess we can ignore those... at least in the test.</p>



<a name="153989741"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153989741" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153989741">(Aug 21 2018 at 03:53)</a>:</h4>
<p>I'm putting the R4 client down for a bit, other work to be done now.<br>
There is an issues with the examples.zip file from the spec where its content is not conformant fhir and thus the test fails. (when the examples file is updated, will commit and recheck)<br>
There are a few issues that need to be resolved in the fhirpath engine that cause issues in validation and search data extraction that need to be resolved.</p>



<a name="153989743"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153989743" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153989743">(Aug 21 2018 at 03:54)</a>:</h4>
<p>For the server implementers using the fhirpath search extraction, there is one part that I think you'll want to be optimizing out, and that's there are a lot of search parameters that use resolve() as Patient or similar formats, which I don't think is really very performant, and considering tweaking that out as I implement it in my server.</p>



<a name="153996132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153996132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153996132">(Sep 12 2018 at 05:04)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> - when's the FHIR 3.5.0 client version likely to be ready? I'm hoping to implement it next week, but I'm guessing that what's already on Github may be good enough for my purposes.</p>



<a name="153996142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153996142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153996142">(Sep 12 2018 at 06:22)</a>:</h4>
<p>No planned changes goes to what's on github. Nothing in nugget yet though</p>



<a name="153997216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153997216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153997216">(Sep 16 2018 at 01:10)</a>:</h4>
<p>Pretty straightforward migration from FHIR 3.3.0 to 3.5.0 versions of the C# library. Only breaking changes for my Terminology Server were data type changes for CapabilityStatement.kind element and document sub-elements, plus the removal of ValueSet.Extensible. Great job again <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> and co.</p>



<a name="153997497"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153997497" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153997497">(Sep 18 2018 at 01:44)</a>:</h4>
<p>Is Nuget package ready for connectathon?</p>



<a name="153997888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153997888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153997888">(Sep 19 2018 at 01:20)</a>:</h4>
<p>The source code is there in the R4 branch, but no package as yet. (you'd have to do that yourself at the moment)</p>



<a name="153998687"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153998687" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153998687">(Sep 20 2018 at 16:26)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> do you plan to create a NuGet package (alpha, maybe) before connectathon? My current code uses Nuget package, we have a policy forbidding us from checking in external source codes into our code repository.</p>



<a name="153999705"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153999705" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153999705">(Sep 25 2018 at 08:59)</a>:</h4>
<blockquote>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> do you plan to create a NuGet package (alpha, maybe) before connectathon? My current code uses Nuget package, we have a policy forbidding us from checking in external source codes into our code repository.</p>
</blockquote>
<p>Hi Yunwei, I'll build a package for you today!</p>



<a name="153999773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153999773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153999773">(Sep 25 2018 at 15:46)</a>:</h4>
<p>Done, just pushed it to NuGet. </p>
<p>This release contains the stuff you need for the R4 connectathon tracks and carries version 0.96.1.   For DSTU2/3 the most recent release is still 0.96.0.</p>



<a name="153999831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153999831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153999831">(Sep 25 2018 at 21:53)</a>:</h4>
<p>Thank you Ewout. I updated nuget package to 0.96.1. There are some validation error while I am trying to validate CapabilityStatement:<br>
1. {Code="NotSupported" Details.Text="Terminology service failed while validating code 'xml' (system ''): Cannot resolve canonical reference 'urn:ietf:bcp:13' to CodeSystem"}<br>
2. {Code="BusinessRule" Details.Text="Compilation of FhirPath for constraint 'dom-3' failed: Unknown symbol 'trace'"}<br>
3. {Code="Invalid" Details.Text="Instance failed constraint dom-3 "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource""}<br>
I have fixed other errors but not sure about how to deal with these three.<br>
Looks like the first two are validator's own errors.<br>
I am confused about the third one. Since this is CapabilityStatement, it does NOT contain any other resources.</p>



<a name="153999897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153999897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153999897">(Sep 26 2018 at 09:16)</a>:</h4>
<blockquote>
<p>Thank you Ewout. I updated nuget package to 0.96.1. There are some validation error while I am trying to validate CapabilityStatement:<br>
1. {Code="NotSupported" Details.Text="Terminology service failed while validating code 'xml' (system ''): Cannot resolve canonical reference 'urn:ietf:bcp:13' to CodeSystem"}<br>
2. {Code="BusinessRule" Details.Text="Compilation of FhirPath for constraint 'dom-3' failed: Unknown symbol 'trace'"}<br>
3. {Code="Invalid" Details.Text="Instance failed constraint dom-3 "If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource""}<br>
I have fixed other errors but not sure about how to deal with these three.<br>
Looks like the first two are validator's own errors.<br>
I am confused about the third one. Since this is CapabilityStatement, it does NOT contain any other resources.</p>
</blockquote>
<p>Hi Yunwei, I am happy to see the validator got this far - but it is still very alpha. In fact I think I should not have pushed the Specification package at all for R4, since there are still failing unit-tests. I know <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> has worked hard to fix a big part of them, but we have not had time to do QA on the R4 release as we do on the others. I am sorry about that.  If you like, you can report the R4 errors here (<a href="https://github.com/ewoutkramer/fhir-net-api/issues" target="_blank" title="https://github.com/ewoutkramer/fhir-net-api/issues">https://github.com/ewoutkramer/fhir-net-api/issues</a>), so you can track their status.</p>



<a name="153999946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/R4%20Sept%202018/near/153999946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/R4.20Sept.202018.html#153999946">(Sep 26 2018 at 14:22)</a>:</h4>
<p>Ewout, no problem at all. I am very happy with the package to start my working. I will disable some of my validation tests. Great work! See you this weekend.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
