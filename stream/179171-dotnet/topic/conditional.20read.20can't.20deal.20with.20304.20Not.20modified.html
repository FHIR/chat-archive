---
layout: page
title: "FHIR Chat  · conditional read can&#x27;t deal with 304 Not modified · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/conditional.20read.20can&#x27;t.20deal.20with.20304.20Not.20modified.html">conditional read can&#x27;t deal with 304 Not modified</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153895295"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/conditional%20read%20can%27t%20deal%20with%20304%20Not%20modified/near/153895295" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Theo Stolker <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/conditional.20read.20can&#x27;t.20deal.20with.20304.20Not.20modified.html#153895295">(Jun 27 2017 at 10:34)</a>:</h4>
<p>This is almost certianly a bug in the FHIR .NET API. I make the following call:</p>
<div class="codehilite"><pre><span></span>            string ifNoneMatch = &quot;2017-06-26T15:12:34:477.3440&quot;;
            DateTimeOffset modified = DateTimeOffset.Parse(&quot;2017/06/26 15:12:34&quot;);

            Patient p = client.Read&lt;Patient&gt;(&quot;Patient/40&quot;, ifNoneMatch, modified);
</pre></div>


<p>The  server returns a 304 Not Modified status code as documented here: <a href="https://www.hl7.org/fhir/http.html#cread" target="_blank" title="https://www.hl7.org/fhir/http.html#cread">https://www.hl7.org/fhir/http.html#cread</a>:<br>
Clients may use the If-Modified-Since, or If-None-Match HTTP header on a read request. If so, they SHALL accept either a 304 Not Modified as a valid status code on the response (which means that the content is unchanged since that date) or full content (either the content has changed, or the server does not support conditional request). </p>
<p>The exception thrown by the Fhirclient is: "Server returned a status code 'NotModified', which is not supported by the FhirClient".<br>
Based on the spec, that seems wrong.</p>
<p>In a more general sense, it would be good that any error in the 300 and 400 ranges is always returned to the caller in a more transparant way.</p>



<a name="153895304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/conditional%20read%20can%27t%20deal%20with%20304%20Not%20modified/near/153895304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/conditional.20read.20can&#x27;t.20deal.20with.20304.20Not.20modified.html#153895304">(Jun 27 2017 at 13:40)</a>:</h4>
<p>Hi Theo, I see you have reported both on the .NET API bug tracker (<a href="https://github.com/ewoutkramer/fhir-net-api/issues" target="_blank" title="https://github.com/ewoutkramer/fhir-net-api/issues">https://github.com/ewoutkramer/fhir-net-api/issues</a>), thanks!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
