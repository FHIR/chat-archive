---
layout: page
title: "FHIR Chat  · Validation errors · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html">Validation errors</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="176446473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/176446473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#176446473">(Sep 24 2019 at 09:27)</a>:</h4>
<p>I'm getting some strange errors when trying to validate the resource below against this package <a href="https://simplifier.net/validate?fhirVersion=R4&amp;scope=hl7.fhir.no.basis-2.0.4" target="_blank" title="https://simplifier.net/validate?fhirVersion=R4&amp;scope=hl7.fhir.no.basis-2.0.4">https://simplifier.net/validate?fhirVersion=R4&amp;scope=hl7.fhir.no.basis-2.0.4</a></p>
<p>For example this, (identifier[0].value does indeed exist in the example): </p>
<div class="codehilite"><pre><span></span>Invalid : Instance count for &#39;Organization.identifier.value&#39; is 0, which is not within the specified cardinality of 1..1
Organization.identifier[0]
</pre></div>


<p>and this:</p>
<div class="codehilite"><pre><span></span>Invalid : Value is not exactly equal to fixed value &#39;urn:oid:2.16.578.1.12.4.1.2.102&#39;
Organization.identifier[0].system[0]
</pre></div>


<p>--<br>
It could be there is something wrong with the profile (<a href="https://simplifier.net/hl7norwayno-basis/nobasisorganization" target="_blank" title="https://simplifier.net/hl7norwayno-basis/nobasisorganization">https://simplifier.net/hl7norwayno-basis/nobasisorganization</a>), but I cannot pinpoint what that should be.</p>
<div class="codehilite"><pre><span></span>&lt;Organization&gt;
    &lt;meta&gt;
        &lt;profile value=&quot;http://hl7.no/fhir/StructureDefinition/no-basis-Organization&quot; /&gt;
    &lt;/meta&gt;
    &lt;identifier&gt;
        &lt;system value=&quot;urn:oid:2.16.578.1.12.4.1.2.101&quot; /&gt;
        &lt;value value=&quot;915933149&quot; /&gt;
    &lt;/identifier&gt;
    &lt;name value=&quot;Direktoratet for e-Helse&quot; /&gt;
    &lt;address&gt;
        &lt;extension url=&quot;http://hl7.no/fhir/StructureDefinition/no-basis-address-official&quot;&gt;
            &lt;valueBoolean value=&quot;true&quot; /&gt;
        &lt;/extension&gt;
        &lt;type value=&quot;postal&quot; /&gt;
        &lt;line value=&quot;Postboks 221 Skøyen&quot; /&gt;
        &lt;city value=&quot;OSLO&quot; /&gt;
        &lt;postalCode value=&quot;0213&quot; /&gt;
    &lt;/address&gt;
    &lt;address&gt;
        &lt;extension url=&quot;http://hl7.no/fhir/StructureDefinition/no-basis-address-official&quot;&gt;
            &lt;valueBoolean value=&quot;true&quot; /&gt;
        &lt;/extension&gt;
        &lt;type value=&quot;physical&quot; /&gt;
        &lt;line value=&quot;Verkstedveien 1&quot; /&gt;
        &lt;city value=&quot;OSLO&quot; /&gt;
        &lt;postalCode value=&quot;0277&quot; /&gt;
    &lt;/address&gt;
&lt;/Organization&gt;
</pre></div>



<a name="176447441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/176447441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#176447441">(Sep 24 2019 at 09:41)</a>:</h4>
<p>Hi Kenneth, the profile seems to be wrong, since the discriminator on this field is (type.coding.system), but I don't see any constraints actually fixing this value.   The new 1.4 version of the API (which I am working on right now), should be able to report about these issues more reliably.</p>



<a name="176450810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/176450810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#176450810">(Sep 24 2019 at 10:32)</a>:</h4>
<p>Thanks Ewout, I'll investigate some more</p>



<a name="176542173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/176542173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Tveit Rosenlund <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#176542173">(Sep 25 2019 at 08:04)</a>:</h4>
<p><span class="user-mention" data-user-id="192710">@Kenneth Myhra</span>  <span class="user-mention" data-user-id="191328">@Ewout Kramer</span> <br>
I have done some fixes to the no-basis profiles, and it seems to have fixed second validation error. The first one persists however. As far as I have understood, this is a known issue in the validation using the .NET API</p>



<a name="176648709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/176648709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Tveit Rosenlund <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#176648709">(Sep 26 2019 at 11:18)</a>:</h4>
<p>One thing i did notice is that this file validates correctly: <a href="https://simplifier.net/hl7norwayno-basis/organization-example" target="_blank" title="https://simplifier.net/hl7norwayno-basis/organization-example">https://simplifier.net/hl7norwayno-basis/organization-example</a><br>
But when i validate against the current package which should be updated (I updated it myself), I do get an error:<br>
<a href="https://simplifier.net/validate" target="_blank" title="https://simplifier.net/validate">https://simplifier.net/validate</a></p>



<a name="176656195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/176656195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#176656195">(Sep 26 2019 at 13:09)</a>:</h4>
<p><span class="user-mention" data-user-id="192856">@Thomas Tveit Rosenlund</span> <a href="https://simplifier.net/validate" target="_blank" title="https://simplifier.net/validate">https://simplifier.net/validate</a> has an issue where it removes the identifier.value on validation: <a href="https://app.birdeatsbug.com/sessions/igoCL8CRRSZYh2O-2XdQ9" target="_blank" title="https://app.birdeatsbug.com/sessions/igoCL8CRRSZYh2O-2XdQ9">https://app.birdeatsbug.com/sessions/igoCL8CRRSZYh2O-2XdQ9</a> (reproduced on STU3 here, since R4 /validate does not show XML output yet).</p>
<p>Apparently this is because of this known API bug: <a href="https://github.com/FirelyTeam/fhir-net-api/issues/1071" target="_blank" title="https://github.com/FirelyTeam/fhir-net-api/issues/1071">https://github.com/FirelyTeam/fhir-net-api/issues/1071</a>. Which is being worked on right now an should be in the next release.<br>
Thanks for reporting!</p>



<a name="176965791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/176965791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#176965791">(Sep 30 2019 at 19:34)</a>:</h4>
<p>We found the cause of the issue.  Although we agree the error is <em>very</em> unclear, it does mean you did not put your xml elements in the <code>http://hl7.org/fhir</code> namespace!   We will fix this in the next update...</p>



<a name="177040916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/177040916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#177040916">(Oct 01 2019 at 10:11)</a>:</h4>
<p><span class="user-mention" data-user-id="192856">@Thomas Tveit Rosenlund</span></p>



<a name="177217087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/177217087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Tveit Rosenlund <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#177217087">(Oct 03 2019 at 05:52)</a>:</h4>
<blockquote>
<p>We found the cause of the issue.  Although we agree the error is <em>very</em> unclear, it does mean you did not put your xml elements in the <code>http://hl7.org/fhir</code> namespace!   We will fix this in the next update...</p>
</blockquote>
<p>I don't understand this <span class="user-mention" data-user-id="191328">@Ewout Kramer</span>. Should all conformance resources from HL7 Norway be available on <a href="http://hl7.org" target="_blank" title="http://hl7.org">hl7.org</a>?</p>



<a name="177218593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/177218593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Tveit Rosenlund <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#177218593">(Oct 03 2019 at 06:32)</a>:</h4>
<p>Like this maybe:<br>
<a href="http://hl7.org/fhir/xml.html#2.6.1" target="_blank" title="http://hl7.org/fhir/xml.html#2.6.1">http://hl7.org/fhir/xml.html#2.6.1</a></p>



<a name="177226237"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/177226237" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#177226237">(Oct 03 2019 at 09:05)</a>:</h4>
<p>Correct, FHIR xml format requires the FHIR namespace on the root element:</p>
<blockquote>
<p>FHIR elements are always in the namespace <a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">http://hl7.org/fhir</a></p>
</blockquote>
<p>FHIR serialized will reject documents with other or missing namespace.</p>



<a name="177332625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/177332625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#177332625">(Oct 04 2019 at 12:14)</a>:</h4>
<p>No, but the instance you are validating should be in the <a href="http://hl7.org/fhir" target="_blank" title="http://hl7.org/fhir">hl7.org/fhir</a> XML namespace!</p>



<a name="177332716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/177332716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#177332716">(Oct 04 2019 at 12:15)</a>:</h4>
<p>Your organization example looks like this:</p>
<div class="codehilite"><pre><span></span>&lt;Organization&gt;
</pre></div>


<p>should have been:</p>
<div class="codehilite"><pre><span></span>&lt;Organization xmlns=&#39;http://hl7.org/fhir&#39; &gt;
</pre></div>



<a name="177336487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/177336487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Tveit Rosenlund <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#177336487">(Oct 04 2019 at 13:04)</a>:</h4>
<p>I understood this finally :-)</p>
<p>Luckily my examples have the namespace defined in my XML editor, SIMPLIFIER does strip all namespace information from the XML when it displays the examples though. So when you try to copy and paste the code into the validator you get the error.</p>



<a name="177338088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/177338088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#177338088">(Oct 04 2019 at 13:24)</a>:</h4>
<p>Aha, we simplify the XML display on <a href="https://simplifier.net/HL7Norwayno-basis/Organization-example/~xml" target="_blank" title="https://simplifier.net/HL7Norwayno-basis/Organization-example/~xml">https://simplifier.net/HL7Norwayno-basis/Organization-example/~xml</a>, but we're leaving out in that display something that the validator checks for...<br>
Luckily they are indeed included in the profile, eg when you export the profile as XML.</p>
<p>I need to think if we need to change that. It will rarely be useful in the XML display (since it's always there for each FHIR resource) but if it leads to a validation error when using only the displayed part...</p>



<a name="177503545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Validation%20errors/near/177503545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Validation.20errors.html#177503545">(Oct 07 2019 at 09:34)</a>:</h4>
<p>There is an option to copy xml/json under the download button. <br>
To make things easier by adding add a copy button (small clipboard icon). next to the xml/json itself.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
