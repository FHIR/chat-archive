---
layout: page
title: "FHIR Chat  · AuditEvent Validation · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/AuditEvent.20Validation.html">AuditEvent Validation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153955715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/AuditEvent%20Validation/near/153955715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Richardson <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/AuditEvent.20Validation.html#153955715">(May 03 2018 at 15:24)</a>:</h4>
<p>I have a .NetCore API Service that is using the Hl7.Fhir.Stu3 nuget.  In the Controller, I have a simple post method :<br>
public async Task&lt;IActionResult&gt; AuditEvent([FromBody]AuditEvent auditEvent) , and I am hitting it with a Postman Post request, with the body being a copy of  <a href="https://www.hl7.org/fhir/auditevent-example.json.html" target="_blank" title="https://www.hl7.org/fhir/auditevent-example.json.html">https://www.hl7.org/fhir/auditevent-example.json.html</a>.</p>
<p>The output, clearly from AuditEvent validation, is <br>
{<br>
    "errors": {<br>
        "RecordedElement": [<br>
            "Element with min. cardinality 1 cannot be null"<br>
        ],<br>
        "Text.StatusElement": [<br>
            "Element with min. cardinality 1 cannot be null"<br>
        ],<br>
        "Agent[0].RequestorElement": [<br>
            "Element with min. cardinality 1 cannot be null"<br>
        ],<br>
        "Agent[1].RequestorElement": [<br>
            "Element with min. cardinality 1 cannot be null"<br>
        ]<br>
    },<br>
    "isValid": false<br>
}</p>



<a name="153955716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/AuditEvent%20Validation/near/153955716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Richardson <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/AuditEvent.20Validation.html#153955716">(May 03 2018 at 15:25)</a>:</h4>
<p>#noob alert on this, its my first Fhir interface, but I have plenty of experience in interfaces and JSON .Looking for a way to create the JSON that will comply with the AuditEvent validation.</p>



<a name="153955717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/AuditEvent%20Validation/near/153955717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Richardson <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/AuditEvent.20Validation.html#153955717">(May 03 2018 at 15:30)</a>:</h4>
<p>The goal here is to stand up a AuditEvent service that will be used by a Fhir interface, and some other internal interfaces, to create a central store for auditing.</p>
<p>I have checked that the same JSON against <a href="http://vonk.fire.ly/AuditEvent/$validate" target="_blank" title="http://vonk.fire.ly/AuditEvent/$validate">http://vonk.fire.ly/AuditEvent/$validate</a>  does seem to work.</p>
<p>Edit: Put some simple code up on <a href="https://github.com/looyvillelarry/Fhir.Audit" target="_blank" title="https://github.com/looyvillelarry/Fhir.Audit">https://github.com/looyvillelarry/Fhir.Audit</a></p>



<a name="153955822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/AuditEvent%20Validation/near/153955822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/AuditEvent.20Validation.html#153955822">(May 03 2018 at 22:04)</a>:</h4>
<p>Your issue is that the default json serializers don't work with the fhir models, as the default serializers have no way of handling extensions (and other reasons)<br>
You might want to have a look at another project that I have that does this<br>
<a href="https://github.com/brianpos/FhirFederator/tree/master/Hl7.Fhir.NetCoreApi" target="_blank" title="https://github.com/brianpos/FhirFederator/tree/master/Hl7.Fhir.NetCoreApi">https://github.com/brianpos/FhirFederator/tree/master/Hl7.Fhir.NetCoreApi</a><br>
Bit stale now as I've refactored it lots internally since then, but you can at least see the filters and formatters and style of generic controller that I use.</p>



<a name="153955981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/AuditEvent%20Validation/near/153955981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Larry Richardson <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/AuditEvent.20Validation.html#153955981">(May 04 2018 at 16:54)</a>:</h4>
<p>Thanks so much Brian. That was the piece I was missing!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
