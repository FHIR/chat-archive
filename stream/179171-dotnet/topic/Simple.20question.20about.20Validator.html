---
layout: page
title: "FHIR Chat  · Simple question about Validator · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Simple.20question.20about.20Validator.html">Simple question about Validator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153928344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Simple%20question%20about%20Validator/near/153928344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Simple.20question.20about.20Validator.html#153928344">(Jan 10 2018 at 22:15)</a>:</h4>
<p>This is the first time I try to use Validator class to do  a client side validation. My use case is very simple. I need to validate a ValueSet resource using base profile in a integration test. Here is the code section:</p>
<div class="codehilite"><pre><span></span>  var validator = new Validator();
  var outcome = validator.Validate(vs);
</pre></div>


<p>where vs is the ValueSet instance. <br>
The outcome shows failed. The message is </p>
<div class="codehilite"><pre><span></span>{Text=&quot;Unable to resolve reference to profile &#39;http://hl7.org/fhir/StructureDefinition/ValueSet&#39;&quot;}
</pre></div>


<p>Did I miss something?</p>



<a name="153928350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Simple%20question%20about%20Validator/near/153928350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Simple.20question.20about.20Validator.html#153928350">(Jan 10 2018 at 22:37)</a>:</h4>
<p>Ah. Figured out. I need to add definition zip into the Validator.</p>
<div class="codehilite"><pre><span></span>            var setting = new ValidationSettings
            {
                ResourceResolver = new ZipSource(&quot;definitions.xml.zip&quot;)
            };
            var validator = new Validator(setting);
            var outcome = validator.Validate(vs);
</pre></div>



<a name="153928390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Simple%20question%20about%20Validator/near/153928390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Simple.20question.20about.20Validator.html#153928390">(Jan 11 2018 at 09:07)</a>:</h4>
<p>I am sorry about that, but yes.  This used to be an out-of-the-box experience, but the new NuGet will install dependencies (specification.zip) in the global NuGet cache - and although the project correctly references it, it won't be copied into the /bin directory of your application - and the validator won't find it unless you explicitly copy it into your project and reference it (as you do here).  By the way definition.xml.zip is fine, but the specification.zip that's in the distribution might even be better - we do technical corrections on the fhirpath statements - which won't be in the definition.xml.zip on the fhir website.</p>



<a name="153928437"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Simple%20question%20about%20Validator/near/153928437" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Simple.20question.20about.20Validator.html#153928437">(Jan 11 2018 at 15:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span> Where can I download specification.zip? I don't see it on the fhir download page (<a href="http://build.fhir.org/downloads.html" target="_blank" title="http://build.fhir.org/downloads.html">http://build.fhir.org/downloads.html</a>)</p>



<a name="153928439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Simple%20question%20about%20Validator/near/153928439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Simple.20question.20about.20Validator.html#153928439">(Jan 11 2018 at 15:58)</a>:</h4>
<p>The specification.zip file is included in the Hl7.Fhir.STU3.Specification library NuGet package. However as Ewout mentions, NuGet now installs this dependency in the global NuGet cache. For example:<br>
%UserProfile%\.nuget\packages\hl7.fhir.specification.stu3\0.94.0-beta2\contentFiles\any\any</p>



<a name="153928448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Simple%20question%20about%20Validator/near/153928448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Simple.20question.20about.20Validator.html#153928448">(Jan 11 2018 at 17:31)</a>:</h4>
<p>Yes, a bit hard....   I'll try to find a better answer next week...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
