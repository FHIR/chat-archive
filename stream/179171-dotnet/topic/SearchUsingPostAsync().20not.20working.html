---
layout: page
title: "FHIR Chat  · SearchUsingPostAsync() not working · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/SearchUsingPostAsync().20not.20working.html">SearchUsingPostAsync() not working</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="224310518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/SearchUsingPostAsync%28%29%20not%20working/near/224310518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Henrik Jacobsen Nytun <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/SearchUsingPostAsync().20not.20working.html#224310518">(Jan 28 2021 at 10:57)</a>:</h4>
<p>Hey everyone. I am very new to FHIR, and I sincerely hope this is the correct place to post this;<br>
I am currently trying to query a FHIR server using the FhirClient. Im having issues getting the SearchUsingPostAsync() method to work. Regardless of what parameter i include in the body, it doesnt affect the search result:<br>
Does anyone know the 100% correct way to add content in the body for this method? I've looked and googled everywhere but I can't seem to find the correct solution</p>
<p>Thanks in advance to whoever takes his or hers time to answer this, as it would be a lifesaver!</p>



<a name="224312159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/SearchUsingPostAsync%28%29%20not%20working/near/224312159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/SearchUsingPostAsync().20not.20working.html#224312159">(Jan 28 2021 at 11:14)</a>:</h4>
<p>Could you also share your search code? Does the server respond with a Bundle, or does the request result in an error?</p>



<a name="224313190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/SearchUsingPostAsync%28%29%20not%20working/near/224313190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/SearchUsingPostAsync().20not.20working.html#224313190">(Jan 28 2021 at 11:25)</a>:</h4>
<p>I have tried this successfully:</p>
<div class="codehilite" data-code-language="C#"><pre><span></span><code>  <span class="kt">var</span> <span class="n">q</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SearchParams</span><span class="p">(</span><span class="s">"_elements"</span><span class="p">,</span> <span class="s">"identifier,name,extension,gender,addresss,birthDate"</span><span class="p">);</span>
  <span class="kt">var</span> <span class="n">c</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FhirClient</span><span class="p">(</span><span class="s">"https://vonk.fire.ly/R4"</span><span class="p">);</span>
  <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">c</span><span class="p">.</span><span class="n">SearchUsingPostAsync</span><span class="p">&lt;</span><span class="n">Patient</span><span class="p">&gt;(</span><span class="n">q</span><span class="p">);</span>
</code></pre></div>



<a name="224313324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/SearchUsingPostAsync%28%29%20not%20working/near/224313324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Henrik Jacobsen Nytun <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/SearchUsingPostAsync().20not.20working.html#224313324">(Jan 28 2021 at 11:26)</a>:</h4>
<p><a href="/user_uploads/10155/kgen9x5ZAU3OQUonEDSU-AcY/bilde.png">bilde.png</a> <br>
<a href="/user_uploads/10155/DNNE20r1zjaZcgwShmHzc-G-/bilde.png">bilde.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/kgen9x5ZAU3OQUonEDSU-AcY/bilde.png" title="bilde.png"><img src="/user_uploads/10155/kgen9x5ZAU3OQUonEDSU-AcY/bilde.png"></a></div><div class="message_inline_image"><a href="/user_uploads/10155/DNNE20r1zjaZcgwShmHzc-G-/bilde.png" title="bilde.png"><img src="/user_uploads/10155/DNNE20r1zjaZcgwShmHzc-G-/bilde.png"></a></div>



<a name="224314166"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/SearchUsingPostAsync%28%29%20not%20working/near/224314166" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Henrik Jacobsen Nytun <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/SearchUsingPostAsync().20not.20working.html#224314166">(Jan 28 2021 at 11:36)</a>:</h4>
<p>(deleted)</p>



<a name="224314277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/SearchUsingPostAsync%28%29%20not%20working/near/224314277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Henrik Jacobsen Nytun <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/SearchUsingPostAsync().20not.20working.html#224314277">(Jan 28 2021 at 11:37)</a>:</h4>
<p>We're also getting a bundle out, and we're searching for a person with an Identifier provided, hoping to get 1 person out, however, we are getting 10 non relevant persons out, meaning the body content hasnt been correctly read</p>



<a name="224321925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/SearchUsingPostAsync%28%29%20not%20working/near/224321925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/SearchUsingPostAsync().20not.20working.html#224321925">(Jan 28 2021 at 13:02)</a>:</h4>
<p>I have tried this both on Vonk and Hapi, and those servers do respond correctly. It would seem that the server you use does not support the search with POST. Maybe you could try the request with Postman, to verify that the issue isn't in the SDK?</p>



<a name="224324774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/SearchUsingPostAsync%28%29%20not%20working/near/224324774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Henrik Jacobsen Nytun <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/SearchUsingPostAsync().20not.20working.html#224324774">(Jan 28 2021 at 13:26)</a>:</h4>
<p>When you made it work, are you using the exact same Fhir-client version? If that is not the case we might need to switch it to communicate properly with our server</p>



<a name="224325284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/SearchUsingPostAsync%28%29%20not%20working/near/224325284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/SearchUsingPostAsync().20not.20working.html#224325284">(Jan 28 2021 at 13:31)</a>:</h4>
<p>Yes, I am using the 2.0.3 version of the SDK. The only difference is that I do not have any handlers set for the client. I am also in contact with <span class="user-mention" data-user-id="384852">@Pål Alm Andersen</span>, to see if we can figure this out.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
