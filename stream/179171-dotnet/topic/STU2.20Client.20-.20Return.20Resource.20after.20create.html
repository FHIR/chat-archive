---
layout: page
title: "FHIR Chat  · STU2 Client - Return Resource after create · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html">STU2 Client - Return Resource after create</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153846494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/STU2%20Client%20-%20Return%20Resource%20after%20create/near/153846494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harald Sømnes Hanssen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html#153846494">(Sep 06 2016 at 08:58)</a>:</h4>
<p>I'm wondering if the DSTU2 core client version 0.90.6.26409 can receive an object from the FHIR server, other than the resource type the client originally sent. The reason why we want to receive a different resource type is to get an Id and perhaps some other information which can be used to retrieve the data which was created, at a later point in time.</p>
<p>If we on the client side write something like this:<br>
var returns = _client.Create(communicationRequest);</p>
<p>and on the fhir server replies with this where result is a resource type of Communication,</p>
<p>return new FhirResponse(HttpStatusCode.Created, result);</p>
<p>The client will however automatically respond with an nullpointer exception.<br>
If we look at the rest response, the reply from the server is correct, but the client can't handle a response other than the type it expects.</p>
<p>Is this intended?</p>



<a name="153846602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/STU2%20Client%20-%20Return%20Resource%20after%20create/near/153846602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html#153846602">(Sep 06 2016 at 20:14)</a>:</h4>
<p>so the server responds to a create with a non-standard response? </p>



<a name="153846643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/STU2%20Client%20-%20Return%20Resource%20after%20create/near/153846643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harald Sømnes Hanssen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html#153846643">(Sep 07 2016 at 07:43)</a>:</h4>
<p>Should probably have clarified what happens on the client side a bit better.</p>
<p>When the client receives the response from the server, where the server has put a different resource object in the response compared to the request from the client, the client will cast an nullpointer exception. Is this intended?</p>



<a name="153846644"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/STU2%20Client%20-%20Return%20Resource%20after%20create/near/153846644" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html#153846644">(Sep 07 2016 at 07:50)</a>:</h4>
<p>The server wouldn't be FHIR conformant if it did that.</p>



<a name="153846645"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/STU2%20Client%20-%20Return%20Resource%20after%20create/near/153846645" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html#153846645">(Sep 07 2016 at 07:50)</a>:</h4>
<p>If you perform a Create of a CommunicationRequest, the data created on the server should be that CommunicationRequest resource. So any result you would get is either the created resource, or no body (if your Prefer header was set to minimal). In this last case, the API will set your returns variable to null.</p>



<a name="153846646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/STU2%20Client%20-%20Return%20Resource%20after%20create/near/153846646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html#153846646">(Sep 07 2016 at 07:51)</a>:</h4>
<p>You can check _client.LastResult to see what the response was: an error, success, upon success the Location of the newly created resource.</p>



<a name="153846647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/STU2%20Client%20-%20Return%20Resource%20after%20create/near/153846647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html#153846647">(Sep 07 2016 at 07:53)</a>:</h4>
<p>If you need your server to send back a Communication resource when your client sends a CommunicationRequest, you should implement an operation to do so, to be FHIR/REST compliant.</p>



<a name="153846649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/STU2%20Client%20-%20Return%20Resource%20after%20create/near/153846649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html#153846649">(Sep 07 2016 at 07:59)</a>:</h4>
<p>+1 on that.<br>
<a href="http://hl7.org/fhir/dstu2/http.html#2.1.0.5.2" target="_blank" title="http://hl7.org/fhir/dstu2/http.html#2.1.0.5.2">http://hl7.org/fhir/dstu2/http.html#2.1.0.5.2</a><br>
Is where the return results are specified, and it is expected to be the resource that was created/updated.<br>
The note that says may be different to the client sent refers to that the server may update it from what the client sent for several reasons (like security or other local processing) but specifically the meta tags for the version id and update date will definitely but updated.</p>



<a name="153846650"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/STU2%20Client%20-%20Return%20Resource%20after%20create/near/153846650" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Harald Sømnes Hanssen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html#153846650">(Sep 07 2016 at 08:27)</a>:</h4>
<p>Your help is much appreciated. I think I have enough to get things along :)</p>



<a name="153846657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/STU2%20Client%20-%20Return%20Resource%20after%20create/near/153846657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/STU2.20Client.20-.20Return.20Resource.20after.20create.html#153846657">(Sep 07 2016 at 09:45)</a>:</h4>
<p>:)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
