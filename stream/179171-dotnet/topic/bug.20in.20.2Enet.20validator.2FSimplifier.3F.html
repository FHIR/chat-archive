---
layout: page
title: "FHIR Chat  · bug in .net validator/Simplifier? · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/bug.20in.20.2Enet.20validator.2FSimplifier.3F.html">bug in .net validator/Simplifier?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="158071374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/bug%20in%20.net%20validator/Simplifier%3F/near/158071374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/bug.20in.20.2Enet.20validator.2FSimplifier.3F.html#158071374">(Feb 11 2019 at 22:24)</a>:</h4>
<p>i already reported through Simplifier, but as i am not shure if SImplifier is the problem or the .net validator here the bugreport:<br>
if you validate: <a href="https://simplifier.net/basisprofilde/example-patient-de-basis-humanname-komplex" target="_blank" title="https://simplifier.net/basisprofilde/example-patient-de-basis-humanname-komplex">https://simplifier.net/basisprofilde/example-patient-de-basis-humanname-komplex</a> you get an <em>Invalid : Instance count for 'HumanName.family.extension:namenszusatz' is 3, which is not within the specified cardinality of 0..1</em> error. But the mentioned extension is only used once in the example.</p>



<a name="158106478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/bug%20in%20.net%20validator/Simplifier%3F/near/158106478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/bug.20in.20.2Enet.20validator.2FSimplifier.3F.html#158106478">(Feb 12 2019 at 10:16)</a>:</h4>
<p><span class="user-mention" data-user-id="191328">@Ewout Kramer</span></p>



<a name="158107170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/bug%20in%20.net%20validator/Simplifier%3F/near/158107170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/bug.20in.20.2Enet.20validator.2FSimplifier.3F.html#158107170">(Feb 12 2019 at 10:27)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191451">@Patrick Werner</span>, thank you for the bug report. I'll ask Ewout to take a look at this, as he maintains our validator logic.</p>



<a name="158429090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/bug%20in%20.net%20validator/Simplifier%3F/near/158429090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mirjam Baltus <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/bug.20in.20.2Enet.20validator.2FSimplifier.3F.html#158429090">(Feb 13 2019 at 10:26)</a>:</h4>
<p>Hi Patrick, I've looked into this issue, and found that you are missing a very important field in the <a href="http://fhir.de/StructureDefinition/humanname-namenszusatz/0.2" target="_blank" title="http://fhir.de/StructureDefinition/humanname-namenszusatz/0.2">http://fhir.de/StructureDefinition/humanname-namenszusatz/0.2</a> extension. It is the derivation field, which should contain the indication that your extension is a constraint.</p>
<div class="codehilite"><pre><span></span>   &lt;baseDefinition value=&quot;http://hl7.org/fhir/StructureDefinition/Extension&quot; /&gt;
   &lt;derivation value=&quot;constraint&quot; /&gt;
</pre></div>


<p>The validation logic relies on this field to know the intention of the profile, and will produce unexpected errors when it cannot determine that.<br>
As soon as you add that line to your extension, the validation runs smoothly.</p>



<a name="158453821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/bug%20in%20.net%20validator/Simplifier%3F/near/158453821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/bug.20in.20.2Enet.20validator.2FSimplifier.3F.html#158453821">(Feb 13 2019 at 16:17)</a>:</h4>
<p>(deleted)</p>



<a name="158453946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/bug%20in%20.net%20validator/Simplifier%3F/near/158453946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/bug.20in.20.2Enet.20validator.2FSimplifier.3F.html#158453946">(Feb 13 2019 at 16:19)</a>:</h4>
<p>(deleted)</p>



<a name="158514179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/bug%20in%20.net%20validator/Simplifier%3F/near/158514179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/bug.20in.20.2Enet.20validator.2FSimplifier.3F.html#158514179">(Feb 14 2019 at 09:11)</a>:</h4>
<p>Is it possible to make the reporting from the validator explain this?</p>



<a name="158516985"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/bug%20in%20.net%20validator/Simplifier%3F/near/158516985" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/bug.20in.20.2Enet.20validator.2FSimplifier.3F.html#158516985">(Feb 14 2019 at 10:02)</a>:</h4>
<p>That's not so easy. Like most other fields, the <code>StructureDefinition.derivation</code> field is optional:<br>
<a href="http://hl7.org/fhir/structuredefinition-definitions.html#StructureDefinition.derivation" target="_blank" title="http://hl7.org/fhir/structuredefinition-definitions.html#StructureDefinition.derivation">http://hl7.org/fhir/structuredefinition-definitions.html#StructureDefinition.derivation</a><br>
However the actual field value is critical for the interpretation.<br>
So it is unclear/ambiguous how to interpret StructureDefinitions that do not include this property.</p>
<p><a href="#narrow/stream/179177-conformance/topic/How.20to.20handle.20missing.20StructureDefinition.2Ederivation.3F" title="#narrow/stream/179177-conformance/topic/How.20to.20handle.20missing.20StructureDefinition.2Ederivation.3F">https://chat.fhir.org/#narrow/stream/179177-conformance/topic/How.20to.20handle.20missing.20StructureDefinition.2Ederivation.3F</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
