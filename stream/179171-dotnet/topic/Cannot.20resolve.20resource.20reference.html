---
layout: page
title: "FHIR Chat  · Cannot resolve resource reference · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html">Cannot resolve resource reference</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="188426272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Cannot%20resolve%20resource%20reference/near/188426272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Chen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html#188426272">(Feb 18 2020 at 06:13)</a>:</h4>
<p>Hi all,<br>
I validated Observation resource and its subject reference "<a href="http://example.org/fhir/Patient/2a51042a-2bf1-40d0-8ca4-22180b4c964d" target="_blank" title="http://example.org/fhir/Patient/2a51042a-2bf1-40d0-8ca4-22180b4c964d">http://example.org/fhir/Patient/2a51042a-2bf1-40d0-8ca4-22180b4c964d</a> " to Patient resource ( resource id is <strong>2a51042a-2bf1-40d0-8ca4-22180b4c964d </strong> )</p>
<p>But the warning shown below:</p>
<div class="codehilite"><pre><span></span>[WARNING] Cannot resolve reference http://example.org/fhir/Patient/2a51042a-2bf1-40d0-8ca4-22180b4c964d (at Observation.subject[0])&quot;}
</pre></div>


<p>How do I fix it?<br>
Thanks</p>



<a name="188429731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Cannot%20resolve%20resource%20reference/near/188429731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html#188429731">(Feb 18 2020 at 07:47)</a>:</h4>
<p>The Patient 2a510(...) at <a href="http://example.org" target="_blank" title="http://example.org">example.org</a> does not exist, set ValidationSettings.ResolveExternalReferences to false</p>



<a name="188430846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Cannot%20resolve%20resource%20reference/near/188430846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Chen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html#188430846">(Feb 18 2020 at 08:09)</a>:</h4>
<p><span class="user-mention" data-user-id="192710">@Kenneth Myhra</span> <br>
if Patient resource is local file(.json), how do i assign to reference of the Observation ?<br>
How does reference look like ?<br>
Thanks</p>



<a name="188433096"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Cannot%20resolve%20resource%20reference/near/188433096" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html#188433096">(Feb 18 2020 at 08:56)</a>:</h4>
<p>Is everything you are trying to validate contained in one Bundle?</p>



<a name="188434114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Cannot%20resolve%20resource%20reference/near/188434114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Chen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html#188434114">(Feb 18 2020 at 09:14)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192710">@Kenneth Myhra</span> <br>
Kind of confused about "Bundle" ?<br>
In my case, I have two two local resources ("Observation" and "Patient"). Observation has reference to Patient. <br>
If i change reference as web api and respond json (the Patient resource), I don't know why reference can not be resolved.<br>
Is anything i misunderstand?<br>
Thanks for your quick reply</p>



<a name="188435472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Cannot%20resolve%20resource%20reference/near/188435472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html#188435472">(Feb 18 2020 at 09:31)</a>:</h4>
<p>The validator cannot pick up local resources from disk, it would need a FHIR REST API if the reference is an external resource. If everything is contained in a Bundle like seen below it can validate it without a FHIR REST API.</p>
<div class="codehilite"><pre><span></span>{
  &quot;resourceType&quot;: &quot;Bundle&quot;,
  &quot;id&quot;: &quot;bundle-example&quot;,
  &quot;meta&quot;: {
    &quot;lastUpdated&quot;: &quot;2014-08-18T01:43:30Z&quot;
  },
  &quot;type&quot;: &quot;searchset&quot;,
  &quot;total&quot;: 3,
  &quot;link&quot;: [
    {
      &quot;relation&quot;: &quot;self&quot;,
      &quot;url&quot;: &quot;https://example.com/base/MedicationRequest?patient=347&amp;_include=MedicationRequest.medication&amp;_count=2&quot;
    },
    {
      &quot;relation&quot;: &quot;next&quot;,
      &quot;url&quot;: &quot;https://example.com/base/MedicationRequest?patient=347&amp;searchId=ff15fd40-ff71-4b48-b366-09c706bed9d0&amp;page=2&quot;
    }
  ],
  &quot;entry&quot;: [
    {
      &quot;fullUrl&quot;: &quot;https://example.com/base/MedicationRequest/3123&quot;,
      &quot;resource&quot;: {
        &quot;resourceType&quot;: &quot;MedicationRequest&quot;,
        &quot;id&quot;: &quot;3123&quot;,
        &quot;text&quot;: {
          &quot;status&quot;: &quot;generated&quot;,
          &quot;div&quot;: &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;p&gt;&lt;b&gt;Generated Narrative with Details&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;id&lt;/b&gt;: 3123&lt;/p&gt;&lt;p&gt;&lt;b&gt;status&lt;/b&gt;: unknown&lt;/p&gt;&lt;p&gt;&lt;b&gt;intent&lt;/b&gt;: order&lt;/p&gt;&lt;p&gt;&lt;b&gt;medication&lt;/b&gt;: &lt;a&gt;Medication/example&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;subject&lt;/b&gt;: &lt;a&gt;Patient/347&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&quot;
        },
        &quot;status&quot;: &quot;unknown&quot;,
        &quot;intent&quot;: &quot;order&quot;,
        &quot;medicationReference&quot;: {
          &quot;reference&quot;: &quot;Medication/example&quot;
        },
        &quot;subject&quot;: {
          &quot;reference&quot;: &quot;Patient/347&quot;
        }
      },
      &quot;search&quot;: {
        &quot;mode&quot;: &quot;match&quot;,
        &quot;score&quot;: 1
      }
    },
    {
      &quot;fullUrl&quot;: &quot;https://example.com/base/Medication/example&quot;,
      &quot;resource&quot;: {
        &quot;resourceType&quot;: &quot;Medication&quot;,
        &quot;id&quot;: &quot;example&quot;,
        &quot;text&quot;: {
          &quot;status&quot;: &quot;generated&quot;,
          &quot;div&quot;: &quot;&lt;div xmlns=\&quot;http://www.w3.org/1999/xhtml\&quot;&gt;&lt;p&gt;&lt;b&gt;Generated Narrative with Details&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;id&lt;/b&gt;: example&lt;/p&gt;&lt;/div&gt;&quot;
        }
      },
      &quot;search&quot;: {
        &quot;mode&quot;: &quot;include&quot;
      }
    }
  ]
}
</pre></div>



<a name="188435551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Cannot%20resolve%20resource%20reference/near/188435551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html#188435551">(Feb 18 2020 at 09:32)</a>:</h4>
<p>If you try this example which reference a working FHIR REST API with resources that exists it will validate successfully</p>
<div class="codehilite"><pre><span></span>{
    &quot;resourceType&quot;: &quot;MedicationRequest&quot;,
    &quot;id&quot;: &quot;3123&quot;,
    &quot;status&quot;: &quot;unknown&quot;,
    &quot;intent&quot;: &quot;order&quot;,
    &quot;medicationReference&quot;: {
        &quot;reference&quot;: &quot;http://spark.poplin.no/fhir/Medication/example&quot;
    },
    &quot;subject&quot;: {
        &quot;reference&quot;: &quot;http://spark.poplin.no/fhir/Patient/example&quot;
    }
}
</pre></div>



<a name="188438322"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Cannot%20resolve%20resource%20reference/near/188438322" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Chen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html#188438322">(Feb 18 2020 at 10:11)</a>:</h4>
<p>Good,  I gonna try the second  way.<br>
But, I want my resources to be private and can't upload to spark.<br>
Can I work on my own server (like spark) with FHIR .NET API  for uploading resources ?<br>
Thanks !!</p>



<a name="188439223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Cannot%20resolve%20resource%20reference/near/188439223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kenneth Myhra <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html#188439223">(Feb 18 2020 at 10:26)</a>:</h4>
<p>Yes, you can clone the <a href="https://github.com/firelyTeam/spark" target="_blank" title="https://github.com/firelyTeam/spark">repository</a> and run either Spark.Web (.NET Core version) or Spark (.NET Framework version), there are separate branches for each FHIR Version stu3/master and r4/master, there is also a possibility to run the docker images documented in the README.</p>
<p>If you want to set up a version using the NuGet packages there is a Quick start guide here <a href="http://firelyteam.github.io/spark/quickstart" target="_blank" title="http://firelyteam.github.io/spark/quickstart">http://firelyteam.github.io/spark/quickstart</a></p>



<a name="188517770"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Cannot%20resolve%20resource%20reference/near/188517770" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeff Chen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Cannot.20resolve.20resource.20reference.html#188517770">(Feb 19 2020 at 05:51)</a>:</h4>
<p><strong>UPDATE</strong><br>
I found i don't need spark, and I only set up a FhirClient on my server which gives FHIR format response, json/xml. <br>
So,  Observation reference to my api of Patient resource would be alright.</p>
<p>(ಠ‿ಠ)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
