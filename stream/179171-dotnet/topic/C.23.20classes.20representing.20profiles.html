---
layout: page
title: "FHIR Chat  · C# classes representing profiles · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html">C# classes representing profiles</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154902710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/154902710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Johannes Höhn <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#154902710">(Jan 11 2019 at 08:45)</a>:</h4>
<p>Is there some possibility to generate classes, that represent resources under profiles? Profiles can have different cardinalities, so seeing it in code how an object is supposed to look can be quite helpful.</p>



<a name="154903112"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/154903112" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#154903112">(Jan 11 2019 at 08:55)</a>:</h4>
<p>The classes don't change, although a profile can reduce the cardinality, it is still a collection or not on the wire.<br>
You could think of the profile as custom validation business rules on the core resources (hence you'll not that each property has the extension item under the element base class)</p>



<a name="154911789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/154911789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#154911789">(Jan 11 2019 at 11:46)</a>:</h4>
<p>(this keeps coming up - maybe worth some explanation somewhere in the specs? )</p>



<a name="154950699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/154950699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#154950699">(Jan 11 2019 at 22:02)</a>:</h4>
<p>At least in the dotnet docs or someone's blog.</p>



<a name="154952518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/154952518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#154952518">(Jan 11 2019 at 22:28)</a>:</h4>
<p>Not dotnet specifically - recently I saw the same question asked about HAPI</p>



<a name="154952571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/154952571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#154952571">(Jan 11 2019 at 22:29)</a>:</h4>
<p>There seems to be a general assumption that to work with a specific profile you need tailored classes - that is not the way things work (or should work)</p>



<a name="154962492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/154962492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#154962492">(Jan 12 2019 at 01:47)</a>:</h4>
<p>True, but think does deserve to be where the devs are looking.<br>
At least a paragraph summarising on the NuGet package docs and reference somewhere with detailed notes.</p>



<a name="155240041"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/155240041" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#155240041">(Jan 16 2019 at 09:34)</a>:</h4>
<p>While that is technically true, I agree with <span class="user-mention" data-user-id="197584">@Johannes Höhn</span> - if a profile restricts the max cardinality to 1, there's no reason you should work with a list of size 1 in the API.</p>



<a name="155240064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/155240064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#155240064">(Jan 16 2019 at 09:35)</a>:</h4>
<p>It's more confusing than helpful.</p>



<a name="155322557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/155322557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#155322557">(Jan 17 2019 at 09:48)</a>:</h4>
<p>I guess it depends ;p The FHIR API provides generic and reusable PoCo classes, these require a common structure (with property type and cardinality) for all kinds of reasons, such as serialization. However it is entirely possible to author (derive) custom classes for specific profiles and targeted to specific use cases, manually or using code generation. Such custom classes could then implement additional convenience properties for list elements with cardinality constrained to a single element.</p>



<a name="157606706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157606706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Barnard <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157606706">(Feb 05 2019 at 13:39)</a>:</h4>
<blockquote>
<p>I guess it depends ;p The FHIR API provides generic and reusable PoCo classes, these require a common structure (with property type and cardinality) for all kinds of reasons, such as serialization. However it is entirely possible to author (derive) custom classes for specific profiles and targeted to specific use cases, manually or using code generation. Such custom classes could then implement additional convenience properties for list elements with cardinality constrained to a single element.</p>
</blockquote>
<p>Very interested in this capability as we are working heavily on profiles and extensions.  Is there indeed a way to add some structure definitions and regenerate from them....to get new CodeGenerated POCOs?  It seems that all the building blocks are in the HL7.FHIR API, but I dont quite see any tests or docs that explain how we can add our own profiles, ideally to get our own POCOs.</p>



<a name="157610880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157610880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Barnard <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157610880">(Feb 05 2019 at 14:42)</a>:</h4>
<p>Or....put another way....if we CANT generate POCOs for our profiled resources, what is the process for using profile instances w/ the HL7.FHIR API?  If I wanted to, say, create an instance of BMI (derives from Observation), how does one do that?  Ultimately if we can define profiles and interact w/ them via strongly typed code then we get the same benefits as being able to generate POCOs for our profiled resources.   Thanks!</p>



<a name="157611640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157611640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157611640">(Feb 05 2019 at 14:52)</a>:</h4>
<blockquote>
<p>create an instance of BMI (derives from Observation)</p>
</blockquote>



<a name="157611708"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157611708" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157611708">(Feb 05 2019 at 14:52)</a>:</h4>
<p>You just use the existing Model.Observation class</p>



<a name="157613044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157613044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Barnard <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157613044">(Feb 05 2019 at 15:10)</a>:</h4>
<p>what makes it a BMI?  The constructor doesnt seem to take the profile.</p>



<a name="157617861"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157617861" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157617861">(Feb 05 2019 at 16:13)</a>:</h4>
<p>The fact that you respect the rules of the BMI profile: fill the elements that need to be filled, use the right value sets etc.</p>



<a name="157617965"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157617965" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michele Mottini <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157617965">(Feb 05 2019 at 16:14)</a>:</h4>
<p>(and set the profile in the Meta element - although I do not think this is strictly needed)</p>



<a name="157620547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157620547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bob Barnard <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157620547">(Feb 05 2019 at 16:53)</a>:</h4>
<p>Hmmmm....so there is no way to get strong typing based on the profile (e.g. all of the constraints)?  It really does seem then like a nice feature to add to this API would be the ability of consumers to add their own StructureDefinition and then re-run whatever generation process exists so that we can have our own derived profile resources and SEE our constraints/extensions on POCOs.     I don't suppose anyone knows how the generation process works...I may be able to add that functionality myself, but I'm struggling to see how to regenerate classes from the source profiles</p>



<a name="157629905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157629905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157629905">(Feb 05 2019 at 18:50)</a>:</h4>
<p>it's not so simple because a resource can conform to multiple different profiles at once. And there's no particular way to know whether a resource conforms to a profile than to test to see whether it conforms to a particular set of rules</p>



<a name="157629951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157629951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157629951">(Feb 05 2019 at 18:51)</a>:</h4>
<p>it's better to generate a profile is an interface/facade to the underlying resource</p>



<a name="157629971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157629971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157629971">(Feb 05 2019 at 18:51)</a>:</h4>
<p>but no one has generated these yet, either in java or c#, so far as I know</p>



<a name="157685710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/157685710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#157685710">(Feb 06 2019 at 12:29)</a>:</h4>
<p>Strong typing based on (generic) profiles implies that all profile constraints can be verified at compile time. That is quite a challenging problem, to say the least. <span class="user-mention" data-user-id="191447">@Mark Kramer</span> has been working on generating code and FHIR profiles from an abstract syntax, he might be able to shed some light on this.<br>
However within the scope of a limited use case, say a small mobile app, it would be feasible to manually author custom PoCo classes for relevant profiles, to facilitate app developers. You can easily subclass existing PoCo's. Alternatively, you could implement your own custom PoCo classes based on the new ITypedElement layer.</p>



<a name="160119957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/C%23%20classes%20representing%20profiles/near/160119957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martin Andersen <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/C.23.20classes.20representing.20profiles.html#160119957">(Mar 06 2019 at 18:16)</a>:</h4>
<p>I have been struggling a bit with this issue as well. Are there any way that one could contribute to the fhir-net-api docs?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
