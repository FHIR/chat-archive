---
layout: page
title: "FHIR Chat  · Pagination exception · dotnet"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/index.html">dotnet</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Pagination.20exception.html">Pagination exception</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153912620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Pagination%20exception/near/153912620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santosh Jami <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Pagination.20exception.html#153912620">(Oct 05 2017 at 14:21)</a>:</h4>
<p>I am using Spark / DSTU2<br>
I am trying to retrive all the Patients in the server. Here us what I am doing:</p>
<p>FhirClient client = new FhirClient(testEndpoint);      <br>
Bundle patientSearchBundle = client.Search&lt;Patient&gt;();            //This works fine, I get 20 entries<br>
var newBundle = client.Continue(patientSearchBundle);            // this throws an exception</p>
<p>When I point with the same code to the reference servers, it works fine: <br>
<a href="http://spark-dstu2.furore.com/fhir/Patient" target="_blank" title="http://spark-dstu2.furore.com/fhir/Patient">http://spark-dstu2.furore.com/fhir/Patient</a><br>
<a href="http://spark.furore.com/fhir/_snapshot?id=c8d30c4b-b737-421b-a115-548b54aab55b&amp;start=20" target="_blank" title="http://spark.furore.com/fhir/_snapshot?id=c8d30c4b-b737-421b-a115-548b54aab55b&amp;start=20">http://spark.furore.com/fhir/_snapshot?id=c8d30c4b-b737-421b-a115-548b54aab55b&amp;start=20</a></p>
<p>When I point to my local server, the exception happens:<br>
"Operation was unsuccessful, and returned status InternalServerError. OperationOutcome: Overall result: FAILURE (1 errors and 0 warnings)\r\n\r\n[ERROR] (no details)(further diagnostics: Endpoint returned a body with contentType 'text/html', while a valid FHIR xml/json body type was expected. Is this a FHIR endpoint?)\r\n"</p>
<p><a href="http://localhost:8091/fhir/Patient" target="_blank" title="http://localhost:8091/fhir/Patient">http://localhost:8091/fhir/Patient</a>                 //this is good<br>
<a href="http://localhost:8091/spark/fhir/_snapshot?id=798e7ba1-5059-42de-913a-22ce9c501369&amp;start=20" target="_blank" title="http://localhost:8091/spark/fhir/_snapshot?id=798e7ba1-5059-42de-913a-22ce9c501369&amp;start=20">http://localhost:8091/spark/fhir/_snapshot?id=798e7ba1-5059-42de-913a-22ce9c501369&amp;start=20</a><br>
--this throws an error.</p>
<p>Server Error in '/' Application.</p>
<p>Value cannot be null.<br>
Parameter name: typeRequested</p>
<p>Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. </p>
<p>Exception Details: System.ArgumentNullException: Value cannot be null.<br>
Parameter name: typeRequested</p>
<p>Source Error: </p>
<p>Line 25:             try<br>
Line 26:             {<br>
Line 27:                 result = (IController)(_container.Resolve(controllerType));<br>
Line 28:             }<br>
Line 29:             catch (ResolutionFailedException)</p>
<p>Source File: C:\Users\SANTOSH\Source\Repos\spark-master\spark-master\src\Spark\App_Start\UnityControllerFactory.cs    Line: 27</p>



<a name="153912658"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Pagination%20exception/near/153912658" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santosh Jami <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Pagination.20exception.html#153912658">(Oct 05 2017 at 17:30)</a>:</h4>
<p>As I am not seeing any exceptions against the Spark reference server, and am getting errors on my local server, it seems both might have different versions. Spark reference server has the code from master branch of: <a href="https://github.com/furore-fhir/spark/" target="_blank" title="https://github.com/furore-fhir/spark/">https://github.com/furore-fhir/spark/</a>? Can someone please confirm?</p>



<a name="153912857"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179171-dotnet/topic/Pagination%20exception/near/153912857" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Santosh Jami <a href="https://fhir.github.io/chat-archive/stream/179171-dotnet/topic/Pagination.20exception.html#153912857">(Oct 06 2017 at 17:53)</a>:</h4>
<p>I hosted my Spark from dstu2/master branch instead of master branch. It fixed the issue. I decided to start migration to Vonk earlier than planned :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
