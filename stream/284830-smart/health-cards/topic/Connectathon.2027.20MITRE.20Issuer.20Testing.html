---
layout: page
title: "FHIR Chat  · Connectathon 27 MITRE Issuer Testing · smart/health-cards"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/index.html">smart/health-cards</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html">Connectathon 27 MITRE Issuer Testing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="239253954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239253954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239253954">(May 18 2021 at 13:32)</a>:</h4>
<p><span class="user-mention" data-user-id="365368">@James Kizer</span>, <span class="user-mention" data-user-id="306186">@Vijayendra Prabhakar</span>, <span class="user-mention" data-user-id="361949">@Ron Jawanda</span>, <span class="user-mention" data-user-id="385047">@Christian Paquin</span>  or anyone else trying to read/verify health cards want to try testing some of the ones we've generated?</p>
<p>Feel free to add your own patients too via the "New Patient" option on the homepage (<a href="https://connectathon.vci.org/">https://connectathon.vci.org/</a>)</p>
<p>e.g. <a href="https://connectathon.vci.org/patients/1">https://connectathon.vci.org/patients/1</a> (here you can view the QR code or download as a file)</p>
<p><a href="/user_uploads/10155/Bmh9R-TdU2FFzfUN4THQFytn/bradley_nikolaus_qr.png">bradley_nikolaus_qr.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/Bmh9R-TdU2FFzfUN4THQFytn/bradley_nikolaus_qr.png" title="bradley_nikolaus_qr.png"><img src="/user_uploads/10155/Bmh9R-TdU2FFzfUN4THQFytn/bradley_nikolaus_qr.png"></a></div>



<a name="239254527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239254527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239254527">(May 18 2021 at 13:35)</a>:</h4>
<p><del>Attaching the file download option too for convenience: <a href="/user_uploads/10155/Cr0_4zFXeeoDmC2ocaz3w3cV/bradley_nikolaus.smart-health-card">bradley_nikolaus.smart-health-card</a></del></p>
<p>Zulip is making this a <code>.txt</code> so I'd recommend getting it straight from the site or you'll need to fix the extension</p>



<a name="239254846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239254846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ron Jawanda <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239254846">(May 18 2021 at 13:37)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="197651">@Reece Adamson</span>  I want to , i went and watched fridays video. I'm still quite lost. I'm a client person that wants to figure out how to read these but i don't know where the endpoints are (if they are actual endpoints) . Don't know how to start but I would like to. I guess my first question is where is the server what is the endpoint.</p>



<a name="239255080"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239255080" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239255080">(May 18 2021 at 13:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197651">Reece Adamson</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing/near/239253954">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="385047">Christian Paquin</span>  or anyone else trying to read/verify health cards want to try testing some of the ones we've generated?</p>
</blockquote>
<p>Verifying a QR code generated with demo data gives me this:</p>
<div class="codehilite"><pre><span></span><code> JWS.payload
                     │
                     ├─ Warning
                     │    · JWS.payload.vc.type should contain &#39;https://smarthealth.cards#health-card&#39;
                     │
                     ├─ Error
                     │    · Schema: {&quot;instancePath&quot;:&quot;/vc/credentialSubject/fhirVersion&quot;,&quot;schemaPath&quot;:&quot;#/properties/vc/properties/credentialSubject/properties/fhirVersion/type&quot;,&quot;keyword&quot;:&quot;type&quot;,&quot;params&quot;:{&quot;type&quot;:&quot;string&quot;},&quot;message&quot;:&quot;must be string&quot;}
</code></pre></div>
<p>The fhir version is currently <code>null</code>.</p>



<a name="239255206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239255206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Neelima Karipineni <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239255206">(May 18 2021 at 13:40)</a>:</h4>
<p><span class="user-mention" data-user-id="361949">@Ron Jawanda</span> do you want to rejoin the Zoom meeting? We're still on the call, might be easier to answer your questions live.</p>



<a name="239259661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239259661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Kizer <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239259661">(May 18 2021 at 14:08)</a>:</h4>
<p>Yeah, I'm seeing the same <code>null</code> value for <code>fhriVersion</code></p>



<a name="239259799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239259799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239259799">(May 18 2021 at 14:09)</a>:</h4>
<p>Well that's no good - looking into it now.</p>



<a name="239272567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239272567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Lee <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239272567">(May 18 2021 at 15:22)</a>:</h4>
<p><span class="user-mention" data-user-id="365368">@James Kizer</span> <span class="user-mention" data-user-id="385047">@Christian Paquin</span> fix for the <code>fhirVersion</code> is deployed.</p>



<a name="239273718"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239273718" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Hanlon <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239273718">(May 18 2021 at 15:29)</a>:</h4>
<p>Seems to be validating now with the Microsoft SDK</p>



<a name="239273974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239273974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239273974">(May 18 2021 at 15:31)</a>:</h4>
<p><span class="user-mention silent" data-user-id="383196">Daniel Lee</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing/near/239272567">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="365368">James Kizer</span> <span class="user-mention silent" data-user-id="385047">Christian Paquin</span> fix for the <code>fhirVersion</code> is deployed.</p>
</blockquote>
<p>Works in the validation SDK. The VC type contains <code>https://healthwallet.cards#health-card</code> instead of <code>https://smarthealth.cards#health-card</code>. We throw a warning for this, if the <a href="https://smarthealth.cards/vocabulary/">specified VC type</a> isn't present, but I'm not sure if this should be an error. The spec only shows it has an example, but has no explicit requirement for it. <span class="user-mention" data-user-id="191315">@Josh Mandel</span>, guidance?</p>
<p>See <a href="https://github.com/smart-on-fhir/health-cards/pull/144">PR 144</a> for a suggested spec edit.</p>



<a name="239274165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239274165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Hanlon <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239274165">(May 18 2021 at 15:32)</a>:</h4>
<p><span class="user-mention" data-user-id="385047">@Christian Paquin</span>  We're making a quick update for this now.</p>



<a name="239274277"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239274277" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Kizer <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239274277">(May 18 2021 at 15:33)</a>:</h4>
<p>Also, should the VC type include <code>https://smarthealth.cards#immunization</code> as well?</p>



<a name="239275373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239275373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen MacVicar <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239275373">(May 18 2021 at 15:39)</a>:</h4>
<p>I feel like the spec isn't clear about exactly which types should be included. Just the most specific or a list including all the more general types as well?</p>



<a name="239275579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239275579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vijayendra Prabhakar <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239275579">(May 18 2021 at 15:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197651">Reece Adamson</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing/near/239253954">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="365368">James Kizer</span>, <span class="user-mention silent" data-user-id="306186">Vijayendra Prabhakar</span>, <span class="user-mention silent" data-user-id="361949">Ron Jawanda</span>, <span class="user-mention silent" data-user-id="385047">Christian Paquin</span>  or anyone else trying to read/verify health cards want to try testing some of the ones we've generated?</p>
<p>Feel free to add your own patients too via the "New Patient" option on the homepage (<a href="https://connectathon.vci.org/">https://connectathon.vci.org/</a>)</p>
<p>e.g. <a href="https://connectathon.vci.org/patients/1">https://connectathon.vci.org/patients/1</a> (here you can view the QR code or download as a file)</p>
<p><a href="/user_uploads/10155/Bmh9R-TdU2FFzfUN4THQFytn/bradley_nikolaus_qr.png">bradley_nikolaus_qr.png</a></p>
</blockquote>
<p>Hey <span class="user-mention" data-user-id="197651">@Reece Adamson</span>  we tried importing one of the health cards and we were able to verify it.</p>



<a name="239276765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239276765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zameer Sura <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239276765">(May 18 2021 at 15:48)</a>:</h4>
<p><span class="user-mention" data-user-id="197651">@Reece Adamson</span> I see that the implementation returns a SHC for a patient with no immunization data. Is this valid?<br>
The VCI spec requires that an immunization SHC bundle have 1..* immunizations.</p>
<p>For our FHIR implementation if we have a patient with no qualifying immunization details, we would return a 200 OK with an empty Parameters resource like (i.e. no <code>verifiableCredential</code> parameters)</p>
<div class="codehilite"><pre><span></span><code>{
  &quot;resourceType&quot;: &quot;Parameters&quot;
}
</code></pre></div>



<a name="239276828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239276828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Kizer <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239276828">(May 18 2021 at 15:48)</a>:</h4>
<p><span class="user-mention" data-user-id="225612">@Stephen MacVicar</span> my expectation (which could be wrong) is that it should list all the types such that performing a set intersection leads to the most granular type possible. In CommonHealth, we determine how we render a card based on the list containing <code>[https://smarthealth.cards#covid19, https://smarthealth.cards#immunization]</code> or <code>[https://smarthealth.cards#covid19, https://smarthealth.cards#laboratory]</code></p>



<a name="239277248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239277248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Kizer <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239277248">(May 18 2021 at 15:51)</a>:</h4>
<p><span class="user-mention" data-user-id="199274">@Zameer Sura</span> which sample patient returns the empty resource? I'd like to try this out in CommonHealth to see if we're handing it properly</p>



<a name="239277397"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239277397" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen MacVicar <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239277397">(May 18 2021 at 15:52)</a>:</h4>
<p>I think that is a fair expectation, but I would find it helpful (particularly from a testing perspective) to have more clarity in the spec about it.</p>



<a name="239277420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239277420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239277420">(May 18 2021 at 15:52)</a>:</h4>
<p><span class="user-mention" data-user-id="199274">@Zameer Sura</span> it will do that for Patients that have no recorded immunizations. Right now the application isn't really restrictive and just returns a Health Card for whatever FHIR data it has.</p>



<a name="239277652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239277652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239277652">(May 18 2021 at 15:53)</a>:</h4>
<p>A Health Card conforming to the <a href="https://vci.org/ig/vaccination-and-testing">SMART Health Cards: Vaccination &amp; Testing FHIR IG</a> shouldn't just have just a patient and should include https://smarthealth.cards#immunization and/or https://smarthealth.cards#laboratory, and optionally https://smarthealth.cards#covid19 depending on the type of card</p>



<a name="239277656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239277656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zameer Sura <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239277656">(May 18 2021 at 15:53)</a>:</h4>
<p><span class="user-mention" data-user-id="365368">@James Kizer</span> the patient documented in <a href="https://github.com/joeratt/connectathon_notes/blob/may_2021-HL7-health_cards/health_cards/Cerner%20SMART%20Health%20Cards%20-%20Integration%20Notes.md#smart-fredrick">https://github.com/joeratt/connectathon_notes/blob/may_2021-HL7-health_cards/health_cards/Cerner%20SMART%20Health%20Cards%20-%20Integration%20Notes.md#smart-fredrick</a> should return an empty resource</p>



<a name="239277994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239277994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Kizer <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239277994">(May 18 2021 at 15:55)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="199274">@Zameer Sura</span> !</p>



<a name="239285181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239285181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239285181">(May 18 2021 at 16:36)</a>:</h4>
<p>Re: types, thanks for the discussion and PR on this! Agreed, clarification of expectations is a big help here.</p>



<a name="239301581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239301581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239301581">(May 18 2021 at 18:21)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197651">Reece Adamson</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing/near/239253954">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="365368">James Kizer</span>, <span class="user-mention silent" data-user-id="306186">Vijayendra Prabhakar</span>, <span class="user-mention silent" data-user-id="361949">Ron Jawanda</span>, <span class="user-mention silent" data-user-id="385047">Christian Paquin</span>  or anyone else trying to read/verify health cards want to try testing some of the ones we've generated?</p>
</blockquote>
<p>Okay, trying the QR code above with our barcode scanner.  Immunization record arrives with blank fields.  But otherwise, looks like card encoding/decoding and and JWT cryptography is all working.  This outcome continues the disagreement with the <code>Bundle+Patient+DEFLATE+shortRef</code> architecture, without support for plain FHIR resources.</p>
<p><a href="/user_uploads/10155/ZUTHvtQk2AMkEXJDdsy1BYVG/IMG_7987.PNG">IMG_7987.PNG</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/ZUTHvtQk2AMkEXJDdsy1BYVG/IMG_7987.PNG" title="IMG_7987.PNG"><img src="/user_uploads/10155/ZUTHvtQk2AMkEXJDdsy1BYVG/IMG_7987.PNG"></a></div>



<a name="239303371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239303371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239303371">(May 18 2021 at 18:32)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="191678">@Abbie Watson</span>. It looks like you were able to get the DEFLATE working properly based on the properly extracted CVX code. Do you see any issues with the decoded payload? It looks like it came through across correctly in the siemens verifier and were able to extract the name and birth date.</p>
<p>e.g. If you inspec the patient "Bradley, Nikolaus" in the <a href="https://smart-health-vault-siemens-healthineers.azurewebsites.net/holder">siemens verifier</a></p>



<a name="239307498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239307498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239307498">(May 18 2021 at 18:58)</a>:</h4>
<p>Agreed, that DEFLATE is working properly and the QR code is working according to spec.  I'm voicing disagreement with the spec assumptions, and pointing out how in practice it's going to wind up delivering results that appears to be missing data.  The 20% storage gains that DEFLATE provides comes at the cost of (de)compression errors, readability, usability, non-standard patterns, breaking existing libraries/functions, etc.</p>



<a name="239312612"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239312612" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239312612">(May 18 2021 at 19:33)</a>:</h4>
<p>FWIW keep in mind that DEFLATE gives us 60-90(++)% reduction of payload size (not 20%). For a rough example:</p>
<div class="codehilite"><pre><span></span><code>$ EX=&#39;{&quot;iss&quot;:&quot;https://smarthealth.cards/examples/issuer&quot;,&quot;nbf&quot;:1620847989.837,&quot;vc&quot;:{&quot;type&quot;:[&quot;https://smarthealth.cards#health-card&quot;,&quot;https://smarthealth.cards#immunization&quot;,&quot;https://smarthealth.cards#covid19&quot;],&quot;credentialSubject&quot;:{&quot;fhirVersion&quot;:&quot;4.0.1&quot;,&quot;fhirBundle&quot;:{&quot;resourceType&quot;:&quot;Bundle&quot;,&quot;type&quot;:&quot;collection&quot;,&quot;entry&quot;:[{&quot;fullUrl&quot;:&quot;resource:0&quot;,&quot;resource&quot;:{&quot;resourceType&quot;:&quot;Patient&quot;,&quot;name&quot;:[{&quot;family&quot;:&quot;Anyperson&quot;,&quot;given&quot;:[&quot;John&quot;,&quot;B.&quot;]}],&quot;birthDate&quot;:&quot;1951-01-20&quot;}},{&quot;fullUrl&quot;:&quot;resource:1&quot;,&quot;resource&quot;:{&quot;resourceType&quot;:&quot;Immunization&quot;,&quot;status&quot;:&quot;completed&quot;,&quot;vaccineCode&quot;:{&quot;coding&quot;:[{&quot;system&quot;:&quot;http://hl7.org/fhir/sid/cvx&quot;,&quot;code&quot;:&quot;207&quot;}]},&quot;patient&quot;:{&quot;reference&quot;:&quot;resource:0&quot;},&quot;occurrenceDateTime&quot;:&quot;2021-01-01&quot;,&quot;performer&quot;:[{&quot;actor&quot;:{&quot;display&quot;:&quot;ABC General Hospital&quot;}}],&quot;lotNumber&quot;:&quot;0000001&quot;}},{&quot;fullUrl&quot;:&quot;resource:2&quot;,&quot;resource&quot;:{&quot;resourceType&quot;:&quot;Immunization&quot;,&quot;status&quot;:&quot;completed&quot;,&quot;vaccineCode&quot;:{&quot;coding&quot;:[{&quot;system&quot;:&quot;http://hl7.org/fhir/sid/cvx&quot;,&quot;code&quot;:&quot;207&quot;}]},&quot;patient&quot;:{&quot;reference&quot;:&quot;resource:0&quot;},&quot;occurrenceDateTime&quot;:&quot;2021-01-29&quot;,&quot;performer&quot;:[{&quot;actor&quot;:{&quot;display&quot;:&quot;ABC General Hospital&quot;}}],&quot;lotNumber&quot;:&quot;0000007&quot;}}]}}}}&#39;
$ echo $EX | wc -c
1105
$ echo $EX | gzip | wc -c
449
</code></pre></div>



<a name="239453513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239453513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen MacVicar <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239453513">(May 19 2021 at 16:15)</a>:</h4>
<p>The tests at <a href="https://inferno-dev.healthit.gov">https://inferno-dev.healthit.gov</a> have been updated so that they now perform FHIR validation</p>



<a name="239454154"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239454154" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239454154">(May 19 2021 at 16:20)</a>:</h4>
<p>against the <a href="https://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/main/StructureDefinition-vaccination-credential-bundle.html">SMART Health Cards: Vaccination &amp; Testing Vaccination Credential Bundle profile</a></p>



<a name="239461954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239461954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Kizer <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239461954">(May 19 2021 at 17:10)</a>:</h4>
<p><span class="user-mention" data-user-id="197651">@Reece Adamson</span> I'm testing out the file import flow for this patient <a href="https://connectathon.vci.org/patients/1">https://connectathon.vci.org/patients/1</a> and I'm running into issues with the file. It looks like the <code>kid</code> for the file is <code>4VFcTjMP4sXNIjv1WwxWEFi7bdA9OpLOHhBiDdXJzM4</code>, which doesn't appear to match a key in the JWKSet doc. The QR code <code>kid</code> is <code>uZ84161RsBjULyL2sD59OycDFHKGIJZDOhjGBZCxqnY</code>, which does match</p>



<a name="239462707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239462707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239462707">(May 19 2021 at 17:15)</a>:</h4>
<p>When did you download the file? I just downloaded it and see the kid in the JWS header matching as <code>uZ84161RsBjULyL2sD59OycDFHKGIJZDOhjGBZCxqnY</code></p>



<a name="239462948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239462948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239462948">(May 19 2021 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="225612">@Stephen MacVicar</span> for the deployed instance is the signing key regenerated every time we re-deploy?</p>



<a name="239463796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239463796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Kizer <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239463796">(May 19 2021 at 17:22)</a>:</h4>
<p>Yeah, looks good now. Must have been a stale file</p>



<a name="239472471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239472471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Braman (FLY.HEALTH) <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239472471">(May 19 2021 at 18:19)</a>:</h4>
<p>Thanks to Reese and Dan for the help in polishing off the Cert.Health implementation.  We are now passing all tests for issuance.</p>



<a name="239780733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Connectathon%2027%20MITRE%20Issuer%20Testing/near/239780733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Connectathon.2027.20MITRE.20Issuer.20Testing.html#239780733">(May 21 2021 at 16:48)</a>:</h4>
<p>Okay, updated the reader app to read in the Bundle.Patient demographics.  <br>
<a href="/user_uploads/10155/RlgDfckLaRRC2K8crIe_Dhb_/IMG_8010.PNG">IMG_8010.PNG</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/RlgDfckLaRRC2K8crIe_Dhb_/IMG_8010.PNG" title="IMG_8010.PNG"><img src="/user_uploads/10155/RlgDfckLaRRC2K8crIe_Dhb_/IMG_8010.PNG"></a></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
