---
layout: page
title: "FHIR Chat  · CVX code system · smart/health-cards"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/index.html">smart/health-cards</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html">CVX code system</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="235587729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/235587729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#235587729">(Apr 21 2021 at 21:47)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I believe you said CVX is fixed, but our value set expansion is still not working as far as I can tell?</p>
<ul>
<li>Here's the value set: <a href="http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/cvx-code-system/ValueSet-vaccination-credential-vaccine-value-set.html">http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/cvx-code-system/ValueSet-vaccination-credential-vaccine-value-set.html</a></li>
<li>The underlying FSH is <code>* include codes from system http://hl7.org/fhir/sid/cvx</code></li>
<li>The branch is here if you want to clone locally: <a href="https://github.com/dvci/vaccine-credential-ig/tree/cvx-code-system">https://github.com/dvci/vaccine-credential-ig/tree/cvx-code-system</a></li>
</ul>
<p>Expected behavior: <code>207</code> is the CVX code for the Moderna vaccine, but it's not included in the value set expansion. More generally all the codes listed <a href="https://www.cdc.gov/vaccines/programs/iis/COVID-19-related-codes.html">here</a> should be in the value set expansion.</p>
<p>What actually happens: none of the COVID codes are present in the value set expansion, or in the code systems linked here: <a href="/user_uploads/10155/4LtcJm0Y0Rwnb5WvwWE90-DL/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/4LtcJm0Y0Rwnb5WvwWE90-DL/image.png" title="image.png"><img src="/user_uploads/10155/4LtcJm0Y0Rwnb5WvwWE90-DL/image.png"></a></div><p>(The link in the screenshot goes to <a href="http://terminology.hl7.org/2.1.0/CodeSystem-CVX.html">http://terminology.hl7.org/2.1.0/CodeSystem-CVX.html</a>)</p>



<a name="235593424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/235593424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#235593424">(Apr 21 2021 at 22:41)</a>:</h4>
<p>sigh. Stinking UTG has multiple bunkum representations of CVX and I missed somewhere in the code where I ignore the UTG ones; I've put in a harder override specifically for CVX for now. Next release you'll get this:</p>



<a name="235593533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/235593533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#235593533">(Apr 21 2021 at 22:42)</a>:</h4>
<p><a href="/user_uploads/10155/yf-yQsQ3u3HunmY1tXiyG6XG/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/yf-yQsQ3u3HunmY1tXiyG6XG/image.png" title="image.png"><img src="/user_uploads/10155/yf-yQsQ3u3HunmY1tXiyG6XG/image.png"></a></div>



<a name="235595394"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/235595394" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#235595394">(Apr 21 2021 at 23:02)</a>:</h4>
<p>Awesome, thanks! BTW I’ve opened a Jira issue with Vocab to try to do something about the multiple out of date CVX representations.</p>



<a name="235596088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/235596088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#235596088">(Apr 21 2021 at 23:10)</a>:</h4>
<p>it's already on their radar but more pressure is good ;-)</p>



<a name="235596150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/235596150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#235596150">(Apr 21 2021 at 23:10)</a>:</h4>
<p>we believe that the current cvx content on <a href="http://tx.fhir.org">tx.fhir.org</a> is correct</p>



<a name="235685236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/235685236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#235685236">(Apr 22 2021 at 14:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> along the lines of getting CVX updated to include the COVID-related vaccines, can MVX be updated to have the COVID vaccine manufacturers (like <code>JSN</code>, <code>MOD</code>, and <code>ASZ</code>)? </p>
<p>Here's our attempt to get an expansion of the PHIN VADS value set for MVX: <a href="http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/terminology-improvements/ValueSet-vaccination-credential-vaccine-manufacturer-value-set.html">http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/terminology-improvements/ValueSet-vaccination-credential-vaccine-manufacturer-value-set.html</a></p>



<a name="235686007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/235686007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#235686007">(Apr 22 2021 at 14:19)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/CVX.20code.20system/near/235596150">said</a>:</p>
<blockquote>
<p>we believe that the current cvx content on <a href="http://tx.fhir.org">tx.fhir.org</a> is correct</p>
</blockquote>
<p>What's the request I would need to make manually with <code>curl</code> (or similar) to see what <a href="http://tx.fhir.org">tx.fhir.org</a> has for CVX codes?</p>



<a name="235689223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/235689223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Denning <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#235689223">(Apr 22 2021 at 14:37)</a>:</h4>
<p>curl <a href="http://tx.fhir.org/r4/CodeSystem/cvx?_format=json">http://tx.fhir.org/r4/CodeSystem/cvx?_format=json</a></p>
<p>(or similar, I like <a href="https://github.com/tomnomnom/gron">https://github.com/tomnomnom/gron</a>)<br>
gron <a href="http://tx.fhir.org/r4/CodeSystem/cvx?_format=json">http://tx.fhir.org/r4/CodeSystem/cvx?_format=json</a> | grep COVID</p>



<a name="235744777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/235744777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#235744777">(Apr 22 2021 at 20:46)</a>:</h4>
<p>Thanks! I can confirm the COVID CVX codes are on <a href="http://tx.fhir.org">tx.fhir.org</a> now!</p>



<a name="236491303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/236491303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#236491303">(Apr 28 2021 at 11:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="248736">@Mark Iantorno</span> I'm still seeing a spurious warning related to invalid CVX codes with the FHIR Validation tool Version 5.3.11 (Git# 33fffe28ff6b). Built 2021-04-22T05:48:36.375Z (6 days old):</p>
<div class="codehilite"><pre><span></span><code>Warning @ Bundle.entry[1].resource.ofType(Immunization).vaccineCode.coding[0] (line 32, col14) : Unknown Code http://hl7.org/fhir/sid/cvx#207 in http://hl7.org/fhir/sid/cvx - note that the code system is labelled as a fragment, so the code may be valid in some other fragment for &#39;http://hl7.org/fhir/sid/cvx#207&#39;
</code></pre></div>
<p>The portion of the resource in question:</p>
<div class="codehilite"><pre><span></span><code>&quot;vaccineCode&quot;: {
    &quot;coding&quot;: [
    {
        &quot;system&quot;: &quot;http://hl7.org/fhir/sid/cvx&quot;,
        &quot;code&quot;: &quot;207&quot;
    }
    ]
},
</code></pre></div>
<p>And <code>207</code> is part of <a href="http://build.fhir.org/ig/dvci/vaccine-credential-ig/branches/dev/ValueSet-vaccination-credential-vaccine-value-set.html">the expansion now</a> (thank you!!!).</p>
<p>So I don't see anything wrong with the IG or the example resource that would be causing this warning.</p>
<p>Can you please take a look?</p>
<p>Steps to reproduce:</p>
<div class="spoiler-block"><div class="spoiler-header">
</div><div class="spoiler-content" aria-hidden="true">
<div class="codehilite"><pre><span></span><code>git clone git@github.com:dvci/vaccine-credential-ig.git vci
cd vci
git checkout dev
# Put publisher.jar and validator_cli.jar in input-cache/
./_genonce.sh
java -jar input-cache/validator_cli.jar -version 4.0.1 -ig output/package.tgz examples/Scenario1Bundle.json -profile http: //hl7.org/fhir/uv/smarthealthcards-vaccination/StructureDefinition/vaccination-credential-bundle
</code></pre></div>

</div></div>



<a name="236737640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/236737640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#236737640">(Apr 29 2021 at 20:13)</a>:</h4>
<p>sigh. Some old voca b managed content has a bad copy of the cvx code system. I just found yet another place where I have to specifically instruct the terminology code to ignore the bad copy of cvx. So this will be fixed next time the validator is released</p>



<a name="236747834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/CVX%20code%20system/near/236747834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/CVX.20code.20system.html#236747834">(Apr 29 2021 at 21:15)</a>:</h4>
<p>Thank you for persevering through this.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
