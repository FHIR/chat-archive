---
layout: page
title: "FHIR Chat  · c19.cards reference implementation · smart/health-cards"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/index.html">smart/health-cards</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html">c19.cards reference implementation</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="234689173"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/c19.cards%20reference%20implementation/near/234689173" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html#234689173">(Apr 15 2021 at 14:47)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="404889">@Matt Printz</span> for noticing some invalid elements in our metadata endpoint --</p>



<a name="234689324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/c19.cards%20reference%20implementation/near/234689324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html#234689324">(Apr 15 2021 at 14:48)</a>:</h4>
<p><a href="https://github.com/smart-on-fhir/health-cards-tests/pull/52/files">https://github.com/smart-on-fhir/health-cards-tests/pull/52/files</a> should fix it. FYI <span class="user-mention" data-user-id="365368">@James Kizer</span> because you initially added this content and I just want to make sure you're not depending on those <code>profile</code> elements (which if you do need them should be canonicals rather than references) :-)</p>



<a name="234692248"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/c19.cards%20reference%20implementation/near/234692248" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html#234692248">(Apr 15 2021 at 15:01)</a>:</h4>
<p><a href="https://c19.cards/api/fhir/metadata">https://c19.cards/api/fhir/metadata</a> should be fixed now <span class="user-mention" data-user-id="404889">@Matt Printz</span></p>



<a name="234695917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/c19.cards%20reference%20implementation/near/234695917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Printz <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html#234695917">(Apr 15 2021 at 15:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span>  Connection and fetching is successful. When I run my QRs through the MS Validator though, I do notice the following warnings:<br>
├─ Warning :<br>
| key[7rIUtD5K5Izrptr3ywgESTxhgJtJSeb06V42hg7WUDs]: wrong algorithm in issuer key. expected: 'ES256', actual: ECDH-ES<br>
| key[7rIUtD5K5Izrptr3ywgESTxhgJtJSeb06V42hg7WUDs]: wrong usage in issuer key. expected: 'sig', actual: enc<br>
└─ Warning :<br>
Bundle.entry[1].resource[Immunization] should not include .meta elements</p>



<a name="234697532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/c19.cards%20reference%20implementation/near/234697532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Printz <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html#234697532">(Apr 15 2021 at 15:24)</a>:</h4>
<p><em>Removing dupe</em></p>



<a name="234703420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/c19.cards%20reference%20implementation/near/234703420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html#234703420">(Apr 15 2021 at 15:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="404889">Matt Printz</span> <a href="#narrow/stream/284830-CARIN-April.20'21.20Connectathon.20-.20SHC.20-.20.20Track/topic/c19.2Ecards.20reference.20implementation/near/234695917">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191315">Josh Mandel</span>  Connection and fetching is successful. When I run my QRs through the MS Validator though, I do notice the following warnings:<br>
├─ Warning :<br>
| key[7rIUtD5K5Izrptr3ywgESTxhgJtJSeb06V42hg7WUDs]: wrong algorithm in issuer key. expected: 'ES256', actual: ECDH-ES<br>
| key[7rIUtD5K5Izrptr3ywgESTxhgJtJSeb06V42hg7WUDs]: wrong usage in issuer key. expected: 'sig', actual: enc<br>
└─ Warning :<br>
Bundle.entry[1].resource[Immunization] should not include .meta elements</p>
</blockquote>
<p>The validation SDK warns if some keys in the issuer JWK key set are not valid to issue health cards; it's ok to have them in the key set as long as the correct one is in there as well, but we warn about it anyway to be explicit. The spec only allows <code>meta.security</code>as of v0.4.4 (released yesterday), the latest SDK version accepts these as well; make sure you have the latest version.</p>



<a name="234708152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/c19.cards%20reference%20implementation/near/234708152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Kizer <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html#234708152">(Apr 15 2021 at 16:24)</a>:</h4>
<p>No, we're not depending on those. Thanks for checking</p>



<a name="234712361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/c19.cards%20reference%20implementation/near/234712361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Printz <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html#234712361">(Apr 15 2021 at 16:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> I'm getting FHIR validation errors on one of the cards returned:</p>
<p>Via Python:<br>
Wrong type &lt;class 'fhirclient.models.fhirreference.FHIRReference'&gt; for list property "performer" on &lt;class 'fhirclient.models.diagnosticreport.DiagnosticReport'&gt;, expecting a list of &lt;class 'fhirclient.models.fhirreference.FHIRReference'&gt;</p>
<p>Via the MS Validator:<br>
                     └─ Error : <br>
                          Schema: {"keyword":"type","dataPath":"/performer","schemaPath":"#/properties/performer/type","params":{"type":"array"},"message":"should be array"}</p>
<p>Data:<br>
              "performer": {<br>
                "display": "Dr. Jones"<br>
              },</p>



<a name="234714870"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/c19.cards%20reference%20implementation/near/234714870" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html#234714870">(Apr 15 2021 at 17:02)</a>:</h4>
<p>Thanks for this note! Been so focused on immunizations that I haven't given the diagnostic reports a proper validation. Will fix.</p>



<a name="234723088"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/c19.cards%20reference%20implementation/near/234723088" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/c19.2Ecards.20reference.20implementation.html#234723088">(Apr 15 2021 at 17:52)</a>:</h4>
<p>Just merged a fix; should be deployed in ~5min</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
