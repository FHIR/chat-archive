---
layout: page
title: "FHIR Chat  · generating QR code (compression) · smart/health-cards"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/index.html">smart/health-cards</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html">generating QR code (compression)</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="234743484"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234743484" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Agnes <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234743484">(Apr 15 2021 at 20:03)</a>:</h4>
<p>I am following the instructions in "Creating a QR code (or a set of QR codes) from a Health Card JWS"  to encode characters into bytes to generate a string that looks like "shc:/5676295953265460346029254077280433602870286567675422280928623725376028702864716745222..."</p>
<p>My problem is the new QR code is larger than the original.  How should I pass the new string to the QR code generator so that it treats it as numeric instead of alpha-numeric?  I am happy to use a different C# QR generator if needed.</p>
<p>QR generator = <a href="https://github.com/codebude/QRCoder/">https://github.com/codebude/QRCoder/</a><br>
 Implementation ref =  <a href="https://github.com/smart-on-fhir/health-cards/blob/main/docs/index.md#creating-a-qr-code-or-a-set-of-qr-codes-from-a-health-card-jws">https://github.com/smart-on-fhir/health-cards/blob/main/docs/index.md#creating-a-qr-code-or-a-set-of-qr-codes-from-a-health-card-jws</a></p>



<a name="234745386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234745386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234745386">(Apr 15 2021 at 20:16)</a>:</h4>
<p>reading through the source in that QR Code Generation library, it looks like it should set the encoding to <code>numeric</code> if you pass it a purely numeric (aka only characters <code>0-9</code>) and you don't force UTF-8: <a href="https://github.com/codebude/QRCoder/blob/37ec9a44724c5b3a5ad53108d374dd5b665d0e53/QRCoder/QRCodeGenerator.cs#L881">https://github.com/codebude/QRCoder/blob/37ec9a44724c5b3a5ad53108d374dd5b665d0e53/QRCoder/QRCodeGenerator.cs#L881</a></p>



<a name="234745446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234745446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234745446">(Apr 15 2021 at 20:17)</a>:</h4>
<p>So my guess is that the <code>shc:/</code> at the beginning is forcing it into alphanumeric</p>



<a name="234745954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234745954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234745954">(Apr 15 2021 at 20:20)</a>:</h4>
<p>Ah, it looks like the way it should work is that you do more than 1 segment to the QR code. One segment is just <code>shc:/</code> plus any chunk metadata (aka <code>1/2/</code>) if this is chunk 1 of 2</p>



<a name="234746008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234746008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234746008">(Apr 15 2021 at 20:20)</a>:</h4>
<p>That segment is byte-encoded. Then the second segment, with the JWS data, is numeric-encoded</p>



<a name="234746453"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234746453" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234746453">(Apr 15 2021 at 20:24)</a>:</h4>
<p>You'd have to figure out how to encode a QR code with multiple data segments in that C# library. A cursory glance doesn't show any way to do so with that particular library, but I may have missed something</p>



<a name="234747618"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234747618" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Reece Adamson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234747618">(Apr 15 2021 at 20:31)</a>:</h4>
<p>This is an example of a Javascript library that supports segments with different modes: <a href="https://www.npmjs.com/package/qrcode#manual-mode">https://www.npmjs.com/package/qrcode#manual-mode</a></p>



<a name="234749202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234749202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Agnes <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234749202">(Apr 15 2021 at 20:42)</a>:</h4>
<p>@_<strong>Michael O&#39;Keefe|191647</strong> <a href="#narrow/stream/179166-implementers/topic/generating.20QR.20code.20.28compression.29/near/234746453">said</a>:</p>
<blockquote>
<p>You'd have to figure out how to encode a QR code with multiple data segments in that C# library. A cursory glance doesn't show any way to do so with that particular library, but I may have missed something</p>
</blockquote>
<p>is there a library in c# that you prefer?</p>
<p>sorry just saw reply from Reece...</p>



<a name="234749345"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234749345" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234749345">(Apr 15 2021 at 20:43)</a>:</h4>
<p>This topic was moved here from <a class="stream-topic" data-stream-id="179166" href="/#narrow/stream/179166-implementers/topic/generating.20QR.20code.20.28compression.29">#implementers &gt; generating QR code (compression)</a> by <span class="user-mention silent" data-user-id="191315">Josh Mandel</span></p>



<a name="234751513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234751513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234751513">(Apr 15 2021 at 20:59)</a>:</h4>
<p>Unfortunately I don't have much experience with C#, so I'm not sure really</p>



<a name="234752284"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234752284" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael O&#x27;Keefe <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234752284">(Apr 15 2021 at 21:02)</a>:</h4>
<p>There might be a way to make that QR code generator use multiple segments, if you can pre-generate the final bitstring and pass it to the low-level generateQRCode method: <a href="https://github.com/codebude/QRCoder/blob/49d5b35e186437c086de152f50a0c7348f7c84cc/QRCoder/QRCodeGenerator.cs#L184">https://github.com/codebude/QRCoder/blob/49d5b35e186437c086de152f50a0c7348f7c84cc/QRCoder/QRCodeGenerator.cs#L184</a></p>



<a name="234754432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234754432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234754432">(Apr 15 2021 at 21:10)</a>:</h4>
<p><a href="https://github.com/manuelbl/QrCodeGenerator">https://github.com/manuelbl/QrCodeGenerator</a> looks like a library that has multi-segment support</p>



<a name="234754831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234754831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234754831">(Apr 15 2021 at 21:12)</a>:</h4>
<p>the <a href="https://codecrete.net/QrCodeGenerator/api/Net.Codecrete.QrCodeGenerator.QrSegmentAdvanced.html#Net_Codecrete_QrCodeGenerator_QrSegmentAdvanced_MakeSegmentsOptimally_System_String_Net_Codecrete_QrCodeGenerator_QrCode_Ecc_System_Int32_System_Int32_"><code>MakeSegmentsOptimally</code></a> fn may work out of the box, or else you can manually pass in an array of segments, which is probably more reliable</p>



<a name="234769274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234769274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Agnes <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234769274">(Apr 15 2021 at 23:13)</a>:</h4>
<p>Thanks for the help everyone!  using <a href="https://github.com/manuelbl/QrCodeGenerator">https://github.com/manuelbl/QrCodeGenerator</a> worked great.  The test app seems happy with the results:</p>
<p>~/projects/smarthealthcard/health-cards-validation-SDK-0.4.4-1 <span aria-label="check" class="emoji emoji-2705" role="img" title="check">:check:</span> node . --path devmale.png --type qr<br>
SMART Health Card Validation SDK v0.4.4-1<br>
(node:9882) ExperimentalWarning: The dns.promises API is experimental<br>
(node:9882) ExperimentalWarning: The fs.promises API is experimental<br>
(node:9882) ExperimentalWarning: Readable[Symbol.asyncIterator] is an experimental feature. This feature could change at any time<br>
QR image<br>
     |<br>
    QR numeric<br>
         |<br>
        JWS-compact<br>
             |<br>
            JWS.payload<br>
                 |<br>
                FhirBundle<br>
NOTE: the SDK v0.4.4-1 is not validating the latest version of the spec: v0.4.5<br>
Validation completed</p>
<p><a href="/user_uploads/10155/sCNc0nrBhoyP8r3qFWkmKMSg/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/sCNc0nrBhoyP8r3qFWkmKMSg/image.png" title="image.png"><img src="/user_uploads/10155/sCNc0nrBhoyP8r3qFWkmKMSg/image.png"></a></div>



<a name="234769646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234769646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Agnes <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234769646">(Apr 15 2021 at 23:16)</a>:</h4>
<p>my pixel 4xl phone can't scan QR anymore... is this normal?  (probably because of segments &amp; numeric)</p>



<a name="234771523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234771523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234771523">(Apr 15 2021 at 23:35)</a>:</h4>
<blockquote>
<p>Brian Agnes: my pixel 4xl phone can't scan QR anymore... is this normal? (probably because of segments &amp; numeric)</p>
</blockquote>
<p>That doesn't sound normal!</p>



<a name="234771825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234771825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234771825">(Apr 15 2021 at 23:38)</a>:</h4>
<p>I can scan this from my android phone's built-in camera app</p>



<a name="234771882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234771882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234771882">(Apr 15 2021 at 23:39)</a>:</h4>
<p>(though I can't validate the Health Card because there's no <a href="https://mychartpoc.uchealth.org/.well-known/jwks.json">https://mychartpoc.uchealth.org/.well-known/jwks.json</a>)</p>



<a name="234772030"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234772030" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234772030">(Apr 15 2021 at 23:40)</a>:</h4>
<p>Also note that you have extra data beyond the "DM" profile in there (the recommendation is to remove Location and populate Immunization.performer.actor.display)</p>



<a name="234891820"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234891820" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Agnes <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234891820">(Apr 16 2021 at 17:26)</a>:</h4>
<p>yes, that is an internal server for us.  It will eventually move to  <a href="https://mychart.uchealth.org/.well-known/jwks.json">https://mychart.uchealth.org/.well-known/jwks.json</a></p>



<a name="234902712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234902712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Agnes <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234902712">(Apr 16 2021 at 18:45)</a>:</h4>
<p>Does this look like it follows all of the DM (whitespace added for readability (and removed by chat))</p>
<p>{"iss":"https://mychartpoc.uchealth.org","nbf":1618597458,"vc":{<br>
    "@context":["https://www.w3.org/2018/credentials/v1"],<br>
    "type":["VerifiableCredential","https://smarthealth.cards#covid19","https://smarthealth.cards#health-card","https://smarthealth.cards#immunization"],<br>
    "credentialSubject":{"fhirVersion":"4.0.1","fhirBundle":{<br>
        "resourceType":"Bundle",<br>
        "type":"collection",<br>
        "entry":[<br>
            {"fullUrl":"resource:0","resource":{<br>
                "resourceType":"Patient",<br>
                "name":[{"family":"Dev","given":["Male"]}],<br>
                "birthDate":"1945-02-01"<br>
            }},<br>
            {"fullUrl":"resource:1","resource":{<br>
                "resourceType":"Immunization",<br>
                "status":"completed",<br>
                "vaccineCode":{"coding":[{"system":"http://hl7.org/fhir/sid/cvx","code":"207"}]},<br>
                "patient":{"reference":"resource:0"},<br>
                "occurrenceDateTime":"2021-01-13",<br>
                "performer":{"actor":{"display":"University of Colorado Hospital - Aurora"}},<br>
                "lotNumber":"13355"<br>
            }},<br>
            {"fullUrl":"resource:2","resource":{<br>
                "resourceType":"Immunization",<br>
                "status":"completed",<br>
                "vaccineCode":{"coding":[{"system":"http://hl7.org/fhir/sid/cvx","code":"207"}]},<br>
                "patient":{"reference":"resource:0"},<br>
                "occurrenceDateTime":"2021-03-17",<br>
                "performer":{"actor":{"display":"University of Colorado Hospital - Aurora"}},<br>
                "lotNumber":"EH5678"<br>
            }}<br>
        ]<br>
    }}<br>
}}</p>



<a name="234903141"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234903141" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234903141">(Apr 16 2021 at 18:48)</a>:</h4>
<p>It gets full marks from the Josh-visual-inspection test suite!</p>



<a name="234903180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/234903180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#234903180">(Apr 16 2021 at 18:49)</a>:</h4>
<p>(I should add some sort of caveat about being sleep deprived ;-))</p>



<a name="235192947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235192947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235192947">(Apr 19 2021 at 14:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="403800">Brian Agnes</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/generating.20QR.20code.20.28compression.29/near/234902712">said</a>:</p>
<blockquote>
<p>Does this look like it follows all of the DM (whitespace added for readability (and removed by chat))</p>
</blockquote>
<p>Passing this through the <a href="https://github.com/microsoft/health-cards-validation-SDK">validation SDK</a>, I get this warning:</p>
<div class="codehilite"><pre><span></span><code>JWS.payload.vc shouldn&#39;t have a @context property
</code></pre></div>
<p>(new change in v0.4.5), and this error:</p>
<div class="codehilite"><pre><span></span><code>Schema: {&quot;instancePath&quot;:&quot;/performer&quot;,&quot;schemaPath&quot;:&quot;#/properties/performer/type&quot;,&quot;keyword&quot;:&quot;type&quot;,&quot;params&quot;:{&quot;type&quot;:&quot;array&quot;},&quot;message&quot;:&quot;must be array&quot;}
</code></pre></div>
<p>so I think the <code>"performer"</code> value should be wrapped in an array: <code>"performer":[{"actor":{"display":"University of Colorado Hospital - Aurora"}}],</code></p>



<a name="235203144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235203144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235203144">(Apr 19 2021 at 15:46)</a>:</h4>
<p>Yep! (This is why visual inspection isn't our primary methodology ;-))</p>



<a name="235272399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235272399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Abbie Watson <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235272399">(Apr 20 2021 at 00:53)</a>:</h4>
<p><span class="user-mention silent" data-user-id="197651">Reece Adamson</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/generating.20QR.20code.20.28compression.29/near/234747618">said</a>:</p>
<blockquote>
<p>This is an example of a Javascript library that supports segments with different modes: <a href="https://www.npmjs.com/package/qrcode#manual-mode">https://www.npmjs.com/package/qrcode#manual-mode</a></p>
</blockquote>
<p>Great find!!</p>



<a name="235568048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235568048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Agnes <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235568048">(Apr 21 2021 at 19:31)</a>:</h4>
<p>thanks for all your help!  I corrected the errors you found.</p>
<p><a href="/user_uploads/10155/CO0I4mqLoPxCYHpBGGheU83H/devmale.png">devmale.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/CO0I4mqLoPxCYHpBGGheU83H/devmale.png" title="devmale.png"><img src="/user_uploads/10155/CO0I4mqLoPxCYHpBGGheU83H/devmale.png"></a></div><p>{"iss":"https://mychartpoc.uchealth.org","nbf":1619033340,"vc":{"type":["VerifiableCredential","https://smarthealth.cards#covid19","https://smarthealth.cards#health-card","https://smarthealth.cards#immunization"],"credentialSubject":{"fhirVersion":"4.0.1","fhirBundle":<br>
{"resourceType":"Bundle","type":"collection","entry":[</p>
<p>{"fullUrl":"resource:0","resource":{"resourceType":"Patient","name":[{"family":"Dev","given":["Male"]}],"birthDate":"1945-02-01"}},</p>
<p>{"fullUrl":"resource:1","resource":{"resourceType":"Immunization","status":"completed","vaccineCode":{"coding":[{"system":"http://hl7.org/fhir/sid/cvx","code":"207"}]},"patient":{"reference":"resource:0"},"occurrenceDateTime":"2021-01-13","performer":[{"actor":{"display":"University of Colorado Hospital - Aurora"}}],"lotNumber":"13355"}},</p>
<p>{"fullUrl":"resource:2","resource":{"resourceType":"Immunization","status":"completed","vaccineCode":{"coding":[{"system":"http://hl7.org/fhir/sid/cvx","code":"207"}]},"patient":{"reference":"resource:0"},"occurrenceDateTime":"2021-03-17","performer":[{"actor":{"display":"University of Colorado Hospital - Aurora"}}],"lotNumber":"EH5678"}}]}}}}</p>



<a name="235569065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235569065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235569065">(Apr 21 2021 at 19:38)</a>:</h4>
<p>Nice!</p>



<a name="235918179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235918179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Viars <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235918179">(Apr 23 2021 at 22:27)</a>:</h4>
<p>Ive been working on improving my SHC implementation.  Here is a link that contains my SHC.  <a href="https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583">https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583</a>   What is the best way to verify it.  I guess now that I have all the pieces in place it can be verified with the node.js tool?</p>



<a name="235919501"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235919501" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235919501">(Apr 23 2021 at 22:43)</a>:</h4>
<p>That'd be a great step. You can also run the FHIR validator per <a href="https://smarthealth.cards/#what-testing-tools-are-available-to-validate-smart-health-cards-implementations">https://smarthealth.cards/#what-testing-tools-are-available-to-validate-smart-health-cards-implementations</a></p>



<a name="235919888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235919888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Viars <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235919888">(Apr 23 2021 at 22:47)</a>:</h4>
<p>I'm just getting tripped up on the SDK tool.  Im not sure what im doing is right or not, but I'm getting errors.  Seems to be finding this now: <a href="https://id.verifymyidentity.com/.well-known/jwks.json">https://id.verifymyidentity.com/.well-known/jwks.json</a>  Here is what I'm getting.<br>
<a href="/user_uploads/10155/8lKvlnk1CIdS6bbEcfxgD2yG/Screen-Shot-2021-04-23-at-6.46.59-PM.png">Screen-Shot-2021-04-23-at-6.46.59-PM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/8lKvlnk1CIdS6bbEcfxgD2yG/Screen-Shot-2021-04-23-at-6.46.59-PM.png" title="Screen-Shot-2021-04-23-at-6.46.59-PM.png"><img src="/user_uploads/10155/8lKvlnk1CIdS6bbEcfxgD2yG/Screen-Shot-2021-04-23-at-6.46.59-PM.png"></a></div>



<a name="235920189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235920189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Viars <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235920189">(Apr 23 2021 at 22:50)</a>:</h4>
<p>Im using <span class="user-mention" data-user-id="365368">@James Kizer</span>  code to generate the JWKS and to do the encoding/signing.  I'm attempting to use the Node.js by <span class="user-mention" data-user-id="385047">@Christian Paquin</span>  to decode/validate.  There is a high probability these both work just fine and I'm doing something wrong.  Any help is greatly appreciated.</p>



<a name="235920823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235920823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235920823">(Apr 23 2021 at 22:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="391350">Alan Viars</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/generating.20QR.20code.20.28compression.29/near/235920189">said</a>:</p>
<blockquote>
<p>Any help is greatly appreciated.</p>
</blockquote>
<p>Can you share an updated QR image?</p>



<a name="235921534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/235921534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#235921534">(Apr 23 2021 at 23:06)</a>:</h4>
<p><a href="https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583">https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583</a> has one</p>



<a name="236009441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236009441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236009441">(Apr 24 2021 at 21:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="391350">Alan Viars</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/generating.20QR.20code.20.28compression.29/near/235920189">said</a>:</p>
<blockquote>
<p>Any help is greatly appreciated.</p>
</blockquote>
<p>Ok, ran the SDK on the QR, I get the same output as you. The first set of warnings/errors related to the key identifiers (<code>kid</code>) of the issuer keys; the spec mandates that they are the hash of their crypto values, rather than an application-specific value (like your "<a href="http://id.verifymyidentity.com">id.verifymyidentity.com</a>"); see <a href="https://smarthealth.cards/#determining-keys-associated-with-an-issuer">this section</a> of the spec. You can ignore the warnings about the wrong algorithm and key type; these relate to the encryption key in the key set; it's ok to be present in the set (although not used by SMART health cards), but the SDK warns about them for completeness.</p>
<p>One warning is about the extra <code>@context</code> in the <a href="http://JWS.vc">JWS.vc</a>; this has been removed in <a href="https://smarthealth.cards/changelog/#045">v0.4.5 of the spec</a>.</p>
<p>The schema error in the fhir bundle relates to the occurrence date for <code>resource:1</code>; it should be YYYY-MM-DD, so you either flipped the MM and DD in "2021-22-01", or it's a typo (probably the latter, because the 2nd dose's date is ok).</p>



<a name="236009762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236009762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236009762">(Apr 24 2021 at 21:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="385047">Christian Paquin</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/generating.20QR.20code.20.28compression.29/near/236009441">said</a>:</p>
<blockquote>
<p>The first set of warnings/errors related to the key identifiers (<code>kid</code>) of the issuer keys; the spec mandates that they are the hash of their crypto values, rather than an application-specific value (like your "<a href="http://id.verifymyidentity.com">id.verifymyidentity.com</a>"); see <a href="https://smarthealth.cards/#determining-keys-associated-with-an-issuer">this section</a> of the spec.</p>
</blockquote>
<p>FYI <span class="user-mention" data-user-id="365368">@James Kizer</span>, since Alan said he used your code to generate the JWKS; just wanted point to the <code>kid</code> issue he faced.</p>



<a name="236404102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236404102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Viars <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236404102">(Apr 27 2021 at 20:39)</a>:</h4>
<p>I modified those <code>kid</code> values, so <span class="user-mention" data-user-id="365368">@James Kizer</span>  code may be just fine.  Let me have another go at it <span class="user-mention" data-user-id="385047">@Christian Paquin</span></p>



<a name="236405464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236405464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236405464">(Apr 27 2021 at 20:48)</a>:</h4>
<p><span class="user-mention silent" data-user-id="391350">Alan Viars</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/generating.20QR.20code.20.28compression.29/near/236404102">said</a>:</p>
<blockquote>
<p>I modified those <code>kid</code> values, so <span class="user-mention silent" data-user-id="365368">James Kizer</span>  code may be just fine.  Let me have another go at it <span class="user-mention silent" data-user-id="385047">Christian Paquin</span></p>
</blockquote>
<p>Having the <code>kid</code> values being the hash digest of the key values provide a secure fingerprint which prevents an attacker from swapping keys or pretending to be the issuer.</p>



<a name="236499040"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236499040" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Viars <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236499040">(Apr 28 2021 at 12:39)</a>:</h4>
<p><span class="user-mention" data-user-id="385047">@Christian Paquin</span>   Is this looking better ? <a href="https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583">https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583</a></p>
<p>Here is what I'm getting. It looks better but still saying JWS Validation failed. <a href="user_uploads/10155/Ppp7Bj6sGfVFJbAnd3hXISRn/Screen-Shot-2021-04-28-at-8.43.37-AM.png">Screen-Shot-2021-04-28-at-8.43.37-AM.png</a></p>
<div class="message_inline_image"><a href="user_uploads/10155/Ppp7Bj6sGfVFJbAnd3hXISRn/Screen-Shot-2021-04-28-at-8.43.37-AM.png" title="Screen-Shot-2021-04-28-at-8.43.37-AM.png"><img src="user_uploads/10155/Ppp7Bj6sGfVFJbAnd3hXISRn/Screen-Shot-2021-04-28-at-8.43.37-AM.png"></a></div>



<a name="236507163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236507163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236507163">(Apr 28 2021 at 13:33)</a>:</h4>
<p><span class="user-mention silent" data-user-id="391350">Alan Viars</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/generating.20QR.20code.20.28compression.29/near/236499040">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="385047">Christian Paquin</span>   Is this looking better ? <a href="https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583">https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583</a></p>
</blockquote>
<p>I get the same. I'll trace into the validation tool to see if I can more info...</p>



<a name="236519412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236519412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Viars <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236519412">(Apr 28 2021 at 14:47)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="385047">@Christian Paquin</span>   Here is my JWKS <a href="https://id.verifymyidentity.com/.well-known/jwks.json">https://id.verifymyidentity.com/.well-known/jwks.json</a> i think its still the kid.</p>



<a name="236520888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236520888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236520888">(Apr 28 2021 at 14:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="391350">Alan Viars</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/generating.20QR.20code.20.28compression.29/near/236519412">said</a>:</p>
<blockquote>
<p>Thanks <span class="user-mention silent" data-user-id="385047">Christian Paquin</span>   Here is my JWKS <a href="https://id.verifymyidentity.com/.well-known/jwks.json">https://id.verifymyidentity.com/.well-known/jwks.json</a> i think its still the kid.</p>
</blockquote>
<p>I think the key is ok; validation code can find and use it. I just tried validating the JWS with a different module (<code>jose</code>) than the one used in the SDK (<code>node-jose</code>), to see if I'd get a clearer error message: no luck, same invalid signature. Crypto errors are hard to debug, any modification to headers or payload after signing will result in an invalid signature. Was that the case? I noticed the <code>"typ":"JWT"</code> header in the JWS, not specified in the spec. Was that added post-signing by some encoding code? Can you share the code snippet used to generate the JWS, it'd be helpful to pinpoint the issue.</p>



<a name="236521475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236521475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236521475">(Apr 28 2021 at 14:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="391350">Alan Viars</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/generating.20QR.20code.20.28compression.29/near/236519412">said</a>:</p>
<blockquote>
<p>Thanks <span class="user-mention silent" data-user-id="385047">Christian Paquin</span>   Here is my JWKS <a href="https://id.verifymyidentity.com/.well-known/jwks.json">https://id.verifymyidentity.com/.well-known/jwks.json</a> i think its still the kid.</p>
</blockquote>
<p>And of course, as I mentioned before, the key warning is about the encryption key in the JWKS. This is ok for the spec, but I recommend removing it from the file as 1) it's not needed for SMART health card processing, and 2) it might confuse fragile verifier implementations.</p>



<a name="236521739"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236521739" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Viars <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236521739">(Apr 28 2021 at 15:00)</a>:</h4>
<p><span class="user-mention" data-user-id="385047">@Christian Paquin</span>   yes...just a minute.. Maybe i've fixed it.  Need to merge PR and deploy updates.  I</p>



<a name="236524063"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236524063" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Viars <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236524063">(Apr 28 2021 at 15:08)</a>:</h4>
<p><span class="user-mention" data-user-id="385047">@Christian Paquin</span>   I'm pretty sure i fixed it.  I should remove those use=enc from both pub/private right?  It was the code where i signed.<br>
<a href="https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583">https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583</a>  Is this looking right to you now?</p>



<a name="236532500"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236532500" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Paquin <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236532500">(Apr 28 2021 at 15:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="391350">Alan Viars</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/generating.20QR.20code.20.28compression.29/near/236524063">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="385047">Christian Paquin</span>   I'm pretty sure i fixed it.  I should remove those use=enc from both pub/private right?  It was the code where i signed.<br>
<a href="https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583">https://id.verifymyidentity.com/smart-health-cards/psi/197330163473583</a>  Is this looking right to you now?</p>
</blockquote>
<p>Yes, new QR works! And yes, you can just delete the JWK with <code>use=enc</code> from your private and public sets.</p>



<a name="236555530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236555530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Viars <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236555530">(Apr 28 2021 at 18:27)</a>:</h4>
<p>Working now with no warnings or errors. <span class="user-mention" data-user-id="385047">@Christian Paquin</span> <a href="/user_uploads/10155/LFrqNSo9yJFghbxKktDVHIU1/Screen-Shot-2021-04-28-at-2.23.40-PM.png">Screen-Shot-2021-04-28-at-2.23.40-PM.png</a>   I'm still using <span class="user-mention" data-user-id="365368">@James Kizer</span>  's utilities to generate the keyset, but stripping out anything that is not a <code>use=sig</code>.  Thanks so much for your help!</p>
<div class="message_inline_image"><a href="/user_uploads/10155/LFrqNSo9yJFghbxKktDVHIU1/Screen-Shot-2021-04-28-at-2.23.40-PM.png" title="Screen-Shot-2021-04-28-at-2.23.40-PM.png"><img src="/user_uploads/10155/LFrqNSo9yJFghbxKktDVHIU1/Screen-Shot-2021-04-28-at-2.23.40-PM.png"></a></div>



<a name="236555583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/generating%20QR%20code%20%28compression%29/near/236555583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alan Viars <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/generating.20QR.20code.20(compression).html#236555583">(Apr 28 2021 at 18:27)</a>:</h4>
<p><span class="user-mention" data-user-id="365368">@James Kizer</span> maybe you saw my PR's that make your tools pip installable.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
