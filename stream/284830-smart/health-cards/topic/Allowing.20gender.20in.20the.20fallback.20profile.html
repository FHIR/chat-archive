---
layout: page
title: "FHIR Chat  · Allowing gender in the fallback profile · smart/health-cards"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/index.html">smart/health-cards</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html">Allowing gender in the fallback profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="263867301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/263867301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#263867301">(Dec 06 2021 at 15:34)</a>:</h4>
<p>I’ve done a draft implementation based on our discussion last week at the PHWG con call about allowing gender in the fallback patient profile: <a href="http://build.fhir.org/ig/HL7/fhir-shc-vaccination-ig/branches/gender/StructureDefinition-shc-patient-general-ad.html">http://build.fhir.org/ig/HL7/fhir-shc-vaccination-ig/branches/gender/StructureDefinition-shc-patient-general-ad.html</a></p>
<p>This includes a few changes:</p>
<ul>
<li>Making <code>gender</code> <code>0..1</code> in the fallback general profile</li>
<li>The fallback US patient profile inherits from the general one, so I had to explicitly set <code>gender</code> to <code>0..0</code> in there</li>
<li>Adding some strong warnings about not including <code>gender</code> unless required by law to the <code>definition</code> and <code>comment</code> on <code>gender</code></li>
<li>Separating our existing discussion in the general narrative about privacy into a separate “privacy by design” section to make our intent clearer</li>
</ul>



<a name="263867526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/263867526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#263867526">(Dec 06 2021 at 15:35)</a>:</h4>
<p>You can see what changed in this commit: <a href="https://github.com/HL7/fhir-shc-vaccination-ig/commit/333eeb2d1ee7b433011bc6ea34a8dcc4a2899312">https://github.com/HL7/fhir-shc-vaccination-ig/commit/333eeb2d1ee7b433011bc6ea34a8dcc4a2899312</a></p>
<p>I’ll make a pull request for this later today (pending some tangential git cleanup)</p>



<a name="263868079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/263868079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#263868079">(Dec 06 2021 at 15:38)</a>:</h4>
<p>Note that we are running into a weird IG publisher bug that is causing these sorts of errors: <code>The link 'StructureDefinition-shc-covid19-laboratory-result-observation-ad.html/profiles.html#data-minimization-and-privacy' for "data minimization reasons" cannot be resolved</code> — for some reason it is adding an additional file name to the rendering of Markdown links like <code>[data minimization reasons](profiles.html#data-minimization-and-privacy)</code> in the <code>definition</code>. So those links are broken in the built IG until the publisher is fixed (or someone can tell me what I’m doing wrong if it’s not a publisher bug)</p>
<p>I reported it as part of <a href="https://github.com/HL7/fhir-ig-publisher/issues/245">https://github.com/HL7/fhir-ig-publisher/issues/245</a> as it seems to be related.</p>



<a name="263872405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/263872405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#263872405">(Dec 06 2021 at 16:06)</a>:</h4>
<p>One possible issue that I thought of when working on this: it’s possible someone may be presenting as a gender different than their administrative gender in their SHC. This is one of the reasons I made the changes to emphasize “privacy by design” — it’s an example of how including information that’s not strictly necessary can harm privacy.</p>



<a name="263872487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/263872487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#263872487">(Dec 06 2021 at 16:06)</a>:</h4>
<p>Along these lines, we should try to ensure that wallet apps display <code>gender</code> if it’s included in the SHC.</p>



<a name="263951918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/263951918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#263951918">(Dec 07 2021 at 02:34)</a>:</h4>
<blockquote>
<p>it’s possible someone may be presenting as a gender different than their administrative gender in their SHC</p>
</blockquote>
<p>Indeed, but if working in a jurisdiction that requires gender, it won't just be in SHC, it'll be everywhere, and a regular occurance</p>



<a name="263952025"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/263952025" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#263952025">(Dec 07 2021 at 02:36)</a>:</h4>
<blockquote>
<p>Note that we are running into a weird IG publisher bug that is causing these sorts of errors</p>
</blockquote>
<p>I can't reproduce this - I just get a number of these: </p>
<blockquote>
<p>The link 'profiles.html#data-minimization' for "More information on the two types of profiles"</p>
</blockquote>
<p>because you changed the anchor (presumably)</p>



<a name="264043893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/264043893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#264043893">(Dec 07 2021 at 17:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/284830-smart.2Fhealth-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile/near/263951918">said</a>:</p>
<blockquote>
<blockquote>
<p>it’s possible someone may be presenting as a gender different than their administrative gender in their SHC</p>
</blockquote>
<p>Indeed, but if working in a jurisdiction that requires gender, it won't just be in SHC, it'll be everywhere, and a regular occurance</p>
</blockquote>
<p>Yeah, it's going to be a much bigger problem in jurisdictions that require gender. This is more of an argument for the "SHALL NOT include gender UNLESS legally required" conformance guidelines.</p>



<a name="264044445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/264044445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#264044445">(Dec 07 2021 at 18:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <a href="http://build.fhir.org/ig/HL7/fhir-shc-vaccination-ig/branches/gender/StructureDefinition-shc-patient-general-ad-definitions.html#Patient.gender">http://build.fhir.org/ig/HL7/fhir-shc-vaccination-ig/branches/gender/StructureDefinition-shc-patient-general-ad-definitions.html#Patient.gender</a> shows the old bug (relative links become links to <code>http://hl7.org/fhir/R4/index.html#privacy-by-design</code> rather than just <code>index.html#privacy-by-design</code>)</p>



<a name="264044991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/264044991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#264044991">(Dec 07 2021 at 18:04)</a>:</h4>
<p>I think I fixed that one - try next release</p>



<a name="264045198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/264045198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#264045198">(Dec 07 2021 at 18:05)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> this is from the CI build, which is on 1.1.90: <a href="http://build.fhir.org/ig/HL7/fhir-shc-vaccination-ig/branches/gender/build.log">http://build.fhir.org/ig/HL7/fhir-shc-vaccination-ig/branches/gender/build.log</a></p>



<a name="264045324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/264045324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#264045324">(Dec 07 2021 at 18:06)</a>:</h4>
<p>Are you saying that 1.1.91 should fix this?</p>



<a name="264045417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/264045417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#264045417">(Dec 07 2021 at 18:06)</a>:</h4>
<p>I'll try to get <a href="http://build.fhir.org">build.fhir.org</a> to reproduce the other link issue</p>



<a name="264045812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/284830-smart/health-cards/topic/Allowing%20gender%20in%20the%20fallback%20profile/near/264045812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/284830-smart/health-cards/topic/Allowing.20gender.20in.20the.20fallback.20profile.html#264045812">(Dec 07 2021 at 18:09)</a>:</h4>
<p>yes 1.1.91 should fix it</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
