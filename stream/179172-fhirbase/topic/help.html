---
layout: page
title: "FHIR Chat  · help · fhirbase"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/index.html">fhirbase</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html">help</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="159241637"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159241637" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoltan Simon <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159241637">(Feb 23 2019 at 19:10)</a>:</h4>
<p>Is it possible to pass a connection string directly (heroku) to fhirbase or I have to split it up into the variables?</p>



<a name="159320426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159320426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159320426">(Feb 25 2019 at 08:18)</a>:</h4>
<p><span class="user-mention" data-user-id="191332">@Mikhail Lapshin</span> ?</p>



<a name="159324750"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159324750" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mikhail Lapshin <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159324750">(Feb 25 2019 at 09:45)</a>:</h4>
<p><span class="user-mention" data-user-id="209208">@Zoltan Simon</span>  Now you need to split it into discrete parts.</p>



<a name="159327670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159327670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoltan Simon <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159327670">(Feb 25 2019 at 10:37)</a>:</h4>
<p>thx, done it. I was just lazy and asked here first :)</p>



<a name="159327690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159327690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoltan Simon <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159327690">(Feb 25 2019 at 10:38)</a>:</h4>
<p>Yet another question. I have tried to combined  fhirbase + <a href="http://hasura.io" target="_blank" title="http://hasura.io">hasura.io</a> to achieve a GraphQL enabled fhir implementation with zero effort. I have a working PoC but I've realized that fhirbase not really modeling FHIR with fields but Jsonb, so <a href="http://hasura.io" target="_blank" title="http://hasura.io">hasura.io</a> cannot pick up the schema. The queuing is not so convenient (compliant) this way.  Have you done such an experiment?</p>



<a name="159334995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159334995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159334995">(Feb 25 2019 at 13:01)</a>:</h4>
<p>I wrote to <a href="http://hasura.io" target="_blank" title="http://hasura.io">hasura.io</a> guys about jsonb support - let see :)</p>



<a name="159337903"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159337903" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoltan Simon <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159337903">(Feb 25 2019 at 13:46)</a>:</h4>
<p>They support it... I can query the db , It is just not convinient... because the jsonb is "schemeless" ... you cannot write query like this:  </p>
<div class="codehilite"><pre><span></span>{
  patient {
    resource {
      name
    }
  }
}
</pre></div>


<p>you get an error like this:</p>
<div class="codehilite"><pre><span></span>{
  &quot;errors&quot;: [
    {
      &quot;extensions&quot;: {
        &quot;path&quot;: &quot;$.selectionSet.patient.selectionSet.resource&quot;,
        &quot;code&quot;: &quot;validation-failed&quot;
      },
      &quot;message&quot;: &quot;field \&quot;resource\&quot; must not have a selection since type jsonb! has no subfields&quot;
    }
  ]
}
</pre></div>



<a name="159390490"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159390490" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159390490">(Feb 26 2019 at 01:50)</a>:</h4>
<p>have you looked at the published graphql schema?</p>



<a name="159406526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159406526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoltan Simon <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159406526">(Feb 26 2019 at 08:07)</a>:</h4>
<p>You mean from hasura? Or, is there a graphql schema on  the hl7 site?</p>



<a name="159406605"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159406605" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159406605">(Feb 26 2019 at 08:08)</a>:</h4>
<p>It's not schemaless, but the schema is outside database - is there the way to provide a schema to hasura engine?</p>



<a name="159406793"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159406793" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoltan Simon <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159406793">(Feb 26 2019 at 08:12)</a>:</h4>
<p>hmm, I think hasura's promise is to autogenerate the schema from the DB. They have schema stitching, but I think that is something else. I will look into it if I can inject schemas. Are the schemas in the fhirbase/fhirbase repo?</p>



<a name="159406809"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159406809" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159406809">(Feb 26 2019 at 08:13)</a>:</h4>
<p>there is official json schema and some custom metadata in fhirbase</p>



<a name="159406822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159406822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159406822">(Feb 26 2019 at 08:13)</a>:</h4>
<p>in which format hasura expect schema?</p>



<a name="159406964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159406964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoltan Simon <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159406964">(Feb 26 2019 at 08:16)</a>:</h4>
<p>No idea yet... :)  I need to do a little research first... (I am on it) from <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  it sounds fhir already have GraphQL schemas documented. I found one here : <a href="https://github.com/Asymmetrik/graphql-fhir" target="_blank" title="https://github.com/Asymmetrik/graphql-fhir">https://github.com/Asymmetrik/graphql-fhir</a> but there might be more official versions too.</p>



<a name="159407126"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159407126" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159407126">(Feb 26 2019 at 08:20)</a>:</h4>
<p><a href="http://hl7.org/fhir/graphql.html" target="_blank" title="http://hl7.org/fhir/graphql.html">http://hl7.org/fhir/graphql.html</a></p>



<a name="159407354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159407354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoltan Simon <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159407354">(Feb 26 2019 at 08:24)</a>:</h4>
<p>I see this is a spec...how to implement a server ...</p>



<a name="159413197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159413197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Zoltan Simon <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159413197">(Feb 26 2019 at 10:16)</a>:</h4>
<p>So Hasura has an open request on this topic...https://github.com/hasura/graphql-engine/issues/1598 I will test it when it is available.</p>



<a name="159590592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/159590592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#159590592">(Feb 28 2019 at 09:19)</a>:</h4>
<p>I've started a discussion with Hasura - let see</p>



<a name="161673919"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/161673919" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Sanchez <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#161673919">(Mar 25 2019 at 18:37)</a>:</h4>
<p>HI. In the db console of an Aidbox box, is it possible to use the public Api functions of FHIRbase?. For example, I'm trying the query<br>
"SELECT fhir_search ('{" resourceType ":" Patient "," queryString ":" name = smith "}');"<br>
but it throws the following error "ERROR: function fhir_search (unknown) does not exist Hint: No function matches the given name and argument types You might need to add explicit type casts". Can someone tell me what this error is about?</p>



<a name="161682150"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/161682150" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#161682150">(Mar 25 2019 at 20:04)</a>:</h4>
<p>No aidbox is built on top of next version of aidbox, which do this on application level</p>



<a name="161682219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/161682219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#161682219">(Mar 25 2019 at 20:05)</a>:</h4>
<p>If you look at bundle  in REST console after search  - you will see the sql query, which was generated</p>



<a name="161685480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/161685480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Sanchez <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#161685480">(Mar 25 2019 at 20:42)</a>:</h4>
<p>is it possible to connect directly to the PostgresSQL database that Aidbox provides you from some client (e.g pgAdmin) or an external app, I mean without using the REST API? Sorry if this question does not belong to this stream, I did not know where to put it exactly</p>



<a name="161686254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/161686254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#161686254">(Mar 25 2019 at 20:51)</a>:</h4>
<p>We do not yet provide direct connection to Aidbox.Cloud - with Aidbox.One or Enterprise you will have the complete controll on it.  If you want to reverse engeenier little bit - install Aidbox.Dev :) <a href="https://docs.aidbox.app/installation/setup-aidbox.dev" target="_blank" title="https://docs.aidbox.app/installation/setup-aidbox.dev">https://docs.aidbox.app/installation/setup-aidbox.dev</a></p>



<a name="163933825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/163933825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Sanchez <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#163933825">(Apr 22 2019 at 20:13)</a>:</h4>
<p>Hi. I'm looking for denormalize some data that is store in FHIR standar in order to create a relational model  for a Data Warehouse and then doing some analytics. My data source is a database with fhirbase schema. Do you know some articles or something that could point me in the rigth direction? I've been searching about this a lot, but I've couldn't find anything useful yet. Thanks</p>



<a name="163942291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/163942291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#163942291">(Apr 22 2019 at 21:56)</a>:</h4>
<p>I don't know that there's anything FHIR-specific about the problem.  How you denormalize is going to be dependent on the types of queries you want to run in your warehouse...</p>



<a name="163962207"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/163962207" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#163962207">(Apr 23 2019 at 05:05)</a>:</h4>
<p>Hello <span class="user-mention" data-user-id="211915">@Andy Sanchez</span> , first of all you can create flat materialized view.</p>



<a name="163962282"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/163962282" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#163962282">(Apr 23 2019 at 05:07)</a>:</h4>
<p>if you want to move your data to another database, you can use ‘copy to csv’.</p>



<a name="163962356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/163962356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#163962356">(Apr 23 2019 at 05:09)</a>:</h4>
<p>or you can use logical replication to stream changes to analytical database.</p>



<a name="163962371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/163962371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#163962371">(Apr 23 2019 at 05:09)</a>:</h4>
<p>Which is your case?</p>



<a name="163962445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/163962445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#163962445">(Apr 23 2019 at 05:11)</a>:</h4>
<p>In aidbox we are working to make flattening process as declarative as possible.</p>



<a name="163962532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/163962532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#163962532">(Apr 23 2019 at 05:13)</a>:</h4>
<p><a href="https://docs.aidbox.app/api/bulk-api#usddump-sql" target="_blank" title="https://docs.aidbox.app/api/bulk-api#usddump-sql">https://docs.aidbox.app/api/bulk-api#usddump-sql</a></p>



<a name="163962633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/163962633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#163962633">(Apr 23 2019 at 05:15)</a>:</h4>
<p>If you describe what kind of ‘denormalization’ you need - i will add it to example section</p>



<a name="163995324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/163995324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andy Sanchez <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#163995324">(Apr 23 2019 at 14:36)</a>:</h4>
<p>Hello, thanks for the reply. Actually, my case is more related to the mapping between the different FHIR resources and the relational tables, not the tool that I would use to load the data. Something like a specification to perform this mapping. According to Lloyd, there does not seem to be anything like this, it seems that it depends on the specific information that one wants to have in the DW. Anyway thanks guys again.</p>



<a name="164007147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179172-fhirbase/topic/help/near/164007147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179172-fhirbase/topic/help.html#164007147">(Apr 23 2019 at 16:46)</a>:</h4>
<p>Yes FHIR resources could not be flattened without your data nature knowledge. A simple example is a <a href="http://Patient.name" target="_blank" title="http://Patient.name">Patient.name</a> - if you know you only have one official name  you can flatten   <code>SELECT resource#&gt;&gt;{name,0,family} as last, resource#&gt;&gt;{name,0,given,0} as first </code>, but FHIR model is richer - so to 1x1 map it to relations you will get <em>patient_name</em> table and probably <em>patient_name_given</em>  :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
