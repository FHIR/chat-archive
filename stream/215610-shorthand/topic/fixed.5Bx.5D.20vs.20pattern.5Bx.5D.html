---
layout: page
title: "FHIR Chat  · fixed[x] vs pattern[x] · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fixed.5Bx.5D.20vs.20pattern.5Bx.5D.html">fixed[x] vs pattern[x]</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189695102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fixed%5Bx%5D%20vs%20pattern%5Bx%5D/near/189695102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fixed.5Bx.5D.20vs.20pattern.5Bx.5D.html#189695102">(Mar 04 2020 at 14:23)</a>:</h4>
<p>Currently, FSH supports only one symbol for "fixing" values: <code>=</code>.  SUSHI determines whether to use <code>fixed[x]</code> or <code>pattern[x]</code> based on the type that is being fixed.  In short, complex types use <code>pattern[x]</code> and simple types use <code>fixed[x]</code>.  For example (within a Patient profile):</p>
<div class="codehilite"><pre><span></span>* active = true // uses fixedCode since active is a simple type
* maritalStatus = V3MARITALSTATUS#M // uses patternCodeableConcept since maritalStatus is a complex type
</pre></div>


<p>We assume that perhaps authors may want more control over whether <code>fixed[x]</code> or <code>pattern[x]</code> is used.  Should FSH consider using different symbols to specify the author's intent?  If so, consider this proposal:</p>
<ul>
<li><code>=</code> indicates to use <code>pattern[x]</code></li>
<li><code>:=</code> indicates to use <code>fixed[x]</code></li>
</ul>
<p>We chose to keep <code>=</code> for <code>pattern[x]</code> as it is the most backward compatible for common use cases -- and is often the preferred choice.  Even for simple types, many people prefer pattern since it allows for extensions (whereas <code>fixed[x]</code> does not).</p>
<p>This means that the way the previous example is output to StructureDefinition would change.  Now it would be:</p>
<div class="codehilite"><pre><span></span>* active = true // uses patternCode since = was used
* maritalStatus = V3MARITALSTATUS#M // uses patternCodeableConcept since = was used
</pre></div>


<p>To get the same behavior as SUSHI does today, you would need to do:</p>
<div class="codehilite"><pre><span></span>* active := true // uses fixedCode since := was used
* maritalStatus = V3MARITALSTATUS#M // uses patternCodeableConcept since = was used
</pre></div>


<p>Thoughts?</p>



<a name="189725326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fixed%5Bx%5D%20vs%20pattern%5Bx%5D/near/189725326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fixed.5Bx.5D.20vs.20pattern.5Bx.5D.html#189725326">(Mar 04 2020 at 19:22)</a>:</h4>
<blockquote>
<p>We assume that perhaps authors may want more control over whether fixed[x] or pattern[x] is used.</p>
</blockquote>
<p>yes definitely</p>



<a name="189831736"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fixed%5Bx%5D%20vs%20pattern%5Bx%5D/near/189831736" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fixed.5Bx.5D.20vs.20pattern.5Bx.5D.html#189831736">(Mar 05 2020 at 20:16)</a>:</h4>
<p>Well, no one has said they hate the idea or the syntax, so... for now, we'll plan on the approach above.</p>



<a name="189846185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fixed%5Bx%5D%20vs%20pattern%5Bx%5D/near/189846185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fixed.5Bx.5D.20vs.20pattern.5Bx.5D.html#189846185">(Mar 05 2020 at 22:54)</a>:</h4>
<p>+1</p>



<a name="190289341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fixed%5Bx%5D%20vs%20pattern%5Bx%5D/near/190289341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fixed.5Bx.5D.20vs.20pattern.5Bx.5D.html#190289341">(Mar 11 2020 at 14:48)</a>:</h4>
<p>After kicking this around some more, we decided that <code>=</code> vs <code>:=</code> was a little too nuanced (in the syntax) -- and didn't carry over well to instance rules (since pattern doesn't really make sense there).  Instead, we're going to go with an <code>(exactly)</code> qualifier to indicate when something should use <code>fixed[x]</code> rather than <code>pattern[x]</code>.  E.g.:</p>
<div class="codehilite"><pre><span></span>* active = true (exactly) // use fixedBoolean
* maritalStatus = V3MARITALSTATUS#M (exactly) // use fixedCodeableConcept
</pre></div>


<p>This follows a syntax similar to how binding strengths are defined.</p>



<a name="190322697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fixed%5Bx%5D%20vs%20pattern%5Bx%5D/near/190322697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fixed.5Bx.5D.20vs.20pattern.5Bx.5D.html#190322697">(Mar 11 2020 at 19:40)</a>:</h4>
<p>instead of (exactly) how about (fixed) ?</p>



<a name="190326102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fixed%5Bx%5D%20vs%20pattern%5Bx%5D/near/190326102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fixed.5Bx.5D.20vs.20pattern.5Bx.5D.html#190326102">(Mar 11 2020 at 20:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191321">@David Hay</span> -- we considered that, but so far we have used the term "fixed" a bit more loosely than the strict FHIR definition of <code>fixed[x]</code>.  E.g., we talk about "fixing" a code, but we really mean by applying a <code>pattern[x]</code> to it.  If we use keyword <code>(fixed)</code> we might need to come up w/ another way of talking about the general situation of specifying a value that must match.  Perhaps we should do that anyway -- I don't know.  I think we were also thinking that while <code>fixed</code> might mean something very specific to the StructureDefinition experts, <code>exactly</code> might capture the intended meaning better for non-SD-experts authoring or reviewing FSH definitions.</p>



<a name="190326182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fixed%5Bx%5D%20vs%20pattern%5Bx%5D/near/190326182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fixed.5Bx.5D.20vs.20pattern.5Bx.5D.html#190326182">(Mar 11 2020 at 20:15)</a>:</h4>
<p>But we're certainly open to more discussion about it -- and if we go to ballot w/ <code>(exactly)</code> you can of course submit a comment to make sure it gets discussed!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
