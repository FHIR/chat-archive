---
layout: page
title: "FHIR Chat  · extending a polymorphic element · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html">extending a polymorphic element</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="194909297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/194909297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#194909297">(Apr 22 2020 at 09:52)</a>:</h4>
<p>I'm trying to add an extension to a polymorphic element. (Coverage resource)<br>
<code>costToBeneficiary.value[x].extension contains dataAbsentReason named no-value 0..1 MS</code></p>



<a name="194909357"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/194909357" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#194909357">(Apr 22 2020 at 09:52)</a>:</h4>
<p>but if I do so I've a lot of errors back..e.g.<br>
<code>error No element found at path costToBeneficiary.value[x].extension for CoverageItEsensioni, skipping rule</code></p>



<a name="194909436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/194909436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#194909436">(Apr 22 2020 at 09:53)</a>:</h4>
<p>It works properly instead in this case<br>
<code>* costToBeneficiary.valueQuantity.extension contains dataAbsentReason named no-value 0..1 MS</code></p>



<a name="194909588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/194909588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Giorgio Cangioli <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#194909588">(Apr 22 2020 at 09:55)</a>:</h4>
<p>what I'm doing wrong in the first case ? (BTW, I don't want to add in the profile the same extension to each possible type of value[x])</p>



<a name="195075621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/195075621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mint Thompson <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#195075621">(Apr 23 2020 at 15:12)</a>:</h4>
<p>This looks like something that certainly ought to be allowed. The team will investigate to see if there is existing syntax that will allow this, and if not, we will work to implement support for this.</p>



<a name="219137730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/219137730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#219137730">(Dec 07 2020 at 21:01)</a>:</h4>
<p>is there an update on this? I'm still getting the error trying to extend value[x]</p>



<a name="219140783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/219140783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#219140783">(Dec 07 2020 at 21:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> -- can you post a specific example?  I just tested this with the following FSH and it worked fine:</p>
<div class="codehilite"><pre><span></span><code>Alias: DataAbsentReason = http://hl7.org/fhir/StructureDefinition/data-absent-reason

Profile: MyCoverage
Parent: Coverage
* costToBeneficiary.value[x].extension contains DataAbsentReason named no-value 0..1 MS

Profile: MyObservation
Parent: Observation
* value[x].extension contains DataAbsentReason named no-value 0..1 MS
</code></pre></div>



<a name="219141492"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/219141492" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#219141492">(Dec 07 2020 at 21:34)</a>:</h4>
<p>your example works</p>



<a name="219141799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/219141799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#219141799">(Dec 07 2020 at 21:36)</a>:</h4>
<p>oh, i missed the named part. my bad</p>



<a name="219141973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/219141973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#219141973">(Dec 07 2020 at 21:38)</a>:</h4>
<p>the reported error was: <code>No element found at path value[x].extension[http://hl7.org/fhir/StructureDefinition/observation-delta] for Test, skipping rule</code></p>



<a name="219141999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/219141999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#219141999">(Dec 07 2020 at 21:38)</a>:</h4>
<p>which confused me</p>



<a name="219150864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/219150864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#219150864">(Dec 07 2020 at 23:01)</a>:</h4>
<p>This looks like it could be a known bug raising it's head: <a href="https://github.com/FHIR/sushi/issues/674">https://github.com/FHIR/sushi/issues/674</a>. SUSHI sometimes will have that error for paths that contain a URL. If you alias the URL:</p>
<div class="codehilite"><pre><span></span><code>Alias: observation_delta = http://hl7.org/fhir/StructureDefinition/observation-delta
</code></pre></div>
<p>And then reference the element using the alias:</p>
<div class="codehilite"><pre><span></span><code>value[x].extension[observation_delta]
</code></pre></div>
<p>Does that work?</p>



<a name="219151032"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/219151032" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#219151032">(Dec 07 2020 at 23:03)</a>:</h4>
<p>Or, my mistake, maybe this shouldn't work at all unless you do have the <code>named</code> keyword. I was thinking it could still work even without using <code>named</code>.</p>



<a name="219156646"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extending%20a%20polymorphic%20element/near/219156646" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element.html#219156646">(Dec 08 2020 at 00:16)</a>:</h4>
<p>I think that when you say <code>extension contains</code> w/ a URL, then you <em>have</em> to also specify <code>named</code> -- because a URL doesn't make for a valid slice name.  Now... we could probably make an error message that just says that instead of the weird thing it says now...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
