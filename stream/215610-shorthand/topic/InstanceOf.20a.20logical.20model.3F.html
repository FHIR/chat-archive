---
layout: page
title: "FHIR Chat  · InstanceOf a logical model? · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html">InstanceOf a logical model?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="255738643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255738643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255738643">(Oct 01 2021 at 12:55)</a>:</h4>
<p>I'm trying to use sushi to create an instance of a logical model of StructureDefinition but no matter what I do, it can't seem get sushi to find the logical model's structure def to build it.  Am I trying to do something sushi doesn't support?</p>



<a name="255756416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255756416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255756416">(Oct 01 2021 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> ?</p>



<a name="255758006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255758006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255758006">(Oct 01 2021 at 15:03)</a>:</h4>
<p>Yes, SUSHI currently doesn't support creating an instance of a logical model.  The line from the specification is a little unclear: <code>quote The value of InstanceOf MAY be the name, id, or url for any profile, resource, or complex datatype defined internally or externally.</code> But logical models aren't profiles, resources, or complex datatypes so Instances can't be done with those.</p>



<a name="255759710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255759710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255759710">(Oct 01 2021 at 15:15)</a>:</h4>
<p>Correct. Here's an example of a logical model instance: <a href="https://build.fhir.org/ig/FHIR/sample-ig/Binary-logical-example.html">https://build.fhir.org/ig/FHIR/sample-ig/Binary-logical-example.html</a> FWIW</p>



<a name="255759999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255759999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255759999">(Oct 01 2021 at 15:17)</a>:</h4>
<p>so unless Sushi wants to create arbitraty json structures and xml files, I don't see how that would happen</p>



<a name="255760512"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255760512" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255760512">(Oct 01 2021 at 15:20)</a>:</h4>
<p>Yeah this is something we decided against doing when implementing logical models. But our decision was largely based on an assumed lack of need to make instances of logical models. But it seems like we may have been incorrect in our assumption, and there is actually more interest in creating instances of logical models than we think. </p>
<p>We haven't fully looked into the hurdles of arbitrary JSON like <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> mentioned, so I'm not totally sure if it would pretty much be a non-starter. My first instinct though is that it might not actually be too bad given that logical models are just StructureDefinitions, and we know how to make instances of what StructureDefinitions define.</p>
<p>I've made an issue <a href="https://github.com/FHIR/sushi/issues/924">here</a> for us to dig a little deeper into this, and either support instances of logical models, or at least be more explicit in our error message saying that we <em>don't</em> support it</p>



<a name="255762212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255762212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255762212">(Oct 01 2021 at 15:32)</a>:</h4>
<p>Right.  And up until one month ago, the IG Publisher did not support it at all.  If you look at <a href="#narrow/stream/179252-IG-creation/topic/Logical.20Model.20Examples">this thread</a>, however, you can see that there is some complexity to it.  For example, authors would have to mark up their logical models w/ all the info needed to describe how serialization of each element should work (which, at that point, makes it a <em>physical</em> model I guess?).  TBH I'm not even sure if FHIR defines where you put the <em>type</em> of a logical model in a JSON instance (e.g., do you still use a <code>resourceType</code> property?) -- so we might have to make that up.</p>



<a name="255764673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255764673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255764673">(Oct 01 2021 at 15:48)</a>:</h4>
<p>We're effectively creating custom resources (like the CDA IG) and then assigning values to the elements.  It's a fair amount of work for IG devs, but if you're getting to the level of creating a custom resource, then I expect the extra work would be not a huge hurdle for the IG dev.</p>



<a name="255765796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255765796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255765796">(Oct 01 2021 at 15:55)</a>:</h4>
<p>im still struggling with the concept of an Instance of a logical model... this just makes no sense to me. If one can create an instance, then one does not have a logical model, one has a concrete model.</p>



<a name="255765859"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255765859" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255765859">(Oct 01 2021 at 15:55)</a>:</h4>
<p>Any way you slice it, I don't have the ability to create an Instance of it</p>



<a name="255765956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255765956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255765956">(Oct 01 2021 at 15:56)</a>:</h4>
<p>yes you do... you create it outside of sushi, and base64 encode it into a Binary.</p>



<a name="255766145"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255766145" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255766145">(Oct 01 2021 at 15:57)</a>:</h4>
<p>Sorry, I don't have a way in Sushi to do it</p>



<a name="255766792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/255766792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#255766792">(Oct 01 2021 at 16:00)</a>:</h4>
<p>I think you are looking for a tool called "Caviar", not "Sushi"..... it is friday, right?</p>



<a name="261309360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/InstanceOf%20a%20logical%20model%3F/near/261309360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/InstanceOf.20a.20logical.20model.3F.html#261309360">(Nov 12 2021 at 20:55)</a>:</h4>
<p><a href="https://github.com/FHIR/sushi/releases/tag/v2.2.0">SUSHI 2.2.0</a> now has the necessary support to allow authors to use the mechanism Grahame described for including examples of logical models.  You can't write the example in FSH (you must provide JSON/XML), but it's a step in the right direction.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
