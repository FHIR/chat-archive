---
layout: page
title: "FHIR Chat  · regex in coding.code · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/regex.20in.20coding.2Ecode.html">regex in coding.code</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191128958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/regex%20in%20coding.code/near/191128958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/regex.20in.20coding.2Ecode.html#191128958">(Mar 19 2020 at 15:24)</a>:</h4>
<p>I posted a question in the IG Creation stream about constraining a Observation.valueCodeableConcept.coding.code to a regular expression. <span class="user-mention" data-user-id="191447">@Mark Kramer</span> showed an example using shorthand which will be available with sushi soon. Would I be able to do something like this?</p>
<div class="codehilite"><pre><span></span>* valueCodeableConcept.coding ^slicing.discriminator.type = #value
* valueCodeableConcept.coding ^slicing.discriminator.path = &quot;system&quot;
* valueCodeableConcept.coding ^slicing.rules = #open
* valueCodeableConcept.coding ^slicing.description = &quot;slicing on valueCodeableConcept&quot;

* valueCodeableConcept.coding contains GL 1..1 MS
* valueCodeableConcept.coding[GL].system = &quot;https://glstring.org&quot;
* valueCodeableConcept.coding[GL].code obeys GLSC

Invariant:  GLSC
Severity:   #warning
Description: &quot;Use GL String Code to report HLA genotype&quot;
Expression: &quot;matches(&#39;^hla#&#39;)&quot;
</pre></div>



<a name="191133392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/regex%20in%20coding.code/near/191133392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/regex.20in.20coding.2Ecode.html#191133392">(Mar 19 2020 at 15:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191916">@ Bob Milius</span>  <code>Invariant</code>s are actually available and released in SUSHI <code>v0.10.0</code>. Sorry for the confusion on that. The FSH that you have posted above looks valid to my eye, so I'd try running it through SUSHI. If you have an older version of SUSHI and need to update, <code>npm install -g fsh-sushi</code> should do that for you.</p>



<a name="191138735"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/regex%20in%20coding.code/near/191138735" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/regex.20in.20coding.2Ecode.html#191138735">(Mar 19 2020 at 16:30)</a>:</h4>
<p><span class="user-mention" data-user-id="239822">@Nick Freiter</span>  thanks! <br>
Sushi ran without errors. I'll see if some of my examples validate against the IG.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
