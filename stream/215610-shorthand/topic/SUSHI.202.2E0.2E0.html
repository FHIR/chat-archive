---
layout: page
title: "FHIR Chat  · SUSHI 2.0.0 · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html">SUSHI 2.0.0</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="249020884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249020884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian Carter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249020884">(Aug 10 2021 at 18:59)</a>:</h4>
<p>Introducing <strong>SUSHI 2.0.0</strong>! This release marks the end of the 2.0.0 beta phase; fully supporting the FHIR Shorthand v1.2.0 spec and introducing several new features, bug fixes, and breaking changes.</p>
<p>This release includes the following major features:</p>
<ul>
<li>Rule indentation for succinct specification of subpaths</li>
<li>Logical models and custom resources</li>
<li>Hierarchical CodeSystems and concept-specific caret rules</li>
<li>Option to output preprocessed FSH</li>
<li>Extensions for representing elements from other versions of FHIR</li>
<li>Extension for profiling BackboneElements</li>
<li>Insert rules with paths</li>
<li>Specifying warnings to ignore during processing</li>
<li>Support for mapping rules within rulesets</li>
</ul>
<p>This release also includes the following breaking changes:</p>
<ul>
<li>Indent rules make whitespace before * significant.</li>
<li>Support for deprecated syntax has been removed (the Mixins keyword, units keyword, as well as ,  and | separators)</li>
<li>Support for limited ValueSet expansion has been removed</li>
<li>Support for deprecated pre-SUSHI 1.0 project structures has been removed</li>
</ul>
<p>To install or update to this new version, run the following command:</p>
<div class="codehilite"><pre><span></span><code>$ npm install -g fsh-sushi
</code></pre></div>
<p>See the <a href="https://github.com/FHIR/sushi/releases/tag/v2.0.0">SUSHI 2.0.0 Release Notes</a> for more information.</p>



<a name="249022079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249022079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249022079">(Aug 10 2021 at 19:07)</a>:</h4>
<p>Fantastic work by the SUSHI and FSH team!  I do have a question/concern and it mostly relates to the integration of SUSHI with the CI IG publisher build framework.  I'm unsure how the build gets the SUSHI, but I thought that did a npm install from scratch each time.  That would appear to me that the CI builds will be using SUSHI 2.0.0?   If that's true, then some of the breaking changes might affect our guides.  I don't see any of the breaking changes affecting me but I'm raising this in case others might need to know.</p>



<a name="249022734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249022734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julian Carter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249022734">(Aug 10 2021 at 19:13)</a>:</h4>
<p>Yes, the IG Publisher will now use SUSHI 2.0.0 by default. This can be prevented by placing a <code>fsh.ini</code> file in the root directory of your project and placing  the following in that file: </p>
<div class="codehilite"><pre><span></span><code>[FSH]
sushi-version=[insert previous version number here]
</code></pre></div>
<p>This will force the IG Publisher to use whatever version of SUSHI that you specified!</p>



<a name="249750524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249750524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249750524">(Aug 17 2021 at 17:23)</a>:</h4>
<p>Also, the FSH team did regression tests against all FSH repos it could find (in GitHub/HL7 and all IGs registered w/ the autobuild system) -- and then submitted GitHub issues against every project that had a regression due to breaking changes in SUSHI 2.0.0.  We did this many weeks ago, so <em>hopefully</em> this does not come as a surprise to anyone.</p>



<a name="249854797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249854797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249854797">(Aug 18 2021 at 14:10)</a>:</h4>
<p>Hi, one question. Where is the documentation for the fsh.ini? Couldn't find it.<br>
We have an IG with very large CodeSystems, timing out exectly after 5 minutes in the IG builder.</p>



<a name="249854872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249854872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249854872">(Aug 18 2021 at 14:10)</a>:</h4>
<p>I found a thread Grahame mentioning increasing timout time for the builder in fsh.ini</p>



<a name="249854909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249854909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249854909">(Aug 18 2021 at 14:11)</a>:</h4>
<p>But no information on how to do this..</p>



<a name="249855097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249855097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249855097">(Aug 18 2021 at 14:12)</a>:</h4>
<p>[FSH]<br>
timeout=600</p>



<a name="249855140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249855140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249855140">(Aug 18 2021 at 14:12)</a>:</h4>
<p>That's in seconds</p>



<a name="249855452"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249855452" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249855452">(Aug 18 2021 at 14:14)</a>:</h4>
<p>Thanks David! Is this documented somewhere?</p>



<a name="249855868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249855868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249855868">(Aug 18 2021 at 14:17)</a>:</h4>
<p>Not that I'm aware of.  <span class="user-mention" data-user-id="191469">@Chris Moesel</span> ?</p>



<a name="249856152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249856152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249856152">(Aug 18 2021 at 14:19)</a>:</h4>
<p>Wait, I'm wrong,  It's here: <a href="https://fshschool.org/docs/sushi/running/">https://fshschool.org/docs/sushi/running/</a>  in a Tip box.</p>



<a name="249856272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249856272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249856272">(Aug 18 2021 at 14:19)</a>:</h4>
<p>Might be worth adding to the "Configuration" page</p>



<a name="249857064"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249857064" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249857064">(Aug 18 2021 at 14:25)</a>:</h4>
<p>Since this is an implementation detail, the <code>fsh.ini</code> file is not documented in the FSH spec itself, but it <em>is</em> documented in a <strong>Tip</strong> in the SUSHI documentation on FSH School here: <a href="https://fshschool.org/docs/sushi/running/#running-the-ig-publisher">https://fshschool.org/docs/sushi/running/#running-the-ig-publisher</a></p>



<a name="249857183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249857183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249857183">(Aug 18 2021 at 14:25)</a>:</h4>
<p>Whoops.  Was replying based on a notification and didn't notice that <span class="user-mention" data-user-id="192587">@David Pyke</span> had already found it.  Thanks, David!</p>



<a name="249857649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249857649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249857649">(Aug 18 2021 at 14:28)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="192587">@David Pyke</span> <span class="user-mention" data-user-id="191469">@Chris Moesel</span> <br>
Google was not able to find this for some reason.</p>



<a name="249887018"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249887018" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Hunt <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249887018">(Aug 18 2021 at 17:52)</a>:</h4>
<p>Are there any good examples of a Mapping with FHIR Shorthand</p>



<a name="249887602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249887602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Hunt <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249887602">(Aug 18 2021 at 17:56)</a>:</h4>
<p>I am looking to setup mapping with a legacy file format and want to show the field level mapping in the IG, but I am getting hung up on setting up the Mapping</p>



<a name="249899633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249899633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249899633">(Aug 18 2021 at 19:23)</a>:</h4>
<p><span class="user-mention" data-user-id="376783">@Greg Hunt</span> -  I'm not aware of any good examples aside from the one simple example in the spec here: <a href="http://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#defining-mappings">http://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#defining-mappings</a></p>
<p>You could look at other IGs that declare mappings to see how they used mappings -- but unfortunately it is often obscured.  I don't think that the IG Publisher renders the mappings (at least it doesn't seem that it has for US Core) -- so at that point you're having to look in the StructureDefinition JSON or XML source to see the mappings.  Which is also something to consider since you said that you "want to show the field level mapping in the IG".  As far as I know, if you want that to be surfaced in the user-facing documentation, you might have to manually author your own pages w/ that information.  <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> -- is there any way to programmatically render SD mappings in an IG?</p>
<p>There is also <a href="http://hl7.org/fhir/R4/structuremap.html">StructureMap</a> but that is an entirely different beast.</p>



<a name="249913538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249913538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249913538">(Aug 18 2021 at 21:21)</a>:</h4>
<p>if they're not being shown, that's because the template isn't including them. The fragments include the mappings</p>



<a name="249917525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249917525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249917525">(Aug 18 2021 at 22:02)</a>:</h4>
<p>The template includes a mappings tab.  I'm seeing them, for example here: file:///C:/Users/lloyd/Documents/SVN/_IGs/sdc/output/StructureDefinition-sdc-questionnaire-mappings.html</p>



<a name="249917725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249917725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249917725">(Aug 18 2021 at 22:04)</a>:</h4>
<p>I <em>think</em> there's a mechanism to turn off some of the mapping sources if you don't want, but it's possible I'm remembering a proposed rather than implemented requirement.  However, if you're using the default template, all mappings including those inherited from the base spec should show up.</p>



<a name="249977133"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/249977133" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#249977133">(Aug 19 2021 at 12:14)</a>:</h4>
<p>Awesome.  I looked at US Core 4.0.0 because I knew they had argonaut mappings in their SDs -- but there weren't any rendered mappings in the IG that I could find.  I guess they must have used a different template or turned them off.  Thank you for correcting and clarifying.</p>



<a name="250708087"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/250708087" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#250708087">(Aug 26 2021 at 01:41)</a>:</h4>
<p>For "concept-specific caret rules", how can I distinguish properties for two concepts with the same code value, but different systems? It looks like caret-path rules are only differentiated by code value.</p>



<a name="250764714"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/250764714" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#250764714">(Aug 26 2021 at 12:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span> - concept-specific caret rules only apply to <code>CodeSystem</code> definitions.  So... all of the codes in any given <code>CodeSystem</code> definition are always from a single system.  If I've misunderstood your question, could you rephrase it?</p>



<a name="250781200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%202.0.0/near/250781200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.202.2E0.2E0.html#250781200">(Aug 26 2021 at 14:31)</a>:</h4>
<p>Nope, you got it, I missed that part and thought it applied to valuesets.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
