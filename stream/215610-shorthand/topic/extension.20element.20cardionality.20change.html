---
layout: page
title: "FHIR Chat  · extension element cardionality change · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html">extension element cardionality change</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="221225841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221225841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221225841">(Dec 30 2020 at 16:46)</a>:</h4>
<p>I have a profile that adds in an optional IG specific element (extension) at 0..1. And a second profile that needs to increases the cardinality to 1..1.  I need both profiles. I can't figure out how to have the second (which has the first as parent) increase the element to mandatory.</p>



<a name="221229819"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221229819" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221229819">(Dec 30 2020 at 17:27)</a>:</h4>
<p>Figured it out... I didn't think to address it like one does in an Instance</p>
<div class="codehilite"><pre><span></span><code>* extension[TypeOfList] 1..1
</code></pre></div>



<a name="221234402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221234402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221234402">(Dec 30 2020 at 18:29)</a>:</h4>
<p>Actually, this only made sushi happy.. but it didn't do what I wanted.</p>



<a name="221236270"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221236270" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221236270">(Dec 30 2020 at 18:54)</a>:</h4>
<p>what is missing? Do you have code somewhere to look at it?</p>



<a name="221236647"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221236647" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221236647">(Dec 30 2020 at 18:59)</a>:</h4>
<p>this seems to do it</p>
<div class="codehilite"><pre><span></span><code>Profile: MyPatientProfile
Parent: Patient
* extension contains http://hl7.org/fhir/StructureDefinition/patient-disability named disability 0..1

Profile: MyOtherPatientProfile
Parent: MyPatientProfile
* extension[disability] 1..1
</code></pre></div>



<a name="221236716"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221236716" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221236716">(Dec 30 2020 at 19:00)</a>:</h4>
<p>gives</p>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="nt">"kind"</span><span class="p">:</span><span class="nt">"resource"</span>
<span class="nt">"abstract"</span><span class="p">:</span><span class="kc">false</span>
<span class="nt">"type"</span><span class="p">:</span><span class="nt">"Patient"</span>
<span class="nt">"baseDefinition"</span><span class="p">:</span><span class="nt">"http://example.org/StructureDefinition/MyPatientProfile"</span>
<span class="nt">"derivation"</span><span class="p">:</span><span class="nt">"constraint"</span>
<span class="nt">"differential"</span><span class="p">:{</span>
<span class="nt">"element"</span><span class="p">:[</span>
<span class="p">{</span>
<span class="nt">"id"</span><span class="p">:</span><span class="nt">"Patient.extension"</span>
<span class="nt">"path"</span><span class="p">:</span><span class="nt">"Patient.extension"</span>
<span class="nt">"min"</span><span class="p">:</span><span class="mi">1</span>
<span class="p">}</span>
<span class="p">{</span>
<span class="nt">"id"</span><span class="p">:</span><span class="nt">"Patient.extension:disability"</span>
<span class="nt">"path"</span><span class="p">:</span><span class="nt">"Patient.extension"</span>
<span class="nt">"sliceName"</span><span class="p">:</span><span class="nt">"disability"</span>
<span class="nt">"min"</span><span class="p">:</span><span class="mi">1</span>
<span class="p">}</span>
<span class="p">]</span>
<span class="p">}</span>
</code></pre></div>



<a name="221240670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221240670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221240670">(Dec 30 2020 at 19:43)</a>:</h4>
<p>that is what I thought... but later that fails in the IG builder</p>



<a name="221242508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221242508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221242508">(Dec 30 2020 at 20:08)</a>:</h4>
<p>case... I used the wrong case</p>



<a name="221242541"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221242541" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221242541">(Dec 30 2020 at 20:09)</a>:</h4>
<p>shouldn't sushi complain when I say extension[TypeOfList] when there is no "TypeOfList", but rather "typeOfList"?</p>



<a name="221242675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221242675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221242675">(Dec 30 2020 at 20:11)</a>:</h4>
<p>That sounds like a good check they could add.</p>



<a name="221259301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221259301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221259301">(Dec 31 2020 at 00:42)</a>:</h4>
<p>Yeah.  I'm kind of surprised SUSHI doesn't complain then.  I thought SUSHI would output an error about an invalid path.  In fact, I just tested this w/ Jose's example above and when I use <code>extension[Disability]</code> instead of <code>extension[disability]</code>, SUSHI does indeed give an error:</p>
<blockquote>
<p>error No element found at path extension[Disability] for MyOtherPatientProfile, skipping rule<br>
 Line: 7</p>
</blockquote>
<p>So, it seems I can't reproduce the case where SUSHI allows an invalid path (when it's invalid due to different case of the slice name).  I get an error (as I should).</p>



<a name="221287294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extension%20element%20cardionality%20change/near/221287294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extension.20element.20cardionality.20change.html#221287294">(Dec 31 2020 at 12:36)</a>:</h4>
<p>Given <span class="user-mention" data-user-id="191469">@Chris Moesel</span>  discussion, I checked again... My case was not exactly Jose's example. The problem is not simply a case issue. It is that my case-change (camelCase used) happened to align with the extension definition (PascalCase used). So I had defined my extension, not used a pre-existing one. </p>
<blockquote>
<p>Extension: TypeOfList</p>
</blockquote>
<p>I added that extension to my profile</p>
<blockquote>
<ul>
<li>extension contains TypeOfList named typeOfList 0..1</li>
</ul>
</blockquote>
<p>and tried to increase cardinality using the wrong one of these. I used the extension definition rather than the named </p>
<blockquote>
<p>* extension[TypeOfList] 1..1</p>
</blockquote>
<p>should have been</p>
<blockquote>
<ul>
<li>extension[typeOfList] 1..1</li>
</ul>
</blockquote>
<p>my IG git repo <a href="https://github.com/IHE/ITI.MHD">https://github.com/IHE/ITI.MHD</a> if you want to see (comments welcome)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
