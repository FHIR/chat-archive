---
layout: page
title: "FHIR Chat  · Caret paths and indented text · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Caret.20paths.20and.20indented.20text.html">Caret paths and indented text</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="253820686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Caret%20paths%20and%20indented%20text/near/253820686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Caret.20paths.20and.20indented.20text.html#253820686">(Sep 17 2021 at 23:27)</a>:</h4>
<p>I have a ValueSet, and I'm trying to set the narrative:</p>
<div class="codehilite"><pre><span></span><code>ValueSet: VsX
Title: &quot;X Value Set&quot;
Description: &quot;A X value set&quot;
* ^text.status = #additional
* ^text.div = &quot;&quot;&quot;
&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
Blah. Blah. Blah.
&quot;&quot;&quot;
* codes from valueset http://hl7.org/fhir/ValueSet/marital-status
</code></pre></div>
<p>This works. However, originally, I tried:</p>
<div class="codehilite"><pre><span></span><code>* ^text
  * status = #additional
</code></pre></div>
<p>and</p>
<div class="codehilite"><pre><span></span><code>* ^text
  * ^status = #additional
</code></pre></div>
<p>but neither worked. Are they expected to?</p>



<a name="254047760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Caret%20paths%20and%20indented%20text/near/254047760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Caret.20paths.20and.20indented.20text.html#254047760">(Sep 20 2021 at 13:16)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191380">@Elliot Silver</span>.  The indent syntax is intended to be used only with primary paths (a term I just made up now, but meaning element paths for instances, profiles, resources, logicals; code paths for code systems).  Value Sets don't really have any primary paths per se, so indent rules don't apply there at all.</p>
<p>We had thought about supporting indent rules w/ caret paths, but felt it might be more confusing in profile rules that have an element path and a caret path (for users to know which one is the context in an indented rule).</p>



<a name="254076109"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Caret%20paths%20and%20indented%20text/near/254076109" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Caret.20paths.20and.20indented.20text.html#254076109">(Sep 20 2021 at 16:16)</a>:</h4>
<p>Understood.</p>
<p>However, the different rules in different contexts has been tripping me up lately. You can't use an extension the same way everywhere (sometimes you can use the url as the index and just supply a value, sometimes you need to explicitly specify url and value elements); indents don't work everywhere; various elements can be accessed directly in some places, but need to be caret-escaped in others. It would be useful if the syntax was more consistent, or there was more clarity about what syntax rules apply when.</p>



<a name="254101210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Caret%20paths%20and%20indented%20text/near/254101210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Caret.20paths.20and.20indented.20text.html#254101210">(Sep 20 2021 at 19:04)</a>:</h4>
<p>Thanks for the feedback, <span class="user-mention" data-user-id="191380">@Elliot Silver</span>.  It's tricky trying to weigh tradeoffs between succinctness and ambiguity, striving for consistency across slightly different use cases, etc...  I can probably give you a reason for each one of the things you brought up, as most were intentional decisions involving tradeoffs between one less-than-ideal thing and another less-than-ideal thing.  BUT... I realize that it still doesn't help you, as a user of the language, know what to do when -- or remember the various little differences.  Do you have any recommendations on how we might at least document these things better to support FSH authors?</p>



<a name="254119879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Caret%20paths%20and%20indented%20text/near/254119879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Caret.20paths.20and.20indented.20text.html#254119879">(Sep 20 2021 at 21:17)</a>:</h4>
<p>Yeah, I can understand how we got where we got here. I think your "primary paths" idea is a good start. If the documentation could separate the objects into two classes, and say here are the rules that apply to class A, and here are the rules that apply to class B, that would be helpful. Ideally there are only two cases -- things that "natively" support element paths, and things that don't. At least then I can't claim to be surprised when I get tripped up.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
