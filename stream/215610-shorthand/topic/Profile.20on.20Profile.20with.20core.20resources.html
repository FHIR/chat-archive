---
layout: page
title: "FHIR Chat  · Profile on Profile with core resources · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html">Profile on Profile with core resources</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="222664672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222664672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222664672">(Jan 14 2021 at 00:00)</a>:</h4>
<p>I have a profile that is defining a slice in Bundle for a couple of my profiles, but also a couple of core resources. Sushi seems to be treating the core resources differently, and not calling upon the core resource structureDefinition.   See  <a href="https://github.com/IHE/ITI.MHD/blob/master/input/fsh/provideBundle.fsh">https://github.com/IHE/ITI.MHD/blob/master/input/fsh/provideBundle.fsh</a></p>



<a name="222738762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222738762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222738762">(Jan 14 2021 at 16:06)</a>:</h4>
<p>it seems that sushi did not like when I profiled the bundle by #profile, but sometimes using a core FHIR Resource (e.g. Binary and Patient). So I tried to do this in two different levels of profile. One level (dummy) that profiles by resource type, the second by profile... This second attempt fails differently in the IG build.</p>
<p><a href="https://github.com/IHE/ITI.MHD">https://github.com/IHE/ITI.MHD</a></p>
<p>specifically this FSH file<br>
<a href="https://github.com/IHE/ITI.MHD/blob/master/input/fsh/provideBundle.fsh">https://github.com/IHE/ITI.MHD/blob/master/input/fsh/provideBundle.fsh</a></p>
<p>which sushi does create this structureDefinition that the build is failing on<br>
<a href="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/failure/fsh-generated/resources/StructureDefinition-IHE.MHD.Comprehensive.ProvideBundle.json">http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/failure/fsh-generated/resources/StructureDefinition-IHE.MHD.Comprehensive.ProvideBundle.json</a></p>



<a name="222738961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222738961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222738961">(Jan 14 2021 at 16:07)</a>:</h4>
<p>I really want to be able to do it the first way I did... </p>
<div class="codehilite"><pre><span></span><code>* entry contains
    SubmissionSet 1..1 and
    DocumentRefs 0..* and
    Documents 0..* and
    Folders 0..* and
    Patient 0..1
* entry[SubmissionSet].resource only
    IHE.MHD.Minimal.SubmissionSet or
    IHE.MHD.UnContained.Comprehensive.SubmissionSet or
    IHE.MHD.Comprehensive.SubmissionSet
* entry[SubmissionSet] ^short = &quot;the SubmissionSet&quot;
* entry[SubmissionSet] ^definition = &quot;The SubmissionSet defines who submitted it, why they submitted it, when they submitted, what is in it, and where it is destine.&quot;
* entry[SubmissionSet].request 1..1
* entry[SubmissionSet].request.method = #POST
* entry[DocumentRefs].resource only
    IHE.MHD.Minimal.DocumentReference or
    IHE.MHD.UnContained.Comprehensive.DocumentReference or
    IHE.MHD.Comprehensive.DocumentReference
* entry[DocumentRefs] ^short = &quot;the DocumentReference resources&quot;
* entry[DocumentRefs] ^definition = &quot;any and all DocumentReference that are part of the SubmissionSet. These might be new, replacements, or other associations&quot;
* entry[DocumentRefs].request 1..1
* entry[DocumentRefs].request.method = #POST
* entry[Documents].resource only Binary
* entry[Documents] ^short = &quot;the documents&quot;
* entry[Documents] ^definition = &quot;the documents referenced by the DocumentReference resources&quot;
* entry[Documents].request 1..1
* entry[Documents].request.method = #POST
* entry[Folders].resource only
    IHE.MHD.Minimal.Folder or
    IHE.MHD.Minimal.Folder
* entry[Folders] ^short = &quot;Folders&quot;
* entry[Folders] ^definition = &quot;any Folders being created or updated&quot;
* entry[Folders].request 1..1
* entry[Folders].request.method = #POST
* entry[Patient].resource only Patient
* entry[Patient] ^short = &quot;the Patient&quot;
* entry[Patient] ^definition = &quot;the Patient&quot;
</code></pre></div>



<a name="222743949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222743949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222743949">(Jan 14 2021 at 16:39)</a>:</h4>
<p>It appears Moehrke-Research has come thru with a workaround... in my profile slice using #profile. I just explicitly point at the FHIR structureDefinition for the resources I mean...</p>
<div class="codehilite"><pre><span></span><code>* entry[Documents].resource only http://hl7.org/fhir/StructureDefinition/Binary
</code></pre></div>



<a name="222744047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222744047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222744047">(Jan 14 2021 at 16:39)</a>:</h4>
<p>so note to others wanting to profile slice by #profile and use core resources, you just need to be explicit and not expect sushi is going to do the smart thing (until some future release of sushi... I would guess).</p>



<a name="222746923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222746923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222746923">(Jan 14 2021 at 16:59)</a>:</h4>
<p>I'm not sure I fully understand what you mean.  Are you saying that this did not work:</p>
<div class="codehilite"><pre><span></span><code>* entry[Documents].resource only Binary
</code></pre></div>
<p>but this did?</p>
<div class="codehilite"><pre><span></span><code>* entry[Documents].resource only http://hl7.org/fhir/StructureDefinition/Binary
</code></pre></div>
<p>Because if that's the case, I am surprised -- and think that's probably a bug to be fixed.  But if that's not what you're saying, can you elaborate on what _didn't_ work and what you needed to do to make it work?</p>



<a name="222747236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222747236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222747236">(Jan 14 2021 at 17:01)</a>:</h4>
<p>I guess I'm not fully clear on what is "the smart thing" that we should consider implementing in SUSHI.   Which makes it hard to implement it. ;-)</p>



<a name="222749419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222749419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222749419">(Jan 14 2021 at 17:14)</a>:</h4>
<p>the issue that we ran into was not that "* entry[Documents].resource only Binary" wasn't recognized by sushi, just that it only populated the ElementDef.type and not ElementDef.type.profile element, meaning that slicing by profile had nothing to work with.</p>



<a name="222751348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222751348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222751348">(Jan 14 2021 at 17:26)</a>:</h4>
<p>But using the full URL to <code>Binary</code> forced SUSHI to populate the <code>profile</code> field too?  If so, I also find that surprising...</p>



<a name="222752024"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222752024" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222752024">(Jan 14 2021 at 17:30)</a>:</h4>
<p>Based on <a href="http://hl7.org/fhir/R4/profiling.html#discriminator">discriminator docs</a> I think that technically you are supposed to use <code>#type</code> discriminator for non-profiled resources and <code>#profile</code> discriminator for profiled resources.  <span class="user-mention" data-user-id="191404">@John Moehrke</span> -- did you try using a composite discriminator like this?</p>
<div class="codehilite"><pre><span></span><code>* entry ^slicing.discriminator[0].type = #type
* entry ^slicing.discriminator[0].path = &quot;resource&quot;
* entry ^slicing.discriminator[1].type = #profile
* entry ^slicing.discriminator[1].path = &quot;resource&quot;
</code></pre></div>
<p>I'm not positive it would work, but I <em>think</em> so?</p>



<a name="222752621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222752621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222752621">(Jan 14 2021 at 17:34)</a>:</h4>
<p>honestly I didn't see the canonical url working myself, I did something similar for a different reason and I had to use the carrot overrides<br>
as for why we weren't jumping on #type, the other 3/5 slices explicitly use profile, we were considering using both but I didn't know how well that was going to work</p>



<a name="222753026"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222753026" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222753026">(Jan 14 2021 at 17:37)</a>:</h4>
<p>I think that if you use &gt;1 discriminator, it discriminates on the combination of them together -- so I <em>think</em> it should work and seems more valid to me than trying to get a resource to specify the <code>profile</code> field.</p>



<a name="222754009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222754009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222754009">(Jan 14 2021 at 17:44)</a>:</h4>
<p>IG build didn't like two different slices. so the workaround is what I am going forward with for now</p>



<a name="222895710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222895710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222895710">(Jan 15 2021 at 17:44)</a>:</h4>
<p>Hmmm ... <span class="user-mention" data-user-id="191404">@John Moehrke</span> I'm trying to do something similar to you: to profile a bundle (in my case its a message bundle), and I do discrimination on type and resource (like you do on <a href="https://github.com/IHE/ITI.MHD/blob/a2354642807a8d0cb9b119c5869a5e21dc87a0e8/input/fsh/provideBundle.fsh#L22">https://github.com/IHE/ITI.MHD/blob/a2354642807a8d0cb9b119c5869a5e21dc87a0e8/input/fsh/provideBundle.fsh#L22</a>).</p>
<p>Now, I can't get it to work, and If I do the following (this is on your work, and I don't know if it is supposed to work):</p>
<div class="codehilite"><pre><span></span><code>java -jar validator_cli.jar bundle.json -version 4.0 -ig http://build.fhir.org/ig/IHE/ITI.MHD/branches/master -profile http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.ProvideBundle
</code></pre></div>
<p>-where bundle.json is <a href="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/Bundle-ex-minimalProvideDocumentBundle.json">http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/Bundle-ex-minimalProvideDocumentBundle.json</a> - I see the exact same errors as I see in my own project (<a href="#narrow/stream/179166-implementers/topic/validation.20quirks">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/validation.20quirks</a>). I've tried to change nuts and bolts but I cant get it to work</p>
<p>The errors by the validator are the following:</p>
<div class="codehilite"><pre><span></span><code>FHIR Validation tool Version 5.2.13 (Git# 5f67b5bad03d). Built 2020-12-24T05:16:59.673Z (22 days old)
  Java:   15 from /Library/Java/JavaVirtualMachines/adoptopenjdk-15.jdk/Contents/Home on x86_64 (64bit). 4096MB available
  Paths:  Current = /Users/jvi/dk-medcom, Package Cache = /Users/jvi/.fhir/packages
  Params: bundle.json -version 4.0 -ig http://build.fhir.org/ig/IHE/ITI.MHD/branches/master -profile http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.ProvideBundle
Loading
  Load FHIR v4.0 from hl7.fhir.r4.core#4.0.1 - 4575 resources (00:04.0901)
  Load hl7.terminology#2.0.0 - 3749 resources (00:00.0987)
  Terminology server http://tx.fhir.org - Version 1.9.369 (00:02.0081)
  Load http://build.fhir.org/ig/IHE/ITI.MHD/branches/master - 33 resources (00:04.0633)
  Get set...  go (00:00.0031)
Validating
  Profiles: [http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.ProvideBundle]
  Validate bundle.json 00:00.0871
Done. Times: Loading: 00:12.0989, validation: 00:00.0871

*FAILURE*: 8 errors, 0 warnings, 1 notes
  Error @ Bundle.entry[1].resource.ofType(List) (line 76, col19) : Multiple profiles found for contained resource. This is not supported at this time. (Type List: http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.Folder, http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.Folder)
  Error @ Bundle.entry[2].resource.ofType(DocumentReference) (line 117, col31) : Multiple profiles found for contained resource. This is not supported at this time. (Type DocumentReference: http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.DocumentReference, http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.UnContained.Comprehensive.DocumentReference, http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Comprehensive.DocumentReference)
  Error @ Bundle.entry[0] (line 19, col6) : Slicing cannot be evaluated: Profile based discriminators must have a type with a profile (Bundle.entry:Documents.resource in profile http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.ProvideBundle)
  Error @ Bundle.entry[0] (line 19, col6) : Slicing cannot be evaluated: Profile based discriminators must have a type with a profile (Bundle.entry:Patient.resource in profile http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.ProvideBundle)
  Error @ Bundle.entry[1] (line 42, col6) : Slicing cannot be evaluated: Profile based discriminators must have a type with a profile (Bundle.entry:Documents.resource in profile http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.ProvideBundle)
  Error @ Bundle.entry[1] (line 42, col6) : Slicing cannot be evaluated: Profile based discriminators must have a type with a profile (Bundle.entry:Patient.resource in profile http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.ProvideBundle)
  Error @ Bundle.entry[2] (line 97, col6) : Slicing cannot be evaluated: Profile based discriminators must have a type with a profile (Bundle.entry:Documents.resource in profile http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.ProvideBundle)
  Error @ Bundle.entry[2] (line 97, col6) : Slicing cannot be evaluated: Profile based discriminators must have a type with a profile (Bundle.entry:Patient.resource in profile http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.ProvideBundle)
  Information @ Bundle (line 2, col2) : Bundle.entry:SubmissionSet: Unable to check minimum required (Bundle.entry) due to lack of slicing validation (from http://ihe.net/fhir/ihe.mhd.fhir/StructureDefinition/IHE.MHD.Minimal.ProvideBundle)
</code></pre></div>



<a name="222896035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222896035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222896035">(Jan 15 2021 at 17:47)</a>:</h4>
<p>Looking at the generated structuredefs, it seems correct to me, but I could be wrong. <span class="user-mention" data-user-id="191469">@Chris Moesel</span> would you happen to have an example of a bundle being profiled where the discriminator.type is <code>#profile</code> and path is <code>resource</code>where the validator doesn't complain, that is done using FSH?</p>



<a name="222925459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222925459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222925459">(Jan 15 2021 at 21:07)</a>:</h4>
<p>here is my FSH profile details <a href="https://github.com/IHE/ITI.MHD/blob/master/input/fsh/provideBundle.fsh">https://github.com/IHE/ITI.MHD/blob/master/input/fsh/provideBundle.fsh</a></p>



<a name="222940442"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222940442" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222940442">(Jan 15 2021 at 23:25)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191427">@Jens Villadsen</span> -- I haven't tried anything like that myself, but I think I recall seeing something like it in mCODE.  So... here's something in mCODE that might be what you're looking for?</p>
<ul>
<li><a href="https://github.com/HL7/fhir-mCODE-ig/blob/master/input/fsh/SD_Bundle.fsh">MCODEPatientBundle SD</a></li>
<li><a href="https://github.com/HL7/fhir-mCODE-ig/blob/master/input/fsh/EX_Scenario1_Bundle.fsh">MCODEPatientBundle Example</a></li>
</ul>
<p>Note that the bundle SD uses the slicing definition <a href="https://github.com/HL7/fhir-mCODE-ig/blob/master/input/fsh/DEF_SlicingRules.fsh#L25-L29">here</a>.  I haven't run it myself, but here's the <a href="http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/radiation-procedure-redo/qa.html">QA from the last auto build</a>.</p>



<a name="222970831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222970831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222970831">(Jan 16 2021 at 09:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span>  Here's the thing: the IG process/qa page doesn't flag the error. The errors shown above are from your IHE IG, John, using the validator on the example resources. Where the real issue is located I do not know</p>



<a name="222973782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222973782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222973782">(Jan 16 2021 at 10:27)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> running <code>curl http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/Bundle-scenario1-mcode-patient-bundle.json -o mcode.json  &amp;&amp;  java -jar validator_cli.jar mcode.json -version 4.0 -ig http://build.fhir.org/ig/HL7/fhir-mCODE-ig -profile http://hl7.org/fhir/us/mcode/StructureDefinition/mcode-patient-bundle</code> works as intended. No errors there</p>



<a name="222987104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/222987104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#222987104">(Jan 16 2021 at 15:19)</a>:</h4>
<p>whoops - I'm sorry - I can see that I didn't inspect the <a href="http://build.fhir.org/ig/IHE/ITI.MHD/qa.html#_scratch_ig-build-temp-FDM7HC_repo_fsh-generated_resources_Bundle-ex-minimalProvideDocumentBundle">http://build.fhir.org/ig/IHE/ITI.MHD/qa.html#_scratch_ig-build-temp-FDM7HC_repo_fsh-generated_resources_Bundle-ex-minimalProvideDocumentBundle</a> thoroughly as I can see that the QA page already complains. <span class="user-mention" data-user-id="191404">@John Moehrke</span> I assume this is part of your current issue.</p>



<a name="223122649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/223122649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#223122649">(Jan 18 2021 at 14:00)</a>:</h4>
<p>that is my current set of errors, not the ones I originally had.  </p>
<p>I am not sure how to do what I need to do. I have a Bundle that can't contain anything other than 4 resource types, two of those must be specific profiles.  </p>
<p>I have tried to have a core profile that just picked the four resources, then profiled that to further refine to the two profiles. But this fails in the IG build.</p>



<a name="223123401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/223123401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#223123401">(Jan 18 2021 at 14:06)</a>:</h4>
<p>So far - it seems like your errors <span class="user-mention" data-user-id="191404">@John Moehrke</span> are not directly related to mine. Mine seems to be focused on the fact that I've profiled the aggregation mode and my bundles are of type message. As you can see on my lates findings on <a href="#narrow/stream/179166-implementers/topic/validation.20quirks">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/validation.20quirks</a> , the Davinci IQ seems to have the same issues, but no one have responded yet. So my errors are probably not related to fsh</p>



<a name="223127339"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Profile%20on%20Profile%20with%20core%20resources/near/223127339" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Profile.20on.20Profile.20with.20core.20resources.html#223127339">(Jan 18 2021 at 14:38)</a>:</h4>
<p>I don't think mine are related to FSH either. except that when we all get these bundle profiling figured out, there will likely be some new features to be added to sushi</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
