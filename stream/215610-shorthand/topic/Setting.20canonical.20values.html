---
layout: page
title: "FHIR Chat  · Setting canonical values · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html">Setting canonical values</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="197070448"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/197070448" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#197070448">(May 10 2020 at 18:28)</a>:</h4>
<p>There are many cases where I need to specify canonical URLs, especially building Instances. I was seeing if there is something I could do with Alias, but there isn't a way to concat or interpolate. And I don't see a <code>Canonical()</code> helper/rule (like <code>Reference()</code>). Any suggestions?</p>



<a name="197145487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/197145487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#197145487">(May 11 2020 at 13:33)</a>:</h4>
<p>So you want to be able to do something like: <code>* system = Canonical(MyCodeSystem)</code>?  Is that right?  I think we have a (not yet started) feature request to convert named types to canonicals when the target type is a canonical...  Would that do it for you or do you have other use cases?</p>



<a name="197190546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/197190546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#197190546">(May 11 2020 at 19:08)</a>:</h4>
<p>Yep, that would do it!</p>



<a name="198394900"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/198394900" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Grimes <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#198394900">(May 22 2020 at 00:25)</a>:</h4>
<p>I think this is along the lines of what I need, also.</p>



<a name="198395062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/198395062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Grimes <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#198395062">(May 22 2020 at 00:28)</a>:</h4>
<p>What I am trying to do is refer to a ValueSet from a canonical-typed element in a resource instance (in this case, <code>Questionnaire.item.answerValueSet</code>.</p>
<p>I can do it like this, but it's not ideal as the tool doesn't really recognise it as an internal reference, so the generated links go to the canonical URI rather that linking to the page within the IG that defines the ValueSet:</p>
<div class="codehilite"><pre><span></span><code>Alias: SCT = http://snomed.info/sct

ValueSet: MedicalHistoryOptions
Id:       MedicalHistoryOptions
* ^url = &quot;https://csiro.au/fhir/ValueSet/MedicalHistoryOptions&quot;
* SCT#373067005 &quot;No&quot;
* SCT#373066001 &quot;Yes&quot;
* SCT#261665006 &quot;Unknown&quot;
* SCT#443390004 &quot;Refused&quot;

Instance:   MedicalHistory
InstanceOf: Questionnaire
Usage:      #definition
* url = &quot;https://csiro.au/fhir/Questionnaire/MedicalHistory&quot;
* version = &quot;0.0.0&quot;
* status = #draft
* experimental = true
* subjectType = #Patient
* item[0].linkId = &quot;1&quot;
* item[0].type = #group
* item[0].text = &quot;Have you ever been told by a doctor or health professional that you have any of the following conditions?&quot;
* item[0].item[0].linkId = &quot;1.1&quot;
* item[0].item[0].type = #choice
* item[0].item[0].code = SCT#301095005 &quot;Cardiac finding&quot;
* item[0].item[0].text = &quot;Heart Condition&quot;
* item[0].item[0].answerValueSet = &quot;https://csiro.au/fhir/ValueSet/MedicalHistoryOptions&quot;
</code></pre></div>



<a name="198435310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/198435310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#198435310">(May 22 2020 at 12:26)</a>:</h4>
<p>It's clear this is definitely a feature people need, so we are working on adding this in the next two weeks.</p>
<p>One additional thing to note though, is that I don't think you should need the line:</p>
<div class="codehilite"><pre><span></span><code>* ^url = &quot;https://csiro.au/fhir/ValueSet/MedicalHistoryOptions&quot;
</code></pre></div>


<p>in your ValueSet. Assuming that "<a href="https://csiro.au/fhir/">https://csiro.au/fhir/</a>" is your canonical URL that you are giving SUSHI in your configuration, that url should be automatically added to the ValueSet.</p>



<a name="203503972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/203503972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#203503972">(Jul 10 2020 at 13:07)</a>:</h4>
<p>every one of my resources has a canonical url mismatch. so I clearly am not understanding how to tell sushi and build the same canonical url.</p>



<a name="203518683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/203518683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#203518683">(Jul 10 2020 at 15:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> -- is your FSH source available publicly somewhere?</p>



<a name="203518929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/203518929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#203518929">(Jul 10 2020 at 15:13)</a>:</h4>
<p>Posted in a different thread: <a href="https://github.com/JohnMoehrke/MHD-fsh">https://github.com/JohnMoehrke/MHD-fsh</a></p>



<a name="203519083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/203519083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#203519083">(Jul 10 2020 at 15:15)</a>:</h4>
<p>yup, just updated that repo with the config.yaml update</p>



<a name="203519310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/203519310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#203519310">(Jul 10 2020 at 15:16)</a>:</h4>
<p>I am trying to use sushi purely to process the FSH tank creating the resources for me. Everything else I want to manage in normal build tool ways. I get that there will be some overlap on things like the IG, ig.ini, etc.. so I just want to understand how that dance is intended.</p>



<a name="203519365"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/203519365" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#203519365">(Jul 10 2020 at 15:17)</a>:</h4>
<p>im willing to dance.. just don't know the toon... learned of the config.yaml this morning.</p>



<a name="203520180"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/203520180" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#203520180">(Jul 10 2020 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> -- if you want SUSHI to only create the resources and examples for you, then you want to add a <code>FSHOnly: true</code> property to your <code>config.yaml</code>.  If you do that, you're in charge of managing everything else (including the IG.xml/IG.json resource).</p>



<a name="203551412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/203551412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#203551412">(Jul 10 2020 at 19:55)</a>:</h4>
<p>Hey John: You do know you can set the url in the fsh file? eg:</p>
<blockquote>
<ul>
<li>^url = "<a href="http://hl7.org.nz/fhir/StructureDefinition/dhb">http://hl7.org.nz/fhir/StructureDefinition/dhb</a>"</li>
</ul>
</blockquote>



<a name="242995052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/242995052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marc de Graauw <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#242995052">(Jun 17 2021 at 09:53)</a>:</h4>
<p>Has this feature been implemented yet? If so, is something like this possible: <code>* action.definition[x] only Canonical(PlanDefinition)</code> ("this PlanDefinition only contains sub-PlanDefinitions")? Tried a lot of variants w/o succes. This works <code>* action.definition[x] = Canonical(PlanDefinition)</code>but is not what I want.</p>



<a name="243007611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/243007611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#243007611">(Jun 17 2021 at 12:07)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="192440">@Marc de Graauw</span>.  You shouldn't need the <code>Canonical</code> keyword there at all.  You should be able to just say: <code>* action.definition[x] only PlanDefinition</code>.</p>



<a name="243008531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/243008531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marc de Graauw <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#243008531">(Jun 17 2021 at 12:17)</a>:</h4>
<p>Mmm, then I get this error: "The type "PlanDefinition" does not match any of the allowed types: canonical or uri"<br>
<a href="/user_uploads/10155/TOxsv8SIlCOU8Skj070ZAh8r/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/TOxsv8SIlCOU8Skj070ZAh8r/image.png" title="image.png"><img src="/user_uploads/10155/TOxsv8SIlCOU8Skj070ZAh8r/image.png"></a></div>



<a name="243009454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/243009454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#243009454">(Jun 17 2021 at 12:25)</a>:</h4>
<p>Oh, I see.  I should have looked at the FHIR definition.  I forgot that <code>action.definition[x]</code> is a <code>canonical</code> -- sorry!  I think you are correct; this is a bug!  You should be able to say <code>* action.definition[x] only Canonical(PlanDefinition)</code> since one of the choices of <code>action.definition[x]</code> is a canonical.  We will try to fix this!</p>



<a name="243010078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/243010078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#243010078">(Jun 17 2021 at 12:31)</a>:</h4>
<p>Logged as <a href="https://github.com/FHIR/sushi/issues/846">SUSHI#846</a>.</p>



<a name="243027143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Setting%20canonical%20values/near/243027143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Marc de Graauw <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Setting.20canonical.20values.html#243027143">(Jun 17 2021 at 14:37)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
