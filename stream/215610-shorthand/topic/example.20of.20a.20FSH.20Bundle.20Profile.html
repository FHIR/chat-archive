---
layout: page
title: "FHIR Chat  · example of a FSH Bundle Profile · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html">example of a FSH Bundle Profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="217785046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217785046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217785046">(Nov 24 2020 at 17:16)</a>:</h4>
<p>I am looking to profile Bundle in FSH. Would like to understand by way of an example. Is there someone who has done this for an Operation? or a FHIR-Document?</p>



<a name="217804769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217804769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217804769">(Nov 24 2020 at 19:49)</a>:</h4>
<p>How do I profile the contents of the bundle? How do I indicate that the Bundle.entry.resource must be of Profile XYZ?</p>



<a name="217809308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217809308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217809308">(Nov 24 2020 at 20:29)</a>:</h4>
<p>You might want to take a look at mCODE's <a href="http://build.fhir.org/ig/HL7/fhir-mCODE-ig/branches/master/StructureDefinition-mcode-patient-bundle.html">mCODE Patient Bundle</a> as an example.  Relevant FSH <a href="https://github.com/HL7/fhir-mCODE-ig/blob/d81a22e6da868356b727cb9947c98fa1eb8bda31/input/fsh/SD_Bundle.fsh#L28-L40">here</a> and <a href="https://github.com/HL7/fhir-mCODE-ig/blob/d81a22e6da868356b727cb9947c98fa1eb8bda31/input/fsh/RS_SlicingRules.fsh#L25-L29">here</a>.</p>



<a name="217812884"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217812884" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217812884">(Nov 24 2020 at 21:01)</a>:</h4>
<p>I think that took me further, but not far enough<br>
"</p>
<ul>
<li>entry ^slicing.discriminator.type = #profile</li>
<li>entry ^slicing.discriminator.path = "resource"</li>
<li>entry ^slicing.rules = #open</li>
<li>entry ^slicing.description = "Slicing based on the profile conformance of the entry"</li>
<li>entry and entry.resource MS</li>
<li>entry contains Patient 1..1 MS and MHVcompositionBluebutton 1..1 MS </li>
<li>entry[MHVcompositionBlueButton].resource only MHVcompositionBluebutton</li>
<li>entry[Patient].resource only Patient<br>
"<br>
gives me a sushi error<blockquote>
<p>Sushi: error No element found at path entry[MHVcompositionBlueButton].resource for MHVbluebutton, skipping rule (00:02.0488)</p>
</blockquote>
</li>
</ul>



<a name="217813825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217813825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217813825">(Nov 24 2020 at 21:09)</a>:</h4>
<p>Where have you defned  the Profile names?</p>



<a name="217814036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217814036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217814036">(Nov 24 2020 at 21:10)</a>:</h4>
<p>You're using MHVcompositionBlueButton, as well as MHVcompositionBluebutton. Is that intentional? ("B" in button).</p>



<a name="217814486"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217814486" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217814486">(Nov 24 2020 at 21:15)</a>:</h4>
<p>I just saw that... sorry</p>



<a name="217814689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217814689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217814689">(Nov 24 2020 at 21:17)</a>:</h4>
<p>Is that the issue?</p>



<a name="217814758"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217814758" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217814758">(Nov 24 2020 at 21:18)</a>:</h4>
<p>yes that was that issue</p>



<a name="217814817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217814817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217814817">(Nov 24 2020 at 21:18)</a>:</h4>
<p>next problem is that my example is not validating</p>



<a name="217814880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217814880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217814880">(Nov 24 2020 at 21:18)</a>:</h4>
<p>well, sushi doesn't like my example<br>
'''<br>
Sushi: error Element Bundle.entry:Patient has minimum cardinality 1 but occurs 0 time(s). (00:05.0182)<br>
Sushi: File: C:\Users\john.moehrke\Git\MHV-PGHD\input\fsh\ex-MHV-bluebutton.fsh  (00:05.0183)<br>
Sushi: Line: 1 - 12                                                              (00:05.0184)<br>
Sushi: error Element Bundle.entry:MHVcompositionBluebutton has minimum cardinality 1 but occurs 0 time(s). (00:05.0185)<br>
Sushi: File: C:\Users\john.moehrke\Git\MHV-PGHD\input\fsh\ex-MHV-bluebutton.fsh  (00:05.0186)<br>
Sushi: Line: 1 - 12                                                              (00:05.0188)<br>
'''</p>



<a name="217815100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217815100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217815100">(Nov 24 2020 at 21:21)</a>:</h4>
<p>Where can we see the code?</p>



<a name="217825537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217825537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217825537">(Nov 24 2020 at 23:04)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> -- SUSHI is a little opinionated about how it wants you to author the example.  In order to keep it happy, you should always reference the sliced entries by their names.  E.g.,</p>
<div class="codehilite"><pre><span></span><code>* entry[Patient].fullUrl = &quot;http://foo.org/bar/Patient/123&quot;
</code></pre></div>
<p>SUSHI isn't very sophisticated, so it only knows you used a slice if you used it by name.</p>



<a name="217831521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20of%20a%20FSH%20Bundle%20Profile/near/217831521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20of.20a.20FSH.20Bundle.20Profile.html#217831521">(Nov 25 2020 at 00:20)</a>:</h4>
<p>Thanks. Dave helped me with that too</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
