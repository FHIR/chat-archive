---
layout: page
title: "FHIR Chat  · Resource filename prefix · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html">Resource filename prefix</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="205901511"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205901511" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205901511">(Aug 04 2020 at 12:46)</a>:</h4>
<p>Can we add an option to NOT add the resource type as a prefix to the file name?</p>



<a name="205901685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205901685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205901685">(Aug 04 2020 at 12:49)</a>:</h4>
<p>or (another alternative that would better for me, not sure others) instead of file name being {type}-{id}.json, make it {type}/{id}.json and create the folder?</p>



<a name="205902805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205902805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205902805">(Aug 04 2020 at 13:00)</a>:</h4>
<p>or even better, make it {profile}/{id}.json and create the folder?</p>



<a name="205909681"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205909681" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205909681">(Aug 04 2020 at 14:00)</a>:</h4>
<p>At one time (and this may have been a long time ago), we encountered IG Publisher issues naming the files in any other way besides <code>{type}-{id}.json</code>.  I actually had a note to look into this today (because I also wanted to explore other naming approaches) -- so I'll do that.  Assuming no issues w/ the publisher, allowing user configuration of the naming scheme seems feasible -- so we can likely add it to the backlog.</p>



<a name="205913577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205913577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205913577">(Aug 04 2020 at 14:29)</a>:</h4>
<p>note that my last suggestion is dangerous<br>
<code>{profile}/{id}.json</code> would only work if you add the <code>examples/{profile}</code> to the ig parameters</p>



<a name="205913788"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205913788" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205913788">(Aug 04 2020 at 14:30)</a>:</h4>
<p>Depending on the IGs, this may be very handy if you have several profiles on the same resource type, all those profiles being functionally different.</p>



<a name="205913882"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205913882" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205913882">(Aug 04 2020 at 14:31)</a>:</h4>
<p>e.g. profiles on Composition - I don't want to have all my document examples  in one single folder - rather one per document type</p>



<a name="205914552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205914552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205914552">(Aug 04 2020 at 14:36)</a>:</h4>
<p>for reference, <span class="user-mention" data-user-id="191469">@Chris Moesel</span> I did not test all of these nor look at the code, but judging from an error message, when you refer to Type/id, the Publisher wil look for these files:</p>
<div class="codehilite"><pre><span></span><code>{type}-{id}
{type}/{id}
{id}.{type}
{id}
</code></pre></div>



<a name="205914573"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205914573" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205914573">(Aug 04 2020 at 14:36)</a>:</h4>
<p>.json/xml</p>



<a name="205933663"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205933663" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205933663">(Aug 04 2020 at 17:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/215610-shorthand/topic/Resource.20filename.20prefix/near/205914552">said</a>:</p>
<blockquote>
<p>for reference, <span class="user-mention silent" data-user-id="191469">Chris Moesel</span> I did not test all of these nor look at the code, but judging from an error message, when you refer to Type/id, the Publisher wil look for these files:</p>
<div class="codehilite"><pre><span></span><code>{type}-{id}
{type}/{id}
{id}.{type}
{id}
</code></pre></div>


</blockquote>
<p>I remember seeing that in the past too.  And I remember trying some of those other representations and it failing miserably.  I'll try some stuff out to see what happens.  Templates are in the mix now, which is something that didn't exist last time I tried this.</p>



<a name="205977693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205977693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205977693">(Aug 05 2020 at 00:42)</a>:</h4>
<p>OK.  I've looked into the allowed filenames.  For an extension definition w/ id <code>MyExtension</code>, this is the list of paths the IG Publisher says it looks for:</p>
<ul>
<li>StructureDefinition-MyExtension.xml</li>
<li>StructureDefinition-MyExtension.json</li>
<li>MyExtension.StructureDefinition.xml</li>
<li>StructureDefinition/MyExtension.xml</li>
<li>StructureDefinition/MyExtension.json</li>
<li>MyExtension.xml</li>
<li>MyExtension.json</li>
<li>(and lowercase resource name variants)</li>
</ul>
<p>I've confirmed each of these (except lowercase variants).  What surprised me is that you'll note that <code>MyExtension.StructureDefinition.xml</code> is listed, but <em>not</em> <code>MyExtension.StructureDefinition.json</code>.  Sure enough, the <code>.xml</code> one works and the <code>.json</code> one does not!  I also experimented w/ using arbitrary prefixes (fail), postfixes (fail), and sub-folders (fail).  So given that SUSHI exports JSON, the only choices we can give you (that will still work with IG Publisher) are:</p>
<ul>
<li>StructureDefinition-MyExtension.json</li>
<li>StructureDefinition/MyExtension.json</li>
<li>MyExtension.json</li>
</ul>
<p>Personally, I don't recommend the last (<code>MyExtension.json</code>) since it is possible for an IG to duplicate ids (as long as the type is different) -- so file paths based on <code>id</code> alone <em>could</em> cause problems.  That leaves us with <code>StructureDefinition-MyExtension.json</code> and <code>StructureDefinition/MyExtension.json</code>.  Would others find value in SUSHI providing users the options of choosing between those two?</p>



<a name="205990103"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/205990103" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#205990103">(Aug 05 2020 at 05:40)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191469">Chris Moesel</span> <a href="#narrow/stream/215610-shorthand/topic/Resource.20filename.20prefix/near/205977693">said</a>:</p>
<blockquote>
<p>Personally, I don't recommend the last (<code>MyExtension.json</code>) since it is possible for an IG to duplicate ids (as long as the type is different) -- so file paths based on <code>id</code> alone <em>could</em> cause problems.  That leaves us with <code>StructureDefinition-MyExtension.json</code> and <code>StructureDefinition/MyExtension.json</code>.  Would others find value in SUSHI providing users the options of choosing between those two?</p>
</blockquote>
<p>This is a big jump. The case for myextension.json is to have more customizable folder structures. Leaving Composition aside, here are some examples where we'd best served by not having the StructureDefinition (at least in examples):</p>
<ul>
<li>MedicationPrescriptions and MedicationAdministrationOrders are both profiles on MedicationRequest</li>
<li>Addiction, PreExistingCondition and Condition are profiles on Condition</li>
</ul>
<p>In these cases, the example filenames would be e.g. addiction-patientx-alcohol, and not condition-patientx-alcoholaddiction. Or addiction/patientx-alcohol</p>



<a name="206108750"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Resource%20filename%20prefix/near/206108750" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Resource.20filename.20prefix.html#206108750">(Aug 06 2020 at 06:30)</a>:</h4>
<p>it wouldn't hurt to have in the config.yaml or somewhere a "filenames" pattern that can have a default value.<br>
This:<br>
<code>     filenames = {type}-{id}</code><br>
(which is default)<br>
or<br>
<code>     filenames = {type}/{id}</code><br>
or<br>
<code>     filenames = {profileName}/{id} </code><br>
(this one can be avoided with the filename override function i just suggested</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
