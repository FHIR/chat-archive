---
layout: page
title: "FHIR Chat  · detect exit code in a shell script · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html">detect exit code in a shell script</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204247218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/detect%20exit%20code%20in%20a%20shell%20script/near/204247218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html#204247218">(Jul 17 2020 at 19:15)</a>:</h4>
<p>What's the best way in a linux/mac shell script to detect if sushi detects errors? the 'special' variable '$?' doesn't seem to be set...</p>



<a name="204411702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/detect%20exit%20code%20in%20a%20shell%20script/near/204411702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html#204411702">(Jul 20 2020 at 11:37)</a>:</h4>
<p>By request of the Sushi dev team, I use the exit code</p>



<a name="204427979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/detect%20exit%20code%20in%20a%20shell%20script/near/204427979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html#204427979">(Jul 20 2020 at 14:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191321">@David Hay</span> -- it is working for me on Mac OS X.</p>
<p>Success:</p>
<div class="codehilite"><pre><span></span><code>╔════════════════════════ SUSHI RESULTS ══════════════════════════╗
║ ╭──────────┬────────────┬───────────┬─────────────┬───────────╮ ║
║ │ Profiles │ Extensions │ ValueSets │ CodeSystems │ Instances │ ║
║ ├──────────┼────────────┼───────────┼─────────────┼───────────┤ ║
║ │    9     │     6      │     2     │      4      │     5     │ ║
║ ╰──────────┴────────────┴───────────┴─────────────┴───────────╯ ║
║                                                                 ║
║ See SUSHI-GENERATED-FILES.md for details on generated IG files. ║
╠═════════════════════════════════════════════════════════════════╣
║ Cool and So-fish-ticated!              0 Errors      0 Warnings ║
╚═════════════════════════════════════════════════════════════════╝
$ echo $?
0
</code></pre></div>


<p>Error:</p>
<div class="codehilite"><pre><span></span><code>╔════════════════════════ SUSHI RESULTS ══════════════════════════╗
║ ╭──────────┬────────────┬───────────┬─────────────┬───────────╮ ║
║ │ Profiles │ Extensions │ ValueSets │ CodeSystems │ Instances │ ║
║ ├──────────┼────────────┼───────────┼─────────────┼───────────┤ ║
║ │    9     │     6      │     2     │      4      │     5     │ ║
║ ╰──────────┴────────────┴───────────┴─────────────┴───────────╯ ║
║                                                                 ║
║ See SUSHI-GENERATED-FILES.md for details on generated IG files. ║
╠═════════════════════════════════════════════════════════════════╣
║ That really smelt.                      1 Error      0 Warnings ║
╚═════════════════════════════════════════════════════════════════╝
$ echo $?
1
</code></pre></div>



<a name="204433302"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/detect%20exit%20code%20in%20a%20shell%20script/near/204433302" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html#204433302">(Jul 20 2020 at 15:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> not really related to David's question - if there are warnings, what is the exit code?</p>



<a name="204433606"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/detect%20exit%20code%20in%20a%20shell%20script/near/204433606" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html#204433606">(Jul 20 2020 at 15:03)</a>:</h4>
<p>The exit code is still <code>0</code> if there are warnings.  We don't want to signal an error (i.e., failure) for things that are only warnings.</p>



<a name="204434220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/detect%20exit%20code%20in%20a%20shell%20script/near/204434220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html#204434220">(Jul 20 2020 at 15:07)</a>:</h4>
<p>perfect, thanks</p>



<a name="204454944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/detect%20exit%20code%20in%20a%20shell%20script/near/204454944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html#204454944">(Jul 20 2020 at 18:03)</a>:</h4>
<p>OK - I must be using it incorrectly - thanks...</p>



<a name="204457102"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/detect%20exit%20code%20in%20a%20shell%20script/near/204457102" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html#204457102">(Jul 20 2020 at 18:21)</a>:</h4>
<p>Silly me - I was 'echo-ing' a line before reading the $?...</p>



<a name="204462037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/detect%20exit%20code%20in%20a%20shell%20script/near/204462037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html#204462037">(Jul 20 2020 at 19:02)</a>:</h4>
<p>Ha!  That'll do it!  Success every time!</p>



<a name="204463672"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/detect%20exit%20code%20in%20a%20shell%20script/near/204463672" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/detect.20exit.20code.20in.20a.20shell.20script.html#204463672">(Jul 20 2020 at 19:15)</a>:</h4>
<p>Exactly :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
