---
layout: page
title: "FHIR Chat  · Nested items in rulesets · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html">Nested items in rulesets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="224904771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224904771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224904771">(Feb 02 2021 at 17:21)</a>:</h4>
<p>Is it possible to have a ruleset populate nested items?</p>



<a name="224905094"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224905094" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224905094">(Feb 02 2021 at 17:23)</a>:</h4>
<div class="codehilite"><pre><span></span><code>RuleSet: Question(linkId, text, type, repeats)
* item[+].linkId = &quot;{linkId}&quot;
* item[=].text = &quot;{text}&quot;
* item[=].type = #{type}
* item[=].repeats = {repeats}
</code></pre></div>
<p>This works OK for top level, but I need it to create </p>
<div class="codehilite"><pre><span></span><code>* item[=].item[=].item[=].item[+].linkId = &quot;{linkId}&quot;
* item[=].item[=].item[=].item[=].text = &quot;{text}&quot;
* item[=].item[=].item[=].item[=].type = #{type}
* item[=].item[=].item[=].item[=].repeats = {repeats}
</code></pre></div>
<p>And I don't want to have  to create a ruleset for each level</p>



<a name="224905130"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224905130" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224905130">(Feb 02 2021 at 17:23)</a>:</h4>
<p>in other words, when is the <code>with</code> coming? :)</p>



<a name="224905169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224905169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224905169">(Feb 02 2021 at 17:23)</a>:</h4>
<p>Yup, I noted this a couple of days ago (<a href="#narrow/stream/215610-shorthand/topic/Soft.20Indexing.20downside/near/224426782">https://chat.fhir.org/#narrow/stream/215610-shorthand/topic/Soft.20Indexing.20downside/near/224426782</a>).</p>



<a name="224905754"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224905754" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224905754">(Feb 02 2021 at 17:27)</a>:</h4>
<p>I was trying to think of a way to pass in the parent item, and then tack on the current context, but I haven't built a working example yet.</p>



<a name="224906509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224906509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224906509">(Feb 02 2021 at 17:32)</a>:</h4>
<div class="codehilite"><pre><span></span><code>RuleSet: Question(context, linkId, text, type, repeats)
* {context}.item[+].linkId = &quot;{linkId}&quot;
* {context}.item[=].text = &quot;{text}&quot;
* {context}.item[=].type = #{type}
* {context}.item[=].repeats = {repeats}
</code></pre></div>
<p>Then you could do:</p>
<div class="codehilite"><pre><span></span><code>* insert(this, ...)
* insert(item[=], ...)
</code></pre></div>
<p>Not sure, just theorizing...</p>



<a name="224906731"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224906731" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224906731">(Feb 02 2021 at 17:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> -- we're experimenting w/ contextual rule grammars right now.  And I agree, this is a good advanced use case for it.  But another possible approach I've considered for this type of use case (inserting a ruleset in the context of a path):</p>
<div class="codehilite"><pre><span></span><code>* item[=].item[=].item[=] insert Question(foo, Foo?, boolean, false)
</code></pre></div>
<p>That would match some of our other grammars that are <code>{path} {command} {value}</code>.</p>
<p>For the time being, it is ugly, but I think this would work w/ the current grammar:</p>
<div class="codehilite"><pre><span></span><code>RuleSet: Question(prefixPath, linkId, text, type, repeats)
* {prefixPath}item[+].linkId = &quot;{linkId}&quot;
* {prefixPath}item[=].text = &quot;{text}&quot;
* {prefixPath}item[=].type = #{type}
* {prefixPath}item[=].repeats = {repeats}
</code></pre></div>
<p>then</p>
<div class="codehilite"><pre><span></span><code>* insert Question(item[=].item[=].item[=]., foo, Foo?, boolean, false)
</code></pre></div>



<a name="224906855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224906855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224906855">(Feb 02 2021 at 17:34)</a>:</h4>
<p>Right - this is ugly :) I'm trying it now</p>



<a name="224907053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224907053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224907053">(Feb 02 2021 at 17:35)</a>:</h4>
<p>Ha.  I see that <span class="user-mention" data-user-id="191380">@Elliot Silver</span> beat me to the punch on that last one.  But SUSHI doesn't understand <code>this</code>, so I think you'd need to do something more like my example that would work w/ and empty <code>prefixPath</code> to have no nested path (but requires trailing <code>.</code> when there is a nested path).</p>



<a name="224907446"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224907446" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224907446">(Feb 02 2021 at 17:38)</a>:</h4>
<p>correct</p>



<a name="224907461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224907461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224907461">(Feb 02 2021 at 17:38)</a>:</h4>
<p>still</p>



<a name="224907505"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224907505" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224907505">(Feb 02 2021 at 17:38)</a>:</h4>
<p>Or maybe do:</p>
<div class="codehilite"><pre><span></span><code>RuleSet: Question(context, linkId, text, type, repeats)
* {context}[+].linkId = &quot;{linkId}&quot;
* {context}[=].text = &quot;{text}&quot;
* {context}[=].type = #{type}
* {context}[=].repeats = {repeats}
</code></pre></div>
<p>On first look the ruleset in context looks ugly, but it's somewhat growing on me.</p>



<a name="224907508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224907508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224907508">(Feb 02 2021 at 17:38)</a>:</h4>
<ul>
<li>insert Question(* item[=].,pastOrPresent,Active\, Inactive or Resolved allergy?,choice,false)</li>
</ul>
<div class="codehilite"><pre><span></span><code>Sushi: Line: 22                                                                  (00:01.0634)
Sushi: error Errors parsing insert rule with parameterized RuleSet Question      (00:01.0642)
Sushi: - no viable alternative at input &#39;* *&#39;                                    (00:01.0690)
</code></pre></div>



<a name="224907548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224907548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224907548">(Feb 02 2021 at 17:39)</a>:</h4>
<p>sorry</p>



<a name="224907552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224907552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224907552">(Feb 02 2021 at 17:39)</a>:</h4>
<p>Don't include the *</p>



<a name="224910197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224910197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224910197">(Feb 02 2021 at 17:58)</a>:</h4>
<p>indeed.</p>



<a name="224910272"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224910272" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224910272">(Feb 02 2021 at 17:59)</a>:</h4>
<p>confirming - this works</p>



<a name="224935152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224935152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224935152">(Feb 02 2021 at 20:55)</a>:</h4>
<p>Next on "Obfuscating FSH", we'll present the award winners, Elliot and Jose for their "Impenetrable Item Path"</p>



<a name="224936632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224936632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224936632">(Feb 02 2021 at 21:06)</a>:</h4>
<p><span class="user-mention" data-user-id="192587">@David Pyke</span> you probably don't want me to ask the other thing I've been wondering about with rulesets: can they nest? Can one ruleset invoke another? All of this questionnaire stuff is great, except that the item type dictates the information that needs to be collected. So, can I do:</p>
<div class="codehilite"><pre><span></span><code>RuleSet: Question(context, linkId, text, type, repeats)
* {context}[+].linkId = &quot;{linkId}&quot;
* {context}[=].text = &quot;{text}&quot;
* {context}[=].type = #{type}
* {context}[=].repeats = {repeats}

RuleSet: QuestionValueSet(context, linkId, text, repeats, vs)
* insert Question({context}, {linkId}, {text}, choice, {repeats})
* {context}[=].choiceValueSet = {vs}

...
* insert Question(item, foo, bar, group, false)
* insert QuestionValueSet(item, baz, boom, false, myValueSet.)
</code></pre></div>



<a name="224937888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224937888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224937888">(Feb 02 2021 at 21:17)</a>:</h4>
<p>Give it a shot and see how many layers of  rulesets you can do before it screams</p>



<a name="224938382"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224938382" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224938382">(Feb 02 2021 at 21:21)</a>:</h4>
<p>ooh, can we do<br>
<a href="/user_uploads/10155/Gy8d365q4f-pd4hWV5yvkcrA/image.png">recursive fsh</a>?</p>
<div class="message_inline_image"><a href="/user_uploads/10155/Gy8d365q4f-pd4hWV5yvkcrA/image.png" title="recursive fsh"><img src="/user_uploads/10155/Gy8d365q4f-pd4hWV5yvkcrA/image.png"></a></div>



<a name="224943072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224943072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224943072">(Feb 02 2021 at 21:58)</a>:</h4>
<p>Yeah, you should be able to do recursive rule sets as long as they don't infinitely recurse.  That said, I do wonder if maybe things would get gummed up w/ the escape sequences, because the escaping <code>\</code> would get removed when it's applied the first time.   I'll have to try it.</p>



<a name="224943873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224943873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224943873">(Feb 02 2021 at 22:04)</a>:</h4>
<p>Ugh.  Yeah, the recursive calls don't work with escapes.  Dang.  We're trying to avoid doing anything too clever, but... we might have to do something clever to support this. <a href="https://fshschool.org/FSHOnline/#/share/2YFQDdu">https://fshschool.org/FSHOnline/#/share/2YFQDdu</a></p>



<a name="224944138"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224944138" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224944138">(Feb 02 2021 at 22:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> , just to be clear, I don't really see a need for recursive rulesets, particularly since there is no way to encode stop conditions. On the other hand, I do see a need for nested rulesets.</p>



<a name="224947805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224947805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224947805">(Feb 02 2021 at 22:40)</a>:</h4>
<p>Well even nested ones would have an issue in the (hopefully rare) case that a substitution you pass in at the top-level needs to be passed into a nested rule set insert rule <em>and</em> needs to have an escaped character (<code>(</code> or <code>,</code>).  But we'll try to fix that.  Aside from that one issue, nested rulesets should be fine.</p>



<a name="224948199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/224948199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#224948199">(Feb 02 2021 at 22:44)</a>:</h4>
<p>Maybe add a marker to where a parameter is used indicating whether to leave the content escaped? Arbitrarily choosing exclamation as the marker, my nested example would become:</p>
<div class="codehilite"><pre><span></span><code>RuleSet: QuestionValueSet(context, linkId, text, repeats, vs)
* insert Question({!context}, {!linkId}, {!text}, choice, {!repeats})
* {context}[=].choiceValueSet = {vs}
</code></pre></div>



<a name="225215546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/225215546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#225215546">(Feb 04 2021 at 20:10)</a>:</h4>
<p>That seems a reasonable approach.  I was also thinking just to automatically keep the escape chars when we know we're expanding into an <code>insert</code> rule.  That would be less for authors to remember and fewer opportunities to make a mistake and forget to do it.  I also can't think of any other use cases where you would want to specifically keep <code>\,</code> and <code>\)</code>except when passing into another <code>insert</code> rule.</p>



<a name="225215691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/225215691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#225215691">(Feb 04 2021 at 20:11)</a>:</h4>
<p>But if that proves too hard and we need to have a signal to leave it unescaped, I like the <code>!</code> -- it's brief and to the point.</p>



<a name="225216930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/225216930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#225216930">(Feb 04 2021 at 20:20)</a>:</h4>
<p>I wonder if there are use cases where you want to pass in escaped content that remains escaped in the expansion? For example passing in text that needs to remain escaped so the correct html/markdown is generated.</p>



<a name="225228526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/225228526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#225228526">(Feb 04 2021 at 21:50)</a>:</h4>
<p>but then you should just escape your escape characters, no?</p>



<a name="225228823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/225228823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#225228823">(Feb 04 2021 at 21:52)</a>:</h4>
<p>like, if I want my text to be explicitly "(\abc\)123" then I should pass in "(\\abc\\\)123" it doesn't matter in that case if I end up using that in the initial ruleset or passing it through to another one, that text is what I want to write under Chris's model right?</p>



<a name="225229833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/225229833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#225229833">(Feb 04 2021 at 21:59)</a>:</h4>
<p>hmm, right. So if it is used in the ruleset, the use removes a level of escaping. If it is passed into another ruleset, the passed-in value does not escape. Yeah, you could probably get away without a "don't touch that" signal.</p>



<a name="225234188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/225234188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#225234188">(Feb 04 2021 at 22:35)</a>:</h4>
<p>you should listen to that Mr Moehrke dude</p>



<a name="225241592"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Nested%20items%20in%20rulesets/near/225241592" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Nested.20items.20in.20rulesets.html#225241592">(Feb 04 2021 at 23:44)</a>:</h4>
<p>Right.  And the only things we support escaping for are <code>\</code>, <code>,</code>, and <code>)</code> -- which is probably a little too narrow and specific to be useful anywhere else but in the context of <code>insert</code> rules.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
