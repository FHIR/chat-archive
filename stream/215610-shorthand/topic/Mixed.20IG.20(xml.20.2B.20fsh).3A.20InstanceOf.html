---
layout: page
title: "FHIR Chat  · Mixed IG (xml + fsh): InstanceOf · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Mixed.20IG.20(xml.20.2B.20fsh).3A.20InstanceOf.html">Mixed IG (xml + fsh): InstanceOf</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="231768608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Mixed%20IG%20%28xml%20%2B%20fsh%29%3A%20InstanceOf/near/231768608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michaela Ziegler <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Mixed.20IG.20(xml.20.2B.20fsh).3A.20InstanceOf.html#231768608">(Mar 25 2021 at 09:22)</a>:</h4>
<p>We have a mixed IG, that is, we have integrated XML and FSH files. Is it possible to create an FSH-instance that is an instance of the XML-StructureDefinition?<br>
At the moment I get this error:</p>
<div class="codehilite"><pre><span></span><code>Sushi: error InstanceOf http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-document not found for referral-min
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Alias:   ChOrfDocument = http://fhir.ch/ig/ch-orf/StructureDefinition/ch-orf-document

Instance: referral-min
InstanceOf: ChOrfDocument
Title: &quot;Bundle Referral minimal&quot;
Description: &quot;Example for Bundle&quot;
* type = #document
* etc.
</code></pre></div>



<a name="231776766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Mixed%20IG%20%28xml%20%2B%20fsh%29%3A%20InstanceOf/near/231776766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Mixed.20IG.20(xml.20.2B.20fsh).3A.20InstanceOf.html#231776766">(Mar 25 2021 at 10:30)</a>:</h4>
<p>I remember it is possible.</p>



<a name="231776774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Mixed%20IG%20%28xml%20%2B%20fsh%29%3A%20InstanceOf/near/231776774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Mixed.20IG.20(xml.20.2B.20fsh).3A.20InstanceOf.html#231776774">(Mar 25 2021 at 10:30)</a>:</h4>
<p>(if I am not mistaken)</p>



<a name="231776817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Mixed%20IG%20%28xml%20%2B%20fsh%29%3A%20InstanceOf/near/231776817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Mixed.20IG.20(xml.20.2B.20fsh).3A.20InstanceOf.html#231776817">(Mar 25 2021 at 10:30)</a>:</h4>
<p>do you have a repo <span class="user-mention" data-user-id="233842">@Michaela Ziegler</span> ?</p>



<a name="231789596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Mixed%20IG%20%28xml%20%2B%20fsh%29%3A%20InstanceOf/near/231789596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michaela Ziegler <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Mixed.20IG.20(xml.20.2B.20fsh).3A.20InstanceOf.html#231789596">(Mar 25 2021 at 12:14)</a>:</h4>
<p><a href="https://github.com/hl7ch/ch-orf">https://github.com/hl7ch/ch-orf</a> (<a href="https://github.com/hl7ch/ch-orf/blob/master/input/fsh/EX_Bundle.fsh">https://github.com/hl7ch/ch-orf/blob/master/input/fsh/EX_Bundle.fsh</a>)</p>



<a name="231793910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Mixed%20IG%20%28xml%20%2B%20fsh%29%3A%20InstanceOf/near/231793910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Mixed.20IG.20(xml.20.2B.20fsh).3A.20InstanceOf.html#231793910">(Mar 25 2021 at 12:48)</a>:</h4>
<p>This looks like a bug (or at least a lack of a feature) to me. If you move the <code>ch-orf-document</code> up one folder level (so that it is directly in the <code>resources</code> folder, then SUSHI will find it and use it. I've added an <a href="https://github.com/FHIR/sushi/issues/786">issue</a> for us to add support for nested folders like you are using in this IG.</p>
<p>One other thing I did notice is that the <code>ch-orf-document</code> also does not have a <code>snapshot</code> element, and unfortunately SUSHI does require that the resources that are dependencies of FSH definitions do have a <code>snapshot</code>.</p>



<a name="231947006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Mixed%20IG%20%28xml%20%2B%20fsh%29%3A%20InstanceOf/near/231947006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michaela Ziegler <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Mixed.20IG.20(xml.20.2B.20fsh).3A.20InstanceOf.html#231947006">(Mar 26 2021 at 11:08)</a>:</h4>
<p><span class="user-mention" data-user-id="239822">@Nick Freiter</span>  Thx for your help.<br>
<span class="user-mention" data-user-id="191478">@Oliver Egger</span> and i have discussed the issue with the snapshot. We think this requirement of sushi unfavourable, as it restricts the use of mixed IGs. because the publisher creates the snapshot of the xml profiles (too late for sushi).</p>



<a name="231958043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Mixed%20IG%20%28xml%20%2B%20fsh%29%3A%20InstanceOf/near/231958043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Mixed.20IG.20(xml.20.2B.20fsh).3A.20InstanceOf.html#231958043">(Mar 26 2021 at 12:50)</a>:</h4>
<p>To be clear, the snapshot should only be required on a given definition if you are writing FSH that is based on that definition.    If SUSHI is generating an <code>Instance</code> or <code>Profile</code>, it needs to know the full snapshot of the StructureDefinition that <code>Instance</code> is an <code>InstanceOf</code> or that <code>Profile</code> has as a <code>Parent</code>, or else much of the validation SUSHI provides, like type checking for example, is not possible.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
