---
layout: page
title: "FHIR Chat  · How can populate the property for a codesystem ? · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/How.20can.20populate.20the.20property.20for.20a.20codesystem.20.3F.html">How can populate the property for a codesystem ?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="230676557"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/How%20can%20populate%20the%20property%20for%20a%20codesystem%20%3F/near/230676557" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anup Rai <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/How.20can.20populate.20the.20property.20for.20a.20codesystem.20.3F.html#230676557">(Mar 17 2021 at 11:47)</a>:</h4>
<p>I am trying to populate the <a href="http://CodeSystem.property">CodeSystem.property</a> field. </p>
<ul>
<li>^property[0].code = #ErsterTagMitAbschlag</li>
<li>^property[0].type = <a href="http://hl7.org/fhir/concept-property-type#integer">http://hl7.org/fhir/concept-property-type#integer</a><br>
runs without error however does not populate the Codesystem resource. Am I using a wrong syntax ? Is filling property in CodeSystem supported at all ?</li>
</ul>
<p>Thanks in advance.<br>
Anup</p>



<a name="230683786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/How%20can%20populate%20the%20property%20for%20a%20codesystem%20%3F/near/230683786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/How.20can.20populate.20the.20property.20for.20a.20codesystem.20.3F.html#230683786">(Mar 17 2021 at 12:48)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="387864">@Anup Rai</span>.  It should be possible to populate the top-level <code>property</code> in a <code>CodeSystem</code> -- and the way you are doing it is correct if you are using the FSH CodeSystem grammar.  That said, the FSH CodeSystem grammar does <em>not</em> support setting <code>property</code> values on each specific concept (although we hope to support that in FSH STU2).  So... if you also need to set <code>concept.property</code> then you must define your CodeSystem using the <code>Instance</code> grammar.</p>
<p>This link brings you to FSH Online w/ working examples of setting the top-level property using the CodeSystem grammar and doing the same, plus <code>concept.property</code>, using the Instance grammar: <a href="https://fshschool.org/FSHOnline/#/share/30Oe1GU">https://fshschool.org/FSHOnline/#/share/30Oe1GU</a></p>



<a name="230727477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/How%20can%20populate%20the%20property%20for%20a%20codesystem%20%3F/near/230727477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anup Rai <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/How.20can.20populate.20the.20property.20for.20a.20codesystem.20.3F.html#230727477">(Mar 17 2021 at 16:56)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191469">@Chris Moesel</span> thanks a lot for a quick response. I am now resorting to the InstanceOf syntax. Thanks a lot for looking into and a quick solution for the problem.</p>



<a name="234653796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/How%20can%20populate%20the%20property%20for%20a%20codesystem%20%3F/near/234653796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martin Höcker <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/How.20can.20populate.20the.20property.20for.20a.20codesystem.20.3F.html#234653796">(Apr 15 2021 at 10:51)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191469">@Chris Moesel</span> , we ran into a small issue when trying to use the <code>CodeSystem</code> that was created with <code>InstanceOf</code> (<a href="https://fshschool.org/FSHOnline/#/share/2Ry70sl">https://fshschool.org/FSHOnline/#/share/2Ry70sl</a>): </p>
<div class="codehilite"><pre><span></span><code>// Authoring a CodeSystem using Instance to allow for concept.property
Instance: AdvancedMarriageForms
InstanceOf: CodeSystem
Usage: #definition
* name = &quot;AdvancedMarriageForms&quot;
* title = &quot;Advanced Marriage Forms&quot;
* url = AdvancedMarriageForms
* status = #active
* content = #complete
* property.code = #AmicableSplit
* property.type = #boolean
* concept[+].code = #its-complicated
* concept[=].display = &quot;it&#39;s complicated&quot;
* concept[=].property.code = #AmicableSplit
* concept[=].property.valueBoolean = false

Instance: PatientTest
InstanceOf: Patient
* maritalStatus = AdvancedMarriageForms#half-married
</code></pre></div>
<p>This leads to the error: <code>Resolved value "AdvancedMarriageForms" is not a valid URI.</code>. As a workaround, we introduced</p>
<div class="codehilite"><pre><span></span><code>Alias: AdvancedMarriageForms = http://codesystem.com/test
</code></pre></div>
<p>This works, but now we have the name <code>AdvancedMarriageForms </code> occuring twice in our FSH project: Once for the <code>CodeSystem</code>, and another time for the <code>Alias</code>. Is this legal and "safe", or is there maybe a better workaround?</p>



<a name="234657671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/How%20can%20populate%20the%20property%20for%20a%20codesystem%20%3F/near/234657671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martin Höcker <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/How.20can.20populate.20the.20property.20for.20a.20codesystem.20.3F.html#234657671">(Apr 15 2021 at 11:26)</a>:</h4>
<p>Ahh, I found an issue with our workaround: Often, <code>CodeSystem</code> and <code>ValueSet</code> share the same <code>.name</code>. When we introduce a ValueSet with the name <code>AdvancedMarriageForms</code> and use it in a profile, then SUSHI picks up the alias (that points to the CodeSystem) instead of the ValueSet:  <a href="https://fshschool.org/FSHOnline/#/share/3tn51VZ">https://fshschool.org/FSHOnline/#/share/3tn51VZ</a></p>



<a name="234667797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/How%20can%20populate%20the%20property%20for%20a%20codesystem%20%3F/near/234667797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/How.20can.20populate.20the.20property.20for.20a.20codesystem.20.3F.html#234667797">(Apr 15 2021 at 12:43)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="217988">@Martin Höcker</span>.  Once you have an <code>Alias</code>, a <code>CodeSystem</code>, and a <code>ValueSet</code> all with the same name, then things can get a bit tricky and confusing when referring to things by that name.  Sometimes SUSHI can figure it out and sometimes it can't.  I think there are probably things we can do to make SUSHI smarter here, and <em>maybe</em> it would solve this problem, but for now, I'd suggest just giving the alias a different name (e.g., <code>AdvancedMarriageFormsCS</code>).</p>
<p>One thing we will be implementing soon is that when you create <code>#definition</code> instances for items that can hold a canonical URL (like <code>CodeSystem</code>), SUSHI will autopopulate the <code>url</code> based on the canonical of the IG.  I'm not sure if that will 100% help you in this case, but it might.  I think that we also need to update SUSHI to look in <code>Instance</code>s when resolving the system part of <code>System#Code</code>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
