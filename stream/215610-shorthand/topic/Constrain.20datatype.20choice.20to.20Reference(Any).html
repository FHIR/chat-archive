---
layout: page
title: "FHIR Chat  · Constrain datatype choice to Reference(Any) · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constrain.20datatype.20choice.20to.20Reference(Any).html">Constrain datatype choice to Reference(Any)</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="213245774"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constrain%20datatype%20choice%20to%20Reference%28Any%29/near/213245774" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constrain.20datatype.20choice.20to.20Reference(Any).html#213245774">(Oct 14 2020 at 04:31)</a>:</h4>
<p>I'm trying to constrain a datatype choice to just be a valueReference but want the reference to be any type.  (Claim.supportingInfo.value[x]).  I can't figure out how to do this as Reference(Any), Reference(any), Reference() all fail and the documentation doesn't refer to this case.</p>



<a name="213278979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constrain%20datatype%20choice%20to%20Reference%28Any%29/near/213278979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constrain.20datatype.20choice.20to.20Reference(Any).html#213278979">(Oct 14 2020 at 12:13)</a>:</h4>
<p>I'm assuming the <code>Reference</code> in the choice is already a reference to any (otherwise you'd be widening the scope, which is not allowed).  In that case, have you tried simply this: <code>* value[x] only Reference</code>?  I think that would say to only allow the <code>Reference</code> <em>type</em> without impacting what the reference can point to.</p>



<a name="213308006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constrain%20datatype%20choice%20to%20Reference%28Any%29/near/213308006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constrain.20datatype.20choice.20to.20Reference(Any).html#213308006">(Oct 14 2020 at 15:35)</a>:</h4>
<p>that appears to have worked (running the build now but sushi didn't fail) but if I wanted to create an extension and specify that the value was Reference(Any), would the same work?</p>



<a name="213321926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constrain%20datatype%20choice%20to%20Reference%28Any%29/near/213321926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constrain.20datatype.20choice.20to.20Reference(Any).html#213321926">(Oct 14 2020 at 17:09)</a>:</h4>
<p>Yes, since by default, the reference in <code>Extension.value[x]</code> is to any.</p>



<a name="214175146"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constrain%20datatype%20choice%20to%20Reference%28Any%29/near/214175146" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constrain.20datatype.20choice.20to.20Reference(Any).html#214175146">(Oct 22 2020 at 11:48)</a>:</h4>
<p>We should document that. It's definitely not in the documentation currently. I added <a href="https://jira.hl7.org/browse/FHIR-29399">FHIR-29399</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
