---
layout: page
title: "FHIR Chat  · Sushi loader fail · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html">Sushi loader fail</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="217858576"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217858576" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217858576">(Nov 25 2020 at 09:00)</a>:</h4>
<p><a href="#narrow/stream/179252-IG-creation/topic/Sushi.20loader.20fail">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Sushi.20loader.20fail</a> <br>
Hi having some problems running latest version of fsh-sushi - cross posted original issue</p>



<a name="217866059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217866059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217866059">(Nov 25 2020 at 10:16)</a>:</h4>
<p>We are also experiencing the same error (only on windows machines)</p>



<a name="217866630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217866630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217866630">(Nov 25 2020 at 10:22)</a>:</h4>
<p>Did you update npm and node?</p>



<a name="217867055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217867055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217867055">(Nov 25 2020 at 10:27)</a>:</h4>
<p>One colleague used node 14 and it failed, the other one uses node 10</p>



<a name="217867175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217867175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217867175">(Nov 25 2020 at 10:28)</a>:</h4>
<p>The node 14 users reverted his win system to the last rescue point (with node10) and after that sushi worked.</p>



<a name="217880445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217880445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Scrimshire <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217880445">(Nov 25 2020 at 12:57)</a>:</h4>
<p>This also impacts <a href="http://build.fhir.org">build.fhir.org</a>. <br>
It seems that antlr4 v4.9 was released on Nov 24 and it seems to require node 14. </p>
<p>Mark Scrimshire: I am getting an antlr4/error on my <a href="http://build.fhir.org">build.fhir.org</a> build I was compiling locally with 0.16.0 but <a href="http://build.fhir.org">build.fhir.org</a> is using fsh-sushi 1.0.1. I upgraded local copy to <a href="mailto:feh-sushi@1.0.1">feh-sushi@1.0.1</a> and now I get the same issue in loader</p>
<p>Mark Scrimshire: <a href="http://Build.fhir.org">Build.fhir.org</a> gives following sushi/antlr4 error:<br>
/usr/local/bin/sushi -&gt; /usr/local/lib/node_modules/fsh-sushi/dist/app.js<br>
npm WARN notsup Unsupported engine for <a href="mailto:antlr4@4.9.0">antlr4@4.9.0</a>: wanted: {"node":"&gt;=14"} (current: {"node":"12.16.1","npm":"6.13.4"})<br>
npm WARN notsup Not compatible with your version of node/npm: <a href="mailto:antlr4@4.9.0">antlr4@4.9.0</a></p>
<p><a href="mailto:fsh-sushi@1.0.1">fsh-sushi@1.0.1</a><br>
...</p>
<p>Sushi: npx: installed 111 in 4.976s (00:05.0058)<br>
Sushi: Cannot find module 'antlr4/error' (00:05.0231)<br>
Sushi: Require stack: (00:05.0231)</p>



<a name="217882148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217882148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217882148">(Nov 25 2020 at 13:12)</a>:</h4>
<p>I just joined the party</p>



<a name="217882231"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217882231" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217882231">(Nov 25 2020 at 13:13)</a>:</h4>
<p>sushi told me to update node and npm... so I did... now complete failure</p>



<a name="217882740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217882740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217882740">(Nov 25 2020 at 13:18)</a>:</h4>
<p>Oh boy.  OK.  We're on it.</p>



<a name="217883042"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217883042" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217883042">(Nov 25 2020 at 13:21)</a>:</h4>
<p>If it is ANTLR, then I'm disappointed that a <em>minor</em> release would introduce a breaking change like that.  But they don't exactly use semantic versioning, so I guess I should not be surprised.  I thought our <code>package.lock</code> file would protect us from unintentional upgrades like this, but perhaps not.</p>



<a name="217886309"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217886309" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217886309">(Nov 25 2020 at 13:50)</a>:</h4>
<p>OK.  So here's the skinny.  We use a file called <code>package-lock.json</code> to lock our dependencies to specific versions.  We thought this protected us from situations like this.  It turns out, however, that <code>package-lock.json</code> is "not publishable" -- which means it only enforces dependencies in development, but does not enforce them for people installing the published version (which includes all of you).</p>
<p>To enforce dependencies for published versions of a Node.js library, you need to use <code>npm-shrinkwrap.json</code> instead.  I've made that change locally and it seems to work as expected (keeping us on the <em>intended</em> version of the ANTLR dependency).  We'll release an updated version of SUSHI with that change soon!</p>



<a name="217887848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217887848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Scrimshire <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217887848">(Nov 25 2020 at 14:03)</a>:</h4>
<p><a href="http://build.fhir.org">build.fhir.org</a> also joined the party..... :(</p>



<a name="217900472"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217900472" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217900472">(Nov 25 2020 at 15:40)</a>:</h4>
<p>FYI -- I've published SUSHI 1.0.2 with the fix for this.  I rebuilt a few of the failing projects on the auto-build server and confirmed it fixed them.  I haven't published the release notes yet, but you can grab it via the normal means: <code>npm install -g fsh-sushi</code>.  To be clear, this release ensures antlr4 stays on v4.8.0 which does <em>not</em> require Node 14 (Node 10 and Node 12 should work fine).</p>



<a name="217900609"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217900609" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217900609">(Nov 25 2020 at 15:41)</a>:</h4>
<p>I'm also in the middle of publishing a 0.16.1 for those of you who, for some reason, cannot make the jump to 1.x.  I'll officially announce both of them in this stream once it's published.</p>



<a name="217900631"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217900631" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217900631">(Nov 25 2020 at 15:41)</a>:</h4>
<p>Thank you!</p>



<a name="217901037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217901037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217901037">(Nov 25 2020 at 15:45)</a>:</h4>
<p>You're welcome.  <span class="user-mention" data-user-id="191368">@Brett Esler</span>, <span class="user-mention" data-user-id="191451">@Patrick Werner</span>, <span class="user-mention" data-user-id="192609">@Mark Scrimshire</span>, <span class="user-mention" data-user-id="191404">@John Moehrke</span>, <span class="user-mention" data-user-id="192587">@David Pyke</span> -- please accept our apologies for this issue.  It caught us by surprise too.  We obviously try to avoid these types of show-stopping issues and we definitely learned something from this one.  I'm sorry for any inconveniences it caused you and I thank you for helping us identify and resolve it.</p>



<a name="217901380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217901380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217901380">(Nov 25 2020 at 15:47)</a>:</h4>
<p>no worries, thanks for your awesome work!</p>



<a name="217901529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217901529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217901529">(Nov 25 2020 at 15:49)</a>:</h4>
<p>it is all teamwork</p>



<a name="217901752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217901752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217901752">(Nov 25 2020 at 15:51)</a>:</h4>
<p>did you leave in debugging, or is this something else?</p>
<div class="codehilite"><pre><span></span><code>Sushi: info  Loaded package hl7.fhir.r4.core#4.0.1                               (00:04.0543)
Sushi: (node:13864) Warning: Accessing non-existent property &#39;INVALID_ALT_NUMBER&#39; of module exports inside circular dependency (00:04.0691)
Sushi: (Use `node --trace-warnings ...` to show where the warning was created)   (00:04.0693)
Sushi: (node:13864) Warning: Accessing non-existent property &#39;INVALID_ALT_NUMBER&#39; of module exports inside circular dependency (00:04.0695)
Sushi: info  Converting FSH to FHIR resources...                                 (00:04.0704)
</code></pre></div>



<a name="217908674"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217908674" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217908674">(Nov 25 2020 at 16:38)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191404">@John Moehrke</span> -- no, we did not leave in debugging.  This may be related to SUSHI now using the locked in versions and maybe one of them is behaving slightly differently than the previously unlocked-in version.  What version of Node.js are you using?  (hint: <code>node -v</code>).</p>



<a name="217909765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217909765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217909765">(Nov 25 2020 at 16:47)</a>:</h4>
<p>I’ve been getting those errors since I started using sushi in the summer.</p>



<a name="217913872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217913872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217913872">(Nov 25 2020 at 17:17)</a>:</h4>
<p>I looked into this some more.  I'm guessing that anyone who is seeing this error is using Node 14.  It seems to be related to the <code>antlr4</code> dependency (it strikes again!).  It's likely fixed in <code>antlr4@4.9.0</code>, but if we upgrade to that, then it forces <em>everyone</em> to switch to Node 14 -- which we don't want to do right now.  So for now, I think you should probably just try your best to ignore it!</p>



<a name="217916729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217916729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217916729">(Nov 25 2020 at 17:39)</a>:</h4>
<p>okay. by your command.</p>



<a name="217935597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217935597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brett Esler <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217935597">(Nov 25 2020 at 20:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span>  very much appreciated; nice to have my issues fixed while I was sleeping!</p>



<a name="217936822"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217936822" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217936822">(Nov 25 2020 at 20:42)</a>:</h4>
<p>what do I have to do to get this fix? I ran <code>npm install -g fsh-sushi</code>, and I'm now on <a href="mailto:fsh-sushi@1.0.2">fsh-sushi@1.0.2</a>, but I get</p>
<div class="codehilite"><pre><span></span><code>Sushi: npx: installed 111 in 4.281s                                              (00:04.0588)
Sushi: Cannot find module &#39;antlr4/error&#39;                                         (00:04.0781)
</code></pre></div>



<a name="217937289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217937289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217937289">(Nov 25 2020 at 20:46)</a>:</h4>
<p>the IG I'm trying to run has fsh.ini:</p>
<div class="codehilite" data-code-language="INI"><pre><span></span><code><span class="k">[FSH]</span>
<span class="na">sushi-version</span><span class="o">=</span><span class="s">beta</span>
</code></pre></div>



<a name="217938610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217938610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217938610">(Nov 25 2020 at 20:59)</a>:</h4>
<p>That's the problem.  They are still pointing at the old beta tag -- and we did not release a patch to the beta since the beta is over.</p>



<a name="217938623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217938623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217938623">(Nov 25 2020 at 20:59)</a>:</h4>
<p>You know what -- I'll just move the beta tag to point to 1.0.2 -- since the beta is over and 1.0.x is what the beta was for anyway.  Stand by.</p>



<a name="217938783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217938783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217938783">(Nov 25 2020 at 21:00)</a>:</h4>
<p>OK, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- go ahead and give it another shot.</p>



<a name="217938905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217938905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217938905">(Nov 25 2020 at 21:01)</a>:</h4>
<p>(BTW -- if anyone has <code>fsh.ini</code> pointing to <code>0.16.0</code> they are going to run into the same issue -- but in that case we cannot just switch a tag.  They'll have to change <code>fsh.ini</code> to point to <code>0.16.1</code>.)</p>



<a name="217959221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/217959221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#217959221">(Nov 26 2020 at 02:06)</a>:</h4>
<p>yes fixed</p>



<a name="220181858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/220181858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#220181858">(Dec 16 2020 at 22:22)</a>:</h4>
<p>poke... I am still getting this set of messages. I have no fsh.ini as I have moved to the sushi-config.yaml.</p>



<a name="220185162"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/220185162" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#220185162">(Dec 16 2020 at 22:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191404">@John Moehrke</span> -- we thought this was fixed. Are you getting this locally or in the CI build?  If locally, what version of SUSHI are you running?  You can find out via <code>sushi -v</code>.  You should be using version 1.0.2.</p>



<a name="220197823"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/220197823" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#220197823">(Dec 17 2020 at 01:37)</a>:</h4>
<p>local build</p>



<a name="220197833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/220197833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#220197833">(Dec 17 2020 at 01:37)</a>:</h4>
<p>I have fresh updated both IG build and sushi</p>



<a name="220197925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/220197925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#220197925">(Dec 17 2020 at 01:38)</a>:</h4>
<div class="codehilite" data-code-language="sushi"><pre><span></span><code>
</code></pre></div>



<a name="220197932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/220197932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#220197932">(Dec 17 2020 at 01:38)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Sushi: info  Running SUSHI v1.0.2 (implements FHIR Shorthand specification v1.0.0) (00:03.0321)
</code></pre></div>



<a name="220243215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20loader%20fail/near/220243215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20loader.20fail.html#220243215">(Dec 17 2020 at 13:33)</a>:</h4>
<p>Oh!  <span class="user-mention" data-user-id="191404">@John Moehrke</span> -- I was thinking that you were saying that you get the error Grahame most recently reported in the thread (<code>Cannot find module 'antlr4/error'</code>) -- which is definitely fixed.  But I re-read the thread from the start and see that you are probably talking about <code>Warning: Accessing non-existent property 'INVALID_ALT_NUMBER' of module exports inside circular dependency</code>.</p>
<p>This error message only happens if you are running Node 14.  People running Node 10 or 12 will not see it.  The good news is that this error message is completely harmless and can be ignored.  The bad news is that the only way for us to make it go away is make a change that would require <em>everyone</em> to use Node 14.  We have a lot of users on Node 10 and Node 12 that such a change would affect -- so we're not ready to do that.  As I said, you can safely ignore it, but if it really bothers you, then the best way to avoid it is to downgrade Node.js to Node 12.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
