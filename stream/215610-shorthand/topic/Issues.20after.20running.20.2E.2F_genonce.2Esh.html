---
layout: page
title: "FHIR Chat  · Issues after running ./_genonce.sh · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html">Issues after running ./_genonce.sh</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="205534419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/205534419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sheila Connelly <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#205534419">(Jul 30 2020 at 21:24)</a>:</h4>
<p>Still messing around with the DevDays FSH Exercise files. </p>
<p>FYI, I do have installed:  SUSHI v0.15.0 (implements FHIR Shorthand specification v0.13.x)</p>
<p>In Terminal, I get errors and other line items that look like issues after running the command:  ./_genonce.sh</p>
<p>Here is what I see, toward the end:</p>
<p>onGenerate:<br>
No path for <a href="http://hl7.org/fhir/us/core/StructureDefinition/us-core-location">http://hl7.org/fhir/us/core/StructureDefinition/us-core-location</a><br>
No path for <a href="http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization">http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization</a></p>
<p>Checking Output HTML        <br>
found 573 files                   <br>
  ... 573 html files, 0 pages invalid xhtml (0%)  <br>
  ... 45005 links, 985 broken links (2%)   </p>
<p>Finished. 02:56.0522. Validation output in /Users/ssc-mbp/FHIR_FSH_DevDays_Tue/fsh-devdays-exercise-0.0.1/output/qa.html<br>
Errors: 1, Warnings: 10, Info: 0, Broken Links = 985 (04:00.0599)</p>
<p>Even with the above, my IG creates and looks ok.</p>
<p>Are these errors/warning because of an issue with the downloaded “org.hl7.fhir.publisher.jar” ?  Another reason? Something fixable?</p>
<p>Just wondering if I should ignore these errors and warnings or if you know of a reason/workaround/solution/known bugs.</p>
<p>Thank you.</p>



<a name="205534814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/205534814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#205534814">(Jul 30 2020 at 21:28)</a>:</h4>
<p>what is the version of your IG publisher? You can read it at the top of your output/qa.html</p>



<a name="205534863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/205534863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#205534863">(Jul 30 2020 at 21:29)</a>:</h4>
<p>in your case the full path of that file is <br>
/Users/ssc-mbp/FHIR_FSH_DevDays_Tue/fsh-devdays-exercise-0.0.1/output/qa.html</p>



<a name="205534972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/205534972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#205534972">(Jul 30 2020 at 21:30)</a>:</h4>
<p>you should not have a downloaded “org.hl7.fhir.publisher.jar” <br>
you should have a downloaded "publisher.jar"</p>



<a name="205539390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/205539390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sheila Connelly <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#205539390">(Jul 30 2020 at 22:20)</a>:</h4>
<p>I found:  </p>
<p>&lt;p style="background-color: #ffcccc"&gt;IG Publisher Version: v1.1.0, which is out of date. The current version is ?pub-ver-1? &lt;a href="https://storage.googleapis.com/ig-build/org.hl7.fhir.publisher.jar"&gt;Download Latest&lt;/a&gt;&lt;/p&gt;</p>
<p>I downloaded the .jar from the link in qa.html, it was the same file that was downloaded when I ran ./_updatePublisher.sh</p>



<a name="205560652"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/205560652" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#205560652">(Jul 31 2020 at 06:01)</a>:</h4>
<p>i'm not sure for mac/linux, but the solution on windows is: <br>
run ./_updatePublisher.sh twice and answer Y to the 4 questions it will ask you. you should get the latest jar with that.</p>



<a name="205618114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/205618114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#205618114">(Jul 31 2020 at 17:30)</a>:</h4>
<p>That link is outdated - the latest publisher is at <a href="https://github.com/HL7/fhir-ig-publisher/releases/latest/download/publisher.jar">https://github.com/HL7/fhir-ig-publisher/releases/latest/download/publisher.jar</a></p>



<a name="205619358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/205619358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#205619358">(Jul 31 2020 at 17:41)</a>:</h4>
<p>if you run the <a href="http://publisher.sh">publisher.sh</a> twice it will fix that (at least on windows it does)</p>



<a name="206198436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/206198436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sheila Connelly <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#206198436">(Aug 06 2020 at 21:20)</a>:</h4>
<p>Thank you. Reminder that I am on a Mac.</p>
<p>I upgraded to SUSHI 0.15.1 </p>
<p>I downloaded "publisher.jar" from the link Vassil provided.</p>
<p>Then, I downloaded the zip for the “complete solution for the FHIR DevDays US 2020 FHIR Shorthand Let's Build exercise.”<br>
<a href="https://github.com/standardhealth/fsh-devdays-exercise/releases/tag/v0.0.1-solution">https://github.com/standardhealth/fsh-devdays-exercise/releases/tag/v0.0.1-solution</a></p>
<p>1) I made no changes at all to any files.<br>
2) I ran ./_updatePublisher.sh two times and the file downloaded is: ‘org.hl7.fhir.publisher.jar’<br>
3) I removed that file and copied publisher.jar to the same folder location:  input-cache<br>
4) I ran:  ./_genonce.sh<br>
5) Message:  IG Publisher NOT FOUND in input-cache or parent folder. Please run _updatePublisher. Aborting...<br>
6) I renamed publisher.jar to org.hl7.fhir.publisher.jar<br>
7) I re-ran:  ./_genonce.sh<br>
8) The IG was created, though I received the message:  Errors: 1, Warnings: 10, Info: 0, Broken Links = 985 (02:38.0456)</p>
<p>For now, I am not going to worry about those errors and warnings. Many other things to learn about.</p>
<p>Regarding the publisher.jar, if ./_updatePublisher.sh actually downloads the incorrect file, will that be fixed?</p>
<p>Is the correct workaround to download 'publisher.jar' and then rename the file to  ‘org.hl7.fhir.publisher.jar’?</p>



<a name="206202421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/206202421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#206202421">(Aug 06 2020 at 22:03)</a>:</h4>
<p>hmmm it might be your publisher.jar is older than the self-updating version</p>



<a name="206202440"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/206202440" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#206202440">(Aug 06 2020 at 22:03)</a>:</h4>
<p>can you replace it with this<br>
<a href="https://raw.githubusercontent.com/FHIR/sample-ig/master/_updatePublisher.sh">https://raw.githubusercontent.com/FHIR/sample-ig/master/_updatePublisher.sh</a> <br>
?</p>



<a name="206202517"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/206202517" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#206202517">(Aug 06 2020 at 22:04)</a>:</h4>
<p>once you do, there should b no need to workarounds - it will get the jar from the correct location and save it with the right name</p>



<a name="206202713"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/206202713" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#206202713">(Aug 06 2020 at 22:06)</a>:</h4>
<p>your workaround works, although the best workaround is to update the scripts. Via the script, or if that is not working, via the url directly (which is where sushi gets them from=<br>
Sorry if I did not consider your script might be quite old (a few weks old)</p>



<a name="260011499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/260011499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#260011499">(Nov 02 2021 at 15:26)</a>:</h4>
<p>Hi again.</p>
<p>Sorry to make this stream up again. And sorry for asking so many (stupid?) questions.<br>
This time my issue seems to be a little bit more complicated.<br>
I profiled a wound summary. In this summary, we have composition to structure the resources. It is a rather large composition with many sections and subsections. The first-level sections are mandatory, subsections etc. should only be present, if there is content. If a first-level section does not contain any content, <code>emptyReason</code> must be filled. This is ensured by an invariant.</p>
<p>Now sushi runs without any errors. The result can be seen <a href="https://simplifier.net/mareikestestwiese/ewoundsummary">here</a> (Please don't mind the missing references, I just put the composition into the testing area, not all &gt; 30 profiles and value sets).<br>
When I now run <code>_genonce.bat</code>, I get an error:</p>
<div class="codehilite"><pre><span></span><code>java.lang.Exception: Error generating snapshot for EWoundSummary(EWoundSummary): Unable to generate snapshot for http://hs-osnabrueck.de/fhir/eWundbericht/StructureDefinition/EWoundSummary in C:\Users\Mareike\Documents\Workspace\fhir\FSH\eWundbericht\fsh-generated\resources\structuredefinition-EWoundSummary
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:4692)
        at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3976)
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:901)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:753)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:8766)
Caused by: org.hl7.fhir.exceptions.FHIRException: Unable to generate snapshot for http://hs-osnabrueck.de/fhir/eWundbericht/StructureDefinition/EWoundSummary in C:\Users\Mareike\Documents\Workspace\fhir\FSH\eWundbericht\fsh-generated\resources\structuredefinition-EWoundSummary
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4741)
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshots(Publisher.java:4690)
        ... 4 more
Caused by: org.hl7.fhir.exceptions.DefinitionException: Composition.section.section.section hat keine Kinder (Composition.section.section.section) und keine Typen im Profil EWoundSummary.section.section
        at org.hl7.fhir.r5.conformance.ProfileUtilities.getTypeForElement(ProfileUtilities.java:1926)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1498)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1284)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1528)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.processPaths(ProfileUtilities.java:1528)
        at org.hl7.fhir.r5.conformance.ProfileUtilities.generateSnapshot(ProfileUtilities.java:653)
        at org.hl7.fhir.igtools.publisher.Publisher.generateSnapshot(Publisher.java:4739)
        ... 5 more
</code></pre></div>
<p>The German part says: <code>Composition.section.section.section has no children (Composition.section.section.section) and no types in profile WEoundSummary.section.section</code>.</p>
<p>I can't get rid of this error. Can you please give me some guidance? Thanks in advance!</p>



<a name="260113945"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/260113945" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#260113945">(Nov 03 2021 at 10:29)</a>:</h4>
<p>there were some issues with nested sections and the snapshot generator: <a href="#narrow/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Nested.20sections.20-.20can.20these.20be.20profiled.3F</a></p>



<a name="260113974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/260113974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#260113974">(Nov 03 2021 at 10:29)</a>:</h4>
<p>didn't check the release notes if this issue is already fixed.</p>



<a name="260252773"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Issues%20after%20running%20./_genonce.sh/near/260252773" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Issues.20after.20running.20.2E.2F_genonce.2Esh.html#260252773">(Nov 04 2021 at 10:42)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191451">@Patrick Werner</span>. Then I know.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
