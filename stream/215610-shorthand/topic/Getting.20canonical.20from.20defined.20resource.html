---
layout: page
title: "FHIR Chat  · Getting canonical from defined resource · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20canonical.20from.20defined.20resource.html">Getting canonical from defined resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="231646478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Getting%20canonical%20from%20defined%20resource/near/231646478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Körlinge <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20canonical.20from.20defined.20resource.html#231646478">(Mar 24 2021 at 14:48)</a>:</h4>
<p>Hi again =)<br>
I am trying to set the <code>Questionnaire.item.answerValueSet</code> to a valueset I've defined in my fish tank, lets call it <code>MyValueSet</code>. The <code>answerValueSet</code> expects a <code>canonical</code> value. How do I set it to <code>MyValueSet</code>?<br>
I've tried</p>
<div class="codehilite"><pre><span></span><code>* item[0].answerValueSet = MyValueSet
* item[0].answerValueSet = my-value-set-id
* item[0].answerValueSet = #MyValueSet
* item[0].answerValueSet = $MyValueSet
</code></pre></div>
<p>As you can see, I'm just guessing at this point. I tried searching for it in the shorthand specification but couldn't find it. The top alternative (which seems to me the most logical one) yields error <code>Cannot find definition for Instance: MyValueSet. Skipping rule.</code></p>



<a name="231649766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Getting%20canonical%20from%20defined%20resource/near/231649766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Körlinge <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20canonical.20from.20defined.20resource.html#231649766">(Mar 24 2021 at 15:06)</a>:</h4>
<p>I have the same issue with QuestionnaireResponse when creating an instance.</p>
<div class="codehilite"><pre><span></span><code>Instance: QuestionnaireResponseExample
InstanceOf: MyQuestionnaireResponse
* questionnaire = InlineQuestionnaire

Instance: InlineQuestionnaire
InstanceOf: MyQuestionnaire
Usage: #inline
* title = &quot;Example&quot;
* description = &quot;Example&quot;
* purpose = &quot;Example&quot;
* status = #active
</code></pre></div>
<p>where <code>questionnaire</code> is supposed to be a <code>canonical</code>. This fails in sushi compile because: <code>Cannot assign Questionnaire value: InlineQuestionnaire. Value does not match element type: canonical</code></p>



<a name="231651868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Getting%20canonical%20from%20defined%20resource/near/231651868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20canonical.20from.20defined.20resource.html#231651868">(Mar 24 2021 at 15:16)</a>:</h4>
<p>have you defined MyValueSet in the same FSH tank? also this structure exists in FSH i haven't used it so I can't comment on if/how it works here <a href="https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#reference-and-canonical-data-types">https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#reference-and-canonical-data-types</a></p>



<a name="231655562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Getting%20canonical%20from%20defined%20resource/near/231655562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20canonical.20from.20defined.20resource.html#231655562">(Mar 24 2021 at 15:37)</a>:</h4>
<p>I think you're looking for the <code>Canonical(...)</code> feature.  In your first example, you should be able to do:</p>
<div class="codehilite"><pre><span></span><code>* item[0].answerValueSet = Canonical(MyValueSet)
</code></pre></div>
<p>The <code>Canonical</code> keyword will extract the canonical URL from the resource name/id you feed it (as long as it can find the definition for that resource).</p>



<a name="231655948"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Getting%20canonical%20from%20defined%20resource/near/231655948" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20canonical.20from.20defined.20resource.html#231655948">(Mar 24 2021 at 15:39)</a>:</h4>
<p>Ah.  And I see that's actually what <span class="user-mention" data-user-id="237342">@ryan moehrke</span> linked to above.  Thanks, Ryan!  I was about to look for that reference.</p>



<a name="231681538"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Getting%20canonical%20from%20defined%20resource/near/231681538" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Körlinge <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20canonical.20from.20defined.20resource.html#231681538">(Mar 24 2021 at 18:04)</a>:</h4>
<p>Spot on, thanks guys! Not sure how I missed it</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
