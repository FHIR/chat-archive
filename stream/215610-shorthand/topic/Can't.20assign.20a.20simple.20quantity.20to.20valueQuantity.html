---
layout: page
title: "FHIR Chat  · Can&#x27;t assign a simple quantity to valueQuantity · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Can&#x27;t.20assign.20a.20simple.20quantity.20to.20valueQuantity.html">Can&#x27;t assign a simple quantity to valueQuantity</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="271472753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Can%27t%20assign%20a%20simple%20quantity%20to%20valueQuantity/near/271472753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Can&#x27;t.20assign.20a.20simple.20quantity.20to.20valueQuantity.html#271472753">(Feb 10 2022 at 18:21)</a>:</h4>
<p>I'm trying to assign the following:</p>



<a name="271472949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Can%27t%20assign%20a%20simple%20quantity%20to%20valueQuantity/near/271472949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Can&#x27;t.20assign.20a.20simple.20quantity.20to.20valueQuantity.html#271472949">(Feb 10 2022 at 18:23)</a>:</h4>
<div class="codehilite"><pre><span></span><code>  * valueQuantity = 0.8
</code></pre></div>

<p>But I get the error <br>
Cannot assign number value: 0.8. Value does not match element type: Quantity</p>



<a name="271472978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Can%27t%20assign%20a%20simple%20quantity%20to%20valueQuantity/near/271472978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Can&#x27;t.20assign.20a.20simple.20quantity.20to.20valueQuantity.html#271472978">(Feb 10 2022 at 18:23)</a>:</h4>
<p>I don't have a unit as it's the result of a ratio</p>



<a name="271474471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Can%27t%20assign%20a%20simple%20quantity%20to%20valueQuantity/near/271474471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Can&#x27;t.20assign.20a.20simple.20quantity.20to.20valueQuantity.html#271474471">(Feb 10 2022 at 18:34)</a>:</h4>
<p>I've worked around it by simply putting it directly into valueQuantity.value but that seems wrong.  Could not having a unit be a warning and not an error?</p>



<a name="271477148"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Can%27t%20assign%20a%20simple%20quantity%20to%20valueQuantity/near/271477148" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Can&#x27;t.20assign.20a.20simple.20quantity.20to.20valueQuantity.html#271477148">(Feb 10 2022 at 18:55)</a>:</h4>
<p>I think we could consider it, but the FSH spec defines a quantity literal (the shortcut syntax) as having both a value and unit -- so it would likely be a change to the spec (not just SUSHI).  The spec also shows that to set the value only, you should reference the <code>.value</code> element of the property.  See <a href="http://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#assignments-with-the-quantity-data-type">Assignments with Quantity Data Type</a>.</p>
<p>That said, I thought that in cases like you're describing, UCUM unit <code>1</code> should be used.  The doc on <a href="http://hl7.org/fhir/R4/datatypes.html#Ratio">Ratio</a> even seems to imply use of Quantity w/ unit <code>1</code> (although it is admittedly a little confusing, so I'm not 100% sure).</p>



<a name="271478697"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Can%27t%20assign%20a%20simple%20quantity%20to%20valueQuantity/near/271478697" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Can&#x27;t.20assign.20a.20simple.20quantity.20to.20valueQuantity.html#271478697">(Feb 10 2022 at 19:05)</a>:</h4>
<p>I guess that makes sense.  Quantity datatype doesn't mandate a unit but I can work with a unit of <code>1</code></p>



<a name="271486972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Can%27t%20assign%20a%20simple%20quantity%20to%20valueQuantity/near/271486972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Can&#x27;t.20assign.20a.20simple.20quantity.20to.20valueQuantity.html#271486972">(Feb 10 2022 at 20:06)</a>:</h4>
<p>I don't mind the normal sushi to require a unit. You can just assign to .value without a unit.</p>



<a name="271496725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Can%27t%20assign%20a%20simple%20quantity%20to%20valueQuantity/near/271496725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gino Canessa <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Can&#x27;t.20assign.20a.20simple.20quantity.20to.20valueQuantity.html#271496725">(Feb 10 2022 at 21:25)</a>:</h4>
<p>Note that there are valid UCUM for things like <code>/{Entity}</code> (per arbitrary entity), e.g., <code>/1</code> is a valid unit.<br>
(edit: which gives context for 0.8 and prevents people from assuming it is a % - conversely you could change it and use %.. I think either way helps reduce misinterpretation)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
