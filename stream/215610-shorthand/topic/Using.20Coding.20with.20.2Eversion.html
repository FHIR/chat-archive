---
layout: page
title: "FHIR Chat  · Using Coding with .version · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Using.20Coding.20with.20.2Eversion.html">Using Coding with .version</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="239067905"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Using%20Coding%20with%20.version/near/239067905" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martin Höcker <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Using.20Coding.20with.20.2Eversion.html#239067905">(May 17 2021 at 10:53)</a>:</h4>
<p>I am trying to use a Coding that has the .version-field filled. The <a href="https://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#codes-and-codings">FSH language-spec says</a>:</p>
<blockquote>
<p>FSH represents Codings in the following ways:</p>
<p><code>{CodeSystem name|id|url}#{code} "{display string}"</code></p>
<p><code>{CodeSystem name|id|url}|{version string}#{code} "{display string}"</code></p>
</blockquote>
<p>So I tried (<a href="https://fshschool.org/FSHOnline/#/share/33SwUtT">FSHSchool</a>)</p>
<div class="codehilite"><pre><span></span><code>CodeSystem: Test
* ^version = &quot;1.0&quot;
* #testcode &quot;test-code&quot; &quot;A code for testing&quot;


Instance: TestPatient
InstanceOf: Patient
* maritalStatus = Test|1.0#testcode
</code></pre></div>
<p>But I get the error <code>error Resolved value "Test|1.0" is not a valid URI.</code>. Could this be a bug in Sushi?</p>
<p>A colleague of mine figured out a workaround (<a href="https://fshschool.org/FSHOnline/#/share/3eSg9p5">FSHSchool</a>): </p>
<div class="codehilite"><pre><span></span><code>Alias: codesystemurl = http://http://example.org/fhir/CodeSystem/Test

CodeSystem: Test
* ^version = &quot;1.0&quot;
* ^url = codesystemurl
* #testcode &quot;test-code&quot; &quot;A code for testing&quot;

Instance: TestPatient
InstanceOf: Patient
* maritalStatus = codesystemurl|1.0#testcode
</code></pre></div>
<p>This compiles with no errors and produces the desired output.</p>



<a name="239082325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Using%20Coding%20with%20.version/near/239082325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Using.20Coding.20with.20.2Eversion.html#239082325">(May 17 2021 at 12:51)</a>:</h4>
<p><span class="user-mention" data-user-id="217988">@Martin Höcker</span> - It seems that the first case <em>should</em> be supported, so I would consider this to be a bug.  I've logged it as <a href="https://github.com/FHIR/sushi/issues/816">SUSHI #816</a>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
