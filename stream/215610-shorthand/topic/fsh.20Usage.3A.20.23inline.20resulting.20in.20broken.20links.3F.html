---
layout: page
title: "FHIR Chat  · fsh Usage: #inline resulting in broken links? · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html">fsh Usage: #inline resulting in broken links?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="275442069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275442069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matt Jenks <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275442069">(Mar 15 2022 at 22:03)</a>:</h4>
<p>I'm creating an IG using FSH and attempting to clear out all of my ERRORS from my qa.txt.</p>
<p>I'm creating this inline example:</p>
<p>Alias: $identUse = <a href="http://hl7.org/fhir/R4/codesystem-identifier-use.html">http://hl7.org/fhir/R4/codesystem-identifier-use.html</a><br>
Alias: $cpstatus = <a href="https://hl7.org/fhir/codesystem-request-status.html">https://hl7.org/fhir/codesystem-request-status.html</a><br>
Alias: $cpintent = <a href="https://hl7.org/fhir/codesystem-request-intent.html">https://hl7.org/fhir/codesystem-request-intent.html</a><br>
Alias: $rgPriority = <a href="https://hl7.org/fhir/codesystem-request-priority.html">https://hl7.org/fhir/codesystem-request-priority.html</a><br>
Alias: $docArtType = <a href="https://hl7.org/fhir/codesystem-related-artifact-type.html">https://hl7.org/fhir/codesystem-related-artifact-type.html</a></p>
<p>Instance: SomeRequestGroup1<br>
InstanceOf: SomeRequestGroup<br>
Title: "A RequestGroup"<br>
Description: "A RequestGroup"<br>
Usage: #inline</p>
<ul>
<li>identifier.use = $identUse#secondary</li>
<li>identifier.system = "<a href="https://example.someurl.com/businessidforhelp">https://example.someurl.com/businessidforhelp</a>"</li>
<li>identifier.value = "a2172f9b-e292-44e0-a2a6-8601fd529ad2"</li>
<li>instantiatesUri = "<a href="https://someurl.com/Guidance.html">https://someurl.com/Guidance.html</a>"</li>
<li>status = $cpstatus#active</li>
<li>intent = $cpintent#plan</li>
<li>priority = $rgPriority#routine</li>
<li>action.title = "Alfredo17 Buckridge80 (Targeted) recommended for help"</li>
<li>action.description = "Enroll Alfredo17 Buckridge80 who is currently targeted, into help"</li>
<li>action.resource = Reference(Communication/MemberStatusTargeted-Communication1)</li>
<li>action.documentation.type = $docArtType#documentation</li>
<li>action.documentation.url = "<a href="https://someurl.com/helpthepatient">https://someurl.com/helpthepatient</a>"</li>
<li>action.documentation.label = "Guidance Reference"</li>
</ul>
<p>which is used in this CarePlan:</p>
<p>Instance: CarePlan-Enrollment<br>
InstanceOf: CarePlan<br>
Title: "Enrollment CarePlan"<br>
Description: "A CarePlan conforming to the CompanyCarePlan profile."<br>
Usage: #example</p>
<ul>
<li>identifier.use = $identUse#secondary</li>
<li>identifier.system = "<a href="https://example.someurl.com/businessidforhelp">https://example.someurl.com/businessidforhelp</a>"</li>
<li>identifier.value = "a2172f9b-e292-44e0-a2a6-8601fd529ad2"</li>
<li>title = "Recommendations forAlfredo17 Buckridge80"</li>
<li>description = "Recommendations for Alfredo17 Buckridge80 regarding maintenance of their condition"</li>
<li>contained[0] = RequestGroup1</li>
<li>text.status = $narrativeStatus#generated</li>
<li>text.div = "&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;p&gt;A example CarePlan for a  patient.&lt;/p&gt;\n"</li>
<li>status = $cpstatus#active</li>
<li>intent = $cpintent#plan</li>
<li>subject = Reference(Patient/T2D-Patient)</li>
<li>activity[0].reference = Reference(RequestGroup/SomeRequestGroup1) </li>
<li>activity[+].outcomeReference = Reference(Communication/MemberStatusTargeted-Communication1) </li>
</ul>
<p>Everything builds, but I get a broken link showing up in my qa.txt.</p>
<p>ERROR: output/toc.html#/html/body/div/div/div/div/div/div/table/tbody/tr/td/a at Line 141, column 16586: The link 'RequestGroup-CarePlan-Enrollment_SomeRequestGroup1.html' for "7.15.1 RequestGroup" cannot be resolved.</p>
<p>Is there a configuration setting that I should be using to tell the TOC generator not to generate links for inline examples? Or am I doing something else wrong? Thanks for any insights.</p>



<a name="275513061"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275513061" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mint Thompson <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275513061">(Mar 16 2022 at 13:54)</a>:</h4>
<p>Hmm, SUSHI shouldn't be trying to list inline instances in the generated ImplementationGuide's list of defined resources, so if that instance isn't appearing in there, I don't know if it's something that's under SUSHI's control.</p>



<a name="275530307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275530307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Catherine Hosage Norman <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275530307">(Mar 16 2022 at 15:45)</a>:</h4>
<p>Jean Duteau wrote the <a href="http://hl7.org/fhir/StructureDefinition/medication-manufacturingBatch">http://hl7.org/fhir/StructureDefinition/medication-manufacturingBatch</a> extension for the PQ/CMC project.</p>



<a name="275530776"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275530776" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275530776">(Mar 16 2022 at 15:48)</a>:</h4>
<p><span class="user-mention" data-user-id="197370">@Catherine Hosage Norman</span> -- I think you replied to the wrong thread.</p>



<a name="275530989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275530989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Catherine Hosage Norman <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275530989">(Mar 16 2022 at 15:50)</a>:</h4>
<p>Sorry, only had one cup of coffee so far.</p>



<a name="275534188"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275534188" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275534188">(Mar 16 2022 at 16:07)</a>:</h4>
<p><span class="user-mention" data-user-id="191701">@Matt Jenks</span> - I do see one issue in your FSH.  You contain <code>RequestGroup1</code>:</p>
<div class="codehilite"><pre><span></span><code>* contained[0] = RequestGroup1
</code></pre></div>
<p>but then you reference <code>SomeRequestGroup1</code> (which is a different instance):</p>
<div class="codehilite"><pre><span></span><code>activity[0].reference = Reference(RequestGroup/SomeRequestGroup1)
</code></pre></div>
<p>That said, even after fixing this, the IG Publisher is still reporting this broken link error.  That seems to be an issue w/ the IG Publisher (not SUSHI).  I think it might be a <em>known</em> issue, as it sounds familiar.</p>



<a name="275541233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275541233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275541233">(Mar 16 2022 at 16:47)</a>:</h4>
<p>(nvm)</p>



<a name="275547271"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275547271" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275547271">(Mar 16 2022 at 17:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> - are there known issues w/ the IG Publisher / templating system putting links to contained resources in the TOC (but the links are wrong)?  E.g., in the following TOC, <code>2.1.1 RequestGroup</code> is a <em>broken link</em> to a <em>contained</em> resource.<br>
<a href="/user_uploads/10155/TfLFpQM559vtpLExJEWZJXpe/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/TfLFpQM559vtpLExJEWZJXpe/image.png" title="image.png"><img src="/user_uploads/10155/TfLFpQM559vtpLExJEWZJXpe/image.png"></a></div>



<a name="275548053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275548053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275548053">(Mar 16 2022 at 17:27)</a>:</h4>
<p>I have a guide (<a href="http://build.fhir.org/ig/HL7/fhir-spl/branches/main/toc.html">http://build.fhir.org/ig/HL7/fhir-spl/branches/main/toc.html</a>) that has contained resources and the resource links have a wrong name but the actual links aren't broken.<br>
<a href="/user_uploads/10155/5WevsT6DiXfk7JSUbt0-1ytu/Screen-Shot-2022-03-16-at-11.26.47-AM.png">Screen-Shot-2022-03-16-at-11.26.47-AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/5WevsT6DiXfk7JSUbt0-1ytu/Screen-Shot-2022-03-16-at-11.26.47-AM.png" title="Screen-Shot-2022-03-16-at-11.26.47-AM.png"><img src="/user_uploads/10155/5WevsT6DiXfk7JSUbt0-1ytu/Screen-Shot-2022-03-16-at-11.26.47-AM.png"></a></div>



<a name="275550084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275550084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275550084">(Mar 16 2022 at 17:40)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span> -- are those contained resources defined <em>inline</em> only or do they also exist as standalone resources?</p>



<a name="275550158"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275550158" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275550158">(Mar 16 2022 at 17:40)</a>:</h4>
<p>ah yes, there's the rub - they exist as standalone.</p>



<a name="275550182"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275550182" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275550182">(Mar 16 2022 at 17:40)</a>:</h4>
<p>and here I was trying to help...</p>



<a name="275550469"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275550469" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275550469">(Mar 16 2022 at 17:42)</a>:</h4>
<p>Well... that may be a helpful clue...</p>



<a name="275556323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275556323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275556323">(Mar 16 2022 at 18:21)</a>:</h4>
<p>How can a resource be contained and also stand-alone?  Each instance must either be one or the other...</p>



<a name="275564624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/fsh%20Usage%3A%20%23inline%20resulting%20in%20broken%20links%3F/near/275564624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/fsh.20Usage.3A.20.23inline.20resulting.20in.20broken.20links.3F.html#275564624">(Mar 16 2022 at 19:20)</a>:</h4>
<p>I think he means that in his IG, he has an example <code>OrganizationAffiliation</code> w/ a specific id (as a standalone resource).  In the same IG, his <code>ExampleEstablishment</code> example has a <code>contained</code> resource that is the same as his <code>OrganizationAffiliation</code> example (even w/ the same id).</p>
<p>So, I think his works because:</p>
<ul>
<li>the standalone <code>OrganizationAffiliation</code> example is what causes the publisher to create an HTML page for it</li>
<li>the contained <code>OrganizationAffiliation</code> gets a link in the TOC, and since the contained resource has the same type and id, that link happens to point to the HTML that was produced for the standalone example.</li>
</ul>
<p>If there was no standalone example w/ the same type and id, then no HTML page would be produced for it, and the link for the contained resource would be broken.</p>
<p>At least that is my hypothesis.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
