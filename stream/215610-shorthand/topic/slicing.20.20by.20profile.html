---
layout: page
title: "FHIR Chat  · slicing  by profile · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20.20by.20profile.html">slicing  by profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="277857700"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20%20by%20profile/near/277857700" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diana_Ovelgoenne <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20.20by.20profile.html#277857700">(Apr 05 2022 at 10:43)</a>:</h4>
<p>Since while ago I've been having the following definition for my slices on Observation.hasMember</p>
<ul>
<li>hasMember ^slicing.discriminator.type = #profile</li>
<li>hasMember ^slicing.discriminator.path = "$this.resolve()"</li>
<li>hasMember ^slicing.rules = #open</li>
<li>hasMember ^slicing.ordered = false</li>
<li>
<p>hasMember contains<br>
profileA 0..1 and<br>
profileB 0..1 and<br>
profileC 0..* </p>
</li>
<li>
<p>hasMember[profileA] only Reference(ProfileAObservation)</p>
</li>
<li>hasMember[profileB] only Reference(ProfileBObservation)</li>
<li>
<p>hasMember[profileC] only Reference(ProfileCObservation)<br>
It hasn't given any errors till I updated Ig publisher to 1.1.114, the instances I create say Profile ParentObservation, Element matches more than one slice - ProfileAExample, ProfileBexample<br>
I defined inside the Instance this:<br>
...</p>
</li>
<li>
<p>hasMember[0] = Reference(ProfileAExample) </p>
</li>
<li>hasMember[+] = Reference(ProfileBexample) </li>
<li>hasMember[+] = Reference(ProfileCexample)</li>
</ul>
<p>What shall be the right syntaxis to avoid such error on ig publisher, from the sushi side I don't get any</p>



<a name="277883398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20%20by%20profile/near/277883398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mint Thompson <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20.20by.20profile.html#277883398">(Apr 05 2022 at 14:03)</a>:</h4>
<p>I think that in order to avoid this error, each of your Observation profiles and instances need to be defined such that each instance conforms to exactly one of your Observation profiles. If there aren't a lot of rules on those profiles, it may be the case that your instances conform to more than one profile, which violates the slicing.</p>



<a name="278667768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20%20by%20profile/near/278667768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Moritz Kähler <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20.20by.20profile.html#278667768">(Apr 12 2022 at 09:24)</a>:</h4>
<p>Hi Thompson, I'm following up on the problem Diana mentioned.<br>
The resource referenced in hasMember adheres only to one single profile.<br>
I build this repository with minimal resources to reproduce the error here:<br>
<a href="https://github.com/mkaehlershs/FhirSlicingOnProfiles">https://github.com/mkaehlershs/FhirSlicingOnProfiles</a><br>
(Used:  IG Publisher Version: v1.1.114)</p>
<p>A quick summery here:<br>
There is one Profile, lets call it SDParentObservation profile that defines 3 slices on hasMember field.<br>
Each of this slices is bound to a different profile( SDMember[one|two|three]Observation. Each profile uses a different fixed code.)<br>
Full fsh code attached. <a href="/user_uploads/10155/K9CncRgVV9F6ClOC_8swf06i/Sample.fsh">Sample.fsh</a></p>
<p>The ParentObservationExample (instance for SDParentObservation profile) that contains only one member for sliceMemberOne causes following errors in qa report:</p>
<table>
<thead>
<tr>
<th>Path</th>
<th align="center">Severity</th>
<th align="right">Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>Observation.hasMember[0] (l36/c6)</td>
<td align="center">error</td>
<td align="right">Profil <a href="http://example.com/fhir/example/StructureDefinition/sd-parent-observation">http://example.com/fhir/example/StructureDefinition/sd-parent-observation</a>, Element matches more than one slice - sliceMemberOne, sliceMemberTwo</td>
</tr>
<tr>
<td>Observation.hasMember[0] (l36/c6)</td>
<td align="center">error</td>
<td align="right">Profil <a href="http://example.com/fhir/example/StructureDefinition/sd-parent-observation">http://example.com/fhir/example/StructureDefinition/sd-parent-observation</a>, Element matches more than one slice - sliceMemberOne, sliceMemberThree</td>
</tr>
</tbody>
</table>
<p>But the referenced resource for sliceMemberOne uses a code that is different to the code defined in the profiles for sliceMemberTwo and sliceMemberThree.</p>
<p>Any Idea how to fix this?</p>



<a name="278670740"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20%20by%20profile/near/278670740" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Moritz Kähler <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20.20by.20profile.html#278670740">(Apr 12 2022 at 09:54)</a>:</h4>
<p>OK I found the problem. It is caused, because the SDMemberOne/Two/Three Observation profiles allow to not provide the common code slice.<br>
When I changed the cardinality for commonCode from 0..1 to 1..* the error goes away.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
