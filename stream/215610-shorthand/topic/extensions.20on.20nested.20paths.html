---
layout: page
title: "FHIR Chat  · extensions on nested paths · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extensions.20on.20nested.20paths.html">extensions on nested paths</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204839482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extensions%20on%20nested%20paths/near/204839482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extensions.20on.20nested.20paths.html#204839482">(Jul 23 2020 at 18:58)</a>:</h4>
<p>I'm creating a profile on PlanDefinition that has nested action elements, and want to add an extension to the action. If I add the extension to the element thusly:</p>
<div class="codehilite"><pre><span></span><code>* action.extension contains
    $TOD named timing-of-days 0..*
</code></pre></div>


<p>It only works at that 'level'. To specify it at a different level, it needs to be explicitly added like so:</p>
<div class="codehilite"><pre><span></span><code>* action.action.action.extension contains
    $TOD named timing-of-days 0..*
</code></pre></div>



<a name="204909710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extensions%20on%20nested%20paths/near/204909710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extensions.20on.20nested.20paths.html#204909710">(Jul 24 2020 at 12:36)</a>:</h4>
<p><code>PlanDefinition.action.action</code> is a <a href="http://hl7.org/fhir/R4/elementdefinition-definitions.html#ElementDefinition.contentReference">contentReference</a> to <code>PlanDefinition.action</code>.  A <em>contentReference</em> is kind of like a symbolic link to the original definition of what it points to.  Since <em>contentReference</em>s do not inherit constraints,  I don't think we can expect an extension at the top-level to be automatically inherited by the nested definition.  From the <em>contentReference</em> documentation:</p>
<blockquote>
<p>ContentReferences... always reference the non-constrained definition.</p>
</blockquote>



<a name="204910269"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extensions%20on%20nested%20paths/near/204910269" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extensions.20on.20nested.20paths.html#204910269">(Jul 24 2020 at 12:43)</a>:</h4>
<p>But the definition of contentReference says "ContentReferences bring across all the rules that are in the ElementDefinition for the element, including definitions, cardinality constraints, bindings, invariants etc."  If it's bringing that all across, why not extensions?</p>



<a name="204910474"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extensions%20on%20nested%20paths/near/204910474" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extensions.20on.20nested.20paths.html#204910474">(Jul 24 2020 at 12:46)</a>:</h4>
<p><span class="user-mention" data-user-id="192587">@David Pyke</span> -- based on the additional comment that they "reference the non-constrained definition", I think the description you cite refers to the elements within the <em>original</em> definition (e.g., as defined by the core FHIR <em>resource</em> or <em>datatype</em>).  I feel like I've brought this ambiguity up before though.  Let me see if I can find on old thread that talks about this.</p>



<a name="204910864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extensions%20on%20nested%20paths/near/204910864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extensions.20on.20nested.20paths.html#204910864">(Jul 24 2020 at 12:50)</a>:</h4>
<p>OK.  Found the old conversation and it did not end as conclusively as I thought.  See: <a href="#narrow/stream/179252-IG-creation/topic/Clarification.20on.20contentReference">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Clarification.20on.20contentReference</a></p>
<p>I'll poke on that thread and see if Grahame was able to flesh that out in an example or not.</p>



<a name="204953950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/extensions%20on%20nested%20paths/near/204953950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/extensions.20on.20nested.20paths.html#204953950">(Jul 24 2020 at 19:00)</a>:</h4>
<p>Oh, interesting! It's certainly not a blocker in my Use Case as I'm being specific about the levels in use but can see other scenarios where that may be be so simple. I'll follow the conversation with interest...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
