---
layout: page
title: "FHIR Chat  · Sushi not defaulting to open slicing rules · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20not.20defaulting.20to.20open.20slicing.20rules.html">Sushi not defaulting to open slicing rules</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="244896459"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20not%20defaulting%20to%20open%20slicing%20rules/near/244896459" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yannick Börner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20not.20defaulting.20to.20open.20slicing.20rules.html#244896459">(Jul 05 2021 at 05:43)</a>:</h4>
<p>Good morning everyone! While using SUSHI v2.0.0-beta.1 and converting the snippet below, I had to explicitly set the section's slicing rules as Sushi did not default them to 'open': </p>
<div class="codehilite"><pre><span></span><code>Profile: CompositionFehlernachricht
Parent: Composition
Id: CompositionFehlernachricht
* meta 1.. MS
* meta.profile 1..1 MS
* meta.profile = &quot;profile&quot;
* extension contains Emp named Emp 1..1 MS
* extension contains Abs named Abs 1..1 MS
* extension contains Ver named Ver 1..1 MS
* extension[Ver]
  * extension[Verc].valueCoding = Vercs#FEHL
* identifier 1.. MS
* identifier ^short = &quot;Verid&quot;
* identifier.system = &quot;verid&quot;
* status = #final (exactly)
* status MS
* type MS
* type.coding 1.. MS
* type.coding = Nac#FEHL &quot;Feh&quot;
* subject 1.. MS
* subject only Reference(Vers)
* date MS
* date ^short = &quot;Erstellungsdatum&quot;
* author 1..1 MS
  * display 1..1 MS
* title = &quot;Vers title&quot; (exactly)
* title MS
* title ^short = &quot;Dok (=Versp)&quot;
* section ^slicing.discriminator.type = #pattern
* section ^slicing.discriminator.path = &quot;$this&quot;
* section ^slicing.rules = #open
* section contains
    Fehl 1..1 MS
* section[Fehl]
  * title 1..1 MS
  * title = &quot;Fehl&quot;
  * entry 1..1 MS
  * entry only Reference(Fehl)
</code></pre></div>
<p>I was under the assumption that if nothing is specified with regards to the slicing rule element, Sushi would simply default it to 'open' (as it does in other projects) but this does not seem to be the case here. Another Composition in the input was affected as well. Is this a feature or a bug?</p>



<a name="245036176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20not%20defaulting%20to%20open%20slicing%20rules/near/245036176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20not.20defaulting.20to.20open.20slicing.20rules.html#245036176">(Jul 06 2021 at 13:12)</a>:</h4>
<p>Is it possible that the other cases where SUSHI defaults to <code>open</code> were slicing on <code>extension</code> elements? Generally SUSHI should require the <code>slicing.rules</code> to be specified. However, in the case of <code>extension</code>, SUSHI does default the <code>slicing.rules</code> to <code>open</code>. Is it also possile that in these other examples the element being sliced was inheriting from a parent element that already had <code>slicing.rules</code> specified?</p>



<a name="245783529"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20not%20defaulting%20to%20open%20slicing%20rules/near/245783529" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yannick Börner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20not.20defaulting.20to.20open.20slicing.20rules.html#245783529">(Jul 13 2021 at 06:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="239822">Nick Freiter</span> <a href="#narrow/stream/215610-shorthand/topic/Sushi.20not.20defaulting.20to.20open.20slicing.20rules/near/245036176">said</a>:</p>
<blockquote>
<p>Is it possible that the other cases where SUSHI defaults to <code>open</code> were slicing on <code>extension</code> elements? Generally SUSHI should require the <code>slicing.rules</code> to be specified. However, in the case of <code>extension</code>, SUSHI does default the <code>slicing.rules</code> to <code>open</code>. Is it also possile that in these other examples the element being sliced was inheriting from a parent element that already had <code>slicing.rules</code> specified?</p>
</blockquote>
<p>Hi Nick, sorry for getting back to you so late. They were actually slicing on the <code>telecom</code> element and not <code>extension</code> elements. The latter required me to specifically define the rules. Unfortunately I can not confirm the second question, those were standalone elements without any inheritance. I'll keep this in mind for my next FSH session and try to find some patterns in this behavior so that I can get back to you with something more tangible. Thank you so much for your input!</p>



<a name="246206775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20not%20defaulting%20to%20open%20slicing%20rules/near/246206775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20not.20defaulting.20to.20open.20slicing.20rules.html#246206775">(Jul 16 2021 at 10:26)</a>:</h4>
<p>I think the part that's confusing here is that a missing slicing rule doesn't show up as an error in SUSHI. It isn't until you run validation, that the issue becomes apparent.</p>



<a name="246206831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20not%20defaulting%20to%20open%20slicing%20rules/near/246206831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20not.20defaulting.20to.20open.20slicing.20rules.html#246206831">(Jul 16 2021 at 10:27)</a>:</h4>
<p>IMO, in case of a missing rule SUSHI should either default or report an error.</p>



<a name="246618439"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Sushi%20not%20defaulting%20to%20open%20slicing%20rules/near/246618439" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Sushi.20not.20defaulting.20to.20open.20slicing.20rules.html#246618439">(Jul 20 2021 at 16:52)</a>:</h4>
<p>That's a fair request <span class="user-mention" data-user-id="191450">@Simone Heckmann</span>.  I've filed <a href="https://github.com/FHIR/sushi/issues/885">SUSHI#885</a> for it. Thanks!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
