---
layout: page
title: "FHIR Chat  · constraining datatype · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/constraining.20datatype.html">constraining datatype</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="190029635"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/constraining%20datatype/near/190029635" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/constraining.20datatype.html#190029635">(Mar 08 2020 at 21:59)</a>:</h4>
<p>I have an FSH file as follows:</p>
<div class="codehilite"><pre><span></span>Extension: NzEthnicity
Id: nzEthnicity
Description: &quot;The ethnicity of the patient. One to six level 4 codes.&quot;
//These files were generated by a script from a model at NzNHIPatient.ethnicity

* extension 0..0
* value[x] only CodeableConcept
* valueCodeableConcept from http://standards.digital.health.nz/valueset/ethnic-group-level-4 (preferred)
</pre></div>


<p>But when the IG is built, the snapshot shows all data types for value[x]. What am I doing wrong?</p>
<p>Interestingly,  other definitions like the one below seem to work OK:</p>
<div class="codehilite"><pre><span></span>Extension: Registration_status
Id: registration-status
Description: &quot;An indicator of the practicing status of the practitioner as supplied by their Responsible Authority or professional body.&quot;
//These files were generated by a script from a model at HpiPractitioner.qualification.status

* extension 0..0
* value[x] only CodeableConcept
* valueCodeableConcept from http://standards.digital.health.nz/fhir/ValueSet/registration-status (preferred)
</pre></div>



<a name="190060194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/constraining%20datatype/near/190060194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/constraining.20datatype.html#190060194">(Mar 09 2020 at 11:36)</a>:</h4>
<p>I wasn't able to reproduce this using the FSH in the first snippet. The StructureDefinition generated by SUSHI had <code>value[x]</code> constrained to only <code>CodeableConcept</code>. When you say "when the IG is built" do you mean after using the IG Publisher on the output of SUSHI? Is it possible SUSHI may have produced the correct output and something went wrong in the IG building process? Or is it possible there were FSH errors not shown here that may have stopped SUSHI from building?</p>
<p>It seems like that snippet of FSH is working fine, let me know if you can reproduce the issue with just that snippet, or we can try reproducing using your whole set of FSH files.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
