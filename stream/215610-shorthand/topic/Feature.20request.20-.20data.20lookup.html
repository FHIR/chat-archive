---
layout: page
title: "FHIR Chat  · Feature request - data lookup · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html">Feature request - data lookup</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="227477333"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227477333" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227477333">(Feb 23 2021 at 18:15)</a>:</h4>
<p>I'd really like to have a feature in sushi that would allow me to loop / lookup data from a data file.<br>
I'd have a .fsh file with a parametrized rule set, and this parametrized rule set would do something like (abused pseudo-syntax):</p>
<div class="codehilite"><pre><span></span><code>with i in file(mydata.csv)
* code = {i.code}
* display = i.display
* i.designation[+].language = &quot;en&quot;
* i.designation[=].language = {i.en}
* i.designation[+].language = &quot;fr-BE&quot;
* i.designation[=].language = {i.fr}
* i.designation[+].language = &quot;nl-BE&quot;
* i.designation[=].language = {i.nl}
end
</code></pre></div>
<p>This would take this csv: </p>
<div class="codehilite"><pre><span></span><code>code; display;en;fr;nl;
10;Unmarried;Unmarried;Célibataire;Ongehuwd
20;Married;Married;Marié;Gehuwd
25;Annulled;Annulled;Annulation de marriage;Nietigverklaring van het huwelijk
</code></pre></div>
<p>and create for each of these lines something like this:</p>
<div class="codehilite"><pre><span></span><code>    {
      &quot;code&quot; : &quot;25&quot;,
      &quot;display&quot; : &quot;Annuled&quot;,
      &quot;designation&quot; : [
        {
          &quot;language&quot; : &quot;en&quot;,
          &quot;value&quot; : &quot;Annuled&quot;
        },
        {
          &quot;language&quot; : &quot;nl-BE&quot;,
          &quot;value&quot; : &quot;Nietigverklaring van het huwelijk&quot;
        },
        {
          &quot;language&quot; : &quot;fr-BE&quot;,
          &quot;value&quot; : &quot;Annulation de marriage&quot;
        }
      ]
    },
</code></pre></div>



<a name="227477522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227477522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227477522">(Feb 23 2021 at 18:16)</a>:</h4>
<p>This would <br>
a) reduce typing to some degree<br>
b) allow us to generate test data oh-so-more-easily</p>



<a name="227477615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227477615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227477615">(Feb 23 2021 at 18:16)</a>:</h4>
<p>There's a few more things to it, but I'd like to ask for feedback</p>



<a name="227487395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227487395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227487395">(Feb 23 2021 at 19:16)</a>:</h4>
<p>I guess my first question would be if there is significant advantage to building this into the FSH language vs. writing a script (in your favorite language) to generate FSH files based on a CSV?  One of the primary advantages of FSH is its simplicity, so I (personally) am wary of complicating the FSH spec when non-FSH solutions exist -- especially if those non-FSH solutions are not that much more difficult than the FSH-based solution would be.</p>
<p>In my opinion, the FSH approach you are suggesting is close enough to an equivalent Python or Node -based approach that I'd just prefer to educate people on how this can be done using Python or Node instead -- which would provide a lot more flexibility without any added complication to the FSH spec.</p>



<a name="227488329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227488329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227488329">(Feb 23 2021 at 19:22)</a>:</h4>
<p>Yes, that is my point as well - should we have a external script that does this, or does it make sense in the language?</p>



<a name="227488390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227488390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227488390">(Feb 23 2021 at 19:23)</a>:</h4>
<p>Test data generation is something we discussed some time ago and AFAIK there is no good approach to it.</p>



<a name="227488559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227488559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227488559">(Feb 23 2021 at 19:24)</a>:</h4>
<p>the idea was triggered by an excellent article by <span class="user-mention" data-user-id="191321">@David Hay</span> who explained about node-red - so for all purposes, it's his fault, really.</p>



<a name="227488742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227488742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227488742">(Feb 23 2021 at 19:25)</a>:</h4>
<p>I found a simple excel script all I needed to create 50 fsh examples</p>



<a name="227490311"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227490311" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227490311">(Feb 23 2021 at 19:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192587">David Pyke</span> <a href="#narrow/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup/near/227488742">said</a>:</p>
<blockquote>
<p>a simple excel script</p>
</blockquote>
<p>Right. Those words don't all belong in the same sentence.</p>
<p>To paraphrase an old saying, "When faced with a problem, some people say 'Let's use excel scripting.' Now, they have two problems."</p>



<a name="227490323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227490323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227490323">(Feb 23 2021 at 19:36)</a>:</h4>
<p>yes, that is what I did as well. I have an excel file that creates fsh stuff that generates my data (before the excel file created the json directy)</p>



<a name="227490395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227490395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227490395">(Feb 23 2021 at 19:36)</a>:</h4>
<p>and then I thought i'm surely not the only one with this issue</p>



<a name="227490415"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227490415" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227490415">(Feb 23 2021 at 19:36)</a>:</h4>
<p>Hey, I use what I know.  In the old days, that's all I had access to...</p>



<a name="227490513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227490513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227490513">(Feb 23 2021 at 19:37)</a>:</h4>
<p>I'd rather use a rock and chisel. I'd be more productive.</p>



<a name="227490532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227490532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227490532">(Feb 23 2021 at 19:37)</a>:</h4>
<p>I'd use bash scripts but they keep telling me to use my windows laptop for work stuff.</p>



<a name="227490593"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227490593" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227490593">(Feb 23 2021 at 19:38)</a>:</h4>
<p>What's wrong with cygwin?</p>



<a name="227490620"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227490620" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227490620">(Feb 23 2021 at 19:38)</a>:</h4>
<p>Or docker?</p>



<a name="227490692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227490692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227490692">(Feb 23 2021 at 19:38)</a>:</h4>
<p>YOu want the full list or the top ten?</p>



<a name="227491354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227491354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227491354">(Feb 23 2021 at 19:43)</a>:</h4>
<p>So, data lookup...</p>



<a name="227491370"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227491370" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227491370">(Feb 23 2021 at 19:43)</a>:</h4>
<p>is this something others would want?</p>



<a name="227491414"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227491414" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227491414">(Feb 23 2021 at 19:43)</a>:</h4>
<p>and if so, external script, or does it make sense as part of the language</p>



<a name="227491566"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227491566" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227491566">(Feb 23 2021 at 19:44)</a>:</h4>
<p>I'd much prefer keeping FSH/Sushi simple and using an external script</p>



<a name="227493572"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227493572" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227493572">(Feb 23 2021 at 19:58)</a>:</h4>
<p>I think it would definitely be worth exploring the use of external scripts first.  We could maybe even provide a few examples or even a small library to help with it.</p>



<a name="227494686"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227494686" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227494686">(Feb 23 2021 at 20:05)</a>:</h4>
<p>I'm into nodejs scripts these days.. (The csv post was more to explore node-red in truth...)</p>



<a name="227498097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227498097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227498097">(Feb 23 2021 at 20:27)</a>:</h4>
<p>My concern is having stuff in SUSHI that can't be round-tripped through resources.  We shouldn't have features in SUSHI that aren't expressible (at least as extensions) in one of the standard resource types.  That way if someone wants to move from using SUSHI to author content to something else, they can.</p>



<a name="227499796"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227499796" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227499796">(Feb 23 2021 at 20:41)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup/near/227498097">said</a>:</p>
<blockquote>
<p>My concern is having stuff in SUSHI that can't be round-tripped through resources.  We shouldn't have features in SUSHI that aren't expressible (at least as extensions) in one of the standard resource types.  That way if someone wants to move from using SUSHI to author content to something else, they can.</p>
</blockquote>
<p>I'm not sure that applies here.  SUSHI does a lot of time-saving things and this, if it were to be done via SUSHI, would just be another one of those.  We already have rule sets to simplify repetition and this would be like that.  I think Jose was just proposing a way that SUSHI could create umpteen example instances.  If you moved from SUSHI to something else, you'd still have the underlying instances that were created.  I might have misunderstood your concern though. :)</p>



<a name="227500597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227500597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227500597">(Feb 23 2021 at 20:47)</a>:</h4>
<p>I think parametrized rule sets are not in the roundtrip zone, but they are definitely helpful.</p>



<a name="227500613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227500613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227500613">(Feb 23 2021 at 20:47)</a>:</h4>
<p>We <em>could</em> create an external toolbox for such things -  We can call it <strong>Paella</strong>.</p>



<a name="227500748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227500748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227500748">(Feb 23 2021 at 20:48)</a>:</h4>
<p>The goal in my question is that these tools should themselves be interoperable and hopefully useful for more than a few iterations.</p>



<a name="227500962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227500962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227500962">(Feb 23 2021 at 20:50)</a>:</h4>
<p>so, better in sushi than yet another script</p>



<a name="227501143"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227501143" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227501143">(Feb 23 2021 at 20:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> do i understand correctly that the notion of "create M resources and populate this field, with each value of column N" should be expressable in FHIR?</p>



<a name="227501755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227501755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227501755">(Feb 23 2021 at 20:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> - yes.  That shouldn't be something that's specific to SUSHI.  I should be able to author examples in JSON or XML or even RDF and embed extensions or something that would drive that same behavior.</p>



<a name="227502526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227502526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227502526">(Feb 23 2021 at 21:01)</a>:</h4>
<p>Ok let me see if I can improve the concept</p>



<a name="227505986"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227505986" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227505986">(Feb 23 2021 at 21:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup/near/227501755">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> - yes.  That shouldn't be something that's specific to SUSHI.  I should be able to author examples in JSON or XML or even RDF and embed extensions or something that would drive that same behavior.</p>
</blockquote>
<p>i don't understand what you are proposing Lloyd.  You are saying that we should have the ability to just author a parameterized example in JSON with extensions that say "put parameterized content here"?</p>



<a name="227506596"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227506596" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227506596">(Feb 23 2021 at 21:30)</a>:</h4>
<p>I think I disagree w/ the notion that every feature in SUSHI should have an exact parity in the IG Publisher and/or other FHIR authoring tools.  That kills innovation.  At the end of the day, SUSHI spits out valid FHIR resources using the standard FHIR specification and serialization.  Any tool that can load and edit FHIR resources (SDs, etc) can "round trip" anything that SUSHI created.  So what is the problem?  Or am I misunderstanding?</p>



<a name="227512047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227512047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227512047">(Feb 23 2021 at 22:04)</a>:</h4>
<p>The concern is that you lock people into a single authoring approach if the other authoring approaches can't capture or represent the same content.  Innovation is fine and good.  With extensions it should be possible to reflect whatever is being done in SUSHI into 'regular' resources.</p>



<a name="227516504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227516504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227516504">(Feb 23 2021 at 22:32)</a>:</h4>
<p>I guess I am saying you're not locked in since the resources at that point (after export) are complete.  You can load them into whatever other solution you want.  You might author it a different way thereafter (which is kind of the point of having different authoring tools anyway), but you definitely can load it and edit it in any tool that supports FHIR definitions.  In a way, FSH and SUSHI are really just a UI for how you interact w/ FHIR definitions.  Some tools have graphical UIs; we have text-based UIs that can be managed in a source control system.</p>



<a name="227520334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227520334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227520334">(Feb 23 2021 at 23:03)</a>:</h4>
<p>Some ideas: </p>
<ol>
<li>Both in Sushi and in other implementations, the "master" resource would remain untouched - it is the other 500 resources that would be created.</li>
<li>If we define a few extensions for this, then a sushi editor can populate those extensions (and we can have a rule set to facilitate that further)</li>
<li>The procedure for expanding this extension can be coded in a standard library - or in sushi. Sushi would still generate the corresponding resource and then generate the data files (or could do it in one pass if there's a way)</li>
<li>The extensions could look like:</li>
</ol>
<div class="codehilite" data-code-language="JSON"><pre><span></span><code><span class="p">{</span>
    <span class="nt">"resourceType"</span><span class="p">:</span> <span class="s2">"Patient"</span><span class="p">,</span>
    <span class="nt">"extension"</span> <span class="p">:</span> <span class="p">[{</span>
        <span class="nt">"url"</span> <span class="p">:</span> <span class="s2">"http://hl7.org/fhir/StructureDefinition/data_generation_config"</span><span class="p">,</span>
        <span class="nt">"extension"</span> <span class="p">:</span> <span class="p">[{</span>
            <span class="nt">"url"</span> <span class="p">:</span> <span class="s2">"source_csv_file"</span><span class="p">,</span>
            <span class="nt">"valueString"</span> <span class="p">:</span> <span class="s2">"mydata.csv"</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="nt">"url"</span> <span class="p">:</span> <span class="s2">"total_rows"</span><span class="p">,</span>
            <span class="nt">"valueInteger"</span> <span class="p">:</span> <span class="mi">500</span>
        <span class="p">}]</span>
    <span class="p">}],</span>
    <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"000"</span><span class="p">,</span>
    <span class="nt">"_id"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"extension"</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
            <span class="nt">"url"</span> <span class="p">:</span> <span class="s2">"http://example.org/fhir/StructureDefinition/data_generation_column"</span><span class="p">,</span>
            <span class="nt">"valueString"</span> <span class="p">:</span> <span class="s2">"id"</span>
        <span class="p">}]</span>
    <span class="p">}</span>
    <span class="nt">"birthDate"</span><span class="p">:</span> <span class="nt">"1970-01-01"</span>
    <span class="nt">"_birthDate"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"extension"</span> <span class="p">:</span> <span class="p">[</span> <span class="p">{</span>
            <span class="nt">"url"</span> <span class="p">:</span> <span class="s2">"http://example.org/fhir/StructureDefinition/data_generation_random_date"</span><span class="p">,</span>
            <span class="nt">"valuePeriod"</span> <span class="p">:</span> <span class="p">{</span>
                <span class="nt">"start"</span><span class="p">:</span> <span class="s2">"2020-01-01"</span><span class="p">,</span>
                <span class="nt">"end"</span><span class="p">:</span> <span class="s2">"2020-01-31"</span>
            <span class="p">}</span>
        <span class="p">}]</span>
    <span class="p">}</span>
<span class="p">}</span><span class="err">...</span>
</code></pre></div>



<a name="227543037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227543037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227543037">(Feb 24 2021 at 03:35)</a>:</h4>
<p>If the only way you can reasonably maintain the resources (using the generation process) is only SUSHI, then the notion "you're free to take the 500 generated resources and maintain them in something else" isn't terribly realistic.</p>



<a name="227599363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227599363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227599363">(Feb 24 2021 at 13:42)</a>:</h4>
<p>OK.  I understand what you're saying then, <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>.  I'm still not sure I agree w/ the overall premise, but I understand it.  Let me ask this: are you talking about proprietary features that SUSHI might implement <em>outside of the spec</em>; or are you saying that you don't think FSH should even specify features like this unless it also specifies extensions that can capture all of the detail of whatever that feature provides (like <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> demonstrated above)?</p>



<a name="227599475"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227599475" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227599475">(Feb 24 2021 at 13:43)</a>:</h4>
<p>Because if FSH is a standard, then the feature is already captured in a standard-based way that any tool can choose to implement or not implement.</p>



<a name="227605817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227605817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227605817">(Feb 24 2021 at 14:27)</a>:</h4>
<p>I think the base premise is that most features that are used as input to the FHIR IG process should be expressible and shareable as FHIR resources.  We try to keep the set of content that's not resources relatively limited - batch scripts, a very limited ini file, etc.  The biggest exception so far has been the files that define narrative pages and intros and usage notes, and even with those, there's discussion about whether that content should move into resources.</p>
<p>I'm not setting an absolute, but I am saying that when new features are introduced in the IG publication stack, the community (not just the FSH community) should have a discussion about whether and how those features should manifest as resources.</p>



<a name="227606068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227606068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227606068">(Feb 24 2021 at 14:28)</a>:</h4>
<p>My criteria in that conversation would be about how strongly does that feature lock a designer into a single approach.  The greater the lock-in, the more I think we'd need to have a mechanism to expose the capability in a 'standard' resource syntax.</p>



<a name="227613099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227613099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227613099">(Feb 24 2021 at 15:13)</a>:</h4>
<p>question on this: <br>
If we have a "master" resource from which the tool generates the 500 resources, we don't expect those 500 resources to be committed, right?</p>



<a name="227616169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227616169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227616169">(Feb 24 2021 at 15:32)</a>:</h4>
<p>Also true</p>



<a name="227624798"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227624798" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227624798">(Feb 24 2021 at 16:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup/near/227606068">said</a>:</p>
<blockquote>
<p>My criteria in that conversation would be about how strongly does that feature lock a designer into a single approach.  The greater the lock-in, the more I think we'd need to have a mechanism to expose the capability in a 'standard' resource syntax.</p>
</blockquote>
<p>I'm sorry but this is pure hogwash.  If I create an Excel script that takes a list of parameters and generates 500 resources from it, and I check that in to my Guide so that other committers of my guide can use it, you're now telling me that is verboten because I've "locked a designer into a single approach".  That's just not a reasonable position to take.  You're telling me that Grahame is going to add some code to the publisher and we're going to add some extensions that are purely for pre-assembly of resource instances?  That is so not in the purview of what the publisher should be doing.  It should be incumbent on the spec writers to provide those resource instances in some means.  And if that is using a homebaked Excel script or using a feature that SUSHI might incorporate or if it means hand-writing them, that should be up to the spec writer and definitely not something required of the publishing tooling stack.</p>
<p>Now, if SUSHI required the publishing tooling stack to do something specific so that one of its features could be used, that is when I would agree with you.  But as long as SUSHI or Forge or whatever tool you use, ends up producing the proper inputs, it should not and can not matter how it does it.</p>



<a name="227635056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227635056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227635056">(Feb 24 2021 at 17:09)</a>:</h4>
<p>I tend to agree with <span class="user-mention" data-user-id="192166">@Jean Duteau</span>. What do we say about all of those interactive questionnaire designers that don't have any input files, and output Questionnaire resources heavily annotated with private extensions? Should they be verboten too? Is FSH the design tool, or an input format? If it's an input format, why isn't there pressure to support it in Forge? How do we decide which features a tool is allowed to differentiate and show value with, and which features are the common base level? Should we say Sushi should be banned until goFSH is capable of ingesting any IG and allowing you to move from/away the Sushi/goFSH combo with full fidelity? Can I develop a process that uses Adobe Illustrator or Microsoft Visio to generate images instead of plantUML? As long as the output is SVG should it matter?</p>
<p>As a user, I'd like the ability to move my content from one toolchain to another, and I'd be ticked to find out that I'm stuck in a tool because of a choice I made. But portability should be value that the tool author adds, not a requirement of HL7 on anyone who builds a tool.</p>
<p>I feel strange arguing against interoperability, but we already have an interoperable layer: the IG resources. I don't know that we need--or more correctly, that HL7 should mandate---to move interoperability up the chain.</p>



<a name="227691245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227691245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227691245">(Feb 24 2021 at 23:12)</a>:</h4>
<p>I'm not saying that's strictly verboten, but it is problematic - at least for HL7-maintained IGs.  You've now introduced a custom tool into the maintenance process for that IG.  If you quit working for the committee or get hit by a bus, HL7 is now on the hook for figuring out what the heck you did and how to maintain it and make necessary changes to put out a new release.  Granted, there are going to be new requirements and tight timelines that lead to short-term cobbled-together solutions that do whatever's needed for the initial release.  However, over time, there needs to be some thought about how to incorporate that into a general purpose solution that's part of the framework, understood by most authors and that we don't have 10 different ways of accomplishing the same thing across most IGs.  I don't think that "coming together timeline" is necessarily in the weeks or even months - i.e. going forth and trying stuff is cool.  But as an organization we do have to be sensitive to long-term maintainability, durability of tooling stack and consistency of published artifacts.  </p>
<p>It may be that the outcome of that discussion is "spreadsheets are fine, this is the macro we're going to use, here's the Git project we're going to maintain it on, and these are the minimum two people who will take on responsibility for keeping it current.  And FSH could fall in the same boat.  "For certain functions, the only way to make it happen is to use FSH", meaning no need for extensions, no support from other authoring tools.  But that's not a choice that should be made just by the FSH community or just by a particular IG developer.  For short-term experimentation, sure.  But for long-term maintenance, we need to ensure the organization is comfortable with the dependencies we have and that we're also creating an environment that's conducive to multiple authoring environments that can share inputs and produce consistent outputs.  All our eggs in one basket has proved to be problematic in the past.  Maybe for some functions the number of eggs is small enough that one basket is fine.  Being able to generate large volumes of example instances seems like something that will involve a large number of eggs (i.e. it'll be a requirement for lots of IGs.)</p>



<a name="227812830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227812830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227812830">(Feb 25 2021 at 18:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup/near/227691245">said</a>:</p>
<blockquote>
<p>I'm not saying that's strictly verboten, but it is problematic - at least for HL7-maintained IGs.  </p>
</blockquote>
<p>I'm fine with HL7 saying "here is the accepted toolset for HL7 IGs" or even "here are the accepted features of the accepted tools for HL7 IGs" but the way you were framing it was "tools shall not have features unless all tools have those features."</p>



<a name="227814273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227814273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227814273">(Feb 25 2021 at 18:32)</a>:</h4>
<p>i'm still missing your point <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span>.  Let me go back to the original request - I want to create a multitude of example instances and I don't want to create them all by hand.  It seems like you are saying that unless I come up with some generalized way that everyone can do this, I can't do this.</p>



<a name="227815305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227815305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227815305">(Feb 25 2021 at 18:39)</a>:</h4>
<p>What I'm saying is "this is a capability that is going to be of interest to a bunch of IGs, and therefore probably shouldn't be a solution that's tied to FSH only - so think about that as part of your initial experimentation - "How could we surface this back into standard FHIR instances".</p>



<a name="227815494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Feature%20request%20-%20data%20lookup/near/227815494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Feature.20request.20-.20data.20lookup.html#227815494">(Feb 25 2021 at 18:40)</a>:</h4>
<p>Not saying you can't experiment without making it work everywhere first.  But don't just say "we're going to do this in FSH and not worry about the ability to interoperate with other authoring approaches"</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
