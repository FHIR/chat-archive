---
layout: page
title: "FHIR Chat  · question about extension syntax · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/question.20about.20extension.20syntax.html">question about extension syntax</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="195113694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/question%20about%20extension%20syntax/near/195113694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/question.20about.20extension.20syntax.html#195113694">(Apr 23 2020 at 20:14)</a>:</h4>
<p>I reread the IG and looked at my example but can not extend this to the followiing example:</p>
<div class="codehilite"><pre><span></span>Profile:        TestSupplyRequest
Parent:         SupplyRequest
Id:             test
Title:          &quot;Test Supply Request&quot;
Description:    &quot;A profile to test implementation of R5 elements&quot;
* item.extension contains DevDef named devdef 0..1

Extension:  DevDef
Id: devdef
Title: &quot;DeviceDefinition Reference Extension&quot;
Description: &quot;A reference to the [DeviceDefinition](http://build.fhir.org/devicedefinition.html) resource&quot;
* value[x] only Reference(DeviceDefinition)
</pre></div>


<p>I get the following errors:</p>
<div class="codehilite"><pre><span></span> File: /Users/ehaas/Documents/FHIR/FSH-Tut/fsh-tutorial-master/FishExample/FishPatient.fsh
  Line: 15
error No element found at path item.extension for TestSupplyRequest, skipping rule
  File: /Users/ehaas/Documents/FHIR/FSH-Tut/fsh-tutorial-master/FishExample/SRTest.fsh
  Line: 7
error No element found at path item.extension[devdef] for TestSupplyRequest, skipping rule
  File: /Users/ehaas/Documents/FHIR/FSH-Tut/fsh-tutorial-master/FishExample/SRTest.fsh
  Line: 7
</pre></div>


<p>The Extension created looks valid.  so I don't understand the extension syntax.<br>
Obviousy, I don't understand the syntax for extensions</p>



<a name="195114887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/question%20about%20extension%20syntax/near/195114887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/question.20about.20extension.20syntax.html#195114887">(Apr 23 2020 at 20:25)</a>:</h4>
<p>Running SUSHI v0.12.2</p>



<a name="195121020"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/question%20about%20extension%20syntax/near/195121020" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/question.20about.20extension.20syntax.html#195121020">(Apr 23 2020 at 21:20)</a>:</h4>
<p>I think the first issue is that you're trying to use R5 definitions, but SUSHI currently only supports R4.  In R4, <code>SupplyRequest</code> has <code>item[x]</code>, not <code>item</code>.  In theory, you could fix your FSH to use this rule instead:</p>
<div class="codehilite"><pre><span></span>* item[x].extension contains DevDef named devdef 0..1
</pre></div>


<p>I say "in theory" because someone else just discovered a bug that SUSHI isn't handling child paths of choice (<code>[x]</code>) elements correctly. (See <a href="#narrow/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element" title="#narrow/stream/215610-shorthand/topic/extending.20a.20polymorphic.20element">thread</a>).  So while in theory referencing <code>item[x].extension</code> should work, in practice it does not.</p>



<a name="195121230"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/question%20about%20extension%20syntax/near/195121230" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/question.20about.20extension.20syntax.html#195121230">(Apr 23 2020 at 21:22)</a>:</h4>
<p>To get around that right now, you'd actually have to apply the extension explicitly to each possible choice element (or to at least the choices you want to support the extension).  E.g.,</p>
<div class="codehilite"><pre><span></span>* itemCodeableConcept.extension contains DevDef named devdef 0..1
* itemReference.extension contains DevDef named devdef 0..1
</pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
