---
layout: page
title: "FHIR Chat  · profiles with mapping · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html">profiles with mapping</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="220318142"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220318142" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220318142">(Dec 17 2020 at 23:31)</a>:</h4>
<p>Is there support in FSH for defining mapping tables in a profile written in sushi?</p>



<a name="220318179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220318179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220318179">(Dec 17 2020 at 23:31)</a>:</h4>
<p>Nothing special. Just fill in the mapping elements.</p>



<a name="220318253"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220318253" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220318253">(Dec 17 2020 at 23:32)</a>:</h4>
<p>example? or explaination?</p>



<a name="220318329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220318329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220318329">(Dec 17 2020 at 23:33)</a>:</h4>
<p>or better... you have rights on the IHE github for MHD... can you do the mapping for FHIR List to XDS SubmissionSet?</p>



<a name="220318331"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220318331" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220318331">(Dec 17 2020 at 23:33)</a>:</h4>
<p><a href="https://github.com/openhie/covid-ig/blob/master/input/fsh/who-cr-StructureDefinitionDataDictionary.fsh">https://github.com/openhie/covid-ig/blob/master/input/fsh/who-cr-StructureDefinitionDataDictionary.fsh</a></p>



<a name="220318441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220318441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220318441">(Dec 17 2020 at 23:34)</a>:</h4>
<p>Oh, hold on, are you talking mappings in structure defs, or conceptmaps?</p>



<a name="220318488"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220318488" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220318488">(Dec 17 2020 at 23:35)</a>:</h4>
<p>right. mapping in a structureDefinition... NOT a conceptmap</p>



<a name="220318491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220318491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220318491">(Dec 17 2020 at 23:35)</a>:</h4>
<p>In my structure def:</p>
<div class="codehilite"><pre><span></span><code>* mapping[0].identity = &quot;WhoCrDataDictionarySpreadsheet&quot;
* mapping[0].name = &quot;WHO CR Data Dictionary Spreadsheet 2020.2&quot;
* mapping[1].identity = &quot;LOINC&quot;
* mapping[1].uri = $LNC
...
* differential.element[2].mapping[0].identity = &quot;WhoCrDataDictionarySpreadsheet&quot;
* differential.element[2].mapping[0].map = &quot;report_date&quot;
* differential.element[2].mapping[1].identity = &quot;LOINC&quot;
* differential.element[2].mapping[1].map = $LNC#77995-9
</code></pre></div>



<a name="220318586"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220318586" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220318586">(Dec 17 2020 at 23:36)</a>:</h4>
<p>but I am defining a profile, with constraints. I also want that to carry mappings to XDS</p>



<a name="220318763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220318763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220318763">(Dec 17 2020 at 23:39)</a>:</h4>
<p>So, for you...</p>
<div class="codehilite"><pre><span></span><code>* mapping[0].identity = &quot;XDS&quot;
* mapping[0].name = &quot;Document Sharing Metadata (XDS)&quot;
...
* differential.element[2].mapping[0].identity = &quot;XDS&quot;
* differential.element[2].mapping[0].map = &quot;eventCodeList&quot;
</code></pre></div>



<a name="220319038"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220319038" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220319038">(Dec 17 2020 at 23:42)</a>:</h4>
<p>It doesn't look like the mapping is intended to be computable, so you can enter in whatever text in the map element you need. I've also done a couple with multiple mappings for the same StructureDocument element:</p>
<div class="codehilite"><pre><span></span><code>* mapping[0].identity = &quot;XDS&quot;
* mapping[0].name = &quot;Document Sharing Metadata (XDS)&quot;
...
* differential.element[2].mapping[0].identity = &quot;XDS&quot;
* differential.element[2].mapping[0].map = &quot;eventCodeList&quot;
* differential.element[2].mapping[1].identity = &quot;XDS&quot;
* differential.element[2].mapping[1].map = &quot;formatCode&quot;
</code></pre></div>
<p>This shows as a comma separated list.</p>



<a name="220319375"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220319375" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220319375">(Dec 17 2020 at 23:46)</a>:</h4>
<p>okay. I will try.. but feel free to put in a pull request on MHD</p>



<a name="220320386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220320386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220320386">(Dec 17 2020 at 23:59)</a>:</h4>
<p>Just let me know if you run into a snag.</p>



<a name="220385411"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220385411" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220385411">(Dec 18 2020 at 15:31)</a>:</h4>
<p>So I guess that defining mappings is not a very well-known feature of FHIR Shorthand, but it <em>is</em> indeed a feature!  And you <em>don't</em> have to use caret syntax to use it (although I noticed that <span class="user-mention" data-user-id="191380">@Elliot Silver</span>'s examples aren't using <code>^</code> either -- are those <code>Instance</code>s of <code>StructureDefinition</code> rather than FSH <code>Profile</code>s?  Because those examples definitely wouldn't work in a <code>Profile:</code> definition).</p>
<p>For information about FSH <code>Mapping</code> (and an example), see: <a href="http://hl7.org/fhir/uv/shorthand/reference.html#defining-mappings">http://hl7.org/fhir/uv/shorthand/reference.html#defining-mappings</a></p>



<a name="220400084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220400084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220400084">(Dec 18 2020 at 17:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> , correct, I'm using an instance to define a logical model. I had forgotten about the mapping feature, but since I'm working with a LM, it wouldn't work for me anyhow.</p>



<a name="220698310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/220698310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#220698310">(Dec 22 2020 at 15:07)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191469">@Chris Moesel</span> . I was not sure if this had been added. I had asked for it long long ago... I will give that a try.</p>



<a name="221288807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/221288807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#221288807">(Dec 31 2020 at 13:03)</a>:</h4>
<p>mapping is working excellent.</p>



<a name="221290238"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/221290238" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#221290238">(Dec 31 2020 at 13:31)</a>:</h4>
<p>I do have one problem... that mandatory extension... seems to disappear in the mapping.  Not clear to me if this is sushi or IG build</p>



<a name="221299527"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/221299527" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#221299527">(Dec 31 2020 at 16:15)</a>:</h4>
<p>Note that when I add the extension to a profile as 1..* that extension shows up in mapping. But when I define mapping on a profile that has the extension at 0..<em>; a profile derived off of that profile and that sets the cardinality to 1..</em> will no longer show the mapping for that extension. yet the profile with 0..* does show the mapping.</p>
<p>I think this is the IG build problem.  My eyes say the structure definitions created are good. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> let me know how I can help clarify. I use this for both Folders and SubmissionSets in the current MHD IG build <a href="https://github.com/IHE/ITI.MHD">https://github.com/IHE/ITI.MHD</a></p>



<a name="229750495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/profiles%20with%20mapping/near/229750495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/profiles.20with.20mapping.html#229750495">(Mar 10 2021 at 21:44)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191469">@Chris Moesel</span> and others -- on Mappings (I am starting to use now!) how could I express that a certain target (let's say it's called <code>rxnorm</code>) is in FHIR <code>medicationCodeableConcept.coding.code</code> where <code>medicationCodeableConcept.coding.system</code> is <code>http://www.nlm.nih.gov/research/umls/rxnorm</code>?</p>
<p>Also, any idea on how to turn off (in the IG published output) the other Mappings? I just want to render the ones I specify in FSH?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
