---
layout: page
title: "FHIR Chat  · Constraints · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constraints.html">Constraints</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189248072"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constraints/near/189248072" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saul Kravitz <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constraints.html#189248072">(Feb 27 2020 at 19:32)</a>:</h4>
<p>Can constraints be coded in FSH?   </p>
<p>Something that produces a constraint like:</p>
<p>constraint: [<br>
          {<br>
            "key" : "pd-1",<br>
            "severity" : "error",<br>
            "human" : "SHALL have contact information or a reference to an Endpoint",<br>
            "expression" : "telecom or endpoint",<br>
            "xpath" : "exists(f:telecom) or exists(f:endpoint)"<br>
          }<br>
]</p>
<p>Drawn from <a href="http://hl7.org/fhir/us/core/STU3/StructureDefinition-us-core-practitionerrole.html" target="_blank" title="http://hl7.org/fhir/us/core/STU3/StructureDefinition-us-core-practitionerrole.html">http://hl7.org/fhir/us/core/STU3/StructureDefinition-us-core-practitionerrole.html</a></p>



<a name="189250435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constraints/near/189250435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constraints.html#189250435">(Feb 27 2020 at 19:56)</a>:</h4>
<p>That feature has been coded up and is currently in review, so... should be available in the next version of SUSHI!</p>



<a name="189250917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constraints/near/189250917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constraints.html#189250917">(Feb 27 2020 at 20:00)</a>:</h4>
<p>Basic approach is:</p>
<div class="codehilite"><pre><span></span>Profile: USCorePractitionerRole
Parent: PractitionerRole
* obeys pd-1
// ...

Invariant:  pd-1
Severity:   &quot;error&quot;
Description: &quot;SHALL have contact information or a reference to an Endpoint&quot;
Expression: &quot;telecom or endpoint&quot;
XPath:      &quot;exists(f:telecom) or exists(f:endpoint)&quot;
</pre></div>



<a name="189262147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constraints/near/189262147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constraints.html#189262147">(Feb 27 2020 at 22:03)</a>:</h4>
<p>will the fhirpath expression be validated?</p>



<a name="189262195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constraints/near/189262195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constraints.html#189262195">(Feb 27 2020 at 22:03)</a>:</h4>
<p>as in: will the syntax of it be validated?</p>



<a name="189262694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Constraints/near/189262694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Constraints.html#189262694">(Feb 27 2020 at 22:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191427">@Jens Villadsen</span> -- we don't currently validate the fhirpath expression.  We rely on the IG Publisher to catch it.  That said, if the JavaScript fhirpath library supports fhirpath syntax checking, then it would be pretty simple to add that capability.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
