---
layout: page
title: "FHIR Chat  · Canonical with version · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html">Canonical with version</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="204677972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20version/near/204677972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html#204677972">(Jul 22 2020 at 15:05)</a>:</h4>
<p>Hey there everybody, we'd like to get some user input on a syntax decision. We are adding a <code>Canonical</code> keyword to SUSHI which allows the user to get the canonical URL of a FHIR resource, but FHIR allows canonical URLs to include a version by appending <code>|&lt;version&gt;</code> to the URL. For example, if we have a resource Foo with URL <code>http://example.org/ValueSet/Foo</code> and version <code>1.2.3</code>, the URL as a canonical could be <code>http://example.org/ValueSet/Foo|1.2.3</code>. We are unsure how to  best handle versions. There seem to be two paths forward:</p>
<ol>
<li><strong>Version included by default</strong> :</li>
</ol>
<ul>
<li><code>Canonical(Foo)</code> is used to indicate that SUSHI should use the <code>version</code> it finds on the <code>Foo</code> resource, returns <code>http://example.org/ValueSet/Foo|1.2.3</code></li>
<li><code>Canonical(Foo|4.5.6)</code> is used when you want to manually specify a version different from the one that SUSHI finds on <code>Foo</code>, returns <code>http://example.org/ValueSet/Foo|4.5.6</code></li>
<li><code>Canonical(Foo|)</code> is used when you do not want the version, returns <code>http://example.org/ValueSet/Foo</code></li>
</ul>
<ol start="2">
<li><strong>Version not included by default</strong>:</li>
</ol>
<ul>
<li><code>Canonical(Foo|.)</code> is used to indicate that SUSHI should use the <code>version</code> it finds on the <code>Foo</code> resource, returns <code>http://example.org/ValueSet/Foo|1.2.3</code>.</li>
<li><code>Canonical(Foo|4.5.6)</code> is used when you want to manually specify a version different from the one that SUSHI finds on <code>Foo</code>, returns <code>http://example.org/ValueSet/Foo|4.5.6</code></li>
<li><code>Canonical(Foo)</code> is used when you do not want the version, returns <code>http://example.org/ValueSet/Foo</code></li>
</ul>



<a name="204678866"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20version/near/204678866" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html#204678866">(Jul 22 2020 at 15:11)</a>:</h4>
<p>I think there are advantages to each, but in a FHIR canonical, <em>no <code>|</code></em> means no specified version -- so I have concerns about making <em>no <code>|</code></em> mean insert the current version in FSH.</p>



<a name="204684218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20version/near/204684218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html#204684218">(Jul 22 2020 at 15:48)</a>:</h4>
<p>I think Canonical(Foo)  should return <a href="http://example.org/ValueSet/Foo">http://example.org/ValueSet/Foo</a><br>
Canonical(Foo | x.y.z ) should return  <a href="http://example.org/ValueSet/Foo|x.y.z">http://example.org/ValueSet/Foo|x.y.z</a><br>
Anything else is a syntax error.  That keeps it simple to use</p>



<a name="204689801"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20version/near/204689801" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html#204689801">(Jul 22 2020 at 16:32)</a>:</h4>
<p>So <span class="user-mention" data-user-id="192587">@David Pyke</span> -- I want to be sure I understand what you're suggesting.  You're suggesting that we should <em>not</em> support a way to say "insert the version in scope" -- but rather, if you want to specify the same version as is in your IG (or in a dependency) you have to explicitly put in whatever that version number is...  Right?</p>



<a name="204690043"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20version/near/204690043" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html#204690043">(Jul 22 2020 at 16:34)</a>:</h4>
<p>Right. I'm a fan of brute force</p>



<a name="204699715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20version/near/204699715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html#204699715">(Jul 22 2020 at 17:53)</a>:</h4>
<p>I'm inclined toward your suggestion, <span class="user-mention" data-user-id="192587">@David Pyke</span>.  It keeps things simple and eliminates <em>magic</em> -- and it's often the <em>magic</em> that confuses people.  If authors find that it's too burdensome and they really want a magic way of saying "the version in scope", then we can add it in STU2.  And if it turns out nobody else needs/wants it, then we've kept FSH simpler!</p>
<p>But... we'll give this thread time to sit overnight in case anyone else wants to comment before we implement it.</p>



<a name="204705044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20version/near/204705044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html#204705044">(Jul 22 2020 at 18:35)</a>:</h4>
<blockquote>
<p>Right. I'm a fan of brute force</p>
</blockquote>
<p>Is that a 'David' thing?</p>



<a name="204705880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20version/near/204705880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html#204705880">(Jul 22 2020 at 18:42)</a>:</h4>
<p>Polite brute force.</p>



<a name="204706300"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20version/near/204706300" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html#204706300">(Jul 22 2020 at 18:45)</a>:</h4>
<p>excessively polite brute force</p>



<a name="204842144"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20version/near/204842144" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20version.html#204842144">(Jul 23 2020 at 19:18)</a>:</h4>
<p>Canadian form of brute force.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
