---
layout: page
title: "FHIR Chat  · slicing and incrementing · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html">slicing and incrementing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="238646914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20and%20incrementing/near/238646914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html#238646914">(May 13 2021 at 16:43)</a>:</h4>
<p>I may have found a bug in sushi around instances using slicing indexes plus the incremental indexing.  That is to say I have used the names of slices to fill some entries, and then wanted to add others and those others overwrote.</p>



<a name="238646939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20and%20incrementing/near/238646939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html#238646939">(May 13 2021 at 16:43)</a>:</h4>
<p>Here is the sushi example <a href="https://github.com/IHE/ITI.MHD/blob/master/input/fsh/ex-ProvideBundles.fsh">https://github.com/IHE/ITI.MHD/blob/master/input/fsh/ex-ProvideBundles.fsh</a></p>



<a name="238647128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20and%20incrementing/near/238647128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html#238647128">(May 13 2021 at 16:44)</a>:</h4>
<div class="codehilite"><pre><span></span><code>* entry[SubmissionSet].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a44&quot;
* entry[SubmissionSet].resource = 593cd04e-b696-45c1-bc32-39e55a340a44
* entry[SubmissionSet].request.url = &quot;List&quot;
* entry[SubmissionSet].request.method = #POST
* entry[Folders].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a45&quot;
* entry[Folders].resource = 593cd04e-b696-45c1-bc32-39e55a340a45
* entry[Folders].request.url = &quot;List&quot;
* entry[Folders].request.method = #POST
* entry[DocumentRefs].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a46&quot;
* entry[DocumentRefs].resource = 593cd04e-b696-45c1-bc32-39e55a340a46
* entry[DocumentRefs].request.url = &quot;DocumentReference&quot;
* entry[DocumentRefs].request.method = #POST
* entry[+].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a49&quot;
* entry[=].resource = 593cd04e-b696-45c1-bc32-39e55a340a49
* entry[=].request.url = &quot;Patient&quot;
* entry[=].request.method = #POST
</code></pre></div>



<a name="238647210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20and%20incrementing/near/238647210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html#238647210">(May 13 2021 at 16:45)</a>:</h4>
<p>the [+] operation seems to have not indexed beyond the previous populated entries... so the Patient resource got put into the first slot, overwriting the SubmissionSet</p>



<a name="238648673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20and%20incrementing/near/238648673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html#238648673">(May 13 2021 at 16:56)</a>:</h4>
<p>I recall seeing discussion of something similar, and I think a release addressing it, where [+] assumed it was starting from 0, rather than grab the next available index.</p>



<a name="238654651"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20and%20incrementing/near/238654651" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html#238654651">(May 13 2021 at 17:41)</a>:</h4>
<p>We have fixed some things around <code>[+]</code> in recent releases, but... I don't remember addressing this specific use case.  TBH, I'm not sure we've specified what the behavior <em>should</em> be in this case.  I think that what you expect, <span class="user-mention" data-user-id="191404">@John Moehrke</span>, seems like the intuitive approach -- so I'd lean toward implementing it that way (assuming it is still broken).</p>
<p>For now, you might need to explicitly set that first index (after the slices) to a an explicit number.  Then after that you can use <code>[+]</code> to increment the index.  <span class="user-mention" data-user-id="353631">@Julian Carter</span> -- what do you think?</p>



<a name="238655991"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20and%20incrementing/near/238655991" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html#238655991">(May 13 2021 at 17:53)</a>:</h4>
<p>I have sushi 1.3.2</p>



<a name="238656140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20and%20incrementing/near/238656140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html#238656140">(May 13 2021 at 17:54)</a>:</h4>
<p>ah, so where I have the [+], I could have put [4], and from that point could use [=] and [+]?</p>



<a name="238656808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20and%20incrementing/near/238656808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html#238656808">(May 13 2021 at 17:59)</a>:</h4>
<p>another question related.... in my example there can be many "DocumentRefs"... how do I do multiple instances of the same slice?</p>



<a name="238676623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/slicing%20and%20incrementing/near/238676623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/slicing.20and.20incrementing.html#238676623">(May 13 2021 at 20:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> <a href="#narrow/stream/215610-shorthand/topic/slicing.20and.20incrementing/near/238656808">said</a>:</p>
<blockquote>
<p>another question related.... in my example there can be many "DocumentRefs"... how do I do multiple instances of the same slice?</p>
</blockquote>
<p>figured the indexing multiple slices out</p>
<div class="codehilite"><pre><span></span><code>* entry[DocumentRefs][+].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a46&quot;
* entry[DocumentRefs][=].resource = 593cd04e-b696-45c1-bc32-39e55a340a46
* entry[DocumentRefs][=].request.url = &quot;DocumentReference&quot;
* entry[DocumentRefs][=].request.method = #POST
* entry[DocumentRefs][+].fullUrl = &quot;urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a47&quot;
* entry[DocumentRefs][=].resource = 593cd04e-b696-45c1-bc32-39e55a340a47
* entry[DocumentRefs][=].request.url = &quot;DocumentReference&quot;
* entry[DocumentRefs][=].request.method = #POST
</code></pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
