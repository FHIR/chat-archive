---
layout: page
title: "FHIR Chat  · Canonical(PlanDefinition) on CareplanResource · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical(PlanDefinition).20on.20CareplanResource.html">Canonical(PlanDefinition) on CareplanResource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="262454524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%28PlanDefinition%29%20on%20CareplanResource/near/262454524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Manuel Caputo <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical(PlanDefinition).20on.20CareplanResource.html#262454524">(Nov 23 2021 at 13:25)</a>:</h4>
<p>Hello im working with the Careplan resource, and im triying to restrict the datatype of the property instantiates Canonical. Im doing what is explained in the SHORTHAND documentation.</p>
<ul>
<li>instantiatesCanonical 0..1</li>
<li>instantiatesCanonical only Canonical(PlanDefinition)</li>
</ul>
<p>But im getting this error:</p>
<hr>
<p>error mismatched input 'Canonical(PlanDefinition)' expecting {OR_REFERENCE, PIPE_REFERENCE, SEQUENCE}<br>
  File: C:\Git-Repos\Master\Immunization\Documentation\FHIR-Shorthand\fish-files\input\fsh\OHCCarePlan.fsh<br>
  Line: 24<br>
info  Preprocessed 94 documents with 20 aliases.<br>
error Error in parsing: Cannot read property 'getText' of null<br>
  File: C:\Git-Repos\Master\Immunization\Documentation\FHIR-Shorthand\fish-files\input\fsh\OHCCarePlan.fsh<br>
  Line: 2 - 76</p>
<hr>
<p>Does anyone know what im doing wrong?. <br>
Thanks in advance.</p>



<a name="262460990"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%28PlanDefinition%29%20on%20CareplanResource/near/262460990" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical(PlanDefinition).20on.20CareplanResource.html#262460990">(Nov 23 2021 at 14:17)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="365661">@Juan Manuel Caputo</span>.  What version of SUSHI are you using?  You can find out by typing <code>sushi -v</code>.  Please ensure you are using the latest version, which is currently <a href="https://github.com/FHIR/sushi/releases/tag/v2.2.0">SUSHI 2.2.0</a>.</p>



<a name="262499521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%28PlanDefinition%29%20on%20CareplanResource/near/262499521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical(PlanDefinition).20on.20CareplanResource.html#262499521">(Nov 23 2021 at 19:05)</a>:</h4>
<p>This seems to be working fine in FSH Online (which uses SUSHI 2.1.1): <a href="https://fshschool.org/FSHOnline/#/share/3cJCi6Shttps://fshschool.org/FSHOnline/#/share/3cJCi6S">https://fshschool.org/FSHOnline/#/share/3cJCi6Shttps://fshschool.org/FSHOnline/#/share/3cJCi6S</a></p>



<a name="262560400"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%28PlanDefinition%29%20on%20CareplanResource/near/262560400" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Manuel Caputo <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical(PlanDefinition).20on.20CareplanResource.html#262560400">(Nov 24 2021 at 08:54)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> you are rigth I had the version SUSHI v1.0.1. <br>
After updating the version apparead two errors recurrently that in the previous version I didn't have:</p>
<ol>
<li>
<p>In every codesystem that I have : <br>
error The first rule of a definition must be left-aligned. The rule will be processed as if it is not indented.<br>
  File: C:\Git-Repos\Master\Immunization\Documentation\FHIR-Shorthand\fish-files\input\fsh\VaccVacunasXHISSystem.fsh<br>
  Line: 81</p>
</li>
<li>
<p>For the slicing :<br>
MedicationRequest.note ^slicing.rules: Missing required value<br>
  File: C:\Git-Repos\Master\Immunization\Documentation\FHIR-Shorthand\fish-files\input\fsh\DC4HMedicationRequest.fsh<br>
  Line: 2 - 99<br>
error MedicationRequest.note ^slicing.discriminator[0].path: Missing required value<br>
  File: C:\Git-Repos\Master\Immunization\Documentation\FHIR-Shorthand\fish-files\input\fsh\DC4HMedicationRequest.fsh<br>
  Line: 2 - 99</p>
</li>
</ol>
<p>What I have to change to correct this errors???.</p>
<p>Thank you very much.</p>



<a name="262576260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%28PlanDefinition%29%20on%20CareplanResource/near/262576260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Manuel Caputo <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical(PlanDefinition).20on.20CareplanResource.html#262576260">(Nov 24 2021 at 11:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> Finally I manage to solve all the problems,  the solutions were :</p>
<ol>
<li>In the codesystes there were blank spaces before every line. for example, I mark blank space with the char "-" so it can be visualized here :</li>
</ol>
<p>-CodeSystem:  DosisStateCodeSystem<br>
-Id: dosis-state-code-system<br>
-Title: "Dosis-State-Code-System"<br>
-Description:  "Codes for identifying The Sate of an dosis of a vaccine in the xHIS System"<br>
-* #0 "Pending"<br>
-* #1 "Administrated"</p>
<p>After removing the blank spaces, the problem solved.</p>
<ol start="2">
<li>In the version 1.1.0 it was not necesary to put int .sh the rules and path of the discriminator, after doing this the problem solved.</li>
<li>Finally with the update of sushi I could restrict  the datatype of the property instantiatesCanonical to PlanDefinition.</li>
</ol>
<p>Thank you very much.</p>
<p>Regards.</p>
<p>Juanello.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
