---
layout: page
title: "FHIR Chat  · Slicing with discriminator.type = #value · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slicing.20with.20discriminator.2Etype.20.3D.20.23value.html">Slicing with discriminator.type = #value</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="226977649"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slicing%20with%20discriminator.type%20%3D%20%23value/near/226977649" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martin Höcker <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slicing.20with.20discriminator.2Etype.20.3D.20.23value.html#226977649">(Feb 19 2021 at 15:20)</a>:</h4>
<p>I wrote a profile that contains a discriminator that is based on "value" (<a href="https://fshschool.org/FSHOnline/#/share/2Nlhtpo">example online</a>):</p>
<div class="codehilite"><pre><span></span><code>Profile: SlicedPatient
Parent: Patient
* name ^slicing.discriminator.path = &quot;name&quot;
* name ^slicing.discriminator.type = #value
* name contains officialName 1..1
* name[officialName].use = #official
* name[officialName].given 1..1
</code></pre></div>
<p>The output contains</p>
<div class="codehilite"><pre><span></span><code>...
      {
        &quot;id&quot;: &quot;Patient.name:officialName.use&quot;,
        &quot;path&quot;: &quot;Patient.name.use&quot;,
        &quot;patternCode&quot;: &quot;official&quot;
      },
...
</code></pre></div>
<p>Is "patternCode" correct here, or should the output rather say "fixedCode"?</p>



<a name="226979007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slicing%20with%20discriminator.type%20%3D%20%23value/near/226979007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slicing.20with.20discriminator.2Etype.20.3D.20.23value.html#226979007">(Feb 19 2021 at 15:29)</a>:</h4>
<p>if you want fixed[x] use the (exactly) keyword after the fsh where you set the value<br>
otherwise it assumes pattern[x]</p>



<a name="226991197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slicing%20with%20discriminator.type%20%3D%20%23value/near/226991197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martin Höcker <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slicing.20with.20discriminator.2Etype.20.3D.20.23value.html#226991197">(Feb 19 2021 at 16:41)</a>:</h4>
<p>@ryan moehrke: Thank you! With your suggestion </p>
<div class="codehilite"><pre><span></span><code>* name[officialName].use = #official (exactly)
</code></pre></div>
<p>I now get a <code>fixedCode</code> in the output. </p>
<p>Reading about <code>(exactly)</code> in the FSH spec. I understand that its usage is discouraged. Just for my understanding and out of curiosity: Would it be better to switch to <code>discriminator.type = #pattern</code> instead, or are both discriminators equivalent in this case (since the datatype is <code>code</code>)? I'm still a beginner when it comes to slicing...</p>



<a name="226992232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slicing%20with%20discriminator.type%20%3D%20%23value/near/226992232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slicing.20with.20discriminator.2Etype.20.3D.20.23value.html#226992232">(Feb 19 2021 at 16:48)</a>:</h4>
<p>I believe that the distinction (and why it is discouraged) is that fixed[x] defines that no other information can be possible <br>
ex. valueCoding = http://system.name#code123 (exactly) can not have a display value<br>
while pattern[x] allows for other information, just specifies that the pattern has to exist.</p>



<a name="226998723"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slicing%20with%20discriminator.type%20%3D%20%23value/near/226998723" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slicing.20with.20discriminator.2Etype.20.3D.20.23value.html#226998723">(Feb 19 2021 at 17:32)</a>:</h4>
<p>That's correct.  We default to <code>pattern[x]</code> because <code>fixed[x]</code> can be overly prescriptive (for the reason <span class="user-mention" data-user-id="237342">@ryan moehrke</span> provided above).  When applying it to complex types (like <code>CodeableConcept</code> and <code>Coding</code>), it is a particularly important distinction.  When applying it to primitives (like <code>code</code>), however, it's a little less crucial. If you use <code>fixed[x]</code> on a primitive it basically means that no one could put an <code>id</code> or <code>extension</code> on that primitive, but that's about it.  So in your situation (<code>code</code>), I don't think there is a wrong answer.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
