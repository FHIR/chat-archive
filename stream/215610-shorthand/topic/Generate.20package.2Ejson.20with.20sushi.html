---
layout: page
title: "FHIR Chat  · Generate package.json with sushi · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html">Generate package.json with sushi</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="268766877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268766877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268766877">(Jan 20 2022 at 22:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> Hi! Is there an option for sushi to generate/update a <code>package.json</code> based on the contents of <code>sushi-config.yaml</code> (or the other way around)? I don't have an IG resource in <a href="https://github.com/FirelyTeam/ACME-FSH-Example">https://github.com/FirelyTeam/ACME-FSH-Example</a> and Firely Terminal needs a <code>package.json</code> for knowing the project details.</p>



<a name="268769239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268769239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268769239">(Jan 20 2022 at 22:47)</a>:</h4>
<p>I think package.json is generated by IG publisher. I haven't found a way to influence its contents yet.</p>



<a name="268773733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268773733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268773733">(Jan 20 2022 at 23:35)</a>:</h4>
<p>Right, as <span class="user-mention" data-user-id="191380">@Elliot Silver</span> noted, we rely on the IG Publisher to generate the <code>package.json</code>.  We don't manipulate it ourselves.</p>
<p>We could potentially look into doing this, but I'm not sure how it jives with the publisher workflow.  I wouldn't want to create a package.json that causes trouble/conflicts with the IG Publisher, so it would probably need to be an option of some sort.</p>



<a name="268773902"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268773902" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268773902">(Jan 20 2022 at 23:37)</a>:</h4>
<p>I <em>think</em> it may actually be the templates/jekyll processing that create it, but that's beyond my limit.</p>



<a name="268776022"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268776022" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268776022">(Jan 21 2022 at 00:00)</a>:</h4>
<p>package.json is a file that is created by the publishing process. manually... and usually checked into your project.</p>



<a name="268805877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268805877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268805877">(Jan 21 2022 at 07:52)</a>:</h4>
<p>which package.json is this about? I only see one, inside package.tgz, and that one is generated by the publisher.</p>



<a name="268831481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268831481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hank Lenzi <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268831481">(Jan 21 2022 at 11:55)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191380">Elliot Silver</span> <a href="#narrow/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi/near/268773902">said</a>:</p>
<blockquote>
<p>I <em>think</em> it may actually be the templates/jekyll processing that create it, but that's beyond my limit.</p>
</blockquote>
<p>in ../org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools</p>
<p>The Java code is divided into publishers/renderers/spreadsheet/teplates/ui</p>
<p>Beyond my limit/lifespan too (this is a large code base and the whole thing is not well documented, with even some document drift)</p>



<a name="268915846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268915846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268915846">(Jan 21 2022 at 23:09)</a>:</h4>
<p>Thanks for all the input!</p>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> In my testing the IG Publisher just ignores any <code>package.json</code> present in the root. And the only one it outputs, as <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> mentions, is in <code>.\output\package.tgz</code> (and some limited version at <code>.\output\package.manifest.json</code>).</p>



<a name="268917555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268917555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268917555">(Jan 21 2022 at 23:27)</a>:</h4>
<p>Thanks for the info, <span class="user-mention" data-user-id="203235">@Ward Weistra</span>.  If the IG Publisher ignores a user-provided <code>package.json</code> then that means we can't mess it up -- but I could also see users being confused by seeing a <code>package.json</code> generated by SUSHI that is <em>not</em> used by the IG Publisher (and perhaps wondering why the one in their <code>package.tgz</code> is so different than the one that SUSHI generated).  So I think I'd still want to make its generation be an <em>opt-in</em> sort of deal.</p>
<p>Could you provide some requirements regarding what you would expect a SUSHI-generated <code>package.json</code> to contain? And perhaps file an official issue requesting it over at <a href="https://github.com/FHIR/sushi/issues">https://github.com/FHIR/sushi/issues</a> ?</p>



<a name="268917753"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268917753" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268917753">(Jan 21 2022 at 23:29)</a>:</h4>
<p>Where would that package.json be? In which folder? Is there a risk it messes up the publisher itself?</p>



<a name="268917846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268917846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268917846">(Jan 21 2022 at 23:30)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> Will create a feature request and provide more details there!</p>



<a name="268918191"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268918191" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268918191">(Jan 21 2022 at 23:34)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> In the root folder, where the <code>input</code> and <code>fsh-generated</code> folder also live.<br>
And regarding messing up the IG publisher: As stated above, I believe it completely ignores it. But let me know if you find differently.<br>
And I totally see Chris' point on making it optional, so even if the publisher would look at it, it would be a deliberate user choice to turn that on.</p>



<a name="268918329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268918329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268918329">(Jan 21 2022 at 23:35)</a>:</h4>
<p>I see. I never saw that file so i was wondering if it's going to be in input or any of the defined folders. If it's in the root it should be harmless</p>



<a name="268918621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268918621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268918621">(Jan 21 2022 at 23:38)</a>:</h4>
<p>Firely Terminal, Simplifier and Forge use that <code>package.json</code> to know what dependencies a project needs and download and install these FHIR packages if needed. You can read more on the file here: <a href="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagemanifest">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagemanifest</a></p>



<a name="268918865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268918865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268918865">(Jan 21 2022 at 23:41)</a>:</h4>
<p>I'm confused about the use case. Is it so that someone using Sushi can upload their project to Simplifier, and include an already filled out package.json? Is it to provide more control over the publisher generated package.json?</p>



<a name="268919671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268919671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268919671">(Jan 21 2022 at 23:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span> The first one.</p>
<p>Take <a href="https://github.com/FirelyTeam/ACME-FSH-Example/">https://github.com/FirelyTeam/ACME-FSH-Example/</a>, where I am using FSH to define my resources and Simplifier to create the Implementation Guide.<br>
Currently I must manually bring over the package dependencies from sushi-config.yaml to a package.json. Otherwise, Simplifier is unaware of the package dependencies I already previously specified.<br>
Similarly when I want to run Firely Terminal locally after my sushi run, to validate if the JSON output is correct or validate my custom business rules.</p>



<a name="268919778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268919778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268919778">(Jan 21 2022 at 23:51)</a>:</h4>
<p>Aren't the dependencies in the IG resource though?</p>



<a name="268919874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268919874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268919874">(Jan 21 2022 at 23:52)</a>:</h4>
<p>I suppose though, there are some projects that are missing IG resources (ahem, DICOM vocab).</p>



<a name="268920432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268920432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268920432">(Jan 21 2022 at 23:59)</a>:</h4>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span> Yes, sushi indeed brings them to the IG resource. Alternatively, we should teach our toolstack to  search a full folder structure for (hopefully one) IG resource. But I'd strongly prefer to just have a package.json in the root of a FHIR development project and use the package infrastructure for this.<br>
Just like with published FHIR packages, which also contain both the IG resource (or two...) and always exactly one package manifest (package.json).</p>



<a name="268920899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268920899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268920899">(Jan 22 2022 at 00:04)</a>:</h4>
<p>Got it. OK. Or teach Simplifier to populate projects off of the package. (I suspect the number of people using Sushi who wouldn't be comfortable running the publisher once is limited.)</p>



<a name="268921528"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268921528" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268921528">(Jan 22 2022 at 00:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191380">@Elliot Silver</span> Simplifier will already happily accept a package.tgz if you upload that to your FHIR project <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span><br>
But I don't think that's the most efficient workflow.</p>



<a name="268921627"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268921627" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268921627">(Jan 22 2022 at 00:12)</a>:</h4>
<p>Well, that would have saved me some time. <span aria-label="rolling eyes" class="emoji emoji-1f644" role="img" title="rolling eyes">:rolling_eyes:</span></p>



<a name="268923214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/268923214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#268923214">(Jan 22 2022 at 00:34)</a>:</h4>
<p>Reported the feature request here: <a href="https://github.com/FHIR/sushi/issues/1010">https://github.com/FHIR/sushi/issues/1010</a> <span aria-label="thank you" class="emoji emoji-1f64f" role="img" title="thank you">:thank_you:</span></p>



<a name="269112247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Generate%20package.json%20with%20sushi/near/269112247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Generate.20package.2Ejson.20with.20sushi.html#269112247">(Jan 24 2022 at 14:22)</a>:</h4>
<p>Thanks for the detailed writeup, <span class="user-mention" data-user-id="203235">@Ward Weistra</span>.  I've added a few of my thoughts in comments to that issue (for you or anyone else following along).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
