---
layout: page
title: "FHIR Chat  · Reusable RuleSets · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html">Reusable RuleSets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="268255539"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/268255539" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#268255539">(Jan 17 2022 at 11:01)</a>:</h4>
<p>Is there a way to reuse a fsh file across IGs yet? For example for rulesets and common conventions/aliases...</p>



<a name="268391239"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/268391239" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#268391239">(Jan 18 2022 at 13:37)</a>:</h4>
<p>Only by copying the files into the fsh directory...</p>



<a name="268394657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/268394657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#268394657">(Jan 18 2022 at 14:03)</a>:</h4>
<p><span class="user-mention" data-user-id="192587">@David Pyke</span> is correct.  We don't have any more sophisticated mechanisms for sharing FSH entities at this point.  It is something we've thought about as a future improvement, but we haven't done much more than think about it at this point.</p>



<a name="268981065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/268981065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#268981065">(Jan 22 2022 at 22:02)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> ,  see <a href="http://jira.hl7.org/browse/FHIR-28949">J#28949</a>. I requested this a while ago.</p>



<a name="268981613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/268981613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#268981613">(Jan 22 2022 at 22:14)</a>:</h4>
<p>I was probably having this as an influence. In fact I only thought of this because you taught me how to separate those common functions.</p>



<a name="268981630"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/268981630" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#268981630">(Jan 22 2022 at 22:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> FWIW, I'd upvote this</p>



<a name="268981706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/268981706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#268981706">(Jan 22 2022 at 22:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192587">David Pyke</span> <a href="#narrow/stream/215610-shorthand/topic/Reusable.20RuleSets/near/268391239">said</a>:</p>
<blockquote>
<p>Only by copying the files into the fsh directory...</p>
</blockquote>
<p>Symlink for the win!</p>



<a name="268984994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/268984994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#268984994">(Jan 22 2022 at 23:31)</a>:</h4>
<p>or package and DependsOn</p>



<a name="269107626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/269107626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#269107626">(Jan 24 2022 at 13:50)</a>:</h4>
<p>If you're comfortable with <a href="https://github.blog/2016-02-01-working-with-submodules/">git submodules</a> (or willing to learn), that could be an effective way of sharing common FSH files across multiple projects.</p>



<a name="270368933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270368933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270368933">(Feb 02 2022 at 11:25)</a>:</h4>
<p>I had considered trying that. The problem with git submodules is that i don't think we can put that on a commit, can we?</p>



<a name="270387871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270387871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270387871">(Feb 02 2022 at 14:02)</a>:</h4>
<p>Ah, yeah.  I forgot that submodules need to be explicitly managed (e.g., you need to use <code>git clone --recursive</code> when cloning, <code>git submodule update</code>, etc.).  Good point, <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>.  It might not work in the current FHIR ecosystem, and even if it did, it would be difficult to appropriately version it.</p>



<a name="270388432"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270388432" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270388432">(Feb 02 2022 at 14:06)</a>:</h4>
<p>Let's explore what it would look like to have shareable FSH...  I see a few options:</p>
<ol>
<li>Add FSH files to FHIR packages so they have the final FHIR artifacts, but also the FSH source.</li>
<li>Create FSH-only packages and publish them somewhere (but where? NPM registry?).</li>
<li>Specify GitHub project URLs as dependencies and SUSHI finds FSH files there.</li>
<li>Something else?</li>
</ol>
<p>Thoughts?</p>



<a name="270525748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270525748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270525748">(Feb 03 2022 at 10:13)</a>:</h4>
<p>Theoretically you could make a <code>/fsh</code> folder in your package and share whatever you want. Be careful not to bloat packages too much though <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="270589406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270589406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270589406">(Feb 03 2022 at 17:46)</a>:</h4>
<p>adding a fsh folder would mean using dependsOn, right?</p>



<a name="270589544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270589544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270589544">(Feb 03 2022 at 17:47)</a>:</h4>
<p>(btw dragging <span class="user-mention" data-user-id="191604">@Carl Leitner</span> <span class="user-mention" data-user-id="193299">@Luke Duncan</span> into this)</p>



<a name="270589587"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270589587" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270589587">(Feb 03 2022 at 17:47)</a>:</h4>
<p>and if that is the case, we'd end up having an entire IG as a repository of common functions, right?</p>



<a name="270589825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270589825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270589825">(Feb 03 2022 at 17:49)</a>:</h4>
<ul>
<li>yay points: It's an IG and we know how to manage that lifecycle</li>
<li>nay points: it's an entire IG (and will the IG build without any artifact, just the fsh functions?)</li>
</ul>



<a name="270760684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270760684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Stanley <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270760684">(Feb 04 2022 at 19:20)</a>:</h4>
<p>The idea to add FSH files to FHIR packages appeals to me though I'm not sure how that would work as an end user of FSH.</p>



<a name="270904899"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270904899" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270904899">(Feb 06 2022 at 18:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> it may be the best option. Worth a try?</p>



<a name="270904916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270904916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270904916">(Feb 06 2022 at 18:49)</a>:</h4>
<p><span class="user-mention" data-user-id="194192">@Richard Stanley</span> as a end user of fsh you would just add a dependsOn in your sushi.yaml and you'd get the fsh declarations in that dependency.</p>



<a name="270904980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270904980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270904980">(Feb 06 2022 at 18:50)</a>:</h4>
<p>Tricky thing is that sushi should not save the dependencies as fhir resources for the IG. It would need to use them but not publish them</p>



<a name="270988028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270988028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270988028">(Feb 07 2022 at 14:46)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> -- we have a few things on our plate right now, so this will probably stay in "idea phase" for a little while.  I just wanted to get people's thoughts on things.  Regarding using the standard FHIR packages to share FSH, there are a few points to consider:</p>
<ul>
<li>The IGP would need to be updated to include the FSH code when it creates a package (I don't think it does that right now).</li>
<li>Should we support identifying if a dependency package is just needed for the FSH or also for formal dependencies?  In the former case, it would not need to be listed in the generated IG JSON.</li>
<li>Similar to above, should authors have to say that they WANT to use the FSH in a dependency (we could run into some weird unintentional situations otherwise).</li>
<li>What things can be shared as FSH?  Just RuleSets?  Aliases?  Everything?</li>
</ul>



<a name="270990160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270990160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270990160">(Feb 07 2022 at 15:00)</a>:</h4>
<p>right. That may be the longest path then. Perhaps we do need to consider alternatives only from the sushi / fsh side</p>



<a name="270990210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/270990210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#270990210">(Feb 07 2022 at 15:01)</a>:</h4>
<p>e.g. a special line of sushi for <code>includes?</code>?</p>



<a name="271022132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Reusable%20RuleSets/near/271022132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Reusable.20RuleSets.html#271022132">(Feb 07 2022 at 18:31)</a>:</h4>
<p>Personally, I think going the package route is over-engineering the problem, and likely to create as many issues as it solves. Go with some simple include directories.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
