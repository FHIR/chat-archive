---
layout: page
title: "FHIR Chat  · System.string · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html">System.string</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="193847863"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/System.string/near/193847863" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html#193847863">(Apr 14 2020 at 03:48)</a>:</h4>
<p>I'm sure I've asked this before, but we're getting a validation error (using the external java validator) which is complaining about 'System.string' as a valid type value in an extension definition produced by the IG Publisher - from a shorthand produced definition. This is the validation command we're using:</p>
<p>java -jar org.hl7.fhir.validator.jar dhb.StructureDefinition.xml -output validation.xml -version 4.0.1</p>



<a name="193851205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/System.string/near/193851205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html#193851205">(Apr 14 2020 at 05:14)</a>:</h4>
<p>what's the instance that causes the error?</p>



<a name="193852263"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/System.string/near/193852263" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html#193852263">(Apr 14 2020 at 05:40)</a>:</h4>
<p><a href="http://igs.clinfhir.com/nhi/StructureDefinition-dhb.html" title="http://igs.clinfhir.com/nhi/StructureDefinition-dhb.html">http://igs.clinfhir.com/nhi/StructureDefinition-dhb.html</a></p>



<a name="193957491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/System.string/near/193957491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html#193957491">(Apr 14 2020 at 21:09)</a>:</h4>
<p>The only cases of <code>System.String</code> I see in your SD are on <code>Extension.id</code> and <code>Extension.url</code> -- which I believe are expected.  In fact, if you look at the Extension definition itself (which your SD is based on), it has the same: <a href="http://hl7.org/fhir/extension.profile.json.html" title="http://hl7.org/fhir/extension.profile.json.html">http://hl7.org/fhir/extension.profile.json.html</a></p>



<a name="193959520"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/System.string/near/193959520" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html#193959520">(Apr 14 2020 at 21:30)</a>:</h4>
<p>Superficially, at least - this looks problematic to me - i.e. the expected values in the valueUrl and code elements appear to be reversed and that's effectively what the Validator is reporting...</p>
<div class="codehilite"><pre><span></span>&quot;type&quot; : [{
        &quot;extension&quot; : [{
          &quot;url&quot; : &quot;http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type&quot;,
          &quot;valueUrl&quot; : &quot;string&quot;
        }],
        &quot;code&quot; : &quot;http://hl7.org/fhirpath/System.String&quot;
      }],
</pre></div>



<a name="193986563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/System.string/near/193986563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html#193986563">(Apr 15 2020 at 05:34)</a>:</h4>
<p>I understand it seems odd, but this actually happens a lot -- primarily in definitions of primitives and the definitions of <code>Element.id</code> and <code>Element.url</code> -- and last I checked was quite intentional.  Again, here is from the rendered JSON straight from the published R4 spec: <a href="/user_uploads/10155/P7KgRA_Q5HRKb2C2XhqoGm6S/image.png" title="image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/P7KgRA_Q5HRKb2C2XhqoGm6S/image.png" title="image.png"><img src="/user_uploads/10155/P7KgRA_Q5HRKb2C2XhqoGm6S/image.png"></a></div>



<a name="193986582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/System.string/near/193986582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html#193986582">(Apr 15 2020 at 05:35)</a>:</h4>
<p>the validator shouldn't be complaining about this  - it</p>



<a name="193986589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/System.string/near/193986589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html#193986589">(Apr 15 2020 at 05:35)</a>:</h4>
<p>it's on my todo list to investigate</p>



<a name="193986887"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/System.string/near/193986887" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html#193986887">(Apr 15 2020 at 05:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191364">@Peter Jordan</span> and <span class="user-mention" data-user-id="191321">@David Hay</span> -- this pattern is often referred to as "compiler magic".  If you search "compiler magic" on Zulip, you'll find a few threads about it, but here's a nice long one for you. ;-) <a href="#narrow/stream/179166-implementers/topic/.22http.3A.2F.2Fhl7.2Eorg.2Ffhirpath.2FSystem.2EString.22" title="#narrow/stream/179166-implementers/topic/.22http.3A.2F.2Fhl7.2Eorg.2Ffhirpath.2FSystem.2EString.22">https://chat.fhir.org/#narrow/stream/179166-implementers/topic/.22http.3A.2F.2Fhl7.2Eorg.2Ffhirpath.2FSystem.2EString.22</a></p>



<a name="193990058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/System.string/near/193990058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Jordan <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/System.2Estring.html#193990058">(Apr 15 2020 at 06:44)</a>:</h4>
<p>Thanks Chris. A little too visible to be termed "magic" I'd say and certainly not the output from a compiler - but as long as it's valid within the context of a FHIR StructureDefinition all is fine. :)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
