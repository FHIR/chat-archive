---
layout: page
title: "FHIR Chat  · IGPublisher generated FHIR package package.json · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html">IGPublisher generated FHIR package package.json</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="215202028"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215202028" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215202028">(Oct 31 2020 at 17:30)</a>:</h4>
<p>After generating an IG, starting with FSH tank, I see the generated package.json (in the FHIR package archive <code>build/output/package.tgz</code>) is set to my local file path, e.g. </p>
<div class="codehilite"><pre><span></span><code>&quot;url&quot;: &quot;file:///Users/bkaney/code/my-project/ig/build/output&quot;,
</code></pre></div>
<p>I would like to specify this but don't know how? I tried to adding a <code>url</code> property to my  <code>fsh/config.yaml</code>, but it didn't have any affect. Any ideas?</p>



<a name="215203310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215203310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215203310">(Oct 31 2020 at 17:56)</a>:</h4>
<p>I don't remember but you can check this  :<br>
Do you provide an implementationguide xml / json? or do you let sushi generate it for you?</p>



<a name="215203329"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215203329" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215203329">(Oct 31 2020 at 17:57)</a>:</h4>
<p>if you provide the ig.xml, dows it have the url set? If not, does your sushi.config.yaml contain a canonical entry?</p>



<a name="215203348"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215203348" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215203348">(Oct 31 2020 at 17:57)</a>:</h4>
<p>(I don't know if this has changed meanwhile, but I remember the same thing because my canonical was not set)</p>



<a name="215203358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215203358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215203358">(Oct 31 2020 at 17:57)</a>:</h4>
<p>I do not have implementationguide, sushi is generating it. Yes, there is a canonical set.</p>



<a name="215203571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215203571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215203571">(Oct 31 2020 at 18:01)</a>:</h4>
<p>I am using sushi 0.16.0, and IGPublisher 1.1.35</p>



<a name="215315893"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215315893" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215315893">(Nov 02 2020 at 13:10)</a>:</h4>
<p>SUSHI doesn't generate that package.json, and I'm not sure which value the IG Publisher uses to populate that field. I see the same sort of local file path in the package.json when I build IGs locally, so I'm wondering if that is just the IG Publisher's convention for <code>dev</code> packages?</p>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> are you saying that the IG Publisher populates that field based on the "url" value in the ImplentationGuide resource? Because I have some locally built IGs that do have "url" set in the ImplementationGuide, but still have the local file path in the package.json.</p>



<a name="215324134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215324134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215324134">(Nov 02 2020 at 14:22)</a>:</h4>
<p>No, <span class="user-mention" data-user-id="239822">@Nick Freiter</span> I just vaguely remembered something possibly related</p>



<a name="215324179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215324179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215324179">(Nov 02 2020 at 14:22)</a>:</h4>
<p>It is not improbable that I am just confusing everything.</p>



<a name="215324506"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215324506" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215324506">(Nov 02 2020 at 14:25)</a>:</h4>
<p>I think this was the discussion I recalled:<br>
<a href="#narrow/stream/215610-shorthand/topic/setting.20base.20url">https://chat.fhir.org/#narrow/stream/215610-shorthand/topic/setting.20base.20url</a></p>



<a name="215327147"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215327147" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215327147">(Nov 02 2020 at 14:44)</a>:</h4>
<p>I <em>think</em> that discussion is a bit different than what's going on here. It looked like in that thread there was an issue with the <code>package.json</code> that SUSHI used to use as an input, which is now <code>sushi-config.yaml</code>. But in this case, the issue is with the <code>package.json</code> generated by the IG Publisher for the <code>package.tgz</code> file. This <a href="https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-PackageManifestpropertiesforIGs">documentation</a> seems to indicate that that value should get set based on the <code>manifest.rendering</code> property on the ImplementationGuide resource, but I'm having trouble replicating that for a locally built package.</p>



<a name="215347537"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215347537" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215347537">(Nov 02 2020 at 17:03)</a>:</h4>
<p>FWIW, the generated IG resource that I see does not have <code>manifest.rendering</code> property.</p>



<a name="215348709"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215348709" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215348709">(Nov 02 2020 at 17:11)</a>:</h4>
<p>It's possible the <code>manifest.rendering</code> is ignored when building locally. I've been unable to get the <code>url</code> in the <code>package.json</code> to have a value different from the local file path. This might be worth bringing up in the <a class="stream" data-stream-id="179252" href="/#narrow/stream/179252-IG-creation">#IG creation</a> channel? Once we know how the IG Publisher sets that <code>url</code> in <code>package.json</code>, we could determine if there is anything SUSHI can do to put  the <code>canonical</code> given in <code>config.yaml</code> where the IG Publisher is expecting it.</p>



<a name="215391689"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215391689" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215391689">(Nov 02 2020 at 23:10)</a>:</h4>
<p>I attempted to frame the question there...</p>



<a name="215448690"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215448690" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215448690">(Nov 03 2020 at 12:52)</a>:</h4>
<p><span class="user-mention" data-user-id="239822">@Nick Freiter</span> Lloyd said "It should come from the ImplementationGuide.url value"</p>



<a name="215453715"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215453715" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215453715">(Nov 03 2020 at 13:39)</a>:</h4>
<p>Gotcha, continuing the conversation there.</p>



<a name="215453846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215453846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215453846">(Nov 03 2020 at 13:40)</a>:</h4>
<p>The other thread, for anyone else who is interested: <a href="#narrow/stream/179252-IG-creation/topic/Setting.20.22url.22.20in.20package.2Ejson">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/Setting.20.22url.22.20in.20package.2Ejson</a></p>



<a name="215637360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215637360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215637360">(Nov 04 2020 at 20:32)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="239822">@Nick Freiter</span>  -- not sure exactly how to parse Grahame's response here, but maybe this could be useful information w.r.t. sushi tooling? Or is this something that sushi shouldn't be involved with?</p>



<a name="215637998"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215637998" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215637998">(Nov 04 2020 at 20:37)</a>:</h4>
<p>Hm yeah I see. I've asked if command line option is truly the only way to do it. If that's the case, then no, I don't think this is something SUSHI would be able to take care of. I don't think we want to get into the business of messing with the command line params of the IG publisher. But, if there is some value that can be set in the ImplementationGuide resource, then we could look into having SUSHI set that value based on the given <code>canonical</code>.</p>



<a name="215735522"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215735522" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215735522">(Nov 05 2020 at 16:19)</a>:</h4>
<p><span class="user-mention" data-user-id="239822">@Nick Freiter</span>  One idea might be a way to set IGPublish CLI flags/options (in config.yaml)?</p>



<a name="215739303"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215739303" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215739303">(Nov 05 2020 at 16:42)</a>:</h4>
<p>sushi cannot set the flags for the IGPublisher because sushi does not call the publisher. It's the publisher that calls sushi</p>



<a name="215739349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215739349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215739349">(Nov 05 2020 at 16:43)</a>:</h4>
<p>more settings for fsh.ini!</p>



<a name="215739401"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215739401" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215739401">(Nov 05 2020 at 16:43)</a>:</h4>
<p>what setting would that be? fsh.ini is for sushi settings</p>



<a name="215739853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215739853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215739853">(Nov 05 2020 at 16:46)</a>:</h4>
<p>Currently it only sets the sushi version that the publisher will use.  However, it could be other runtime settings (or could be set in ig.ini)</p>



<a name="215741332"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/IGPublisher%20generated%20FHIR%20package%20package.json/near/215741332" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/IGPublisher.20generated.20FHIR.20package.20package.2Ejson.html#215741332">(Nov 05 2020 at 16:57)</a>:</h4>
<p>In this case <span class="user-mention" data-user-id="191782">@Brian Kaney</span> wants to affect the IG Publisher, <em>not</em> SUSHI (since SUSHI does not generate <code>package.json</code>), so <code>ig.ini</code> (or a <code>parameter</code> in the IG JSON) would be more appropriate than <code>fsh.ini</code>.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
