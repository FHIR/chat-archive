---
layout: page
title: "FHIR Chat  · bug in narrative generation: wrong href · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/bug.20in.20narrative.20generation.3A.20wrong.20href.html">bug in narrative generation: wrong href</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="265170521"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/bug%20in%20narrative%20generation%3A%20wrong%20href/near/265170521" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastiaan Raap <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/bug.20in.20narrative.20generation.3A.20wrong.20href.html#265170521">(Dec 16 2021 at 15:17)</a>:</h4>
<p>I hope I chose the correct stream for this .. </p>
<p>in my Questionnaire instance in my FSH i've created: </p>
<div class="codehilite"><pre><span></span><code>* item.item[=].extension[+].url = &quot;http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation&quot;
* item.item[=].extension[=].valueCode = #vertical
</code></pre></div>
<p>when running ./_genonce.sh the result in my output json is:</p>
<div class="codehilite"><pre><span></span><code>            {
              &quot;url&quot;: &quot;http://hl7.org/fhir/StructureDefinition/questionnaire-choiceOrientation&quot;,
              &quot;valueCode&quot;: &quot;vertical&quot;
            }
</code></pre></div>
<p>but in the narrative the result is:</p>
<div class="codehilite"><pre><span></span><code>&lt;a href=&quot;http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-observationLinkPeriod&quot; title=&quot;Orientation: vertical&quot;&gt;
</code></pre></div>
<p>Think that's a bug?</p>



<a name="265189865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/bug%20in%20narrative%20generation%3A%20wrong%20href/near/265189865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/bug.20in.20narrative.20generation.3A.20wrong.20href.html#265189865">(Dec 16 2021 at 17:31)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="430992">@Sebastiaan Raap</span> -- I'm not very familiar w/ how the narrative generation for Questionnaires works, but I see that the url in the narrative doesn't seem to match the URL in the source -- and that <em>seems</em> like a bug to me!  But, again, I'm not too familiar w/ Questionnaires and SDC and narrative generation, so maybe there is some nuance I am missing.</p>
<p>If it <em>is</em> a bug, then it is in the IG Publisher.  SUSHI / FSH does not do any narrative generation.  That's all done by the IG Publisher.  In that case <a class="stream" data-stream-id="179252" href="/#narrow/stream/179252-IG-creation">#IG creation</a> would probably be a better stream to ask about this.</p>



<a name="265246779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/bug%20in%20narrative%20generation%3A%20wrong%20href/near/265246779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/bug.20in.20narrative.20generation.3A.20wrong.20href.html#265246779">(Dec 17 2021 at 02:29)</a>:</h4>
<p>certainly looks like a bug to me, somewhere in the IG publisher - how do I reproduce this?</p>



<a name="265291053"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/bug%20in%20narrative%20generation%3A%20wrong%20href/near/265291053" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sebastiaan Raap <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/bug.20in.20narrative.20generation.3A.20wrong.20href.html#265291053">(Dec 17 2021 at 12:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>  <br>
<a href="/user_uploads/10155/7c7iOO4EM4Svom8zp4Tan1Vv/Questionnaire-GOFSH-GENERATED-ID-0.json">Questionnaire-GOFSH-GENERATED-ID-0.json</a> </p>
<p>if you add this to sample-ig/input/examples and run genOnce, the generated narratives will contain the wrong href.</p>



<a name="265766184"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/bug%20in%20narrative%20generation%3A%20wrong%20href/near/265766184" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/bug.20in.20narrative.20generation.3A.20wrong.20href.html#265766184">(Dec 22 2021 at 04:52)</a>:</h4>
<p>fixed next release</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
