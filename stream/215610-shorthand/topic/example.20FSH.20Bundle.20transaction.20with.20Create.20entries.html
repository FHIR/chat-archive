---
layout: page
title: "FHIR Chat  · example FSH Bundle transaction with Create entries · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html">example FSH Bundle transaction with Create entries</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="222582476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222582476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222582476">(Jan 13 2021 at 13:58)</a>:</h4>
<p>I am struggling with the MHD provide transaction, which is a Bundle transaction with 1 or more create entries. I am sure I am just doing something stupid, so first ask for others examples of FSH specifications of Bundle transactions with creates.</p>



<a name="222612052"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222612052" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222612052">(Jan 13 2021 at 17:02)</a>:</h4>
<p>I have one Bundle working. but another one keeps throwing the dreaded </p>
<div class="codehilite"><pre><span></span><code>error Cannot read property &#39;0&#39; of undefined
</code></pre></div>



<a name="222636027"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222636027" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222636027">(Jan 13 2021 at 19:52)</a>:</h4>
<p>I'm afraid that doesn't really give us enough to go on to really debug the issue.  The good news, however, is that we hope to release a new version of SUSHI with "soft indexing" <em>today</em> (tomorrow at latest) -- which should make working w/ Bundle instances a lot easier and less error prone.</p>



<a name="222636416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222636416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222636416">(Jan 13 2021 at 19:55)</a>:</h4>
<p>I wish I could give you more to go on.   I fully expect that it is my own fat-fingers that are to blame.. but I have tried and have had others look... many eyes might find the problem.  Here is the total FSH that causes failure</p>
<div class="codehilite"><pre><span></span><code>Instance:   ex-dummyProvideDocumentBundle
InstanceOf: Bundle
Title:      &quot;Dummy Provide Document Bundle with Minimal metadata&quot;
Description: &quot;Example of a minimal Provide Document Bundle. &quot;
* meta.security = http://terminology.hl7.org/CodeSystem/v3-ActReason#HTEST
* type = #transaction
* timestamp = 2020-11-24T23:50:50-05:00
* entry[0].fullUrl = &quot;http://www.example.org/fhir/List/593cd04e-b696-45c1-bc32-39e55a340a48&quot;
* entry[0].resource = ex-b-list
* entry[0].request.url = &quot;List&quot;
* entry[0].request.method = #POST
* entry[1].fullUrl = &quot;http://www.example.org/fhir/DocumentReference/593cd04e-b696-45c1-bc32-39e55a340a47&quot;
* entry[1].resource = ex-b-documentreference
* entry[1].request.url = &quot;DocumentReference&quot;
* entry[1].request.method = #POST

Instance: ex-b-list
InstanceOf: List
Title: &quot;Dummy List example&quot;
Description: &quot;Dummy List example for completeness sake. No actual use of this resource other than an example target&quot;
* meta.security = http://terminology.hl7.org/CodeSystem/v3-ActReason#HTEST
* status = #current
* mode = #working
* entry.item = Reference(ex-b-documentreference)

Instance: ex-b-documentreference
InstanceOf: DocumentReference
Title: &quot;Dummy DocumentReference example&quot;
Description: &quot;Dummy DocumentReference example for completeness sake. No actual use of this resource other than an example target&quot;
* meta.security = http://terminology.hl7.org/CodeSystem/v3-ActReason#HTEST
* status = #current
* content.attachment.title = &quot;Hello World&quot;
</code></pre></div>



<a name="222649054"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222649054" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222649054">(Jan 13 2021 at 21:34)</a>:</h4>
<p>is there a problem with that I indicate the Bundle may contain 0..* DocumentReference?</p>



<a name="222649338"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222649338" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222649338">(Jan 13 2021 at 21:37)</a>:</h4>
<p>is there a problem if I slice on #profile type and use FHIR core Resource as the profile?  Overall I have a need to allow unprofiled Binary and Patient, while also requiring specific profiles of List and DocumentReference</p>



<a name="222650562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222650562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222650562">(Jan 13 2021 at 21:48)</a>:</h4>
<p>I have even a more simple one that fails.</p>
<div class="codehilite"><pre><span></span><code>Instance:   ex-patient2
InstanceOf: Patient
Title:      &quot;Dummy Patient example&quot;
Description: &quot;Dummy patient example for completeness sake. No actual use of this resource other than an example target&quot;
* meta.security = http://terminology.hl7.org/CodeSystem/v3-ActReason#HTEST

Instance:   ex-dummyPatientBundle
InstanceOf: Bundle
Title:      &quot;Dummy Patient feed&quot;
Description: &quot;Example of a patient feed transaction Bundle.&quot;
* meta.security = http://terminology.hl7.org/CodeSystem/v3-ActReason#HTEST
* type = #transaction
* timestamp = 2020-11-24T23:50:50-05:00
* entry[0].resource = ex-patient2
* entry[0].fullUrl = &quot;http://www.example.org/fhir/Patient/593cd04e-b696-45c1-bc32-39e55a340a99&quot;
* entry[0].request.url = &quot;Patient&quot;
* entry[0].request.method = #POST
</code></pre></div>



<a name="222650608"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222650608" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222650608">(Jan 13 2021 at 21:48)</a>:</h4>
<p>surely someone can find where I did something stupid</p>



<a name="222651034"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222651034" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222651034">(Jan 13 2021 at 21:52)</a>:</h4>
<p>it has nothing to do with the indexing because I removed the indexes and still get the error</p>



<a name="222651129"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222651129" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222651129">(Jan 13 2021 at 21:52)</a>:</h4>
<p>so... sushi bug? hope the new one comes along and has this fixed</p>



<a name="222651831"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222651831" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222651831">(Jan 13 2021 at 21:58)</a>:</h4>
<p>yep, sushi bug.  if you remove the entry[0].resource line or remove the ex-patient2 * <a href="http://meta.security">meta.security</a> line, it works.</p>



<a name="222651917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222651917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222651917">(Jan 13 2021 at 21:59)</a>:</h4>
<p>Hmmm... It has <em>something</em> to do with the <code>meta.security</code> assignment in the <code>ex-patient2</code> assignment.  If I comment out that line, all is well.  So, yes, a SUSHI bug.  Fixed in the next release?  Not sure.</p>



<a name="222651972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222651972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222651972">(Jan 13 2021 at 21:59)</a>:</h4>
<p>what??? hmm.</p>



<a name="222652165"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222652165" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222652165">(Jan 13 2021 at 22:00)</a>:</h4>
<p>wow.. that is odd</p>



<a name="222652193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222652193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222652193">(Jan 13 2021 at 22:00)</a>:</h4>
<p>meta tags can't be in contained resources, are you expecting every inline resource to be contained?</p>



<a name="222652234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222652234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222652234">(Jan 13 2021 at 22:00)</a>:</h4>
<p>bundle entry is not contained</p>



<a name="222652254"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222652254" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222652254">(Jan 13 2021 at 22:00)</a>:</h4>
<p>well, it is inside, but not contained</p>



<a name="222652316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222652316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222652316">(Jan 13 2021 at 22:01)</a>:</h4>
<p>ah... but that is a key to sushi bug root</p>



<a name="222652691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222652691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222652691">(Jan 13 2021 at 22:04)</a>:</h4>
<p>It looks to me like there is probably some code in SUSHI that is assuming that if <code>meta</code> exists then <code>meta.profile</code> also exists -- which is obviously not the case.</p>



<a name="222652814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222652814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222652814">(Jan 13 2021 at 22:05)</a>:</h4>
<p>OK.  It's still broken in the SUSHI version we're about to release, but I suspect this may be a very simple fix.  I'll take a quick look to see if I can find the issue and fix it before we release.</p>



<a name="222653160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222653160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222653160">(Jan 13 2021 at 22:08)</a>:</h4>
<p>Yep.  Found it and fixed it.</p>



<a name="222664710"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222664710" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222664710">(Jan 14 2021 at 00:01)</a>:</h4>
<p>was it related to the <a href="http://meta.security">meta.security</a>?</p>



<a name="222664844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222664844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222664844">(Jan 14 2021 at 00:03)</a>:</h4>
<p>is the new sushi available?</p>



<a name="222754301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222754301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222754301">(Jan 14 2021 at 17:46)</a>:</h4>
<p>note that resources that are assembled into a Bundle should be marked with "Usage: #inline" so that references within those resources are fixedup to the fullUrl in the Bundle... I did not know this. I did not see mention of this in the sushi documentation. I only understood #inline as for contained, I did  not understand it also for Bundle.</p>



<a name="222754342"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222754342" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222754342">(Jan 14 2021 at 17:46)</a>:</h4>
<p>thanks again to <span class="user-mention" data-user-id="237342">@ryan moehrke</span>  -- of MoehrkeResearch</p>



<a name="222756135"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222756135" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222756135">(Jan 14 2021 at 17:57)</a>:</h4>
<p>wait what?  will SUSHI auto-create the fullUrl if I set each resource to be Usage: #inline and then add it to the Bundle?  that would be great and useful if it did that.</p>



<a name="222756409"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222756409" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222756409">(Jan 14 2021 at 17:59)</a>:</h4>
<p>I am confirming right now... but it did stop the IG builder from crashing</p>



<a name="222756642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222756642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222756642">(Jan 14 2021 at 18:00)</a>:</h4>
<p>nope, it didn't</p>



<a name="222756670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222756670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222756670">(Jan 14 2021 at 18:01)</a>:</h4>
<p>but it did stop the IG build from crashing</p>



<a name="222756726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222756726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222756726">(Jan 14 2021 at 18:01)</a>:</h4>
<p>so, <span class="user-mention" data-user-id="192166">@Jean Duteau</span> how do you handle this problem. I have many resources in the bundle that have interrelationships</p>



<a name="222757386"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222757386" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222757386">(Jan 14 2021 at 18:05)</a>:</h4>
<p>if you look at my fhir-spl guide, I just put in references to the various example instances</p>
<div class="codehilite"><pre><span></span><code>Instance: NationalPharmaIndia
InstanceOf: LabelerOrganization
Description: &quot;An example of a Labeler Organization.&quot;
* id = &quot;a30accef-f437-4136-808c-9ed4ada5fcf8&quot;
* identifier[DUNSNumber].value = &quot;999999999&quot;
* identifier[NDCCode].value = &quot;55555&quot;
* name = &quot;National Pharma of India Inc.&quot;
* address.line = &quot;Plot 102 Village Ave&quot;
* address.city = &quot;RangareddyDistrict&quot;
* address.state = &quot;Telangana&quot;
* address.postalCode = &quot;500002&quot;
* address.country = &quot;IND&quot;
* contact.name.text = &quot;Mr. John Doe_1&quot;
* contact.telecom[Phone].value = &quot;+9-140-11112222;ext=3333&quot;
* contact.telecom[Email].value = &quot;jdoe_1@npoiinc.net&quot;
* contact.address.line = &quot;Plot 101 First Street&quot;
* contact.address.city = &quot;RangareddyDistrict&quot;
* contact.address.state = &quot;Telangana&quot;
* contact.address.postalCode = &quot;500001&quot;
* contact.address.country = &quot;IND&quot;

Instance: NationalPharmaIndiaUSAgent
InstanceOf: USAgentOrganization
Description: &quot;An example of a US Agent Organization.&quot;
* identifier[DUNSNumber].value = &quot;888888888&quot;
* name = &quot;National Pharma of India Inc. US Agent&quot;
* telecom[Phone].value = &quot;+1-908-999-1212;ext=444&quot;
* telecom[Email].value = &quot;jdoe_2@npoiinc.net&quot;

Instance: NationalPharmaIndiaAffiliation
InstanceOf: USAgentAffiliation
Description: &quot;An example of the linkage between a Labeler and a US Agent&quot;
* organization = Reference(NationalPharmaIndia)
* participatingOrganization = Reference(NationalPharmaIndiaUSAgent)

Instance: NationalPharmaIndiaOperation
InstanceOf: LabelerBusinessOperation
Description: &quot;An example of a Labeler&#39;s business operations.&quot;
* providedBy = Reference(NationalPharmaIndia)
* type = $NCI-T#C43360 &quot;manufacture&quot;
* serviceProvisionCode = $NCI-T#C106643 &quot;Manufactures human prescription drug products&quot;

Instance: NationalPharmaIndiaRequest
InstanceOf: LabelerCodeRequestBundle
Description: &quot;An example of a Bundle containing a set of Labeler Code Request resources.&quot;
* identifier.system = &quot;urn:ietf:rfc:3986&quot;
* identifier.value = &quot;urn:uuid:50606941-3e5d-465c-b4e0-0f5a19eb41d4&quot;
* timestamp = &quot;2002-08-11T01:01:01.111+06:00&quot;
* entry[Labeler].resource = NationalPharmaIndia
* entry[Labeler].fullUrl = &quot;http://example.org/a30accef-f437-4136-808c-9ed4ada5fcf8&quot;
* entry[USAgent].resource = NationalPharmaIndiaUSAgent
* entry[USAgent].fullUrl = &quot;http://example.org/NationalPharmaIndiaUSAgent&quot;
* entry[USAgentAffiliation].resource = NationalPharmaIndiaAffiliation
* entry[USAgentAffiliation].fullUrl = &quot;http://example.org/NationalPharmaIndiaAffiliation&quot;
* entry[BusinessOperation].resource = NationalPharmaIndiaOperation
* entry[BusinessOperation].fullUrl = &quot;http://example.org/NationalPharmaIndiaOperation&quot;
</code></pre></div>



<a name="222757449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222757449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222757449">(Jan 14 2021 at 18:05)</a>:</h4>
<p>that gets turned into:  <a href="https://build.fhir.org/ig/HL7/fhir-spl/branches/main/Bundle-NationalPharmaIndiaRequest.json.html">https://build.fhir.org/ig/HL7/fhir-spl/branches/main/Bundle-NationalPharmaIndiaRequest.json.html</a></p>



<a name="222758152"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222758152" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222758152">(Jan 14 2021 at 18:10)</a>:</h4>
<p>in my case my bundle is a transaction to CREATE the resources. so I need to use UUID... but I don't think that matters.</p>



<a name="222758185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222758185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222758185">(Jan 14 2021 at 18:10)</a>:</h4>
<p>but, when I do essentially what you have, I get a NPE in the IG build</p>



<a name="222759084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222759084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222759084">(Jan 14 2021 at 18:16)</a>:</h4>
<p>and isn't your example wrong? meaning the references to your Organization should be using the value of  fullUrl of that entry in the bundle?</p>



<a name="222765036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222765036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222765036">(Jan 14 2021 at 18:57)</a>:</h4>
<p>i don't think so.  when I read the Resolving references in Bundles section (<a href="http://hl7.org/fhir/bundle.html#references">http://hl7.org/fhir/bundle.html#references</a>), it says that the reference doesn't have to be an absolute reference , but it gets converted into a URL using the fullURL for that bundle entry</p>



<a name="222765119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222765119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222765119">(Jan 14 2021 at 18:58)</a>:</h4>
<p>If the reference is not an absolute reference, convert it to an absolute URL:<br>
if the reference has the format [type]/[id], and<br>
if the fullUrl for the bundle entry containing the resource is a RESTful one (see the RESTful URL regex)<br>
extract the [root] from the fullUrl, and append the reference (type/id) to it<br>
then try to resolve within the bundle as for a RESTful URL reference.</p>



<a name="222772214"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222772214" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222772214">(Jan 14 2021 at 19:43)</a>:</h4>
<p>so in my case (a CREATE) i need to use urn:uuid in my fullUrl...    I thus had to covert all of my bundle destine instances to use the UUID as their name, and references to the urn:uuid: of that name. (#inline had no effect on the examples output). But this version makes it thru the IG builder without NPE.</p>
<div class="codehilite"><pre><span></span><code>Instance:   593cd04e-b696-45c1-bc32-39e55a340a44
InstanceOf: IHE.MHD.Minimal.SubmissionSet
Title:      &quot;SubmissionSet for Minimal metadata in a bundle&quot;
Description: &quot;Example of a minimal submissionSet in List resource used in a bundle.&quot;
//Usage: #inline
* meta.security = http://terminology.hl7.org/CodeSystem/v3-ActReason#HTEST
* identifier[0].system = &quot;urn:ietf:rfc:3986&quot;
* identifier[0].value = &quot;urn:oid:1.2.129.6.58.92.88337.5&quot;
* identifier[0].use = #official
* identifier[1].system = &quot;http://example.org/documents&quot;
* identifier[1].value = &quot;23425234-23470-5&quot;
* identifier[1].use = #usual
* status = #current
* mode = #working
* code = MHDlistTypes#submissionset
* date = 2004-12-25T23:50:50-05:00
* entry[0].item = Reference(urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a45)
* entry[1].item = Reference(urn:uuid:593cd04e-b696-45c1-bc32-39e55a340a46)
* extension[sourceId].valueIdentifier.value = &quot;urn:oid:1.2.3.4&quot;


Instance:   593cd04e-b696-45c1-bc32-39e55a340a46
InstanceOf: IHE.MHD.Minimal.DocumentReference
Title:      &quot;DocumentReference for Minimal metadata&quot;
Description: &quot;Example of a minimal DocumentReference resource. This is very unlikely to be acceptable anywhere, but it is the minimum required.&quot;
//Usage: #inline
* meta.security = http://terminology.hl7.org/CodeSystem/v3-ActReason#HTEST
* masterIdentifier.system = &quot;urn:ietf:rfc:3986&quot;
* masterIdentifier.value = &quot;urn:oid:1.2.840.113556.1.8000.2554.53432.348.12973.17740.34205.4355.50220.62012&quot;
* identifier.system = &quot;urn:ietf:rfc:3986&quot;
* identifier.value = &quot;urn:uuid:7d5bb8ac-68ee-4926-85e7-b8aac8e1f09d&quot;
* status = #current
* content.attachment.contentType = #text/plain
* content.attachment.url = &quot;http://example.com/nowhere.txt&quot;
</code></pre></div>



<a name="222772696"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222772696" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222772696">(Jan 14 2021 at 19:45)</a>:</h4>
<p>I would like to ask that sushi notice when a instance is being put into a Bundle and handle these fullUrl fixups for us. managing my examples with UUIDs is really not fun.</p>



<a name="222773694"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/222773694" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#222773694">(Jan 14 2021 at 19:52)</a>:</h4>
<p>so.. here is my resulting bundle<br>
<a href="http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/Bundle-ex-minimalProvideDocumentBundle.json.html">http://build.fhir.org/ig/IHE/ITI.MHD/branches/master/Bundle-ex-minimalProvideDocumentBundle.json.html</a><br>
given this FSH input<br>
<a href="https://github.com/IHE/ITI.MHD/blob/master/input/fsh/ex-ProvideBundles.fsh">https://github.com/IHE/ITI.MHD/blob/master/input/fsh/ex-ProvideBundles.fsh</a></p>



<a name="230837151"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/230837151" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#230837151">(Mar 18 2021 at 09:56)</a>:</h4>
<p>Yes, I'm struggling hard with a document Bundle right now. I ended up creating Aliases for both the UUID and the urn:uuid:UUID for each example and replaced all the IDs and references in the Bundle manually (because I wanted the individual examples to have "proper" URLs/IDs and only use UUIDs in the Bundle example.) </p>
<ul>
<li>entry[+].resource = CompositionExample</li>
<li>entry[=].fullUrl = $COMPURL</li>
<li>entry[=].resource.id = $COMPUUID</li>
<li>entry[=].resource.subject.reference = $PATURL</li>
<li>entry[=].resource.author.reference = $DEVURL</li>
<li>entry[=].resource.section[0].entry[0].reference = $OBS1URL</li>
<li>entry[=].resource.section[0].entry[1].reference = $OBS2URL</li>
</ul>
<p>But hell, this is painfull!</p>
<p>What's also not helping is that you can't concat Aliases and do something like </p>
<ul>
<li>entry[=].fullUrl = urn:uuid:$MyUUID</li>
</ul>
<p>Does anyone have an idea how to make this smoother...?</p>



<a name="230859482"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/230859482" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#230859482">(Mar 18 2021 at 13:09)</a>:</h4>
<p>OK.  Let me restate the use case to ensure I understand.  You have Instances that you want to use as standalone examples <em>and</em> in example Bundles (e.g., <code>entry.resource</code>).  Given these instances:</p>
<ul>
<li>standalone example representations should have meaningful ids and standard reference URLs</li>
<li>bundled representations should have UUID ids and urn:uuid reference URLs (so the bundle is self-contained)</li>
</ul>
<p>Do I have that right?  I think the difficulty here is that a truly efficient solution likely requires a Bundle-specific feature in FSH, but we try our best to keep FSH features/syntaxes more generalizable -- because if we get into too many resource-specific syntaxes, FSH becomes a lot harder to learn and master.  But... this specific issue truly is "painful" (as you stated), so it would be nice if we could figure <em>something</em> out.</p>



<a name="230860170"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/230860170" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#230860170">(Mar 18 2021 at 13:13)</a>:</h4>
<p>Yes, the additional challenge is, that all the Bundle.entry.fullUrls need to be populated.<br>
I'm not sure if I'm the only one who would like the individual Resource examples to have "standard" URLs, and only use the uuids when everything comes together in the Bundle. I just feel that looking at an individual Resource with a uuid reference poiting nowhere would be weird...</p>



<a name="230879477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/230879477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#230879477">(Mar 18 2021 at 15:08)</a>:</h4>
<p>do aliases work the same way internally that ruleset parameters do? because I figured out that ^url = "prefix{param}" and Ruleset(abc) works<br>
(vs ^url = "prefix" + {param} and Ruleset("abc") or whatever else you might think to try)</p>



<a name="230886210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/230886210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#230886210">(Mar 18 2021 at 15:43)</a>:</h4>
<p>Aliases are a lot more rigid than parameters in RuleSets, partly because we don't have the nice <code>{</code> <code>}</code> mechanism w/ aliases to signal their use.  Part of the issue is that aliases are used in places that arbitrary tokens can also be valid (and passed through as-is).  With <code>$</code>-prefixed aliases, we know that if we run into a place where a URL is expected, and the first character is <code>$</code>, that must be an alias, because <code>$</code> isn't a valid first character for a URL.  But if the alias starts in the middle of a URL, it's harder to determine if that <em>should</em> be an alias or a literal <code>$</code> in the middle of the URL -- and if it is an alias in the middle, how do we know where the alias ends and the rest of the literal URL begins?  Anyway... that's why we only allow aliases as a full expression of a URL (instead of a partial one).</p>



<a name="230901491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/230901491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#230901491">(Mar 18 2021 at 17:02)</a>:</h4>
<p>My two asks in this area are:</p>
<ul>
<li>the ability to reference id and/or Canonical of arbitrary resources, not just the limited, special syntax ones that are currently supported</li>
<li>being able to compose urls. I'd really like to be able to define a "base" url for my project and have all the Canonical urls hang off that.</li>
</ul>



<a name="230906468"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/230906468" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#230906468">(Mar 18 2021 at 17:32)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191380">Elliot Silver</span> <a href="#narrow/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries/near/230901491">said</a>:</p>
<blockquote>
<p>My two asks in this area are:</p>
<ul>
<li>the ability to reference id and/or Canonical of arbitrary resources, not just the limited, special syntax ones that are currently supported</li>
</ul>
</blockquote>
<p>The <code>Canonical(SomeResource)</code> mechanism <em>should</em> work for any arbitrary resource as long as its findable in the scope of the IG (which includes IG-defined resources, FHIR core resources, and dependency IG resources).  Here's a <a href="https://fshschool.org/FSHOnline/#/share/30Wnr3m">FSH Online Snippet</a> that demonstrates that.  Or am I misunderstanding?</p>
<p>As for <code>id</code>, we don't currently have a comparable feature to be able to say <code>Id(SomeResource)</code>.  Is that what you're looking for?</p>
<blockquote>
<ul>
<li>being able to compose urls. I'd really like to be able to define a "base" url for my project and have all the Canonical urls hang off that.</li>
</ul>
</blockquote>
<p>For most FSH definitions, the URL is automatically constructed based on the canonical URL of the IG.  Are you talking specifically about <code>Instance</code>s where you need to set the <code>url</code> explicitly?</p>



<a name="230908571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/230908571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#230908571">(Mar 18 2021 at 17:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191469">Chris Moesel</span> <a href="#narrow/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries/near/230906468">said</a>:</p>
<blockquote>
<p>The <code>Canonical(SomeResource)</code> mechanism <em>should</em> work for any arbitrary resource as long as its findable in the scope of the IG (which includes IG-defined resources, FHIR core resources, and dependency IG resources).  Here's a <a href="https://fshschool.org/FSHOnline/#/share/30Wnr3m">FSH Online Snippet</a> that demonstrates that.  Or am I misunderstanding?</p>
</blockquote>
<p>Is that new? yes, line 6 is what I'm looking for.</p>
<blockquote>
<p>As for <code>id</code>, we don't currently have a comparable feature to be able to say <code>Id(SomeResource)</code>.  Is that what you're looking for?</p>
</blockquote>
<p>Yes, allowing you to wire up more complex examples, cross-referencing, etc.</p>
<blockquote>
<p>For most FSH definitions, the URL is automatically constructed based on the canonical URL of the IG.  Are you talking specifically about <code>Instance</code>s where you need to set the <code>url</code> explicitly?</p>
</blockquote>
<p>Yes, or constructing the URL of fragments (StructureDefinition elements and Questionnaire items).</p>



<a name="230910499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/230910499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#230910499">(Mar 18 2021 at 17:56)</a>:</h4>
<blockquote>
<p>Is that new? yes, line 6 is what I'm looking for.</p>
</blockquote>
<p>Yup.  New in <a href="https://github.com/FHIR/sushi/releases/tag/v1.3.0">SUSHI 1.3.0</a>, released about two weeks ago:</p>
<blockquote>
<p>Support targeting an <code>Instance</code> with the <code>Canonical</code> keyword (<a href="https://github.com/FHIR/sushi/issues/743">#743</a>)</p>
</blockquote>



<a name="230912233"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/example%20FSH%20Bundle%20transaction%20with%20Create%20entries/near/230912233" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/example.20FSH.20Bundle.20transaction.20with.20Create.20entries.html#230912233">(Mar 18 2021 at 18:06)</a>:</h4>
<p>OK.  I've just filed three issues related to these conversations:</p>
<ul>
<li><a href="https://github.com/FHIR/sushi/issues/781">Consider new Id(...) mechanism to retrieve the id of a resource</a></li>
<li><a href="https://github.com/FHIR/sushi/issues/782">Investigate approaches to more flexible construction of URLs</a></li>
<li><a href="https://github.com/FHIR/sushi/issues/783">Investigate approaches to more natural (less frustrating) Bundle authoring</a></li>
</ul>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
