---
layout: page
title: "FHIR Chat  · Proposed Syntax Change for Extensions · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Proposed.20Syntax.20Change.20for.20Extensions.html">Proposed Syntax Change for Extensions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189233636"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Proposed%20Syntax%20Change%20for%20Extensions/near/189233636" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Proposed.20Syntax.20Change.20for.20Extensions.html#189233636">(Feb 27 2020 at 17:11)</a>:</h4>
<p><span class="user-mention" data-user-id="191321">@David Hay</span> raised an issue a while ago about our current approach for adding inline extensions (mostly relevant to complex extensions).  The problem is that when you say something like <code>extension contains maxSize</code>, SUSHI assumes you mean to reference the existing <code>maxSize</code> extension from FHIR core -- which you <em>might</em> mean, but you also might mean to declare a <em>new</em> inline extension called <code>maxSize</code>.  See <a href="https://github.com/FHIR/sushi/issues/86" target="_blank" title="https://github.com/FHIR/sushi/issues/86">FHIR/sushi#86</a> for details.</p>
<p>To remove the ambiguity, we propose the following changes for declaring extensions:</p>
<ol>
<li>For declaring inline extensions, the syntax remains the same:</li>
</ol>
<div class="codehilite"><pre><span></span>Extension: CapacityDetails
* extension contains maxSize 0..1
* extension[maxSize].value[x] only integer
// ...
</pre></div>


<p>SUSHI would always recognize this style as an inline extension.</p>
<ol start="2">
<li>For declaring use of an externally defined extension (defined inside or outside the IG, but <em>not</em> inline), you must declare a slicename <em>and</em> the reference to the extension:</li>
</ol>
<div class="codehilite"><pre><span></span>Alias: MaxSizeExtension = http://hl7.org/fhir/StructureDefinition/maxSize
Extension: CapacityDetails
* extension contains MaxSizeExtension named maxSize 0..1
* extension[maxSize].value[x] only integer
</pre></div>


<p><span class="user-mention" data-user-id="191321">@David Hay</span> (and others), what do you think of this approach?  It will be a breaking change, but we're early on in FSH/SUSHI, so now is the time to make breaking changes!</p>



<a name="189233803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Proposed%20Syntax%20Change%20for%20Extensions/near/189233803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Proposed.20Syntax.20Change.20for.20Extensions.html#189233803">(Feb 27 2020 at 17:13)</a>:</h4>
<p>NOTE: This would apply to extensions wherever you declare them, so it would also apply to profiles, e.g.:</p>
<div class="codehilite"><pre><span></span>Alias: USCoreRaceExtension = http://hl7.org/fhir/us/core/StructureDefinition/us-core-race
Profile: MyPatient
Parent: Patient
* extension contains USCoreRaceExtension named race 0..1
</pre></div>



<a name="189242918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Proposed%20Syntax%20Change%20for%20Extensions/near/189242918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Proposed.20Syntax.20Change.20for.20Extensions.html#189242918">(Feb 27 2020 at 18:43)</a>:</h4>
<p>works for me!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
