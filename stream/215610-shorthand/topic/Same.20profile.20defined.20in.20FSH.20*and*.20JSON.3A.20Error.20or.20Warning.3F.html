---
layout: page
title: "FHIR Chat  · Same profile defined in FSH *and* JSON: Error or Warning? · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html">Same profile defined in FSH *and* JSON: Error or Warning?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="213441350"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213441350" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213441350">(Oct 15 2020 at 15:16)</a>:</h4>
<p>Here is a bug that we're currently addressing in the beta: If you define <code>MyFooProfile</code> using FHIR Shorthand in <code>input/fsh/profiles.fsh</code> <strong>and</strong> you define <code>MyFooProfile</code> using a standard StructureDefinition in <code>input/profiles/StructureDefinition-MyFooProfile.json</code>, SUSHI 1.0.0 Beta 1 generates the FSH definition -- which becomes a <em>duplicate</em> resource definition when you run the IG Publisher.</p>
<p>We're changing the behavior so that the JSON definition (in <code>input/profiles</code>) is preferred and the FSH definition is ignored.  We know we should notify the user that this is happening.  The question is, should it be a WARNING or an ERROR?  When SUSHI is run by the IG Publisher, an ERROR aborts the process, but a WARNING allows it to keep running.</p>
<p>If it were considered an ERROR, authors would need to either comment out their FSH definition or delete the JSON definition.  If it were a WARNING, authors wouldn't need to do anything and might even miss the fact that they have a duplicate.  We're leaning toward making it an ERROR, but current SUSHI 0.x behavior treats it as a warning -- so we're looking for feedback.  <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> and <span class="user-mention" data-user-id="192166">@Jean Duteau</span> -- I think this is a feature both of you have expressed interest in, so interested in hearing from you.</p>



<a name="213441830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213441830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213441830">(Oct 15 2020 at 15:19)</a>:</h4>
<p>I was happy with a warning. <br>
One reason :  sometimes I want to create an FSH, then this creates the json, and then I change the json manually, and i don't worry anymore.</p>



<a name="213441923"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213441923" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213441923">(Oct 15 2020 at 15:20)</a>:</h4>
<p>As I think of this, the main reason is that it saves me the immense task of typing a couple of /* and //.</p>



<a name="213442070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213442070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213442070">(Oct 15 2020 at 15:20)</a>:</h4>
<p>so, I don't know if there is a reason to have it as warning.</p>



<a name="213442099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213442099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213442099">(Oct 15 2020 at 15:20)</a>:</h4>
<p>Oh my no, I would never do this.  I shudder when I read why Jose wants this. :). Either use FSH for your definition or use a standard StructureDefinition, but never mix them.  What is the point of creating it in FSH in the first place?  So count me out on having an opinion on this. :)</p>



<a name="213442131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213442131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213442131">(Oct 15 2020 at 15:21)</a>:</h4>
<p>But this would only work well if the search is done by ID, not filename</p>



<a name="213442419"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213442419" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213442419">(Oct 15 2020 at 15:23)</a>:</h4>
<p>Now I have to look up a new verb to understand what you mean <span class="user-mention" data-user-id="192166">@Jean Duteau</span>  :)</p>



<a name="213442574"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213442574" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213442574">(Oct 15 2020 at 15:24)</a>:</h4>
<p>If having this as an ERROR and adding comments is an OK solution for you <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> , I think there are some advantages to having it be an ERROR. Mainly, if someone accidentally left some JSON in <code>input/profiles</code>, and it was overwriting their FSH definitions with only a WARNING, it may be easier for them to miss that WARNING than if it was an ERROR.</p>



<a name="213442575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213442575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> May Terry <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213442575">(Oct 15 2020 at 15:24)</a>:</h4>
<p>FWIW, I'm currently contributing to the CG Reporting IG migration to FSH and I find a SUSHI ERROR for duplicate profiles being more helpful.</p>



<a name="213442749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213442749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213442749">(Oct 15 2020 at 15:25)</a>:</h4>
<p>The search is actually done by URL.  We determine what the URL would be of the FSH definition (via a <code>^url</code> rule if it exists, or calculating it using the IG canonical base ) and compare to the URL in the SD.</p>



<a name="213442958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213442958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213442958">(Oct 15 2020 at 15:26)</a>:</h4>
<p>those should not be mixed, indeed. I had them mixed temporarily because a man can be lazy, right?</p>



<a name="213443082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213443082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213443082">(Oct 15 2020 at 15:27)</a>:</h4>
<p>as i mentioned, nobody ever said fortune is for the lazy</p>



<a name="213443258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213443258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213443258">(Oct 15 2020 at 15:28)</a>:</h4>
<p>I agree with error</p>



<a name="213443292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213443292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213443292">(Oct 15 2020 at 15:29)</a>:</h4>
<p>OK.  It's sounding like all of us (so far) are at least <em>comfortable</em> with an error -- so that is probably the way we'll go on this.  <span class="user-mention" data-user-id="192166">@Jean Duteau</span> -- the main use case I personally think of for using this feature is if there is a bug in SUSHI that produces an incorrect SD that you <em>temporarily</em> need to override.  Or if there is some gap in the FHIR Shorthand language that makes it impossible (or at least really difficult) to do some edge case thing.</p>



<a name="213443504"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213443504" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213443504">(Oct 15 2020 at 15:30)</a>:</h4>
<p>like translations?</p>



<a name="213443513"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213443513" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213443513">(Oct 15 2020 at 15:30)</a>:</h4>
<p>:)</p>



<a name="213741164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213741164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213741164">(Oct 19 2020 at 03:58)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191832">Jose Costa Teixeira</span> <a href="#narrow/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F/near/213443504">said</a>:</p>
<blockquote>
<p>like translations?</p>
</blockquote>
<p>Out of curiosity, what <em>is</em> the current state of support for translating IGs? Is fully supported in the IG resource? In the publisher? in fsh/sushi?</p>



<a name="213770310"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Same%20profile%20defined%20in%20FSH%20%2Aand%2A%20JSON%3A%20Error%20or%20Warning%3F/near/213770310" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Same.20profile.20defined.20in.20FSH.20*and*.20JSON.3A.20Error.20or.20Warning.3F.html#213770310">(Oct 19 2020 at 11:12)</a>:</h4>
<p>I pointed to the other stream - in this one I meant the multi-language elements, of which I recall there are are 2:</p>
<ul>
<li>inside a codesystem, multiple language displays</li>
<li>for all other stuff, use the standard extension</li>
</ul>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
