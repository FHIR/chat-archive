---
layout: page
title: "FHIR Chat  · ModiferExtension · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html">ModiferExtension</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="194320164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/194320164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nathan Davis <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#194320164">(Apr 16 2020 at 15:17)</a>:</h4>
<p>I need to create a couple of modifier extensions.  When I try to use the ModifierExtension key word FSH doesn't recognize it.  Has support for this been implemented?  If so, what am I doing wrong?</p>



<a name="194321975"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/194321975" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#194321975">(Apr 16 2020 at 15:27)</a>:</h4>
<p>there is no ModifierExtension.  modifier extensions are just regular extensions that are declared in the modifierExtension array.  So:</p>
<ul>
<li>modifierExtension contains text 1..1 MS</li>
<li>modifierExtension[text].value[x] only string</li>
</ul>



<a name="194323767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/194323767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#194323767">(Apr 16 2020 at 15:37)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span> is correct -- "modifier extensions" are defined in the <code>modifierExtension</code> element where they are used, and that <em>should</em> be enough.  That said, the FHIR documentation on <a href="http://hl7.org/fhir/R4/defining-extensions.html#ed" title="http://hl7.org/fhir/R4/defining-extensions.html#ed">Use of ElementDefinition in Extension Definitions</a> also indicates that you can set the <code>isModifier</code> flag on the root element of an Extension definition.  So you could also do this to indicate that the extension is always a modifier:</p>
<div class="codehilite"><pre><span></span>Extension: MyModifierExtension
// ... other metadata
* . ^isModifier = true
</pre></div>


<p>I haven't personally seen this approach used, but as noted above, the spec seems to imply it can be used this way.  That said, when you actually use the extension in a profile, you still <em>must</em> use it in the <code>modifierExtension</code> element of the profile (or element).</p>



<a name="207300273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/207300273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#207300273">(Aug 18 2020 at 18:58)</a>:</h4>
<p>Okay, resurrecting this thread because I'm now trying to use an extension in a modifierExtension array and I'm getting publisher arrays because the extension isn't defined as a modifier extension, so I think that we need to do the ^isModifier = true thing.</p>



<a name="207560886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/207560886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#207560886">(Aug 20 2020 at 19:00)</a>:</h4>
<p>Good to know, <span class="user-mention" data-user-id="192166">@Jean Duteau</span>.  If this is a requirement of the publisher, then we could potentially put an error-check in SUSHI so this type of thing is discovered before you invoke the publisher.</p>



<a name="207562466"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/207562466" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#207562466">(Aug 20 2020 at 19:14)</a>:</h4>
<p>Logged: <a href="https://github.com/FHIR/sushi/issues/576">https://github.com/FHIR/sushi/issues/576</a></p>



<a name="213213383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/213213383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#213213383">(Oct 13 2020 at 20:37)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span> - did you get all that working? I'm having issues with modifierExtensions in examples - I have an example in the input folder containing a modifierExtension (actually in a nested PlanDefinition.action.action element), but the IGPublisher seems to remove them when it publishes - no obvious reason why (yet)...</p>



<a name="213215535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/213215535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#213215535">(Oct 13 2020 at 20:56)</a>:</h4>
<p>Yes, I did get it working.</p>
<p>Profile: PASClaimUpdate<br>
Parent: PASClaim<br>
Id: profile-claim-update<br>
Title: "PAS Claim Update"<br>
Description: "PAS constraints on Claim resource when submitting an update to a previous PAS prior authorization request"</p>
<ul>
<li>supportingInfo.modifierExtension contains InfoCancelledFlag named infoCancelledFlag 0..1</li>
<li>item.modifierExtension contains InfoCancelledFlag named infoCancelledFlag 0..1</li>
</ul>
<p>Extension: InfoCancelledFlag<br>
Id: modifierextension-infoCancelled<br>
Description: "A flag indicating whether the piece of information was cancelled."</p>
<ul>
<li>. ^isModifier = true</li>
<li>. ^isModifierReason = "Indicates that this piece of information is not to be used."</li>
<li>value[x] only boolean</li>
</ul>
<p>Instance: ClaimSubmitHomecareDifferentialExample<br>
InstanceOf: PASClaimUpdate<br>
Title: "Submit Claim Update Differential Example"<br>
Description: "An example of a Claim resource updating a prior authorization."</p>
<ul>
<li>item[0].sequence = 2</li>
<li>item[0].modifierExtension[infoCancelledFlag].valueBoolean = true</li>
<li>item[0].productOrService = <a href="http://www.ama-assn.org/go/cpt#B4184">http://www.ama-assn.org/go/cpt#B4184</a></li>
</ul>



<a name="213216095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/213216095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#213216095">(Oct 13 2020 at 21:01)</a>:</h4>
<p>and it all published ok? I can get the instance from sushi, but it doesn't make it into the Ig (at least the modifierExtensions are removed). I am using a complex extension, so that may complicate things...</p>



<a name="213216353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/213216353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#213216353">(Oct 13 2020 at 21:02)</a>:</h4>
<p>Yes.   <a href="http://build.fhir.org/ig/HL7/davinci-pas/Claim-ClaimSubmitHomecareUpdateExample.json.html">http://build.fhir.org/ig/HL7/davinci-pas/Claim-ClaimSubmitHomecareUpdateExample.json.html</a></p>



<a name="213217245"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/213217245" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#213217245">(Oct 13 2020 at 21:10)</a>:</h4>
<p>ta. something I'm doing then. sigh.</p>



<a name="213220629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/213220629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#213220629">(Oct 13 2020 at 21:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191321">@David Hay</span> which sushi version?</p>



<a name="213224479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/213224479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#213224479">(Oct 13 2020 at 22:25)</a>:</h4>
<p>0.16.0</p>



<a name="213329872"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/213329872" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#213329872">(Oct 14 2020 at 18:03)</a>:</h4>
<p>looks like an <a href="#narrow/stream/179252-IG-creation/topic/modifierExtension.20removed.20by.20IG.20publisher">IG Publisher</a> issue....</p>



<a name="272244355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/272244355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Manuel Caputo <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#272244355">(Feb 17 2022 at 11:11)</a>:</h4>
<p>Hi Guys,<br>
Im experience a problem with modifiers extensions in the last version of SUSHI, it giving this error:<br>
error Cannot create healthProblem extension; unable to locate extension definition for: OHCHealthProblemConditionExtension.<br>
I think it's the definition of he extension, that must be ModifierExtension, but i don't know how to do this, can anyone give a hand?. The extension defintion is this :</p>
<p>Extension: OHCHealthProblemConditionExtension<br>
Id:   ohc-health-problem-condition-extension<br>
Title:  "OHC-health-problem-condition-extension"<br>
Description: "Extension for indicating if a condition, diagnosis, is a Health Problem"<br>
// publisher, contact, and other metadata could be defined here using caret syntax (omitted)</p>
<ul>
<li>value[x] only boolean </li>
</ul>
<p>Thank in advance.<br>
Regard Juanello.</p>



<a name="272262305"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/272262305" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#272262305">(Feb 17 2022 at 13:57)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="365661">@Juan Manuel Caputo</span>.  If the extension definition should be a modifier extension, then you need to set the <code>isModifier</code> flag to <code>true</code> on the extension definition's root element.  It's also good to set <code>isModifierReason</code> in these cases too.  You can do this in FSH like this:</p>
<div class="codehilite"><pre><span></span><code>Extension: OHCHealthProblemConditionExtension
Id: ohc-health-problem-condition-extension
Title: &quot;OHC-health-problem-condition-extension&quot;
Description: &quot;Extension for indicating if a condition, diagnosis, is a Health Problem&quot;
* . ^isModifier = true
* . ^isModifierReason = &quot;Modifies the meaning of...&quot;
* value[x] only boolean
</code></pre></div>
<p><strong>BUT</strong> <em>the extension described above does not sound like it should be a modifier extension to me.</em>  It does not fundamentally change the meaning of the thing that is is applied to.  So... you might want to reconsider if this really needs to be a modifier extension.</p>



<a name="272262619"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/272262619" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#272262619">(Feb 17 2022 at 13:59)</a>:</h4>
<p>All that said, I don't see how or why this would cause the error you described ("Cannot create healthProblem extension").  It is more likely the the issue is w/ the FSH that includes the extension into a profile.  Is the profile definition where you are trying to include this extension in the same FSH project (IG) as the extension definition?</p>



<a name="272708938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/ModiferExtension/near/272708938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Juan Manuel Caputo <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/ModiferExtension.html#272708938">(Feb 21 2022 at 16:21)</a>:</h4>
<p>Chris finally we tried your solution, and it worked!. We putted this new attributes in the extension definition. I think this hasn't be included in the main guide, do you think that this can be included?.  <br>
Thank you very much.<br>
Regards</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
