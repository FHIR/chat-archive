---
layout: page
title: "FHIR Chat  · add yaml versof ig.json to _data · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/add.20yaml.20versof.20ig.2Ejson.20to.20_data.html">add yaml versof ig.json to _data</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="211992577"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/add%20yaml%20versof%20ig.json%20to%20_data/near/211992577" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/add.20yaml.20versof.20ig.2Ejson.20to.20_data.html#211992577">(Oct 02 2020 at 00:32)</a>:</h4>
<p>I  do a some artifact processing directly from the ig resource itself instead of the the derived _data artifact .  Can you  have Sushi do two things...</p>
<p>1  create a <code> /input/data</code> directory  and  add a YML version of the implementation guide resource to it and call it "ig.yml"<br>
2 copy the  contents <code>fsh/ig-data/input/data</code> directory to the  <code>/input/data</code>  directory  ?</p>
<p>the ig-pub will add  the contents to the <code>temp/pages/_data</code> directory so can be accessed for page rendering ...</p>



<a name="211992655"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/add%20yaml%20versof%20ig.json%20to%20_data/near/211992655" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/add.20yaml.20versof.20ig.2Ejson.20to.20_data.html#211992655">(Oct 02 2020 at 00:33)</a>:</h4>
<p>can  the do stuff like this in liquid...</p>
<div class="codehilite"><pre><span></span><code>{% for p in site.data.ig.definition.resource %}
  {%- if p.exampleBoolean or p.exampleCanonical -%}
      {% if types %}
        {% assign types =  types | append: &quot;,&quot; | append: p.reference.reference | split: &#39;/&#39; | first %}
      {% else %}
       {% assign types = p.reference.reference | split: &#39;/&#39; | first %}
      {% endif %}
  {% endif %}
{% endfor %}

{% assign my_array = types | split: &quot;,&quot; %}
{% assign my_array = my_array | sort | uniq %}

{% for i in my_array %}
### {{ i }}
  {%- for p in site.data.ig.definition.resource -%}
      {%- if p.exampleBoolean or p.exampleCanonical -%}
        {%- assign type =  p.reference.reference | split: &#39;/&#39; | first -%}
            {%- if type == i %}
- [{{p.name}}]({{p.reference.reference | replace: &#39;/&#39;,&#39;-&#39;}}.html)
            {%- endif -%}
       {%- endif -%}
   {%- endfor %}
{% comment %} keep this line here for proper rendering {% endcomment %}
{% endfor %}
</code></pre></div>



<a name="211997639"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/add%20yaml%20versof%20ig.json%20to%20_data/near/211997639" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/add.20yaml.20versof.20ig.2Ejson.20to.20_data.html#211997639">(Oct 02 2020 at 02:15)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191401">@Eric Haas</span> -- we're just a day away from releasing SUSHI 1.0.0 Beta 1.  This release changes how projects are structured.  There are two things related to our changes that affect your request:</p>
<p>1) We no longer use an <code>ig-data</code> folder.  Instead, just put all your IG stuff where you normally would.  So, there is no need to copy <code>/ig-data/input/data</code> because you will just put that stuff in <code>/input/data</code> directly.</p>
<p>2) SUSHI no longer generates into <code>/input</code> at all, as we're trying to avoid mixing generated files and source files.  Instead, SUSHI will generate resources (and IG JSON) to <code>/fsh-generated/resources</code> and generate menu.xml (if applicable) to <code>/fsh-generated/includes</code>.  The base template is currently being updated to support these locations as source locations.</p>
<p>SUSHI 1.0.0 Beta 1 should be released tomorrow.  As for generating <code>ig.yml</code> (wherever we would generate it), we can discuss.  For example, I'd like to better understand if this is a feature that only you will use or if it has use for others as well.</p>



<a name="212000251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/add%20yaml%20versof%20ig.json%20to%20_data/near/212000251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/add.20yaml.20versof.20ig.2Ejson.20to.20_data.html#212000251">(Oct 02 2020 at 03:10)</a>:</h4>
<p>OK that works partially for me so my data folder won't disappear every time I run sushi right?  I have no idea who else wants to access the ig resource directly, but  I imagine is limited only to those willing use the liquid syntax in the page rendering.      This is really a nice to have since I can add to bash script to insert between sushi and ig-pub.  but still it would be nice to park a new copy of the ig.json ( as YAML ) in the data folder so can be used out of the box.   Yaml is just easier to read and works fine in Jekyll so can kill 2 birds with one stone.  use the the resource directly in generating page data and able to glance at it to see the ig resource when debugging etc.  Jekyll accepts json too so that would be my second choice.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
