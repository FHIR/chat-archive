---
layout: page
title: "FHIR Chat  · xml2fsh · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html">xml2fsh</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="203919781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/203919781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ben <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#203919781">(Jul 15 2020 at 06:08)</a>:</h4>
<p>What is the correct fsh code of this XML?</p>
<div class="codehilite"><pre><span></span><code>        <span class="c">&lt;!-- field - reverseByteSize --&gt;</span>
        <span class="nt">&lt;element</span> <span class="na">id=</span><span class="s">&quot;reverseByteSize-extension-slice&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Extension.extension&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;sliceName</span> <span class="na">value=</span><span class="s">&quot;reverseByteSize&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;short</span> <span class="na">value=</span><span class="s">&quot;Reverse file size in bytes&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;max</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
        <span class="nt">&lt;element</span> <span class="na">id=</span><span class="s">&quot;reverseByteSize-extension-uri&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Extension.extension.url&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;fixedUri</span> <span class="na">value=</span><span class="s">&quot;reverseByteSize&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
        <span class="nt">&lt;element</span> <span class="na">id=</span><span class="s">&quot;reverseByteSize-extension-value&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;path</span> <span class="na">value=</span><span class="s">&quot;Extension.extension.valueDecimal&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;min</span> <span class="na">value=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;type&gt;</span>
                <span class="nt">&lt;code</span> <span class="na">value=</span><span class="s">&quot;decimal&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/type&gt;</span>
        <span class="nt">&lt;/element&gt;</span>
</code></pre></div>


<p>The following is not working:</p>
<div class="codehilite"><pre><span></span><code>* extension contains
    reverseByteSize 0..1 and

* extension[reverseByteSize] ^short = &quot;Reverse file size in bytes&quot;
* extension[reverseByteSize].valueNumber only number
</code></pre></div>



<a name="203919833"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/203919833" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ben <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#203919833">(Jul 15 2020 at 06:10)</a>:</h4>
<p>not even with Decimal, decimal</p>



<a name="203919915"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/203919915" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ben <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#203919915">(Jul 15 2020 at 06:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> can you point me to the right direction?</p>



<a name="203920868"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/203920868" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#203920868">(Jul 15 2020 at 06:36)</a>:</h4>
<p>are you trying to declare or instantiate the extension?</p>



<a name="203921008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/203921008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ben <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#203921008">(Jul 15 2020 at 06:40)</a>:</h4>
<p>I want to decleare it, here is the full code, what I have:</p>
<div class="codehilite"><pre><span></span><code>Extension:      FastqPaired
Id:             FastqPaired
Title:          &quot;Fastq Paired&quot;
Description:    &quot;Represents paired read data generated from sequencing performed on this specimen.&quot;

* extension contains
    forward 1..1 MS and
    forwardByteSize 0..1 and
    forwardChecksum 0..1 and
    reverse 1..1 MS and
    reverseByteSize 0..1 and
    reverseChecksum 0..1

* extension[forward] ^short = &quot;Forward read file location&quot;
* extension[forward].valueString only string

* extension[forwardByteSize] ^short = &quot;Forward file size in bytes&quot;
* extension[forwardByteSize].valueNumber only number

* extension[forwardChecksum] ^short = &quot;Forward file MD5 checksum&quot;
* extension[forwardChecksum].valueString only string

* extension[reverse] ^short = &quot;Reverse read file location&quot;
* extension[reverse].valueString only string

* extension[reverseByteSize] ^short = &quot;Reverse file size in bytes&quot;
* extension[reverseByteSize].valueNumber only number

* extension[reverseChecksum] ^short = &quot;Reverse file MD5 checksum&quot;
* extension[reverseChecksum].valueString only string
</code></pre></div>



<a name="203922134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/203922134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#203922134">(Jul 15 2020 at 07:05)</a>:</h4>
<p>this is an extension on extension?</p>



<a name="203922193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/203922193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#203922193">(Jul 15 2020 at 07:06)</a>:</h4>
<p>so you want your FastqPaired extension to have those other extensions?</p>



<a name="203946857"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/203946857" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#203946857">(Jul 15 2020 at 12:13)</a>:</h4>
<p>Instead of doing something like <code>valueString only string</code>, you want to do <code>value[x] only string</code>, since the <code>value[x]</code> element is a choice, and you are constraining it to only be a <code>string</code>. The <code>valueString</code> element is already only a <code>string</code>. Additionally, you do want to use <code>decimal</code>, since that is the name of the type in FHIR. However, I think you've also come across a bug here. I tried to recreate your extension making the changes described above, and it still did not work completely correctly, and it seems the problem I was running into had to do with having multiple slices of extension starting with the same string (in this case "forward" and "reverse"). I was able to fix this by renaming the "reverseByteSize" and "forwardByteSize" extension names:</p>
<div class="codehilite"><pre><span></span><code>Id:             FastqPaired
Title:          &quot;Fastq Paired&quot;
Description:    &quot;Represents paired read data generated from sequencing performed on this specimen.&quot;

* extension contains
    forward 1..1 MS and
    byteSizeForward 0..1 and
    forwardChecksum 0..1 and
    reverse 1..1 MS and
    byteSizeReverse 0..1 and
    reverseChecksum 0..1

* extension[forward] ^short = &quot;Forward read file location&quot;
* extension[forward].value[x] only string

* extension[byteSizeForward] ^short = &quot;Forward file size in bytes&quot;
* extension[byteSizeForward].value[x] only decimal

* extension[forwardChecksum] ^short = &quot;Forward file MD5 checksum&quot;
* extension[forwardChecksum].value[x] only string

* extension[reverse] ^short = &quot;Reverse read file location&quot;
* extension[reverse].value[x] only string

* extension[byteSizeReverse] ^short = &quot;Reverse file size in bytes&quot;
* extension[byteSizeReverse].value[x] only decimal

* extension[reverseChecksum] ^short = &quot;Reverse file MD5 checksum&quot;
* extension[reverseChecksum].value[x] only string
</code></pre></div>


<p>I think you may have to use a similar workaround until we fix that bug.</p>



<a name="204026012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/204026012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ben <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#204026012">(Jul 15 2020 at 23:28)</a>:</h4>
<p>thank you <span class="user-mention" data-user-id="239822">@Nick Freiter</span> you saved my day!!!</p>



<a name="204033532"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/204033532" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#204033532">(Jul 16 2020 at 01:10)</a>:</h4>
<p>Yeah, <span class="user-mention" data-user-id="239822">@Nick Freiter</span> does that a lot. ;-)</p>



<a name="204036099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/xml2fsh/near/204036099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ben <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/xml2fsh.html#204036099">(Jul 16 2020 at 01:55)</a>:</h4>
<p>Created an issue: <a href="https://github.com/HL7/fhir-shorthand/issues/72">https://github.com/HL7/fhir-shorthand/issues/72</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
