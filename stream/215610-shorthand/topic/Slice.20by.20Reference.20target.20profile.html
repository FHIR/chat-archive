---
layout: page
title: "FHIR Chat  · Slice by Reference target profile · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slice.20by.20Reference.20target.20profile.html">Slice by Reference target profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="270793752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slice%20by%20Reference%20target%20profile/near/270793752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slice.20by.20Reference.20target.20profile.html#270793752">(Feb 05 2022 at 01:02)</a>:</h4>
<p>Does anyone have an example of slicing by the profile of a reference target? I want to say something like my patient profile can have any generalPractitioner references, but at least one must be of my Practitioner profile. I don't want to say only Reference(myPractitioner) or only Reference(Organization | PractionerRole | myPratictitioner).</p>



<a name="270794108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slice%20by%20Reference%20target%20profile/near/270794108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slice.20by.20Reference.20target.20profile.html#270794108">(Feb 05 2022 at 01:08)</a>:</h4>
<p>Is this even permitted since, based on previous discussions, slices need to be disjoint, and a slice that matches Practitioner would also match MyPractitioner (although the reverse is not true).</p>



<a name="270811012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slice%20by%20Reference%20target%20profile/near/270811012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slice.20by.20Reference.20target.20profile.html#270811012">(Feb 05 2022 at 07:06)</a>:</h4>
<p>might be also a topic to raise on the <a class="stream" data-stream-id="179177" href="/#narrow/stream/179177-conformance">#conformance</a> stream. as you pointed out , you can't use slicing as the slices need to be disjoint. what you could do, is to add a constraint, that a least one of the resolved references conforms to your profile.</p>



<a name="270981840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slice%20by%20Reference%20target%20profile/near/270981840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slice.20by.20Reference.20target.20profile.html#270981840">(Feb 07 2022 at 14:01)</a>:</h4>
<p>If I'm understanding what you want, it seems to me that you <em>can</em> use a slice.  While it's true that slices must be disjoint, don't you only need one slice here?  You would slice by <code>#profile</code>, leave the slicing <code>#open</code>, and then define just one slice for the myPractitioner profile.  Other practitioners not conforming to the profile would just fall into the open part of the slicing, right?  Or am I misunderstanding something?</p>



<a name="270985559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slice%20by%20Reference%20target%20profile/near/270985559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slice.20by.20Reference.20target.20profile.html#270985559">(Feb 07 2022 at 14:28)</a>:</h4>
<p>I just wrote a minimal Patient profile using a single slice for a Practitioner profile, along w/ examples to demonstrate its use.  I ran it through SUSHI and the IG Publisher and it has no errors.  If you comment out the line in PatientBob that adds DrSue to the general practitioners, however, there is an error -- showing that it does properly require at least one of the MyPractitioner profile.</p>
<p>The relevant bit is:</p>
<div class="codehilite"><pre><span></span><code>Profile: MyPatient
Parent: Patient
Description: &quot;Profile of Patient requiring at least one MyPractioner&quot;
* generalPractitioner ^slicing.discriminator.type = #profile
* generalPractitioner ^slicing.discriminator.path = &quot;$this.resolve()&quot;
* generalPractitioner ^slicing.ordered = false
* generalPractitioner ^slicing.rules = #open
* generalPractitioner 1..*
* generalPractitioner contains mygp 1..*
* generalPractitioner[mygp] only Reference(MyPractitioner)
</code></pre></div>
<p>The full FSH definitions to demonstrate this use case is on FSHSchool here: <a href="https://fshschool.org/FSHOnline/#/share/3ruI0lp">https://fshschool.org/FSHOnline/#/share/3ruI0lp</a></p>



<a name="271021669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Slice%20by%20Reference%20target%20profile/near/271021669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Slice.20by.20Reference.20target.20profile.html#271021669">(Feb 07 2022 at 18:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> Thanks. I realized about midnight last night that the disjoint slices thing was probably a red herring. But I still couldn't find an example of slicing by profile--which looks far simpler than what I was trying.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
