---
layout: page
title: "FHIR Chat  · Assigning Identifier pattern · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html">Assigning Identifier pattern</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="234154676"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234154676" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234154676">(Apr 12 2021 at 13:11)</a>:</h4>
<p>I tried to add a pattern to an Identifier, but without luck. I first tried to use the syntax from CodeabelConcepts:<br>
<code>* identifier = http://example.org#test</code></p>



<a name="234154814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234154814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234154814">(Apr 12 2021 at 13:12)</a>:</h4>
<p>which obviously can't work.</p>



<a name="234154869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234154869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234154869">(Apr 12 2021 at 13:12)</a>:</h4>
<p>But i think this would be a nice syntax for assigning identifier pattern</p>



<a name="234154926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234154926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234154926">(Apr 12 2021 at 13:13)</a>:</h4>
<p>I tried to use slicing for identifier rules. But this didn't work for me as well, see <a href="https://fshschool.org/FSHOnline/#/share/3295tLA">https://fshschool.org/FSHOnline/#/share/3295tLA</a></p>



<a name="234155008"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234155008" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234155008">(Apr 12 2021 at 13:13)</a>:</h4>
<p>But I agree, this would be a nice syntax for assigning identifier patterns.</p>



<a name="234155085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234155085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234155085">(Apr 12 2021 at 13:14)</a>:</h4>
<p>also tried to use: <code>* identifier^patternIdentifier</code> or <code>* identifier^pattern[x]</code><br>
But i'm always getting path errors.</p>
<p>Is there a Syntax to assign an object to pattern[x] in Elementdefinition</p>



<a name="234155780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234155780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234155780">(Apr 12 2021 at 13:19)</a>:</h4>
<p>i fixed it: <a href="https://fshschool.org/FSHOnline/#/share/3sfZvmp">https://fshschool.org/FSHOnline/#/share/3sfZvmp</a></p>



<a name="234172168"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234172168" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234172168">(Apr 12 2021 at 14:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> and <span class="user-mention" data-user-id="327858">@Christian Nau</span>  -- I see that in Patrick's version linked above, it sets the pattern on <code>identifier.system</code>, which is fine (since you also updated the slicing to slice on <code>system</code>).  But if anyone is following this and wants to know how to do it on <code>identifier</code> itself, there are currently two approaches which should work.:</p>
<ol>
<li>Use <code>^patternIdentifier.system</code> to create a <code>patternIdentifier</code> w/ <code>system</code> property.</li>
</ol>
<div class="codehilite"><pre><span></span><code>* identifier[myPatientNumber] ^patternIdentifier.system = MPN
</code></pre></div>
<p>If you wanted to set other parts of the pattern, you could do that too using subsequent statements.  E.g.:</p>
<div class="codehilite"><pre><span></span><code>* identifier[myPatientNumber] ^patternIdentifier.use = #official
* identifier[myPatientNumber] ^patternIdentifier.system = MPN
</code></pre></div>
<ol start="2">
<li>Create an inline <code>Instance</code> of an <code>Identifier</code>...</li>
</ol>
<div class="codehilite"><pre><span></span><code>Instance: MPNIdentifierPattern
InstanceOf: Identifier
Usage: #inline
* use = #official
* system = MPN
</code></pre></div>
<p>... and then assign it:</p>
<div class="codehilite"><pre><span></span><code>* identifier[myPatientNumber] = MPNIdentifierPattern
</code></pre></div>
<p><a href="https://fshschool.org/FSHOnline/#/share/3shSr9e">FSHOnline demonstrating both approaches above</a></p>



<a name="234172464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234172464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234172464">(Apr 12 2021 at 14:51)</a>:</h4>
<p>That said, I agree that <code>{system}#{value}</code> is worth considering as a shorthand approach.  I'll add it to our list of things to consider.</p>



<a name="234172570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234172570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234172570">(Apr 12 2021 at 14:51)</a>:</h4>
<p>I used to always try the {system}#{value} for Identifiers when I was first learning FSH, so +1 to that.</p>



<a name="234173318"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234173318" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234173318">(Apr 12 2021 at 14:56)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191469">Chris Moesel</span> <a href="#narrow/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern/near/234172464">said</a>:</p>
<blockquote>
<p>That said, I agree that <code>{system}#{value}</code> is worth considering as a shorthand approach.  I'll add it to our list of things to consider.</p>
</blockquote>
<p>i can see it for profiling, but also for creating the instance</p>



<a name="234173569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234173569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234173569">(Apr 12 2021 at 14:57)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191469">@Chris Moesel</span> for your notes! Could you me point me to the part of the FHIR Shorthand-Documentation where I could have found this <code>^patternIdentifier</code>? I'm trying to figure out how to get along with FSH with as little help as possible but I'm afraid that I'm missing some central parts.</p>



<a name="234174845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234174845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234174845">(Apr 12 2021 at 15:02)</a>:</h4>
<p>That exact use case (using it for a <code>pattern[x]</code>) is not enumerated in the spec, but it's really just a more specific use of the general "caret path" approach documented here: <a href="http://hl7.org/fhir/uv/shorthand/reference.html#caret-paths">http://hl7.org/fhir/uv/shorthand/reference.html#caret-paths</a></p>
<p>When you're using <code>^</code> with an element (e.g., <code>* some-element-path ^some-caret-path</code>), you can see the valid paths that go after the <code>^</code> by looking at the definition of <code>ElementDefinition</code>: <a href="http://hl7.org/fhir/R4/elementdefinition.html#ElementDefinition">http://hl7.org/fhir/R4/elementdefinition.html#ElementDefinition</a></p>
<p>(Although <code>patternIdentifier</code> is not enumerated there because it's just one of many possibilities for <code>pattern[x]</code>).</p>



<a name="234175657"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/234175657" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#234175657">(Apr 12 2021 at 15:05)</a>:</h4>
<p>Thank you! It's getting more clear now. :)</p>



<a name="235675876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/235675876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#235675876">(Apr 22 2021 at 13:23)</a>:</h4>
<p>Regarding using <code>{system}#{value}</code> as a shorthand for <code>Identifier</code>... I discussed this with <span class="user-mention" data-user-id="191447">@Mark Kramer</span>, and his concern is that we always use <code>#</code> to denote a <code>code</code>.  In this case, the bit after <code>#</code> is a <code>string</code> -- so supporting this would break that rule about <code>#</code> indicating a <code>code</code> (although he also noted that <code>code</code> is technically a <code>string</code>).  <span class="user-mention" data-user-id="327858">@Christian Nau</span>, <span class="user-mention" data-user-id="191451">@Patrick Werner</span>, <span class="user-mention" data-user-id="192166">@Jean Duteau</span>, <span class="user-mention" data-user-id="192587">@David Pyke</span> -- what do you think about that?</p>



<a name="235676304"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/235676304" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#235676304">(Apr 22 2021 at 13:26)</a>:</h4>
<p>I like the syntax but not the delimiter.  Can we use something else like "@"? (technically we could do {value}@{system})</p>



<a name="235676436"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/235676436" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#235676436">(Apr 22 2021 at 13:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192587">David Pyke</span> <a href="#narrow/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern/near/235676304">said</a>:</p>
<blockquote>
<p>I like the syntax but not the delimiter.  Can we use something else like "@"? (technically we could do {value}@{system})</p>
</blockquote>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="235676530"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/235676530" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#235676530">(Apr 22 2021 at 13:27)</a>:</h4>
<p>but i would prefer {system}@{value} to keep it alligned with Codings</p>



<a name="235677120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/235677120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#235677120">(Apr 22 2021 at 13:30)</a>:</h4>
<p>Having any kind of shorthand for assigning identifier patterns would be great.</p>



<a name="235688901"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/235688901" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#235688901">(Apr 22 2021 at 14:35)</a>:</h4>
<p>lets go back to HL7 v2.... use the ^</p>



<a name="235714119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/235714119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martin Höcker <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#235714119">(Apr 22 2021 at 17:10)</a>:</h4>
<p>Personally, I don't mind using <code>#</code> as a delimiter betwen both <code>system#code</code> (Coding) and <code>sytem#value</code> (Identifier). The pattern reminds me of the token-search (see examples under <a href="https://www.hl7.org/fhir/search.html#token">https://www.hl7.org/fhir/search.html#token</a>). The token search uses <code>|</code> as delimiter, which in my opinion would also have been a good choice for FSH. But I don't think changing <code>#</code> to <code>|</code> would bring enough joy to the FSH users to justify the incompatible change.</p>



<a name="235734845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Assigning%20Identifier%20pattern/near/235734845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Assigning.20Identifier.20pattern.html#235734845">(Apr 22 2021 at 19:31)</a>:</h4>
<p>Whatever we use, it needs to be something that can't appear in a legal URI.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
