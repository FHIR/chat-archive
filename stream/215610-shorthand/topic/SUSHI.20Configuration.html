---
layout: page
title: "FHIR Chat  · SUSHI Configuration · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html">SUSHI Configuration</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189348334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189348334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189348334">(Feb 28 2020 at 20:36)</a>:</h4>
<p>SUSHI currently uses the following files for configuration: <code>package.json</code>, <code>ig-data/ig.ini</code>, and <code>ig-data/package-list.json</code>.  Despite using three different config files, SUSHI still provides no way for the user to supply custom configuration that would go into the <code>ImplementationGuide</code> instance representing the IG.  Rather than add a <em>fourth</em> place to put configuration, we propose replacing these <em>all</em> with a single config file.</p>
<p>The idea is that this config would be <em>loosely</em> based on the <code>ImplementationGuide</code> resource, but also provide the necessary aspects of the other files (<code>ig.ini</code>, <code>package-list.json</code>) <em>and</em> other concerns like defining the menu.  In other words, it's a one-stop-shop for all config SUSHI needs.  For ease of use, this file would be written using YAML, would streamline some of the more verbose syntaxes of <code>ImplementationGuide</code>, and would allow for "sparse" sections where SUSHI can insert generated content when building the IG source.</p>
<p>I've pasted a proposed annotated version of this file below.  Note that a minimal config would likely contain about 10 key properties, but we show more in the file below to demonstrate the <em>possible</em> entries.  Also note that we plan to implement a command in sushi to initialize a project and generate a configuration file with default values that authors would then edit.  We welcome any and all feedback!</p>
<div class="codehilite"><pre><span></span><span class="c1"># This IG YML file is inspired by the ImplementationGuide resource</span>
<span class="c1"># and also draws from package.json, package-list.json, and ig.ini.</span>
<span class="c1"># That said, it is structured for ease-of-use, so it is not strictly</span>
<span class="c1"># conformant to any of those existing configuration formats.</span>

<span class="c1"># SUSHI will use id as both id and packageId in the IG unless a</span>
<span class="c1"># specific packageId is also provided in this file.</span>
<span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">fhir.us.mcode</span>
<span class="nt">url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://hl7.org/fhir/us/mcode</span>
<span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mCODE IG</span>
<span class="nt">title</span><span class="p">:</span> <span class="s">&quot;HL7</span><span class="nv"> </span><span class="s">FHIR</span><span class="nv"> </span><span class="s">Implementation</span><span class="nv"> </span><span class="s">Guide:</span><span class="nv"> </span><span class="s">minimal</span><span class="nv"> </span><span class="s">Common</span><span class="nv"> </span><span class="s">Oncology</span><span class="nv"> </span><span class="s">Data</span><span class="nv"> </span><span class="s">Elements</span><span class="nv"> </span><span class="s">(mCODE)</span><span class="nv"> </span><span class="s">Release</span><span class="nv"> </span><span class="s">1</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">US</span><span class="nv"> </span><span class="s">Realm</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">STU1&quot;</span>
<span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mCODE™ (short for Minimal Common Oncology Data Elements) is an initiative intended to assemble a core set of structured data elements for oncology electronic health records.</span>
<span class="nt">status</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">active</span>
<span class="nt">license</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">CC0-1.0</span>
<span class="nt">date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2020-02-26</span>
<span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0.0</span>

<span class="c1"># Although fhirVersions is 0..* in the ImplementationGuide resource</span>
<span class="c1"># it can be a single item OR and array here (but so far SUSHI only</span>
<span class="c1"># support 4.0.1 anyway).</span>
<span class="nt">fhirVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4.0.1</span>

<span class="c1"># The template property will be copied into the ig.ini file.</span>
<span class="c1"># If the value of template is &quot;none&quot;, then only the resources will be</span>
<span class="c1"># generated (with no supporting ImplementationGuide sources).</span>
<span class="nt">template</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">hl7.fhir.template#0.0.5</span>

<span class="c1"># The following two lines correspond to items that used to be in</span>
<span class="c1"># ig.ini but were recently moved to IG.definition.parameter. For</span>
<span class="c1"># consistency within this file, the names are represented using</span>
<span class="c1"># camelcase, but if authors use the formal parameter names, SUSHI</span>
<span class="c1"># will recognize them as well. In either case, they&#39;ll be copied</span>
<span class="c1"># to the IG JSON using the formal names.</span>
<span class="nt">copyrightYear</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2019+</span>
<span class="nt">releaseLabel</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">STU1</span>

<span class="c1"># The publisher can be a single item or a list, each with a name and</span>
<span class="c1"># optional url and/or email. The first publisher&#39;s name will be used</span>
<span class="c1"># as IG.publisher.  The contact details and/or additional publishers</span>
<span class="c1"># will be translated into IG.contact values.</span>
<span class="nt">publisher</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">HL7 International Clinical Interoperability Council</span>
  <span class="nt">url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://www.hl7.org/Special/committees/cic</span>
  <span class="nt">email</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ciclist@lists.HL7.org</span>

<span class="c1"># Those who need more control or want to add additional details</span>
<span class="c1"># to the contact values can use contact directly and follow the</span>
<span class="c1"># format outlined in the ImplementationGuide resource and</span>
<span class="c1"># ContactDetail.  E.g.,</span>
<span class="c1">#   contact:</span>
<span class="c1">#   - name: Bob Smith</span>
<span class="c1">#     - telecom:</span>
<span class="c1">#         system: email</span>
<span class="c1">#         value: bobsmith@example.org</span>
<span class="c1">#         use: work</span>

<span class="c1"># The jurisdiction can be a single item or a list. The FHIR Shorthand</span>
<span class="c1"># code syntax can be used here.</span>
<span class="nt">jurisdiction</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">urn:iso:std:iso:3166#US &quot;United States of America&quot;</span>

<span class="c1"># The dependencies property corresponds to IG.dependsOn. They key is the</span>
<span class="c1"># package id and the value is the version (or dev/current).</span>
<span class="nt">dependencies</span><span class="p">:</span>
  <span class="nt">hl7.fhir.us.core</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.1.0</span>

<span class="c1"># The global property corresponds to the IG.global property, but it</span>
<span class="c1"># uses the type as the YAML key and the profile as its value. Since</span>
<span class="c1"># FHIR does not explicitly disallow more than one profile per type,</span>
<span class="c1"># neither do we; the value can be a single profile URL or an array</span>
<span class="c1"># of profile URLs.</span>
<span class="nt">global</span><span class="p">:</span>
  <span class="nt">Patient</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://example.org/fhir/StructureDefinition/my-patient-profile</span>
  <span class="nt">Encounter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://example.org/fhir/StructureDefinition/my-encounter-profile</span>

<span class="c1"># The resources property corresponds to IG.definition.resource.</span>
<span class="c1"># SUSHI can auto-generate all of the resource entries based on</span>
<span class="c1"># the FSH definitions and/or information in any user-provided</span>
<span class="c1"># JSON resource files. If the generated entries are not</span>
<span class="c1"># sufficient or complete, however, the author can add entries</span>
<span class="c1"># here. If the reference matches a generated entry, it will</span>
<span class="c1"># replace the generated entry. If it doesn&#39;t match any generated</span>
<span class="c1"># entries, it will be added to the generated entries. The format</span>
<span class="c1"># follows IG.definition.resource with the following differences:</span>
<span class="c1">#   * use IG.definition.resource.reference.reference as the YAML key</span>
<span class="c1">#   * specify &quot;omit&quot; to omit a FSH-generated resource from the</span>
<span class="c1">#     resource list.</span>
<span class="c1">#   * groupingId can be used, but top-level groups syntax may be a</span>
<span class="c1">#     better option (see below).</span>
<span class="c1"># The following are simple examples to demonstrate what this might</span>
<span class="c1"># look like:</span>
<span class="nt">resources</span><span class="p">:</span>
  <span class="nt">Patient/my-example-patient</span><span class="p">:</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My Example Patient</span>
    <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">An example Patient</span>
    <span class="nt">exampleBoolean</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">Patient/bad-example</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">omit</span>

<span class="c1"># Groups can control certain aspects of the IG generation.  The IG</span>
<span class="c1"># documentation recommends that authors use the default groups that</span>
<span class="c1"># are provided by the templating framework, but if authors want to</span>
<span class="c1"># use their own instead, they can use the mechanism below.  This will</span>
<span class="c1"># create IG.definition.grouping entries and associate the individual</span>
<span class="c1"># resource entries with the corresponding groupIds.</span>
<span class="nt">groups</span><span class="p">:</span>
  <span class="nt">GroupA</span><span class="p">:</span>
    <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The Alpha Group</span>
    <span class="nt">resources</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">StructureDefinition/animal-patient</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">StructureDefinition/arm-procedure</span>
  <span class="nt">GroupB</span><span class="p">:</span>
    <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The Beta Group</span>
    <span class="nt">resources</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">StructureDefinition/bark-control</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">StructureDefinition/bee-sting</span>

<span class="c1"># The pages property corresponds to IG.definition.page. SUSHI can</span>
<span class="c1"># auto-generate the page list, but if the author includes pages in</span>
<span class="c1"># this file, it is assumed that the author will fully manage the</span>
<span class="c1"># pages section and SUSHI will not generate any page entries.</span>
<span class="c1"># The page file name is used as the key. If title is not provided,</span>
<span class="c1"># then the title will be generated from the file name.  If a</span>
<span class="c1"># generation value is not provided, it will be inferred from the</span>
<span class="c1"># file name extension.  Any subproperties that are valid filenames</span>
<span class="c1"># with supported extensions (e.g., .md/.xml) will be treated as</span>
<span class="c1"># sub-pages.</span>
<span class="nt">pages</span><span class="p">:</span>
  <span class="nt">index.md</span><span class="p">:</span>
    <span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mCODE Home</span>
  <span class="nt">implementation.xml</span><span class="p">:</span>
  <span class="nt">examples.xml</span><span class="p">:</span>
    <span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Examples Overview</span>
    <span class="nt">simpleExamples.xml</span><span class="p">:</span>
    <span class="nt">complexExamples.xml</span><span class="p">:</span>

<span class="c1"># The menu property will be used to generate the input/menu.xml file.</span>
<span class="c1"># The menu is represented as a simple structure where the YAML key</span>
<span class="c1"># is the menu item name and the value is the URL. The IG publisher</span>
<span class="c1"># currently only supports one level deep on sub-menus.</span>
<span class="c1"># TO CONSIDER: If no menu data is provided, can we generate the menu</span>
<span class="c1"># based on the pages order or should we just generate a very standard</span>
<span class="c1"># menu (since there may be too many pages to fit in a menu).</span>
<span class="nt">menu</span><span class="p">:</span>
  <span class="nt">Home</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">index.html</span>
  <span class="nt">Artifacts</span><span class="p">:</span>
    <span class="nt">Profiles</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">artifacts.html#2</span>
    <span class="nt">Extensions</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">artifacts.html#3</span>
    <span class="nt">Value Sets</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">artifacts.html#4</span>
  <span class="nt">Downloads</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">downloads.html</span>
  <span class="nt">History</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://hl7.org/fhir/us/mcode/history.html</span>

<span class="c1"># The parameters property represents IG.definition.parameter. Rather</span>
<span class="c1"># than a list of code/value pairs (as in the ImplementationGuide</span>
<span class="c1"># resource, the code is the YAML key. If a parameter allows repeating</span>
<span class="c1"># values, the value in the YAML should be a sequence/array. For a</span>
<span class="c1"># partial list of allowed parameters see:</span>
<span class="c1"># https://confluence.hl7.org/display/FHIR/Implementation+Guide+Parameters</span>
<span class="nt">parameters</span><span class="p">:</span>
  <span class="nt">excludettl</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">validation</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">allow-any-extensions</span><span class="p p-Indicator">,</span> <span class="nv">no-broken-links</span><span class="p p-Indicator">]</span>

<span class="c1"># The history property corresponds to package-list.json. SUSHI will</span>
<span class="c1"># use the existing top-level properties in its config to populate the</span>
<span class="c1"># top-level package-list.json properties: packageId, canonical, title,</span>
<span class="c1"># and introduction. Authors that wish to provide different values can</span>
<span class="c1"># supply them as properties under history. All other properties under</span>
<span class="c1"># history are assumed to be versions.</span>
<span class="nt">history</span><span class="p">:</span>
  <span class="c1"># The current version is special. If the author provides only a</span>
  <span class="c1"># single value, it is assumed to be the URL path to the current</span>
  <span class="c1"># build. The following default values will then be used:</span>
  <span class="c1">#   desc: Continuous Integration Build (latest in version control)</span>
  <span class="c1">#   status: ci-build</span>
  <span class="c1">#   current: true</span>
  <span class="nt">current</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">http://build.fhir.org/ig/HL7/fhir-mCODE-ig/</span>
  <span class="c1"># All other versions need each of their values fully specified.</span>
  <span class="c1"># See: https://confluence.hl7.org/pages/viewpage.action?pageId=66928420#FHIRIGPackageListdoco-PublicationObject</span>
  <span class="nt">1.0.0</span><span class="p">:</span>
    <span class="nt">fhirversion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4.0.1</span>
    <span class="nt">date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2020-03-06</span>
    <span class="nt">desc</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">STU 1 Release</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://hl7.org/fhir/us/mcode/STU1/</span>
    <span class="nt">status</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">trial-use</span>
    <span class="nt">sequence</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">STU 1</span>
    <span class="nt">current</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">0.9.1</span><span class="p">:</span>
    <span class="nt">fhirversion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4.0.0</span>
    <span class="nt">date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2019-06-10</span>
    <span class="nt">desc</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Initial STU ballot (Sep 2019 Ballot)</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://hl7.org/fhir/us/mcode/2019Sep/</span>
    <span class="nt">status</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ballot</span>
    <span class="nt">sequence</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">STU 1</span>

<span class="c1"># The ImplementationGuide resource defines several other properties</span>
<span class="c1"># not represented above. These properties can be used as-is and</span>
<span class="c1"># should follow the format defined in ImplementationGuide:</span>
<span class="c1"># * experimental</span>
<span class="c1"># * useContext</span>
<span class="c1"># * copyright</span>
<span class="c1"># * definition.template (but use a top-level &quot;templates&quot; property)</span>
</pre></div>



<a name="189351550"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189351550" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jens Villadsen <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189351550">(Feb 28 2020 at 21:13)</a>:</h4>
<div class="message_inline_image"><a href="https://media.tenor.com/images/8d6c25e651dfe4e2a8ba07ef7dfe71c8/tenor.gif" target="_blank" title="https://media.tenor.com/images/8d6c25e651dfe4e2a8ba07ef7dfe71c8/tenor.gif"><img src="https://media.tenor.com/images/8d6c25e651dfe4e2a8ba07ef7dfe71c8/tenor.gif"></a></div>



<a name="189352476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189352476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189352476">(Feb 28 2020 at 21:22)</a>:</h4>
<p>+1 on use of YAML</p>



<a name="189399783"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189399783" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189399783">(Feb 29 2020 at 18:22)</a>:</h4>
<p>I do like the idea of one config file to rule them all...</p>



<a name="189402381"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189402381" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189402381">(Feb 29 2020 at 19:32)</a>:</h4>
<p>I also use the IG resource for my own stuff so would be nice use a similar format to define them. In particular, what about extensions? for example:</p>
<div class="codehilite"><pre><span></span>resources:
  Patient/my-example-patient:
    name: My Example Patient
    description: An example Patient
    exampleBoolean: true
    extension:
      http://clinfhir.com/StructureDefinition/igEntryType: logical

  Patient/my-nextexample-patient:
    name: My Example Patient
    description: An example Patient
    exampleBoolean: true
</pre></div>


<p>Would work for strings (which is all I use) - not sure about other datatypes</p>



<a name="189407009"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189407009" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189407009">(Feb 29 2020 at 21:54)</a>:</h4>
<p>BTW - why is 'title' (in the example) quoted?</p>



<a name="189442930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189442930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mint Thompson <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189442930">(Mar 01 2020 at 18:34)</a>:</h4>
<p>The title is quoted because it contains a <code>:</code> character followed by a space, so it has to be escaped by quoting the whole string.</p>



<a name="189443611"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189443611" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189443611">(Mar 01 2020 at 18:54)</a>:</h4>
<p>but so is description...</p>



<a name="189447535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189447535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189447535">(Mar 01 2020 at 21:01)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191321">@David Hay</span> -- as <span class="user-mention" data-user-id="242620">@Mint Thompson</span> noted, the reason title is quoted is due to how YAML is parsed.  Since the title contains a <code>:</code>, we need to quote it, else YAML can't parse it correctly.  I'm not sure what you mean by, "but so is description" -- but I'll also note that YAML <em>does</em> understand URLs -- so when a URL contains <code>:</code> (as they all do), YAML <em>doesn't</em> require the quotes for that.</p>



<a name="189447814"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189447814" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189447814">(Mar 01 2020 at 21:08)</a>:</h4>
<blockquote>
<p>I also use the IG resource for my own stuff so would be nice use a similar format to define them. In particular, what about extensions?</p>
</blockquote>
<p>Good point, <span class="user-mention" data-user-id="191321">@David Hay</span>.  I hadn't thought of that, but I don't see why we couldn't (or wouldn't) support extensions.  I think we'd treat the section under the resource like the <code>IG.definition.resource</code> element (so since extension is allowed there, we'd allow it as well).</p>
<p>That brings up a question though.  I said in the comment for that section of the config that if you put in a resource that matches a generated resource, your entry would override the generated entry -- but maybe in some cases, we'd want it merged?  E.g., if the <code>name</code>, <code>description</code>, and <code>exampleBoolean</code>, are generated correctly, maybe you really should only have to say this:</p>
<div class="codehilite"><pre><span></span>resources:
  Patient/my-example-patient:
    extension:
      http://clinfhir.com/StructureDefinition/igEntryType: logical
</pre></div>


<p>and since you don't supply <code>name</code>, <code>description</code> or <code>example[x]</code>, we keep the generated values for those too.</p>



<a name="189448361"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189448361" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189448361">(Mar 01 2020 at 21:23)</a>:</h4>
<p>Ah silly me - didn't read <span class="user-mention" data-user-id="242620">@Mint Thompson</span> answer correctly...</p>



<a name="189448682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189448682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189448682">(Mar 01 2020 at 21:32)</a>:</h4>
<p>So <code>name</code>  and <code>description</code> come from the fsh file for the <code>my-example-patient</code> instance . But where does <code>exampleBoolean</code> come from? It's not in the example instance is it? Could you infer exampleCanonical from the <code>instanceOf</code> element?</p>



<a name="189450434"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189450434" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189450434">(Mar 01 2020 at 22:21)</a>:</h4>
<p>Currently, SUSHI treats all instances as examples, but a future version (soon) will allow the author to make the distinction between example instances and conformance instances.  If an instance is an example, then it will use:</p>
<ul>
<li><code>exampleCanonical</code> if it is an example of a profile in the IG, or</li>
<li><code>exampleBoolean</code> otherwise. </li>
</ul>
<p>Through trial and error, we've determined that's what the IG Publisher expects.  If you set <code>exampleCanonical</code> to a canonical URL for a core FHIR resource or a profile in a different IG, the publisher barks at you.</p>



<a name="189451316"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189451316" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189451316">(Mar 01 2020 at 22:47)</a>:</h4>
<blockquote>
<p>If you set exampleCanonical to a canonical URL for a core FHIR resource or a profile in a different IG, the publisher barks at you.</p>
</blockquote>
<p>That's an oversight. It should be possible to provide examples for profiles defined in other IGs</p>



<a name="189457398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189457398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189457398">(Mar 02 2020 at 01:50)</a>:</h4>
<p>I assumed it was mainly because as best I can tell, <code>exampleCanonical</code> mainly just ensures that the example shows up on the profile page's examples tab -- and that wouldn't really be relevant for profiles outside the IG.  Still, I would prefer if it weren't treated as an error.  (Although, to be honest, I can't remember 100% for sure that it happened with profiles in other IGs, but it definitely happened for FHIR core resources).</p>



<a name="189490684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189490684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Amogh Thali <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189490684">(Mar 02 2020 at 13:31)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191469">@Chris Moesel</span> , is there a way we can run this config file in the current version of sushi ? Executing <code>sushi .</code> returns No package.json in FSH definition folder. <br>
This is for me to play with a few resources and structure definitions and see how the IG looks. Thanks</p>



<a name="189497174"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/SUSHI%20Configuration/near/189497174" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/SUSHI.20Configuration.html#189497174">(Mar 02 2020 at 14:47)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="261178">@Amogh Thali</span>.  The YAML config above is currently being proposed; we haven't implemented it yet.  The current version of SUSHI still works using <code>package.json</code>.  You have to create your own <code>package.json</code>, but here is an example to get you started:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
 <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;myproject&quot;</span><span class="p">,</span>
 <span class="nt">&quot;version&quot;</span> <span class="p">:</span> <span class="s2">&quot;0.1.0&quot;</span><span class="p">,</span>
 <span class="nt">&quot;canonical&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://example.org/fhir/myproject&quot;</span><span class="p">,</span>
 <span class="nt">&quot;url&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://example.org/fhir/myproject&quot;</span><span class="p">,</span>
 <span class="nt">&quot;title&quot;</span> <span class="p">:</span> <span class="s2">&quot;My Project&quot;</span><span class="p">,</span>
 <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;A description of my project&quot;</span><span class="p">,</span>
 <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;hl7.fhir.r4.core&quot;</span><span class="p">:</span> <span class="s2">&quot;4.0.1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;hl7.fhir.us.core&quot;</span><span class="p">:</span> <span class="s2">&quot;3.1.0&quot;</span>
 <span class="p">},</span>
 <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Cameron Cod&quot;</span><span class="p">,</span>
 <span class="nt">&quot;maintainers&quot;</span><span class="p">:</span> <span class="p">[</span>
   <span class="p">{</span>
     <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Cod Fans&quot;</span><span class="p">,</span>
     <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.org/codfans&quot;</span>
   <span class="p">}</span>
 <span class="p">],</span>
 <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;CC0-1.0&quot;</span>
<span class="p">}</span>
</pre></div>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
