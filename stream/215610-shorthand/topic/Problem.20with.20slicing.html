---
layout: page
title: "FHIR Chat  · Problem with slicing · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Problem.20with.20slicing.html">Problem with slicing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="197187968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Problem%20with%20slicing/near/197187968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Sauer <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Problem.20with.20slicing.html#197187968">(May 11 2020 at 18:48)</a>:</h4>
<p>I try to do some slicing using fsh:</p>
<ul>
<li>serviceCategory ^slicing.discriminator.type = #value</li>
<li>serviceCategory ^slicing.discriminator.path = "coding.system"</li>
<li>
<p>serviceCategory ^slicing.rules = #open</p>
</li>
<li>
<p>serviceCategory contains<br>
    Kostenstelle 0..1 and<br>
    Funktionsbereich 0..1</p>
</li>
<li>
<p>serviceCategory[Kostenstelle].coding.system = "<a href="http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfKostenstellenCS">http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfKostenstellenCS</a>"</p>
</li>
<li>
<p>serviceCategory[Kostenstelle].coding.code from UkfKostenstellenVS (example)</p>
</li>
<li>
<p>serviceCategory[Funktionsbereich].coding.system = "<a href="http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfFktbereicheTPCS">http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfFktbereicheTPCS</a>"</p>
</li>
<li>serviceCategory[Funktionsbereich].coding.code from UkfFktbereicheTPVS (example)</li>
</ul>
<p>In the example I use:</p>
<ul>
<li>serviceCategory[Funktionsbereich].coding.code = #757</li>
<li>serviceCategory[Funktionsbereich].text = "Chirurgie CT"</li>
</ul>
<p>sushi compliles  this with no error. <br>
The quality-report from IG-Publisher said:</p>
<blockquote>
<blockquote>
<blockquote>
<p>Appointment/Patiententermin: Appointment.serviceCategory[0] (l10/c6)    error   Nicht unterstützter fixed Pattern Type fÃ¼r Diskriminator(coding.system) für Slice Appointment.serviceCategory:Kostenstelle: org.hl7.fhir.r5.model.UriType<br>
Appointment/Patiententermin: Appointment.serviceCategory[1] (l19/c6)    error   Nicht unterstützter fixed Pattern Type fÃ¼r Diskriminator(coding.system) für Slice Appointment.serviceCategory:Kostenstelle: org.hl7.fhir.r5.model.UriType<br>
Appointment/Patiententermin: Appointment.serviceCategory[0] (l10/c6)    error   Nicht unterstützter fixed Pattern Type fÃ¼r Diskriminator(coding.system) für Slice Appointment.serviceCategory:Funktionsbereich: org.hl7.fhir.r5.model.UriType<br>
Appointment/Patiententermin: Appointment.serviceCategory[1] (l19/c6)    error   Nicht unterstützter fixed Pattern Type fÃ¼r Diskriminator(coding.system) für Slice Appointment.serviceCategory:Funktionsbereich: org.hl7.fhir.r5.model.UriType<br>
&lt;&lt;&lt;&lt;</p>
</blockquote>
</blockquote>
</blockquote>
<p>I don't have any more idea, where's the problem. Can anybody help me?</p>
<p>Thank you very much!</p>
<p>Michael</p>



<a name="197190362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Problem%20with%20slicing/near/197190362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Problem.20with.20slicing.html#197190362">(May 11 2020 at 19:07)</a>:</h4>
<p>you could try:</p>
<p>serviceCategory[Kostenstelle].coding.system = "<a href="http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfKostenstellenCS">http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfKostenstellenCS</a>" <strong>(exactly)</strong></p>



<a name="197192927"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Problem%20with%20slicing/near/197192927" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Problem.20with.20slicing.html#197192927">(May 11 2020 at 19:28)</a>:</h4>
<p>I had a similar problem with valueCoding (if I'm reading your issue correctly) where I couldn't define a fixed system for the slice, but looking at other implementations that did similar, they actually had a binding to a valueset and only included codes from the one system in the valueset. <br>
I don't know if that would work for your usecase but it worked for me.</p>



<a name="197194273"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Problem%20with%20slicing/near/197194273" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Sauer <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Problem.20with.20slicing.html#197194273">(May 11 2020 at 19:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191321">@David Hay</span> didn't work. I tried this before.</p>
<p>I think the problem is maybe, that coding is 0..* in serviceCategory</p>



<a name="197195485"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Problem%20with%20slicing/near/197195485" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Sauer <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Problem.20with.20slicing.html#197195485">(May 11 2020 at 19:48)</a>:</h4>
<p><span class="user-mention" data-user-id="237342">@ryan moehrke</span> In my case, I need different value sets depending from the system. So that wouldn't help. Thank you for the idea.</p>



<a name="197200084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Problem%20with%20slicing/near/197200084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Problem.20with.20slicing.html#197200084">(May 11 2020 at 20:24)</a>:</h4>
<p>Based on the error message from the IG Publisher, it seems like this could be related to some of the issues users were having in this thread: <a href="#narrow/stream/179252-IG-creation/topic/New.20validation.20error.20.22Unsupported.20fixed.20pattern.20type.2E.2E.2E.22">https://chat.fhir.org/#narrow/stream/179252-IG-creation/topic/New.20validation.20error.20.22Unsupported.20fixed.20pattern.20type.2E.2E.2E.22</a>.</p>
<p>Some pattern types are not supported by the IG Publisher, and perhaps <code>uri</code> is one of those types? This seems to be the issue, but I'm not totally sure, because if this is what is causing your issue, I would have expected the solution suggested by <span class="user-mention" data-user-id="191321">@David Hay</span> to work. Is there a similar error from the IG Publisher when the <code>(exactly)</code> keyword is used? Or is there an error from SUSHI in that case?</p>



<a name="197200813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Problem%20with%20slicing/near/197200813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Problem.20with.20slicing.html#197200813">(May 11 2020 at 20:31)</a>:</h4>
<p>How about: serviceCategory ^slicing.discriminator.path = "coding.system"  =&gt; serviceCategory ^slicing.discriminator.path = "system"</p>
<p>and does changing the discriminator type to 'pattern' help?</p>



<a name="197237471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Problem%20with%20slicing/near/197237471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Etienne Cantineau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Problem.20with.20slicing.html#197237471">(May 12 2020 at 06:23)</a>:</h4>
<p>I had the same problem with all my slicing and solved as David says by adding (exactly) at every fixed system.</p>



<a name="197290363"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Problem%20with%20slicing/near/197290363" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michael Sauer <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Problem.20with.20slicing.html#197290363">(May 12 2020 at 15:10)</a>:</h4>
<p>Thank you all for your support! All together you brougth me on the right way. <br>
I had mixed up some things:</p>
<p>serviceCategory[Kostenstelle].coding.system = "<a href="http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfKostenstellenCS">http://fhir.uniklinik-freiburg.de/ig/appointment/CodeSystem/UkfKostenstellenCS</a>" (exactly)</p>
<p>worked with ig-publisher. I had tested it with SMILE-CDR and there it doesn't work.<br>
But with the advice of Nick I changed the type of  from "uri" to "string" and: now it works! :-)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
