---
layout: page
title: "FHIR Chat  · OperationDefinition in Sushi · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/OperationDefinition.20in.20Sushi.html">OperationDefinition in Sushi</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="196218524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/OperationDefinition%20in%20Sushi/near/196218524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/OperationDefinition.20in.20Sushi.html#196218524">(May 04 2020 at 18:11)</a>:</h4>
<p>What is the timeline for native support of OperationDefinition in Sushi, similar to how Sushi has made StructureDefinition more easy?</p>



<a name="196224706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/OperationDefinition%20in%20Sushi/near/196224706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/OperationDefinition.20in.20Sushi.html#196224706">(May 04 2020 at 18:56)</a>:</h4>
<p>Hi John, right now we don't have a timeline for anything beyond approaching OperationDefinition as a instance. I know we batted around some fancier approaches a few months ago, but I don't have a clear idea what approach would look like, exactly. What would be your recommendation to make it easier?</p>



<a name="196361807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/OperationDefinition%20in%20Sushi/near/196361807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Keith Boone <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/OperationDefinition.20in.20Sushi.html#196361807">(May 05 2020 at 20:21)</a>:</h4>
<p>I'll definitely have some thoughts when I get further along in SANER, as I know of at least two operations that need further definition.</p>



<a name="196648591"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/OperationDefinition%20in%20Sushi/near/196648591" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/OperationDefinition.20in.20Sushi.html#196648591">(May 06 2020 at 15:11)</a>:</h4>
<p>Using the Instance method in FSH is not adding any value. I will leave my OperationDefinitions in XML... OH, right... I have to convert them to JSON for  sushi to be able to copy the folder to the IG build...  Why does sushi require json, when all it is doing is copying them to the IG build directory?</p>



<a name="196653880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/OperationDefinition%20in%20Sushi/near/196653880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/OperationDefinition.20in.20Sushi.html#196653880">(May 06 2020 at 15:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191404">John Moehrke</span> <a href="#narrow/stream/215610-shorthand/topic/OperationDefinition.20in.20Sushi/near/196648591" title="#narrow/stream/215610-shorthand/topic/OperationDefinition.20in.20Sushi/near/196648591">said</a>:</p>
<blockquote>
<p>Why does sushi require json, when all it is doing is copying them to the IG build directory?</p>
</blockquote>
<p>This is because, in some cases, SUSHI requires JSON because it's actually doing more than just copying the files.  If you bring your own profile (as XML) and you want to reference it from FSH (as a parent for example), then SUSHI needs to be able to process that parent profile in its entirety (understanding its resource types, constraints, etc).  Since SUSHI only understands JSON, it needs the profile to be in JSON in order to understand it.  Similarly, for instances, if you want to reference an instance that is in XML, then SUSHI can't process the instance to validate (a) that it exists at all (by it's type and id), and (b) that it is a valid type for where it is being used.  Last, when SUSHI is building up the ImplementationGuide, it needs to look into the user-provided files to get metadata to properly populate the ImplementationGuide resources.</p>
<p>All that being said, I agree that it is an unfortunate limitation and that we should try to address it.  We basically need to find or implement a FHIR XML-&gt;JSON converter in JavaScript.  <span class="user-mention" data-user-id="191387">@Keith Boone</span> has pointed me to some (non-JavaScript) code he wrote for this and we have also made a note to look at the VS Code fhir plugin source to see if it already has code for it.  So... it's on the list of things to do.  In the mean time, you could use one of the available tools or plugins to convert your XML to JSON.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
