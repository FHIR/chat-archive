---
layout: page
title: "FHIR Chat  · Getting errors with instances and valuesets · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20errors.20with.20instances.20and.20valuesets.html">Getting errors with instances and valuesets</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191299533"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Getting%20errors%20with%20instances%20and%20valuesets/near/191299533" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20errors.20with.20instances.20and.20valuesets.html#191299533">(Mar 20 2020 at 20:41)</a>:</h4>
<p>I'm trying to write a simple profile that is constraining the Genomics Reporting IG. It creates the profile, a valueset, and an example. Sushi doesn't report any errors, but publisher shows errors in the instance and valuesets. Here's my FSH</p>
<div class="codehilite"><pre><span></span>Alias: GLSCodeSystem = https://glstring.org
Alias: HGNC = http://www.genenames.org

Profile:        HLAGenotype
Parent:         genotype
Id:             hla-genotype
Title:          &quot;HLA Genotype Observation&quot;
Description:    &quot;HLA Genotype profile of genotype observation&quot;

* component[gene-studied] 1..1 MS
* component[gene-studied].value[x] only CodeableConcept
* component[gene-studied].valueCodeableConcept from HLAGeneName

Instance:   HLA-A-GenotypeExample1
InstanceOf: http://example.org/fhir/hla-reporting/StructureDefinition/hla-genotype
Title:      &quot;HLA-A Genotype Example 1&quot;
* status = #final
* valueCodeableConcept.coding = GLSCodeSystem#&quot;hla#3.25.0#HLA-A*01:01:01:01/HLA-A*24:02:01:01&quot;
* component[gene-studied].valueCodeableConcept = HGNC#HGNC:4931 &quot;HLA-A&quot;

ValueSet:  HLAGeneName
Title: &quot;HLA Gene Name Value Set&quot;
Id: hla-gene-name-value-set
Description:  &quot;HLA Gene Names&quot;
* HGNC#HGNC:4931 &quot;HLA-A&quot;
* HGNC#HGNC:4932 &quot;HLA-B&quot;
</pre></div>


<p>The qa.html shows these errors<br>
<a href="/user_uploads/10155/ST1-Spm5YRFvHoGKkht3utuW/image.png" target="_blank" title="image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/10155/ST1-Spm5YRFvHoGKkht3utuW/image.png" target="_blank" title="image.png"><img src="/user_uploads/10155/ST1-Spm5YRFvHoGKkht3utuW/image.png"></a></div><p>I suspect I'll need to create a codesystem for <a href="http://glstrings.org" target="_blank" title="http://glstrings.org">glstrings.org</a>.</p>
<p>But <a href="http://genenames.org" target="_blank" title="http://genenames.org">genenames.org</a> is a valueset defined in the Genomics Reporting IG (<a href="http://hl7.org/fhir/uv/genomics-reporting/valueset-hgnc.html" target="_blank" title="http://hl7.org/fhir/uv/genomics-reporting/valueset-hgnc.html">http://hl7.org/fhir/uv/genomics-reporting/valueset-hgnc.html</a>) and is also listed in <a href="https://www.hl7.org/fhir/terminologies-systems.html" target="_blank" title="https://www.hl7.org/fhir/terminologies-systems.html">https://www.hl7.org/fhir/terminologies-systems.html</a></p>
<p>Any idea what I'm doing wrong?</p>



<a name="191407260"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Getting%20errors%20with%20instances%20and%20valuesets/near/191407260" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20errors.20with.20instances.20and.20valuesets.html#191407260">(Mar 22 2020 at 17:42)</a>:</h4>
<p>Hi Bob, <br>
4 of 5 of these messages are due to the IG Publisher being unable to support the code systems you are using. When the IG Pub runs, it checks all the codes against the official HL7 terminology server. They aren't really errors, and the official word is that you can add the Information messages to the <code>ignoreWarnings.txt</code> file.  The error can't be suppressed, however. <br>
The message about the minimum cardinality of valueCodeableConcept looks like it might be legit.  I have a hunch you might need to add the rule <code>* component[gene-studied].value[x] 1..1</code>. <br>
The fact it talks about <code>Observation.component.Observation.component</code> is suspicious.<br>
What does the parent class, <code>genotype</code> look like?</p>



<a name="191520976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Getting%20errors%20with%20instances%20and%20valuesets/near/191520976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a>  Bob Milius <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20errors.20with.20instances.20and.20valuesets.html#191520976">(Mar 23 2020 at 19:01)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191447">@Mark Kramer</span>, I'm working on creating codes systems, but I think I managed to fix the suspicious <code>Observation.component.Observation.component</code> thing. I changed</p>
<div class="codehilite"><pre><span></span>* component[gene-studied].valueCodeableConcept from HLAGeneName
</pre></div>


<p>to </p>
<div class="codehilite"><pre><span></span>* component[gene-studied].value[x] from HLAGeneName
</pre></div>



<a name="191610640"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Getting%20errors%20with%20instances%20and%20valuesets/near/191610640" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Kramer <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Getting.20errors.20with.20instances.20and.20valuesets.html#191610640">(Mar 24 2020 at 13:43)</a>:</h4>
<p>The first construct is the way I would do it. I guess SUSHI figures out in the latter case that the binding on value[x] means bind to valueCodeableConcept.  Why that should make a difference on the reported error, I can't even guess.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
