---
layout: page
title: "FHIR Chat  · ✔ UCUM-Code % · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.E2.9C.94.20UCUM-Code.20.25.html">✔ UCUM-Code %</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="256031444"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%E2%9C%94%20UCUM-Code%20%25/near/256031444" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.E2.9C.94.20UCUM-Code.20.25.html#256031444">(Oct 04 2021 at 09:43)</a>:</h4>
<p>Hello everyone.<br>
I'm new to FSH, though not to FHIR. Today I tried to say, that a quantity has to be a percentage. I was able to specify unit and system (UCUM), but had some problems with the code.<br>
If I say <code>* value[x].code = %</code> or  <code>* value[x].code = \%</code>, I get the error <code>Cannot assign Instance at path value[x].code to element of type code. Definition not found for Instance: %</code> or  <code>\%</code>.<br>
If I say <code>* value[x].code = '%'</code>, I get the error <code>mismatched input ''%'' expecting { 'MS', 'SU', 'TUT', ... }</code>.<br>
If I say <code>* value[x].code = "%"</code>, I get the error <code>Cannot assign string value: %. Value does not match element type: code</code>.<br>
Does anyone have an idea? Or do I have to add it manually?<br>
Thanks in advance for your help.</p>



<a name="256032483"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%E2%9C%94%20UCUM-Code%20%25/near/256032483" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Noemi Deppenwiese <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.E2.9C.94.20UCUM-Code.20.25.html#256032483">(Oct 04 2021 at 09:52)</a>:</h4>
<p>Codes use #: Try #%</p>



<a name="256032588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%E2%9C%94%20UCUM-Code%20%25/near/256032588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.E2.9C.94.20UCUM-Code.20.25.html#256032588">(Oct 04 2021 at 09:53)</a>:</h4>
<p>works fine, thank you!</p>



<a name="256048727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%E2%9C%94%20UCUM-Code%20%25/near/256048727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.E2.9C.94.20UCUM-Code.20.25.html#256048727">(Oct 04 2021 at 12:19)</a>:</h4>
<p>When defining a profile, you can actually specify the code system, code, and unit all in a single assignment, like so:</p>
<div class="codehilite"><pre><span></span><code>// assuming $UCUM alias is defined and value[x] is already constrained to Quantity
* value[x] = $UCUM#% &quot;%&quot;
</code></pre></div>
<p>When creating an instance, you can specify value, code system, code, and unit all in a single assignment as well:</p>
<div class="codehilite"><pre><span></span><code>* valueQuantity = 25 $UCUM#% &quot;%&quot;
</code></pre></div>
<p>In fact, for instances only, if you're using UCUM, there is even a more succinct way to do it, as this will <em>assume</em> UCUM:</p>
<div class="codehilite"><pre><span></span><code>* valueQuantity = 25 &#39;%&#39; &quot;%&quot;
</code></pre></div>
<p>Examples above in FSH Online: <a href="https://fshschool.org/FSHOnline/#/share/3uD8ktq">https://fshschool.org/FSHOnline/#/share/3uD8ktq</a></p>
<p>FSH spec on this topic: <a href="http://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#assignments-with-the-quantity-data-type">http://build.fhir.org/ig/HL7/fhir-shorthand/reference.html#assignments-with-the-quantity-data-type</a></p>



<a name="256049181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%E2%9C%94%20UCUM-Code%20%25/near/256049181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.E2.9C.94.20UCUM-Code.20.25.html#256049181">(Oct 04 2021 at 12:23)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191469">@Chris Moesel</span>. I will use the first one. I didn't know it was possible without a value.</p>



<a name="256049380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%E2%9C%94%20UCUM-Code%20%25/near/256049380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.E2.9C.94.20UCUM-Code.20.25.html#256049380">(Oct 04 2021 at 12:24)</a>:</h4>
<p>I should say, however, that for the purposes of a profile with a UCUM quantity value, you may want to consider specifying only the system and code (and not the unit).  Do you really <em>need</em> for the unit to be present in the data if the system and code are there?  If not, then I'd consider:</p>
<div class="codehilite"><pre><span></span><code>* value[x] = $UCUM#%    // don&#39;t require the human-readable unit be sent
</code></pre></div>



<a name="256049489"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%E2%9C%94%20UCUM-Code%20%25/near/256049489" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.E2.9C.94.20UCUM-Code.20.25.html#256049489">(Oct 04 2021 at 12:25)</a>:</h4>
<p>This uses the FHIR <code>pattern[x]</code> constraint, so the unit would essentially be ignored (allowing for values with or without it).</p>



<a name="256049629"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%E2%9C%94%20UCUM-Code%20%25/near/256049629" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mareike Przysucha <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.E2.9C.94.20UCUM-Code.20.25.html#256049629">(Oct 04 2021 at 12:26)</a>:</h4>
<p>I don't really need the unit field, I just need <code>$UCUM#%</code>.</p>



<a name="256378289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%E2%9C%94%20UCUM-Code%20%25/near/256378289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.E2.9C.94.20UCUM-Code.20.25.html#256378289">(Oct 06 2021 at 08:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="196115">Mareike Przysucha</span> has marked this topic as resolved.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
