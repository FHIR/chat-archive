---
layout: page
title: "FHIR Chat  · [GoFSH] error on loading IGs · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html">[GoFSH] error on loading IGs</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="264302623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264302623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264302623">(Dec 09 2021 at 13:45)</a>:</h4>
<p>When referencing a non-snapshot IG (Simplifier) in GoFSH the following error is shown:</p>
<div class="codehilite"><pre><span></span><code>info  Downloading de.gematik.isik-basismodul#1.0.2...
error Failed to load de.gematik.isik-basismodul@1.0.2: Request failed with status code 404
</code></pre></div>



<a name="264302904"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264302904" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264302904">(Dec 09 2021 at 13:47)</a>:</h4>
<p>The correct error message should point to the true reason: no snapshots found in IG</p>



<a name="264305430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264305430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264305430">(Dec 09 2021 at 14:04)</a>:</h4>
<p><a href="https://github.com/FHIR/GoFSH/issues/162">https://github.com/FHIR/GoFSH/issues/162</a></p>



<a name="264307244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264307244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264307244">(Dec 09 2021 at 14:17)</a>:</h4>
<p>Actually, that is not the reason that GoFSH is failing.  It really is an issue downloading the package.  Although, in my debugging, it actually looks like an <code>HTTP 405</code> error (not <code>HTTP 404</code> as the error message suggests).  Still investigating...</p>



<a name="264308454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264308454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264308454">(Dec 09 2021 at 14:26)</a>:</h4>
<p>It looks like something has actually changed on the package server / registry.  Since some packages live on <a href="http://packages.fhir.org">packages.fhir.org</a> and some live on <a href="http://packages2.fhir.org">packages2.fhir.org</a>, we first issue an HTTP HEAD request against the expected package location on <a href="http://packages.fhir.org">packages.fhir.org</a>.  If that succeeds, we know to use <a href="http://packages.fhir.org">packages.fhir.org</a> URL.  If it fails, then we assume we should use the <a href="http://packages2.fhir.org">packages2.fhir.org</a> URL.</p>
<p>Up until <em>very recently</em>, this approach worked well.  But it seems that since then, someone disabled HTTP HEAD requests on <a href="http://packages.fhir.org">packages.fhir.org</a>:</p>
<div class="codehilite"><pre><span></span><code>$ curl --HEAD https://packages.fhir.org/de.gematik.isik-basismodul/1.0.2
HTTP/1.1 405 Method Not Allowed
</code></pre></div>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span>, <span class="user-mention" data-user-id="203235">@Ward Weistra</span> - do you know anything about this change?</p>



<a name="264311725"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264311725" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264311725">(Dec 09 2021 at 14:49)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> Maybe that also relates to your issue loading the package in the Java Validator?</p>



<a name="264311846"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264311846" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264311846">(Dec 09 2021 at 14:50)</a>:</h4>
<p>CC: <span class="user-mention" data-user-id="259036">@Matthijs van der Wielen</span></p>



<a name="264312046"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264312046" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264312046">(Dec 09 2021 at 14:52)</a>:</h4>
<p>Interesting. I also ran into issues with the java validator which is unable to d/l packages in some configurations. Never had this issue, started some weeks ago.</p>



<a name="264351193"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264351193" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264351193">(Dec 09 2021 at 19:08)</a>:</h4>
<p>java library doesn't use head - I've never understood the logic. If the server has it, I'm going to fetch it, so why did I bother with head? The only use I've ever seen for head is if I already have a resource, and I'm checking it's currency - but over the years I've learnt that caches of various kinds love to lie to me about that.</p>



<a name="264353839"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264353839" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264353839">(Dec 09 2021 at 19:29)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> -- I'm using it precisely because I don't know if the server has it or not and I'm trying to determine the right URL to use before actually invoking the download logic.  But that's a little beside the point here.  The question is, do you know anything about someone disabling HEAD on <a href="http://packages.fhir.org">packages.fhir.org</a>?  Or is that a question for the Simplifier team?</p>



<a name="264431132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264431132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264431132">(Dec 10 2021 at 11:03)</a>:</h4>
<p>AFAIK we haven't done anything with the HEAD. But I have never tested if it (ever) worked.</p>



<a name="264431169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264431169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264431169">(Dec 10 2021 at 11:03)</a>:</h4>
<p>But the way Firely Terminal (and i think npm too) checks if a package exist, is to call the listing endpoint.</p>



<a name="264431402"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264431402" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264431402">(Dec 10 2021 at 11:05)</a>:</h4>
<p>Just get the listing (json) document from ~/&lt;packagename&gt;</p>



<a name="264431418"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264431418" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264431418">(Dec 10 2021 at 11:05)</a>:</h4>
<p>and see if the version is in there.</p>



<a name="264431494"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264431494" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264431494">(Dec 10 2021 at 11:06)</a>:</h4>
<p>That is also the better solution, since it is needed to correctly resolve ranges and wildcard dependencies.</p>



<a name="264431841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264431841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264431841">(Dec 10 2021 at 11:10)</a>:</h4>
<p>See the json document here:<br>
<a href="https://packages.simplifier.net/hl7.fhir.us.core">https://packages.simplifier.net/hl7.fhir.us.core</a></p>



<a name="264432229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264432229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264432229">(Dec 10 2021 at 11:14)</a>:</h4>
<p>In Firely Terminal we have this built in:</p>
<div class="codehilite"><pre><span></span><code>&gt; fhir versions hl7.fhir.us.core
  0.0.0
  1.0.0
  1.0.1
  1.1.0
  2.0.0
  2.1.0
  3.0.0
  3.0.1
  3.1.0
  3.1.1
  3.2.0
  4.0.0
  4.1.0
</code></pre></div>



<a name="264432668"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264432668" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264432668">(Dec 10 2021 at 11:19)</a>:</h4>
<p>Specifically for the case of installing dependencies that may contain floating versions:</p>
<div class="codehilite"><pre><span></span><code>&gt; fhir semver hl7.fhir.us.core 3.2
0.0.0
1.0.0
1.0.1
1.1.0
2.0.0
2.1.0
3.0.0
3.0.1
3.1.0
3.1.1
3.2.0 &lt;---
4.0.0
4.1.0
</code></pre></div>



<a name="264446683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264446683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264446683">(Dec 10 2021 at 13:29)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span>.  That does sound like a better way to go.  We'll work toward that, but for now, we'll put in a quick fix to get around the issue w/ HTTP HEAD.</p>



<a name="264511519"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264511519" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264511519">(Dec 10 2021 at 21:33)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> - we released a fix for this in SUSHI 2.2.2.  Thanks for reporting it!</p>



<a name="264625215"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/%5BGoFSH%5D%20error%20on%20loading%20IGs/near/264625215" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/.5BGoFSH.5D.20error.20on.20loading.20IGs.html#264625215">(Dec 12 2021 at 14:06)</a>:</h4>
<p>Thanks for fixing it!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
