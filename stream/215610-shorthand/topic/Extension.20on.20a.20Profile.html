---
layout: page
title: "FHIR Chat  · Extension on a Profile · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Extension.20on.20a.20Profile.html">Extension on a Profile</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="201186047"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Extension%20on%20a%20Profile/near/201186047" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Extension.20on.20a.20Profile.html#201186047">(Jun 17 2020 at 19:01)</a>:</h4>
<p>Hi folks -- I am trying to do this sort of thing, but I could be confused:</p>
<div class="codehilite"><pre><span></span><code>Profile: DataElementObservation
Parent: Observation
Description: &quot;Base data element using Observation, adds in CPG valueExpression and instantiates case feature behavior&quot;
* ^meta.profile[0] = http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-casefeaturedefinition
* ^experimental = true
* ^extension
    contains http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-inferenceExpression
    named inferenceExpression 0..1 MS
</code></pre></div>


<p>E.g. add an extension to the StructureDefinition itself. There are syntax errors <code>mismatched input 'contains' expecting '='</code>. I assume I don't know what I am doing...</p>



<a name="201186526"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Extension%20on%20a%20Profile/near/201186526" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Pyke <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Extension.20on.20a.20Profile.html#201186526">(Jun 17 2020 at 19:04)</a>:</h4>
<p>You don't need the ^ before extension.</p>



<a name="201186597"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Extension%20on%20a%20Profile/near/201186597" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Extension.20on.20a.20Profile.html#201186597">(Jun 17 2020 at 19:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="192587">David Pyke</span> <a href="#narrow/stream/215610-shorthand/topic/Extension.20on.20a.20Profile/near/201186526">said</a>:</p>
<blockquote>
<p>You don't need the ^ before extension.</p>
</blockquote>
<p>I want the extension on the structure definition itself though</p>



<a name="201186792"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Extension%20on%20a%20Profile/near/201186792" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Extension.20on.20a.20Profile.html#201186792">(Jun 17 2020 at 19:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191782">@Brian Kaney</span> -- but you don't want to constrain the SD to say it may contain that extension then, right?  You actually want to add the extension <em>with a value</em> to the SD representing that profile.  Is that right?</p>



<a name="201186881"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Extension%20on%20a%20Profile/near/201186881" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Extension.20on.20a.20Profile.html#201186881">(Jun 17 2020 at 19:07)</a>:</h4>
<p>In this case I want to constrain the SD. Hey <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span>  do you think you could help explain this a bit more?</p>



<a name="201187688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Extension%20on%20a%20Profile/near/201187688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Extension.20on.20a.20Profile.html#201187688">(Jun 17 2020 at 19:15)</a>:</h4>
<p>To <em>constrain</em> an SD, then you need to profile <code>StructureDefinition</code> -- because you can only constrain things you inherit.  When you create a profile on <code>Observation</code>, you can only constrain <code>Observation</code> itself.  The profile on Observation is an <em>instance</em> of an SD, so it only makes sense to set values in the SD, not to constrain it...  Unless I'm really misunderstanding something here.</p>



<a name="201189721"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Extension%20on%20a%20Profile/near/201189721" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Extension.20on.20a.20Profile.html#201189721">(Jun 17 2020 at 19:34)</a>:</h4>
<p>I see, this I think works:</p>
<div class="codehilite"><pre><span></span><code>Profile: BaseDataElement
Parent: http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-casefeaturedefinition
* extension
    contains http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-inferenceExpression
    named inferenceExpression 0..1 MS

Profile: DataElementObservation
Parent: Observation
Description: &quot;Data element using Observation, adds in CPG valueExpression and instantiates case feature behavior&quot;
* ^meta.profile[0] = http://company/StructureDefinition/BaseDataElement
* ^experimental = true
</code></pre></div>



<a name="201201842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Extension%20on%20a%20Profile/near/201201842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Extension.20on.20a.20Profile.html#201201842">(Jun 17 2020 at 21:17)</a>:</h4>
<p>Right, what we're saying with cpg-caseFeatureDefinition is that it defines extensions on StructureDefinition to allow you to specify the inference expression for the data element. But if I'm reading that BaseDataElement right, it's not saying anything more than is already said by the cpg-casefeaturedefinition profile (that inferenceExpression is a mustSupport 0..1 extension), right?</p>



<a name="201214320"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Extension%20on%20a%20Profile/near/201214320" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Extension.20on.20a.20Profile.html#201214320">(Jun 17 2020 at 23:45)</a>:</h4>
<p>Yea <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> , I am pruning down the example to get the structure correct.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
