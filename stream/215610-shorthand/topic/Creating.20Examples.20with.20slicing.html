---
layout: page
title: "FHIR Chat  · Creating Examples with slicing · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Creating.20Examples.20with.20slicing.html">Creating Examples with slicing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191805258"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Creating%20Examples%20with%20slicing/near/191805258" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Creating.20Examples.20with.20slicing.html#191805258">(Mar 25 2020 at 20:15)</a>:</h4>
<p>I'm trying to figure out the right way of creating examples where I have defined slices.  In my profile, I have the following slices:</p>
<div class="codehilite"><pre><span></span>* telecom 3..*
* telecom ^slicing.discriminator.type = #value
* telecom ^slicing.discriminator.path = &quot;system&quot;
* telecom ^slicing.rules = #open
* telecom ^slicing.description = &quot;Slice based on the different telecom types (systems)&quot;
* telecom contains Phone 1..1 and Fax 1..1 and Email 1..1
* telecom[Phone].system = #phone
* telecom[Fax].system = #fax
* telecom[Email].system = #email
</pre></div>


<p>I thought that with the above profile definition, my example could just specify the values:</p>
<div class="codehilite"><pre><span></span>* telecom[Phone].value = &quot;+01 123 456 78&quot;
* telecom[Fax].value = &quot;+01 123 456 89&quot;
* telecom[Email].value = &quot;email@city.us&quot;
</pre></div>


<p>But that doesn't automatically populate the system.  I can obviously go in and add the systems in my instance definition, but do I need to?  Am I missing something that would allow me not have to populate system in my example and have sushi infer that from the slices?</p>



<a name="191807454"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Creating%20Examples%20with%20slicing/near/191807454" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Creating.20Examples.20with.20slicing.html#191807454">(Mar 25 2020 at 20:34)</a>:</h4>
<p>In this case SUSHI will not fill in the values for <code>system</code>, because <code>system</code> has cardinality <code>0..1</code>, so we can't know for sure that the <code>system</code> field should have a value on a given instance of your profile. So one way to make the <code>system</code> field be automatically populated on an instance would be to change the cardinality to be <code>1..1</code> for each slice by adding the following lines to your profile:</p>
<div class="codehilite"><pre><span></span>* telecom[Phone].system 1..1
* telecom[Fax].system 1..1
* telecom[Email].system 1..1
</pre></div>


<p>Or alternately, you could change the cardinality of all slices so that <code>system</code> is <code>1..1</code> on any slice by adding this line to your profile:</p>
<div class="codehilite"><pre><span></span>* telecom.system 1..1
</pre></div>



<a name="191807499"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Creating%20Examples%20with%20slicing/near/191807499" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Creating.20Examples.20with.20slicing.html#191807499">(Mar 25 2020 at 20:34)</a>:</h4>
<p>thx</p>



<a name="191818082"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Creating%20Examples%20with%20slicing/near/191818082" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Creating.20Examples.20with.20slicing.html#191818082">(Mar 25 2020 at 22:19)</a>:</h4>
<p>I suspect that most people would want us to set properties to <code>1..</code> automatically if they have a fixed value, but... I don't think this is strictly required by FHIR and there might be use cases where you make something optional but fix the value so that if the user <em>does</em> use it, it <em>must</em> be this value.  Still, we welcome thoughts on this...</p>



<a name="191818368"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Creating%20Examples%20with%20slicing/near/191818368" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Creating.20Examples.20with.20slicing.html#191818368">(Mar 25 2020 at 22:22)</a>:</h4>
<p>if you a) have a fixed value and b) are using it as the discriminator, I suspect that it should be considered as 1..1 for the specific slices.  In my instance, I'm saying that there are three optional slices.  When I use the slice later on, we can assume that system (the fixed discriminator) is 1..1 for the slice only.</p>



<a name="191840479"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Creating%20Examples%20with%20slicing/near/191840479" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Creating.20Examples.20with.20slicing.html#191840479">(Mar 26 2020 at 04:59)</a>:</h4>
<p>I know we've discussed having that as a rule, though I don't remember if a change request has been submitted or approved.  Certainly the elements along the path to the discriminator where a fixed value (for value slicing) or pattern (for pattern slicing) in a slice must be 1..x.  (Can't be 0..x or 2+..x)</p>



<a name="191876815"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Creating%20Examples%20with%20slicing/near/191876815" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Creating.20Examples.20with.20slicing.html#191876815">(Mar 26 2020 at 12:33)</a>:</h4>
<p>Yeah, I think we can make that happen automagically in SUSHI then (for fixed values in a discriminator path).  We'll look into it.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
