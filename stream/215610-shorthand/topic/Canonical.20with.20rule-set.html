---
layout: page
title: "FHIR Chat  · Canonical with rule-set · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20rule-set.html">Canonical with rule-set</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="262027373"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20rule-set/near/262027373" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Kaney <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20rule-set.html#262027373">(Nov 19 2021 at 04:58)</a>:</h4>
<p>Suppose a rule-set that sets the URL and version</p>
<div class="codehilite"><pre><span></span><code>RuleSet: LibraryMetadata(id)
* url = &quot;http://fhir/ig/Library/{id}&quot;
* version = &quot;0.1.0&quot;
</code></pre></div>
<p>When I insert it in a resource, called <code>MyLibrary</code> and try to make a canonical reference, it fails:</p>
<div class="codehilite"><pre><span></span><code>* library = Canonical(MyLibrary)
</code></pre></div>
<p>with:</p>
<div class="codehilite"><pre><span></span><code>error Cannot use canonical URL of MyLibrary because it does not exist. Be sure that MyLibrary exists and it has a URL.
</code></pre></div>
<p>It seems that unless <code>url</code> is explicitly set (e.g. not via a rule-set), the canonical doesn't work...</p>



<a name="262066384"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20rule-set/near/262066384" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20rule-set.html#262066384">(Nov 19 2021 at 13:32)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="252599">@Brian Kaney</span> -- thanks for pointing this out.  You're right.  If you set the <code>url</code> directly on <code>MyLibrary</code> it works fine, but when you insert it via a RuleSet, it does not.  This is not intentional.  We'll look into it to see what we can do.</p>



<a name="262066818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20rule-set/near/262066818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20rule-set.html#262066818">(Nov 19 2021 at 13:36)</a>:</h4>
<p><a href="https://github.com/FHIR/sushi/issues/958">SUSHI#958</a></p>



<a name="265642879"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Canonical%20with%20rule-set/near/265642879" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Canonical.20with.20rule-set.html#265642879">(Dec 21 2021 at 03:14)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="252599">@Brian Kaney</span> - this bug was fixed in the recently released SUSHI 2.2.4.  I apologize for the wait!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
