---
layout: page
title: "FHIR Chat  · Bogus cardinality complaint · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html">Bogus cardinality complaint</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="223676864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223676864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223676864">(Jan 22 2021 at 18:03)</a>:</h4>
<p>I have a set of examples where some of the instances live independently and also live as a contained in another instance.  I'm doing this by overriding the references in the contained resources when I add them to the parent:</p>
<div class="codehilite"><pre><span></span><code>* contained[USAgentAffiliation] = NationalPharmaIndiaAffiliation
* contained[USAgentAffiliation].organization.reference = &quot;#&quot;
* contained[USAgentAffiliation].participatingOrganization.reference = &quot;#usagent&quot;
* contained[USAgent] = NationalPharmaIndiaUSAgent
* contained[USAgent].id = &quot;usagent&quot;
* contained[BusinessOperation] = NationalPharmaIndiaOperation
* contained[BusinessOperation].providedBy.reference = &quot;#&quot;
</code></pre></div>
<p>That seems to work just fine, except that I'm getting a cardinality error on the instances when they are contained but not the instance itself:</p>
<div class="codehilite"><pre><span></span><code>error Element Organization.contained:USAgent.identifier:DUNSNumber has minimum cardinality 1 but occurs 0 time(s).
  File: /Users/jeanduteau/Documents/DDIWork/Samvit/SPL/fhir-spl/input/fsh/LabelerCodeRequest.fsh
  Line: 85 - 110
error Element Organization.contained:USAgent.telecom:Phone has minimum cardinality 1 but occurs 0 time(s).
  File: /Users/jeanduteau/Documents/DDIWork/Samvit/SPL/fhir-spl/input/fsh/LabelerCodeRequest.fsh
  Line: 85 - 110
error Element Organization.contained:USAgent.telecom:Email has minimum cardinality 1 but occurs 0 time(s).
  File: /Users/jeanduteau/Documents/DDIWork/Samvit/SPL/fhir-spl/input/fsh/LabelerCodeRequest.fsh
  Line: 85 - 110
</code></pre></div>
<p>Here is the definition of the Instance that shows those things actually exist:</p>
<div class="codehilite"><pre><span></span><code>Instance: NationalPharmaIndiaUSAgent
InstanceOf: USAgentOrganization
Description: &quot;An example of a US Agent Organization.&quot;
* identifier[DUNSNumber].value = &quot;888888888&quot;
* name = &quot;National Pharma of India Inc. US Agent&quot;
* telecom[Phone].value = &quot;+1-908-999-1212;ext=444&quot;
* telecom[Email].value = &quot;jdoe_2@npoiinc.net&quot;
</code></pre></div>
<p>And when I look at the generated JSON it looks fine as well.  I'm not sure why I'm getting those errors.</p>



<a name="223713406"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223713406" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223713406">(Jan 22 2021 at 23:03)</a>:</h4>
<p>Hmm... yeah, I'm not sure.  We'll have to take a look at that one...</p>



<a name="223715698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223715698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223715698">(Jan 22 2021 at 23:30)</a>:</h4>
<p>Here's the repository with the files: <a href="https://github.com/HL7/fhir-spl">https://github.com/HL7/fhir-spl</a></p>



<a name="223933907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223933907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223933907">(Jan 25 2021 at 17:45)</a>:</h4>
<p><span class="user-mention" data-user-id="191469">@Chris Moesel</span> i hate to push but I'm wondering if the team will have a chance to look at this and find out what is wrong (or what I'm doing wrong)?  I can workaround it but I'd rather not and I'd like my guide to build so the rest of my team can see what the contained resources look like.</p>



<a name="223940967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223940967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223940967">(Jan 25 2021 at 18:37)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span> -- I'll take a look at it this afternoon.</p>



<a name="223941023"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223941023" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223941023">(Jan 25 2021 at 18:38)</a>:</h4>
<p>thanks (and sorry again for bothering you about it)</p>



<a name="223942777"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223942777" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223942777">(Jan 25 2021 at 18:53)</a>:</h4>
<p>Should I be looking at a specific branch or something?  Because it's compiling nice and clean for me using SUSHI 1.1.0:<br>
<a href="/user_uploads/10155/djwjSn7VEdMegxuP-89zMIap/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/djwjSn7VEdMegxuP-89zMIap/image.png" title="image.png"><img src="/user_uploads/10155/djwjSn7VEdMegxuP-89zMIap/image.png"></a></div>



<a name="223942845"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223942845" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223942845">(Jan 25 2021 at 18:54)</a>:</h4>
<p>of course it is!</p>



<a name="223942912"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223942912" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223942912">(Jan 25 2021 at 18:54)</a>:</h4>
<p>i'm running 1.0.1.  i thought I had upgraded.  let me upgrade and retry</p>



<a name="223943187"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223943187" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223943187">(Jan 25 2021 at 18:57)</a>:</h4>
<p>sigh, whatever was broken got fixed in 1.1.0.  i should have looked at that before coming here.  sorry</p>



<a name="223946553"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/Bogus%20cardinality%20complaint/near/223946553" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/Bogus.20cardinality.20complaint.html#223946553">(Jan 25 2021 at 19:21)</a>:</h4>
<p>It's OK.  We actually relaxed some of our cardinality checks around slices in 1.1.0.  Although I <em>thought</em> we only did that for instance paths that used numeric indices rather than slice names (which isn't the case here).  Anyway, glad it's all good now.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
