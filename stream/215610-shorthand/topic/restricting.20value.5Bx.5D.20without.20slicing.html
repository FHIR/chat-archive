---
layout: page
title: "FHIR Chat  · restricting value[x] without slicing · shorthand"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/index.html">shorthand</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing.html">restricting value[x] without slicing</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="213174298"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/restricting%20value%5Bx%5D%20without%20slicing/near/213174298" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing.html#213174298">(Oct 13 2020 at 15:37)</a>:</h4>
<p>I just tried to fix value[x] to valueCodeableConcept (inside of a component)</p>



<a name="213174383"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/restricting%20value%5Bx%5D%20without%20slicing/near/213174383" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing.html#213174383">(Oct 13 2020 at 15:38)</a>:</h4>
<p>I used: <code>* component[dna-chg].value[x] only CodeableConcept</code></p>



<a name="213174556"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/restricting%20value%5Bx%5D%20without%20slicing/near/213174556" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing.html#213174556">(Oct 13 2020 at 15:39)</a>:</h4>
<p>which creates a type based slicing, which we don't want. Is there an alternative syntax to just fix the type of value[x] ?</p>



<a name="213177412"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/restricting%20value%5Bx%5D%20without%20slicing/near/213177412" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing.html#213177412">(Oct 13 2020 at 15:58)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="191451">@Patrick Werner</span>.  If I recall correctly, the rule you noted above (an <code>only</code> rule) should not create a type slice.  What typically creates a type slice is if you access <code>value[x]</code> using the type-based path, e.g. <code>* component[dna-chg].valueCodeableConcept from MyValueSet</code>.  Are you doing that?  If so, you can change those rules to use <code>value[x]</code> instead of <code>valueCodeableConcept</code> -- and that <em>should</em> avoid the type slicing.</p>



<a name="213177826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/restricting%20value%5Bx%5D%20without%20slicing/near/213177826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing.html#213177826">(Oct 13 2020 at 16:00)</a>:</h4>
<p>BTW -- we're considering changing how SUSHI exports this so that even if you say <code>valueCodeableConcept</code>, SUSHI would not use a type slice if <code>value[x]</code> has already been narrowed to only <code>CodeableConcept</code> anyway.  This is something that would change current output (for current IGs), however, so we're considering it carefully.  Until then, avoiding the type-specific property names in the paths should do the trick.</p>



<a name="213268685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/restricting%20value%5Bx%5D%20without%20slicing/near/213268685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing.html#213268685">(Oct 14 2020 at 10:15)</a>:</h4>
<p>it worked! Thanks <span class="user-mention" data-user-id="191469">@Chris Moesel</span> !!</p>



<a name="213268789"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/restricting%20value%5Bx%5D%20without%20slicing/near/213268789" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing.html#213268789">(Oct 14 2020 at 10:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191469">Chris Moesel</span> <a href="#narrow/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing/near/213177826">said</a>:</p>
<blockquote>
<p>BTW -- we're considering changing how SUSHI exports this so that even if you say <code>valueCodeableConcept</code>, SUSHI would not use a type slice if <code>value[x]</code> has already been narrowed to only <code>CodeableConcept</code> anyway.  This is something that would change current output (for current IGs), however, so we're considering it carefully.  Until then, avoiding the type-specific property names in the paths should do the trick.</p>
</blockquote>
<p>I think that would be a great change, seems to be much more intuitive (at least to me)</p>



<a name="213269590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/restricting%20value%5Bx%5D%20without%20slicing/near/213269590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing.html#213269590">(Oct 14 2020 at 10:26)</a>:</h4>
<p>btw: if i do this <code>* valueCodeableConcept from http://loinc.org/vs/LL1971-2 (required)</code> (on Observation.value)  doesn't introduce a slice. <br>
I expected that i have to change this also to: <code>* value[x] from http://loinc.org/vs/LL1971-2 (required)</code></p>



<a name="213278781"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/215610-shorthand/topic/restricting%20value%5Bx%5D%20without%20slicing/near/213278781" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing.html#213278781">(Oct 14 2020 at 12:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191451">Patrick Werner</span> <a href="#narrow/stream/215610-shorthand/topic/restricting.20value.5Bx.5D.20without.20slicing/near/213269590">said</a>:</p>
<blockquote>
<p>btw: if i do this <code>* valueCodeableConcept from http://loinc.org/vs/LL1971-2 (required)</code> (on Observation.value)  doesn't introduce a slice. <br>
I expected that i have to change this also to: <code>* value[x] from http://loinc.org/vs/LL1971-2 (required)</code></p>
</blockquote>
<p>Honestly, I find that surprising too.  I'm not sure why you didn't have to do it there too...  Thanks for the confirmation on the other and the feedback regarding our potential approach.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
