---
layout: page
title: "FHIR Chat  · MHD DocumentReference.context.encounter forbidden · ihe"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/index.html">ihe</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html">MHD DocumentReference.context.encounter forbidden</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="253222006"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253222006" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253222006">(Sep 14 2021 at 09:27)</a>:</h4>
<p>Can anyone tell me more about the rationale of constraining  DocumentReference.context.encounter in MHD to 0..0 ?<br>
We have the situation that in an internal document exchange scenario between systems within a hospital (at least in Germany), the encounter context is pretty important both for querying as well as during the document provide interaction. So if we were do define profiles for this scenario we'd be incompatible with MHD due to this restriction.</p>



<a name="253246349"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253246349" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253246349">(Sep 14 2021 at 13:04)</a>:</h4>
<p>it is defined this way because there is not place for that data in the Document Sharing metadata model. So although it would work in an MHDS environment, it would not work where XDS or XCA or XDR or XDM are used somewhere in the path.</p>



<a name="253246805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253246805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253246805">(Sep 14 2021 at 13:07)</a>:</h4>
<p>at one point we were thinking of using the Document Sharing metadata element ReferenceIdList, however current model just has .related mapped to this.</p>



<a name="253246886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253246886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253246886">(Sep 14 2021 at 13:08)</a>:</h4>
<p>I think it would be useful to have you explain the use-case in an issue that could drive change.</p>



<a name="253268926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253268926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253268926">(Sep 14 2021 at 15:15)</a>:</h4>
<p>I understand that it's not relevant/needed in MHD/XDS context, but I would assume that in most internal scenarios, e.g. where FHIR replaces HL7 V2 MDM communication, the provision of encounter information will be mandatory. <br>
The question this raises is: should these internally used DocumentReferences be reuseable - as is - for MHD  or do vendors in fact need to actively remove the encounter reference?<br>
Is the fact that the information would be dropped when mapping to XDS enough reason to completely rule out the element? In my interpretation of cardinalities, I would assume that the encounter reference should  simply lack the mustSupport flag to indicate that it won't be processed within the MDH scope.</p>
<p>We are currently specifying such an internal document exchange and aim to harmonize with MHD as much as possible. However with the encounter reference we'd be forced to break compatibility.</p>



<a name="253269410"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253269410" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253269410">(Sep 14 2021 at 15:18)</a>:</h4>
<p>yes, that is exactly what I would like to see explained in a github issue on MHD. <a href="https://github.com/IHE/ITI.MHD/issues">https://github.com/IHE/ITI.MHD/issues</a><br>
Let me know what your github id is so that I can add you to the team.</p>



<a name="253269840"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253269840" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253269840">(Sep 14 2021 at 15:21)</a>:</h4>
<p>note that I do have many mentions in the specification that recipients should be robust to all elements. Thus recipients should not have a problem with an .encounter; they might not know what to do with it, but they should not be throwing an error.</p>



<a name="253269847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253269847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253269847">(Sep 14 2021 at 15:21)</a>:</h4>
<p>I do wish there was a "not recommended" equivalent negative flag to "must support". I did enter a FHIR CR asking for that. This would be a flag used to discourage without forbidding, like 0..0 does.</p>



<a name="253270149"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253270149" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253270149">(Sep 14 2021 at 15:22)</a>:</h4>
<p>that said.. I think a use-case could justify that both .encounter and .related could be mapped into DocumentEntry.referenceIdList... leaving XDS-&gt;FHIR mapping up to creative implementations to figure out which identifiers are which kind.</p>



<a name="253270197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253270197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253270197">(Sep 14 2021 at 15:23)</a>:</h4>
<p>hence, why I want an issue to drive IHE discussino.</p>



<a name="253271299"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253271299" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253271299">(Sep 14 2021 at 15:30)</a>:</h4>
<p>This is me on GitHub: <a href="https://github.com/simoneOnFhir">https://github.com/simoneOnFhir</a></p>



<a name="253271358"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253271358" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253271358">(Sep 14 2021 at 15:31)</a>:</h4>
<p>I'll file the issue as soon as I have access</p>



<a name="253285671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253285671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253285671">(Sep 14 2021 at 17:02)</a>:</h4>
<blockquote>
<p>it is defined this way because there is not place for that data in the Document Sharing metadata model. </p>
</blockquote>
<p>Doesn't ReferenceIdList provide this in the metadata?</p>



<a name="253288056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253288056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253288056">(Sep 14 2021 at 17:16)</a>:</h4>
<p>Vassil, yes it could be that way. it was mostly an oversite due to no one mentioning it.</p>



<a name="253406189"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253406189" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253406189">(Sep 15 2021 at 12:40)</a>:</h4>
<p>Issue added: <a href="https://github.com/IHE/ITI.MHD/issues/88">https://github.com/IHE/ITI.MHD/issues/88</a></p>



<a name="253406478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253406478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253406478">(Sep 15 2021 at 12:43)</a>:</h4>
<p>tbh the way the IG publisher renders the profile, it's very hard to actually see the constraint, unless you're explicitly looking for the context.encounter element and wondering where it went.<br>
Simplifier would render that as a striked (stoke? strikken?) out element, making this more obvious.<br>
I only noticed it, when I looked at the FSH code <span aria-label="nerd" class="emoji emoji-1f913" role="img" title="nerd">:nerd:</span></p>



<a name="253450656"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253450656" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253450656">(Sep 15 2021 at 17:02)</a>:</h4>
<p>agreed. I am liking the FSH format for being blunt.</p>



<a name="253450734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253450734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253450734">(Sep 15 2021 at 17:03)</a>:</h4>
<p>thanks for creating these issues.</p>



<a name="253685037"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253685037" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253685037">(Sep 17 2021 at 03:44)</a>:</h4>
<p>what's hard to see?</p>



<a name="253700234"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253700234" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253700234">(Sep 17 2021 at 07:10)</a>:</h4>
<p>DocumentReference.context.encounter beeing set to 0..0 <br>
The element is simply missing from the differential, so you can't see the constraint.</p>



<a name="253700374"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253700374" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253700374">(Sep 17 2021 at 07:12)</a>:</h4>
<p>where is it missing from the differential? it certainly shouldn't be</p>



<a name="253700405"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253700405" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Simone Heckmann <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253700405">(Sep 17 2021 at 07:12)</a>:</h4>
<p>Ah sorry, it <strong>is</strong> struck out in the differential. It's the snapshot where you can't see it.</p>



<a name="253700433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference.context.encounter%20forbidden/near/253700433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.2Econtext.2Eencounter.20forbidden.html#253700433">(Sep 17 2021 at 07:13)</a>:</h4>
<p>ahh ok. well, you can take that up on <a class="stream" data-stream-id="196008" href="/#narrow/stream/196008-ig-publishing-requirements">#ig publishing requirements</a> but that's been debated before</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
