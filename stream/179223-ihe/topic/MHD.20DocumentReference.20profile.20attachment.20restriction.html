---
layout: page
title: "FHIR Chat  · MHD DocumentReference profile attachment restriction · ihe"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/index.html">ihe</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.20profile.20attachment.20restriction.html">MHD DocumentReference profile attachment restriction</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="208199712"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference%20profile%20attachment%20restriction/near/208199712" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Kronseder <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.20profile.20attachment.20restriction.html#208199712">(Aug 27 2020 at 10:32)</a>:</h4>
<p>Hello, I'm trying to use the <a href="https://build.fhir.org/ig/IHE/ITI.MHD/IHE.MHD.Provide.Comprehensive.DocumentReference.html">https://build.fhir.org/ig/IHE/ITI.MHD/IHE.MHD.Provide.Comprehensive.DocumentReference.html</a> profile in context of a german telematic infrastructure (TI) project. It fit's quite well because parts of the TI specification are referring to XDS.b<br>
One thing troubles me at the moment, is that DocumentReference.content.attachment.data is not allowed in this profile.<br>
While this isn't an issue when retrieving documents, it would might be easier to provide a document as base64 encoded data instead of only linking it.<br>
Our use case is the following:</p>
<ol>
<li>We download a document from an external repository and creating it on the FHIR server with a PUT request containing also the document data (base64 encoded)</li>
<li>While storing the data the FHIR server takes the inline data and stores it in separate place (file system,...) other than the FHIR meta data.</li>
<li>When a client is requesting the document later on, now the FHIR server provides only the url to the document in the DocumentReference resource.</li>
</ol>
<p>Is there a reason whyDocumentReference.content.attachment.data is not allowed?</p>



<a name="208201711"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference%20profile%20attachment%20restriction/near/208201711" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.20profile.20attachment.20restriction.html#208201711">(Aug 27 2020 at 10:57)</a>:</h4>
<p>When providing a document you can embed it in the bundle as a Binary Resource (MHD line 683: When the DocumentReference.content.attachment.url points at a Binary Resource, the<br>
 Binary Resource shall be in the Bundle). This does not answer your question directly why it is now allowed though, I think it is for consistency reason that you always can expect the reference to the doc in attachment.url as ITI-67 Find Document Reference is requesting.</p>



<a name="208203864"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179223-ihe/topic/MHD%20DocumentReference%20profile%20attachment%20restriction/near/208203864" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wolfgang Kronseder <a href="https://fhir.github.io/chat-archive/stream/179223-ihe/topic/MHD.20DocumentReference.20profile.20attachment.20restriction.html#208203864">(Aug 27 2020 at 11:24)</a>:</h4>
<p>Thanks for the hint! <br>
I missed that part in the specs and I also didn't thought of solving it this way.<br>
You might not directly answer my question, but you helped me a lot. <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
