---
layout: page
title: "FHIR Chat  · obs-7 is a problem · Orders and Observation WG"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/index.html">Orders and Observation WG</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html">obs-7 is a problem</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="259437931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259437931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259437931">(Oct 28 2021 at 19:12)</a>:</h4>
<p>I'm running into a situation where obs-7 creates a problem.  The situation is as follows:</p>
<ul>
<li>when capturing race, there can be multiple coded values - which means the information needs to be captured as components, because the values won't be translations of each other, they're separate values</li>
<li>however, you can <em>also</em> capture your race as a string - and in that case there's only one, and it encompasses all of the encoded information</li>
</ul>
<p>The natural way to do this is to have a Observation.valueString and multiple Observation.component.valueCodeableConcepts.  However, we can't do that right now because of the invariant.  I think the decision to add the invariant hadn't contemplated the notion of having a string summary as a value.</p>
<p>Thoughts?</p>



<a name="259437955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259437955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259437955">(Oct 28 2021 at 19:12)</a>:</h4>
<p><span class="user-mention" data-user-id="191689">@Hans Buitendijk</span> <span class="user-mention" data-user-id="191401">@Eric Haas</span> <span class="user-mention" data-user-id="191405">@Rob Hausam</span></p>



<a name="259443821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259443821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259443821">(Oct 28 2021 at 19:59)</a>:</h4>
<p>Note - similar problem for ethnicity, where you might have a single high-level code  in addition to a description, and then a whole bunch of detailed codes.</p>



<a name="259455684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259455684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rob Hausam <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259455684">(Oct 28 2021 at 21:39)</a>:</h4>
<p><span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> Yes, I think the issues are similar with ethnicity (though the way you stated it seems a little different).  I think the main question we would need to answer is whether we want to allow or expect that Observation.value (specifically valueString) could be used as a "composite summary" of the values for multiple additional copies of the <strong>same observation</strong> (i.e. with the same value for 'code', as per obs-7) that are present in Observation.component.  I think we created the invariant because we didn't believe that would be a logical or legitimate thing to do.  The "race composite summary" observation really isn't the same thing as one or more of the individual "race" observations that would be in the instances of Observation.component.  So maybe the "race composite summary" observation should have a different observation code?</p>



<a name="259459835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259459835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259459835">(Oct 28 2021 at 22:20)</a>:</h4>
<p>Well, it's easy to keep the constraint if you force different codes.  But the reality is that a system might easily use 32624-9 and have a value that's a string, a value that's a code, or a bunch of components each with their own code.  Saying we must introduce a new LOINC code just so we can maintain the Observation invariant seems backwards to me...</p>



<a name="259479495"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259479495" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259479495">(Oct 29 2021 at 03:45)</a>:</h4>
<p>Agree with Rob's recollection but to restate it - We wanted all the values for a given code in one place and not split between value and component value.   If you want a valueText stick it in Component.valueString.    Not sure there is much can do since is normative anyway.  What are you proposing exactly and is the juice  worth the squeeze?  You are the first to complain ever.</p>



<a name="259481996"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259481996" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259481996">(Oct 29 2021 at 04:40)</a>:</h4>
<p>At the moment, the only technical way to make it work is to have a component valueString (and for ethnicity a 'restricted' CodeableConcept that essentially acts as a boolean of "Hispanic or not?").  But, given that it's an overall assessment, it seems very inappropriate to need to do so in component.  I don't understand the desire to not split?  Why not?  If you've got a value that's overarching, put it in Observation.value.  If you've got multiple child values, put them in component.  What problem were you trying to avoid?</p>



<a name="259511417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259511417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jeffy Mathew Jose <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259511417">(Oct 29 2021 at 11:33)</a>:</h4>
<p>Are we expecting this to happen in same Observation resource?<br>
If so, Can we use some other field to capture the summary/description (say interpretation)?</p>



<a name="259521093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259521093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259521093">(Oct 29 2021 at 13:07)</a>:</h4>
<p>It's not an interpretation.  It's not saying your race is good/bad/improving/worse/etc.  It's saying, in the patient's own terms, what their race is.  Essentially the CodeableConcept.text, with the challenge that the codes we need to send are codings of different 'aspects' of the race and thus can't appear as translations and must therefore be sent as components.</p>



<a name="259698955"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259698955" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259698955">(Oct 30 2021 at 00:09)</a>:</h4>
<blockquote>
<p>I don't understand the desire to not split? Why not? If you've got a value that's overarching, put it in Observation.value. If you've got multiple child values, put them in component. What problem were you trying to avoid?</p>
</blockquote>
<p>IMO What you are suggesting is giving a code multiple personalities.  (See how it flies on the vocab stream.  :-)).  I think Rob's initial reaction is correct... use two codes.  </p>
<p>As an aside - I am assuming you are trying map a QR to a bunch of observations.... how do these observations ultimately turn into the patient extensions?</p>



<a name="259704473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259704473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259704473">(Oct 30 2021 at 02:19)</a>:</h4>
<p>The proposal is actually to move from using the patient extensions to Observations - there's a requirement to capture who reported the race, whether it was determined algorithmically (apparently that's a thing), whether the information is deemed to be 'protected', and apparently there can be more than one race or ethnicity in play at once.  E.g. "This is what the grandmother said, this is what the software algorithm said".</p>
<p><span class="user-mention" data-user-id="191405">@Rob Hausam</span> would you support submitting a new code to LOINC for this?  Do you think they'd respond affirmatively?</p>
<p>Also, what happens for Ethnicity, where there's only one code for the 'summary' level, but can be multiple codes at the 'detail' level - would we have distinct codes for detailed ethnicity?</p>



<a name="259829988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259829988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259829988">(Nov 01 2021 at 06:03)</a>:</h4>
<p>While waiting for the new LOINC code you use two observations:</p>
<ul>
<li>one Observation with all of the Observation.component.value[x]:CodeableConcept and no Observation.value, and </li>
<li>one Observation with Observation.value[x]:string and Observation.derivedFrom that points to the first Observation.<br>
<span aria-label="grimacing" class="emoji emoji-1f62c" role="img" title="grimacing">:grimacing:</span></li>
</ul>



<a name="259873115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259873115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259873115">(Nov 01 2021 at 14:50)</a>:</h4>
<blockquote>
<p>What happens for Ethnicity, where there's only one code for the 'summary' level, but can be multiple codes at the 'detail' level - would we have distinct codes for detailed ethnicity?</p>
</blockquote>
<p>how are code heirarchies represented in general??      single codeableconcept with with multiple codings or multiple components  or observations with unique codes??</p>



<a name="259883570"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259883570" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259883570">(Nov 01 2021 at 16:11)</a>:</h4>
<p>Depends on the type of hierarchy.  If you've got a subsumption relationship, you can have all of the codings present on one CodeableConcept.  But that requires all of the codes to be reasonable translations of each other.  In this case, the codes are "partOf" rather than "is a".</p>



<a name="259885098"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259885098" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259885098">(Nov 01 2021 at 16:23)</a>:</h4>
<p>so what is the general pattern for part of codes?</p>



<a name="259888940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179256-Orders%20and%20Observation%20WG/topic/obs-7%20is%20a%20problem/near/259888940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179256-Orders-and-Observation-WG/topic/obs-7.20is.20a.20problem.html#259888940">(Nov 01 2021 at 16:52)</a>:</h4>
<p>The repetitions have to be handled as components.  But it doesn't really make sense for the high-level concept/text to also be components.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
