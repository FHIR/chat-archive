---
layout: page
title: "FHIR Chat  · NPM proposed changes · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html">NPM proposed changes</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="207888470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/207888470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#207888470">(Aug 24 2020 at 19:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> :</p>
<ul>
<li><a href="http://jira.hl7.org/browse/FHIR-28342">J#28342</a></li>
<li><a href="http://jira.hl7.org/browse/FHIR-28344">J#28344</a></li>
</ul>



<a name="208359294"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208359294" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208359294">(Aug 28 2020 at 15:42)</a>:</h4>
<p>That means that they are now going to be formally discussed before we can make these changes to the spec, right?</p>



<a name="208359632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208359632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208359632">(Aug 28 2020 at 15:45)</a>:</h4>
<p>Btw, I see that some packages have a dependency on a "current" version of another package. That has no meaning in our specification or in npm afaik.</p>



<a name="208359746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208359746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208359746">(Aug 28 2020 at 15:46)</a>:</h4>
<p>I know that your internal build system has a meaning for it, but these packages should probably not (yet) end up in the f eeds</p>



<a name="208400176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208400176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208400176">(Aug 28 2020 at 22:10)</a>:</h4>
<blockquote>
<p>I see that some packages have a dependency on a "current" version of another package</p>
</blockquote>
<p>That was such an obviously stupid thing to try to do that I never thought to add a check in the system to prevent it. So of course, it happened. I don't know what you should do with the ones already published because they're pretty much meaningless. It won't be happening any more</p>



<a name="208427296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208427296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208427296">(Aug 29 2020 at 10:23)</a>:</h4>
<p>caught me ... we published our ch-core guide with a dependency current to ch-epr-term where we have terminologies defined which are regularly updated with patches or minor changes. but figured out too late that current has a different meaning. we would like to specify that our ch-core is depending on ch-epr-term but accept also patches or minor changes. for npm dependencies this can be <a href="https://docs.npmjs.com/misc/semver">specified</a> e.g. &gt;2.0.0, could such a construct also be used to handle ig dependencies?</p>



<a name="208452477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208452477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208452477">(Aug 29 2020 at 20:28)</a>:</h4>
<p><span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> I think we excluded any form of solution to this problem?</p>



<a name="208607341"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208607341" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208607341">(Aug 31 2020 at 19:54)</a>:</h4>
<p>We excluded npm ranges from the FHIR package spec, to prevent non experienced users shooting themselves in the foot. <br>
From a technical perspective, I don't mind it. We did implement it in Simplifier and Torinox (just in case).</p>
<p>In the FHIR package spec, we did specify wildcards for patches to solve floating dependencies:<br>
<a href="https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-Versionreferences">https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-Versionreferences</a><br>
I wouldn't mind opening that up to minor updates as well.</p>



<a name="208607378"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208607378" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208607378">(Aug 31 2020 at 19:54)</a>:</h4>
<p>e.g. 2.x</p>



<a name="208608648"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208608648" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208608648">(Aug 31 2020 at 20:05)</a>:</h4>
<p>yes agree</p>



<a name="208771805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208771805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208771805">(Sep 02 2020 at 02:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> I am adding a new entry into the packages that I generate:</p>
<div class="codehilite"><pre><span></span><code>  <span class="s2">&quot;notForPublication&quot;</span><span class="err">:</span> <span class="kc">true</span>
</code></pre></div>


<p>(in the package.json). This is added when the build is <em>not</em> building packages that are appropriate for distribution into the publication package system. They are built as part of ci-builds, local builds etc. You should not see them in any real distributed packages, and I would like it if the package server refuses to host such packages- thanks</p>



<a name="208771826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208771826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208771826">(Sep 02 2020 at 02:01)</a>:</h4>
<p>the field will not be added to packages intended for distribution / publication  (e.g. I won't add it, rather than adding it with a value of false)</p>



<a name="208841183"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208841183" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208841183">(Sep 02 2020 at 15:23)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Is there a benefit to adding them to the package feed at all then? Wouldn't it be easier to exclude them at that point already?</p>



<a name="208882062"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20proposed%20changes/near/208882062" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20proposed.20changes.html#208882062">(Sep 02 2020 at 20:22)</a>:</h4>
<p>indeed, I added rule about this at several levels, but I wanted to make sure that creative HL7 editors don't do an end run around the infrastructure, or there's no some path through the process that I've missed</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
