---
layout: page
title: "FHIR Chat  · Firely Terminal: Issues install local package · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html">Firely Terminal: Issues install local package</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="261470895"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261470895" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261470895">(Nov 15 2021 at 08:50)</a>:</h4>
<p>We started to use firely terminal in our IG pipelines to install needed packages. Doing this we found 3 issues:</p>
<ul>
<li>fhir install --file throws an error if the local package isn't known to the package servers:</li>
</ul>
<div class="codehilite"><pre><span></span><code>fhir install Downloads/term_0.2.0.tgz --file                                                                                          ✔  4383  17:46:50
Added: molit.fhir.common-terminology 0.2.0.
Restore could not be completed.
Package not found: molit.fhir.common-terminology 0.2.0
</code></pre></div>



<a name="261471036"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261471036" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261471036">(Nov 15 2021 at 08:52)</a>:</h4>
<ul>
<li>fhir bake creates snapshots with missing/wrong ids on elements (<span class="user-mention" data-user-id="193430">@Alexander Zautke</span> <span class="user-mention" data-user-id="191469">@Chris Moesel</span> <span class="user-mention" data-user-id="260054">@Yannick Börner</span> )</li>
</ul>



<a name="261471093"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261471093" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261471093">(Nov 15 2021 at 08:52)</a>:</h4>
<p>see: <a href="#narrow/stream/215610-shorthand/topic/Bug.3A.20No.20element.20found.20at.20path">https://chat.fhir.org/#narrow/stream/215610-shorthand/topic/Bug.3A.20No.20element.20found.20at.20path</a></p>



<a name="261471198"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261471198" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261471198">(Nov 15 2021 at 08:53)</a>:</h4>
<ul>
<li>fhir install installs packages in: /root/.local/share/.fhir instead of /root/.fhir which then lets sushi &amp; IG publisher fail (can be fixed with a symlink, would be nice of firely terminal always would use the correct/same folder as sushi/IG publisher</li>
</ul>



<a name="261760059"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261760059" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261760059">(Nov 17 2021 at 09:26)</a>:</h4>
<p>I vaguely remember we had a specific reason to use .local/share/, I think it had to do with permissions.</p>



<a name="261760127"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261760127" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261760127">(Nov 17 2021 at 09:27)</a>:</h4>
<p>And of course there are a lot of users that now have their cache in there, which I cannot just bust. But I'll check what we can do. Maybe make it configurable.</p>



<a name="261760286"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261760286" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261760286">(Nov 17 2021 at 09:29)</a>:</h4>
<p>Wouldn't the Sushi/IG publisher have the same permission problems then?</p>



<a name="261760403"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261760403" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261760403">(Nov 17 2021 at 09:30)</a>:</h4>
<p>Would it be possible to use the same directory across tools and let the tools create the symlink so both situations work?</p>



<a name="261761969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261761969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261761969">(Nov 17 2021 at 09:46)</a>:</h4>
<p>there is a spec, <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> even wrote it. And that's root/.fhir</p>



<a name="261762771"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261762771" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261762771">(Nov 17 2021 at 09:55)</a>:</h4>
<p>I tried to check it out myself, but cannot find it. Where is it?</p>



<a name="261762855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261762855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261762855">(Nov 17 2021 at 09:56)</a>:</h4>
<p>I know about <a href="https://confluence.hl7.org/display/FHIR/FHIR+Package+Cache">https://confluence.hl7.org/display/FHIR/FHIR+Package+Cache</a> and <a href="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification</a>, but cannot find that location...</p>



<a name="261763834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261763834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261763834">(Nov 17 2021 at 10:04)</a>:</h4>
<p><a href="https://confluence.hl7.org/display/FHIR/FHIR+Package+Cache">https://confluence.hl7.org/display/FHIR/FHIR+Package+Cache</a><br>
works for me.</p>



<a name="261765910"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261765910" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261765910">(Nov 17 2021 at 10:24)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> , you're right. I can't remember why we changed in FT. I vaguely remember some Linux guy told me that I should not put it directly under ~/, but apparently I forgot to bring it up for discussion.</p>



<a name="261857306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261857306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261857306">(Nov 17 2021 at 22:05)</a>:</h4>
<p>well, it's kind of late to change it now - There's a lot of tooling out there following the spec</p>



<a name="261912247"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/261912247" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#261912247">(Nov 18 2021 at 10:58)</a>:</h4>
<p>afaik there is no difference in permissions between ~ and ~/.local<br>
.local ist normally was brought up by GNOME and is for "non-user-generated data" but for program data. I think firely terminal just should use ~/.local - how it is stated in the FHIR spec.</p>



<a name="262675749"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/262675749" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#262675749">(Nov 25 2021 at 08:02)</a>:</h4>
<p>But the spec does not mention .local</p>



<a name="262693779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/262693779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#262693779">(Nov 25 2021 at 11:19)</a>:</h4>
<p>+1 for changing it to the folder mentioned in the spec, so "/~/.fhir/packages" (not .local!)</p>



<a name="262693907"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/262693907" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#262693907">(Nov 25 2021 at 11:21)</a>:</h4>
<p>In case someone needs to debug the issue and ends up here... the symlink can be created with "ln -s ~/.local/share/.fhir ~/.fhir".</p>



<a name="262705988"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/262705988" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#262705988">(Nov 25 2021 at 13:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191335">Martijn Harthoorn</span> <a href="#narrow/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package/near/262675749">said</a>:</p>
<blockquote>
<p>But the spec does not mention .local</p>
</blockquote>
<p>my bad, sorry i meant ~/.fhir</p>



<a name="262706100"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/262706100" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#262706100">(Nov 25 2021 at 13:36)</a>:</h4>
<p>ok. So I think everyone agrees.<br>
I have made a new release for Firely Terminal with that path for linux. (2.5.0-beta-2)</p>



<a name="262706136"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20Issues%20install%20local%20package/near/262706136" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20Issues.20install.20local.20package.html#262706136">(Nov 25 2021 at 13:36)</a>:</h4>
<p>(the local package issue is on our radar, but not fixed yet)</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
