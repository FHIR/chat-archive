---
layout: page
title: "FHIR Chat  · Narrative generator · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Narrative.20generator.html">Narrative generator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="238432068"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Narrative%20generator/near/238432068" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dietrich Haag <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Narrative.20generator.html#238432068">(May 12 2021 at 07:21)</a>:</h4>
<p>Hey there!<br>
I'm struggling to find a good way to generate all the narratives of a given bundle. It looks like the LH7-Validator (validator_cli.jar) should be able to do so with the "-narrative" option, but I always get an Error: <br>
<code>org.hl7.fhir.r5.model.Bundle cannot be cast to org.hl7.fhir.r5.model.DomainResource</code><br>
My call looks like this:</p>
<div class="codehilite"><pre><span></span><code> -version 4.0.1 -recurse -no-extensible-binding-warnings Source.xml -narrative -output Target.narrative.xml
</code></pre></div>
<p>Could someone point me to my mistake here?</p>
<p>Are there any (better?) other approaches one could use to generate all narrative from a bundle?</p>
<p>Thanks for reading so far.</p>



<a name="238465623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Narrative%20generator/near/238465623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Narrative.20generator.html#238465623">(May 12 2021 at 12:34)</a>:</h4>
<p>It sounds like a bug, I've added it to my list. but I don't know of a better way other than to write java code</p>



<a name="238476760"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Narrative%20generator/near/238476760" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Narrative.20generator.html#238476760">(May 12 2021 at 13:50)</a>:</h4>
<p><span class="user-mention" data-user-id="191375">@Alexander Henket</span> Don't you have a nice XSLT narrative generator?</p>



<a name="238477128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Narrative%20generator/near/238477128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Henket <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Narrative.20generator.html#238477128">(May 12 2021 at 13:53)</a>:</h4>
<p>I do: <a href="https://github.com/Nictiz/HL7-mappings/blob/master/ada_2_fhir/fhir/NarrativeGenerator.xsl">https://github.com/Nictiz/HL7-mappings/blob/master/ada_2_fhir/fhir/NarrativeGenerator.xsl</a></p>
<p>Doesn't do all resources/extensions/modifierExtensions. It skips resources it doesn't know and messages for them. I should probably message for unknown modifierExtensions but don't yet</p>
<p>Note the context of this: it is aimed at supporting narrative generation for a known set of resources/profiles. It was born out of inability to find a multi lingual narrative generation: this takes its labels from an externral multi lingual setup.</p>
<p>Supported is STU3 and XML only:</p>
<p>self::f:AllergyIntolerance | self::f:Appointment | self::f:CarePlan | self::f:CareTeam | <br>
self::f:Composition | self::f:Condition | self::f:Consent | self::f:Coverage | self::f:Device | self::f:DeviceRequest |<br>
self::f:DeviceUseStatement | self::f:DiagnosticReport | self::f:DocumentManifest | self::f:DocumentReference | <br>
self::f:Encounter | self::f:EpisodeOfCare | self::f:Flag | self::f:Goal | self::f:Immunization | <br>
self::f:ImmunizationRecommendation | self::f:List | self::f:Location | self::f:Media | self::f:Medication | <br>
self::f:MedicationAdministration | self::f:MedicationDispense | self::f:MedicationRequest | <br>
self::f:MedicationStatement | self::f:NutritionOrder | self::f:Observation | <br>
self::f:Organization | self::f:Patient | self::f:Person | self::f:Practitioner | self::f:PractitionerRole | <br>
self::f:Procedure | self::f:ProcedureRequest | self::f:Questionnaire | self::f:QuestionnaireResponse | <br>
self::f:RelatedPerson | self::f:Slot | self::f:Specimen | self::f:Task</p>



<a name="238701624"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Narrative%20generator/near/238701624" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Narrative.20generator.html#238701624">(May 14 2021 at 00:38)</a>:</h4>
<p>fixed next release</p>



<a name="238701632"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Narrative%20generator/near/238701632" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Narrative.20generator.html#238701632">(May 14 2021 at 00:38)</a>:</h4>
<p><span class="user-mention" data-user-id="390283">@Dietrich Haag</span></p>



<a name="239055190"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Narrative%20generator/near/239055190" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dietrich Haag <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Narrative.20generator.html#239055190">(May 17 2021 at 09:03)</a>:</h4>
<p><span class="user-mention" data-user-id="191375">@Alexander Henket</span> <br>
Thanks for the input. We need R4 here, so it's not applicable for us.</p>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span><br>
Thanks for fixing. Will have a look on it now.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
