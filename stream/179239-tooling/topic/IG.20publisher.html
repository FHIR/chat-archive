---
layout: page
title: "FHIR Chat  · IG publisher · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html">IG publisher</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="191806185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191806185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191806185">(Mar 25 2020 at 20:23)</a>:</h4>
<p>I'm still pretty blocked on this publisher error - I started working off of the sample-ig, which works and which I can modify and see results, but if I try to swap out a xml structure definition for a json one, I get </p>
<div class="codehilite"><pre><span></span>org.hl7.fhir.exceptions.FHIRFormatError: Unknown type ElementDefinition
    at org.hl7.fhir.r4.formats.XmlParser.parseType(XmlParser.java:24274)
    at org.hl7.fhir.r4.formats.XmlParserBase.parseType(XmlParserBase.java:133)
    at org.hl7.fhir.r4.formats.ParserBase.parseType(ParserBase.java:92)
    at org.hl7.fhir.r4.formats.ParserBase.parseType(ParserBase.java:83)
    at org.hl7.fhir.igtools.publisher.Publisher$TypeParserR4.parseType(Publisher.java:437)
    at org.hl7.fhir.r5.utils.NarrativeGenerator.parseType(NarrativeGenerator.java:1061)
    at org.hl7.fhir.r5.utils.NarrativeGenerator$BaseWrapperMetaElement.getBase(NarrativeGenerator.java:625)
    at org.hl7.fhir.r5.utils.NarrativeGenerator.renderLeaf(NarrativeGenerator.java:1426)
    at org.hl7.fhir.r5.utils.NarrativeGenerator.addColumnValues(NarrativeGenerator.java:1365)
    at org.hl7.fhir.r5.utils.NarrativeGenerator.generateByProfile(NarrativeGenerator.java:1239)
    at org.hl7.fhir.r5.utils.NarrativeGenerator.generate(NarrativeGenerator.java:1144)
    at org.hl7.fhir.igtools.publisher.Publisher.generateNarratives(Publisher.java:929)
    at org.hl7.fhir.igtools.publisher.Publisher.loadConformance(Publisher.java:3341)
    at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:805)
    at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:666)
    at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6933)
</pre></div>



<a name="191806408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191806408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191806408">(Mar 25 2020 at 20:25)</a>:</h4>
<p>Is there somewhere I need to specify that it is json and not XML?</p>



<a name="191806698"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191806698" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191806698">(Mar 25 2020 at 20:28)</a>:</h4>
<p>can I see your json?</p>



<a name="191807471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191807471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191807471">(Mar 25 2020 at 20:34)</a>:</h4>
<p>Seems the parser is hardcoded to XML?  is it not possible to use the publisher on json resources? <a href="https://github.com/HL7/fhir-ig-publisher/blob/master/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/Publisher.java#L438" title="https://github.com/HL7/fhir-ig-publisher/blob/master/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/Publisher.java#L438">https://github.com/HL7/fhir-ig-publisher/blob/master/org.hl7.fhir.publisher.core/src/main/java/org/hl7/fhir/igtools/publisher/Publisher.java#L438</a></p>



<a name="191822727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191822727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191822727">(Mar 25 2020 at 23:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>  The resource Json?  I just copied the US-core patient profile and updated the url</p>



<a name="191822734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191822734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191822734">(Mar 25 2020 at 23:13)</a>:</h4>
<p>which worked when I copied the US Core xml, but not json</p>



<a name="191822805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191822805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191822805">(Mar 25 2020 at 23:14)</a>:</h4>
<p>(the structure definition is quite large but you can see it here: <a href="https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-patient.json.html" title="https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-patient.json.html">https://build.fhir.org/ig/HL7/US-Core-R4/StructureDefinition-us-core-patient.json.html</a></p>



<a name="191823978"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191823978" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191823978">(Mar 25 2020 at 23:30)</a>:</h4>
<p>json artifacts also work. I tested with this json and it builds ok</p>



<a name="191824085"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191824085" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191824085">(Mar 25 2020 at 23:31)</a>:</h4>
<p>do you have  a repo or other way to look at your ig?</p>



<a name="191833229"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191833229" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191833229">(Mar 26 2020 at 02:07)</a>:</h4>
<p>is this an R4 IG?</p>



<a name="191956564"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191956564" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191956564">(Mar 26 2020 at 22:22)</a>:</h4>
<p>Sorry for the spam, I'm making progress here.  Not sure what that ElementDefinition was, but it's gone now.  Current issue:  is there guidance somewhere for how to specify dependencies?  E.g., how do I pull in UsCore?</p>



<a name="191956769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/191956769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#191956769">(Mar 26 2020 at 22:24)</a>:</h4>
<p>ah just found <a href="https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation#IGPublisherDocumentation-DependencyList" title="https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation#IGPublisherDocumentation-DependencyList">https://confluence.hl7.org/display/FHIR/IG+Publisher+Documentation#IGPublisherDocumentation-DependencyList</a> - looks like that's out of date, but the dependsOn property of implementationguide seems to work</p>



<a name="192064941"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/192064941" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#192064941">(Mar 27 2020 at 18:59)</a>:</h4>
<p>Gonna keep posting questions here as I find them, to give a sense of pain-points:<br>
There are a number of errors in qa.html that it's not obvious what they mean to me.</p>



<a name="192064951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/192064951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#192064951">(Mar 27 2020 at 18:59)</a>:</h4>
<p><code>Unable to find name for the resource StructureDefinition/Patient. Names are mandatory to allow proper population of the artifact list.</code>  I don't know what name it's looking for here - the name field on the structure definitions is populated</p>



<a name="192065176"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/192065176" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#192065176">(Mar 27 2020 at 19:01)</a>:</h4>
<p>a million errors like<br>
<code>The link 'background.html' for "Background" cannot be resolved</code><br>
I have a background.xml but it doesn't seem to generate an html</p>



<a name="192067055"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/192067055" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#192067055">(Mar 27 2020 at 19:15)</a>:</h4>
<p>[edit, deleted one that I figured out, my mistake]</p>



<a name="192068858"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/192068858" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#192068858">(Mar 27 2020 at 19:29)</a>:</h4>
<p>The name missing seems to be in the implementationguide resource. <a href="http://Implementationguide.definition.resource.name" title="http://Implementationguide.definition.resource.name">Implementationguide.definition.resource.name</a></p>



<a name="192068885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/192068885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#192068885">(Mar 27 2020 at 19:29)</a>:</h4>
<p>you should ask questions about IG creation in <a class="stream" data-stream-id="179252" href="/#narrow/stream/179252-IG-creation">#IG creation</a> - I and others check this thread much less often</p>



<a name="192069049"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/192069049" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#192069049">(Mar 27 2020 at 19:30)</a>:</h4>
<blockquote>
<p>Unable to find name for the resource StructureDefinition/Patient</p>
</blockquote>
<p>looks like an error in the template <span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span></p>



<a name="192070969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/192070969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#192070969">(Mar 27 2020 at 19:49)</a>:</h4>
<p>ack, thanks Grahame.</p>



<a name="192071097"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/192071097" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#192071097">(Mar 27 2020 at 19:51)</a>:</h4>
<p>Do I need to list the names of all the resources in the implementation guide resource itself?  I assumed that would just get pulled from the StructureDefinitions themselves</p>



<a name="192071181"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/192071181" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick George <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#192071181">(Mar 27 2020 at 19:51)</a>:</h4>
<p>oh I think I see the problem with my backgound.html links</p>



<a name="223333679"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/223333679" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#223333679">(Jan 20 2021 at 05:22)</a>:</h4>
<p>Publisher using wrong text for short and definition.</p>
<p>When a profile defines the types of an element, the IG Publisher replaces the short and definition of the element with values from the first mentioned type, rather than from the base definition.</p>
<p>For example, if PratitionerRole.identifier has its type set to Identifier, AUMedicareProviderNumber, the short is changed from "Business Identifiers that are specific to a role/location" to "An identifier intended for computation".<br>
This can be managed by explicitly setting PractitionerRole.identifier.short to the value that it should inherit from PractitionerRole.</p>
<p>See <a href="http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-practitionerrole.html">http://build.fhir.org/ig/hl7au/au-fhir-base/StructureDefinition-au-practitionerrole.html</a> <br>
and <a href="https://github.com/hl7au/au-fhir-base/blob/master/resources/au-practitionerrole.xml">https://github.com/hl7au/au-fhir-base/blob/master/resources/au-practitionerrole.xml</a><br>
This has had the correct text added to the difference</p>



<a name="223338989"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/223338989" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#223338989">(Jan 20 2021 at 07:17)</a>:</h4>
<p>In <a href="https://build.fhir.org/ig/ci-collaborative/au-fhir-base-r4//StructureDefinition-au-organization.html">AU Organization</a> address shows the short which is not edited in the differential. It has the text from the Address data type instead of from the Organisation resource.</p>



<a name="224141778"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/224141778" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#224141778">(Jan 27 2021 at 05:23)</a>:</h4>
<p>Now in GitHub <a href="https://github.com/HL7/fhir-ig-publisher/issues/227">https://github.com/HL7/fhir-ig-publisher/issues/227</a></p>



<a name="225119186"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/225119186" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#225119186">(Feb 04 2021 at 04:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191682">@Richard Townley-O'Neill</span> it's not clear to my why this is wrong</p>



<a name="225126306"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/225126306" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#225126306">(Feb 04 2021 at 07:19)</a>:</h4>
<p>Why use the short from the first listed type instead of from the base definition when more than one type is listed?</p>



<a name="225126362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/225126362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#225126362">(Feb 04 2021 at 07:20)</a>:</h4>
<p>Now I describe it it sounds like an enhancement.</p>



<a name="225126371"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/225126371" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#225126371">(Feb 04 2021 at 07:20)</a>:</h4>
<p>Or a complication.</p>



<a name="225253057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/225253057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#225253057">(Feb 05 2021 at 02:17)</a>:</h4>
<p>I don't understand. the short definition is specified in the differential, so that's what's used</p>



<a name="225267877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/IG%20publisher/near/225267877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Richard Townley-O&#x27;Neill <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/IG.20publisher.html#225267877">(Feb 05 2021 at 07:19)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I've created a rather better demo at <a href="http://build.fhir.org/ig/ci-collaborative/au-fhir-base-r4/branches/demo-of-inherited-test/StructureDefinition-au-practitionerrole.html">http://build.fhir.org/ig/ci-collaborative/au-fhir-base-r4/branches/demo-of-inherited-test/StructureDefinition-au-practitionerrole.html</a></p>
<p>In the differential there is no short or definition for PractitionerRole.identifier, so I expect snapshot to inherit them from core  <a href="http://hl7.org/fhir/R4/practitionerrole.html">PractitionerRole</a>.<br>
But, in the snapshot short and definition have values from the <a href="http://hl7.org/fhir/R4/datatypes.html#Identifier">Identifier</a> data type rather than from core <a href="http://hl7.org/fhir/R4/practitionerrole.html">PractitionerRole</a>.</p>
<p>I want to keep the short and definition from core. To do that I have to include them in differential. That is counter intuitive to me.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
