---
layout: page
title: "FHIR Chat  · https://packages2.fhir.org/ returning 502 errors · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html">https://packages2.fhir.org/ returning 502 errors</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="262485614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262485614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262485614">(Nov 23 2021 at 17:19)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span>  <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <br>
 Fresh fork of hapifhir/org.hl7.fhir.core is failing with</p>
<div class="codehilite"><pre><span></span><code>ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M5:test (default-test) on project org.hl7.fhir.utilities: There are test failures.
[ERROR]
[ERROR] Please refer to /home/vassil/Work/FHIR/git/org.hl7.fhir.core/org.hl7.fhir.utilities/target/surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
</code></pre></div>
<p>The Surefire reports show failures in the CachingClientPackageTests</p>
<div class="codehilite"><pre><span></span><code>org.hl7.fhir.utilities.tests.CachingPackageClientTests.testExists2  Time elapsed: 0.023 s  &lt;&lt;&lt; ERROR!
java.io.IOException: Server returned HTTP response code: 502 for URL: https://packages2.fhir.org/packages/hl7.fhir.r4.core
</code></pre></div>
<p>There is another failure in the PackageCachedTests, but that is probably related to the previous one.</p>
<div class="codehilite"><pre><span></span><code>org.hl7.fhir.utilities.tests.PackageCacheTests.testLastReleasedVersion  Time elapsed: 1.326 s  &lt;&lt;&lt; FAILURE!
org.opentest4j.AssertionFailedError: expected: &lt;0.0.9&gt; but was: &lt;0.0.8&gt;
</code></pre></div>



<a name="262489523"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262489523" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262489523">(Nov 23 2021 at 17:45)</a>:</h4>
<p>Skipping the tests with <code>mvn install -Dmaven.test.skip=true</code> leads to a successful build.</p>



<a name="262513722"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262513722" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262513722">(Nov 23 2021 at 21:07)</a>:</h4>
<p>denial of service attack - it;s doing 1000s of searches a second</p>



<a name="262518582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262518582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262518582">(Nov 23 2021 at 21:50)</a>:</h4>
<p>the server is now limiting all IPs to a max of 1 request/sec, with an upper queue size of 4 requests.</p>



<a name="262518766"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262518766" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262518766">(Nov 23 2021 at 21:52)</a>:</h4>
<p>Is it worth checking if my VSCode is doing this? When I load org.hl7.fhir.core, the Maven projects take 5 minutes to resolve, could it be constantly trying to reach the package server?</p>



<a name="262518800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262518800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262518800">(Nov 23 2021 at 21:52)</a>:</h4>
<p>no it's not anything we wrote - it's a request we never make of the server</p>



<a name="262519726"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262519726" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262519726">(Nov 23 2021 at 22:00)</a>:</h4>
<p>dang hackers</p>



<a name="262531825"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262531825" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262531825">(Nov 24 2021 at 00:07)</a>:</h4>
<p>This looks like it's not a hacker, it's some one the FHIR community who wrote some kind of automated test framework that's slipped out of control</p>



<a name="262588164"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262588164" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262588164">(Nov 24 2021 at 13:30)</a>:</h4>
<p>that should be easier to discover them... right?</p>



<a name="262623240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262623240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262623240">(Nov 24 2021 at 18:10)</a>:</h4>
<p>should be. but hasn't proved possible yet. ANyway, 99% of their script executions are failing today</p>



<a name="262648683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262648683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262648683">(Nov 24 2021 at 22:48)</a>:</h4>
<p>Can you identify a geography from the offending IP address?</p>



<a name="262649250"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262649250" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262649250">(Nov 24 2021 at 22:57)</a>:</h4>
<p>right now it's just these 8:</p>



<a name="262649251"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262649251" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262649251">(Nov 24 2021 at 22:57)</a>:</h4>
<p>18.209.127.78<br>
20.104.197.73<br>
20.104.82.144<br>
20.151.119.124<br>
20.151.209.83<br>
3.223.76.55<br>
34.225.24.54<br>
54.204.12.38</p>



<a name="262649398"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262649398" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262649398">(Nov 24 2021 at 23:00)</a>:</h4>
<p>So mix of Toronto, Canada and Ashton Virginia...</p>



<a name="262649487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262649487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Elliot Silver <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262649487">(Nov 24 2021 at 23:00)</a>:</h4>
<p>And from AWS. That's not particularly helpful.</p>



<a name="262649548"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262649548" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262649548">(Nov 24 2021 at 23:01)</a>:</h4>
<p>right. All making a single request, a list of all carin-bb IG versions. I've asked the carin-bb team, and it's not one of them</p>



<a name="262663039"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262663039" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262663039">(Nov 25 2021 at 03:18)</a>:</h4>
<p>Is there any way AWS could figure it out?</p>



<a name="262663794"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/https%3A//packages2.fhir.org/%20returning%20502%20errors/near/262663794" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/https.3A.2F.2Fpackages2.2Efhir.2Eorg.2F.20returning.20502.20errors.html#262663794">(Nov 25 2021 at 03:36)</a>:</h4>
<p>maybe. but why. it's not a real DNS and nginx can take it</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
