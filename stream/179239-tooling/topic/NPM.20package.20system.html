---
layout: page
title: "FHIR Chat  · NPM package system · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html">NPM package system</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="183167417"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183167417" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183167417">(Dec 11 2019 at 15:25)</a>:</h4>
<p>We are working on a tool for creating IGs and we want to be able to download FHIR packages and place them in the user's cache given the canonical name of a package that is declared as a dependency.  As far as we can tell the IG publisher does this, but it isn't totally clear to us how.  Is there some central repository for getting these packages? Additionally we've heard that <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a> will "soon" be used for package management. Is this coming soon enough that we should just wait until that is operational rather than implementing a solution that'll be out of date soon?</p>



<a name="183170913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183170913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183170913">(Dec 11 2019 at 15:57)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="183177221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183177221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vadim Peretokin <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183177221">(Dec 11 2019 at 17:00)</a>:</h4>
<ul>
<li><span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span></li>
</ul>



<a name="183201782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183201782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183201782">(Dec 11 2019 at 21:07)</a>:</h4>
<p>yeah you don't want to reproduce my hack workarounds for not having <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a>. I'm going to transit to that as soon as this round of publication is done</p>



<a name="183201913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183201913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183201913">(Dec 11 2019 at 21:08)</a>:</h4>
<p>btw, have you seen the publication requirements?</p>



<a name="183201999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183201999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183201999">(Dec 11 2019 at 21:08)</a>:</h4>
<p>oh - but... note: there are two special versions "dev" and "current" which are not and will not be resolved using <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a></p>



<a name="183268421"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183268421" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183268421">(Dec 12 2019 at 15:18)</a>:</h4>
<p>Thanks for the response. This is for SUSHI by the way, the reference implementation command line tool for FHIR Shorthand. So if <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a> is what will be used, is there documentation around using that?</p>
<p>I have seen documentation about packages here: <a href="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification" target="_blank" title="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification</a> and here: <a href="https://confluence.hl7.org/display/FHIR/FHIR+Package+Cache" target="_blank" title="https://confluence.hl7.org/display/FHIR/FHIR+Package+Cache">https://confluence.hl7.org/display/FHIR/FHIR+Package+Cache</a>, but I'm not sure if those pages are the "publication requirements".</p>
<p>If "dev" and "current" are not going to be resolved using <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a>, how would one handle a package with those versions?</p>



<a name="183274877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183274877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183274877">(Dec 12 2019 at 16:18)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="239822">@Nick Freiter</span>, <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a>, currently the same as <a href="http://packages.simplifier.org" target="_blank" title="http://packages.simplifier.org">packages.simplifier.org</a>, is up and running. You can also use our command line tool Torinox to install packages to your FHIR cache (~/.fhir) or validate against them: <a href="https://simplifier.net/docs/torinox/Install" target="_blank" title="https://simplifier.net/docs/torinox/Install">https://simplifier.net/docs/torinox/Install</a>. That's using a .NET library to work with the packages endpoint, which will likely become open source.</p>
<p>There's not much documentation on building on the package registry yet, but I'd be happy to work with you on that. What I know is that you can find the list of available package versions at <code>https://packages.simplifier.net/hl7.fhir.us.core/</code>. And then you can download the actual package versions from the URLs listed there, like <code>https://packages.simplifier.net/hl7.fhir.us.core/3.1.0</code>. Any other endpoints you need?</p>
<p>The URLs you mentioned are indeed the package spec. <span class="user-mention" data-user-id="191316">@Grahame Grieve</span> might also have been referring to the IG publication requirements: <a href="https://confluence.hl7.org/display/FHIR/FHIR+Implementation+Guide+Publishing+Requirements" target="_blank" title="https://confluence.hl7.org/display/FHIR/FHIR+Implementation+Guide+Publishing+Requirements">https://confluence.hl7.org/display/FHIR/FHIR+Implementation+Guide+Publishing+Requirements</a></p>
<p>I guess we've limited the amount of imported packages from HL7 to stable ones right now, because these keep being overwritten? <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span></p>



<a name="183276615"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183276615" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183276615">(Dec 12 2019 at 16:36)</a>:</h4>
<p>Thanks Ward! It looks like those endpoints are exactly what we were looking for, so that's a huge help.</p>



<a name="183293413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183293413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183293413">(Dec 12 2019 at 19:35)</a>:</h4>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span> have you actually documented the <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a> interface yet?</p>



<a name="183293567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183293567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183293567">(Dec 12 2019 at 19:37)</a>:</h4>
<p><span class="user-mention" data-user-id="239822">@Nick Freiter</span> </p>
<ul>
<li>
<p>"dev" means your local build - so look in the local package cache for a version "dev" and fall back to "current". the IG publisher pushes a "dev" into your package cache when it builds</p>
</li>
<li>
<p>"current" means to resolved based on the json behind this page: <a href="https://fhir.github.io/auto-ig-builder/builds.html" target="_blank" title="https://fhir.github.io/auto-ig-builder/builds.html">https://fhir.github.io/auto-ig-builder/builds.html</a> (rather than using <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a>)</p>
</li>
</ul>



<a name="183293684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183293684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183293684">(Dec 12 2019 at 19:39)</a>:</h4>
<p>and other version should be fetched from <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a> though I currently have a mess in place until I get to that</p>



<a name="183562614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183562614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183562614">(Dec 16 2019 at 16:00)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> I don't think we have. We'll have to add it to <a href="http://simplifier.net" target="_blank" title="http://simplifier.net">simplifier.net</a> in any case, but would you prefer a place on the confluence too?</p>



<a name="183569291"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183569291" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183569291">(Dec 16 2019 at 17:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> when you say that "current" is resolved using the json behind <a href="https://fhir.github.io/auto-ig-builder/builds.html" target="_blank" title="https://fhir.github.io/auto-ig-builder/builds.html">https://fhir.github.io/auto-ig-builder/builds.html</a>, I am a little confused by what that means. Is it similar to <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a>, where the URL can be combined with the canonical name of the package to get an endpoint that can be used to download a current version of the package? Or does one have to follow the link on <a href="https://fhir.github.io/auto-ig-builder/builds.html" target="_blank" title="https://fhir.github.io/auto-ig-builder/builds.html">https://fhir.github.io/auto-ig-builder/builds.html</a> to the relevant package and then download the current version from there?</p>



<a name="183582197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183582197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183582197">(Dec 16 2019 at 19:32)</a>:</h4>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span> yes, on confluence would be good.</p>



<a name="183582585"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183582585" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183582585">(Dec 16 2019 at 19:37)</a>:</h4>
<p><span class="user-mention" data-user-id="239822">@Nick Freiter</span> how it works is that you access <a href="https://build.fhir.org/ig/qas.json" target="_blank" title="https://build.fhir.org/ig/qas.json">https://build.fhir.org/ig/qas.json</a>. then, you sort that by date, and then iterate that json array from most recent to oldest to find either the <code>package-id</code> or canonical <code>url</code> that you are looking for the #current package for, and then fetch the package from <code>https://build.fhir.org/ig/[repo]/package.tgz</code></p>



<a name="183582691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183582691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183582691">(Dec 16 2019 at 19:38)</a>:</h4>
<p>I'll add that to the documentation once <span class="user-mention" data-user-id="203235">@Ward Weistra</span> etc have documented <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a> on confluence</p>



<a name="183583210"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/183583210" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nick Freiter <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#183583210">(Dec 16 2019 at 19:43)</a>:</h4>
<p>Ah ok, that makes sense, thanks for the help!</p>



<a name="187355156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187355156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187355156">(Feb 04 2020 at 12:48)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> It's not on the Confluence yet, but here's the documentation for <a href="http://packages.simplifier.net" target="_blank" title="http://packages.simplifier.net">packages.simplifier.net</a> (which currently equals <a href="http://packages.fhir.org" target="_blank" title="http://packages.fhir.org">packages.fhir.org</a>): <a href="https://simplifier.net/docs/package-server" target="_blank" title="https://simplifier.net/docs/package-server">https://simplifier.net/docs/package-server</a></p>



<a name="187355177"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187355177" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187355177">(Feb 04 2020 at 12:48)</a>:</h4>
<p>I can copy what's relevant to the Confluence. Feedback already welcome.</p>



<a name="187627769"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187627769" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187627769">(Feb 07 2020 at 10:22)</a>:</h4>
<p>thanks for the doco. One important addition: the ability to subscribe to the package registry and learn about any new packages it has. Can we have a _lastUpdated that runs with no other parameters?</p>



<a name="187770834"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187770834" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187770834">(Feb 09 2020 at 20:03)</a>:</h4>
<p>also, what does <code>prerelease</code> actually do? - what part of the package is it based on?</p>



<a name="187770848"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187770848" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187770848">(Feb 09 2020 at 20:04)</a>:</h4>
<p>given the proposed definition of Package version response, I presume that means that the normal response only returns the latest package versions?</p>



<a name="187770885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187770885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187770885">(Feb 09 2020 at 20:04)</a>:</h4>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span></p>



<a name="187771021"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187771021" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187771021">(Feb 09 2020 at 20:09)</a>:</h4>
<p>seems to me that the search should also include Url in the json response</p>



<a name="187772073"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187772073" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187772073">(Feb 09 2020 at 20:45)</a>:</h4>
<p>the response for <a href="http://packages.fhir.org/catalog?name=core" target="_blank" title="http://packages.fhir.org/catalog?name=core">http://packages.fhir.org/catalog?name=core</a> suggests that we really need a parameter for 'serious=true' or something so that the weird experimental stuff in simplifier doesn't show up</p>



<a name="187772134"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187772134" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187772134">(Feb 09 2020 at 20:47)</a>:</h4>
<p><a href="http://packages.fhir.org/catalog?name=corezxxx" target="_blank" title="http://packages.fhir.org/catalog?name=corezxxx">http://packages.fhir.org/catalog?name=corezxxx</a></p>
<p>I think that this should return an empty search, not a 404</p>



<a name="187772575"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187772575" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187772575">(Feb 09 2020 at 21:00)</a>:</h4>
<p>the API has a weird mix of casing on names. e.g. upper camel case on search, lower camel case on versions</p>



<a name="187772584"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187772584" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187772584">(Feb 09 2020 at 21:01)</a>:</h4>
<p>why not return fhirVersion on the versions end point?</p>



<a name="187772642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187772642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187772642">(Feb 09 2020 at 21:02)</a>:</h4>
<p>in fact, why not just always return name + version + fhirversion + description + url?</p>



<a name="187775545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187775545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187775545">(Feb 09 2020 at 22:15)</a>:</h4>
<p>a more serious issue: in the future, there will be FHIR packages that reference multiple FHIR versions, not just a single one</p>



<a name="187775625"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187775625" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187775625">(Feb 09 2020 at 22:16)</a>:</h4>
<p>also, I thought that there was going to be a 'get all dependencies' operation?</p>



<a name="187809156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187809156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187809156">(Feb 10 2020 at 12:05)</a>:</h4>
<p>Thanks for the feedback <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, I'll look at it with the team.</p>



<a name="187879525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/187879525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#187879525">(Feb 11 2020 at 03:00)</a>:</h4>
<p>Also, what mime type will we use for .tgz? application/tar+gzip ?</p>



<a name="188178219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188178219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188178219">(Feb 14 2020 at 04:51)</a>:</h4>
<p>one more: the search needs to return the date of the package so the results can be sorted in case there is more than one match for a canonical URL</p>



<a name="188609719"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188609719" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188609719">(Feb 20 2020 at 04:35)</a>:</h4>
<p>I've updated the package registry so that instead of listing which packages feeds are allowed to contain, it lists package patterns that are restricted to particular feeds.</p>



<a name="188609768"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188609768" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188609768">(Feb 20 2020 at 04:36)</a>:</h4>
<div class="codehilite"><pre><span></span>  <span class="s2">&quot;package-restrictions&quot;</span> <span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;hl7.fhir.*&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;http://hl7.org/fhir/package-feed.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;http://fhir.org/packages/package-feed.xml&quot;</span><span class="p">],</span>
    <span class="nt">&quot;hl7.tx.*&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;http://terminology.hl7.org/package-feed.xml&quot;</span><span class="p">],</span>
    <span class="nt">&quot;fhir.*&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;http://fhir.org/packages/package-feed.xml&quot;</span><span class="p">,</span> <span class="s2">&quot;http://fhir.org/guides/package-feed.xml&quot;</span><span class="p">],</span>
    <span class="nt">&quot;hl7.au.fhir.*&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;http://hl7.org.au/fhir/package-feed.xml&quot;</span><span class="p">]</span>
  <span class="p">}</span><span class="err">,</span>
</pre></div>



<a name="188609772"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188609772" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188609772">(Feb 20 2020 at 04:36)</a>:</h4>
<p>let me know if that's a problem - I think you're not currently implementing that part <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span></p>



<a name="188633983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188633983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188633983">(Feb 20 2020 at 12:50)</a>:</h4>
<p><span class="user-mention" data-user-id="203235">@Ward Weistra</span> further, the search has to return the canonical URL as well</p>



<a name="188657675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188657675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188657675">(Feb 20 2020 at 17:19)</a>:</h4>
<p>Time for some responses <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span> <span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>
<blockquote>
<p>One important addition: the ability to subscribe to the package registry and learn about any new packages it has. Can we have a _lastUpdated that runs with no other parameters?<br>
one more: the search needs to return the date of the package so the results can be sorted in case there is more than one match for a canonical URL</p>
</blockquote>
<p>Agree with the intent. Is this a search parameter for 'give me packages updated after X'? Or a field in the returned package/package version?</p>
<blockquote>
<p>also, what does prerelease actually do? - what part of the package is it based on?</p>
</blockquote>
<p>It's about the Semver versioning of the package. Anything 1.2.3 is ready for release anything 1.2.3-something isn't.<br>
Eg. <a href="https://packages.fhir.org/acme.base.r4" target="_blank" title="https://packages.fhir.org/acme.base.r4">https://packages.fhir.org/acme.base.r4</a> only has a prerelease package version. Thus <a href="https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=true" target="_blank" title="https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=true">https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=true</a> returns one result, <a href="https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=false" target="_blank" title="https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=false">https://packages.fhir.org/catalog?name=acme.base.r4&amp;prerelease=false</a> returns none. The effect will be more obvious once <code>version</code> parameter is implemented.</p>
<blockquote>
<p>given the proposed definition of Package version response, I presume that means that the normal response only returns the latest package versions?</p>
</blockquote>
<p>No, without the <code>version</code> parameter it just returns one entry for each package entity, not a specific version. Next you could see what versions are available with <a href="https://simplifier.net/docs/package-server/VersionListing" target="_blank" title="https://simplifier.net/docs/package-server/VersionListing">https://simplifier.net/docs/package-server/VersionListing</a> and pick the highest (<code>dist-tags</code> has <code>latest</code>). With the <code>version</code> parameter it returns one entry for each package version, so multiple entries per package entity.</p>
<blockquote>
<p>seems to me that the search should also include Url in the json response</p>
</blockquote>
<p>Which URL would you like? <code>self</code> url for the query you've done? Or url per package/package version? Both could be a convenience, but also easily constructed right now.</p>
<blockquote>
<p>the response for <a href="http://packages.fhir.org/catalog?name=core" target="_blank" title="http://packages.fhir.org/catalog?name=core">http://packages.fhir.org/catalog?name=core</a> suggests that we really need a parameter for 'serious=true' or something so that the weird experimental stuff in simplifier doesn't show up</p>
</blockquote>
<p>Well, that's what the default of <code>prerelease=false</code> is for. And reserved namespaces like <code>hl7.*</code>. But this is something every package registry with user generated content has (NPM, PyPi, etc.).<br>
We can do better education of what the impact is of making a non-prerelease package, but we can't do manual curation of what is and what isn't up to our standards.<br>
We also at some point use information like 'how often do people depend on this package' to order the results (especially when using Elastic).</p>
<blockquote>
<p><a href="http://packages.fhir.org/catalog?name=corezxxx" target="_blank" title="http://packages.fhir.org/catalog?name=corezxxx">http://packages.fhir.org/catalog?name=corezxxx</a><br>
I think that this should return an empty search, not a 404</p>
</blockquote>
<p>Correct, we'll fix that.</p>
<blockquote>
<p>the API has a weird mix of casing on names. e.g. upper camel case on search, lower camel case on versions</p>
</blockquote>
<p>Correct, we'll harmonize that. NPM seems to use lowercase: <a href="http://registry.npmjs.com/-/v1/search?text=fhir&amp;size=20" target="_blank" title="http://registry.npmjs.com/-/v1/search?text=fhir&amp;size=20">http://registry.npmjs.com/-/v1/search?text=fhir&amp;size=20</a></p>
<blockquote>
<p>why not return fhirVersion on the versions end point?<br>
Grahame Grieve: in fact, why not just always return name + version + fhirversion + description + url?</p>
</blockquote>
<p>Because that endpoint was trying to stay aligned with npm conventions, like on <a href="http://registry.npmjs.com/fhir/" target="_blank" title="http://registry.npmjs.com/fhir/">http://registry.npmjs.com/fhir/</a> or <a href="http://registry.npmjs.com/fhir/1.0.2" target="_blank" title="http://registry.npmjs.com/fhir/1.0.2">http://registry.npmjs.com/fhir/1.0.2</a>. But we'd be OK with adding/deviating. But we should then probably also document our deviation on <a href="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification" target="_blank" title="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification</a></p>
<blockquote>
<p>a more serious issue: in the future, there will be FHIR packages that reference multiple FHIR versions, not just a single one</p>
</blockquote>
<p>Our tools do not support this within one package version (it's ok within a package name, for different package versions to have different FHIR versions), we only store the first fhirVersion encountered.<br>
We also think it's undesirable within one package version. Eg. Forge for example only supports one FHIR version per application. Double FHIR versions will break using this package. Same for our other tools.<br>
The <a href="https://wiki.hl7.org/FHIR_NPM_Package_Spec" target="_blank" title="https://wiki.hl7.org/FHIR_NPM_Package_Spec">package spec</a> also states: "So this should only be seen in old balloted packages".</p>
<blockquote>
<p>I thought that there was going to be a 'get all dependencies' operation?</p>
</blockquote>
<p>Perhaps we'll offer this as a extra feature at some point, but for now that's easy to get iteratively. Get dependencies for package, get dependencies for their packages, etc.</p>
<blockquote>
<p>what mime type will we use for .tgz? application/tar+gzip ?</p>
</blockquote>
<p>We currently use <code>application/tar+gzip</code> when returning the package on <a href="https://packages.fhir.org/acme.base/0.0.2" target="_blank" title="https://packages.fhir.org/acme.base/0.0.2">https://packages.fhir.org/acme.base/0.0.2</a>. NPM seems to use <code>application/octet-stream</code> when GETing <a href="https://registry.npmjs.org/fhir/-/fhir-1.0.2.tgz" target="_blank" title="https://registry.npmjs.org/fhir/-/fhir-1.0.2.tgz">https://registry.npmjs.org/fhir/-/fhir-1.0.2.tgz</a>. Stick with <code>application/tar+gzip</code>?</p>
<p>I'll discuss the canonical and package patterns with <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span>.</p>



<a name="188674890"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188674890" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188674890">(Feb 20 2020 at 20:33)</a>:</h4>
<blockquote>
<p>Is this a search parameter for 'give me packages updated after X'? Or a field in the returned package/package version?</p>
</blockquote>
<p>Definitely "give me packages updated after X" - for now, I'm doing http://packages.fhir.org?lastUpdated=[xml-date]</p>



<a name="188674926"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188674926" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188674926">(Feb 20 2020 at 20:33)</a>:</h4>
<blockquote>
<p>what does prerelease actually do</p>
</blockquote>
<p>ok we need to add that to the documentation</p>



<a name="188675079"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188675079" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188675079">(Feb 20 2020 at 20:35)</a>:</h4>
<blockquote>
<p>No, without the version parameter it just returns one entry for each package entity</p>
</blockquote>
<p>but it includes Description and FHIRVersion, which are Package version specific. So what are these other than the latest version?</p>



<a name="188675137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188675137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188675137">(Feb 20 2020 at 20:36)</a>:</h4>
<blockquote>
<p>Which URL would you like? self url for the query you've done? Or url per package/package version?</p>
</blockquote>
<p>Url per package version</p>



<a name="188675261"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188675261" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188675261">(Feb 20 2020 at 20:38)</a>:</h4>
<blockquote>
<p>Well, that's what the default of prerelease=false is for.</p>
</blockquote>
<p>I don't see how prerelease=false makes any difference to that query</p>



<a name="188675275"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188675275" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188675275">(Feb 20 2020 at 20:38)</a>:</h4>
<blockquote>
<p>Correct, we'll harmonize that. NPM seems to use lowercase</p>
</blockquote>
<p>yes lowercase please</p>



<a name="188675307"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188675307" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188675307">(Feb 20 2020 at 20:39)</a>:</h4>
<blockquote>
<p>But we'd be OK with adding/deviating.</p>
</blockquote>
<p>great. I'm ok to add extra stuff as a deviation. And it turns out I can't function with Url in there</p>



<a name="188675321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188675321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188675321">(Feb 20 2020 at 20:39)</a>:</h4>
<blockquote>
<p>But we should then probably also document our deviation on <a href="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification" target="_blank" title="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification</a></p>
</blockquote>
<p>I think it should be a separate page. I'll add a page for the package server documentation</p>



<a name="188675391"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188675391" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188675391">(Feb 20 2020 at 20:40)</a>:</h4>
<blockquote>
<p>Our tools do not support this within one package version </p>
</blockquote>
<p>Well, you'll have to, because that's coming. but irrespective of your tooling limitation, the API can't be limited like that</p>



<a name="188675413"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188675413" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188675413">(Feb 20 2020 at 20:40)</a>:</h4>
<blockquote>
<p>We also think it's undesirable within one package version</p>
</blockquote>
<p>I don't like it either, but that doesn't make it something that goes away</p>



<a name="188675551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188675551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188675551">(Feb 20 2020 at 20:42)</a>:</h4>
<blockquote>
<p>The package spec also states: "So this should only be seen in old balloted packages".</p>
</blockquote>
<p>where's that? I can't find it. </p>
<p>But what will only be seen in is FHIR Versions that aren't in the enumeration</p>



<a name="188675569"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188675569" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188675569">(Feb 20 2020 at 20:42)</a>:</h4>
<blockquote>
<p>Stick with application/tar+gzip?</p>
</blockquote>
<p>yes</p>



<a name="188931428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188931428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188931428">(Feb 24 2020 at 14:39)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675079" title="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675079">said</a>:</p>
<blockquote>
<blockquote>
<p>No, without the version parameter it just returns one entry for each package entity</p>
</blockquote>
<p>but it includes Description and FHIRVersion, which are Package version specific. So what are these other than the latest version?</p>
</blockquote>
<p>Fair point, I'll check</p>



<a name="188931843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188931843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188931843">(Feb 24 2020 at 14:43)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675137" title="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675137">said</a>:</p>
<blockquote>
<blockquote>
<p>Which URL would you like? self url for the query you've done? Or url per package/package version?</p>
</blockquote>
<p>Url per package version</p>
</blockquote>
<p>OK, but low priority. As said this can be easily constructed: <code>&lt;package endpoint&gt;/&lt;package name&gt;/&lt;package version&gt;</code></p>



<a name="188932240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188932240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188932240">(Feb 24 2020 at 14:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675261" title="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675261">said</a>:</p>
<blockquote>
<blockquote>
<p>Well, that's what the default of prerelease=false is for.</p>
</blockquote>
<p>I don't see how prerelease=false makes any difference to that query</p>
</blockquote>
<p><code>prerelease=false</code> excludes all package versions where the user has indicated it's not ready for the public. If they don't indicate that correctly we could possibly educate better what the impact of that is, but I think we'll have to accept there will be different types of packages in there and work on ways of surfacing the best. We can't vet every package of an open community other than on technical correctness.</p>



<a name="188932913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188932913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188932913">(Feb 24 2020 at 14:54)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675307" title="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675307">said</a>:</p>
<blockquote>
<blockquote>
<p>But we'd be OK with adding/deviating.</p>
</blockquote>
<p>great. I'm ok to add extra stuff as a deviation. And it turns out I can't function with Url in there</p>
</blockquote>
<p>I assume you mean <strong>without</strong> instead of <strong>with</strong>. Can't you build it by the above convention?</p>



<a name="188934050"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188934050" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188934050">(Feb 24 2020 at 15:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675551" title="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/188675551">said</a>:</p>
<blockquote>
<blockquote>
<p>The package spec also states: "So this should only be seen in old balloted packages".</p>
</blockquote>
<p>where's that? I can't find it. </p>
<p>But what will only be seen in is FHIR Versions that aren't in the enumeration</p>
</blockquote>
<p>Well, seems I got that from the old <a href="https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest" target="_blank" title="https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest">https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest</a>.<br>
But that came from an edit of yours that never made it to Confluence since it was done after migration: <a href="https://wiki.hl7.org/w/index.php?title=FHIR_NPM_Package_Spec&amp;type=revision&amp;diff=166860&amp;oldid=166839" target="_blank" title="https://wiki.hl7.org/w/index.php?title=FHIR_NPM_Package_Spec&amp;type=revision&amp;diff=166860&amp;oldid=166839">https://wiki.hl7.org/w/index.php?title=FHIR_NPM_Package_Spec&amp;type=revision&amp;diff=166860&amp;oldid=166839</a>.<br>
<code>fhirVersions</code> parameter didn't make it to <a href="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagemanifest" target="_blank" title="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagemanifest">https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagemanifest</a> at all.</p>
<p>Can you elaborate on in what case this will appear? When a user started building on a pre-release version of the FHIR spec (eg <code>4.3</code>) that, before the user published the package (because packages can't be changed after), was officially approved as being the new stable release of the FHIR spec (eg <code>5.0</code>)?</p>



<a name="188958518"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188958518" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188958518">(Feb 24 2020 at 19:39)</a>:</h4>
<blockquote>
<p>this can be easily constructed</p>
</blockquote>
<p>yes. I'll do that</p>



<a name="188958671"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188958671" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188958671">(Feb 24 2020 at 19:41)</a>:</h4>
<blockquote>
<p>I assume you mean without instead of with</p>
</blockquote>
<p>yes, you're right</p>



<a name="188959119"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188959119" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188959119">(Feb 24 2020 at 19:46)</a>:</h4>
<p>but in fact, what I can't live without is the canonical URL (not the package download URL)</p>



<a name="188959153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188959153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188959153">(Feb 24 2020 at 19:46)</a>:</h4>
<blockquote>
<p>got that from the old <a href="https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest" target="_blank" title="https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest">https://wiki.hl7.org/FHIR_NPM_Package_Spec#Package_manifest</a>.</p>
</blockquote>
<p>oops. I hope I haven't done that much.</p>



<a name="188959643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188959643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188959643">(Feb 24 2020 at 19:52)</a>:</h4>
<p>but you're conflating 2 issues. fhirVersions does explicitly allow for multiple versions, but it is not the only way for multiple versions to appear</p>



<a name="188959883"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188959883" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188959883">(Feb 24 2020 at 19:55)</a>:</h4>
<p>fhirVersions will appear when the package is not based on any maintained version of the spec - so the pre-release versions e.g. 4.2.0 (current r5 candidate) if an IG is published based on that</p>



<a name="188959916"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188959916" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188959916">(Feb 24 2020 at 19:55)</a>:</h4>
<p>multiple versions is planned for the future, and will be possible whether fhirVersions is populated or not</p>



<a name="188959942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/188959942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#188959942">(Feb 24 2020 at 19:55)</a>:</h4>
<div class="codehilite"><pre><span></span><span class="s2">&quot;dependencies&quot;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&quot;hl7.fhir.r3.core&quot;</span><span class="p">:</span> <span class="s2">&quot;3.0.2&quot;</span><span class="p">,</span>
    <span class="nt">&quot;hl7.fhir.r4.core&quot;</span><span class="p">:</span> <span class="s2">&quot;4.0.1&quot;</span>
 <span class="p">}</span><span class="err">,</span>
</pre></div>



<a name="189015481"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189015481" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189015481">(Feb 25 2020 at 12:36)</a>:</h4>
<p>OK thanks, so <code>fhirVersions</code> in the package manifest is optional and only filled when a package depends on a non-final FHIR spec version which doesn't have a package. Normally the FHIR Version(s) are derived from the dependencies on core packages.<br>
Why is this dependency on multiple FHIR Core versions going to happen in the future? Shouldn't these project/IG/package maintainers just maintain both a non-deprecated r3 and r4 version of their project/IG/package side-by-side, rather than rolling them into one?</p>



<a name="189053160"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189053160" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189053160">(Feb 25 2020 at 19:41)</a>:</h4>
<p>we had a discussion in the lead up to publishing R4 when we changed <code>ImplementationGuide.fhirVersion</code> cardinality from 1..1 to 1..*. A typical IG contains a great deal of content that is the same for both versions (and the % will increase over time). Consensus in the room was that implementers might want to maintain both a non-deprecated r3 and r4 version of their project/IG/package side-by-side but there were real advantages to having a single IG</p>



<a name="189053175"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189053175" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189053175">(Feb 25 2020 at 19:41)</a>:</h4>
<p>but the tooling doesn't support it yet</p>



<a name="189060433"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189060433" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189060433">(Feb 25 2020 at 20:58)</a>:</h4>
<p>The problem is we often have URLs that point to stuff inside a file - and the syntax for that uses '#'</p>



<a name="189061216"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189061216" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189061216">(Feb 25 2020 at 21:07)</a>:</h4>
<p>(deleted)</p>



<a name="189099344"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189099344" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189099344">(Feb 26 2020 at 09:51)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/189060433" title="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/189060433">said</a>:</p>
<blockquote>
<p>The problem is we often have URLs that point to stuff inside a file - and the syntax for that uses '#'</p>
</blockquote>
<p>You probably meant that to go here: <a href="#narrow/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions" title="#narrow/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions">https://chat.fhir.org/#narrow/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions</a></p>



<a name="189100873"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189100873" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189100873">(Feb 26 2020 at 10:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191316">Grahame Grieve</span> <a href="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/189053160" title="#narrow/stream/179239-tooling/topic/NPM.20package.20system/near/189053160">said</a>:</p>
<blockquote>
<p>we had a discussion in the lead up to publishing R4 when we changed <code>ImplementationGuide.fhirVersion</code> cardinality from 1..1 to 1..*. A typical IG contains a great deal of content that is the same for both versions (and the % will increase over time). Consensus in the room was that implementers might want to maintain both a non-deprecated r3 and r4 version of their project/IG/package side-by-side but there were real advantages to having a single IG</p>
</blockquote>
<p>OK thanks for the background. I wonder what those advantages were and if they warrant the added complexity. It feels like a software project depending on multiple versions of a language/framework, which seems like a recipe for disaster and hard to support in tooling.<br>
But perhaps we can nonetheless index it in Elastic, when time comes, and show it in the API.</p>



<a name="189105979"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189105979" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189105979">(Feb 26 2020 at 11:28)</a>:</h4>
<p>well, it's a case of moving the deck chairs around</p>



<a name="189121441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189121441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189121441">(Feb 26 2020 at 14:58)</a>:</h4>
<p>I share <span class="user-mention" data-user-id="203235">@Ward Weistra</span>'s concerns about supporting multiple versions of the same conformance resources in a single IG.  I expect it will introduce a lot of complexity.  That said, just so I understand the scope of the proposed capability -- would this still only allow a <em>single</em> version of a resource <em>per FHIR version</em>, or would it also allow multiple versions within the same FHIR version (e.g., support MyR4PatientProfile version 1.0.0 and MyR4PatientProfile version 2.0.0 in the same package)?</p>



<a name="189135762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189135762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189135762">(Feb 26 2020 at 17:21)</a>:</h4>
<p>it depends. Some examples might be applicable to multiple versions. Terminology resources probably will be. But profiles won't be. The point is that there <em>is</em> that complexity already</p>



<a name="189892313"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189892313" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189892313">(Mar 06 2020 at 13:31)</a>:</h4>
<p>Grahame, the package server reports these issues with the feed:<br>
feed item hl7.fhir.us.Davinci-drug-formulary-0.2.0 is actually version 0.1.0, which was already on the server.</p>



<a name="189892355"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189892355" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189892355">(Mar 06 2020 at 13:31)</a>:</h4>
<p>feed item hl7.fhir.us.qicore-3.0.1 is actually version 2.0.0 (according to package.json) and is already on the server.</p>



<a name="189895203"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189895203" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189895203">(Mar 06 2020 at 14:06)</a>:</h4>
<p>feed item hl7.fhir.<strong>uv</strong>.bulkdata-0.1.0, contains a packages with the name 'hl7.fhir.<strong>us</strong>.bulkdata'</p>



<a name="189933891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/189933891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#189933891">(Mar 06 2020 at 21:03)</a>:</h4>
<blockquote>
<p>feed item hl7.fhir.us.Davinci-drug-formulary-0.2.0 is actually version 0.1.0</p>
</blockquote>
<p>crap. that's a manual error by Lynn</p>



<a name="190354806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/190354806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#190354806">(Mar 12 2020 at 03:54)</a>:</h4>
<p>that should be sorted</p>



<a name="198642209"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/198642209" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#198642209">(May 25 2020 at 07:42)</a>:</h4>
<p>Grahame, some feedback from the package importer:</p>
<ul>
<li>listed package hl7.fhir.us.dme-orders-0.1.1, actually contains version 0.1.0</li>
<li>listed package hl7.fhir.us.qicore-3.0.1 is actually version 2.0.0</li>
<li>listed package hl7.fhir.uv.bulkdata-0.1.0 is actually hl7.fhir.us.bulkdata-0.1.0</li>
</ul>



<a name="198642243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/198642243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#198642243">(May 25 2020 at 07:43)</a>:</h4>
<p>I</p>



<a name="198642246"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/198642246" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#198642246">(May 25 2020 at 07:43)</a>:</h4>
<p>I'll look at it</p>



<a name="198642558"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/198642558" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#198642558">(May 25 2020 at 07:47)</a>:</h4>
<p>And this package: hl7.fhir.us.dme-orders-0.1.0 refers to hl7.fhir.us.core-current. That is not a thing afaik.</p>



<a name="200042897"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/200042897" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#200042897">(Jun 07 2020 at 21:20)</a>:</h4>
<p>ok fixed</p>



<a name="200195780"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/200195780" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#200195780">(Jun 09 2020 at 08:41)</a>:</h4>
<p>this package is listed as hl7.fhir.us.dme-orders 0.1.1, but contains 0.1.0.</p>



<a name="200208877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/200208877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#200208877">(Jun 09 2020 at 11:10)</a>:</h4>
<p>I thought I fixed this yesterday</p>



<a name="209617914"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/209617914" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#209617914">(Sep 10 2020 at 10:03)</a>:</h4>
<p>There is still one package in the HL7 feed, that is listed as <strong>hl7.fhir.uv.bulkdata</strong>-0.1.0, but the package manifest claims <strong>hl7.fhir.us.bulkdata</strong><br>
The problem being: uv -- us</p>



<a name="209623720"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/209623720" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#209623720">(Sep 10 2020 at 11:12)</a>:</h4>
<p>where is it listed as uv.bulkdata?</p>



<a name="209625395"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/209625395" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#209625395">(Sep 10 2020 at 11:33)</a>:</h4>
<p><a href="http://hl7.org/fhir/package-feed.xml">http://hl7.org/fhir/package-feed.xml</a></p>



<a name="209625464"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/209625464" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#209625464">(Sep 10 2020 at 11:34)</a>:</h4>
<p>&lt;item&gt;<br>
&lt;title&gt;hl7.fhir.uv.bulkdata#0.1.0&lt;/title&gt;</p>
<p>&lt;link&gt;http://hl7.org/fhir/us/bulkdata/2019May/package.tgz&lt;/link&gt;</p>



<a name="209674048"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/209674048" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#209674048">(Sep 10 2020 at 16:38)</a>:</h4>
<p>oh. hmm.</p>



<a name="209961835"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/209961835" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#209961835">(Sep 14 2020 at 03:13)</a>:</h4>
<p>ok fixed.</p>



<a name="210008179"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/210008179" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#210008179">(Sep 14 2020 at 13:56)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span> Starter for the call on how to put jurisdiction in <a href="https://confluence.hl7.org/display/FHIR/NPM+Package+Specification#NPMPackageSpecification-Packagemanifest">package manifest</a>. My proposal:</p>
<ul>
<li>Add an optional (cause currently not filled) <code>jurisdiction</code> value to package manifest with value as 2-letter country code from <a href="https://www.iso.org/iso-3166-country-codes.html">ISO 3166</a> or <code>UV</code> for universal.</li>
</ul>



<a name="210009296"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/210009296" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#210009296">(Sep 14 2020 at 14:04)</a>:</h4>
<p>Ah, Grahame, you already created <a href="http://jira.hl7.org/browse/FHIR-28342">FHIR#28342</a></p>



<a name="210099957"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/210099957" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#210099957">(Sep 15 2020 at 07:52)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Now that ticket has been Resolved, can you help on good example values for jurisdiction?</p>
<ul>
<li><code>urn:iso:std:iso:3166#US</code> (from us.core)</li>
<li>What would the core FHIR packages have? <code>?#UV</code>?</li>
<li>Any other exotic examples?</li>
</ul>
<p>This will allow us to put some test data in an index to develop the UI, since getting the real data exposed will not be on time for that.</p>



<a name="210149393"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/210149393" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#210149393">(Sep 15 2020 at 16:00)</a>:</h4>
<p>We'd also need a full list of all possible values with mapping to human readable names. Any thoughts how to get that?</p>



<a name="210150994"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/210150994" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Vassil Peytchev <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#210150994">(Sep 15 2020 at 16:11)</a>:</h4>
<p><a href="https://en.wikipedia.org/wiki/ISO_3166-2">https://en.wikipedia.org/wiki/ISO_3166-2</a> ?</p>



<a name="210221120"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/210221120" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#210221120">(Sep 16 2020 at 04:28)</a>:</h4>
<p>This should do for a list:</p>



<a name="210221221"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/210221221" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#210221221">(Sep 16 2020 at 04:31)</a>:</h4>
<p><a href="/user_uploads/10155/2WjLpfMqHvQsq3gyV6WrBalW/ValueSet-jurisdiction-common.json">ValueSet-jurisdiction-common.json</a></p>



<a name="210221227"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/210221227" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#210221227">(Sep 16 2020 at 04:31)</a>:</h4>
<p>here's an example package.json:</p>



<a name="210221268"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/210221268" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#210221268">(Sep 16 2020 at 04:32)</a>:</h4>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
  <span class="nt">&quot;tools-version&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fhir.ig&quot;</span><span class="p">,</span>
  <span class="nt">&quot;license&quot;</span><span class="p">:</span> <span class="s2">&quot;CC0-1.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;FHIR Project&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;hl7.fhir.uv.smart-app-launch&quot;</span><span class="p">,</span>
  <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/smart-app-launch/1.0.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;canonical&quot;</span><span class="p">:</span> <span class="s2">&quot;http://hl7.org/fhir/smart-app-launch&quot;</span><span class="p">,</span>
  <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;hl7.fhir.r4.core&quot;</span><span class="p">:</span> <span class="s2">&quot;4.0.1&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;fhirVersions&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;4.0.0&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;jurisdiction&quot;</span><span class="p">:</span> <span class="s2">&quot;http://unstats.un.org/unsd/methods/m49/m49.htm#001&quot;</span>
<span class="p">}</span>
</code></pre></div>



<a name="210313974"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/210313974" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#210313974">(Sep 16 2020 at 20:09)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>, that will work!</p>



<a name="243150869"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/243150869" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#243150869">(Jun 18 2021 at 12:06)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> A questions on the precise codes for jurisdiction:</p>
<ul>
<li>Above you suggest to use <a href="http://hl7.org/fhir/ValueSet/jurisdiction-common">http://hl7.org/fhir/ValueSet/jurisdiction-common</a>, which I documented here: <a href="https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-Packagemanifest">https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-Packagemanifest</a> (to apply <a href="http://jira.hl7.org/browse/FHIR-28342">FHIR#28342</a>)</li>
<li>However, <a href="https://www.hl7.org/fhir/implementationguide-definitions.html#ImplementationGuide.jurisdiction">ImplementationGuide.jurisdiction</a> uses <a href="http://hl7.org/fhir/ValueSet/jurisdiction">http://hl7.org/fhir/ValueSet/jurisdiction</a> and is even Extensible. Under <a href="https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-PackageManifestpropertiesforIGs">https://confluence.hl7.org/pages/viewpage.action?pageId=35718629#NPMPackageSpecification-PackageManifestpropertiesforIGs</a> I, for now, added that these values need to align but clearly that won't be possible in all cases. Should we add that if the code is not in <a href="http://hl7.org/fhir/ValueSet/jurisdiction-common">http://hl7.org/fhir/ValueSet/jurisdiction-common</a> they should either change it, map it or leave the package jurisdiction empty?</li>
</ul>



<a name="243158367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/243158367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#243158367">(Jun 18 2021 at 13:12)</a>:</h4>
<p>Also, can you confirm you have added <code>jurisdiction</code> to the package.json for every previously published package where you want it, for the one-time exception to reindex those?<br>
(and of course the process in place to add them to new ones)</p>



<a name="243267752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/243267752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#243267752">(Jun 19 2021 at 20:34)</a>:</h4>
<p>since <a href="http://hl7.org/fhir/ValueSet/jurisdiction-common">http://hl7.org/fhir/ValueSet/jurisdiction-common</a> doesn't exist, I can only imagine I meant <a href="http://hl7.org/fhir/ValueSet/jurisdiction">http://hl7.org/fhir/ValueSet/jurisdiction</a></p>



<a name="243267761"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/243267761" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#243267761">(Jun 19 2021 at 20:34)</a>:</h4>
<p>ignore any value not in <a href="http://hl7.org/fhir/ValueSet/jurisdiction">http://hl7.org/fhir/ValueSet/jurisdiction</a></p>



<a name="243267874"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/243267874" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#243267874">(Jun 19 2021 at 20:37)</a>:</h4>
<p>yes, Hl7 guides do: </p>
<div class="codehilite"><pre><span></span><code>&quot;jurisdiction&quot;: &quot;urn:iso:std:iso:3166#US&quot;
</code></pre></div>
<p>Other guides may, if the jurisdiction is declared in the implementation guide</p>



<a name="243409084"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/243409084" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#243409084">(Jun 21 2021 at 16:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> It does exist: <a href="https://registry.fhir.org/results?query=%22http%3A%2F%2Fhl7.org%2Ffhir%2FValueSet%2Fjurisdiction-common%22&amp;latestFilter=true">https://registry.fhir.org/results?query=%22http%3A%2F%2Fhl7.org%2Ffhir%2FValueSet%2Fjurisdiction-common%22&amp;latestFilter=true</a></p>



<a name="243429445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/243429445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#243429445">(Jun 21 2021 at 19:15)</a>:</h4>
<p>ok I didn't know about that. Sure, you can use that one - ignore any code not in the common jurisdictions</p>



<a name="243540471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/243540471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#243540471">(Jun 22 2021 at 16:15)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> Perfect, thanks! (And: nice tool, huh, that <a href="http://registry.fhir.org">registry.fhir.org</a> <span aria-label="wink" class="emoji emoji-1f609" role="img" title="wink">:wink:</span> )</p>



<a name="243540852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/NPM%20package%20system/near/243540852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/NPM.20package.20system.html#243540852">(Jun 22 2021 at 16:18)</a>:</h4>
<p>Added: <a href="https://confluence.hl7.org/pages/diffpagesbyversion.action?pageId=35718629&amp;selectedPageVersions=10&amp;selectedPageVersions=11">https://confluence.hl7.org/pages/diffpagesbyversion.action?pageId=35718629&amp;selectedPageVersions=10&amp;selectedPageVersions=11</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
