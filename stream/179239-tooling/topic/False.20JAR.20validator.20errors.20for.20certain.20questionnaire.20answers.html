---
layout: page
title: "FHIR Chat  · False JAR validator errors for certain questionnaire answers · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html">False JAR validator errors for certain questionnaire answers</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="226372015"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226372015" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226372015">(Feb 15 2021 at 11:26)</a>:</h4>
<p>I   have been seeing incorrect errors when validating QuestionnaireResponses against Questionnaires, with the validator wrongly claiming that an answer code is not in the appropriate value set. The error message is this:</p>
<div class="codehilite"><pre><span></span><code>  Error @ QuestionnaireResponse.item[0].answer[0] (line 10, col68) : The value provided (http://loinc.org::LA32-8) is not in the options value set in the questionnaire
</code></pre></div>
<p>I know this has been discussed in other threads, but so far I have not found smt. that solves my variant of the issue (please correct me on that if I'm wrong <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> ). Here is a minimal set of resources that reproduces the problem</p>
<ol>
<li>A Questionnaire with two coded questions, both using the same answer value set  - <a href="/user_uploads/10155/16kcGI4O2P-9bfTbz7w07LXO/qr.questionnaireresponse.json">qr.questionnaireresponse.json</a></li>
<li>The value set (containing two LOINC codes)  -  <a href="/user_uploads/10155/KADmBOYBTuEYjQt4z0SCoSoH/yesno.ValueSet.json">yesno.ValueSet.json</a> </li>
<li>And QuestionnaireResponse causing the above error although both codes are from the value set - <a href="/user_uploads/10155/B_8xPzr9E3_2cfqDnGKEA5XQ/q.questionnaire.json">q.questionnaire.json</a></li>
</ol>
<p>To get the error, put 1 &amp; 2 in the same folder, load them in the validator with the <code>-ig</code> parameter pointing to the folder, and validate the Questionnaire response.</p>
<p>Curiously, the error only appears if the two questions are answered with <em>different codes</em> - if I modify the example to use the <em>same</em> code in both answers, it validates OK. However, I know that others have seen the same error for questionnaires containing only a single coded question, at least when using codes from a custom CodeSystem (<span class="user-mention" data-user-id="327858">@Christian Nau</span> FYI).</p>



<a name="226381367"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226381367" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226381367">(Feb 15 2021 at 13:06)</a>:</h4>
<p>I've tested your example files with validation agianst HAPI FHIR &amp; SmileCDR servers:<br>
(using <code>{base-url/QuestionnaireResponse/$validate</code>)</p>
<ul>
<li>HAPI FHIR: got the <code>The value provided (http://loinc.org::LA33-6) is not in the options value set in the questionnaire</code> error no matter if both ansers do have the same code or not.</li>
<li>Smile CDR: validation succeeded.</li>
</ul>
<p>For my use-case, as <span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span> wrote, I have a custom-code-system, custom-value-set with a very simple Questionnaire, with only one coded answer that has a value-set-binding to the custom-code-system. The answer inside QuestionnaireResponse refers to the custom-code- system. There I get the same error mentioned above (for HAPI FHIR and for Smile CDR). </p>
<p>The strange thing is: from time to time the validation succeeds without me changing anything in Questionnaire/CodeSystem/ValueSet.</p>
<p>I also didn't manage to reproduce this in a minimal working example.<br>
<em>I have the feeling that this may be related to updated Questionnaires.</em></p>



<a name="226777312"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226777312" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226777312">(Feb 18 2021 at 08:17)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span> Do you have an idea why this might be happening - or should we raise this issue in another forum/channel?</p>



<a name="226808691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226808691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mark Iantorno <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226808691">(Feb 18 2021 at 13:25)</a>:</h4>
<p>I do not know offhand why this is occuring. I will _try_ to look at this at some point today. However, I'm pretty much booked solid already, and I am off tomorrow...so it may have to wait until next week. In the meantime, could you please open an issue on Github with all the details and assign to me?</p>



<a name="226809070"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226809070" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226809070">(Feb 18 2021 at 13:28)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span>  Sure , thanks! This is not a super-urgent issue for me, BTW.</p>



<a name="226809249"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226809249" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226809249">(Feb 18 2021 at 13:30)</a>:</h4>
<p>Which github repo?</p>



<a name="226809871"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226809871" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christian Nau <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226809871">(Feb 18 2021 at 13:35)</a>:</h4>
<p>I dug a little deeper into this issue. Found out together with <span class="user-mention" data-user-id="191451">@Patrick Werner</span> that this is happening once I updated my code-system and value-set to overwrite existing code values with new ones (fixed casing of experimental systems..) Maybe <span class="user-mention" data-user-id="191451">@Patrick Werner</span> can elaborate on this in more depth.</p>



<a name="226811693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226811693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226811693">(Feb 18 2021 at 13:48)</a>:</h4>
<p>I think the reason behind is that during a CS Update the VS expansion didn't get regenerated.</p>



<a name="226811746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226811746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226811746">(Feb 18 2021 at 13:49)</a>:</h4>
<p>So the expansion contains old and maybe deprecated concept codes.</p>



<a name="226816764"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226816764" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226816764">(Feb 18 2021 at 14:24)</a>:</h4>
<p>but <span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span> issue is independent of the hapi server.</p>



<a name="226816841"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226816841" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226816841">(Feb 18 2021 at 14:25)</a>:</h4>
<p><span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span> issues for the Validator should go into here: <a href="https://github.com/hapifhir/org.hl7.fhir.core/issues">https://github.com/hapifhir/org.hl7.fhir.core/issues</a></p>



<a name="226819206"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226819206" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226819206">(Feb 18 2021 at 14:40)</a>:</h4>
<p><span class="user-mention" data-user-id="248736">@Mark Iantorno</span>  I put in a GitHub issue (<a href="https://github.com/hapifhir/org.hl7.fhir.core/issues/441">https://github.com/hapifhir/org.hl7.fhir.core/issues/441</a>). Unfortunately, it seems I do not have the right to assign it to you.</p>



<a name="226821717"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/226821717" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#226821717">(Feb 18 2021 at 14:55)</a>:</h4>
<p><span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span> i did the assign, thanks for the issue</p>



<a name="227535449"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/227535449" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#227535449">(Feb 24 2021 at 01:45)</a>:</h4>
<p>ok fixed next release</p>



<a name="227570502"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/227570502" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#227570502">(Feb 24 2021 at 09:27)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191316">@Grahame Grieve</span>! - do you want the example as a PR for the test case GitHub repo?</p>



<a name="227664692"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/False%20JAR%20validator%20errors%20for%20certain%20questionnaire%20answers/near/227664692" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/False.20JAR.20validator.20errors.20for.20certain.20questionnaire.20answers.html#227664692">(Feb 24 2021 at 20:17)</a>:</h4>
<p>already added</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
