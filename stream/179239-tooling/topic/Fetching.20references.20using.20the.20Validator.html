---
layout: page
title: "FHIR Chat  · Fetching references using the Validator · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html">Fetching references using the Validator</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="255584340"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/255584340" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#255584340">(Sep 30 2021 at 14:32)</a>:</h4>
<p>Hi,</p>
<p>I'm trying to validate an instance of a profile that uses slicing by target profile, using the HL7 Validator. However, the Validator cannot resolve the referenced instance:</p>
<div class="codehilite"><pre><span></span><code>Error @ Encounter.participant[0] (line 16, col17) : Slicing cannot be evaluated: Problem evaluating slicing expression for element in profile http://nictiz.nl/fhir/StructureDefinition/nl-core-Encounter path Encounter.participant[0] (fhirPath = true and individual.resolve().conformsTo(&#39;http://nictiz.nl/fhir/StructureDefinition/nl-core-HealthProfessional-PractitionerRole&#39;)): The URL &#39;PractitionerRole/nl-core-HealthProfessional-PractitionerRole-01&#39; is not known to the FHIR validator, and has not been provided as part of the setup / parameters
</code></pre></div>
<p>So I'd like to provide the target instance as part of the setup / parameters, but unfortunately this section on the Confluence page is marked "TODO". I tried supplying the target as an additional instance to validate and tried to include it as an <code>-ig</code>, but the error persists. Could someone point me in the right direction?</p>



<a name="255612623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/255612623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#255612623">(Sep 30 2021 at 17:20)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span></p>



<a name="255635999"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/255635999" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#255635999">(Sep 30 2021 at 19:44)</a>:</h4>
<p>how do I reproduce this?</p>



<a name="255697742"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/255697742" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#255697742">(Oct 01 2021 at 06:46)</a>:</h4>
<p>The command I use is <code>java -jar /path/to/validator_cli.jar -version 4.0 -ig resources/ -recurse examples/nl-core-Encounter-01.xml</code></p>
<p>The "resources" dir (<a href="/user_uploads/10155/99gGXV00G_aYxkIftCmxFySn/resources.zip">resources.zip</a>)  contains a set of conformance resources, including the profile containing the slicing logic. The "examples" dir (<a href="/user_uploads/10155/KKGT6TYKVF8uIfk1FAXlXJiW/examples.zip">examples.zip</a>) contains all examples, including the filed "nl-core-Encounter-01.xml" and "nl-core-HealthProfessional-PractitionerRole-01.xml", which both have the <code>.id</code>'s identical to the file names.</p>
<p>Variants I tried:</p>
<ul>
<li><code>java -jar /path/to/validator_cli.jar -version 4.0 -ig resources/ -recurse examples/nl-core-Encounter-01.xml examples/nl-core-HealthProfessional-PractitionerRole-01.xml</code></li>
<li><code>java -jar /path/to/validator_cli.jar -version 4.0 -ig resources/ -ig examples/ -recurse examples/nl-core-Encounter-01.xml</code></li>
<li>From the examples dir <code>java -jar /path/to/validator_cli.jar -version 4.0 -ig /full/path/to/resources/ -recurse nl-core-Encounter-01.xml</code></li>
</ul>



<a name="255697889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/255697889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#255697889">(Oct 01 2021 at 06:48)</a>:</h4>
<p>I don't know if references to files on disk even work for the Validator, but they work for the IG Publisher so I kinda assumed that it would work similarly.</p>



<a name="256008547"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/256008547" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#256008547">(Oct 04 2021 at 05:31)</a>:</h4>
<blockquote>
<p>if references to files on disk even work for the Validator</p>
</blockquote>
<p>No, they don't. Which is why I wondered how you were doing it</p>



<a name="256008598"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/256008598" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#256008598">(Oct 04 2021 at 05:32)</a>:</h4>
<p>it's a todo, as you saw</p>



<a name="256039579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/256039579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#256039579">(Oct 04 2021 at 10:58)</a>:</h4>
<p>Ah ... I just thought the documentation was "TODO" ;)</p>



<a name="256040178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/256040178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#256040178">(Oct 04 2021 at 11:03)</a>:</h4>
<p>sadly no</p>



<a name="265009153"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/265009153" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Simons <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#265009153">(Dec 15 2021 at 13:26)</a>:</h4>
<p>Also running into </p>
<div class="codehilite"><pre><span></span><code>-  error at Observation.hasMember[0] (38, 16):
     Slicing cannot be evaluated: Problem evaluating slicing expression for element in profile &lt;cut&gt;/TNMStaging path Observation.hasMember[0] (fhirPath = true and (resolve() is Observation)): The URL &#39;Observation/ils-test-TumorStage&#39; is not known to the FHIR validator, and has not been provided as part of the setup / parameters
</code></pre></div>
<p>where we reference Resources on local disk/folder, adjacent to the being-validated Resource</p>
<div class="codehilite"><pre><span></span><code>    &lt;hasMember&gt;
        &lt;reference value=&quot;Observation/ils-test-TumorStage&quot;/&gt;
    &lt;/hasMember&gt;
</code></pre></div>



<a name="265063828"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Fetching%20references%20using%20the%20Validator/near/265063828" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pieter Edelman <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Fetching.20references.20using.20the.20Validator.html#265063828">(Dec 15 2021 at 19:41)</a>:</h4>
<p>There's a ticket for this feature request: <a href="https://github.com/hapifhir/org.hl7.fhir.core/issues/644">https://github.com/hapifhir/org.hl7.fhir.core/issues/644</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
