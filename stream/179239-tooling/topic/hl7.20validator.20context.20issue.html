---
layout: page
title: "FHIR Chat  · hl7 validator context issue · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/hl7.20validator.20context.20issue.html">hl7 validator context issue</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="269215958"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/hl7%20validator%20context%20issue/near/269215958" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maximilian Reith <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/hl7.20validator.20context.20issue.html#269215958">(Jan 25 2022 at 06:53)</a>:</h4>
<p>Hey,<br>
my extension has this contexts:<br>
  &lt;context&gt;<br>
    &lt;type value="element" /&gt;<br>
    &lt;expression value="Condition.onset.ofType(Age)" /&gt;<br>
  &lt;/context&gt;<br>
  &lt;context&gt;<br>
    &lt;type value="element" /&gt;<br>
    &lt;expression value="Condition.abatement.ofType(Age)" /&gt;<br>
  &lt;/context&gt;</p>
<p>using the resource in a bundle, the validator (Hl7 CLI Version 5.6.27) generated this message:</p>
<p>Error @ Bundle.entry[1].resource.ofType(Condition).onset.ofType(Age) (line 81, col15): The modifier extension <a href="https://fhir.kbv.de/StructureDefinition/KBV_EX_Base_Stage_Life">https://fhir.kbv.de/StructureDefinition/KBV_EX_Base_Stage_Life</a> is not allowed to be used at this point (allowed = e:DateTime, e:Condition.onset.ofType(Age), e:Condition.abatement.ofType(Age), e:AllergyIntolerance.onset.ofType(Age), e:AllergyIntolerance; this element is [[Bundle.entry.resource.ofType(Condition).onset.ofType(Age), BackboneElement.resource.onset, BackboneElement.resource.onsetAge, Condition.onset, Condition.onsetAge, Age])<br>
  Error @ Bundle.entry[1].resource.ofType(Condition).abatement.ofType(Age) (line 99, col19): The modifier extension <a href="https://fhir.kbv.de/StructureDefinition/KBV_EX_Base_Stage_Life">https://fhir.kbv.de/StructureDefinition/KBV_EX_Base_Stage_Life</a> is not allowed to be used at this point (allowed = e:DateTime, e:Condition.onset.ofType(Age), e:Condition.abatement.ofType(Age), e:AllergyIntolerance.onset.ofType(Age), e:AllergyIntolerance; this element is [[Bundle.entry.resource.ofType(Condition).abatement.ofType(Age), BackboneElement.resource.abatement, BackboneElement.resource.abatementAge, Condition.abatement, Condition.abatementAge, Age])</p>
<p>Is it a validator issue or do i have to add this context (Bundle.entry.resource.ofType(Condition).abatement.ofType(Age)) or what is the problem?</p>



<a name="269524552"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/hl7%20validator%20context%20issue/near/269524552" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/hl7.20validator.20context.20issue.html#269524552">(Jan 27 2022 at 04:28)</a>:</h4>
<p>how do I reproduce?</p>



<a name="269726255"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/hl7%20validator%20context%20issue/near/269726255" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maximilian Reith <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/hl7.20validator.20context.20issue.html#269726255">(Jan 28 2022 at 12:13)</a>:</h4>
<p><a href="/user_uploads/10155/AxvVmqJiHTNmD3gJ_KRfB7nM/Example_01_Bundle.xml">Example_01_Bundle.xml</a> <a href="/user_uploads/10155/giDPZdXU97YsolmFtN70awYa/Profile_Base_Test_COMP.xml">Profile_Base_Test_COMP.xml</a> <a href="/user_uploads/10155/uTkp527jFwjv5rBur6iWX61F/Profile_Base_Bundle.xml">Profile_Base_Bundle.xml</a> <a href="/user_uploads/10155/rRPzFrZdkOpGcQun4FUs6KTR/Profile_Base_Diagnosis.StructureDefinition.xml">Profile_Base_Diagnosis.StructureDefinition.xml</a> </p>
<p>1 example/ 3 profiles in directory profile</p>
<p>java -jar validator_cli.jar -ig kbv.basis#1.2.0 -ig de.basisprofil.r4#0.9.13 -ig profile -version 4.0.1 Example_01_Bundle.xml</p>



<a name="269796614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/hl7%20validator%20context%20issue/near/269796614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/hl7.20validator.20context.20issue.html#269796614">(Jan 28 2022 at 20:18)</a>:</h4>
<p>fixed next release</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
