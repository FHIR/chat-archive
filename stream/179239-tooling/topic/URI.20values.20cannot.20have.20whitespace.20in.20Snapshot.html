---
layout: page
title: "FHIR Chat  · URI values cannot have whitespace in Snapshot · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html">URI values cannot have whitespace in Snapshot</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="173631830"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/URI%20values%20cannot%20have%20whitespace%20in%20Snapshot/near/173631830" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maximilian Reith <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html#173631830">(Aug 20 2019 at 06:11)</a>:</h4>
<p>Hey,</p>
<p>i got a lot of validation errors in the snapshot part of some resources. I developed these resources with forge...</p>
<p>HAPI 3.8 Validation Error: <strong>URI values cannot have whitespace</strong></p>
<div class="codehilite"><pre><span></span>&lt;element id=&quot;Extension.value[x]:valueIdentifier.system&quot;&gt;
  &lt;path value=&quot;Extension.valueIdentifier.system&quot; /&gt;
  &lt;short value=&quot;NamingSystem der ASV-Teamnummer&quot; /&gt;
  &lt;definition value=&quot;Establishes the namespace for the value - that is, a URL that describes a set values that are unique.&quot; /&gt;
  &lt;comment value=&quot;see http://en.wikipedia.org/wiki/Uniform_resource_identifier&quot; /&gt;
  &lt;requirements value=&quot;There are many sets  of identifiers.  To perform matching of two identifiers, we need to know what set we&#39;re dealing with. The system identifies a particular set of unique identifiers.&quot; /&gt;
  &lt;min value=&quot;1&quot; /&gt;
  &lt;max value=&quot;1&quot; /&gt;
  &lt;base&gt;
    &lt;path value=&quot;Identifier.system&quot; /&gt;
    &lt;min value=&quot;0&quot; /&gt;
    &lt;max value=&quot;1&quot; /&gt;
  &lt;/base&gt;
  &lt;type&gt;
    &lt;code value=&quot;uri&quot; /&gt;
  &lt;/type&gt;
  &lt;fixedUri value=&quot;http://fhir.de/NamingSystem/asv/teamnummer&quot; /&gt;
  &lt;example&gt;
    &lt;label value=&quot;General&quot; /&gt;
    &lt;valueUri value=&quot;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri&quot; /&gt;
  &lt;/example&gt;
</pre></div>


<p>i think <strong>valueUri</strong> might be invalid...Could anybody confirm this?</p>
<p>greetings Max</p>



<a name="173632964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/URI%20values%20cannot%20have%20whitespace%20in%20Snapshot/near/173632964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html#173632964">(Aug 20 2019 at 06:41)</a>:</h4>
<p>yes that's the subject of a technical correction... one that I thought we'd done... where are you encountering this?</p>



<a name="173633811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/URI%20values%20cannot%20have%20whitespace%20in%20Snapshot/near/173633811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Maximilian Reith <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html#173633811">(Aug 20 2019 at 07:01)</a>:</h4>
<p>FHIR DSTU 3; Forge 22.0 in several Extensions and Profiles(Practitioner, Organziation, Bundle...) or do you need to know the exact position e.g. which element?</p>



<a name="173639562"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/URI%20values%20cannot%20have%20whitespace%20in%20Snapshot/near/173639562" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html#173639562">(Aug 20 2019 at 08:51)</a>:</h4>
<p>Indeed! Apparently, the STU3 <code>Identifier</code> datatype definition is responsible for introducing the invalid example Uri: <a href="http://hl7.org/fhir/stu3/identifier.profile.xml.html" target="_blank" title="http://hl7.org/fhir/stu3/identifier.profile.xml.html">http://hl7.org/fhir/stu3/identifier.profile.xml.html</a><br>
The invalid uri can "leak" into the snapshot of datatypes &amp; resources that constrain <code>Identifier</code>, causing validation errors. Therefore you cannot fix this in your own derived profiles; this requires a technical correction of STU3.</p>



<a name="173696885"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/URI%20values%20cannot%20have%20whitespace%20in%20Snapshot/near/173696885" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html#173696885">(Aug 20 2019 at 21:15)</a>:</h4>
<p>ok this is on my list for the R3 technical correction. I'm not sure when I'll be doing that - soon.</p>



<a name="173791850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/URI%20values%20cannot%20have%20whitespace%20in%20Snapshot/near/173791850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html#173791850">(Aug 21 2019 at 13:08)</a>:</h4>
<p>I've found that DSTU2/STU3 also has some <code>mapping</code> URIs with spaces in them as well.  I'll see if I can get you a list of the transgressors.</p>



<a name="173799113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/URI%20values%20cannot%20have%20whitespace%20in%20Snapshot/near/173799113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html#173799113">(Aug 21 2019 at 14:30)</a>:</h4>
<p>OK.  Wrote a little script.  Here is what I found if it is helpful.  I essentially looked at all types, resources, profiles, and extensions in the downloaded definitions of DSTU2, STU3, and R4 specs.</p>
<div class="codehilite"><pre><span></span>========================================
DSTU2
========================================

DSTU2 Type: Identifier
  snapshot[5].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-do
  snapshot[21].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-dr
  snapshot[14].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-obscode
  snapshot[31].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-obsquantity
  snapshot[31].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-obsother
  snapshot[31].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-obsrange
  snapshot[31].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-obsratio
  snapshot[31].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-obspanel
  snapshot[31].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-orderfacility
  snapshot[15].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-performinglab
  snapshot[15].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-cctarget
  snapshot[15].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-patient
  snapshot[46].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-phpatient
  snapshot[46].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-pract
  snapshot[14].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-phpract
  snapshot[14].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: uslab-spec
  snapshot[14].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
  snapshot[38].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: daf-diagnosticorder
  snapshot[16].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: daf-diagnosticreport
  snapshot[14].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: daf-resultobs
  snapshot[14].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: daf-patient
  snapshot[19].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
DSTU2 Profile: daf-pract
  snapshot[18].exampleUri = &#39;NPI could be used as the identifier system in the US.
DSTU2 Profile: daf-spec
  snapshot[14].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri
  snapshot[38].exampleUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri

========================================
STU3
========================================

STU3 Type: Identifier
  snapshot[5].example[0].valueUri = &#39;http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri&#39;

========================================
R4
========================================

None
</pre></div>



<a name="173799202"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/URI%20values%20cannot%20have%20whitespace%20in%20Snapshot/near/173799202" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html#173799202">(Aug 21 2019 at 14:31)</a>:</h4>
<p>Note that those argo/us core profiles are the ones that were actually packaged <em>in</em> the FHIR spec; not the ones in the separately packaged IGs.</p>



<a name="173799232"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/URI%20values%20cannot%20have%20whitespace%20in%20Snapshot/near/173799232" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html#173799232">(Aug 21 2019 at 14:31)</a>:</h4>
<p>on my list. we won't be fixing r2, I think</p>



<a name="173802473"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/URI%20values%20cannot%20have%20whitespace%20in%20Snapshot/near/173802473" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/URI.20values.20cannot.20have.20whitespace.20in.20Snapshot.html#173802473">(Aug 21 2019 at 15:04)</a>:</h4>
<p>Whoops, my bad.  It turns out I <em>was</em> loading in the official US Core definitions too.  I unloaded those and ran it again -- then updated my list in the post above.  Now STU3 is only reporting that one thing you already knew about Identifier.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
