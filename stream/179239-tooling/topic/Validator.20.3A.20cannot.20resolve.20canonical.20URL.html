---
layout: page
title: "FHIR Chat  · Validator : cannot resolve canonical URL · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Validator.20.3A.20cannot.20resolve.20canonical.20URL.html">Validator : cannot resolve canonical URL</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="241683734"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Validator%20%3A%20cannot%20resolve%20canonical%20URL/near/241683734" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frédéric Laurent <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Validator.20.3A.20cannot.20resolve.20canonical.20URL.html#241683734">(Jun 06 2021 at 09:55)</a>:</h4>
<p>I made a very simple profile (Patient) and I want to validate a ressource against it.<br>
The profile has this URL : <a href="https://opikanoba.org/fhir/structuresefinition/opik-test-patient">https://opikanoba.org/fhir/structuresefinition/opik-test-patient</a><br>
The URL is OK, and the structure definition available</p>
<p>And the sample json </p>
<div class="codehilite"><pre><span></span><code>{
    &quot;resourceType&quot;: &quot;Patient&quot;,
    &quot;meta&quot;: {
    &quot;profile&quot;: [
      &quot;https://opikanoba.org/fhir/structuredefinition/opik-test-patient&quot;
      ]
    },
    &quot;name&quot;:  [
        {
            &quot;use&quot;: &quot;official&quot;,
            &quot;family&quot;: &quot;MANDELBROT&quot;
        },
    ],
    &quot;telecom&quot;:  [
        {
            &quot;system&quot;: &quot;phone&quot;,
            &quot;value&quot;: &quot;(01) 5555 4444&quot;,
            &quot;use&quot;: &quot;work&quot;
        },
    ],
    &quot;gender&quot;: &quot;male&quot;,
    &quot;birthDate&quot;: &quot;1924-11-20&quot;,
    &quot;deceasedBoolean&quot;: true
}
</code></pre></div>
<p>With the <code>validator_cli.jar</code>, the validation is not made, and the output displays :</p>
<div class="codehilite"><pre><span></span><code>  Information @ Patient.meta.profile[0] (line 6, col8) : Canonical URL &#39;https://opikanoba.org/fhir/structuredefinition/opik-test-patient&#39;
does not resolve
  Warning @ Patient.meta.profile[0] (line 1, col2) : Profile reference &#39;https://opikanoba.org/fhir/structuredefinition/opik-test-patient&#39;
has not been checked because it is unknown, and fetching it resulted in the error The URL &#39;https://opikanoba.org/fhir/structuredefinition/opik-test-patient&#39;
is not known to the FHIR validator, and has not been provided as part of the setup / parameters
</code></pre></div>
<p>So I  set the <code>-profile</code> parameter, but:</p>
<div class="codehilite"><pre><span></span><code>java -jar validator_cli.jar test_patient.json -profile https://opikanoba.org/fhir/structuredefinition/opik-test-patient
An error occurs
  Validate test_patient.jsonException in thread &quot;main&quot; java.lang.Error: Unable to resolve profile https://opikanoba.org/fhir/structuredefinition/opik-test-patient
    at org.hl7.fhir.validation.ValidationEngine.asSdList(ValidationEngine.java:299)
</code></pre></div>
<p>What am I missing ?</p>



<a name="241684791"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Validator%20%3A%20cannot%20resolve%20canonical%20URL/near/241684791" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Validator.20.3A.20cannot.20resolve.20canonical.20URL.html#241684791">(Jun 06 2021 at 10:25)</a>:</h4>
<p>Did you use the <code>-ig</code> parameter to point the validator to the directory containing the profile (StructureDefinition file)? Otherwise, the validator cannot find it. Conversely, if you declare the profile in <code>meta.profile</code> in the Patient resource, it should trigger validation against that profile in the validator, even without passing the <code>-profile</code> parameter.</p>



<a name="241710626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Validator%20%3A%20cannot%20resolve%20canonical%20URL/near/241710626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frédéric Laurent <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Validator.20.3A.20cannot.20resolve.20canonical.20URL.html#241710626">(Jun 06 2021 at 21:00)</a>:</h4>
<p>I didn't make an IG. I wanted to start with the validation against a simple profile. The validator don't get my StructureDefinition even if I declare it in <code>meta.profile</code> because it is unknown (output of the validator-cli). That's why I thought that I could explicitly set it with the <code>-profile</code> parameter.<br>
But both don't work.</p>



<a name="241718347"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Validator%20%3A%20cannot%20resolve%20canonical%20URL/near/241718347" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Validator.20.3A.20cannot.20resolve.20canonical.20URL.html#241718347">(Jun 07 2021 at 00:37)</a>:</h4>
<p>you have to tell the validator where to find and load your profile - that's what the -ig parameter is for (it also loads any kind of profile etc you point it at). Once you do that, the validation should work</p>



<a name="241831961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Validator%20%3A%20cannot%20resolve%20canonical%20URL/near/241831961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frédéric Laurent <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Validator.20.3A.20cannot.20resolve.20canonical.20URL.html#241831961">(Jun 07 2021 at 19:58)</a>:</h4>
<p>OK, I made an IG description file to reference the profile, then by setting <code>-ig</code> and <code>-profile</code> parameters, the validation can be done. Thanks.</p>



<a name="241832007"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Validator%20%3A%20cannot%20resolve%20canonical%20URL/near/241832007" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Validator.20.3A.20cannot.20resolve.20canonical.20URL.html#241832007">(Jun 07 2021 at 19:59)</a>:</h4>
<p>you don't need the IG description file</p>



<a name="241833450"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Validator%20%3A%20cannot%20resolve%20canonical%20URL/near/241833450" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frédéric Laurent <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Validator.20.3A.20cannot.20resolve.20canonical.20URL.html#241833450">(Jun 07 2021 at 20:09)</a>:</h4>
<p>ok right, only the directory structure with the local profile file, and it works. thanks</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
