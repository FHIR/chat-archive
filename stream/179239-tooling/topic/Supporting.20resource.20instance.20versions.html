---
layout: page
title: "FHIR Chat  · Supporting resource instance versions · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html">Supporting resource instance versions</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="189048078"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189048078" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189048078">(Feb 25 2020 at 18:43)</a>:</h4>
<p>Not sure where to post this, since it may impact IG tooling , templates, and sushi and other tools- <br>
In order to prepare for eventual support for multiple versions of assets, should we have a file naming convention?</p>



<a name="189048323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189048323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189048323">(Feb 25 2020 at 18:46)</a>:</h4>
<p>I.e. if I have a patient id=001, which has versions 0, 1 and 2, I need to store the jsons somewhere in my file system, and I don't want then all to be called patient-001.json.<br>
how about patient-001#0.json, patient-001#1.json, patient-001#2.json ?</p>



<a name="189049546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189049546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189049546">(Feb 25 2020 at 19:00)</a>:</h4>
<p>Are Windows, Mac and Unix file systems comfortable with '#' in a filename?  (It'd be super surprising to me if any were, let alone all of them.)</p>



<a name="189049626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189049626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189049626">(Feb 25 2020 at 19:01)</a>:</h4>
<p>windows is</p>



<a name="189049842"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189049842" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189049842">(Feb 25 2020 at 19:04)</a>:</h4>
<p>linux is</p>



<a name="189049909"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189049909" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189049909">(Feb 25 2020 at 19:04)</a>:</h4>
<p>and mac is unix, so I expect it to be as well</p>



<a name="189049959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189049959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189049959">(Feb 25 2020 at 19:04)</a>:</h4>
<p>(the fhir package cache uses that notation also to support versions)</p>



<a name="189050314"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189050314" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189050314">(Feb 25 2020 at 19:09)</a>:</h4>
<p>it will be an issue in a url, i think. but i'm not sure that matters - or any other idea?</p>



<a name="189053252"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189053252" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189053252">(Feb 25 2020 at 19:42)</a>:</h4>
<p><code>#</code> is ok on windows|unix|mac. But the tooling isn't ok with it anywhere</p>



<a name="189056933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189056933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189056933">(Feb 25 2020 at 20:19)</a>:</h4>
<p>i understand no  tooling supports it yet. But if we have an agreement on this then tooling can evolve to that</p>



<a name="189061244"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189061244" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189061244">(Feb 25 2020 at 21:07)</a>:</h4>
<blockquote>
<p>The problem is we often have URLs that point to stuff inside a file - and the syntax for that uses '#'</p>
</blockquote>
<p>(<span class="user-mention" data-user-id="191320">@Lloyd McKenzie</span> i presume you meant to post here)<br>
ok I can see an issue if we want to download a file called patient001#001.json</p>



<a name="189061279"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189061279" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189061279">(Feb 25 2020 at 21:08)</a>:</h4>
<p>I don't know what OS support is for <code>|</code> -- but using that as a version separator would be consistent w/ <code>canonical</code> and has the advantage of not being mistaken as a URL fragment identifier.  The downside is that it's considered an "unsafe" character in URLs, so must be escaped in that context.</p>



<a name="189061408"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189061408" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189061408">(Feb 25 2020 at 21:09)</a>:</h4>
<p>so neither of these work in urls.</p>



<a name="189099797"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189099797" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189099797">(Feb 26 2020 at 09:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span> Sorry if I miss the backstory, but is there an important use for multiple version of the same resource in one project/folder/ig/package? If these are different versions of the resource corresponding to different versions of a project/ig/package I guess they could just live in different branches or folders?</p>



<a name="189115362"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189115362" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189115362">(Feb 26 2020 at 13:56)</a>:</h4>
<p>Hi. Yes, this is needed for anything that is providing guidance on workflows or dynamic behaviour (whether it is important or not, depends on where you stand).<br>
Example: CarePlan001 has a first version with status Draft, then have an update with different status. At this moment I cnnot create those in an IG, like I would have on a server.</p>



<a name="189116317"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189116317" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189116317">(Feb 26 2020 at 14:06)</a>:</h4>
<p>Thanks <span class="user-mention" data-user-id="191832">@Jose Costa Teixeira</span>, so these versions reflect the example instance as it would be in different stages of the workflow. Then they indeed need to be in the same project/ig/package, it's not a <code>|</code> versioning situation.</p>



<a name="189117169"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189117169" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189117169">(Feb 26 2020 at 14:16)</a>:</h4>
<p>the # and the | (I think I prefer the # ) is just the file name. If they are all called CarePlan001, it does not work on a file system</p>



<a name="189117226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189117226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189117226">(Feb 26 2020 at 14:16)</a>:</h4>
<p>an alternative:<br>
we could use the / as separator</p>



<a name="189118457"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189118457" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189118457">(Feb 26 2020 at 14:28)</a>:</h4>
<p>or abandon hope of maintaining human understandable filenames. The goal is laudable, but you will notice in systems like google drive and confluence and others; there comes a point when everything breaks down and GUIDs are used... preferring external (or internal) means to take over</p>



<a name="189118633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189118633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189118633">(Feb 26 2020 at 14:30)</a>:</h4>
<p>the problem still applies if we use uuid - at least in the file name if the filename is the same as the identifier</p>



<a name="189118730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189118730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189118730">(Feb 26 2020 at 14:31)</a>:</h4>
<p>you can have careteam "a2b8555d-622e-43f2-8412-baf0e22bb050.json" but you need two versions, and those two files cannot be called "a2b8555d-622e-43f2-8412-baf0e22bb050.json"</p>



<a name="189118880"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189118880" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189118880">(Feb 26 2020 at 14:33)</a>:</h4>
<p>exactly correct. both would be different guids, from the filename perspective there is no relationship. The relationship is only internally as part of the FHIR model, or externally as part of your test scenario</p>



<a name="189119163"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189119163" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189119163">(Feb 26 2020 at 14:36)</a>:</h4>
<p>so as an alternative we could have something like:<br>
|  resourceid  | version  | filename  |<br>
| careteam001  | v0  |  a2b8555d-622e-43f2-8412-baf0e22bb050.json |<br>
| careteam001  | v1  |  825d4a5c-56c7-4a0e-ade6-a2e6ee28f699.json |<br>
| careteam001  | v2  |  7762306b-c276-4049-a4d1-54abb3a28893.json |</p>



<a name="189119201"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189119201" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189119201">(Feb 26 2020 at 14:36)</a>:</h4>
<p>this?</p>



<a name="189119334"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189119334" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189119334">(Feb 26 2020 at 14:38)</a>:</h4>
<p>not saying I like it.. Just noting that many web tools try to maintain human readable filenames, but get to a point where they totally breakdown and become completely opaque. So, just setting the stage that we might not be able to invent what many others have tried to invent and failed.</p>



<a name="189120140"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189120140" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189120140">(Feb 26 2020 at 14:45)</a>:</h4>
<p>we do use # so far, it works where we need it to work</p>



<a name="189135579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189135579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189135579">(Feb 26 2020 at 17:19)</a>:</h4>
<p>the point is that that the tools already allow you to vary the file name in the input, but are completely driven by resource id internally, and so are unable to manage having 2 different instances of the same thing. This applies to all internal reasoning, and also to to the way that the web output is generated.</p>



<a name="189135602"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189135602" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189135602">(Feb 26 2020 at 17:19)</a>:</h4>
<p>trying to change that is pulling the logical carpet from under everything I've ever done</p>



<a name="189140212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189140212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189140212">(Feb 26 2020 at 18:05)</a>:</h4>
<p>It would be useful to have multiple versions of the same instance for examples.  I believe the tooling <em>can</em> handle that when the content is inside a Bundle.  Perhaps we could find a way to drive the publication of multiple instances from within a Bundle?</p>



<a name="189700972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189700972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189700972">(Mar 04 2020 at 15:18)</a>:</h4>
<p>Should "resource#v1" be acceptable as an identifier.value?</p>



<a name="189713243"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189713243" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189713243">(Mar 04 2020 at 17:17)</a>:</h4>
<p>Identifier.value is a string.  So long as it's less than a megabyte, it can contain any combination of UTF-8 characters you like.</p>



<a name="189713315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189713315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189713315">(Mar 04 2020 at 17:18)</a>:</h4>
<p>Consumers will treat it as a string though - no one will recognize or parse the #v1 as having any meaning and it would be bad practice to require systems to do so.</p>



<a name="189715920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189715920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189715920">(Mar 04 2020 at 17:45)</a>:</h4>
<p>when I tried it, the IG Publisher was giving me a "....must be a valid identifier..."</p>



<a name="189716083"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189716083" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189716083">(Mar 04 2020 at 17:47)</a>:</h4>
<p>and a correction: I actually had "resource#1", not "resource#v1"</p>



<a name="189716224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189716224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189716224">(Mar 04 2020 at 17:48)</a>:</h4>
<p>I'm just looking for a consistent / sensible way to represent resource versions. If the tools do not support it yet, that is OK. <br>
But if we have one syntax, then the tools can catch up (if the toolsmiths want).</p>



<a name="189716779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189716779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189716779">(Mar 04 2020 at 17:53)</a>:</h4>
<p>If you're pointing to resources, you ought to be using Reference, not Identifier</p>



<a name="189718128"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189718128" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189718128">(Mar 04 2020 at 18:06)</a>:</h4>
<p>in the ig.xml?</p>



<a name="189718195"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189718195" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189718195">(Mar 04 2020 at 18:07)</a>:</h4>
<p>the issue I had was when I told the IG that the resource was found like this:<br>
      &lt;reference&gt;<br>
         &lt;reference value="CareTeam/dzop-team-0002#2"/&gt;<br>
      &lt;/reference&gt;</p>



<a name="189723730"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189723730" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189723730">(Mar 04 2020 at 19:05)</a>:</h4>
<p>You said identifier.value.  What you're showing now is reference.value.  reference.value is appropriate.  Right now, the IGPublisher doesn't support version-specific references.  There's an expectation that there's only one version of each resource instance in-scope for the publication process.  Changing that will involve a significant refactoring of the publisher.</p>



<a name="189724297"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189724297" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189724297">(Mar 04 2020 at 19:11)</a>:</h4>
<p>Yes, I understand that, and that was why I put identifier instead of reference:<br>
I wanted to get around this issue by actually creating different resources with different identifiers and filenames, but where those names would have a syntax like resource#version.<br>
The file system is ok with that name, but the IG publisher is not happy with having a resource with a '#'.<br>
(which to me may mean it's a version but for the IG it should be a completely independent resource)</p>



<a name="189725613"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189725613" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189725613">(Mar 04 2020 at 19:25)</a>:</h4>
<blockquote>
<p>....must be a valid identifier...</p>
</blockquote>
<p>What's the exact error? I gt no matches for that text in the code</p>



<a name="189726555"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189726555" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189726555">(Mar 04 2020 at 19:35)</a>:</h4>
<p>I just had a resource called  dzop-team-002.v0 (filename and id) and it worked</p>



<a name="189726673"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189726673" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189726673">(Mar 04 2020 at 19:36)</a>:</h4>
<p>now I renamed it to dzop-team-002#0 - changed the filename, the id, also changed the reference in the IG:</p>
<div class="codehilite"><pre><span></span>    <span class="nt">&lt;resource&gt;</span>
      <span class="nt">&lt;reference&gt;</span>
         <span class="nt">&lt;reference</span> <span class="na">value=</span><span class="s">&quot;CareTeam/dzop-team-0002#0&quot;</span><span class="nt">/&gt;</span>
      <span class="nt">&lt;/reference&gt;</span>
</pre></div>



<a name="189726685"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189726685" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189726685">(Mar 04 2020 at 19:36)</a>:</h4>
<p>now I get</p>
<div class="codehilite"><pre><span></span>Load Content                                                                     (00:25.0276)
Publishing Content Failed: Bad Source Reference &#39;CareTeam/dzop-team-0002#0&#39; - should have the format [Type]/[id] where id is a valid FHIR id type (00:27.0435)
                                                                                 (00:27.0446)
Use -? to get command line help                                                  (00:27.0449)
                                                                                 (00:27.0450)
Stack Dump (for debugging):                                                      (00:27.0469)
java.lang.Exception: Bad Source Reference &#39;CareTeam/dzop-team-0002#0&#39; - should have the format [Type]/[id] where id is a valid FHIR id type
        at org.hl7.fhir.igtools.publisher.SimpleFetcher.fetch(SimpleFetcher.java:181)
        at org.hl7.fhir.igtools.publisher.Publisher.load(Publisher.java:2683)
        at org.hl7.fhir.igtools.publisher.Publisher.createIg(Publisher.java:801)
        at org.hl7.fhir.igtools.publisher.Publisher.execute(Publisher.java:666)
        at org.hl7.fhir.igtools.publisher.Publisher.main(Publisher.java:6933)
</pre></div>



<a name="189728626"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189728626" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189728626">(Mar 04 2020 at 19:56)</a>:</h4>
<p>ok. that's the right message. it's from the publisher enforcing it's internal business rules</p>



<a name="189731224"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189731224" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Hay <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189731224">(Mar 04 2020 at 20:22)</a>:</h4>
<p>'cause # is not valid in an id?</p>



<a name="189731927"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/189731927" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#189731927">(Mar 04 2020 at 20:30)</a>:</h4>
<p>right</p>



<a name="190198582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Supporting%20resource%20instance%20versions/near/190198582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jose Costa Teixeira <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Supporting.20resource.20instance.20versions.html#190198582">(Mar 10 2020 at 17:09)</a>:</h4>
<p>just a thought: if # is not a valid id, can we use just that to signal the versions? in other words:<br>
would it make sense to use it as a convention to name versions, and prepare the tooling to (gracefully) reject those ids, and eventually as tools catch up (if ever) then we keep the same convention?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
