---
layout: page
title: "FHIR Chat  · Forge issue for display &amp; saving of extensions? · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Forge.20issue.20for.20display.20.26.20saving.20of.20extensions.3F.html">Forge issue for display &amp; saving of extensions?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="229473826"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Forge%20issue%20for%20display%20%26%20saving%20of%20extensions%3F/near/229473826" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Forge.20issue.20for.20display.20.26.20saving.20of.20extensions.3F.html#229473826">(Mar 09 2021 at 13:14)</a>:</h4>
<p>I was trying to view the <a href="http://www.hl7.org/fhir/uv/ips/STU1/StructureDefinition-MedicationStatement-uv-ips.html">STU1 IPS MedicationStatement profile</a> in Forge and noticed something strange. Somehow, the data-absent-reason extension on the <code>effective[x]</code> element was being displayed at the top level.</p>
<p><a href="/user_uploads/10155/iydhPxIwprezqrO4VYrvu3wl/Screenshot-2021-03-09-at-14.01.24.png">Screenshot-2021-03-09-at-14.01.24.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/iydhPxIwprezqrO4VYrvu3wl/Screenshot-2021-03-09-at-14.01.24.png" title="Screenshot-2021-03-09-at-14.01.24.png"><img src="/user_uploads/10155/iydhPxIwprezqrO4VYrvu3wl/Screenshot-2021-03-09-at-14.01.24.png"></a></div><p>In <code>StructureDefinition.differential</code>, this extension is declared like this:</p>
<div class="codehilite"><pre><span></span><code>{
    &quot;id&quot;: &quot;MedicationStatement.effective[x].extension&quot;,
    &quot;path&quot;: &quot;MedicationStatement.effective[x].extension&quot;,
    &quot;short&quot;: &quot;effective[x] absence reason&quot;,
    &quot;definition&quot;: &quot;Provides a reason why the effectiveTime is missing.&quot;,
    &quot;max&quot;: &quot;1&quot;,
    &quot;type&quot;: [{
        &quot;code&quot;: &quot;Extension&quot;,
        &quot;profile&quot;: [
            &quot;http://hl7.org/fhir/StructureDefinition/data-absent-reason&quot;
         ]
     }],
    &quot;mustSupport&quot;: true
}
</code></pre></div>
<p>What is more,  if I made a change and saved it (I have saving snapshots option on), the extension would completely disappear from the StructureDefinition (snapshot &amp; diff)! <span class="user-mention" data-user-id="203235">@Ward Weistra</span> is this a known issue?</p>



<a name="229644702"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Forge%20issue%20for%20display%20%26%20saving%20of%20extensions%3F/near/229644702" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Matthijs van der Wielen <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Forge.20issue.20for.20display.20.26.20saving.20of.20extensions.3F.html#229644702">(Mar 10 2021 at 12:01)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="194703">@Morten Ernebjerg</span> ,<br>
Thank  you for pointing this out. When a StructureDefinition contains an extension on a variant (e.g. Observation.value[x]), this extension is not correctly processed by the SnapshotGenerator. It is moved to the observation's root 'extension' element definitions, while it would be expected to remain in the Observation.value[x].extension element definitions. Forge previously did not support extensions on variants; that's why this problem probably never popped up before. <br>
We first need to resolve this issue in the .NET SDK: <a href="https://github.com/FirelyTeam/firely-net-sdk/issues/1619">https://github.com/FirelyTeam/firely-net-sdk/issues/1619</a>. After this is implemented we expect this to be implemented in Forge in one of the upcoming sprints. We can keep you posted on the progress if you like?</p>



<a name="229692390"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Forge%20issue%20for%20display%20%26%20saving%20of%20extensions%3F/near/229692390" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Morten Ernebjerg <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Forge.20issue.20for.20display.20.26.20saving.20of.20extensions.3F.html#229692390">(Mar 10 2021 at 16:14)</a>:</h4>
<p><span class="user-mention" data-user-id="259036">@Matthijs van der Wielen</span> Thanks for the update, would be great if you could keep me posted!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
