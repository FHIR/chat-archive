---
layout: page
title: "FHIR Chat  · Firely Terminal: install bakes everything · tooling"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/index.html">tooling</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html">Firely Terminal: install bakes everything</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="271423763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271423763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271423763">(Feb 10 2022 at 12:26)</a>:</h4>
<p>When using firely terminal (2.5.0-beta-7) install on a file, Firely Terminal seems to bake the whole cache?</p>
<div class="codehilite"><pre><span></span><code>fhir install packages/molit.fhir.common-terminology-0.2.0.tgz --file
Added: molit.fhir.common-terminology 0.2.0.
Baked de.basisprofil.r4@1.2.0.
Baked hl7.fhir.r4.core@4.0.1.
Baked de.gematik.isik-basismodul@1.0.3-alpha1.
Baked kbv.mio.ueberleitungsbogen@1.0.0-kommentierung.
Baked kbv.basis@1.2.0.
Baked molit.fhir.common-terminology@0.2.0.
Restore completed.
</code></pre></div>
<p>fyi: <span class="user-mention" data-user-id="203235">@Ward Weistra</span></p>



<a name="271425115"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271425115" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Oliver Egger <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271425115">(Feb 10 2022 at 12:41)</a>:</h4>
<p>did not know that what you can bake with <img alt=":fhir:" class="emoji" src="https://zulip-avatars.s3.amazonaws.com/10155/emoji/images/1.png" title="fhir"> , but cool name for creating snaphshots <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> , is baking <a href="mailto:hl7.fhir.r4.core@4.0.1">hl7.fhir.r4.core@4.0.1</a>. not dangerous?</p>



<a name="271429013"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271429013" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271429013">(Feb 10 2022 at 13:18)</a>:</h4>
<p>yes the bake command is quite new, install now also bakes by default</p>



<a name="271429065"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271429065" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271429065">(Feb 10 2022 at 13:18)</a>:</h4>
<p>hl7.fhir.r4.core is already containing snapshots, so yes it is dangerous.</p>



<a name="271437775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271437775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271437775">(Feb 10 2022 at 14:24)</a>:</h4>
<p>Bake keeps track, so it doesn't bake twice. But it does by default (try to) bake all dependencies on a new install</p>



<a name="271438156"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271438156" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271438156">(Feb 10 2022 at 14:27)</a>:</h4>
<p>so, no good for "twice baked potatoes"...</p>



<a name="271448241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271448241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Martijn Harthoorn <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271448241">(Feb 10 2022 at 15:35)</a>:</h4>
<p>We could do a</p>
<div class="codehilite"><pre><span></span><code>&gt;  fhir bake --potato-style
</code></pre></div>



<a name="271448790"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271448790" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Moehrke <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271448790">(Feb 10 2022 at 15:39)</a>:</h4>
<p>propose that for an April 1st release</p>



<a name="271449324"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271449324" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271449324">(Feb 10 2022 at 15:43)</a>:</h4>
<p>I think <span class="user-mention" data-user-id="191451">@Patrick Werner</span> is right though.  It probably shouldn't overwrite snapshots in packages that are shipped w/ the snapshots already (e.g., packages published by HL7), right?</p>



<a name="271449546"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271449546" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271449546">(Feb 10 2022 at 15:44)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> Are you sure this is the whole cache and not only packages within the scope (your installed packages, its dependencies and their dependencies)?</p>



<a name="271449665"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271449665" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271449665">(Feb 10 2022 at 15:45)</a>:</h4>
<p>I'm not sure if there's already a common way to indicate that a package has been baked/has snapshots for all its resources.</p>



<a name="271453889"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271453889" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271453889">(Feb 10 2022 at 16:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="203235">Ward Weistra</span> <a href="#narrow/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything/near/271449665">said</a>:</p>
<blockquote>
<p>I'm not sure if there's already a common way to indicate that a package has been baked/has snapshots for all its resources.</p>
</blockquote>
<p>maybe place a .file in the package folder?</p>



<a name="271461131"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271461131" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271461131">(Feb 10 2022 at 17:01)</a>:</h4>
<p>I would think that usually a package either has snapshots for ALL its resources or NONE.  It seems it would be uncommon for a package to be published with a mix of SDs with and without snapshots.  If that's a fair assumption, then I would think you can just look at the first SD you find and check if it has a snapshot or not.</p>



<a name="271462274"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271462274" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271462274">(Feb 10 2022 at 17:10)</a>:</h4>
<p>Or the bake command could just check all files as it does now and ignore the files already having a snapshot. Not sure what the current behavior is. <span class="user-mention" data-user-id="191335">@Martijn Harthoorn</span></p>



<a name="271467727"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271467727" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Patrick Werner <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271467727">(Feb 10 2022 at 17:49)</a>:</h4>
<p><span class="user-mention silent" data-user-id="203235">Ward Weistra</span> <a href="#narrow/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything/near/271449546">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="191451">Patrick Werner</span> Are you sure this is the whole cache and not only packages within the scope (your installed packages, its dependencies and their dependencies)?</p>
</blockquote>
<p>yes. These aren't sub-dependencies.</p>



<a name="271571850"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271571850" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271571850">(Feb 11 2022 at 12:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191451">@Patrick Werner</span> Ok, that's not as intended. We'll reproduce and fix.</p>



<a name="271571954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179239-tooling/topic/Firely%20Terminal%3A%20install%20bakes%20everything/near/271571954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ward Weistra <a href="https://fhir.github.io/chat-archive/stream/179239-tooling/topic/Firely.20Terminal.3A.20install.20bakes.20everything.html#271571954">(Feb 11 2022 at 12:59)</a>:</h4>
<p>Also checking whether bake recreates snapshots for resources that already have them. If so I'll see if that can be optional and not recalculate existing snapshots by default.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
