---
layout: page
title: "FHIR Chat  · Generate bundle with reference · students"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179193-students/index.html">students</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179193-students/topic/Generate.20bundle.20with.20reference.html">Generate bundle with reference</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="182289242"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179193-students/topic/Generate%20bundle%20with%20reference/near/182289242" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Dagneaux <a href="https://fhir.github.io/chat-archive/stream/179193-students/topic/Generate.20bundle.20with.20reference.html#182289242">(Dec 01 2019 at 15:35)</a>:</h4>
<p>Hi all!</p>
<p>I'm curently working on a project which creates FHIR resources from a CDA file. It works well, but I have a question about bundles. In fact, when I receive a report from a laboratory, I have to create a lot of FHIR resources, so I have to do many requests on my server.</p>
<p>I managed to create my observations with a bundle. So it works, I have only one request on the server to create all my observations .</p>
<p>But my question is, can I create all my resources in only one bundle? I mean, some resources refer to others, like for example when I create a DiagnosticReport, I need the ID of the subject, the performer and all the IDs of the observations (result). But in fact if I do only one bundle I don't have all the IDs. So is it possible to put something like  a variable in a bundle which will get the ID of the UPDATED/CREATED resource?</p>
<p>Thanks in advance for you help!</p>
<p>Anthony</p>



<a name="182289767"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179193-students/topic/Generate%20bundle%20with%20reference/near/182289767" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179193-students/topic/Generate.20bundle.20with.20reference.html#182289767">(Dec 01 2019 at 15:49)</a>:</h4>
<p>Have you looked at transaction (<a href="http://build.fhir.org/http.html#transaction" target="_blank" title="http://build.fhir.org/http.html#transaction">http://build.fhir.org/http.html#transaction</a>)?</p>



<a name="182292476"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179193-students/topic/Generate%20bundle%20with%20reference/near/182292476" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anthony Dagneaux <a href="https://fhir.github.io/chat-archive/stream/179193-students/topic/Generate.20bundle.20with.20reference.html#182292476">(Dec 01 2019 at 17:10)</a>:</h4>
<p>Yes I looked and I used a transaction to create observations on the server, but maybe I've missed something.</p>
<p>In fact I'd like to do something like that: </p>
<p>{<br>
  "resourceType": "Bundle",<br>
  "id": "bundle-transaction",<br>
  "meta": {<br>
    "lastUpdated": "2014-08-18T01:43:30Z"<br>
  },<br>
  "type": "transaction",<br>
  "entry": [<br>
    {<br>
      "resource": {<br>
        "resourceType": "Patient",<br>
        "active": true,<br>
      ...<br>
      },<br>
      "request": {<br>
        "method": "POST",<br>
        "url": "Patient"<br>
      }<br>
    }, {<br>
        "resourceType": "DocumentReference",<br>
        "identifier": [<br>
          {<br>
            "system": "urn:ietf:rfc:3986",<br>
            "value": "urn:oid:1.3.6.1.4.1.21367.2005.3.7.1234"<br>
          }<br>
        ],<br>
      ...<br>
        },<br>
        "subject": {<br>
          "reference": "Patient/$idOfTheGeneratedPatient" --- Put the reference to the patient here ?<br>
        },<br>
       ...<br>
        "request": {<br>
            "method": "POST",<br>
            "url": "DocumentReference"<br>
          }<br>
      }<br>
  ]<br>
}</p>
<p>Do you think I can do that with the transactions?</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
