---
layout: page
title: "FHIR Chat  · How to just express the ingredients of a product? · BRR - Pharmacy model"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/index.html">BRR - Pharmacy model</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html">How to just express the ingredients of a product?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="175084746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175084746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175084746">(Sep 06 2019 at 17:21)</a>:</h4>
<p>I'm trying to use MedicinalProductDefinition to define the marketing, authorization and ingredients of a product.  It is a single part product.  It appears that I have to specify the following attributes and use the following chain of resources to express this:<br>
MedicinalProductDefinition<br>
-combinedPharmaceuticalDoseForm (put the form here?)<br>
-packagedMedicinalProduct =&gt; PackagedProductDefinition</p>
<p>PackagedProductDefinition<br>
-packageItem<br>
--type (mandatory)<br>
--quantity (mandatory) (put 1 because this is a 'top-level' packaging?)<br>
--manufacturedItem =&gt; ManufacturedItemDefinition</p>
<p>ManufacturedItemDefinition<br>
-manufacturedDoseForm (mandatory, so put the form here as well?)<br>
-quantity (mandatory)<br>
-ingredient =&gt; Ingredient</p>
<p>That seems slightly convoluted, but I can work with that except for the mandatory elements I can default the quantities to 1, but I don't have a packaging type.  Maybe we want to reduce the cardinalities of these attributes?</p>



<a name="175092807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175092807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175092807">(Sep 06 2019 at 18:50)</a>:</h4>
<p>This is really good feedback Jean. </p>
<p>A current idea is to collapse ManufacturedItemDefinition into PackagedProductDefinition, so that will simplify a little. There are cases where the same manufactured item is in different packages, which would no longer be possible, but its a trade off - some redundancy for a simpler model. </p>
<p>Yes the form goes there. </p>
<p>But I wonder if we might want to allow an Ingredient ref direct from Medicinal Product Def, for cases where you don't care about packaging? That might be more convenient for simpler cases.</p>



<a name="175093199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175093199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175093199">(Sep 06 2019 at 18:54)</a>:</h4>
<blockquote>
<p>A current idea is to collapse ManufacturedItemDefinition into PackagedProductDefinition, so that will simplify a little. There are cases where the same manufactured item is in different packages, which would no longer be possible, but its a trade off - some redundancy for a simpler model. </p>
</blockquote>
<p>Strangely enough, I just made another tracker item because I had another product where I wanted to express that very same thing - four different package configurations of the same manufactured item.</p>



<a name="175094325"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175094325" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175094325">(Sep 06 2019 at 19:07)</a>:</h4>
<p>But you can do that now cant you? They are different resources so different packages can reference the same manufactured item</p>



<a name="175094356"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175094356" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175094356">(Sep 06 2019 at 19:07)</a>:</h4>
<p>Yep, you can do that now.  But the quantity is in the wrong spot.  The quantity on ManufacturedItem should be up in the PackagedItem.</p>



<a name="175094961"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175094961" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175094961">(Sep 06 2019 at 19:15)</a>:</h4>
<p>Right. I've always found IDMP a bit strange there. There should be no need for things to count themselves, and no need for 3 different items. But you do need two resources (not collapsed) to represent this I think.</p>



<a name="175095172"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175095172" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175095172">(Sep 06 2019 at 19:18)</a>:</h4>
<p>Yes, I got it to work for now by using an extension, i.e. effectively moving the quantity up a level.  It looks like this:<br>
MedicinalProductDefinition<br>
PackagedProductDefinition_1<br>
 -packageItem<br>
--manufacturedItem<br>
---quantity 100<br>
---ManufacturedItem_1<br>
PackagedProductDefinition_2<br>
 -packageItem<br>
--manufacturedItem<br>
---quantity 30<br>
---ManufacturedItem_1<br>
PackagedProductDefinition_3<br>
 -packageItem<br>
--manufacturedItem<br>
---quantity 60<br>
---ManufacturedItem_1<br>
ManufacturedItem<br>
-ingredient_1<br>
-ingredient_2<br>
...</p>



<a name="175095236"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175095236" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175095236">(Sep 06 2019 at 19:19)</a>:</h4>
<p>The packs will differ more than just in the number of tablets (as your view shows). So you cant just have one pack with several collections of items. Bottles may be physically different, or one pack may be a carton. And you may need an overall product to group them. So this does call for the 3 levels we have now I guess. Also this I'd the other end of the scale from your other use case? (Where you want to skip levels).</p>



<a name="175095470"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175095470" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175095470">(Sep 06 2019 at 19:22)</a>:</h4>
<p>Prob  needs a backbone element adding to pack, of item reference and item count.</p>



<a name="175095509"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175095509" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175095509">(Sep 06 2019 at 19:23)</a>:</h4>
<p>I'm okay with having to include the levels, but it's just we need to be careful about making things mandatory.</p>



<a name="175096392"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175096392" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175096392">(Sep 06 2019 at 19:33)</a>:</h4>
<p>lets get our use cases separate - you seem to have 2. #1 is a product with just ingredients. #2 is packs with items</p>



<a name="175096551"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175096551" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175096551">(Sep 06 2019 at 19:35)</a>:</h4>
<p>#2 needs the levels. #1 could have the levels for consistency. But some will only have #1, so dont want to worry about levels. That could work by jumping straight to Ingredient. Then we also don't need to make the mandatory pack type optional, we just bypass it.</p>



<a name="175096610"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175096610" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175096610">(Sep 06 2019 at 19:36)</a>:</h4>
<p>Sure.</p>



<a name="175096664"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175096664" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175096664">(Sep 06 2019 at 19:36)</a>:</h4>
<p>I think you could keep #1 for consistency.  After I did #2, I saw how #1 made sense.</p>



<a name="175096959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175096959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175096959">(Sep 06 2019 at 19:40)</a>:</h4>
<p>are you against providing a short circuit to ingredient for cases when no one cares about packs or items? It's not ideal to have 2 ways, but systems do differ in levels of representation.</p>



<a name="175097108"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175097108" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175097108">(Sep 06 2019 at 19:42)</a>:</h4>
<p>i'm not against it.  I do like the consistency, but it is a lot of indirection when you don't care about packs or items.  Maybe #1 should have been represented with an AdministrableProductDefinition?  That has the ingredients without the packs or items.</p>



<a name="175097199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175097199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175097199">(Sep 06 2019 at 19:43)</a>:</h4>
<p>yes I also thought that. But then you have a mix of top level resources, for different levels of detail, which I don't like. And people won't figure that out. It doesn't seem too bad to have 3 levels but make 2 of them optional.</p>



<a name="175097477"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175097477" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175097477">(Sep 06 2019 at 19:47)</a>:</h4>
<p>we probably need to create some examples to show all of this and get some idea of how it might look.</p>



<a name="175097947"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175097947" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175097947">(Sep 06 2019 at 19:53)</a>:</h4>
<p><a href="/user_uploads/10155/d9RHuT0I_HOalzTATYKcVVXV/product-ingredient.png" target="_blank" title="product-ingredient.png">product-ingredient.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/d9RHuT0I_HOalzTATYKcVVXV/product-ingredient.png" target="_blank" title="product-ingredient.png"><img src="/user_uploads/10155/d9RHuT0I_HOalzTATYKcVVXV/product-ingredient.png"></a></div>



<a name="175098137"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175098137" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175098137">(Sep 06 2019 at 19:55)</a>:</h4>
<p>I meant FHIR Bundle XML/JSON examples. :)</p>



<a name="175098205"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179308-BRR%20-%20Pharmacy%20model/topic/How%20to%20just%20express%20the%20ingredients%20of%20a%20product%3F/near/175098205" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Rik Smithies <a href="https://fhir.github.io/chat-archive/stream/179308-BRR---Pharmacy-model/topic/How.20to.20just.20express.20the.20ingredients.20of.20a.20product.3F.html#175098205">(Sep 06 2019 at 19:56)</a>:</h4>
<p>yeah, I knew that</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
