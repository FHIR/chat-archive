---
layout: page
title: "FHIR Chat  · ig-build speed · committers/notification"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/index.html">committers/notification</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html">ig-build speed</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="216506525"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216506525" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216506525">(Nov 12 2020 at 18:14)</a>:</h4>
<p><span class="user-mention" data-user-id="191401">@Eric Haas</span>  The 3rd column has build times for the last 20 jobs, ranging from 1.5min to 12min (depending on the specific IG) -- they don't seem obviously different than expected... Can you point to a specific result where you're having trouble?</p>
<div class="codehilite"><pre><span></span><code>$ kubectl -n fhir get jobs  --sort-by=.metadata.creationTimestamp | tail -n 20
ig-buildhxz2r   1/1           11m        5h17m
ig-buildc2h6x   1/1           3m50s      5h5m
ig-buildwb84f   1/1           5m31s      4h59m
ig-buildxzhwx   1/1           6m57s      4h12m
ig-build685h9   1/1           12m        3h41m
ig-build5cw9d   1/1           90s        3h38m
ig-buildw52pw   1/1           8m17s      3h38m
ig-buildv8vc6   1/1           88s        3h38m
ig-buildwjtlr   1/1           12m        3h13m
ig-buildbnrb2   1/1           6m53s      3h9m
ig-buildf5gjn   1/1           3m6s       172m
ig-buildrf8q7   1/1           7m3s       107m
ig-build5msbp   1/1           3m50s      90m
ig-buildskqst   1/1           3m29s      79m
ig-builds7n46   1/1           16m        77m
ig-buildv2658   1/1           9m33s      59m
ig-build7sd5m   1/1           17m        56m
ig-buildgtnjd   1/1           9m38s      44m
ig-buildhj2gn   1/1           10m        39m
ig-build76chr   0/1           10m        10m
</code></pre></div>



<a name="216514969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216514969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216514969">(Nov 12 2020 at 19:19)</a>:</h4>
<p>OK so 10-20 minutes is expected. It is killing my productivity when editing<br>
and developing a spec in real time.   Additionally, the build slow my<br>
laptop down so much as to make it unavailable.<br>
Anybody have an efficient workflow.  I like to see the rendered output for<br>
each change without having to go back 10-20 minutes later to review.</p>
<p>Eric M Haas, DVM, MS<br>
Health eData Inc<br>
35 Crescent Avenue, Sausalito, CA 94965</p>



<a name="216521786"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216521786" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216521786">(Nov 12 2020 at 20:18)</a>:</h4>
<p>which IG is this?</p>



<a name="216521860"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216521860" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216521860">(Nov 12 2020 at 20:18)</a>:</h4>
<p>us core</p>



<a name="216527524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216527524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216527524">(Nov 12 2020 at 20:57)</a>:</h4>
<p>I can't run eCR or BFDR locally without walking away from my machine and doing something else for a while. (My solution is to never run locally).</p>
<p>The only "efficient" workflow I can suggest is not running on your machine. I use Trifolia to run outside of the CI build without slowing my machine down.  Of course, I still have to wait, but at least I can use my machine.  </p>
<p>I also often just use the CI build as my development environment  - just commit a lot and keep working and then check changes there. Again, at least it doesn't slow my machine down.</p>
<p>My biggest issue is that I often forget what change I was even trying to test by the time it finished running (and I've made a bunch more changes since). </p>
<p>I just committed eCR to Git at 6:33 and the CI build finished at 6:47.</p>
<p>Both BFDR and eCR are very large - lots of profiles and even more examples, so I just assumed the length of time was par for the course. (And I get super envious when people mention that their IGs only take 2 minutes!)</p>



<a name="216528925"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216528925" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216528925">(Nov 12 2020 at 21:09)</a>:</h4>
<p>honestly, why work with a slow laptop? You have a bad io system if your laptop becomes unresponsive because you are running the IG publisher. It's single threaded, so it's not CPU</p>



<a name="216529092"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216529092" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216529092">(Nov 12 2020 at 21:10)</a>:</h4>
<p>It's brand new. I don't know what to do to make it faster?</p>



<a name="216529185"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216529185" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216529185">(Nov 12 2020 at 21:11)</a>:</h4>
<p>what is it?</p>



<a name="216529197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216529197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216529197">(Nov 12 2020 at 21:11)</a>:</h4>
<p>It's the highest spec 13" MacBook Pro.</p>



<a name="216529265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216529265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216529265">(Nov 12 2020 at 21:12)</a>:</h4>
<p>then it shouldn't become unusable</p>



<a name="216529308"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216529308" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216529308">(Nov 12 2020 at 21:12)</a>:</h4>
<p>I don't even notice an impact on my laptop for running an IG, except the fan will speed up</p>



<a name="216529315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216529315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216529315">(Nov 12 2020 at 21:12)</a>:</h4>
<p>but it's not a mac</p>



<a name="216529321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216529321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216529321">(Nov 12 2020 at 21:13)</a>:</h4>
<p>I don't know enough about hardware to know how to stop it from slowing down.</p>



<a name="216529498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216529498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216529498">(Nov 12 2020 at 21:14)</a>:</h4>
<p>Anyway - I'm reasonably happy with using Trifolia or the CI build, so not really any issues. It's not like it's going to be any faster running locally.</p>



<a name="216529589"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216529589" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216529589">(Nov 12 2020 at 21:14)</a>:</h4>
<p>I was really just suggesting an alternate workflow for Eric.</p>



<a name="216531633"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216531633" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216531633">(Nov 12 2020 at 21:32)</a>:</h4>
<p>I use the CI build too.  same as you but like you said its hard to keep track of changes</p>



<a name="216537106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216537106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216537106">(Nov 12 2020 at 22:15)</a>:</h4>
<p>The CI build should not be slower than your local hardware; we're throwing a lot of compute resources at this task! Are there folks seeing the CI build running slower than a from-scratch local build?</p>



<a name="216537323"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216537323" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216537323">(Nov 12 2020 at 22:17)</a>:</h4>
<p>(If the issue is just "running the publisher is slow" rather than "the auto-build pipeline is slow", that's important too -- but we should make sure we know what/where we're trying to optimize.)</p>



<a name="216539856"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216539856" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216539856">(Nov 12 2020 at 22:39)</a>:</h4>
<p>Builds run fine on my machine.  Take 1-2 minutes depending on the IG and I can still work while they're running - though the fan does kick in.  No noticable difference in speed on the CI build.  Note that I do have 32GB of RAM, which probably helps</p>



<a name="216542653"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216542653" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216542653">(Nov 12 2020 at 23:08)</a>:</h4>
<p>I have 32GB of RAM. 1-2 minutes? That would be amazing. Have you ever run eCR or BFDR on your machine??! How many profiles and examples do your IGs have?</p>



<a name="216542818"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216542818" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216542818">(Nov 12 2020 at 23:10)</a>:</h4>
<p>Oh wait - you're saying your builds take the same amount of time on your machine as the CI build. eCR takes close to 15 mins on the CI build...</p>



<a name="216542843"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216542843" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216542843">(Nov 12 2020 at 23:10)</a>:</h4>
<p>USCore:</p>
<p>Autobuild; 16+ minutes  ( It looks like about 10 of that is version comparison)<br>
on my macbook air ca 2016:  10:43 minutes</p>



<a name="216542865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216542865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216542865">(Nov 12 2020 at 23:11)</a>:</h4>
<blockquote>
<p>It looks like about 10 of that is version comparison</p>
</blockquote>
<p>Interesting, what does this mean?</p>



<a name="216542888"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216542888" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216542888">(Nov 12 2020 at 23:11)</a>:</h4>
<p>I'm guessing from this ... <a href="http://build.fhir.org/ig/HL7/US-Core/branches/master/build.log">http://build.fhir.org/ig/HL7/US-Core/branches/master/build.log</a></p>



<a name="216543132"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216543132" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216543132">(Nov 12 2020 at 23:14)</a>:</h4>
<div class="codehilite"><pre><span></span><code>Validating Conformance Resources                                                 (03:57.0178)
Installing hl7.fhir.us.core#3.1.1 to the package cache
  Fetching:.....
  Installing: ..... done.
US Core Comparisons Finished
Installing hl7.fhir.r4.core#4.0.1 to the package cache
  Fetching:....................................................................................................
  Installing: .................................................................................................... done.
-tx: Connect to http://tx.fhir.org/r4
Version Comparison: compare 3.1.1 to current for http://hl7.org/fhir/us/core/CodeSystem/careplan-category
Version Comparison: compare 3.1.1 to current for urn:oid:2.16.840.1.113883.6.238
Version Comparison: compare 3.1.1 to current for http://hl7.org/fhir/us/core/CodeSystem/condition-category
Version Comparison: compare 3.1.1 to current for http://hl7.org/fhir/us/core/CodeSystem/us-core-documentreference-category
...
Version Comparison: compare 3.1.1 to current for http://hl7.org/fhir/us/core/SearchParameter/us-core-medicationrequest-status
Validating Resources                                                             (12:41.0123)
</code></pre></div>
<p>but I could be wrong and it could be the us core comparison or validation step</p>



<a name="216543292"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216543292" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216543292">(Nov 12 2020 at 23:16)</a>:</h4>
<p>I do think that a lot of time is taken up with the US Core comparisons - i.e. for every single Observation. You'd think that the actual US Core build would be significantly faster because it doesn't have to do those checks.</p>



<a name="216543508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216543508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216543508">(Nov 12 2020 at 23:18)</a>:</h4>
<p>And I lied - according to the log I looked at it took 9 minutes. But the time from hitting commit to the time it shows up in Notifications makes it seem a couple of minutes slower.</p>



<a name="216544389"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216544389" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216544389">(Nov 12 2020 at 23:29)</a>:</h4>
<p>eCR takes 10:45 on my system.  About 2 minutes of which was the comparison process, where it seemed to hang on a couple of them</p>



<a name="216544732"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216544732" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216544732">(Nov 12 2020 at 23:33)</a>:</h4>
<p>Ok, well that makes me feel better! :)</p>



<a name="216548178"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216548178" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216548178">(Nov 13 2020 at 00:09)</a>:</h4>
<p>OK .. do we think its too long?  The  -w option is also broken for me - that would be extremely helpful for checking rendering and links. but is there a dev-lite option?  1-2 minutes would be great!</p>



<a name="216548281"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216548281" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Eric Haas <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216548281">(Nov 13 2020 at 00:10)</a>:</h4>
<p>(not a great time to be mucking with the build so maybe for next yr?)</p>



<a name="216552579"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/216552579" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sarah Gaunt <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#216552579">(Nov 13 2020 at 01:04)</a>:</h4>
<p>Well, I do think it's too long. But is it realistic to think it could be significantly faster? There is a LOT of checking that happens.</p>



<a name="217338827"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179297-committers/notification/topic/ig-build%20speed/near/217338827" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Max Masnick <a href="https://fhir.github.io/chat-archive/stream/179297-committers/notification/topic/ig-build.20speed.html#217338827">(Nov 19 2020 at 22:19)</a>:</h4>
<p>I did some quick benchmarks on my machine with US Core:</p>
<ul>
<li>No local txcache folder: 11 minutes<br>
    - ~9 minutes of this was waiting for responses from <a href="http://tx.fhir.org">tx.fhir.org</a></li>
<li>Warm txcache folder (run twice in a row, take 2nd time): 3.6 minutes<br>
    - ~2 minutes of this was waiting for responses from <a href="http://tx.fhir.org">tx.fhir.org</a></li>
</ul>
<p>My <a href="http://tx.fhir.org">tx.fhir.org</a> time benchmarking is based on proxying requests via a localhost server and recording how long it takes to get a response. So this may not be perfect and could presumably vary by the load on <a href="http://tx.fhir.org">tx.fhir.org</a>. If anyone's interested I can probably generate a log of which requests took the longest by this timing method.</p>
<p>The localhost server I used also has a "cache mode" that will immediately serve a locally cached response from <a href="http://tx.fhir.org">tx.fhir.org</a> if one exists. If I use this I can get "warm txcache" build time down to <strong>1 minute 30 seconds</strong> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> but who knows what kind of unintended consequences "cache mode" has on the build.</p>
<p>But this suggests that if there were a way to set up a more aggressive cache in front of <a href="http://tx.fhir.org">tx.fhir.org</a>, that might yield some pretty significant performance improvements for IG builds. I have no idea if the <a href="http://tx.fhir.org">tx.fhir.org</a> responses are amenable to this kind of easy caching though...</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
