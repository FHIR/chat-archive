---
layout: page
title: "FHIR Chat  · Accessing variables from the FHIR variable extension · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html">Accessing variables from the FHIR variable extension</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154011896"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154011896" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154011896">(Oct 24 2018 at 15:22)</a>:</h4>
<p>Are variables provided by <a href="http://hl7.org/fhir/StructureDefinition/variable" target="_blank" title="http://hl7.org/fhir/StructureDefinition/variable">http://hl7.org/fhir/StructureDefinition/variable</a> (which says they appear in the FHIRPath context) to be accessed like environment variables by prefixing them with '%'?  Both the FHIR-specific variables (<a href="http://hl7.org/fhir/2018Sep/fhirpath.html#variables" target="_blank" title="http://hl7.org/fhir/2018Sep/fhirpath.html#variables">http://hl7.org/fhir/2018Sep/fhirpath.html#variables</a>) and environment variables start with %.  I don't see anything in either the main FHIRPath spec or the FHIR extensions that discusses accessing other types of variables-- though I guess that is because <a href="http://hl7.org/fhir/StructureDefinition/variable" target="_blank" title="http://hl7.org/fhir/StructureDefinition/variable">http://hl7.org/fhir/StructureDefinition/variable</a> is new.  I did notice that Grahame's blog post (<a href="http://www.healthintersections.com.au/?p=2835" target="_blank" title="http://www.healthintersections.com.au/?p=2835">http://www.healthintersections.com.au/?p=2835</a>) used variable names without %, but I am wondering if maybe that was an oversight, since there is the potential then for confusion between a variable name and an attribute name of the structure being traversed.  (The confusion could be resolved by specifying a priority, but that priority would then need to be documented somewhere.)</p>



<a name="154012399"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154012399" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154012399">(Oct 26 2018 at 13:19)</a>:</h4>
<p>I guess that was an oversight</p>



<a name="154012659"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154012659" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154012659">(Oct 26 2018 at 16:53)</a>:</h4>
<p>I added <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19530&amp;start=0" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19530&amp;start=0">GF#19530</a>-- a request for documentation about this.  For now, I will just assume that % should be used.</p>



<a name="154012747"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154012747" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154012747">(Oct 26 2018 at 21:34)</a>:</h4>
<p>I had assumed that the % is what would be used,  or $ but haven't started to implement that part yet.</p>



<a name="154012748"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154012748" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154012748">(Oct 26 2018 at 21:37)</a>:</h4>
<p>I would just as soon stick with % for all variable types, unless there is a need to give the variables types separate name-spaces.  (My preference for that is becoming stronger as I am writing the code for it right now... but it not too much code to change if it goes a different way.)</p>



<a name="154012762"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154012762" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154012762">(Oct 26 2018 at 22:23)</a>:</h4>
<p>$ is already a variable for $this</p>



<a name="154012763"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154012763" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154012763">(Oct 26 2018 at 22:24)</a>:</h4>
<p>So would be consistent with that too, where % is environment, including %resource, which feels like ore like a variable. So I'm on the fence on this too.</p>



<a name="154012765"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154012765" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154012765">(Oct 26 2018 at 22:29)</a>:</h4>
<p>In the grammar, '$this' is a very special thing defined as that particular string.  The % comes from "externalConstant", which I am happy to consider variable values, since they are passed in (i.e. external) to the fhirpath engine.</p>



<a name="154012784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154012784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154012784">(Oct 26 2018 at 23:56)</a>:</h4>
<p>That makes some sense. Happy to continue with that. Did we get a tracker logged to clarify this?</p>



<a name="154012837"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154012837" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154012837">(Oct 27 2018 at 07:59)</a>:</h4>
<p>yes $ is special. % should be used in this case</p>



<a name="154012920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Accessing%20variables%20from%20the%20FHIR%20variable%20extension/near/154012920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Accessing.20variables.20from.20the.20FHIR.20variable.20extension.html#154012920">(Oct 27 2018 at 19:13)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span>  <a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19530&amp;start=0" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=19530&amp;start=0">GF#19530</a></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
