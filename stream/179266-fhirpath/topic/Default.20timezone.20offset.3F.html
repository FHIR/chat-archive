---
layout: page
title: "FHIR Chat  · Default timezone offset? · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html">Default timezone offset?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="156995524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/156995524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#156995524">(Jan 28 2019 at 00:56)</a>:</h4>
<p>In reconciling test results from different engines, the question of a default timezone offset has come up. The spec currently says if a date/time value doesn't have a timezone offset, use the timezone offset of the evaluating environment. But this is potentially a policy decision, so we'd like to get input on the question (<a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20311" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20311">GF#20311</a>).</p>



<a name="156995531"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/156995531" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#156995531">(Jan 28 2019 at 00:56)</a>:</h4>
<p>We're also looking at removing the timezone offset from Time values (<a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20310" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20310">GF#20310</a>).</p>



<a name="156996821"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/156996821" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#156996821">(Jan 28 2019 at 01:37)</a>:</h4>
<p>In a server context, I find default timezone problematic</p>



<a name="157043987"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157043987" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157043987">(Jan 28 2019 at 18:01)</a>:</h4>
<blockquote>
<p>We're also looking at removing the timezone offset from Time values (<a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20310" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20310">GF#20310</a>).</p>
</blockquote>
<p>I am neither for it nor against, but I am not sure I follow the reasoning.    It says "the timezone offset is ambiguous because it does not provide enough context to determine the timezone".  If someone writes, @T11:00-07:00,  does it matter which timezone is -7?</p>



<a name="157050241"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157050241" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157050241">(Jan 28 2019 at 19:19)</a>:</h4>
<p>Bryn's advanced use case was a repeating event that happens every day at 15:00+05:00. And there, it does matter</p>



<a name="157050257"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157050257" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157050257">(Jan 28 2019 at 19:19)</a>:</h4>
<p>because oes it change with timezones?</p>



<a name="157052265"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157052265" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157052265">(Jan 28 2019 at 19:47)</a>:</h4>
<p>As I understand it, "15:00+05:00" specifies a moment in time, irrespective of timezone-- the moment that can also be expressed as "10:00Z".</p>



<a name="157052623"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157052623" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157052623">(Jan 28 2019 at 19:53)</a>:</h4>
<p>it can't specify a monet in time, since it has no date.</p>



<a name="157052865"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157052865" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157052865">(Jan 28 2019 at 19:56)</a>:</h4>
<p>True.  A moment that occurs every 24 hours, then.  My question is how a timezone can affect the meaning "15:00+05:00".  The offset is already known.</p>



<a name="157052972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157052972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157052972">(Jan 28 2019 at 19:58)</a>:</h4>
<p>because usually, at least, people actually mean a timezone rather than an offset. As I am all too familiar with, since HL7 calls are a moving target for me. They happen at a time in a timezone, rather than at an offset time</p>



<a name="157052980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157052980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157052980">(Jan 28 2019 at 19:58)</a>:</h4>
<p>I don't know of anything that happens at an offset</p>



<a name="157053035"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157053035" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157053035">(Jan 28 2019 at 19:59)</a>:</h4>
<p>The problem is that many times events are expressed in a timezone whose offset changes based on the date.  So Eastern Time is either EST or EDT and has a different offset.</p>



<a name="157053940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157053940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157053940">(Jan 28 2019 at 20:13)</a>:</h4>
<p><span class="user-mention" data-user-id="192166">@Jean Duteau</span>  So, that would cause a problem is someone wrote, "15:00 ET" (Eastern Time), because the offset would in that case depend on the date.  But, I think what is under discussion is the whether it will permitted to specify an offset with just a time, like "15:00-05:00".   You might not not know whether that that -05:00 is ET time or not, but you know it is 5 hours behind UTC.</p>



<a name="157054424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157054424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157054424">(Jan 28 2019 at 20:20)</a>:</h4>
<p>(helps to go read the tracker item)  I now agree with what you are saying.  The tracker seems to imply that I want to take the timezone offset and convert it back to an actual timezone.  I would argue that you can't do that even if you have a date, because -05:00 can be any number of timezones even for a given date.  So that problem of converting to a timezone seems out of scope of the Time datatype and thus wouldn't be an argument for-or-against the offset.  As well, Grahame and my original answer also seem to be out of scope since that's not what the timezone offset is for.  If I have a time expressed as "15:00 ET", I'm hooped with the existing time and date datatypes because that isn't one specific offset.</p>



<a name="157056707"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157056707" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157056707">(Jan 28 2019 at 20:56)</a>:</h4>
<p>The proposed disposition is I think to remove the timezone offset from the Time type because of the ambiguity (the same approach the FHIR Time type takes).</p>



<a name="157057090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157057090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157057090">(Jan 28 2019 at 21:01)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> We were just discussing what the "ambiguity" is, and how removing the offset helps.  The questions are 1) What is ambiguous about "15:00-05:00", and 2) How is "15:00" less ambiguous?</p>



<a name="157060011"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157060011" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157060011">(Jan 28 2019 at 21:38)</a>:</h4>
<p>I don't think it's ambiguous. I just think it's uselss</p>



<a name="157061784"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157061784" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157061784">(Jan 28 2019 at 22:05)</a>:</h4>
<p>I can't say how useful it is, but if you have a stream of data you're reading and a subset of it is from a person at offset "-05:00", that gives you some rough idea of where the person is (possibly), and whether (for example) the person is likely to see an email or be reachable by phone at a particular time.</p>



<a name="157061976"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157061976" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Schneider <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157061976">(Jan 28 2019 at 22:09)</a>:</h4>
<p>Offset becomes tricky when considering locale-dependent augmentations such as U.S. daylight saving time, European summer time, etc.  Would the addition of server locale metadata make the offset more useful?</p>



<a name="157062057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157062057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157062057">(Jan 28 2019 at 22:10)</a>:</h4>
<p>Is not ambiguous, it's pointless.<br>
If you want to fix a regular time (which is the common case), you need the zone, not offset. E. G. 9:30 america/new york</p>



<a name="157062090"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157062090" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157062090">(Jan 28 2019 at 22:11)</a>:</h4>
<p>With that you can construct the real intended date time for any specific date correctly.</p>



<a name="157062212"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157062212" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157062212">(Jan 28 2019 at 22:13)</a>:</h4>
<p>This is what we need in the HealthcareService resource for availability. I think this is still in a tracker and not applied yet.<br>
The binding would be to the tz database<br>
<a href="https://en.m.wikipedia.org/wiki/Tz_database" target="_blank" title="https://en.m.wikipedia.org/wiki/Tz_database">https://en.m.wikipedia.org/wiki/Tz_database</a></p>



<a name="157062876"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157062876" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157062876">(Jan 28 2019 at 22:24)</a>:</h4>
<p>Thanks, <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> , for pointing out the "common case".  (I was thinking of other cases, but they are probably not realistic.)</p>



<a name="157076886"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157076886" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157076886">(Jan 29 2019 at 03:13)</a>:</h4>
<p>For defaulting timezone offset, options are: 1) don't default at all, or 2) default to the timezone offset of the server, or 3) default to the timezone offset of the request. In CQL, we use option 3. It's not perfect, but it's more likely to give the expected answer than converting to UTC.</p>



<a name="157076936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157076936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157076936">(Jan 29 2019 at 03:14)</a>:</h4>
<p>We also use the timestamp of the request for the now() and today() functions. <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20312" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20312">GF#20312</a></p>



<a name="157077058"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157077058" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157077058">(Jan 29 2019 at 03:18)</a>:</h4>
<p>The FHIR spec suggests option 2 (but also cautions, <a href="http://hl7.org/fhir/search.html#date" target="_blank" title="http://hl7.org/fhir/search.html#date">here there be dragons</a>)</p>



<a name="157077428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157077428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157077428">(Jan 29 2019 at 03:27)</a>:</h4>
<p>Where do you pull it from in the request?</p>



<a name="157077580"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157077580" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157077580">(Jan 29 2019 at 03:32)</a>:</h4>
<p>We don't specify that, but have suggested the Date header for http requests.</p>



<a name="157112567"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157112567" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157112567">(Jan 29 2019 at 15:27)</a>:</h4>
<blockquote>
<p>We don't specify that, but have suggested the Date header for http requests.</p>
</blockquote>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span>   It sounds like you are thinking of server-side evaluation of FHIRPath.  For client-side evaluation (e.g. in the context or rendering/updating a Questionnaire) what would the "request" be, from which one would get the default timezone offset?  Maybe in that case since it is client side, it would just use the client's (browser's) timezone offset?</p>



<a name="157115813"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157115813" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157115813">(Jan 29 2019 at 16:14)</a>:</h4>
<p>Yes, that's how I tend to think about it, even for client-side evaluation, there's still a "call" to the engine, and that's where you would pass the "request" time. In a browser, using the browser's current timestamp.</p>



<a name="157115981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157115981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157115981">(Jan 29 2019 at 16:17)</a>:</h4>
<p>That should work.</p>



<a name="157135930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157135930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157135930">(Jan 29 2019 at 20:38)</a>:</h4>
<p>what's the timezone of the request?</p>



<a name="157140478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157140478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157140478">(Jan 29 2019 at 21:35)</a>:</h4>
<p>Timezone offset of the request</p>



<a name="157140752"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157140752" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157140752">(Jan 29 2019 at 21:39)</a>:</h4>
<p>really? where is that?</p>



<a name="157140918"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157140918" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157140918">(Jan 29 2019 at 21:41)</a>:</h4>
<p>Not sure what you mean?</p>



<a name="157141360"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157141360" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157141360">(Jan 29 2019 at 21:47)</a>:</h4>
<blockquote>
<p>Unfortunately, there is no corresponding “Accept-Timezone” header- the HTTP standard does not contain any facility to allow the browser to automatically tell the server what time zone the user cares about.</p>
</blockquote>



<a name="157141670"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157141670" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157141670">(Jan 29 2019 at 21:50)</a>:</h4>
<p>Gotcha, and the Date header only allows communication of UTC. But that could be used to compute an offset on the server.</p>



<a name="157141688"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157141688" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157141688">(Jan 29 2019 at 21:51)</a>:</h4>
<p>That you could then pass to the engine.</p>



<a name="157142283"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157142283" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157142283">(Jan 29 2019 at 21:57)</a>:</h4>
<p>How do you compute an offset from a UTC date stamp without knowing the timezone in advance?</p>



<a name="157142980"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157142980" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157142980">(Jan 29 2019 at 22:06)</a>:</h4>
<p>you can't. all you can know is the server timezone. see <a href="https://tools.ietf.org/html/draft-sharhalakis-httptz-05" target="_blank" title="https://tools.ietf.org/html/draft-sharhalakis-httptz-05">https://tools.ietf.org/html/draft-sharhalakis-httptz-05</a>, which never got up. I asked the http working group about it, and they said 'use javascript', as if restful apis were not a thing :-(</p>



<a name="157143934"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157143934" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157143934">(Jan 29 2019 at 22:20)</a>:</h4>
<p>So it is possible, but it requires the client provide the request DateTime as a parameter. That's pretty important for decision support use cases, is it too much burden to require the client to provide it?</p>



<a name="157143966"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157143966" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157143966">(Jan 29 2019 at 22:21)</a>:</h4>
<p>lol I bet the answer is yes. You could ask on the implementer channel</p>



<a name="157143971"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157143971" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157143971">(Jan 29 2019 at 22:21)</a>:</h4>
<p>Or is this a case where the spec could allow for a policy-based decision?</p>



<a name="157144069"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157144069" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157144069">(Jan 29 2019 at 22:22)</a>:</h4>
<p>what kind of policy baed decision in which spec?</p>



<a name="157144498"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157144498" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157144498">(Jan 29 2019 at 22:28)</a>:</h4>
<p>I think there are two places in the FHIRPath spec where it matters, 1) What is the current date/time, and 2) Should date/time values that don't have a timezone offset specified use the timezone offset of the current date/time. Both those can be policy decisions based on the scenario, with the simplest being 1) local server time, and 2) no default.</p>



<a name="157145675"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157145675" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157145675">(Jan 29 2019 at 22:47)</a>:</h4>
<p>I think at the FHIRPath spec level, yes, that should be the rule</p>



<a name="157333661"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Default%20timezone%20offset%3F/near/157333661" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Default.20timezone.20offset.3F.html#157333661">(Feb 01 2019 at 06:38)</a>:</h4>
<p>I've updated the dispositions for <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20310" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20310">GF#20310</a>, <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20311" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20311">GF#20311</a>, <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20015" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20015">GF#20015</a>, and <a href="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20312" target="_blank" title="http://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=20312">GF#20312</a> based on this discussion.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
