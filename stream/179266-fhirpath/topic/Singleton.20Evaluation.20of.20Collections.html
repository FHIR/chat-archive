---
layout: page
title: "FHIR Chat  · Singleton Evaluation of Collections · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html">Singleton Evaluation of Collections</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="195996524"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/195996524" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Nash <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#195996524">(May 01 2020 at 19:00)</a>:</h4>
<p>I have a question about the rules outlined in <a href="http://hl7.org/fhirpath/N1/#singleton-evaluation-of-collections" title="http://hl7.org/fhirpath/N1/#singleton-evaluation-of-collections">http://hl7.org/fhirpath/N1/#singleton-evaluation-of-collections</a></p>
<p>From the rules I gather "true and 'foo'" evaluates to true. <strong>What about "(true | 'foo').allTrue()"?</strong> In this case I don't believe 'foo' is an argument of allTrue() so I wouldn't expect it to be treated as true. However, that leaves us with two seemly equivalent expressions that evaluate to different results. Is my interpretation of the rules outlined in Singleton Evaluation of Collections incorrect? Specifically the limitation that the rules only apply "when a collection is passed as an argument to a function or operator that expects a single item as input" which I believe would preclude it's application in the case of allTrue().</p>



<a name="196006977"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196006977" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196006977">(May 01 2020 at 20:37)</a>:</h4>
<p><span class="user-mention silent" data-user-id="252986">Aaron Nash</span> <a href="#narrow/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections/near/195996524" title="#narrow/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections/near/195996524">said</a>:</p>
<blockquote>
<p>From the rules I gather "true and 'foo'" evaluates to true.</p>
</blockquote>
<p>That does not look correct to me.  The <a href="http://hl7.org/fhirpath/N1/#and" title="http://hl7.org/fhirpath/N1/#and">"and" operator</a> requires both operands to evaluate to true, and 'foo' is not a string that converts to true.  Also, string to boolean conversion is explicit, so you would need to call toBoolean() on it.</p>



<a name="196007139"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196007139" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196007139">(May 01 2020 at 20:39)</a>:</h4>
<p>right. My engine says "(true and 'foo').empty()"</p>



<a name="196008095"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196008095" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Nash <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196008095">(May 01 2020 at 20:48)</a>:</h4>
<p>That seems to contradict the rules under Singleton Evaluation of Collections where it states, "when a collection is passed as an argument to a function or operator that expects a single item as input" then "[...] IF the collection contains a single node AND the expected input type is Boolean THEN The collection evaluates to true"</p>



<a name="196008695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196008695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Nash <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196008695">(May 01 2020 at 20:53)</a>:</h4>
<p><a href="/user_uploads/10155/a7pFAVQLUsrb8QaOKUbJRUzD/fhirpath-snippet.png" title="fhirpath-snippet.png">Example from spec</a></p>
<div class="message_inline_image"><a href="/user_uploads/10155/a7pFAVQLUsrb8QaOKUbJRUzD/fhirpath-snippet.png" title="Example from spec"><img src="/user_uploads/10155/a7pFAVQLUsrb8QaOKUbJRUzD/fhirpath-snippet.png"></a></div>



<a name="196009104"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196009104" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196009104">(May 01 2020 at 20:56)</a>:</h4>
<p>I see.  In "true and 'foo'", the 'foo' is a collection of a single node that is not convertible to Boolean, yet the expected type of "and" is Boolean, so per the spec you quoted, that collection ('foo') should evaluate to true in this context.</p>



<a name="196009315"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196009315" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196009315">(May 01 2020 at 20:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> ?</p>



<a name="196063950"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196063950" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196063950">(May 02 2020 at 18:23)</a>:</h4>
<p>Yes, that is the intent of that language in the spec, and the behavior is tested with <a href="https://github.com/HL7/FHIRPath/blob/master/tests/r4/tests-fhir-r4.xml#L8" title="https://github.com/HL7/FHIRPath/blob/master/tests/r4/tests-fhir-r4.xml#L8">testPatientHasBirthDate</a> (though there clearly ought to be a test like the one you're suggesting <code>true and 'foo'</code>. The intent was to make it more intuitive to express some constraints, but the spec intentionally does not support converting any singleton value to a <code>true</code> boolean, the behavior only applies when evaluating a collection as input to a boolean-valued argument.</p>



<a name="196198259"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196198259" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196198259">(May 04 2020 at 15:36)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> Are you saying that <code>true and 'foo'</code> should evaluate to <code>true</code>, <code>false</code> or <code>empty</code>?</p>



<a name="196207775"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196207775" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> ryan moehrke <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196207775">(May 04 2020 at 16:43)</a>:</h4>
<p>Should the statement "true and 'foo'" care about the singleton rules at all? Isn't 'foo' a string literal and not a collection? it seems to me that this particular line is a bad way of testing out singleton evaluations..</p>



<a name="196208534"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196208534" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Nash <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196208534">(May 04 2020 at 16:50)</a>:</h4>
<p><span class="user-mention" data-user-id="192334">@John Timm</span> I believe Bryn is saying <code>true and 'foo'</code>should evaluate to <code>true</code>. He responded "yes" to Paul's question that specifically asked if 'foo' should evaluate to true in that context.</p>



<a name="196208590"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196208590" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196208590">(May 04 2020 at 16:50)</a>:</h4>
<p>Even <code>'foo'</code> is a collection, so you can do <code>'foo'.last()</code> if you wanted.  And <code>Patient.name = 'ewout'</code> would compare two collections.</p>



<a name="196208917"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196208917" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Nash <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196208917">(May 04 2020 at 16:53)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> With your answer in mind, would <code>(true | 'foo').allTrue()</code> evaluate to <code>true</code>? That's less clear to me.</p>



<a name="196212891"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196212891" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196212891">(May 04 2020 at 17:25)</a>:</h4>
<p>what about (true and 'false')?<br>
'false' is convertable to a Boolean</p>



<a name="196213836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196213836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196213836">(May 04 2020 at 17:32)</a>:</h4>
<p>Yes, <code>true and 'foo'</code> would evaluate to true, but <code>(true | 'foo').allTrue()</code> would be an error because 'foo' cannot be converted to a boolean value, and the allTrue() operation expects a collection of boolean values.</p>



<a name="196216461"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196216461" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Nash <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196216461">(May 04 2020 at 17:55)</a>:</h4>
<p>And <code>(true | 'foo').where($this)</code>? The documentation for where() states that each element is evaluated "consistent with singleton evaluation of collections behavior." Given that expected type for each element is a boolean and the rules state that if "the collection contains a single node AND the expected input type is Boolean" I would expect that expression to evaluate to <code>true</code>. Though depending how I read the rest of the documentation, I could see that statement being qualified by the requirement that the element is a Boolean prior to following the rules for singleton evaluation of collections.</p>



<a name="196216853"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196216853" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Nash <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196216853">(May 04 2020 at 17:58)</a>:</h4>
<p><span class="user-mention" data-user-id="192334">@John Timm</span> A String does not implicitly convert to a Boolean so <code>(true and 'false')</code> evaluates to <code>true</code> just as <code>(true and 'foo')</code> (see <a href="http://hl7.org/fhirpath/N1/#conversion" title="http://hl7.org/fhirpath/N1/#conversion">http://hl7.org/fhirpath/N1/#conversion</a>)</p>



<a name="196220867"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196220867" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196220867">(May 04 2020 at 18:28)</a>:</h4>
<p><span class="user-mention" data-user-id="252986">@Aaron Nash</span> The spec says:</p>
<div class="codehilite"><pre><span></span><code>IF the collection contains a single node AND the node&#39;s value can be converted to the expected input type THEN
</code></pre></div>


<p>It doesn't say <code>implicitly</code> or <code>explicitly</code> just "can be converted". <span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> what say you?</p>



<a name="196221487"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196221487" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196221487">(May 04 2020 at 18:33)</a>:</h4>
<p><span class="user-mention" data-user-id="252986">@Aaron Nash</span> This is a test case in the suite:</p>
<div class="codehilite"><pre><span></span><code>(0).not() = true
</code></pre></div>


<p>It would appear that the expectation is that <code>0</code> is converted <code>implicitly</code> to a boolean false. This is, of course, despite what the table says here:<br>
<a href="http://hl7.org/fhirpath/N1/#conversion" title="http://hl7.org/fhirpath/N1/#conversion">http://hl7.org/fhirpath/N1/#conversion</a></p>



<a name="196221892"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196221892" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196221892">(May 04 2020 at 18:36)</a>:</h4>
<p>In the <a href="http://hl7.org/fhirpath/#conversion" title="http://hl7.org/fhirpath/#conversion">Conversion</a> topic, it defines implicit vs explicit as implicit "happens automatically" as opposed to explicit which "require" use of the conversion function. On that read, <code>true and 'false'</code> would indeed be true, but there is room in the wording for Singleton Evaluation of collections to interpret that "can be converted" as either implicitly or explicitly, since it's a different context than just function argument evaluation. That seems to me to be need a clarification, and would lean heavily on what implementations currently do to provide that clarification.</p>



<a name="196222116"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196222116" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> John Timm <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196222116">(May 04 2020 at 18:38)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> There are several examples in the test suite that indicate <code>implicit</code> conversion is the expectation. Our implementation currently uses implicit conversion.</p>



<a name="196223051"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196223051" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ewout Kramer <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196223051">(May 04 2020 at 18:45)</a>:</h4>
<p>It's implicit in my .NET implementation.</p>



<a name="196250445"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196250445" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196250445">(May 04 2020 at 23:00)</a>:</h4>
<p>I would find it confusing if the conversion table says the conversion is "explicit" but then there are cases where it happens implicitly.</p>



<a name="196253220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196253220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Nash <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196253220">(May 04 2020 at 23:44)</a>:</h4>
<p>In addition, allowing a singleton evaluation of a collection to preform "explicit" conversions significantly erodes the language's ability to use its type system to catch user mistakes. Any function that accepts a String would then be able to accept any primitive. That might be desirable in some situations but given the existence of the implicit/explicit conversion table it seems like that was not the original intention when the spec was written.</p>



<a name="196330535"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196330535" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196330535">(May 05 2020 at 16:19)</a>:</h4>
<p>I agree, and can say with confidence that is the intent of defining implicit vs explicit conversions. <span class="user-mention" data-user-id="252986">@Aaron Nash</span> , would you be willing to submit a tracker to request clarification for this item?</p>



<a name="196330995"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196330995" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Nash <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196330995">(May 05 2020 at 16:22)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> Sure. I'll take care of that this afternoon.</p>



<a name="196339703"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/196339703" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Aaron Nash <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#196339703">(May 05 2020 at 17:29)</a>:</h4>
<p><a href="https://jira.hl7.org/browse/FHIR-27033" title="https://jira.hl7.org/browse/FHIR-27033">https://jira.hl7.org/browse/FHIR-27033</a></p>



<a name="229774416"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/229774416" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#229774416">(Mar 11 2021 at 00:49)</a>:</h4>
<p>In the R4 tests, there is "(0).not() = true".   Is that in error?  I did not see mention in the above tracker item about correcting that.  Conversion between Integers and Booleans is Explicit, so per the resolution of that tracker item, I would expect that test to return false.</p>



<a name="229953669"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Singleton%20Evaluation%20of%20Collections/near/229953669" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Singleton.20Evaluation.20of.20Collections.html#229953669">(Mar 12 2021 at 00:29)</a>:</h4>
<p>That's my interpretation of that tracker as well, the implicit conversion to boolean there is not allowed and that causes <code>(0).not()</code> to return false (because the singleton evaluation is effectively an exists test when used in a boolean context).</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
