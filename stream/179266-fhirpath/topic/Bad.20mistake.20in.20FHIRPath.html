---
layout: page
title: "FHIR Chat  · Bad mistake in FHIRPath · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html">Bad mistake in FHIRPath</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153977424"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153977424" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153977424">(Jul 23 2018 at 23:57)</a>:</h4>
<p>So I think we've made a bad mistake in the language, one that wastes a lot of my time.</p>



<a name="153977426"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153977426" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153977426">(Jul 23 2018 at 23:57)</a>:</h4>
<p>"" means a element with an illegal name<br>
'' means a string constant</p>



<a name="153977428"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153977428" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153977428">(Jul 23 2018 at 23:58)</a>:</h4>
<p>this has wasted a lot of time of mine debugging something only to find out that I've used " not ' and I didn't notice. And I'm not the only one</p>



<a name="153977430"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153977430" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153977430">(Jul 23 2018 at 23:59)</a>:</h4>
<p>we should do something like [] (like SQL) around illegal names... and use " ' interchangeably.</p>



<a name="153977431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153977431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153977431">(Jul 23 2018 at 23:59)</a>:</h4>
<p>I expect that we'll have to decide it's too late to do anything about it..... but can we do anything to reduce the damage?</p>



<a name="153977435"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153977435" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jean Duteau <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153977435">(Jul 24 2018 at 00:02)</a>:</h4>
<p>this is something like SQL and that always trips me up as well.  i'd love it if we didn't recreate that problem and let " and ' be used for strings.</p>



<a name="153977478"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153977478" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153977478">(Jul 24 2018 at 06:23)</a>:</h4>
<p>Would it make sense to have the compiler/interpreter/engine/processor give a warning in the case that a string resolves to an identifier?</p>



<a name="153977480"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153977480" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153977480">(Jul 24 2018 at 06:29)</a>:</h4>
<p>well, maybe. a warning where?</p>



<a name="153978844"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153978844" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153978844">(Jul 27 2018 at 21:18)</a>:</h4>
<p>but also, it's a warning if it doesn't.</p>



<a name="153978972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153978972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153978972">(Jul 28 2018 at 16:13)</a>:</h4>
<p>I suppose it would go the same place that traces do, with some pointers back to context and/or source location. Not sure I follow "it's a warning if it doesn't"?</p>



<a name="153978982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153978982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153978982">(Jul 28 2018 at 20:22)</a>:</h4>
<p>the time to raise a warning is if "xx" doesn't match a known path, but has mapped to it anyway</p>



<a name="153978983"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153978983" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153978983">(Jul 28 2018 at 20:23)</a>:</h4>
<p>or maybe the solution is that if the engine doesn't find "xx" it falls back to treating it as a string?</p>



<a name="153979056"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153979056" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153979056">(Jul 29 2018 at 11:31)</a>:</h4>
<p>In my usage of it, I actually produce errors when the parse tree doesn't resolve identifiers with properties. Doesn't cater for all occasions, but usually the string doesn't exist as a property.</p>



<a name="153979057"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153979057" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153979057">(Jul 29 2018 at 11:31)</a>:</h4>
<p>But yes, is a source of potential issues.</p>



<a name="153979194"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153979194" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153979194">(Jul 29 2018 at 20:15)</a>:</h4>
<p>"or maybe the solution is that if the engine doesn't find "xx" it falls back to treating it as a string?" I think this isn't well-defined. It should be an error if an identifier doesn't resolve to a valid path, whether that happens at compile-time or run-time is up to the environment, but it's still an error condition. A string could never resolve to a valid path, it's a string literal, not an identifier, so this is just a warning to say "you're using a string literal that resolved to a valid path in this context, did you mean to use an identifier instead?".</p>



<a name="153979197"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153979197" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153979197">(Jul 29 2018 at 20:24)</a>:</h4>
<p>I just think that all these approaches are wrong: we're trying to use tooling to work around a language mistake. and the problem for me is, in most places people use FHIRPath, there's not any logical place to handle these things - it's a language that lives in the cracks in most places (not like CQL)</p>



<a name="153979199"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153979199" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153979199">(Jul 29 2018 at 20:28)</a>:</h4>
<p>It's a fair point, but what is the solution? About to get on a plane to Tanzania, but I'll give it some more thought on the plane.</p>



<a name="153979200"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153979200" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153979200">(Jul 29 2018 at 20:29)</a>:</h4>
<p>Is changing FHIRPath to support both types of strings and introducing a new delimiter even an option at this point?</p>



<a name="153979218"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153979218" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153979218">(Jul 29 2018 at 23:28)</a>:</h4>
<p>If we're going to change it, now would be the time.<br>
(I had to handle the quote change in my first version, and still migrating content)</p>



<a name="153979219"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153979219" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153979219">(Jul 29 2018 at 23:31)</a>:</h4>
<p>it feels too late, but I don't want to say that this is actually too late on this issue</p>



<a name="153979220"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153979220" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153979220">(Jul 29 2018 at 23:32)</a>:</h4>
<p>enjoy Tanzania - thanks for going</p>



<a name="153982353"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982353" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982353">(Aug 06 2018 at 02:53)</a>:</h4>
<p>How about this: Change the identifier delimiter in FHIRPath to a backtick, so double-quotes wouldn't be allowed at all in FHIRPath. Then CQL can introduce a double-quoted identifier.</p>



<a name="153982354"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982354" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982354">(Aug 06 2018 at 02:53)</a>:</h4>
<p>That way it doesn't clash with any existing symbol-use in FHIRPath or CQL, FHIRPath gets a non-string-looking identifier delimiter, and CQL can still have double-quoted identifiers (which is really important in the CQL space).</p>



<a name="153982420"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982420" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982420">(Aug 06 2018 at 05:36)</a>:</h4>
<p>by 'identifier' you mean 'element name'?</p>



<a name="153982543"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982543" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982543">(Aug 06 2018 at 14:18)</a>:</h4>
<p>Element name is one possible resolution of an identifer, I mean identifier in the sense of the lexical element of the language. So everywhere we currently allow the use of quoted-identifiers would be changed to use back-ticks.</p>



<a name="153982544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982544">(Aug 06 2018 at 14:19)</a>:</h4>
<p>Probably the biggest impact would be in the use of context variables where we regularly use the quoted-identifiers to allow characters like - in the identifiers. So what is now <code>%"us-zip"</code> would become <code>%`us-zip` </code></p>



<a name="153982545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982545">(Aug 06 2018 at 14:22)</a>:</h4>
<p>And looking at this page in the current build: <a href="http://build.fhir.org/fhirpath.html" target="_blank" title="http://build.fhir.org/fhirpath.html">http://build.fhir.org/fhirpath.html</a>, I can see the issue occurs at least three times on that page. So with this change, the use of double-quotes would always be an error in FHIRPath.</p>



<a name="153982559"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982559" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982559">(Aug 06 2018 at 14:41)</a>:</h4>
<p>Back-tick vs. forward tick are going to be confusing to some...</p>



<a name="153982578"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982578" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982578">(Aug 06 2018 at 14:52)</a>:</h4>
<p>Yes, but much less likely to be confused with string delimiters, especially in the web space where JSON is ubiquitous.</p>



<a name="153982581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982581">(Aug 06 2018 at 14:56)</a>:</h4>
<p>Backticks are somewhat unusual, might also be a bit hard to discern depending on font/rendering. What about the earlier proposed SQL-style square brackets? e.g. [identifier]</p>



<a name="153982582"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982582" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982582">(Aug 06 2018 at 14:58)</a>:</h4>
<p>Square brackets would conflict with array indexers, as well as with the retrieve syntax in CQL.</p>



<a name="153982583"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982583" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982583">(Aug 06 2018 at 14:58)</a>:</h4>
<p>And it seems like they would also be confused with array syntax in JSON.</p>



<a name="153982588"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982588" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Michel Rutten <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982588">(Aug 06 2018 at 15:11)</a>:</h4>
<p>Ah I see, thanks for explaining. Apparently the backtick character is not <em>that</em> unusual either:<br>
<a href="https://en.wikipedia.org/wiki/Grave_accent#Use_in_programming" target="_blank" title="https://en.wikipedia.org/wiki/Grave_accent#Use_in_programming">https://en.wikipedia.org/wiki/Grave_accent#Use_in_programming</a></p>



<a name="153982682"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982682" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982682">(Aug 06 2018 at 17:24)</a>:</h4>
<p>Another option (not that I object to back-ticks) would be to use braces around the identifiers, like %{us-zip}, sort of like the example in 5.6.8 (replaceMatches) in <a href="http://hl7.org/fhirpath/" target="_blank" title="http://hl7.org/fhirpath/">http://hl7.org/fhirpath/</a>, and also sort of like JavaScript template literal syntax (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals</a>).  Braces make sense to me if the identifier is a variable name; I'm not sure about other cases.</p>



<a name="153982683"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982683" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982683">(Aug 06 2018 at 17:35)</a>:</h4>
<p>Braces would conflict with list selector syntax.</p>



<a name="153982699"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982699" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982699">(Aug 06 2018 at 19:04)</a>:</h4>
<blockquote>
<p>Square brackets would conflict with array indexers</p>
</blockquote>



<a name="153982700"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982700" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982700">(Aug 06 2018 at 19:04)</a>:</h4>
<p>why?</p>



<a name="153982706"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153982706" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153982706">(Aug 06 2018 at 19:10)</a>:</h4>
<p>In postgresql " used to quote identifiers and ' for strings - postgresql implements SQL standard better than others.</p>



<a name="153987099"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987099" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987099">(Aug 15 2018 at 20:41)</a>:</h4>
<p><span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> </p>
<blockquote>
<p>why?</p>
</blockquote>
<p>....</p>



<a name="153987106"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987106" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987106">(Aug 15 2018 at 21:08)</a>:</h4>
<p>You're right, square brackets wouldn't conflict with array indexers directly in FHIRPath, I misspoke. But they would conflict with the retrieve syntax in CQL.</p>



<a name="153987113"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987113" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987113">(Aug 15 2018 at 21:10)</a>:</h4>
<p>We chose the double-quotes for identifiers and single-quotes for strings in CQL based on the fact that many (if not all) dialects of SQL support that.</p>



<a name="153987114"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987114" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987114">(Aug 15 2018 at 21:12)</a>:</h4>
<p>Square brackets for identifiers is common in T-SQL flavors (Sybase, MSSQL, MySQL)</p>



<a name="153987117"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987117" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987117">(Aug 15 2018 at 21:15)</a>:</h4>
<p>Actually, MySQL uses backticks (and has an option to turn on double-quotes).</p>



<a name="153987491"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987491" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987491">(Aug 16 2018 at 10:28)</a>:</h4>
<p>so.... where does that leave us?</p>



<a name="153987540"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987540" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987540">(Aug 16 2018 at 12:41)</a>:</h4>
<p>Well, it seems to me we have two options, 1) leave it, or 2) change the identifier delimiter in FHIRPath to a backtick. FHIR has far and away the most usage of FHIRPath, so what is the practical impact of the change? Are there any actual invariants that use double-quoted identifiers?</p>



<a name="153987779"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987779" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987779">(Aug 16 2018 at 20:26)</a>:</h4>
<p>if there are in the spec, then they are in error</p>



<a name="153987782"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987782" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987782">(Aug 16 2018 at 20:26)</a>:</h4>
<p>there might be a few in implementers structure maps.</p>



<a name="153987799"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987799" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987799">(Aug 16 2018 at 20:46)</a>:</h4>
<p>So it seems like if we're going to do it, now is the only windows. Straw poll?</p>



<a name="153987800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987800">(Aug 16 2018 at 20:47)</a>:</h4>
<p>I think so.</p>



<a name="153987803"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987803" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987803">(Aug 16 2018 at 20:51)</a>:</h4>
<p>@all Straw Poll: FHIRPath says that:</p>
<blockquote>
<p>Paths may use double quotes to include characters in path parts that would otherwise be interpreted as keywords or operators, e.g.: Message."PID-1"</p>
</blockquote>
<p>This is confusing for implementers who often use " for strings. We could fix this by changing from " to `, and saying that strings can either be delimited by ' or ". </p>
<p>Please indicate your response to this as yes or no by responding to this post with either <span class="emoji emoji-1f44d" title="thumbs up">:thumbs_up:</span>  or <span class="emoji emoji-1f44e" title="thumbs down">:thumbs_down:</span>  (you can find that by scrolling further down the list of emojis)</p>



<a name="153987804"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987804" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987804">(Aug 16 2018 at 20:51)</a>:</h4>
<p>(use emoji by clicking on the down arrow on the top right against the post, and choose "Add emoji reaction"</p>



<a name="153987805"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987805" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987805">(Aug 16 2018 at 20:52)</a>:</h4>
<p>Friendly amendment, strings would only be delimited by a single-quote. Double-quotes would be invalid syntax.</p>



<a name="153987806"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987806" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987806">(Aug 16 2018 at 20:52)</a>:</h4>
<p>you can vote for the amendment as well if you want. I'm... abstaining on the amendment (not sure....)</p>



<a name="153987807"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987807" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987807">(Aug 16 2018 at 20:53)</a>:</h4>
<p>Allowing both single and double-quoted delimited strings in FHIRPath would represent a significant misalignment with CQL.</p>



<a name="153987808"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987808" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987808">(Aug 16 2018 at 20:53)</a>:</h4>
<p>oh?</p>



<a name="153987810"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987810" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987810">(Aug 16 2018 at 20:53)</a>:</h4>
<p>Yes, if FHIRPath allowed double-quoted strings, I could no longer differentiate them as identifiers in CQL sytnax.</p>



<a name="153987811"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987811" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987811">(Aug 16 2018 at 20:54)</a>:</h4>
<p>ok. guess I'll vote for the amendment after all</p>



<a name="153987812"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987812" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987812">(Aug 16 2018 at 20:54)</a>:</h4>
<p>Thank you :)</p>



<a name="153987852"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987852" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987852">(Aug 16 2018 at 21:54)</a>:</h4>
<p>I don't suppose making the same change in CQL is something to be considered?  Then there would not be a misalignment if double-quotes were allowed on strings.</p>



<a name="153987855"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987855" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987855">(Aug 16 2018 at 21:57)</a>:</h4>
<p>not to be considered - a massive set of existing content that would be invalidated, including explicit ballot syntax rules</p>



<a name="153987943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987943">(Aug 17 2018 at 00:34)</a>:</h4>
<p>Backtick and single quote are so close to the same , and with some editors the font makes it even worse.<br>
But I do support the removal of double quotes as valid syntax to force the issue.</p>



<a name="153987946"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987946" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987946">(Aug 17 2018 at 00:35)</a>:</h4>
<p>We did come to the conclusion that using the square brackets wasn't a conflict with array scopers right?</p>



<a name="153987951"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987951" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987951">(Aug 17 2018 at 00:37)</a>:</h4>
<p>That's correct, it's not in conflict with array indexers within FHIRPath itself, but it would conflict with Retrieve syntax in CQL (because brackets can start an expression in CQL).</p>



<a name="153987952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Bad%20mistake%20in%20FHIRPath/near/153987952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Bad.20mistake.20in.20FHIRPath.html#153987952">(Aug 17 2018 at 00:37)</a>:</h4>
<p>Thanks, a CQL clash, ok.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
