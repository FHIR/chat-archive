---
layout: page
title: "FHIR Chat  · Literal syntax for Concept · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Literal.20syntax.20for.20Concept.html">Literal syntax for Concept</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="219878544"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Literal%20syntax%20for%20Concept/near/219878544" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Literal.20syntax.20for.20Concept.html#219878544">(Dec 14 2020 at 18:00)</a>:</h4>
<p>Someone recently asked me how you would use FHIRPath to describe an invariant that says "for a given coding, if the coding contains a certain code A, it has to also contain a second code B, where B is not in a certain valueset S."   My attempt at this was:</p>
<div class="codehilite"><pre><span></span><code>x.coding.where(system = &#39;http://loinc.org&#39; and code = &#39;12345&#39;).exists() implies x.coding.where(system != &#39;http://loinc.org&#39; and code != &#39;12345&#39; and $this.memberOf(&#39;http://myvaluesets.org/ABC&#39;).not()).exists()
</code></pre></div>
<p>I think that's right, but correct me if I'm wrong!  Anyway, that's not the point.  The thing I realized is that it could be cleaned up if FHIRPath had a literal syntax for a concept (system, code, optional display).  FHIR Shorthand has one that might work out really well here.  If it was employed, then the above would be rewritten as:</p>
<div class="codehilite"><pre><span></span><code>x.coding.where($this ~ http://loinc.org#12345).exists() implies x.coding.where($this !~ http://loinc.org#12345 and $this.memberOf(&#39;http://myvaluesets.org/ABC&#39;).not()).exists()
</code></pre></div>
<p>Have we given any thought to supporting a literal representation of CQL's <code>Concept</code>?</p>



<a name="221259729"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Literal%20syntax%20for%20Concept/near/221259729" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Literal.20syntax.20for.20Concept.html#221259729">(Dec 31 2020 at 00:51)</a>:</h4>
<p>So... I guess that's a no. ;-). Well then, maybe we should consider it?</p>



<a name="221545471"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Literal%20syntax%20for%20Concept/near/221545471" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Literal.20syntax.20for.20Concept.html#221545471">(Jan 04 2021 at 16:28)</a>:</h4>
<p>Might suggest the pipe convention for concatenating a system + code, since FHIR uses that elsewhere.</p>



<a name="221555933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Literal%20syntax%20for%20Concept/near/221555933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Moesel <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Literal.20syntax.20for.20Concept.html#221555933">(Jan 04 2021 at 17:44)</a>:</h4>
<p>I hadn't thought of this before, but FHIR also uses <code>|</code> for <code>canonical</code>.  So <code>http://foo.org|bar</code> means different things depending on the context of its use.  I don't love that.  (But I guess the same might be said for <code>http://foo.org#bar</code>).</p>



<a name="222186621"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Literal%20syntax%20for%20Concept/near/222186621" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Literal.20syntax.20for.20Concept.html#222186621">(Jan 09 2021 at 19:56)</a>:</h4>
<p>Regardless of whether it's a <code>|</code> or a <code>#</code>, it seems like it would need delimiters in order to be added to FHIRPath, since many of the symbols allowed in URLs are already part of other production rules in the grammar. Maybe it's a <code>#</code> followed by the FHIR URL syntax for a code? So <code>#http://foo.org|bar</code>? And you could potentially generalize that to a "uri" literal and use it for both codes and canonicals...</p>



<a name="222754832"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Literal%20syntax%20for%20Concept/near/222754832" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Literal.20syntax.20for.20Concept.html#222754832">(Jan 14 2021 at 17:49)</a>:</h4>
<p>it does have many problems</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
