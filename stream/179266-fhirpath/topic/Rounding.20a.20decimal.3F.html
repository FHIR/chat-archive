---
layout: page
title: "FHIR Chat  · Rounding a decimal? · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html">Rounding a decimal?</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="153999956"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999956" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999956">(Sep 26 2018 at 14:44)</a>:</h4>
<p>For a Questionnaire, I wrote a FHRIPath expression to do a BMI calculation, and the result was "22.142901142866".  Does FHIRPath provide some facility for rounding a Decimal to some number of decimal places, or for converting it to an integer (which could be used to accomplish the same thing)?</p>



<a name="153999962"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999962" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999962">(Sep 26 2018 at 14:48)</a>:</h4>
<p>.toInteger()</p>



<a name="153999963"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999963" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999963">(Sep 26 2018 at 14:50)</a>:</h4>
<p>Actually, no, that doesn't allow decimal to integer.</p>



<a name="153999964"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999964" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999964">(Sep 26 2018 at 14:50)</a>:</h4>
<p>So div</p>



<a name="153999967"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999967" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999967">(Sep 26 2018 at 14:56)</a>:</h4>
<p>Wouldn't div truncate rather than round?</p>



<a name="153999968"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999968" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999968">(Sep 26 2018 at 14:57)</a>:</h4>
<p>Why doesn't toInteger accept a decimal?</p>



<a name="153999969"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999969" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999969">(Sep 26 2018 at 15:03)</a>:</h4>
<p>Yes, rounding would have to be accounted for if you wanted a round instead of a truncate.</p>



<a name="153999970"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999970" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999970">(Sep 26 2018 at 15:03)</a>:</h4>
<p>Because there are multiple ways to change a decimal into an integer, so convert doesn't assume which one you want.</p>



<a name="153999972"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999972" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999972">(Sep 26 2018 at 15:07)</a>:</h4>
<p>Okay, I guess I could do:  "((long FHIRPath expression) + 0.5) div 1" to get a rounded integer value.   It is not an obvious approach, though it should work.  Maybe a "round()" function could be added?</p>



<a name="153999973"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999973" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999973">(Sep 26 2018 at 15:10)</a>:</h4>
<p>It actually starts looking more complicated if you want to round not to an integer to but to fewer decimal places:</p>
<div class="codehilite"><pre><span></span> (((long FHIRPath expression)*10 + 0.5) div 1)/10
</pre></div>


<p>to get 1 decimal place, as opposed to something like </p>
<div class="codehilite"><pre><span></span>(long FHIRPath expression).round(1)
</pre></div>



<a name="153999981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/153999981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#153999981">(Sep 26 2018 at 15:19)</a>:</h4>
<p>Note that div and mod support decimals, not just integers.</p>



<a name="154000571"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/154000571" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#154000571">(Sep 27 2018 at 20:54)</a>:</h4>
<p><a href="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18501" target="_blank" title="https://gforge.hl7.org/gf/project/fhir/tracker/?action=TrackerItemEdit&amp;tracker_item_id=18501">GF#18501</a></p>



<a name="154003223"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/154003223" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#154003223">(Sep 30 2018 at 17:56)</a>:</h4>
<p>We have a demo of fhirpath.js in Columbia room in 5 min - join us!</p>



<a name="154003226"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/154003226" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#154003226">(Sep 30 2018 at 17:57)</a>:</h4>
<p><a href="https://lhncbc.github.io/fhirpath.js/" target="_blank" title="https://lhncbc.github.io/fhirpath.js/">https://lhncbc.github.io/fhirpath.js/</a></p>



<a name="154003228"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/154003228" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nicola (RIO/SS) <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#154003228">(Sep 30 2018 at 17:58)</a>:</h4>
<p><span class="user-mention" data-user-id="191315">@Josh Mandel</span> would you like to join us?</p>



<a name="154003507"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Rounding%20a%20decimal%3F/near/154003507" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Mandel <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Rounding.20a.20decimal.3F.html#154003507">(Sep 30 2018 at 21:13)</a>:</h4>
<p>Hey -- sorry to have missed it!</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
