---
layout: page
title: "FHIR Chat  · Use of Library Resource · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Use.20of.20Library.20Resource.html">Use of Library Resource</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="196696012"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Use%20of%20Library%20Resource/near/196696012" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Use.20of.20Library.20Resource.html#196696012">(May 06 2020 at 20:57)</a>:</h4>
<p>Anyone used the library resource to contain fhirpath expressions?<br>
<span class="user-mention" data-user-id="191359">@Bryn Rhodes</span> I've seen the examples that show including <code>.cql</code> files encoded in there, what I'm looking for is including an <code>expression</code> datatype used as an extension property in there.<br>
As the expression itself is the content...<br>
(Happy for the name and description to come out into the real props)</p>
<div class="codehilite"><pre><span></span><code>          &lt;valueExpression&gt;
            &lt;description value=&quot;Practitioner from Context&#39;s Medicare Provider number&quot; /&gt;
            &lt;name value=&quot;ContextPractitionerProviderNumber&quot; /&gt;
            &lt;language value=&quot;text/fhirpath&quot; /&gt;
            &lt;expression value=&quot;%LaunchPractitioner.identifier.where(system=&#39;http://ns.electronichealth.net.au/id/hi/prn&#39;).first().value&quot; /&gt;
          &lt;/valueExpression&gt;
</code></pre></div>


<p>Or does this text need to be base64 encoded into the attachment content data?</p>



<a name="196700508"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Use%20of%20Library%20Resource/near/196700508" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Use.20of.20Library.20Resource.html#196700508">(May 06 2020 at 21:30)</a>:</h4>
<p>I've seen suggestions for using multiple content elements in this way, but that would still require base64 encoding of the expressions. If I understand what you're suggesting, it is to actually use extensions to add the expressions using the Expression data type, and then be able to reference those by name. I like that approach, and it would be a straightforward profile to define, then it would be referenced with a canonical, something like: <code>http://fhir.org/guides/example/Library/FHIRPathCollection#ContextPractitionerProviderNumber</code>, yes?</p>



<a name="196700581"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Use%20of%20Library%20Resource/near/196700581" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Use.20of.20Library.20Resource.html#196700581">(May 06 2020 at 21:31)</a>:</h4>
<p>The only thing that feels a little off about that is how would a system know to interpret the anchor part of that URL as a reference to an extension by the name.</p>



<a name="196700614"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Use%20of%20Library%20Resource/near/196700614" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Use.20of.20Library.20Resource.html#196700614">(May 06 2020 at 21:31)</a>:</h4>
<p>Other than that that's the behavior we would prescribe, of course :)</p>



<a name="196710289"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Use%20of%20Library%20Resource/near/196710289" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Use.20of.20Library.20Resource.html#196710289">(May 06 2020 at 23:23)</a>:</h4>
<p>I'll try it out just base64 ing the expression into some resources and see how it goes.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
