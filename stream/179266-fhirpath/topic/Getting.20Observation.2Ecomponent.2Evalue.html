---
layout: page
title: "FHIR Chat  · Getting Observation.component.value · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html">Getting Observation.component.value</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="264073545"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/264073545" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yunwei Wang <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#264073545">(Dec 07 2021 at 21:19)</a>:</h4>
<p>Kindly new here. So I want to write FHIRPath to get Observation.component.value for certain code. For example, only get Diastolic blood pressure. I am not sure if this is correct</p>
<div class="codehilite"><pre><span></span><code>Observation.component.where(code.coding.code = &#39;8462-4&#39;).value
</code></pre></div>
<p>I am not sure <code>code.coding.code='8462-4'</code> means any coding has code 8462-4 or the first coding has code 8462-4</p>
<p>Thanks!</p>



<a name="264074959"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/264074959" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#264074959">(Dec 07 2021 at 21:29)</a>:</h4>
<p>It means any of the codings equal that value.  (To be safe, you should always check system too.)</p>



<a name="264075431"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/264075431" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#264075431">(Dec 07 2021 at 21:32)</a>:</h4>
<p>And needs to have a where on the code.coding.where() as nerds to be restricted at each collection point.<br>
Will try getting the exact expression when I get to my desk.</p>



<a name="267045603"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267045603" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuan Peng <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267045603">(Jan 06 2022 at 10:28)</a>:</h4>
<p>Hi everybody! i'm quite new to the topic of FHIR Path. I'm having a similar problem with Patient resource.<br>
I used <code>identifier.where(type.coding.code='MR').value</code> to find the identifier, it works fine if there is only one <code>coding</code> inside <code>type</code>. However if there are more <code>coding</code>s exist in <code>type</code>, the FHIR Path returns null. <br>
Can someone please help? Thanks!</p>



<a name="267068684"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267068684" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Surprenant <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267068684">(Jan 06 2022 at 14:49)</a>:</h4>
<p>maybe try something like this?  <code>identifier.where(type.coding.where(code='MR')).value</code></p>



<a name="267157159"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267157159" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuan Peng <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267157159">(Jan 07 2022 at 06:58)</a>:</h4>
<p>I've tried that, but somehow it's still not working.</p>



<a name="267221877"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267221877" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267221877">(Jan 07 2022 at 18:09)</a>:</h4>
<p>What engine are you using?</p>



<a name="267402800"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267402800" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuan Peng <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267402800">(Jan 10 2022 at 07:25)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191320">Lloyd McKenzie</span> <a href="#narrow/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue/near/267221877">said</a>:</p>
<blockquote>
<p>What engine are you using?</p>
</blockquote>
<p>I'm using the FHIR Path in a Java application. In the application we use the newest versions of  <code>ca.uhn.fhir.fhirpath.IFhirPath</code> and <code>org.hl7.fhir.r4.hapi.fluentpath.FhirPathR4</code> packages. We defined a FHIR Path as String and then use the method <code>evaluate(org.hl7.fhir.instance.model.api.IBase theInput, String thePath, Class&lt;T&gt; theReturnType)</code>.</p>



<a name="267456240"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267456240" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lloyd McKenzie <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267456240">(Jan 10 2022 at 15:51)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span></p>



<a name="267457380"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267457380" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267457380">(Jan 10 2022 at 15:57)</a>:</h4>
<p>The path expression you gave above works for me. See:</p>
<p><a href="http://hapi.fhir.org/baseR4/Observation/1574881?_fhirpath=Observation.component.where(code.coding.code%20=%20%278462-4%27).value">http://hapi.fhir.org/baseR4/Observation/1574881?_fhirpath=Observation.component.where(code.coding.code%20=%20%278462-4%27).value</a></p>



<a name="267457755"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267457755" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267457755">(Jan 10 2022 at 16:00)</a>:</h4>
<p>If this isn't working, can you post your data to the HAPI FHIR server and produce a link similar to mine to show the non-working FP expression? It's nice and easy to troubleshoot that way</p>



<a name="267458563"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267458563" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267458563">(Jan 10 2022 at 16:04)</a>:</h4>
<p>Is _fhirpath a HAPI-only thing, or is it defined in an IG somewhere?  It looks really useful.</p>



<a name="267460913"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267460913" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> James Agnew <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267460913">(Jan 10 2022 at 16:19)</a>:</h4>
<p>It's just a HAPI FHIR thing. There is an interceptor you can add that layers on this functionality... Agree it's super useful :)</p>



<a name="267468817"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267468817" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267468817">(Jan 10 2022 at 17:09)</a>:</h4>
<p><span class="user-mention" data-user-id="191319">@James Agnew</span> Just saw the operation for the first time, immediately want to implement it in Firely Server. Pretty cool.</p>



<a name="267494920"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267494920" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267494920">(Jan 10 2022 at 20:26)</a>:</h4>
<p>In the Telstra server it's called <a href="https://sqlonfhir-r4.azurewebsites.net/fhir/Patient/example/$extract?expression=name.first()">https://sqlonfhir-r4.azurewebsites.net/fhir/Patient/example/$extract?expression=name.first()</a><br>
(though I'm no longer happy with the operation name as it clashes now)</p>



<a name="267495044"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267495044" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267495044">(Jan 10 2022 at 20:27)</a>:</h4>
<p>Funny that we both returned a parameters object!</p>



<a name="267496321"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267496321" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexander Zautke <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267496321">(Jan 10 2022 at 20:38)</a>:</h4>
<p>Sorry if it's too off-topic for the current thread... would there be interest in defining it as a core operation?</p>



<a name="267831643"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267831643" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuan Peng <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267831643">(Jan 13 2022 at 07:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="191319">James Agnew</span> <a href="#narrow/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue/near/267457755">said</a>:</p>
<blockquote>
<p>If this isn't working, can you post your data to the HAPI FHIR server and produce a link similar to mine to show the non-working FP expression? It's nice and easy to troubleshoot that way</p>
</blockquote>
<p>I've tried it with my 'problematic' Patient resource, and it did not working:<br>
<a href="https://hapi.fhir.org/baseR4/Patient/2782733?_fhirpath=Patient.identifier.where(type.coding.where(code=%27MR%27)).value">https://hapi.fhir.org/baseR4/Patient/2782733?_fhirpath=Patient.identifier.where(type.coding.where(code=%27MR%27)).value</a><br>
<a href="https://hapi.fhir.org/baseR4/Patient/2782733?_fhirpath=Patient.identifier.where(type.coding.code=%27MR%27).value">https://hapi.fhir.org/baseR4/Patient/2782733?_fhirpath=Patient.identifier.where(type.coding.code=%27MR%27).value</a></p>



<a name="267959691"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267959691" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267959691">(Jan 14 2022 at 02:12)</a>:</h4>
<p>That query looks good to me, and works on the fhirpathtester, and if I was doing that, you probably should also include the system too.<br>
<a href="/user_uploads/10155/FTS_icQyoAppViztF14BOvtf/image.png">image.png</a> <br>
Maybe an issue with the java fhirpath implementation?</p>
<div class="message_inline_image"><a href="/user_uploads/10155/FTS_icQyoAppViztF14BOvtf/image.png" title="image.png"><img src="/user_uploads/10155/FTS_icQyoAppViztF14BOvtf/image.png"></a></div>



<a name="267959733"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267959733" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267959733">(Jan 14 2022 at 02:13)</a>:</h4>
<p>To make this work with the HAPI engine, try this one:<br>
<a href="https://hapi.fhir.org/baseR4/Patient/2782733?_fhirpath=Patient.identifier.where(type.coding.where(code=%27MR%27).exists()).value">https://hapi.fhir.org/baseR4/Patient/2782733?_fhirpath=Patient.identifier.where(type.coding.where(code=%27MR%27).exists()).value</a><br>
the inclusion of the .exists() on the check for the coding seems to make that work nicely.</p>



<a name="267984565"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/Getting%20Observation.component.value/near/267984565" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuan Peng <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/Getting.20Observation.2Ecomponent.2Evalue.html#267984565">(Jan 14 2022 at 08:33)</a>:</h4>
<p>It works! Thanks a lot! <span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span></p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
