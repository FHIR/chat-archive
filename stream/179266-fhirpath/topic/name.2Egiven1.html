---
layout: page
title: "FHIR Chat  · name.given1 · fhirpath"
---

{% raw %}<h2>Stream: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/index.html">fhirpath</a></h2>
<h3>Topic: <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html">name.given1</a></h3>

<hr>

<base href="https://chat.fhir.org">

<head><link href="https://fhir.github.io/chat-archive/style.css" rel="stylesheet"></head>

<a name="154010301"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154010301" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154010301">(Oct 18 2018 at 22:42)</a>:</h4>
<p>There is test in tests-fhir-r4.xml which says that "name.given1", when run on patent-example.xml, should be an invalid expression.  Why would that not return the empty set (indicating that there is no given1 field on that name structure)?</p>



<a name="154010326"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154010326" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154010326">(Oct 19 2018 at 02:19)</a>:</h4>
<p>Is that in the tests that understand type information?</p>



<a name="154010352"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154010352" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154010352">(Oct 19 2018 at 05:12)</a>:</h4>
<p>that test is specifically testing that the engine knows that given1 is not a valid property name for the class</p>



<a name="154011441"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154011441" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154011441">(Oct 23 2018 at 16:11)</a>:</h4>
<p>Would that be test of the FHIRPath specification (<a href="http://hl7.org/fhirpath/2018Sep/" target="_blank" title="http://hl7.org/fhirpath/2018Sep/">http://hl7.org/fhirpath/2018Sep/</a>) or of the FHIR extensions (<a href="http://hl7.org/fhir/2018Sep/fhirpath.html" target="_blank" title="http://hl7.org/fhir/2018Sep/fhirpath.html">http://hl7.org/fhir/2018Sep/fhirpath.html</a>)?  (I am having trouble seeing in either place that raising an error is the right behavior, but I am quite possibly just missing it.)</p>



<a name="154011604"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154011604" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154011604">(Oct 23 2018 at 21:02)</a>:</h4>
<p>I use that knowledge when validating constraints in a structure definition to be sure that it is valid on the instance it is expected to run on (and similarly on questionnaire definition validation, that when defining links in the fhirpath that they actually exist in the questionnaire. Kinda fun)</p>



<a name="154011695"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154011695" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154011695">(Oct 24 2018 at 02:13)</a>:</h4>
<p><span class="user-mention" data-user-id="195344">@Paul Lynch</span> , I would have expected to find it <a href="http://hl7.org/fhirpath/2018Sep/#type-safety-and-strict-evaluation" target="_blank" title="http://hl7.org/fhirpath/2018Sep/#type-safety-and-strict-evaluation">here</a>, but I think you're right, the spec does not explicitly state that an invalid property name is an error condition. It should be in the base FHIRPath spec, not in the FHIR extensions, and given that the behavior is verified with a test, I think this is a case of the implementations being ahead of the spec.</p>



<a name="154011847"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154011847" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154011847">(Oct 24 2018 at 14:27)</a>:</h4>
<p>That's fine.  It would be very helpful for it to be in the spec, because I was not expecting that behavior.</p>



<a name="154012327"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012327" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012327">(Oct 26 2018 at 06:59)</a>:</h4>
<p>I think it's a behaviour of the models that its applied against, not the core fhirpath spec.</p>



<a name="154012642"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012642" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012642">(Oct 26 2018 at 16:35)</a>:</h4>
<p><span class="user-mention" data-user-id="191367">@Brian Postlethwaite</span> Are you suggesting that some models would raise an error if an invalid property name was requested, but that other models would not?</p>



<a name="154012693"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012693" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Bryn Rhodes <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012693">(Oct 26 2018 at 18:24)</a>:</h4>
<p>Yeah, that's not my understanding. Brian, is that a feature of your engine?</p>



<a name="154012746"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012746" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012746">(Oct 26 2018 at 21:31)</a>:</h4>
<p>Yup. I add more validation rules for the various uses i have.<br>
I dont suspect others are checking linkids for questionnaires.<br>
Have been thinking about checking codes too, as with a known binding, can check that the value in the expression exists in the set.<br>
Not expecting that to be documented in the spec though.</p>



<a name="154012836"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012836" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012836">(Oct 27 2018 at 07:59)</a>:</h4>
<p>I think that maybe we should categorise the tests so you can ignore tests that depend on validation against the underlying model, if you're not intersted in that</p>



<a name="154012924"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012924" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012924">(Oct 27 2018 at 19:21)</a>:</h4>
<p><span class="user-mention" data-user-id="191316">@Grahame Grieve</span> That would help, but also along those lines (and as I thought I suggested somewhere, but I can't find it) I think it would be good for FHIRPath to have its own file of tests, separate from the tests that are for the FHIR-specific features.</p>



<a name="154012929"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012929" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012929">(Oct 27 2018 at 19:24)</a>:</h4>
<p>well, you're welcome to define them...</p>



<a name="154012930"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012930" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012930">(Oct 27 2018 at 19:26)</a>:</h4>
<p>I didn't necessarily mean <em>new</em> tests, but that the core FHIRPath tests in tests-fhir-r4.xml could be separated into its own file.</p>



<a name="154012931"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012931" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012931">(Oct 27 2018 at 19:27)</a>:</h4>
<p>there's a lot that wouldn't be tested that way</p>



<a name="154012932"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012932" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012932">(Oct 27 2018 at 19:29)</a>:</h4>
<p>I'm not sure why.  FHIRPath engines would be tested with (at least) the core FHIRPath tests, and R4 FHIRPath engines would be tested with those plus whatever was left in tests-fhir-r4.xml</p>



<a name="154012933"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012933" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012933">(Oct 27 2018 at 19:29)</a>:</h4>
<p>because anything to do with objects (as opposed to primitives) needs some objects to test with.</p>



<a name="154012935"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012935" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012935">(Oct 27 2018 at 19:31)</a>:</h4>
<p>Objects are not a problem.  The fhirpath.js engine has no knowledge of FHIR types, but is still using the FHIR resources as the data against which test expressions (in tests-fhir-r4.xml) are run.</p>



<a name="154012936"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012936" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012936">(Oct 27 2018 at 19:31)</a>:</h4>
<p>It just doesn't know (or care) that those resources are FHIR resources.</p>



<a name="154012937"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012937" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012937">(Oct 27 2018 at 19:32)</a>:</h4>
<p>I don't understand what you're trying to do then</p>



<a name="154012938"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012938" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012938">(Oct 27 2018 at 19:33)</a>:</h4>
<p>what's the point of separating out the dependencies that you need anyway?</p>



<a name="154012939"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012939" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012939">(Oct 27 2018 at 19:33)</a>:</h4>
<p>To separate the tests like name.given1 (which require validation against a known FHIR model) from other tests that don't require knowledge of FHIR types.</p>



<a name="154012940"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012940" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012940">(Oct 27 2018 at 19:33)</a>:</h4>
<p>oh well that's what I suggested, so I thought you must mean something else</p>



<a name="154012942"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012942" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012942">(Oct 27 2018 at 19:36)</a>:</h4>
<p>Okay good.  I thought you were talking about adding a flag to certain tests that would allow them to be skipped over.  That would still mean that a FHIRPath engine (which might I suppose not be used for FHIR itself) would still need to be pulling in tests-fhir-r4.xml (or r5.xml....) which if FHIRPath is its own thing, does not seem ideal.</p>



<a name="154012943"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012943" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012943">(Oct 27 2018 at 19:38)</a>:</h4>
<p>so my confusion remain. I was talking about adding a flag. But your separated tests will still need to pull in the source that supports tests-fhir-r4.xml... so I don't know what the point is</p>



<a name="154012944"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012944" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012944">(Oct 27 2018 at 19:40)</a>:</h4>
<p>The separated test file for core FHIRPath would start out with copies of the resources the tests referenced, and would be available as a download from the FHIRPath page, not a FHIR page.  The resources would not need to be (or  remain) valid FHIR resources, and could be changed as necessary to support new FHIRPath tests (possibly invalidating those resources, but it wouldn't matter).</p>



<a name="154012949"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012949" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Grahame Grieve <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012949">(Oct 27 2018 at 19:43)</a>:</h4>
<p>well, I think it would matter since now the tests could not be used for engines that used FHIR</p>



<a name="154012952"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012952" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012952">(Oct 27 2018 at 19:48)</a>:</h4>
<p>Perhaps it would depend on how those engines are implemented.  I was thinking that if eventually fhirpath.js has knowledge of FHIR types, that knowledge would be passed into it as an optional argument, so that it could be checking against R3, R4, or something non-FHIR.  If nothing was provided, it would not do anything with types.</p>
<p>I can see how this separation might be disruptive for existing FHIRPath engines, but I think the case for it will become stronger over time now that FHIRPath is its own spec.</p>



<a name="154012954"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012954" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Paul Lynch <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012954">(Oct 27 2018 at 19:50)</a>:</h4>
<p>In any case, a flag as you suggest would be an improvement.</p>



<a name="154012981"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012981" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012981">(Oct 27 2018 at 22:10)</a>:</h4>
<p>The .net engine is fully separated, and does have both styles of tests in it. As well as running the core tests.</p>



<a name="154012982"></a>
<h4><a href="https://chat.fhir.org#narrow/stream/179266-fhirpath/topic/name.given1/near/154012982" class="zl"><img src="https://fhir.github.io/chat-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Brian Postlethwaite <a href="https://fhir.github.io/chat-archive/stream/179266-fhirpath/topic/name.2Egiven1.html#154012982">(Oct 27 2018 at 22:11)</a>:</h4>
<p>Having the flag sounds like it would achieve your result.<br>
Like grahame said, you need models to test with.</p>


{% endraw %}
<hr><p>Last updated: Apr 12 2022 at 19:14 UTC</p>
